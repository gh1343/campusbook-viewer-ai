var qne=Object.defineProperty;var yV=n=>{throw TypeError(n)};var $ne=(n,e,t)=>e in n?qne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ge=(n,e,t)=>$ne(n,typeof e!="symbol"?e+"":e,t),OU=(n,e,t)=>e.has(n)||yV("Cannot "+t);var f=(n,e,t)=>(OU(n,e,"read from private field"),t?t.call(n):e.get(n)),F=(n,e,t)=>e.has(n)?yV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),_=(n,e,t,i)=>(OU(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),U=(n,e,t)=>(OU(n,e,"access private method"),t);var zn=(n,e,t,i)=>({set _(r){_(n,e,r,t)},get _(){return f(n,e,i)}});function jne(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function CA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kU={exports:{}},c0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wV;function Wne(){if(wV)return c0;wV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return c0.Fragment=e,c0.jsx=t,c0.jsxs=t,c0}var CV;function Yne(){return CV||(CV=1,kU.exports=Wne()),kU.exports}var Q=Yne(),HU={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bV;function Xne(){if(bV)return Ye;bV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function x(q,Y,X){this.props=q,this.context=Y,this.refs=E,this.updater=X||C}x.prototype.isReactComponent={},x.prototype.setState=function(q,Y){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Y,"setState")},x.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function I(){}I.prototype=x.prototype;function T(q,Y,X){this.props=q,this.context=Y,this.refs=E,this.updater=X||C}var R=T.prototype=new I;R.constructor=T,b(R,x.prototype),R.isPureReactComponent=!0;var M=Array.isArray;function D(){}var L={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function O(q,Y,X){var ce=X.ref;return{$$typeof:n,type:q,key:Y,ref:ce!==void 0?ce:null,props:X}}function K(q,Y){return O(q.type,Y,q.props)}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function $(q){var Y={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(X){return Y[X]})}var ne=/\/+/g;function oe(q,Y){return typeof q=="object"&&q!==null&&q.key!=null?$(""+q.key):Y.toString(36)}function pe(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(D,D):(q.status="pending",q.then(function(Y){q.status==="pending"&&(q.status="fulfilled",q.value=Y)},function(Y){q.status==="pending"&&(q.status="rejected",q.reason=Y)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function G(q,Y,X,ce,ye){var Ce=typeof q;(Ce==="undefined"||Ce==="boolean")&&(q=null);var ve=!1;if(q===null)ve=!0;else switch(Ce){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(q.$$typeof){case n:case e:ve=!0;break;case d:return ve=q._init,G(ve(q._payload),Y,X,ce,ye)}}if(ve)return ye=ye(q),ve=ce===""?"."+oe(q,0):ce,M(ye)?(X="",ve!=null&&(X=ve.replace(ne,"$&/")+"/"),G(ye,Y,X,"",function(Pe){return Pe})):ye!=null&&(V(ye)&&(ye=K(ye,X+(ye.key==null||q&&q.key===ye.key?"":(""+ye.key).replace(ne,"$&/")+"/")+ve)),Y.push(ye)),1;ve=0;var je=ce===""?".":ce+":";if(M(q))for(var se=0;se<q.length;se++)ce=q[se],Ce=je+oe(ce,se),ve+=G(ce,Y,X,Ce,ye);else if(se=v(q),typeof se=="function")for(q=se.call(q),se=0;!(ce=q.next()).done;)ce=ce.value,Ce=je+oe(ce,se++),ve+=G(ce,Y,X,Ce,ye);else if(Ce==="object"){if(typeof q.then=="function")return G(pe(q),Y,X,ce,ye);throw Y=String(q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ve}function z(q,Y,X){if(q==null)return q;var ce=[],ye=0;return G(q,ce,"","",function(Ce){return Y.call(X,Ce,ye++)}),ce}function ee(q){if(q._status===-1){var Y=q._result;Y=Y(),Y.then(function(X){(q._status===0||q._status===-1)&&(q._status=1,q._result=X)},function(X){(q._status===0||q._status===-1)&&(q._status=2,q._result=X)}),q._status===-1&&(q._status=0,q._result=Y)}if(q._status===1)return q._result.default;throw q._result}var Z=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},me={map:z,forEach:function(q,Y,X){z(q,function(){Y.apply(this,arguments)},X)},count:function(q){var Y=0;return z(q,function(){Y++}),Y},toArray:function(q){return z(q,function(Y){return Y})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ye.Activity=h,Ye.Children=me,Ye.Component=x,Ye.Fragment=t,Ye.Profiler=r,Ye.PureComponent=T,Ye.StrictMode=i,Ye.Suspense=l,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(q){return L.H.useMemoCache(q)}},Ye.cache=function(q){return function(){return q.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(q,Y,X){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ce=b({},q.props),ye=q.key;if(Y!=null)for(Ce in Y.key!==void 0&&(ye=""+Y.key),Y)!H.call(Y,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Y.ref===void 0||(ce[Ce]=Y[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=X;else if(1<Ce){for(var ve=Array(Ce),je=0;je<Ce;je++)ve[je]=arguments[je+2];ce.children=ve}return O(q.type,ye,ce)},Ye.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Ye.createElement=function(q,Y,X){var ce,ye={},Ce=null;if(Y!=null)for(ce in Y.key!==void 0&&(Ce=""+Y.key),Y)H.call(Y,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ye[ce]=Y[ce]);var ve=arguments.length-2;if(ve===1)ye.children=X;else if(1<ve){for(var je=Array(ve),se=0;se<ve;se++)je[se]=arguments[se+2];ye.children=je}if(q&&q.defaultProps)for(ce in ve=q.defaultProps,ve)ye[ce]===void 0&&(ye[ce]=ve[ce]);return O(q,Ce,ye)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(q){return{$$typeof:o,render:q}},Ye.isValidElement=V,Ye.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:ee}},Ye.memo=function(q,Y){return{$$typeof:u,type:q,compare:Y===void 0?null:Y}},Ye.startTransition=function(q){var Y=L.T,X={};L.T=X;try{var ce=q(),ye=L.S;ye!==null&&ye(X,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(D,Z)}catch(Ce){Z(Ce)}finally{Y!==null&&X.types!==null&&(Y.types=X.types),L.T=Y}},Ye.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ye.use=function(q){return L.H.use(q)},Ye.useActionState=function(q,Y,X){return L.H.useActionState(q,Y,X)},Ye.useCallback=function(q,Y){return L.H.useCallback(q,Y)},Ye.useContext=function(q){return L.H.useContext(q)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(q,Y){return L.H.useDeferredValue(q,Y)},Ye.useEffect=function(q,Y){return L.H.useEffect(q,Y)},Ye.useEffectEvent=function(q){return L.H.useEffectEvent(q)},Ye.useId=function(){return L.H.useId()},Ye.useImperativeHandle=function(q,Y,X){return L.H.useImperativeHandle(q,Y,X)},Ye.useInsertionEffect=function(q,Y){return L.H.useInsertionEffect(q,Y)},Ye.useLayoutEffect=function(q,Y){return L.H.useLayoutEffect(q,Y)},Ye.useMemo=function(q,Y){return L.H.useMemo(q,Y)},Ye.useOptimistic=function(q,Y){return L.H.useOptimistic(q,Y)},Ye.useReducer=function(q,Y,X){return L.H.useReducer(q,Y,X)},Ye.useRef=function(q){return L.H.useRef(q)},Ye.useState=function(q){return L.H.useState(q)},Ye.useSyncExternalStore=function(q,Y,X){return L.H.useSyncExternalStore(q,Y,X)},Ye.useTransition=function(){return L.H.useTransition()},Ye.version="19.2.1",Ye}var BV;function oy(){return BV||(BV=1,HU.exports=Xne()),HU.exports}var P=oy();const U_=CA(P),Jne=jne({__proto__:null,default:U_},[P]);var VU={exports:{}},d0={},KU={exports:{}},GU={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EV;function Zne(){return EV||(EV=1,(function(n){function e(G,z){var ee=G.length;G.push(z);e:for(;0<ee;){var Z=ee-1>>>1,me=G[Z];if(0<r(me,z))G[Z]=z,G[ee]=me,ee=Z;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var z=G[0],ee=G.pop();if(ee!==z){G[0]=ee;e:for(var Z=0,me=G.length,q=me>>>1;Z<q;){var Y=2*(Z+1)-1,X=G[Y],ce=Y+1,ye=G[ce];if(0>r(X,ee))ce<me&&0>r(ye,X)?(G[Z]=ye,G[ce]=ee,Z=ce):(G[Z]=X,G[Y]=ee,Z=Y);else if(ce<me&&0>r(ye,ee))G[Z]=ye,G[ce]=ee,Z=ce;else break e}}return z}function r(G,z){var ee=G.sortIndex-z.sortIndex;return ee!==0?ee:G.id-z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,g=3,v=!1,C=!1,b=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(G){for(var z=t(u);z!==null;){if(z.callback===null)i(u);else if(z.startTime<=G)i(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(u)}}function M(G){if(b=!1,R(G),!C)if(t(l)!==null)C=!0,D||(D=!0,$());else{var z=t(u);z!==null&&pe(M,z.startTime-G)}}var D=!1,L=-1,H=5,O=-1;function K(){return E?!0:!(n.unstable_now()-O<H)}function V(){if(E=!1,D){var G=n.unstable_now();O=G;var z=!0;try{e:{C=!1,b&&(b=!1,I(L),L=-1),v=!0;var ee=g;try{t:{for(R(G),h=t(l);h!==null&&!(h.expirationTime>G&&K());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,g=h.priorityLevel;var me=Z(h.expirationTime<=G);if(G=n.unstable_now(),typeof me=="function"){h.callback=me,R(G),z=!0;break t}h===t(l)&&i(l),R(G)}else i(l);h=t(l)}if(h!==null)z=!0;else{var q=t(u);q!==null&&pe(M,q.startTime-G),z=!1}}break e}finally{h=null,g=ee,v=!1}z=void 0}}finally{z?$():D=!1}}}var $;if(typeof T=="function")$=function(){T(V)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,oe=ne.port2;ne.port1.onmessage=V,$=function(){oe.postMessage(null)}}else $=function(){x(V,0)};function pe(G,z){L=x(function(){G(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(G){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var ee=g;g=z;try{return G()}finally{g=ee}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(G,z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=g;g=G;try{return z()}finally{g=ee}},n.unstable_scheduleCallback=function(G,z,ee){var Z=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Z+ee:Z):ee=Z,G){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ee+me,G={id:d++,callback:z,priorityLevel:G,startTime:ee,expirationTime:me,sortIndex:-1},ee>Z?(G.sortIndex=ee,e(u,G),t(l)===null&&G===t(u)&&(b?(I(L),L=-1):b=!0,pe(M,ee-Z))):(G.sortIndex=me,e(l,G),C||v||(C=!0,D||(D=!0,$()))),G},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(G){var z=g;return function(){var ee=g;g=z;try{return G.apply(this,arguments)}finally{g=ee}}}})(GU)),GU}var SV;function eie(){return SV||(SV=1,KU.exports=Zne()),KU.exports}var zU={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xV;function tie(){if(xV)return ur;xV=1;var n=oy();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ur.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},ur.flushSync=function(l){var u=a.T,d=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=u,i.p=d,i.d.f()}},ur.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},ur.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},ur.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):d==="script"&&i.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ur.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},ur.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);i.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ur.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},ur.requestFormReset=function(l){i.d.r(l)},ur.unstable_batchedUpdates=function(l,u){return l(u)},ur.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},ur.useFormStatus=function(){return a.H.useHostTransitionStatus()},ur.version="19.2.1",ur}var _V;function I$(){if(_V)return zU.exports;_V=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zU.exports=tie(),zU.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TV;function nie(){if(TV)return d0;TV=1;var n=eie(),e=oy(),t=I$();function i(A){var c="https://react.dev/errors/"+A;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+A+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var c=A,p=A;if(A.alternate)for(;c.return;)c=c.return;else{A=c;do c=A,(c.flags&4098)!==0&&(p=c.return),A=c.return;while(A)}return c.tag===3?p:null}function a(A){if(A.tag===13){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function o(A){if(A.tag===31){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function l(A){if(s(A)!==A)throw Error(i(188))}function u(A){var c=A.alternate;if(!c){if(c=s(A),c===null)throw Error(i(188));return c!==A?null:A}for(var p=A,m=c;;){var B=p.return;if(B===null)break;var S=B.alternate;if(S===null){if(m=B.return,m!==null){p=m;continue}break}if(B.child===S.child){for(S=B.child;S;){if(S===p)return l(B),A;if(S===m)return l(B),c;S=S.sibling}throw Error(i(188))}if(p.return!==m.return)p=B,m=S;else{for(var N=!1,k=B.child;k;){if(k===p){N=!0,p=B,m=S;break}if(k===m){N=!0,m=B,p=S;break}k=k.sibling}if(!N){for(k=S.child;k;){if(k===p){N=!0,p=S,m=B;break}if(k===m){N=!0,m=S,p=B;break}k=k.sibling}if(!N)throw Error(i(189))}}if(p.alternate!==m)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?A:c}function d(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A;for(A=A.child;A!==null;){if(c=d(A),c!==null)return c;A=A.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function $(A){return A===null||typeof A!="object"?null:(A=V&&A[V]||A["@@iterator"],typeof A=="function"?A:null)}var ne=Symbol.for("react.client.reference");function oe(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===ne?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case b:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case O:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case C:return"Portal";case T:return A.displayName||"Context";case I:return(A._context.displayName||"Context")+".Consumer";case R:var c=A.render;return A=A.displayName,A||(A=c.displayName||c.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case L:return c=A.displayName||null,c!==null?c:oe(A.type)||"Memo";case H:c=A._payload,A=A._init;try{return oe(A(c))}catch{}}return null}var pe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Z=[],me=-1;function q(A){return{current:A}}function Y(A){0>me||(A.current=Z[me],Z[me]=null,me--)}function X(A,c){me++,Z[me]=A.current,A.current=c}var ce=q(null),ye=q(null),Ce=q(null),ve=q(null);function je(A,c){switch(X(Ce,c),X(ye,A),X(ce,null),c.nodeType){case 9:case 11:A=(A=c.documentElement)&&(A=A.namespaceURI)?V4(A):0;break;default:if(A=c.tagName,c=c.namespaceURI)c=V4(c),A=K4(c,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}Y(ce),X(ce,A)}function se(){Y(ce),Y(ye),Y(Ce)}function Pe(A){A.memoizedState!==null&&X(ve,A);var c=ce.current,p=K4(c,A.type);c!==p&&(X(ye,A),X(ce,p))}function Ve(A){ye.current===A&&(Y(ce),Y(ye)),ve.current===A&&(Y(ve),o0._currentValue=ee)}var we,Zt;function We(A){if(we===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);we=c&&c[1]||"",Zt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+A+Zt}var wn=!1;function _n(A,c){if(!A||wn)return"";wn=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(Ae){var ae=Ae}Reflect.construct(A,[],he)}else{try{he.call()}catch(Ae){ae=Ae}A.call(he.prototype)}}else{try{throw Error()}catch(Ae){ae=Ae}(he=A())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(Ae){if(Ae&&ae&&typeof Ae.stack=="string")return[Ae.stack,ae.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),N=S[0],k=S[1];if(N&&k){var j=N.split(`
`),re=k.split(`
`);for(B=m=0;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;for(;B<re.length&&!re[B].includes("DetermineComponentFrameRoot");)B++;if(m===j.length||B===re.length)for(m=j.length-1,B=re.length-1;1<=m&&0<=B&&j[m]!==re[B];)B--;for(;1<=m&&0<=B;m--,B--)if(j[m]!==re[B]){if(m!==1||B!==1)do if(m--,B--,0>B||j[m]!==re[B]){var de=`
`+j[m].replace(" at new "," at ");return A.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",A.displayName)),de}while(1<=m&&0<=B);break}}}finally{wn=!1,Error.prepareStackTrace=p}return(p=A?A.displayName||A.name:"")?We(p):""}function ar(A,c){switch(A.tag){case 26:case 27:case 5:return We(A.type);case 16:return We("Lazy");case 13:return A.child!==c&&c!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return _n(A.type,!1);case 11:return _n(A.type.render,!1);case 1:return _n(A.type,!0);case 31:return We("Activity");default:return""}}function fs(A){try{var c="",p=null;do c+=ar(A,p),p=A,A=A.return;while(A);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ea=Object.prototype.hasOwnProperty,_o=n.unstable_scheduleCallback,To=n.unstable_cancelCallback,Od=n.unstable_shouldYield,Be=n.unstable_requestPaint,te=n.unstable_now,be=n.unstable_getCurrentPriorityLevel,Ue=n.unstable_ImmediatePriority,vt=n.unstable_UserBlockingPriority,Oe=n.unstable_NormalPriority,fn=n.unstable_LowPriority,Rt=n.unstable_IdlePriority,or=n.log,ta=n.unstable_setDisableYieldValue,Io=null,Er=null;function Fo(A){if(typeof or=="function"&&ta(A),Er&&typeof Er.setStrictMode=="function")try{Er.setStrictMode(Io,A)}catch{}}var Sr=Math.clz32?Math.clz32:_I,SI=Math.log,xI=Math.LN2;function _I(A){return A>>>=0,A===0?32:31-(SI(A)/xI|0)|0}var kd=256,mp=262144,vp=4194304;function EA(A){var c=A&42;if(c!==0)return c;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function yp(A,c,p){var m=A.pendingLanes;if(m===0)return 0;var B=0,S=A.suspendedLanes,N=A.pingedLanes;A=A.warmLanes;var k=m&134217727;return k!==0?(m=k&~S,m!==0?B=EA(m):(N&=k,N!==0?B=EA(N):p||(p=k&~A,p!==0&&(B=EA(p))))):(k=m&~S,k!==0?B=EA(k):N!==0?B=EA(N):p||(p=m&~A,p!==0&&(B=EA(p)))),B===0?0:c!==0&&c!==B&&(c&S)===0&&(S=B&-B,p=c&-c,S>=p||S===32&&(p&4194048)!==0)?c:B}function SA(A,c){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&c)===0}function TI(A,c){switch(A){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aE(){var A=vp;return vp<<=1,(vp&62914560)===0&&(vp=4194304),A}function Cy(A){for(var c=[],p=0;31>p;p++)c.push(A);return c}function Hd(A,c){A.pendingLanes|=c,c!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function II(A,c,p,m,B,S){var N=A.pendingLanes;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=p,A.entangledLanes&=p,A.errorRecoveryDisabledLanes&=p,A.shellSuspendCounter=0;var k=A.entanglements,j=A.expirationTimes,re=A.hiddenUpdates;for(p=N&~p;0<p;){var de=31-Sr(p),he=1<<de;k[de]=0,j[de]=-1;var ae=re[de];if(ae!==null)for(re[de]=null,de=0;de<ae.length;de++){var Ae=ae[de];Ae!==null&&(Ae.lane&=-536870913)}p&=~he}m!==0&&oE(A,m,0),S!==0&&B===0&&A.tag!==0&&(A.suspendedLanes|=S&~(N&~c))}function oE(A,c,p){A.pendingLanes|=c,A.suspendedLanes&=~c;var m=31-Sr(c);A.entangledLanes|=c,A.entanglements[m]=A.entanglements[m]|1073741824|p&261930}function Ee(A,c){var p=A.entangledLanes|=c;for(A=A.entanglements;p;){var m=31-Sr(p),B=1<<m;B&c|A[m]&c&&(A[m]|=c),p&=~B}}function At(A,c){var p=c&-c;return p=(p&42)!==0?1:ct(p),(p&(A.suspendedLanes|c))!==0?0:p}function ct(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function Ke(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function Dt(){var A=z.p;return A!==0?A:(A=window.event,A===void 0?32:dV(A.type))}function Ar(A,c){var p=z.p;try{return z.p=A,c()}finally{z.p=p}}var Vr=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Vr,lr="__reactProps$"+Vr,wp="__reactContainer$"+Vr,FI="__reactEvents$"+Vr,Dee="__reactListeners$"+Vr,Nee="__reactHandles$"+Vr,Ik="__reactResources$"+Vr,by="__reactMarker$"+Vr;function UI(A){delete A[Mn],delete A[lr],delete A[FI],delete A[Dee],delete A[Nee]}function Cp(A){var c=A[Mn];if(c)return c;for(var p=A.parentNode;p;){if(c=p[wp]||p[Mn]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(A=Y4(A);A!==null;){if(p=A[Mn])return p;A=Y4(A)}return c}A=p,p=A.parentNode}return null}function bp(A){if(A=A[Mn]||A[wp]){var c=A.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return A}return null}function By(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A.stateNode;throw Error(i(33))}function Bp(A){var c=A[Ik];return c||(c=A[Ik]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Bi(A){A[by]=!0}var Fk=new Set,Uk={};function Vd(A,c){Ep(A,c),Ep(A+"Capture",c)}function Ep(A,c){for(Uk[A]=c,A=0;A<c.length;A++)Fk.add(c[A])}var Lee=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mk={},Pk={};function Qee(A){return ea.call(Pk,A)?!0:ea.call(Mk,A)?!1:Lee.test(A)?Pk[A]=!0:(Mk[A]=!0,!1)}function AE(A,c,p){if(Qee(c))if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":A.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){A.removeAttribute(c);return}}A.setAttribute(c,""+p)}}function lE(A,c,p){if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(c);return}A.setAttribute(c,""+p)}}function xA(A,c,p,m){if(m===null)A.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(p);return}A.setAttributeNS(c,p,""+m)}}function na(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function Rk(A){var c=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Oee(A,c,p){var m=Object.getOwnPropertyDescriptor(A.constructor.prototype,c);if(!A.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var B=m.get,S=m.set;return Object.defineProperty(A,c,{configurable:!0,get:function(){return B.call(this)},set:function(N){p=""+N,S.call(this,N)}}),Object.defineProperty(A,c,{enumerable:m.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){A._valueTracker=null,delete A[c]}}}}function MI(A){if(!A._valueTracker){var c=Rk(A)?"checked":"value";A._valueTracker=Oee(A,c,""+A[c])}}function Dk(A){if(!A)return!1;var c=A._valueTracker;if(!c)return!0;var p=c.getValue(),m="";return A&&(m=Rk(A)?A.checked?"true":"false":A.value),A=m,A!==p?(c.setValue(A),!0):!1}function uE(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var kee=/[\n"\\]/g;function ia(A){return A.replace(kee,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function PI(A,c,p,m,B,S,N,k){A.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?A.type=N:A.removeAttribute("type"),c!=null?N==="number"?(c===0&&A.value===""||A.value!=c)&&(A.value=""+na(c)):A.value!==""+na(c)&&(A.value=""+na(c)):N!=="submit"&&N!=="reset"||A.removeAttribute("value"),c!=null?RI(A,N,na(c)):p!=null?RI(A,N,na(p)):m!=null&&A.removeAttribute("value"),B==null&&S!=null&&(A.defaultChecked=!!S),B!=null&&(A.checked=B&&typeof B!="function"&&typeof B!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?A.name=""+na(k):A.removeAttribute("name")}function Nk(A,c,p,m,B,S,N,k){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(A.type=S),c!=null||p!=null){if(!(S!=="submit"&&S!=="reset"||c!=null)){MI(A);return}p=p!=null?""+na(p):"",c=c!=null?""+na(c):p,k||c===A.value||(A.value=c),A.defaultValue=c}m=m??B,m=typeof m!="function"&&typeof m!="symbol"&&!!m,A.checked=k?A.checked:!!m,A.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(A.name=N),MI(A)}function RI(A,c,p){c==="number"&&uE(A.ownerDocument)===A||A.defaultValue===""+p||(A.defaultValue=""+p)}function Sp(A,c,p,m){if(A=A.options,c){c={};for(var B=0;B<p.length;B++)c["$"+p[B]]=!0;for(p=0;p<A.length;p++)B=c.hasOwnProperty("$"+A[p].value),A[p].selected!==B&&(A[p].selected=B),B&&m&&(A[p].defaultSelected=!0)}else{for(p=""+na(p),c=null,B=0;B<A.length;B++){if(A[B].value===p){A[B].selected=!0,m&&(A[B].defaultSelected=!0);return}c!==null||A[B].disabled||(c=A[B])}c!==null&&(c.selected=!0)}}function Lk(A,c,p){if(c!=null&&(c=""+na(c),c!==A.value&&(A.value=c),p==null)){A.defaultValue!==c&&(A.defaultValue=c);return}A.defaultValue=p!=null?""+na(p):""}function Qk(A,c,p,m){if(c==null){if(m!=null){if(p!=null)throw Error(i(92));if(pe(m)){if(1<m.length)throw Error(i(93));m=m[0]}p=m}p==null&&(p=""),c=p}p=na(c),A.defaultValue=p,m=A.textContent,m===p&&m!==""&&m!==null&&(A.value=m),MI(A)}function xp(A,c){if(c){var p=A.firstChild;if(p&&p===A.lastChild&&p.nodeType===3){p.nodeValue=c;return}}A.textContent=c}var Hee=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ok(A,c,p){var m=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?m?A.setProperty(c,""):c==="float"?A.cssFloat="":A[c]="":m?A.setProperty(c,p):typeof p!="number"||p===0||Hee.has(c)?c==="float"?A.cssFloat=p:A[c]=(""+p).trim():A[c]=p+"px"}function kk(A,c,p){if(c!=null&&typeof c!="object")throw Error(i(62));if(A=A.style,p!=null){for(var m in p)!p.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?A.setProperty(m,""):m==="float"?A.cssFloat="":A[m]="");for(var B in c)m=c[B],c.hasOwnProperty(B)&&p[B]!==m&&Ok(A,B,m)}else for(var S in c)c.hasOwnProperty(S)&&Ok(A,S,c[S])}function DI(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vee=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kee=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cE(A){return Kee.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function _A(){}var NI=null;function LI(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var _p=null,Tp=null;function Hk(A){var c=bp(A);if(c&&(A=c.stateNode)){var p=A[lr]||null;e:switch(A=c.stateNode,c.type){case"input":if(PI(A,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=A;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ia(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var m=p[c];if(m!==A&&m.form===A.form){var B=m[lr]||null;if(!B)throw Error(i(90));PI(m,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(c=0;c<p.length;c++)m=p[c],m.form===A.form&&Dk(m)}break e;case"textarea":Lk(A,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Sp(A,!!p.multiple,c,!1)}}}var QI=!1;function Vk(A,c,p){if(QI)return A(c,p);QI=!0;try{var m=A(c);return m}finally{if(QI=!1,(_p!==null||Tp!==null)&&(JE(),_p&&(c=_p,A=Tp,Tp=_p=null,Hk(c),A)))for(c=0;c<A.length;c++)Hk(A[c])}}function Ey(A,c){var p=A.stateNode;if(p===null)return null;var m=p[lr]||null;if(m===null)return null;p=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(A=A.type,m=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!m;break e;default:A=!1}if(A)return null;if(p&&typeof p!="function")throw Error(i(231,c,typeof p));return p}var TA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),OI=!1;if(TA)try{var Sy={};Object.defineProperty(Sy,"passive",{get:function(){OI=!0}}),window.addEventListener("test",Sy,Sy),window.removeEventListener("test",Sy,Sy)}catch{OI=!1}var Tu=null,kI=null,dE=null;function Kk(){if(dE)return dE;var A,c=kI,p=c.length,m,B="value"in Tu?Tu.value:Tu.textContent,S=B.length;for(A=0;A<p&&c[A]===B[A];A++);var N=p-A;for(m=1;m<=N&&c[p-m]===B[S-m];m++);return dE=B.slice(A,1<m?1-m:void 0)}function fE(A){var c=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&c===13&&(A=13)):A=c,A===10&&(A=13),32<=A||A===13?A:0}function hE(){return!0}function Gk(){return!1}function Kr(A){function c(p,m,B,S,N){this._reactName=p,this._targetInst=B,this.type=m,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var k in A)A.hasOwnProperty(k)&&(p=A[k],this[k]=p?p(S):S[k]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?hE:Gk,this.isPropagationStopped=Gk,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=hE)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=hE)},persist:function(){},isPersistent:hE}),c}var Kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pE=Kr(Kd),xy=h({},Kd,{view:0,detail:0}),Gee=Kr(xy),HI,VI,_y,gE=h({},xy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:GI,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==_y&&(_y&&A.type==="mousemove"?(HI=A.screenX-_y.screenX,VI=A.screenY-_y.screenY):VI=HI=0,_y=A),HI)},movementY:function(A){return"movementY"in A?A.movementY:VI}}),zk=Kr(gE),zee=h({},gE,{dataTransfer:0}),qee=Kr(zee),$ee=h({},xy,{relatedTarget:0}),KI=Kr($ee),jee=h({},Kd,{animationName:0,elapsedTime:0,pseudoElement:0}),Wee=Kr(jee),Yee=h({},Kd,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),Xee=Kr(Yee),Jee=h({},Kd,{data:0}),qk=Kr(Jee),Zee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ete={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nte(A){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(A):(A=tte[A])?!!c[A]:!1}function GI(){return nte}var ite=h({},xy,{key:function(A){if(A.key){var c=Zee[A.key]||A.key;if(c!=="Unidentified")return c}return A.type==="keypress"?(A=fE(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?ete[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:GI,charCode:function(A){return A.type==="keypress"?fE(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?fE(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),rte=Kr(ite),ste=h({},gE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$k=Kr(ste),ate=h({},xy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:GI}),ote=Kr(ate),Ate=h({},Kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),lte=Kr(Ate),ute=h({},gE,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),cte=Kr(ute),dte=h({},Kd,{newState:0,oldState:0}),fte=Kr(dte),hte=[9,13,27,32],zI=TA&&"CompositionEvent"in window,Ty=null;TA&&"documentMode"in document&&(Ty=document.documentMode);var pte=TA&&"TextEvent"in window&&!Ty,jk=TA&&(!zI||Ty&&8<Ty&&11>=Ty),Wk=" ",Yk=!1;function Xk(A,c){switch(A){case"keyup":return hte.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jk(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Ip=!1;function gte(A,c){switch(A){case"compositionend":return Jk(c);case"keypress":return c.which!==32?null:(Yk=!0,Wk);case"textInput":return A=c.data,A===Wk&&Yk?null:A;default:return null}}function mte(A,c){if(Ip)return A==="compositionend"||!zI&&Xk(A,c)?(A=Kk(),dE=kI=Tu=null,Ip=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return jk&&c.locale!=="ko"?null:c.data;default:return null}}var vte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zk(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c==="input"?!!vte[A.type]:c==="textarea"}function e2(A,c,p,m){_p?Tp?Tp.push(m):Tp=[m]:_p=m,c=sS(c,"onChange"),0<c.length&&(p=new pE("onChange","change",null,p,m),A.push({event:p,listeners:c}))}var Iy=null,Fy=null;function yte(A){N4(A,0)}function mE(A){var c=By(A);if(Dk(c))return A}function t2(A,c){if(A==="change")return c}var n2=!1;if(TA){var qI;if(TA){var $I="oninput"in document;if(!$I){var i2=document.createElement("div");i2.setAttribute("oninput","return;"),$I=typeof i2.oninput=="function"}qI=$I}else qI=!1;n2=qI&&(!document.documentMode||9<document.documentMode)}function r2(){Iy&&(Iy.detachEvent("onpropertychange",s2),Fy=Iy=null)}function s2(A){if(A.propertyName==="value"&&mE(Fy)){var c=[];e2(c,Fy,A,LI(A)),Vk(yte,c)}}function wte(A,c,p){A==="focusin"?(r2(),Iy=c,Fy=p,Iy.attachEvent("onpropertychange",s2)):A==="focusout"&&r2()}function Cte(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return mE(Fy)}function bte(A,c){if(A==="click")return mE(c)}function Bte(A,c){if(A==="input"||A==="change")return mE(c)}function Ete(A,c){return A===c&&(A!==0||1/A===1/c)||A!==A&&c!==c}var hs=typeof Object.is=="function"?Object.is:Ete;function Uy(A,c){if(hs(A,c))return!0;if(typeof A!="object"||A===null||typeof c!="object"||c===null)return!1;var p=Object.keys(A),m=Object.keys(c);if(p.length!==m.length)return!1;for(m=0;m<p.length;m++){var B=p[m];if(!ea.call(c,B)||!hs(A[B],c[B]))return!1}return!0}function a2(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function o2(A,c){var p=a2(A);A=0;for(var m;p;){if(p.nodeType===3){if(m=A+p.textContent.length,A<=c&&m>=c)return{node:p,offset:c-A};A=m}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=a2(p)}}function A2(A,c){return A&&c?A===c?!0:A&&A.nodeType===3?!1:c&&c.nodeType===3?A2(A,c.parentNode):"contains"in A?A.contains(c):A.compareDocumentPosition?!!(A.compareDocumentPosition(c)&16):!1:!1}function l2(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var c=uE(A.document);c instanceof A.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)A=c.contentWindow;else break;c=uE(A.document)}return c}function jI(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c&&(c==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||c==="textarea"||A.contentEditable==="true")}var Ste=TA&&"documentMode"in document&&11>=document.documentMode,Fp=null,WI=null,My=null,YI=!1;function u2(A,c,p){var m=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;YI||Fp==null||Fp!==uE(m)||(m=Fp,"selectionStart"in m&&jI(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),My&&Uy(My,m)||(My=m,m=sS(WI,"onSelect"),0<m.length&&(c=new pE("onSelect","select",null,c,p),A.push({event:c,listeners:m}),c.target=Fp)))}function Gd(A,c){var p={};return p[A.toLowerCase()]=c.toLowerCase(),p["Webkit"+A]="webkit"+c,p["Moz"+A]="moz"+c,p}var Up={animationend:Gd("Animation","AnimationEnd"),animationiteration:Gd("Animation","AnimationIteration"),animationstart:Gd("Animation","AnimationStart"),transitionrun:Gd("Transition","TransitionRun"),transitionstart:Gd("Transition","TransitionStart"),transitioncancel:Gd("Transition","TransitionCancel"),transitionend:Gd("Transition","TransitionEnd")},XI={},c2={};TA&&(c2=document.createElement("div").style,"AnimationEvent"in window||(delete Up.animationend.animation,delete Up.animationiteration.animation,delete Up.animationstart.animation),"TransitionEvent"in window||delete Up.transitionend.transition);function zd(A){if(XI[A])return XI[A];if(!Up[A])return A;var c=Up[A],p;for(p in c)if(c.hasOwnProperty(p)&&p in c2)return XI[A]=c[p];return A}var d2=zd("animationend"),f2=zd("animationiteration"),h2=zd("animationstart"),xte=zd("transitionrun"),_te=zd("transitionstart"),Tte=zd("transitioncancel"),p2=zd("transitionend"),g2=new Map,JI="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");JI.push("scrollEnd");function ja(A,c){g2.set(A,c),Vd(c,[A])}var vE=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ra=[],Mp=0,ZI=0;function yE(){for(var A=Mp,c=ZI=Mp=0;c<A;){var p=ra[c];ra[c++]=null;var m=ra[c];ra[c++]=null;var B=ra[c];ra[c++]=null;var S=ra[c];if(ra[c++]=null,m!==null&&B!==null){var N=m.pending;N===null?B.next=B:(B.next=N.next,N.next=B),m.pending=B}S!==0&&m2(p,B,S)}}function wE(A,c,p,m){ra[Mp++]=A,ra[Mp++]=c,ra[Mp++]=p,ra[Mp++]=m,ZI|=m,A.lanes|=m,A=A.alternate,A!==null&&(A.lanes|=m)}function eF(A,c,p,m){return wE(A,c,p,m),CE(A)}function qd(A,c){return wE(A,null,null,c),CE(A)}function m2(A,c,p){A.lanes|=p;var m=A.alternate;m!==null&&(m.lanes|=p);for(var B=!1,S=A.return;S!==null;)S.childLanes|=p,m=S.alternate,m!==null&&(m.childLanes|=p),S.tag===22&&(A=S.stateNode,A===null||A._visibility&1||(B=!0)),A=S,S=S.return;return A.tag===3?(S=A.stateNode,B&&c!==null&&(B=31-Sr(p),A=S.hiddenUpdates,m=A[B],m===null?A[B]=[c]:m.push(c),c.lane=p|536870912),S):null}function CE(A){if(50<e0)throw e0=0,lU=null,Error(i(185));for(var c=A.return;c!==null;)A=c,c=A.return;return A.tag===3?A.stateNode:null}var Pp={};function Ite(A,c,p,m){this.tag=A,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(A,c,p,m){return new Ite(A,c,p,m)}function tF(A){return A=A.prototype,!(!A||!A.isReactComponent)}function IA(A,c){var p=A.alternate;return p===null?(p=ps(A.tag,c,A.key,A.mode),p.elementType=A.elementType,p.type=A.type,p.stateNode=A.stateNode,p.alternate=A,A.alternate=p):(p.pendingProps=c,p.type=A.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=A.flags&65011712,p.childLanes=A.childLanes,p.lanes=A.lanes,p.child=A.child,p.memoizedProps=A.memoizedProps,p.memoizedState=A.memoizedState,p.updateQueue=A.updateQueue,c=A.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=A.sibling,p.index=A.index,p.ref=A.ref,p.refCleanup=A.refCleanup,p}function v2(A,c){A.flags&=65011714;var p=A.alternate;return p===null?(A.childLanes=0,A.lanes=c,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,A.type=p.type,c=p.dependencies,A.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),A}function bE(A,c,p,m,B,S){var N=0;if(m=A,typeof A=="function")tF(A)&&(N=1);else if(typeof A=="string")N=Rne(A,p,ce.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case O:return A=ps(31,p,c,B),A.elementType=O,A.lanes=S,A;case b:return $d(p.children,B,S,c);case E:N=8,B|=24;break;case x:return A=ps(12,p,c,B|2),A.elementType=x,A.lanes=S,A;case M:return A=ps(13,p,c,B),A.elementType=M,A.lanes=S,A;case D:return A=ps(19,p,c,B),A.elementType=D,A.lanes=S,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case T:N=10;break e;case I:N=9;break e;case R:N=11;break e;case L:N=14;break e;case H:N=16,m=null;break e}N=29,p=Error(i(130,A===null?"null":typeof A,"")),m=null}return c=ps(N,p,c,B),c.elementType=A,c.type=m,c.lanes=S,c}function $d(A,c,p,m){return A=ps(7,A,m,c),A.lanes=p,A}function nF(A,c,p){return A=ps(6,A,null,c),A.lanes=p,A}function y2(A){var c=ps(18,null,null,0);return c.stateNode=A,c}function iF(A,c,p){return c=ps(4,A.children!==null?A.children:[],A.key,c),c.lanes=p,c.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},c}var w2=new WeakMap;function sa(A,c){if(typeof A=="object"&&A!==null){var p=w2.get(A);return p!==void 0?p:(c={value:A,source:c,stack:fs(c)},w2.set(A,c),c)}return{value:A,source:c,stack:fs(c)}}var Rp=[],Dp=0,BE=null,Py=0,aa=[],oa=0,Iu=null,Uo=1,Mo="";function FA(A,c){Rp[Dp++]=Py,Rp[Dp++]=BE,BE=A,Py=c}function C2(A,c,p){aa[oa++]=Uo,aa[oa++]=Mo,aa[oa++]=Iu,Iu=A;var m=Uo;A=Mo;var B=32-Sr(m)-1;m&=~(1<<B),p+=1;var S=32-Sr(c)+B;if(30<S){var N=B-B%5;S=(m&(1<<N)-1).toString(32),m>>=N,B-=N,Uo=1<<32-Sr(c)+B|p<<B|m,Mo=S+A}else Uo=1<<S|p<<B|m,Mo=A}function rF(A){A.return!==null&&(FA(A,1),C2(A,1,0))}function sF(A){for(;A===BE;)BE=Rp[--Dp],Rp[Dp]=null,Py=Rp[--Dp],Rp[Dp]=null;for(;A===Iu;)Iu=aa[--oa],aa[oa]=null,Mo=aa[--oa],aa[oa]=null,Uo=aa[--oa],aa[oa]=null}function b2(A,c){aa[oa++]=Uo,aa[oa++]=Mo,aa[oa++]=Iu,Uo=c.id,Mo=c.overflow,Iu=A}var ki=null,hn=null,yt=!1,Fu=null,Aa=!1,aF=Error(i(519));function Uu(A){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ry(sa(c,A)),aF}function B2(A){var c=A.stateNode,p=A.type,m=A.memoizedProps;switch(c[Mn]=A,c[lr]=m,p){case"dialog":ft("cancel",c),ft("close",c);break;case"iframe":case"object":case"embed":ft("load",c);break;case"video":case"audio":for(p=0;p<n0.length;p++)ft(n0[p],c);break;case"source":ft("error",c);break;case"img":case"image":case"link":ft("error",c),ft("load",c);break;case"details":ft("toggle",c);break;case"input":ft("invalid",c),Nk(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ft("invalid",c);break;case"textarea":ft("invalid",c),Qk(c,m.value,m.defaultValue,m.children)}p=m.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||m.suppressHydrationWarning===!0||k4(c.textContent,p)?(m.popover!=null&&(ft("beforetoggle",c),ft("toggle",c)),m.onScroll!=null&&ft("scroll",c),m.onScrollEnd!=null&&ft("scrollend",c),m.onClick!=null&&(c.onclick=_A),c=!0):c=!1,c||Uu(A,!0)}function E2(A){for(ki=A.return;ki;)switch(ki.tag){case 5:case 31:case 13:Aa=!1;return;case 27:case 3:Aa=!0;return;default:ki=ki.return}}function Np(A){if(A!==ki)return!1;if(!yt)return E2(A),yt=!0,!1;var c=A.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=A.type,p=!(p!=="form"&&p!=="button")||EU(A.type,A.memoizedProps)),p=!p),p&&hn&&Uu(A),E2(A),c===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));hn=W4(A)}else if(c===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));hn=W4(A)}else c===27?(c=hn,zu(A.type)?(A=IU,IU=null,hn=A):hn=c):hn=ki?ua(A.stateNode.nextSibling):null;return!0}function jd(){hn=ki=null,yt=!1}function oF(){var A=Fu;return A!==null&&($r===null?$r=A:$r.push.apply($r,A),Fu=null),A}function Ry(A){Fu===null?Fu=[A]:Fu.push(A)}var AF=q(null),Wd=null,UA=null;function Mu(A,c,p){X(AF,c._currentValue),c._currentValue=p}function MA(A){A._currentValue=AF.current,Y(AF)}function lF(A,c,p){for(;A!==null;){var m=A.alternate;if((A.childLanes&c)!==c?(A.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),A===p)break;A=A.return}}function uF(A,c,p,m){var B=A.child;for(B!==null&&(B.return=A);B!==null;){var S=B.dependencies;if(S!==null){var N=B.child;S=S.firstContext;e:for(;S!==null;){var k=S;S=B;for(var j=0;j<c.length;j++)if(k.context===c[j]){S.lanes|=p,k=S.alternate,k!==null&&(k.lanes|=p),lF(S.return,p,A),m||(N=null);break e}S=k.next}}else if(B.tag===18){if(N=B.return,N===null)throw Error(i(341));N.lanes|=p,S=N.alternate,S!==null&&(S.lanes|=p),lF(N,p,A),N=null}else N=B.child;if(N!==null)N.return=B;else for(N=B;N!==null;){if(N===A){N=null;break}if(B=N.sibling,B!==null){B.return=N.return,N=B;break}N=N.return}B=N}}function Lp(A,c,p,m){A=null;for(var B=c,S=!1;B!==null;){if(!S){if((B.flags&524288)!==0)S=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var N=B.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var k=B.type;hs(B.pendingProps.value,N.value)||(A!==null?A.push(k):A=[k])}}else if(B===ve.current){if(N=B.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(A!==null?A.push(o0):A=[o0])}B=B.return}A!==null&&uF(c,A,p,m),c.flags|=262144}function EE(A){for(A=A.firstContext;A!==null;){if(!hs(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function Yd(A){Wd=A,UA=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function Hi(A){return S2(Wd,A)}function SE(A,c){return Wd===null&&Yd(A),S2(A,c)}function S2(A,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},UA===null){if(A===null)throw Error(i(308));UA=c,A.dependencies={lanes:0,firstContext:c},A.flags|=524288}else UA=UA.next=c;return p}var Fte=typeof AbortController<"u"?AbortController:function(){var A=[],c=this.signal={aborted:!1,addEventListener:function(p,m){A.push(m)}};this.abort=function(){c.aborted=!0,A.forEach(function(p){return p()})}},Ute=n.unstable_scheduleCallback,Mte=n.unstable_NormalPriority,Zn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cF(){return{controller:new Fte,data:new Map,refCount:0}}function Dy(A){A.refCount--,A.refCount===0&&Ute(Mte,function(){A.controller.abort()})}var Ny=null,dF=0,Qp=0,Op=null;function Pte(A,c){if(Ny===null){var p=Ny=[];dF=0,Qp=pU(),Op={status:"pending",value:void 0,then:function(m){p.push(m)}}}return dF++,c.then(x2,x2),c}function x2(){if(--dF===0&&Ny!==null){Op!==null&&(Op.status="fulfilled");var A=Ny;Ny=null,Qp=0,Op=null;for(var c=0;c<A.length;c++)(0,A[c])()}}function Rte(A,c){var p=[],m={status:"pending",value:null,reason:null,then:function(B){p.push(B)}};return A.then(function(){m.status="fulfilled",m.value=c;for(var B=0;B<p.length;B++)(0,p[B])(c)},function(B){for(m.status="rejected",m.reason=B,B=0;B<p.length;B++)(0,p[B])(void 0)}),m}var _2=G.S;G.S=function(A,c){u4=te(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Pte(A,c),_2!==null&&_2(A,c)};var Xd=q(null);function fF(){var A=Xd.current;return A!==null?A:en.pooledCache}function xE(A,c){c===null?X(Xd,Xd.current):X(Xd,c.pool)}function T2(){var A=fF();return A===null?null:{parent:Zn._currentValue,pool:A}}var kp=Error(i(460)),hF=Error(i(474)),_E=Error(i(542)),TE={then:function(){}};function I2(A){return A=A.status,A==="fulfilled"||A==="rejected"}function F2(A,c,p){switch(p=A[p],p===void 0?A.push(c):p!==c&&(c.then(_A,_A),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,M2(A),A;default:if(typeof c.status=="string")c.then(_A,_A);else{if(A=en,A!==null&&100<A.shellSuspendCounter)throw Error(i(482));A=c,A.status="pending",A.then(function(m){if(c.status==="pending"){var B=c;B.status="fulfilled",B.value=m}},function(m){if(c.status==="pending"){var B=c;B.status="rejected",B.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,M2(A),A}throw Zd=c,kp}}function Jd(A){try{var c=A._init;return c(A._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Zd=p,kp):p}}var Zd=null;function U2(){if(Zd===null)throw Error(i(459));var A=Zd;return Zd=null,A}function M2(A){if(A===kp||A===_E)throw Error(i(483))}var Hp=null,Ly=0;function IE(A){var c=Ly;return Ly+=1,Hp===null&&(Hp=[]),F2(Hp,A,c)}function Qy(A,c){c=c.props.ref,A.ref=c!==void 0?c:null}function FE(A,c){throw c.$$typeof===g?Error(i(525)):(A=Object.prototype.toString.call(c),Error(i(31,A==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":A)))}function P2(A){function c(J,W){if(A){var ie=J.deletions;ie===null?(J.deletions=[W],J.flags|=16):ie.push(W)}}function p(J,W){if(!A)return null;for(;W!==null;)c(J,W),W=W.sibling;return null}function m(J){for(var W=new Map;J!==null;)J.key!==null?W.set(J.key,J):W.set(J.index,J),J=J.sibling;return W}function B(J,W){return J=IA(J,W),J.index=0,J.sibling=null,J}function S(J,W,ie){return J.index=ie,A?(ie=J.alternate,ie!==null?(ie=ie.index,ie<W?(J.flags|=67108866,W):ie):(J.flags|=67108866,W)):(J.flags|=1048576,W)}function N(J){return A&&J.alternate===null&&(J.flags|=67108866),J}function k(J,W,ie,fe){return W===null||W.tag!==6?(W=nF(ie,J.mode,fe),W.return=J,W):(W=B(W,ie),W.return=J,W)}function j(J,W,ie,fe){var He=ie.type;return He===b?de(J,W,ie.props.children,fe,ie.key):W!==null&&(W.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===H&&Jd(He)===W.type)?(W=B(W,ie.props),Qy(W,ie),W.return=J,W):(W=bE(ie.type,ie.key,ie.props,null,J.mode,fe),Qy(W,ie),W.return=J,W)}function re(J,W,ie,fe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ie.containerInfo||W.stateNode.implementation!==ie.implementation?(W=iF(ie,J.mode,fe),W.return=J,W):(W=B(W,ie.children||[]),W.return=J,W)}function de(J,W,ie,fe,He){return W===null||W.tag!==7?(W=$d(ie,J.mode,fe,He),W.return=J,W):(W=B(W,ie),W.return=J,W)}function he(J,W,ie){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=nF(""+W,J.mode,ie),W.return=J,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return ie=bE(W.type,W.key,W.props,null,J.mode,ie),Qy(ie,W),ie.return=J,ie;case C:return W=iF(W,J.mode,ie),W.return=J,W;case H:return W=Jd(W),he(J,W,ie)}if(pe(W)||$(W))return W=$d(W,J.mode,ie,null),W.return=J,W;if(typeof W.then=="function")return he(J,IE(W),ie);if(W.$$typeof===T)return he(J,SE(J,W),ie);FE(J,W)}return null}function ae(J,W,ie,fe){var He=W!==null?W.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return He!==null?null:k(J,W,""+ie,fe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return ie.key===He?j(J,W,ie,fe):null;case C:return ie.key===He?re(J,W,ie,fe):null;case H:return ie=Jd(ie),ae(J,W,ie,fe)}if(pe(ie)||$(ie))return He!==null?null:de(J,W,ie,fe,null);if(typeof ie.then=="function")return ae(J,W,IE(ie),fe);if(ie.$$typeof===T)return ae(J,W,SE(J,ie),fe);FE(J,ie)}return null}function Ae(J,W,ie,fe,He){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return J=J.get(ie)||null,k(W,J,""+fe,He);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:return J=J.get(fe.key===null?ie:fe.key)||null,j(W,J,fe,He);case C:return J=J.get(fe.key===null?ie:fe.key)||null,re(W,J,fe,He);case H:return fe=Jd(fe),Ae(J,W,ie,fe,He)}if(pe(fe)||$(fe))return J=J.get(ie)||null,de(W,J,fe,He,null);if(typeof fe.then=="function")return Ae(J,W,ie,IE(fe),He);if(fe.$$typeof===T)return Ae(J,W,ie,SE(W,fe),He);FE(W,fe)}return null}function Re(J,W,ie,fe){for(var He=null,St=null,Ne=W,rt=W=0,pt=null;Ne!==null&&rt<ie.length;rt++){Ne.index>rt?(pt=Ne,Ne=null):pt=Ne.sibling;var xt=ae(J,Ne,ie[rt],fe);if(xt===null){Ne===null&&(Ne=pt);break}A&&Ne&&xt.alternate===null&&c(J,Ne),W=S(xt,W,rt),St===null?He=xt:St.sibling=xt,St=xt,Ne=pt}if(rt===ie.length)return p(J,Ne),yt&&FA(J,rt),He;if(Ne===null){for(;rt<ie.length;rt++)Ne=he(J,ie[rt],fe),Ne!==null&&(W=S(Ne,W,rt),St===null?He=Ne:St.sibling=Ne,St=Ne);return yt&&FA(J,rt),He}for(Ne=m(Ne);rt<ie.length;rt++)pt=Ae(Ne,J,rt,ie[rt],fe),pt!==null&&(A&&pt.alternate!==null&&Ne.delete(pt.key===null?rt:pt.key),W=S(pt,W,rt),St===null?He=pt:St.sibling=pt,St=pt);return A&&Ne.forEach(function(Yu){return c(J,Yu)}),yt&&FA(J,rt),He}function ze(J,W,ie,fe){if(ie==null)throw Error(i(151));for(var He=null,St=null,Ne=W,rt=W=0,pt=null,xt=ie.next();Ne!==null&&!xt.done;rt++,xt=ie.next()){Ne.index>rt?(pt=Ne,Ne=null):pt=Ne.sibling;var Yu=ae(J,Ne,xt.value,fe);if(Yu===null){Ne===null&&(Ne=pt);break}A&&Ne&&Yu.alternate===null&&c(J,Ne),W=S(Yu,W,rt),St===null?He=Yu:St.sibling=Yu,St=Yu,Ne=pt}if(xt.done)return p(J,Ne),yt&&FA(J,rt),He;if(Ne===null){for(;!xt.done;rt++,xt=ie.next())xt=he(J,xt.value,fe),xt!==null&&(W=S(xt,W,rt),St===null?He=xt:St.sibling=xt,St=xt);return yt&&FA(J,rt),He}for(Ne=m(Ne);!xt.done;rt++,xt=ie.next())xt=Ae(Ne,J,rt,xt.value,fe),xt!==null&&(A&&xt.alternate!==null&&Ne.delete(xt.key===null?rt:xt.key),W=S(xt,W,rt),St===null?He=xt:St.sibling=xt,St=xt);return A&&Ne.forEach(function(zne){return c(J,zne)}),yt&&FA(J,rt),He}function Gt(J,W,ie,fe){if(typeof ie=="object"&&ie!==null&&ie.type===b&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:e:{for(var He=ie.key;W!==null;){if(W.key===He){if(He=ie.type,He===b){if(W.tag===7){p(J,W.sibling),fe=B(W,ie.props.children),fe.return=J,J=fe;break e}}else if(W.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===H&&Jd(He)===W.type){p(J,W.sibling),fe=B(W,ie.props),Qy(fe,ie),fe.return=J,J=fe;break e}p(J,W);break}else c(J,W);W=W.sibling}ie.type===b?(fe=$d(ie.props.children,J.mode,fe,ie.key),fe.return=J,J=fe):(fe=bE(ie.type,ie.key,ie.props,null,J.mode,fe),Qy(fe,ie),fe.return=J,J=fe)}return N(J);case C:e:{for(He=ie.key;W!==null;){if(W.key===He)if(W.tag===4&&W.stateNode.containerInfo===ie.containerInfo&&W.stateNode.implementation===ie.implementation){p(J,W.sibling),fe=B(W,ie.children||[]),fe.return=J,J=fe;break e}else{p(J,W);break}else c(J,W);W=W.sibling}fe=iF(ie,J.mode,fe),fe.return=J,J=fe}return N(J);case H:return ie=Jd(ie),Gt(J,W,ie,fe)}if(pe(ie))return Re(J,W,ie,fe);if($(ie)){if(He=$(ie),typeof He!="function")throw Error(i(150));return ie=He.call(ie),ze(J,W,ie,fe)}if(typeof ie.then=="function")return Gt(J,W,IE(ie),fe);if(ie.$$typeof===T)return Gt(J,W,SE(J,ie),fe);FE(J,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,W!==null&&W.tag===6?(p(J,W.sibling),fe=B(W,ie),fe.return=J,J=fe):(p(J,W),fe=nF(ie,J.mode,fe),fe.return=J,J=fe),N(J)):p(J,W)}return function(J,W,ie,fe){try{Ly=0;var He=Gt(J,W,ie,fe);return Hp=null,He}catch(Ne){if(Ne===kp||Ne===_E)throw Ne;var St=ps(29,Ne,null,J.mode);return St.lanes=fe,St.return=J,St}finally{}}}var ef=P2(!0),R2=P2(!1),Pu=!1;function pF(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gF(A,c){A=A.updateQueue,c.updateQueue===A&&(c.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function Ru(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function Du(A,c,p){var m=A.updateQueue;if(m===null)return null;if(m=m.shared,(Ft&2)!==0){var B=m.pending;return B===null?c.next=c:(c.next=B.next,B.next=c),m.pending=c,c=CE(A),m2(A,null,p),c}return wE(A,m,c,p),CE(A)}function Oy(A,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,Ee(A,p)}}function mF(A,c){var p=A.updateQueue,m=A.alternate;if(m!==null&&(m=m.updateQueue,p===m)){var B=null,S=null;if(p=p.firstBaseUpdate,p!==null){do{var N={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};S===null?B=S=N:S=S.next=N,p=p.next}while(p!==null);S===null?B=S=c:S=S.next=c}else B=S=c;p={baseState:m.baseState,firstBaseUpdate:B,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},A.updateQueue=p;return}A=p.lastBaseUpdate,A===null?p.firstBaseUpdate=c:A.next=c,p.lastBaseUpdate=c}var vF=!1;function ky(){if(vF){var A=Op;if(A!==null)throw A}}function Hy(A,c,p,m){vF=!1;var B=A.updateQueue;Pu=!1;var S=B.firstBaseUpdate,N=B.lastBaseUpdate,k=B.shared.pending;if(k!==null){B.shared.pending=null;var j=k,re=j.next;j.next=null,N===null?S=re:N.next=re,N=j;var de=A.alternate;de!==null&&(de=de.updateQueue,k=de.lastBaseUpdate,k!==N&&(k===null?de.firstBaseUpdate=re:k.next=re,de.lastBaseUpdate=j))}if(S!==null){var he=B.baseState;N=0,de=re=j=null,k=S;do{var ae=k.lane&-536870913,Ae=ae!==k.lane;if(Ae?(ht&ae)===ae:(m&ae)===ae){ae!==0&&ae===Qp&&(vF=!0),de!==null&&(de=de.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Re=A,ze=k;ae=c;var Gt=p;switch(ze.tag){case 1:if(Re=ze.payload,typeof Re=="function"){he=Re.call(Gt,he,ae);break e}he=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=ze.payload,ae=typeof Re=="function"?Re.call(Gt,he,ae):Re,ae==null)break e;he=h({},he,ae);break e;case 2:Pu=!0}}ae=k.callback,ae!==null&&(A.flags|=64,Ae&&(A.flags|=8192),Ae=B.callbacks,Ae===null?B.callbacks=[ae]:Ae.push(ae))}else Ae={lane:ae,tag:k.tag,payload:k.payload,callback:k.callback,next:null},de===null?(re=de=Ae,j=he):de=de.next=Ae,N|=ae;if(k=k.next,k===null){if(k=B.shared.pending,k===null)break;Ae=k,k=Ae.next,Ae.next=null,B.lastBaseUpdate=Ae,B.shared.pending=null}}while(!0);de===null&&(j=he),B.baseState=j,B.firstBaseUpdate=re,B.lastBaseUpdate=de,S===null&&(B.shared.lanes=0),ku|=N,A.lanes=N,A.memoizedState=he}}function D2(A,c){if(typeof A!="function")throw Error(i(191,A));A.call(c)}function N2(A,c){var p=A.callbacks;if(p!==null)for(A.callbacks=null,A=0;A<p.length;A++)D2(p[A],c)}var Vp=q(null),UE=q(0);function L2(A,c){A=HA,X(UE,A),X(Vp,c),HA=A|c.baseLanes}function yF(){X(UE,HA),X(Vp,Vp.current)}function wF(){HA=UE.current,Y(Vp),Y(UE)}var gs=q(null),la=null;function Nu(A){var c=A.alternate;X(Kn,Kn.current&1),X(gs,A),la===null&&(c===null||Vp.current!==null||c.memoizedState!==null)&&(la=A)}function CF(A){X(Kn,Kn.current),X(gs,A),la===null&&(la=A)}function Q2(A){A.tag===22?(X(Kn,Kn.current),X(gs,A),la===null&&(la=A)):Lu()}function Lu(){X(Kn,Kn.current),X(gs,gs.current)}function ms(A){Y(gs),la===A&&(la=null),Y(Kn)}var Kn=q(0);function ME(A){for(var c=A;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||_U(p)||TU(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var PA=0,tt=null,Vt=null,ei=null,PE=!1,Kp=!1,tf=!1,RE=0,Vy=0,Gp=null,Dte=0;function Pn(){throw Error(i(321))}function bF(A,c){if(c===null)return!1;for(var p=0;p<c.length&&p<A.length;p++)if(!hs(A[p],c[p]))return!1;return!0}function BF(A,c,p,m,B,S){return PA=S,tt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,G.H=A===null||A.memoizedState===null?CH:QF,tf=!1,S=p(m,B),tf=!1,Kp&&(S=k2(c,p,m,B)),O2(A),S}function O2(A){G.H=zy;var c=Vt!==null&&Vt.next!==null;if(PA=0,ei=Vt=tt=null,PE=!1,Vy=0,Gp=null,c)throw Error(i(300));A===null||ti||(A=A.dependencies,A!==null&&EE(A)&&(ti=!0))}function k2(A,c,p,m){tt=A;var B=0;do{if(Kp&&(Gp=null),Vy=0,Kp=!1,25<=B)throw Error(i(301));if(B+=1,ei=Vt=null,A.updateQueue!=null){var S=A.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}G.H=bH,S=c(p,m)}while(Kp);return S}function Nte(){var A=G.H,c=A.useState()[0];return c=typeof c.then=="function"?Ky(c):c,A=A.useState()[0],(Vt!==null?Vt.memoizedState:null)!==A&&(tt.flags|=1024),c}function EF(){var A=RE!==0;return RE=0,A}function SF(A,c,p){c.updateQueue=A.updateQueue,c.flags&=-2053,A.lanes&=~p}function xF(A){if(PE){for(A=A.memoizedState;A!==null;){var c=A.queue;c!==null&&(c.pending=null),A=A.next}PE=!1}PA=0,ei=Vt=tt=null,Kp=!1,Vy=RE=0,Gp=null}function xr(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?tt.memoizedState=ei=A:ei=ei.next=A,ei}function Gn(){if(Vt===null){var A=tt.alternate;A=A!==null?A.memoizedState:null}else A=Vt.next;var c=ei===null?tt.memoizedState:ei.next;if(c!==null)ei=c,Vt=A;else{if(A===null)throw tt.alternate===null?Error(i(467)):Error(i(310));Vt=A,A={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},ei===null?tt.memoizedState=ei=A:ei=ei.next=A}return ei}function DE(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ky(A){var c=Vy;return Vy+=1,Gp===null&&(Gp=[]),A=F2(Gp,A,c),c=tt,(ei===null?c.memoizedState:ei.next)===null&&(c=c.alternate,G.H=c===null||c.memoizedState===null?CH:QF),A}function NE(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return Ky(A);if(A.$$typeof===T)return Hi(A)}throw Error(i(438,String(A)))}function _F(A){var c=null,p=tt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var m=tt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(B){return B.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=DE(),tt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(A),m=0;m<A;m++)p[m]=K;return c.index++,p}function RA(A,c){return typeof c=="function"?c(A):c}function LE(A){var c=Gn();return TF(c,Vt,A)}function TF(A,c,p){var m=A.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=p;var B=A.baseQueue,S=m.pending;if(S!==null){if(B!==null){var N=B.next;B.next=S.next,S.next=N}c.baseQueue=B=S,m.pending=null}if(S=A.baseState,B===null)A.memoizedState=S;else{c=B.next;var k=N=null,j=null,re=c,de=!1;do{var he=re.lane&-536870913;if(he!==re.lane?(ht&he)===he:(PA&he)===he){var ae=re.revertLane;if(ae===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),he===Qp&&(de=!0);else if((PA&ae)===ae){re=re.next,ae===Qp&&(de=!0);continue}else he={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},j===null?(k=j=he,N=S):j=j.next=he,tt.lanes|=ae,ku|=ae;he=re.action,tf&&p(S,he),S=re.hasEagerState?re.eagerState:p(S,he)}else ae={lane:he,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},j===null?(k=j=ae,N=S):j=j.next=ae,tt.lanes|=he,ku|=he;re=re.next}while(re!==null&&re!==c);if(j===null?N=S:j.next=k,!hs(S,A.memoizedState)&&(ti=!0,de&&(p=Op,p!==null)))throw p;A.memoizedState=S,A.baseState=N,A.baseQueue=j,m.lastRenderedState=S}return B===null&&(m.lanes=0),[A.memoizedState,m.dispatch]}function IF(A){var c=Gn(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=A;var m=p.dispatch,B=p.pending,S=c.memoizedState;if(B!==null){p.pending=null;var N=B=B.next;do S=A(S,N.action),N=N.next;while(N!==B);hs(S,c.memoizedState)||(ti=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),p.lastRenderedState=S}return[S,m]}function H2(A,c,p){var m=tt,B=Gn(),S=yt;if(S){if(p===void 0)throw Error(i(407));p=p()}else p=c();var N=!hs((Vt||B).memoizedState,p);if(N&&(B.memoizedState=p,ti=!0),B=B.queue,MF(G2.bind(null,m,B,A),[A]),B.getSnapshot!==c||N||ei!==null&&ei.memoizedState.tag&1){if(m.flags|=2048,zp(9,{destroy:void 0},K2.bind(null,m,B,p,c),null),en===null)throw Error(i(349));S||(PA&127)!==0||V2(m,c,p)}return p}function V2(A,c,p){A.flags|=16384,A={getSnapshot:c,value:p},c=tt.updateQueue,c===null?(c=DE(),tt.updateQueue=c,c.stores=[A]):(p=c.stores,p===null?c.stores=[A]:p.push(A))}function K2(A,c,p,m){c.value=p,c.getSnapshot=m,z2(c)&&q2(A)}function G2(A,c,p){return p(function(){z2(c)&&q2(A)})}function z2(A){var c=A.getSnapshot;A=A.value;try{var p=c();return!hs(A,p)}catch{return!0}}function q2(A){var c=qd(A,2);c!==null&&jr(c,A,2)}function FF(A){var c=xr();if(typeof A=="function"){var p=A;if(A=p(),tf){Fo(!0);try{p()}finally{Fo(!1)}}}return c.memoizedState=c.baseState=A,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RA,lastRenderedState:A},c}function $2(A,c,p,m){return A.baseState=p,TF(A,Vt,typeof m=="function"?m:RA)}function Lte(A,c,p,m,B){if(kE(A))throw Error(i(485));if(A=c.action,A!==null){var S={payload:B,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};G.T!==null?p(!0):S.isTransition=!1,m(S),p=c.pending,p===null?(S.next=c.pending=S,j2(c,S)):(S.next=p.next,c.pending=p.next=S)}}function j2(A,c){var p=c.action,m=c.payload,B=A.state;if(c.isTransition){var S=G.T,N={};G.T=N;try{var k=p(B,m),j=G.S;j!==null&&j(N,k),W2(A,c,k)}catch(re){UF(A,c,re)}finally{S!==null&&N.types!==null&&(S.types=N.types),G.T=S}}else try{S=p(B,m),W2(A,c,S)}catch(re){UF(A,c,re)}}function W2(A,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(m){Y2(A,c,m)},function(m){return UF(A,c,m)}):Y2(A,c,p)}function Y2(A,c,p){c.status="fulfilled",c.value=p,X2(c),A.state=p,c=A.pending,c!==null&&(p=c.next,p===c?A.pending=null:(p=p.next,c.next=p,j2(A,p)))}function UF(A,c,p){var m=A.pending;if(A.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=p,X2(c),c=c.next;while(c!==m)}A.action=null}function X2(A){A=A.listeners;for(var c=0;c<A.length;c++)(0,A[c])()}function J2(A,c){return c}function Z2(A,c){if(yt){var p=en.formState;if(p!==null){e:{var m=tt;if(yt){if(hn){t:{for(var B=hn,S=Aa;B.nodeType!==8;){if(!S){B=null;break t}if(B=ua(B.nextSibling),B===null){B=null;break t}}S=B.data,B=S==="F!"||S==="F"?B:null}if(B){hn=ua(B.nextSibling),m=B.data==="F!";break e}}Uu(m)}m=!1}m&&(c=p[0])}}return p=xr(),p.memoizedState=p.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:J2,lastRenderedState:c},p.queue=m,p=vH.bind(null,tt,m),m.dispatch=p,m=FF(!1),S=LF.bind(null,tt,!1,m.queue),m=xr(),B={state:c,dispatch:null,action:A,pending:null},m.queue=B,p=Lte.bind(null,tt,B,S,p),B.dispatch=p,m.memoizedState=A,[c,p,!1]}function eH(A){var c=Gn();return tH(c,Vt,A)}function tH(A,c,p){if(c=TF(A,c,J2)[0],A=LE(RA)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=Ky(c)}catch(N){throw N===kp?_E:N}else m=c;c=Gn();var B=c.queue,S=B.dispatch;return p!==c.memoizedState&&(tt.flags|=2048,zp(9,{destroy:void 0},Qte.bind(null,B,p),null)),[m,S,A]}function Qte(A,c){A.action=c}function nH(A){var c=Gn(),p=Vt;if(p!==null)return tH(c,p,A);Gn(),c=c.memoizedState,p=Gn();var m=p.queue.dispatch;return p.memoizedState=A,[c,m,!1]}function zp(A,c,p,m){return A={tag:A,create:p,deps:m,inst:c,next:null},c=tt.updateQueue,c===null&&(c=DE(),tt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=A.next=A:(m=p.next,p.next=A,A.next=m,c.lastEffect=A),A}function iH(){return Gn().memoizedState}function QE(A,c,p,m){var B=xr();tt.flags|=A,B.memoizedState=zp(1|c,{destroy:void 0},p,m===void 0?null:m)}function OE(A,c,p,m){var B=Gn();m=m===void 0?null:m;var S=B.memoizedState.inst;Vt!==null&&m!==null&&bF(m,Vt.memoizedState.deps)?B.memoizedState=zp(c,S,p,m):(tt.flags|=A,B.memoizedState=zp(1|c,S,p,m))}function rH(A,c){QE(8390656,8,A,c)}function MF(A,c){OE(2048,8,A,c)}function Ote(A){tt.flags|=4;var c=tt.updateQueue;if(c===null)c=DE(),tt.updateQueue=c,c.events=[A];else{var p=c.events;p===null?c.events=[A]:p.push(A)}}function sH(A){var c=Gn().memoizedState;return Ote({ref:c,nextImpl:A}),function(){if((Ft&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function aH(A,c){return OE(4,2,A,c)}function oH(A,c){return OE(4,4,A,c)}function AH(A,c){if(typeof c=="function"){A=A();var p=c(A);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return A=A(),c.current=A,function(){c.current=null}}function lH(A,c,p){p=p!=null?p.concat([A]):null,OE(4,4,AH.bind(null,c,A),p)}function PF(){}function uH(A,c){var p=Gn();c=c===void 0?null:c;var m=p.memoizedState;return c!==null&&bF(c,m[1])?m[0]:(p.memoizedState=[A,c],A)}function cH(A,c){var p=Gn();c=c===void 0?null:c;var m=p.memoizedState;if(c!==null&&bF(c,m[1]))return m[0];if(m=A(),tf){Fo(!0);try{A()}finally{Fo(!1)}}return p.memoizedState=[m,c],m}function RF(A,c,p){return p===void 0||(PA&1073741824)!==0&&(ht&261930)===0?A.memoizedState=c:(A.memoizedState=p,A=d4(),tt.lanes|=A,ku|=A,p)}function dH(A,c,p,m){return hs(p,c)?p:Vp.current!==null?(A=RF(A,p,m),hs(A,c)||(ti=!0),A):(PA&42)===0||(PA&1073741824)!==0&&(ht&261930)===0?(ti=!0,A.memoizedState=p):(A=d4(),tt.lanes|=A,ku|=A,c)}function fH(A,c,p,m,B){var S=z.p;z.p=S!==0&&8>S?S:8;var N=G.T,k={};G.T=k,LF(A,!1,c,p);try{var j=B(),re=G.S;if(re!==null&&re(k,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var de=Rte(j,m);Gy(A,c,de,ws(A))}else Gy(A,c,m,ws(A))}catch(he){Gy(A,c,{then:function(){},status:"rejected",reason:he},ws())}finally{z.p=S,N!==null&&k.types!==null&&(N.types=k.types),G.T=N}}function kte(){}function DF(A,c,p,m){if(A.tag!==5)throw Error(i(476));var B=hH(A).queue;fH(A,B,c,ee,p===null?kte:function(){return pH(A),p(m)})}function hH(A){var c=A.memoizedState;if(c!==null)return c;c={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:RA,lastRenderedState:ee},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:RA,lastRenderedState:p},next:null},A.memoizedState=c,A=A.alternate,A!==null&&(A.memoizedState=c),c}function pH(A){var c=hH(A);c.next===null&&(c=A.alternate.memoizedState),Gy(A,c.next.queue,{},ws())}function NF(){return Hi(o0)}function gH(){return Gn().memoizedState}function mH(){return Gn().memoizedState}function Hte(A){for(var c=A.return;c!==null;){switch(c.tag){case 24:case 3:var p=ws();A=Ru(p);var m=Du(c,A,p);m!==null&&(jr(m,c,p),Oy(m,c,p)),c={cache:cF()},A.payload=c;return}c=c.return}}function Vte(A,c,p){var m=ws();p={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},kE(A)?yH(c,p):(p=eF(A,c,p,m),p!==null&&(jr(p,A,m),wH(p,c,m)))}function vH(A,c,p){var m=ws();Gy(A,c,p,m)}function Gy(A,c,p,m){var B={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(kE(A))yH(c,B);else{var S=A.alternate;if(A.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var N=c.lastRenderedState,k=S(N,p);if(B.hasEagerState=!0,B.eagerState=k,hs(k,N))return wE(A,c,B,0),en===null&&yE(),!1}catch{}finally{}if(p=eF(A,c,B,m),p!==null)return jr(p,A,m),wH(p,c,m),!0}return!1}function LF(A,c,p,m){if(m={lane:2,revertLane:pU(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},kE(A)){if(c)throw Error(i(479))}else c=eF(A,p,m,2),c!==null&&jr(c,A,2)}function kE(A){var c=A.alternate;return A===tt||c!==null&&c===tt}function yH(A,c){Kp=PE=!0;var p=A.pending;p===null?c.next=c:(c.next=p.next,p.next=c),A.pending=c}function wH(A,c,p){if((p&4194048)!==0){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,Ee(A,p)}}var zy={readContext:Hi,use:NE,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};zy.useEffectEvent=Pn;var CH={readContext:Hi,use:NE,useCallback:function(A,c){return xr().memoizedState=[A,c===void 0?null:c],A},useContext:Hi,useEffect:rH,useImperativeHandle:function(A,c,p){p=p!=null?p.concat([A]):null,QE(4194308,4,AH.bind(null,c,A),p)},useLayoutEffect:function(A,c){return QE(4194308,4,A,c)},useInsertionEffect:function(A,c){QE(4,2,A,c)},useMemo:function(A,c){var p=xr();c=c===void 0?null:c;var m=A();if(tf){Fo(!0);try{A()}finally{Fo(!1)}}return p.memoizedState=[m,c],m},useReducer:function(A,c,p){var m=xr();if(p!==void 0){var B=p(c);if(tf){Fo(!0);try{p(c)}finally{Fo(!1)}}}else B=c;return m.memoizedState=m.baseState=B,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:B},m.queue=A,A=A.dispatch=Vte.bind(null,tt,A),[m.memoizedState,A]},useRef:function(A){var c=xr();return A={current:A},c.memoizedState=A},useState:function(A){A=FF(A);var c=A.queue,p=vH.bind(null,tt,c);return c.dispatch=p,[A.memoizedState,p]},useDebugValue:PF,useDeferredValue:function(A,c){var p=xr();return RF(p,A,c)},useTransition:function(){var A=FF(!1);return A=fH.bind(null,tt,A.queue,!0,!1),xr().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,c,p){var m=tt,B=xr();if(yt){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),en===null)throw Error(i(349));(ht&127)!==0||V2(m,c,p)}B.memoizedState=p;var S={value:p,getSnapshot:c};return B.queue=S,rH(G2.bind(null,m,S,A),[A]),m.flags|=2048,zp(9,{destroy:void 0},K2.bind(null,m,S,p,c),null),p},useId:function(){var A=xr(),c=en.identifierPrefix;if(yt){var p=Mo,m=Uo;p=(m&~(1<<32-Sr(m)-1)).toString(32)+p,c="_"+c+"R_"+p,p=RE++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=Dte++,c="_"+c+"r_"+p.toString(32)+"_";return A.memoizedState=c},useHostTransitionStatus:NF,useFormState:Z2,useActionState:Z2,useOptimistic:function(A){var c=xr();c.memoizedState=c.baseState=A;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=LF.bind(null,tt,!0,p),p.dispatch=c,[A,c]},useMemoCache:_F,useCacheRefresh:function(){return xr().memoizedState=Hte.bind(null,tt)},useEffectEvent:function(A){var c=xr(),p={impl:A};return c.memoizedState=p,function(){if((Ft&2)!==0)throw Error(i(440));return p.impl.apply(void 0,arguments)}}},QF={readContext:Hi,use:NE,useCallback:uH,useContext:Hi,useEffect:MF,useImperativeHandle:lH,useInsertionEffect:aH,useLayoutEffect:oH,useMemo:cH,useReducer:LE,useRef:iH,useState:function(){return LE(RA)},useDebugValue:PF,useDeferredValue:function(A,c){var p=Gn();return dH(p,Vt.memoizedState,A,c)},useTransition:function(){var A=LE(RA)[0],c=Gn().memoizedState;return[typeof A=="boolean"?A:Ky(A),c]},useSyncExternalStore:H2,useId:gH,useHostTransitionStatus:NF,useFormState:eH,useActionState:eH,useOptimistic:function(A,c){var p=Gn();return $2(p,Vt,A,c)},useMemoCache:_F,useCacheRefresh:mH};QF.useEffectEvent=sH;var bH={readContext:Hi,use:NE,useCallback:uH,useContext:Hi,useEffect:MF,useImperativeHandle:lH,useInsertionEffect:aH,useLayoutEffect:oH,useMemo:cH,useReducer:IF,useRef:iH,useState:function(){return IF(RA)},useDebugValue:PF,useDeferredValue:function(A,c){var p=Gn();return Vt===null?RF(p,A,c):dH(p,Vt.memoizedState,A,c)},useTransition:function(){var A=IF(RA)[0],c=Gn().memoizedState;return[typeof A=="boolean"?A:Ky(A),c]},useSyncExternalStore:H2,useId:gH,useHostTransitionStatus:NF,useFormState:nH,useActionState:nH,useOptimistic:function(A,c){var p=Gn();return Vt!==null?$2(p,Vt,A,c):(p.baseState=A,[A,p.queue.dispatch])},useMemoCache:_F,useCacheRefresh:mH};bH.useEffectEvent=sH;function OF(A,c,p,m){c=A.memoizedState,p=p(m,c),p=p==null?c:h({},c,p),A.memoizedState=p,A.lanes===0&&(A.updateQueue.baseState=p)}var kF={enqueueSetState:function(A,c,p){A=A._reactInternals;var m=ws(),B=Ru(m);B.payload=c,p!=null&&(B.callback=p),c=Du(A,B,m),c!==null&&(jr(c,A,m),Oy(c,A,m))},enqueueReplaceState:function(A,c,p){A=A._reactInternals;var m=ws(),B=Ru(m);B.tag=1,B.payload=c,p!=null&&(B.callback=p),c=Du(A,B,m),c!==null&&(jr(c,A,m),Oy(c,A,m))},enqueueForceUpdate:function(A,c){A=A._reactInternals;var p=ws(),m=Ru(p);m.tag=2,c!=null&&(m.callback=c),c=Du(A,m,p),c!==null&&(jr(c,A,p),Oy(c,A,p))}};function BH(A,c,p,m,B,S,N){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(m,S,N):c.prototype&&c.prototype.isPureReactComponent?!Uy(p,m)||!Uy(B,S):!0}function EH(A,c,p,m){A=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,m),c.state!==A&&kF.enqueueReplaceState(c,c.state,null)}function nf(A,c){var p=c;if("ref"in c){p={};for(var m in c)m!=="ref"&&(p[m]=c[m])}if(A=A.defaultProps){p===c&&(p=h({},p));for(var B in A)p[B]===void 0&&(p[B]=A[B])}return p}function SH(A){vE(A)}function xH(A){console.error(A)}function _H(A){vE(A)}function HE(A,c){try{var p=A.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function TH(A,c,p){try{var m=A.onCaughtError;m(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function HF(A,c,p){return p=Ru(p),p.tag=3,p.payload={element:null},p.callback=function(){HE(A,c)},p}function IH(A){return A=Ru(A),A.tag=3,A}function FH(A,c,p,m){var B=p.type.getDerivedStateFromError;if(typeof B=="function"){var S=m.value;A.payload=function(){return B(S)},A.callback=function(){TH(c,p,m)}}var N=p.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(A.callback=function(){TH(c,p,m),typeof B!="function"&&(Hu===null?Hu=new Set([this]):Hu.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function Kte(A,c,p,m,B){if(p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=p.alternate,c!==null&&Lp(c,p,B,!0),p=gs.current,p!==null){switch(p.tag){case 31:case 13:return la===null?ZE():p.alternate===null&&Rn===0&&(Rn=3),p.flags&=-257,p.flags|=65536,p.lanes=B,m===TE?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([m]):c.add(m),dU(A,m,B)),!1;case 22:return p.flags|=65536,m===TE?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([m]):p.add(m)),dU(A,m,B)),!1}throw Error(i(435,p.tag))}return dU(A,m,B),ZE(),!1}if(yt)return c=gs.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=B,m!==aF&&(A=Error(i(422),{cause:m}),Ry(sa(A,p)))):(m!==aF&&(c=Error(i(423),{cause:m}),Ry(sa(c,p))),A=A.current.alternate,A.flags|=65536,B&=-B,A.lanes|=B,m=sa(m,p),B=HF(A.stateNode,m,B),mF(A,B),Rn!==4&&(Rn=2)),!1;var S=Error(i(520),{cause:m});if(S=sa(S,p),Zy===null?Zy=[S]:Zy.push(S),Rn!==4&&(Rn=2),c===null)return!0;m=sa(m,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,A=B&-B,p.lanes|=A,A=HF(p.stateNode,m,A),mF(p,A),!1;case 1:if(c=p.type,S=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Hu===null||!Hu.has(S))))return p.flags|=65536,B&=-B,p.lanes|=B,B=IH(B),FH(B,A,p,m),mF(p,B),!1}p=p.return}while(p!==null);return!1}var VF=Error(i(461)),ti=!1;function Vi(A,c,p,m){c.child=A===null?R2(c,null,p,m):ef(c,A.child,p,m)}function UH(A,c,p,m,B){p=p.render;var S=c.ref;if("ref"in m){var N={};for(var k in m)k!=="ref"&&(N[k]=m[k])}else N=m;return Yd(c),m=BF(A,c,p,N,S,B),k=EF(),A!==null&&!ti?(SF(A,c,B),DA(A,c,B)):(yt&&k&&rF(c),c.flags|=1,Vi(A,c,m,B),c.child)}function MH(A,c,p,m,B){if(A===null){var S=p.type;return typeof S=="function"&&!tF(S)&&S.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=S,PH(A,c,S,m,B)):(A=bE(p.type,null,m,c,c.mode,B),A.ref=c.ref,A.return=c,c.child=A)}if(S=A.child,!YF(A,B)){var N=S.memoizedProps;if(p=p.compare,p=p!==null?p:Uy,p(N,m)&&A.ref===c.ref)return DA(A,c,B)}return c.flags|=1,A=IA(S,m),A.ref=c.ref,A.return=c,c.child=A}function PH(A,c,p,m,B){if(A!==null){var S=A.memoizedProps;if(Uy(S,m)&&A.ref===c.ref)if(ti=!1,c.pendingProps=m=S,YF(A,B))(A.flags&131072)!==0&&(ti=!0);else return c.lanes=A.lanes,DA(A,c,B)}return KF(A,c,p,m,B)}function RH(A,c,p,m){var B=m.children,S=A!==null?A.memoizedState:null;if(A===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(S=S!==null?S.baseLanes|p:p,A!==null){for(m=c.child=A.child,B=0;m!==null;)B=B|m.lanes|m.childLanes,m=m.sibling;m=B&~S}else m=0,c.child=null;return DH(A,c,S,p,m)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},A!==null&&xE(c,S!==null?S.cachePool:null),S!==null?L2(c,S):yF(),Q2(c);else return m=c.lanes=536870912,DH(A,c,S!==null?S.baseLanes|p:p,p,m)}else S!==null?(xE(c,S.cachePool),L2(c,S),Lu(),c.memoizedState=null):(A!==null&&xE(c,null),yF(),Lu());return Vi(A,c,B,p),c.child}function qy(A,c){return A!==null&&A.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function DH(A,c,p,m,B){var S=fF();return S=S===null?null:{parent:Zn._currentValue,pool:S},c.memoizedState={baseLanes:p,cachePool:S},A!==null&&xE(c,null),yF(),Q2(c),A!==null&&Lp(A,c,m,!0),c.childLanes=B,null}function VE(A,c){return c=GE({mode:c.mode,children:c.children},A.mode),c.ref=A.ref,A.child=c,c.return=A,c}function NH(A,c,p){return ef(c,A.child,null,p),A=VE(c,c.pendingProps),A.flags|=2,ms(c),c.memoizedState=null,A}function Gte(A,c,p){var m=c.pendingProps,B=(c.flags&128)!==0;if(c.flags&=-129,A===null){if(yt){if(m.mode==="hidden")return A=VE(c,m),c.lanes=536870912,qy(null,A);if(CF(c),(A=hn)?(A=j4(A,Aa),A=A!==null&&A.data==="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Iu!==null?{id:Uo,overflow:Mo}:null,retryLane:536870912,hydrationErrors:null},p=y2(A),p.return=c,c.child=p,ki=c,hn=null)):A=null,A===null)throw Uu(c);return c.lanes=536870912,null}return VE(c,m)}var S=A.memoizedState;if(S!==null){var N=S.dehydrated;if(CF(c),B)if(c.flags&256)c.flags&=-257,c=NH(A,c,p);else if(c.memoizedState!==null)c.child=A.child,c.flags|=128,c=null;else throw Error(i(558));else if(ti||Lp(A,c,p,!1),B=(p&A.childLanes)!==0,ti||B){if(m=en,m!==null&&(N=At(m,p),N!==0&&N!==S.retryLane))throw S.retryLane=N,qd(A,N),jr(m,A,N),VF;ZE(),c=NH(A,c,p)}else A=S.treeContext,hn=ua(N.nextSibling),ki=c,yt=!0,Fu=null,Aa=!1,A!==null&&b2(c,A),c=VE(c,m),c.flags|=4096;return c}return A=IA(A.child,{mode:m.mode,children:m.children}),A.ref=c.ref,c.child=A,A.return=c,A}function KE(A,c){var p=c.ref;if(p===null)A!==null&&A.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(A===null||A.ref!==p)&&(c.flags|=4194816)}}function KF(A,c,p,m,B){return Yd(c),p=BF(A,c,p,m,void 0,B),m=EF(),A!==null&&!ti?(SF(A,c,B),DA(A,c,B)):(yt&&m&&rF(c),c.flags|=1,Vi(A,c,p,B),c.child)}function LH(A,c,p,m,B,S){return Yd(c),c.updateQueue=null,p=k2(c,m,p,B),O2(A),m=EF(),A!==null&&!ti?(SF(A,c,S),DA(A,c,S)):(yt&&m&&rF(c),c.flags|=1,Vi(A,c,p,S),c.child)}function QH(A,c,p,m,B){if(Yd(c),c.stateNode===null){var S=Pp,N=p.contextType;typeof N=="object"&&N!==null&&(S=Hi(N)),S=new p(m,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=kF,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=m,S.state=c.memoizedState,S.refs={},pF(c),N=p.contextType,S.context=typeof N=="object"&&N!==null?Hi(N):Pp,S.state=c.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(OF(c,p,N,m),S.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&kF.enqueueReplaceState(S,S.state,null),Hy(c,m,S,B),ky(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(A===null){S=c.stateNode;var k=c.memoizedProps,j=nf(p,k);S.props=j;var re=S.context,de=p.contextType;N=Pp,typeof de=="object"&&de!==null&&(N=Hi(de));var he=p.getDerivedStateFromProps;de=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function",k=c.pendingProps!==k,de||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k||re!==N)&&EH(c,S,m,N),Pu=!1;var ae=c.memoizedState;S.state=ae,Hy(c,m,S,B),ky(),re=c.memoizedState,k||ae!==re||Pu?(typeof he=="function"&&(OF(c,p,he,m),re=c.memoizedState),(j=Pu||BH(c,p,j,m,ae,re,N))?(de||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=re),S.props=m,S.state=re,S.context=N,m=j):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{S=c.stateNode,gF(A,c),N=c.memoizedProps,de=nf(p,N),S.props=de,he=c.pendingProps,ae=S.context,re=p.contextType,j=Pp,typeof re=="object"&&re!==null&&(j=Hi(re)),k=p.getDerivedStateFromProps,(re=typeof k=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==he||ae!==j)&&EH(c,S,m,j),Pu=!1,ae=c.memoizedState,S.state=ae,Hy(c,m,S,B),ky();var Ae=c.memoizedState;N!==he||ae!==Ae||Pu||A!==null&&A.dependencies!==null&&EE(A.dependencies)?(typeof k=="function"&&(OF(c,p,k,m),Ae=c.memoizedState),(de=Pu||BH(c,p,de,m,ae,Ae,j)||A!==null&&A.dependencies!==null&&EE(A.dependencies))?(re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Ae,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Ae,j)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=Ae),S.props=m,S.state=Ae,S.context=j,m=de):(typeof S.componentDidUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=1024),m=!1)}return S=m,KE(A,c),m=(c.flags&128)!==0,S||m?(S=c.stateNode,p=m&&typeof p.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,A!==null&&m?(c.child=ef(c,A.child,null,B),c.child=ef(c,null,p,B)):Vi(A,c,p,B),c.memoizedState=S.state,A=c.child):A=DA(A,c,B),A}function OH(A,c,p,m){return jd(),c.flags|=256,Vi(A,c,p,m),c.child}var GF={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zF(A){return{baseLanes:A,cachePool:T2()}}function qF(A,c,p){return A=A!==null?A.childLanes&~p:0,c&&(A|=ys),A}function kH(A,c,p){var m=c.pendingProps,B=!1,S=(c.flags&128)!==0,N;if((N=S)||(N=A!==null&&A.memoizedState===null?!1:(Kn.current&2)!==0),N&&(B=!0,c.flags&=-129),N=(c.flags&32)!==0,c.flags&=-33,A===null){if(yt){if(B?Nu(c):Lu(),(A=hn)?(A=j4(A,Aa),A=A!==null&&A.data!=="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Iu!==null?{id:Uo,overflow:Mo}:null,retryLane:536870912,hydrationErrors:null},p=y2(A),p.return=c,c.child=p,ki=c,hn=null)):A=null,A===null)throw Uu(c);return TU(A)?c.lanes=32:c.lanes=536870912,null}var k=m.children;return m=m.fallback,B?(Lu(),B=c.mode,k=GE({mode:"hidden",children:k},B),m=$d(m,B,p,null),k.return=c,m.return=c,k.sibling=m,c.child=k,m=c.child,m.memoizedState=zF(p),m.childLanes=qF(A,N,p),c.memoizedState=GF,qy(null,m)):(Nu(c),$F(c,k))}var j=A.memoizedState;if(j!==null&&(k=j.dehydrated,k!==null)){if(S)c.flags&256?(Nu(c),c.flags&=-257,c=jF(A,c,p)):c.memoizedState!==null?(Lu(),c.child=A.child,c.flags|=128,c=null):(Lu(),k=m.fallback,B=c.mode,m=GE({mode:"visible",children:m.children},B),k=$d(k,B,p,null),k.flags|=2,m.return=c,k.return=c,m.sibling=k,c.child=m,ef(c,A.child,null,p),m=c.child,m.memoizedState=zF(p),m.childLanes=qF(A,N,p),c.memoizedState=GF,c=qy(null,m));else if(Nu(c),TU(k)){if(N=k.nextSibling&&k.nextSibling.dataset,N)var re=N.dgst;N=re,m=Error(i(419)),m.stack="",m.digest=N,Ry({value:m,source:null,stack:null}),c=jF(A,c,p)}else if(ti||Lp(A,c,p,!1),N=(p&A.childLanes)!==0,ti||N){if(N=en,N!==null&&(m=At(N,p),m!==0&&m!==j.retryLane))throw j.retryLane=m,qd(A,m),jr(N,A,m),VF;_U(k)||ZE(),c=jF(A,c,p)}else _U(k)?(c.flags|=192,c.child=A.child,c=null):(A=j.treeContext,hn=ua(k.nextSibling),ki=c,yt=!0,Fu=null,Aa=!1,A!==null&&b2(c,A),c=$F(c,m.children),c.flags|=4096);return c}return B?(Lu(),k=m.fallback,B=c.mode,j=A.child,re=j.sibling,m=IA(j,{mode:"hidden",children:m.children}),m.subtreeFlags=j.subtreeFlags&65011712,re!==null?k=IA(re,k):(k=$d(k,B,p,null),k.flags|=2),k.return=c,m.return=c,m.sibling=k,c.child=m,qy(null,m),m=c.child,k=A.child.memoizedState,k===null?k=zF(p):(B=k.cachePool,B!==null?(j=Zn._currentValue,B=B.parent!==j?{parent:j,pool:j}:B):B=T2(),k={baseLanes:k.baseLanes|p,cachePool:B}),m.memoizedState=k,m.childLanes=qF(A,N,p),c.memoizedState=GF,qy(A.child,m)):(Nu(c),p=A.child,A=p.sibling,p=IA(p,{mode:"visible",children:m.children}),p.return=c,p.sibling=null,A!==null&&(N=c.deletions,N===null?(c.deletions=[A],c.flags|=16):N.push(A)),c.child=p,c.memoizedState=null,p)}function $F(A,c){return c=GE({mode:"visible",children:c},A.mode),c.return=A,A.child=c}function GE(A,c){return A=ps(22,A,null,c),A.lanes=0,A}function jF(A,c,p){return ef(c,A.child,null,p),A=$F(c,c.pendingProps.children),A.flags|=2,c.memoizedState=null,A}function HH(A,c,p){A.lanes|=c;var m=A.alternate;m!==null&&(m.lanes|=c),lF(A.return,c,p)}function WF(A,c,p,m,B,S){var N=A.memoizedState;N===null?A.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:p,tailMode:B,treeForkCount:S}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=p,N.tailMode=B,N.treeForkCount=S)}function VH(A,c,p){var m=c.pendingProps,B=m.revealOrder,S=m.tail;m=m.children;var N=Kn.current,k=(N&2)!==0;if(k?(N=N&1|2,c.flags|=128):N&=1,X(Kn,N),Vi(A,c,m,p),m=yt?Py:0,!k&&A!==null&&(A.flags&128)!==0)e:for(A=c.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&HH(A,p,c);else if(A.tag===19)HH(A,p,c);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(B){case"forwards":for(p=c.child,B=null;p!==null;)A=p.alternate,A!==null&&ME(A)===null&&(B=p),p=p.sibling;p=B,p===null?(B=c.child,c.child=null):(B=p.sibling,p.sibling=null),WF(c,!1,B,p,S,m);break;case"backwards":case"unstable_legacy-backwards":for(p=null,B=c.child,c.child=null;B!==null;){if(A=B.alternate,A!==null&&ME(A)===null){c.child=B;break}A=B.sibling,B.sibling=p,p=B,B=A}WF(c,!0,p,null,S,m);break;case"together":WF(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function DA(A,c,p){if(A!==null&&(c.dependencies=A.dependencies),ku|=c.lanes,(p&c.childLanes)===0)if(A!==null){if(Lp(A,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(A!==null&&c.child!==A.child)throw Error(i(153));if(c.child!==null){for(A=c.child,p=IA(A,A.pendingProps),c.child=p,p.return=c;A.sibling!==null;)A=A.sibling,p=p.sibling=IA(A,A.pendingProps),p.return=c;p.sibling=null}return c.child}function YF(A,c){return(A.lanes&c)!==0?!0:(A=A.dependencies,!!(A!==null&&EE(A)))}function zte(A,c,p){switch(c.tag){case 3:je(c,c.stateNode.containerInfo),Mu(c,Zn,A.memoizedState.cache),jd();break;case 27:case 5:Pe(c);break;case 4:je(c,c.stateNode.containerInfo);break;case 10:Mu(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,CF(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(Nu(c),c.flags|=128,null):(p&c.child.childLanes)!==0?kH(A,c,p):(Nu(c),A=DA(A,c,p),A!==null?A.sibling:null);Nu(c);break;case 19:var B=(A.flags&128)!==0;if(m=(p&c.childLanes)!==0,m||(Lp(A,c,p,!1),m=(p&c.childLanes)!==0),B){if(m)return VH(A,c,p);c.flags|=128}if(B=c.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),X(Kn,Kn.current),m)break;return null;case 22:return c.lanes=0,RH(A,c,p,c.pendingProps);case 24:Mu(c,Zn,A.memoizedState.cache)}return DA(A,c,p)}function KH(A,c,p){if(A!==null)if(A.memoizedProps!==c.pendingProps)ti=!0;else{if(!YF(A,p)&&(c.flags&128)===0)return ti=!1,zte(A,c,p);ti=(A.flags&131072)!==0}else ti=!1,yt&&(c.flags&1048576)!==0&&C2(c,Py,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(A=Jd(c.elementType),c.type=A,typeof A=="function")tF(A)?(m=nf(A,m),c.tag=1,c=QH(null,c,A,m,p)):(c.tag=0,c=KF(null,c,A,m,p));else{if(A!=null){var B=A.$$typeof;if(B===R){c.tag=11,c=UH(null,c,A,m,p);break e}else if(B===L){c.tag=14,c=MH(null,c,A,m,p);break e}}throw c=oe(A)||A,Error(i(306,c,""))}}return c;case 0:return KF(A,c,c.type,c.pendingProps,p);case 1:return m=c.type,B=nf(m,c.pendingProps),QH(A,c,m,B,p);case 3:e:{if(je(c,c.stateNode.containerInfo),A===null)throw Error(i(387));m=c.pendingProps;var S=c.memoizedState;B=S.element,gF(A,c),Hy(c,m,null,p);var N=c.memoizedState;if(m=N.cache,Mu(c,Zn,m),m!==S.cache&&uF(c,[Zn],p,!0),ky(),m=N.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:N.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=OH(A,c,m,p);break e}else if(m!==B){B=sa(Error(i(424)),c),Ry(B),c=OH(A,c,m,p);break e}else{switch(A=c.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(hn=ua(A.firstChild),ki=c,yt=!0,Fu=null,Aa=!0,p=R2(c,null,m,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(jd(),m===B){c=DA(A,c,p);break e}Vi(A,c,m,p)}c=c.child}return c;case 26:return KE(A,c),A===null?(p=eV(c.type,null,c.pendingProps,null))?c.memoizedState=p:yt||(p=c.type,A=c.pendingProps,m=aS(Ce.current).createElement(p),m[Mn]=c,m[lr]=A,Ki(m,p,A),Bi(m),c.stateNode=m):c.memoizedState=eV(c.type,A.memoizedProps,c.pendingProps,A.memoizedState),null;case 27:return Pe(c),A===null&&yt&&(m=c.stateNode=X4(c.type,c.pendingProps,Ce.current),ki=c,Aa=!0,B=hn,zu(c.type)?(IU=B,hn=ua(m.firstChild)):hn=B),Vi(A,c,c.pendingProps.children,p),KE(A,c),A===null&&(c.flags|=4194304),c.child;case 5:return A===null&&yt&&((B=m=hn)&&(m=Cne(m,c.type,c.pendingProps,Aa),m!==null?(c.stateNode=m,ki=c,hn=ua(m.firstChild),Aa=!1,B=!0):B=!1),B||Uu(c)),Pe(c),B=c.type,S=c.pendingProps,N=A!==null?A.memoizedProps:null,m=S.children,EU(B,S)?m=null:N!==null&&EU(B,N)&&(c.flags|=32),c.memoizedState!==null&&(B=BF(A,c,Nte,null,null,p),o0._currentValue=B),KE(A,c),Vi(A,c,m,p),c.child;case 6:return A===null&&yt&&((A=p=hn)&&(p=bne(p,c.pendingProps,Aa),p!==null?(c.stateNode=p,ki=c,hn=null,A=!0):A=!1),A||Uu(c)),null;case 13:return kH(A,c,p);case 4:return je(c,c.stateNode.containerInfo),m=c.pendingProps,A===null?c.child=ef(c,null,m,p):Vi(A,c,m,p),c.child;case 11:return UH(A,c,c.type,c.pendingProps,p);case 7:return Vi(A,c,c.pendingProps,p),c.child;case 8:return Vi(A,c,c.pendingProps.children,p),c.child;case 12:return Vi(A,c,c.pendingProps.children,p),c.child;case 10:return m=c.pendingProps,Mu(c,c.type,m.value),Vi(A,c,m.children,p),c.child;case 9:return B=c.type._context,m=c.pendingProps.children,Yd(c),B=Hi(B),m=m(B),c.flags|=1,Vi(A,c,m,p),c.child;case 14:return MH(A,c,c.type,c.pendingProps,p);case 15:return PH(A,c,c.type,c.pendingProps,p);case 19:return VH(A,c,p);case 31:return Gte(A,c,p);case 22:return RH(A,c,p,c.pendingProps);case 24:return Yd(c),m=Hi(Zn),A===null?(B=fF(),B===null&&(B=en,S=cF(),B.pooledCache=S,S.refCount++,S!==null&&(B.pooledCacheLanes|=p),B=S),c.memoizedState={parent:m,cache:B},pF(c),Mu(c,Zn,B)):((A.lanes&p)!==0&&(gF(A,c),Hy(c,null,null,p),ky()),B=A.memoizedState,S=c.memoizedState,B.parent!==m?(B={parent:m,cache:m},c.memoizedState=B,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=B),Mu(c,Zn,m)):(m=S.cache,Mu(c,Zn,m),m!==B.cache&&uF(c,[Zn],p,!0))),Vi(A,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function NA(A){A.flags|=4}function XF(A,c,p,m,B){if((c=(A.mode&32)!==0)&&(c=!1),c){if(A.flags|=16777216,(B&335544128)===B)if(A.stateNode.complete)A.flags|=8192;else if(g4())A.flags|=8192;else throw Zd=TE,hF}else A.flags&=-16777217}function GH(A,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!sV(c))if(g4())A.flags|=8192;else throw Zd=TE,hF}function zE(A,c){c!==null&&(A.flags|=4),A.flags&16384&&(c=A.tag!==22?aE():536870912,A.lanes|=c,Wp|=c)}function $y(A,c){if(!yt)switch(A.tailMode){case"hidden":c=A.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?A.tail=null:p.sibling=null;break;case"collapsed":p=A.tail;for(var m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?c||A.tail===null?A.tail=null:A.tail.sibling=null:m.sibling=null}}function pn(A){var c=A.alternate!==null&&A.alternate.child===A.child,p=0,m=0;if(c)for(var B=A.child;B!==null;)p|=B.lanes|B.childLanes,m|=B.subtreeFlags&65011712,m|=B.flags&65011712,B.return=A,B=B.sibling;else for(B=A.child;B!==null;)p|=B.lanes|B.childLanes,m|=B.subtreeFlags,m|=B.flags,B.return=A,B=B.sibling;return A.subtreeFlags|=m,A.childLanes=p,c}function qte(A,c,p){var m=c.pendingProps;switch(sF(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(c),null;case 1:return pn(c),null;case 3:return p=c.stateNode,m=null,A!==null&&(m=A.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),MA(Zn),se(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(A===null||A.child===null)&&(Np(c)?NA(c):A===null||A.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,oF())),pn(c),null;case 26:var B=c.type,S=c.memoizedState;return A===null?(NA(c),S!==null?(pn(c),GH(c,S)):(pn(c),XF(c,B,null,m,p))):S?S!==A.memoizedState?(NA(c),pn(c),GH(c,S)):(pn(c),c.flags&=-16777217):(A=A.memoizedProps,A!==m&&NA(c),pn(c),XF(c,B,A,m,p)),null;case 27:if(Ve(c),p=Ce.current,B=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&NA(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return pn(c),null}A=ce.current,Np(c)?B2(c):(A=X4(B,m,p),c.stateNode=A,NA(c))}return pn(c),null;case 5:if(Ve(c),B=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&NA(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return pn(c),null}if(S=ce.current,Np(c))B2(c);else{var N=aS(Ce.current);switch(S){case 1:S=N.createElementNS("http://www.w3.org/2000/svg",B);break;case 2:S=N.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;default:switch(B){case"svg":S=N.createElementNS("http://www.w3.org/2000/svg",B);break;case"math":S=N.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;case"script":S=N.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?N.createElement(B,{is:m.is}):N.createElement(B)}}S[Mn]=c,S[lr]=m;e:for(N=c.child;N!==null;){if(N.tag===5||N.tag===6)S.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===c)break e;for(;N.sibling===null;){if(N.return===null||N.return===c)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}c.stateNode=S;e:switch(Ki(S,B,m),B){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&NA(c)}}return pn(c),XF(c,c.type,A===null?null:A.memoizedProps,c.pendingProps,p),null;case 6:if(A&&c.stateNode!=null)A.memoizedProps!==m&&NA(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(i(166));if(A=Ce.current,Np(c)){if(A=c.stateNode,p=c.memoizedProps,m=null,B=ki,B!==null)switch(B.tag){case 27:case 5:m=B.memoizedProps}A[Mn]=c,A=!!(A.nodeValue===p||m!==null&&m.suppressHydrationWarning===!0||k4(A.nodeValue,p)),A||Uu(c,!0)}else A=aS(A).createTextNode(m),A[Mn]=c,c.stateNode=A}return pn(c),null;case 31:if(p=c.memoizedState,A===null||A.memoizedState!==null){if(m=Np(c),p!==null){if(A===null){if(!m)throw Error(i(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(557));A[Mn]=c}else jd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;pn(c),A=!1}else p=oF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=p),A=!0;if(!A)return c.flags&256?(ms(c),c):(ms(c),null);if((c.flags&128)!==0)throw Error(i(558))}return pn(c),null;case 13:if(m=c.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(B=Np(c),m!==null&&m.dehydrated!==null){if(A===null){if(!B)throw Error(i(318));if(B=c.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(i(317));B[Mn]=c}else jd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;pn(c),B=!1}else B=oF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=B),B=!0;if(!B)return c.flags&256?(ms(c),c):(ms(c),null)}return ms(c),(c.flags&128)!==0?(c.lanes=p,c):(p=m!==null,A=A!==null&&A.memoizedState!==null,p&&(m=c.child,B=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(B=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==B&&(m.flags|=2048)),p!==A&&p&&(c.child.flags|=8192),zE(c,c.updateQueue),pn(c),null);case 4:return se(),A===null&&yU(c.stateNode.containerInfo),pn(c),null;case 10:return MA(c.type),pn(c),null;case 19:if(Y(Kn),m=c.memoizedState,m===null)return pn(c),null;if(B=(c.flags&128)!==0,S=m.rendering,S===null)if(B)$y(m,!1);else{if(Rn!==0||A!==null&&(A.flags&128)!==0)for(A=c.child;A!==null;){if(S=ME(A),S!==null){for(c.flags|=128,$y(m,!1),A=S.updateQueue,c.updateQueue=A,zE(c,A),c.subtreeFlags=0,A=p,p=c.child;p!==null;)v2(p,A),p=p.sibling;return X(Kn,Kn.current&1|2),yt&&FA(c,m.treeForkCount),c.child}A=A.sibling}m.tail!==null&&te()>YE&&(c.flags|=128,B=!0,$y(m,!1),c.lanes=4194304)}else{if(!B)if(A=ME(S),A!==null){if(c.flags|=128,B=!0,A=A.updateQueue,c.updateQueue=A,zE(c,A),$y(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!yt)return pn(c),null}else 2*te()-m.renderingStartTime>YE&&p!==536870912&&(c.flags|=128,B=!0,$y(m,!1),c.lanes=4194304);m.isBackwards?(S.sibling=c.child,c.child=S):(A=m.last,A!==null?A.sibling=S:c.child=S,m.last=S)}return m.tail!==null?(A=m.tail,m.rendering=A,m.tail=A.sibling,m.renderingStartTime=te(),A.sibling=null,p=Kn.current,X(Kn,B?p&1|2:p&1),yt&&FA(c,m.treeForkCount),A):(pn(c),null);case 22:case 23:return ms(c),wF(),m=c.memoizedState!==null,A!==null?A.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(p&536870912)!==0&&(c.flags&128)===0&&(pn(c),c.subtreeFlags&6&&(c.flags|=8192)):pn(c),p=c.updateQueue,p!==null&&zE(c,p.retryQueue),p=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048),A!==null&&Y(Xd),null;case 24:return p=null,A!==null&&(p=A.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),MA(Zn),pn(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function $te(A,c){switch(sF(c),c.tag){case 1:return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 3:return MA(Zn),se(),A=c.flags,(A&65536)!==0&&(A&128)===0?(c.flags=A&-65537|128,c):null;case 26:case 27:case 5:return Ve(c),null;case 31:if(c.memoizedState!==null){if(ms(c),c.alternate===null)throw Error(i(340));jd()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 13:if(ms(c),A=c.memoizedState,A!==null&&A.dehydrated!==null){if(c.alternate===null)throw Error(i(340));jd()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 19:return Y(Kn),null;case 4:return se(),null;case 10:return MA(c.type),null;case 22:case 23:return ms(c),wF(),A!==null&&Y(Xd),A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 24:return MA(Zn),null;case 25:return null;default:return null}}function zH(A,c){switch(sF(c),c.tag){case 3:MA(Zn),se();break;case 26:case 27:case 5:Ve(c);break;case 4:se();break;case 31:c.memoizedState!==null&&ms(c);break;case 13:ms(c);break;case 19:Y(Kn);break;case 10:MA(c.type);break;case 22:case 23:ms(c),wF(),A!==null&&Y(Xd);break;case 24:MA(Zn)}}function jy(A,c){try{var p=c.updateQueue,m=p!==null?p.lastEffect:null;if(m!==null){var B=m.next;p=B;do{if((p.tag&A)===A){m=void 0;var S=p.create,N=p.inst;m=S(),N.destroy=m}p=p.next}while(p!==B)}}catch(k){Lt(c,c.return,k)}}function Qu(A,c,p){try{var m=c.updateQueue,B=m!==null?m.lastEffect:null;if(B!==null){var S=B.next;m=S;do{if((m.tag&A)===A){var N=m.inst,k=N.destroy;if(k!==void 0){N.destroy=void 0,B=c;var j=p,re=k;try{re()}catch(de){Lt(B,j,de)}}}m=m.next}while(m!==S)}}catch(de){Lt(c,c.return,de)}}function qH(A){var c=A.updateQueue;if(c!==null){var p=A.stateNode;try{N2(c,p)}catch(m){Lt(A,A.return,m)}}}function $H(A,c,p){p.props=nf(A.type,A.memoizedProps),p.state=A.memoizedState;try{p.componentWillUnmount()}catch(m){Lt(A,c,m)}}function Wy(A,c){try{var p=A.ref;if(p!==null){switch(A.tag){case 26:case 27:case 5:var m=A.stateNode;break;case 30:m=A.stateNode;break;default:m=A.stateNode}typeof p=="function"?A.refCleanup=p(m):p.current=m}}catch(B){Lt(A,c,B)}}function Po(A,c){var p=A.ref,m=A.refCleanup;if(p!==null)if(typeof m=="function")try{m()}catch(B){Lt(A,c,B)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(B){Lt(A,c,B)}else p.current=null}function jH(A){var c=A.type,p=A.memoizedProps,m=A.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&m.focus();break e;case"img":p.src?m.src=p.src:p.srcSet&&(m.srcset=p.srcSet)}}catch(B){Lt(A,A.return,B)}}function JF(A,c,p){try{var m=A.stateNode;pne(m,A.type,p,c),m[lr]=c}catch(B){Lt(A,A.return,B)}}function WH(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&zu(A.type)||A.tag===4}function ZF(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||WH(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&zu(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function eU(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(A,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(A),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=_A));else if(m!==4&&(m===27&&zu(A.type)&&(p=A.stateNode,c=null),A=A.child,A!==null))for(eU(A,c,p),A=A.sibling;A!==null;)eU(A,c,p),A=A.sibling}function qE(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?p.insertBefore(A,c):p.appendChild(A);else if(m!==4&&(m===27&&zu(A.type)&&(p=A.stateNode),A=A.child,A!==null))for(qE(A,c,p),A=A.sibling;A!==null;)qE(A,c,p),A=A.sibling}function YH(A){var c=A.stateNode,p=A.memoizedProps;try{for(var m=A.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);Ki(c,m,p),c[Mn]=A,c[lr]=p}catch(S){Lt(A,A.return,S)}}var LA=!1,ni=!1,tU=!1,XH=typeof WeakSet=="function"?WeakSet:Set,Ei=null;function jte(A,c){if(A=A.containerInfo,bU=fS,A=l2(A),jI(A)){if("selectionStart"in A)var p={start:A.selectionStart,end:A.selectionEnd};else e:{p=(p=A.ownerDocument)&&p.defaultView||window;var m=p.getSelection&&p.getSelection();if(m&&m.rangeCount!==0){p=m.anchorNode;var B=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{p.nodeType,S.nodeType}catch{p=null;break e}var N=0,k=-1,j=-1,re=0,de=0,he=A,ae=null;t:for(;;){for(var Ae;he!==p||B!==0&&he.nodeType!==3||(k=N+B),he!==S||m!==0&&he.nodeType!==3||(j=N+m),he.nodeType===3&&(N+=he.nodeValue.length),(Ae=he.firstChild)!==null;)ae=he,he=Ae;for(;;){if(he===A)break t;if(ae===p&&++re===B&&(k=N),ae===S&&++de===m&&(j=N),(Ae=he.nextSibling)!==null)break;he=ae,ae=he.parentNode}he=Ae}p=k===-1||j===-1?null:{start:k,end:j}}else p=null}p=p||{start:0,end:0}}else p=null;for(BU={focusedElem:A,selectionRange:p},fS=!1,Ei=c;Ei!==null;)if(c=Ei,A=c.child,(c.subtreeFlags&1028)!==0&&A!==null)A.return=c,Ei=A;else for(;Ei!==null;){switch(c=Ei,S=c.alternate,A=c.flags,c.tag){case 0:if((A&4)!==0&&(A=c.updateQueue,A=A!==null?A.events:null,A!==null))for(p=0;p<A.length;p++)B=A[p],B.ref.impl=B.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&S!==null){A=void 0,p=c,B=S.memoizedProps,S=S.memoizedState,m=p.stateNode;try{var Re=nf(p.type,B);A=m.getSnapshotBeforeUpdate(Re,S),m.__reactInternalSnapshotBeforeUpdate=A}catch(ze){Lt(p,p.return,ze)}}break;case 3:if((A&1024)!==0){if(A=c.stateNode.containerInfo,p=A.nodeType,p===9)xU(A);else if(p===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":xU(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(i(163))}if(A=c.sibling,A!==null){A.return=c.return,Ei=A;break}Ei=c.return}}function JH(A,c,p){var m=p.flags;switch(p.tag){case 0:case 11:case 15:OA(A,p),m&4&&jy(5,p);break;case 1:if(OA(A,p),m&4)if(A=p.stateNode,c===null)try{A.componentDidMount()}catch(N){Lt(p,p.return,N)}else{var B=nf(p.type,c.memoizedProps);c=c.memoizedState;try{A.componentDidUpdate(B,c,A.__reactInternalSnapshotBeforeUpdate)}catch(N){Lt(p,p.return,N)}}m&64&&qH(p),m&512&&Wy(p,p.return);break;case 3:if(OA(A,p),m&64&&(A=p.updateQueue,A!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{N2(A,c)}catch(N){Lt(p,p.return,N)}}break;case 27:c===null&&m&4&&YH(p);case 26:case 5:OA(A,p),c===null&&m&4&&jH(p),m&512&&Wy(p,p.return);break;case 12:OA(A,p);break;case 31:OA(A,p),m&4&&t4(A,p);break;case 13:OA(A,p),m&4&&n4(A,p),m&64&&(A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(p=ine.bind(null,p),Bne(A,p))));break;case 22:if(m=p.memoizedState!==null||LA,!m){c=c!==null&&c.memoizedState!==null||ni,B=LA;var S=ni;LA=m,(ni=c)&&!S?kA(A,p,(p.subtreeFlags&8772)!==0):OA(A,p),LA=B,ni=S}break;case 30:break;default:OA(A,p)}}function ZH(A){var c=A.alternate;c!==null&&(A.alternate=null,ZH(c)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(c=A.stateNode,c!==null&&UI(c)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Cn=null,Gr=!1;function QA(A,c,p){for(p=p.child;p!==null;)e4(A,c,p),p=p.sibling}function e4(A,c,p){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(Io,p)}catch{}switch(p.tag){case 26:ni||Po(p,c),QA(A,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ni||Po(p,c);var m=Cn,B=Gr;zu(p.type)&&(Cn=p.stateNode,Gr=!1),QA(A,c,p),r0(p.stateNode),Cn=m,Gr=B;break;case 5:ni||Po(p,c);case 6:if(m=Cn,B=Gr,Cn=null,QA(A,c,p),Cn=m,Gr=B,Cn!==null)if(Gr)try{(Cn.nodeType===9?Cn.body:Cn.nodeName==="HTML"?Cn.ownerDocument.body:Cn).removeChild(p.stateNode)}catch(S){Lt(p,c,S)}else try{Cn.removeChild(p.stateNode)}catch(S){Lt(p,c,S)}break;case 18:Cn!==null&&(Gr?(A=Cn,q4(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,p.stateNode),ig(A)):q4(Cn,p.stateNode));break;case 4:m=Cn,B=Gr,Cn=p.stateNode.containerInfo,Gr=!0,QA(A,c,p),Cn=m,Gr=B;break;case 0:case 11:case 14:case 15:Qu(2,p,c),ni||Qu(4,p,c),QA(A,c,p);break;case 1:ni||(Po(p,c),m=p.stateNode,typeof m.componentWillUnmount=="function"&&$H(p,c,m)),QA(A,c,p);break;case 21:QA(A,c,p);break;case 22:ni=(m=ni)||p.memoizedState!==null,QA(A,c,p),ni=m;break;default:QA(A,c,p)}}function t4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{ig(A)}catch(p){Lt(c,c.return,p)}}}function n4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{ig(A)}catch(p){Lt(c,c.return,p)}}function Wte(A){switch(A.tag){case 31:case 13:case 19:var c=A.stateNode;return c===null&&(c=A.stateNode=new XH),c;case 22:return A=A.stateNode,c=A._retryCache,c===null&&(c=A._retryCache=new XH),c;default:throw Error(i(435,A.tag))}}function $E(A,c){var p=Wte(A);c.forEach(function(m){if(!p.has(m)){p.add(m);var B=rne.bind(null,A,m);m.then(B,B)}})}function zr(A,c){var p=c.deletions;if(p!==null)for(var m=0;m<p.length;m++){var B=p[m],S=A,N=c,k=N;e:for(;k!==null;){switch(k.tag){case 27:if(zu(k.type)){Cn=k.stateNode,Gr=!1;break e}break;case 5:Cn=k.stateNode,Gr=!1;break e;case 3:case 4:Cn=k.stateNode.containerInfo,Gr=!0;break e}k=k.return}if(Cn===null)throw Error(i(160));e4(S,N,B),Cn=null,Gr=!1,S=B.alternate,S!==null&&(S.return=null),B.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)i4(c,A),c=c.sibling}var Wa=null;function i4(A,c){var p=A.alternate,m=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:zr(c,A),qr(A),m&4&&(Qu(3,A,A.return),jy(3,A),Qu(5,A,A.return));break;case 1:zr(c,A),qr(A),m&512&&(ni||p===null||Po(p,p.return)),m&64&&LA&&(A=A.updateQueue,A!==null&&(m=A.callbacks,m!==null&&(p=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=p===null?m:p.concat(m))));break;case 26:var B=Wa;if(zr(c,A),qr(A),m&512&&(ni||p===null||Po(p,p.return)),m&4){var S=p!==null?p.memoizedState:null;if(m=A.memoizedState,p===null)if(m===null)if(A.stateNode===null){e:{m=A.type,p=A.memoizedProps,B=B.ownerDocument||B;t:switch(m){case"title":S=B.getElementsByTagName("title")[0],(!S||S[by]||S[Mn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=B.createElement(m),B.head.insertBefore(S,B.querySelector("head > title"))),Ki(S,m,p),S[Mn]=A,Bi(S),m=S;break e;case"link":var N=iV("link","href",B).get(m+(p.href||""));if(N){for(var k=0;k<N.length;k++)if(S=N[k],S.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&S.getAttribute("rel")===(p.rel==null?null:p.rel)&&S.getAttribute("title")===(p.title==null?null:p.title)&&S.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){N.splice(k,1);break t}}S=B.createElement(m),Ki(S,m,p),B.head.appendChild(S);break;case"meta":if(N=iV("meta","content",B).get(m+(p.content||""))){for(k=0;k<N.length;k++)if(S=N[k],S.getAttribute("content")===(p.content==null?null:""+p.content)&&S.getAttribute("name")===(p.name==null?null:p.name)&&S.getAttribute("property")===(p.property==null?null:p.property)&&S.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&S.getAttribute("charset")===(p.charSet==null?null:p.charSet)){N.splice(k,1);break t}}S=B.createElement(m),Ki(S,m,p),B.head.appendChild(S);break;default:throw Error(i(468,m))}S[Mn]=A,Bi(S),m=S}A.stateNode=m}else rV(B,A.type,A.stateNode);else A.stateNode=nV(B,m,A.memoizedProps);else S!==m?(S===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):S.count--,m===null?rV(B,A.type,A.stateNode):nV(B,m,A.memoizedProps)):m===null&&A.stateNode!==null&&JF(A,A.memoizedProps,p.memoizedProps)}break;case 27:zr(c,A),qr(A),m&512&&(ni||p===null||Po(p,p.return)),p!==null&&m&4&&JF(A,A.memoizedProps,p.memoizedProps);break;case 5:if(zr(c,A),qr(A),m&512&&(ni||p===null||Po(p,p.return)),A.flags&32){B=A.stateNode;try{xp(B,"")}catch(Re){Lt(A,A.return,Re)}}m&4&&A.stateNode!=null&&(B=A.memoizedProps,JF(A,B,p!==null?p.memoizedProps:B)),m&1024&&(tU=!0);break;case 6:if(zr(c,A),qr(A),m&4){if(A.stateNode===null)throw Error(i(162));m=A.memoizedProps,p=A.stateNode;try{p.nodeValue=m}catch(Re){Lt(A,A.return,Re)}}break;case 3:if(lS=null,B=Wa,Wa=oS(c.containerInfo),zr(c,A),Wa=B,qr(A),m&4&&p!==null&&p.memoizedState.isDehydrated)try{ig(c.containerInfo)}catch(Re){Lt(A,A.return,Re)}tU&&(tU=!1,r4(A));break;case 4:m=Wa,Wa=oS(A.stateNode.containerInfo),zr(c,A),qr(A),Wa=m;break;case 12:zr(c,A),qr(A);break;case 31:zr(c,A),qr(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,$E(A,m)));break;case 13:zr(c,A),qr(A),A.child.flags&8192&&A.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(WE=te()),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,$E(A,m)));break;case 22:B=A.memoizedState!==null;var j=p!==null&&p.memoizedState!==null,re=LA,de=ni;if(LA=re||B,ni=de||j,zr(c,A),ni=de,LA=re,qr(A),m&8192)e:for(c=A.stateNode,c._visibility=B?c._visibility&-2:c._visibility|1,B&&(p===null||j||LA||ni||rf(A)),p=null,c=A;;){if(c.tag===5||c.tag===26){if(p===null){j=p=c;try{if(S=j.stateNode,B)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{k=j.stateNode;var he=j.memoizedProps.style,ae=he!=null&&he.hasOwnProperty("display")?he.display:null;k.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Re){Lt(j,j.return,Re)}}}else if(c.tag===6){if(p===null){j=c;try{j.stateNode.nodeValue=B?"":j.memoizedProps}catch(Re){Lt(j,j.return,Re)}}}else if(c.tag===18){if(p===null){j=c;try{var Ae=j.stateNode;B?$4(Ae,!0):$4(j.stateNode,!1)}catch(Re){Lt(j,j.return,Re)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===A)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break e;for(;c.sibling===null;){if(c.return===null||c.return===A)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=A.updateQueue,m!==null&&(p=m.retryQueue,p!==null&&(m.retryQueue=null,$E(A,p))));break;case 19:zr(c,A),qr(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,$E(A,m)));break;case 30:break;case 21:break;default:zr(c,A),qr(A)}}function qr(A){var c=A.flags;if(c&2){try{for(var p,m=A.return;m!==null;){if(WH(m)){p=m;break}m=m.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var B=p.stateNode,S=ZF(A);qE(A,S,B);break;case 5:var N=p.stateNode;p.flags&32&&(xp(N,""),p.flags&=-33);var k=ZF(A);qE(A,k,N);break;case 3:case 4:var j=p.stateNode.containerInfo,re=ZF(A);eU(A,re,j);break;default:throw Error(i(161))}}catch(de){Lt(A,A.return,de)}A.flags&=-3}c&4096&&(A.flags&=-4097)}function r4(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var c=A;r4(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),A=A.sibling}}function OA(A,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)JH(A,c.alternate,c),c=c.sibling}function rf(A){for(A=A.child;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 14:case 15:Qu(4,c,c.return),rf(c);break;case 1:Po(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&$H(c,c.return,p),rf(c);break;case 27:r0(c.stateNode);case 26:case 5:Po(c,c.return),rf(c);break;case 22:c.memoizedState===null&&rf(c);break;case 30:rf(c);break;default:rf(c)}A=A.sibling}}function kA(A,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,B=A,S=c,N=S.flags;switch(S.tag){case 0:case 11:case 15:kA(B,S,p),jy(4,S);break;case 1:if(kA(B,S,p),m=S,B=m.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(re){Lt(m,m.return,re)}if(m=S,B=m.updateQueue,B!==null){var k=m.stateNode;try{var j=B.shared.hiddenCallbacks;if(j!==null)for(B.shared.hiddenCallbacks=null,B=0;B<j.length;B++)D2(j[B],k)}catch(re){Lt(m,m.return,re)}}p&&N&64&&qH(S),Wy(S,S.return);break;case 27:YH(S);case 26:case 5:kA(B,S,p),p&&m===null&&N&4&&jH(S),Wy(S,S.return);break;case 12:kA(B,S,p);break;case 31:kA(B,S,p),p&&N&4&&t4(B,S);break;case 13:kA(B,S,p),p&&N&4&&n4(B,S);break;case 22:S.memoizedState===null&&kA(B,S,p),Wy(S,S.return);break;case 30:break;default:kA(B,S,p)}c=c.sibling}}function nU(A,c){var p=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),A=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(A=c.memoizedState.cachePool.pool),A!==p&&(A!=null&&A.refCount++,p!=null&&Dy(p))}function iU(A,c){A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&Dy(A))}function Ya(A,c,p,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)s4(A,c,p,m),c=c.sibling}function s4(A,c,p,m){var B=c.flags;switch(c.tag){case 0:case 11:case 15:Ya(A,c,p,m),B&2048&&jy(9,c);break;case 1:Ya(A,c,p,m);break;case 3:Ya(A,c,p,m),B&2048&&(A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&Dy(A)));break;case 12:if(B&2048){Ya(A,c,p,m),A=c.stateNode;try{var S=c.memoizedProps,N=S.id,k=S.onPostCommit;typeof k=="function"&&k(N,c.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(j){Lt(c,c.return,j)}}else Ya(A,c,p,m);break;case 31:Ya(A,c,p,m);break;case 13:Ya(A,c,p,m);break;case 23:break;case 22:S=c.stateNode,N=c.alternate,c.memoizedState!==null?S._visibility&2?Ya(A,c,p,m):Yy(A,c):S._visibility&2?Ya(A,c,p,m):(S._visibility|=2,qp(A,c,p,m,(c.subtreeFlags&10256)!==0||!1)),B&2048&&nU(N,c);break;case 24:Ya(A,c,p,m),B&2048&&iU(c.alternate,c);break;default:Ya(A,c,p,m)}}function qp(A,c,p,m,B){for(B=B&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var S=A,N=c,k=p,j=m,re=N.flags;switch(N.tag){case 0:case 11:case 15:qp(S,N,k,j,B),jy(8,N);break;case 23:break;case 22:var de=N.stateNode;N.memoizedState!==null?de._visibility&2?qp(S,N,k,j,B):Yy(S,N):(de._visibility|=2,qp(S,N,k,j,B)),B&&re&2048&&nU(N.alternate,N);break;case 24:qp(S,N,k,j,B),B&&re&2048&&iU(N.alternate,N);break;default:qp(S,N,k,j,B)}c=c.sibling}}function Yy(A,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=A,m=c,B=m.flags;switch(m.tag){case 22:Yy(p,m),B&2048&&nU(m.alternate,m);break;case 24:Yy(p,m),B&2048&&iU(m.alternate,m);break;default:Yy(p,m)}c=c.sibling}}var Xy=8192;function $p(A,c,p){if(A.subtreeFlags&Xy)for(A=A.child;A!==null;)a4(A,c,p),A=A.sibling}function a4(A,c,p){switch(A.tag){case 26:$p(A,c,p),A.flags&Xy&&A.memoizedState!==null&&Dne(p,Wa,A.memoizedState,A.memoizedProps);break;case 5:$p(A,c,p);break;case 3:case 4:var m=Wa;Wa=oS(A.stateNode.containerInfo),$p(A,c,p),Wa=m;break;case 22:A.memoizedState===null&&(m=A.alternate,m!==null&&m.memoizedState!==null?(m=Xy,Xy=16777216,$p(A,c,p),Xy=m):$p(A,c,p));break;default:$p(A,c,p)}}function o4(A){var c=A.alternate;if(c!==null&&(A=c.child,A!==null)){c.child=null;do c=A.sibling,A.sibling=null,A=c;while(A!==null)}}function Jy(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];Ei=m,l4(m,A)}o4(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)A4(A),A=A.sibling}function A4(A){switch(A.tag){case 0:case 11:case 15:Jy(A),A.flags&2048&&Qu(9,A,A.return);break;case 3:Jy(A);break;case 12:Jy(A);break;case 22:var c=A.stateNode;A.memoizedState!==null&&c._visibility&2&&(A.return===null||A.return.tag!==13)?(c._visibility&=-3,jE(A)):Jy(A);break;default:Jy(A)}}function jE(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];Ei=m,l4(m,A)}o4(A)}for(A=A.child;A!==null;){switch(c=A,c.tag){case 0:case 11:case 15:Qu(8,c,c.return),jE(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,jE(c));break;default:jE(c)}A=A.sibling}}function l4(A,c){for(;Ei!==null;){var p=Ei;switch(p.tag){case 0:case 11:case 15:Qu(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var m=p.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Dy(p.memoizedState.cache)}if(m=p.child,m!==null)m.return=p,Ei=m;else e:for(p=A;Ei!==null;){m=Ei;var B=m.sibling,S=m.return;if(ZH(m),m===p){Ei=null;break e}if(B!==null){B.return=S,Ei=B;break e}Ei=S}}}var Yte={getCacheForType:function(A){var c=Hi(Zn),p=c.data.get(A);return p===void 0&&(p=A(),c.data.set(A,p)),p},cacheSignal:function(){return Hi(Zn).controller.signal}},Xte=typeof WeakMap=="function"?WeakMap:Map,Ft=0,en=null,dt=null,ht=0,Nt=0,vs=null,Ou=!1,jp=!1,rU=!1,HA=0,Rn=0,ku=0,sf=0,sU=0,ys=0,Wp=0,Zy=null,$r=null,aU=!1,WE=0,u4=0,YE=1/0,XE=null,Hu=null,ci=0,Vu=null,Yp=null,VA=0,oU=0,AU=null,c4=null,e0=0,lU=null;function ws(){return(Ft&2)!==0&&ht!==0?ht&-ht:G.T!==null?pU():Dt()}function d4(){if(ys===0)if((ht&536870912)===0||yt){var A=mp;mp<<=1,(mp&3932160)===0&&(mp=262144),ys=A}else ys=536870912;return A=gs.current,A!==null&&(A.flags|=32),ys}function jr(A,c,p){(A===en&&(Nt===2||Nt===9)||A.cancelPendingCommit!==null)&&(Xp(A,0),Ku(A,ht,ys,!1)),Hd(A,p),((Ft&2)===0||A!==en)&&(A===en&&((Ft&2)===0&&(sf|=p),Rn===4&&Ku(A,ht,ys,!1)),Ro(A))}function f4(A,c,p){if((Ft&6)!==0)throw Error(i(327));var m=!p&&(c&127)===0&&(c&A.expiredLanes)===0||SA(A,c),B=m?ene(A,c):cU(A,c,!0),S=m;do{if(B===0){jp&&!m&&Ku(A,c,0,!1);break}else{if(p=A.current.alternate,S&&!Jte(p)){B=cU(A,c,!1),S=!1;continue}if(B===2){if(S=c,A.errorRecoveryDisabledLanes&S)var N=0;else N=A.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){c=N;e:{var k=A;B=Zy;var j=k.current.memoizedState.isDehydrated;if(j&&(Xp(k,N).flags|=256),N=cU(k,N,!1),N!==2){if(rU&&!j){k.errorRecoveryDisabledLanes|=S,sf|=S,B=4;break e}S=$r,$r=B,S!==null&&($r===null?$r=S:$r.push.apply($r,S))}B=N}if(S=!1,B!==2)continue}}if(B===1){Xp(A,0),Ku(A,c,0,!0);break}e:{switch(m=A,S=B,S){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Ku(m,c,ys,!Ou);break e;case 2:$r=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(B=WE+300-te(),10<B)){if(Ku(m,c,ys,!Ou),yp(m,0,!0)!==0)break e;VA=c,m.timeoutHandle=G4(h4.bind(null,m,p,$r,XE,aU,c,ys,sf,Wp,Ou,S,"Throttled",-0,0),B);break e}h4(m,p,$r,XE,aU,c,ys,sf,Wp,Ou,S,null,-0,0)}}break}while(!0);Ro(A)}function h4(A,c,p,m,B,S,N,k,j,re,de,he,ae,Ae){if(A.timeoutHandle=-1,he=c.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_A},a4(c,S,he);var Re=(S&62914560)===S?WE-te():(S&4194048)===S?u4-te():0;if(Re=Nne(he,Re),Re!==null){VA=S,A.cancelPendingCommit=Re(b4.bind(null,A,c,S,p,m,B,N,k,j,de,he,null,ae,Ae)),Ku(A,S,N,!re);return}}b4(A,c,S,p,m,B,N,k,j)}function Jte(A){for(var c=A;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var m=0;m<p.length;m++){var B=p[m],S=B.getSnapshot;B=B.value;try{if(!hs(S(),B))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ku(A,c,p,m){c&=~sU,c&=~sf,A.suspendedLanes|=c,A.pingedLanes&=~c,m&&(A.warmLanes|=c),m=A.expirationTimes;for(var B=c;0<B;){var S=31-Sr(B),N=1<<S;m[S]=-1,B&=~N}p!==0&&oE(A,p,c)}function JE(){return(Ft&6)===0?(t0(0),!1):!0}function uU(){if(dt!==null){if(Nt===0)var A=dt.return;else A=dt,UA=Wd=null,xF(A),Hp=null,Ly=0,A=dt;for(;A!==null;)zH(A.alternate,A),A=A.return;dt=null}}function Xp(A,c){var p=A.timeoutHandle;p!==-1&&(A.timeoutHandle=-1,vne(p)),p=A.cancelPendingCommit,p!==null&&(A.cancelPendingCommit=null,p()),VA=0,uU(),en=A,dt=p=IA(A.current,null),ht=c,Nt=0,vs=null,Ou=!1,jp=SA(A,c),rU=!1,Wp=ys=sU=sf=ku=Rn=0,$r=Zy=null,aU=!1,(c&8)!==0&&(c|=c&32);var m=A.entangledLanes;if(m!==0)for(A=A.entanglements,m&=c;0<m;){var B=31-Sr(m),S=1<<B;c|=A[B],m&=~S}return HA=c,yE(),p}function p4(A,c){tt=null,G.H=zy,c===kp||c===_E?(c=U2(),Nt=3):c===hF?(c=U2(),Nt=4):Nt=c===VF?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,vs=c,dt===null&&(Rn=1,HE(A,sa(c,A.current)))}function g4(){var A=gs.current;return A===null?!0:(ht&4194048)===ht?la===null:(ht&62914560)===ht||(ht&536870912)!==0?A===la:!1}function m4(){var A=G.H;return G.H=zy,A===null?zy:A}function v4(){var A=G.A;return G.A=Yte,A}function ZE(){Rn=4,Ou||(ht&4194048)!==ht&&gs.current!==null||(jp=!0),(ku&134217727)===0&&(sf&134217727)===0||en===null||Ku(en,ht,ys,!1)}function cU(A,c,p){var m=Ft;Ft|=2;var B=m4(),S=v4();(en!==A||ht!==c)&&(XE=null,Xp(A,c)),c=!1;var N=Rn;e:do try{if(Nt!==0&&dt!==null){var k=dt,j=vs;switch(Nt){case 8:uU(),N=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(c=!0);var re=Nt;if(Nt=0,vs=null,Jp(A,k,j,re),p&&jp){N=0;break e}break;default:re=Nt,Nt=0,vs=null,Jp(A,k,j,re)}}Zte(),N=Rn;break}catch(de){p4(A,de)}while(!0);return c&&A.shellSuspendCounter++,UA=Wd=null,Ft=m,G.H=B,G.A=S,dt===null&&(en=null,ht=0,yE()),N}function Zte(){for(;dt!==null;)y4(dt)}function ene(A,c){var p=Ft;Ft|=2;var m=m4(),B=v4();en!==A||ht!==c?(XE=null,YE=te()+500,Xp(A,c)):jp=SA(A,c);e:do try{if(Nt!==0&&dt!==null){c=dt;var S=vs;t:switch(Nt){case 1:Nt=0,vs=null,Jp(A,c,S,1);break;case 2:case 9:if(I2(S)){Nt=0,vs=null,w4(c);break}c=function(){Nt!==2&&Nt!==9||en!==A||(Nt=7),Ro(A)},S.then(c,c);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:I2(S)?(Nt=0,vs=null,w4(c)):(Nt=0,vs=null,Jp(A,c,S,7));break;case 5:var N=null;switch(dt.tag){case 26:N=dt.memoizedState;case 5:case 27:var k=dt;if(N?sV(N):k.stateNode.complete){Nt=0,vs=null;var j=k.sibling;if(j!==null)dt=j;else{var re=k.return;re!==null?(dt=re,eS(re)):dt=null}break t}}Nt=0,vs=null,Jp(A,c,S,5);break;case 6:Nt=0,vs=null,Jp(A,c,S,6);break;case 8:uU(),Rn=6;break e;default:throw Error(i(462))}}tne();break}catch(de){p4(A,de)}while(!0);return UA=Wd=null,G.H=m,G.A=B,Ft=p,dt!==null?0:(en=null,ht=0,yE(),Rn)}function tne(){for(;dt!==null&&!Od();)y4(dt)}function y4(A){var c=KH(A.alternate,A,HA);A.memoizedProps=A.pendingProps,c===null?eS(A):dt=c}function w4(A){var c=A,p=c.alternate;switch(c.tag){case 15:case 0:c=LH(p,c,c.pendingProps,c.type,void 0,ht);break;case 11:c=LH(p,c,c.pendingProps,c.type.render,c.ref,ht);break;case 5:xF(c);default:zH(p,c),c=dt=v2(c,HA),c=KH(p,c,HA)}A.memoizedProps=A.pendingProps,c===null?eS(A):dt=c}function Jp(A,c,p,m){UA=Wd=null,xF(c),Hp=null,Ly=0;var B=c.return;try{if(Kte(A,B,c,p,ht)){Rn=1,HE(A,sa(p,A.current)),dt=null;return}}catch(S){if(B!==null)throw dt=B,S;Rn=1,HE(A,sa(p,A.current)),dt=null;return}c.flags&32768?(yt||m===1?A=!0:jp||(ht&536870912)!==0?A=!1:(Ou=A=!0,(m===2||m===9||m===3||m===6)&&(m=gs.current,m!==null&&m.tag===13&&(m.flags|=16384))),C4(c,A)):eS(c)}function eS(A){var c=A;do{if((c.flags&32768)!==0){C4(c,Ou);return}A=c.return;var p=qte(c.alternate,c,HA);if(p!==null){dt=p;return}if(c=c.sibling,c!==null){dt=c;return}dt=c=A}while(c!==null);Rn===0&&(Rn=5)}function C4(A,c){do{var p=$te(A.alternate,A);if(p!==null){p.flags&=32767,dt=p;return}if(p=A.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(A=A.sibling,A!==null)){dt=A;return}dt=A=p}while(A!==null);Rn=6,dt=null}function b4(A,c,p,m,B,S,N,k,j){A.cancelPendingCommit=null;do tS();while(ci!==0);if((Ft&6)!==0)throw Error(i(327));if(c!==null){if(c===A.current)throw Error(i(177));if(S=c.lanes|c.childLanes,S|=ZI,II(A,p,S,N,k,j),A===en&&(dt=en=null,ht=0),Yp=c,Vu=A,VA=p,oU=S,AU=B,c4=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,sne(Oe,function(){return _4(),null})):(A.callbackNode=null,A.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,B=z.p,z.p=2,N=Ft,Ft|=4;try{jte(A,c,p)}finally{Ft=N,z.p=B,G.T=m}}ci=1,B4(),E4(),S4()}}function B4(){if(ci===1){ci=0;var A=Vu,c=Yp,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=G.T,G.T=null;var m=z.p;z.p=2;var B=Ft;Ft|=4;try{i4(c,A);var S=BU,N=l2(A.containerInfo),k=S.focusedElem,j=S.selectionRange;if(N!==k&&k&&k.ownerDocument&&A2(k.ownerDocument.documentElement,k)){if(j!==null&&jI(k)){var re=j.start,de=j.end;if(de===void 0&&(de=re),"selectionStart"in k)k.selectionStart=re,k.selectionEnd=Math.min(de,k.value.length);else{var he=k.ownerDocument||document,ae=he&&he.defaultView||window;if(ae.getSelection){var Ae=ae.getSelection(),Re=k.textContent.length,ze=Math.min(j.start,Re),Gt=j.end===void 0?ze:Math.min(j.end,Re);!Ae.extend&&ze>Gt&&(N=Gt,Gt=ze,ze=N);var J=o2(k,ze),W=o2(k,Gt);if(J&&W&&(Ae.rangeCount!==1||Ae.anchorNode!==J.node||Ae.anchorOffset!==J.offset||Ae.focusNode!==W.node||Ae.focusOffset!==W.offset)){var ie=he.createRange();ie.setStart(J.node,J.offset),Ae.removeAllRanges(),ze>Gt?(Ae.addRange(ie),Ae.extend(W.node,W.offset)):(ie.setEnd(W.node,W.offset),Ae.addRange(ie))}}}}for(he=[],Ae=k;Ae=Ae.parentNode;)Ae.nodeType===1&&he.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<he.length;k++){var fe=he[k];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}fS=!!bU,BU=bU=null}finally{Ft=B,z.p=m,G.T=p}}A.current=c,ci=2}}function E4(){if(ci===2){ci=0;var A=Vu,c=Yp,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=G.T,G.T=null;var m=z.p;z.p=2;var B=Ft;Ft|=4;try{JH(A,c.alternate,c)}finally{Ft=B,z.p=m,G.T=p}}ci=3}}function S4(){if(ci===4||ci===3){ci=0,Be();var A=Vu,c=Yp,p=VA,m=c4;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ci=5:(ci=0,Yp=Vu=null,x4(A,A.pendingLanes));var B=A.pendingLanes;if(B===0&&(Hu=null),Ke(p),c=c.stateNode,Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(Io,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=G.T,B=z.p,z.p=2,G.T=null;try{for(var S=A.onRecoverableError,N=0;N<m.length;N++){var k=m[N];S(k.value,{componentStack:k.stack})}}finally{G.T=c,z.p=B}}(VA&3)!==0&&tS(),Ro(A),B=A.pendingLanes,(p&261930)!==0&&(B&42)!==0?A===lU?e0++:(e0=0,lU=A):e0=0,t0(0)}}function x4(A,c){(A.pooledCacheLanes&=c)===0&&(c=A.pooledCache,c!=null&&(A.pooledCache=null,Dy(c)))}function tS(){return B4(),E4(),S4(),_4()}function _4(){if(ci!==5)return!1;var A=Vu,c=oU;oU=0;var p=Ke(VA),m=G.T,B=z.p;try{z.p=32>p?32:p,G.T=null,p=AU,AU=null;var S=Vu,N=VA;if(ci=0,Yp=Vu=null,VA=0,(Ft&6)!==0)throw Error(i(331));var k=Ft;if(Ft|=4,A4(S.current),s4(S,S.current,N,p),Ft=k,t0(0,!1),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(Io,S)}catch{}return!0}finally{z.p=B,G.T=m,x4(A,c)}}function T4(A,c,p){c=sa(p,c),c=HF(A.stateNode,c,2),A=Du(A,c,2),A!==null&&(Hd(A,2),Ro(A))}function Lt(A,c,p){if(A.tag===3)T4(A,A,p);else for(;c!==null;){if(c.tag===3){T4(c,A,p);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Hu===null||!Hu.has(m))){A=sa(p,A),p=IH(2),m=Du(c,p,2),m!==null&&(FH(p,m,c,A),Hd(m,2),Ro(m));break}}c=c.return}}function dU(A,c,p){var m=A.pingCache;if(m===null){m=A.pingCache=new Xte;var B=new Set;m.set(c,B)}else B=m.get(c),B===void 0&&(B=new Set,m.set(c,B));B.has(p)||(rU=!0,B.add(p),A=nne.bind(null,A,c,p),c.then(A,A))}function nne(A,c,p){var m=A.pingCache;m!==null&&m.delete(c),A.pingedLanes|=A.suspendedLanes&p,A.warmLanes&=~p,en===A&&(ht&p)===p&&(Rn===4||Rn===3&&(ht&62914560)===ht&&300>te()-WE?(Ft&2)===0&&Xp(A,0):sU|=p,Wp===ht&&(Wp=0)),Ro(A)}function I4(A,c){c===0&&(c=aE()),A=qd(A,c),A!==null&&(Hd(A,c),Ro(A))}function ine(A){var c=A.memoizedState,p=0;c!==null&&(p=c.retryLane),I4(A,p)}function rne(A,c){var p=0;switch(A.tag){case 31:case 13:var m=A.stateNode,B=A.memoizedState;B!==null&&(p=B.retryLane);break;case 19:m=A.stateNode;break;case 22:m=A.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(c),I4(A,p)}function sne(A,c){return _o(A,c)}var nS=null,Zp=null,fU=!1,iS=!1,hU=!1,Gu=0;function Ro(A){A!==Zp&&A.next===null&&(Zp===null?nS=Zp=A:Zp=Zp.next=A),iS=!0,fU||(fU=!0,one())}function t0(A,c){if(!hU&&iS){hU=!0;do for(var p=!1,m=nS;m!==null;){if(A!==0){var B=m.pendingLanes;if(B===0)var S=0;else{var N=m.suspendedLanes,k=m.pingedLanes;S=(1<<31-Sr(42|A)+1)-1,S&=B&~(N&~k),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(p=!0,P4(m,S))}else S=ht,S=yp(m,m===en?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||SA(m,S)||(p=!0,P4(m,S));m=m.next}while(p);hU=!1}}function ane(){F4()}function F4(){iS=fU=!1;var A=0;Gu!==0&&mne()&&(A=Gu);for(var c=te(),p=null,m=nS;m!==null;){var B=m.next,S=U4(m,c);S===0?(m.next=null,p===null?nS=B:p.next=B,B===null&&(Zp=p)):(p=m,(A!==0||(S&3)!==0)&&(iS=!0)),m=B}ci!==0&&ci!==5||t0(A),Gu!==0&&(Gu=0)}function U4(A,c){for(var p=A.suspendedLanes,m=A.pingedLanes,B=A.expirationTimes,S=A.pendingLanes&-62914561;0<S;){var N=31-Sr(S),k=1<<N,j=B[N];j===-1?((k&p)===0||(k&m)!==0)&&(B[N]=TI(k,c)):j<=c&&(A.expiredLanes|=k),S&=~k}if(c=en,p=ht,p=yp(A,A===c?p:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m=A.callbackNode,p===0||A===c&&(Nt===2||Nt===9)||A.cancelPendingCommit!==null)return m!==null&&m!==null&&To(m),A.callbackNode=null,A.callbackPriority=0;if((p&3)===0||SA(A,p)){if(c=p&-p,c===A.callbackPriority)return c;switch(m!==null&&To(m),Ke(p)){case 2:case 8:p=vt;break;case 32:p=Oe;break;case 268435456:p=Rt;break;default:p=Oe}return m=M4.bind(null,A),p=_o(p,m),A.callbackPriority=c,A.callbackNode=p,c}return m!==null&&m!==null&&To(m),A.callbackPriority=2,A.callbackNode=null,2}function M4(A,c){if(ci!==0&&ci!==5)return A.callbackNode=null,A.callbackPriority=0,null;var p=A.callbackNode;if(tS()&&A.callbackNode!==p)return null;var m=ht;return m=yp(A,A===en?m:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m===0?null:(f4(A,m,c),U4(A,te()),A.callbackNode!=null&&A.callbackNode===p?M4.bind(null,A):null)}function P4(A,c){if(tS())return null;f4(A,c,!0)}function one(){yne(function(){(Ft&6)!==0?_o(Ue,ane):F4()})}function pU(){if(Gu===0){var A=Qp;A===0&&(A=kd,kd<<=1,(kd&261888)===0&&(kd=256)),Gu=A}return Gu}function R4(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:cE(""+A)}function D4(A,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,A.id&&p.setAttribute("form",A.id),c.parentNode.insertBefore(p,c),A=new FormData(A),p.parentNode.removeChild(p),A}function Ane(A,c,p,m,B){if(c==="submit"&&p&&p.stateNode===B){var S=R4((B[lr]||null).action),N=m.submitter;N&&(c=(c=N[lr]||null)?R4(c.formAction):N.getAttribute("formAction"),c!==null&&(S=c,N=null));var k=new pE("action","action",null,m,B);A.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Gu!==0){var j=N?D4(B,N):new FormData(B);DF(p,{pending:!0,data:j,method:B.method,action:S},null,j)}}else typeof S=="function"&&(k.preventDefault(),j=N?D4(B,N):new FormData(B),DF(p,{pending:!0,data:j,method:B.method,action:S},S,j))},currentTarget:B}]})}}for(var gU=0;gU<JI.length;gU++){var mU=JI[gU],lne=mU.toLowerCase(),une=mU[0].toUpperCase()+mU.slice(1);ja(lne,"on"+une)}ja(d2,"onAnimationEnd"),ja(f2,"onAnimationIteration"),ja(h2,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(xte,"onTransitionRun"),ja(_te,"onTransitionStart"),ja(Tte,"onTransitionCancel"),ja(p2,"onTransitionEnd"),Ep("onMouseEnter",["mouseout","mouseover"]),Ep("onMouseLeave",["mouseout","mouseover"]),Ep("onPointerEnter",["pointerout","pointerover"]),Ep("onPointerLeave",["pointerout","pointerover"]),Vd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vd("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var n0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cne=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(n0));function N4(A,c){c=(c&4)!==0;for(var p=0;p<A.length;p++){var m=A[p],B=m.event;m=m.listeners;e:{var S=void 0;if(c)for(var N=m.length-1;0<=N;N--){var k=m[N],j=k.instance,re=k.currentTarget;if(k=k.listener,j!==S&&B.isPropagationStopped())break e;S=k,B.currentTarget=re;try{S(B)}catch(de){vE(de)}B.currentTarget=null,S=j}else for(N=0;N<m.length;N++){if(k=m[N],j=k.instance,re=k.currentTarget,k=k.listener,j!==S&&B.isPropagationStopped())break e;S=k,B.currentTarget=re;try{S(B)}catch(de){vE(de)}B.currentTarget=null,S=j}}}}function ft(A,c){var p=c[FI];p===void 0&&(p=c[FI]=new Set);var m=A+"__bubble";p.has(m)||(L4(c,A,2,!1),p.add(m))}function vU(A,c,p){var m=0;c&&(m|=4),L4(p,A,m,c)}var rS="_reactListening"+Math.random().toString(36).slice(2);function yU(A){if(!A[rS]){A[rS]=!0,Fk.forEach(function(p){p!=="selectionchange"&&(cne.has(p)||vU(p,!1,A),vU(p,!0,A))});var c=A.nodeType===9?A:A.ownerDocument;c===null||c[rS]||(c[rS]=!0,vU("selectionchange",!1,c))}}function L4(A,c,p,m){switch(dV(c)){case 2:var B=One;break;case 8:B=kne;break;default:B=RU}p=B.bind(null,c,p,A),B=void 0,!OI||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(B=!0),m?B!==void 0?A.addEventListener(c,p,{capture:!0,passive:B}):A.addEventListener(c,p,!0):B!==void 0?A.addEventListener(c,p,{passive:B}):A.addEventListener(c,p,!1)}function wU(A,c,p,m,B){var S=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var k=m.stateNode.containerInfo;if(k===B)break;if(N===4)for(N=m.return;N!==null;){var j=N.tag;if((j===3||j===4)&&N.stateNode.containerInfo===B)return;N=N.return}for(;k!==null;){if(N=Cp(k),N===null)return;if(j=N.tag,j===5||j===6||j===26||j===27){m=S=N;continue e}k=k.parentNode}}m=m.return}Vk(function(){var re=S,de=LI(p),he=[];e:{var ae=g2.get(A);if(ae!==void 0){var Ae=pE,Re=A;switch(A){case"keypress":if(fE(p)===0)break e;case"keydown":case"keyup":Ae=rte;break;case"focusin":Re="focus",Ae=KI;break;case"focusout":Re="blur",Ae=KI;break;case"beforeblur":case"afterblur":Ae=KI;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=zk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=qee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=ote;break;case d2:case f2:case h2:Ae=Wee;break;case p2:Ae=lte;break;case"scroll":case"scrollend":Ae=Gee;break;case"wheel":Ae=cte;break;case"copy":case"cut":case"paste":Ae=Xee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=$k;break;case"toggle":case"beforetoggle":Ae=fte}var ze=(c&4)!==0,Gt=!ze&&(A==="scroll"||A==="scrollend"),J=ze?ae!==null?ae+"Capture":null:ae;ze=[];for(var W=re,ie;W!==null;){var fe=W;if(ie=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ie===null||J===null||(fe=Ey(W,J),fe!=null&&ze.push(i0(W,fe,ie))),Gt)break;W=W.return}0<ze.length&&(ae=new Ae(ae,Re,null,p,de),he.push({event:ae,listeners:ze}))}}if((c&7)===0){e:{if(ae=A==="mouseover"||A==="pointerover",Ae=A==="mouseout"||A==="pointerout",ae&&p!==NI&&(Re=p.relatedTarget||p.fromElement)&&(Cp(Re)||Re[wp]))break e;if((Ae||ae)&&(ae=de.window===de?de:(ae=de.ownerDocument)?ae.defaultView||ae.parentWindow:window,Ae?(Re=p.relatedTarget||p.toElement,Ae=re,Re=Re?Cp(Re):null,Re!==null&&(Gt=s(Re),ze=Re.tag,Re!==Gt||ze!==5&&ze!==27&&ze!==6)&&(Re=null)):(Ae=null,Re=re),Ae!==Re)){if(ze=zk,fe="onMouseLeave",J="onMouseEnter",W="mouse",(A==="pointerout"||A==="pointerover")&&(ze=$k,fe="onPointerLeave",J="onPointerEnter",W="pointer"),Gt=Ae==null?ae:By(Ae),ie=Re==null?ae:By(Re),ae=new ze(fe,W+"leave",Ae,p,de),ae.target=Gt,ae.relatedTarget=ie,fe=null,Cp(de)===re&&(ze=new ze(J,W+"enter",Re,p,de),ze.target=ie,ze.relatedTarget=Gt,fe=ze),Gt=fe,Ae&&Re)t:{for(ze=dne,J=Ae,W=Re,ie=0,fe=J;fe;fe=ze(fe))ie++;fe=0;for(var He=W;He;He=ze(He))fe++;for(;0<ie-fe;)J=ze(J),ie--;for(;0<fe-ie;)W=ze(W),fe--;for(;ie--;){if(J===W||W!==null&&J===W.alternate){ze=J;break t}J=ze(J),W=ze(W)}ze=null}else ze=null;Ae!==null&&Q4(he,ae,Ae,ze,!1),Re!==null&&Gt!==null&&Q4(he,Gt,Re,ze,!0)}}e:{if(ae=re?By(re):window,Ae=ae.nodeName&&ae.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&ae.type==="file")var St=t2;else if(Zk(ae))if(n2)St=Bte;else{St=Cte;var Ne=wte}else Ae=ae.nodeName,!Ae||Ae.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?re&&DI(re.elementType)&&(St=t2):St=bte;if(St&&(St=St(A,re))){e2(he,St,p,de);break e}Ne&&Ne(A,ae,re),A==="focusout"&&re&&ae.type==="number"&&re.memoizedProps.value!=null&&RI(ae,"number",ae.value)}switch(Ne=re?By(re):window,A){case"focusin":(Zk(Ne)||Ne.contentEditable==="true")&&(Fp=Ne,WI=re,My=null);break;case"focusout":My=WI=Fp=null;break;case"mousedown":YI=!0;break;case"contextmenu":case"mouseup":case"dragend":YI=!1,u2(he,p,de);break;case"selectionchange":if(Ste)break;case"keydown":case"keyup":u2(he,p,de)}var rt;if(zI)e:{switch(A){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else Ip?Xk(A,p)&&(pt="onCompositionEnd"):A==="keydown"&&p.keyCode===229&&(pt="onCompositionStart");pt&&(jk&&p.locale!=="ko"&&(Ip||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ip&&(rt=Kk()):(Tu=de,kI="value"in Tu?Tu.value:Tu.textContent,Ip=!0)),Ne=sS(re,pt),0<Ne.length&&(pt=new qk(pt,A,null,p,de),he.push({event:pt,listeners:Ne}),rt?pt.data=rt:(rt=Jk(p),rt!==null&&(pt.data=rt)))),(rt=pte?gte(A,p):mte(A,p))&&(pt=sS(re,"onBeforeInput"),0<pt.length&&(Ne=new qk("onBeforeInput","beforeinput",null,p,de),he.push({event:Ne,listeners:pt}),Ne.data=rt)),Ane(he,A,re,p,de)}N4(he,c)})}function i0(A,c,p){return{instance:A,listener:c,currentTarget:p}}function sS(A,c){for(var p=c+"Capture",m=[];A!==null;){var B=A,S=B.stateNode;if(B=B.tag,B!==5&&B!==26&&B!==27||S===null||(B=Ey(A,p),B!=null&&m.unshift(i0(A,B,S)),B=Ey(A,c),B!=null&&m.push(i0(A,B,S))),A.tag===3)return m;A=A.return}return[]}function dne(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function Q4(A,c,p,m,B){for(var S=c._reactName,N=[];p!==null&&p!==m;){var k=p,j=k.alternate,re=k.stateNode;if(k=k.tag,j!==null&&j===m)break;k!==5&&k!==26&&k!==27||re===null||(j=re,B?(re=Ey(p,S),re!=null&&N.unshift(i0(p,re,j))):B||(re=Ey(p,S),re!=null&&N.push(i0(p,re,j)))),p=p.return}N.length!==0&&A.push({event:c,listeners:N})}var fne=/\r\n?/g,hne=/\u0000|\uFFFD/g;function O4(A){return(typeof A=="string"?A:""+A).replace(fne,`
`).replace(hne,"")}function k4(A,c){return c=O4(c),O4(A)===c}function Kt(A,c,p,m,B,S){switch(p){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||xp(A,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&xp(A,""+m);break;case"className":lE(A,"class",m);break;case"tabIndex":lE(A,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":lE(A,p,m);break;case"style":kk(A,m,S);break;case"data":if(c!=="object"){lE(A,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||p!=="href")){A.removeAttribute(p);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=cE(""+m),A.setAttribute(p,m);break;case"action":case"formAction":if(typeof m=="function"){A.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(p==="formAction"?(c!=="input"&&Kt(A,c,"name",B.name,B,null),Kt(A,c,"formEncType",B.formEncType,B,null),Kt(A,c,"formMethod",B.formMethod,B,null),Kt(A,c,"formTarget",B.formTarget,B,null)):(Kt(A,c,"encType",B.encType,B,null),Kt(A,c,"method",B.method,B,null),Kt(A,c,"target",B.target,B,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=cE(""+m),A.setAttribute(p,m);break;case"onClick":m!=null&&(A.onclick=_A);break;case"onScroll":m!=null&&ft("scroll",A);break;case"onScrollEnd":m!=null&&ft("scrollend",A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(p=m.__html,p!=null){if(B.children!=null)throw Error(i(60));A.innerHTML=p}}break;case"multiple":A.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":A.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){A.removeAttribute("xlink:href");break}p=cE(""+m),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""+m):A.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""):A.removeAttribute(p);break;case"capture":case"download":m===!0?A.setAttribute(p,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,m):A.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?A.setAttribute(p,m):A.removeAttribute(p);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?A.removeAttribute(p):A.setAttribute(p,m);break;case"popover":ft("beforetoggle",A),ft("toggle",A),AE(A,"popover",m);break;case"xlinkActuate":xA(A,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":xA(A,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":xA(A,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":xA(A,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":xA(A,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":xA(A,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":xA(A,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":xA(A,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":xA(A,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":AE(A,"is",m);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Vee.get(p)||p,AE(A,p,m))}}function CU(A,c,p,m,B,S){switch(p){case"style":kk(A,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(p=m.__html,p!=null){if(B.children!=null)throw Error(i(60));A.innerHTML=p}}break;case"children":typeof m=="string"?xp(A,m):(typeof m=="number"||typeof m=="bigint")&&xp(A,""+m);break;case"onScroll":m!=null&&ft("scroll",A);break;case"onScrollEnd":m!=null&&ft("scrollend",A);break;case"onClick":m!=null&&(A.onclick=_A);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uk.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(B=p.endsWith("Capture"),c=p.slice(2,B?p.length-7:void 0),S=A[lr]||null,S=S!=null?S[p]:null,typeof S=="function"&&A.removeEventListener(c,S,B),typeof m=="function")){typeof S!="function"&&S!==null&&(p in A?A[p]=null:A.hasAttribute(p)&&A.removeAttribute(p)),A.addEventListener(c,m,B);break e}p in A?A[p]=m:m===!0?A.setAttribute(p,""):AE(A,p,m)}}}function Ki(A,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",A),ft("load",A);var m=!1,B=!1,S;for(S in p)if(p.hasOwnProperty(S)){var N=p[S];if(N!=null)switch(S){case"src":m=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Kt(A,c,S,N,p,null)}}B&&Kt(A,c,"srcSet",p.srcSet,p,null),m&&Kt(A,c,"src",p.src,p,null);return;case"input":ft("invalid",A);var k=S=N=B=null,j=null,re=null;for(m in p)if(p.hasOwnProperty(m)){var de=p[m];if(de!=null)switch(m){case"name":B=de;break;case"type":N=de;break;case"checked":j=de;break;case"defaultChecked":re=de;break;case"value":S=de;break;case"defaultValue":k=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,c));break;default:Kt(A,c,m,de,p,null)}}Nk(A,S,k,j,re,N,B,!1);return;case"select":ft("invalid",A),m=N=S=null;for(B in p)if(p.hasOwnProperty(B)&&(k=p[B],k!=null))switch(B){case"value":S=k;break;case"defaultValue":N=k;break;case"multiple":m=k;default:Kt(A,c,B,k,p,null)}c=S,p=N,A.multiple=!!m,c!=null?Sp(A,!!m,c,!1):p!=null&&Sp(A,!!m,p,!0);return;case"textarea":ft("invalid",A),S=B=m=null;for(N in p)if(p.hasOwnProperty(N)&&(k=p[N],k!=null))switch(N){case"value":m=k;break;case"defaultValue":B=k;break;case"children":S=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Kt(A,c,N,k,p,null)}Qk(A,m,B,S);return;case"option":for(j in p)if(p.hasOwnProperty(j)&&(m=p[j],m!=null))switch(j){case"selected":A.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Kt(A,c,j,m,p,null)}return;case"dialog":ft("beforetoggle",A),ft("toggle",A),ft("cancel",A),ft("close",A);break;case"iframe":case"object":ft("load",A);break;case"video":case"audio":for(m=0;m<n0.length;m++)ft(n0[m],A);break;case"image":ft("error",A),ft("load",A);break;case"details":ft("toggle",A);break;case"embed":case"source":case"link":ft("error",A),ft("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in p)if(p.hasOwnProperty(re)&&(m=p[re],m!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Kt(A,c,re,m,p,null)}return;default:if(DI(c)){for(de in p)p.hasOwnProperty(de)&&(m=p[de],m!==void 0&&CU(A,c,de,m,p,void 0));return}}for(k in p)p.hasOwnProperty(k)&&(m=p[k],m!=null&&Kt(A,c,k,m,p,null))}function pne(A,c,p,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,S=null,N=null,k=null,j=null,re=null,de=null;for(Ae in p){var he=p[Ae];if(p.hasOwnProperty(Ae)&&he!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":j=he;default:m.hasOwnProperty(Ae)||Kt(A,c,Ae,null,m,he)}}for(var ae in m){var Ae=m[ae];if(he=p[ae],m.hasOwnProperty(ae)&&(Ae!=null||he!=null))switch(ae){case"type":S=Ae;break;case"name":B=Ae;break;case"checked":re=Ae;break;case"defaultChecked":de=Ae;break;case"value":N=Ae;break;case"defaultValue":k=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(i(137,c));break;default:Ae!==he&&Kt(A,c,ae,Ae,m,he)}}PI(A,N,k,j,re,de,S,B);return;case"select":Ae=N=k=ae=null;for(S in p)if(j=p[S],p.hasOwnProperty(S)&&j!=null)switch(S){case"value":break;case"multiple":Ae=j;default:m.hasOwnProperty(S)||Kt(A,c,S,null,m,j)}for(B in m)if(S=m[B],j=p[B],m.hasOwnProperty(B)&&(S!=null||j!=null))switch(B){case"value":ae=S;break;case"defaultValue":k=S;break;case"multiple":N=S;default:S!==j&&Kt(A,c,B,S,m,j)}c=k,p=N,m=Ae,ae!=null?Sp(A,!!p,ae,!1):!!m!=!!p&&(c!=null?Sp(A,!!p,c,!0):Sp(A,!!p,p?[]:"",!1));return;case"textarea":Ae=ae=null;for(k in p)if(B=p[k],p.hasOwnProperty(k)&&B!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Kt(A,c,k,null,m,B)}for(N in m)if(B=m[N],S=p[N],m.hasOwnProperty(N)&&(B!=null||S!=null))switch(N){case"value":ae=B;break;case"defaultValue":Ae=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:B!==S&&Kt(A,c,N,B,m,S)}Lk(A,ae,Ae);return;case"option":for(var Re in p)if(ae=p[Re],p.hasOwnProperty(Re)&&ae!=null&&!m.hasOwnProperty(Re))switch(Re){case"selected":A.selected=!1;break;default:Kt(A,c,Re,null,m,ae)}for(j in m)if(ae=m[j],Ae=p[j],m.hasOwnProperty(j)&&ae!==Ae&&(ae!=null||Ae!=null))switch(j){case"selected":A.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Kt(A,c,j,ae,m,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in p)ae=p[ze],p.hasOwnProperty(ze)&&ae!=null&&!m.hasOwnProperty(ze)&&Kt(A,c,ze,null,m,ae);for(re in m)if(ae=m[re],Ae=p[re],m.hasOwnProperty(re)&&ae!==Ae&&(ae!=null||Ae!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,c));break;default:Kt(A,c,re,ae,m,Ae)}return;default:if(DI(c)){for(var Gt in p)ae=p[Gt],p.hasOwnProperty(Gt)&&ae!==void 0&&!m.hasOwnProperty(Gt)&&CU(A,c,Gt,void 0,m,ae);for(de in m)ae=m[de],Ae=p[de],!m.hasOwnProperty(de)||ae===Ae||ae===void 0&&Ae===void 0||CU(A,c,de,ae,m,Ae);return}}for(var J in p)ae=p[J],p.hasOwnProperty(J)&&ae!=null&&!m.hasOwnProperty(J)&&Kt(A,c,J,null,m,ae);for(he in m)ae=m[he],Ae=p[he],!m.hasOwnProperty(he)||ae===Ae||ae==null&&Ae==null||Kt(A,c,he,ae,m,Ae)}function H4(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gne(){if(typeof performance.getEntriesByType=="function"){for(var A=0,c=0,p=performance.getEntriesByType("resource"),m=0;m<p.length;m++){var B=p[m],S=B.transferSize,N=B.initiatorType,k=B.duration;if(S&&k&&H4(N)){for(N=0,k=B.responseEnd,m+=1;m<p.length;m++){var j=p[m],re=j.startTime;if(re>k)break;var de=j.transferSize,he=j.initiatorType;de&&H4(he)&&(j=j.responseEnd,N+=de*(j<k?1:(k-re)/(j-re)))}if(--m,c+=8*(S+N)/(B.duration/1e3),A++,10<A)break}}if(0<A)return c/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var bU=null,BU=null;function aS(A){return A.nodeType===9?A:A.ownerDocument}function V4(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K4(A,c){if(A===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&c==="foreignObject"?0:A}function EU(A,c){return A==="textarea"||A==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var SU=null;function mne(){var A=window.event;return A&&A.type==="popstate"?A===SU?!1:(SU=A,!0):(SU=null,!1)}var G4=typeof setTimeout=="function"?setTimeout:void 0,vne=typeof clearTimeout=="function"?clearTimeout:void 0,z4=typeof Promise=="function"?Promise:void 0,yne=typeof queueMicrotask=="function"?queueMicrotask:typeof z4<"u"?function(A){return z4.resolve(null).then(A).catch(wne)}:G4;function wne(A){setTimeout(function(){throw A})}function zu(A){return A==="head"}function q4(A,c){var p=c,m=0;do{var B=p.nextSibling;if(A.removeChild(p),B&&B.nodeType===8)if(p=B.data,p==="/$"||p==="/&"){if(m===0){A.removeChild(B),ig(c);return}m--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")m++;else if(p==="html")r0(A.ownerDocument.documentElement);else if(p==="head"){p=A.ownerDocument.head,r0(p);for(var S=p.firstChild;S;){var N=S.nextSibling,k=S.nodeName;S[by]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&S.rel.toLowerCase()==="stylesheet"||p.removeChild(S),S=N}}else p==="body"&&r0(A.ownerDocument.body);p=B}while(p);ig(c)}function $4(A,c){var p=A;A=0;do{var m=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),m&&m.nodeType===8)if(p=m.data,p==="/$"){if(A===0)break;A--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||A++;p=m}while(p)}function xU(A){var c=A.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":xU(p),UI(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}A.removeChild(p)}}function Cne(A,c,p,m){for(;A.nodeType===1;){var B=p;if(A.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(m){if(!A[by])switch(c){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(S=A.getAttribute("rel"),S==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(S!==B.rel||A.getAttribute("href")!==(B.href==null||B.href===""?null:B.href)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||A.getAttribute("title")!==(B.title==null?null:B.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(S=A.getAttribute("src"),(S!==(B.src==null?null:B.src)||A.getAttribute("type")!==(B.type==null?null:B.type)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&S&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(c==="input"&&A.type==="hidden"){var S=B.name==null?null:""+B.name;if(B.type==="hidden"&&A.getAttribute("name")===S)return A}else return A;if(A=ua(A.nextSibling),A===null)break}return null}function bne(A,c,p){if(c==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!p||(A=ua(A.nextSibling),A===null))return null;return A}function j4(A,c){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!c||(A=ua(A.nextSibling),A===null))return null;return A}function _U(A){return A.data==="$?"||A.data==="$~"}function TU(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function Bne(A,c){var p=A.ownerDocument;if(A.data==="$~")A._reactRetry=c;else if(A.data!=="$?"||p.readyState!=="loading")c();else{var m=function(){c(),p.removeEventListener("DOMContentLoaded",m)};p.addEventListener("DOMContentLoaded",m),A._reactRetry=m}}function ua(A){for(;A!=null;A=A.nextSibling){var c=A.nodeType;if(c===1||c===3)break;if(c===8){if(c=A.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return A}var IU=null;function W4(A){A=A.nextSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="/$"||p==="/&"){if(c===0)return ua(A.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}A=A.nextSibling}return null}function Y4(A){A=A.previousSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return A;c--}else p!=="/$"&&p!=="/&"||c++}A=A.previousSibling}return null}function X4(A,c,p){switch(c=aS(p),A){case"html":if(A=c.documentElement,!A)throw Error(i(452));return A;case"head":if(A=c.head,!A)throw Error(i(453));return A;case"body":if(A=c.body,!A)throw Error(i(454));return A;default:throw Error(i(451))}}function r0(A){for(var c=A.attributes;c.length;)A.removeAttributeNode(c[0]);UI(A)}var ca=new Map,J4=new Set;function oS(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var KA=z.d;z.d={f:Ene,r:Sne,D:xne,C:_ne,L:Tne,m:Ine,X:Une,S:Fne,M:Mne};function Ene(){var A=KA.f(),c=JE();return A||c}function Sne(A){var c=bp(A);c!==null&&c.tag===5&&c.type==="form"?pH(c):KA.r(A)}var eg=typeof document>"u"?null:document;function Z4(A,c,p){var m=eg;if(m&&typeof c=="string"&&c){var B=ia(c);B='link[rel="'+A+'"][href="'+B+'"]',typeof p=="string"&&(B+='[crossorigin="'+p+'"]'),J4.has(B)||(J4.add(B),A={rel:A,crossOrigin:p,href:c},m.querySelector(B)===null&&(c=m.createElement("link"),Ki(c,"link",A),Bi(c),m.head.appendChild(c)))}}function xne(A){KA.D(A),Z4("dns-prefetch",A,null)}function _ne(A,c){KA.C(A,c),Z4("preconnect",A,c)}function Tne(A,c,p){KA.L(A,c,p);var m=eg;if(m&&A&&c){var B='link[rel="preload"][as="'+ia(c)+'"]';c==="image"&&p&&p.imageSrcSet?(B+='[imagesrcset="'+ia(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(B+='[imagesizes="'+ia(p.imageSizes)+'"]')):B+='[href="'+ia(A)+'"]';var S=B;switch(c){case"style":S=tg(A);break;case"script":S=ng(A)}ca.has(S)||(A=h({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:A,as:c},p),ca.set(S,A),m.querySelector(B)!==null||c==="style"&&m.querySelector(s0(S))||c==="script"&&m.querySelector(a0(S))||(c=m.createElement("link"),Ki(c,"link",A),Bi(c),m.head.appendChild(c)))}}function Ine(A,c){KA.m(A,c);var p=eg;if(p&&A){var m=c&&typeof c.as=="string"?c.as:"script",B='link[rel="modulepreload"][as="'+ia(m)+'"][href="'+ia(A)+'"]',S=B;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=ng(A)}if(!ca.has(S)&&(A=h({rel:"modulepreload",href:A},c),ca.set(S,A),p.querySelector(B)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(a0(S)))return}m=p.createElement("link"),Ki(m,"link",A),Bi(m),p.head.appendChild(m)}}}function Fne(A,c,p){KA.S(A,c,p);var m=eg;if(m&&A){var B=Bp(m).hoistableStyles,S=tg(A);c=c||"default";var N=B.get(S);if(!N){var k={loading:0,preload:null};if(N=m.querySelector(s0(S)))k.loading=5;else{A=h({rel:"stylesheet",href:A,"data-precedence":c},p),(p=ca.get(S))&&FU(A,p);var j=N=m.createElement("link");Bi(j),Ki(j,"link",A),j._p=new Promise(function(re,de){j.onload=re,j.onerror=de}),j.addEventListener("load",function(){k.loading|=1}),j.addEventListener("error",function(){k.loading|=2}),k.loading|=4,AS(N,c,m)}N={type:"stylesheet",instance:N,count:1,state:k},B.set(S,N)}}}function Une(A,c){KA.X(A,c);var p=eg;if(p&&A){var m=Bp(p).hoistableScripts,B=ng(A),S=m.get(B);S||(S=p.querySelector(a0(B)),S||(A=h({src:A,async:!0},c),(c=ca.get(B))&&UU(A,c),S=p.createElement("script"),Bi(S),Ki(S,"link",A),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(B,S))}}function Mne(A,c){KA.M(A,c);var p=eg;if(p&&A){var m=Bp(p).hoistableScripts,B=ng(A),S=m.get(B);S||(S=p.querySelector(a0(B)),S||(A=h({src:A,async:!0,type:"module"},c),(c=ca.get(B))&&UU(A,c),S=p.createElement("script"),Bi(S),Ki(S,"link",A),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(B,S))}}function eV(A,c,p,m){var B=(B=Ce.current)?oS(B):null;if(!B)throw Error(i(446));switch(A){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=tg(p.href),p=Bp(B).hoistableStyles,m=p.get(c),m||(m={type:"style",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){A=tg(p.href);var S=Bp(B).hoistableStyles,N=S.get(A);if(N||(B=B.ownerDocument||B,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(A,N),(S=B.querySelector(s0(A)))&&!S._p&&(N.instance=S,N.state.loading=5),ca.has(A)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ca.set(A,p),S||Pne(B,A,p,N.state))),c&&m===null)throw Error(i(528,""));return N}if(c&&m!==null)throw Error(i(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=ng(p),p=Bp(B).hoistableScripts,m=p.get(c),m||(m={type:"script",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,A))}}function tg(A){return'href="'+ia(A)+'"'}function s0(A){return'link[rel="stylesheet"]['+A+"]"}function tV(A){return h({},A,{"data-precedence":A.precedence,precedence:null})}function Pne(A,c,p,m){A.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=A.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),Ki(c,"link",p),Bi(c),A.head.appendChild(c))}function ng(A){return'[src="'+ia(A)+'"]'}function a0(A){return"script[async]"+A}function nV(A,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var m=A.querySelector('style[data-href~="'+ia(p.href)+'"]');if(m)return c.instance=m,Bi(m),m;var B=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return m=(A.ownerDocument||A).createElement("style"),Bi(m),Ki(m,"style",B),AS(m,p.precedence,A),c.instance=m;case"stylesheet":B=tg(p.href);var S=A.querySelector(s0(B));if(S)return c.state.loading|=4,c.instance=S,Bi(S),S;m=tV(p),(B=ca.get(B))&&FU(m,B),S=(A.ownerDocument||A).createElement("link"),Bi(S);var N=S;return N._p=new Promise(function(k,j){N.onload=k,N.onerror=j}),Ki(S,"link",m),c.state.loading|=4,AS(S,p.precedence,A),c.instance=S;case"script":return S=ng(p.src),(B=A.querySelector(a0(S)))?(c.instance=B,Bi(B),B):(m=p,(B=ca.get(S))&&(m=h({},p),UU(m,B)),A=A.ownerDocument||A,B=A.createElement("script"),Bi(B),Ki(B,"link",m),A.head.appendChild(B),c.instance=B);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,AS(m,p.precedence,A));return c.instance}function AS(A,c,p){for(var m=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=m.length?m[m.length-1]:null,S=B,N=0;N<m.length;N++){var k=m[N];if(k.dataset.precedence===c)S=k;else if(S!==B)break}S?S.parentNode.insertBefore(A,S.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(A,c.firstChild))}function FU(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.title==null&&(A.title=c.title)}function UU(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.integrity==null&&(A.integrity=c.integrity)}var lS=null;function iV(A,c,p){if(lS===null){var m=new Map,B=lS=new Map;B.set(p,m)}else B=lS,m=B.get(p),m||(m=new Map,B.set(p,m));if(m.has(A))return m;for(m.set(A,null),p=p.getElementsByTagName(A),B=0;B<p.length;B++){var S=p[B];if(!(S[by]||S[Mn]||A==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(c)||"";N=A+N;var k=m.get(N);k?k.push(S):m.set(N,[S])}}return m}function rV(A,c,p){A=A.ownerDocument||A,A.head.insertBefore(p,c==="title"?A.querySelector("head > title"):null)}function Rne(A,c,p){if(p===1||c.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return A=c.disabled,typeof c.precedence=="string"&&A==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function sV(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function Dne(A,c,p,m){if(p.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var B=tg(m.href),S=c.querySelector(s0(B));if(S){c=S._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(A.count++,A=uS.bind(A),c.then(A,A)),p.state.loading|=4,p.instance=S,Bi(S);return}S=c.ownerDocument||c,m=tV(m),(B=ca.get(B))&&FU(m,B),S=S.createElement("link"),Bi(S);var N=S;N._p=new Promise(function(k,j){N.onload=k,N.onerror=j}),Ki(S,"link",m),p.instance=S}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(A.count++,p=uS.bind(A),c.addEventListener("load",p),c.addEventListener("error",p))}}var MU=0;function Nne(A,c){return A.stylesheets&&A.count===0&&dS(A,A.stylesheets),0<A.count||0<A.imgCount?function(p){var m=setTimeout(function(){if(A.stylesheets&&dS(A,A.stylesheets),A.unsuspend){var S=A.unsuspend;A.unsuspend=null,S()}},6e4+c);0<A.imgBytes&&MU===0&&(MU=62500*gne());var B=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&dS(A,A.stylesheets),A.unsuspend)){var S=A.unsuspend;A.unsuspend=null,S()}},(A.imgBytes>MU?50:800)+c);return A.unsuspend=p,function(){A.unsuspend=null,clearTimeout(m),clearTimeout(B)}}:null}function uS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dS(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var cS=null;function dS(A,c){A.stylesheets=null,A.unsuspend!==null&&(A.count++,cS=new Map,c.forEach(Lne,A),cS=null,uS.call(A))}function Lne(A,c){if(!(c.state.loading&4)){var p=cS.get(A);if(p)var m=p.get(null);else{p=new Map,cS.set(A,p);for(var B=A.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<B.length;S++){var N=B[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(p.set(N.dataset.precedence,N),m=N)}m&&p.set(null,m)}B=c.instance,N=B.getAttribute("data-precedence"),S=p.get(N)||m,S===m&&p.set(null,B),p.set(N,B),this.count++,m=uS.bind(this),B.addEventListener("load",m),B.addEventListener("error",m),S?S.parentNode.insertBefore(B,S.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(B,A.firstChild)),c.state.loading|=4}}var o0={$$typeof:T,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Qne(A,c,p,m,B,S,N,k,j){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cy(0),this.hiddenUpdates=Cy(null),this.identifierPrefix=m,this.onUncaughtError=B,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function aV(A,c,p,m,B,S,N,k,j,re,de,he){return A=new Qne(A,c,p,N,j,re,de,he,k),c=1,S===!0&&(c|=24),S=ps(3,null,null,c),A.current=S,S.stateNode=A,c=cF(),c.refCount++,A.pooledCache=c,c.refCount++,S.memoizedState={element:m,isDehydrated:p,cache:c},pF(S),A}function oV(A){return A?(A=Pp,A):Pp}function AV(A,c,p,m,B,S){B=oV(B),m.context===null?m.context=B:m.pendingContext=B,m=Ru(c),m.payload={element:p},S=S===void 0?null:S,S!==null&&(m.callback=S),p=Du(A,m,c),p!==null&&(jr(p,A,c),Oy(p,A,c))}function lV(A,c){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var p=A.retryLane;A.retryLane=p!==0&&p<c?p:c}}function PU(A,c){lV(A,c),(A=A.alternate)&&lV(A,c)}function uV(A){if(A.tag===13||A.tag===31){var c=qd(A,67108864);c!==null&&jr(c,A,67108864),PU(A,67108864)}}function cV(A){if(A.tag===13||A.tag===31){var c=ws();c=ct(c);var p=qd(A,c);p!==null&&jr(p,A,c),PU(A,c)}}var fS=!0;function One(A,c,p,m){var B=G.T;G.T=null;var S=z.p;try{z.p=2,RU(A,c,p,m)}finally{z.p=S,G.T=B}}function kne(A,c,p,m){var B=G.T;G.T=null;var S=z.p;try{z.p=8,RU(A,c,p,m)}finally{z.p=S,G.T=B}}function RU(A,c,p,m){if(fS){var B=DU(m);if(B===null)wU(A,c,m,hS,p),fV(A,m);else if(Vne(B,A,c,p,m))m.stopPropagation();else if(fV(A,m),c&4&&-1<Hne.indexOf(A)){for(;B!==null;){var S=bp(B);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=EA(S.pendingLanes);if(N!==0){var k=S;for(k.pendingLanes|=2,k.entangledLanes|=2;N;){var j=1<<31-Sr(N);k.entanglements[1]|=j,N&=~j}Ro(S),(Ft&6)===0&&(YE=te()+500,t0(0))}}break;case 31:case 13:k=qd(S,2),k!==null&&jr(k,S,2),JE(),PU(S,2)}if(S=DU(m),S===null&&wU(A,c,m,hS,p),S===B)break;B=S}B!==null&&m.stopPropagation()}else wU(A,c,m,null,p)}}function DU(A){return A=LI(A),NU(A)}var hS=null;function NU(A){if(hS=null,A=Cp(A),A!==null){var c=s(A);if(c===null)A=null;else{var p=c.tag;if(p===13){if(A=a(c),A!==null)return A;A=null}else if(p===31){if(A=o(c),A!==null)return A;A=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;A=null}else c!==A&&(A=null)}}return hS=A,null}function dV(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Ue:return 2;case vt:return 8;case Oe:case fn:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var LU=!1,qu=null,$u=null,ju=null,A0=new Map,l0=new Map,Wu=[],Hne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fV(A,c){switch(A){case"focusin":case"focusout":qu=null;break;case"dragenter":case"dragleave":$u=null;break;case"mouseover":case"mouseout":ju=null;break;case"pointerover":case"pointerout":A0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":l0.delete(c.pointerId)}}function u0(A,c,p,m,B,S){return A===null||A.nativeEvent!==S?(A={blockedOn:c,domEventName:p,eventSystemFlags:m,nativeEvent:S,targetContainers:[B]},c!==null&&(c=bp(c),c!==null&&uV(c)),A):(A.eventSystemFlags|=m,c=A.targetContainers,B!==null&&c.indexOf(B)===-1&&c.push(B),A)}function Vne(A,c,p,m,B){switch(c){case"focusin":return qu=u0(qu,A,c,p,m,B),!0;case"dragenter":return $u=u0($u,A,c,p,m,B),!0;case"mouseover":return ju=u0(ju,A,c,p,m,B),!0;case"pointerover":var S=B.pointerId;return A0.set(S,u0(A0.get(S)||null,A,c,p,m,B)),!0;case"gotpointercapture":return S=B.pointerId,l0.set(S,u0(l0.get(S)||null,A,c,p,m,B)),!0}return!1}function hV(A){var c=Cp(A.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){A.blockedOn=c,Ar(A.priority,function(){cV(p)});return}}else if(c===31){if(c=o(p),c!==null){A.blockedOn=c,Ar(A.priority,function(){cV(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){A.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}A.blockedOn=null}function pS(A){if(A.blockedOn!==null)return!1;for(var c=A.targetContainers;0<c.length;){var p=DU(A.nativeEvent);if(p===null){p=A.nativeEvent;var m=new p.constructor(p.type,p);NI=m,p.target.dispatchEvent(m),NI=null}else return c=bp(p),c!==null&&uV(c),A.blockedOn=p,!1;c.shift()}return!0}function pV(A,c,p){pS(A)&&p.delete(c)}function Kne(){LU=!1,qu!==null&&pS(qu)&&(qu=null),$u!==null&&pS($u)&&($u=null),ju!==null&&pS(ju)&&(ju=null),A0.forEach(pV),l0.forEach(pV)}function gS(A,c){A.blockedOn===c&&(A.blockedOn=null,LU||(LU=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Kne)))}var mS=null;function gV(A){mS!==A&&(mS=A,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){mS===A&&(mS=null);for(var c=0;c<A.length;c+=3){var p=A[c],m=A[c+1],B=A[c+2];if(typeof m!="function"){if(NU(m||p)===null)continue;break}var S=bp(p);S!==null&&(A.splice(c,3),c-=3,DF(S,{pending:!0,data:B,method:p.method,action:m},m,B))}}))}function ig(A){function c(j){return gS(j,A)}qu!==null&&gS(qu,A),$u!==null&&gS($u,A),ju!==null&&gS(ju,A),A0.forEach(c),l0.forEach(c);for(var p=0;p<Wu.length;p++){var m=Wu[p];m.blockedOn===A&&(m.blockedOn=null)}for(;0<Wu.length&&(p=Wu[0],p.blockedOn===null);)hV(p),p.blockedOn===null&&Wu.shift();if(p=(A.ownerDocument||A).$$reactFormReplay,p!=null)for(m=0;m<p.length;m+=3){var B=p[m],S=p[m+1],N=B[lr]||null;if(typeof S=="function")N||gV(p);else if(N){var k=null;if(S&&S.hasAttribute("formAction")){if(B=S,N=S[lr]||null)k=N.formAction;else if(NU(B)!==null)continue}else k=N.action;typeof k=="function"?p[m+1]=k:(p.splice(m,3),m-=3),gV(p)}}}function mV(){function A(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(N){return B=N})},focusReset:"manual",scroll:"manual"})}function c(){B!==null&&(B(),B=null),m||setTimeout(p,20)}function p(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,B=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){m=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),B!==null&&(B(),B=null)}}}function QU(A){this._internalRoot=A}vS.prototype.render=QU.prototype.render=function(A){var c=this._internalRoot;if(c===null)throw Error(i(409));var p=c.current,m=ws();AV(p,m,A,c,null,null)},vS.prototype.unmount=QU.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var c=A.containerInfo;AV(A.current,2,null,A,null,null),JE(),c[wp]=null}};function vS(A){this._internalRoot=A}vS.prototype.unstable_scheduleHydration=function(A){if(A){var c=Dt();A={blockedOn:null,target:A,priority:c};for(var p=0;p<Wu.length&&c!==0&&c<Wu[p].priority;p++);Wu.splice(p,0,A),p===0&&hV(A)}};var vV=e.version;if(vV!=="19.2.1")throw Error(i(527,vV,"19.2.1"));z.findDOMNode=function(A){var c=A._reactInternals;if(c===void 0)throw typeof A.render=="function"?Error(i(188)):(A=Object.keys(A).join(","),Error(i(268,A)));return A=u(c),A=A!==null?d(A):null,A=A===null?null:A.stateNode,A};var Gne={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yS.isDisabled&&yS.supportsFiber)try{Io=yS.inject(Gne),Er=yS}catch{}}return d0.createRoot=function(A,c){if(!r(A))throw Error(i(299));var p=!1,m="",B=SH,S=xH,N=_H;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(B=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=aV(A,1,!1,null,null,p,m,null,B,S,N,mV),A[wp]=c.current,yU(A),new QU(c)},d0.hydrateRoot=function(A,c,p){if(!r(A))throw Error(i(299));var m=!1,B="",S=SH,N=xH,k=_H,j=null;return p!=null&&(p.unstable_strictMode===!0&&(m=!0),p.identifierPrefix!==void 0&&(B=p.identifierPrefix),p.onUncaughtError!==void 0&&(S=p.onUncaughtError),p.onCaughtError!==void 0&&(N=p.onCaughtError),p.onRecoverableError!==void 0&&(k=p.onRecoverableError),p.formState!==void 0&&(j=p.formState)),c=aV(A,1,!0,c,p??null,m,B,j,S,N,k,mV),c.context=oV(null),p=c.current,m=ws(),m=ct(m),B=Ru(m),B.callback=null,Du(p,B,m),p=m,c.current.lanes=p,Hd(c,p),Ro(c),A[wp]=c.current,yU(A),new vS(c)},d0.version="19.2.1",d0}var IV;function iie(){if(IV)return VU.exports;IV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),VU.exports=nie(),VU.exports}var rie=iie();const sie=CA(rie);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var FV="popstate";function aie(n={}){function e(r,s){let{pathname:a="/",search:o="",hash:l=""}=up(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),hR("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let a=r.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:_w(s))}function i(r,s){Ha(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Aie(e,t,i,n)}function Fn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ha(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oie(){return Math.random().toString(36).substring(2,10)}function UV(n,e){return{usr:n.state,key:n.key,idx:e}}function hR(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?up(e):e,state:t,key:e&&e.key||i||oie()}}function _w({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function up(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Aie(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let E=d(),x=E==null?null:E-u;u=E,l&&l({action:o,location:b.location,delta:x})}function g(E,x){o="PUSH";let I=hR(b.location,E,x);t&&t(I,E),u=d()+1;let T=UV(I,u),R=b.createHref(I);try{a.pushState(T,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(R)}s&&l&&l({action:o,location:b.location,delta:1})}function v(E,x){o="REPLACE";let I=hR(b.location,E,x);t&&t(I,E),u=d();let T=UV(I,u),R=b.createHref(I);a.replaceState(T,"",R),s&&l&&l({action:o,location:b.location,delta:0})}function C(E){return lie(E)}let b={get action(){return o},get location(){return n(r,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(FV,h),l=E,()=>{r.removeEventListener(FV,h),l=null}},createHref(E){return e(r,E)},createURL:C,encodeLocation(E){let x=C(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(E){return a.go(E)}};return b}function lie(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Fn(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:_w(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function F$(n,e,t="/"){return uie(n,e,t,!1)}function uie(n,e,t,i){let r=typeof e=="string"?up(e):e,s=su(r.pathname||"/",t);if(s==null)return null;let a=U$(n);cie(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=bie(s);o=wie(a[l],u,i)}return o}function U$(n,e=[],t=[],i="",r=!1){let s=(a,o,l=r,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&l)return;Fn(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let h=Jl([i,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(Fn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),U$(a.children,e,g,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:vie(h,a.index),routesMeta:g})};return n.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of M$(a.path))s(a,o,!0,u)}),e}function M$(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=M$(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function cie(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yie(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var die=/^:[\w-]+$/,fie=3,hie=2,pie=1,gie=10,mie=-2,MV=n=>n==="*";function vie(n,e){let t=n.split("/"),i=t.length;return t.some(MV)&&(i+=mie),e&&(i+=hie),t.filter(r=>!MV(r)).reduce((r,s)=>r+(die.test(s)?fie:s===""?pie:gie),i)}function yie(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function wie(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=M_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!h&&u&&t&&!i[i.length-1].route.index&&(h=M_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:Jl([s,h.pathname]),pathnameBase:_ie(Jl([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=Jl([s,h.pathnameBase]))}return a}function M_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Cie(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:d,isOptional:h},g)=>{if(d==="*"){let C=o[g]||"";a=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const v=o[g];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function Cie(n,e=!1,t=!0){Ha(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function bie(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ha(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function su(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var Bie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eie=n=>Bie.test(n);function Sie(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?up(n):n,s;if(t)if(Eie(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),Ha(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=PV(t.substring(1),"/"):s=PV(t,e)}else s=e;return{pathname:s,search:Tie(i),hash:Iie(r)}}function PV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function qU(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xie(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function P$(n){let e=xie(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function R$(n,e,t,i=!1){let r;typeof n=="string"?r=up(n):(r={...n},Fn(!r.pathname||!r.pathname.includes("?"),qU("?","pathname","search",r)),Fn(!r.pathname||!r.pathname.includes("#"),qU("#","pathname","hash",r)),Fn(!r.search||!r.search.includes("#"),qU("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;r.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=Sie(r,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Jl=n=>n.join("/").replace(/\/\/+/g,"/"),_ie=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Tie=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Iie=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Fie(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Uie(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var D$=["POST","PUT","PATCH","DELETE"];new Set(D$);var Mie=["GET",...D$];new Set(Mie);var Ay=P.createContext(null);Ay.displayName="DataRouter";var v1=P.createContext(null);v1.displayName="DataRouterState";P.createContext(!1);var N$=P.createContext({isTransitioning:!1});N$.displayName="ViewTransition";var Pie=P.createContext(new Map);Pie.displayName="Fetchers";var Rie=P.createContext(null);Rie.displayName="Await";var Bo=P.createContext(null);Bo.displayName="Navigation";var xB=P.createContext(null);xB.displayName="Location";var yu=P.createContext({outlet:null,matches:[],isDataRoute:!1});yu.displayName="Route";var uQ=P.createContext(null);uQ.displayName="RouteError";function Die(n,{relative:e}={}){Fn(_B(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=P.useContext(Bo),{hash:r,pathname:s,search:a}=TB(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:Jl([t,s])),i.createHref({pathname:o,search:a,hash:r})}function _B(){return P.useContext(xB)!=null}function Md(){return Fn(_B(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(xB).location}var L$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q$(n){P.useContext(Bo).static||P.useLayoutEffect(n)}function O$(){let{isDataRoute:n}=P.useContext(yu);return n?jie():Nie()}function Nie(){Fn(_B(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(Ay),{basename:e,navigator:t}=P.useContext(Bo),{matches:i}=P.useContext(yu),{pathname:r}=Md(),s=JSON.stringify(P$(i)),a=P.useRef(!1);return Q$(()=>{a.current=!0}),P.useCallback((l,u={})=>{if(Ha(a.current,L$),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=R$(l,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Jl([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,r,n])}P.createContext(null);function TB(n,{relative:e}={}){let{matches:t}=P.useContext(yu),{pathname:i}=Md(),r=JSON.stringify(P$(t));return P.useMemo(()=>R$(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function Lie(n,e){return k$(n,e)}function k$(n,e,t,i,r){var I;Fn(_B(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=P.useContext(Bo),{matches:a}=P.useContext(yu),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let T=h&&h.path||"";H$(u,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=Md(),v;if(e){let T=typeof e=="string"?up(e):e;Fn(d==="/"||((I=T.pathname)==null?void 0:I.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=g;let C=v.pathname||"/",b=C;if(d!=="/"){let T=d.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=F$(n,{pathname:b});Ha(h||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ha(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Vie(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:Jl([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:Jl([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,t,i,r);return e&&x?P.createElement(xB.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function Qie(){let n=$ie(),e=Fie(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:s},"ErrorBoundary")," or"," ",P.createElement("code",{style:s},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:r},t):null,a)}var Oie=P.createElement(Qie,null),kie=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?P.createElement(yu.Provider,{value:this.props.routeContext},P.createElement(uQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hie({routeContext:n,match:e,children:t}){let i=P.useContext(Ay);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(yu.Provider,{value:n},t)}function Vie(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Fn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:g,errors:v}=t,C=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||C){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=t&&i?(d,h)=>{var g,v;i(d,{location:t.location,params:((v=(g=t.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:Uie(t.matches),errorInfo:h})}:void 0;return s.reduceRight((d,h,g)=>{let v,C=!1,b=null,E=null;t&&(v=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||Oie,o&&(l<0&&g===0?(H$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,E=null):l===g&&(C=!0,E=h.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),I=()=>{let T;return v?T=b:C?T=E:h.route.Component?T=P.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,P.createElement(Hie,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?P.createElement(kie,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:I(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:u}):I()},null)}function cQ(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kie(n){let e=P.useContext(Ay);return Fn(e,cQ(n)),e}function Gie(n){let e=P.useContext(v1);return Fn(e,cQ(n)),e}function zie(n){let e=P.useContext(yu);return Fn(e,cQ(n)),e}function dQ(n){let e=zie(n),t=e.matches[e.matches.length-1];return Fn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qie(){return dQ("useRouteId")}function $ie(){var i;let n=P.useContext(uQ),e=Gie("useRouteError"),t=dQ("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function jie(){let{router:n}=Kie("useNavigate"),e=dQ("useNavigate"),t=P.useRef(!1);return Q$(()=>{t.current=!0}),P.useCallback(async(r,s={})=>{Ha(t.current,L$),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var RV={};function H$(n,e,t){!e&&!RV[n]&&(RV[n]=!0,Ha(!1,t))}P.memo(Wie);function Wie({routes:n,future:e,state:t,unstable_onError:i}){return k$(n,void 0,t,i,e)}function pR(n){Fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yie({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){Fn(!_B(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:o,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[o,r,s,a]);typeof t=="string"&&(t=up(t));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:v="default"}=t,C=P.useMemo(()=>{let b=su(u,o);return b==null?null:{location:{pathname:b,search:d,hash:h,state:g,key:v},navigationType:i}},[o,u,d,h,g,v,i]);return Ha(C!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:P.createElement(Bo.Provider,{value:l},P.createElement(xB.Provider,{children:e,value:C}))}function Xie({children:n,location:e}){return Lie(gR(n),e)}function gR(n,e=[]){let t=[];return P.Children.forEach(n,(i,r)=>{if(!P.isValidElement(i))return;let s=[...e,r];if(i.type===P.Fragment){t.push.apply(t,gR(i.props.children,s));return}Fn(i.type===pR,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=gR(i.props.children,s)),t.push(a)}),t}var Bx="get",Ex="application/x-www-form-urlencoded";function y1(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Jie(n){return y1(n)&&n.tagName.toLowerCase()==="button"}function Zie(n){return y1(n)&&n.tagName.toLowerCase()==="form"}function ere(n){return y1(n)&&n.tagName.toLowerCase()==="input"}function tre(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function nre(n,e){return n.button===0&&(!e||e==="_self")&&!tre(n)}var wS=null;function ire(){if(wS===null)try{new FormData(document.createElement("form"),0),wS=!1}catch{wS=!0}return wS}var rre=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $U(n){return n!=null&&!rre.has(n)?(Ha(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ex}"`),null):n}function sre(n,e){let t,i,r,s,a;if(Zie(n)){let o=n.getAttribute("action");i=o?su(o,e):null,t=n.getAttribute("method")||Bx,r=$U(n.getAttribute("enctype"))||Ex,s=new FormData(n)}else if(Jie(n)||ere(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?su(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Bx,r=$U(n.getAttribute("formenctype"))||$U(o.getAttribute("enctype"))||Ex,s=new FormData(o,n),!ire()){let{name:u,type:d,value:h}=n;if(d==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,h)}}else{if(y1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Bx,i=null,r=Ex,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fQ(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function are(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&su(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function ore(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Are(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function lre(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await ore(s,t);return a.links?a.links():[]}return[]}));return fre(i.flat(1).filter(Are).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function DV(n,e,t,i,r,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>{var d;return t[u].pathname!==l.pathname||((d=t[u].route.path)==null?void 0:d.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function ure(n,e,{includeHydrateFallback:t}={}){return cre(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function cre(n){return[...new Set(n)]}function dre(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function fre(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(dre(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function V$(){let n=P.useContext(Ay);return fQ(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hre(){let n=P.useContext(v1);return fQ(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hQ=P.createContext(void 0);hQ.displayName="FrameworkContext";function K$(){let n=P.useContext(hQ);return fQ(n,"You must render this element inside a <HydratedRouter> element"),n}function pre(n,e){let t=P.useContext(hQ),[i,r]=P.useState(!1),[s,a]=P.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,g=P.useRef(null);P.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let b=x=>{x.forEach(I=>{a(I.isIntersecting)})},E=new IntersectionObserver(b,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[n]),P.useEffect(()=>{if(i){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[i]);let v=()=>{r(!0)},C=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:f0(o,v),onBlur:f0(l,C),onMouseEnter:f0(u,v),onMouseLeave:f0(d,C),onTouchStart:f0(h,v)}]:[!1,g,{}]}function f0(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function gre({page:n,...e}){let{router:t}=V$(),i=P.useMemo(()=>F$(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?P.createElement(vre,{page:n,matches:i,...e}):null}function mre(n){let{manifest:e,routeModules:t}=K$(),[i,r]=P.useState([]);return P.useEffect(()=>{let s=!1;return lre(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function vre({page:n,matches:e,...t}){let i=Md(),{manifest:r,routeModules:s}=K$(),{basename:a}=V$(),{loaderData:o,matches:l}=hre(),u=P.useMemo(()=>DV(n,e,l,r,i,"data"),[n,e,l,r,i]),d=P.useMemo(()=>DV(n,e,l,r,i,"assets"),[n,e,l,r,i]),h=P.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,b=!1;if(e.forEach(x=>{var T;let I=r.routes[x.route.id];!I||!I.hasLoader||(!u.some(R=>R.route.id===x.route.id)&&x.route.id in o&&((T=s[x.route.id])!=null&&T.shouldRevalidate)||I.hasClientLoader?b=!0:C.add(x.route.id))}),C.size===0)return[];let E=are(n,a,"data");return b&&C.size>0&&E.searchParams.set("_routes",e.filter(x=>C.has(x.route.id)).map(x=>x.route.id).join(",")),[E.pathname+E.search]},[a,o,i,r,u,e,n,s]),g=P.useMemo(()=>ure(d,r),[d,r]),v=mre(d);return P.createElement(P.Fragment,null,h.map(C=>P.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),g.map(C=>P.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),v.map(({key:C,link:b})=>P.createElement("link",{key:C,nonce:t.nonce,...b})))}function yre(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var G$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G$&&(window.__reactRouterVersion="7.10.1")}catch{}function wre({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=P.useRef();r.current==null&&(r.current=aie({window:i,v5Compat:!0}));let s=r.current,[a,o]=P.useState({action:s.action,location:s.location}),l=P.useCallback(u=>{t===!1?o(u):P.startTransition(()=>o(u))},[t]);return P.useLayoutEffect(()=>s.listen(l),[s,l]),P.createElement(Yie,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t===!0})}var z$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P_=P.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...g},v){let{basename:C,unstable_useTransitions:b}=P.useContext(Bo),E=typeof u=="string"&&z$.test(u),x,I=!1;if(typeof u=="string"&&E&&(x=u,G$))try{let K=new URL(window.location.href),V=u.startsWith("//")?new URL(K.protocol+u):new URL(u),$=su(V.pathname,C);V.origin===K.origin&&$!=null?u=$+V.search+V.hash:I=!0}catch{Ha(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Die(u,{relative:r}),[R,M,D]=pre(i,g),L=Ere(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:r,viewTransition:h,unstable_useTransitions:b});function H(K){e&&e(K),K.defaultPrevented||L(K)}let O=P.createElement("a",{...g,...D,href:x||T,onClick:I||s?e:H,ref:yre(v,M),target:l,"data-discover":!E&&t==="render"?"true":void 0});return R&&!E?P.createElement(P.Fragment,null,O,P.createElement(gre,{page:T})):O});P_.displayName="Link";var Cre=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let h=TB(a,{relative:u.relative}),g=Md(),v=P.useContext(v1),{navigator:C,basename:b}=P.useContext(Bo),E=v!=null&&Ire(h)&&o===!0,x=C.encodeLocation?C.encodeLocation(h).pathname:h.pathname,I=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(I=I.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&b&&(T=su(T,b)||T);const R=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let M=I===x||!r&&I.startsWith(x)&&I.charAt(R)==="/",D=T!=null&&(T===x||!r&&T.startsWith(x)&&T.charAt(x.length)==="/"),L={isActive:M,isPending:D,isTransitioning:E},H=M?e:void 0,O;typeof i=="function"?O=i(L):O=[i,M?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let K=typeof s=="function"?s(L):s;return P.createElement(P_,{...u,"aria-current":H,className:O,ref:d,style:K,to:a,viewTransition:o},typeof l=="function"?l(L):l)});Cre.displayName="NavLink";var bre=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=Bx,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...g},v)=>{let{unstable_useTransitions:C}=P.useContext(Bo),b=_re(),E=Tre(o,{relative:u}),x=a.toLowerCase()==="get"?"get":"post",I=typeof o=="string"&&z$.test(o),T=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,D=(M==null?void 0:M.getAttribute("formmethod"))||a,L=()=>b(M||R.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:r,state:s,relative:u,preventScrollReset:d,viewTransition:h});C&&t!==!1?P.startTransition(()=>L()):L()};return P.createElement("form",{ref:v,method:x,action:E,onSubmit:i?l:T,...g,"data-discover":!I&&n==="render"?"true":void 0})});bre.displayName="Form";function Bre(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q$(n){let e=P.useContext(Ay);return Fn(e,Bre(n)),e}function Ere(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_useTransitions:o}={}){let l=O$(),u=Md(),d=TB(n,{relative:s});return P.useCallback(h=>{if(nre(h,e)){h.preventDefault();let g=t!==void 0?t:_w(u)===_w(d),v=()=>l(n,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:a});o?P.startTransition(()=>v()):v()}},[u,l,d,t,i,e,n,r,s,a,o])}var Sre=0,xre=()=>`__${String(++Sre)}__`;function _re(){let{router:n}=q$("useSubmit"),{basename:e}=P.useContext(Bo),t=qie(),i=n.fetch,r=n.navigate;return P.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=sre(s,e);if(a.navigate===!1){let g=a.fetcherKey||xre();await i(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await r(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,t])}function Tre(n,{relative:e}={}){let{basename:t}=P.useContext(Bo),i=P.useContext(yu);Fn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...TB(n||".",{relative:e})},a=Md();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Jl([t,s.pathname])),_w(s)}function Ire(n,{relative:e}={}){let t=P.useContext(N$);Fn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=q$("useViewTransitionState"),r=TB(n,{relative:e});if(!t.isTransitioning)return!1;let s=su(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=su(t.nextLocation.pathname,i)||t.nextLocation.pathname;return M_(r.pathname,a)!=null||M_(r.pathname,s)!=null}var $$=I$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fre,Ure;function Mre(){return{geminiUrl:Fre,vertexUrl:Ure}}function Pre(n,e,t,i){var r,s;if(!(n!=null&&n.baseUrl)){const a=Mre();return e?(r=a.vertexUrl)!==null&&r!==void 0?r:t:(s=a.geminiUrl)!==null&&s!==void 0?s:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wu{}function xe(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function w(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[o])){const l=n[o];if(Array.isArray(t))for(let u=0;u<l.length;u++){const d=l[u];w(d,e.slice(s+1),t[u])}else for(const u of l)w(u,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in n||(n[o]=[{}]);const l=n[o];w(l[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const r=e[i];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in n){const a=n[s];return Array.isArray(a)?a.map(o=>y(o,e.slice(i+1),t)):t}else return t}else n=n[r]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function Rre(n,e){for(const[t,i]of Object.entries(e)){const r=t.split("."),s=i.split("."),a=new Set;let o=-1;for(let l=0;l<r.length;l++)if(r[l]==="*"){o=l;break}if(o!==-1&&s.length>o)for(let l=o;l<s.length;l++){const u=s[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}mR(n,r,s,0,a)}}function mR(n,e,t,i,r){if(i>=e.length||typeof n!="object"||n===null)return;const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2),o=n;if(a in o&&Array.isArray(o[a]))for(const l of o[a])mR(l,e,t,i+1,r)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,o=Object.keys(a).filter(u=>!u.startsWith("_")&&!r.has(u)),l={};for(const u of o)l[u]=a[u];for(const[u,d]of Object.entries(l)){const h=[];for(const g of t.slice(i))g==="*"?h.push(u):h.push(g);w(a,h,d)}for(const u of o)delete a[u]}}else{const a=n;s in a&&mR(a[s],e,t,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pQ(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dre(n){const e={},t=y(n,["operationName"]);t!=null&&w(e,["operationName"],t);const i=y(n,["resourceName"]);return i!=null&&w(e,["_url","resourceName"],i),e}function Nre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],Qre(a)),e}function Lre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Ore(a)),e}function Qre(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>kre(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function Ore(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Hre(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function kre(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],$re(t)),e}function Hre(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],jre(t)),e}function Vre(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function Kre(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function Gre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],zre(a)),e}function zre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function j$(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],qre(a)),e}function qre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function $re(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["encodedVideo"]);i!=null&&w(e,["videoBytes"],pQ(i));const r=y(n,["encoding"]);return r!=null&&w(e,["mimeType"],r),e}function jre(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["videoBytes"],pQ(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var NV;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(NV||(NV={}));var LV;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(LV||(LV={}));var QV;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(QV||(QV={}));var vd;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(vd||(vd={}));var OV;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(OV||(OV={}));var kV;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(kV||(kV={}));var HV;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(HV||(HV={}));var VV;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(VV||(VV={}));var KV;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(KV||(KV={}));var GV;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(GV||(GV={}));var zV;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(zV||(zV={}));var qV;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(qV||(qV={}));var $V;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})($V||($V={}));var jV;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(jV||(jV={}));var WV;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(WV||(WV={}));var YV;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(YV||(YV={}));var XV;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(XV||(XV={}));var JV;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(JV||(JV={}));var ZV;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ZV||(ZV={}));var R_;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(R_||(R_={}));var e3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(e3||(e3={}));var t3;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(t3||(t3={}));var n3;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(n3||(n3={}));var vR;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vR||(vR={}));var i3;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(i3||(i3={}));var r3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(r3||(r3={}));var s3;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(s3||(s3={}));var a3;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(a3||(a3={}));var o3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(o3||(o3={}));var A3;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(A3||(A3={}));var l3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(l3||(l3={}));var u3;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(u3||(u3={}));var c3;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(c3||(c3={}));var d3;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(d3||(d3={}));var f3;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(f3||(f3={}));var h3;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(h3||(h3={}));var p3;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(p3||(p3={}));var g3;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(g3||(g3={}));var m3;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(m3||(m3={}));var v3;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(v3||(v3={}));var y3;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(y3||(y3={}));var w3;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(w3||(w3={}));var C3;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(C3||(C3={}));var b3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(b3||(b3={}));var B3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(B3||(B3={}));var E3;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(E3||(E3={}));var S3;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(S3||(S3={}));var x3;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(x3||(x3={}));var _3;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(_3||(_3={}));var T3;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(T3||(T3={}));var I3;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(I3||(I3={}));var F3;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(F3||(F3={}));var U3;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(U3||(U3={}));var M3;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(M3||(M3={}));var Ig;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ig||(Ig={}));class yR{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class h0{get text(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const g of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[v,C]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(C!==null||C!==void 0)&&h.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="inlineData"&&(v!==null||v!==void 0)&&d.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,t,i,r,s,a,o,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,i,r,s,a,o,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class P3{}class R3{}class Wre{}class Yre{}class Xre{}class Jre{}class D3{}class N3{}class L3{}class Zre{}class D_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new D_;let r;const s=e;return t?r=Lre(s):r=Nre(s),Object.assign(i,r),i}}class Q3{}class O3{}class k3{}class H3{}class ese{}class tse{}class nse{}class gQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new gQ,s=Gre(e);return Object.assign(i,s),i}}class ise{}class rse{}class sse{}class V3{}class ase{get text(){var e,t,i;let r="",s=!1;const a=[];for(const o of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[l,u]of Object.entries(o))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,r+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,t,i;let r="";const s=[];for(const a of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(r+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class ose{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class mQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new mQ,s=j$(e);return Object.assign(i,s),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function W$(n,e){const t=Tt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Y$(n){return Array.isArray(n)?n.map(e=>N_(e)):[N_(n)]}function N_(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function X$(n){const e=N_(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function J$(n){const e=N_(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function K3(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Z$(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>K3(e)):[K3(n)]}function wR(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function G3(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function z3(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function br(n){if(n==null)throw new Error("ContentUnion is required");return wR(n)?n:{role:"user",parts:Z$(n)}}function vQ(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=br(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=br(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>br(t)):[br(e)]}function Oa(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(G3(n)||z3(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[br(n)]}const e=[],t=[],i=wR(n[0]);for(const r of n){const s=wR(r);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(r);else{if(G3(r)||z3(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return i||e.push({role:"user",parts:Z$(t)}),e}function Ase(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(vd).includes(t[0].toUpperCase())?t[0].toUpperCase():vd.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(vd).includes(i.toUpperCase())?i.toUpperCase():vd.TYPE_UNSPECIFIED})}}function Og(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&Ase(n.type,e);for(const[a,o]of Object.entries(n))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(vd).includes(o.toUpperCase())?o.toUpperCase():vd.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=Og(o);else if(i.includes(a)){const l=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}l.push(Og(u))}e[a]=l}else if(r.includes(a)){const l={};for(const[u,d]of Object.entries(o))l[u]=Og(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function yQ(n){return Og(n)}function wQ(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function CQ(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function ly(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Og(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Og(e.response));return n}function uy(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function lse(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Cu(n,e){if(typeof e!="string")throw new Error("name must be a string");return lse(n,e,"cachedContents")}function e6(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Pd(n){return pQ(n)}function use(n){return n!=null&&typeof n=="object"&&"name"in n}function cse(n){return n!=null&&typeof n=="object"&&"video"in n}function dse(n){return n!=null&&typeof n=="object"&&"uri"in n}function t6(n){var e;let t;if(use(n)&&(t=n.name),!(dse(n)&&(t=n.uri,t===void 0))&&!(cse(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function n6(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function i6(n){for(const e of["models","tunedModels","publisherModels"])if(fse(n,e))return n[e];return[]}function fse(n,e){return n!==null&&typeof n=="object"&&e in n}function hse(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function pse(n,e={}){const t=[],i=new Set;for(const r of n){const s=r.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const a=hse(r,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function r6(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function gse(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function s6(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let s=!1;for(const a of r){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function cy(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function a6(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mse(n){const e={},t=y(n,["responsesFile"]);t!=null&&w(e,["fileName"],t);const i=y(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Xse(a))),w(e,["inlinedResponses"],s)}const r=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["inlinedEmbedContentResponses"],s)}return e}function vse(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&w(e,["format"],t);const i=y(n,["gcsDestination","outputUriPrefix"]);i!=null&&w(e,["gcsUri"],i);const r=y(n,["bigqueryDestination","outputUri"]);return r!=null&&w(e,["bigqueryUri"],r),e}function yse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["predictionsFormat"],t);const i=y(n,["gcsUri"]);i!=null&&w(e,["gcsDestination","outputUriPrefix"],i);const r=y(n,["bigqueryUri"]);if(r!=null&&w(e,["bigqueryDestination","outputUri"],r),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Sx(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata","displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["metadata","state"]);r!=null&&w(e,["state"],a6(r));const s=y(n,["metadata","createTime"]);s!=null&&w(e,["createTime"],s);const a=y(n,["metadata","endTime"]);a!=null&&w(e,["endTime"],a);const o=y(n,["metadata","updateTime"]);o!=null&&w(e,["updateTime"],o);const l=y(n,["metadata","model"]);l!=null&&w(e,["model"],l);const u=y(n,["metadata","output"]);return u!=null&&w(e,["dest"],mse(s6(u))),e}function CR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["state"]);r!=null&&w(e,["state"],a6(r));const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["createTime"]);a!=null&&w(e,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(e,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(e,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(e,["updateTime"],u);const d=y(n,["model"]);d!=null&&w(e,["model"],d);const h=y(n,["inputConfig"]);h!=null&&w(e,["src"],wse(h));const g=y(n,["outputConfig"]);g!=null&&w(e,["dest"],vse(s6(g)));const v=y(n,["completionStats"]);return v!=null&&w(e,["completionStats"],v),e}function wse(n){const e={},t=y(n,["instancesFormat"]);t!=null&&w(e,["format"],t);const i=y(n,["gcsSource","uris"]);i!=null&&w(e,["gcsUri"],i);const r=y(n,["bigquerySource","inputUri"]);return r!=null&&w(e,["bigqueryUri"],r),e}function Cse(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=y(e,["fileName"]);i!=null&&w(t,["fileName"],i);const r=y(e,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Yse(n,a))),w(t,["requests","requests"],s)}return t}function bse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["instancesFormat"],t);const i=y(n,["gcsUri"]);i!=null&&w(e,["gcsSource","uris"],i);const r=y(n,["bigqueryUri"]);if(r!=null&&w(e,["bigquerySource","inputUri"],r),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Bse(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Ese(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],cy(n,i)),t}function Sse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],cy(n,i)),t}function xse(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const i=y(n,["citationMetadata"]);i!=null&&w(e,["citationMetadata"],_se(i));const r=y(n,["tokenCount"]);r!=null&&w(e,["tokenCount"],r);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function _se(n){const e={},t=y(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["citations"],i)}return e}function o6(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>rae(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function Tse(n,e){const t={},i=y(n,["displayName"]);if(e!==void 0&&i!=null&&w(e,["batch","displayName"],i),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Ise(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["dest"]);return e!==void 0&&r!=null&&w(e,["outputConfig"],yse(gse(r))),t}function q3(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["src"]);r!=null&&w(t,["batch","inputConfig"],Cse(n,r6(n,r)));const s=y(e,["config"]);return s!=null&&Tse(s,t),t}function Fse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],Tt(n,i));const r=y(e,["src"]);r!=null&&w(t,["inputConfig"],bse(r6(n,r)));const s=y(e,["config"]);return s!=null&&Ise(s,t),t}function Use(n,e){const t={},i=y(n,["displayName"]);return e!==void 0&&i!=null&&w(e,["batch","displayName"],i),t}function Mse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["src"]);r!=null&&w(t,["batch","inputConfig"],Ose(n,r));const s=y(e,["config"]);return s!=null&&Use(s,t),t}function Pse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],cy(n,i)),t}function Rse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],cy(n,i)),t}function Dse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Nse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Lse(n,e){const t={},i=y(e,["contents"]);if(i!=null){let s=vQ(n,i);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["requests[]","request","content"],s)}const r=y(e,["config"]);return r!=null&&(w(t,["_self"],Qse(r,t)),Rre(t,{"requests[].*":"requests[].request.*"})),t}function Qse(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["requests[]","taskType"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["requests[]","title"],r);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Ose(n,e){const t={},i=y(e,["fileName"]);i!=null&&w(t,["file_name"],i);const r=y(e,["inlinedRequests"]);return r!=null&&w(t,["requests"],Lse(n,r)),t}function kse(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Hse(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Vse(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Kse(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],o6(br(r)));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&w(i,["frequencyPenalty"],C);const b=y(e,["seed"]);b!=null&&w(i,["seed"],b);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],yQ(x));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(i,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let $=T;Array.isArray($)&&($=$.map(ne=>sae(ne))),w(t,["safetySettings"],$)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let $=uy(R);Array.isArray($)&&($=$.map(ne=>oae(ly(ne)))),w(t,["tools"],$)}const M=y(e,["toolConfig"]);if(t!==void 0&&M!=null&&w(t,["toolConfig"],aae(M)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Cu(n,D));const L=y(e,["responseModalities"]);L!=null&&w(i,["responseModalities"],L);const H=y(e,["mediaResolution"]);H!=null&&w(i,["mediaResolution"],H);const O=y(e,["speechConfig"]);if(O!=null&&w(i,["speechConfig"],wQ(O)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(i,["thinkingConfig"],K);const V=y(e,["imageConfig"]);return V!=null&&w(i,["imageConfig"],Wse(V)),i}function Gse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>xse(u))),w(e,["candidates"],l)}const r=y(n,["modelVersion"]);r!=null&&w(e,["modelVersion"],r);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function zse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],cy(n,i)),t}function qse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],cy(n,i)),t}function $se(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function jse(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Wse(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);if(i!=null&&w(e,["imageSize"],i),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Yse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["request","model"],Tt(n,i));const r=y(e,["contents"]);if(r!=null){let o=Oa(r);Array.isArray(o)&&(o=o.map(l=>o6(l))),w(t,["request","contents"],o)}const s=y(e,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(e,["config"]);return a!=null&&w(t,["request","generationConfig"],Kse(n,a,y(t,["request"],{}))),t}function Xse(n){const e={},t=y(n,["response"]);t!=null&&w(e,["response"],Gse(t));const i=y(n,["error"]);return i!=null&&w(e,["error"],i),e}function Jse(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);if(e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Zse(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);e!==void 0&&r!=null&&w(e,["_query","pageToken"],r);const s=y(n,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),t}function eae(n){const e={},t=y(n,["config"]);return t!=null&&Jse(t,e),e}function tae(n){const e={},t=y(n,["config"]);return t!=null&&Zse(t,e),e}function nae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Sx(a))),w(e,["batchJobs"],s)}return e}function iae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>CR(a))),w(e,["batchJobs"],s)}return e}function rae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],kse(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Hse(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Bse(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function sae(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(n,["threshold"]);return i!=null&&w(e,["threshold"],i),e}function aae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Vse(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function oae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],$se(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],jse(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var au;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(au||(au={}));class cp{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!i||Object.keys(i).length===0?a={config:{}}:typeof i=="object"?a=Object.assign({},i):a=i,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(r=a.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aae extends wu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new cp(au.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=q3(this.apiClient,e),i=t._url,r=xe("{model}:batchGenerateContent",i),o=t.batch.inputConfig.requests,l=o.requests,u=[];for(const d of l){const h=Object.assign({},d);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=g,h.request=v}u.push(h)}return o.requests=u,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${r}`;else if(a)i.dest=`${a}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Fse(this.apiClient,e);return o=xe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>CR(d))}else{const u=q3(this.apiClient,e);return o=xe("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Sx(d))}}async createEmbeddingsInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Mse(this.apiClient,e);return s=xe("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>Sx(l))}}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=qse(this.apiClient,e);return o=xe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>CR(d))}else{const u=zse(this.apiClient,e);return o=xe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Sx(d))}}async cancel(e){var t,i,r,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=Sse(this.apiClient,e);a=xe("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const l=Ese(this.apiClient,e);a=xe("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=tae(e);return o=xe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=iae(d),g=new V3;return Object.assign(g,h),g})}else{const u=eae(e);return o=xe("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=nae(d),g=new V3;return Object.assign(g,h),g})}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Rse(this.apiClient,e);return o=xe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Nse(d))}else{const u=Pse(this.apiClient,e);return o=xe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Dse(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lae(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function $3(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>Mae(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function uae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);e!==void 0&&r!=null&&w(e,["expireTime"],r);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let d=Oa(a);Array.isArray(d)&&(d=d.map(h=>$3(h))),w(e,["contents"],d)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],$3(br(o)));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Rae(h))),w(e,["tools"],d)}const u=y(n,["toolConfig"]);if(e!==void 0&&u!=null&&w(e,["toolConfig"],Pae(u)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function cae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);e!==void 0&&r!=null&&w(e,["expireTime"],r);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let h=Oa(a);Array.isArray(h)&&(h=h.map(g=>g)),w(e,["contents"],h)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],br(o));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>Dae(g))),w(e,["tools"],h)}const u=y(n,["toolConfig"]);e!==void 0&&u!=null&&w(e,["toolConfig"],u);const d=y(n,["kmsKeyName"]);return e!==void 0&&d!=null&&w(e,["encryption_spec","kmsKeyName"],d),t}function dae(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],W$(n,i));const r=y(e,["config"]);return r!=null&&uae(r,t),t}function fae(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],W$(n,i));const r=y(e,["config"]);return r!=null&&cae(r,t),t}function hae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Cu(n,i)),t}function pae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Cu(n,i)),t}function gae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function mae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function vae(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function yae(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wae(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Cae(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function bae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Cu(n,i)),t}function Bae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Cu(n,i)),t}function Eae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Sae(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function xae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function _ae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Tae(n){const e={},t=y(n,["config"]);return t!=null&&xae(t,e),e}function Iae(n){const e={},t=y(n,["config"]);return t!=null&&_ae(t,e),e}function Fae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Uae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Mae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],vae(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],yae(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],lae(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Pae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],wae(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function Rae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Eae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Sae(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Dae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>Cae(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Nae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);return e!==void 0&&r!=null&&w(e,["expireTime"],r),t}function Lae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);return e!==void 0&&r!=null&&w(e,["expireTime"],r),t}function Qae(n,e){const t={},i=y(e,["name"]);i!=null&&w(t,["_url","name"],Cu(n,i));const r=y(e,["config"]);return r!=null&&Nae(r,t),t}function Oae(n,e){const t={},i=y(e,["name"]);i!=null&&w(t,["_url","name"],Cu(n,i));const r=y(e,["config"]);return r!=null&&Lae(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kae extends wu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new cp(au.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=fae(this.apiClient,e);return o=xe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=dae(this.apiClient,e);return o=xe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Bae(this.apiClient,e);return o=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=bae(this.apiClient,e);return o=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=pae(this.apiClient,e);return o=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=mae(d),g=new k3;return Object.assign(g,h),g})}else{const u=hae(this.apiClient,e);return o=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=gae(d),g=new k3;return Object.assign(g,h),g})}}async update(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Oae(this.apiClient,e);return o=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Qae(this.apiClient,e);return o=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Iae(e);return o=xe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Uae(d),g=new H3;return Object.assign(g,h),g})}else{const u=Tae(e);return o=xe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Fae(d),g=new H3;return Object.assign(g,h),g})}}}function j3(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mn(n){return this instanceof mn?(this.v=n,this):new mn(n)}function kg(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(v){return function(C){return Promise.resolve(C).then(v,h)}}function o(v,C){i[v]&&(r[v]=function(b){return new Promise(function(E,x){s.push([v,b,E,x])>1||l(v,b)})},C&&(r[v]=C(r[v])))}function l(v,C){try{u(i[v](C))}catch(b){g(s[0][3],b)}}function u(v){v.value instanceof mn?Promise.resolve(v.value.v).then(d,h):g(s[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function g(v,C){v(C),s.shift(),s.length&&l(s[0][0],s[0][1])}}function mw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof j3=="function"?j3(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(a){return new Promise(function(o,l){a=n[s](a),r(o,l,a.done,a.value)})}}function r(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hae(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:A6(t)}function A6(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Vae(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function W3(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let s=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),s&&!A6(n[i])&&(s=!1),i++;s?e.push(...r):e.pop()}return e}class Kae{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Gae(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Gae{constructor(e,t,i,r={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),Vae(s)}async sendMessage(e){var t;await this.sendPromise;const i=br(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await r,u=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(h))!==null&&o!==void 0?o:[]);const v=u?[u]:[];this.recordHistory(i,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=br(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,i)}getHistory(e=!1){const t=e?W3(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return kg(this,arguments,function*(){var a,o,l,u;const d=[];try{for(var h=!0,g=mw(e),v;v=yield mn(g.next()),a=v.done,!a;h=!0){u=v.value,h=!1;const C=u;if(Hae(C)){const b=(r=(i=C.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;b!==void 0&&d.push(b)}yield yield mn(C)}}catch(C){o={error:C}}finally{try{!h&&!a&&(l=g.return)&&(yield mn(l.call(g)))}finally{if(o)throw o.error}}this.recordHistory(t,d)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(s=>s.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...W3(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w1 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,w1.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zae(n){const e={},t=y(n,["file"]);return t!=null&&w(e,["file"],t),e}function qae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function $ae(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],t6(t)),e}function jae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Wae(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],t6(t)),e}function Yae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Xae(n){const e={},t=y(n,["config"]);return t!=null&&Yae(t,e),e}function Jae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zae extends wu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new cp(au.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Xae(e);return s=xe("files",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Jae(l),d=new ise;return Object.assign(d,u),d})}}async createInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=zae(e);return s=xe("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=qae(l),d=new rse;return Object.assign(d,u),d})}}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Wae(e);return s=xe("files/{file}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=$ae(e);return s=xe("files/{file}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=jae(l),d=new sse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xx(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function eoe(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>goe(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function toe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function noe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ioe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function roe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const i=y(n,["responseJsonSchema"]);i!=null&&w(e,["responseJsonSchema"],i);const r=y(n,["audioTimestamp"]);r!=null&&w(e,["audioTimestamp"],r);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const C=y(n,["responseModalities"]);C!=null&&w(e,["responseModalities"],C);const b=y(n,["responseSchema"]);b!=null&&w(e,["responseSchema"],b);const E=y(n,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const x=y(n,["seed"]);x!=null&&w(e,["seed"],x);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],l6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const M=y(n,["thinkingConfig"]);M!=null&&w(e,["thinkingConfig"],M);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const L=y(n,["topP"]);if(L!=null&&w(e,["topP"],L),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function soe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function aoe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function ooe(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],i);const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],CQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&w(e,["setup","systemInstruction"],eoe(br(C)));const b=y(n,["tools"]);if(e!==void 0&&b!=null){let D=uy(b);Array.isArray(D)&&(D=D.map(L=>voe(ly(L)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],moe(E));const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const M=y(n,["proactivity"]);return e!==void 0&&M!=null&&w(e,["setup","proactivity"],M),t}function Aoe(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],roe(i));const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],l6(CQ(h)));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&w(e,["setup","systemInstruction"],br(C));const b=y(n,["tools"]);if(e!==void 0&&b!=null){let D=uy(b);Array.isArray(D)&&(D=D.map(L=>yoe(ly(L)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],E);const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const M=y(n,["proactivity"]);return e!==void 0&&M!=null&&w(e,["setup","proactivity"],M),t}function loe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Tt(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],ooe(r,t)),t}function uoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Tt(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],Aoe(r,t)),t}function coe(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&w(e,["musicGenerationConfig"],t),e}function doe(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["weightedPrompts"],i)}return e}function foe(n){const e={},t=y(n,["media"]);if(t!=null){let u=Y$(t);Array.isArray(u)&&(u=u.map(d=>xx(d))),w(e,["mediaChunks"],u)}const i=y(n,["audio"]);i!=null&&w(e,["audio"],xx(J$(i)));const r=y(n,["audioStreamEnd"]);r!=null&&w(e,["audioStreamEnd"],r);const s=y(n,["video"]);s!=null&&w(e,["video"],xx(X$(s)));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function hoe(n){const e={},t=y(n,["media"]);if(t!=null){let u=Y$(t);Array.isArray(u)&&(u=u.map(d=>d)),w(e,["mediaChunks"],u)}const i=y(n,["audio"]);i!=null&&w(e,["audio"],J$(i));const r=y(n,["audioStreamEnd"]);r!=null&&w(e,["audioStreamEnd"],r);const s=y(n,["video"]);s!=null&&w(e,["video"],X$(s));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function poe(n){const e={},t=y(n,["setupComplete"]);t!=null&&w(e,["setupComplete"],t);const i=y(n,["serverContent"]);i!=null&&w(e,["serverContent"],i);const r=y(n,["toolCall"]);r!=null&&w(e,["toolCall"],r);const s=y(n,["toolCallCancellation"]);s!=null&&w(e,["toolCallCancellation"],s);const a=y(n,["usageMetadata"]);a!=null&&w(e,["usageMetadata"],woe(a));const o=y(n,["goAway"]);o!=null&&w(e,["goAway"],o);const l=y(n,["sessionResumptionUpdate"]);return l!=null&&w(e,["sessionResumptionUpdate"],l),e}function goe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],toe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],noe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],xx(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function moe(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function l6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const i=y(n,["voiceConfig"]);if(i!=null&&w(e,["voiceConfig"],i),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function voe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],soe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],aoe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function yoe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>ioe(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function woe(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&w(e,["promptTokenCount"],t);const i=y(n,["cachedContentTokenCount"]);i!=null&&w(e,["cachedContentTokenCount"],i);const r=y(n,["candidatesTokenCount"]);r!=null&&w(e,["responseTokenCount"],r);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&w(e,["toolUsePromptTokenCount"],s);const a=y(n,["thoughtsTokenCount"]);a!=null&&w(e,["thoughtsTokenCount"],a);const o=y(n,["totalTokenCount"]);o!=null&&w(e,["totalTokenCount"],o);const l=y(n,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["promptTokensDetails"],v)}const u=y(n,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["cacheTokensDetails"],v)}const d=y(n,["candidatesTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["responseTokensDetails"],v)}const h=y(n,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["toolUsePromptTokensDetails"],v)}const g=y(n,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Coe(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function boe(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const i=y(n,["citationMetadata"]);i!=null&&w(e,["citationMetadata"],Boe(i));const r=y(n,["tokenCount"]);r!=null&&w(e,["tokenCount"],r);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Boe(n){const e={},t=y(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["citations"],i)}return e}function Eoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["contents"]);if(r!=null){let s=Oa(r);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["contents"],s)}return t}function Soe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(e,["tokensInfo"],r)}return e}function xoe(n){const e={},t=y(n,["values"]);t!=null&&w(e,["values"],t);const i=y(n,["statistics"]);return i!=null&&w(e,["statistics"],_oe(i)),e}function _oe(n){const e={},t=y(n,["truncated"]);t!=null&&w(e,["truncated"],t);const i=y(n,["token_count"]);return i!=null&&w(e,["tokenCount"],i),e}function C1(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>NAe(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function Toe(n){const e={},t=y(n,["controlType"]);t!=null&&w(e,["controlType"],t);const i=y(n,["enableControlImageComputation"]);return i!=null&&w(e,["computeControl"],i),e}function Ioe(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Foe(n,e){const t={},i=y(n,["systemInstruction"]);e!==void 0&&i!=null&&w(e,["systemInstruction"],br(i));const r=y(n,["tools"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>h6(o))),w(e,["tools"],a)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&w(e,["generationConfig"],CAe(s)),t}function Uoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["contents"]);if(r!=null){let a=Oa(r);Array.isArray(a)&&(a=a.map(o=>C1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Ioe(s),t}function Moe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["contents"]);if(r!=null){let a=Oa(r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Foe(s,t),t}function Poe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["totalTokens"]);i!=null&&w(e,["totalTokens"],i);const r=y(n,["cachedContentTokenCount"]);return r!=null&&w(e,["cachedContentTokenCount"],r),e}function Roe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["totalTokens"]);return i!=null&&w(e,["totalTokens"],i),e}function Doe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Tt(n,i)),t}function Noe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Tt(n,i)),t}function Loe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Qoe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Ooe(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["negativePrompt"]);e!==void 0&&r!=null&&w(e,["parameters","negativePrompt"],r);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const C=y(n,["outputMimeType"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","mimeType"],C);const b=y(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","compressionQuality"],b);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const x=y(n,["labels"]);e!==void 0&&x!=null&&w(e,["labels"],x);const I=y(n,["editMode"]);e!==void 0&&I!=null&&w(e,["parameters","editMode"],I);const T=y(n,["baseSteps"]);return e!==void 0&&T!=null&&w(e,["parameters","editConfig","baseSteps"],T),t}function koe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>VAe(l))),w(t,["instances[0]","referenceImages"],o)}const a=y(e,["config"]);return a!=null&&Ooe(a,t),t}function Hoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>b1(s))),w(e,["generatedImages"],r)}return e}function Voe(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["requests[]","taskType"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["requests[]","title"],r);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Koe(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["instances[]","task_type"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["instances[]","title"],r);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&w(e,["parameters","outputDimensionality"],s);const a=y(n,["mimeType"]);e!==void 0&&a!=null&&w(e,["instances[]","mimeType"],a);const o=y(n,["autoTruncate"]);return e!==void 0&&o!=null&&w(e,["parameters","autoTruncate"],o),t}function Goe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["contents"]);if(r!=null){let o=vQ(n,r);Array.isArray(o)&&(o=o.map(l=>l)),w(t,["requests[]","content"],o)}const s=y(e,["config"]);s!=null&&Voe(s,t);const a=y(e,["model"]);return a!==void 0&&w(t,["requests[]","model"],Tt(n,a)),t}function zoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["contents"]);if(r!=null){let a=vQ(n,r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&Koe(s,t),t}function qoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["embeddings"],s)}const r=y(n,["metadata"]);return r!=null&&w(e,["metadata"],r),e}function $oe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>xoe(a))),w(e,["embeddings"],s)}const r=y(n,["metadata"]);return r!=null&&w(e,["metadata"],r),e}function joe(n){const e={},t=y(n,["endpoint"]);t!=null&&w(e,["name"],t);const i=y(n,["deployedModelId"]);return i!=null&&w(e,["deployedModelId"],i),e}function Woe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Yoe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xoe(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Joe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function Zoe(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],C1(br(r)));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&w(i,["frequencyPenalty"],C);const b=y(e,["seed"]);b!=null&&w(i,["seed"],b);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],yQ(x));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(i,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let $=T;Array.isArray($)&&($=$.map(ne=>KAe(ne))),w(t,["safetySettings"],$)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let $=uy(R);Array.isArray($)&&($=$.map(ne=>YAe(ly(ne)))),w(t,["tools"],$)}const M=y(e,["toolConfig"]);if(t!==void 0&&M!=null&&w(t,["toolConfig"],WAe(M)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Cu(n,D));const L=y(e,["responseModalities"]);L!=null&&w(i,["responseModalities"],L);const H=y(e,["mediaResolution"]);H!=null&&w(i,["mediaResolution"],H);const O=y(e,["speechConfig"]);if(O!=null&&w(i,["speechConfig"],wQ(O)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(i,["thinkingConfig"],K);const V=y(e,["imageConfig"]);return V!=null&&w(i,["imageConfig"],xAe(V)),i}function eAe(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],br(r));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&w(i,["frequencyPenalty"],C);const b=y(e,["seed"]);b!=null&&w(i,["seed"],b);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],yQ(x));const I=y(e,["responseJsonSchema"]);I!=null&&w(i,["responseJsonSchema"],I);const T=y(e,["routingConfig"]);T!=null&&w(i,["routingConfig"],T);const R=y(e,["modelSelectionConfig"]);R!=null&&w(i,["modelConfig"],R);const M=y(e,["safetySettings"]);if(t!==void 0&&M!=null){let G=M;Array.isArray(G)&&(G=G.map(z=>z)),w(t,["safetySettings"],G)}const D=y(e,["tools"]);if(t!==void 0&&D!=null){let G=uy(D);Array.isArray(G)&&(G=G.map(z=>h6(ly(z)))),w(t,["tools"],G)}const L=y(e,["toolConfig"]);t!==void 0&&L!=null&&w(t,["toolConfig"],L);const H=y(e,["labels"]);t!==void 0&&H!=null&&w(t,["labels"],H);const O=y(e,["cachedContent"]);t!==void 0&&O!=null&&w(t,["cachedContent"],Cu(n,O));const K=y(e,["responseModalities"]);K!=null&&w(i,["responseModalities"],K);const V=y(e,["mediaResolution"]);V!=null&&w(i,["mediaResolution"],V);const $=y(e,["speechConfig"]);$!=null&&w(i,["speechConfig"],f6(wQ($)));const ne=y(e,["audioTimestamp"]);ne!=null&&w(i,["audioTimestamp"],ne);const oe=y(e,["thinkingConfig"]);oe!=null&&w(i,["thinkingConfig"],oe);const pe=y(e,["imageConfig"]);return pe!=null&&w(i,["imageConfig"],_Ae(pe)),i}function Y3(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["contents"]);if(r!=null){let a=Oa(r);Array.isArray(a)&&(a=a.map(o=>C1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],Zoe(n,s,t)),t}function X3(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["contents"]);if(r!=null){let a=Oa(r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],eAe(n,s,t)),t}function J3(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>boe(u))),w(e,["candidates"],l)}const r=y(n,["modelVersion"]);r!=null&&w(e,["modelVersion"],r);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function Z3(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),w(e,["candidates"],u)}const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const s=y(n,["modelVersion"]);s!=null&&w(e,["modelVersion"],s);const a=y(n,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const o=y(n,["responseId"]);o!=null&&w(e,["responseId"],o);const l=y(n,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function tAe(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=y(n,["numberOfImages"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["aspectRatio"]);e!==void 0&&r!=null&&w(e,["parameters","aspectRatio"],r);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&w(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&w(e,["parameters","safetySetting"],a);const o=y(n,["personGeneration"]);e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o);const l=y(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&w(e,["parameters","includeSafetyAttributes"],l);const u=y(n,["includeRaiReason"]);e!==void 0&&u!=null&&w(e,["parameters","includeRaiReason"],u);const d=y(n,["language"]);e!==void 0&&d!=null&&w(e,["parameters","language"],d);const h=y(n,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const g=y(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(n,["imageSize"]);if(e!==void 0&&v!=null&&w(e,["parameters","sampleImageSize"],v),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function nAe(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["negativePrompt"]);e!==void 0&&r!=null&&w(e,["parameters","negativePrompt"],r);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const C=y(n,["outputMimeType"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","mimeType"],C);const b=y(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","compressionQuality"],b);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const x=y(n,["labels"]);e!==void 0&&x!=null&&w(e,["labels"],x);const I=y(n,["imageSize"]);e!==void 0&&I!=null&&w(e,["parameters","sampleImageSize"],I);const T=y(n,["enhancePrompt"]);return e!==void 0&&T!=null&&w(e,["parameters","enhancePrompt"],T),t}function iAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["config"]);return s!=null&&tAe(s,t),t}function rAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["config"]);return s!=null&&nAe(s,t),t}function sAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>mAe(a))),w(e,["generatedImages"],s)}const r=y(n,["positivePromptSafetyAttributes"]);return r!=null&&w(e,["positivePromptSafetyAttributes"],c6(r)),e}function aAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>b1(a))),w(e,["generatedImages"],s)}const r=y(n,["positivePromptSafetyAttributes"]);return r!=null&&w(e,["positivePromptSafetyAttributes"],d6(r)),e}function oAe(n,e){const t={},i=y(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=y(n,["durationSeconds"]);if(e!==void 0&&r!=null&&w(e,["parameters","durationSeconds"],r),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const a=y(n,["resolution"]);e!==void 0&&a!=null&&w(e,["parameters","resolution"],a);const o=y(n,["personGeneration"]);if(e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=y(n,["negativePrompt"]);e!==void 0&&l!=null&&w(e,["parameters","negativePrompt"],l);const u=y(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&w(e,["parameters","enhancePrompt"],u),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=y(n,["lastFrame"]);e!==void 0&&d!=null&&w(e,["instances[0]","lastFrame"],B1(d));const h=y(n,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>lle(v))),w(e,["instances[0]","referenceImages"],g)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function AAe(n,e){const t={},i=y(n,["numberOfVideos"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const s=y(n,["fps"]);e!==void 0&&s!=null&&w(e,["parameters","fps"],s);const a=y(n,["durationSeconds"]);e!==void 0&&a!=null&&w(e,["parameters","durationSeconds"],a);const o=y(n,["seed"]);e!==void 0&&o!=null&&w(e,["parameters","seed"],o);const l=y(n,["aspectRatio"]);e!==void 0&&l!=null&&w(e,["parameters","aspectRatio"],l);const u=y(n,["resolution"]);e!==void 0&&u!=null&&w(e,["parameters","resolution"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["pubsubTopic"]);e!==void 0&&h!=null&&w(e,["parameters","pubsubTopic"],h);const g=y(n,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const v=y(n,["enhancePrompt"]);e!==void 0&&v!=null&&w(e,["parameters","enhancePrompt"],v);const C=y(n,["generateAudio"]);e!==void 0&&C!=null&&w(e,["parameters","generateAudio"],C);const b=y(n,["lastFrame"]);e!==void 0&&b!=null&&w(e,["instances[0]","lastFrame"],Eo(b));const E=y(n,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(R=>ule(R))),w(e,["instances[0]","referenceImages"],T)}const x=y(n,["mask"]);e!==void 0&&x!=null&&w(e,["instances[0]","mask"],Ale(x));const I=y(n,["compressionQuality"]);return e!==void 0&&I!=null&&w(e,["parameters","compressionQuality"],I),t}function lAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],fAe(a)),e}function uAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],hAe(a)),e}function cAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],B1(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],p6(a));const o=y(e,["source"]);o!=null&&pAe(o,t);const l=y(e,["config"]);return l!=null&&oAe(l,t),t}function dAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],Eo(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],g6(a));const o=y(e,["source"]);o!=null&&gAe(o,t);const l=y(e,["config"]);return l!=null&&AAe(l,t),t}function fAe(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>yAe(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function hAe(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>wAe(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function pAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],B1(r));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],p6(s)),t}function gAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],Eo(r));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],g6(s)),t}function mAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],TAe(t));const i=y(n,["raiFilteredReason"]);i!=null&&w(e,["raiFilteredReason"],i);const r=y(n,["_self"]);return r!=null&&w(e,["safetyAttributes"],c6(r)),e}function b1(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],u6(t));const i=y(n,["raiFilteredReason"]);i!=null&&w(e,["raiFilteredReason"],i);const r=y(n,["_self"]);r!=null&&w(e,["safetyAttributes"],d6(r));const s=y(n,["prompt"]);return s!=null&&w(e,["enhancedPrompt"],s),e}function vAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["mask"],u6(t));const i=y(n,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(e,["labels"],r)}return e}function yAe(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],ale(t)),e}function wAe(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],ole(t)),e}function CAe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const i=y(n,["responseJsonSchema"]);i!=null&&w(e,["responseJsonSchema"],i);const r=y(n,["audioTimestamp"]);r!=null&&w(e,["audioTimestamp"],r);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const C=y(n,["responseModalities"]);C!=null&&w(e,["responseModalities"],C);const b=y(n,["responseSchema"]);b!=null&&w(e,["responseSchema"],b);const E=y(n,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const x=y(n,["seed"]);x!=null&&w(e,["seed"],x);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],f6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const M=y(n,["thinkingConfig"]);M!=null&&w(e,["thinkingConfig"],M);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const L=y(n,["topP"]);if(L!=null&&w(e,["topP"],L),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function bAe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Tt(n,i)),t}function BAe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Tt(n,i)),t}function EAe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function SAe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function xAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);if(i!=null&&w(e,["imageSize"],i),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function _Ae(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);i!=null&&w(e,["imageSize"],i);const r=y(n,["outputMimeType"]);r!=null&&w(e,["imageOutputOptions","mimeType"],r);const s=y(n,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function TAe(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&w(e,["imageBytes"],Pd(t));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function u6(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["imageBytes"],Pd(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function B1(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&w(e,["bytesBase64Encoded"],Pd(t));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Eo(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["imageBytes"]);i!=null&&w(e,["bytesBase64Encoded"],Pd(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function IAe(n,e,t){const i={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],n6(n,o)),i}function FAe(n,e,t){const i={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],n6(n,o)),i}function UAe(n,e){const t={},i=y(e,["config"]);return i!=null&&IAe(n,i,t),t}function MAe(n,e){const t={},i=y(e,["config"]);return i!=null&&FAe(n,i,t),t}function PAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["_self"]);if(r!=null){let s=i6(r);Array.isArray(s)&&(s=s.map(a=>bR(a))),w(e,["models"],s)}return e}function RAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["_self"]);if(r!=null){let s=i6(r);Array.isArray(s)&&(s=s.map(a=>BR(a))),w(e,["models"],s)}return e}function DAe(n){const e={},t=y(n,["maskMode"]);t!=null&&w(e,["maskMode"],t);const i=y(n,["segmentationClasses"]);i!=null&&w(e,["maskClasses"],i);const r=y(n,["maskDilation"]);return r!=null&&w(e,["dilation"],r),e}function bR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);r!=null&&w(e,["description"],r);const s=y(n,["version"]);s!=null&&w(e,["version"],s);const a=y(n,["_self"]);a!=null&&w(e,["tunedModelInfo"],XAe(a));const o=y(n,["inputTokenLimit"]);o!=null&&w(e,["inputTokenLimit"],o);const l=y(n,["outputTokenLimit"]);l!=null&&w(e,["outputTokenLimit"],l);const u=y(n,["supportedGenerationMethods"]);u!=null&&w(e,["supportedActions"],u);const d=y(n,["temperature"]);d!=null&&w(e,["temperature"],d);const h=y(n,["maxTemperature"]);h!=null&&w(e,["maxTemperature"],h);const g=y(n,["topP"]);g!=null&&w(e,["topP"],g);const v=y(n,["topK"]);v!=null&&w(e,["topK"],v);const C=y(n,["thinking"]);return C!=null&&w(e,["thinking"],C),e}function BR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);r!=null&&w(e,["description"],r);const s=y(n,["versionId"]);s!=null&&w(e,["version"],s);const a=y(n,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>joe(g))),w(e,["endpoints"],h)}const o=y(n,["labels"]);o!=null&&w(e,["labels"],o);const l=y(n,["_self"]);l!=null&&w(e,["tunedModelInfo"],JAe(l));const u=y(n,["defaultCheckpointId"]);u!=null&&w(e,["defaultCheckpointId"],u);const d=y(n,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),w(e,["checkpoints"],h)}return e}function NAe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Woe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Yoe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Coe(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function LAe(n){const e={},t=y(n,["productImage"]);return t!=null&&w(e,["image"],Eo(t)),e}function QAe(n,e){const t={},i=y(n,["numberOfImages"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["baseSteps"]);e!==void 0&&r!=null&&w(e,["parameters","baseSteps"],r);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&w(e,["parameters","storageUri"],s);const a=y(n,["seed"]);e!==void 0&&a!=null&&w(e,["parameters","seed"],a);const o=y(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&w(e,["parameters","safetySetting"],o);const l=y(n,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const u=y(n,["addWatermark"]);e!==void 0&&u!=null&&w(e,["parameters","addWatermark"],u);const d=y(n,["outputMimeType"]);e!==void 0&&d!=null&&w(e,["parameters","outputOptions","mimeType"],d);const h=y(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","compressionQuality"],h);const g=y(n,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const v=y(n,["labels"]);return e!==void 0&&v!=null&&w(e,["labels"],v),t}function OAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["source"]);r!=null&&HAe(r,t);const s=y(e,["config"]);return s!=null&&QAe(s,t),t}function kAe(n){const e={},t=y(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>b1(r))),w(e,["generatedImages"],i)}return e}function HAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["personImage"]);e!==void 0&&r!=null&&w(e,["instances[0]","personImage","image"],Eo(r));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>LAe(o))),w(e,["instances[0]","productImages"],a)}return t}function VAe(n){const e={},t=y(n,["referenceImage"]);t!=null&&w(e,["referenceImage"],Eo(t));const i=y(n,["referenceId"]);i!=null&&w(e,["referenceId"],i);const r=y(n,["referenceType"]);r!=null&&w(e,["referenceType"],r);const s=y(n,["maskImageConfig"]);s!=null&&w(e,["maskImageConfig"],DAe(s));const a=y(n,["controlImageConfig"]);a!=null&&w(e,["controlImageConfig"],Toe(a));const o=y(n,["styleImageConfig"]);o!=null&&w(e,["styleImageConfig"],o);const l=y(n,["subjectImageConfig"]);return l!=null&&w(e,["subjectImageConfig"],l),e}function c6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const i=y(n,["safetyAttributes","scores"]);i!=null&&w(e,["scores"],i);const r=y(n,["contentType"]);return r!=null&&w(e,["contentType"],r),e}function d6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const i=y(n,["safetyAttributes","scores"]);i!=null&&w(e,["scores"],i);const r=y(n,["contentType"]);return r!=null&&w(e,["contentType"],r),e}function KAe(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(n,["threshold"]);return i!=null&&w(e,["threshold"],i),e}function GAe(n){const e={},t=y(n,["image"]);return t!=null&&w(e,["image"],Eo(t)),e}function zAe(n,e){const t={},i=y(n,["mode"]);e!==void 0&&i!=null&&w(e,["parameters","mode"],i);const r=y(n,["maxPredictions"]);e!==void 0&&r!=null&&w(e,["parameters","maxPredictions"],r);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&w(e,["parameters","confidenceThreshold"],s);const a=y(n,["maskDilation"]);e!==void 0&&a!=null&&w(e,["parameters","maskDilation"],a);const o=y(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&w(e,["parameters","binaryColorThreshold"],o);const l=y(n,["labels"]);return e!==void 0&&l!=null&&w(e,["labels"],l),t}function qAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["source"]);r!=null&&jAe(r,t);const s=y(e,["config"]);return s!=null&&zAe(s,t),t}function $Ae(n){const e={},t=y(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>vAe(r))),w(e,["generatedMasks"],i)}return e}function jAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],Eo(r));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&w(e,["instances[0]","scribble"],GAe(s)),t}function f6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const i=y(n,["voiceConfig"]);if(i!=null&&w(e,["voiceConfig"],i),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function WAe(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Xoe(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function YAe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],EAe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],SAe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function h6(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>Joe(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function XAe(n){const e={},t=y(n,["baseModel"]);t!=null&&w(e,["baseModel"],t);const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const r=y(n,["updateTime"]);return r!=null&&w(e,["updateTime"],r),e}function JAe(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&w(e,["baseModel"],t);const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const r=y(n,["updateTime"]);return r!=null&&w(e,["updateTime"],r),e}function ZAe(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);e!==void 0&&r!=null&&w(e,["description"],r);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function ele(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);e!==void 0&&r!=null&&w(e,["description"],r);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function tle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","name"],Tt(n,i));const r=y(e,["config"]);return r!=null&&ZAe(r,t),t}function nle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["config"]);return r!=null&&ele(r,t),t}function ile(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&w(e,["parameters","safetySetting"],r);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&w(e,["parameters","personGeneration"],s);const a=y(n,["includeRaiReason"]);e!==void 0&&a!=null&&w(e,["parameters","includeRaiReason"],a);const o=y(n,["outputMimeType"]);e!==void 0&&o!=null&&w(e,["parameters","outputOptions","mimeType"],o);const l=y(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","compressionQuality"],l);const u=y(n,["enhanceInputImage"]);e!==void 0&&u!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=y(n,["imagePreservationFactor"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const v=y(n,["mode"]);return e!==void 0&&v!=null&&w(e,["parameters","mode"],v),t}function rle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Tt(n,i));const r=y(e,["image"]);r!=null&&w(t,["instances[0]","image"],Eo(r));const s=y(e,["upscaleFactor"]);s!=null&&w(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&ile(a,t),t}function sle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>b1(s))),w(e,["generatedImages"],r)}return e}function ale(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["encodedVideo"]);i!=null&&w(e,["videoBytes"],Pd(i));const r=y(n,["encoding"]);return r!=null&&w(e,["mimeType"],r),e}function ole(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["videoBytes"],Pd(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Ale(n){const e={},t=y(n,["image"]);t!=null&&w(e,["_self"],Eo(t));const i=y(n,["maskMode"]);return i!=null&&w(e,["maskMode"],i),e}function lle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],B1(t));const i=y(n,["referenceType"]);return i!=null&&w(e,["referenceType"],i),e}function ule(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],Eo(t));const i=y(n,["referenceType"]);return i!=null&&w(e,["referenceType"],i),e}function p6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["videoBytes"]);i!=null&&w(e,["encodedVideo"],Pd(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["encoding"],r),e}function g6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["videoBytes"]);i!=null&&w(e,["bytesBase64Encoded"],Pd(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cle(n,e){const t={},i=y(n,["displayName"]);return e!==void 0&&i!=null&&w(e,["displayName"],i),t}function dle(n){const e={},t=y(n,["config"]);return t!=null&&cle(t,e),e}function fle(n,e){const t={},i=y(n,["force"]);return e!==void 0&&i!=null&&w(e,["_query","force"],i),t}function hle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const i=y(n,["config"]);return i!=null&&fle(i,e),e}function ple(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function gle(n,e){const t={},i=y(n,["customMetadata"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["customMetadata"],s)}const r=y(n,["chunkingConfig"]);return e!==void 0&&r!=null&&w(e,["chunkingConfig"],r),t}function mle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],yle(a)),e}function vle(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const i=y(n,["fileName"]);i!=null&&w(e,["fileName"],i);const r=y(n,["config"]);return r!=null&&gle(r,e),e}function yle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function wle(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Cle(n){const e={},t=y(n,["config"]);return t!=null&&wle(t,e),e}function ble(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["fileSearchStores"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["fileSearchStores"],s)}return e}function m6(n,e){const t={},i=y(n,["mimeType"]);e!==void 0&&i!=null&&w(e,["mimeType"],i);const r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["customMetadata"],o)}const a=y(n,["chunkingConfig"]);return e!==void 0&&a!=null&&w(e,["chunkingConfig"],a),t}function Ble(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const i=y(n,["config"]);return i!=null&&m6(i,e),e}function Ele(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sle="Content-Type",xle="X-Server-Timeout",_le="User-Agent",ER="x-goog-api-client",Tle="1.31.0",Ile=`google-genai-sdk/${Tle}`,Fle="v1beta1",Ule="v1beta",eK=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Mle{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Fle,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Ule,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))r.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(t))typeof s=="object"?i[r]=Object.assign(Object.assign({},i[r]),s):s!==void 0&&(i[r]=s);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,r){if(t&&t.timeout||r){const s=new AbortController,a=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>s.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),e.signal=a}return t&&t.extraBody!==null&&Ple(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await tK(r),new yR(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await tK(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return kg(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield mn(r.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(l,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),v=g.status,C=g.code,b=`got status: ${v}. ${JSON.stringify(h)}`;if(C>=400&&C<600)throw new w1({message:b,status:C})}}catch(h){if(h.name==="ApiError")throw h}a+=u;let d=a.match(eK);for(;d;){const h=d[1];try{const g=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield mn(new yR(g)),a=a.slice(d[0].length),d=a.match(eK)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=Ile+" "+this.clientOptions.userAgentExtra;return e[_le]=t,e[ER]=t,e[Sle]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[r,s]of Object.entries(e.headers))i.append(r,s);e.timeout&&e.timeout>0&&i.append(xle,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);r.sizeBytes=String(a.size);const o=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=o;const l={file:r},u=this.getFileName(e),d=xe("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(d,r.sizeBytes,r.mimeType,u,l,t==null?void 0:t.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,i){var r;const s=this.clientOptions.uploader,a=await s.stat(t),o=String(a.size),l=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(t),h={};i!=null&&m6(i,h);const g=await this.fetchUploadUrl(u,o,l,d,h,i==null?void 0:i.httpOptions);return s.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,r,s,a){var o;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function tK(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(i);throw t>=400&&t<600?new w1({message:r,status:t}):new Error(r)}}function Ple(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=o[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[l]=i(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[l]=u)}return o}const r=i(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rle="mcp_used/unknown";let Dle=!1;function v6(n){for(const e of n)if(Nle(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Dle}function y6(n){var e;const t=(e=n[ER])!==null&&e!==void 0?e:"";n[ER]=(t+` ${Rle}`).trimStart()}function Nle(n){return n!==null&&typeof n=="object"&&n instanceof bQ}function Lle(n,e=100){return kg(this,arguments,function*(){let i,r=0;for(;r<e;){const s=yield mn(n.listTools({cursor:i}));for(const a of s.tools)yield yield mn(a),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class bQ{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new bQ(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const s={},a=[];for(const d of this.mcpClients)try{for(var o=!0,l=(t=void 0,mw(Lle(d))),u;u=await l.next(),e=u.done,!e;o=!0){r=u.value,o=!1;const h=r;a.push(h);const g=h.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=d}}catch(h){t={error:h}}finally{try{!o&&!e&&(i=l.return)&&await i.call(l)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),pse(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await r.callTool({name:i.name,arguments:i.args},void 0,s);t.push({functionResponse:{name:i.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Qle(n,e,t){const i=new ose;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(i,r),e(i)}class Ole{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=Vle(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(T=>{u=T}),h=e.callbacks,g=function(){u({})},v=this.apiClient,C={onopen:g,onmessage:T=>{Qle(v,h.onmessage,T)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(T){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(T){}},b=this.webSocketFactory.create(l,Hle(a),C);b.connect(),await d;const I={setup:{model:Tt(this.apiClient,e.model)}};return b.send(JSON.stringify(I)),new kle(b,this.apiClient)}}class kle{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=doe(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=coe(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Ig.PLAY)}pause(){this.sendPlaybackControl(Ig.PAUSE)}stop(){this.sendPlaybackControl(Ig.STOP)}resetContext(){this.sendPlaybackControl(Ig.RESET_CONTEXT)}close(){this.conn.close()}}function Hle(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function Vle(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kle="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Gle(n,e,t){const i=new ase;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const s=JSON.parse(r);if(n.isVertexAI()){const a=poe(s);Object.assign(i,a)}else Object.assign(i,s);e(i)}class zle{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new Ole(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&v6(e.config.tools)&&y6(h);const g=Wle(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const O=this.apiClient.getApiKey();let K="BidiGenerateContent",V="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",V="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${K}?${V}=${O}`}let v=()=>{};const C=new Promise(O=>{v=O}),b=e.callbacks,E=function(){var O;(O=b==null?void 0:b.onopen)===null||O===void 0||O.call(b),v({})},x=this.apiClient,I={onopen:E,onmessage:O=>{Gle(x,b.onmessage,O)},onerror:(t=b==null?void 0:b.onerror)!==null&&t!==void 0?t:function(O){},onclose:(i=b==null?void 0:b.onclose)!==null&&i!==void 0?i:function(O){}},T=this.webSocketFactory.create(d,jle(g),I);T.connect(),await C;let R=Tt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const O=this.apiClient.getProject(),K=this.apiClient.getLocation();R=`projects/${O}/locations/${K}/`+R}let M={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[R_.AUDIO]}:e.config.responseModalities=[R_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],L=[];for(const O of D)if(this.isCallableTool(O)){const K=O;L.push(await K.tool())}else L.push(O);L.length>0&&(e.config.tools=L);const H={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?M=uoe(this.apiClient,H):M=loe(this.apiClient,H),delete M.config,T.send(JSON.stringify(M)),new $le(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const qle={turnComplete:!0};class $le{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Oa(t.turns),e.isVertexAI()||(i=i.map(r=>C1(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Kle)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},qle),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:hoe(e)}:t={realtimeInput:foe(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function jle(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function Wle(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nK=10;function iK(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Hg(a)){r=!0;break}if(!r)return!0;const s=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Hg(n){return"callTool"in n&&typeof n.callTool=="function"}function Yle(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Hg(r)))!==null&&i!==void 0?i:!1}function rK(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,r)=>{if(Hg(i))return;const s=i;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(r)}),t}function sK(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xle extends wu{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!Yle(t)||iK(t.config))return await this.generateContentInternal(l);const u=rK(t);if(u.length>0){const b=u.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,h;const g=Oa(l.contents),v=(s=(r=(i=l.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:nK;let C=0;for(;C<v&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,E=[];for(const x of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(Hg(x)){const T=await x.callTool(d.functionCalls);E.push(...T)}C++,h={role:"user",parts:E},l.contents=Oa(l.contents),l.contents.push(b),l.contents.push(h),sK(l.config)&&(g.push(b),g.push(h))}return sK(l.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async t=>{var i,r,s,a,o;if(this.maybeMoveToResponseJsonSchem(t),iK(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const l=rK(t);if(l.length>0){const h=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(r=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(o=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let s;const a=[];if(i!=null&&i.generatedImages)for(const l of i.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((r=l==null?void 0:l.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:i.sdkHttpResponse},o}),this.list=async t=>{var i;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((i=a.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new cp(au.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var i,r,s,a,o,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(s=t.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,r;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>Hg(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&v6(e.config.tools)){const l=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),y6(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var t,i,r;const s=new Map;for(const a of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Hg(a)){const o=a,l=await o.tool();for(const u of(r=l.functionDeclarations)!==null&&r!==void 0?r:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,o)}}return s}async processAfcStream(e){var t,i,r;const s=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:nK;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(u,d,h){var g,v;return kg(this,arguments,function*(){for(var C,b,E,x;o<s;){a&&(o++,a=!1);const M=yield mn(u.processParamsMaybeAddMcpUsage(h)),D=yield mn(u.generateContentStreamInternal(M)),L=[],H=[];try{for(var I=!0,T=(b=void 0,mw(D)),R;R=yield mn(T.next()),C=R.done,!C;I=!0){x=R.value,I=!1;const O=x;if(yield yield mn(O),O.candidates&&(!((g=O.candidates[0])===null||g===void 0)&&g.content)){H.push(O.candidates[0].content);for(const K of(v=O.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(o<s&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(K.functionCall.name)){const V=yield mn(d.get(K.functionCall.name).callTool([K.functionCall]));L.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(O){b={error:O}}finally{try{!I&&!C&&(E=T.return)&&(yield mn(E.call(T)))}finally{if(b)throw b.error}}if(L.length>0){a=!0;const O=new h0;O.candidates=[{content:{role:"user",parts:L}}],yield yield mn(O);const K=[];K.push(...H),K.push({role:"user",parts:L});const V=Oa(h.contents).concat(K);h.contents=V}else break}})})(this,l,e)}async generateContentInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=X3(this.apiClient,e);return o=xe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Z3(d),g=new h0;return Object.assign(g,h),g})}else{const u=Y3(this.apiClient,e);return o=xe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=J3(d),g=new h0;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=X3(this.apiClient,e);return o=xe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(h){return kg(this,arguments,function*(){var g,v,C,b;try{for(var E=!0,x=mw(h),I;I=yield mn(x.next()),g=I.done,!g;E=!0){b=I.value,E=!1;const T=b,R=Z3(yield mn(T.json()));R.sdkHttpResponse={headers:T.headers};const M=new h0;Object.assign(M,R),yield yield mn(M)}}catch(T){v={error:T}}finally{try{!E&&!g&&(C=x.return)&&(yield mn(C.call(x)))}finally{if(v)throw v.error}}})})}else{const u=Y3(this.apiClient,e);return o=xe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(h){return kg(this,arguments,function*(){var g,v,C,b;try{for(var E=!0,x=mw(h),I;I=yield mn(x.next()),g=I.done,!g;E=!0){b=I.value,E=!1;const T=b,R=J3(yield mn(T.json()));R.sdkHttpResponse={headers:T.headers};const M=new h0;Object.assign(M,R),yield yield mn(M)}}catch(T){v={error:T}}finally{try{!E&&!g&&(C=x.return)&&(yield mn(C.call(x)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=zoe(this.apiClient,e);return o=xe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=$oe(d),g=new P3;return Object.assign(g,h),g})}else{const u=Goe(this.apiClient,e);return o=xe("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=qoe(d),g=new P3;return Object.assign(g,h),g})}}async generateImagesInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=rAe(this.apiClient,e);return o=xe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=aAe(d),g=new R3;return Object.assign(g,h),g})}else{const u=iAe(this.apiClient,e);return o=xe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=sAe(d),g=new R3;return Object.assign(g,h),g})}}async editImageInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=koe(this.apiClient,e);return s=xe("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Hoe(l),d=new Wre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=rle(this.apiClient,e);return s=xe("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=sle(l),d=new Yre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=OAe(this.apiClient,e);return s=xe("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=kAe(l),d=new Xre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=qAe(this.apiClient,e);return s=xe("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=$Ae(l),d=new Jre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=BAe(this.apiClient,e);return o=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>BR(d))}else{const u=bAe(this.apiClient,e);return o=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>bR(d))}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=MAe(this.apiClient,e);return o=xe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=RAe(d),g=new D3;return Object.assign(g,h),g})}else{const u=UAe(this.apiClient,e);return o=xe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=PAe(d),g=new D3;return Object.assign(g,h),g})}}async update(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=nle(this.apiClient,e);return o=xe("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>BR(d))}else{const u=tle(this.apiClient,e);return o=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>bR(d))}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Noe(this.apiClient,e);return o=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Qoe(d),g=new N3;return Object.assign(g,h),g})}else{const u=Doe(this.apiClient,e);return o=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Loe(d),g=new N3;return Object.assign(g,h),g})}}async countTokens(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Moe(this.apiClient,e);return o=xe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Roe(d),g=new L3;return Object.assign(g,h),g})}else{const u=Uoe(this.apiClient,e);return o=xe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Poe(d),g=new L3;return Object.assign(g,h),g})}}async computeTokens(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Eoe(this.apiClient,e);return s=xe("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Soe(l),d=new Zre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=dAe(this.apiClient,e);return o=xe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const h=uAe(d),g=new D_;return Object.assign(g,h),g})}else{const u=cAe(this.apiClient,e);return o=xe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const h=lAe(d),g=new D_;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jle extends wu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Kre(e);return o=xe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a}else{const u=Vre(e);return o=xe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Dre(e);return s=xe("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zle(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function eue(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>lue(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function tue(n,e,t){const i={},r=y(e,["expireTime"]);t!==void 0&&r!=null&&w(t,["expireTime"],r);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&w(t,["newSessionExpireTime"],s);const a=y(e,["uses"]);t!==void 0&&a!=null&&w(t,["uses"],a);const o=y(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&w(t,["bidiGenerateContentSetup"],Aue(n,o));const l=y(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&w(t,["fieldMask"],l),i}function nue(n,e){const t={},i=y(e,["config"]);return i!=null&&w(t,["config"],tue(n,i,t)),t}function iue(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function rue(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sue(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function aue(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function oue(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],i);const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],CQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&w(e,["setup","systemInstruction"],eue(br(C)));const b=y(n,["tools"]);if(e!==void 0&&b!=null){let D=uy(b);Array.isArray(D)&&(D=D.map(L=>cue(ly(L)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],uue(E));const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const M=y(n,["proactivity"]);return e!==void 0&&M!=null&&w(e,["setup","proactivity"],M),t}function Aue(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Tt(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],oue(r,t)),t}function lue(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],iue(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],rue(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Zle(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function uue(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function cue(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],sue(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],aue(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function due(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(s=>`${t}.${s}`);e.push(...r)}else e.push(t)}return e.join(",")}function fue(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const s=due(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];r.length>0&&(o=r.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class hue extends wu{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=nue(this.apiClient,e);s=xe("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=fue(o,e.config);return r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pue(n,e){const t={},i=y(n,["force"]);return e!==void 0&&i!=null&&w(e,["_query","force"],i),t}function gue(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const i=y(n,["config"]);return i!=null&&pue(i,e),e}function mue(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function vue(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function yue(n){const e={},t=y(n,["parent"]);t!=null&&w(e,["_url","parent"],t);const i=y(n,["config"]);return i!=null&&vue(i,e),e}function wue(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["documents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cue extends wu{constructor(e){super(),this.apiClient=e,this.list=async t=>new cp(au.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=mue(e);return s=xe("{name}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gue(e);r=xe("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=yue(e);return s=xe("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=wue(l),d=new ese;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bue extends wu{constructor(e,t=new Cue(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new cp(au.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=dle(e);return s=xe("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ple(e);return s=xe("{name}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=hle(e);r=xe("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Cle(e);return s=xe("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=ble(l),d=new tse;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ble(e);return s=xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Ele(l),d=new nse;return Object.assign(d,u),d})}}async importFile(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=vle(e);return s=xe("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=mle(l),d=new gQ;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Eue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Sue(n,e){const t={},i=y(n,["sdkHttpResponse"]);return i!=null&&w(t,["sdkHttpResponse"],i),t}function xue(n,e){const t={},i=y(n,["sdkHttpResponse"]);return i!=null&&w(t,["sdkHttpResponse"],i),t}function _ue(n,e,t){const i={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=y(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&w(e,["displayName"],r),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&w(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(n,["learningRateMultiplier"]);if(a!=null&&w(i,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=y(n,["batchSize"]);e!==void 0&&o!=null&&w(e,["tuningTask","hyperparameters","batchSize"],o);const l=y(n,["learningRate"]);if(e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","learningRate"],l),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function Tue(n,e,t){const i={};let r=y(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec"],aK(v))}else if(r==="PREFERENCE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec"],aK(v))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&w(e,["tunedModelDisplayName"],s);const a=y(n,["description"]);e!==void 0&&a!=null&&w(e,["description"],a);let o=y(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(o==="PREFERENCE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=y(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let u=y(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let d=y(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),i}function Iue(n,e){const t={},i=y(n,["baseModel"]);i!=null&&w(t,["baseModel"],i);const r=y(n,["preTunedModel"]);r!=null&&w(t,["preTunedModel"],r);const s=y(n,["trainingDataset"]);s!=null&&kue(s);const a=y(n,["config"]);return a!=null&&_ue(a,t),t}function Fue(n,e){const t={},i=y(n,["baseModel"]);i!=null&&w(t,["baseModel"],i);const r=y(n,["preTunedModel"]);r!=null&&w(t,["preTunedModel"],r);const s=y(n,["trainingDataset"]);s!=null&&Hue(s,t,e);const a=y(n,["config"]);return a!=null&&Tue(a,t,e),t}function Uue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Mue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Pue(n,e,t){const i={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),i}function Rue(n,e,t){const i={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),i}function Due(n,e){const t={},i=y(n,["config"]);return i!=null&&Pue(i,t),t}function Nue(n,e){const t={},i=y(n,["config"]);return i!=null&&Rue(i,t),t}function Lue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const s=y(n,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>w6(o))),w(t,["tuningJobs"],a)}return t}function Que(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const s=y(n,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>SR(o))),w(t,["tuningJobs"],a)}return t}function Oue(n,e){const t={},i=y(n,["name"]);i!=null&&w(t,["model"],i);const r=y(n,["name"]);return r!=null&&w(t,["endpoint"],r),t}function kue(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=y(n,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(t,["examples","examples"],r)}return t}function Hue(n,e,t){const i={};let r=y(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(r==="PREFERENCE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function w6(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["state"]);s!=null&&w(t,["state"],e6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["tuningTask","startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["tuningTask","completeTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["description"]);d!=null&&w(t,["description"],d);const h=y(n,["baseModel"]);h!=null&&w(t,["baseModel"],h);const g=y(n,["_self"]);return g!=null&&w(t,["tunedModel"],Oue(g)),t}function SR(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["state"]);s!=null&&w(t,["state"],e6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["error"]);d!=null&&w(t,["error"],d);const h=y(n,["description"]);h!=null&&w(t,["description"],h);const g=y(n,["baseModel"]);g!=null&&w(t,["baseModel"],g);const v=y(n,["tunedModel"]);v!=null&&w(t,["tunedModel"],v);const C=y(n,["preTunedModel"]);C!=null&&w(t,["preTunedModel"],C);const b=y(n,["supervisedTuningSpec"]);b!=null&&w(t,["supervisedTuningSpec"],b);const E=y(n,["preferenceOptimizationSpec"]);E!=null&&w(t,["preferenceOptimizationSpec"],E);const x=y(n,["tuningDataStats"]);x!=null&&w(t,["tuningDataStats"],x);const I=y(n,["encryptionSpec"]);I!=null&&w(t,["encryptionSpec"],I);const T=y(n,["partnerModelTuningSpec"]);T!=null&&w(t,["partnerModelTuningSpec"],T);const R=y(n,["customBaseModel"]);R!=null&&w(t,["customBaseModel"],R);const M=y(n,["experiment"]);M!=null&&w(t,["experiment"],M);const D=y(n,["labels"]);D!=null&&w(t,["labels"],D);const L=y(n,["outputUri"]);L!=null&&w(t,["outputUri"],L);const H=y(n,["pipelineJob"]);H!=null&&w(t,["pipelineJob"],H);const O=y(n,["serviceAccount"]);O!=null&&w(t,["serviceAccount"],O);const K=y(n,["tunedModelDisplayName"]);K!=null&&w(t,["tunedModelDisplayName"],K);const V=y(n,["veoTuningSpec"]);return V!=null&&w(t,["veoTuningSpec"],V),t}function Vue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(n,["done"]);a!=null&&w(t,["done"],a);const o=y(n,["error"]);return o!=null&&w(t,["error"],o),t}function aK(n,e){const t={},i=y(n,["gcsUri"]);i!=null&&w(t,["validationDatasetUri"],i);const r=y(n,["vertexDatasetResource"]);return r!=null&&w(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kue extends wu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new cp(au.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:r});return s.baseModel=void 0,await this.tuneInternal(s)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),s=await this.tuneMldevInternal(r);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:vR.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Mue(e);return o=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>SR(d))}else{const u=Uue(e);return o=xe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>w6(d))}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Nue(e);return o=xe("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Que(d),g=new Q3;return Object.assign(g,h),g})}else{const u=Due(e);return o=xe("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Lue(d),g=new Q3;return Object.assign(g,h),g})}}async cancel(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Eue(e);return o=xe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=xue(d),g=new O3;return Object.assign(g,h),g})}else{const u=Bue(e);return o=xe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Sue(d),g=new O3;return Object.assign(g,h),g})}}async tuneInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Fue(e,e);return s=xe("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>SR(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Iue(e);return s=xe("tunedModels",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>Vue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gue{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zue=1024*1024*8,que=3,$ue=1e3,jue=2,L_="x-goog-upload-status";async function Wue(n,e,t){var i;const r=await C6(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[L_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Yue(n,e,t){var i;const r=await C6(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[L_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=j$(s),o=new mQ;return Object.assign(o,a),o}async function C6(n,e,t){var i,r;let s=0,a=0,o=new yR(new Response),l="upload";for(s=n.size;a<s;){const u=Math.min(zue,s-a),d=n.slice(a,a+u);a+u>=s&&(l+=", finalize");let h=0,g=$ue;for(;h<que&&(o=await t.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((i=o==null?void 0:o.headers)===null||i===void 0)&&i[L_]));)h++,await Jue(g),g=g*jue;if(a+=u,((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[L_])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function Xue(n){return{size:n.size,type:n.type}}function Jue(n){return new Promise(e=>setTimeout(e,n))}class Zue{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Wue(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Yue(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Xue(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ece{create(e,t,i){return new tce(e,t,i)}}class tce{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oK="x-goog-api-key";class nce{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(oK)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(oK,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ice="gl-node/";class rce{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=Pre(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new nce(this.apiKey);this.apiClient=new Mle({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ice+"web",uploader:new Zue,downloader:new Gue}),this.models=new Xle(this.apiClient),this.live=new zle(this.apiClient,r,new ece),this.batches=new Aae(this.apiClient),this.chats=new Kae(this.models,this.apiClient),this.caches=new kae(this.apiClient),this.files=new Zae(this.apiClient),this.operations=new Jle(this.apiClient),this.authTokens=new hue(this.apiClient),this.tunings=new Kue(this.apiClient),this.fileSearchStores=new bue(this.apiClient)}}const sce="PLACEHOLDER_API_KEY",ace=new rce({apiKey:sce}),oce="gemini-2.5-flash",b6=async(n,e)=>{try{const t=`
      Context: The user is reading an educational text.
      Target Text: "${n}"
      ${e?`Surrounding Context: ${e}`:""}
      
      Task: Provide a concise, easy-to-understand explanation of the target text or concept. 
      Limit the response to 3 sentences. Tone: Academic but accessible.
    `;return(await ace.models.generateContent({model:oce,contents:t})).text||"Could not generate explanation."}catch(t){return console.error("AI Error:",t),"Error connecting to AI service."}},Rr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),xR=[.001,0,0,.001,0,0],jU=1.35,Vs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ac={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Tw="pdfjs_internal_editor_",et={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},wt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Ace={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},_R={TRIANGLES:1,LATTICE:2},Gi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},_x={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ri={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},pg={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},E1={ERRORS:0,WARNINGS:1,INFOS:5},Iw={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},p0={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},lce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let S1=E1.WARNINGS;function uce(n){Number.isInteger(n)&&(S1=n)}function cce(){return S1}function x1(n){S1>=E1.INFOS&&console.info(`Info: ${n}`)}function Xe(n){S1>=E1.WARNINGS&&console.warn(`Warning: ${n}`)}function an(n){throw new Error(n)}function Ct(n,e){n||an(e)}function dce(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function B6(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=mce(n)}catch{}}const i=e?URL.parse(n,e):URL.parse(n);return dce(i)?i:null}function E6(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&B6(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Je(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const dp=(function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class AK extends dp{constructor(e,t){super(e,"PasswordException"),this.code=t}}class WU extends dp{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}let TR=class extends dp{constructor(e){super(e,"InvalidPDFException")}},Q_=class extends dp{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}};class fce extends dp{constructor(e){super(e,"FormatError")}}let Sd=class extends dp{constructor(e){super(e,"AbortException")}};function S6(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&an("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),a=n.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function IB(n){typeof n!="string"&&an("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function hce(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function pce(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function gce(){try{return new Function(""),!0}catch{return!1}}class sr{static get isLittleEndian(){return Je(this,"isLittleEndian",pce())}static get isEvalSupported(){return Je(this,"isEvalSupported",gce())}static get isOffscreenCanvasSupported(){return Je(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Je(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Je(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Je(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Je(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Je(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const YU=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var nu,dR,Tx,IR;let De=(dR=class{static makeHexColor(e,t,i){return`#${YU[e]}${YU[t]}${YU[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[i+d],g=e[i+d+1];e[i+d]=h*r+g*a+l,e[i+d+1]=h*s+g*o+u}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],d=e[0],h=e[1],g=e[2],v=e[3];let C=r*d+l,b=C,E=r*g+l,x=E,I=o*h+u,T=I,R=o*v+u,M=R;if(s!==0||a!==0){const D=s*d,L=s*g,H=a*h,O=a*v;C+=H,x+=H,E+=O,b+=O,I+=D,M+=D,R+=L,T+=L}i[0]=Math.min(i[0],C,E,b,x),i[1]=Math.min(i[1],I,R,T,M),i[2]=Math.max(i[2],C,E,b,x),i[3]=Math.max(i[3],I,R,T,M)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],a=e[3],o=i**2+r**2,l=i*s+r*a,u=s**2+a**2,d=(o+u)/2,h=Math.sqrt(d**2-(o*u-l**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[i,s,r,a]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static bezierBoundingBox(e,t,i,r,s,a,o,l,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l),U(this,nu,IR).call(this,e,i,s,o,t,r,a,l,3*(-e+3*(i-s)+o),6*(e-2*i+s),3*(i-e),u),U(this,nu,IR).call(this,e,i,s,o,t,r,a,l,3*(-t+3*(r-a)+l),6*(t-2*r+a),3*(r-t),u)}},nu=new WeakSet,Tx=function(e,t,i,r,s,a,o,l,u,d){if(u<=0||u>=1)return;const h=1-u,g=u*u,v=g*u,C=h*(h*(h*e+3*u*t)+3*g*i)+v*r,b=h*(h*(h*s+3*u*a)+3*g*o)+v*l;d[0]=Math.min(d[0],C),d[1]=Math.min(d[1],b),d[2]=Math.max(d[2],C),d[3]=Math.max(d[3],b)},IR=function(e,t,i,r,s,a,o,l,u,d,h,g){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&U(this,nu,Tx).call(this,e,t,i,r,s,a,o,l,-h/d,g);return}const v=d**2-4*h*u;if(v<0)return;const C=Math.sqrt(v),b=2*u;U(this,nu,Tx).call(this,e,t,i,r,s,a,o,l,(-d+C)/b,g),U(this,nu,Tx).call(this,e,t,i,r,s,a,o,l,(-d-C)/b,g)},F(dR,nu),dR);function mce(n){return decodeURIComponent(escape(n))}let XU=null,lK=null;function vce(n){return XU||(XU=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,lK=new Map([["","t"]])),n.replaceAll(XU,(e,t,i)=>t?t.normalize("NFKC"):lK.get(i))}function x6(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),S6(n)}const Fg="pdfjs_internal_id_";function yce(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const a=s.length;let o=!0;switch(r.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Dr(n,e,t){return Math.min(Math.max(n,e),t)}function _6(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(S6(n))}function wce(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):IB(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Fw{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Fw.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}let T6=class{static setupStorage(e,t,i,r,s){const a=r.getValue(t,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?e.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{r.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,t,i)}static render(e){var h,g;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:i});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=v}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const v=document.createTextNode(r.value);a.append(v),o&&Fw.shouldBuildText(r.name)&&u.push(v)}return{textDivs:u}}const d=[[r,-1,a]];for(;d.length>0;){const[v,C,b]=d.at(-1);if(C+1===v.children.length){d.pop();continue}const E=v.children[++d.at(-1)[1]];if(E===null)continue;const{name:x}=E;if(x==="#text"){const T=document.createTextNode(E.value);u.push(T),b.append(T);continue}const I=(h=E==null?void 0:E.attributes)!=null&&h.xmlns?document.createElementNS(E.attributes.xmlns,x):document.createElement(x);if(b.append(I),E.attributes&&this.setAttributes({html:I,element:E,storage:t,intent:s,linkService:i}),((g=E.children)==null?void 0:g.length)>0)d.push([E,-1,I]);else if(E.value){const T=document.createTextNode(E.value);o&&Fw.shouldBuildText(x)&&u.push(T),I.append(T)}}for(const v of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}};const qA="http://www.w3.org/2000/svg";var dA;let Gv=(dA=class{},ge(dA,"CSS",96),ge(dA,"PDF",72),ge(dA,"PDF_TO_CSS_UNITS",dA.CSS/dA.PDF),dA);async function FB(n,e="text"){if(D0(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class UB{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=a,i*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,g,v;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,g=0,v=1;break;case 90:d=0,h=1,g=1,v=0;break;case 270:d=0,h=-1,g=-1,v=0;break;case 0:d=1,h=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,v=-v);let C,b,E,x;d===0?(C=Math.abs(u-e[1])*i+s,b=Math.abs(l-e[0])*i+a,E=(e[3]-e[1])*i,x=(e[2]-e[0])*i):(C=Math.abs(l-e[0])*i+s,b=Math.abs(u-e[1])*i+a,E=(e[2]-e[0])*i,x=(e[3]-e[1])*i),this.transform=[d*i,h*i,g*i,v*i,C-d*i*l-g*i*u,b-h*i*l-v*i*u],this.width=E,this.height=x}get rawDims(){const e=this.viewBox;return Je(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new UB({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return De.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];De.applyTransform(t,this.transform);const i=[e[2],e[3]];return De.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return De.applyInverseTransform(i,this.transform),i}}let BQ=class extends dp{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function _1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function EQ(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Cce(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function bce(n,e="document.pdf"){if(typeof n!="string")return e;if(_1(n))return Xe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=i.pathname.split("/").at(-1);if(s.test(a))return r(a);if(i.searchParams.size>0){const o=Array.from(i.searchParams.values()).reverse();for(const u of o)if(s.test(u))return r(u);const l=Array.from(i.searchParams.keys()).reverse();for(const u of l)if(s.test(u))return r(u)}if(i.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(l)return r(l[0])}return e}class uK{constructor(){ge(this,"started",Object.create(null));ge(this,"times",[])}time(e){e in this.started&&Xe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Xe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function D0(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Va(n){n.preventDefault()}function Vn(n){n.preventDefault(),n.stopPropagation()}function Bce(n){console.log("Deprecated API usage: "+n)}var fR,Jw;let FR=(fR=class{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;f(this,Jw)||_(this,Jw,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,Jw).exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(i,r,s,a,o,l))}},Jw=new WeakMap,F(fR,Jw),fR);function Ece(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new UB({viewBox:s,userUnit:1,scale:e,rotation:t})}function MB(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Xe(`Not a valid color format: "${n}"`),[0,0,0])}function Sce(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,MB(i))}e.remove()}function In(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform();return[e,t,i,r,s,a]}function Do(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform().invertSelf();return[e,t,i,r,s,a]}function np(n,e,t=!1,i=!0){if(e instanceof UB){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=n,o=sr.isCSSRoundSupported,l=`var(--total-scale-factor) * ${r}px`,u=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}i&&n.setAttribute("data-main-rotation",e.rotation)}let ip=class UR{constructor(){const{pixelRatio:e}=UR;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let a=1/0,o=1/0,l=1/0;i=UR.capPixels(i,s),i>0&&(a=Math.sqrt(i/(e*t))),r!==-1&&(o=r/e,l=r/t);const u=Math.min(a,o,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}};const MR=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class xce{static get isDarkMode(){var e;return Je(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}let _ce=class{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),Je(this,"commentForegroundColor",MB(i))}};function Tce(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function cK(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),a=Math.min(t,i,r),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((i-r)/l+(i<r?6:0))*60;break;case i:e[0]=((r-t)/l+2)*60;break;case r:e[0]=((t-i)/l+4)*60;break}}e[2]=o}function PR(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,a=s*(1-Math.abs(t/60%2-1)),o=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function dK(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function fK(n,e,t){PR(n,t),t.map(dK);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];PR(e,t),t.map(dK);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const hK=new Map;function Ice(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=hK.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),a=r.subarray(3,6);cK(n,a);const o=r.subarray(6,9);cK(e,o);const l=o[2]<.5,u=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),fK(a,o,s)<u){let d,h;l?(d=a[2],h=1):(d=0,h=a[2]);const g=.005;for(;h-d>g;){const v=a[2]=(d+h)/2;l===fK(a,o,s)<u?d=v:h=v}a[2]=l?h:d}return PR(a,s),i=De.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),hK.set(t,i),i}function I6({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const u=a[o];s.append(document.createTextNode(u)),o<l-1&&s.append(document.createElement("br"))}r.append(s)}else T6.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),i.append(r)}function F6(n){const e=new Path2D;if(!n)return e;for(let t=0,i=n.length;t<i;)switch(n[t++]){case p0.moveTo:e.moveTo(n[t++],n[t++]);break;case p0.lineTo:e.lineTo(n[t++],n[t++]);break;case p0.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case p0.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case p0.closePath:e.closePath();break;default:Xe(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var Ac,lc,va,ya,Zw,uc,jg,Wg,eC,WT,U6,nr,M6,P6,gg,N0;const YA=class YA{constructor(e){F(this,nr);F(this,Ac,null);F(this,lc,null);F(this,va);F(this,ya,null);F(this,Zw,null);F(this,uc,null);F(this,jg,null);F(this,Wg,null);_(this,va,e),f(YA,eC)||_(YA,eC,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=_(this,Ac,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,va)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Va,{signal:t}),e.addEventListener("pointerdown",U(YA,WT,U6),{signal:t}));const i=_(this,ya,document.createElement("div"));i.className="buttons",e.append(i);const r=f(this,va).toolbarPosition;if(r){const{style:s}=e,a=f(this,va)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return f(this,Ac)}hide(){var e;f(this,Ac).classList.add("hidden"),(e=f(this,lc))==null||e.hideDropdown()}show(){var e,t;f(this,Ac).classList.remove("hidden"),(e=f(this,Zw))==null||e.shown(),(t=f(this,uc))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=f(this,va),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",f(YA,eC)[e]),U(this,nr,gg).call(this,i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),f(this,ya).append(i)}async addAltText(e){const t=await e.render();U(this,nr,gg).call(this,t),f(this,ya).append(t,f(this,nr,N0)),_(this,Zw,e)}addComment(e,t=null){if(f(this,uc))return;const i=e.renderForToolbar();if(!i)return;U(this,nr,gg).call(this,i);const r=_(this,jg,f(this,nr,N0));t?(f(this,ya).insertBefore(i,t),f(this,ya).insertBefore(r,t)):f(this,ya).append(i,r),_(this,uc,e),e.toolbar=this}addColorPicker(e){if(f(this,lc))return;_(this,lc,e);const t=e.renderButton();U(this,nr,gg).call(this,t),f(this,ya).append(t,f(this,nr,N0))}async addEditSignatureButton(e){const t=_(this,Wg,await e.renderEditButton(f(this,va)));U(this,nr,gg).call(this,t),f(this,ya).append(t,f(this,nr,N0))}removeButton(e){var t,i;switch(e){case"comment":(t=f(this,uc))==null||t.removeToolbarCommentButton(),_(this,uc,null),(i=f(this,jg))==null||i.remove(),_(this,jg,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,i){if(!t&&e==="comment")return;const r=f(this,ya).querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){f(this,Wg)&&(f(this,Wg).title=e)}remove(){var e;f(this,Ac).remove(),(e=f(this,lc))==null||e.destroy(),_(this,lc,null)}};Ac=new WeakMap,lc=new WeakMap,va=new WeakMap,ya=new WeakMap,Zw=new WeakMap,uc=new WeakMap,jg=new WeakMap,Wg=new WeakMap,eC=new WeakMap,WT=new WeakSet,U6=function(e){e.stopPropagation()},nr=new WeakSet,M6=function(e){f(this,va)._focusEventsAllowed=!1,Vn(e)},P6=function(e){f(this,va)._focusEventsAllowed=!0,Vn(e)},gg=function(e){const t=f(this,va)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",U(this,nr,M6).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",U(this,nr,P6).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Va,{signal:t}),!0)},N0=function(){const e=document.createElement("div");return e.className="divider",e},F(YA,WT),F(YA,eC,null);let RR=YA;var tC,bf,el,gu,R6,D6,DR;class Fce{constructor(e){F(this,gu);F(this,tC,null);F(this,bf,null);F(this,el);_(this,el,e)}show(e,t,i){const[r,s]=U(this,gu,D6).call(this,t,i),{style:a}=f(this,bf)||_(this,bf,U(this,gu,R6).call(this));e.append(f(this,bf)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,bf).remove()}}tC=new WeakMap,bf=new WeakMap,el=new WeakMap,gu=new WeakSet,R6=function(){const e=_(this,bf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,el)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Va,{signal:t});const i=_(this,tC,document.createElement("div"));return i.className="buttons",e.append(i),f(this,el).hasCommentManager()&&U(this,gu,DR).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{f(this,el).commentSelection("floating_button")}),U(this,gu,DR).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{f(this,el).highlightSelection("floating_button")}),e},D6=function(e,t){let i=0,r=0;for(const s of e){const a=s.y+s.height;if(a<i)continue;const o=s.x+(t?s.width:0);if(a>i){r=o,i=a;continue}t?o>r&&(r=o):o<r&&(r=o)}return[t?1-r:r,i]},DR=function(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",i);const o=f(this,el)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",Va,{signal:o}),s.addEventListener("click",r,{signal:o})),f(this,tC).append(s)};function N6(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var Bf,Ef,Yg,Sf;const qt=class qt{static initializeAndAddPointerId(e){(f(qt,Ef)||_(qt,Ef,new Set)).add(e)}static setPointer(e,t){f(qt,Bf)||_(qt,Bf,t),f(qt,Sf)??_(qt,Sf,e)}static setTimeStamp(e){_(qt,Yg,e)}static isSamePointerId(e){return f(qt,Bf)===e}static isSamePointerIdOrRemove(e){var t;return f(qt,Bf)===e?!0:((t=f(qt,Ef))==null||t.delete(e),!1)}static isSamePointerType(e){return f(qt,Sf)===e}static isInitializedAndDifferentPointerType(e){return f(qt,Sf)!==null&&!qt.isSamePointerType(e)}static isSameTimeStamp(e){return f(qt,Yg)===e}static isUsingMultiplePointers(){var e;return((e=f(qt,Ef))==null?void 0:e.size)>=1}static clearPointerType(){_(qt,Sf,null)}static clearPointerIds(){_(qt,Bf,NaN),_(qt,Ef,null)}static clearTimeStamp(){_(qt,Yg,NaN)}};Bf=new WeakMap,Ef=new WeakMap,Yg=new WeakMap,Sf=new WeakMap,F(qt,Bf,NaN),F(qt,Ef,null),F(qt,Yg,NaN),F(qt,Sf,null);let dr=qt;var YT;class Uce{constructor(){F(this,YT,0)}get id(){return`${Tw}${zn(this,YT)._++}`}}YT=new WeakMap;var Xg,nC,fr,Jg,Ix;const Sk=class Sk{constructor(){F(this,Jg);F(this,Xg,x6());F(this,nC,0);F(this,fr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Je(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return U(this,Jg,Ix).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return U(this,Jg,Ix).call(this,e,e)}async getFromBlob(e,t){const i=await t;return U(this,Jg,Ix).call(this,e,i)}async getFromId(e){f(this,fr)||_(this,fr,new Map);const t=f(this,fr).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,fr)||_(this,fr,new Map);let i=f(this,fr).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${f(this,Xg)}_${zn(this,nC)._++}`,refCounter:1,isSvg:!1},f(this,fr).set(e,i),f(this,fr).set(i.id,i),i}getSvgUrl(e){const t=f(this,fr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;f(this,fr)||_(this,fr,new Map);const t=f(this,fr).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,Xg)}_`)}};Xg=new WeakMap,nC=new WeakMap,fr=new WeakMap,Jg=new WeakSet,Ix=async function(e,t){f(this,fr)||_(this,fr,new Map);let i=f(this,fr).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${f(this,Xg)}_${zn(this,nC)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await FB(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=Sk._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,u()},a.onload=async()=>{const h=i.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){Xe(r),i=null}return f(this,fr).set(e,i),i&&f(this,fr).set(i.id,i),i};let NR=Sk;var jn,cc,iC,Tn;class Mce{constructor(e=128){F(this,jn,[]);F(this,cc,!1);F(this,iC);F(this,Tn,-1);_(this,iC,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&e(),f(this,cc))return;const l={cmd:e,undo:t,post:i,type:s};if(f(this,Tn)===-1){f(this,jn).length>0&&(f(this,jn).length=0),_(this,Tn,0),f(this,jn).push(l);return}if(a&&f(this,jn)[f(this,Tn)].type===s){o&&(l.undo=f(this,jn)[f(this,Tn)].undo),f(this,jn)[f(this,Tn)]=l;return}const u=f(this,Tn)+1;u===f(this,iC)?f(this,jn).splice(0,1):(_(this,Tn,u),u<f(this,jn).length&&f(this,jn).splice(u)),f(this,jn).push(l)}undo(){if(f(this,Tn)===-1)return;_(this,cc,!0);const{undo:e,post:t}=f(this,jn)[f(this,Tn)];e(),t==null||t(),_(this,cc,!1),_(this,Tn,f(this,Tn)-1)}redo(){if(f(this,Tn)<f(this,jn).length-1){_(this,Tn,f(this,Tn)+1),_(this,cc,!0);const{cmd:e,post:t}=f(this,jn)[f(this,Tn)];e(),t==null||t(),_(this,cc,!1)}}hasSomethingToUndo(){return f(this,Tn)!==-1}hasSomethingToRedo(){return f(this,Tn)<f(this,jn).length-1}cleanType(e){if(f(this,Tn)!==-1){for(let t=f(this,Tn);t>=0;t--)if(f(this,jn)[t].type!==e){f(this,jn).splice(t+1,f(this,Tn)-t),_(this,Tn,t);return}f(this,jn).length=0,_(this,Tn,-1)}}destroy(){_(this,jn,null)}}jn=new WeakMap,cc=new WeakMap,iC=new WeakMap,Tn=new WeakMap;var XT,L6;class PB{constructor(e){F(this,XT);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=sr.platform;for(const[i,r,s={}]of e)for(const a of i){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(U(this,XT,L6).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=i;o&&!o(e,t)||(r.bind(e,...a,t)(),s||Vn(t))}}XT=new WeakSet,L6=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const JT=class JT{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Sce(e),Je(this,"_colors",e)}convert(e){const t=MB(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,a)=>s===t[a]))return JT._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?De.makeHexColor(...t):e}};ge(JT,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let LR=JT;var Zg,Bs,em,Dn,di,tm,wa,nm,Ca,hr,dc,fc,im,hc,ko,ba,xf,rC,sC,rm,aC,Ho,pc,sm,gc,Vo,ZT,mc,am,oC,vc,_f,om,yc,AC,si,Qt,tl,wc,Cc,lC,Am,uC,bc,Ko,nl,cC,dC,Ba,Wl,Se,Fx,QR,Q6,O6,L0,k6,H6,V6,OR,K6,G6,z6,q6,_r,$A,$6,j6,kR,W6,Q0,HR;let Uw=(Wl=class{constructor(e,t,i,r,s,a,o,l,u,d,h,g,v,C,b,E){F(this,Se);F(this,Zg,new AbortController);F(this,Bs,null);F(this,em,null);F(this,Dn,new Map);F(this,di,new Map);F(this,tm,null);F(this,wa,null);F(this,nm,null);F(this,Ca,new Mce);F(this,hr,null);F(this,dc,null);F(this,fc,null);F(this,im,0);F(this,hc,new Set);F(this,ko,null);F(this,ba,null);F(this,xf,new Set);ge(this,"_editorUndoBar",null);F(this,rC,!1);F(this,sC,!1);F(this,rm,!1);F(this,aC,null);F(this,Ho,null);F(this,pc,null);F(this,sm,null);F(this,gc,!1);F(this,Vo,null);F(this,ZT,new Uce);F(this,mc,!1);F(this,am,!1);F(this,oC,!1);F(this,vc,null);F(this,_f,null);F(this,om,null);F(this,yc,null);F(this,AC,null);F(this,si,et.NONE);F(this,Qt,new Set);F(this,tl,null);F(this,wc,null);F(this,Cc,null);F(this,lC,null);F(this,Am,null);F(this,uC,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});F(this,bc,[0,0]);F(this,Ko,null);F(this,nl,null);F(this,cC,null);F(this,dC,null);F(this,Ba,null);const x=this._signal=f(this,Zg).signal;_(this,nl,e),_(this,cC,t),_(this,dC,i),_(this,tm,r),_(this,hr,s),_(this,wc,a),_(this,Am,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:x}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),o._on("setpreference",this.onSetPreference.bind(this),{signal:x}),o._on("switchannotationeditorparams",I=>this.updateParams(I.type,I.value),{signal:x}),window.addEventListener("pointerdown",()=>{_(this,am,!0)},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{_(this,am,!1)},{capture:!0,signal:x}),U(this,Se,k6).call(this),U(this,Se,q6).call(this),U(this,Se,OR).call(this),_(this,wa,l.annotationStorage),_(this,aC,l.filterFactory),_(this,Cc,u),_(this,sm,d||null),_(this,rC,h),_(this,sC,g),_(this,rm,v),_(this,AC,C||null),this.viewParameters={realScale:Gv.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=E!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=Wl.prototype,t=a=>f(a,nl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Je(this,"_keyboardManager",new PB([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,nl).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,nl).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i,r,s,a,o,l,u;(e=f(this,Ba))==null||e.resolve(),_(this,Ba,null),(t=f(this,Zg))==null||t.abort(),_(this,Zg,null),this._signal=null;for(const d of f(this,di).values())d.destroy();f(this,di).clear(),f(this,Dn).clear(),f(this,xf).clear(),(i=f(this,yc))==null||i.clear(),_(this,Bs,null),f(this,Qt).clear(),f(this,Ca).destroy(),(r=f(this,tm))==null||r.destroy(),(s=f(this,hr))==null||s.destroy(),(a=f(this,wc))==null||a.destroy(),(o=f(this,Vo))==null||o.hide(),_(this,Vo,null),(l=f(this,om))==null||l.destroy(),_(this,om,null),_(this,em,null),f(this,Ho)&&(clearTimeout(f(this,Ho)),_(this,Ho,null)),f(this,Ko)&&(clearTimeout(f(this,Ko)),_(this,Ko,null)),(u=this._editorUndoBar)==null||u.destroy(),_(this,Am,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,AC)}get useNewAltTextFlow(){return f(this,sC)}get useNewAltTextWhenAddingImage(){return f(this,rm)}get hcmFilter(){return Je(this,"hcmFilter",f(this,Cc)?f(this,aC).addHCMFilter(f(this,Cc).foreground,f(this,Cc).background):"none")}get direction(){return Je(this,"direction",getComputedStyle(f(this,nl)).direction)}get _highlightColors(){return Je(this,"_highlightColors",f(this,sm)?new Map(f(this,sm).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Je(this,"highlightColors",null);const t=new Map,i=!!f(this,Cc);for(const[r,s]of e){const a=r.endsWith("_HCM");if(i&&a){t.set(r.replace("_HCM",""),s);continue}!i&&!a&&t.set(r,s)}return Je(this,"highlightColors",t)}get highlightColorNames(){return Je(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),_(this,fc,e)}setMainHighlightColorPicker(e){_(this,om,e)}editAltText(e,t=!1){var i;(i=f(this,tm))==null||i.editAltText(this,e,t)}hasCommentManager(){return!!f(this,hr)}editComment(e,t,i,r){var s;(s=f(this,hr))==null||s.showDialog(this,e,t,i,r)}selectComment(e,t){const i=f(this,di).get(e),r=i==null?void 0:i.getEditorByUID(t);r==null||r.toggleComment(!0,!0)}updateComment(e){var t;(t=f(this,hr))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=f(this,hr))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=f(this,hr))==null||t.removeComments([e.uid])}toggleComment(e,t,i=void 0){var r;(r=f(this,hr))==null||r.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){var i;return e&&((i=f(this,hr))==null?void 0:i.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=f(this,hr))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(f(this,di).has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){var t;(t=f(this,wc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return f(this,wc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":_(this,rm,t);break}}onPageChanging({pageNumber:e}){_(this,im,e-1)}focusMainContainer(){f(this,nl).focus()}findParent(e,t){for(const i of f(this,di).values()){const{x:r,y:s,width:a,height:o}=i.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=s&&t<=s+o)return i}return null}disableUserSelect(e=!1){f(this,cC).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,xf).add(e)}removeShouldRescale(e){f(this,xf).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Gv.PDF_TO_CSS_UNITS;for(const i of f(this,xf))i.onScaleChanging();(t=f(this,fc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o}=i,l=i.toString(),d=U(this,Se,Fx).call(this,i).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;i.empty();const g=U(this,Se,QR).call(this,d),v=f(this,si)===et.NONE,C=()=>{const b=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o,text:l});v&&this.showAllEditors("highlight",!0,!0),t&&(b==null||b.editComment())};if(v){this.switchToMode(et.HIGHLIGHT,C);return}C()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!f(this,wa))return null;const t=`${Tw}${e}`,i=f(this,wa).getRawValue(t);return i&&f(this,wa).remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&f(this,wa)&&!f(this,wa).has(e.id)&&f(this,wa).setValue(e.id,e)}a11yAlert(e,t=null){const i=f(this,dC);i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,f(this,gc)&&(_(this,gc,!1),U(this,Se,L0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,Qt))if(t.div.contains(e)){_(this,_f,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,_f))return;const[e,t]=f(this,_f);_(this,_f,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){U(this,Se,OR).call(this),this.setEditingState(!0)}removeEditListeners(){U(this,Se,K6).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of f(this,ba))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of f(this,ba))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=f(this,Bs))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of f(this,Qt)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of f(this,ba))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){Xe(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const u=await r.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)U(this,Se,kR).call(this,l);U(this,Se,HR).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Xe(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,si)!==et.NONE&&!this.isEditorHandlingKeyboard&&Wl._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,gc)&&(_(this,gc,!1),U(this,Se,L0).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(U(this,Se,H6).call(this),U(this,Se,G6).call(this),U(this,Se,_r).call(this,{isEditing:f(this,si)!==et.NONE,isEmpty:U(this,Se,Q0).call(this),hasSomethingToUndo:f(this,Ca).hasSomethingToUndo(),hasSomethingToRedo:f(this,Ca).hasSomethingToRedo(),hasSelectedEditor:!1})):(U(this,Se,V6).call(this),U(this,Se,z6).call(this),U(this,Se,_r).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,ba)){_(this,ba,e);for(const t of f(this,ba))U(this,Se,$A).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,ZT).id}get currentLayer(){return f(this,di).get(f(this,im))}getLayer(e){return f(this,di).get(e)}get currentPageIndex(){return f(this,im)}addLayer(e){f(this,di).set(e.pageIndex,e),f(this,mc)?e.enable():e.disable()}removeLayer(e){f(this,di).delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1){var a,o,l,u,d,h;if(f(this,si)!==e&&!(f(this,Ba)&&(await f(this,Ba).promise,!f(this,Ba)))){if(_(this,Ba,Promise.withResolvers()),(a=f(this,fc))==null||a.commitOrRemove(),f(this,si)===et.POPUP&&((o=f(this,hr))==null||o.hideSidebar()),(l=f(this,hr))==null||l.destroyPopup(),_(this,si,e),e===et.NONE){this.setEditingState(!1),U(this,Se,j6).call(this);for(const g of f(this,Dn).values())g.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),f(this,Ba).resolve();return}for(const g of f(this,Dn).values())g.addStandaloneCommentButton();e===et.SIGNATURE&&await((d=f(this,wc))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await U(this,Se,$6).call(this),this.unselectAll();for(const g of f(this,di).values())g.updateMode(e);if(e===et.POPUP){f(this,em)||_(this,em,await f(this,Am).getAnnotationsByType(new Set(f(this,ba).map(C=>C._editorType))));const g=new Set,v=[];for(const C of f(this,Dn).values()){const{annotationElementId:b,hasComment:E,deleted:x}=C;b&&g.add(b),E&&!x&&v.push(C.getData())}for(const C of f(this,em)){const{id:b,popupRef:E,contentsObj:x}=C;E&&(x!=null&&x.str)&&!g.has(b)&&!f(this,hc).has(b)&&v.push(C)}(h=f(this,hr))==null||h.showSidebar(v)}if(!t){i&&this.addNewEditorFromKeyboard(),f(this,Ba).resolve();return}for(const g of f(this,Dn).values())g.uid===t?(this.setSelected(g),s?g.editComment():r?g.enterInEditMode():g.focus()):g.unselect();f(this,Ba).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==f(this,si)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(f(this,ba)){switch(e){case wt.CREATE:this.currentLayer.addNewEditor(t);return;case wt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,lC)||_(this,lC,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of f(this,Qt))i.updateParams(e,t);else for(const i of f(this,ba))i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const a of f(this,Dn).values())a.editorType===e&&a.show(t);(((s=f(this,lC))==null?void 0:s.get(wt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&U(this,Se,$A).call(this,[[wt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,oC)!==e){_(this,oC,e);for(const t of f(this,di).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of f(this,Dn).values())t.pageIndex===e&&(yield t)}getEditor(e){return f(this,Dn).get(e)}addEditor(e){f(this,Dn).set(e.id,e)}removeEditor(e){var t,i;e.div.contains(document.activeElement)&&(f(this,Ho)&&clearTimeout(f(this,Ho)),_(this,Ho,setTimeout(()=>{this.focusMainContainer(),_(this,Ho,null)},0))),f(this,Dn).delete(e.id),e.annotationElementId&&((t=f(this,yc))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!f(this,hc).has(e.annotationElementId))&&((i=f(this,wa))==null||i.remove(e.id))}addDeletedAnnotationElement(e){f(this,hc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,hc).has(e)}removeDeletedAnnotationElement(e){f(this,hc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,Bs)!==e&&(_(this,Bs,e),e&&U(this,Se,$A).call(this,e.propertiesToUpdate))}updateUI(e){f(this,Se,W6)===e&&U(this,Se,$A).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){U(this,Se,$A).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(f(this,Qt).has(e)){f(this,Qt).delete(e),e.unselect(),U(this,Se,_r).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,Qt).add(e),e.select(),U(this,Se,$A).call(this,e.propertiesToUpdate),U(this,Se,_r).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=f(this,fc))==null||t.commitOrRemove();for(const i of f(this,Qt))i!==e&&i.unselect();f(this,Qt).clear(),f(this,Qt).add(e),e.select(),U(this,Se,$A).call(this,e.propertiesToUpdate),U(this,Se,_r).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,Qt).has(e)}get firstSelectedEditor(){return f(this,Qt).values().next().value}unselect(e){e.unselect(),f(this,Qt).delete(e),U(this,Se,_r).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,Qt).size!==0}get isEnterHandled(){return f(this,Qt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;f(this,Ca).undo(),U(this,Se,_r).call(this,{hasSomethingToUndo:f(this,Ca).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:U(this,Se,Q0).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){f(this,Ca).redo(),U(this,Se,_r).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,Ca).hasSomethingToRedo(),isEmpty:U(this,Se,Q0).call(this)})}addCommands(e){f(this,Ca).add(e),U(this,Se,_r).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:U(this,Se,Q0).call(this)})}cleanUndoStack(e){f(this,Ca).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...f(this,Qt)],i=()=>{var a;(a=this._editorUndoBar)==null||a.show(r,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},r=()=>{for(const a of t)U(this,Se,kR).call(this,a)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=f(this,Bs))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,Bs)||this.hasSelection}selectAll(){for(const e of f(this,Qt))e.commit();U(this,Se,HR).call(this,f(this,Dn).values())}unselectAll(){var e;if(!(f(this,Bs)&&(f(this,Bs).commitOrRemove(),f(this,si)!==et.NONE))&&!((e=f(this,fc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of f(this,Qt))t.unselect();f(this,Qt).clear(),U(this,Se,_r).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;f(this,bc)[0]+=e,f(this,bc)[1]+=t;const[r,s]=f(this,bc),a=[...f(this,Qt)],o=1e3;f(this,Ko)&&clearTimeout(f(this,Ko)),_(this,Ko,setTimeout(()=>{_(this,Ko,null),f(this,bc)[0]=f(this,bc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)f(this,Dn).has(l.id)&&(l.translateInPage(r,s),l.translationDone())},undo:()=>{for(const l of a)f(this,Dn).has(l.id)&&(l.translateInPage(-r,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,ko,new Map);for(const e of f(this,Qt))f(this,ko).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,ko))return!1;this.disableUserSelect(!1);const e=f(this,ko);_(this,ko,null);let t=!1;for(const[{x:r,y:s,pageIndex:a},o]of e)o.newX=r,o.newY=s,o.newPageIndex=a,t||(t=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const i=(r,s,a,o)=>{if(f(this,Dn).has(r.id)){const l=f(this,di).get(o);l?r._setParentAndPosition(l,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of e)i(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of e)i(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,ko))for(const i of f(this,ko).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,Qt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,Bs)===e}getActive(){return f(this,Bs)}getMode(){return f(this,si)}isEditingMode(){return f(this,si)!==et.NONE}get imageManager(){return Je(this,"imageManager",new NR)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,g)=>({x:(d-r)/a,y:1-(u+h-i)/s,width:g/a,height:h/s});break;case"180":o=(u,d,h,g)=>({x:1-(u+h-i)/s,y:1-(d+g-r)/a,width:h/s,height:g/a});break;case"270":o=(u,d,h,g)=>({x:1-(d+g-r)/a,y:(u-i)/s,width:g/a,height:h/s});break;default:o=(u,d,h,g)=>({x:(u-i)/s,y:(d-r)/a,width:h/s,height:g/a});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:g,y:v,width:C,height:b}of h.getClientRects())C===0||b===0||l.push(o(g,v,C,b))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,nm)||_(this,nm,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,nm))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=f(this,nm))==null?void 0:r.get(e.data.id);if(!t)return;const i=f(this,wa).getRawValue(t);i&&(f(this,si)===et.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){var s;const r=(s=f(this,yc))==null?void 0:s.get(e);r&&(r.setCanvas(t,i),f(this,yc).delete(e))}addMissingCanvas(e,t){(f(this,yc)||_(this,yc,new Map)).set(e,t)}},Zg=new WeakMap,Bs=new WeakMap,em=new WeakMap,Dn=new WeakMap,di=new WeakMap,tm=new WeakMap,wa=new WeakMap,nm=new WeakMap,Ca=new WeakMap,hr=new WeakMap,dc=new WeakMap,fc=new WeakMap,im=new WeakMap,hc=new WeakMap,ko=new WeakMap,ba=new WeakMap,xf=new WeakMap,rC=new WeakMap,sC=new WeakMap,rm=new WeakMap,aC=new WeakMap,Ho=new WeakMap,pc=new WeakMap,sm=new WeakMap,gc=new WeakMap,Vo=new WeakMap,ZT=new WeakMap,mc=new WeakMap,am=new WeakMap,oC=new WeakMap,vc=new WeakMap,_f=new WeakMap,om=new WeakMap,yc=new WeakMap,AC=new WeakMap,si=new WeakMap,Qt=new WeakMap,tl=new WeakMap,wc=new WeakMap,Cc=new WeakMap,lC=new WeakMap,Am=new WeakMap,uC=new WeakMap,bc=new WeakMap,Ko=new WeakMap,nl=new WeakMap,cC=new WeakMap,dC=new WeakMap,Ba=new WeakMap,Se=new WeakSet,Fx=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},QR=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of f(this,di).values())if(i.hasTextLayer(e))return i;return null},Q6=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=U(this,Se,Fx).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(f(this,Vo)||_(this,Vo,new Fce(this)),f(this,Vo).show(i,r,this.direction==="ltr"))},O6=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){f(this,tl)&&((s=f(this,Vo))==null||s.hide(),_(this,tl,null),U(this,Se,_r).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,tl))return;const r=U(this,Se,Fx).call(this,e).closest(".textLayer");if(!r){f(this,tl)&&((a=f(this,Vo))==null||a.hide(),_(this,tl,null),U(this,Se,_r).call(this,{hasSelectedText:!1}));return}if((o=f(this,Vo))==null||o.hide(),_(this,tl,t),U(this,Se,_r).call(this,{hasSelectedText:!0}),!(f(this,si)!==et.HIGHLIGHT&&f(this,si)!==et.NONE)&&(f(this,si)===et.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,gc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=f(this,si)===et.HIGHLIGHT?U(this,Se,QR).call(this,r):null;if(l==null||l.toggleDrawing(),f(this,am)){const u=new AbortController,d=this.combinedSignal(u),h=g=>{g.type==="pointerup"&&g.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),g.type==="pointerup"&&U(this,Se,L0).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else l==null||l.toggleDrawing(!0),U(this,Se,L0).call(this,"main_toolbar")}},L0=function(e=""){f(this,si)===et.HIGHLIGHT?this.highlightSelection(e):f(this,rC)&&U(this,Se,Q6).call(this)},k6=function(){document.addEventListener("selectionchange",U(this,Se,O6).bind(this),{signal:this._signal})},H6=function(){if(f(this,pc))return;_(this,pc,new AbortController);const e=this.combinedSignal(f(this,pc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},V6=function(){var e;(e=f(this,pc))==null||e.abort(),_(this,pc,null)},OR=function(){if(f(this,vc))return;_(this,vc,new AbortController);const e=this.combinedSignal(f(this,vc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},K6=function(){var e;(e=f(this,vc))==null||e.abort(),_(this,vc,null)},G6=function(){if(f(this,dc))return;_(this,dc,new AbortController);const e=this.combinedSignal(f(this,dc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},z6=function(){var e;(e=f(this,dc))==null||e.abort(),_(this,dc,null)},q6=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},_r=function(e){Object.entries(e).some(([i,r])=>f(this,uC)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,uC),e)}),f(this,si)===et.HIGHLIGHT&&e.hasSelectedEditor===!1&&U(this,Se,$A).call(this,[[wt.HIGHLIGHT_FREE,!0]]))},$A=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},$6=async function(){if(!f(this,mc)){_(this,mc,!0);const e=[];for(const t of f(this,di).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,Dn).values())t.enable()}},j6=function(){if(this.unselectAll(),f(this,mc)){_(this,mc,!1);for(const e of f(this,di).values())e.disable();for(const e of f(this,Dn).values())e.disable()}},kR=function(e){const t=f(this,di).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},W6=function(){let e=null;for(e of f(this,Qt));return e},Q0=function(){if(f(this,Dn).size===0)return!0;if(f(this,Dn).size===1)for(const e of f(this,Dn).values())return e.isEmpty();return!1},HR=function(e){for(const t of f(this,Qt))t.unselect();f(this,Qt).clear();for(const t of e)t.isEmpty()||(f(this,Qt).add(t),t.select());U(this,Se,_r).call(this,{hasSelectedEditor:this.hasSelection})},ge(Wl,"TRANSLATE_SMALL",1),ge(Wl,"TRANSLATE_BIG",10),Wl);var Ti,Go,eo,lm,zo,Es,um,qo,Xr,il,Tf,$o,Bc,vo,O0,Ux;const Tr=class Tr{constructor(e){F(this,vo);F(this,Ti,null);F(this,Go,!1);F(this,eo,null);F(this,lm,null);F(this,zo,null);F(this,Es,null);F(this,um,!1);F(this,qo,null);F(this,Xr,null);F(this,il,null);F(this,Tf,null);F(this,$o,!1);_(this,Xr,e),_(this,$o,e._uiManager.useNewAltTextFlow),f(Tr,Bc)||_(Tr,Bc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Tr._l10n??(Tr._l10n=e)}async render(){const e=_(this,eo,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=_(this,lm,document.createElement("span"));e.append(t),f(this,$o)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(Tr,Bc).missing),t.setAttribute("data-l10n-id",f(Tr,Bc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=f(this,Xr)._uiManager._signal;e.addEventListener("contextmenu",Va,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),f(this,Xr)._uiManager.editAltText(f(this,Xr)),f(this,$o)&&f(this,Xr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,vo,O0)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,um,!0),r(s))},{signal:i}),await U(this,vo,Ux).call(this),e}finish(){f(this,eo)&&(f(this,eo).focus({focusVisible:f(this,um)}),_(this,um,!1))}isEmpty(){return f(this,$o)?f(this,Ti)===null:!f(this,Ti)&&!f(this,Go)}hasData(){return f(this,$o)?f(this,Ti)!==null||!!f(this,il):this.isEmpty()}get guessedText(){return f(this,il)}async setGuessedText(e){f(this,Ti)===null&&(_(this,il,e),_(this,Tf,await Tr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),U(this,vo,Ux).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,$o)||f(this,Ti)){(t=f(this,qo))==null||t.remove(),_(this,qo,null);return}if(!f(this,qo)){const i=_(this,qo,document.createElement("div"));i.className="noAltTextBadge",f(this,Xr).div.append(i)}f(this,qo).classList.toggle("hidden",!e)}serialize(e){let t=f(this,Ti);return!e&&f(this,il)===t&&(t=f(this,Tf)),{altText:t,decorative:f(this,Go),guessedText:f(this,il),textWithDisclaimer:f(this,Tf)}}get data(){return{altText:f(this,Ti),decorative:f(this,Go)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(_(this,il,i),_(this,Tf,r)),!(f(this,Ti)===e&&f(this,Go)===t)&&(s||(_(this,Ti,e),_(this,Go,t)),U(this,vo,Ux).call(this))}toggle(e=!1){f(this,eo)&&(!e&&f(this,Es)&&(clearTimeout(f(this,Es)),_(this,Es,null)),f(this,eo).disabled=!e)}shown(){f(this,Xr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,vo,O0)}})}destroy(){var e,t;(e=f(this,eo))==null||e.remove(),_(this,eo,null),_(this,lm,null),_(this,zo,null),(t=f(this,qo))==null||t.remove(),_(this,qo,null)}};Ti=new WeakMap,Go=new WeakMap,eo=new WeakMap,lm=new WeakMap,zo=new WeakMap,Es=new WeakMap,um=new WeakMap,qo=new WeakMap,Xr=new WeakMap,il=new WeakMap,Tf=new WeakMap,$o=new WeakMap,Bc=new WeakMap,vo=new WeakSet,O0=function(){return f(this,Ti)&&"added"||f(this,Ti)===null&&this.guessedText&&"review"||"missing"},Ux=async function(){var r,s,a;const e=f(this,eo);if(!e)return;if(f(this,$o)){if(e.classList.toggle("done",!!f(this,Ti)),e.setAttribute("data-l10n-id",f(Tr,Bc)[f(this,vo,O0)]),(r=f(this,lm))==null||r.setAttribute("data-l10n-id",f(Tr,Bc)[`${f(this,vo,O0)}-label`]),!f(this,Ti)){(s=f(this,zo))==null||s.remove();return}}else{if(!f(this,Ti)&&!f(this,Go)){e.classList.remove("done"),(a=f(this,zo))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,zo);if(!t){_(this,zo,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,Xr).id}`;const o=100,l=f(this,Xr)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(f(this,Es)),_(this,Es,null)},{once:!0}),e.addEventListener("mouseenter",()=>{_(this,Es,setTimeout(()=>{_(this,Es,null),f(this,zo).classList.add("show"),f(this,Xr)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;f(this,Es)&&(clearTimeout(f(this,Es)),_(this,Es,null)),(u=f(this,zo))==null||u.classList.remove("show")},{signal:l})}f(this,Go)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,Ti)),t.parentNode||e.append(t);const i=f(this,Xr).getElementForAltText();i==null||i.setAttribute("aria-describedby",t.id)},F(Tr,Bc,null),ge(Tr,"_l10n",null);let O_=Tr;var zi,Ea,If,ln,fC,Ff,to,Uf,Mf,Pf,hC,VR;class CS{constructor(e){F(this,hC);F(this,zi,null);F(this,Ea,null);F(this,If,!1);F(this,ln,null);F(this,fC,null);F(this,Ff,null);F(this,to,null);F(this,Uf,null);F(this,Mf,!1);F(this,Pf,null);_(this,ln,e)}renderForToolbar(){const e=_(this,Ea,document.createElement("button"));return e.className="comment",U(this,hC,VR).call(this,e,!1)}renderForStandalone(){const e=_(this,zi,document.createElement("button"));e.className="annotationCommentButton";const t=f(this,ln).commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(f(this,ln)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=f(this,ln).commentButtonColor;r&&(i.backgroundColor=r)}return U(this,hC,VR).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=f(this,zi)??f(this,Ea))==null||e.focus()},0)}onUpdatedColor(){if(!f(this,zi))return;const e=f(this,ln).commentButtonColor;e&&(f(this,zi).style.backgroundColor=e),f(this,ln)._uiManager.updatePopupColor(f(this,ln))}get commentButtonWidth(){var e;return(((e=f(this,zi))==null?void 0:e.getBoundingClientRect().width)??0)/f(this,ln).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(f(this,Pf))return f(this,Pf);if(!f(this,zi))return null;const{x:e,y:t,height:i}=f(this,zi).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=f(this,ln).parent.boundingClientRect;return[(e-r)/a,(t+i-s)/o]}set commentPopupPositionInLayer(e){_(this,Pf,e)}hasDefaultPopupPosition(){return f(this,Pf)===null}removeStandaloneCommentButton(){var e;(e=f(this,zi))==null||e.remove(),_(this,zi,null)}removeToolbarCommentButton(){var e;(e=f(this,Ea))==null||e.remove(),_(this,Ea,null)}setCommentButtonStates({selected:e,hasPopup:t}){f(this,zi)&&(f(this,zi).classList.toggle("selected",e),f(this,zi).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=f(this,ln).commentButtonPosition;const{width:d,height:h,x:g,y:v}=f(this,ln);i=g+i*d,r=v+r*h}const s=f(this,ln).parent.boundingClientRect,{x:a,y:o,width:l,height:u}=s;f(this,ln)._uiManager.editComment(f(this,ln),a+i*l,o+r*u,{...e,parentDimensions:s})}finish(){f(this,Ea)&&(f(this,Ea).focus({focusVisible:f(this,If)}),_(this,If,!1))}isDeleted(){return f(this,Mf)||f(this,to)===""}isEmpty(){return f(this,to)===null}hasBeenEdited(){return this.isDeleted()||f(this,to)!==f(this,fC)}serialize(){return this.data}get data(){return{text:f(this,to),richText:f(this,Ff),date:f(this,Uf),deleted:this.isDeleted()}}set data(e){if(e!==f(this,to)&&_(this,Ff,null),e===null){_(this,to,""),_(this,Mf,!0);return}_(this,to,e),_(this,Uf,new Date),_(this,Mf,!1)}setInitialText(e,t=null){_(this,fC,e),this.data=e,_(this,Uf,null),_(this,Ff,t)}shown(){}destroy(){var e,t;(e=f(this,Ea))==null||e.remove(),_(this,Ea,null),(t=f(this,zi))==null||t.remove(),_(this,zi,null),_(this,to,""),_(this,Ff,null),_(this,Uf,null),_(this,ln,null),_(this,If,!1),_(this,Mf,!1)}}zi=new WeakMap,Ea=new WeakMap,If=new WeakMap,ln=new WeakMap,fC=new WeakMap,Ff=new WeakMap,to=new WeakMap,Uf=new WeakMap,Mf=new WeakMap,Pf=new WeakMap,hC=new WeakSet,VR=function(e,t){if(!f(this,ln)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[f(this,ln)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=f(this,ln)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",Va,{signal:i}),t&&(e.addEventListener("focusin",s=>{f(this,ln)._focusEventsAllowed=!1,Vn(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{f(this,ln)._focusEventsAllowed=!0,Vn(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===f(this,Ea)?this.edit():f(this,ln).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,If,!0),r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{f(this,ln).toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{f(this,ln).toggleComment(!1,!1)},{signal:i}),e};var cm,Rf,pC,gC,mC,vC,yC,rl,Df,sl,Nf,al,Ud,X6,J6,Z6,dm;let Y6=(dm=class{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){F(this,Ud);F(this,cm);F(this,Rf,!1);F(this,pC,null);F(this,gC);F(this,mC);F(this,vC);F(this,yC);F(this,rl,null);F(this,Df);F(this,sl,null);F(this,Nf);F(this,al,null);_(this,cm,e),_(this,pC,i),_(this,gC,t),_(this,mC,r),_(this,vC,s),_(this,yC,a),_(this,Nf,new AbortController),_(this,Df,AbortSignal.any([o,f(this,Nf).signal])),e.addEventListener("touchstart",U(this,Ud,X6).bind(this),{passive:!1,signal:f(this,Df)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ip.pixelRatio}destroy(){var e,t;(e=f(this,Nf))==null||e.abort(),_(this,Nf,null),(t=f(this,rl))==null||t.abort(),_(this,rl,null)}},cm=new WeakMap,Rf=new WeakMap,pC=new WeakMap,gC=new WeakMap,mC=new WeakMap,vC=new WeakMap,yC=new WeakMap,rl=new WeakMap,Df=new WeakMap,sl=new WeakMap,Nf=new WeakMap,al=new WeakMap,Ud=new WeakSet,X6=function(e){var r,s,a;if((r=f(this,gC))!=null&&r.call(this))return;if(e.touches.length===1){if(f(this,rl))return;const o=_(this,rl,new AbortController),l=AbortSignal.any([f(this,Df),o.signal]),u=f(this,cm),d={capture:!0,signal:l,passive:!1},h=g=>{var v;g.pointerType==="touch"&&((v=f(this,rl))==null||v.abort(),_(this,rl,null))};u.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(Vn(g),h(g))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!f(this,al)){_(this,al,new AbortController);const o=AbortSignal.any([f(this,Df),f(this,al).signal]),l=f(this,cm),u={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",U(this,Ud,J6).bind(this),u);const d=U(this,Ud,Z6).bind(this);l.addEventListener("touchend",d,u),l.addEventListener("touchcancel",d,u),u.capture=!0,l.addEventListener("pointerdown",Vn,u),l.addEventListener("pointermove",Vn,u),l.addEventListener("pointercancel",Vn,u),l.addEventListener("pointerup",Vn,u),(s=f(this,mC))==null||s.call(this)}if(Vn(e),e.touches.length!==2||(a=f(this,pC))!=null&&a.call(this)){_(this,sl,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),_(this,sl,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},J6=function(e){var R;if(!f(this,sl)||e.touches.length!==2)return;Vn(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:a,screenY:o}=i,l=f(this,sl),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:g}=l,v=h-u,C=g-d,b=a-r,E=o-s,x=Math.hypot(b,E)||1,I=Math.hypot(v,C)||1;if(!f(this,Rf)&&Math.abs(I-x)<=dm.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!f(this,Rf)){_(this,Rf,!0);return}const T=[(r+a)/2,(s+o)/2];(R=f(this,vC))==null||R.call(this,T,I,x)},Z6=function(e){var t;e.touches.length>=2||(f(this,al)&&(f(this,al).abort(),_(this,al,null),(t=f(this,yC))==null||t.call(this)),f(this,sl)&&(Vn(e),_(this,sl,null),_(this,Rf,!1)))},dm);var Lf,no,Bn,tn,ol,fm,Ec,wC,qi,Qf,Al,Sa,Sc,CC,Of,Ss,bC,kf,ll,jo,hm,pm,xa,Hf,BC,e1,$e,KR,EC,GR,Mx,ej,tj,zR,Px,qR,nj,ij,rj,$R,sj,jR,aj,oj,Aj,WR,k0;const Ze=class Ze{constructor(e){F(this,$e);F(this,Lf,null);F(this,no,null);F(this,Bn,null);F(this,tn,null);F(this,ol,null);F(this,fm,!1);F(this,Ec,null);F(this,wC,"");F(this,qi,null);F(this,Qf,null);F(this,Al,null);F(this,Sa,null);F(this,Sc,null);F(this,CC,"");F(this,Of,!1);F(this,Ss,null);F(this,bC,!1);F(this,kf,!1);F(this,ll,!1);F(this,jo,null);F(this,hm,0);F(this,pm,0);F(this,xa,null);F(this,Hf,null);ge(this,"isSelected",!1);ge(this,"_isCopy",!1);ge(this,"_editToolbar",null);ge(this,"_initialOptions",Object.create(null));ge(this,"_initialData",null);ge(this,"_isVisible",!0);ge(this,"_uiManager",null);ge(this,"_focusEventsAllowed",!0);F(this,BC,!1);F(this,e1,Ze._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ze.prototype._resizeWithKeyboard,t=Uw.TRANSLATE_SMALL,i=Uw.TRANSLATE_BIG;return Je(this,"_resizerKeyboardManager",new PB([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Ze.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Je(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Pce({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ze._l10n??(Ze._l10n=e),Ze._l10nResizer||(Ze._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ze._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Ze._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){an("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,BC)}set _isDraggable(e){var t;_(this,BC,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,e1)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(U(this,$e,k0).call(this),(t=f(this,Sa))==null||t.remove(),_(this,Sa,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,Of)?_(this,Of,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}translate(e,t){U(this,$e,KR).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,Ss)||_(this,Ss,[this.x,this.y,this.width,this.height]),U(this,$e,KR).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){f(this,Ss)||_(this,Ss,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:d}=i;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!f(this,Ss)&&(f(this,Ss)[0]!==this.x||f(this,Ss)[1]!==this.y)}get _hasBeenResized(){return!!f(this,Ss)&&(f(this,Ss)[2]!==this.width||f(this,Ss)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Ze,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=i,l*=r,s*=i,a*=r,this._mustFixPosition)switch(e){case 0:s=Dr(s,0,i-o),a=Dr(a,0,r-l);break;case 90:s=Dr(s,0,i-l),a=Dr(a,o,r);break;case 180:s=Dr(s,o,i),a=Dr(a,l,r);break;case 270:s=Dr(s,l,i),a=Dr(a,0,r-o);break}this.x=s/=i,this.y=a/=r;const[u,d]=this.getBaseTranslation();s+=u,a+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return U(i=Ze,EC,GR).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return U(i=Ze,EC,GR).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=f(this,Bn))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||f(this,kf))return this._editToolbar;this._editToolbar=new RR(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=f(this,Bn))==null||t.destroy()}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return f(this,Bn)||(O_.initialize(Ze._l10n),_(this,Bn,new O_(this)),f(this,Lf)&&(f(this,Bn).data=f(this,Lf),_(this,Lf,null))),f(this,Bn)}get altTextData(){var e;return(e=f(this,Bn))==null?void 0:e.data}set altTextData(e){f(this,Bn)&&(f(this,Bn).data=e)}get guessedAltText(){var e;return(e=f(this,Bn))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,Bn))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,Bn))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,Bn)&&!f(this,Bn).isEmpty()}hasAltTextData(){var e;return((e=f(this,Bn))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=f(this,tn))==null||e.focusButton()}addCommentButton(){return this.canAddComment?f(this,tn)||_(this,tn,new CS(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(f(this,ol)){this._uiManager.isEditingMode()&&f(this,ol).classList.remove("hidden");return}this.hasComment&&(_(this,ol,f(this,tn).renderForStandalone()),this.div.append(f(this,ol)))}}removeStandaloneCommentButton(){f(this,tn).removeStandaloneCommentButton(),_(this,ol,null)}hideStandaloneCommentButton(){var e;(e=f(this,ol))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:i,deleted:r}}=f(this,tn);return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){f(this,tn)||_(this,tn,new CS(this)),f(this,tn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(f(this,tn)||_(this,tn,new CS(this)),f(this,tn).setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=f(this,tn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=f(this,tn))==null?void 0:e.isDeleted()}get hasComment(){return!!f(this,tn)&&!f(this,tn).isEmpty()&&!f(this,tn).isDeleted()}async editComment(e){f(this,tn)||_(this,tn,new CS(this)),f(this,tn).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){f(this,tn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=r-100,u=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,u,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){f(this,tn).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=f(this,fm)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),U(this,$e,jR).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),N6(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,Hf)||_(this,Hf,new Y6({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:U(this,$e,nj).bind(this),onPinching:U(this,$e,ij).bind(this),onPinchEnd:U(this,$e,rj).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=sr.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(_(this,Of,!0),this._isDraggable){U(this,$e,sj).call(this,e);return}U(this,$e,$R).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,jo)&&clearTimeout(f(this,jo)),_(this,jo,setTimeout(()=>{var e;_(this,jo,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/r,d=t/r,h=this.x*s,g=this.y*a,v=this.width*s,C=this.height*a;switch(i){case 0:return[h+u+o,a-g-d-C+l,h+u+v+o,a-g-d+l];case 90:return[h+d+o,a-g+u+l,h+d+C+o,a-g+u+v+l];case 180:return[h-u-v+o,a-g+d+l,h-u+o,a-g+d+C+l];case 270:return[h-d-C+o,a-g-u-v+l,h-d+o,a-g-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,a]=e,o=s-i,l=a-r;switch(this.rotation){case 0:return[i,t-a,o,l];case 90:return[i,t-r,l,o];case 180:return[s,t-r,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Ze._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=f(this,tn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:u,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:u,modificationDate:i||d,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),_(this,kf,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),_(this,kf,!1),!0):!1}isInEditMode(){return f(this,kf)}shouldGetKeyboardEvents(){return f(this,ll)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&r>0&&e<s&&i>0}rebuild(){U(this,$e,jR).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,_(r,Lf,e.accessibilityData),r._isCopy=e.isCopy||!1;const[s,a]=r.pageDimensions,[o,l,u,d]=r.getRectInCurrentCoords(e.rect,a);return r.x=o/s,r.y=l/a,r.width=u/s,r.height=d/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,i;if((e=f(this,Sc))==null||e.abort(),_(this,Sc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),f(this,jo)&&(clearTimeout(f(this,jo)),_(this,jo,null)),U(this,$e,k0).call(this),this.removeEditToolbar(),f(this,xa)){for(const r of f(this,xa).values())clearTimeout(r);_(this,xa,null)}this.parent=null,(t=f(this,Hf))==null||t.destroy(),_(this,Hf,null),(i=f(this,Sa))==null||i.remove(),_(this,Sa,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(U(this,$e,ej).call(this),f(this,qi).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,a]=this.getPDFRect();return[Ze._round(i+(s-i)*e),Ze._round(r+(a-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return f(this,tn).commentPopupPositionInLayer}set commentPopupPosition(e){f(this,tn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return f(this,tn).hasDefaultPopupPosition()}get commentButtonWidth(){return f(this,tn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=f(this,tn))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),_(this,Al,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,qi).children;if(!f(this,no)){_(this,no,Array.from(t));const a=U(this,$e,aj).bind(this),o=U(this,$e,oj).bind(this),l=this._uiManager._signal;for(const u of f(this,no)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",U(this,$e,Aj).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",Ze._l10nResizer[d])}}const i=f(this,no)[0];let r=0;for(const a of t){if(a===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(f(this,no).length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)f(this,qi).append(f(this,qi).firstElementChild);else if(s>r)for(let o=0;o<s-r;o++)f(this,qi).firstElementChild.before(f(this,qi).lastElementChild);let a=0;for(const o of t){const u=f(this,no)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Ze._l10nResizer[u])}}U(this,$e,WR).call(this,0),_(this,ll,!0),f(this,qi).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,ll)&&U(this,$e,qR).call(this,f(this,CC),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){U(this,$e,k0).call(this),this.div.focus()}select(){var e,t,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(i=f(this,Bn))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,i,r,s;this.isSelected&&(this.isSelected=!1,(e=f(this,qi))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=f(this,Bn))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,bC)}set isEditing(e){_(this,bC,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,xa)||_(this,xa,new Map);const{action:i}=e;let r=f(this,xa).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),f(this,xa).delete(i),f(this,xa).size===0&&_(this,xa,null)},Ze._telemetryTimeout),f(this,xa).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),_(this,fm,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,fm,!0)}updateFakeAnnotationElement(e){if(!f(this,Sa)&&!this.deleted){_(this,Sa,e.addFakeAnnotation(this));return}if(this.deleted){f(this,Sa).remove(),_(this,Sa,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&f(this,Sa).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Lf=new WeakMap,no=new WeakMap,Bn=new WeakMap,tn=new WeakMap,ol=new WeakMap,fm=new WeakMap,Ec=new WeakMap,wC=new WeakMap,qi=new WeakMap,Qf=new WeakMap,Al=new WeakMap,Sa=new WeakMap,Sc=new WeakMap,CC=new WeakMap,Of=new WeakMap,Ss=new WeakMap,bC=new WeakMap,kf=new WeakMap,ll=new WeakMap,jo=new WeakMap,hm=new WeakMap,pm=new WeakMap,xa=new WeakMap,Hf=new WeakMap,BC=new WeakMap,e1=new WeakMap,$e=new WeakSet,KR=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},EC=new WeakSet,GR=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Mx=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},ej=function(){if(f(this,qi))return;_(this,qi,document.createElement("div")),f(this,qi).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");f(this,qi).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",U(this,$e,tj).bind(this,i),{signal:t}),r.addEventListener("contextmenu",Va,{signal:t}),r.tabIndex=-1}this.div.prepend(f(this,qi))},tj=function(e,t){var d;t.preventDefault();const{isMac:i}=sr.platform;if(t.button!==0||t.ctrlKey&&i)return;(d=f(this,Bn))==null||d.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,_(this,Qf,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",U(this,$e,qR).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Vn,{passive:!1,signal:a}),window.addEventListener("contextmenu",Va,{signal:a}),_(this,Al,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=f(this,Bn))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=l,U(this,$e,Px).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},zR=function(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Px=function(){if(!f(this,Al))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=f(this,Al);_(this,Al,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===i&&l===r||this.addCommands({cmd:U(this,$e,zR).bind(this,s,a,o,l),undo:U(this,$e,zR).bind(this,e,t,i,r),mustExec:!0})},qR=function(e,t){const[i,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=Ze.MIN_SIZE/i,d=Ze.MIN_SIZE/r,h=U(this,$e,Mx).call(this,this.rotation),g=(G,z)=>[h[0]*G+h[2]*z,h[1]*G+h[3]*z],v=U(this,$e,Mx).call(this,360-this.rotation),C=(G,z)=>[v[0]*G+v[2]*z,v[1]*G+v[3]*z];let b,E,x=!1,I=!1;switch(e){case"topLeft":x=!0,b=(G,z)=>[0,0],E=(G,z)=>[G,z];break;case"topMiddle":b=(G,z)=>[G/2,0],E=(G,z)=>[G/2,z];break;case"topRight":x=!0,b=(G,z)=>[G,0],E=(G,z)=>[0,z];break;case"middleRight":I=!0,b=(G,z)=>[G,z/2],E=(G,z)=>[0,z/2];break;case"bottomRight":x=!0,b=(G,z)=>[G,z],E=(G,z)=>[0,0];break;case"bottomMiddle":b=(G,z)=>[G/2,z],E=(G,z)=>[G/2,0];break;case"bottomLeft":x=!0,b=(G,z)=>[0,z],E=(G,z)=>[G,0];break;case"middleLeft":I=!0,b=(G,z)=>[0,z/2],E=(G,z)=>[G,z/2];break}const T=b(o,l),R=E(o,l);let M=g(...R);const D=Ze._round(s+M[0]),L=Ze._round(a+M[1]);let H=1,O=1,K,V;if(t.fromKeyboard)({deltaX:K,deltaY:V}=t);else{const{screenX:G,screenY:z}=t,[ee,Z]=f(this,Qf);[K,V]=this.screenToPageTranslation(G-ee,z-Z),f(this,Qf)[0]=G,f(this,Qf)[1]=z}if([K,V]=C(K/i,V/r),x){const G=Math.hypot(o,l);H=O=Math.max(Math.min(Math.hypot(R[0]-T[0]-K,R[1]-T[1]-V)/G,1/o,1/l),u/o,d/l)}else I?H=Dr(Math.abs(R[0]-T[0]-K),u,1)/o:O=Dr(Math.abs(R[1]-T[1]-V),d,1)/l;const $=Ze._round(o*H),ne=Ze._round(l*O);M=g(...E($,ne));const oe=D-M[0],pe=L-M[1];f(this,Ss)||_(this,Ss,[this.x,this.y,this.width,this.height]),this.width=$,this.height=ne,this.x=oe,this.y=pe,this.setDims(),this.fixAndSetPosition(),this._onResizing()},nj=function(){var e;_(this,Al,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=f(this,Bn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},ij=function(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const a=U(this,$e,Mx).call(this,this.rotation),o=(D,L)=>[a[0]*D+a[2]*L,a[1]*D+a[3]*L],[l,u]=this.parentDimensions,d=this.x,h=this.y,g=this.width,v=this.height,C=Ze.MIN_SIZE/l,b=Ze.MIN_SIZE/u;s=Math.max(Math.min(s,1/g,1/v),C/g,b/v);const E=Ze._round(g*s),x=Ze._round(v*s);if(E===g&&x===v)return;f(this,Ss)||_(this,Ss,[d,h,g,v]);const I=o(g/2,v/2),T=Ze._round(d+I[0]),R=Ze._round(h+I[1]),M=o(E/2,x/2);this.x=T-M[0],this.y=R-M[1],this.width=E,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()},rj=function(){var e;(e=f(this,Bn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),U(this,$e,Px).call(this)},$R=function(e){const{isMac:t}=sr.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},sj=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:s},o=u=>{r.abort(),_(this,Ec,null),_(this,Of,!1),this._uiManager.endDragSession()||U(this,$e,$R).call(this,u),i&&this._onStopDragging()};t&&(_(this,hm,e.clientX),_(this,pm,e.clientY),_(this,Ec,e.pointerId),_(this,wC,e.pointerType),window.addEventListener("pointermove",u=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:g}=u;if(g!==f(this,Ec)){Vn(u);return}const[v,C]=this.screenToPageTranslation(d-f(this,hm),h-f(this,pm));_(this,hm,d),_(this,pm,h),this._uiManager.dragSelectedEditors(v,C)},a),window.addEventListener("touchmove",Vn,a),window.addEventListener("pointerdown",u=>{u.pointerType===f(this,wC)&&(f(this,Hf)||u.isPrimary)&&o(u),Vn(u)},a));const l=u=>{if(!f(this,Ec)||f(this,Ec)===u.pointerId){o(u);return}Vn(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},jR=function(){if(f(this,Sc)||!this.div)return;_(this,Sc,new AbortController);const e=this._uiManager.combinedSignal(f(this,Sc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},aj=function(e){Ze._resizerKeyboardManager.exec(this,e)},oj=function(e){var t;f(this,ll)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,qi)&&U(this,$e,k0).call(this)},Aj=function(e){_(this,CC,f(this,ll)?e:"")},WR=function(e){if(f(this,no))for(const t of f(this,no))t.tabIndex=e},k0=function(){_(this,ll,!1),U(this,$e,WR).call(this,-1),U(this,$e,Px).call(this)},F(Ze,EC),ge(Ze,"_l10n",null),ge(Ze,"_l10nResizer",null),ge(Ze,"_borderLineWidth",-1),ge(Ze,"_colorManager",new LR),ge(Ze,"_zIndex",1),ge(Ze,"_telemetryTimeout",1e3);let dn=Ze;class Pce extends dn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const pK=3285377520,da=4294901760,No=65535;class lj{constructor(e){this.h1=e?e&4294967295:pK,this.h2=e?e&4294967295:pK}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let b=0,E=e.length;b<E;b++){const x=e.charCodeAt(b);x<=255?t[i++]=x:(t[i++]=x>>>8,t[i++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,a=new Uint32Array(t.buffer,0,r);let o=0,l=0,u=this.h1,d=this.h2;const h=3432918353,g=461845907,v=h&No,C=g&No;for(let b=0;b<r;b++)b&1?(o=a[b],o=o*h&da|o*v&No,o=o<<15|o>>>17,o=o*g&da|o*C&No,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[b],l=l*h&da|l*v&No,l=l<<15|l>>>17,l=l*g&da|l*C&No,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[r*4+2]<<16;case 2:o^=t[r*4+1]<<8;case 1:o^=t[r*4],o=o*h&da|o*v&No,o=o<<15|o>>>17,o=o*g&da|o*C&No,r&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&da|e*36045&No,t=t*4283543511&da|((t<<16|e>>>16)*2950163797&da)>>>16,e^=t>>>1,e=e*444984403&da|e*60499&No,t=t*3301882366&da|((t<<16|e>>>16)*3120437893&da)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const YR=Object.freeze({map:null,hash:"",transfer:void 0});var Vf,Kf,ul,$i,t1,uj;class SQ{constructor(){F(this,t1);F(this,Vf,!1);F(this,Kf,null);F(this,ul,null);F(this,$i,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=f(this,$i).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return f(this,$i).get(e)}remove(e){const t=f(this,$i).get(e);if(t!==void 0&&(t instanceof dn&&f(this,ul).delete(t.annotationElementId),f(this,$i).delete(e),f(this,$i).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of f(this,$i).values())if(i instanceof dn)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=f(this,$i).get(e);let r=!1;if(i!==void 0)for(const[s,a]of Object.entries(t))i[s]!==a&&(r=!0,i[s]=a);else r=!0,f(this,$i).set(e,t);r&&U(this,t1,uj).call(this),t instanceof dn&&((f(this,ul)||_(this,ul,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return f(this,$i).has(e)}get size(){return f(this,$i).size}resetModified(){f(this,Vf)&&(_(this,Vf,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new cj(this)}get serializable(){if(f(this,$i).size===0)return YR;const e=new Map,t=new lj,i=[],r=Object.create(null);let s=!1;for(const[a,o]of f(this,$i)){const l=o instanceof dn?o.serialize(!1,r):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&i.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:YR}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of f(this,$i).values()){if(!(s instanceof dn)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(a)){if(u==="type")continue;let h=l.get(u);h||(h=new Map,l.set(u,h));const g=h.get(d)??0;h.set(d,g+1)}}if((r>0||i>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){_(this,Kf,null)}updateEditor(e,t){var r;const i=(r=f(this,ul))==null?void 0:r.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=f(this,ul))==null?void 0:t.get(e))||null}get modifiedIds(){if(f(this,Kf))return f(this,Kf);const e=[];if(f(this,ul))for(const t of f(this,ul).values())t.serialize()&&e.push(t.annotationElementId);return _(this,Kf,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return f(this,$i).entries()}}Vf=new WeakMap,Kf=new WeakMap,ul=new WeakMap,$i=new WeakMap,t1=new WeakSet,uj=function(){f(this,Vf)||(_(this,Vf,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var SC;class cj extends SQ{constructor(t){super();F(this,SC);const{map:i,hash:r,transfer:s}=t.serializable,a=structuredClone(i,s?{transfer:s}:null);_(this,SC,{map:a,hash:r,transfer:s})}get print(){an("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,SC)}get modifiedIds(){return Je(this,"modifiedIds",{ids:new Set,hash:""})}}SC=new WeakMap;var gm;class Rce{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){F(this,gm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,gm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||f(this,gm).has(e.loadedName))){if(Ct(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:a}=e,o=new FontFace(r,s,a);this.addNativeFontFace(o);try{await o.load(),f(this,gm).add(r),i==null||i(e)}catch{Xe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}an("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Xe(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Je(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Je(this,"isSyncFontLoadingSupported",Rr||sr.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ct(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Je(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(R,M){return R.charCodeAt(M)<<24|R.charCodeAt(M+1)<<16|R.charCodeAt(M+2)<<8|R.charCodeAt(M+3)&255}function r(R,M,D,L){const H=R.substring(0,M),O=R.substring(M+D);return H+L+O}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(R,M){if(++u>30){Xe("Load test font never loaded."),M();return}if(l.font="30px "+R,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(d.bind(null,R,M))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,h.length,h);const C=16,b=1482184792;let E=i(g,C);for(s=0,a=h.length-3;s<a;s+=4)E=E-b+i(h,s)|0;s<h.length&&(E=E-b+i(h+"XXX",s)|0),g=r(g,C,4,hce(E));const x=`url(data:font/opentype;base64,${btoa(g)});`,I=`@font-face {font-family:"${h}";src:${x}}`;this.insertRule(I);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const R of[e.loadedName,h]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=R,T.append(M)}this._document.body.append(T),d(h,()=>{T.remove(),t.complete()})}}gm=new WeakMap;var $t;class Dce{constructor(e,t=null,i,r){F(this,$t);this.compiledGlyphs=Object.create(null),_(this,$t,e),this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${_6(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(a){Xe(`getPathGenerator - ignoring character: "${a}".`)}const s=F6(r);return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return f(this,$t).black}get bold(){return f(this,$t).bold}get disableFontFace(){return f(this,$t).disableFontFace??!1}set disableFontFace(e){Je(this,"disableFontFace",!!e)}get fontExtraProperties(){return f(this,$t).fontExtraProperties??!1}get isInvalidPDFjsFont(){return f(this,$t).isInvalidPDFjsFont}get isType3Font(){return f(this,$t).isType3Font}get italic(){return f(this,$t).italic}get missingFile(){return f(this,$t).missingFile}get remeasure(){return f(this,$t).remeasure}get vertical(){return f(this,$t).vertical}get ascent(){return f(this,$t).ascent}get defaultWidth(){return f(this,$t).defaultWidth}get descent(){return f(this,$t).descent}get bbox(){return f(this,$t).bbox}set bbox(e){Je(this,"bbox",e)}get fontMatrix(){return f(this,$t).fontMatrix}get fallbackName(){return f(this,$t).fallbackName}get loadedName(){return f(this,$t).loadedName}get mimetype(){return f(this,$t).mimetype}get name(){return f(this,$t).name}get data(){return f(this,$t).data}clearData(){f(this,$t).clearData()}get cssFontInfo(){return f(this,$t).cssFontInfo}get systemFontInfo(){return f(this,$t).systemFontInfo}get defaultVMetrics(){return f(this,$t).defaultVMetrics}}$t=new WeakMap;var mm,vm,xC,ym,Rx;const Dg=class Dg{constructor(e){F(this,ym);F(this,mm);F(this,vm);F(this,xC);_(this,mm,e),_(this,vm,new DataView(f(this,mm))),_(this,xC,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const u of Dg.strings){const d=t.encode(e[u]);i[u]=d,r+=4+d.length}const s=new ArrayBuffer(r),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const u of Dg.strings){const d=i[u],h=d.length;o.setUint32(l,h),a.set(d,l+4),l+=4+h}return Ct(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return U(this,ym,Rx).call(this,0)}get fontWeight(){return U(this,ym,Rx).call(this,1)}get italicAngle(){return U(this,ym,Rx).call(this,2)}};mm=new WeakMap,vm=new WeakMap,xC=new WeakMap,ym=new WeakSet,Rx=function(e){Ct(e<Dg.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=f(this,vm).getUint32(t)+4;const i=f(this,vm).getUint32(t);return f(this,xC).decode(new Uint8Array(f(this,mm),t+4,i))},ge(Dg,"strings",["fontFamily","fontWeight","italicAngle"]);let k_=Dg;var xc,Wo,Gf,zf,H0;const Ng=class Ng{constructor(e){F(this,zf);F(this,xc);F(this,Wo);F(this,Gf);_(this,xc,e),_(this,Wo,new DataView(f(this,xc))),_(this,Gf,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const g of Ng.strings){const v=t.encode(e[g]);i[g]=v,r+=4+v.length}r+=4;let s,a,o=1+r;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,r=0;for(const g of Ng.strings){const v=i[g],C=v.length;r+=4+C,d.setUint32(h,C),u.set(v,h+4),h+=4+C}return d.setUint32(h-r-4,r),e.style&&(d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),u.set(a,h+4),h+=4+a.length),Ct(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return f(this,Wo).getUint8(0)!==0}get css(){return U(this,zf,H0).call(this,0)}get loadedName(){return U(this,zf,H0).call(this,1)}get baseFontName(){return U(this,zf,H0).call(this,2)}get src(){return U(this,zf,H0).call(this,3)}get style(){let e=1;e+=4+f(this,Wo).getUint32(e);const t=f(this,Wo).getUint32(e),i=f(this,Gf).decode(new Uint8Array(f(this,xc),e+4,t));e+=4+t;const r=f(this,Wo).getUint32(e),s=f(this,Gf).decode(new Uint8Array(f(this,xc),e+4,r));return{style:i,weight:s}}};xc=new WeakMap,Wo=new WeakMap,Gf=new WeakMap,zf=new WeakSet,H0=function(e){Ct(e<Ng.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=f(this,Wo).getUint32(t)+4;const i=f(this,Wo).getUint32(t);return f(this,Gf).decode(new Uint8Array(f(this,xc),t+4,i))},ge(Ng,"strings",["css","loadedName","baseFontName","src"]);let H_=Ng;var wm,Cm,bm,Bm,xs,Yo,_C,jt,Hn,Ja,Dx,V0;const nt=class nt{constructor({data:e,extra:t}){F(this,Hn);F(this,Yo);F(this,_C);F(this,jt);_(this,Yo,e),_(this,_C,new TextDecoder),_(this,jt,new DataView(f(this,Yo))),t&&Object.assign(this,t)}get black(){return U(this,Hn,Ja).call(this,0)}get bold(){return U(this,Hn,Ja).call(this,1)}get disableFontFace(){return U(this,Hn,Ja).call(this,2)}get fontExtraProperties(){return U(this,Hn,Ja).call(this,3)}get isInvalidPDFjsFont(){return U(this,Hn,Ja).call(this,4)}get isType3Font(){return U(this,Hn,Ja).call(this,5)}get italic(){return U(this,Hn,Ja).call(this,6)}get missingFile(){return U(this,Hn,Ja).call(this,7)}get remeasure(){return U(this,Hn,Ja).call(this,8)}get vertical(){return U(this,Hn,Ja).call(this,9)}get ascent(){return U(this,Hn,Dx).call(this,0)}get defaultWidth(){return U(this,Hn,Dx).call(this,1)}get descent(){return U(this,Hn,Dx).call(this,2)}get bbox(){let e=f(nt,Cm);if(f(this,jt).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(f(this,jt).getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=f(nt,bm);if(f(this,jt).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(f(this,jt).getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=f(nt,Bm);if(f(this,jt).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(f(this,jt).getInt16(e,!0)),e+=2;return i}get fallbackName(){return U(this,Hn,V0).call(this,0)}get loadedName(){return U(this,Hn,V0).call(this,1)}get mimetype(){return U(this,Hn,V0).call(this,2)}get name(){return U(this,Hn,V0).call(this,3)}get data(){let e=f(nt,xs);const t=f(this,jt).getUint32(e);e+=4+t;const i=f(this,jt).getUint32(e);e+=4+i;const r=f(this,jt).getUint32(e);e+=4+r;const s=f(this,jt).getUint32(e);if(s!==0)return new Uint8Array(f(this,Yo),e+4,s)}clearData(){let e=f(nt,xs);const t=f(this,jt).getUint32(e);e+=4+t;const i=f(this,jt).getUint32(e);e+=4+i;const r=f(this,jt).getUint32(e);e+=4+r;const s=f(this,jt).getUint32(e);new Uint8Array(f(this,Yo),e+4,s).fill(0),f(this,jt).setUint32(e,0)}get cssFontInfo(){let e=f(nt,xs);const t=f(this,jt).getUint32(e);e+=4+t;const i=f(this,jt).getUint32(e);e+=4+i;const r=f(this,jt).getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(f(this,Yo),e+4,r)),new k_(s.buffer)}get systemFontInfo(){let e=f(nt,xs);const t=f(this,jt).getUint32(e);e+=4+t;const i=f(this,jt).getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(f(this,Yo),e+4,i)),new H_(r.buffer)}static write(e){const t=e.systemFontInfo?H_.write(e.systemFontInfo):null,i=e.cssFontInfo?k_.write(e.cssFontInfo):null,r=new TextEncoder,s={};let a=0;for(const b of nt.strings)s[b]=r.encode(e[b]),a+=4+s[b].length;const o=f(nt,xs)+4+a+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;const g=nt.bools.length;let v=0,C=0;for(let b=0;b<g;b++){const E=e[nt.bools[b]];v|=(E===void 0?0:E?2:1)<<C,C+=2,(C===8||b===g-1)&&(d.setUint8(h++,v),v=0,C=0)}Ct(h===f(nt,wm),"FontInfo.write: Boolean properties offset mismatch");for(const b of nt.numbers)d.setFloat64(h,e[b]),h+=8;if(Ct(h===f(nt,Cm),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const b of e.bbox)d.setInt16(h,b,!0),h+=2}else d.setUint8(h++,0),h+=8;if(Ct(h===f(nt,bm),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const b of e.fontMatrix)d.setFloat64(h,b,!0),h+=8}else d.setUint8(h++,0),h+=48;if(Ct(h===f(nt,Bm),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const b of e.defaultVMetrics)d.setInt16(h,b,!0),h+=2}else d.setUint8(h++,0),h+=6;Ct(h===f(nt,xs),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(f(nt,xs),0),h+=4;for(const b of nt.strings){const E=s[b],x=E.length;d.setUint32(h,x),u.set(E,h+4),h+=4+x}if(d.setUint32(f(nt,xs),h-f(nt,xs)-4),!t)d.setUint32(h,0),h+=4;else{const b=t.byteLength;d.setUint32(h,b),Ct(h+4+b<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+b}if(!i)d.setUint32(h,0),h+=4;else{const b=i.byteLength;d.setUint32(h,b),Ct(h+4+b<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(i),h+4),h+=4+b}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),Ct(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};wm=new WeakMap,Cm=new WeakMap,bm=new WeakMap,Bm=new WeakMap,xs=new WeakMap,Yo=new WeakMap,_C=new WeakMap,jt=new WeakMap,Hn=new WeakSet,Ja=function(e){Ct(e<nt.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=f(this,jt).getUint8(t)>>i&3;return r===0?void 0:r===2},Dx=function(e){return Ct(e<nt.numbers.length,"Invalid number index"),f(this,jt).getFloat64(f(nt,wm)+e*8)},V0=function(e){Ct(e<nt.strings.length,"Invalid string index");let t=f(nt,xs)+4;for(let s=0;s<e;s++)t+=f(this,jt).getUint32(t)+4;const i=f(this,jt).getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(f(this,Yo),t+4,i)),f(this,_C).decode(r)},ge(nt,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),ge(nt,"numbers",["ascent","defaultWidth","descent"]),ge(nt,"strings",["fallbackName","loadedName","mimetype","name"]),F(nt,wm,Math.ceil(nt.bools.length*2/8)),F(nt,Cm,f(nt,wm)+nt.numbers.length*8),F(nt,bm,f(nt,Cm)+1+8),F(nt,Bm,f(nt,bm)+1+48),F(nt,xs,f(nt,Bm)+1+6);let XR=nt;var TC,IC,FC,UC,MC,PC,RC,DC;const An=class An{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,i=null,r=[],s=[],a=[],o=[],l=null,u=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,i=e[2],a=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],r=e[2],s=e[3],o=e[4]||[],i=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(r.length/2),h=Math.floor(s.length/3),g=a.length,v=o.length;let C=0;for(const M of o)C+=1,C=Math.ceil(C/4)*4,C+=4+M.coords.length*4,C+=4+M.colors.length*4,M.verticesPerRow!==void 0&&(C+=4);const b=20+d*8+h*3+g*8+(i?16:0)+(u?3:0)+C,E=new ArrayBuffer(b),x=new DataView(E),I=new Uint8Array(E);x.setUint8(f(An,TC),t),x.setUint8(f(An,IC),i?1:0),x.setUint8(f(An,FC),u?1:0),x.setUint8(f(An,UC),l),x.setUint32(f(An,MC),d,!0),x.setUint32(f(An,PC),h,!0),x.setUint32(f(An,RC),g,!0),x.setUint32(f(An,DC),v,!0);let T=20;new Float32Array(E,T,d*2).set(r),T+=d*8,I.set(s,T),T+=h*3;for(const[M,D]of a)x.setFloat32(T,M,!0),T+=4,x.setUint32(T,parseInt(D.slice(1),16),!0),T+=4;if(i)for(const M of i)x.setFloat32(T,M,!0),T+=4;u&&(I.set(u,T),T+=3);for(let M=0;M<o.length;M++){const D=o[M];x.setUint8(T,D.type),T+=1,T=Math.ceil(T/4)*4,x.setUint32(T,D.coords.length,!0),T+=4,new Int32Array(E,T,D.coords.length).set(D.coords),T+=D.coords.length*4,x.setUint32(T,D.colors.length,!0),T+=4,new Int32Array(E,T,D.colors.length).set(D.colors),T+=D.colors.length*4,D.verticesPerRow!==void 0&&(x.setUint32(T,D.verticesPerRow,!0),T+=4)}return E}getIR(){const e=this.view,t=this.data[f(An,TC)],i=!!this.data[f(An,IC)],r=!!this.data[f(An,FC)],s=e.getUint32(f(An,MC),!0),a=e.getUint32(f(An,PC),!0),o=e.getUint32(f(An,RC),!0),l=e.getUint32(f(An,DC),!0);let u=20;const d=new Float32Array(this.buffer,u,s*2);u+=s*8;const h=new Uint8Array(this.buffer,u,a*3);u+=a*3;const g=[];for(let E=0;E<o;++E){const x=e.getFloat32(u,!0);u+=4;const I=e.getUint32(u,!0);u+=4,g.push([x,`#${I.toString(16).padStart(6,"0")}`])}let v=null;if(i){v=[];for(let E=0;E<4;++E)v.push(e.getFloat32(u,!0)),u+=4}let C=null;r&&(C=new Uint8Array(this.buffer,u,3),u+=3);const b=[];for(let E=0;E<l;++E){const x=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const I=e.getUint32(u,!0);u+=4;const T=new Int32Array(this.buffer,u,I);u+=I*4;const R=e.getUint32(u,!0);u+=4;const M=new Int32Array(this.buffer,u,R);u+=R*4;const D={type:x,coords:T,colors:M};x===_R.LATTICE&&(D.verticesPerRow=e.getUint32(u,!0),u+=4),b.push(D)}if(t===1)return["RadialAxial","axial",v,g,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",v,g,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(t===3){const E=this.data[f(An,UC)];let x=null;if(d.length>0){let I=d[0],T=d[0],R=d[1],M=d[1];for(let D=0;D<d.length;D+=2){const L=d[D],H=d[D+1];I=I>L?L:I,R=R>H?H:R,T=T<L?L:T,M=M<H?H:M}x=[I,R,T,M]}return["Mesh",E,d,h,b,x,v,C]}throw new Error(`Unsupported pattern kind: ${t}`)}};TC=new WeakMap,IC=new WeakMap,FC=new WeakMap,UC=new WeakMap,MC=new WeakMap,PC=new WeakMap,RC=new WeakMap,DC=new WeakMap,F(An,TC,0),F(An,IC,1),F(An,FC,2),F(An,UC,3),F(An,MC,4),F(An,PC,8),F(An,RC,12),F(An,DC,16);let JR=An;function Nce(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Rr)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Lce(n){if(Rr&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return IB(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function bS(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const ZR=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,Qce=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",Oce=yce.bind(null,ZR,Qce);var cl,n1;class kce{constructor(){F(this,cl,new Map);F(this,n1,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};f(this,n1).then(()=>{for(const[r]of f(this,cl))r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){Xe("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}f(this,cl).set(t,r)}removeEventListener(e,t){const i=f(this,cl).get(t);i==null||i(),f(this,cl).delete(t)}terminate(){for(const[,e]of f(this,cl))e==null||e();f(this,cl).clear()}}cl=new WeakMap,n1=new WeakMap;const BS={DATA:1,ERROR:2},ii={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function gK(){}function Wr(n){if(n instanceof Sd||n instanceof TR||n instanceof AK||n instanceof Q_||n instanceof WU)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||an('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Sd(n.message);case"InvalidPDFException":return new TR(n.message);case"PasswordException":return new AK(n.message,n.code);case"ResponseException":return new Q_(n.message,n.status,n.missing);case"UnknownErrorException":return new WU(n.message,n.details)}return new WU(n.message,n.toString())}var Em,ka,dj,fj,hj,Nx;class K0{constructor(e,t,i){F(this,ka);F(this,Em,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",U(this,ka,dj).bind(this),{signal:f(this,Em).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:ii.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Ct(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:ii.CANCEL,streamId:s,reason:Wr(u)}),d.promise}},i)}destroy(){var e;(e=f(this,Em))==null||e.abort(),_(this,Em,null)}}Em=new WeakMap,ka=new WeakSet,dj=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){U(this,ka,hj).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===BS.DATA)r.resolve(e.data);else if(e.callback===BS.ERROR)r.reject(Wr(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:i,targetName:r,callback:BS.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:i,targetName:r,callback:BS.ERROR,callbackId:e.callbackId,reason:Wr(a)})});return}if(e.streamId){U(this,ka,fj).call(this,e);return}t(e.data)},fj=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:ii.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:ii.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Ct(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:ii.ERROR,streamId:t,reason:Wr(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ii.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:ii.START_COMPLETE,streamId:t,reason:Wr(u)})})},hj=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case ii.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Wr(e.reason));break;case ii.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Wr(e.reason));break;case ii.PULL:if(!o){s.postMessage({sourceName:i,targetName:r,stream:ii.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||gK).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ii.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:ii.PULL_COMPLETE,streamId:t,reason:Wr(u)})});break;case ii.ENQUEUE:if(Ct(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case ii.CLOSE:if(Ct(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),U(this,ka,Nx).call(this,a,t);break;case ii.ERROR:Ct(a,"error should have stream controller"),a.controller.error(Wr(e.reason)),U(this,ka,Nx).call(this,a,t);break;case ii.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Wr(e.reason)),U(this,ka,Nx).call(this,a,t);break;case ii.CANCEL:if(!o)break;const l=Wr(e.reason);Promise.try(o.onCancel||gK,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ii.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:ii.CANCEL_COMPLETE,streamId:t,reason:Wr(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Nx=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var NC;class pj{constructor({enableHWA:e=!1}){F(this,NC,!1);_(this,NC,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!f(this,NC)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){an("Abstract method `_createCanvas` called.")}}NC=new WeakMap;class Hce extends pj{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class gj{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){an("Abstract method `_fetch` called.")}}class mK extends gj{async _fetch(e){const t=await FB(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):IB(t)}}class mj{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var qf,Sm,dl,fl,pr,$f,jf,Ie,cr,G0,mg,Lx,vg,vj,eD,yg,z0,q0,tD,$0;class Vce extends mj{constructor({docId:t,ownerDocument:i=globalThis.document}){super();F(this,Ie);F(this,qf);F(this,Sm);F(this,dl);F(this,fl);F(this,pr);F(this,$f);F(this,jf,0);_(this,fl,t),_(this,pr,i)}addFilter(t){if(!t)return"none";let i=f(this,Ie,cr).get(t);if(i)return i;const[r,s,a]=U(this,Ie,Lx).call(this,t),o=t.length===1?r:`${r}${s}${a}`;if(i=f(this,Ie,cr).get(o),i)return f(this,Ie,cr).set(t,i),i;const l=`g_${f(this,fl)}_transfer_map_${zn(this,jf)._++}`,u=U(this,Ie,vg).call(this,l);f(this,Ie,cr).set(t,u),f(this,Ie,cr).set(o,u);const d=U(this,Ie,yg).call(this,l);return U(this,Ie,q0).call(this,r,s,a,d),u}addHCMFilter(t,i){var C;const r=`${t}-${i}`,s="base";let a=f(this,Ie,G0).get(s);if((a==null?void 0:a.key)===r||(a?((C=a.filter)==null||C.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},f(this,Ie,G0).set(s,a)),!t||!i))return a.url;const o=U(this,Ie,$0).call(this,t);t=De.makeHexColor(...o);const l=U(this,Ie,$0).call(this,i);if(i=De.makeHexColor(...l),f(this,Ie,mg).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return a.url;const u=new Array(256);for(let b=0;b<=255;b++){const E=b/255;u[b]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const d=u.join(","),h=`g_${f(this,fl)}_hcm_filter`,g=a.filter=U(this,Ie,yg).call(this,h);U(this,Ie,q0).call(this,d,d,d,g),U(this,Ie,eD).call(this,g);const v=(b,E)=>{const x=o[b]/255,I=l[b]/255,T=new Array(E+1);for(let R=0;R<=E;R++)T[R]=x+R/E*(I-x);return T.join(",")};return U(this,Ie,q0).call(this,v(0,5),v(1,5),v(2,5),g),a.url=U(this,Ie,vg).call(this,h),a.url}addAlphaFilter(t){let i=f(this,Ie,cr).get(t);if(i)return i;const[r]=U(this,Ie,Lx).call(this,[t]),s=`alpha_${r}`;if(i=f(this,Ie,cr).get(s),i)return f(this,Ie,cr).set(t,i),i;const a=`g_${f(this,fl)}_alpha_map_${zn(this,jf)._++}`,o=U(this,Ie,vg).call(this,a);f(this,Ie,cr).set(t,o),f(this,Ie,cr).set(s,o);const l=U(this,Ie,yg).call(this,a);return U(this,Ie,tD).call(this,r,l),o}addLuminosityFilter(t){let i=f(this,Ie,cr).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=U(this,Ie,Lx).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=f(this,Ie,cr).get(s),i)return f(this,Ie,cr).set(t,i),i;const a=`g_${f(this,fl)}_luminosity_map_${zn(this,jf)._++}`,o=U(this,Ie,vg).call(this,a);f(this,Ie,cr).set(t,o),f(this,Ie,cr).set(s,o);const l=U(this,Ie,yg).call(this,a);return U(this,Ie,vj).call(this,l),t&&U(this,Ie,tD).call(this,r,l),o}addHighlightHCMFilter(t,i,r,s,a){var I;const o=`${i}-${r}-${s}-${a}`;let l=f(this,Ie,G0).get(t);if((l==null?void 0:l.key)===o||(l?((I=l.filter)==null||I.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},f(this,Ie,G0).set(t,l)),!i||!r))return l.url;const[u,d]=[i,r].map(U(this,Ie,$0).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,C]=[s,a].map(U(this,Ie,$0).bind(this));g<h&&([h,g,v,C]=[g,h,C,v]),f(this,Ie,mg).style.color="";const b=(T,R,M)=>{const D=new Array(256),L=(g-h)/M,H=T/255,O=(R-T)/(255*M);let K=0;for(let V=0;V<=M;V++){const $=Math.round(h+V*L),ne=H+V*O;for(let oe=K;oe<=$;oe++)D[oe]=ne;K=$+1}for(let V=K;V<256;V++)D[V]=D[K-1];return D.join(",")},E=`g_${f(this,fl)}_hcm_${t}_filter`,x=l.filter=U(this,Ie,yg).call(this,E);return U(this,Ie,eD).call(this,x),U(this,Ie,q0).call(this,b(v[0],C[0],5),b(v[1],C[1],5),b(v[2],C[2],5),x),l.url=U(this,Ie,vg).call(this,E),l.url}destroy(t=!1){var i,r,s,a;t&&((i=f(this,$f))!=null&&i.size)||((r=f(this,dl))==null||r.parentNode.parentNode.remove(),_(this,dl,null),(s=f(this,Sm))==null||s.clear(),_(this,Sm,null),(a=f(this,$f))==null||a.clear(),_(this,$f,null),_(this,jf,0))}}qf=new WeakMap,Sm=new WeakMap,dl=new WeakMap,fl=new WeakMap,pr=new WeakMap,$f=new WeakMap,jf=new WeakMap,Ie=new WeakSet,cr=function(){return f(this,Sm)||_(this,Sm,new Map)},G0=function(){return f(this,$f)||_(this,$f,new Map)},mg=function(){if(!f(this,dl)){const t=f(this,pr).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=f(this,pr).createElementNS(qA,"svg");r.setAttribute("width",0),r.setAttribute("height",0),_(this,dl,f(this,pr).createElementNS(qA,"defs")),t.append(r),r.append(f(this,dl)),f(this,pr).body.append(t)}return f(this,dl)},Lx=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let g=0;g<256;g++)d[g]=u[g]/255;const h=d.join(",");return[h,h,h]}const[i,r,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=i[u]/255,o[u]=r[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},vg=function(t){if(f(this,qf)===void 0){_(this,qf,"");const i=f(this,pr).URL;i!==f(this,pr).baseURI&&(_1(i)?Xe('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,qf,E6(i,"")))}return`url(${f(this,qf)}#${t})`},vj=function(t){const i=f(this,pr).createElementNS(qA,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},eD=function(t){const i=f(this,pr).createElementNS(qA,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},yg=function(t){const i=f(this,pr).createElementNS(qA,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),f(this,Ie,mg).append(i),i},z0=function(t,i,r){const s=f(this,pr).createElementNS(qA,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},q0=function(t,i,r,s){const a=f(this,pr).createElementNS(qA,"feComponentTransfer");s.append(a),U(this,Ie,z0).call(this,a,"feFuncR",t),U(this,Ie,z0).call(this,a,"feFuncG",i),U(this,Ie,z0).call(this,a,"feFuncB",r)},tD=function(t,i){const r=f(this,pr).createElementNS(qA,"feComponentTransfer");i.append(r),U(this,Ie,z0).call(this,r,"feFuncA",t)},$0=function(t){return f(this,Ie,mg).style.color=t,MB(getComputedStyle(f(this,Ie,mg)).getPropertyValue("color"))};class yj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){an("Abstract method `_fetch` called.")}}class vK extends yj{async _fetch(e){const t=await FB(e,"arraybuffer");return new Uint8Array(t)}}class wj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){an("Abstract method `_fetch` called.")}}class yK extends wj{async _fetch(e){const t=await FB(e,"arraybuffer");return new Uint8Array(t)}}Rr&&Xe("Please use the `legacy` build in Node.js environments.");async function xQ(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class Kce extends mj{}class Gce extends pj{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class zce extends gj{async _fetch(e){return xQ(e)}}class qce extends yj{async _fetch(e){return xQ(e)}}class $ce extends wj{async _fetch(e){return xQ(e)}}const rg="__forcedDependency",{floor:wK,ceil:CK}=Math;function ES(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const nD=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var xm,_c;class jce{constructor(e,t){F(this,xm);F(this,_c);_(this,xm,e),_(this,_c,t)}get length(){return f(this,xm).length}isEmpty(e){return f(this,xm)[e]===nD}minX(e){return f(this,_c)[e*4+0]/256}minY(e){return f(this,_c)[e*4+1]/256}maxX(e){return(f(this,_c)[e*4+2]+1)/256}maxY(e){return(f(this,_c)[e*4+3]+1)/256}}xm=new WeakMap,_c=new WeakMap;const SS=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var Jr,Zr,Wf,io,Yf,hl,Ot,Wt,pl,es,LC,_m,Xf,Jf,gl,gr,Xo,QC,iD;class Wce{constructor(e,t,i=!1){F(this,QC);F(this,Jr,{__proto__:null});F(this,Zr,{__proto__:null,transform:[],moveText:[],sameLineText:[],[rg]:[]});F(this,Wf,new Map);F(this,io,[]);F(this,Yf,[]);F(this,hl,[[1,0,0,1,0,0]]);F(this,Ot,[-1/0,-1/0,1/0,1/0]);F(this,Wt,new Float64Array([1/0,1/0,-1/0,-1/0]));F(this,pl,-1);F(this,es,new Set);F(this,LC,new Map);F(this,_m,new Map);F(this,Xf);F(this,Jf);F(this,gl);F(this,gr);F(this,Xo);_(this,Xf,e.width),_(this,Jf,e.height),U(this,QC,iD).call(this,t),i&&_(this,Xo,new Map)}growOperationsCount(e){e>=f(this,gr).length&&U(this,QC,iD).call(this,e,f(this,gr))}save(e){return _(this,Jr,{__proto__:f(this,Jr)}),_(this,Zr,{__proto__:f(this,Zr),transform:{__proto__:f(this,Zr).transform},moveText:{__proto__:f(this,Zr).moveText},sameLineText:{__proto__:f(this,Zr).sameLineText},[rg]:{__proto__:f(this,Zr)[rg]}}),_(this,Ot,{__proto__:f(this,Ot)}),f(this,io).push(e),this}restore(e){var r;const t=Object.getPrototypeOf(f(this,Jr));if(t===null)return this;_(this,Jr,t),_(this,Zr,Object.getPrototypeOf(f(this,Zr))),_(this,Ot,Object.getPrototypeOf(f(this,Ot)));const i=f(this,io).pop();return i!==void 0&&((r=SS(f(this,Xo),e))==null||r.dependencies.add(i),f(this,gr)[e]=f(this,gr)[i]),this}recordOpenMarker(e){return f(this,io).push(e),this}getOpenMarker(){return f(this,io).length===0?null:f(this,io).at(-1)}recordCloseMarker(e){var i;const t=f(this,io).pop();return t!==void 0&&((i=SS(f(this,Xo),e))==null||i.dependencies.add(t),f(this,gr)[e]=f(this,gr)[t]),this}beginMarkedContent(e){return f(this,Yf).push(e),this}endMarkedContent(e){var i;const t=f(this,Yf).pop();return t!==void 0&&((i=SS(f(this,Xo),e))==null||i.dependencies.add(t),f(this,gr)[e]=f(this,gr)[t]),this}pushBaseTransform(e){return f(this,hl).push(De.multiplyByDOMMatrix(f(this,hl).at(-1),e.getTransform())),this}popBaseTransform(){return f(this,hl).length>1&&f(this,hl).pop(),this}recordSimpleData(e,t){return f(this,Jr)[e]=t,this}recordIncrementalData(e,t){return f(this,Zr)[e].push(t),this}resetIncrementalData(e,t){return f(this,Zr)[e].length=0,this}recordNamedData(e,t){return f(this,Wf).set(e,t),this}recordSimpleDataFromNamed(e,t,i){f(this,Jr)[e]=f(this,Wf).get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(rg,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in f(this,Jr)&&this.recordFutureForcedDependency(t,f(this,Jr)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of f(this,es))this.recordFutureForcedDependency(rg,e);return this}resetBBox(e){return f(this,pl)!==e&&(_(this,pl,e),f(this,Wt)[0]=1/0,f(this,Wt)[1]=1/0,f(this,Wt)[2]=-1/0,f(this,Wt)[3]=-1/0),this}recordClipBox(e,t,i,r,s,a){const o=De.multiplyByDOMMatrix(f(this,hl).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];De.axialAlignedBoundingBox([i,s,r,a],o,l);const u=De.intersect(f(this,Ot),l);return u?(f(this,Ot)[0]=u[0],f(this,Ot)[1]=u[1],f(this,Ot)[2]=u[2],f(this,Ot)[3]=u[3]):(f(this,Ot)[0]=f(this,Ot)[1]=1/0,f(this,Ot)[2]=f(this,Ot)[3]=-1/0),this}recordBBox(e,t,i,r,s,a){const o=f(this,Ot);if(o[0]===1/0)return this;const l=De.multiplyByDOMMatrix(f(this,hl).at(-1),t.getTransform());if(o[0]===-1/0)return De.axialAlignedBoundingBox([i,s,r,a],l,f(this,Wt)),this;const u=[1/0,1/0,-1/0,-1/0];return De.axialAlignedBoundingBox([i,s,r,a],l,u),f(this,Wt)[0]=Math.min(f(this,Wt)[0],Math.max(u[0],o[0])),f(this,Wt)[1]=Math.min(f(this,Wt)[1],Math.max(u[1],o[1])),f(this,Wt)[2]=Math.max(f(this,Wt)[2],Math.min(u[2],o[2])),f(this,Wt)[3]=Math.max(f(this,Wt)[3],Math.min(u[3],o[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,a=0,o){const l=i.bbox;let u,d;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&f(this,_m).get(i),u!==!1&&(d=[0,0,0,0],De.axialAlignedBoundingBox(l,i.fontMatrix,d),(r!==1||s!==0||a!==0)&&De.scaleMinMax([r,0,0,-r,s,a],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return l&&d&&u===void 0&&(u=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=a-h.actualBoundingBoxAscent&&d[3]>=a+h.actualBoundingBoxDescent,f(this,_m).set(i,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return f(this,Wt)[0]=Math.max(0,f(this,Ot)[0]),f(this,Wt)[1]=Math.max(0,f(this,Ot)[1]),f(this,Wt)[2]=Math.min(f(this,Xf),f(this,Ot)[2]),f(this,Wt)[3]=Math.min(f(this,Jf),f(this,Ot)[3]),this}getSimpleIndex(e){return f(this,Jr)[e]}recordDependencies(e,t){const i=f(this,es),r=f(this,Jr),s=f(this,Zr);for(const a of t)a in f(this,Jr)?i.add(r[a]):a in s&&s[a].forEach(i.add,i);return this}recordNamedDependency(e,t){return f(this,Wf).has(t)&&f(this,es).add(f(this,Wf).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[rg]),f(this,Xo)){const i=SS(f(this,Xo),e),{dependencies:r}=i;f(this,es).forEach(r.add,r),f(this,io).forEach(r.add,r),f(this,Yf).forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(f(this,pl)===e){const i=wK(f(this,Wt)[0]*256/f(this,Xf)),r=wK(f(this,Wt)[1]*256/f(this,Jf)),s=CK(f(this,Wt)[2]*256/f(this,Xf)),a=CK(f(this,Wt)[3]*256/f(this,Jf));ES(f(this,gl),e,i,r,s,a);for(const o of f(this,es))o!==e&&ES(f(this,gl),o,i,r,s,a);for(const o of f(this,io))o!==e&&ES(f(this,gl),o,i,r,s,a);for(const o of f(this,Yf))o!==e&&ES(f(this,gl),o,i,r,s,a);t||(f(this,es).clear(),_(this,pl,-1))}return this}recordShowTextOperation(e,t=!1){const i=Array.from(f(this,es));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return f(this,pl)===e&&(_(this,pl,-1),f(this,Ot)[0]=Math.max(f(this,Ot)[0],f(this,Wt)[0]),f(this,Ot)[1]=Math.max(f(this,Ot)[1],f(this,Wt)[1]),f(this,Ot)[2]=Math.min(f(this,Ot)[2],f(this,Wt)[2]),f(this,Ot)[3]=Math.min(f(this,Ot)[3],f(this,Wt)[3]),t||f(this,es).clear()),this}_takePendingDependencies(){const e=f(this,es);return _(this,es,new Set),e}_extractOperation(e){const t=f(this,LC).get(e);return f(this,LC).delete(e),t}_pushPendingDependencies(e){for(const t of e)f(this,es).add(t)}take(){return f(this,_m).clear(),new jce(f(this,gr),f(this,gl))}takeDebugMetadata(){return f(this,Xo)}}Jr=new WeakMap,Zr=new WeakMap,Wf=new WeakMap,io=new WeakMap,Yf=new WeakMap,hl=new WeakMap,Ot=new WeakMap,Wt=new WeakMap,pl=new WeakMap,es=new WeakMap,LC=new WeakMap,_m=new WeakMap,Xf=new WeakMap,Jf=new WeakMap,gl=new WeakMap,gr=new WeakMap,Xo=new WeakMap,QC=new WeakSet,iD=function(e,t){const i=new ArrayBuffer(e*4);_(this,gl,new Uint8ClampedArray(i)),_(this,gr,new Uint32Array(i)),t&&t.length>0?(f(this,gr).set(t),f(this,gr).fill(nD,t.length)):f(this,gr).fill(nD)};var nn,Nn,ro,Tm,Im;const xk=class xk{constructor(e,t,i){F(this,nn);F(this,Nn);F(this,ro);F(this,Tm,0);F(this,Im,0);if(e instanceof xk&&f(e,ro)===!!i)return e;_(this,nn,e),_(this,Nn,t),_(this,ro,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(e){return zn(this,Im)._++,f(this,nn).save(f(this,Nn)),this}restore(e){return f(this,Im)>0&&(f(this,nn).restore(f(this,Nn)),zn(this,Im)._--),this}recordOpenMarker(e){return zn(this,Tm)._++,this}getOpenMarker(){return f(this,Tm)>0?f(this,Nn):f(this,nn).getOpenMarker()}recordCloseMarker(e){return zn(this,Tm)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return f(this,nn).pushBaseTransform(e),this}popBaseTransform(){return f(this,nn).popBaseTransform(),this}recordSimpleData(e,t){return f(this,nn).recordSimpleData(e,f(this,Nn)),this}recordIncrementalData(e,t){return f(this,nn).recordIncrementalData(e,f(this,Nn)),this}resetIncrementalData(e,t){return f(this,nn).resetIncrementalData(e,f(this,Nn)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return f(this,nn).recordSimpleDataFromNamed(e,t,f(this,Nn)),this}recordFutureForcedDependency(e,t){return f(this,nn).recordFutureForcedDependency(e,f(this,Nn)),this}inheritSimpleDataAsFutureForcedDependencies(e){return f(this,nn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return f(this,nn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return f(this,ro)||f(this,nn).resetBBox(f(this,Nn)),this}recordClipBox(e,t,i,r,s,a){return f(this,ro)||f(this,nn).recordClipBox(f(this,Nn),t,i,r,s,a),this}recordBBox(e,t,i,r,s,a){return f(this,ro)||f(this,nn).recordBBox(f(this,Nn),t,i,r,s,a),this}recordCharacterBBox(e,t,i,r,s,a,o){return f(this,ro)||f(this,nn).recordCharacterBBox(f(this,Nn),t,i,r,s,a,o),this}recordFullPageBBox(e){return f(this,ro)||f(this,nn).recordFullPageBBox(f(this,Nn)),this}getSimpleIndex(e){return f(this,nn).getSimpleIndex(e)}recordDependencies(e,t){return f(this,nn).recordDependencies(f(this,Nn),t),this}recordNamedDependency(e,t){return f(this,nn).recordNamedDependency(f(this,Nn),t),this}recordOperation(e){return f(this,nn).recordOperation(f(this,Nn),!0),this}recordShowTextOperation(e){return f(this,nn).recordShowTextOperation(f(this,Nn),!0),this}bboxToClipBoxDropOperation(e){return f(this,ro)||f(this,nn).bboxToClipBoxDropOperation(f(this,Nn),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};nn=new WeakMap,Nn=new WeakMap,ro=new WeakMap,Tm=new WeakMap,Im=new WeakMap;let V_=xk;const fa={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Zi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function rD(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class _Q{isModifyingCurrentTransform(){return!1}getPattern(){an("Abstract method `getPattern` called.")}}class Yce extends _Q{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===Zi.STROKE||r===Zi.FILL){const a=t.current.getClippedPathBoundingBox(r,In(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),i=De.transform(i,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),rD(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(i);s.setTransform(h)}else rD(e,this._bbox),s=this._createGradient(e);return s}}function JU(n,e,t,i,r,s,a,o){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let g;l[t+1]>l[i+1]&&(g=t,t=i,i=g,g=s,s=a,a=g),l[i+1]>l[r+1]&&(g=i,i=r,r=g,g=a,a=o,o=g),l[t+1]>l[i+1]&&(g=t,t=i,i=g,g=s,s=a,a=g);const v=(l[t]+e.offsetX)*e.scaleX,C=(l[t+1]+e.offsetY)*e.scaleY,b=(l[i]+e.offsetX)*e.scaleX,E=(l[i+1]+e.offsetY)*e.scaleY,x=(l[r]+e.offsetX)*e.scaleX,I=(l[r+1]+e.offsetY)*e.scaleY;if(C>=I)return;const T=u[s],R=u[s+1],M=u[s+2],D=u[a],L=u[a+1],H=u[a+2],O=u[o],K=u[o+1],V=u[o+2],$=Math.round(C),ne=Math.round(I);let oe,pe,G,z,ee,Z,me,q;for(let Y=$;Y<=ne;Y++){if(Y<E){const ve=Y<C?0:(C-Y)/(C-E);oe=v-(v-b)*ve,pe=T-(T-D)*ve,G=R-(R-L)*ve,z=M-(M-H)*ve}else{let ve;Y>I?ve=1:E===I?ve=0:ve=(E-Y)/(E-I),oe=b-(b-x)*ve,pe=D-(D-O)*ve,G=L-(L-K)*ve,z=H-(H-V)*ve}let X;Y<C?X=0:Y>I?X=1:X=(C-Y)/(C-I),ee=v-(v-x)*X,Z=T-(T-O)*X,me=R-(R-K)*X,q=M-(M-V)*X;const ce=Math.round(Math.min(oe,ee)),ye=Math.round(Math.max(oe,ee));let Ce=h*Y+ce*4;for(let ve=ce;ve<=ye;ve++)X=(oe-ve)/(oe-ee),X<0?X=0:X>1&&(X=1),d[Ce++]=pe-(pe-Z)*X|0,d[Ce++]=G-(G-me)*X|0,d[Ce++]=z-(z-q)*X|0,d[Ce++]=255}}function Xce(n,e,t){const i=e.coords,r=e.colors;let s,a;switch(e.type){case _R.LATTICE:const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,u=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<u;h++,d++)JU(n,t,i[d],i[d+1],i[d+o],r[d],r[d+1],r[d+o]),JU(n,t,i[d+o+1],i[d+1],i[d+o],r[d+o+1],r[d+1],r[d+o])}break;case _R.TRIANGLES:for(s=0,a=i.length;s<a;s+=3)JU(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class Jce extends _Q{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),v=u/h,C=d/g,b={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/v,scaleY:1/C},E=h+4,x=g+4,I=i.getCanvas("mesh",E,x),T=I.context,R=T.createImageData(h,g);if(t){const D=R.data;for(let L=0,H=D.length;L<H;L+=4)D[L]=t[0],D[L+1]=t[1],D[L+2]=t[2],D[L+3]=255}for(const D of this._figures)Xce(R,D,b);return T.putImageData(R,2,2),{canvas:I.canvas,offsetX:o-2*v,offsetY:l-2*C,scaleX:v,scaleY:C}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){rD(e,this._bbox);const s=new Float32Array(2);if(r===Zi.SHADING)De.singularValueDecompose2dScale(In(e),s);else if(this.matrix){De.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;De.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else De.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,r===Zi.SHADING?null:this._background,t.cachedCanvases);return r!==Zi.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class Zce extends _Q{getPattern(){return"hotpink"}}function ede(n){switch(n[0]){case"RadialAxial":return new Yce(n);case"Mesh":return new Jce(n);case"Dummy":return new Zce}throw new Error(`Unknown IR type: ${n[0]}`)}const bK={COLORED:1,UNCOLORED:2},i1=class i1{constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){var Z,me;const{bbox:i,operatorList:r,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),x1("TilingType: "+a);const h=i[0],g=i[1],v=i[2],C=i[3],b=v-h,E=C-g,x=new Float32Array(2);De.singularValueDecompose2dScale(this.matrix,x);const[I,T]=x;De.singularValueDecompose2dScale(this.baseTransform,x);const R=I*x[0],M=T*x[1];let D=b,L=E,H=!1,O=!1;const K=Math.ceil(u*R),V=Math.ceil(d*M),$=Math.ceil(b*R),ne=Math.ceil(E*M);K>=$?D=u:H=!0,V>=ne?L=d:O=!0;const oe=this.getSizeAndScale(D,this.ctx.canvas.width,R),pe=this.getSizeAndScale(L,this.ctx.canvas.height,M),G=e.cachedCanvases.getCanvas("pattern",oe.size,pe.size),z=G.context,ee=l.createCanvasGraphics(z,t);if(ee.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ee,s,o),z.translate(-oe.scale*h,-pe.scale*g),ee.transform(0,oe.scale,0,0,pe.scale,0,0),z.save(),(Z=ee.dependencyTracker)==null||Z.save(),this.clipBbox(ee,h,g,v,C),ee.baseTransform=In(ee.ctx),ee.executeOperatorList(r),ee.endDrawing(),(me=ee.dependencyTracker)==null||me.restore(),z.restore(),H||O){const q=G.canvas;H&&(D=u),O&&(L=d);const Y=this.getSizeAndScale(D,this.ctx.canvas.width,R),X=this.getSizeAndScale(L,this.ctx.canvas.height,M),ce=Y.size,ye=X.size,Ce=e.cachedCanvases.getCanvas("pattern-workaround",ce,ye),ve=Ce.context,je=H?Math.floor(b/u):0,se=O?Math.floor(E/d):0;for(let Pe=0;Pe<=je;Pe++)for(let Ve=0;Ve<=se;Ve++)ve.drawImage(q,ce*Pe,ye*Ve,ce,ye,0,0,ce,ye);return{canvas:Ce.canvas,scaleX:Y.scale,scaleY:X.scale,offsetX:h,offsetY:g}}return{canvas:G.canvas,scaleX:oe.scale,scaleY:pe.scale,offsetX:h,offsetY:g}}getSizeAndScale(e,t,i){const r=Math.max(i1.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const a=r-t,o=s-i;e.ctx.rect(t,i,a,o),De.axialAlignedBoundingBox([t,i,r,s],In(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case bK.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;r.fillStyle=s.fillColor=a,r.strokeStyle=s.strokeColor=o;break;case bK.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new fce(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let a=i;r!==Zi.SHADING&&(a=De.transform(a,t.baseTransform),this.matrix&&(a=De.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};ge(i1,"MAX_PATTERN_SIZE",3e3);let sD=i1;function tde({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=sr.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],d=i>>3,h=i&7,g=n.length;t=new Uint32Array(t.buffer);let v=0;for(let C=0;C<r;C++){for(const E=e+d;e<E;e++){const x=e<g?n[e]:255;t[v++]=x&128?u:l,t[v++]=x&64?u:l,t[v++]=x&32?u:l,t[v++]=x&16?u:l,t[v++]=x&8?u:l,t[v++]=x&4?u:l,t[v++]=x&2?u:l,t[v++]=x&1?u:l}if(h===0)continue;const b=e<g?n[e++]:255;for(let E=0;E<h;E++)t[v++]=b&1<<7-E?u:l}return{srcPos:e,destPos:v}}const BK=16,EK=100,nde=15,SK=10,as=16,ZU=new DOMMatrix,Ks=new Float32Array(2),Ug=new Float32Array([1/0,1/0,-1/0,-1/0]);function ide(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,a,o){e.transform(t,i,r,s,a,o),this.__originalTransform(t,i,r,s,a,o)},n.setTransform=function(t,i,r,s,a,o){e.setTransform(t,i,r,s,a,o),this.__originalSetTransform(t,i,r,s,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,a,o){e.bezierCurveTo(t,i,r,s,a,o),this.__originalBezierCurveTo(t,i,r,s,a,o)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class rde{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function xS(n,e,t,i,r,s,a,o,l,u){const[d,h,g,v,C,b]=In(n);if(h===0&&g===0){const I=a*d+C,T=Math.round(I),R=o*v+b,M=Math.round(R),D=(a+l)*d+C,L=Math.abs(Math.round(D)-T)||1,H=(o+u)*v+b,O=Math.abs(Math.round(H)-M)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(v),T,M),n.drawImage(e,t,i,r,s,0,0,L,O),n.setTransform(d,h,g,v,C,b),[L,O]}if(d===0&&v===0){const I=o*g+C,T=Math.round(I),R=a*h+b,M=Math.round(R),D=(o+u)*g+C,L=Math.abs(Math.round(D)-T)||1,H=(a+l)*h+b,O=Math.abs(Math.round(H)-M)||1;return n.setTransform(0,Math.sign(h),Math.sign(g),0,T,M),n.drawImage(e,t,i,r,s,0,0,O,L),n.setTransform(d,h,g,v,C,b),[O,L]}n.drawImage(e,t,i,r,s,a,o,l,u);const E=Math.hypot(d,h),x=Math.hypot(g,v);return[E*l,x*u]}class xK{constructor(e,t,i){ge(this,"alphaIsShape",!1);ge(this,"fontSize",0);ge(this,"fontSizeScale",1);ge(this,"textMatrix",null);ge(this,"textMatrixScale",1);ge(this,"fontMatrix",xR);ge(this,"leading",0);ge(this,"x",0);ge(this,"y",0);ge(this,"lineX",0);ge(this,"lineY",0);ge(this,"charSpacing",0);ge(this,"wordSpacing",0);ge(this,"textHScale",1);ge(this,"textRenderingMode",Gi.FILL);ge(this,"textRise",0);ge(this,"fillColor","#000000");ge(this,"strokeColor","#000000");ge(this,"patternFill",!1);ge(this,"patternStroke",!1);ge(this,"fillAlpha",1);ge(this,"strokeAlpha",1);ge(this,"lineWidth",1);ge(this,"activeSMask",null);ge(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Ug.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Zi.FILL,t=null){const i=this.minMax.slice();if(e===Zi.STROKE){t||an("Stroke bounding box must include transform."),De.singularValueDecompose2dScale(t,Ks);const r=Ks[0]*this.lineWidth/2,s=Ks[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=De.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Ug,0)}getClippedPathBoundingBox(e=Zi.FILL,t=null){return De.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function _K(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%as,s=(t-r)/as,a=r===0?s:s+1,o=n.createImageData(i,as);let l=0,u;const d=e.data,h=o.data;let g,v,C,b;if(e.kind===_x.GRAYSCALE_1BPP){const E=d.byteLength,x=new Uint32Array(h.buffer,0,h.byteLength>>2),I=x.length,T=i+7>>3,R=4294967295,M=sr.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(C=g<s?as:r,u=0,v=0;v<C;v++){const D=E-l;let L=0;const H=D>T?i:D*8-7,O=H&-8;let K=0,V=0;for(;L<O;L+=8)V=d[l++],x[u++]=V&128?R:M,x[u++]=V&64?R:M,x[u++]=V&32?R:M,x[u++]=V&16?R:M,x[u++]=V&8?R:M,x[u++]=V&4?R:M,x[u++]=V&2?R:M,x[u++]=V&1?R:M;for(;L<H;L++)K===0&&(V=d[l++],K=128),x[u++]=V&K?R:M,K>>=1}for(;u<I;)x[u++]=0;n.putImageData(o,0,g*as)}}else if(e.kind===_x.RGBA_32BPP){for(v=0,b=i*as*4,g=0;g<s;g++)h.set(d.subarray(l,l+b)),l+=b,n.putImageData(o,0,v),v+=as;g<a&&(b=i*r*4,h.set(d.subarray(l,l+b)),n.putImageData(o,0,v))}else if(e.kind===_x.RGB_24BPP)for(C=as,b=i*C,g=0;g<a;g++){for(g>=s&&(C=r,b=i*C),u=0,v=b;v--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(o,0,g*as)}else throw new Error(`bad image kind: ${e.kind}`)}function TK(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%as,s=(t-r)/as,a=r===0?s:s+1,o=n.createImageData(i,as);let l=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const g=h<s?as:r;({srcPos:l}=tde({src:u,srcPos:l,dest:d,width:i,height:g,nonBlackColor:0})),n.putImageData(o,0,h*as)}}function g0(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function _S(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function IK(n,e){if(e)return!0;De.singularValueDecompose2dScale(n,Ks);const t=Math.fround(ip.pixelRatio*Gv.PDF_TO_CSS_UNITS);return Ks[0]<=t&&Ks[1]<=t}const sde=["butt","round","square"],ade=["miter","round","bevel"],ode={},FK={};var bo,aD,oD,AD;const _k=class _k{constructor(e,t,i,r,s,{optionalContentConfig:a,markedContentStack:o=null},l,u,d){F(this,bo);this.ctx=e,this.current=new xK(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new rde(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,i=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...In(this.compositeCtx))}this.ctx.save(),_S(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=In(this.ctx)}executeOperatorList(e,t,i,r,s){var x;const a=e.argsArray,o=e.fnArray;let l=t||0;const u=a.length;if(u===l)return l;const d=u-l>SK&&typeof i=="function",h=d?Date.now()+nde:0;let g=0;const v=this.commonObjs,C=this.objs;let b,E;for(;;){if(r!==void 0&&l===r.nextBreakPoint)return r.breakIt(l,i),l;if(!s||s(l))if(b=o[l],E=a[l]??null,b!==Iw.dependency)E===null?this[b](l):this[b](l,...E);else for(const I of E){(x=this.dependencyTracker)==null||x.recordNamedData(I,l);const T=I.startsWith("g_")?v:C;if(!T.has(I))return T.get(I,i),l}if(l++,l===u)return l;if(d&&++g>SK){if(Date.now()>h)return i(),l;g=0}}}endDrawing(){U(this,bo,aD).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),U(this,bo,oD).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=i,l=r,u="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let g=o,v=l;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/v),d=this.cachedCanvases.getCanvas(u,g,v),h=d.context,h.clearRect(0,0,g,v),h.drawImage(e,0,0,o,l,0,0,g,v),e=d.canvas,o=g,l=v,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var K,V;const i=this.ctx,{width:r,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=In(i);let u,d,h,g;if((t.bitmap||t.data)&&t.count>1){const $=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),u=this._cachedBitmapsMap.get($),u||(u=new Map,this._cachedBitmapsMap.set($,u));const ne=u.get(d);if(ne&&!o){const oe=Math.round(Math.min(l[0],l[2])+l[4]),pe=Math.round(Math.min(l[1],l[3])+l[5]);return(K=this.dependencyTracker)==null||K.recordDependencies(e,fa.transformAndFill),{canvas:ne,offsetX:oe,offsetY:pe}}h=ne}h||(g=this.cachedCanvases.getCanvas("maskCanvas",r,s),TK(g.context,t));let v=De.transform(l,[1/r,0,0,-1/s,0,0]);v=De.transform(v,[1,0,0,1,0,-s]);const C=Ug.slice();De.axialAlignedBoundingBox([0,0,r,s],v,C);const[b,E,x,I]=C,T=Math.round(x-b)||1,R=Math.round(I-E)||1,M=this.cachedCanvases.getCanvas("fillCanvas",T,R),D=M.context,L=b,H=E;D.translate(-L,-H),D.transform(...v),h||(h=this._scaleImage(g.canvas,Do(D)),h=h.img,u&&o&&u.set(d,h)),D.imageSmoothingEnabled=IK(In(D),t.interpolate),xS(D,h,0,0,h.width,h.height,0,0,r,s),D.globalCompositeOperation="source-in";const O=De.transform(Do(D),[1,0,0,1,-L,-H]);return D.fillStyle=o?a.getPattern(i,this,O,Zi.FILL,e):a,D.fillRect(0,0,r,s),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,M.canvas)),(V=this.dependencyTracker)==null||V.recordDependencies(e,fa.transformAndFill),{canvas:M.canvas,offsetX:Math.round(L),offsetY:Math.round(H)}}setLineWidth(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",e),this.ctx.lineCap=sde[t]}setLineJoin(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",e),this.ctx.lineJoin=ade[t]}setMiterLimit(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var i,r,s,a,o;for(const[l,u]of t)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),g0(this.suspendedCtx,a),ide(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),g0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],a=r[1],o=r[2]-s,l=r[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,i,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,a,o,l,u,d,h){let g=e.canvas,v=l-d,C=u-h;if(a)if(v<0||C<0||v+i>g.width||C+r>g.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,r),x=E.context;x.drawImage(g,-v,-C),x.globalCompositeOperation="destination-atop",x.fillStyle=a,x.fillRect(0,0,i,r),x.globalCompositeOperation="source-over",g=E.canvas,v=C=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(v,C,i,r),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(v,C,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const b=new Path2D;b.rect(l,u,i,r),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(g,v,C,i,r,l,u,i,r),t.restore()}save(e){var i;this.inSMaskMode&&g0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(i=this.dependencyTracker)==null||i.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&g0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||(s=i[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===Iw.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-a,r[2]+a,r[1]-a,r[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=i[0]=F6(s)),De.axialAlignedBoundingBox(r,In(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){var a;const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Do(r),Zi.STROKE,e),o){const l=new Path2D;l.addPath(t,r.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,fa.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Zi.STROKE,In(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){var u,d,h;const r=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const g=s.isModifyingCurrentTransform()?r.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),r.save(),r.fillStyle=s.getPattern(r,this,Do(r),Zi.FILL,e),g){const v=new Path2D;v.addPath(t,r.getTransform().invertSelf().multiplySelf(g)),t=v}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,fa.fill),o&&(r.restore(),(h=this.dependencyTracker)==null||h.restore(e)),i&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var i;this.ctx.fill(t),(i=this.dependencyTracker)==null||i.recordDependencies(e,fa.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=ode}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=FK}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:u,path:d}of t)d&&r.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(u,-u));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){var h,g;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||xR,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Xe("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const a=r.loadedName||"sans-serif",o=((g=r.systemFontInfo)==null?void 0:g.css)||`"${a}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const u=r.italic?"italic":"normal";let d=i;i<BK?d=BK:i>EK&&(d=EK),this.current.fontSizeScale=i/d,this.ctx.font=`${u} ${l} ${d}px ${o}`}setTextRenderingMode(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,i,r,s,a){var x,I,T,R;const o=this.ctx,l=this.current,u=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,g=d&Gi.FILL_STROKE_MASK,v=!!(d&Gi.ADD_TO_PATH_FLAG),C=l.patternFill&&!u.missingFile,b=l.patternStroke&&!u.missingFile;let E;if((u.disableFontFace||v||C||b)&&!u.missingFile&&(E=u.getPathGenerator(this.commonObjs,t)),E&&(u.disableFontFace||C||b)){o.save(),o.translate(i,r),o.scale(h,-h),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,u);let M;if(g===Gi.FILL||g===Gi.FILL_STROKE)if(s){M=o.getTransform(),o.setTransform(...s);const D=U(this,bo,AD).call(this,E,M,s);o.fill(D)}else o.fill(E);if(g===Gi.STROKE||g===Gi.FILL_STROKE)if(a){M||(M=o.getTransform()),o.setTransform(...a);const{a:D,b:L,c:H,d:O}=M,K=De.inverseTransform(a),V=De.transform([D,L,H,O,0,0],K);De.singularValueDecompose2dScale(V,Ks),o.lineWidth*=Math.max(Ks[0],Ks[1])/h,o.stroke(U(this,bo,AD).call(this,E,M,a))}else o.lineWidth/=h,o.stroke(E);o.restore()}else(g===Gi.FILL||g===Gi.FILL_STROKE)&&(o.fillText(t,i,r),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(t))),(g===Gi.STROKE||g===Gi.FILL_STROKE)&&(this.dependencyTracker&&((T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(t)).recordDependencies(e,fa.stroke)),o.strokeText(t,i,r));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:In(o),x:i,y:r,fontSize:h,path:E}),(R=this.dependencyTracker)==null||R.recordCharacterBBox(e,o,u,h,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return Je(this,"isFontSubpixelAAEnabled",i)}showText(e,t){var H,O,K,V;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,fa.showText).resetBBox(e),this.current.textRenderingMode&Gi.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),(H=this.dependencyTracker)==null||H.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){(O=this.dependencyTracker)==null||O.recordOperation(e);return}const a=this.ctx,o=i.fontSizeScale,l=i.charSpacing,u=i.wordSpacing,d=i.fontDirection,h=i.textHScale*d,g=t.length,v=r.vertical,C=v?1:-1,b=r.defaultVMetrics,E=s*i.fontMatrix[0],x=i.textRenderingMode===Gi.FILL&&!r.disableFontFace&&!i.patternFill;a.save(),i.textMatrix&&a.transform(...i.textMatrix),a.translate(i.x,i.y+i.textRise),d>0?a.scale(h,-1):a.scale(h,1);let I,T;if(i.patternFill){a.save();const $=i.fillColor.getPattern(a,this,Do(a),Zi.FILL,e);I=In(a),a.restore(),a.fillStyle=$}if(i.patternStroke){a.save();const $=i.strokeColor.getPattern(a,this,Do(a),Zi.STROKE,e);T=In(a),a.restore(),a.strokeStyle=$}let R=i.lineWidth;const M=i.textMatrixScale;if(M===0||R===0){const $=i.textRenderingMode&Gi.FILL_STROKE_MASK;($===Gi.STROKE||$===Gi.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=M;if(o!==1&&(a.scale(o,o),R/=o),a.lineWidth=R,r.isInvalidPDFjsFont){const $=[];let ne=0;for(const pe of t)$.push(pe.unicode),ne+=pe.width;const oe=$.join("");if(a.fillText(oe,0,0),this.dependencyTracker!==null){const pe=a.measureText(oe);this.dependencyTracker.recordBBox(e,this.ctx,-pe.actualBoundingBoxLeft,pe.actualBoundingBoxRight,-pe.actualBoundingBoxAscent,pe.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=ne*E*h,a.restore(),this.compose();return}let D=0,L;for(L=0;L<g;++L){const $=t[L];if(typeof $=="number"){D+=C*$*s/1e3;continue}let ne=!1;const oe=($.isSpace?u:0)+l,pe=$.fontChar,G=$.accent;let z,ee,Z=$.width;if(v){const Y=$.vmetric||b,X=-($.vmetric?Y[1]:Z*.5)*E,ce=Y[2]*E;Z=Y?-Y[0]:Z,z=X/o,ee=(D+ce)/o}else z=D/o,ee=0;let me;if(r.remeasure&&Z>0){me=a.measureText(pe);const Y=me.width*1e3/s*o;if(Z<Y&&this.isFontSubpixelAAEnabled){const X=Z/Y;ne=!0,a.save(),a.scale(X,1),z/=X}else Z!==Y&&(z+=(Z-Y)/2e3*s/o)}if(this.contentVisible&&($.isInFont||r.missingFile)){if(x&&!G)a.fillText(pe,z,ee),(K=this.dependencyTracker)==null||K.recordCharacterBBox(e,a,me?{bbox:null}:r,s/o,z,ee,()=>me??a.measureText(pe));else if(this.paintChar(e,pe,z,ee,I,T),G){const Y=z+s*G.offset.x/o,X=ee-s*G.offset.y/o;this.paintChar(e,G.fontChar,Y,X,I,T)}}const q=v?Z*E-oe*d:Z*E+oe*d;D+=q,ne&&a.restore()}v?i.y-=D:i.x+=D*h,a.restore(),this.compose(),(V=this.dependencyTracker)==null||V.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,a=r.fontSize,o=r.fontDirection,l=s.vertical?1:-1,u=r.charSpacing,d=r.wordSpacing,h=r.textHScale*o,g=r.fontMatrix||xR,v=t.length,C=r.textRenderingMode===Gi.INVISIBLE;let b,E,x,I;if(C||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(h,o);const T=this.dependencyTracker;for(this.dependencyTracker=T?new V_(T,e):null,b=0;b<v;++b){if(E=t[b],typeof E=="number"){I=l*E*a/1e3,this.ctx.translate(I,0),r.x+=I*h;continue}const R=(E.isSpace?d:0)+u,M=s.charProcOperatorList[E.operatorListId];M?this.contentVisible&&(this.save(),i.scale(a,a),i.transform(...g),this.executeOperatorList(M),this.restore()):Xe(`Type3 character "${E.operatorListId}" is not available.`);const D=[E.width,0];De.applyTransform(D,g),x=D[0]*a+R,i.translate(x,0),r.x+=x*h}i.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,a,o){var u;const l=new Path2D;l.rect(r,s,a-r,o-s),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,r,a,s,o).recordClipBox(e,this.ctx,r,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||In(this.ctx),s={createCanvasGraphics:(a,o)=>new _k(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new V_(this.dependencyTracker,o,!0):null)};i=new sD(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=ede(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){var a;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,Do(i),Zi.SHADING,e);const s=Do(i);if(s){const{width:o,height:l}=i.canvas,u=Ug.slice();De.axialAlignedBoundingBox([0,0,o,l],s,u);const[d,h,g,v]=u;this.ctx.fillRect(d,h,g-d,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,fa.transform).recordDependencies(e,fa.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){an("Should not call beginInlineImage")}beginImageData(){an("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=In(this.ctx),i)){De.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[s,a,o,l]=i,u=new Path2D;u.rect(s,a,o-s,l-a),this.ctx.clip(u),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var T;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||x1("TODO: Support non-isolated groups."),t.knockout&&Xe("Knockout groups not supported.");const r=In(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Ug.slice();De.axialAlignedBoundingBox(t.bbox,In(i),s);const a=[0,0,i.canvas.width,i.canvas.height];s=De.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,u,d),v=g.context;v.translate(-o,-l),v.transform(...r);let C=new Path2D;const[b,E,x,I]=t.bbox;if(C.rect(b,E,x-b,I-E),t.matrix){const R=new Path2D;R.addPath(C,new DOMMatrix(t.matrix)),C=R}v.clip(C),t.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(o,l),i.save()),g0(i,v),this.ctx=v,(T=this.dependencyTracker)==null||T.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=In(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=Ug.slice();De.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],a,o),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,i,r,s,a){if(U(this,bo,aD).call(this),_S(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const o=i[2]-i[0],l=i[3]-i[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=o,i[3]=l,De.singularValueDecompose2dScale(In(this.ctx),Ks);const{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Ks[0],0,0,-Ks[1],0,l*Ks[1]),_S(this.ctx)}else{_S(this.ctx),this.endPath(e);const u=new Path2D;u.rect(i[0],i[1],o,l),this.ctx.clip(u)}}this.current=new xK(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),U(this,bo,oD).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,a,o){var h,g,v;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const u=In(l);l.transform(i,r,s,a,0,0);const d=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let C=0,b=o.length;C<b;C+=2){const E=De.transform(u,[i,r,s,a,o[C],o[C+1]]);l.drawImage(d.canvas,E[4],E[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,E[4],E[4]+d.canvas.width,E[5],E[5]+d.canvas.height)}l.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,fa.transformAndFill);for(const u of t){const{data:d,width:h,height:g,transform:v}=u,C=this.cachedCanvases.getCanvas("maskCanvas",h,g),b=C.context;b.save();const E=this.getObject(e,d,u);TK(b,E),b.globalCompositeOperation="source-in",b.fillStyle=s?r.getPattern(b,this,Do(i),Zi.FILL,e):r,b.fillRect(0,0,h,g),b.restore(),i.save(),i.transform(...v),i.scale(1,-1),xS(i,C.canvas,0,0,h,g,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,h,0,g),i.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){Xe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){Xe("Dependent image isn't ready yet");return}const o=a.width,l=a.height,u=[];for(let d=0,h=s.length;d<h;d+=2)u.push({transform:[i,0,0,r,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/i,-1/r);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",i,r).context;_K(h,t),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,Do(s));s.imageSmoothingEnabled=IK(In(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,fa.imageXObject).recordOperation(e),xS(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){var a,o,l;if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,d=t.height,g=this.cachedCanvases.getCanvas("inlineImage",u,d).context;_K(g,t),s=this.applyTransferMapsToCanvas(g)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const u of i)r.save(),r.transform(...u.transform),r.scale(1,-1),xS(r,s,u.x,u.y,u.w,u.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,1,-1,0),r.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,fa.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){var a,o;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===FK?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=In(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let a,o;if(i===0&&r===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/u;else{const d=l*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*s-i*r),u=Math.hypot(t,i),d=Math.hypot(r,s);if(e===0)a=d/l,o=u/l;else{const h=e*l;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,a]=this.getScaleForStroking();if(s===a){i.lineWidth=(r||1)*s,i.stroke(e);return}const o=i.getLineDash();t&&i.save(),i.scale(s,a),ZU.a=1/s,ZU.d=1/a;const l=new Path2D;if(l.addPath(e,ZU),o.length>0){const u=Math.max(s,a);i.setLineDash(o.map(d=>d/u)),i.lineDashOffset/=u}i.lineWidth=r||1,i.stroke(l),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};bo=new WeakSet,aD=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},oD=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},AD=function(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r};let Vg=_k;for(const n in Iw)Vg.prototype[n]!==void 0&&(Vg.prototype[Iw[n]]=Vg.prototype[n]);var bx,OC,kC;let zl=(bx=class{static get workerPort(){return f(this,OC)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");_(this,OC,e)}static get workerSrc(){return f(this,kC)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");_(this,kC,e)}},OC=new WeakMap,kC=new WeakMap,F(bx,OC,null),F(bx,kC,""),bx);var Fm,HC;class Ade{constructor({parsedData:e,rawData:t}){F(this,Fm);F(this,HC);_(this,Fm,e),_(this,HC,t)}getRaw(){return f(this,HC)}get(e){return f(this,Fm).get(e)??null}[Symbol.iterator](){return f(this,Fm).entries()}}Fm=new WeakMap,HC=new WeakMap;const wg=Symbol("INTERNAL");var VC,KC,GC,Um;class lde{constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){F(this,VC,!1);F(this,KC,!1);F(this,GC,!1);F(this,Um,!0);_(this,VC,!!(e&Vs.DISPLAY)),_(this,KC,!!(e&Vs.PRINT)),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(f(this,GC))return f(this,Um);if(!f(this,Um))return!1;const{print:e,view:t}=this.usage;return f(this,VC)?(t==null?void 0:t.viewState)!=="OFF":f(this,KC)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==wg&&an("Internal method `_setVisible` called."),_(this,GC,i),_(this,Um,t)}}VC=new WeakMap,KC=new WeakMap,GC=new WeakMap,Um=new WeakMap;var Tc,Yt,Mm,Pm,zC,lD;class ude{constructor(e,t=Vs.DISPLAY){F(this,zC);F(this,Tc,null);F(this,Yt,new Map);F(this,Mm,null);F(this,Pm,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,_(this,Pm,e.order);for(const i of e.groups)f(this,Yt).set(i.id,new lde(t,i));if(e.baseState==="OFF")for(const i of f(this,Yt).values())i._setVisible(wg,!1);for(const i of e.on)f(this,Yt).get(i)._setVisible(wg,!0);for(const i of e.off)f(this,Yt).get(i)._setVisible(wg,!1);_(this,Mm,this.getHash())}}isVisible(e){if(f(this,Yt).size===0)return!0;if(!e)return x1("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,Yt).has(e.id)?f(this,Yt).get(e.id).visible:(Xe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return U(this,zC,lD).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,Yt).has(t))return Xe(`Optional content group not found: ${t}`),!0;if(f(this,Yt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,Yt).has(t))return Xe(`Optional content group not found: ${t}`),!0;if(!f(this,Yt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,Yt).has(t))return Xe(`Optional content group not found: ${t}`),!0;if(!f(this,Yt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,Yt).has(t))return Xe(`Optional content group not found: ${t}`),!0;if(f(this,Yt).get(t).visible)return!1}return!0}return Xe(`Unknown optional content policy ${e.policy}.`),!0}return Xe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var s;const r=f(this,Yt).get(e);if(!r){Xe(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const a of r.rbGroups)for(const o of a)o!==e&&((s=f(this,Yt).get(o))==null||s._setVisible(wg,!1,!0));r._setVisible(wg,!!t,!0),_(this,Tc,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=f(this,Yt).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}_(this,Tc,null)}get hasInitialVisibility(){return f(this,Mm)===null||this.getHash()===f(this,Mm)}getOrder(){return f(this,Yt).size?f(this,Pm)?f(this,Pm).slice():[...f(this,Yt).keys()]:null}getGroup(e){return f(this,Yt).get(e)||null}getHash(){if(f(this,Tc)!==null)return f(this,Tc);const e=new lj;for(const[t,i]of f(this,Yt))e.update(`${t}:${i.visible}`);return _(this,Tc,e.hexdigest())}[Symbol.iterator](){return f(this,Yt).entries()}}Tc=new WeakMap,Yt=new WeakMap,Mm=new WeakMap,Pm=new WeakMap,zC=new WeakSet,lD=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let a;if(Array.isArray(s))a=U(this,zC,lD).call(this,s);else if(f(this,Yt).has(s))a=f(this,Yt).get(s).visible;else return Xe(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class cde{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Ct(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});Ct(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ct(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new dde(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new fde(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class dde{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=EQ(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fde{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hde(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=a(n),t){const d=u(t);return s(d)}if(t=i("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),s(d)}function i(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const g=new TextDecoder(d,{fatal:!0}),v=IB(h);h=g.decode(v),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function a(d){const h=[];let g;const v=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(d))!==null;){let[,b,E,x]=g;if(b=parseInt(b,10),b in h){if(b===0)break;continue}h[b]=[E,x]}const C=[];for(let b=0;b<h.length&&b in h;++b){let[E,x]=h[b];x=o(x),E&&(x=unescape(x),b===0&&(x=l(x))),C.push(x)}return C.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let g=0;g<h.length;++g){const v=h[g].indexOf('"');v!==-1&&(h[g]=h[g].slice(0,v),h.length=g+1),h[g]=h[g].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const g=d.slice(0,h),C=d.slice(h+1).replace(/^[^']*'/,"");return r(g,C)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,g,v,C){if(v==="q"||v==="Q")return C=C.replaceAll("_"," "),C=C.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,E){return String.fromCharCode(parseInt(E,16))}),r(g,C);try{C=atob(C)}catch{}return r(g,C)})}return""}function Cj(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function T1(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function bj({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Bj(n){const e=n.get("Content-Disposition");if(e){let t=hde(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(EQ(t))return t}return null}function RB(n,e){return new Q_(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Ej(n){return n===200||n===206}function Sj(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function xj(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Xe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class pde{constructor(e){ge(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Cj(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ct(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new mde(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class gde{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,Sj(i,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=T1(s.url),!Ej(s.status))throw RB(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=bj({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=Bj(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Sd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:xj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class mde{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);const a=r.url;fetch(a,Sj(s,this._withCredentials,this._abortController)).then(o=>{const l=T1(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!Ej(o.status))throw RB(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:xj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const eM=200,tM=206;function vde(n){const e=n.response;return typeof e!="string"?e:IB(e).buffer}class yde{constructor({url:e,httpHeaders:t,withCredentials:i}){ge(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Cj(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=tM):r.expectedStatus=eM,t.responseType="arraybuffer",Ct(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||eM;if(!(s===eM&&i.expectedStatus===tM)&&s!==i.expectedStatus){i.onError(r.status);return}const o=vde(r);if(s===tM){const l=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?i.onDone({begin:parseInt(u[1],10),chunk:o}):(Xe('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class wde{constructor(e){this._source=e,this._manager=new yde(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ct(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Cde(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new bde(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Cde{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=T1(t.responseURL);const i=t.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=bj({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Bj(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=RB(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class bde{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=T1((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=RB(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Bde=/^[a-z][a-z0-9\-+.]+:/i;function Ede(n){if(Bde.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Sde{constructor(e){this.source=e,this.url=Ede(e.url),Ct(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ct(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new xde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new _de(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class xde{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=RB(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Sd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _de{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const m0=Symbol("INITIAL_DATA");var _s,qC,uD;class _j{constructor(){F(this,qC);F(this,_s,Object.create(null))}get(e,t=null){if(t){const r=U(this,qC,uD).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=f(this,_s)[e];if(!i||i.data===m0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=f(this,_s)[e];return!!t&&t.data!==m0}delete(e){const t=f(this,_s)[e];return!t||t.data===m0?!1:(delete f(this,_s)[e],!0)}resolve(e,t=null){const i=U(this,qC,uD).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in f(this,_s)){const{data:i}=f(this,_s)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}_(this,_s,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,_s)){const{data:t}=f(this,_s)[e];t!==m0&&(yield[e,t])}}}_s=new WeakMap,qC=new WeakSet,uD=function(e){var t;return(t=f(this,_s))[e]||(t[e]={...Promise.withResolvers(),data:m0})};const Tde=1e5,UK=30;var _$,Ic,ts,$C,jC,Zf,ml,WC,YC,eh,Rm,Dm,Fc,Nm,XC,Lm,th,JC,ZC,kn,Qm,nh,eb,Uc,Om,mu,Tj,Ij,dD,Ys,Qx,fD,Fj,Uj;let cD=(kn=class{constructor({textContentSource:e,container:t,viewport:i}){F(this,mu);F(this,Ic,Promise.withResolvers());F(this,ts,null);F(this,$C,!1);F(this,jC,!!((_$=globalThis.FontInspector)!=null&&_$.enabled));F(this,Zf,null);F(this,ml,null);F(this,WC,0);F(this,YC,0);F(this,eh,null);F(this,Rm,null);F(this,Dm,0);F(this,Fc,0);F(this,Nm,Object.create(null));F(this,XC,[]);F(this,Lm,null);F(this,th,[]);F(this,JC,new WeakMap);F(this,ZC,null);var l;if(e instanceof ReadableStream)_(this,Lm,e);else if(typeof e=="object")_(this,Lm,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,ts,_(this,Rm,t)),_(this,Fc,i.scale*ip.pixelRatio),_(this,Dm,i.rotation),_(this,ml,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;_(this,ZC,[1,0,0,-1,-a,o+s]),_(this,YC,r),_(this,WC,s),U(l=kn,Ys,Fj).call(l),np(t,i),f(this,Ic).promise.finally(()=>{f(kn,Om).delete(this),_(this,ml,null),_(this,Nm,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=sr.platform;return Je(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,eh).read().then(({value:t,done:i})=>{if(i){f(this,Ic).resolve();return}f(this,Zf)??_(this,Zf,t.lang),Object.assign(f(this,Nm),t.styles),U(this,mu,Tj).call(this,t.items),e()},f(this,Ic).reject)};return _(this,eh,f(this,Lm).getReader()),f(kn,Om).add(this),e(),f(this,Ic).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*ip.pixelRatio,r=e.rotation;if(r!==f(this,Dm)&&(t==null||t(),_(this,Dm,r),np(f(this,Rm),{rotation:r})),i!==f(this,Fc)){t==null||t(),_(this,Fc,i);const a={div:null,properties:null,ctx:U(s=kn,Ys,Qx).call(s,f(this,Zf))};for(const o of f(this,th))a.properties=f(this,JC).get(o),a.div=o,U(this,mu,dD).call(this,a)}}cancel(){var t;const e=new Sd("TextLayer task cancelled.");(t=f(this,eh))==null||t.cancel(e).catch(()=>{}),_(this,eh,null),f(this,Ic).reject(e)}get textDivs(){return f(this,th)}get textContentItemsStr(){return f(this,XC)}static cleanup(){if(!(f(this,Om).size>0)){f(this,Qm).clear();for(const{canvas:e}of f(this,nh).values())e.remove();f(this,nh).clear()}}},Ic=new WeakMap,ts=new WeakMap,$C=new WeakMap,jC=new WeakMap,Zf=new WeakMap,ml=new WeakMap,WC=new WeakMap,YC=new WeakMap,eh=new WeakMap,Rm=new WeakMap,Dm=new WeakMap,Fc=new WeakMap,Nm=new WeakMap,XC=new WeakMap,Lm=new WeakMap,th=new WeakMap,JC=new WeakMap,ZC=new WeakMap,Qm=new WeakMap,nh=new WeakMap,eb=new WeakMap,Uc=new WeakMap,Om=new WeakMap,mu=new WeakSet,Tj=function(e){var r,s;if(f(this,$C))return;(s=f(this,ml)).ctx??(s.ctx=U(r=kn,Ys,Qx).call(r,f(this,Zf)));const t=f(this,th),i=f(this,XC);for(const a of e){if(t.length>Tde){Xe("Ignoring additional textDivs for performance reasons."),_(this,$C,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=f(this,ts);_(this,ts,document.createElement("span")),f(this,ts).classList.add("markedContent"),a.id&&f(this,ts).setAttribute("id",`${a.id}`),o.append(f(this,ts))}else a.type==="endMarkedContent"&&_(this,ts,f(this,ts).parentNode);continue}i.push(a.str),U(this,mu,Ij).call(this,a)}},Ij=function(e){var b;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,th).push(t);const r=De.transform(f(this,ZC),e.transform);let s=Math.atan2(r[1],r[0]);const a=f(this,Nm)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=f(this,jC)&&a.fontSubstitution||a.fontFamily;o=kn.fontFamilyMap.get(o)||o;const l=Math.hypot(r[2],r[3]),u=l*U(b=kn,Ys,Uj).call(b,o,a,f(this,Zf));let d,h;s===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(s),h=r[5]-u*Math.cos(s));const g="calc(var(--total-scale-factor) *",v=t.style;f(this,ts)===f(this,Rm)?(v.left=`${(100*d/f(this,YC)).toFixed(2)}%`,v.top=`${(100*h/f(this,WC)).toFixed(2)}%`):(v.left=`${g}${d.toFixed(2)}px)`,v.top=`${g}${h.toFixed(2)}px)`),v.fontSize=`${g}${(f(kn,Uc)*l).toFixed(2)}px)`,v.fontFamily=o,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,jC)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let C=!1;if(e.str.length>1)C=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);E!==x&&Math.max(E,x)/Math.min(E,x)>1.5&&(C=!0)}if(C&&(i.canvasWidth=a.vertical?e.height:e.width),f(this,JC).set(t,i),f(this,ml).div=t,f(this,ml).properties=i,U(this,mu,dD).call(this,f(this,ml)),i.hasText&&f(this,ts).append(t),i.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),f(this,ts).append(E)}},dD=function(e){var o;const{div:t,properties:i,ctx:r}=e,{style:s}=t;let a="";if(f(kn,Uc)>1&&(a=`scale(${1/f(kn,Uc)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:d}=i;U(o=kn,Ys,fD).call(o,r,d*f(this,Fc),l);const{width:h}=r.measureText(t.textContent);h>0&&(a=`scaleX(${u*f(this,Fc)/h}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Ys=new WeakSet,Qx=function(e=null){let t=f(this,nh).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,nh).set(e,t),f(this,eb).set(t,{size:0,family:""})}return t},fD=function(e,t,i){const r=f(this,eb).get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)},Fj=function(){if(f(this,Uc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),_(this,Uc,e.getBoundingClientRect().height),e.remove()},Uj=function(e,t,i){const r=f(this,Qm).get(e);if(r)return r;const s=U(this,Ys,Qx).call(this,i);s.canvas.width=s.canvas.height=UK,U(this,Ys,fD).call(this,s,UK,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return o?u=o/(o+l):(sr.platform.isFirefox&&Xe("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),f(this,Qm).set(e,u),u},F(kn,Ys),F(kn,Qm,new Map),F(kn,nh,new Map),F(kn,eb,new WeakMap),F(kn,Uc,null),F(kn,Om,new Set),kn);const Ide=100;function TQ(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new hD,{docId:t}=e,i=n.url?Nce(n.url):null,r=n.data?Lce(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof Mj?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof pD?n.worker:null;const h=n.verbosity,g=typeof n.docBaseUrl=="string"&&!_1(n.docBaseUrl)?n.docBaseUrl:null,v=bS(n.cMapUrl),C=n.cMapPacked!==!1,b=n.CMapReaderFactory||(Rr?zce:mK),E=bS(n.iccUrl),x=bS(n.standardFontDataUrl),I=n.StandardFontDataFactory||(Rr?qce:vK),T=bS(n.wasmUrl),R=n.WasmFactory||(Rr?$ce:yK),M=n.stopAtErrors!==!0,D=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,L=n.isEvalSupported!==!1,H=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Rr,O=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Rr&&(sr.platform.isFirefox||!globalThis.chrome),K=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,V=typeof n.disableFontFace=="boolean"?n.disableFontFace:Rr,$=n.fontExtraProperties===!0,ne=n.enableXfa===!0,oe=n.ownerDocument||globalThis.document,pe=n.disableRange===!0,G=n.disableStream===!0,z=n.disableAutoFetch===!0,ee=n.pdfBug===!0,Z=n.CanvasFactory||(Rr?Gce:Hce),me=n.FilterFactory||(Rr?Kce:Vce),q=n.enableHWA===!0,Y=n.useWasm!==!1,X=l?l.length:n.length??NaN,ce=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Rr&&!V,ye=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(b===mK&&I===vK&&R===yK&&v&&x&&T&&D0(v,document.baseURI)&&D0(x,document.baseURI)&&D0(T,document.baseURI)),Ce=null;uce(h);const ve={canvasFactory:new Z({ownerDocument:oe,enableHWA:q}),filterFactory:new me({docId:t,ownerDocument:oe}),cMapReaderFactory:ye?null:new b({baseUrl:v,isCompressed:C}),standardFontDataFactory:ye?null:new I({baseUrl:x}),wasmFactory:ye?null:new R({baseUrl:T})};d||(d=pD.create({verbosity:h,port:zl.workerPort}),e._worker=d);const je={docId:t,apiVersion:"5.4.449",data:r,password:o,disableAutoFetch:z,rangeChunkSize:u,length:X,docBaseUrl:g,enableXfa:ne,evaluatorOptions:{maxImageSize:D,disableFontFace:V,ignoreErrors:M,isEvalSupported:L,isOffscreenCanvasSupported:H,isImageDecoderSupported:O,canvasMaxAreaInBytes:K,fontExtraProperties:$,useSystemFonts:ce,useWasm:Y,useWorkerFetch:ye,cMapUrl:v,iccUrl:E,standardFontDataUrl:x,wasmUrl:T}},se={ownerDocument:oe,pdfBug:ee,styleElement:Ce,loadingParams:{disableAutoFetch:z,enableXfa:ne}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Pe=d.messageHandler.sendWithPromise("GetDocRequest",je,r?[r.buffer]:null);let Ve;if(l)Ve=new cde(l,{disableRange:pe,disableStream:G});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const we=D0(i)?pde:Rr?Sde:wde;Ve=new we({url:i,length:X,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:pe,disableStream:G})}return Pe.then(we=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Zt=new K0(t,we,d.port),We=new Mde(Zt,e,Ve,se,ve,q);e._transport=We,Zt.send("Ready",null)})}).catch(e._capability.reject),e}var r1;const s1=class s1{constructor(){ge(this,"_capability",Promise.withResolvers());ge(this,"_transport",null);ge(this,"_worker",null);ge(this,"docId",`d${zn(s1,r1)._++}`);ge(this,"destroyed",!1);ge(this,"onPassword",null);ge(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,i,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};r1=new WeakMap,F(s1,r1,0);let hD=s1;var ih,tb,nb,ib,rb,T$;let Mj=(T$=class{constructor(e,t,i=!1,r=null){F(this,ih,Promise.withResolvers());F(this,tb,[]);F(this,nb,[]);F(this,ib,[]);F(this,rb,[]);this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){f(this,rb).push(e)}addProgressListener(e){f(this,ib).push(e)}addProgressiveReadListener(e){f(this,nb).push(e)}addProgressiveDoneListener(e){f(this,tb).push(e)}onDataRange(e,t){for(const i of f(this,rb))i(e,t)}onDataProgress(e,t){f(this,ih).promise.then(()=>{for(const i of f(this,ib))i(e,t)})}onDataProgressiveRead(e){f(this,ih).promise.then(()=>{for(const t of f(this,nb))t(e)})}onDataProgressiveDone(){f(this,ih).promise.then(()=>{for(const e of f(this,tb))e()})}transportReady(){f(this,ih).resolve()}requestDataRange(e,t){an("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},ih=new WeakMap,tb=new WeakMap,nb=new WeakMap,ib=new WeakMap,rb=new WeakMap,T$);class Fde{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Je(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var vl,rh,j0;class Ude{constructor(e,t,i,r=!1){F(this,rh);F(this,vl,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new uK:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new _j,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new UB({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Je(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=ac.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:C=null}){var O,K,V;(O=this._stats)==null||O.time("Overall");const b=this._transport.getRenderingIntent(r,s,h,g),{renderingIntent:E,cacheKey:x}=b;_(this,vl,!1),l||(l=this._transport.getOptionalContentConfig(E));let I=this._intentStates.get(x);I||(I=Object.create(null),this._intentStates.set(x,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);const T=!!(E&Vs.PRINT);I.displayReadyCapability||(I.displayReadyCapability=Promise.withResolvers(),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(K=this._stats)==null||K.time("Page Request"),this._pumpOperatorList(b));const R=!!(this._pdfBug&&((V=globalThis.StepperManager)!=null&&V.enabled)),M=!this.recordedBBoxes&&(v||R),D=$=>{var ne,oe;if(I.renderTasks.delete(L),M){const pe=(ne=L.gfx)==null?void 0:ne.dependencyTracker.take();pe&&(L.stepper&&L.stepper.setOperatorBBoxes(pe,L.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=pe))}T&&_(this,vl,!0),U(this,rh,j0).call(this),$?(L.capability.reject($),this._abortOperatorList({intentState:I,reason:$ instanceof Error?$:new Error($)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(oe=globalThis.Stats)!=null&&oe.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new gD({callback:D,params:{canvas:t,canvasContext:e,dependencyTracker:M?new Wce(t,I.operatorList.length,R):null,viewport:i,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:C});(I.renderTasks||(I.renderTasks=new Set)).add(L);const H=L.task;return Promise.all([I.displayReadyCapability.promise,l]).then(([$,ne])=>{var oe;if(this.destroyed){D();return}if((oe=this._stats)==null||oe.time("Rendering"),!(ne.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:$,optionalContentConfig:ne}),L.operatorListChanged()}).catch(D),H}getOperatorList({intent:e="display",annotationMode:t=ac.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,i,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Fw.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){a.read().then(function({value:l,done:u}){if(u){i(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},r)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),_(this,vl,!1),Promise.all(e)}cleanup(e=!1){_(this,vl,!0);const t=U(this,rh,j0).call(this);return e&&t&&this._stats&&(this._stats=new uK),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&U(this,rh,j0).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:a}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},a).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:g})=>{if(g){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();U(this,rh,j0).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof BQ){let r=Ide;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Sd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}vl=new WeakMap,rh=new WeakSet,j0=function(){if(!f(this,vl)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,vl,!1),!0};var Mc,so,yl,sh,rn,a1,ah,oh,Qr,Ox,Pj,Rj,W0,km,kx;let pD=(rn=class{constructor({name:e=null,port:t=null,verbosity:i=cce()}={}){F(this,Qr);F(this,Mc,Promise.withResolvers());F(this,so,null);F(this,yl,null);F(this,sh,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(f(rn,oh).has(t))throw new Error("Cannot use more than one PDFWorker per port.");f(rn,oh).set(t,this),U(this,Qr,Pj).call(this,t)}else U(this,Qr,Rj).call(this)}get promise(){return f(this,Mc).promise}get port(){return f(this,yl)}get messageHandler(){return f(this,so)}destroy(){var e,t;this.destroyed=!0,(e=f(this,sh))==null||e.terminate(),_(this,sh,null),f(rn,oh).delete(f(this,yl)),_(this,yl,null),(t=f(this,so))==null||t.destroy(),_(this,so,null)}static create(e){const t=f(this,oh).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new rn(e)}static get workerSrc(){if(zl.workerSrc)return zl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Je(this,"_setupFakeWorkerGlobal",(async()=>f(this,km,kx)?f(this,km,kx):(await import(this.workerSrc)).WorkerMessageHandler)())}},Mc=new WeakMap,so=new WeakMap,yl=new WeakMap,sh=new WeakMap,a1=new WeakMap,ah=new WeakMap,oh=new WeakMap,Qr=new WeakSet,Ox=function(){f(this,Mc).resolve(),f(this,so).send("configure",{verbosity:this.verbosity})},Pj=function(e){_(this,yl,e),_(this,so,new K0("main","worker",e)),f(this,so).on("ready",()=>{}),U(this,Qr,Ox).call(this)},Rj=function(){if(f(rn,ah)||f(rn,km,kx)){U(this,Qr,W0).call(this);return}let{workerSrc:e}=rn;try{rn._isSameOrigin(window.location,e)||(e=rn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new K0("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?f(this,Mc).reject(new Error("Worker was destroyed")):U(this,Qr,W0).call(this)},s=new AbortController;t.addEventListener("error",()=>{f(this,sh)||r()},{signal:s.signal}),i.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}_(this,so,i),_(this,yl,t),_(this,sh,t),U(this,Qr,Ox).call(this)}),i.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{U(this,Qr,W0).call(this)}});const a=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{x1("The worker has been disabled.")}U(this,Qr,W0).call(this)},W0=function(){f(rn,ah)||(Xe("Setting up fake worker."),_(rn,ah,!0)),rn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){f(this,Mc).reject(new Error("Worker was destroyed"));return}const t=new kce;_(this,yl,t);const i=`fake${zn(rn,a1)._++}`,r=new K0(i+"_worker",i,t);e.setup(r,t),_(this,so,new K0(i,i+"_worker",t)),U(this,Qr,Ox).call(this)}).catch(e=>{f(this,Mc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},km=new WeakSet,kx=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},F(rn,km),F(rn,a1,0),F(rn,ah,!1),F(rn,oh,new WeakMap),Rr&&(_(rn,ah,!0),zl.workerSrc||(zl.workerSrc="./pdf.worker.mjs")),rn._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},rn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},rn.fromPort=e=>{if(Bce("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return rn.create(e)},rn);var wl,Jo,Hm,Vm,Cl,Ah,Y0;class Mde{constructor(e,t,i,r,s,a){F(this,Ah);F(this,wl,new Map);F(this,Jo,new Map);F(this,Hm,new Map);F(this,Vm,new Map);F(this,Cl,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new _j,this.fontLoader=new Rce({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Je(this,"annotationStorage",new SQ)}getRenderingIntent(e,t=ac.ENABLE,i=null,r=!1,s=!1){let a=Vs.DISPLAY,o=YR;switch(e){case"any":a=Vs.ANY;break;case"display":break;case"print":a=Vs.PRINT;break;default:Xe(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Vs.PRINT&&i instanceof cj?i:this.annotationStorage;switch(t){case ac.DISABLE:a+=Vs.ANNOTATIONS_DISABLE;break;case ac.ENABLE:break;case ac.ENABLE_FORMS:a+=Vs.ANNOTATIONS_FORMS;break;case ac.ENABLE_STORAGE:a+=Vs.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Xe(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=Vs.IS_EDITING),s&&(a+=Vs.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=f(this,Cl))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of f(this,Jo).values())e.push(r._destroy());f(this,Jo).clear(),f(this,Hm).clear(),f(this,Vm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,wl).clear(),this.filterFactory.destroy(),cD.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Sd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Ct(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}Ct(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(i,r)=>{Ct(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}Ct(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new Fde(i,this))}),e.on("DocException",i=>{t._capability.reject(Wr(i))}),e.on("PasswordRequest",i=>{_(this,Cl,Promise.withResolvers());try{if(!t.onPassword)throw Wr(i);const r=s=>{s instanceof Error?f(this,Cl).reject(s):f(this,Cl).resolve({password:s})};t.onPassword(r,i.code)}catch(r){f(this,Cl).reject(r)}return f(this,Cl).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;f(this,Jo).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const g=s.error;Xe(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}const o=new XR(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(g,v)=>globalThis.FontInspector.fontAdded(g,v):null,u=new Dce(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:d}=s;Ct(d,"The imageRef must be defined.");for(const g of f(this,Jo).values())for(const[,v]of g.objs)if((v==null?void 0:v.ref)===d)return v.dataLen?(this.commonObjs.resolve(i,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const h=new JR(s);this.commonObjs.resolve(i,h.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,a])=>{var l;if(this.destroyed)return;const o=f(this,Jo).get(r);if(!o.objs.has(i)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Xe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=f(this,Hm).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&f(this,Vm).set(s.refStr,e);const a=new Ude(t,s,this,this._params.pdfBug);return f(this,Jo).set(t,a),a});return f(this,Hm).set(t,r),r}getPageIndex(e){return ZR(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return U(this,Ah,Y0).call(this,"GetFieldObjects")}hasJSActions(){return U(this,Ah,Y0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return U(this,Ah,Y0).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return U(this,Ah,Y0).call(this,"GetOptionalContentConfig").then(t=>new ude(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,wl).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,a;return{info:r[0],metadata:r[1]?new Ade(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:r[2]}});return f(this,wl).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,Jo).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,wl).clear(),this.filterFactory.destroy(!0),cD.cleanup()}}cachedPageNumber(e){if(!ZR(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,Vm).get(t)??null}}wl=new WeakMap,Jo=new WeakMap,Hm=new WeakMap,Vm=new WeakMap,Cl=new WeakMap,Ah=new WeakSet,Y0=function(e,t=null){const i=f(this,wl).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return f(this,wl).set(e,r),r};var Pc;class Pde{constructor(e){F(this,Pc,null);ge(this,"onContinue",null);ge(this,"onError",null);_(this,Pc,e)}get promise(){return f(this,Pc).capability.promise}cancel(e=0){f(this,Pc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,Pc).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,Pc);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Pc=new WeakMap;var Rc,lh;const gf=class gf{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:C=null}){F(this,Rc,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Pde(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=v,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=C}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(f(gf,lh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(gf,lh).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Vg(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var i,r,s;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),f(this,Rc)&&(window.cancelAnimationFrame(f(this,Rc)),_(this,Rc,null)),f(gf,lh).delete(this._canvas),e||(e=new BQ(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(r=this.task).onError)==null||s.call(r,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,Rc,window.requestAnimationFrame(()=>{_(this,Rc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(gf,lh).delete(this._canvas),this.callback())))}};Rc=new WeakMap,lh=new WeakMap,F(gf,lh,new WeakSet);let gD=gf;const Dj="5.4.449",Rde="f44e5f0e6";var Ts,uh,Km,fi,sb,Gm,bl,ab,Dc,ao,Xi,ob,Xt,mD,vD,yD,of,Lj,Xu;let Nj=(Xi=class{constructor({editor:e=null,uiManager:t=null}){F(this,Xt);F(this,Ts,null);F(this,uh,null);F(this,Km);F(this,fi,null);F(this,sb,!1);F(this,Gm,!1);F(this,bl,null);F(this,ab);F(this,Dc,null);F(this,ao,null);var i,r;e?(_(this,Gm,!1),_(this,bl,e)):_(this,Gm,!0),_(this,ao,(e==null?void 0:e._uiManager)||t),_(this,ab,f(this,ao)._eventBus),_(this,Km,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((r=f(this,ao))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),f(Xi,ob)||_(Xi,ob,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Je(this,"_keyboardManager",new PB([[["Escape","mac+Escape"],Xi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Xi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Xi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Xi.prototype._moveToPrevious],[["Home","mac+Home"],Xi.prototype._moveToBeginning],[["End","mac+End"],Xi.prototype._moveToEnd]]))}renderButton(){const e=_(this,Ts,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",f(this,bl)&&(e.ariaControls=`${f(this,bl).id}_colorpicker_dropdown`);const t=f(this,ao)._signal;e.addEventListener("click",U(this,Xt,of).bind(this),{signal:t}),e.addEventListener("keydown",U(this,Xt,yD).bind(this),{signal:t});const i=_(this,uh,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=f(this,Km),e.append(i),e}renderMainDropdown(){const e=_(this,fi,U(this,Xt,mD).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===f(this,Ts)){U(this,Xt,of).call(this,e);return}const t=e.target.getAttribute("data-color");t&&U(this,Xt,vD).call(this,t,e)}_moveToNext(e){var t,i;if(!f(this,Xt,Xu)){U(this,Xt,of).call(this,e);return}if(e.target===f(this,Ts)){(t=f(this,fi).firstElementChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=f(this,fi))==null?void 0:t.firstElementChild)||e.target===f(this,Ts)){f(this,Xt,Xu)&&this._hideDropdownFromKeyboard();return}f(this,Xt,Xu)||U(this,Xt,of).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!f(this,Xt,Xu)){U(this,Xt,of).call(this,e);return}(t=f(this,fi).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,Xt,Xu)){U(this,Xt,of).call(this,e);return}(t=f(this,fi).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,fi))==null||e.classList.add("hidden"),f(this,Ts).ariaExpanded="false",(t=f(this,Dc))==null||t.abort(),_(this,Dc,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,Gm)){if(!f(this,Xt,Xu)){(e=f(this,bl))==null||e.unselect();return}this.hideDropdown(),f(this,Ts).focus({preventScroll:!0,focusVisible:f(this,sb)})}}updateColor(e){if(f(this,uh)&&(f(this,uh).style.backgroundColor=e),!f(this,fi))return;const t=f(this,ao).highlightColors.values();for(const i of f(this,fi).children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=f(this,Ts))==null||e.remove(),_(this,Ts,null),_(this,uh,null),(t=f(this,fi))==null||t.remove(),_(this,fi,null)}},Ts=new WeakMap,uh=new WeakMap,Km=new WeakMap,fi=new WeakMap,sb=new WeakMap,Gm=new WeakMap,bl=new WeakMap,ab=new WeakMap,Dc=new WeakMap,ao=new WeakMap,ob=new WeakMap,Xt=new WeakSet,mD=function(){const e=document.createElement("div"),t=f(this,ao)._signal;e.addEventListener("contextmenu",Va,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),f(this,bl)&&(e.id=`${f(this,bl).id}_colorpicker_dropdown`);for(const[i,r]of f(this,ao).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",f(Xi,ob)[i]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.ariaSelected=r===f(this,Km),s.addEventListener("click",U(this,Xt,vD).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",U(this,Xt,yD).bind(this),{signal:t}),e},vD=function(e,t){t.stopPropagation(),f(this,ab).dispatch("switchannotationeditorparams",{source:this,type:wt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},yD=function(e){Xi._keyboardManager.exec(this,e)},of=function(e){if(f(this,Xt,Xu)){this.hideDropdown();return}if(_(this,sb,e.detail===0),f(this,Dc)||(_(this,Dc,new AbortController),window.addEventListener("pointerdown",U(this,Xt,Lj).bind(this),{signal:f(this,ao).combinedSignal(f(this,Dc))})),f(this,Ts).ariaExpanded="true",f(this,fi)){f(this,fi).classList.remove("hidden");return}const t=_(this,fi,U(this,Xt,mD).call(this));f(this,Ts).append(t)},Lj=function(e){var t;(t=f(this,fi))!=null&&t.contains(e.target)||this.hideDropdown()},Xu=function(){return f(this,fi)&&!f(this,fi).classList.contains("hidden")},F(Xi,ob,null),Xi);var Zo,Ab,zm,lb;const mf=class mf{constructor(e){F(this,Zo,null);F(this,Ab,null);F(this,zm,null);_(this,Ab,e),_(this,zm,e._uiManager),f(mf,lb)||_(mf,lb,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(f(this,Zo))return f(this,Zo);const{editorType:e,colorType:t,color:i}=f(this,Ab),r=_(this,Zo,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",f(mf,lb)[e]),r.addEventListener("input",()=>{f(this,zm).updateParams(t,r.value)},{signal:f(this,zm)._signal}),r}update(e){f(this,Zo)&&(f(this,Zo).value=e)}destroy(){var e;(e=f(this,Zo))==null||e.remove(),_(this,Zo,null)}hideDropdown(){}};Zo=new WeakMap,Ab=new WeakMap,zm=new WeakMap,lb=new WeakMap,F(mf,lb,null);let K_=mf;function MK(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function v0(n){return Math.max(0,Math.min(255,255*n))}class PK{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=v0(e),[e,e,e]}static G_HTML([e]){const t=MK(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(v0)}static RGB_HTML(e){return`#${e.map(MK).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[v0(1-Math.min(1,e+r)),v0(1-Math.min(1,i+r)),v0(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,a=1-i,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}}class Dde{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){an("Abstract method `_createSVG` called.")}}let G_=class extends Dde{_createSVG(e){return document.createElementNS(qA,e)}};const Nde=9,rp=new WeakSet,Lde=new Date().getTimezoneOffset()*60*1e3;class nM{static create(e){switch(e.data.annotationType){case ri.LINK:return new IQ(e);case ri.TEXT:return new Ode(e);case ri.WIDGET:switch(e.data.fieldType){case"Tx":return new kde(e);case"Btn":return e.data.radioButton?new kj(e):e.data.checkBox?new Vde(e):new Kde(e);case"Ch":return new Gde(e);case"Sig":return new Hde(e)}return new fp(e);case ri.POPUP:return new CD(e);case ri.FREETEXT:return new zj(e);case ri.LINE:return new qde(e);case ri.SQUARE:return new $de(e);case ri.CIRCLE:return new jde(e);case ri.POLYLINE:return new qj(e);case ri.CARET:return new Yde(e);case ri.INK:return new FQ(e);case ri.POLYGON:return new Wde(e);case ri.HIGHLIGHT:return new $j(e);case ri.UNDERLINE:return new Xde(e);case ri.SQUIGGLY:return new Jde(e);case ri.STRIKEOUT:return new Zde(e);case ri.STAMP:return new jj(e);case ri.FILEATTACHMENT:return new efe(e);default:return new Un(e)}}}var ch,qm,_a,ub,wD;const Tk=class Tk{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){F(this,ub);F(this,ch,null);F(this,qm,!1);F(this,_a,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Tk._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:e}=this,t=(i=this.annotationStorage)==null?void 0:i.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((i==null?void 0:i.length)>=1){for(const l of i)for(let u=0,d=l.length;u<d;u+=2)l[u+1]>a?(a=l[u+1],s=l[u]):l[u+1]===a&&(s=Math.max(s,l[u]));if(s!==1/0)return[s,a]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-a)/r,e}get commentText(){var t,i,r;const{data:e}=this;return((i=(t=this.annotationStorage.getRawValue(`${Tw}${e.id}`))==null?void 0:t.popup)==null?void 0:i.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${Tw}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=f(this,_a))==null?void 0:e.popup)||this.popup)==null||t.remove(),_(this,_a,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(f(this,ch)||_(this,ch,{rect:this.data.rect.slice(0)}));const{rect:t,popup:i}=e;t&&U(this,ub,wD).call(this,t);let r=((s=f(this,_a))==null?void 0:s.popup)||this.popup;!r&&(i!=null&&i.text)&&(this._createPopup(i),r=f(this,_a).popup),r&&(r.updateEdited(e),i!=null&&i.deleted&&(r.remove(),_(this,_a,null),this.popup=null))}resetEdited(){var e;f(this,ch)&&(U(this,ub,wD).call(this,f(this,ch).rect),(e=f(this,_a))==null||e.popup.resetEdited(),_(this,ch,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof fp)&&!(this instanceof IQ)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof CD){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(b>0||E>0){const I=`calc(${b}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;a.borderRadius=I}else if(this instanceof kj){const I=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=I}switch(t.borderStyle.style){case pg.SOLID:a.borderStyle="solid";break;case pg.DASHED:a.borderStyle="dashed";break;case pg.BEVELED:Xe("Unimplemented border style: beveled");break;case pg.INSET:Xe("Unimplemented border style: inset");break;case pg.UNDERLINE:a.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(_(this,qm,!0),a.borderColor=De.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const u=De.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:h,pageX:g,pageY:v}=r.rawDims;a.left=`${100*(u[0]-g)/d}%`,a.top=`${100*(u[1]-v)/h}%`;const{rotation:C}=t;return t.hasOwnCanvas||C===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(C,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*a/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],a=s[0],o=s.slice(1);r.target.style[i]=PK[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:PK[`${a}_rgb`](o)})};return Je(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const a=i[r];if(a){const o={detail:{[r]:s},target:e};a(o),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,E,x,I]=e.subarray(2,6);if(r===b&&s===E&&t===x&&i===I)return}const{style:a}=this.container;let o;if(f(this,qm)){const{borderColor:b,borderWidth:E}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const l=r-t,u=s-i,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const g=d.createElement("defs");h.append(g);const v=d.createElement("clipPath"),C=`clippath_${this.data.id}`;v.setAttribute("id",C),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let b=2,E=e.length;b<E;b+=8){const x=e[b],I=e[b+1],T=e[b+2],R=e[b+3],M=d.createElement("rect"),D=(T-t)/l,L=(s-I)/u,H=(x-T)/l,O=(I-R)/u;M.setAttribute("x",D),M.setAttribute("y",L),M.setAttribute("width",H),M.setAttribute("height",O),v.append(M),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${L}" width="${H}" height="${O}"/>`)}f(this,qm)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${C})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate),_(this,_a,new CD({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(f(this,_a)||this.popup||this.data.popupRef)}get extraPopupElement(){return f(this,_a)}render(){an("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!rp.has(u)){Xe(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:l,domElement:u})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==t&&rp.has(r)&&i.push({id:a,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};ch=new WeakMap,qm=new WeakMap,_a=new WeakMap,ub=new WeakSet,wD=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;i==null||i.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(r)};let Un=Tk;class Qde extends Un{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var zs,Af,Qj,Oj;class IQ extends Un{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});F(this,zs);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),s=!0):t.attachment?(U(this,zs,Qj).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(U(this,zs,Oj).call(this,r,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=r,this.container.append(r)),this.container}_bindLink(t,i,r=""){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&U(this,zs,Af).call(this),r&&(t.title=r)}_bindNamedAction(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),r&&(t.title=r),U(this,zs,Af).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const a=r.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}i.overlaidText&&(t.title=i.overlaidText),t.onclick||(t.onclick=()=>!1),U(this,zs,Af).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),U(this,zs,Af).call(this),!this._fieldObjects){Xe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:s,refs:a,include:o}=i,l=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const v of s){const C=this._fieldObjects[v]||[];for(const{id:b}of C)g.add(b)}for(const v of Object.values(this._fieldObjects))for(const C of v)g.has(C.id)===o&&l.push(C)}else for(const g of Object.values(this._fieldObjects))l.push(...g);const u=this.annotationStorage,d=[];for(const g of l){const{id:v}=g;switch(d.push(v),g.type){case"text":{const b=g.defaultValue||"";u.setValue(v,{value:b});break}case"checkbox":case"radiobutton":{const b=g.defaultValue===g.exportValues;u.setValue(v,{value:b});break}case"combobox":case"listbox":{const b=g.defaultValue||"";u.setValue(v,{value:b});break}default:continue}const C=document.querySelector(`[data-element-id="${v}"]`);if(C){if(!rp.has(C)){Xe(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;C.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}zs=new WeakSet,Af=function(){this.container.setAttribute("data-internal-link","")},Qj=function(t,i,r="",s=null){t.href=this.linkService.getAnchorUrl(""),i.description?t.title=i.description:r&&(t.title=r),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,s),!1},U(this,zs,Af).call(this)},Oj=function(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),r&&(t.title=r),U(this,zs,Af).call(this)};class Ode extends Un{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class fp extends Un{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return sr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(i,a=>{var o;if(i==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}}))})}_setEventListeners(e,t,i,r){var s,a,o;for(const[l,u]of i)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,r),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":De.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Nde,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(jU*r))||1,h=u/d;a=Math.min(r,l(h/jU))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,l(u/jU))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=De.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class kde extends fp{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=i),s.setValue(a.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),rp.add(i),this.contentElement=i,i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:g,timeStep:v}=this.data,C=!!g&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",E=>{e.setValue(t,{value:E.target.value}),this.setPropertyOnSiblings(i,"value",E.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",E=>{const x=this.data.defaultFieldValue??"";i.value=d.userValue=x,d.formattedValue=null});let b=E=>{const{formattedValue:x}=d;x!=null&&(E.target.value=x),E.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",x=>{var T;if(d.focused)return;const{target:I}=x;if(C&&(I.type=g,v&&(I.step=v)),d.userValue){const R=d.userValue;if(C)if(g==="time"){const M=new Date(R),D=[M.getHours(),M.getMinutes(),M.getSeconds()];I.value=D.map(L=>L.toString().padStart(2,"0")).join(":")}else I.value=new Date(R-Lde).toISOString().split(g==="date"?"T":".",1)[0];else I.value=R}d.lastCommittedValue=I.value,d.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const I={value(T){d.userValue=T.detail.value??"",C||e.setValue(t,{value:d.userValue.toString()}),T.target.value=d.userValue},formattedValue(T){const{formattedValue:R}=T.detail;d.formattedValue=R,R!=null&&T.target!==document.activeElement&&(T.target.value=R);const M={formattedValue:R};C&&(M.value=R),e.setValue(t,M)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var L;const{charLimit:R}=T.detail,{target:M}=T;if(R===0){M.removeAttribute("maxLength");return}M.setAttribute("maxLength",R);let D=d.userValue;!D||D.length<=R||(D=D.slice(0,R),M.value=d.userValue=D,e.setValue(t,{value:D}),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:M.selectionStart,selEnd:M.selectionEnd}}))}};this._dispatchEventFromSandbox(I,x)}),i.addEventListener("keydown",x=>{var R;d.commitKey=1;let I=-1;if(x.key==="Escape"?I=0:x.key==="Enter"&&!this.data.multiLine?I=2:x.key==="Tab"&&(d.commitKey=3),I===-1)return;const{value:T}=x.target;d.lastCommittedValue!==T&&(d.lastCommittedValue=T,d.userValue=T,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:I,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const E=b;b=null,i.addEventListener("blur",x=>{var R,M;if(!d.focused||!x.relatedTarget)return;(R=this.data.actions)!=null&&R.Blur||(d.focused=!1);const{target:I}=x;let{value:T}=I;if(C){if(T&&g==="time"){const D=T.split(":").map(L=>parseInt(L,10));T=new Date(2e3,0,1,D[0],D[1],D[2]||0).valueOf(),I.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();I.type="text"}d.userValue=T,d.lastCommittedValue!==T&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:d.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),E(x)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",x=>{var O;d.lastCommittedValue=null;const{data:I,target:T}=x,{value:R,selectionStart:M,selectionEnd:D}=T;let L=M,H=D;switch(x.inputType){case"deleteWordBackward":{const K=R.substring(0,M).match(/\w*[^\w]*$/);K&&(L-=K[0].length);break}case"deleteWordForward":{const K=R.substring(M).match(/^[^\w]*\w*/);K&&(H+=K[0].length);break}case"deleteContentBackward":M===D&&(L-=1);break;case"deleteContentForward":M===D&&(H+=1);break}x.preventDefault(),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,change:I||"",willCommit:!1,selStart:L,selEnd:H}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(b&&i.addEventListener("blur",b),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Hde extends fp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Vde extends fp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return rp.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class kj extends fp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,i))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(rp.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const g=d&&h.id===i;h.domElement&&(h.domElement.checked=g),e.setValue(h.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Kde extends IQ{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class Gde extends fp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");rp.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,i.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),a=()=>{d.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:g,multiple:v}=r;return v?Array.prototype.filter.call(g,C=>C.selected).map(C=>C[h]):g.selectedIndex===-1?null:g[g.selectedIndex][h]};let l=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(g){a==null||a();const v=g.detail.value,C=new Set(Array.isArray(v)?v:[v]);for(const b of r.options)b.selected=C.has(b.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(g){r.multiple=!0},remove(g){const v=r.options,C=g.detail.remove;v[C].selected=!1,r.remove(C),v.length>0&&Array.prototype.findIndex.call(v,E=>E.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},clear(g){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(g){const{index:v,displayValue:C,exportValue:b}=g.detail.insert,E=r.children[v],x=document.createElement("option");x.textContent=C,x.value=b,E?E.before(x):r.append(x),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},items(g){const{items:v}=g.detail;for(;r.length!==0;)r.remove(0);for(const C of v){const{displayValue:b,exportValue:E}=C,x=document.createElement("option");x.textContent=b,x.value=E,r.append(x)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},indices(g){const v=new Set(g.detail.indices);for(const C of g.target.options)C.selected=v.has(C.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var v;const h=o(!0),g=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var cb,bD;class CD extends Un{constructor(t){const{data:i,elements:r,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&Un._hasPopupData(i)});F(this,cb);if(this.elements=r,a&&Un._hasPopupData(i)){const o=this.popup=U(this,cb,bD).call(this);for(const l of r)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const i=this.popup=U(this,cb,bD).call(this),r=[];for(const s of this.elements)s.popup=i,s.container.ariaHasPopup="dialog",r.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(s=>`${Fg}${s}`).join(",")),this.container}}cb=new WeakSet,bD=function(){return new zde({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Is,Nc,o1,A1,$m,jm,Ln,eA,Lc,dh,Wm,Ym,tA,Fs,Bl,El,Qn,Sl,Qc,db,xl,Xm,fh,Oc,Ii,kc,ot,Hx,BD,ED,SD,Vx,xD,Hj,Vj,Kj,Gj,Kx,Gx,_D;class zde{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:d,open:h,commentManager:g=null}){F(this,ot);F(this,Is,null);F(this,Nc,U(this,ot,Kj).bind(this));F(this,o1,U(this,ot,_D).bind(this));F(this,A1,U(this,ot,Gx).bind(this));F(this,$m,U(this,ot,Kx).bind(this));F(this,jm,null);F(this,Ln,null);F(this,eA,null);F(this,Lc,null);F(this,dh,null);F(this,Wm,null);F(this,Ym,null);F(this,tA,!1);F(this,Fs,null);F(this,Bl,null);F(this,El,null);F(this,Qn,null);F(this,Sl,null);F(this,Qc,null);F(this,db,null);F(this,xl,null);F(this,Xm,null);F(this,fh,null);F(this,Oc,!1);F(this,Ii,null);F(this,kc,null);_(this,Ln,e),_(this,Xm,r),_(this,eA,a),_(this,xl,o),_(this,Wm,l),_(this,jm,t),_(this,db,u),_(this,Ym,d),_(this,dh,i),_(this,Is,g),_(this,Ii,i[0]),_(this,Lc,FR.toDateObject(s)),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup()),g||(U(this,ot,Hx).call(this),f(this,Ln).hidden=!0,h&&U(this,ot,Kx).call(this))}renderCommentButton(){if(f(this,Qn)){f(this,Qn).parentNode||f(this,Ii).container.after(f(this,Qn));return}if(f(this,Sl)||U(this,ot,BD).call(this),!f(this,Sl))return;const{signal:e}=_(this,Bl,new AbortController),t=f(this,Ii).hasOwnCommentButton,i=()=>{f(this,Is).toggleCommentPopup(this,!0,void 0,!t)},r=()=>{f(this,Is).toggleCommentPopup(this,!1,!0,!t)},s=()=>{f(this,Is).toggleCommentPopup(this,!1,!1)};if(t){_(this,Qn,f(this,Ii).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",f(this,Nc),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=_(this,Qn,document.createElement("button"));a.className="annotationCommentButton";const o=f(this,Ii).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),U(this,ot,SD).call(this),U(this,ot,ED).call(this),a.addEventListener("keydown",f(this,Nc),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=f(this,Ii).commentData;return e?f(this,Wm)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=f(this,Qn))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=f(this,Ii).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return f(this,Qn)}get comment(){return f(this,kc)||_(this,kc,f(this,Ii).commentText),f(this,kc)}set comment(e){e!==this.comment&&(f(this,Ii).commentText=_(this,kc,e))}focus(){var e;(e=f(this,Ii).container)==null||e.focus()}get parentBoundingClientRect(){return f(this,Ii).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){f(this,Qn)&&(f(this,Qn).classList.toggle("selected",e),f(this,Qn).ariaExpanded=t)}setSelectedCommentButton(e){f(this,Qn).classList.toggle("selected",e)}get commentPopupPosition(){if(f(this,Qc))return f(this,Qc);const{x:e,y:t,height:i}=f(this,Qn).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=f(this,Ii).layer.getBoundingClientRect();return[(e-r)/a,(t+i-s)/o]}set commentPopupPosition(e){_(this,Qc,e)}hasDefaultPopupPosition(){return f(this,Qc)===null}get commentButtonPosition(){return f(this,Sl)}get commentButtonWidth(){return f(this,Qn).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=f(this,Qc)||this.commentButtonPosition.map(u=>u/100),r=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=r;f(this,Is).showDialog(null,this,s+t*o,a+i*l,{...e,parentDimensions:r})}render(){var i,r;if(f(this,Fs))return;const e=_(this,Fs,document.createElement("div"));if(e.className="popup",f(this,jm)){const s=e.style.outlineColor=De.makeHexColor(...f(this,jm));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(i=f(this,Xm))!=null&&i.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=f(this,Xm)}if(e.append(t),f(this,Lc)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,Lc).valueOf()})),s.dateTime=f(this,Lc).toISOString(),t.append(s)}I6({html:f(this,ot,Vx)||f(this,eA).str,dir:(r=f(this,eA))==null?void 0:r.dir,className:"popupContent"},e),f(this,Ln).append(e)}updateEdited({rect:e,popup:t,deleted:i}){var r;if(f(this,Is)){i?(this.remove(),_(this,kc,null)):t&&(t.deleted?this.remove():(U(this,ot,SD).call(this),_(this,kc,t.text))),e&&(_(this,Sl,null),U(this,ot,BD).call(this),U(this,ot,ED).call(this));return}if(i||t!=null&&t.deleted){this.remove();return}U(this,ot,Hx).call(this),f(this,fh)||_(this,fh,{contentsObj:f(this,eA),richText:f(this,xl)}),e&&_(this,El,null),t&&t.text&&(_(this,xl,U(this,ot,Vj).call(this,t.text)),_(this,Lc,FR.toDateObject(t.date)),_(this,eA,null)),(r=f(this,Fs))==null||r.remove(),_(this,Fs,null)}resetEdited(){var e;f(this,fh)&&({contentsObj:zn(this,eA)._,richText:zn(this,xl)._}=f(this,fh),_(this,fh,null),(e=f(this,Fs))==null||e.remove(),_(this,Fs,null),_(this,El,null))}remove(){var e,t,i;if((e=f(this,Bl))==null||e.abort(),_(this,Bl,null),(t=f(this,Fs))==null||t.remove(),_(this,Fs,null),_(this,Oc,!1),_(this,tA,!1),(i=f(this,Qn))==null||i.remove(),_(this,Qn,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){_(this,Oc,this.isVisible),f(this,Oc)&&(f(this,Ln).hidden=!0)}maybeShow(){f(this,Is)||(U(this,ot,Hx).call(this),f(this,Oc)&&(f(this,Fs)||U(this,ot,Gx).call(this),_(this,Oc,!1),f(this,Ln).hidden=!1))}get isVisible(){return f(this,Is)?!1:f(this,Ln).hidden===!1}}Is=new WeakMap,Nc=new WeakMap,o1=new WeakMap,A1=new WeakMap,$m=new WeakMap,jm=new WeakMap,Ln=new WeakMap,eA=new WeakMap,Lc=new WeakMap,dh=new WeakMap,Wm=new WeakMap,Ym=new WeakMap,tA=new WeakMap,Fs=new WeakMap,Bl=new WeakMap,El=new WeakMap,Qn=new WeakMap,Sl=new WeakMap,Qc=new WeakMap,db=new WeakMap,xl=new WeakMap,Xm=new WeakMap,fh=new WeakMap,Oc=new WeakMap,Ii=new WeakMap,kc=new WeakMap,ot=new WeakSet,Hx=function(){var t;if(f(this,Bl))return;_(this,Bl,new AbortController);const{signal:e}=f(this,Bl);for(const i of this.trigger)i.addEventListener("click",f(this,$m),{signal:e}),i.addEventListener("pointerenter",f(this,A1),{signal:e}),i.addEventListener("pointerleave",f(this,o1),{signal:e}),i.classList.add("popupTriggerArea");for(const i of f(this,dh))(t=i.container)==null||t.addEventListener("keydown",f(this,Nc),{signal:e})},BD=function(){const e=f(this,dh).find(t=>t.hasCommentButton);e&&_(this,Sl,e._normalizePoint(e.commentButtonPosition))},ED=function(){if(f(this,Ii).extraPopupElement&&!f(this,Ii).editor)return;f(this,Qn)||this.renderCommentButton();const[e,t]=f(this,Sl),{style:i}=f(this,Qn);i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`},SD=function(){f(this,Ii).extraPopupElement||(f(this,Qn)||this.renderCommentButton(),f(this,Qn).style.backgroundColor=this.commentButtonColor||"")},Vx=function(){const e=f(this,xl),t=f(this,eA);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,xl).html||null},xD=function(){var e,t,i;return((i=(t=(e=f(this,ot,Vx))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},Hj=function(){var e,t,i;return((i=(t=(e=f(this,ot,Vx))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},Vj=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:f(this,ot,Hj),fontSize:f(this,ot,xD)?`calc(${f(this,ot,xD)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},Kj=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,tA))&&U(this,ot,Kx).call(this)},Gj=function(){if(f(this,El)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=f(this,Wm);let a=!!f(this,Ym),o=a?f(this,Ym):f(this,db);for(const C of f(this,dh))if(!o||De.intersect(C.data.rect,o)!==null){o=C.data.rect,a=!0;break}const l=De.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,g=l[1];_(this,El,[100*(h-r)/t,100*(g-s)/i]);const{style:v}=f(this,Ln);v.left=`${f(this,El)[0]}%`,v.top=`${f(this,El)[1]}%`},Kx=function(){if(f(this,Is)){f(this,Is).toggleCommentPopup(this,!1);return}_(this,tA,!f(this,tA)),f(this,tA)?(U(this,ot,Gx).call(this),f(this,Ln).addEventListener("click",f(this,$m)),f(this,Ln).addEventListener("keydown",f(this,Nc))):(U(this,ot,_D).call(this),f(this,Ln).removeEventListener("click",f(this,$m)),f(this,Ln).removeEventListener("keydown",f(this,Nc)))},Gx=function(){f(this,Fs)||this.render(),this.isVisible?f(this,tA)&&f(this,Ln).classList.add("focused"):(U(this,ot,Gj).call(this),f(this,Ln).hidden=!1,f(this,Ln).style.zIndex=parseInt(f(this,Ln).style.zIndex)+1e3)},_D=function(){f(this,Ln).classList.remove("focused"),!(f(this,tA)||!this.isVisible)&&(f(this,Ln).hidden=!0,f(this,Ln).style.zIndex=parseInt(f(this,Ln).style.zIndex)-1e3)};class zj extends Un{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=et.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var fb;class qde extends Un{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,fb,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=_(this,fb,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,fb)}addHighlightArea(){this.container.classList.add("highlightArea")}}fb=new WeakMap;var hb;class $de extends Un{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,hb,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=_(this,hb,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",i-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,hb)}addHighlightArea(){this.container.classList.add("highlightArea")}}hb=new WeakMap;var pb;class jde extends Un{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,pb,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=_(this,pb,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",r/2),o.setAttribute("rx",i/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,pb)}addHighlightArea(){this.container.classList.add("highlightArea")}}pb=new WeakMap;var gb;class qj extends Un{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,gb,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s},width:a,height:o}=this;if(!i)return this.container;const l=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,g=i.length;h<g;h+=2){const v=i[h]-t[0],C=t[3]-i[h+1];u.push(`${v},${C}`)}u=u.join(" ");const d=_(this,gb,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,gb)}addHighlightArea(){this.container.classList.add("highlightArea")}}gb=new WeakMap;class Wde extends qj{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yde extends Un{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var mb,hh,vb,TD;class FQ extends Un{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,vb);F(this,mb,null);F(this,hh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?et.HIGHLIGHT:et.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:r,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=U(this,vb,TD).call(this,i,t),d=this.svgFactory.create(l,u,!0),h=_(this,mb,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let g=0,v=r.length;g<v;g++){const C=this.svgFactory.createElement(this.svgElementName);f(this,hh).push(C),C.setAttribute("points",r[g].join(",")),h.append(C)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:r,rect:s}=t,a=f(this,mb);if(i>=0&&a.setAttribute("stroke-width",i||1),r)for(let o=0,l=f(this,hh).length;o<l;o++)f(this,hh)[o].setAttribute("points",r[o].join(","));if(s){const{transform:o,width:l,height:u}=U(this,vb,TD).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return f(this,hh)}addHighlightArea(){this.container.classList.add("highlightArea")}}mb=new WeakMap,hh=new WeakMap,vb=new WeakSet,TD=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class $j extends Un{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=et.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Xde extends Un{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Jde extends Un{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Zde extends Un{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class jj extends Un{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=et.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var yb,wb,ID;class efe extends Un{constructor(t){var r;super(t,{isRenderable:!0});F(this,wb);F(this,yb,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",U(this,wb,ID).bind(this)),_(this,yb,r);const{isMac:s}=sr.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&U(this,wb,ID).call(this)}),!i.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return f(this,yb)}addHighlightArea(){this.container.classList.add("highlightArea")}}yb=new WeakMap,wb=new WeakSet,ID=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var ph,gh,Jm,Hc,Cb,mh,Us,bb,iu,zx,FD,Zm;let tfe=(Zm=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:u,annotationStorage:d}){F(this,iu);F(this,ph,null);F(this,gh,null);F(this,Jm,null);F(this,Hc,new Map);F(this,Cb,null);F(this,mh,null);F(this,Us,[]);F(this,bb,!1);this.div=e,_(this,ph,t),_(this,gh,i),_(this,Cb,o||null),_(this,mh,u||null),_(this,Jm,d||new SQ),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=l||null}hasEditableAnnotations(){return f(this,Hc).size>0}async render(e){var o;const{annotations:t}=e,i=this.div;np(i,this.viewport);const r=new Map,s=[],a={data:null,layer:i,linkService:f(this,mh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new G_,annotationStorage:f(this,Jm),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===ri.POPUP;if(u){const g=r.get(l.id);if(!g)continue;if(!this._commentManager){s.push(l);continue}a.elements=g}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=nM.create(a);if(!d.isRenderable)continue;if(!u&&(f(this,Us).push(d),l.popupRef)){const g=r.get(l.popupRef);g?g.push(d):r.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(f(this,Hc).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}await U(this,iu,zx).call(this);for(const l of s){const u=a.elements=r.get(l.id);a.data=l;const d=nM.create(a);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${Fg}${l.id}`,l.hidden&&(h.style.visibility="hidden"),u.at(-1).container.after(h)}U(this,iu,FD).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:f(this,mh),svgFactory:new G_,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=Zm._defaultBorderStyle),t.data=i;const r=nM.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${Fg}${i.id}`,f(this,Us).push(r))}await U(this,iu,zx).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,np(t,{rotation:e.rotation}),U(this,iu,FD).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,Hc).values())}getEditableAnnotation(e){return f(this,Hc).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:i,rotation:r}=e,s=new Qde({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:f(this,mh),annotationStorage:f(this,Jm)});return s.render(),s.contentElement.id=`${Fg}${i}`,s.createOrUpdatePopup(),f(this,Us).push(s),s}removeAnnotation(e){var r;const t=f(this,Us).findIndex(s=>s.data.id===e);if(t<0)return;const[i]=f(this,Us).splice(t,1);(r=f(this,ph))==null||r.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);U(this,iu,zx).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Je(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:pg.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},ph=new WeakMap,gh=new WeakMap,Jm=new WeakMap,Hc=new WeakMap,Cb=new WeakMap,mh=new WeakMap,Us=new WeakMap,bb=new WeakMap,iu=new WeakSet,zx=async function(){var i,r,s;if(f(this,Us).length===0)return;this.div.replaceChildren();const e=[];if(!f(this,bb)){_(this,bb,!0);for(const{contentElement:a,data:{id:o}}of f(this,Us)){const l=a.id=`${Fg}${o}`;e.push((i=f(this,Cb))==null?void 0:i.getAriaAttributes(l).then(u=>{if(u)for(const[d,h]of u)a.setAttribute(d,h)}))}}f(this,Us).sort(({data:{rect:[a,o,l,u]}},{data:{rect:[d,h,g,v]}})=>{if(a===l&&o===u)return 1;if(d===g&&h===v)return-1;const C=u,b=o,E=(o+u)/2,x=v,I=h,T=(h+v)/2;if(E>=x&&T<=b)return-1;if(T>=C&&E<=I)return 1;const R=(a+l)/2,M=(d+g)/2;return R-M});const t=document.createDocumentFragment();for(const a of f(this,Us))t.append(a.container),this._commentManager?(s=((r=a.extraPopupElement)==null?void 0:r.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&t.append(a.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),f(this,ph))for(const a of f(this,Us))f(this,ph).addPointerInTextLayer(a.contentElement,!1)},FD=function(){var t;if(!f(this,gh))return;const e=this.div;for(const[i,r]of f(this,gh)){const s=e.querySelector(`[data-annotation-id="${i}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):s.append(r);const o=f(this,Hc).get(i);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(i,s.id,r),o._hasNoCanvas=!1):o.canvas=r)}f(this,gh).clear()},Zm);const TS=/\r\n?|\n/g;var Ms,Bb,vh,Ps,ui,Wj,Yj,Xj,qx,ru,$x,jx,Jj,MD,Zj;const gn=class gn extends dn{constructor(t){super({...t,name:"freeTextEditor"});F(this,ui);F(this,Ms,"");F(this,Bb,`${this.id}-editor`);F(this,vh,null);F(this,Ps);ge(this,"_colorPicker",null);this.color=t.color||gn._defaultColor||dn._defaultLineColor,_(this,Ps,t.fontSize||gn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=gn.prototype,i=a=>a.isEmpty(),r=Uw.TRANSLATE_SMALL,s=Uw.TRANSLATE_BIG;return Je(this,"_keyboardManager",new PB([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){dn.initialize(t,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case wt.FREETEXT_SIZE:gn._defaultFontSize=i;break;case wt.FREETEXT_COLOR:gn._defaultColor=i;break}}updateParams(t,i){switch(t){case wt.FREETEXT_SIZE:U(this,ui,Wj).call(this,i);break;case wt.FREETEXT_COLOR:U(this,ui,Yj).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[wt.FREETEXT_SIZE,gn._defaultFontSize],[wt.FREETEXT_COLOR,gn._defaultColor||dn._defaultLineColor]]}get propertiesToUpdate(){return[[wt.FREETEXT_SIZE,f(this,Ps)],[wt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new K_(this)),[["colorPicker",this._colorPicker]]}get colorType(){return wt.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-gn._internalPadding*t,-(gn._internalPadding+f(this,Ps))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,vh,new AbortController);const t=this._uiManager.combinedSignal(f(this,vh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,Bb)),this._isDraggable=!0,(t=f(this,vh))==null||t.abort(),_(this,vh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,Ms),i=_(this,Ms,U(this,ui,Xj).call(this).trimEnd());if(t===i)return;const r=s=>{if(_(this,Ms,s),!s){this.remove();return}U(this,ui,jx).call(this),this._uiManager.rebuild(this),U(this,ui,qx).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),U(this,ui,qx).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){gn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,i;(this._isCopy||this.annotationElementId)&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,Bb)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${f(this,Ps)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[g,v]=this.pageTranslation;let C,b;switch(this.rotation){case 0:C=t+(o[0]-g)/d,b=i+this.height-(o[1]-v)/h;break;case 90:C=t+(o[0]-g)/d,b=i-(o[1]-v)/h,[l,u]=[u,-l];break;case 180:C=t-this.width+(o[0]-g)/d,b=i-(o[1]-v)/h,[l,u]=[-l,-u];break;case 270:C=t+(o[0]-g-this.height*h)/d,b=i+(o[1]-v-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(C*s,b*a,l,u)}else this._moveAfterPaste(t,i);U(this,ui,jx).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var C,b,E;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=U(C=gn,ru,MD).call(C,i.getData("text")||"").replaceAll(TS,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(TS,"")),x!==this.editorDiv){let I=d;for(const T of this.editorDiv.childNodes){if(T===x){I=h;continue}I.push(U(b=gn,ru,$x).call(b,T))}}d.push(l.nodeValue.slice(0,u).replaceAll(TS,""))}else if(l===this.editorDiv){let x=d,I=0;for(const T of this.editorDiv.childNodes)I++===u&&(x=h),x.push(U(E=gn,ru,$x).call(E,T))}_(this,Ms,`${d.join(`
`)}${s}${h.join(`
`)}`),U(this,ui,jx).call(this);const g=new Range;let v=Math.sumPrecise(d.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const I=x.nodeValue.length;if(v<=I){g.setStart(x,v),g.setEnd(x,v);break}v-=I}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=gn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,i,r){var o;let s=null;if(t instanceof zj){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:g,popupRef:v,richText:C,contentsObj:b,creationDate:E,modificationDate:x},textContent:I,textPosition:T,parent:{page:{pageNumber:R}}}=t;if(!I||I.length===0)return null;s=t={annotationType:et.FREETEXT,color:Array.from(u),fontSize:l,value:I.join(`
`),position:T,pageIndex:R-1,rect:d.slice(0),rotation:h,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(b==null?void 0:b.str)||null,richText:C,creationDate:E,modificationDate:x}}const a=await super.deserialize(t,i,r);return _(a,Ps,t.fontSize),a.color=De.makeHexColor(...t.color),_(a,Ms,U(o=gn,ru,MD).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=dn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:i,fontSize:f(this,Ps),value:U(this,ui,Jj).call(this)});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!U(this,ui,Zj).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(!i)return null;const{style:r}=i;r.fontSize=`calc(${f(this,Ps)}px * var(--total-scale-factor))`,r.color=this.color,i.replaceChildren();for(const s of f(this,Ms).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),i.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:f(this,Ms)}}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ms=new WeakMap,Bb=new WeakMap,vh=new WeakMap,Ps=new WeakMap,ui=new WeakSet,Wj=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-f(this,Ps))*this.parentScale),_(this,Ps,s),U(this,ui,qx).call(this)},r=f(this,Ps);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:wt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Yj=function(t){const i=s=>{this.color=s,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:wt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Xj=function(){var r;const t=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(U(r=gn,ru,$x).call(r,s)),i=s);return t.join(`
`)},qx=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},ru=new WeakSet,$x=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(TS,"")},jx=function(){if(this.editorDiv.replaceChildren(),!!f(this,Ms))for(const t of f(this,Ms).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},Jj=function(){return f(this,Ms).replaceAll(""," ")},MD=function(t){return t.replaceAll(" ","")},Zj=function(t){const{value:i,fontSize:r,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},F(gn,ru),ge(gn,"_freeTextDefaultContent",""),ge(gn,"_internalPadding",0),ge(gn,"_defaultColor",null),ge(gn,"_defaultFontSize",10),ge(gn,"_type","freetext"),ge(gn,"_editorType",et.FREETEXT);let UD=gn;class Fe{toSVGPath(){an("Abstract method `toSVGPath` must be implemented.")}get box(){an("Abstract getter `box` must be implemented.")}serialize(e,t){an("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*r,a[o+1]=i+e[o+1]*s;return a}static _rescaleAndSwap(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*r,a[o+1]=i+e[o]*s;return a}static _translate(e,t,i,r){r||(r=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,a){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+a)/6,(i+s)/2,(r+a)/2]}}ge(Fe,"PRECISION",1e-4);var Rs,oo,ev,tv,nA,ut,yh,wh,Eb,Sb,nv,iv,Vc,xb,l1,u1,vi,X0,eW,tW,nW,iW,rW,sW;const XA=class XA{constructor({x:e,y:t},i,r,s,a,o=0){F(this,vi);F(this,Rs);F(this,oo,[]);F(this,ev);F(this,tv);F(this,nA,[]);F(this,ut,new Float32Array(18));F(this,yh);F(this,wh);F(this,Eb);F(this,Sb);F(this,nv);F(this,iv);F(this,Vc,[]);_(this,Rs,i),_(this,iv,s*r),_(this,tv,a),f(this,ut).set([NaN,NaN,NaN,NaN,e,t],6),_(this,ev,o),_(this,Sb,f(XA,xb)*r),_(this,Eb,f(XA,u1)*r),_(this,nv,r),f(this,Vc).push(e,t)}isEmpty(){return isNaN(f(this,ut)[8])}add({x:e,y:t}){var O;_(this,yh,e),_(this,wh,t);const[i,r,s,a]=f(this,Rs);let[o,l,u,d]=f(this,ut).subarray(8,12);const h=e-u,g=t-d,v=Math.hypot(h,g);if(v<f(this,Eb))return!1;const C=v-f(this,Sb),b=C/v,E=b*h,x=b*g;let I=o,T=l;o=u,l=d,u+=E,d+=x,(O=f(this,Vc))==null||O.push(e,t);const R=-x/C,M=E/C,D=R*f(this,iv),L=M*f(this,iv);return f(this,ut).set(f(this,ut).subarray(2,8),0),f(this,ut).set([u+D,d+L],4),f(this,ut).set(f(this,ut).subarray(14,18),12),f(this,ut).set([u-D,d-L],16),isNaN(f(this,ut)[6])?(f(this,nA).length===0&&(f(this,ut).set([o+D,l+L],2),f(this,nA).push(NaN,NaN,NaN,NaN,(o+D-i)/s,(l+L-r)/a),f(this,ut).set([o-D,l-L],14),f(this,oo).push(NaN,NaN,NaN,NaN,(o-D-i)/s,(l-L-r)/a)),f(this,ut).set([I,T,o,l,u,d],6),!this.isEmpty()):(f(this,ut).set([I,T,o,l,u,d],6),Math.abs(Math.atan2(T-l,I-o)-Math.atan2(x,E))<Math.PI/2?([o,l,u,d]=f(this,ut).subarray(2,6),f(this,nA).push(NaN,NaN,NaN,NaN,((o+u)/2-i)/s,((l+d)/2-r)/a),[o,l,I,T]=f(this,ut).subarray(14,18),f(this,oo).push(NaN,NaN,NaN,NaN,((I+o)/2-i)/s,((T+l)/2-r)/a),!0):([I,T,o,l,u,d]=f(this,ut).subarray(0,6),f(this,nA).push(((I+5*o)/6-i)/s,((T+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+d)/6-r)/a,((o+u)/2-i)/s,((l+d)/2-r)/a),[u,d,o,l,I,T]=f(this,ut).subarray(12,18),f(this,oo).push(((I+5*o)/6-i)/s,((T+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+d)/6-r)/a,((o+u)/2-i)/s,((l+d)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,nA),t=f(this,oo);if(isNaN(f(this,ut)[6])&&!this.isEmpty())return U(this,vi,eW).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);U(this,vi,nW).call(this,i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return U(this,vi,tW).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,r,s,a){return new aW(e,t,i,r,s,a)}getOutlines(){var h;const e=f(this,nA),t=f(this,oo),i=f(this,ut),[r,s,a,o]=f(this,Rs),l=new Float32Array((((h=f(this,Vc))==null?void 0:h.length)??0)+2);for(let g=0,v=l.length-2;g<v;g+=2)l[g]=(f(this,Vc)[g]-r)/a,l[g+1]=(f(this,Vc)[g+1]-s)/o;if(l[l.length-2]=(f(this,yh)-r)/a,l[l.length-1]=(f(this,wh)-s)/o,isNaN(i[6])&&!this.isEmpty())return U(this,vi,iW).call(this,l);const u=new Float32Array(f(this,nA).length+24+f(this,oo).length);let d=e.length;for(let g=0;g<d;g+=2){if(isNaN(e[g])){u[g]=u[g+1]=NaN;continue}u[g]=e[g],u[g+1]=e[g+1]}d=U(this,vi,sW).call(this,u,d);for(let g=t.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(t[g+v])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[g+v],u[d+1]=t[g+v+1],d+=2}return U(this,vi,rW).call(this,u,d),this.newFreeDrawOutline(u,l,f(this,Rs),f(this,nv),f(this,ev),f(this,tv))}};Rs=new WeakMap,oo=new WeakMap,ev=new WeakMap,tv=new WeakMap,nA=new WeakMap,ut=new WeakMap,yh=new WeakMap,wh=new WeakMap,Eb=new WeakMap,Sb=new WeakMap,nv=new WeakMap,iv=new WeakMap,Vc=new WeakMap,xb=new WeakMap,l1=new WeakMap,u1=new WeakMap,vi=new WeakSet,X0=function(){const e=f(this,ut).subarray(4,6),t=f(this,ut).subarray(16,18),[i,r,s,a]=f(this,Rs);return[(f(this,yh)+(e[0]-t[0])/2-i)/s,(f(this,wh)+(e[1]-t[1])/2-r)/a,(f(this,yh)+(t[0]-e[0])/2-i)/s,(f(this,wh)+(t[1]-e[1])/2-r)/a]},eW=function(){const[e,t,i,r]=f(this,Rs),[s,a,o,l]=U(this,vi,X0).call(this);return`M${(f(this,ut)[2]-e)/i} ${(f(this,ut)[3]-t)/r} L${(f(this,ut)[4]-e)/i} ${(f(this,ut)[5]-t)/r} L${s} ${a} L${o} ${l} L${(f(this,ut)[16]-e)/i} ${(f(this,ut)[17]-t)/r} L${(f(this,ut)[14]-e)/i} ${(f(this,ut)[15]-t)/r} Z`},tW=function(e){const t=f(this,oo);e.push(`L${t[4]} ${t[5]} Z`)},nW=function(e){const[t,i,r,s]=f(this,Rs),a=f(this,ut).subarray(4,6),o=f(this,ut).subarray(16,18),[l,u,d,h]=U(this,vi,X0).call(this);e.push(`L${(a[0]-t)/r} ${(a[1]-i)/s} L${l} ${u} L${d} ${h} L${(o[0]-t)/r} ${(o[1]-i)/s}`)},iW=function(e){const t=f(this,ut),[i,r,s,a]=f(this,Rs),[o,l,u,d]=U(this,vi,X0).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/a],0),this.newFreeDrawOutline(h,e,f(this,Rs),f(this,nv),f(this,ev),f(this,tv))},rW=function(e,t){const i=f(this,oo);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},sW=function(e,t){const i=f(this,ut).subarray(4,6),r=f(this,ut).subarray(16,18),[s,a,o,l]=f(this,Rs),[u,d,h,g]=U(this,vi,X0).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,g,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l],t),t+=24},F(XA,xb,8),F(XA,l1,2),F(XA,u1,f(XA,xb)+f(XA,l1));let z_=XA;var rv,Ch,_l,_b,Ds,Tb,Wn,c1,oW;class aW extends Fe{constructor(t,i,r,s,a,o){super();F(this,c1);F(this,rv);F(this,Ch,new Float32Array(4));F(this,_l);F(this,_b);F(this,Ds);F(this,Tb);F(this,Wn);_(this,Wn,t),_(this,Ds,i),_(this,rv,r),_(this,Tb,s),_(this,_l,a),_(this,_b,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],U(this,c1,oW).call(this,o);const[l,u,d,h]=f(this,Ch);for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-l)/d,t[g+1]=(t[g+1]-u)/h;for(let g=0,v=i.length;g<v;g+=2)i[g]=(i[g]-l)/d,i[g+1]=(i[g+1]-u)/h}toSVGPath(){const t=[`M${f(this,Wn)[4]} ${f(this,Wn)[5]}`];for(let i=6,r=f(this,Wn).length;i<r;i+=6){if(isNaN(f(this,Wn)[i])){t.push(`L${f(this,Wn)[i+4]} ${f(this,Wn)[i+5]}`);continue}t.push(`C${f(this,Wn)[i]} ${f(this,Wn)[i+1]} ${f(this,Wn)[i+2]} ${f(this,Wn)[i+3]} ${f(this,Wn)[i+4]} ${f(this,Wn)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],a){const o=r-t,l=s-i;let u,d;switch(a){case 0:u=Fe._rescale(f(this,Wn),t,s,o,-l),d=Fe._rescale(f(this,Ds),t,s,o,-l);break;case 90:u=Fe._rescaleAndSwap(f(this,Wn),t,i,o,l),d=Fe._rescaleAndSwap(f(this,Ds),t,i,o,l);break;case 180:u=Fe._rescale(f(this,Wn),r,i,-o,l),d=Fe._rescale(f(this,Ds),r,i,-o,l);break;case 270:u=Fe._rescaleAndSwap(f(this,Wn),r,s,-o,-l),d=Fe._rescaleAndSwap(f(this,Ds),r,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return f(this,Ch)}newOutliner(t,i,r,s,a,o=0){return new z_(t,i,r,s,a,o)}getNewOutline(t,i){const[r,s,a,o]=f(this,Ch),[l,u,d,h]=f(this,rv),g=a*d,v=o*h,C=r*d+l,b=s*h+u,E=this.newOutliner({x:f(this,Ds)[0]*g+C,y:f(this,Ds)[1]*v+b},f(this,rv),f(this,Tb),t,f(this,_b),i??f(this,_l));for(let x=2;x<f(this,Ds).length;x+=2)E.add({x:f(this,Ds)[x]*g+C,y:f(this,Ds)[x+1]*v+b});return E.getOutlines()}}rv=new WeakMap,Ch=new WeakMap,_l=new WeakMap,_b=new WeakMap,Ds=new WeakMap,Tb=new WeakMap,Wn=new WeakMap,c1=new WeakSet,oW=function(t){const i=f(this,Wn);let r=i[4],s=i[5];const a=[r,s,r,s];let o=r,l=s,u=r,d=s;const h=t?Math.max:Math.min,g=new Float32Array(4);for(let C=6,b=i.length;C<b;C+=6){const E=i[C+4],x=i[C+5];isNaN(i[C])?(De.pointBoundingBox(E,x,a),l>x?(o=E,l=x):l===x&&(o=h(o,E)),d<x?(u=E,d=x):d===x&&(u=h(u,E))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,De.bezierBoundingBox(r,s,...i.slice(C,C+6),g),De.rectBoundingBox(g[0],g[1],g[2],g[3],a),l>g[1]?(o=g[0],l=g[1]):l===g[1]&&(o=h(o,g[0])),d<g[3]?(u=g[2],d=g[3]):d===g[3]&&(u=h(u,g[2]))),r=E,s=x}const v=f(this,Ch);v[0]=a[0]-f(this,_l),v[1]=a[1]-f(this,_l),v[2]=a[2]-a[0]+2*f(this,_l),v[3]=a[3]-a[1]+2*f(this,_l),this.firstPoint=[o,l],this.lastPoint=[u,d]};var Ib,Fb,Ub,Kc,Ao,Or,AW,Wx,lW,uW,RD;class PD{constructor(e,t=0,i=0,r=!0){F(this,Or);F(this,Ib);F(this,Fb);F(this,Ub);F(this,Kc,[]);F(this,Ao,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:b,y:E,width:x,height:I}of e){const T=Math.floor((b-t)/a)*a,R=Math.ceil((b+x+t)/a)*a,M=Math.floor((E-t)/a)*a,D=Math.ceil((E+I+t)/a)*a,L=[T,M,D,!0],H=[R,M,D,!1];f(this,Kc).push(L,H),De.rectBoundingBox(T,M,R,D,s)}const o=s[2]-s[0]+2*i,l=s[3]-s[1]+2*i,u=s[0]-i,d=s[1]-i;let h=r?-1/0:1/0,g=1/0;const v=f(this,Kc).at(r?-1:-2),C=[v[0],v[2]];for(const b of f(this,Kc)){const[E,x,I,T]=b;!T&&r?x<g?(g=x,h=E):x===g&&(h=Math.max(h,E)):T&&!r&&(x<g?(g=x,h=E):x===g&&(h=Math.min(h,E))),b[0]=(E-u)/o,b[1]=(x-d)/l,b[2]=(I-d)/l}_(this,Ib,new Float32Array([u,d,o,l])),_(this,Fb,[h,g]),_(this,Ub,C)}getOutlines(){f(this,Kc).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of f(this,Kc))t[3]?(e.push(...U(this,Or,RD).call(this,t)),U(this,Or,lW).call(this,t)):(U(this,Or,uW).call(this,t),e.push(...U(this,Or,RD).call(this,t)));return U(this,Or,AW).call(this,e)}}Ib=new WeakMap,Fb=new WeakMap,Ub=new WeakMap,Kc=new WeakMap,Ao=new WeakMap,Or=new WeakSet,AW=function(e){const t=[],i=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),i.add(l),i.add(u)}const r=[];let s;for(;i.size>0;){const a=i.values().next().value;let[o,l,u,d,h]=a;i.delete(a);let g=o,v=l;for(s=[o,u],r.push(s);;){let C;if(i.has(d))C=d;else if(i.has(h))C=h;else break;i.delete(C),[o,l,u,d,h]=C,g!==o&&(s.push(g,v,o,v===l?l:u),g=o),v=v===l?u:l}s.push(g,v)}return new nfe(r,f(this,Ib),f(this,Fb),f(this,Ub))},Wx=function(e){const t=f(this,Ao);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,a=t[s][0];if(a===e)return s;a<e?i=s+1:r=s-1}return r+1},lW=function([,e,t]){const i=U(this,Or,Wx).call(this,e);f(this,Ao).splice(i,0,[e,t])},uW=function([,e,t]){const i=U(this,Or,Wx).call(this,e);for(let r=i;r<f(this,Ao).length;r++){const[s,a]=f(this,Ao)[r];if(s!==e)break;if(s===e&&a===t){f(this,Ao).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,a]=f(this,Ao)[r];if(s!==e)break;if(s===e&&a===t){f(this,Ao).splice(r,1);return}}},RD=function(e){const[t,i,r]=e,s=[[t,i,r]],a=U(this,Or,Wx).call(this,r);for(let o=0;o<a;o++){const[l,u]=f(this,Ao)[o];for(let d=0,h=s.length;d<h;d++){const[,g,v]=s[d];if(!(u<=g||v<=l)){if(g>=l){if(v>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,v>u&&s.push([t,u,v])}}}return s};var Mb,sv;class nfe extends Fe{constructor(t,i,r,s){super();F(this,Mb);F(this,sv);_(this,sv,t),_(this,Mb,i),this.firstPoint=r,this.lastPoint=s}toSVGPath(){const t=[];for(const i of f(this,sv)){let[r,s]=i;t.push(`M${r} ${s}`);for(let a=2;a<i.length;a+=2){const o=i[a],l=i[a+1];o===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],a){const o=[],l=r-t,u=s-i;for(const d of f(this,sv)){const h=new Array(d.length);for(let g=0;g<d.length;g+=2)h[g]=t+d[g]*l,h[g+1]=s-d[g+1]*u;o.push(h)}return o}get box(){return f(this,Mb)}get classNamesForOutlining(){return["highlightOutline"]}}Mb=new WeakMap,sv=new WeakMap;class DD extends z_{newFreeDrawOutline(e,t,i,r,s,a){return new ife(e,t,i,r,s,a)}}class ife extends aW{newOutliner(e,t,i,r,s,a=0){return new DD(e,t,i,r,s,a)}}var av,Pb,Tl,bh,Rb,ns,Db,Nb,Bh,Ns,Ls,ji,ov,Av,mr,lv,Ta,Lb,st,ND,Yx,cW,dW,fW,LD,lf,Da,Cg,hW,Xx,Jx,pW,gW,mW,vW,yW;const Ut=class Ut extends dn{constructor(t){super({...t,name:"highlightEditor"});F(this,st);F(this,av,null);F(this,Pb,0);F(this,Tl);F(this,bh,null);F(this,Rb,null);F(this,ns,null);F(this,Db,null);F(this,Nb,0);F(this,Bh,null);F(this,Ns,null);F(this,Ls,null);F(this,ji,!1);F(this,ov,null);F(this,Av,null);F(this,mr,null);F(this,lv,"");F(this,Ta);F(this,Lb,"");this.color=t.color||Ut._defaultColor,_(this,Ta,t.thickness||Ut._defaultThickness),this.opacity=t.opacity||Ut._defaultOpacity,_(this,Tl,t.boxes||null),_(this,Lb,t.methodOfCreation||""),_(this,lv,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(_(this,ji,!0),U(this,st,Yx).call(this,t),U(this,st,lf).call(this)):f(this,Tl)&&(_(this,av,t.anchorNode),_(this,Pb,t.anchorOffset),_(this,Db,t.focusNode),_(this,Nb,t.focusOffset),U(this,st,ND).call(this),U(this,st,lf).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ut.prototype;return Je(this,"_keyboardManager",new PB([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,ji)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:f(this,Ta),methodOfCreation:f(this,Lb)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;dn.initialize(t,i),Ut._defaultColor||(Ut._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case wt.HIGHLIGHT_COLOR:Ut._defaultColor=i;break;case wt.HIGHLIGHT_THICKNESS:Ut._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return f(this,Av)}get commentButtonPosition(){return f(this,ov)}updateParams(t,i){switch(t){case wt.HIGHLIGHT_COLOR:U(this,st,cW).call(this,i);break;case wt.HIGHLIGHT_THICKNESS:U(this,st,dW).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[wt.HIGHLIGHT_COLOR,Ut._defaultColor],[wt.HIGHLIGHT_THICKNESS,Ut._defaultThickness]]}get propertiesToUpdate(){return[[wt.HIGHLIGHT_COLOR,this.color||Ut._defaultColor],[wt.HIGHLIGHT_THICKNESS,f(this,Ta)||Ut._defaultThickness],[wt.HIGHLIGHT_FREE,f(this,ji)]]}onUpdatedColor(){var t,i;(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Ls),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=f(this,Rb))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",_(this,Rb,new Nj({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(U(this,st,Jx).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,U(this,st,Jx).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){U(this,st,LD).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(U(this,st,lf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?U(this,st,LD).call(this):t&&(U(this,st,lf).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,a,o;const{drawLayer:i}=this.parent;let r;f(this,ji)?(t=(t-this.rotation+360)%360,r=U(s=Ut,Da,Cg).call(s,f(this,Ns).box,t)):r=U(a=Ut,Da,Cg).call(a,[this.x,this.y,this.width,this.height],t),i.updateProperties(f(this,Ls),{bbox:r,root:{"data-main-rotation":t}}),i.updateProperties(f(this,mr),{bbox:U(o=Ut,Da,Cg).call(o,f(this,ns).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();f(this,lv)&&(t.setAttribute("aria-label",f(this,lv)),t.setAttribute("role","mark")),f(this,ji)?t.classList.add("free"):this.div.addEventListener("keydown",U(this,st,hW).bind(this),{signal:this._uiManager._signal});const i=_(this,Bh,document.createElement("div"));return t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=f(this,bh),this.setDims(),N6(this,f(this,Bh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,mr),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,mr),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:U(this,st,Xx).call(this,!0);break;case 1:case 3:U(this,st,Xx).call(this,!1);break}}select(){var t;super.select(),f(this,mr)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,mr),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),f(this,mr)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,mr),{rootClass:{selected:!1}}),f(this,ji)||U(this,st,Xx).call(this,!1))}get _mustFixPosition(){return!f(this,ji)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(f(this,Ls),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(f(this,mr),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:r,x:s,y:a}){const{x:o,y:l,width:u,height:d}=r.getBoundingClientRect(),h=new AbortController,g=t.combinedSignal(h),v=C=>{h.abort(),U(this,Da,vW).call(this,t,C)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",Vn,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Va,{signal:g}),r.addEventListener("pointermove",U(this,Da,mW).bind(this,t),{signal:g}),this._freeHighlight=new DD({x:s,y:a},[o,l,u,d],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,r){var b,E,x,I;let s=null;if(t instanceof $j){const{data:{quadPoints:T,rect:R,rotation:M,id:D,color:L,opacity:H,popupRef:O,richText:K,contentsObj:V,creationDate:$,modificationDate:ne},parent:{page:{pageNumber:oe}}}=t;s=t={annotationType:et.HIGHLIGHT,color:Array.from(L),opacity:H,quadPoints:T,boxes:null,pageIndex:oe-1,rect:R.slice(0),rotation:M,annotationElementId:D,id:D,deleted:!1,popupRef:O,richText:K,comment:(V==null?void 0:V.str)||null,creationDate:$,modificationDate:ne}}else if(t instanceof FQ){const{data:{inkLists:T,rect:R,rotation:M,id:D,color:L,borderStyle:{rawWidth:H},popupRef:O,richText:K,contentsObj:V,creationDate:$,modificationDate:ne},parent:{page:{pageNumber:oe}}}=t;s=t={annotationType:et.HIGHLIGHT,color:Array.from(L),thickness:H,inkLists:T,boxes:null,pageIndex:oe-1,rect:R.slice(0),rotation:M,annotationElementId:D,id:D,deleted:!1,popupRef:O,richText:K,comment:(V==null?void 0:V.str)||null,creationDate:$,modificationDate:ne}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=t,d=await super.deserialize(t,i,r);d.color=De.makeHexColor(...a),d.opacity=u||1,l&&_(d,Ta,t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,g]=d.pageDimensions,[v,C]=d.pageTranslation;if(o){const T=_(d,Tl,[]);for(let R=0;R<o.length;R+=8)T.push({x:(o[R]-v)/h,y:1-(o[R+1]-C)/g,width:(o[R+2]-o[R])/h,height:(o[R+1]-o[R+5])/g});U(b=d,st,ND).call(b),U(E=d,st,lf).call(E),d.rotate(d.rotation)}else if(l){_(d,ji,!0);const T=l[0],R={x:T[0]-v,y:g-(T[1]-C)},M=new DD(R,[0,0,h,g],1,f(d,Ta)/2,!0,.001);for(let H=0,O=T.length;H<O;H+=2)R.x=T[H]-v,R.y=g-(T[H+1]-C),M.add(R);const{id:D,clipPathId:L}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:M.toSVGPath()}},!0,!0);U(x=d,st,Yx).call(x,{highlightOutlines:M.getOutlines(),highlightId:D,clipPathId:L}),U(I=d,st,lf).call(I),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=dn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:i,opacity:this.opacity,thickness:f(this,Ta),quadPoints:U(this,st,pW).call(this),outlines:U(this,st,gW).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!U(this,st,yW).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};av=new WeakMap,Pb=new WeakMap,Tl=new WeakMap,bh=new WeakMap,Rb=new WeakMap,ns=new WeakMap,Db=new WeakMap,Nb=new WeakMap,Bh=new WeakMap,Ns=new WeakMap,Ls=new WeakMap,ji=new WeakMap,ov=new WeakMap,Av=new WeakMap,mr=new WeakMap,lv=new WeakMap,Ta=new WeakMap,Lb=new WeakMap,st=new WeakSet,ND=function(){const t=new PD(f(this,Tl),.001);_(this,Ns,t.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,Ns).box;const i=new PD(f(this,Tl),.0025,.001,this._uiManager.direction==="ltr");_(this,ns,i.getOutlines());const{firstPoint:r}=f(this,Ns);_(this,ov,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:s}=f(this,ns);_(this,Av,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Yx=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var g,v;if(_(this,Ns,t),_(this,ns,t.getNewOutline(f(this,Ta)/2+1.5,.0025)),i>=0)_(this,Ls,i),_(this,bh,r),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),_(this,mr,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,ns).box,path:{d:f(this,ns).toSVGPath()}},!0));else if(this.parent){const C=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,Ls),{bbox:U(g=Ut,Da,Cg).call(g,f(this,Ns).box,(C-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,mr),{bbox:U(v=Ut,Da,Cg).call(v,f(this,ns).box,C),path:{d:f(this,ns).toSVGPath()}})}const[a,o,l,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[C,b]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*b/C,this.height=u*C/b;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[C,b]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*b/C,this.height=u*C/b;break}}const{firstPoint:d}=t;_(this,ov,[(d[0]-a)/l,(d[1]-o)/u]);const{lastPoint:h}=f(this,ns);_(this,Av,[(h[0]-a)/l,(h[1]-o)/u])},cW=function(t){const i=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},r=this.color,s=this.opacity;this.addCommands({cmd:i.bind(this,t,Ut._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:wt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},dW=function(t){const i=f(this,Ta),r=s=>{_(this,Ta,s),U(this,st,fW).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:wt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},fW=function(t){f(this,ji)&&(U(this,st,Yx).call(this,{highlightOutlines:f(this,Ns).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},LD=function(){f(this,Ls)===null||!this.parent||(this.parent.drawLayer.remove(f(this,Ls)),_(this,Ls,null),this.parent.drawLayer.remove(f(this,mr)),_(this,mr,null))},lf=function(t=this.parent){f(this,Ls)===null&&({id:zn(this,Ls)._,clipPathId:zn(this,bh)._}=t.drawLayer.draw({bbox:f(this,Ns).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:f(this,ji)},path:{d:f(this,Ns).toSVGPath()}},!1,!0),_(this,mr,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,ji)},bbox:f(this,ns).box,path:{d:f(this,ns).toSVGPath()}},f(this,ji))),f(this,Bh)&&(f(this,Bh).style.clipPath=f(this,bh)))},Da=new WeakSet,Cg=function([t,i,r,s],a){switch(a){case 90:return[1-i-s,t,s,r];case 180:return[1-t-r,1-i-s,r,s];case 270:return[i,1-t-r,s,r]}return[t,i,r,s]},hW=function(t){Ut._keyboardManager.exec(this,t)},Xx=function(t){if(!f(this,av))return;const i=window.getSelection();t?i.setPosition(f(this,av),f(this,Pb)):i.setPosition(f(this,Db),f(this,Nb))},Jx=function(){return f(this,ji)?this.rotation:0},pW=function(){if(f(this,ji))return null;const[t,i]=this.pageDimensions,[r,s]=this.pageTranslation,a=f(this,Tl),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:d,width:h,height:g}of a){const v=u*t+r,C=(1-d)*i+s;o[l]=o[l+4]=v,o[l+1]=o[l+3]=C,o[l+2]=o[l+6]=v+h*t,o[l+5]=o[l+7]=C-g*i,l+=8}return o},gW=function(t){return f(this,Ns).serialize(t,U(this,st,Jx).call(this))},mW=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},vW=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},yW=function(t){const{color:i}=this._initialData;return this.hasEditedComment||t.color.some((r,s)=>r!==i[s])},F(Ut,Da),ge(Ut,"_defaultColor",null),ge(Ut,"_defaultOpacity",1),ge(Ut,"_defaultThickness",12),ge(Ut,"_type","highlight"),ge(Ut,"_editorType",et.HIGHLIGHT),ge(Ut,"_freeHighlightId",-1),ge(Ut,"_freeHighlight",null),ge(Ut,"_freeHighlightClipId","");let q_=Ut;var Eh;class wW{constructor(){F(this,Eh,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){f(this,Eh)[e]=t}toSVGProperties(){const e=f(this,Eh);return _(this,Eh,Object.create(null)),{root:e}}reset(){_(this,Eh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){an("Not implemented")}}Eh=new WeakMap;var Qs,uv,Fi,Sh,xh,Bt,QD,OD,kD,J0,CW,Zx,Z0,bg;const gt=class gt extends dn{constructor(t){super(t);F(this,Bt);F(this,Qs,null);F(this,uv);ge(this,"_colorPicker",null);ge(this,"_drawId",null);_(this,uv,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(U(this,Bt,QD).call(this,t),U(this,Bt,J0).call(this))}static _mergeSVGProperties(t,i){const r=new Set(Object.keys(t));for(const[s,a]of Object.entries(i))r.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){an("Not implemented")}static get typesMap(){an("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(f(gt,Fi).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)t.push([r,i[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)t.push([r,i[s]]);return t}_updateProperty(t,i,r){const s=this._drawingOptions,a=s[i],o=l=>{var d;s.updateProperty(i,l);const u=f(this,Qs).updateProperty(i,l);u&&U(this,Bt,Z0).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(f(this,Qs).getPathResizingSVGProperties(U(this,Bt,Zx).call(this)),{bbox:U(this,Bt,bg).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(f(this,Qs).getPathResizedSVGProperties(U(this,Bt,Zx).call(this)),{bbox:U(this,Bt,bg).call(this)}))}_onTranslating(t,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:U(this,Bt,bg).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(f(this,Qs).getPathTranslatedSVGProperties(U(this,Bt,Zx).call(this),this.parentDimensions),{bbox:U(this,Bt,bg).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,uv)&&(_(this,uv,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){U(this,Bt,kD).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(U(this,Bt,J0).call(this),U(this,Bt,Z0).call(this,f(this,Qs).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),U(this,Bt,kD).call(this)):t&&(this._uiManager.addShouldRescale(this),U(this,Bt,J0).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties({bbox:U(this,Bt,bg).call(this)},f(this,Qs).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&U(this,Bt,Z0).call(this,f(this,Qs).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,i;this._isCopy&&(t=this.x,i=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");return r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,i),r}static createDrawerInstance(t,i,r,s,a){an("Not implemented")}static startDrawing(t,i,r,s){var E;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:d}=s;if(dr.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=t,{width:g,height:v}=a.getBoundingClientRect(),C=_(gt,Sh,new AbortController),b=t.combinedSignal(C);if(dr.setPointer(d,u),window.addEventListener("pointerup",x=>{dr.isSamePointerIdOrRemove(x.pointerId)&&this._endDraw(x)},{signal:b}),window.addEventListener("pointercancel",x=>{dr.isSamePointerIdOrRemove(x.pointerId)&&this._currentParent.endDrawingSession()},{signal:b}),window.addEventListener("pointerdown",x=>{dr.isSamePointerType(x.pointerType)&&(dr.initializeAndAddPointerId(x.pointerId),f(gt,Fi).isCancellable()&&(f(gt,Fi).removeLastElement(),f(gt,Fi).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Va,{signal:b}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),a.addEventListener("touchmove",x=>{dr.isSameTimeStamp(x.timeStamp)&&Vn(x)},{signal:b}),t.toggleDrawing(),(E=i._editorUndoBar)==null||E.hide(),f(gt,Fi)){t.drawLayer.updateProperties(this._currentDrawId,f(gt,Fi).startNew(o,l,g,v,h));return}i.updateUIForDefaultProperties(this),_(gt,Fi,this.createDrawerInstance(o,l,g,v,h)),_(gt,xh,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(f(gt,xh).toSVGProperties(),f(gt,Fi).defaultSVGProperties),!0,!1)}static _drawMove(t){if(dr.isSameTimeStamp(t.timeStamp),!f(gt,Fi))return;const{offsetX:i,offsetY:r,pointerId:s}=t;if(dr.isSamePointerId(s)){if(dr.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(gt,Fi).add(i,r)),dr.setTimeStamp(t.timeStamp),Vn(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,_(gt,Fi,null),_(gt,xh,null),dr.clearPointerType(),dr.clearTimeStamp()),f(gt,Sh)&&(f(gt,Sh).abort(),_(gt,Sh,null),dr.clearPointerIds())}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,f(gt,Fi).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=f(gt,Fi),s=this._currentDrawId,a=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:wt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(wt.DRAW_STEP),!f(gt,Fi).isEmpty()){const{pageDimensions:[r,s],scale:a}=i,o=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(gt,Fi).getOutlines(r*a,s*a,a,this._INNER_MARGIN),drawingOptions:f(gt,xh),mustBeCommitted:!t});return this._cleanup(!0),o}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,r,s,a,o){an("Not implemented")}static async deserialize(t,i,r){var h,g;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=i.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),d=await super.deserialize(t,i,r);return d.createDrawingOptions(t),U(h=d,Bt,QD).call(h,{drawOutlines:u}),U(g=d,Bt,J0).call(g),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[i,r]=this.pageTranslation,[s,a]=this.pageDimensions;return f(this,Qs).serialize([i,r,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Qs=new WeakMap,uv=new WeakMap,Fi=new WeakMap,Sh=new WeakMap,xh=new WeakMap,Bt=new WeakSet,QD=function({drawOutlines:t,drawId:i,drawingOptions:r}){_(this,Qs,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=U(this,Bt,OD).call(this,t,this.parent),U(this,Bt,Z0).call(this,t.box)},OD=function(t,i){const{id:r}=i.drawLayer.draw(gt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},kD=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},J0=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=U(this,Bt,OD).call(this,f(this,Qs),t)}},CW=function([t,i,r,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[i,1-t,r*(o/a),s*(a/o)];case 180:return[1-t,1-i,r,s];case 270:return[1-i,t,r*(o/a),s*(a/o)];default:return[t,i,r,s]}},Zx=function(){const{x:t,y:i,width:r,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-i,t,r*(a/o),s*(o/a)];case 180:return[1-t,1-i,r,s];case 270:return[i,1-t,r*(a/o),s*(o/a)];default:return[t,i,r,s]}},Z0=function(t){[this.x,this.y,this.width,this.height]=U(this,Bt,CW).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},bg=function(){const{x:t,y:i,width:r,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-i-s,t,s,r];case 2:return[1-t-r,1-i-s,r,s];case 3:return[i,1-t-r,s,r];case 4:return[t,i-r*(l/u),s*(u/l),r*(l/u)];case 5:return[1-i,t,r*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-i,s*(u/l),r*(l/u)];case 7:return[i-r*(l/u),1-t-s*(u/l),r*(l/u),s*(u/l)];case 8:return[t-r,i-s,r,s];case 9:return[1-i,t-r,s,r];case 10:return[1-t,1-i,r,s];case 11:return[i-s,1-t,s,r];case 12:return[t-s*(u/l),i,s*(u/l),r*(l/u)];case 13:return[1-i-r*(l/u),t-s*(u/l),r*(l/u),s*(u/l)];case 14:return[1-t,1-i-r*(l/u),s*(u/l),r*(l/u)];case 15:return[i,1-t,r*(l/u),s*(u/l)];default:return[t,i,r,s]}},ge(gt,"_currentDrawId",-1),ge(gt,"_currentParent",null),F(gt,Fi,null),F(gt,Sh,null),F(gt,xh,null),ge(gt,"_INNER_MARGIN",3);let $_=gt;var iA,Ui,Mi,_h,cv,Ir,Wi,Ia,Th,Ih,Fh,dv,e_;class rfe{constructor(e,t,i,r,s,a){F(this,dv);F(this,iA,new Float64Array(6));F(this,Ui);F(this,Mi);F(this,_h);F(this,cv);F(this,Ir);F(this,Wi,"");F(this,Ia,0);F(this,Th,new DB);F(this,Ih);F(this,Fh);_(this,Ih,i),_(this,Fh,r),_(this,_h,s),_(this,cv,a),[e,t]=U(this,dv,e_).call(this,e,t);const o=_(this,Ui,[NaN,NaN,NaN,NaN,e,t]);_(this,Ir,[e,t]),_(this,Mi,[{line:o,points:f(this,Ir)}]),f(this,iA).set(o,0)}updateProperty(e,t){e==="stroke-width"&&_(this,cv,t)}isEmpty(){return!f(this,Mi)||f(this,Mi).length===0}isCancellable(){return f(this,Ir).length<=10}add(e,t){[e,t]=U(this,dv,e_).call(this,e,t);const[i,r,s,a]=f(this,iA).subarray(2,6),o=e-s,l=t-a;return Math.hypot(f(this,Ih)*o,f(this,Fh)*l)<=2?null:(f(this,Ir).push(e,t),isNaN(i)?(f(this,iA).set([s,a,e,t],2),f(this,Ui).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(f(this,iA)[0])&&f(this,Ui).splice(6,6),f(this,iA).set([i,r,s,a,e,t],0),f(this,Ui).push(...Fe.createBezierPoints(i,r,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(f(this,Ir).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){_(this,Ih,i),_(this,Fh,r),_(this,_h,s),[e,t]=U(this,dv,e_).call(this,e,t);const a=_(this,Ui,[NaN,NaN,NaN,NaN,e,t]);_(this,Ir,[e,t]);const o=f(this,Mi).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),f(this,Mi).push({line:a,points:f(this,Ir)}),f(this,iA).set(a,0),_(this,Ia,0),this.toSVGPath(),null}getLastElement(){return f(this,Mi).at(-1)}setLastElement(e){return f(this,Mi)?(f(this,Mi).push(e),_(this,Ui,e.line),_(this,Ir,e.points),_(this,Ia,0),{path:{d:this.toSVGPath()}}):f(this,Th).setLastElement(e)}removeLastElement(){if(!f(this,Mi))return f(this,Th).removeLastElement();f(this,Mi).pop(),_(this,Wi,"");for(let e=0,t=f(this,Mi).length;e<t;e++){const{line:i,points:r}=f(this,Mi)[e];_(this,Ui,i),_(this,Ir,r),_(this,Ia,0),this.toSVGPath()}return{path:{d:f(this,Wi)}}}toSVGPath(){const e=Fe.svgRound(f(this,Ui)[4]),t=Fe.svgRound(f(this,Ui)[5]);if(f(this,Ir).length===2)return _(this,Wi,`${f(this,Wi)} M ${e} ${t} Z`),f(this,Wi);if(f(this,Ir).length<=6){const r=f(this,Wi).lastIndexOf("M");_(this,Wi,`${f(this,Wi).slice(0,r)} M ${e} ${t}`),_(this,Ia,6)}if(f(this,Ir).length===4){const r=Fe.svgRound(f(this,Ui)[10]),s=Fe.svgRound(f(this,Ui)[11]);return _(this,Wi,`${f(this,Wi)} L ${r} ${s}`),_(this,Ia,12),f(this,Wi)}const i=[];f(this,Ia)===0&&(i.push(`M ${e} ${t}`),_(this,Ia,6));for(let r=f(this,Ia),s=f(this,Ui).length;r<s;r+=6){const[a,o,l,u,d,h]=f(this,Ui).slice(r,r+6).map(Fe.svgRound);i.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}return _(this,Wi,f(this,Wi)+i.join(" ")),_(this,Ia,f(this,Ui).length),f(this,Wi)}getOutlines(e,t,i,r){const s=f(this,Mi).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),f(this,Th).build(f(this,Mi),e,t,i,f(this,_h),f(this,cv),r),_(this,iA,null),_(this,Ui,null),_(this,Mi,null),_(this,Wi,null),f(this,Th)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}iA=new WeakMap,Ui=new WeakMap,Mi=new WeakMap,_h=new WeakMap,cv=new WeakMap,Ir=new WeakMap,Wi=new WeakMap,Ia=new WeakMap,Th=new WeakMap,Ih=new WeakMap,Fh=new WeakMap,dv=new WeakSet,e_=function(e,t){return Fe._normalizePoint(e,t,f(this,Ih),f(this,Fh),f(this,_h))};var Fr,Qb,Ob,Os,rA,sA,fv,hv,Uh,tr,jA,bW,BW,EW;class DB extends Fe{constructor(){super(...arguments);F(this,tr);F(this,Fr);F(this,Qb,0);F(this,Ob);F(this,Os);F(this,rA);F(this,sA);F(this,fv);F(this,hv);F(this,Uh)}build(t,i,r,s,a,o,l){_(this,rA,i),_(this,sA,r),_(this,fv,s),_(this,hv,a),_(this,Uh,o),_(this,Ob,l??0),_(this,Os,t),U(this,tr,BW).call(this)}get thickness(){return f(this,Uh)}setLastElement(t){return f(this,Os).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,Os).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of f(this,Os)){if(t.push(`M${Fe.svgRound(i[4])} ${Fe.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12&&isNaN(i[6])){t.push(`L${Fe.svgRound(i[10])} ${Fe.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[a,o,l,u,d,h]=i.subarray(r,r+6).map(Fe.svgRound);t.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,i,r,s],a){const o=[],l=[],[u,d,h,g]=U(this,tr,bW).call(this);let v,C,b,E,x,I,T,R,M;switch(f(this,hv)){case 0:M=Fe._rescale,v=t,C=i+s,b=r,E=-s,x=t+u*r,I=i+(1-d-g)*s,T=t+(u+h)*r,R=i+(1-d)*s;break;case 90:M=Fe._rescaleAndSwap,v=t,C=i,b=r,E=s,x=t+d*r,I=i+u*s,T=t+(d+g)*r,R=i+(u+h)*s;break;case 180:M=Fe._rescale,v=t+r,C=i,b=-r,E=s,x=t+(1-u-h)*r,I=i+d*s,T=t+(1-u)*r,R=i+(d+g)*s;break;case 270:M=Fe._rescaleAndSwap,v=t+r,C=i+s,b=-r,E=-s,x=t+(1-d-g)*r,I=i+(1-u-h)*s,T=t+(1-d)*r,R=i+(1-u)*s;break}for(const{line:D,points:L}of f(this,Os))o.push(M(D,v,C,b,E,a?new Array(D.length):null)),l.push(M(L,v,C,b,E,a?new Array(L.length):null));return{lines:o,points:l,rect:[x,I,T,R]}}static deserialize(t,i,r,s,a,{paths:{lines:o,points:l},rotation:u,thickness:d}){const h=[];let g,v,C,b,E;switch(u){case 0:E=Fe._rescale,g=-t/r,v=i/s+1,C=1/r,b=-1/s;break;case 90:E=Fe._rescaleAndSwap,g=-i/s,v=-t/r,C=1/s,b=1/r;break;case 180:E=Fe._rescale,g=t/r+1,v=-i/s,C=-1/r,b=1/s;break;case 270:E=Fe._rescaleAndSwap,g=i/s+1,v=t/r+1,C=-1/s,b=-1/r;break}if(!o){o=[];for(const I of l){const T=I.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1],NaN,NaN,NaN,NaN,I[2],I[3]]));continue}const R=new Float32Array(3*(T-2));o.push(R);let[M,D,L,H]=I.subarray(0,4);R.set([NaN,NaN,NaN,NaN,M,D],0);for(let O=4;O<T;O+=2){const K=I[O],V=I[O+1];R.set(Fe.createBezierPoints(M,D,L,H,K,V),(O-2)*3),[M,D,L,H]=[L,H,K,V]}}}for(let I=0,T=o.length;I<T;I++)h.push({line:E(o[I].map(R=>R??NaN),g,v,C,b),points:E(l[I].map(R=>R??NaN),g,v,C,b)});const x=new this.prototype.constructor;return x.build(h,r,s,1,u,d,a),x}get box(){return f(this,Fr)}updateProperty(t,i){return t==="stroke-width"?U(this,tr,EW).call(this,i):null}updateParentDimensions([t,i],r){const[s,a]=U(this,tr,jA).call(this);_(this,rA,t),_(this,sA,i),_(this,fv,r);const[o,l]=U(this,tr,jA).call(this),u=o-s,d=l-a,h=f(this,Fr);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return _(this,Qb,t),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,Fr).map(Fe.svgRound).join(" ")}get defaultProperties(){const[t,i]=f(this,Fr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=f(this,Fr);let r=0,s=0,a=0,o=0,l=0,u=0;switch(f(this,Qb)){case 90:s=i/t,a=-t/i,l=t;break;case 180:r=-1,o=-1,l=t,u=i;break;case 270:s=-i/t,a=t/i,u=i;break;default:return""}return`matrix(${r} ${s} ${a} ${o} ${Fe.svgRound(l)} ${Fe.svgRound(u)})`}getPathResizingSVGProperties([t,i,r,s]){const[a,o]=U(this,tr,jA).call(this),[l,u,d,h]=f(this,Fr);if(Math.abs(d-a)<=Fe.PRECISION||Math.abs(h-o)<=Fe.PRECISION){const E=t+r/2-(l+d/2),x=i+s/2-(u+h/2);return{path:{"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(i)}`,transform:`${this.rotationTransform} translate(${E} ${x})`}}}const g=(r-2*a)/(d-2*a),v=(s-2*o)/(h-2*o),C=d/r,b=h/s;return{path:{"transform-origin":`${Fe.svgRound(l)} ${Fe.svgRound(u)}`,transform:`${this.rotationTransform} scale(${C} ${b}) translate(${Fe.svgRound(a)} ${Fe.svgRound(o)}) scale(${g} ${v}) translate(${Fe.svgRound(-a)} ${Fe.svgRound(-o)})`}}}getPathResizedSVGProperties([t,i,r,s]){const[a,o]=U(this,tr,jA).call(this),l=f(this,Fr),[u,d,h,g]=l;if(l[0]=t,l[1]=i,l[2]=r,l[3]=s,Math.abs(h-a)<=Fe.PRECISION||Math.abs(g-o)<=Fe.PRECISION){const x=t+r/2-(u+h/2),I=i+s/2-(d+g/2);for(const{line:T,points:R}of f(this,Os))Fe._translate(T,x,I,T),Fe._translate(R,x,I,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(r-2*a)/(h-2*a),C=(s-2*o)/(g-2*o),b=-v*(u+a)+t+a,E=-C*(d+o)+i+o;if(v!==1||C!==1||b!==0||E!==0)for(const{line:x,points:I}of f(this,Os))Fe._rescale(x,b,E,v,C,x),Fe._rescale(I,b,E,v,C,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],r){const[s,a]=r,o=f(this,Fr),l=t-o[0],u=i-o[1];if(f(this,rA)===s&&f(this,sA)===a)for(const{line:d,points:h}of f(this,Os))Fe._translate(d,l,u,d),Fe._translate(h,l,u,h);else{const d=f(this,rA)/s,h=f(this,sA)/a;_(this,rA,s),_(this,sA,a);for(const{line:g,points:v}of f(this,Os))Fe._rescale(g,l,u,d,h,g),Fe._rescale(v,l,u,d,h,v);o[2]*=d,o[3]*=h}return o[0]=t,o[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Fe.svgRound(t)} ${Fe.svgRound(i)}`}}}get defaultSVGProperties(){const t=f(this,Fr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Fe.svgRound(t[0])} ${Fe.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Fr=new WeakMap,Qb=new WeakMap,Ob=new WeakMap,Os=new WeakMap,rA=new WeakMap,sA=new WeakMap,fv=new WeakMap,hv=new WeakMap,Uh=new WeakMap,tr=new WeakSet,jA=function(t=f(this,Uh)){const i=f(this,Ob)+t/2*f(this,fv);return f(this,hv)%180===0?[i/f(this,rA),i/f(this,sA)]:[i/f(this,sA),i/f(this,rA)]},bW=function(){const[t,i,r,s]=f(this,Fr),[a,o]=U(this,tr,jA).call(this,0);return[t+a,i+o,r-2*a,s-2*o]},BW=function(){const t=_(this,Fr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of f(this,Os)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6)De.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[d,h,g,v,C,b]=s.subarray(l,l+6);De.bezierBoundingBox(a,o,d,h,g,v,C,b,t),a=C,o=b}}const[i,r]=U(this,tr,jA).call(this);t[0]=Dr(t[0]-i,0,1),t[1]=Dr(t[1]-r,0,1),t[2]=Dr(t[2]+i,0,1),t[3]=Dr(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},EW=function(t){const[i,r]=U(this,tr,jA).call(this);_(this,Uh,t);const[s,a]=U(this,tr,jA).call(this),[o,l]=[s-i,a-r],u=f(this,Fr);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};class I1 extends wW{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:dn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new I1(this._viewParameters);return e.updateAll(this),e}}var d1,SW;const Lg=class Lg extends $_{constructor(t){super({...t,name:"inkEditor"});F(this,d1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,i){dn.initialize(t,i),this._defaultDrawingOptions=new I1(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return Je(this,"typesMap",new Map([[wt.INK_THICKNESS,"stroke-width"],[wt.INK_COLOR,"stroke"],[wt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,r,s,a){return new rfe(t,i,r,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,r,s,a,o){return DB.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){let s=null;if(t instanceof FQ){const{data:{inkLists:o,rect:l,rotation:u,id:d,color:h,opacity:g,borderStyle:{rawWidth:v},popupRef:C,richText:b,contentsObj:E,creationDate:x,modificationDate:I},parent:{page:{pageNumber:T}}}=t;s=t={annotationType:et.INK,color:Array.from(h),thickness:v,opacity:g,paths:{points:o},boxes:null,pageIndex:T-1,rect:l.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:C,richText:b,comment:(E==null?void 0:E.str)||null,creationDate:x,modificationDate:I}}const a=await super.deserialize(t,i,r);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new K_(this)),[["colorPicker",this._colorPicker]]}get colorType(){return wt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:r}){this._drawingOptions=Lg.getDefaultDrawingOptions({stroke:De.makeHexColor(...t),"stroke-width":i,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:dn._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:i,points:r}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!U(this,d1,SW).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:i,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};d1=new WeakSet,SW=function(t){const{color:i,thickness:r,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==i[l])||t.thickness!==r||t.opacity!==s||t.pageIndex!==a},ge(Lg,"_type","ink"),ge(Lg,"_editorType",et.INK),ge(Lg,"_defaultDrawingOptions",null);let HD=Lg;class VD extends DB{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const IS=8,y0=3;var R0,Mh,Pt,KD,lo,xW,_W,GD,t_,TW,IW,FW,zD,qD,UW;let Bg=(R0=class{static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,a,o,l){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,g=d.font=`${i} ${r} ${h}px ${t}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:C,actualBoundingBoxAscent:b,actualBoundingBoxDescent:E,fontBoundingBoxAscent:x,fontBoundingBoxDescent:I,width:T}=d.measureText(e),R=1.5,M=Math.ceil(Math.max(Math.abs(v)+Math.abs(C)||0,T)*R),D=Math.ceil(Math.max(Math.abs(b)+Math.abs(E)||h,Math.abs(x)+Math.abs(I)||h)*R);u=new OffscreenCanvas(M,D),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,M,D),d.fillStyle="black",d.fillText(e,M*(R-1)/2,D*(3-R)/2);const L=U(this,Pt,zD).call(this,d.getImageData(0,0,M,D).data),H=U(this,Pt,FW).call(this,L),O=U(this,Pt,qD).call(this,H),K=U(this,Pt,GD).call(this,L,M,D,O);return this.processDrawnLines({lines:{curves:K,width:M,height:D},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[a,o,l]=U(this,Pt,UW).call(this,e),[u,d]=U(this,Pt,IW).call(this,a,o,l,Math.hypot(o,l)*f(this,Mh).sigmaSFactor,f(this,Mh).sigmaR,f(this,Mh).kernelSize),h=U(this,Pt,qD).call(this,d),g=U(this,Pt,GD).call(this,u,o,l,h);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:a,areContours:o}){r%180!==0&&([t,i]=[i,t]);const{curves:l,width:u,height:d}=e,h=e.thickness??0,g=[],v=Math.min(t/u,i/d),C=v/t,b=v/i,E=[];for(const{points:I}of l){const T=a?U(this,Pt,TW).call(this,I):I;if(!T)continue;E.push(T);const R=T.length,M=new Float32Array(R),D=new Float32Array(3*(R===2?2:R-2));if(g.push({line:D,points:M}),R===2){M[0]=T[0]*C,M[1]=T[1]*b,D.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[L,H,O,K]=T;L*=C,H*=b,O*=C,K*=b,M.set([L,H,O,K],0),D.set([NaN,NaN,NaN,NaN,L,H],0);for(let V=4;V<R;V+=2){const $=M[V]=T[V]*C,ne=M[V+1]=T[V+1]*b;D.set(Fe.createBezierPoints(L,H,O,K,$,ne),(V-2)*3),[L,H,O,K]=[O,K,$,ne]}}if(g.length===0)return null;const x=o?new VD:new DB;return x.build(g,t,i,1,r,o?0:h,s),{outline:x,newCurves:E,areContours:o,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let a=1/0,o=-1/0,l=0;for(const T of e){l+=T.length;for(let R=2,M=T.length;R<M;R++){const D=T[R]-T[R-2];a=Math.min(a,D),o=Math.max(o,D)}}let u;a>=-128&&o<=127?u=Int8Array:a>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=IS+y0*d,g=new Uint32Array(h);let v=0;g[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*u.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=r,g[v++]=s,g[v++]=t?0:1,g[v++]=Math.max(0,Math.floor(i??0)),g[v++]=d,g[v++]=u.BYTES_PER_ELEMENT;for(const T of e)g[v++]=T.length-2,g[v++]=T[0],g[v++]=T[1];const C=new CompressionStream("deflate-raw"),b=C.writable.getWriter();await b.ready,b.write(g);const E=u.prototype.constructor;for(const T of e){const R=new E(T.length-2);for(let M=2,D=T.length;M<D;M++)R[M-2]=T[M]-T[M-2];b.write(R)}b.close();const x=await new Response(C.readable).arrayBuffer(),I=new Uint8Array(x);return _6(I)}static async decompressSignature(e){try{const t=wce(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const T of i)a||(a=new Uint8Array(new Uint32Array(T.buffer,0,4)[0])),a.set(T,o),o+=T.length;const l=new Uint32Array(a.buffer,0,a.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=l[2],h=l[3],g=l[4]===0,v=l[5],C=l[6],b=l[7],E=[],x=(IS+y0*C)*Uint32Array.BYTES_PER_ELEMENT;let I;switch(b){case Int8Array.BYTES_PER_ELEMENT:I=new Int8Array(a.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:I=new Int16Array(a.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:I=new Int32Array(a.buffer,x);break}o=0;for(let T=0;T<C;T++){const R=l[y0*T+IS],M=new Float32Array(R+2);E.push(M);for(let D=0;D<y0-1;D++)M[D]=l[y0*T+IS+D+1];for(let D=0;D<R;D++)M[D+2]=M[D]+I[o++]}return{areContours:g,thickness:v,outlines:E,width:d,height:h}}catch(t){return Xe(`decompressSignature: ${t}`),null}}},Mh=new WeakMap,Pt=new WeakSet,KD=function(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r},lo=new WeakMap,xW=function(e,t,i,r,s,a,o){const l=U(this,Pt,KD).call(this,i,r,s,a);for(let u=0;u<8;u++){const d=(-u+l-o+16)%8,h=f(this,lo)[2*d],g=f(this,lo)[2*d+1];if(e[(i+h)*t+(r+g)]!==0)return d}return-1},_W=function(e,t,i,r,s,a,o){const l=U(this,Pt,KD).call(this,i,r,s,a);for(let u=0;u<8;u++){const d=(u+l+o+16)%8,h=f(this,lo)[2*d],g=f(this,lo)[2*d+1];if(e[(i+h)*t+(r+g)]!==0)return d}return-1},GD=function(e,t,i,r){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=r?1:0;for(let d=1;d<i-1;d++)a[d*t]=a[d*t+t-1]=0;for(let d=0;d<t;d++)a[d]=a[t*i-1-d]=0;let o=1,l;const u=[];for(let d=1;d<i-1;d++){l=1;for(let h=1;h<t-1;h++){const g=d*t+h,v=a[g];if(v===0)continue;let C=d,b=h;if(v===1&&a[g-1]===0)o+=1,b-=1;else if(v>=1&&a[g+1]===0)o+=1,b+=1,v>1&&(l=v);else{v!==1&&(l=Math.abs(v));continue}const E=[h,d],x=b===h+1,I={isHole:x,points:E,id:o,parent:0};u.push(I);let T;for(const V of u)if(V.id===l){T=V;break}T?T.isHole?I.parent=x?T.parent:l:I.parent=x?l:T.parent:I.parent=x?l:0;const R=U(this,Pt,xW).call(this,a,t,d,h,C,b,0);if(R===-1){a[g]=-o,a[g]!==1&&(l=Math.abs(a[g]));continue}let M=f(this,lo)[2*R],D=f(this,lo)[2*R+1];const L=d+M,H=h+D;C=L,b=H;let O=d,K=h;for(;;){const V=U(this,Pt,_W).call(this,a,t,O,K,C,b,1);M=f(this,lo)[2*V],D=f(this,lo)[2*V+1];const $=O+M,ne=K+D;E.push(ne,$);const oe=O*t+K;if(a[oe+1]===0?a[oe]=-o:a[oe]===1&&(a[oe]=o),$===d&&ne===h&&O===L&&K===H){a[g]!==1&&(l=Math.abs(a[g]));break}else C=O,b=K,O=$,K=ne}}}return u},t_=function(e,t,i,r){if(i-t<=4){for(let L=t;L<i-2;L+=2)r.push(e[L],e[L+1]);return}const s=e[t],a=e[t+1],o=e[i-4]-s,l=e[i-3]-a,u=Math.hypot(o,l),d=o/u,h=l/u,g=d*a-h*s,v=l/o,C=1/u,b=Math.atan(v),E=Math.cos(b),x=Math.sin(b),I=C*(Math.abs(E)+Math.abs(x)),T=C*(1-I+I**2),R=Math.max(Math.atan(Math.abs(x+E)*T),Math.atan(Math.abs(x-E)*T));let M=0,D=t;for(let L=t+2;L<i-2;L+=2){const H=Math.abs(g-d*e[L+1]+h*e[L]);H>M&&(D=L,M=H)}M>(u*R)**2?(U(this,Pt,t_).call(this,e,t,D+2,r),U(this,Pt,t_).call(this,e,D,i,r)):r.push(s,a)},TW=function(e){const t=[],i=e.length;return U(this,Pt,t_).call(this,e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t},IW=function(e,t,i,r,s,a){const o=new Float32Array(a**2),l=-2*r**2,u=a>>1;for(let b=0;b<a;b++){const E=(b-u)**2;for(let x=0;x<a;x++)o[b*a+x]=Math.exp((E+(x-u)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let b=0;b<256;b++)d[b]=Math.exp(b**2/h);const g=e.length,v=new Uint8Array(g),C=new Uint32Array(256);for(let b=0;b<i;b++)for(let E=0;E<t;E++){const x=b*t+E,I=e[x];let T=0,R=0;for(let D=0;D<a;D++){const L=b+D-u;if(!(L<0||L>=i))for(let H=0;H<a;H++){const O=E+H-u;if(O<0||O>=t)continue;const K=e[L*t+O],V=o[D*a+H]*d[Math.abs(K-I)];T+=K*V,R+=V}}const M=v[x]=Math.round(T/R);C[M]++}return[v,C]},FW=function(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t},zD=function(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let o=0,l=i.length;o<l;o++){const u=i[o]=e[o<<2];r=Math.max(r,u),s=Math.min(s,u)}const a=255/(r-s);for(let o=0,l=i.length;o<l;o++)i[o]=(i[o]-s)*a;return i},qD=function(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>i&&(t-a>r&&(r=t-a,o=t-1),i=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},UW=function(e){const t=e,{width:i,height:r}=e,{maxDim:s}=f(this,Mh);let a=i,o=r;if(i>s||r>s){let g=i,v=r,C=Math.log2(Math.max(i,r)/s);const b=Math.floor(C);C=C===b?b-1:b;for(let x=0;x<C;x++){a=Math.ceil(g/2),o=Math.ceil(v/2);const I=new OffscreenCanvas(a,o);I.getContext("2d").drawImage(e,0,0,g,v,0,0,a,o),g=a,v=o,e!==t&&e.close(),e=I.transferToImageBitmap()}const E=Math.min(s/a,s/o);a=Math.round(a*E),o=Math.round(o*E)}const u=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,a,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=u.getImageData(0,0,a,o).data;return[U(this,Pt,zD).call(this,d),a,o]},F(R0,Pt),F(R0,Mh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),F(R0,lo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])),R0);class UQ extends wW{constructor(){super(),super.updateProperties({fill:dn._defaultLineColor,"stroke-width":0})}clone(){const e=new UQ;return e.updateAll(this),e}}class MQ extends I1{constructor(e){super(e),super.updateProperties({stroke:dn._defaultLineColor,"stroke-width":1})}clone(){const e=new MQ(this._viewParameters);return e.updateAll(this),e}}var Gc,aA,zc,Ph;const bs=class bs extends $_{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});F(this,Gc,!1);F(this,aA,null);F(this,zc,null);F(this,Ph,null);this._willKeepAspectRatio=!0,_(this,zc,t.signatureData||null),_(this,aA,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,i){dn.initialize(t,i),this._defaultDrawingOptions=new UQ,this._defaultDrawnSignatureOptions=new MQ(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return Je(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,aA)}}static computeTelemetryFinalData(t){const i=t.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,i=this.y),super.render(),this._drawId===null)if(f(this,zc)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:u,heightInPage:d}=f(this,zc),{rawDims:{pageWidth:h,pageHeight:g},rotation:v}=this.parent.viewport,C=Bg.processDrawnLines({lines:s,pageWidth:h,pageHeight:g,rotation:v,innerMargin:bs._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(C,d,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:f(this,aA)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,i)),this.div}setUuid(t){_(this,Ph,t),this.addEditToolbar()}getUuid(){return f(this,Ph)}get description(){return f(this,aA)}set description(t){_(this,aA,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:i,thickness:r,width:s,height:a}=f(this,zc),o=Math.max(s,a),l=Bg.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:r,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,i,r,s){const{x:a,y:o}=this,{outline:l}=_(this,zc,t);_(this,Gc,l instanceof VD),this.description=r;let u;f(this,Gc)?u=bs.getDefaultDrawingOptions():(u=bs._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,d]=this.pageDimensions;let h=i/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Bg.process(t,i,r,s,bs._INNER_MARGIN)}getFromText(t,i){const{rawDims:{pageWidth:r,pageHeight:s},rotation:a}=this.parent.viewport;return Bg.extractContoursFromText(t,i,r,s,a,bs._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Bg.processDrawnLines({lines:t,pageWidth:i,pageHeight:r,rotation:s,innerMargin:bs._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:i}){t?this._drawingOptions=bs.getDefaultDrawingOptions():(this._drawingOptions=bs._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:f(this,Gc),color:[0,0,0],thickness:f(this,Gc)?0:s});return this.addComment(a),t?(a.paths={lines:i,points:r},a.uuid=f(this,Ph),a.isCopy=!0):a.lines=i,f(this,aA)&&(a.accessibilityData={type:"Figure",alt:f(this,aA)}),a}static deserializeDraw(t,i,r,s,a,o){return o.areContours?VD.deserialize(t,i,r,s,a,o):DB.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){var a;const s=await super.deserialize(t,i,r);return _(s,Gc,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",_(s,Ph,t.uuid),s}};Gc=new WeakMap,aA=new WeakMap,zc=new WeakMap,Ph=new WeakMap,ge(bs,"_type","signature"),ge(bs,"_editorType",et.SIGNATURE),ge(bs,"_defaultDrawingOptions",null);let $D=bs;var En,Pi,qc,Il,$c,pv,Fl,Rh,oA,ks,gv,Et,ew,tw,n_,i_,r_,WD,s_,MW;class jD extends dn{constructor(t){super({...t,name:"stampEditor"});F(this,Et);F(this,En,null);F(this,Pi,null);F(this,qc,null);F(this,Il,null);F(this,$c,null);F(this,pv,"");F(this,Fl,null);F(this,Rh,!1);F(this,oA,null);F(this,ks,!1);F(this,gv,!1);_(this,Il,t.bitmapUrl),_(this,$c,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,i){dn.initialize(t,i)}static isHandlingMimeForPasting(t){return MR.includes(t)}static paste(t,i){i.pasteEditor({mode:et.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;f(this,Pi)&&(_(this,En,null),this._uiManager.imageManager.deleteId(f(this,Pi)),(t=f(this,Fl))==null||t.remove(),_(this,Fl,null),f(this,oA)&&(clearTimeout(f(this,oA)),_(this,oA,null))),super.remove()}rebuild(){if(!this.parent){f(this,Pi)&&U(this,Et,n_).call(this);return}super.rebuild(),this.div!==null&&(f(this,Pi)&&f(this,Fl)===null&&U(this,Et,n_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(f(this,qc)||f(this,En)||f(this,Il)||f(this,$c)||f(this,Pi)||f(this,Rh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;return this._isCopy&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),f(this,Rh)||(f(this,En)?U(this,Et,i_).call(this):U(this,Et,n_).call(this)),this._isCopy&&this._moveAfterPaste(t,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,i){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(_(this,Pi,r),s&&_(this,En,s),_(this,Rh,!1),U(this,Et,i_).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,oA)!==null&&clearTimeout(f(this,oA)),_(this,oA,setTimeout(()=>{_(this,oA,null),U(this,Et,WD).call(this)},200))}copyCanvas(t,i,r=!1){t||(t=224);const{width:s,height:a}=f(this,En),o=new ip;let l=f(this,En),u=s,d=a,h=null;if(i){if(s>i||a>i){const L=Math.min(i/s,i/a);u=Math.floor(s*L),d=Math.floor(a*L)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*o.sx),C=h.height=Math.ceil(d*o.sy);f(this,ks)||(l=U(this,Et,r_).call(this,v,C));const b=h.getContext("2d");b.filter=this._uiManager.hcmFilter;let E="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":xce.isDarkMode&&(E="#8f8f9d",x="#42414d");const I=15,T=I*o.sx,R=I*o.sy,M=new OffscreenCanvas(T*2,R*2),D=M.getContext("2d");D.fillStyle=E,D.fillRect(0,0,T*2,R*2),D.fillStyle=x,D.fillRect(0,0,T,R),D.fillRect(T,R,T,R),b.fillStyle=b.createPattern(M,"repeat"),b.fillRect(0,0,v,C),b.drawImage(l,0,0,l.width,l.height,0,0,v,C)}let g=null;if(r){let v,C;if(o.symmetric&&l.width<t&&l.height<t)v=l.width,C=l.height;else if(l=f(this,En),s>t||a>t){const x=Math.min(t/s,t/a);v=Math.floor(s*x),C=Math.floor(a*x),f(this,ks)||(l=U(this,Et,r_).call(this,v,C))}const E=new OffscreenCanvas(v,C).getContext("2d",{willReadFrequently:!0});E.drawImage(l,0,0,l.width,l.height,0,0,v,C),g={width:v,height:C,data:E.getImageData(0,0,v,C).data}}return{canvas:h,width:u,height:d,imageData:g}}static async deserialize(t,i,r){var E;let s=null,a=!1;if(t instanceof jj){const{data:{rect:x,rotation:I,id:T,structParent:R,popupRef:M,richText:D,contentsObj:L,creationDate:H,modificationDate:O},container:K,parent:{page:{pageNumber:V}},canvas:$}=t;let ne,oe;$?(delete t.canvas,{id:ne,bitmap:oe}=r.imageManager.getFromCanvas(K.id,$),$.remove()):(a=!0,t._hasNoCanvas=!0);const pe=((E=await i._structTree.getAriaAttributes(`${Fg}${T}`))==null?void 0:E.get("aria-label"))||"";s=t={annotationType:et.STAMP,bitmapId:ne,bitmap:oe,pageIndex:V-1,rect:x.slice(0),rotation:I,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:pe},isSvg:!1,structParent:R,popupRef:M,richText:D,comment:(L==null?void 0:L.str)||null,creationDate:H,modificationDate:O}}const o=await super.deserialize(t,i,r),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:g,accessibilityData:v}=t;a?(r.addMissingCanvas(t.id,o),_(o,Rh,!0)):h&&r.imageManager.isValidId(h)?(_(o,Pi,h),u&&_(o,En,u)):_(o,Il,d),_(o,ks,g);const[C,b]=o.pageDimensions;return o.width=(l[2]-l[0])/C,o.height=(l[3]-l[1])/b,v&&(o.altTextData=v),o._initialData=s,t.comment&&o.setCommentData(t),_(o,gv,!!s),o}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:f(this,Pi),isSvg:f(this,ks)});if(this.addComment(r),t)return r.bitmapUrl=U(this,Et,s_).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=U(this,Et,MW).call(this,r);return l.isSame?null:(l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(i===null)return r;i.stamps||(i.stamps=new Map);const o=f(this,ks)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(f(this,Pi)))i.stamps.set(f(this,Pi),{area:o,serialized:r}),r.bitmap=U(this,Et,s_).call(this,!1);else if(f(this,ks)){const l=i.stamps.get(f(this,Pi));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=U(this,Et,s_).call(this,!1))}return r}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}En=new WeakMap,Pi=new WeakMap,qc=new WeakMap,Il=new WeakMap,$c=new WeakMap,pv=new WeakMap,Fl=new WeakMap,Rh=new WeakMap,oA=new WeakMap,ks=new WeakMap,gv=new WeakMap,Et=new WeakSet,ew=function(t,i=!1){if(!t){this.remove();return}_(this,En,t.bitmap),i||(_(this,Pi,t.id),_(this,ks,t.isSvg)),t.file&&_(this,pv,t.file.name),U(this,Et,i_).call(this)},tw=function(){if(_(this,qc,null),this._uiManager.enableWaiting(!1),!!f(this,Fl)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,En)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,En)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},n_=function(){if(f(this,Pi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,Pi)).then(r=>U(this,Et,ew).call(this,r,!0)).finally(()=>U(this,Et,tw).call(this));return}if(f(this,Il)){const r=f(this,Il);_(this,Il,null),this._uiManager.enableWaiting(!0),_(this,qc,this._uiManager.imageManager.getFromUrl(r).then(s=>U(this,Et,ew).call(this,s)).finally(()=>U(this,Et,tw).call(this)));return}if(f(this,$c)){const r=f(this,$c);_(this,$c,null),this._uiManager.enableWaiting(!0),_(this,qc,this._uiManager.imageManager.getFromFile(r).then(s=>U(this,Et,ew).call(this,s)).finally(()=>U(this,Et,tw).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=MR.join(",");const i=this._uiManager._signal;_(this,qc,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),U(this,Et,ew).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>U(this,Et,tw).call(this))),t.click()},i_=function(){var u;const{div:t}=this;let{width:i,height:r}=f(this,En);const[s,a]=this.pageDimensions,o=.75;if(this.width)i=this.width*s,r=this.height*a;else if(i>o*s||r>o*a){const d=Math.min(o*s/i,o*a/r);i*=d,r*=d}this._uiManager.enableWaiting(!1);const l=_(this,Fl,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=i/s,this.height=r/a,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),U(this,Et,WD).call(this),f(this,gv)||(this.parent.addUndoableEditor(this),_(this,gv,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,pv)&&this.div.setAttribute("aria-description",f(this,pv)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},r_=function(t,i){const{width:r,height:s}=f(this,En);let a=r,o=s,l=f(this,En);for(;a>2*t||o>2*i;){const u=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,u,d,0,0,a,o),l=h.transferToImageBitmap()}return l},WD=function(){const[t,i]=this.parentDimensions,{width:r,height:s}=this,a=new ip,o=Math.ceil(r*t*a.sx),l=Math.ceil(s*i*a.sy),u=f(this,Fl);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const d=f(this,ks)?f(this,En):U(this,Et,r_).call(this,o,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,l)},s_=function(t){if(t){if(f(this,ks)){const s=this._uiManager.imageManager.getSvgUrl(f(this,Pi));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=f(this,En),i.getContext("2d").drawImage(f(this,En),0,0),i.toDataURL()}if(f(this,ks)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Gv.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*Gv.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(f(this,En),0,0,f(this,En).width,f(this,En).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(f(this,En))},MW=function(t){var o;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=t.pageIndex===i,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},ge(jD,"_type","stamp"),ge(jD,"_editorType",et.STAMP);var Dh,mv,jc,Wc,Ul,is,Yc,vv,yv,uo,Ml,Ri,Pl,Xc,wv,Le,ls,Jc,sn,YD,PW,Qo,XD,JD,a_;let sfe=(ls=class{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:d}){F(this,sn);F(this,Dh);F(this,mv,!1);F(this,jc,null);F(this,Wc,null);F(this,Ul,null);F(this,is,new Map);F(this,Yc,!1);F(this,vv,!1);F(this,yv,!1);F(this,uo,null);F(this,Ml,null);F(this,Ri,null);F(this,Pl,null);F(this,Xc,null);F(this,wv,-1);F(this,Le);const h=[...f(ls,Jc).values()];if(!ls._initialized){ls._initialized=!0;for(const g of h)g.initialize(d,e)}e.registerEditorTypes(h),_(this,Le,e),this.pageIndex=t,this.div=i,_(this,Dh,s),_(this,jc,a),this.viewport=u,_(this,Ri,l),this.drawLayer=o,this._structTree=r,f(this,Le).addLayer(this)}get isEmpty(){return f(this,is).size===0}get isInvisible(){return this.isEmpty&&f(this,Le).getMode()===et.NONE}updateToolbar(e){f(this,Le).updateToolbar(e)}updateMode(e=f(this,Le).getMode()){switch(U(this,sn,a_).call(this),e){case et.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case et.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case et.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===et.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of f(ls,Jc).values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,Ri))==null?void 0:t.div)}setEditingState(e){f(this,Le).setEditingState(e)}addCommands(e){f(this,Le).addCommands(e)}cleanUndoStack(e){f(this,Le).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,jc))==null||t.togglePointerEvents(e)}async enable(){var i;_(this,yv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=f(this,Xc))==null||i.abort(),_(this,Xc,null);const e=new Set;for(const r of f(this,sn,YD))r.enableEditing(),r.show(!0),r.annotationElementId&&(f(this,Le).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=f(this,jc);if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),f(this,Le).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}_(this,yv,!1),f(this,Le)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(_(this,vv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),f(this,Ri)&&!f(this,Xc)){_(this,Xc,new AbortController);const s=f(this,Le).combinedSignal(f(this,Xc));f(this,Ri).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:u,timeStamp:d}=a,h=f(this,wv);if(d-h>500){_(this,wv,d);return}_(this,wv,-1);const{classList:g}=this.div;g.toggle("getElements",!0);const v=document.elementsFromPoint(l,u);if(g.toggle("getElements",!1),!this.div.contains(v[0]))return;let C;const b=new RegExp(`^${Tw}[0-9]+$`);for(const x of v)if(b.test(x.id)){C=x.id;break}if(!C)return;const E=f(this,is).get(C);(E==null?void 0:E.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),E.dblclick(a))},{signal:s,capture:!0})}const e=f(this,jc),t=[];if(e){const s=new Map,a=new Map;for(const l of f(this,sn,YD)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(f(this,Le).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=a.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=s.get(u),d&&(f(this,Le).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}U(this,sn,a_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of f(ls,Jc).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),_(this,vv,!1)}getEditableAnnotation(e){var t;return((t=f(this,jc))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,Le).getActive()!==e&&f(this,Le).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,Ri))!=null&&e.div&&!f(this,Pl)){_(this,Pl,new AbortController);const t=f(this,Le).combinedSignal(f(this,Pl));f(this,Ri).div.addEventListener("pointerdown",U(this,sn,PW).bind(this),{signal:t}),f(this,Ri).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,Ri))!=null&&e.div&&f(this,Pl)&&(f(this,Pl).abort(),_(this,Pl,null),f(this,Ri).div.classList.remove("highlighting"))}enableClick(){if(f(this,Wc))return;_(this,Wc,new AbortController);const e=f(this,Le).combinedSignal(f(this,Wc));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=f(this,Wc))==null||e.abort(),_(this,Wc,null)}attach(e){f(this,is).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,Le).isDeletedAnnotationElement(t)&&f(this,Le).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,is).delete(e.id),(t=f(this,Dh))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,vv)&&e.annotationElementId&&f(this,Le).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,Le).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,Le).addDeletedAnnotationElement(e),dn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,Le).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!f(this,yv)),f(this,Le).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,Ul)&&(e._focusEventsAllowed=!1,_(this,Ul,setTimeout(()=>{_(this,Ul,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,Le)._signal}),t.focus())},0))),e._structTreeParentId=(i=f(this,Dh))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of f(this,is).values())if(t.uid===e)return t;return null}getNextId(){return f(this,Le).getId()}combinedSignal(e){return f(this,Le).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,sn,Qo))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await f(this,Le).updateMode(e.mode);const{offsetX:i,offsetY:r}=U(this,sn,JD).call(this),s=this.getNextId(),a=U(this,sn,XD).call(this,{parent:this,id:s,x:i,y:r,uiManager:f(this,Le),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=f(ls,Jc).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,Le)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=U(this,sn,XD).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:f(this,Le),isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(U(this,sn,JD).call(this),!0,e)}setSelected(e){f(this,Le).setSelected(e)}toggleSelected(e){f(this,Le).toggleSelected(e)}unselect(e){f(this,Le).unselect(e)}pointerup(e){var r;const{isMac:t}=sr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!f(this,Yc)||(_(this,Yc,!1),(r=f(this,sn,Qo))!=null&&r.isDrawer&&f(this,sn,Qo).supportMultipleDrawings))return;if(!f(this,mv)){_(this,mv,!0);return}const i=f(this,Le).getMode();if(i===et.STAMP||i===et.SIGNATURE){f(this,Le).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(f(this,Le).getMode()===et.HIGHLIGHT&&this.enableTextSelection(),f(this,Yc)){_(this,Yc,!1);return}const{isMac:t}=sr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(_(this,Yc,!0),(r=f(this,sn,Qo))!=null&&r.isDrawer){this.startDrawingSession(e);return}const i=f(this,Le).getActive();_(this,mv,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),f(this,uo)){f(this,sn,Qo).startDrawing(this,f(this,Le),!1,e);return}f(this,Le).setCurrentDrawingSession(this),_(this,uo,new AbortController);const t=f(this,Le).combinedSignal(f(this,uo));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(_(this,Ml,null),this.commitOrRemove())},{signal:t}),f(this,sn,Qo).startDrawing(this,f(this,Le),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&_(this,Ml,t);return}f(this,Ml)&&setTimeout(()=>{var t;(t=f(this,Ml))==null||t.focus(),_(this,Ml,null)},0)}endDrawingSession(e=!1){return f(this,uo)?(f(this,Le).setCurrentDrawingSession(null),f(this,uo).abort(),_(this,uo,null),_(this,Ml,null),f(this,sn,Qo).endDrawing(e)):null}findNewParent(e,t,i){const r=f(this,Le).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return f(this,uo)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,uo)&&f(this,sn,Qo).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=f(this,Le).getActive())==null?void 0:e.parent)===this&&(f(this,Le).commitOrRemove(),f(this,Le).setActiveEditor(null)),f(this,Ul)&&(clearTimeout(f(this,Ul)),_(this,Ul,null));for(const i of f(this,is).values())(t=f(this,Dh))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,f(this,is).clear(),f(this,Le).removeLayer(this)}render({viewport:e}){this.viewport=e,np(this.div,e);for(const t of f(this,Le).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,Le).commitOrRemove(),U(this,sn,a_).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,np(this.div,{rotation:i}),t!==i)for(const r of f(this,is).values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,Le).viewParameters.realScale}},Dh=new WeakMap,mv=new WeakMap,jc=new WeakMap,Wc=new WeakMap,Ul=new WeakMap,is=new WeakMap,Yc=new WeakMap,vv=new WeakMap,yv=new WeakMap,uo=new WeakMap,Ml=new WeakMap,Ri=new WeakMap,Pl=new WeakMap,Xc=new WeakMap,wv=new WeakMap,Le=new WeakMap,Jc=new WeakMap,sn=new WeakSet,YD=function(){return f(this,is).size!==0?f(this,is).values():f(this,Le).getEditors(this.pageIndex)},PW=function(e){f(this,Le).unselectAll();const{target:t}=e;if(t===f(this,Ri).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,Ri).div.contains(t)){const{isMac:i}=sr.platform;if(e.button!==0||e.ctrlKey&&i)return;f(this,Le).showAllEditors("highlight",!0,!0),f(this,Ri).div.classList.add("free"),this.toggleDrawing(),q_.startHighlighting(this,f(this,Le).direction==="ltr",{target:f(this,Ri).div,x:e.x,y:e.y}),f(this,Ri).div.addEventListener("pointerup",()=>{f(this,Ri).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,Le)._signal}),e.preventDefault()}},Qo=function(){return f(ls,Jc).get(f(this,Le).getMode())},XD=function(e){const t=f(this,sn,Qo);return t?new t.prototype.constructor(e):null},JD=function(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+r),u=(s+o)/2-e,d=(a+l)/2-t,[h,g]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:g}},a_=function(){for(const e of f(this,is).values())e.isEmpty()&&e.remove()},ge(ls,"_initialized",!1),F(ls,Jc,new Map([UD,HD,jD,q_,$D].map(e=>[e._editorType,e]))),ls);var co,Ur,Nh,On,kb,f1,RW,yA,ZD,DW,eN;let afe=(On=class{constructor({pageIndex:e}){F(this,yA);F(this,co,null);F(this,Ur,new Map);F(this,Nh,new Map);this.pageIndex=e}setParent(e){if(!f(this,co)){_(this,co,e);return}if(f(this,co)!==e){if(f(this,Ur).size>0)for(const t of f(this,Ur).values())t.remove(),e.append(t);_(this,co,e)}}static get _svgFactory(){return Je(this,"_svgFactory",new G_)}draw(e,t=!1,i=!1){const r=zn(On,kb)._++,s=U(this,yA,ZD).call(this),a=On._svgFactory.createElement("defs");s.append(a);const o=On._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&f(this,Nh).set(r,o);const u=i?U(this,yA,DW).call(this,a,l):null,d=On._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),f(this,Ur).set(r,s),{id:r,clipPathId:`url(#${u})`}}drawOutline(e,t){const i=zn(On,kb)._++,r=U(this,yA,ZD).call(this),s=On._svgFactory.createElement("defs");r.append(s);const a=On._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=On._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${i}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const g=On._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=On._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${o}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const u=On._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return r.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(r,e),f(this,Ur).set(i,r),i}finalizeDraw(e,t){f(this,Nh).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:i,bbox:r,rootClass:s,path:a}=t,o=typeof e=="number"?f(this,Ur).get(e):e;if(o){if(i&&U(this,yA,eN).call(this,o,i),r&&U(l=On,f1,RW).call(l,o,r),s){const{classList:u}=o;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(a){const d=o.firstElementChild.firstElementChild;U(this,yA,eN).call(this,d,a)}}}updateParent(e,t){if(t===this)return;const i=f(this,Ur).get(e);i&&(f(t,co).append(i),f(this,Ur).delete(e),f(t,Ur).set(e,i))}remove(e){f(this,Nh).delete(e),f(this,co)!==null&&(f(this,Ur).get(e).remove(),f(this,Ur).delete(e))}destroy(){_(this,co,null);for(const e of f(this,Ur).values())e.remove();f(this,Ur).clear(),f(this,Nh).clear()}},co=new WeakMap,Ur=new WeakMap,Nh=new WeakMap,kb=new WeakMap,f1=new WeakSet,RW=function(e,[t,i,r,s]){const{style:a}=e;a.top=`${100*i}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*s}%`},yA=new WeakSet,ZD=function(){const e=On._svgFactory.create(1,1,!0);return f(this,co).append(e),e.setAttribute("aria-hidden",!0),e},DW=function(e,t){const i=On._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=On._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},eN=function(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)},F(On,f1),F(On,kb,0),On);globalThis._pdfjsTestingUtils={HighlightOutliner:PD};globalThis.pdfjsLib={AbortException:Sd,AnnotationEditorLayer:sfe,AnnotationEditorParamsType:wt,AnnotationEditorType:et,AnnotationEditorUIManager:Uw,AnnotationLayer:tfe,AnnotationMode:ac,AnnotationType:ri,applyOpacity:Tce,build:Rde,ColorPicker:Nj,createValidAbsoluteUrl:B6,CSSConstants:_ce,DOMSVGFactory:G_,DrawLayer:afe,FeatureTest:sr,fetchData:FB,findContrastColor:Ice,getDocument:TQ,getFilenameFromUrl:Cce,getPdfFilenameFromUrl:bce,getRGB:MB,getUuid:x6,getXfaPageViewport:Ece,GlobalWorkerOptions:zl,ImageKind:_x,InvalidPDFException:TR,isDataScheme:_1,isPdfFile:EQ,isValidExplicitDest:Oce,MathClamp:Dr,noContextMenu:Va,normalizeUnicode:vce,OPS:Iw,OutputScale:ip,PasswordResponses:lce,PDFDataRangeTransport:Mj,PDFDateString:FR,PDFWorker:pD,PermissionFlag:Ace,PixelsPerInch:Gv,RenderingCancelledException:BQ,renderRichText:I6,ResponseException:Q_,setLayerDimensions:np,shadow:Je,SignatureExtractor:Bg,stopEvent:Vn,SupportedImageMimeTypes:MR,TextLayer:cD,TouchManager:Y6,updateUrlHash:E6,Util:De,VerbosityLevel:E1,version:Dj,XfaLayer:T6};zl.workerSrc="https://aistudiocdn.com/pdfjs-dist@4.4.168/build/pdf.worker.mjs";const ofe=async n=>{try{const e=await n.arrayBuffer(),t=await TQ({data:e}).promise;let i="",r=[],s="";const a=t.numPages;if(a===0)throw new Error("PDF has zero pages.");for(let l=1;l<=a;l++){const h=(await(await t.getPage(l)).getTextContent()).items.map(v=>v.str).join(" ");i+=h+" ",h.trim().length>0&&r.push({id:`chunk-page-${l}`,text:h,pageNumber:l});const g=h.split("  ");s+=`<div class="pdf-page" id="page-${l}" style="margin-bottom: 2rem; border-bottom: 1px dashed #e2e8f0; padding-bottom: 1rem;">`,s+=`<span class="text-xs text-slate-400 block mb-2 font-mono">Page ${l}</span>`,h.trim().length===0?s+=`<div class="p-4 bg-slate-100 dark:bg-slate-800 rounded text-slate-500 text-sm italic text-center">[Page ${l}: No text content detected. This might be a scanned image.]</div>`:g.forEach(v=>{v.trim().length>0&&(v.length<50&&!v.endsWith(".")?s+=`<h3 class="font-bold text-lg mt-4 mb-2 text-slate-800 dark:text-slate-200">${v}</h3>`:s+=`<p class="mb-2 leading-relaxed text-slate-700 dark:text-slate-300">${v}</p>`)}),s+="</div>"}return s.trim()||(s="<div class='p-8 text-center text-slate-500'>Could not extract text from this PDF. It might contain only images or be protected.</div>"),{chapters:[{id:"pdf-upload",title:n.name.replace(".pdf",""),content:s}],chunks:r}}catch(e){throw console.error("PDF Processing Error:",e),e}},Afe=(n,e)=>{const t=n.toLowerCase().split(" ").filter(s=>s.length>3);return t.length===0?"":e.map(s=>{let a=0;const o=s.text.toLowerCase();return t.forEach(l=>{o.includes(l)&&a++}),{...s,score:a}}).sort((s,a)=>a.score-s.score).filter(s=>s.score>0).slice(0,3).map(s=>s.text).join(`

`)},lfe=[{id:"ch1",title:"Chapter 1: The Dawn of AI",content:`
      <h2>1.1 Introduction to Artificial Intelligence</h2>
      <p>Artificial Intelligence (AI) is intelligence demonstrated by machines, as opposed to the natural intelligence displayed by humans or animals. Leading AI textbooks define the field as the study of "intelligent agents": any system that perceives its environment and takes actions that maximize its chances of achieving its goals.</p>
      <p>The history of AI began in antiquity, with myths, stories, and rumors of artificial beings endowed with intelligence or consciousness by master craftsmen. The seeds of modern AI were planted by philosophers who attempted to describe the process of human thinking as the mechanical manipulation of symbols.</p>
      <h3>1.2 The Turing Test</h3>
      <p>The Turing test, developed by Alan Turing in 1950, is a test of a machine's ability to exhibit intelligent behavior equivalent to, or indistinguishable from, that of a human. Turing proposed that a human evaluator would judge natural language conversations between a human and a machine designed to generate human-like responses.</p>
    `},{id:"ch2",title:"Chapter 2: Machine Learning Basics",content:`
      <h2>2.1 What is Machine Learning?</h2>
      <p>Machine Learning (ML) is a subset of artificial intelligence that focuses on building systems that learn, or improve performance, based on the data they consume. Artificial Intelligence is a broad term that refers to systems or machines that mimic human intelligence. Machine Learning is how they achieve that intelligence.</p>
      <p>There are three main types of machine learning: supervised learning, unsupervised learning, and reinforcement learning. In supervised learning, the algorithm is trained on labeled data.</p>
      <h3>2.2 Neural Networks</h3>
      <p>Neural networks, also known as artificial neural networks (ANNs) or simulated neural networks (SNNs), are a subset of machine learning and are at the heart of deep learning algorithms. Their name and structure are inspired by the human brain, mimicking the way that biological neurons signal to one another.</p>
    `},{id:"ch3",title:"Chapter 3: Ethics in Technology",content:`
      <h2>3.1 The Importance of Ethics</h2>
      <p>As technology becomes more integrated into our daily lives, the ethical implications of its use become increasingly important. Issues such as privacy, bias in algorithms, and the displacement of jobs are central discussions in the tech world today.</p>
      <p>Algorithmic bias describes systematic and repeatable errors in a computer system that create unfair outcomes, such as privileging one arbitrary group of users over others.</p>
    `}],NW=P.createContext(void 0),ufe=({children:n})=>{const[e,t]=P.useState(lfe),[i,r]=P.useState(null),[s,a]=P.useState([]),[o,l]=P.useState(!1),[u,d]=P.useState(0),[h,g]=P.useState("medium"),[v,C]=P.useState("light"),[b,E]=P.useState("single"),[x,I]=P.useState(!0),[T,R]=P.useState([]),[M,D]=P.useState([]),[L,H]=P.useState(null),[O,K]=P.useState("idle"),[V,$]=P.useState("#ef4444"),[ne,oe]=P.useState(3),[pe,G]=P.useState(1),[z,ee]=P.useState({}),[Z,me]=P.useState([]),[q,Y]=P.useState(!1),[X,ce]=P.useState(null),[ye,Ce]=P.useState([]),[ve,je]=P.useState(!0),[se,Pe]=P.useState("ai"),[Ve,we]=P.useState(""),[Zt,We]=P.useState({totalReadingTime:0,sessions:1,chapterVisits:{},aiInteractionCount:0,highlightCount:0}),[wn,_n]=P.useState([]),[ar,fs]=P.useState(null),[ea,_o]=P.useState(null),[To,Od]=P.useState(null),Be=e[u];P.useEffect(()=>{window.innerWidth<1024&&je(!1)},[]),P.useEffect(()=>{const Ee=setInterval(()=>{document.visibilityState==="visible"&&te()},5e3);return()=>clearInterval(Ee)},[]),P.useEffect(()=>{We(Ee=>({...Ee,chapterVisits:{...Ee.chapterVisits,[Be.id]:(Ee.chapterVisits[Be.id]||0)+1}}))},[Be.id]);const te=()=>{We(Ee=>({...Ee,totalReadingTime:Ee.totalReadingTime+5}))},be=()=>{We(Ee=>({...Ee,aiInteractionCount:Ee.aiInteractionCount+1}))},Ue=()=>{C(Ee=>Ee==="light"?"dark":"light"),v==="light"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},vt=()=>I(Ee=>!Ee),Oe=()=>{R(Ee=>Ee.includes(Be.id)?Ee.filter(At=>At!==Be.id):[...Ee,Be.id])},fn=()=>{u<e.length-1&&d(Ee=>Ee+1)},Rt=()=>{u>0&&d(Ee=>Ee-1)},or=Ee=>{Ee>=0&&Ee<e.length&&d(Ee)},ta=async Ee=>{l(!0);try{const At=await ofe(Ee);At.chapters.length>0?(t(At.chapters),d(0),a(At.chunks),r(null),je(!0),Pe("ai"),alert(`"${Ee.name}"()   .`)):alert("Processed PDF but found no readable content.")}catch(At){console.error("PDF Load Failed",At),alert("Failed to load PDF. Please ensure it is a valid PDF file.")}finally{l(!1)}},Io=(Ee,At,ct)=>{const Ke=ct||Be.id,Dt={id:Date.now().toString(),chapterId:Ke,text:Ee,color:"yellow",note:At,createdAt:Date.now()};return D(Ar=>[Dt,...Ar]),We(Ar=>({...Ar,highlightCount:Ar.highlightCount+1})),Dt.id},Er=(Ee,At)=>{D(ct=>ct.map(Ke=>Ke.id===Ee?{...Ke,note:At}:Ke))},Fo=Ee=>{D(At=>At.filter(ct=>ct.id!==Ee))},Sr=Ee=>{I(!0),H(Ee),setTimeout(()=>H(null),2e3)},SI=(Ee,At)=>{ee(ct=>({...ct,[Ee]:[...ct[Ee]||[],At]}))},xI=(Ee,At)=>{ee(ct=>({...ct,[Ee]:(ct[Ee]||[]).filter(Ke=>Ke.id!==At)}))},_I=Ee=>(z[Ee]||[]).length>0,kd=(Ee,At)=>{const ct={id:Date.now().toString(),title:Ee||"Untitled Note",content:At,chapterId:Be.id,chapterTitle:Be.title,createdAt:Date.now(),updatedAt:Date.now()};me(Ke=>[ct,...Ke])},mp=(Ee,At,ct)=>{me(Ke=>Ke.map(Dt=>Dt.id===Ee?{...Dt,title:At,content:ct,updatedAt:Date.now()}:Dt))},vp=Ee=>{me(At=>At.filter(ct=>ct.id!==Ee))},EA=Ee=>{let At=Ee.content.replace(/<[^>]+>/g,"");const ct=new Blob([`# ${Ee.title}

${At}`],{type:"text/markdown"}),Ke=URL.createObjectURL(ct),Dt=document.createElement("a");Dt.href=Ke,Dt.download=`${Ee.title.replace(/\s+/g,"_")}.md`,Dt.click(),URL.revokeObjectURL(Ke)},yp=async Ee=>{const At=await Ee.text();let ct=Ee.name.replace(".md","").replace(".json",""),Ke=At.replace(/\n/g,"<br>");kd(ct,Ke)},SA=(Ee,At)=>{const ct={id:Date.now().toString(),role:Ee,text:At,timestamp:Date.now()};Ce(Ke=>[...Ke,ct])},TI=async Ee=>{je(!0),Pe("ai");const At=`Explain: "${Ee}"`;SA("user",At),be();let ct=Be.content.substring(0,2e3);if(s.length>0){const Dt=Afe(Ee,s);Dt&&(ct=Dt)}const Ke=await b6(Ee,ct);SA("model",Ke)},aE=Ee=>{if(!Ee||Ee.length<2)return[];const At=[],ct=Ee.toLowerCase();return e.forEach(Ke=>{const Dt=Ke.content.replace(/<[^>]+>/g," "),Ar=Dt.toLowerCase().indexOf(ct);if(Ar!==-1){const Vr=Math.max(0,Ar-40),Mn=Math.min(Dt.length,Ar+40+Ee.length),lr=(Vr>0?"...":"")+Dt.substring(Vr,Mn)+(Mn<Dt.length?"...":"");At.push({id:`ch-${Ke.id}-${Ar}`,type:"chapter",title:Ke.title,contentSnippet:lr,chapterId:Ke.id,matchIndex:Ar})}}),M.forEach(Ke=>{(Ke.text.toLowerCase().includes(ct)||Ke.note&&Ke.note.toLowerCase().includes(ct))&&At.push({id:`hl-${Ke.id}`,type:"highlight",title:"Highlight",contentSnippet:Ke.note?`${Ke.text} - ${Ke.note}`:Ke.text,chapterId:Ke.chapterId})}),Z.forEach(Ke=>{const Dt=Ke.content.replace(/<[^>]+>/g," ");(Ke.title.toLowerCase().includes(ct)||Dt.toLowerCase().includes(ct))&&At.push({id:`note-${Ke.id}`,type:"note",title:Ke.title,contentSnippet:Dt.substring(0,80)+"...",chapterId:Ke.chapterId})}),wn.forEach(Ke=>{const Dt=Ke.text.toLowerCase().indexOf(ct);if(Dt!==-1){const Ar=Math.max(0,Dt-40),Vr=Math.min(Ke.text.length,Dt+40+Ee.length),Mn=(Ar>0?"...":"")+Ke.text.substring(Ar,Vr)+(Vr<Ke.text.length?"...":"");At.push({id:`pdf-${Ke.page}-${Dt}`,type:"pdf",title:`PDF p.${Ke.page}`,contentSnippet:Mn,pageNumber:Ke.page})}}),At},Cy=Ee=>{ar?ar(Ee):_o(Ee)},Hd=U_.useCallback(Ee=>{fs(()=>Ee),ea!==null&&(Ee(ea),_o(null))},[ea]),II=U_.useCallback(Ee=>{_n(Ee)},[]),oE=()=>{console.log("Saving progress..."),alert("Progress Saved! (Simulated)")};return Q.jsx(NW.Provider,{value:{chapters:e,referenceDocument:i,currentChapterIndex:u,currentChapter:Be,goToNextChapter:fn,goToPrevChapter:Rt,goToChapter:or,uploadBook:ta,isProcessing:o,fontSize:h,setFontSize:g,viewMode:b,setViewMode:E,theme:v,toggleTheme:Ue,showAnnotations:x,toggleAnnotations:vt,bookmarks:T,toggleBookmark:Oe,highlights:M,addHighlight:Io,updateHighlight:Er,removeHighlight:Fo,activeHighlightId:L,focusHighlight:Sr,drawingMode:O,setDrawingMode:K,penColor:V,setPenColor:$,penWidth:ne,setPenWidth:oe,penOpacity:pe,setPenOpacity:G,chapterStrokes:z,addStroke:SI,removeStroke:xI,hasStrokes:_I,generalNotes:Z,addGeneralNote:kd,updateGeneralNote:mp,removeGeneralNote:vp,importNotes:yp,exportNoteAsMarkdown:EA,isCaptureMode:q,setCaptureMode:Y,capturedImage:X,setCapturedImage:ce,aiChatHistory:ye,addChatMessage:SA,triggerSmartExplain:TI,isToolsOpen:ve,setToolsOpen:je,activeToolTab:se,setActiveToolTab:Pe,searchQuery:Ve,setSearchQuery:we,performSearch:aE,stats:Zt,incrementAiCount:be,updateReadingTime:te,saveProgress:oE,pdfTextPages:wn,setPdfTextPages:II,goToPdfPage:Cy,registerPdfNavigator:Hd,pdfSearchHighlight:To,setPdfSearchHighlight:Od},children:n})},Rd=()=>{const n=P.useContext(NW);if(n===void 0)throw new Error("useBook must be used within a BookProvider");return n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dfe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),RK=n=>{const e=dfe(n);return e.charAt(0).toUpperCase()+e.slice(1)},LW=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),ffe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>P.createElement("svg",{ref:l,...hfe,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:LW("lucide",r),...!s&&!ffe(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>P.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(n,e)=>{const t=P.forwardRef(({className:i,...r},s)=>P.createElement(pfe,{ref:s,iconNode:e,className:LW(`lucide-${cfe(RK(n))}`,`lucide-${n}`,i),...r}));return t.displayName=RK(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],mfe=lt("bold",gfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yfe=lt("book-open",vfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],tN=lt("book",wfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],o_=lt("bookmark",Cfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],DK=lt("bot",bfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Efe=lt("camera",Bfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xfe=lt("chevron-left",Sfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tfe=lt("chevron-right",_fe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ffe=lt("clock",Ife);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Mfe=lt("columns-2",Ufe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Rfe=lt("ellipsis-vertical",Pfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Nfe=lt("eraser",Dfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qfe=lt("eye",Lfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],NK=lt("file-text",Ofe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],nN=lt("file-up",kfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],LK=lt("funnel",Hfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],A_=lt("highlighter",Vfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Gfe=lt("list",Kfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],QK=lt("loader-circle",zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$fe=lt("log-out",qfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wfe=lt("message-circle-question-mark",jfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],iM=lt("message-square",Yfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["path",{d:"M5 12h14",key:"1ays0h"}]],Jfe=lt("minus",Xfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],ehe=lt("panel-left",Zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],nhe=lt("panel-right",the);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rhe=lt("pen-line",ihe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],QW=lt("pen-tool",she);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ohe=lt("pen",ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],iN=lt("plus",Ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],uhe=lt("printer",lhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],OW=lt("save",che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],l_=lt("search",dhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],hhe=lt("settings-2",fhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],ghe=lt("sticky-note",phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],vhe=lt("table",mhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],OK=lt("trash-2",yhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Che=lt("type",whe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Bhe=lt("upload",bhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kW=lt("x",Ehe),HW=({toggleSidebar:n,isSidebarOpen:e})=>{const{fontSize:t,setFontSize:i,viewMode:r,setViewMode:s,drawingMode:a,setDrawingMode:o,penColor:l,setPenColor:u,penWidth:d,setPenWidth:h,penOpacity:g,setPenOpacity:v,saveProgress:C,showAnnotations:b,toggleAnnotations:E,isToolsOpen:x,setToolsOpen:I,bookmarks:T,toggleBookmark:R,currentChapter:M,uploadBook:D,isProcessing:L,setActiveToolTab:H}=Rd(),O=Md(),K=O$(),V=O.pathname==="/",[$,ne]=P.useState(!1),[oe,pe]=P.useState(!1),[G,z]=P.useState(!1),ee=P.useRef(null),Z=T.includes(M.id),me=()=>{confirm("Are you sure you want to close the viewer?")&&K("/report")},q=()=>{var Ce;(Ce=ee.current)==null||Ce.click()},Y=Ce=>{Ce.target.files&&Ce.target.files[0]&&D(Ce.target.files[0])},X=()=>{I(!0),H("search")},ce=Ce=>{const ve=["small","medium","large","xlarge"],je=ve.indexOf(t);let se=Ce==="up"?je+1:je-1;se<0&&(se=0),se>=ve.length&&(se=ve.length-1),i(ve[se])},ye=["#000000","#ef4444","#3b82f6","#22c55e","#eab308"];return Q.jsx("header",{className:"header",children:Q.jsxs("div",{className:"header_inner",children:[Q.jsxs("div",{className:"header_main",children:[V&&Q.jsx("button",{onClick:n,className:`left_toggle ${e?"open":"off"}`,title:"Table of Contents",children:Q.jsx(ehe,{size:20})}),Q.jsxs("div",{className:"logo_wrap",children:[Q.jsx("div",{className:"icon",children:Q.jsx(tN,{})}),Q.jsx("span",{className:"logo_text",children:"CampusBook"})]})]}),Q.jsxs("div",{className:"header_nav",children:[Q.jsxs("div",{className:"mode_select",children:[Q.jsx(P_,{to:"/",className:`reader ${V?"on":"off"}`,children:"Reader"}),Q.jsx(P_,{to:"/report",className:`report ${V?"off":"on"}`,children:"Report"})]}),Q.jsx("div",{className:"separate_bar"}),Q.jsxs("button",{onClick:q,disabled:L,className:"add_file",title:"Add Reference Material (PDF)",children:[L?Q.jsx(QK,{size:16,className:"animate-spin"}):Q.jsx(nN,{size:16}),Q.jsx("span",{children:"Add Reference"}),Q.jsx("input",{type:"file",ref:ee,className:"hidden",accept:"application/pdf",onChange:Y})]})]}),Q.jsxs("div",{className:"header_tools",children:[V&&Q.jsxs(Q.Fragment,{children:[Q.jsx("button",{onClick:X,className:"search_icon_btn",title:"Search",children:Q.jsx(l_,{size:20})}),Q.jsxs("div",{className:"draw_icon_wrap",children:[Q.jsxs("div",{className:"draw_icon_inner",children:[Q.jsx("button",{onClick:()=>o(a==="pen"?"idle":"pen"),className:`pen_tool ${a==="pen"?"on":"off"}`,title:"Pen Tool",children:Q.jsx(ohe,{size:18})}),a==="pen"&&Q.jsx("button",{onClick:()=>ne(!$),className:"detail_select",title:"Pen Settings",children:Q.jsx(hhe,{size:12})}),Q.jsx("button",{onClick:()=>{o(a==="eraser"?"idle":"eraser"),ne(!1)},className:`eraser_tool ${a==="eraser"?"on":"off"}`,title:"Eraser",children:Q.jsx(Nfe,{size:18})})]}),$&&a==="pen"&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[Q.jsxs("div",{className:"flex justify-between items-center mb-3",children:[Q.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Pen Settings"}),Q.jsx("button",{onClick:()=>ne(!1),className:"text-slate-400 hover:text-slate-600",children:Q.jsx(kW,{size:14})})]}),Q.jsx("div",{className:"flex justify-between mb-4",children:ye.map(Ce=>Q.jsx("button",{onClick:()=>u(Ce),className:`w-6 h-6 rounded-full transition-transform hover:scale-110 border border-slate-200 dark:border-slate-700 ${l===Ce?"ring-2 ring-offset-2 ring-blue-500 scale-110":""}`,style:{backgroundColor:Ce}},Ce))}),Q.jsxs("div",{className:"mb-3",children:[Q.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[Q.jsx("span",{children:"Thickness"}),Q.jsxs("span",{children:[d,"px"]})]}),Q.jsx("input",{type:"range",min:"1",max:"15",step:"1",value:d,onChange:Ce=>h(parseInt(Ce.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),Q.jsxs("div",{children:[Q.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[Q.jsx("span",{children:"Opacity"}),Q.jsxs("span",{children:[Math.round(g*100),"%"]})]}),Q.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:g,onChange:Ce=>v(parseFloat(Ce.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]})]}),Q.jsxs("div",{className:"relative",children:[Q.jsx("button",{onClick:()=>pe(!oe),className:"appearance",title:"Appearance",children:Q.jsx(Che,{size:20})}),oe&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-60 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[Q.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"View Settings"}),Q.jsxs("div",{className:"flex items-center justify-between mb-4 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[Q.jsx("button",{onClick:()=>ce("down"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:Q.jsx(Jfe,{size:14})}),Q.jsx("span",{className:"text-sm font-medium",children:t==="medium"?"100%":t==="small"?"85%":t==="large"?"115%":"130%"}),Q.jsx("button",{onClick:()=>ce("up"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:Q.jsx(iN,{size:14})})]}),Q.jsxs("div",{className:"space-y-2",children:[Q.jsxs("button",{onClick:()=>s(r==="single"?"double":"single"),className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(Mfe,{size:16})," Two-Page View"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${r==="double"?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${r==="double"?"translate-x-4":""}`})})]}),Q.jsxs("button",{onClick:E,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(Qfe,{size:16})," Annotations"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${b?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${b?"translate-x-4":""}`})})]}),Q.jsxs("button",{onClick:R,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(o_,{size:16})," Bookmark Page"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${Z?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${Z?"translate-x-4":""}`})})]})]})]})]}),Q.jsx("button",{onClick:()=>I(!x),className:`toggle_ai_notes ${x?"on":"off"}`,title:"Toggle AI & Notes",children:Q.jsx(nhe,{size:20})})]}),Q.jsxs("div",{className:"relative ml-1",children:[Q.jsx("button",{onClick:()=>z(!G),className:"more",children:Q.jsx(Rfe,{size:20})}),G&&Q.jsxs("div",{className:"more_list",children:[Q.jsxs("button",{onClick:q,className:"",children:[L?Q.jsx(QK,{size:14,className:"animate-spin"}):Q.jsx(nN,{size:14})," ","Add Reference PDF"]}),Q.jsx("input",{type:"file",ref:ee,className:"hidden",accept:"application/pdf",onChange:Y}),Q.jsxs("button",{onClick:C,className:"",children:[Q.jsx(OW,{size:14})," Save Progress"]}),Q.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800 my-1"}),Q.jsxs("button",{onClick:me,className:"exit_viewer",children:[Q.jsx($fe,{size:14})," Exit Viewer"]})]})]})]})]})})},{AbortException:She,AnnotationEditorLayer:xhe,AnnotationEditorParamsType:NLe,AnnotationEditorType:Yr,AnnotationEditorUIManager:_he,AnnotationLayer:The,AnnotationMode:fA,AnnotationType:VW,applyOpacity:LLe,build:QLe,ColorPicker:OLe,createValidAbsoluteUrl:KW,CSSConstants:kLe,DOMSVGFactory:HLe,DrawLayer:Ihe,FeatureTest:GW,fetchData:kK,findContrastColor:VLe,getDocument:KLe,getFilenameFromUrl:GLe,getPdfFilenameFromUrl:Fhe,getRGB:zLe,getUuid:qLe,getXfaPageViewport:$Le,GlobalWorkerOptions:jLe,ImageKind:WLe,InvalidPDFException:YLe,isDataScheme:XLe,isPdfFile:Uhe,isValidExplicitDest:Mhe,MathClamp:PQ,noContextMenu:JLe,normalizeUnicode:Phe,OPS:ZLe,OutputScale:u_,PasswordResponses:eQe,PDFDataRangeTransport:tQe,PDFDateString:nQe,PDFWorker:iQe,PermissionFlag:sg,PixelsPerInch:JA,RenderingCancelledException:rN,renderRichText:rQe,ResponseException:sQe,setLayerDimensions:zW,shadow:Mw,SignatureExtractor:aQe,stopEvent:sN,SupportedImageMimeTypes:oQe,TextLayer:Rhe,TouchManager:AQe,updateUrlHash:Dhe,Util:RQ,VerbosityLevel:lQe,version:HK,XfaLayer:rM}=globalThis.pdfjsLib,Nhe="auto",qW=1,VK=1.1,Lhe=.1,Qhe=10,sM=0,Ohe=1.25,KK=40,GK=5,_t={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},Kg={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},cA={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},bt={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},wr={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function $W(n,e,t=!1){let i=n.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let r=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(r+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;if(e&&(e.top!==void 0&&(r+=e.top),e.left!==void 0)){if(t){const a=n.getBoundingClientRect().width,o=PQ((i.clientWidth-a)/2,20,400);s+=e.left-o}else s+=e.left;i.scrollLeft=s}i.scrollTop=r}function khe(n,e,t=void 0){const i=function(a){s||(s=window.requestAnimationFrame(function(){s=null;const l=n.scrollLeft,u=r.lastX;l!==u&&(r.right=l>u),r.lastX=l;const d=n.scrollTop,h=r.lastY;d!==h&&(r.down=d>h),r.lastY=d,e(r)}))},r={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i};let s=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:t}),t==null||t.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),r}function F1(n){const e=new Map;for(const[t,i]of new URLSearchParams(n))e.set(t.toLowerCase(),i);return e}const zK=/[\x00-\x1F]/g;function vw(n,e=!1){return zK.test(n)?e?n.replaceAll(zK,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function Pw(n,e,t=0){let i=t,r=n.length-1;if(r<0||!e(n[r]))return n.length;if(e(n[i]))return i;for(;i<r;){const s=i+r>>1,a=n[s];e(a)?r=s:i=s+1}return i}function qK(n){if(Math.floor(n)===n)return[n,1];const e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const i=n>1?e:n;let r=0,s=1,a=1,o=1;for(;;){const u=r+a,d=s+o;if(d>t)break;i<=u/d?(a=u,o=d):(r=u,s=d)}let l;return i-r/s<a/o-i?l=i===n?[r,s]:[s,r]:l=i===n?[a,o]:[o,a],l}function FS(n,e){return n-n%e}function Hhe(n,e,t){if(n<2)return n;let i=e[n].div,r=i.offsetTop+i.clientTop;r>=t&&(i=e[n-1].div,r=i.offsetTop+i.clientTop);for(let s=n-2;s>=0&&(i=e[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=r));--s)n=s;return n}function Vhe({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:r=!1}){const s=n.scrollTop,a=s+n.clientHeight,o=n.scrollLeft,l=o+n.clientWidth;function u(I){const T=I.div;return T.offsetTop+T.clientTop+T.clientHeight>s}function d(I){const T=I.div,R=T.offsetLeft+T.clientLeft,M=R+T.clientWidth;return r?R<l:M>o}const h=[],g=new Set,v=e.length;let C=Pw(e,i?d:u);C>0&&C<v&&!i&&(C=Hhe(C,e,s));let b=i?l:-1;for(let I=C;I<v;I++){const T=e[I],R=T.div,M=R.offsetLeft+R.clientLeft,D=R.offsetTop+R.clientTop,L=R.clientWidth,H=R.clientHeight,O=M+L,K=D+H;if(b===-1)K>=a&&(b=K);else if((i?M:D)>b)break;if(K<=s||D>=a||O<=o||M>=l)continue;const V=Math.max(0,s-D),$=Math.max(0,o-M),ne=V+Math.max(0,K-a),oe=$+Math.max(0,O-l),pe=(H-ne)/H,G=(L-oe)/L,z=pe*G*100|0;h.push({id:T.id,x:M,y:D,visibleArea:z===100?null:{minX:$,minY:V,maxX:Math.min(O,l)-M,maxY:Math.min(K,a)-D},view:T,percent:z,widthPercent:G*100|0}),g.add(T.id)}const E=h[0],x=h.at(-1);return t&&h.sort(function(I,T){const R=I.percent-T.percent;return Math.abs(R)>.001?-R:I.id-T.id}),{first:E,last:x,views:h,ids:g}}function jW(n){return Number.isInteger(n)&&n%90===0}function Khe(n){return Number.isInteger(n)&&Object.values(bt).includes(n)&&n!==bt.UNKNOWN}function Ghe(n){return Number.isInteger(n)&&Object.values(wr).includes(n)&&n!==wr.UNKNOWN}function $K(n){return n.width<=n.height}new Promise(function(n){window.requestAnimationFrame(n)});const zhe=document.documentElement.style;var Zc,Lh,ed,Cv,Qh;class qhe{constructor(e){F(this,Zc,null);F(this,Lh,null);F(this,ed,0);F(this,Cv,null);F(this,Qh,!0);_(this,Zc,e.classList),_(this,Cv,e.style)}get percent(){return f(this,ed)}set percent(e){if(_(this,ed,PQ(e,0,100)),isNaN(e)){f(this,Zc).add("indeterminate");return}f(this,Zc).remove("indeterminate"),f(this,Cv).setProperty("--progressBar-percent",`${f(this,ed)}%`)}setWidth(e){if(!e)return;const i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&f(this,Cv).setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){f(this,ed)===100||isNaN(f(this,ed))||(f(this,Lh)&&clearTimeout(f(this,Lh)),this.show(),_(this,Lh,setTimeout(()=>{_(this,Lh,null),this.hide()},e)))}hide(){f(this,Qh)&&(_(this,Qh,!1),f(this,Zc).add("hidden"))}show(){f(this,Qh)||(_(this,Qh,!0),f(this,Zc).remove("hidden"))}}Zc=new WeakMap,Lh=new WeakMap,ed=new WeakMap,Cv=new WeakMap,Qh=new WeakMap;function $he(n){let e=bt.VERTICAL,t=wr.NONE;switch(n){case"SinglePage":e=bt.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=bt.PAGE;case"TwoColumnLeft":t=wr.ODD;break;case"TwoPageRight":e=bt.PAGE;case"TwoColumnRight":t=wr.EVEN;break}return{scrollMode:e,spreadMode:t}}const US=(function(){const n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e})(),Xa={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function jhe(n){return n<11904}function Whe(n){return(n&65408)===0}function Yhe(n){return n>=97&&n<=122||n>=65&&n<=90}function Xhe(n){return n>=48&&n<=57}function Jhe(n){return n===32||n===9||n===13||n===10}function Zhe(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function epe(n){return n>=12448&&n<=12543}function tpe(n){return n>=12352&&n<=12447}function npe(n){return n>=65376&&n<=65439}function ipe(n){return(n&65408)===3584}function MS(n){return jhe(n)?Whe(n)?Jhe(n)?Xa.SPACE:Yhe(n)||Xhe(n)||n===95?Xa.ALPHA_LETTER:Xa.PUNCT:ipe(n)?Xa.THAI_LETTER:n===160?Xa.SPACE:Xa.ALPHA_LETTER:Zhe(n)?Xa.HAN_LETTER:epe(n)?Xa.KATAKANA_LETTER:tpe(n)?Xa.HIRAGANA_LETTER:npe(n)?Xa.HALFWIDTH_KATAKANA_LETTER:Xa.ALPHA_LETTER}let rpe;function spe(){return rpe}const Ju={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},ape=250,ope=-50,jK={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},WK=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let YK;const Ape=new RegExp("\\p{M}+","gu"),lpe=new RegExp("([*+^${}()|[\\]\\\\])|(\\p{P}+)|(\\s+)|(\\p{M})|(\\p{L})","gu"),upe=new RegExp("([^\\p{M}])\\p{M}*$","u"),cpe=new RegExp("^\\p{M}*([^\\p{M}])","u"),dpe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,XK=new Map,fpe="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",JK=new Map;let aM=null,oM=null;function c_(n,e={}){const t=[];let i;for(;(i=dpe.exec(n))!==null;){let{index:I}=i;for(const T of i[0]){let R=XK.get(T);R||(R=T.normalize("NFD").length,XK.set(T,R)),t.push([R,I++])}}const r=t.length>0,s=e.ignoreDashEOL??!1;let a;if(!r&&aM)a=aM;else if(r&&oM)a=oM;else{const I=Object.keys(jK).join(""),T=spe(),L=[`[${I}]`,`[${T}]`,"(?:|)\\n","\\p{M}+(?:-\\n)?","\\p{Ll}-\\n(?=\\p{Ll})|\\p{Lu}-\\n(?=\\p{L})","\\S-\\n","(?:\\p{Ideographic}|[-])\\n","\\n",r?fpe:"\\u0000"];a=new RegExp(L.map(H=>`(${H})`).join("|"),"gum"),r?oM=a:aM=a}const o=[];for(;(i=Ape.exec(n))!==null;)o.push([i[0].length,i.index]);let l=n.normalize("NFD");const u=[0,0];let d=0,h=0,g=0,v=0,C=0,b=!1;l=l.replace(a,(I,T,R,M,D,L,H,O,K,V,$)=>{var ne,oe,pe;if($-=v,T){const G=jK[T],z=G.length;for(let ee=1;ee<z;ee++)u.push($-g+ee,g-ee);return g-=z-1,G}if(R){let G=JK.get(R);G||(G=R.normalize("NFKC"),JK.set(R,G));const z=G.length;for(let ee=1;ee<z;ee++)u.push($-g+ee,g-ee);return g-=z-1,G}if(M)return b=!0,$+C===((ne=o[d])==null?void 0:ne[1])?++d:(u.push($-1-g+1,g-1),g-=1,v+=1),u.push($-g+1,g),v+=1,C+=1,M.charAt(0);if(D){const G=D.endsWith(`
`),z=G?D.length-2:D.length;b=!0;let ee=z;$+C===((oe=o[d])==null?void 0:oe[1])&&(ee-=o[d][0],++d);for(let Z=1;Z<=ee;Z++)u.push($-1-g+Z,g-Z);return g-=ee,v+=ee,G?($+=z-1,u.push($-g+1,1+g),g+=1,v+=1,C+=1,D.slice(0,z)):D}if(L){if(s)return v+=1,C+=1,L.slice(0,-1);const G=L.length-2;return u.push($-g+G,1+g),g+=1,v+=1,C+=1,L.slice(0,-2)}if(H)return v+=1,C+=1,H.slice(0,-1);if(O){const G=O.length-1;return u.push($-g+G,g),v+=1,C+=1,O.slice(0,-1)}if(K)return u.push($-g+1,g-1),g-=1,v+=1,C+=1," ";if($+C===((pe=t[h])==null?void 0:pe[1])){const G=t[h][0]-1;++h;for(let z=1;z<=G;z++)u.push($-(g-z),g-z);g-=G,v+=G}return V}),u.push(l.length,g);const E=new Uint32Array(u.length>>1),x=new Int32Array(u.length>>1);for(let I=0,T=u.length;I<T;I+=2)E[I>>1]=u[I],x[I>>1]=u[I+1];return[l,[E,x],b]}function WW(n,e,t){if(!n)return[e,t];const[i,r]=n,s=e,a=e+t-1;let o=Pw(i,g=>g>=s);i[o]>s&&--o;let l=Pw(i,g=>g>=a,o);i[l]>a&&--l;const u=s+r[o],h=a+r[l]+1-u;return[u,h]}var hi,bv,Oh,Qe,YW,aN,oN,XW,JW,AN,ZW,eY,d_,nw,Eg,tY,lN,uN,f_,nY,cN,dN,iw;class hpe{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){F(this,Qe);F(this,hi,null);F(this,bv,!0);F(this,Oh,0);this._linkService=e,this._eventBus=t,_(this,bv,i),this.onIsPageVisible=null,U(this,Qe,aN).call(this),t._on("find",U(this,Qe,YW).bind(this)),t._on("findbarclose",U(this,Qe,nY).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return f(this,hi)}setDocument(e){this._pdfDocument&&U(this,Qe,aN).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:r=-1}){if(!this._scrollMatches||!e)return;if(r===-1||r!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1,$W(e,{top:ope,left:t},!0)}match(e,t,i){const r=this._hasDiacritics[i];let s=!1;if(typeof e=="string"?[s,e]=U(this,Qe,AN).call(this,e,r):e=e.sort().reverse().map(h=>{const[g,v]=U(this,Qe,AN).call(this,h,r);return s||(s=g),`(${v})`}).join("|"),!e)return;const{caseSensitive:a,entireWord:o}=f(this,hi),l=`g${s?"u":""}${a?"":"i"}`;e=new RegExp(e,l);const u=[];let d;for(;(d=e.exec(t))!==null;)o&&!U(this,Qe,JW).call(this,t,d.index,d[0].length)||u.push({index:d.index,length:d[0].length});return u}}hi=new WeakMap,bv=new WeakMap,Oh=new WeakMap,Qe=new WeakSet,YW=function(e){if(!e)return;const t=this._pdfDocument,{type:i}=e;(f(this,hi)===null||U(this,Qe,XW).call(this,e))&&(this._dirtyMatch=!0),_(this,hi,e),i!=="highlightallchange"&&U(this,Qe,iw).call(this,Ju.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;U(this,Qe,eY).call(this);const r=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?U(this,Qe,Eg).call(this):i==="again"?(U(this,Qe,Eg).call(this),r&&f(this,hi).highlightAll&&U(this,Qe,nw).call(this)):i==="highlightallchange"?(s?U(this,Qe,Eg).call(this):this._highlightMatches=!0,U(this,Qe,nw).call(this)):U(this,Qe,Eg).call(this):this._findTimeout=setTimeout(()=>{U(this,Qe,Eg).call(this),this._findTimeout=null},ape)})},aN=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],_(this,Oh,0),_(this,hi,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},oN=function(){const{query:e}=f(this,hi);return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=c_(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>c_(t)[0])},XW=function(e){var a;const t=e.query,i=f(this,hi).query,r=typeof t;if(r!==typeof i)return!0;if(r==="string"){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":const o=this._selected.pageIdx+1,l=this._linkService;return o>=1&&o<=l.pagesCount&&o!==l.page&&!(((a=this.onIsPageVisible)==null?void 0:a.call(this,o))??!0);case"highlightallchange":return!1}return!0},JW=function(e,t,i){let r=e.slice(0,t).match(upe);if(r){const s=e.charCodeAt(t),a=r[1].charCodeAt(0);if(MS(s)===MS(a))return!1}if(r=e.slice(t+i).match(cpe),r){const s=e.charCodeAt(t+i-1),a=r[1].charCodeAt(0);if(MS(s)===MS(a))return!1}return!0},AN=function(e,t){const{matchDiacritics:i}=f(this,hi);let r=!1;const s=(o,l)=>o===e?l:e.startsWith(o)?`${l}[ ]*`:e.endsWith(o)?`[ ]*${l}`:`[ ]*${l}[ ]*`;e=e.replaceAll(lpe,(o,l,u,d,h,g)=>l?s(l,`\\${l}`):u?s(u,u.replaceAll(/[.?]/g,"\\$&")):d?"[ ]+":i?h||g:h?WK.has(h.charCodeAt(0))?h:"":t?(r=!0,`${g}\\p{M}*`):g);const a="[ ]*";return e.endsWith(a)&&(e=e.slice(0,e.length-a.length)),i&&t&&(YK||(YK=String.fromCharCode(...WK)),r=!0,e=`${e}(?=[${YK}]|[^\\p{M}]|$)`),[r,e]},ZW=function(e){if(!f(this,hi))return;const t=f(this,Qe,oN);if(t.length===0)return;const i=this._pageContents[e],r=this.match(t,i,e),s=this._pageMatches[e]=[],a=this._pageMatchesLength[e]=[],o=this._pageDiffs[e];r==null||r.forEach(({index:u,length:d})=>{const[h,g]=WW(o,u,d);g&&(s.push(h),a.push(g))}),f(this,hi).highlightAll&&U(this,Qe,d_).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,U(this,Qe,lN).call(this));const l=s.length;this._matchesCountTotal+=l,f(this,bv)?l>0&&U(this,Qe,dN).call(this):++zn(this,Oh)._===this._linkService.pagesCount&&U(this,Qe,dN).call(this)},eY=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0},i=this._pdfDocument;for(let r=0,s=this._linkService.pagesCount;r<s;r++){const{promise:a,resolve:o}=Promise.withResolvers();this._extractTextPromises[r]=a,e=e.then(async()=>{if(i!==this._pdfDocument){o();return}await i.getPage(r+1).then(l=>l.getTextContent(t)).then(l=>{const u=[];for(const d of l.items)u.push(d.str),d.hasEOL&&u.push(`
`);[this._pageContents[r],this._pageDiffs[r],this._hasDiacritics[r]]=c_(u.join("")),o()},l=>{console.error(`Unable to get text content for page ${r+1}`,l),this._pageContents[r]="",this._pageDiffs[r]=null,this._hasDiacritics[r]=!1,o()})})}},d_=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},nw=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Eg=function(){const e=f(this,hi).findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,_(this,Oh,0),this._matchesCountTotal=0,U(this,Qe,nw).call(this);for(let a=0;a<i;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),U(this,Qe,ZW).call(this,a)}))}if(f(this,Qe,oN).length===0){U(this,Qe,iw).call(this,Ju.FOUND);return}if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=i,s.matchIdx!==null){const a=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<a||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,U(this,Qe,f_).call(this,!0);return}U(this,Qe,uN).call(this,e)}U(this,Qe,lN).call(this)},tY=function(e){const t=this._offset,i=e.length,r=f(this,hi).findPrevious;return i?(t.matchIdx=r?i-1:0,U(this,Qe,f_).call(this,!0),!0):(U(this,Qe,uN).call(this,r),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(U(this,Qe,f_).call(this,!1),!0):!1)},lN=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!U(this,Qe,tY).call(this,e))},uN=function(e){const t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)},f_=function(e=!1){let t=Ju.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,e){const r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?Ju.WRAPPED:Ju.FOUND,r!==-1&&r!==this._selected.pageIdx&&U(this,Qe,d_).call(this,r)}U(this,Qe,iw).call(this,t,f(this,hi).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,U(this,Qe,d_).call(this,this._selected.pageIdx))},nY=function(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),U(this,Qe,iw).call(this,Ju.FOUND),this._highlightMatches=!1,U(this,Qe,nw).call(this))})},cN=function(){var s;const{pageIdx:e,matchIdx:t}=this._selected;let i=0,r=this._matchesCountTotal;if(t!==-1){for(let a=0;a<e;a++)i+=((s=this._pageMatches[a])==null?void 0:s.length)||0;i+=t+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}},dN=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:U(this,Qe,cN).call(this)})},iw=function(e,t=!1){var i,r;!f(this,bv)&&(f(this,Oh)!==this._linkService.pagesCount||e===Ju.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:((i=f(this,hi))==null?void 0:i.entireWord)??null,matchesCount:U(this,Qe,cN).call(this),rawQuery:((r=f(this,hi))==null?void 0:r.query)??null})};const ppe="noopener noreferrer nofollow",uf={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class DQ{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:r=!1}={}){ge(this,"externalLinkEnabled",!0);this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=r,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,i,r;if(typeof e=="string"?(t=e,i=await this.pdfDocument.getDestination(e)):(t=null,i=await e),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);return}const[s]=i;if(s&&typeof s=="object"){if(r=this.pdfDocument.cachedPageNumber(s),!r)try{r=await this.pdfDocument.getPageIndex(s)+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(r=s+1);if(!r||r<1||r>this.pagesCount){console.error(`goToDestination: "${r}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:r})),this.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom});const a=new AbortController;this.eventBus._on("textlayerrendered",o=>{o.pageNumber===r&&(o.source.textLayer.div.focus(),a.abort())},{signal:a.signal})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}goToXY(e,t,i,r={}){this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:[null,{name:"XYZ"},t,i],ignoreDestinationZoom:!0,...r})}addLinkAttributes(e,t,i=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const r=i?uf.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let a="";switch(r){case uf.NONE:break;case uf.SELF:a="_self";break;case uf.BLANK:a="_blank";break;case uf.PARENT:a="_parent";break;case uf.TOP:a="_top";break}e.target=a,e.rel=typeof s=="string"?s:ppe}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const r=F1(e);if(r.has("search")){const s=r.get("search").replaceAll('"',""),a=r.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:a?s:s.match(/\S+/g)})}if(r.has("page")&&(t=r.get("page")|0||1),r.has("zoom")){const s=r.get("zoom").split(","),a=s[0],o=parseFloat(a);a.includes("Fit")?a==="Fit"||a==="FitB"?i=[null,{name:a}]:a==="FitH"||a==="FitBH"||a==="FitV"||a==="FitBV"?i=[null,{name:a},s.length>1?s[1]|0:null]:a==="FitR"?s.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:a},s[1]|0,s[2]|0,s[3]|0,s[4]|0]:console.error(`PDFLinkService.setHash: "${a}" is not a valid zoom value.`):i=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,o?o/100:a]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),r.has("nameddest")&&this.goToDestination(r.get("nameddest"));return}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||Mhe(i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,i;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(i=this.pdfHistory)==null||i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,i=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))}}class NQ extends DQ{setDocument(e,t=null){}}var td,Hb,Vb,Kb,nd,Gb,vu,rY,fN,sY;class iY{constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:r=null,imageResourcesPath:s="",renderForms:a=!0,enableComment:o=!1,commentManager:l=null,enableScripting:u=!1,hasJSActionsPromise:d=null,fieldObjectsPromise:h=null,annotationCanvasMap:g=null,accessibilityManager:v=null,annotationEditorUIManager:C=null,onAppend:b=null}){F(this,vu);F(this,td,null);F(this,Hb,null);F(this,Vb,!1);F(this,Kb,null);F(this,nd,null);F(this,Gb,!1);this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=a,this.annotationStorage=r,this.enableComment=o,_(this,Hb,l),this.enableScripting=u,this._hasJSActionsPromise=d||Promise.resolve(!1),this._fieldObjectsPromise=h||Promise.resolve(null),this._annotationCanvasMap=g,this._accessibilityManager=v,this._annotationEditorUIManager=C,_(this,Kb,b),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render({viewport:e,intent:t="display",structTreeLayer:i=null}){var l,u;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[r,s,a]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const o=this.div=document.createElement("div");if(o.className="annotationLayer",(l=f(this,Kb))==null||l.call(this,o),U(this,vu,rY).call(this,e,i),r.length===0){_(this,td,r),zW(this.div,e);return}await this.annotationLayer.render({annotations:r,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,downloadManager:this.downloadManager,enableComment:this.enableComment,enableScripting:this.enableScripting,hasJSActions:s,fieldObjects:a}),_(this,td,r),this.linkService.isInPresentationMode&&U(this,vu,fN).call(this,Kg.FULLSCREEN),f(this,nd)||(_(this,nd,new AbortController),(u=this._eventBus)==null||u._on("presentationmodechanged",d=>{U(this,vu,fN).call(this,d.state)},{signal:f(this,nd).signal}))}cancel(){var e;this._cancelled=!0,(e=f(this,nd))==null||e.abort(),_(this,nd,null)}hide(e=!1){_(this,Vb,!e),this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){var e;return!!((e=this.annotationLayer)!=null&&e.hasEditableAnnotations())}async injectLinkAnnotations(e){if(f(this,td)===null)throw new Error("`render` method must be called before `injectLinkAnnotations`.");if(this._cancelled||f(this,Gb))return;_(this,Gb,!0);const t=f(this,td).length?U(this,vu,sY).call(this,e):e;t.length&&(await this.annotationLayer.addLinkAnnotations(t),f(this,Vb)||(this.div.hidden=!1))}}td=new WeakMap,Hb=new WeakMap,Vb=new WeakMap,Kb=new WeakMap,nd=new WeakMap,Gb=new WeakMap,vu=new WeakSet,rY=function(e,t){this.annotationLayer=new The({div:this.div,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,annotationStorage:this.annotationStorage,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t,commentManager:f(this,Hb),linkService:this.linkService})},fN=function(e){if(!this.div)return;let t=!1;switch(e){case Kg.FULLSCREEN:t=!0;break;case Kg.NORMAL:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)},sY=function(e){function t(s){if(!s.quadPoints)return[s.rect];const a=[];for(let o=2,l=s.quadPoints.length;o<l;o+=8){const u=s.quadPoints[o],d=s.quadPoints[o+1],h=s.quadPoints[o+2],g=s.quadPoints[o+3];a.push([h,g,u,d])}return a}function i(s,a){const o=[],l=t(s),u=t(a);for(const d of l)for(const h of u){const g=RQ.intersect(d,h);g&&o.push(g)}return o}function r(s){let a=0;for(const o of s)a+=Math.abs((o[2]-o[0])*(o[3]-o[1]));return a}return e.filter(s=>{let a;for(const o of f(this,td)){if(o.annotationType!==VW.LINK||!o.url)continue;const l=i(o,s);if(l.length!==0&&(a??(a=r(t(s))),r(l)/a>.5))return!1}return!0})};function ZK(n,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var lQ;class gpe{constructor(){F(this,lQ,new WeakMap)}downloadData(e,t,i){const r=URL.createObjectURL(new Blob([e],{type:i}));ZK(r,t)}openOrDownloadData(e,t,i=null){const s=Uhe(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,i){let r;if(e)r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!KW(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}r=t+"#pdfjs.action=download"}ZK(r,i)}}lQ=new WeakMap;const eG={EVENT:"event",TIMEOUT:"timeout"};async function mpe({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:r}=Promise.withResolvers(),s=new AbortController;function a(u){s.abort(),clearTimeout(l),r(u)}const o=n instanceof LQ?"_on":"addEventListener";n[o](e,a.bind(null,eG.EVENT),{signal:s.signal});const l=setTimeout(a.bind(null,eG.TIMEOUT),t);return i}var Bv;class LQ{constructor(){F(this,Bv,Object.create(null))}on(e,t,i=null){this._on(e,t,{external:!0,once:i==null?void 0:i.once,signal:i==null?void 0:i.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){const i=f(this,Bv)[e];if(!i||i.length===0)return;let r;for(const{listener:s,external:a,once:o}of i.slice(0)){if(o&&this._off(e,s),a){(r||(r=[])).push(s);continue}s(t)}if(r){for(const s of r)s(t);r=null}}_on(e,t,i=null){var a;let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:o}=i;if(o.aborted){console.error("Cannot use an `aborted` signal.");return}const l=()=>this._off(e,t);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}((a=f(this,Bv))[e]||(a[e]=[])).push({listener:t,external:(i==null?void 0:i.external)===!0,once:(i==null?void 0:i.once)===!0,rmAbort:r})}_off(e,t,i=null){var s;const r=f(this,Bv)[e];if(r)for(let a=0,o=r.length;a<o;a++){const l=r[a];if(l.listener===t){(s=l.rmAbort)==null||s.call(l),r.splice(a,1);return}}}}Bv=new WeakMap;class Gg{constructor(e){this.value=e}valueOf(){return this.value}}class Ai extends Gg{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class Zl extends Gg{constructor(e,t={}){super(e),this.opts=t}toString(e){if(e)try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return this.value.toString(10)}}class xd extends Gg{static supportsValue(e){if(typeof e=="number"||e instanceof Date)return!0;if(e instanceof Gg)return xd.supportsValue(e.valueOf());if("Temporal"in globalThis){const t=globalThis.Temporal;if(e instanceof t.Instant||e instanceof t.PlainDateTime||e instanceof t.PlainDate||e instanceof t.PlainMonthDay||e instanceof t.PlainTime||e instanceof t.PlainYearMonth)return!0}return!1}constructor(e,t={}){e instanceof xd?(t={...e.opts,...t},e=e.value):e instanceof Gg&&(e=e.valueOf()),typeof e=="object"&&"calendarId"in e&&t.calendar===void 0&&(t={...t,calendar:e.calendarId}),super(e),this.opts=t}[Symbol.toPrimitive](e){return e==="string"?this.toString():this.toNumber()}toNumber(){const e=this.value;if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();if("epochMilliseconds"in e)return e.epochMilliseconds;if("toZonedDateTime"in e)return e.toZonedDateTime("UTC").epochMilliseconds;throw new TypeError("Unwrapping a non-number value as a number")}toString(e){if(e)try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return typeof this.value=="number"||this.value instanceof Date?new Date(this.value).toISOString():this.value.toString()}}const tG=100,vpe="",ype="";function wpe(n,e,t){if(t===e||t instanceof Zl&&e instanceof Zl&&t.value===e.value)return!0;if(e instanceof Zl&&typeof t=="string"){let i=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===i)return!0}return!1}function nG(n,e,t){return e[t]?zv(n,e[t].value):(n.reportError(new RangeError("No default")),new Ai)}function hN(n,e){const t=[],i=Object.create(null);for(const r of e)r.type==="narg"?i[r.name]=Rw(n,r.value):t.push(Rw(n,r));return{positional:t,named:i}}function Rw(n,e){switch(e.type){case"str":return e.value;case"num":return new Zl(e.value,{minimumFractionDigits:e.precision});case"var":return Cpe(n,e);case"mesg":return bpe(n,e);case"term":return Bpe(n,e);case"func":return Epe(n,e);case"select":return Spe(n,e);default:return new Ai}}function Cpe(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new Ai(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new Ai(`$${e}`);if(t instanceof Gg)return t;switch(typeof t){case"string":return t;case"number":return new Zl(t);case"object":if(xd.supportsValue(t))return new xd(t);default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new Ai(`$${e}`)}}function bpe(n,{name:e,attr:t}){const i=n.bundle._messages.get(e);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new Ai(e);if(t){const r=i.attributes[t];return r?zv(n,r):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ai(`${e}.${t}`))}return i.value?zv(n,i.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new Ai(e))}function Bpe(n,{name:e,attr:t,args:i}){const r=`-${e}`,s=n.bundle._terms.get(r);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${r}`)),new Ai(r);if(t){const o=s.attributes[t];if(o){n.params=hN(n,i).named;const l=zv(n,o);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ai(`${r}.${t}`)}n.params=hN(n,i).named;const a=zv(n,s.value);return n.params=null,a}function Epe(n,{name:e,args:t}){let i=n.bundle._functions[e];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new Ai(`${e}()`);if(typeof i!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new Ai(`${e}()`);try{let r=hN(n,t);return i(r.positional,r.named)}catch(r){return n.reportError(r),new Ai(`${e}()`)}}function Spe(n,{selector:e,variants:t,star:i}){let r=Rw(n,e);if(r instanceof Ai)return nG(n,t,i);for(const s of t){const a=Rw(n,s.key);if(wpe(n,r,a))return zv(n,s.value)}return nG(n,t,i)}function aY(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new Ai;n.dirty.add(e);const t=[],i=n.bundle._useIsolating&&e.length>1;for(const r of e){if(typeof r=="string"){t.push(n.bundle._transform(r));continue}if(n.placeables++,n.placeables>tG)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${tG}`);i&&t.push(vpe),t.push(Rw(n,r).toString(n)),i&&t.push(ype)}return n.dirty.delete(e),t.join("")}function zv(n,e){return typeof e=="string"?n.bundle._transform(e):aY(n,e)}class xpe{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let r=JSON.stringify(t);return i[r]||(i[r]=new e(this.bundle.locales,t)),i[r]}}function pN(n,e){const t=Object.create(null);for(const[i,r]of Object.entries(n))e.includes(i)&&(t[i]=r.valueOf());return t}const iG=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function _pe(n,e){let t=n[0];if(t instanceof Ai)return new Ai(`NUMBER(${t.valueOf()})`);if(t instanceof Zl)return new Zl(t.valueOf(),{...t.opts,...pN(e,iG)});if(t instanceof xd)return new Zl(t.toNumber(),{...pN(e,iG)});throw new TypeError("Invalid argument to NUMBER")}const Tpe=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Ipe(n,e){let t=n[0];if(t instanceof Ai)return new Ai(`DATETIME(${t.valueOf()})`);if(t instanceof xd||t instanceof Zl)return new xd(t,pN(e,Tpe));throw new TypeError("Invalid argument to DATETIME")}const rG=new Map;function Fpe(n){const e=Array.isArray(n)?n.join(" "):n;let t=rG.get(e);return t===void 0&&(t=new Map,rG.set(e,t)),t}class Upe{constructor(e,{functions:t,useIsolating:i=!0,transform:r=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:_pe,DATETIME:Ipe,...t},this._useIsolating=i,this._transform=r,this._intls=Fpe(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const i=[];for(let r=0;r<e.body.length;r++){let s=e.body[r];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(e,t=null,i=null){if(typeof e=="string")return this._transform(e);let r=new xpe(this,i,t);try{return aY(r,e).toString(r)}catch(s){if(r.errors&&s instanceof Error)return r.errors.push(s),new Ai().toString(r);throw s}}}const AM=/^(-?[a-zA-Z][\w-]*) *= */gm,sG=/\.([a-zA-Z][\w-]*) *= */y,Mpe=/\*?\[/y,lM=/(-?[0-9]+(?:\.([0-9]+))?)/y,Ppe=/([a-zA-Z][\w-]*)/y,aG=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,Rpe=/^[A-Z][A-Z0-9_-]*$/,PS=/([^{}\n\r]+)/y,Dpe=/([^\\"\n\r]*)/y,oG=/\\([\\"])/y,AG=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,Npe=/^\n+/,lG=/ +$/,Lpe=/ *\r?\n/g,Qpe=/( *)$/,Ope=/{\s*/y,uG=/\s*}/y,kpe=/\[\s*/y,Hpe=/\s*] */y,Vpe=/\s*\(\s*/y,Kpe=/\s*->\s*/y,Gpe=/\s*:\s*/y,zpe=/\s*,?\s*/y,qpe=/\s+/y;class $pe{constructor(e){this.body=[],AM.lastIndex=0;let t=0;for(;;){let O=AM.exec(e);if(O===null)break;t=AM.lastIndex;try{this.body.push(l(O[1]))}catch(K){if(K instanceof SyntaxError)continue;throw K}}function i(O){return O.lastIndex=t,O.test(e)}function r(O,K){if(e[t]===O)return t++,!0;if(K)throw new K(`Expected ${O}`);return!1}function s(O,K){if(i(O))return t=O.lastIndex,!0;if(K)throw new K(`Expected ${O.toString()}`);return!1}function a(O){O.lastIndex=t;let K=O.exec(e);if(K===null)throw new SyntaxError(`Expected ${O.toString()}`);return t=O.lastIndex,K}function o(O){return a(O)[1]}function l(O){let K=d(),V=u();if(K===null&&Object.keys(V).length===0)throw new SyntaxError("Expected message value or attributes");return{id:O,value:K,attributes:V}}function u(){let O=Object.create(null);for(;i(sG);){let K=o(sG),V=d();if(V===null)throw new SyntaxError("Expected attribute value");O[K]=V}return O}function d(){let O;if(i(PS)&&(O=o(PS)),e[t]==="{"||e[t]==="}")return h(O?[O]:[],1/0);let K=D();return K?O?h([O,K],K.length):(K.value=L(K.value,Npe),h([K],K.length)):O?L(O,lG):null}function h(O=[],K){for(;;){if(i(PS)){O.push(o(PS));continue}if(e[t]==="{"){O.push(g());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let oe=D();if(oe){O.push(oe),K=Math.min(K,oe.length);continue}break}let V=O.length-1,$=O[V];typeof $=="string"&&(O[V]=L($,lG));let ne=[];for(let oe of O)oe instanceof cG&&(oe=oe.value.slice(0,oe.value.length-K)),oe&&ne.push(oe);return ne}function g(){s(Ope,SyntaxError);let O=v();if(s(uG))return O;if(s(Kpe)){let K=E();return s(uG,SyntaxError),{type:"select",selector:O,...K}}throw new SyntaxError("Unclosed placeable")}function v(){if(e[t]==="{")return g();if(i(aG)){let[,O,K,V=null]=a(aG);if(O==="$")return{type:"var",name:K};if(s(Vpe)){let $=C();if(O==="-")return{type:"term",name:K,attr:V,args:$};if(Rpe.test(K))return{type:"func",name:K,args:$};throw new SyntaxError("Function names must be all upper-case")}return O==="-"?{type:"term",name:K,attr:V,args:[]}:{type:"mesg",name:K,attr:V}}return I()}function C(){let O=[];for(;;){switch(e[t]){case")":return t++,O;case void 0:throw new SyntaxError("Unclosed argument list")}O.push(b()),s(zpe)}}function b(){let O=v();return O.type!=="mesg"?O:s(Gpe)?{type:"narg",name:O.name,value:I()}:O}function E(){let O=[],K=0,V;for(;i(Mpe);){r("*")&&(V=K);let $=x(),ne=d();if(ne===null)throw new SyntaxError("Expected variant value");O[K++]={key:$,value:ne}}if(K===0)return null;if(V===void 0)throw new SyntaxError("Expected default variant");return{variants:O,star:V}}function x(){s(kpe,SyntaxError);let O;return i(lM)?O=T():O={type:"str",value:o(Ppe)},s(Hpe,SyntaxError),O}function I(){if(i(lM))return T();if(e[t]==='"')return R();throw new SyntaxError("Invalid expression")}function T(){let[,O,K=""]=a(lM),V=K.length;return{type:"num",value:parseFloat(O),precision:V}}function R(){r('"',SyntaxError);let O="";for(;;){if(O+=o(Dpe),e[t]==="\\"){O+=M();continue}if(r('"'))return{type:"str",value:O};throw new SyntaxError("Unclosed string literal")}}function M(){if(i(oG))return o(oG);if(i(AG)){let[,O,K]=a(AG),V=parseInt(O||K,16);return V<=55295||57344<=V?String.fromCodePoint(V):""}throw new SyntaxError("Unknown escape sequence")}function D(){let O=t;switch(s(qpe),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return H(e.slice(O,t))}return e[t-1]===" "?H(e.slice(O,t)):!1}function L(O,K){return O.replace(K,"")}function H(O){let K=O.replace(Lpe,`
`),V=Qpe.exec(O)[1].length;return new cG(K,V)}}}class cG{constructor(e,t){this.value=e,this.length=t}}const jpe=/<|&#?\w+;/,Wpe={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},Ype={"http://www.w3.org/1999/xhtml":{global:["title","aria-description","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function Xpe(n,e){const{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!jpe.test(t))n.textContent=t;else{const i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,Jpe(i.content,n)}oY(e,n)}function Jpe(n,e){for(const t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const i=ege(e,t);n.replaceChild(i,t);continue}if(nge(t)){const i=tge(t);n.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(gN(t),t)}e.textContent="",e.appendChild(n)}function Zpe(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function oY(n,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(e.attributes))dG(i.name,e,t)&&!Zpe(n.attributes,i.name)&&e.removeAttribute(i.name);if(n.attributes)for(const i of Array.from(n.attributes))dG(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function ege(n,e){const t=e.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${t}"]`);if(!i)return console.warn(`An element named "${t}" wasn't found in the source.`),gN(e);if(i.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),gN(e);n.removeChild(i);const r=i.cloneNode(!1);return AY(e,r)}function tge(n){const e=n.ownerDocument.createElement(n.localName);return AY(n,e)}function gN(n){return n.ownerDocument.createTextNode(n.textContent)}function nge(n){const e=Wpe[n.namespaceURI];return e&&e.includes(n.localName)}function dG(n,e,t=null){if(t&&t.includes(n))return!0;const i=Ype[e.namespaceURI];if(!i)return!1;const r=n.toLowerCase(),s=e.localName;if(i.global.includes(r))return!0;if(!i[s])return!1;if(i[s].includes(r))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&r==="value"){const a=e.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function AY(n,e){return e.textContent=n.textContent,oY(n,e),e}class ige extends Array{static from(e){return e instanceof this?e:new this(e)}}class rge extends ige{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const i=this[this.length-1];if(i&&(await i).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class sge{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const i=[];let r=!1;for await(const s of this.bundles){r=!0;const a=Age(t,s,e,i);if(a.size===0)break;if(typeof console<"u"){const o=s.locales[0],l=Array.from(a).join(", ");console.warn(`[fluent] Missing translations in ${o}: ${l}`)}}return!r&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i}formatMessages(e){return this.formatWithFallback(e,oge)}formatValues(e){return this.formatWithFallback(e,age)}async formatValue(e,t){const[i]=await this.formatValues([{id:e,args:t}]);return i}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=rge.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function age(n,e,t,i){return t.value?n.formatPattern(t.value,i,e):null}function oge(n,e,t,i){const r={value:null,attributes:null};t.value&&(r.value=n.formatPattern(t.value,i,e));let s=Object.keys(t.attributes);if(s.length>0){r.attributes=new Array(s.length);for(let[a,o]of s.entries()){let l=n.formatPattern(t.attributes[o],i,e);r.attributes[a]={name:o,value:l}}}return r}function Age(n,e,t,i){const r=[],s=new Set;return t.forEach(({id:a,args:o},l)=>{if(i[l]!==void 0)return;let u=e.getMessage(a);if(u){if(r.length=0,i[l]=n(e,r,u,o),r.length>0&&typeof console<"u"){const d=e.locales[0],h=r.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${h}.`)}}else s.add(a)}),s}const cf="data-l10n-id",w0="data-l10n-args",lge=`[${cf}]`;class uge extends sge{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[cf,w0]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(cf,t),i?e.setAttribute(w0,JSON.stringify(i)):e.removeAttribute(w0),e}getAttributes(e){return{id:e.getAttribute(cf),args:JSON.parse(e.getAttribute(w0)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const r of this.getTranslatables(i))this.pendingElements.add(r);else i.hasAttribute(cf)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),i=await this.formatMessages(t);return this.applyTranslations(e,i)}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)t[i]!==void 0&&Xpe(e[i],t[i]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(lge));return typeof e.hasAttribute=="function"&&e.hasAttribute(cf)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(cf),args:JSON.parse(e.getAttribute(w0)||null)}}}var zb,id,Ev,rs,sy,lY,uY;const xw=class xw{constructor({lang:e,isRTL:t},i=null){F(this,zb);F(this,id);F(this,Ev);F(this,rs);var r,s;_(this,Ev,U(r=xw,sy,lY).call(r,e)),_(this,rs,i),_(this,zb,t??U(s=xw,sy,uY).call(s,f(this,Ev))?"rtl":"ltr")}_setL10n(e){_(this,rs,e)}getLanguage(){return f(this,Ev)}getDirection(){return f(this,zb)}async get(e,t=null,i){var s;return Array.isArray(e)?(e=e.map(o=>({id:o})),(await f(this,rs).formatMessages(e)).map(o=>o.value)):((s=(await f(this,rs).formatMessages([{id:e,args:t}]))[0])==null?void 0:s.value)||i}async translate(e){(f(this,id)||_(this,id,new Set)).add(e);try{f(this,rs).connectRoot(e),await f(this,rs).translateRoots()}catch{}}async translateOnce(e){try{await f(this,rs).translateElements([e])}catch(t){console.error("translateOnce:",t)}}async destroy(){if(f(this,id)){for(const e of f(this,id))f(this,rs).disconnectRoot(e);f(this,id).clear(),_(this,id,null)}f(this,rs).pauseObserving()}pause(){f(this,rs).pauseObserving()}resume(){f(this,rs).resumeObserving()}};zb=new WeakMap,id=new WeakMap,Ev=new WeakMap,rs=new WeakMap,sy=new WeakSet,lY=function(e){return e=(e==null?void 0:e.toLowerCase())||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e},uY=function(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)},F(xw,sy);let mN=xw;function cge(){const{isAndroid:n,isLinux:e,isMac:t,isWindows:i}=GW.platform;return e?"linux":i?"windows":t?"macos":n?"android":"other"}function fG(n,e){const t=new $pe(e),i=new Upe(n,{functions:{PLATFORM:cge}}),r=i.addResource(t);return r.length&&console.error("L10n errors",r),i}var Js,cY,dY,fY,hY,vN;const vf=class vf extends mN{constructor(e){super({lang:e});const t=e?U(vf,Js,cY).bind(vf,"en-us",this.getLanguage()):U(vf,Js,hY).bind(vf,this.getLanguage());this._setL10n(new uge([],t))}};Js=new WeakSet,cY=async function*(e,t){const{baseURL:i,paths:r}=await U(this,Js,fY).call(this),s=[t];if(e!==t){const o=t.split("-",1)[0];o!==t&&s.push(o),s.push(e)}const a=s.map(o=>[o,U(this,Js,dY).call(this,o,i,r)]);for(const[o,l]of a){const u=await l;u?yield u:o==="en-us"&&(yield U(this,Js,vN).call(this,o))}},dY=async function(e,t,i){const r=i[e];if(!r)return null;const s=new URL(r,t),a=await kK(s,"text");return fG(e,a)},fY=async function(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=await kK(e,"json");return{baseURL:e.substring(0,e.lastIndexOf("/")+1)||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},hY=async function*(e){yield U(this,Js,vN).call(this,e)},vN=async function(e){return fG(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties
pdfjs-document-properties-button-label = Document Properties
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width }  { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width }  { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-color-picker-free-text-input =
    .title = Change text color
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-color-picker-ink-input =
    .title = Change drawing color
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-comment-floating-button =
    .title = Comment
    .aria-label = Comment
pdfjs-comment-floating-button-label = Comment
pdfjs-editor-comment-button =
    .title = Comment
    .aria-label = Comment
pdfjs-editor-comment-button-label = Comment
pdfjs-editor-signature-button =
    .title = Add signature
pdfjs-editor-signature-button-label = Add signature
pdfjs-editor-highlight-editor =
    .aria-label = Highlight editor
pdfjs-editor-ink-editor =
    .aria-label = Drawing editor
pdfjs-editor-signature-editor1 =
    .aria-description = Signature editor: { $description }
pdfjs-editor-stamp-editor =
    .aria-label = Image editor
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-remove-signature-button =
    .title = Remove signature
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-editor-add-signature-container =
    .aria-label = Signature controls and saved signatures
pdfjs-editor-signature-add-signature-button =
    .title = Add new signature
pdfjs-editor-signature-add-signature-button-label = Add new signature
pdfjs-editor-add-saved-signature-button =
    .title = Saved signature: { $description }
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing
pdfjs-editor-comments-sidebar-title =
    { $count ->
        [one] Comment
       *[other] Comments
    }
pdfjs-editor-comments-sidebar-close-button =
    .title = Close the sidebar
    .aria-label = Close the sidebar
pdfjs-editor-comments-sidebar-close-button-label = Close the sidebar
pdfjs-editor-comments-sidebar-no-comments1 = See something noteworthy? Highlight it and leave a comment.
pdfjs-editor-comments-sidebar-no-comments-link = Learn more
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people cant see the image or when it doesnt load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, A young man sits down at a table to eat a meal
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner  resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle  resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner  resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right  resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner  resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle  resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner  resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left  resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here
pdfjs-editor-new-alt-text-description = Short description for people who cant see the image or when the image doesnt load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldnt create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who cant see the image or when the image doesnt load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close
pdfjs-editor-highlight-added-alert = Highlight added
pdfjs-editor-freetext-added-alert = Text added
pdfjs-editor-ink-added-alert = Drawing added
pdfjs-editor-stamp-added-alert = Image added
pdfjs-editor-signature-added-alert = Signature added
pdfjs-editor-undo-bar-message-highlight = Highlight removed
pdfjs-editor-undo-bar-message-freetext = Text removed
pdfjs-editor-undo-bar-message-ink = Drawing removed
pdfjs-editor-undo-bar-message-stamp = Image removed
pdfjs-editor-undo-bar-message-signature = Signature removed
pdfjs-editor-undo-bar-message-multiple =
    { $count ->
        [one] { $count } annotation removed
       *[other] { $count } annotations removed
    }
pdfjs-editor-undo-bar-undo-button =
    .title = Undo
pdfjs-editor-undo-bar-undo-button-label = Undo
pdfjs-editor-undo-bar-close-button =
    .title = Close
pdfjs-editor-undo-bar-close-button-label = Close
pdfjs-editor-add-signature-dialog-label = This modal allows the user to create a signature to add to a PDF document. The user can edit the name (which also serves as the alt text), and optionally save the signature for repeated use.
pdfjs-editor-add-signature-dialog-title = Add a signature
pdfjs-editor-add-signature-type-button = Type
    .title = Type
pdfjs-editor-add-signature-draw-button = Draw
    .title = Draw
pdfjs-editor-add-signature-image-button = Image
    .title = Image
pdfjs-editor-add-signature-type-input =
    .aria-label = Type your signature
    .placeholder = Type your signature
pdfjs-editor-add-signature-draw-placeholder = Draw your signature
pdfjs-editor-add-signature-draw-thickness-range-label = Thickness
pdfjs-editor-add-signature-draw-thickness-range =
    .title = Drawing thickness: { $thickness }
pdfjs-editor-add-signature-image-placeholder = Drag a file here to upload
pdfjs-editor-add-signature-image-browse-link =
    { PLATFORM() ->
        [macos] Or choose image files
       *[other] Or browse image files
    }
pdfjs-editor-add-signature-description-label = Description (alt text)
pdfjs-editor-add-signature-description-input =
    .title = Description (alt text)
pdfjs-editor-add-signature-description-default-when-drawing = Signature
pdfjs-editor-add-signature-clear-button-label = Clear signature
pdfjs-editor-add-signature-clear-button =
    .title = Clear signature
pdfjs-editor-add-signature-save-checkbox = Save signature
pdfjs-editor-add-signature-save-warning-message = Youve reached the limit of 5 saved signatures. Remove one to save more.
pdfjs-editor-add-signature-image-upload-error-title = Couldnt upload image
pdfjs-editor-add-signature-image-upload-error-description = Check your network connection or try another image.
pdfjs-editor-add-signature-image-no-data-error-title = Cant convert this image into a signature
pdfjs-editor-add-signature-image-no-data-error-description = Please try uploading a different image.
pdfjs-editor-add-signature-error-close-button = Close
pdfjs-editor-add-signature-cancel-button = Cancel
pdfjs-editor-add-signature-add-button = Add
pdfjs-editor-delete-signature-button1 =
    .title = Remove saved signature
pdfjs-editor-delete-signature-button-label1 = Remove saved signature
pdfjs-editor-add-signature-edit-button-label = Edit description
pdfjs-editor-edit-signature-dialog-title = Edit description
pdfjs-editor-edit-signature-update-button = Update
pdfjs-show-comment-button =
    .title = Show comment
pdfjs-editor-edit-comment-popup-button-label = Edit comment
pdfjs-editor-edit-comment-popup-button =
    .title = Edit comment
pdfjs-editor-delete-comment-popup-button-label = Remove comment
pdfjs-editor-delete-comment-popup-button =
    .title = Remove comment
pdfjs-editor-edit-comment-dialog-title-when-editing = Edit comment
pdfjs-editor-edit-comment-dialog-save-button-when-editing = Update
pdfjs-editor-edit-comment-dialog-title-when-adding = Add comment
pdfjs-editor-edit-comment-dialog-save-button-when-adding = Add
pdfjs-editor-edit-comment-dialog-text-input =
    .placeholder = Start typing
pdfjs-editor-edit-comment-dialog-cancel-button = Cancel
pdfjs-editor-add-comment-button =
    .title = Add comment`)},F(vf,Js);let qv=vf;const dge=1e3,fge=50,hge=1e3;function uM(){return document.location.hash}var rd,it,WA,h_,p_,rw,g_,yN,pY,gY,wN,mY,vY;class pge{constructor({linkService:e,eventBus:t}){F(this,it);F(this,rd,null);this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const r=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=i===!0,this._initialized=!0,U(this,it,mY).call(this);const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=uM(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!U(this,it,rw).call(this,s,!0)||t){const{hash:o,page:l,rotation:u}=U(this,it,yN).call(this,!0);if(!o||r||t){U(this,it,WA).call(this,null,!0);return}U(this,it,WA).call(this,{hash:o,page:l,rotation:u},!0);return}const a=s.destination;U(this,it,g_).call(this,a,s.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(U(this,it,wN).call(this),this._initialized=!1,U(this,it,vY).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!U(this,it,p_).call(this,i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const r=e||JSON.stringify(t);if(!r)return;let s=!1;if(this._destination&&(gge(this._destination.hash,r)||mge(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(U(this,it,WA).call(this,{dest:t,hash:r,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!U(this,it,p_).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(U(this,it,WA).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||U(this,it,h_).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;U(this,it,rw).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;U(this,it,rw).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}rd=new WeakMap,it=new WeakSet,WA=function(e,t=!1){const i=t||!this._destination,r={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};U(this,it,g_).call(this,e,r.uid);let s;if(this._updateUrl&&(e!=null&&e.hash)){const{href:a,protocol:o}=document.location;o!=="file:"&&(s=Dhe(a,e.hash))}i?window.history.replaceState(r,"",s):window.history.pushState(r,"",s)},h_=function(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){U(this,it,WA).call(this,t);return}if(this._destination.temporary){U(this,it,WA).call(this,t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=fge)return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}U(this,it,WA).call(this,t,i)},p_=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},rw=function(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;const[i]=performance.getEntriesByType("navigation");if((i==null?void 0:i.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")},g_=function(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&(e!=null&&e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},yN=function(e=!1){const t=unescape(uM()).substring(1),i=F1(t),r=i.get("nameddest")||"";let s=i.get("page")|0;return(!U(this,it,p_).call(this,s)||e&&r.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}},pY=function({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||U(this,it,h_).call(this,!0),this._updateViewareaTimeout=null},hge))},gY=function({state:e}){const t=uM(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:a,rotation:o}=U(this,it,yN).call(this);U(this,it,WA).call(this,{hash:s,page:a,rotation:o},!0);return}if(!U(this,it,rw).call(this,e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,mpe({target:window,name:"hashchange",delay:dge}).then(()=>{this._blockHashChange--}));const r=e.destination;U(this,it,g_).call(this,r,e.uid,!0),jW(r.rotation)&&(this.linkService.rotation=r.rotation),r.dest?this.linkService.goToDestination(r.dest):r.hash?this.linkService.setHash(r.hash):r.page&&(this.linkService.page=r.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},wN=function(){(!this._destination||this._destination.temporary)&&U(this,it,h_).call(this)},mY=function(){if(f(this,rd))return;_(this,rd,new AbortController);const{signal:e}=f(this,rd);this.eventBus._on("updateviewarea",U(this,it,pY).bind(this),{signal:e}),window.addEventListener("popstate",U(this,it,gY).bind(this),{signal:e}),window.addEventListener("pagehide",U(this,it,wN).bind(this),{signal:e})},vY=function(){var e;(e=f(this,rd))==null||e.abort(),_(this,rd,null)};function gge(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||F1(n).get("nameddest")===e}function mge(n,e){function t(i,r){if(typeof i!=typeof r||Array.isArray(i)||Array.isArray(r))return!1;if(i!==null&&typeof i=="object"&&r!==null){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const s in i)if(!t(i[s],r[s]))return!1;return!0}return i===r||Number.isNaN(i)&&Number.isNaN(r)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}var qb,$b,jb,Wb,Yb,Sv;class vge{constructor(e){F(this,qb,null);F(this,$b,null);F(this,jb,null);F(this,Wb,null);F(this,Yb,null);F(this,Sv);this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new qv),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,_(this,Sv,e.uiManager),_(this,qb,e.annotationLayer||null),_(this,Yb,e.textLayer||null),_(this,$b,e.drawLayer||null),_(this,jb,e.onAppend||null),_(this,Wb,e.structTreeLayer||null)}async render({viewport:e,intent:t="display"}){var a;if(t!=="display"||this._cancelled)return;const i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}const r=this.div=document.createElement("div");r.className="annotationEditorLayer",r.hidden=!0,r.dir=f(this,Sv).direction,(a=f(this,jb))==null||a.call(this,r),this.annotationEditorLayer=new xhe({uiManager:f(this,Sv),div:r,structTreeLayer:f(this,Wb),accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:f(this,qb),textLayer:f(this,Yb),drawLayer:f(this,$b)});const s={viewport:i,div:r,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.annotationEditorLayer.pause(!0),this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1,this.annotationEditorLayer.pause(!1))}}qb=new WeakMap,$b=new WeakMap,jb=new WeakMap,Wb=new WeakMap,Yb=new WeakMap,Sv=new WeakMap;{var CN=new Map;const{maxTouchPoints:n,platform:e,userAgent:t}=navigator,i=/Android/.test(t),r=/\b(iPad|iPhone|iPod)(?=;)/.test(t)||e==="MacIntel"&&n>1;(function(){(r||i)&&CN.set("maxCanvasPixels",5242880)})(),(function(){i&&CN.set("useSystemFonts",!1)})()}const ue={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},bN={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},ql={allowedGlobalEvents:{value:null,kind:ue.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:ue.BROWSER+ue.API},isInAutomation:{value:!1,kind:ue.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:ue.BROWSER},maxCanvasDim:{value:32767,kind:ue.BROWSER+ue.VIEWER},nimbusDataStr:{value:"",kind:ue.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:ue.BROWSER},supportsDocumentFonts:{value:!0,kind:ue.BROWSER},supportsIntegratedFind:{value:!1,kind:ue.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:ue.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:ue.BROWSER},supportsPinchToZoom:{value:!0,kind:ue.BROWSER},supportsPrinting:{value:!0,kind:ue.BROWSER},toolbarDensity:{value:0,kind:ue.BROWSER+ue.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:ue.VIEWER+ue.PREFERENCE},annotationEditorMode:{value:0,kind:ue.VIEWER+ue.PREFERENCE},annotationMode:{value:2,kind:ue.VIEWER+ue.PREFERENCE},capCanvasAreaFactor:{value:200,kind:ue.VIEWER+ue.PREFERENCE},commentLearnMoreUrl:{value:"",kind:ue.VIEWER+ue.PREFERENCE},cursorToolOnLoad:{value:0,kind:ue.VIEWER+ue.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:ue.VIEWER},defaultZoomDelay:{value:400,kind:ue.VIEWER+ue.PREFERENCE},defaultZoomValue:{value:"",kind:ue.VIEWER+ue.PREFERENCE},disableHistory:{value:!1,kind:ue.VIEWER},disablePageLabels:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableAltText:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:ue.VIEWER+ue.PREFERENCE+ue.EVENT_DISPATCH},enableAutoLinking:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableComment:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableDetailCanvas:{value:!0,kind:ue.VIEWER},enableGuessAltText:{value:!0,kind:ue.VIEWER+ue.PREFERENCE+ue.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableOptimizedPartialRendering:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enablePermissions:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableScripting:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableSignatureEditor:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:ue.VIEWER},externalLinkTarget:{value:0,kind:ue.VIEWER+ue.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F,yellow_HCM=#FFFFCC,green_HCM=#53FFBC,blue_HCM=#80EBFF,pink_HCM=#F6B8FF,red_HCM=#C50043",kind:ue.VIEWER+ue.PREFERENCE},historyUpdateUrl:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},imageResourcesPath:{value:"./images/",kind:ue.VIEWER},maxCanvasPixels:{value:2**25,kind:ue.VIEWER},minDurationToUpdateCanvas:{value:500,kind:ue.VIEWER},forcePageColors:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:ue.VIEWER+ue.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:ue.VIEWER+ue.PREFERENCE},pdfBugEnabled:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},printResolution:{value:150,kind:ue.VIEWER},sidebarViewOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},scrollModeOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},spreadModeOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},textLayerMode:{value:1,kind:ue.VIEWER+ue.PREFERENCE},viewerCssTheme:{value:0,kind:ue.VIEWER+ue.PREFERENCE},viewOnLoad:{value:0,kind:ue.VIEWER+ue.PREFERENCE},cMapPacked:{value:!0,kind:ue.API},cMapUrl:{value:"../web/cmaps/",kind:ue.API},disableAutoFetch:{value:!1,kind:ue.API+ue.PREFERENCE},disableFontFace:{value:!1,kind:ue.API+ue.PREFERENCE},disableRange:{value:!1,kind:ue.API+ue.PREFERENCE},disableStream:{value:!1,kind:ue.API+ue.PREFERENCE},docBaseUrl:{value:"",kind:ue.API},enableHWA:{value:!0,kind:ue.API+ue.VIEWER+ue.PREFERENCE},enableXfa:{value:!0,kind:ue.API+ue.PREFERENCE},fontExtraProperties:{value:!1,kind:ue.API},iccUrl:{value:"../web/iccs/",kind:ue.API},isEvalSupported:{value:!0,kind:ue.API},isOffscreenCanvasSupported:{value:!0,kind:ue.API},maxImageSize:{value:-1,kind:ue.API},pdfBug:{value:!1,kind:ue.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:ue.API},useSystemFonts:{value:void 0,kind:ue.API,type:bN.BOOLEAN+bN.UNDEFINED},verbosity:{value:1,kind:ue.API},wasmUrl:{value:"../web/wasm/",kind:ue.API},workerPort:{value:null,kind:ue.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:ue.WORKER}};ql.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:ue.VIEWER},ql.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:ue.VIEWER},ql.enableFakeMLManager={value:!0,kind:ue.VIEWER};ql.disablePreferences={value:!1,kind:ue.VIEWER};var sd;const Oo=class Oo{static get(e){return f(this,sd).get(e)}static getAll(e=null,t=!1){const i=Object.create(null);for(const r in ql){const s=ql[r];e&&!(e&s.kind)||(i[r]=t?s.value:f(this,sd).get(r))}return i}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||(this._hasInvokedSet=!0);let i;for(const r in e){const s=ql[r],a=e[r];if(!s||!(typeof a==typeof s.value||bN[(typeof a).toUpperCase()]&s.type))continue;const{kind:o}=s;t&&!(o&ue.BROWSER||o&ue.PREFERENCE)||(this.eventBus&&o&ue.EVENT_DISPATCH&&(i||(i=new Map)).set(r,a),f(this,sd).set(r,a))}if(i)for(const[r,s]of i)this.eventBus.dispatch(r.toLowerCase(),{source:this,value:s})}};sd=new WeakMap,ge(Oo,"eventBus"),F(Oo,sd,new Map),(()=>{for(const e in ql)f(Oo,sd).set(e,ql[e].value);for(const[e,t]of CN)f(Oo,sd).set(e,t);Oo._hasInvokedSet=!1,Oo._checkDisablePreferences=()=>Oo.get("disablePreferences")?!0:(Oo._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();let yw=Oo;function hG({width:n,height:e,left:t,top:i},r){if(n===0||e===0)return null;const s=r.textLayer.div.getBoundingClientRect(),a=r.getPagePoint(t-s.left,i-s.top),o=r.getPagePoint(t-s.left+n,i-s.top+e);return RQ.normalizeRect([a[0],a[1],o[0],o[1]])}function yge(n,e){const t=n.getClientRects();if(t.length===1)return{rect:hG(t[0],e)};const i=[1/0,1/0,-1/0,-1/0],r=[];let s=0;for(const a of t){const o=hG(a,e);o!==null&&(r[s]=r[s+4]=o[0],r[s+1]=r[s+3]=o[3],r[s+2]=r[s+6]=o[2],r[s+5]=r[s+7]=o[1],RQ.rectBoundingBox(...o,i),s+=8)}return{quadPoints:r,rect:i}}function pG(n,e){let t=n;do{if(t.nodeType===Node.TEXT_NODE){const i=t.textContent.length;if(e<=i)return[t,e];e-=i}else if(t.firstChild){t=t.firstChild;continue}for(;!t.nextSibling&&t!==n;)t=t.parentNode;t!==n&&(t=t.nextSibling)}while(t!==n);throw new Error("Offset is bigger than container's contents length.")}function wge({url:n,index:e,length:t},i,r){const s=i._textHighlighter,[{begin:a,end:o}]=s._convertMatches([e],[t]),l=new Range;return l.setStart(...pG(s.textDivs[a.divIdx],a.offset)),l.setEnd(...pG(s.textDivs[o.divIdx],o.offset)),{id:`inferred_link_${r}`,unsafeUrl:n,url:n,annotationType:VW.LINK,rotation:0,...yge(l,i),borderStyle:null}}var h1,Xb;class BN{static findLinks(e){f(this,Xb)??_(this,Xb,new RegExp("\\b(?:https?:\\/\\/|mailto:|www\\.)(?:[\\S--[\\p{P}<>]]|\\/|[\\S--[\\[\\]]]+[\\S--[\\p{P}<>]])+|\\b[\\S--[@\\p{Ps}\\p{Pe}<>]]+@([\\S--[\\p{P}<>]]+(?:\\.[\\S--[\\p{P}<>]]+)+)","gmv"));const[t,i]=c_(e,{ignoreDashEOL:!0}),r=t.matchAll(f(this,Xb)),s=[];for(const a of r){const[o,l]=a;let u;if(o.startsWith("www.")||o.startsWith("http://")||o.startsWith("https://"))u=o;else if(URL.canParse(`http://${l}`))u=o.startsWith("mailto:")?o:`mailto:${o}`;else continue;const d=KW(u,null,{addDefaultProtocol:!0});if(d){const[h,g]=WW(i,a.index,o.length);s.push({url:d.href,index:h,length:g})}}return s}static processLinks(e){return this.findLinks(e._textHighlighter.textContentItemsStr.join(`
`)).map(t=>wge(t,e,zn(this,h1)._++))}}h1=new WeakMap,Xb=new WeakMap,F(BN,h1,0),F(BN,Xb);var ad,xv,_v,Tv,Rl,od,Dl,p1,Jb,EN;class yY{constructor(e){F(this,Jb);F(this,ad,null);F(this,xv,0);F(this,_v,null);F(this,Tv,_t.INITIAL);F(this,Rl,null);F(this,od,0);F(this,Dl,null);ge(this,"canvas",null);ge(this,"div",null);ge(this,"enableOptimizedPartialRendering",!1);ge(this,"eventBus",null);ge(this,"id",null);ge(this,"pageColors",null);ge(this,"recordedBBoxes",null);ge(this,"renderingQueue",null);ge(this,"renderTask",null);ge(this,"resume",null);F(this,p1,e=>{var t;if((t=f(this,Rl))==null||t.call(this,!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=_t.PAUSED,this.resume=()=>{this.renderingState=_t.RUNNING,e()};return}e()});this.eventBus=e.eventBus,this.id=e.id,this.pageColors=e.pageColors||null,this.renderingQueue=e.renderingQueue,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,_(this,xv,e.minDurationToUpdateCanvas??500)}get renderingState(){return f(this,Tv)}set renderingState(e){var t;if(e!==f(this,Tv))switch(_(this,Tv,e),f(this,ad)&&(clearTimeout(f(this,ad)),_(this,ad,null)),e){case _t.PAUSED:this.div.classList.remove("loading"),_(this,od,0),(t=f(this,Rl))==null||t.call(this,!1);break;case _t.RUNNING:this.div.classList.add("loadingIcon"),_(this,ad,setTimeout(()=>{this.div.classList.add("loading"),_(this,ad,null)},0)),_(this,od,Date.now());break;case _t.INITIAL:case _t.FINISHED:this.div.classList.remove("loadingIcon","loading"),_(this,od,0);break}}_createCanvas(e,t=!1){const{pageColors:i}=this,r=!!(i!=null&&i.background&&(i!=null&&i.foreground)),s=this.canvas,a=!s&&!r&&!t;let o=this.canvas=document.createElement("canvas");return _(this,Rl,l=>{if(a){let u=f(this,Dl);if(!l&&f(this,xv)>0){if(Date.now()-f(this,od)<f(this,xv))return;u||(u=_(this,Dl,o),o=this.canvas=o.cloneNode(!1),e(o))}if(u){o.getContext("2d",{alpha:!1}).drawImage(u,0,0),l?U(this,Jb,EN).call(this):_(this,od,Date.now());return}e(o),_(this,Rl,null);return}l&&(s?(s.replaceWith(o),s.width=s.height=0):e(o))}),{canvas:o,prevCanvas:s}}_resetCanvas(){const{canvas:e}=this;e&&(e.remove(),e.width=e.height=0,this.canvas=null,U(this,Jb,EN).call(this))}async _drawCanvas(e,t,i){var a,o;const r=this.renderTask=this.pdfPage.render(e);r.onContinue=f(this,p1),r.onError=l=>{l instanceof rN&&(t(),_(this,_v,null))};let s=null;try{await r.promise,(a=f(this,Rl))==null||a.call(this,!0)}catch(l){if(l instanceof rN)return;s=l,(o=f(this,Rl))==null||o.call(this,!0)}finally{_(this,_v,s),r===this.renderTask&&(this.renderTask=null,this.enableOptimizedPartialRendering&&(this.recordedBBoxes??(this.recordedBBoxes=r.recordedBBoxes)))}if(this.renderingState=_t.FINISHED,i(r),s)throw s}cancelRendering({cancelExtraDelay:e=0}={}){this.renderTask&&(this.renderTask.cancel(e),this.renderTask=null),this.resume=null}dispatchPageRender(){this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id})}dispatchPageRendered(e,t){this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:e,isDetailView:t,timestamp:performance.now(),error:f(this,_v)})}}ad=new WeakMap,xv=new WeakMap,_v=new WeakMap,Tv=new WeakMap,Rl=new WeakMap,od=new WeakMap,Dl=new WeakMap,p1=new WeakMap,Jb=new WeakSet,EN=function(){f(this,Dl)&&(f(this,Dl).width=f(this,Dl).height=0,_(this,Dl,null))};var AA;class Cge{constructor(e){F(this,AA,null);this.pageIndex=e.pageIndex}async render({intent:e="display"}){e!=="display"||f(this,AA)||this._cancelled||_(this,AA,new Ihe({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,f(this,AA)&&(f(this,AA).destroy(),_(this,AA,null))}setParent(e){var t;(t=f(this,AA))==null||t.setParent(e)}getDrawLayer(){return f(this,AA)}}AA=new WeakMap;var Fa,g1,wY;class bge extends yY{constructor({pageView:t}){super(t);F(this,g1);F(this,Fa,null);ge(this,"renderingCancelled",!1);this.pageView=t,this.renderingId="detail"+this.id,this.div=t.div}setPdfPage(t){this.pageView.setPdfPage(t)}get pdfPage(){return this.pageView.pdfPage}get renderingState(){return super.renderingState}set renderingState(t){this.renderingCancelled=!1,super.renderingState=t}reset({keepCanvas:t=!1}={}){const i=this.renderingCancelled||this.renderingState===_t.RUNNING||this.renderingState===_t.PAUSED;this.cancelRendering(),this.renderingState=_t.INITIAL,this.renderingCancelled=i,t||this._resetCanvas()}update({visibleArea:t=null,underlyingViewUpdated:i=!1}={}){if(i){this.cancelRendering(),this.renderingState=_t.INITIAL;return}if(!U(this,g1,wY).call(this,t))return;const{viewport:r,maxCanvasPixels:s,capCanvasAreaFactor:a}=this.pageView,o=t.maxX-t.minX,l=t.maxY-t.minY,u=o*l*u_.pixelRatio**2,h=(Math.sqrt(u_.capPixels(s,a)/u)-1)/2;let g=Math.min(1,h);g<0&&(g=0);const v=o*g,C=l*g,b=Math.max(0,t.minX-v),E=Math.min(r.width,t.maxX+v),x=Math.max(0,t.minY-C),I=Math.min(r.height,t.maxY+C),T=E-b,R=I-x;_(this,Fa,{minX:b,minY:x,width:T,height:R,scale:r.scale}),this.reset({keepCanvas:!0})}_getRenderingContext(t,i){const r=this.pageView._getRenderingContext(t,i,!1),s=this.pdfPage.recordedBBoxes;if(!s||!this.enableOptimizedPartialRendering)return r;const{viewport:{width:a,height:o}}=this.pageView,{width:l,height:u,minX:d,minY:h}=f(this,Fa),g=d/a,v=h/o,C=(d+l)/a,b=(h+u)/o;return{...r,operationsFilter(E){return s.isEmpty(E)?!1:s.minX(E)<=C&&s.maxX(E)>=g&&s.minY(E)<=b&&s.maxY(E)>=v}}}async draw(){if(this.pageView.detailView!==this)return;const t=this.pageView.renderingState===_t.FINISHED||this.renderingState===_t.FINISHED;this.renderingState!==_t.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:i,pdfPage:r,viewport:s}=this.pageView;if(!r)throw this.renderingState=_t.FINISHED,new Error("pdfPage is not loaded");this.renderingState=_t.RUNNING;const a=this.pageView._ensureCanvasWrapper(),{canvas:o,prevCanvas:l}=this._createCanvas(E=>{var x;((x=a.firstElementChild)==null?void 0:x.tagName)==="CANVAS"?a.firstElementChild.after(E):a.prepend(E)},t);o.ariaHidden=!0,this.enableOptimizedPartialRendering&&(o.className="detailView");const{width:u,height:d}=s,h=f(this,Fa),{pixelRatio:g}=u_,v=[g,0,0,g,-h.minX*g,-h.minY*g];o.width=h.width*g,o.height=h.height*g;const{style:C}=o;C.width=`${h.width*100/u}%`,C.height=`${h.height*100/d}%`,C.top=`${h.minY*100/d}%`,C.left=`${h.minX*100/u}%`;const b=this._drawCanvas(this._getRenderingContext(o,v),()=>{var E;(E=this.canvas)==null||E.remove(),this.canvas=l},()=>{this.dispatchPageRendered(!1,!0)});return i.setAttribute("data-loaded",!0),this.dispatchPageRender(),b}}Fa=new WeakMap,g1=new WeakSet,wY=function(t){if(!f(this,Fa))return!0;const i=f(this,Fa).minX,r=f(this,Fa).minY,s=f(this,Fa).width+i,a=f(this,Fa).height+r;if(t.minX<i||t.minY<r||t.maxX>s||t.maxY>a)return!0;const{width:o,height:l,scale:u}=this.pageView.viewport;if(f(this,Fa).scale!==u)return!0;const d=t.minX-i,h=s-t.maxX,g=t.minY-r,v=a-t.maxY,C=.5,b=(1+C)/C;return i>0&&h/d>b||s<o&&d/h>b||r>0&&v/g>b||a<l&&g/v>b};const gG={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},CY=new Set(["math","merror","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mprescripts","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics"]),j_="http://www.w3.org/1998/Math/MathML";class mG{static get sanitizer(){return Mw(this,"sanitizer",GW.isSanitizerSupported?new Sanitizer({elements:[...CY].map(e=>({name:e,namespace:j_})),replaceWithChildrenElements:[{name:"maction",namespace:j_}],attributes:["dir","displaystyle","mathbackground","mathcolor","mathsize","scriptlevel","encoding","display","linethickness","intent","arg","form","fence","separator","lspace","rspace","stretchy","symmetric","maxsize","minsize","largeop","movablelimits","width","height","depth","voffset","accent","accentunder","columnspan","rowspan"],comments:!1}):null)}}const Bge=/^H(\d+)$/;var Iv,fo,Fv,Uv,Mv,Ad,wA,SN,BY,xN;class bY{constructor(e,t){F(this,wA);F(this,Iv);F(this,fo,null);F(this,Fv);F(this,Uv,new Map);F(this,Mv);F(this,Ad,null);_(this,Iv,e.getStructTree()),_(this,Mv,t)}async render(){var r;if(f(this,Fv))return f(this,Fv);const{promise:e,resolve:t,reject:i}=Promise.withResolvers();_(this,Fv,e);try{_(this,fo,U(this,wA,xN).call(this,await f(this,Iv)))}catch(s){i(s)}return _(this,Iv,null),(r=f(this,fo))==null||r.classList.add("structTree"),t(f(this,fo)),e}async getAriaAttributes(e){try{return await this.render(),f(this,Uv).get(e)}catch{}return null}hide(){f(this,fo)&&!f(this,fo).hidden&&(f(this,fo).hidden=!0)}show(){var e;(e=f(this,fo))!=null&&e.hidden&&(f(this,fo).hidden=!1)}addElementsToTextLayer(){var e;if(f(this,Ad)){for(const[t,i]of f(this,Ad))(e=document.getElementById(t))==null||e.append(i);f(this,Ad).clear(),_(this,Ad,null)}}}Iv=new WeakMap,fo=new WeakMap,Fv=new WeakMap,Uv=new WeakMap,Mv=new WeakMap,Ad=new WeakMap,wA=new WeakSet,SN=function(e,t){const{alt:i,id:r,lang:s}=e;if(i!==void 0){let a=!1;const o=vw(i);for(const l of e.children)if(l.type==="annotation"){let u=f(this,Uv).get(l.id);u||(u=new Map,f(this,Uv).set(l.id,u)),u.set("aria-label",o),a=!0}a||t.setAttribute("aria-label",o)}r!==void 0&&t.setAttribute("aria-owns",r),s!==void 0&&t.setAttribute("lang",vw(s,!0))},BY=function(e,t){const{alt:i,bbox:r,children:s}=e,a=s==null?void 0:s[0];if(!f(this,Mv)||!i||!r||(a==null?void 0:a.type)!=="content")return!1;const{id:o}=a;if(!o)return!1;t.setAttribute("aria-owns",o);const l=document.createElement("span");(f(this,Ad)||_(this,Ad,new Map)).set(o,l),l.setAttribute("role","img"),l.setAttribute("aria-label",vw(i));const{pageHeight:u,pageX:d,pageY:h}=f(this,Mv),g="calc(var(--total-scale-factor) *",{style:v}=l;return v.width=`${g}${r[2]-r[0]}px)`,v.height=`${g}${r[3]-r[1]}px)`,v.left=`${g}${r[0]-d}px)`,v.top=`${g}${u-r[3]+h}px)`,!0},xN=function(e){if(!e)return null;let t;if("role"in e){const{role:i}=e;t=CY.has(i)?document.createElementNS(j_,i):document.createElement("span");const r=i.match(Bge);if(r?(t.setAttribute("role","heading"),t.setAttribute("aria-level",r[1])):gG[i]&&t.setAttribute("role",gG[i]),i==="Figure"&&U(this,wA,BY).call(this,e,t))return t;i==="Formula"&&(e.mathML&&mG.sanitizer&&t.setHTML(e.mathML,{sanitizer:mG.sanitizer}),!e.mathML&&e.children.length===1&&e.children[0].role!=="math"&&(t=document.createElementNS(j_,"math")))}if(t||(t=document.createElement("span")),U(this,wA,SN).call(this,e,t),e.children)if(e.children.length===1&&"id"in e.children[0])U(this,wA,SN).call(this,e.children[0],t);else for(const i of e.children)t.append(U(this,wA,xN).call(this,i));return t};var Nl,Ua,Ll,ld,Pv,m_,Zb,TN;const Qg=class Qg{constructor(){F(this,Zb);F(this,Nl,!1);F(this,Ua,null);F(this,Ll,new Map);F(this,ld,new Map)}setTextMapping(e){_(this,Ua,e)}enable(){if(f(this,Nl))throw new Error("TextAccessibilityManager is already enabled.");if(!f(this,Ua))throw new Error("Text divs and strings have not been set.");if(_(this,Nl,!0),_(this,Ua,f(this,Ua).slice()),f(this,Ua).sort(U(Qg,Pv,m_)),f(this,Ll).size>0){const e=f(this,Ua);for(const[t,i]of f(this,Ll)){if(!document.getElementById(t)){f(this,Ll).delete(t);continue}U(this,Zb,TN).call(this,t,e[i])}}for(const[e,t]of f(this,ld))this.addPointerInTextLayer(e,t);f(this,ld).clear()}disable(){f(this,Nl)&&(f(this,ld).clear(),_(this,Ua,null),_(this,Nl,!1))}removePointerInTextLayer(e){if(!f(this,Nl)){f(this,ld).delete(e);return}const t=f(this,Ua);if(!t||t.length===0)return;const{id:i}=e,r=f(this,Ll).get(i);if(r===void 0)return;const s=t[r];f(this,Ll).delete(i);let a=s.getAttribute("aria-owns");a!=null&&a.includes(i)&&(a=a.split(" ").filter(o=>o!==i).join(" "),a?s.setAttribute("aria-owns",a):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return null;if(!f(this,Nl))return f(this,ld).set(e,t),null;t&&this.removePointerInTextLayer(e);const r=f(this,Ua);if(!r||r.length===0)return null;const s=Pw(r,u=>{var d;return U(d=Qg,Pv,m_).call(d,e,u)<0}),a=Math.max(0,s-1),o=r[a];U(this,Zb,TN).call(this,i,o),f(this,Ll).set(i,a);const l=o.parentNode;return l!=null&&l.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,i,r){const s=this.addPointerInTextLayer(i,r);if(!e.hasChildNodes())return e.append(t),s;const a=Array.from(e.childNodes).filter(l=>l!==t);if(a.length===0)return s;const o=Pw(a,l=>{var u;return U(u=Qg,Pv,m_).call(u,t,l)<0});return o===0?a[0].before(t):a[o-1].after(t),s}};Nl=new WeakMap,Ua=new WeakMap,Ll=new WeakMap,ld=new WeakMap,Pv=new WeakSet,m_=function(e,t){const i=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(r.width===0&&r.height===0)return-1;const s=i.y,a=i.y+i.height,o=i.y+i.height/2,l=r.y,u=r.y+r.height,d=r.y+r.height/2;if(o<=l&&d>=a)return-1;if(d<=s&&o>=u)return 1;const h=i.x+i.width/2,g=r.x+r.width/2;return h-g},Zb=new WeakSet,TN=function(e,t){const i=t.getAttribute("aria-owns");i!=null&&i.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")},F(Qg,Pv);let _N=Qg;var ud;class Ege{constructor({findController:e,eventBus:t,pageIndex:i}){F(this,ud,null);this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,f(this,ud)||(_(this,ud,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:f(this,ud).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=f(this,ud))==null||e.abort(),_(this,ud,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:i}=this;let r=0,s=0;const a=i.length-1,o=[];for(let l=0,u=e.length;l<u;l++){let d=e[l];for(;r!==a&&d>=s+i[r].length;)s+=i[r].length,r++;r===i.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:r,offset:d-s}};for(d+=t[l];r!==a&&d>s+i[r].length;)s+=i[r].length,r++;h.end={divIdx:r,offset:d-s},o.push(h)}return o}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:i}=this,{textContentItemsStr:r,textDivs:s}=this,a=i===t.selected.pageIdx,o=t.selected.matchIdx,l=t.state.highlightAll;let u=null;const d={offset:void 0};function h(x,I){const T=x.divIdx;return s[T].textContent="",g(T,0,x.offset,I)}function g(x,I,T,R){let M=s[x];if(M.nodeType===Node.TEXT_NODE){const H=document.createElement("span");M.before(H),H.append(M),s[x]=H,M=H}const D=r[x].substring(I,T),L=document.createTextNode(D);if(R){const H=document.createElement("span");if(H.className=`${R} appended`,H.append(L),M.append(H),R.includes("selected")){const{left:O}=H.getClientRects()[0],K=M.getBoundingClientRect().left;return O-K}return 0}return M.append(L),0}let v=o,C=v+1;if(l)v=0,C=e.length;else if(!a)return;let b=-1,E=-1;for(let x=v;x<C;x++){const I=e[x],T=I.begin;if(T.divIdx===b&&T.offset===E)continue;b=T.divIdx,E=T.offset;const R=I.end,M=a&&x===o,D=M?" selected":"";let L=0;if(!u||T.divIdx!==u.divIdx?(u!==null&&g(u.divIdx,u.offset,d.offset),h(T)):g(u.divIdx,u.offset,T.offset),T.divIdx===R.divIdx)L=g(T.divIdx,T.offset,R.offset,"highlight"+D);else{L=g(T.divIdx,T.offset,d.offset,"highlight begin"+D);for(let H=T.divIdx+1,O=R.divIdx;H<O;H++)s[H].className="highlight middle"+D;h(R,"highlight end"+D)}u=R,M&&t.scrollMatchIntoView({element:s[T.divIdx],selectedLeft:L,pageIndex:i,matchIndex:o})}u&&g(u.divIdx,u.offset,d.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:r}=this,{textContentItemsStr:s,textDivs:a}=this;let o=-1;for(const d of i){const h=Math.max(o,d.begin.divIdx);for(let g=h,v=d.end.divIdx;g<=v;g++){const C=a[g];C.textContent=s[g],C.className=""}o=d.end.divIdx+1}if(!(t!=null&&t.highlightMatches)||e)return;const l=t.pageMatches[r]||null,u=t.pageMatchesLength[r]||null;this.matches=this._convertMatches(l,u),this._renderMatches(this.matches)}}ud=new WeakMap;var eB,tB,kh,lA,ss,cd,m1,EY,ay,SY,xY;const sc=class sc{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:r=!1,onAppend:s=null}){F(this,m1);F(this,eB,!1);F(this,tB,null);F(this,kh,!1);F(this,lA,null);this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,_(this,eB,r===!0),_(this,tB,s),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render({viewport:e,textContentParams:t=null}){var a,o,l,u,d;if(f(this,kh)&&f(this,lA)){f(this,lA).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),_(this,lA,new Rhe({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:i,textContentItemsStr:r}=f(this,lA);(a=this.highlighter)==null||a.setTextMapping(i,r),(o=this.accessibilityManager)==null||o.setTextMapping(i),await f(this,lA).render(),_(this,kh,!0);const s=document.createElement("div");s.className="endOfContent",this.div.append(s),U(this,m1,EY).call(this,s),(l=f(this,tB))==null||l.call(this,this.div),(u=this.highlighter)==null||u.enable(),(d=this.accessibilityManager)==null||d.enable()}hide(){var e;!this.div.hidden&&f(this,kh)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&f(this,kh)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,i,r;(e=f(this,lA))==null||e.cancel(),_(this,lA,null),(t=this.highlighter)==null||t.disable(),(i=this.accessibilityManager)==null||i.disable(),U(r=sc,ay,SY).call(r,this.div)}};eB=new WeakMap,tB=new WeakMap,kh=new WeakMap,lA=new WeakMap,ss=new WeakMap,cd=new WeakMap,m1=new WeakSet,EY=function(e){var i;const{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",r=>{if(!f(this,eB)){const s=document.getSelection();r.clipboardData.setData("text/plain",vw(Phe(s.toString())))}sN(r)}),f(sc,ss).set(t,e),U(i=sc,ay,xY).call(i)},ay=new WeakSet,SY=function(e){var t;f(this,ss).delete(e),f(this,ss).size===0&&((t=f(this,cd))==null||t.abort(),_(this,cd,null))},xY=function(){if(f(this,cd))return;_(this,cd,new AbortController);const{signal:e}=f(this,cd),t=(a,o)=>{o.append(a),a.style.width="",a.style.height="",o.classList.remove("selecting")};let i=!1;document.addEventListener("pointerdown",()=>{i=!0},{signal:e}),document.addEventListener("pointerup",()=>{i=!1,f(this,ss).forEach(t)},{signal:e}),window.addEventListener("blur",()=>{i=!1,f(this,ss).forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{i||f(this,ss).forEach(t)},{signal:e});var r,s;document.addEventListener("selectionchange",()=>{var v;const a=document.getSelection();if(a.rangeCount===0){f(this,ss).forEach(t);return}const o=new Set;for(let C=0;C<a.rangeCount;C++){const b=a.getRangeAt(C);for(const E of f(this,ss).keys())!o.has(E)&&b.intersectsNode(E)&&o.add(E)}for(const[C,b]of f(this,ss))o.has(C)?C.classList.add("selecting"):t(b,C);if(r??(r=getComputedStyle(f(this,ss).values().next().value).getPropertyValue("-moz-user-select")==="none"),r)return;const l=a.getRangeAt(0),u=s&&(l.compareBoundaryPoints(Range.END_TO_END,s)===0||l.compareBoundaryPoints(Range.START_TO_END,s)===0);let d=u?l.startContainer:l.endContainer;if(d.nodeType===Node.TEXT_NODE&&(d=d.parentNode),!u&&l.endOffset===0)do{for(;!d.previousSibling;)d=d.parentNode;d=d.previousSibling}while(!d.childNodes.length);const h=(v=d.parentElement)==null?void 0:v.closest(".textLayer"),g=f(this,ss).get(h);g&&(g.style.width=h.style.width,g.style.height=h.style.height,d.parentElement.insertBefore(g,u?d:d.nextSibling)),s=l.cloneRange()},{signal:e})},F(sc,ay),F(sc,ss,new Map),F(sc,cd,null);let W_=sc;class _Y{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:r=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=r,this.div=null,this._cancelled=!1}async render({viewport:e,intent:t="display"}){if(t==="print"){const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,rM.render(s)}const i=await this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};const r={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?rM.update(r):(this.div=document.createElement("div"),r.div=this.div,rM.render(r))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const Sge={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new NQ}},xge=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var dd,fd,nB,iB,Rv,rB,hd,Ql,Dv,sB,aB,oB,Nv,AB,Ol,pd,at,Sg,v_,sw,IN,FN,UN,MN,PN,IY,FY,UY,RN;class TY extends yY{constructor(t){var a,o;super(t);F(this,at);F(this,dd,fA.ENABLE_FORMS);F(this,fd,null);F(this,nB,null);F(this,iB,!0);F(this,Rv,!1);F(this,rB,!1);F(this,hd,null);F(this,Ql,!1);F(this,Dv,null);F(this,sB,null);F(this,aB,1);F(this,oB,1);F(this,Nv,cA.ENABLE);F(this,AB,1);F(this,Ol,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});F(this,pd,[null,null,null,null]);const i=t.container,r=t.defaultViewport;this.renderingId="page"+this.id,_(this,hd,t.layerProperties||Sge),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||qW,this.viewport=r,this.pdfPageRotate=r.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,_(this,Nv,t.textLayerMode??cA.ENABLE),_(this,dd,t.annotationMode??fA.ENABLE_FORMS),this.imageResourcesPath=t.imageResourcesPath||"",this.enableDetailCanvas=t.enableDetailCanvas??!0,this.maxCanvasPixels=t.maxCanvasPixels??yw.get("maxCanvasPixels"),this.maxCanvasDim=t.maxCanvasDim||yw.get("maxCanvasDim"),this.capCanvasAreaFactor=t.capCanvasAreaFactor??yw.get("capCanvasAreaFactor"),_(this,iB,t.enableAutoLinking!==!1),_(this,nB,t.commentManager||null),this.l10n=t.l10n,this.l10n||(this.l10n=new qv),this._isStandalone=!((a=this.renderingQueue)!=null&&a.hasViewer()),this._container=i,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null,this.detailView=null;const s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,U(this,at,v_).call(this),i==null||i.append(s),this._isStandalone){i==null||i.style.setProperty("--scale-factor",this.scale*JA.PDF_TO_CSS_UNITS),(o=this.pageColors)!=null&&o.background&&(i==null||i.style.setProperty("--page-bg-color",this.pageColors.background));const{optionalContentConfigPromise:l}=t;l&&l.then(u=>{l===this._optionalContentConfigPromise&&(f(this,Ol).initialOptionalContent=u.hasInitialVisibility)}),t.l10n||this.l10n.translate(this.div)}}setPdfPage(t){var r,s,a,o;this._isStandalone&&(((r=this.pageColors)==null?void 0:r.foreground)==="CanvasText"||((s=this.pageColors)==null?void 0:s.background)==="Canvas")&&((a=this._container)==null||a.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(o=this._container)==null||o.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=t,this.pdfPageRotate=t.rotate;const i=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*JA.PDF_TO_CSS_UNITS,rotation:i}),U(this,at,v_).call(this),this.reset()}destroy(){var t;this.reset(),(t=this.pdfPage)==null||t.cleanup()}hasEditableAnnotations(){var t;return!!((t=this.annotationLayer)!=null&&t.hasEditableAnnotations())}get _textHighlighter(){return Mw(this,"_textHighlighter",new Ege({pageIndex:this.id-1,eventBus:this.eventBus,findController:f(this,hd).findController}))}_resetCanvas(){super._resetCanvas(),_(this,Dv,null)}reset({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1,keepCanvasWrapper:a=!1,preserveDetailViewState:o=!1}={}){var E,x,I,T,R,M,D;const l=((E=this.pdfPage)==null?void 0:E._pdfBug)??!1;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:r,keepTextLayer:s}),this.renderingState=_t.INITIAL;const u=this.div,d=u.childNodes,h=t&&((x=this.annotationLayer)==null?void 0:x.div)||null,g=i&&((I=this.annotationEditorLayer)==null?void 0:I.div)||null,v=r&&((T=this.xfaLayer)==null?void 0:T.div)||null,C=s&&((R=this.textLayer)==null?void 0:R.div)||null,b=a&&f(this,fd)||null;for(let L=d.length-1;L>=0;L--){const H=d[L];switch(H){case h:case g:case v:case C:case b:continue}if(l&&H.classList.contains("pdfBugGroupsLayer"))continue;H.remove();const O=f(this,pd).indexOf(H);O>=0&&(f(this,pd)[O]=null)}u.removeAttribute("data-loaded"),h&&this.annotationLayer.hide(),g&&this.annotationEditorLayer.hide(),v&&this.xfaLayer.hide(),C&&this.textLayer.hide(),(M=this.structTreeLayer)==null||M.hide(),!a&&f(this,fd)&&(_(this,fd,null),this._resetCanvas()),o||((D=this.detailView)==null||D.reset({keepCanvas:a}),a||(this.detailView=null))}toggleEditingMode(t){_(this,rB,t),this.hasEditableAnnotations()&&this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0})}updateVisibleArea(t){this.enableDetailCanvas&&(f(this,Ql)&&this.maxCanvasPixels>0&&t?(this.detailView??(this.detailView=new bge({pageView:this,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering})),this.detailView.update({visibleArea:t})):this.detailView&&(this.detailView.reset(),this.detailView=null))}update({scale:t=0,rotation:i=null,optionalContentConfigPromise:r=null,drawingDelay:s=-1}){var o,l,u;this.scale=t||this.scale,typeof i=="number"&&(this.rotation=i),r instanceof Promise&&(this._optionalContentConfigPromise=r,r.then(d=>{r===this._optionalContentConfigPromise&&(f(this,Ol).initialOptionalContent=d.hasInitialVisibility)})),f(this,Ol).directDrawing=!0;const a=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*JA.PDF_TO_CSS_UNITS,rotation:a}),U(this,at,v_).call(this),this._isStandalone&&((o=this._container)==null||o.style.setProperty("--scale-factor",this.viewport.scale)),U(this,at,RN).call(this),this.canvas){const d=f(this,Rv)&&f(this,Ql),h=s>=0&&s<1e3;if(h||d){h&&!d&&this.renderingState!==_t.FINISHED&&(this.cancelRendering({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=_t.FINISHED,f(this,Ol).directDrawing=!1),this.cssTransform({redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h}),h||((l=this.detailView)==null||l.update({underlyingViewUpdated:!0}),this.dispatchPageRendered(!0,!1));return}}this.cssTransform({}),this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0,preserveDetailViewState:!0}),(u=this.detailView)==null||u.update({underlyingViewUpdated:!0})}cancelRendering({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1,cancelExtraDelay:a=0}={}){var o;super.cancelRendering({cancelExtraDelay:a}),this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!t||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!i||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!r||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(o=this._textHighlighter)==null||o.disable())}cssTransform({redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:r=!1,redrawTextLayer:s=!1,hideTextLayer:a=!1}){var u;const{canvas:o}=this;if(!o)return;const l=f(this,Dv);if(this.viewport!==l){const d=(360+this.viewport.rotation-l.rotation)%360;if(d===90||d===270){const{width:h,height:g}=this.viewport,v=g/h,C=h/g;o.style.transform=`rotate(${d}deg) scale(${v},${C})`}else o.style.transform=d===0?"":`rotate(${d}deg)`}t&&this.annotationLayer&&U(this,at,IN).call(this),i&&this.annotationEditorLayer&&(this.drawLayer&&U(this,at,UN).call(this),U(this,at,FN).call(this)),r&&this.xfaLayer&&U(this,at,MN).call(this),this.textLayer&&(a?(this.textLayer.hide(),(u=this.structTreeLayer)==null||u.hide()):s&&U(this,at,PN).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,i){return this.viewport.convertToPdfPoint(t,i)}_ensureCanvasWrapper(){let t=f(this,fd);return t||(t=_(this,fd,document.createElement("div")),t.classList.add("canvasWrapper"),U(this,at,Sg).call(this,t,"canvasWrapper")),t}_getRenderingContext(t,i,r){return{canvas:t,transform:i,viewport:this.viewport,annotationMode:f(this,dd),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors,isEditing:f(this,rB),recordOperations:r}}async draw(){this.renderingState!==_t.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,l10n:i,pdfPage:r,viewport:s}=this;if(!r)throw this.renderingState=_t.FINISHED,new Error("pdfPage is not loaded");this.renderingState=_t.RUNNING;const a=this._ensureCanvasWrapper();if(!this.textLayer&&f(this,Nv)!==cA.DISABLE&&!r.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new _N),this.textLayer=new W_({pdfPage:r,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:f(this,Nv)===cA.ENABLE_PERMISSIONS,onAppend:M=>{this.l10n.pause(),U(this,at,Sg).call(this,M,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&f(this,dd)!==fA.DISABLE){const{annotationStorage:M,annotationEditorUIManager:D,downloadManager:L,enableComment:H,enableScripting:O,fieldObjectsPromise:K,hasJSActionsPromise:V,linkService:$}=f(this,hd);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new iY({pdfPage:r,annotationStorage:M,imageResourcesPath:this.imageResourcesPath,renderForms:f(this,dd)===fA.ENABLE_FORMS,linkService:$,downloadManager:L,enableComment:H,enableScripting:O,hasJSActionsPromise:V,fieldObjectsPromise:K,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:D,commentManager:f(this,nB),onAppend:ne=>{U(this,at,Sg).call(this,ne,"annotationLayer")}})}const{width:o,height:l}=s;_(this,Dv,s);const{canvas:u,prevCanvas:d}=this._createCanvas(M=>{a.prepend(M)});u.setAttribute("role","presentation"),this.outputScale||U(this,at,RN).call(this);const{outputScale:h}=this;_(this,Rv,f(this,Ql));const g=qK(h.sx),v=qK(h.sy),C=u.width=FS(US(o*h.sx),g[0]),b=u.height=FS(US(l*h.sy),v[0]),E=FS(US(o),g[1]),x=FS(US(l),v[1]);h.sx=C/E,h.sy=b/x,f(this,aB)!==g[1]&&(t.style.setProperty("--scale-round-x",`${g[1]}px`),_(this,aB,g[1])),f(this,oB)!==v[1]&&(t.style.setProperty("--scale-round-y",`${v[1]}px`),_(this,oB,v[1]));const I=this.enableOptimizedPartialRendering&&f(this,Rv)&&!this.recordedBBoxes,T=h.scaled?[h.sx,0,0,h.sy,0,0]:null,R=this._drawCanvas(this._getRenderingContext(u,T,I),()=>{d==null||d.remove(),this._resetCanvas()},M=>{f(this,Ol).regularAnnotations=!M.separateAnnots,this.dispatchPageRendered(!1,!1)}).then(async()=>{var L;if(this.renderingState!==_t.FINISHED)return;this.structTreeLayer||(this.structTreeLayer=new bY(r,s.rawDims));const M=U(this,at,PN).call(this);this.annotationLayer&&(await U(this,at,IN).call(this),f(this,iB)&&this.annotationLayer&&this.textLayer&&await U(this,at,UY).call(this,M));const{annotationEditorUIManager:D}=f(this,hd);D&&(this.drawLayer||(this.drawLayer=new Cge({pageIndex:this.id})),await U(this,at,UN).call(this),this.drawLayer.setParent(a),(this.annotationLayer||f(this,dd)===fA.DISABLE)&&(this.annotationEditorLayer||(this.annotationEditorLayer=new vge({uiManager:D,pdfPage:r,l10n:i,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:(L=this.annotationLayer)==null?void 0:L.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:H=>{U(this,at,Sg).call(this,H,"annotationEditorLayer")}})),U(this,at,FN).call(this)))});if(r.isPureXfa){if(!this.xfaLayer){const{annotationStorage:M,linkService:D}=f(this,hd);this.xfaLayer=new _Y({pdfPage:r,annotationStorage:M,linkService:D})}U(this,at,MN).call(this)}return t.setAttribute("data-loaded",!0),this.dispatchPageRender(),R}setPageLabel(t){this.pageLabel=typeof t=="string"?t:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:t,initialOptionalContent:i,regularAnnotations:r}=f(this,Ol);return t&&i&&r?this.canvas:null}}dd=new WeakMap,fd=new WeakMap,nB=new WeakMap,iB=new WeakMap,Rv=new WeakMap,rB=new WeakMap,hd=new WeakMap,Ql=new WeakMap,Dv=new WeakMap,sB=new WeakMap,aB=new WeakMap,oB=new WeakMap,Nv=new WeakMap,AB=new WeakMap,Ol=new WeakMap,pd=new WeakMap,at=new WeakSet,Sg=function(t,i){const r=xge.get(i),s=f(this,pd)[r];if(f(this,pd)[r]=t,s){s.replaceWith(t);return}for(let a=r-1;a>=0;a--){const o=f(this,pd)[a];if(o){o.after(t);return}}this.div.prepend(t)},v_=function(){const{div:t,viewport:i}=this;if(i.userUnit!==f(this,AB)&&(i.userUnit!==1?t.style.setProperty("--user-unit",i.userUnit):t.style.removeProperty("--user-unit"),_(this,AB,i.userUnit)),this.pdfPage){if(f(this,sB)===i.rotation)return;_(this,sB,i.rotation)}zW(t,i,!0,!1)},sw=function(t,i){this.eventBus.dispatch(t,{source:this,pageNumber:this.id,error:i})},IN=async function(){let t=null;try{await this.annotationLayer.render({viewport:this.viewport,intent:"display",structTreeLayer:this.structTreeLayer})}catch(i){console.error("#renderAnnotationLayer:",i),t=i}finally{U(this,at,sw).call(this,"annotationlayerrendered",t)}},FN=async function(){let t=null;try{await this.annotationEditorLayer.render({viewport:this.viewport,intent:"display"})}catch(i){console.error("#renderAnnotationEditorLayer:",i),t=i}finally{U(this,at,sw).call(this,"annotationeditorlayerrendered",t)}},UN=async function(){try{await this.drawLayer.render({intent:"display"})}catch(t){console.error("#renderDrawLayer:",t)}},MN=async function(){var i;let t=null;try{const r=await this.xfaLayer.render({viewport:this.viewport,intent:"display"});r!=null&&r.textDivs&&this._textHighlighter&&U(this,at,FY).call(this,r.textDivs)}catch(r){console.error("#renderXfaLayer:",r),t=r}finally{(i=this.xfaLayer)!=null&&i.div&&(this.l10n.pause(),U(this,at,Sg).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),U(this,at,sw).call(this,"xfalayerrendered",t)}},PN=async function(){if(!this.textLayer)return;let t=null;try{await this.textLayer.render({viewport:this.viewport})}catch(i){if(i instanceof She)return;console.error("#renderTextLayer:",i),t=i}U(this,at,sw).call(this,"textlayerrendered",t),U(this,at,IY).call(this)},IY=async function(){var i,r,s;if(!this.textLayer)return;const t=await((i=this.structTreeLayer)==null?void 0:i.render());t&&(this.l10n.pause(),(r=this.structTreeLayer)==null||r.addElementsToTextLayer(),this.canvas&&t.parentNode!==this.canvas&&this.canvas.append(t),this.l10n.resume()),(s=this.structTreeLayer)==null||s.show()},FY=async function(t){const i=await this.pdfPage.getTextContent(),r=[];for(const s of i.items)r.push(s.str);this._textHighlighter.setTextMapping(t,r),this._textHighlighter.enable()},UY=async function(t){try{if(await t,!this.annotationLayer)return;await this.annotationLayer.injectLinkAnnotations(BN.processLinks(this))}catch(i){console.error("#injectLinkAnnotations:",i)}},RN=function(){const{width:t,height:i}=this.viewport,r=this.outputScale=new u_;if(this.maxCanvasPixels===0){const s=1/this.scale;r.sx*=s,r.sy*=s,_(this,Ql,!0)}else if(_(this,Ql,r.limitCanvas(t,i,this.maxCanvasPixels,this.maxCanvasDim,this.capCanvasAreaFactor)),f(this,Ql)&&this.enableDetailCanvas){const s=this.enableOptimizedPartialRendering?4:2;r.sx/=s,r.sy/=s}};async function _ge(n){const{info:i,metadata:r,contentDispositionFilename:s,contentLength:a}=await n.getMetadata();return{...i,baseURL:"",filesize:a||(await n.getDownloadInfo()).length,filename:s||Fhe(""),metadata:r==null?void 0:r.getRaw(),authors:r==null?void 0:r.get("dc:creator"),numPages:n.numPages,URL:""}}class Tge{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(i)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}var uA,Hh,lB,Vh,Kh,uB,Mr,kl,Lv,pi,Ma,Ni,MY,y_,DN,PY,aw;class Ige{constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){F(this,Ni);F(this,uA,null);F(this,Hh,null);F(this,lB,null);F(this,Vh,null);F(this,Kh,null);F(this,uB,null);F(this,Mr,null);F(this,kl,null);F(this,Lv,!1);F(this,pi,null);F(this,Ma,null);_(this,Kh,e),_(this,uB,t),_(this,lB,i)}setViewer(e){_(this,kl,e)}async setDocument(e){var o;if(f(this,Mr)&&await U(this,Ni,aw).call(this),_(this,Mr,e),!e)return;const[t,i,r]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!r){await U(this,Ni,aw).call(this);return}if(e!==f(this,Mr))return;try{_(this,pi,U(this,Ni,PY).call(this))}catch(l){console.error("setDocument:",l),await U(this,Ni,aw).call(this);return}const s=f(this,Kh);_(this,Vh,new AbortController);const{signal:a}=f(this,Vh);s._on("updatefromsandbox",l=>{(l==null?void 0:l.source)===window&&U(this,Ni,MY).call(this,l.detail)},{signal:a}),s._on("dispatcheventinsandbox",l=>{var u;(u=f(this,pi))==null||u.dispatchEventInSandbox(l.detail)},{signal:a}),s._on("pagechanging",({pageNumber:l,previous:u})=>{l!==u&&(U(this,Ni,DN).call(this,u),U(this,Ni,y_).call(this,l))},{signal:a}),s._on("pagerendered",({pageNumber:l})=>{this._pageOpenPending.has(l)&&l===f(this,kl).currentPageNumber&&U(this,Ni,y_).call(this,l)},{signal:a}),s._on("pagesdestroy",async()=>{var l,u;await U(this,Ni,DN).call(this,f(this,kl).currentPageNumber),await((l=f(this,pi))==null?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(u=f(this,uA))==null||u.resolve()},{signal:a});try{const l=await f(this,lB).call(this,e);if(e!==f(this,Mr))return;await f(this,pi).createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:r}}),s.dispatch("sandboxcreated",{source:this})}catch(l){console.error("setDocument:",l),await U(this,Ni,aw).call(this);return}await((o=f(this,pi))==null?void 0:o.dispatchEventInSandbox({id:"doc",name:"Open"})),await U(this,Ni,y_).call(this,f(this,kl).currentPageNumber,!0),Promise.resolve().then(()=>{e===f(this,Mr)&&_(this,Lv,!0)})}async dispatchWillSave(){var e;return(e=f(this,pi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=f(this,pi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(f(this,pi)){await((e=f(this,Ma))==null?void 0:e.promise),_(this,Ma,Promise.withResolvers());try{await f(this,pi).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw f(this,Ma).resolve(),_(this,Ma,null),t}await f(this,Ma).promise}}async dispatchDidPrint(){var e;return(e=f(this,pi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=f(this,Hh))==null?void 0:e.promise)||null}get ready(){return f(this,Lv)}get _pageOpenPending(){return Mw(this,"_pageOpenPending",new Set)}get _visitedPages(){return Mw(this,"_visitedPages",new Map)}}uA=new WeakMap,Hh=new WeakMap,lB=new WeakMap,Vh=new WeakMap,Kh=new WeakMap,uB=new WeakMap,Mr=new WeakMap,kl=new WeakMap,Lv=new WeakMap,pi=new WeakMap,Ma=new WeakMap,Ni=new WeakSet,MY=async function(e){var u,d;const t=f(this,kl),i=t.isInPresentationMode||t.isChangingPresentationMode,{id:r,siblings:s,command:a,value:o}=e;if(!r){switch(a){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(!i){const h=$he(o);t.spreadMode=h.spreadMode}break;case"page-num":t.currentPageNumber=o+1;break;case"print":await t.pagesPromise,f(this,Kh).dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":i||(t.currentScaleValue=o);break;case"SaveAs":f(this,Kh).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":(u=f(this,Ma))==null||u.resolve(),_(this,Ma,null);break}return}if(i&&e.focus)return;delete e.id,delete e.siblings;const l=s?[r,...s]:[r];for(const h of l){const g=document.querySelector(`[data-element-id="${h}"]`);g?g.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(d=f(this,Mr))==null||d.annotationStorage.setValue(h,e)}},y_=async function(e,t=!1){const i=f(this,Mr),r=this._visitedPages;if(t&&_(this,uA,Promise.withResolvers()),!f(this,uA))return;const s=f(this,kl).getPageView(e-1);if((s==null?void 0:s.renderingState)!==_t.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const a=(async()=>{var l,u;const o=await(r.has(e)?null:(l=s.pdfPage)==null?void 0:l.getJSActions());i===f(this,Mr)&&await((u=f(this,pi))==null?void 0:u.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:o}))})();r.set(e,a)},DN=async function(e){var s;const t=f(this,Mr),i=this._visitedPages;if(!f(this,uA)||this._pageOpenPending.has(e))return;const r=i.get(e);r&&(i.set(e,null),await r,t===f(this,Mr)&&await((s=f(this,pi))==null?void 0:s.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},PY=function(){if(_(this,Hh,Promise.withResolvers()),f(this,pi))throw new Error("#initScripting: Scripting already exists.");return f(this,uB).createScripting()},aw=async function(){var e,t,i,r;if(!f(this,pi)){_(this,Mr,null),(e=f(this,Hh))==null||e.resolve();return}f(this,uA)&&(await Promise.race([f(this,uA).promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),_(this,uA,null)),_(this,Mr,null);try{await f(this,pi).destroySandbox()}catch{}(t=f(this,Ma))==null||t.reject(new Error("Scripting destroyed.")),_(this,Ma,null),(i=f(this,Vh))==null||i.abort(),_(this,Vh,null),this._pageOpenPending.clear(),this._visitedPages.clear(),_(this,pi,null),_(this,Lv,!1),(r=f(this,Hh))==null||r.resolve()};class Fge extends Ige{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new Tge(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>_ge(t)),super(e)}}const Uge=3e4;class Mge{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),Uge)))}getHighestPriority(e,t,i,r=!1,s=!1){const a=e.views,o=a.length;if(o===0)return null;for(let g=0;g<o;g++){const v=a[g].view;if(!this.isViewFinished(v))return v}if(!s)for(let g=0;g<o;g++){const{detailView:v}=a[g].view;if(v&&!this.isViewFinished(v))return v}const l=e.first.id,u=e.last.id;if(u-l+1>o){const g=e.ids;for(let v=1,C=u-l;v<C;v++){const b=i?l+v:u-v;if(g.has(b))continue;const E=t[b-1];if(!this.isViewFinished(E))return E}}let d=i?u:l-2,h=t[d];return h&&!this.isViewFinished(h)||r&&(d+=i?1:-1,h=t[d],h&&!this.isViewFinished(h))?h:null}isViewFinished(e){return e.renderingState===_t.FINISHED}renderView(e){switch(e.renderingState){case _t.FINISHED:return!1;case _t.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case _t.RUNNING:this.highestPriorityPage=e.renderingId;break;case _t.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof rN||console.error("renderView:",t)});break}return!0}}const vG=10,RS={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function yG(n){return Object.values(Yr).includes(n)&&n!==Yr.DISABLE}var Hl,Gh,cB,NN;class Pge{constructor(e){F(this,cB);F(this,Hl,new Set);F(this,Gh,0);_(this,Gh,e)}push(e){const t=f(this,Hl);t.has(e)&&t.delete(e),t.add(e),t.size>f(this,Gh)&&U(this,cB,NN).call(this)}resize(e,t=null){_(this,Gh,e);const i=f(this,Hl);if(t){const r=i.size;let s=1;for(const a of i)if(t.has(a.id)&&(i.delete(a),i.add(a)),++s>r)break}for(;i.size>f(this,Gh);)U(this,cB,NN).call(this)}has(e){return f(this,Hl).has(e)}[Symbol.iterator](){return f(this,Hl).keys()}}Hl=new WeakMap,Gh=new WeakMap,cB=new WeakSet,NN=function(){const e=f(this,Hl).keys().next().value;e==null||e.destroy(),f(this,Hl).delete(e)};var Vl,dB,fB,Pa,Hs,zh,qh,hB,pB,gB,mB,vB,yB,wB,CB,gd,bB,Qv,Kl,ho,$h,jh,Ov,md,kv,BB,Hv,Wh,Gl,Vv,EB,Kv,SB,ke,RY,DY,NY,ow,w_,LY,LN,QY,Zu,QN,OY,kY,HY,ON,VY,kN,C_,HN;class QQ{constructor(e){F(this,ke);F(this,Vl,null);F(this,dB,null);F(this,fB,null);F(this,Pa,Yr.NONE);F(this,Hs,null);F(this,zh,fA.ENABLE_FORMS);F(this,qh,null);F(this,hB,null);F(this,pB,null);F(this,gB,!1);F(this,mB,!1);F(this,vB,!1);F(this,yB,!1);F(this,wB,!1);F(this,CB,!0);F(this,gd,null);F(this,bB,0);F(this,Qv,null);F(this,Kl,!0);F(this,ho,null);F(this,$h,null);F(this,jh,null);F(this,Ov,!1);F(this,md,null);F(this,kv,!1);F(this,BB,0);F(this,Hv,new ResizeObserver(U(this,ke,VY).bind(this)));F(this,Wh,null);F(this,Gl,null);F(this,Vv,null);F(this,EB,!0);F(this,Kv,cA.ENABLE);F(this,SB,null);var r,s;const t="5.4.449";if(HK!==t)throw new Error(`The API version "${HK}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,_(this,SB,e.viewerAlert||null),((r=this.container)==null?void 0:r.tagName)!=="DIV"||((s=this.viewer)==null?void 0:s.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");f(this,Hv).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new NQ,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,_(this,dB,e.altTextManager||null),_(this,qh,e.commentManager||null),_(this,Vv,e.signatureManager||null),_(this,pB,e.editorUndoBar||null),this.findController&&(this.findController.onIsPageVisible=a=>this._getVisiblePages().ids.has(a)),this._scriptingManager=e.scriptingManager||null,_(this,Kv,e.textLayerMode??cA.ENABLE),_(this,zh,e.annotationMode??fA.ENABLE_FORMS),_(this,Pa,e.annotationEditorMode??Yr.NONE),_(this,fB,e.annotationEditorHighlightColors||null),_(this,mB,e.enableHighlightFloatingButton===!0),_(this,yB,e.enableUpdatedAddImage===!0),_(this,wB,e.enableNewAltTextWhenAddingImage===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.maxCanvasDim=e.maxCanvasDim,this.capCanvasAreaFactor=e.capCanvasAreaFactor,this.enableDetailCanvas=e.enableDetailCanvas??!0,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,this.l10n=e.l10n,this.l10n||(this.l10n=new qv),_(this,vB,e.enablePermissions||!1),this.pageColors=e.pageColors||null,_(this,Qv,e.mlManager||null),_(this,gB,e.enableHWA||!1),_(this,EB,e.supportsPinchToZoom!==!1),_(this,CB,e.enableAutoLinking!==!1),_(this,bB,e.minDurationToUpdateCanvas??500),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new Mge,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:i}=e;i==null||i.addEventListener("abort",()=>{f(this,Hv).disconnect(),_(this,Hv,null)},{once:!0}),this.scroll=khe(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=Kg.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),U(this,ke,ON).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:a,pdfPage:o})=>{const l=this._pages[a-1];f(this,Vl).has(l)||o==null||o.cleanup()}),e.l10n||this.l10n.translate(this.container)}get printingAllowed(){return f(this,Kl)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(f(this,Vl))}get pageViewsReady(){return this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return f(this,zh)===fA.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var r;if(this._currentPageNumber===e)return t&&U(this,ke,QN).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((r=this._pageLabels)==null?void 0:r[e-1])??null,previous:i}),t&&U(this,ke,QN).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==sM?this._currentScale:qW}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&U(this,ke,Zu).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&U(this,ke,Zu).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!jW(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&U(this,ke,Zu).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return Mw(this,"_layerProperties",{get annotationEditorUIManager(){return f(e,Hs)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableComment(){return!!f(e,qh)},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let i=1,r=this.pdfDocument.numPages;i<=r;++i){if(f(this,kv))return null;t.length=0;const s=await this.pdfDocument.getPage(i),{items:a}=await s.getTextContent();for(const o of a)o.str&&t.push(o.str),o.hasEOL&&t.push(`
`);e.push(vw(t.join("")))}return e.join(`
`)}setDocument(e){var g,v,C;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(g=this.findController)==null||g.setDocument(null),(v=this._scriptingManager)==null||v.setDocument(null),(C=f(this,Hs))==null||C.destroy(),_(this,Hs,null),_(this,Pa,Yr.NONE),_(this,Kl,!0)),this.pdfDocument=e,!e)return;const t=e.numPages,i=e.getPage(1),r=e.getOptionalContentConfig({intent:"display"}),s=f(this,vB)?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:o,viewer:l}=this;_(this,gd,new AbortController);const{signal:u}=f(this,gd);if(t>RS.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const b=this._scrollMode=bt.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:b})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});const d=b=>{const E=this._pages[b.pageNumber-1];E&&f(this,Vl).push(E)};a._on("pagerender",d,{signal:u});const h=b=>{b.cssTransform||b.isDetailView||(this._onePageRenderedCapability.resolve({timestamp:b.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:u}),Promise.all([i,s]).then(([b,E])=>{var L;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(b),this._optionalContentConfigPromise=r;const{annotationEditorMode:x,annotationMode:I,textLayerMode:T}=U(this,ke,RY).call(this,E);if(T!==cA.DISABLE){const H=_(this,md,document.createElement("div"));H.id="hiddenCopyElement",l.before(H)}if(x!==Yr.DISABLE){const H=x;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):yG(H)?(_(this,Hs,new _he(this.container,l,f(this,SB),f(this,dB),f(this,qh),f(this,Vv),a,e,o,f(this,fB),f(this,mB),f(this,yB),f(this,wB),f(this,Qv),f(this,pB),f(this,EB))),a.dispatch("annotationeditoruimanager",{source:this,uiManager:f(this,Hs)}),H!==Yr.NONE&&(U(this,ke,HN).call(this,H),f(this,Hs).updateMode(H))):console.error(`Invalid AnnotationEditor mode: ${H}`)}const R=this._scrollMode===bt.PAGE?null:l,M=this.currentScale,D=b.getViewport({scale:M*JA.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",D.scale),o!=null&&o.background&&l.style.setProperty("--page-bg-color",o.background),((o==null?void 0:o.foreground)==="CanvasText"||(o==null?void 0:o.background)==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let H=1;H<=t;++H){const O=new TY({container:R,eventBus:a,id:H,scale:M,defaultViewport:D.clone(),optionalContentConfigPromise:r,renderingQueue:this.renderingQueue,textLayerMode:T,annotationMode:I,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,maxCanvasDim:this.maxCanvasDim,capCanvasAreaFactor:this.capCanvasAreaFactor,enableDetailCanvas:this.enableDetailCanvas,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering,pageColors:o,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:f(this,gB),enableAutoLinking:f(this,CB),minDurationToUpdateCanvas:f(this,bB),commentManager:f(this,qh)});this._pages.push(O)}(L=this._pages[0])==null||L.setPdfPage(b),this._scrollMode===bt.PAGE?U(this,ke,ow).call(this):this._spreadMode!==wr.NONE&&this._updateSpreadMode(),a._on("annotationeditorlayerrendered",H=>{f(this,Hs)&&a.dispatch("annotationeditormodechanged",{source:this,mode:f(this,Pa)})},{once:!0,signal:u}),U(this,ke,DY).call(this,u).then(async()=>{var O,K;if(e!==this.pdfDocument)return;if((O=this.findController)==null||O.setDocument(e),(K=this._scriptingManager)==null||K.setDocument(e),f(this,md)&&document.addEventListener("copy",U(this,ke,NY).bind(this,T),{signal:u}),e.loadingParams.disableAutoFetch||t>RS.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let H=t-1;if(H<=0){this._pagesCapability.resolve();return}for(let V=2;V<=t;++V){const $=e.getPage(V).then(ne=>{const oe=this._pages[V-1];oe.pdfPage||oe.setPdfPage(ne),--H===0&&this._pagesCapability.resolve()},ne=>{console.error(`Unable to get page ${V} to initialize viewer`,ne),--H===0&&this._pagesCapability.resolve()});V%RS.PAUSE_EAGER_PAGE_INIT===0&&await $}}),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:H})=>{e===this.pdfDocument&&H.Language&&(l.lang=H.Language)}),this.defaultRenderingQueue&&this.update()}).catch(b=>{console.error("Unable to initialize viewer",b),this._pagesCapability.reject(b)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let i=0,r=this._pages.length;i<r;i++)this._pages[i].setPageLabel(((t=this._pageLabels)==null?void 0:t[i])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=sM,this._currentScaleValue=null,this._pageLabels=null,_(this,Vl,new Pge(vG)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=bt.VERTICAL,this._previousScrollMode=bt.UNKNOWN,this._spreadMode=wr.NONE,_(this,Wh,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=f(this,gd))==null||e.abort(),_(this,gd,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=f(this,md))==null||t.remove(),_(this,md,null),U(this,ke,kN).call(this),U(this,ke,C_).call(this)}_scrollUpdate(){this.pagesCount!==0&&(f(this,ho)&&clearTimeout(f(this,ho)),_(this,ho,setTimeout(()=>{_(this,ho,null),this.update()},100)),this.update())}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:r=!1,center:s=null}){if(!this.pdfDocument)return;const a=Number.isInteger(e)&&this._pages[e-1];if(!a){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let o=0,l=0,u=0,d=0,h,g;const v=a.rotation%180!==0,C=(v?a.height:a.width)/a.scale/JA.PDF_TO_CSS_UNITS,b=(v?a.width:a.height)/a.scale/JA.PDF_TO_CSS_UNITS;let E=0;switch(t[1].name){case"XYZ":o=t[2],l=t[3],E=t[4],o=o!==null?o:0,l=l!==null?l:b;break;case"Fit":case"FitB":E="page-fit";break;case"FitH":case"FitBH":l=t[2],E="page-width",l===null&&this._location?(o=this._location.left,l=this._location.top):(typeof l!="number"||l<0)&&(l=b);break;case"FitV":case"FitBV":o=t[2],u=C,d=b,E="page-height";break;case"FitR":o=t[2],l=t[3],u=t[4]-o,d=t[5]-l;let R=KK,M=GK;this.removePageBorders&&(R=M=0),h=(this.container.clientWidth-R)/u/JA.PDF_TO_CSS_UNITS,g=(this.container.clientHeight-M)/d/JA.PDF_TO_CSS_UNITS,E=Math.min(Math.abs(h),Math.abs(g));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(r||(E&&E!==this._currentScale?this.currentScaleValue=E:this._currentScale===sM&&(this.currentScaleValue=Nhe)),E==="page-fit"&&!t[4]){U(this,ke,w_).call(this,a);return}const x=[a.viewport.convertToViewportPoint(o,l),a.viewport.convertToViewportPoint(o+u,l+d)];let I=Math.min(x[0][0],x[1][0]),T=Math.min(x[0][1],x[1][1]);s?((s==="both"||s==="vertical")&&(T-=(this.container.clientHeight-Math.abs(x[1][1]-x[0][1]))/2),(s==="both"||s==="horizontal")&&(I-=(this.container.clientWidth-Math.abs(x[1][0]-x[0][0]))/2)):i||(I=Math.max(I,0),T=Math.max(T,0)),U(this,ke,w_).call(this,a,{left:I,top:T})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,r=parseFloat(i)===t?Math.round(t*1e4)/100:i,s=e.id,a=this._pages[s-1],o=this.container,l=a.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),u=Math.round(l[0]),d=Math.round(l[1]);let h=`#page=${s}`;this.isInPresentationMode||(h+=`&zoom=${r},${u},${d}`),this._location={pageNumber:s,scale:r,top:d,left:u,rotation:this._pagesRotation,pdfOpenParams:h}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(i===0)return;const r=Math.max(vG,2*i+1);f(this,Vl).resize(r,e.ids);for(const{view:l,visibleArea:u}of t)l.updateVisibleArea(u);for(const l of f(this,Vl))e.ids.has(l.id)||l.updateVisibleArea(null);this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===wr.NONE&&(this._scrollMode===bt.PAGE||this._scrollMode===bt.VERTICAL),a=this._currentPageNumber;let o=!1;for(const l of t){if(l.percent<100)break;if(l.id===a&&s){o=!0;break}}this._setCurrentPageNumber(o?a:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===Kg.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===Kg.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===bt.PAGE?f(this,Wh).pages:this._pages,t=this._scrollMode===bt.HORIZONTAL,i=t&&this._isContainerRtl;return Vhe({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(const e of this._pages)e.renderingState!==_t.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),i=U(this,ke,HY).call(this,t),r=this._spreadMode!==wr.NONE&&this._scrollMode!==bt.HORIZONTAL,s=f(this,Gl)!==null||f(this,ho)!==null&&t.views.some(o=>{var l;return(l=o.detailView)==null?void 0:l.renderingCancelled}),a=this.renderingQueue.getHighestPriority(t,this._pages,i,r,s);return a?(U(this,ke,kY).call(this,a).then(()=>{this.renderingQueue.renderView(a)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const i=t.pdfPage.getViewport({scale:1}),r=$K(i);if(e===void 0)e=r;else if(this.enablePrintAutoRotate&&r!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!Khe(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>RS.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===bt.HORIZONTAL),i.classList.toggle("scrollWrapped",t===bt.WRAPPED),!(!this.pdfDocument||!e)&&(t===bt.PAGE?U(this,ke,ow).call(this):this._previousScrollMode===bt.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&U(this,ke,Zu).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!Ghe(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===bt.PAGE)U(this,ke,ow).call(this);else if(t.textContent="",this._spreadMode===wr.NONE)for(const r of this._pages)t.append(r.div);else{const r=this._spreadMode-1;let s=null;for(let a=0,o=i.length;a<o;++a)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):a%2===r&&(s=s.cloneNode(!1),t.append(s)),s.append(i[a].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&U(this,ke,Zu).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case bt.WRAPPED:{const{views:i}=this._getVisiblePages(),r=new Map;for(const{id:s,y:a,percent:o,widthPercent:l}of i){if(o===0||l<100)continue;let u=r.get(a);u||r.set(a,u||(u=[])),u.push(s)}for(const s of r.values()){const a=s.indexOf(e);if(a===-1)continue;const o=s.length;if(o===1)break;if(t)for(let l=a-1,u=0;l>=u;l--){const d=s[l],h=s[l+1]-1;if(d<h)return e-h}else for(let l=a+1,u=o;l<u;l++){const d=s[l],h=s[l-1]+1;if(d>h)return h-e}if(t){const l=s[0];if(l<e)return e-l+1}else{const l=s[o-1];if(l>e)return l-e+1}break}break}case bt.HORIZONTAL:break;case bt.PAGE:case bt.VERTICAL:{if(this._spreadMode===wr.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:r}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:a,percent:o,widthPercent:l}of r)if(a===s){if(o>0&&l===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:r}){if(i===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(i){const a=i>0?VK:1/VK,o=i>0?Math.ceil:Math.floor;i=Math.abs(i);do s=o((s*a).toFixed(2)*10)/10;while(--i>0)}s=PQ(s,Lhe,Qhe),U(this,ke,Zu).call(this,s,{noScroll:!1,drawingDelay:e,origin:r})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return f(this,hB)||_(this,hB,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return f(this,Hs)?f(this,Pa):Yr.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1,mustEnterInEditMode:r=!1,editComment:s=!1}){if(!f(this,Hs))throw new Error("The AnnotationEditor is not enabled.");if(f(this,Pa)===e)return;if(!yG(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;U(this,ke,HN).call(this,e);const{eventBus:a,pdfDocument:o}=this,l=async()=>{U(this,ke,C_).call(this),_(this,Pa,e),await f(this,Hs).updateMode(e,t,i,r,s),!(e!==f(this,Pa)||o!==this.pdfDocument)&&a.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===Yr.NONE||f(this,Pa)===Yr.NONE){const u=e!==Yr.NONE;u||this.pdfDocument.annotationStorage.resetModifiedIds(),this.cleanup();for(const h of this._pages)h.toggleEditingMode(u);const d=U(this,ke,OY).call(this);if(u&&d){U(this,ke,C_).call(this),_(this,$h,new AbortController);const h=AbortSignal.any([f(this,gd).signal,f(this,$h).signal]);a._on("pagerendered",({pageNumber:g})=>{d.delete(g),d.size===0&&_(this,jh,setTimeout(l,0))},{signal:h});return}}l()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(t);U(this,ke,kN).call(this),e||this.update()}}}Vl=new WeakMap,dB=new WeakMap,fB=new WeakMap,Pa=new WeakMap,Hs=new WeakMap,zh=new WeakMap,qh=new WeakMap,hB=new WeakMap,pB=new WeakMap,gB=new WeakMap,mB=new WeakMap,vB=new WeakMap,yB=new WeakMap,wB=new WeakMap,CB=new WeakMap,gd=new WeakMap,bB=new WeakMap,Qv=new WeakMap,Kl=new WeakMap,ho=new WeakMap,$h=new WeakMap,jh=new WeakMap,Ov=new WeakMap,md=new WeakMap,kv=new WeakMap,BB=new WeakMap,Hv=new WeakMap,Wh=new WeakMap,Gl=new WeakMap,Vv=new WeakMap,EB=new WeakMap,Kv=new WeakMap,SB=new WeakMap,ke=new WeakSet,RY=function(e){const t={annotationEditorMode:f(this,Pa),annotationMode:f(this,zh),textLayerMode:f(this,Kv)};return e?(_(this,Kl,e.includes(sg.PRINT_HIGH_QUALITY)||e.includes(sg.PRINT)),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,Kl)}),!e.includes(sg.COPY)&&f(this,Kv)===cA.ENABLE&&(t.textLayerMode=cA.ENABLE_PERMISSIONS),e.includes(sg.MODIFY_CONTENTS)||(t.annotationEditorMode=Yr.DISABLE),!e.includes(sg.MODIFY_ANNOTATIONS)&&!e.includes(sg.FILL_INTERACTIVE_FORMS)&&f(this,zh)===fA.ENABLE_FORMS&&(t.annotationMode=fA.ENABLE),t):(_(this,Kl,!0),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,Kl)}),t)},DY=async function(e){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const t=Promise.withResolvers(),i=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:AbortSignal.any([e,i.signal])}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),i.abort()},NY=function(e,t){const i=document.getSelection(),{focusNode:r,anchorNode:s}=i;if(s&&r&&i.containsNode(f(this,md))){if(f(this,Ov)||e===cA.ENABLE_PERMISSIONS){sN(t);return}_(this,Ov,!0);const{classList:a}=this.viewer;a.add("copyAll");const o=new AbortController;window.addEventListener("keydown",l=>_(this,kv,l.key==="Escape"),{signal:o.signal}),this.getAllText().then(async l=>{l!==null&&await navigator.clipboard.writeText(l)}).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{_(this,Ov,!1),_(this,kv,!1),o.abort(),a.remove("copyAll")}),sN(t)}},ow=function(){if(this._scrollMode!==bt.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=f(this,Wh),i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode===wr.NONE&&!this.isInPresentationMode){const r=this._pages[e-1];i.append(r.div),t.pages.push(r)}else{const r=new Set,s=this._spreadMode-1;s===-1?r.add(e-1):e%2!==s?(r.add(e-1),r.add(e)):(r.add(e-2),r.add(e-1));const a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){const o=document.createElement("div");o.className="dummyPage",a.append(o)}for(const o of r){const l=this._pages[o];l&&(a.append(l.div),t.pages.push(l))}i.append(a)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},w_=function(e,t=null){const{div:i,id:r}=e;if(this._currentPageNumber!==r&&this._setCurrentPageNumber(r),this._scrollMode===bt.PAGE&&(U(this,ke,ow).call(this),this.update()),!t&&!this.isInPresentationMode){const s=i.offsetLeft+i.clientLeft,a=s+i.clientWidth,{scrollLeft:o,clientWidth:l}=this.container;(this._scrollMode===bt.HORIZONTAL||s<o||a>o+l)&&(t={left:0,top:0})}$W(i,t),!this._currentScaleValue&&this._location&&(this._location=null)},LY=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},LN=function(e,t,{noScroll:i=!1,preset:r=!1,drawingDelay:s=-1,origin:a=null}){if(this._currentScaleValue=t.toString(),U(this,ke,LY).call(this,e)){r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*JA.PDF_TO_CSS_UNITS);const o=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:o?s:-1}),o&&_(this,Gl,setTimeout(()=>{_(this,Gl,null),this.refresh()},s));const l=this._currentScale;if(this._currentScale=e,!i){let u=this._currentPageNumber,d;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(u=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:d,allowNegativeOffset:!0}),Array.isArray(a)){const h=e/l-1,[g,v]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-v)*h,this.container.scrollTop+=(a[1]-g)*h}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()},QY=function(){return this._spreadMode!==wr.NONE&&this._scrollMode!==bt.HORIZONTAL?2:1},Zu=function(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,U(this,ke,LN).call(this,i,e,t);else{const r=this._pages[this._currentPageNumber-1];if(!r)return;let s=KK,a=GK;this.isInPresentationMode?(s=a=4,this._spreadMode!==wr.NONE&&(s*=2)):this.removePageBorders?s=a=0:this._scrollMode===bt.HORIZONTAL&&([s,a]=[a,s]);const o=(this.container.clientWidth-s)/r.width*r.scale/f(this,ke,QY),l=(this.container.clientHeight-a)/r.height*r.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=o;break;case"page-height":i=l;break;case"page-fit":i=Math.min(o,l);break;case"auto":const u=$K(r)?o:Math.min(l,o);i=Math.min(Ohe,u);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,U(this,ke,LN).call(this,i,e,t)}},QN=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&U(this,ke,Zu).call(this,this._currentScaleValue,{noScroll:!0}),U(this,ke,w_).call(this,e)},OY=function(){const e=this._getVisiblePages(),t=[],{ids:i,views:r}=e;for(const s of r){const{view:a}=s;if(!a.hasEditableAnnotations()){i.delete(a.id);continue}t.push(s)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)},kY=async function(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}},HY=function(e){var t,i;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((i=e.last)==null?void 0:i.id)===this.pagesCount)return!1;switch(this._scrollMode){case bt.PAGE:return f(this,Wh).scrollDown;case bt.HORIZONTAL:return this.scroll.right}return this.scroll.down},ON=function(e=this.container.clientHeight){e!==f(this,BB)&&(_(this,BB,e),zhe.setProperty("--viewer-container-height",`${e}px`))},VY=function(e){for(const t of e)if(t.target===this.container){U(this,ke,ON).call(this,Math.floor(t.borderBoxSize[0].blockSize)),_(this,hB,null);break}},kN=function(){f(this,Gl)!==null&&(clearTimeout(f(this,Gl)),_(this,Gl,null)),f(this,ho)!==null&&(clearTimeout(f(this,ho)),_(this,ho,null))},C_=function(){var e;(e=f(this,$h))==null||e.abort(),_(this,$h,null),f(this,jh)!==null&&(clearTimeout(f(this,jh)),_(this,jh,null))},HN=function(e){var t,i;switch(e){case Yr.STAMP:(t=f(this,Qv))==null||t.loadModel("altText");break;case Yr.SIGNATURE:(i=f(this,Vv))==null||i.loadSignatures();break}};class Rge extends QQ{_resetView(){super._resetView(),this._scrollMode=bt.PAGE,this._spreadMode=wr.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}globalThis.pdfjsViewer={AnnotationLayerBuilder:iY,DownloadManager:gpe,EventBus:LQ,FindState:Ju,GenericL10n:qv,LinkTarget:uf,parseQueryString:F1,PDFFindController:hpe,PDFHistory:pge,PDFLinkService:DQ,PDFPageView:TY,PDFScriptingManager:Fge,PDFSinglePageViewer:Rge,PDFViewer:QQ,ProgressBar:qhe,RenderingStates:_t,ScrollMode:bt,SimpleLinkService:NQ,SpreadMode:wr,StructTreeLayerBuilder:bY,TextLayerBuilder:W_,XfaLayerBuilder:_Y};zl.workerSrc=`https://unpkg.com/pdfjs-dist@${Dj}/build/pdf.worker.mjs`;const Dge=({file:n,onPageChange:e,onPagesCount:t,registerGoToPage:i})=>{const r=P.useRef(null),s=P.useRef(null),a=P.useRef(null),{addHighlight:o,highlights:l,activeHighlightId:u,triggerSmartExplain:d,setPdfTextPages:h,pdfSearchHighlight:g}=Rd(),v=P.useRef(null),[C,b]=P.useState(!0),[E,x]=P.useState(null),[I,T]=P.useState(""),R=P.useRef(null),[M,D]=P.useState([]),[L,H]=P.useState({text:"",top:0,left:0,show:!1});P.useEffect(()=>{D(z=>z.filter(ee=>l.some(Z=>Z.id===ee.id)))},[l]),P.useEffect(()=>{if(!s.current)return;const z=()=>{var Z;(Z=s.current)==null||Z.querySelectorAll(".textLayer span").forEach(me=>{const q=me;q.dataset.origText!==void 0&&(q.textContent=q.dataset.origText,delete q.dataset.origText)})};if(!g){z();return}const ee=()=>{var X;const Z=(X=s.current)==null?void 0:X.querySelector(`.page[data-page-number="${g.page}"]`),me=Z==null?void 0:Z.querySelector(".textLayer");if(!me)return!1;z();const q=g.term.trim();if(!q)return!1;const Y=new RegExp(q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");return me.querySelectorAll("span").forEach(ce=>{const ye=ce,Ce=ye.textContent||"",ve=Ce.replace(Y,je=>`<span class="pdf_search_hit">${je}</span>`);ve!==Ce&&(ye.dataset.origText===void 0&&(ye.dataset.origText=Ce),ye.innerHTML=ve)}),!0};if(!ee()){const Z=setTimeout(ee,250);return()=>clearTimeout(Z)}},[g]),P.useEffect(()=>{if(!u||!r.current)return;const z=M.find(q=>q.id===u);if(!z||z.rects.length===0)return;const ee=z.rects[0],Z=Math.max(0,ee.top-40),me=Math.max(0,ee.left-20);r.current.scrollTo({top:Z,left:me,behavior:"smooth"})},[u,M]),P.useEffect(()=>()=>{R.current&&clearTimeout(R.current)},[]),P.useEffect(()=>{if(!r.current||!s.current)return;D([]),H(X=>({...X,show:!1})),h([]),t==null||t(0),e==null||e(1),b(!0),x(null);const z=new LQ,ee=new DQ({eventBus:z}),Z=new QQ({container:r.current,viewer:s.current,eventBus:z,linkService:ee,textLayerMode:2,annotationMode:2,removePageBorders:!0});v.current=Z;const me=2.1;z.on("pagesinit",()=>{Z.currentScale=me}),z.on("pagechanging",X=>{X!=null&&X.pageNumber&&(e==null||e(X.pageNumber))}),z.on("pagesloaded",X=>{X!=null&&X.pagesCount&&(t==null||t(X.pagesCount))}),i==null||i(X=>{if(!v.current||!v.current.pdfDocument||!v.current.pagesCount)return;const ce=v.current.pdfDocument.numPages,ye=Math.min(Math.max(X,1),ce);v.current.currentPageNumber=ye,v.current.scrollPageIntoView({pageNumber:ye})}),ee.setViewer(Z);let q=!1,Y=TQ(n);return Y.promise.then(X=>{if(q)return;b(!1),x(null),Z.setDocument(X),ee.setDocument(X,null),t==null||t(X.numPages),(async()=>{const ye=[];try{for(let Ce=1;Ce<=X.numPages;Ce++){const se=(await(await X.getPage(Ce)).getTextContent()).items.map(Pe=>"str"in Pe?Pe.str:"").join(" ");ye.push({page:Ce,text:se})}q||h(ye)}catch(Ce){console.error("PDF text extraction failed",Ce)}})()}).catch(X=>{if(!q){if((X==null?void 0:X.message)==="Worker was destroyed"){console.debug("[PdfViewer] worker destroyed (cleanup)");return}console.error("[PdfViewer] load error:",X),x((X==null?void 0:X.message)||"PDF  "),b(!1)}}),()=>{q=!0,Y.destroy(),v.current=null}},[n,e,t,i,h]);const O=async()=>{var ee;R.current&&clearTimeout(R.current);const z=((ee=window.getSelection())==null?void 0:ee.toString())??"";if(!z.trim()){T("fail"),R.current=window.setTimeout(()=>T(""),1e3);return}try{navigator.clipboard&&navigator.clipboard.writeText?await navigator.clipboard.writeText(z):document.execCommand("copy"),T("ok")}catch(Z){console.error("copy failed",Z),T("fail")}finally{R.current=window.setTimeout(()=>T(""),1e3)}},K=.5,V=z=>{const Z=z.map(q=>({...q}));let me=!0;for(;me;){me=!1;for(let q=0;q<Z.length;q++){for(let Y=q+1;Y<Z.length;Y++){const X=Z[q],ce=Z[Y],ye=X.left<=ce.left+ce.width+1.5&&X.left+X.width>=ce.left-1.5,Ce=X.top<=ce.top+ce.height+1.5&&X.top+X.height>=ce.top-1.5;if(ye&&Ce){const ve=Math.min(X.left,ce.left),je=Math.min(X.top,ce.top),se=Math.max(X.left+X.width,ce.left+ce.width),Pe=Math.max(X.top+X.height,ce.top+ce.height);Z[q]={left:ve,top:je,width:se-ve,height:Pe-je},Z.splice(Y,1),me=!0;break}}if(me)break}}return Z},$=()=>{const z=window.getSelection();if(!z||!z.toString().trim()||!r.current){H(X=>({...X,show:!1}));return}if(!(r.current.contains(z.anchorNode)&&r.current.contains(z.focusNode))){H(X=>({...X,show:!1}));return}const me=z.getRangeAt(0).getBoundingClientRect();let q=me.top-50,Y=me.left+me.width/2-80;q<8&&(q=me.bottom+8),Y<8&&(Y=8),Y+180>window.innerWidth&&(Y=window.innerWidth-200),H({text:z.toString(),top:q,left:Y,show:!0})},ne=()=>{setTimeout($,10)},oe=()=>{const z=window.getSelection();if(!z||!z.toString().trim()||!r.current||!a.current){H(se=>({...se,show:!1}));return}const ee=z.getRangeAt(0),Z=r.current.getBoundingClientRect(),me=r.current.scrollLeft,q=r.current.scrollTop,Y=getComputedStyle(a.current).getPropertyValue("--visual-scale"),X=parseFloat(Y)||1,ce=.5,ye=1,Ce=Array.from(ee.getClientRects()).map(se=>({left:(se.left-Z.left)/X+me,top:(se.top-Z.top)/X+q-ce,width:se.width/X,height:Math.max(se.height/X-ye,1)})),ve=o(z.toString(),void 0,"reference-doc"),je=V(Ce);D(se=>[...se,{id:ve,rects:je}]),H(se=>({...se,show:!1})),z.removeAllRanges()},pe=()=>{var z;(z=window.getSelection())==null||z.removeAllRanges(),H(ee=>({...ee,show:!1}))},G=()=>{var z;if(!L.text.trim()){H(ee=>({...ee,show:!1}));return}d(L.text),H(ee=>({...ee,show:!1})),(z=window.getSelection())==null||z.removeAllRanges()};return Q.jsxs("div",{className:"pdf_viewer",children:[C&&Q.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_loading",children:Q.jsx("span",{className:"pdf_viewer_overlay_message",children:"PDF  ..."})}),E&&Q.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_error",children:Q.jsxs("div",{className:"pdf_viewer_error",children:[Q.jsx("div",{className:"pdf_viewer_error_title",children:"PDF  "}),Q.jsx("div",{children:E})]})}),Q.jsx("div",{className:"pdf_viewer_scale_wrapper",ref:a,style:{"--visual-scale":K},children:Q.jsxs("div",{ref:r,className:"pdf_viewer_container",onPointerUp:ne,children:[Q.jsx("div",{ref:s,className:"pdfViewer pdf_viewer_content"}),Q.jsx("div",{className:"pdf_highlight_layer",children:M.flatMap(z=>z.rects.map((ee,Z)=>Q.jsx("div",{className:"pdf_highlight","data-highlight-id":z.id,style:{left:ee.left,top:ee.top,width:ee.width,height:ee.height}},`${z.id}-${Z}`)))})]})}),L.show&&Q.jsxs("div",{className:"pdf_selection_menu",style:{top:L.top,left:L.left},children:[(I==="ok"||I==="fail")&&Q.jsx("span",{className:`pdf_selection_menu_copy_status ${I==="ok"?"pdf_viewer_copy_status_ok":"pdf_viewer_copy_status_fail"}`,children:I==="ok"?"":" "}),Q.jsx("button",{onClick:oe,children:"Highlight"}),Q.jsx("div",{className:"pdf_selection_menu_copy_block",children:Q.jsx("button",{onClick:O,children:"Copy"})}),Q.jsx("button",{onClick:G,children:"AI"}),Q.jsx("button",{onClick:pe,children:"Cancel"})]})]})},Nge=({pdfPageCount:n,pdfCurrentPage:e,onPdfGoToPage:t})=>{const{chapters:i,currentChapterIndex:r,goToNextChapter:s,goToPrevChapter:a,goToChapter:o}=Rd(),l=!!t&&(n||0)>0,u=l?n||1:i.length,d=l?e||1:r+1,h=d-1,[g,v]=P.useState(d.toString());P.useEffect(()=>{v(d.toString())},[d]);const C=E=>{E.preventDefault();const x=parseInt(g);if(isNaN(x)||x<1||x>u){v(d.toString());return}l?t==null||t(x):o(x-1)},b=E=>{const x=parseInt(E.target.value);l?t==null||t(x+1):o(x)};return Q.jsxs("div",{className:"navigation_inner",children:[Q.jsxs("div",{className:"prograss_bar_wrap",children:[Q.jsx("input",{type:"range",min:"0",max:Math.max(u-1,0),value:h,onChange:b,className:"prograss_max"}),Q.jsx("div",{className:"prograss_range",style:{width:`${d/u*100}%`},children:Q.jsx("div",{className:"prograss_pointer"})})]}),Q.jsxs("div",{className:"navigation_bottom_box",children:[Q.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.max(1,d-1)):a(),disabled:l?d<=1:r===0,className:`
            ${l?d<=1?"off":"on":r===0?"off":"on"}
          `,children:[Q.jsx(xfe,{size:18}),Q.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),Q.jsxs("div",{className:"chapter_page",children:[Q.jsxs("form",{onSubmit:C,className:"",children:[Q.jsx("span",{className:"text_xs",children:"Page"}),Q.jsx("input",{type:"text",value:g,onChange:E=>v(E.target.value),className:""}),Q.jsxs("span",{className:"slash",children:["/ ",u]})]}),Q.jsx("span",{className:"chapter_name",children:l?"PDF":i[r].title.split(":")[1]||i[r].title})]}),Q.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.min(u,d+1)):s(),disabled:l?d>=u:r===i.length-1,className:`
            ${l?d>=u?"off":"on":r===i.length-1?"off":"on"}
          `,children:[Q.jsx("span",{className:"hidden sm:inline",children:"Next"}),Q.jsx(Tfe,{size:18})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var VN=function(n,e){return VN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},VN(n,e)};function So(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");VN(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var KN=function(){return KN=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},KN.apply(this,arguments)};function Pr(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(i.next(d))}catch(h){a(h)}}function l(d){try{u(i.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):r(d.value).then(o,l)}u((i=i.apply(n,[])).next())})}function vr(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function DS(n,e,t){if(arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||e)}var ou=(function(){function n(e,t,i,r){this.left=e,this.top=t,this.width=i,this.height=r}return n.prototype.add=function(e,t,i,r){return new n(this.left+e,this.top+t,this.width+i,this.height+r)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var i=Array.from(t).find(function(r){return r.width!==0});return i?new n(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),U1=function(n,e){return ou.fromClientRect(n,e.getBoundingClientRect())},Lge=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),r=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new ou(0,0,i,r)},M1=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},Yn=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},wG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qge=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var NS=0;NS<wG.length;NS++)Qge[wG.charCodeAt(NS)]=NS;var CG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Aw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var LS=0;LS<CG.length;LS++)Aw[CG.charCodeAt(LS)]=LS;var Oge=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<t;i+=4)s=Aw[n.charCodeAt(i)],a=Aw[n.charCodeAt(i+1)],o=Aw[n.charCodeAt(i+2)],l=Aw[n.charCodeAt(i+3)],d[r++]=s<<2|a>>4,d[r++]=(a&15)<<4|o>>2,d[r++]=(o&3)<<6|l&63;return u},kge=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},Hge=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},Yh=5,OQ=11,cM=2,Vge=OQ-Yh,KY=65536>>Yh,Kge=1<<Yh,dM=Kge-1,Gge=1024>>Yh,zge=KY+Gge,qge=zge,$ge=32,jge=qge+$ge,Wge=65536>>OQ,Yge=1<<Vge,Xge=Yge-1,bG=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},Jge=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},Zge=function(n,e){var t=Oge(n),i=Array.isArray(t)?Hge(t):new Uint32Array(t),r=Array.isArray(t)?kge(t):new Uint16Array(t),s=24,a=bG(r,s/2,i[4]/2),o=i[5]===2?bG(r,(s+i[4])/2):Jge(i,Math.ceil((s+i[4])/4));return new eme(i[0],i[1],i[2],i[3],a,o)},eme=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Yh],t=(t<<cM)+(e&dM),this.data[t];if(e<=65535)return t=this.index[KY+(e-55296>>Yh)],t=(t<<cM)+(e&dM),this.data[t];if(e<this.highStart)return t=jge-Wge+(e>>OQ),t=this.index[t],t+=e>>Yh&Xge,t=this.index[t],t=(t<<cM)+(e&dM),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),BG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var QS=0;QS<BG.length;QS++)tme[BG.charCodeAt(QS)]=QS;var nme="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",EG=50,ime=1,GY=2,zY=3,rme=4,sme=5,SG=7,qY=8,xG=9,yd=10,GN=11,_G=12,zN=13,ame=14,lw=15,qN=16,OS=17,C0=18,ome=19,TG=20,$N=21,b0=22,fM=23,ag=24,Cs=25,uw=26,cw=27,og=28,Ame=29,pf=30,lme=31,kS=32,HS=33,jN=34,WN=35,YN=36,Dw=37,XN=38,b_=39,B_=40,hM=41,$Y=42,ume=43,cme=[9001,65288],jY="!",mt="",VS="",JN=Zge(nme),GA=[pf,YN],ZN=[ime,GY,zY,sme],WY=[yd,qY],IG=[cw,uw],dme=ZN.concat(WY),FG=[XN,b_,B_,jN,WN],fme=[lw,zN],hme=function(n,e){e===void 0&&(e="strict");var t=[],i=[],r=[];return n.forEach(function(s,a){var o=JN.get(s);if(o>EG?(r.push(!0),o-=EG):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return i.push(a),t.push(qN);if(o===rme||o===GN){if(a===0)return i.push(a),t.push(pf);var l=t[a-1];return dme.indexOf(l)===-1?(i.push(i[a-1]),t.push(l)):(i.push(a),t.push(pf))}if(i.push(a),o===lme)return t.push(e==="strict"?$N:Dw);if(o===$Y||o===Ame)return t.push(pf);if(o===ume)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Dw):t.push(pf);t.push(o)}),[i,t,r]},pM=function(n,e,t,i){var r=i[t];if(Array.isArray(n)?n.indexOf(r)!==-1:n===r)for(var s=t;s<=i.length;){s++;var a=i[s];if(a===e)return!0;if(a!==yd)break}if(r===yd)for(var s=t;s>0;){s--;var o=i[s];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var l=t;l<=i.length;){l++;var a=i[l];if(a===e)return!0;if(a!==yd)break}if(o!==yd)break}return!1},UG=function(n,e){for(var t=n;t>=0;){var i=e[t];if(i===yd)t--;else return i}return 0},pme=function(n,e,t,i,r){if(t[i]===0)return mt;var s=i-1;if(Array.isArray(r)&&r[s]===!0)return mt;var a=s-1,o=s+1,l=e[s],u=a>=0?e[a]:0,d=e[o];if(l===GY&&d===zY)return mt;if(ZN.indexOf(l)!==-1)return jY;if(ZN.indexOf(d)!==-1||WY.indexOf(d)!==-1)return mt;if(UG(s,e)===qY)return VS;if(JN.get(n[s])===GN||(l===kS||l===HS)&&JN.get(n[o])===GN||l===SG||d===SG||l===xG||[yd,zN,lw].indexOf(l)===-1&&d===xG||[OS,C0,ome,ag,og].indexOf(d)!==-1||UG(s,e)===b0||pM(fM,b0,s,e)||pM([OS,C0],$N,s,e)||pM(_G,_G,s,e))return mt;if(l===yd)return VS;if(l===fM||d===fM)return mt;if(d===qN||l===qN)return VS;if([zN,lw,$N].indexOf(d)!==-1||l===ame||u===YN&&fme.indexOf(l)!==-1||l===og&&d===YN||d===TG||GA.indexOf(d)!==-1&&l===Cs||GA.indexOf(l)!==-1&&d===Cs||l===cw&&[Dw,kS,HS].indexOf(d)!==-1||[Dw,kS,HS].indexOf(l)!==-1&&d===uw||GA.indexOf(l)!==-1&&IG.indexOf(d)!==-1||IG.indexOf(l)!==-1&&GA.indexOf(d)!==-1||[cw,uw].indexOf(l)!==-1&&(d===Cs||[b0,lw].indexOf(d)!==-1&&e[o+1]===Cs)||[b0,lw].indexOf(l)!==-1&&d===Cs||l===Cs&&[Cs,og,ag].indexOf(d)!==-1)return mt;if([Cs,og,ag,OS,C0].indexOf(d)!==-1)for(var h=s;h>=0;){var g=e[h];if(g===Cs)return mt;if([og,ag].indexOf(g)!==-1)h--;else break}if([cw,uw].indexOf(d)!==-1)for(var h=[OS,C0].indexOf(l)!==-1?a:s;h>=0;){var g=e[h];if(g===Cs)return mt;if([og,ag].indexOf(g)!==-1)h--;else break}if(XN===l&&[XN,b_,jN,WN].indexOf(d)!==-1||[b_,jN].indexOf(l)!==-1&&[b_,B_].indexOf(d)!==-1||[B_,WN].indexOf(l)!==-1&&d===B_||FG.indexOf(l)!==-1&&[TG,uw].indexOf(d)!==-1||FG.indexOf(d)!==-1&&l===cw||GA.indexOf(l)!==-1&&GA.indexOf(d)!==-1||l===ag&&GA.indexOf(d)!==-1||GA.concat(Cs).indexOf(l)!==-1&&d===b0&&cme.indexOf(n[o])===-1||GA.concat(Cs).indexOf(d)!==-1&&l===C0)return mt;if(l===hM&&d===hM){for(var v=t[s],C=1;v>0&&(v--,e[v]===hM);)C++;if(C%2!==0)return mt}return l===kS&&d===HS?mt:VS},gme=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=hme(n,e.lineBreak),i=t[0],r=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(o){return[Cs,pf,$Y].indexOf(o)!==-1?Dw:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&n[l]>=19968&&n[l]<=40959}):void 0;return[i,r,a]},mme=(function(){function n(e,t,i,r){this.codePoints=e,this.required=t===jY,this.start=i,this.end=r}return n.prototype.slice=function(){return Yn.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),vme=function(n,e){var t=M1(n),i=gme(t,e),r=i[0],s=i[1],a=i[2],o=t.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=mt;u<o&&(d=pme(t,s,r,++u,a))===mt;);if(d!==mt||u===o){var h=new mme(t,d,l,u);return l=u,{value:h,done:!1}}return{done:!0,value:null}}}},yme=1,wme=2,NB=4,MG=8,Y_=10,PG=47,ww=92,Cme=9,bme=32,KS=34,B0=61,Bme=35,Eme=36,Sme=37,GS=39,zS=40,E0=41,xme=95,As=45,_me=33,Tme=60,Ime=62,Fme=64,Ume=91,Mme=93,Pme=61,Rme=123,qS=63,Dme=125,RG=124,Nme=126,Lme=128,DG=65533,gM=42,yf=43,Qme=44,Ome=58,kme=59,Nw=46,Hme=0,Vme=8,Kme=11,Gme=14,zme=31,qme=127,Lo=-1,YY=48,XY=97,JY=101,$me=102,jme=117,Wme=122,ZY=65,eX=69,tX=70,Yme=85,Xme=90,Cr=function(n){return n>=YY&&n<=57},Jme=function(n){return n>=55296&&n<=57343},Ag=function(n){return Cr(n)||n>=ZY&&n<=tX||n>=XY&&n<=$me},Zme=function(n){return n>=XY&&n<=Wme},eve=function(n){return n>=ZY&&n<=Xme},tve=function(n){return Zme(n)||eve(n)},nve=function(n){return n>=Lme},$S=function(n){return n===Y_||n===Cme||n===bme},X_=function(n){return tve(n)||nve(n)||n===xme},NG=function(n){return X_(n)||Cr(n)||n===As},ive=function(n){return n>=Hme&&n<=Vme||n===Kme||n>=Gme&&n<=zme||n===qme},nc=function(n,e){return n!==ww?!1:e!==Y_},jS=function(n,e,t){return n===As?X_(e)||nc(e,t):X_(n)?!0:!!(n===ww&&nc(n,e))},mM=function(n,e,t){return n===yf||n===As?Cr(e)?!0:e===Nw&&Cr(t):Cr(n===Nw?e:n)},rve=function(n){var e=0,t=1;(n[e]===yf||n[e]===As)&&(n[e]===As&&(t=-1),e++);for(var i=[];Cr(n[e]);)i.push(n[e++]);var r=i.length?parseInt(Yn.apply(void 0,i),10):0;n[e]===Nw&&e++;for(var s=[];Cr(n[e]);)s.push(n[e++]);var a=s.length,o=a?parseInt(Yn.apply(void 0,s),10):0;(n[e]===eX||n[e]===JY)&&e++;var l=1;(n[e]===yf||n[e]===As)&&(n[e]===As&&(l=-1),e++);for(var u=[];Cr(n[e]);)u.push(n[e++]);var d=u.length?parseInt(Yn.apply(void 0,u),10):0;return t*(r+o*Math.pow(10,-a))*Math.pow(10,l*d)},sve={type:2},ave={type:3},ove={type:4},Ave={type:13},lve={type:8},uve={type:21},cve={type:9},dve={type:10},fve={type:11},hve={type:12},pve={type:14},WS={type:23},gve={type:1},mve={type:25},vve={type:24},yve={type:26},wve={type:27},Cve={type:28},bve={type:29},Bve={type:31},eL={type:32},nX=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(M1(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==eL;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case KS:return this.consumeStringToken(KS);case Bme:var t=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);if(NG(t)||nc(i,r)){var s=jS(t,i,r)?wme:yme,a=this.consumeName();return{type:5,value:a,flags:s}}break;case Eme:if(this.peekCodePoint(0)===B0)return this.consumeCodePoint(),Ave;break;case GS:return this.consumeStringToken(GS);case zS:return sve;case E0:return ave;case gM:if(this.peekCodePoint(0)===B0)return this.consumeCodePoint(),pve;break;case yf:if(mM(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Qme:return ove;case As:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(mM(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(jS(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===As&&u===Ime)return this.consumeCodePoint(),this.consumeCodePoint(),vve;break;case Nw:if(mM(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case PG:if(this.peekCodePoint(0)===gM)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===gM&&(d=this.consumeCodePoint(),d===PG))return this.consumeToken();if(d===Lo)return this.consumeToken()}break;case Ome:return yve;case kme:return wve;case Tme:if(this.peekCodePoint(0)===_me&&this.peekCodePoint(1)===As&&this.peekCodePoint(2)===As)return this.consumeCodePoint(),this.consumeCodePoint(),mve;break;case Fme:var h=this.peekCodePoint(0),g=this.peekCodePoint(1),v=this.peekCodePoint(2);if(jS(h,g,v)){var a=this.consumeName();return{type:7,value:a}}break;case Ume:return Cve;case ww:if(nc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Mme:return bve;case Pme:if(this.peekCodePoint(0)===B0)return this.consumeCodePoint(),lve;break;case Rme:return fve;case Dme:return hve;case jme:case Yme:var C=this.peekCodePoint(0),b=this.peekCodePoint(1);return C===yf&&(Ag(b)||b===qS)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case RG:if(this.peekCodePoint(0)===B0)return this.consumeCodePoint(),cve;if(this.peekCodePoint(0)===RG)return this.consumeCodePoint(),uve;break;case Nme:if(this.peekCodePoint(0)===B0)return this.consumeCodePoint(),dve;break;case Lo:return eL}return $S(e)?(this.consumeWhiteSpace(),Bve):Cr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):X_(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Yn(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Ag(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var i=!1;t===qS&&e.length<6;)e.push(t),t=this.consumeCodePoint(),i=!0;if(i){var r=parseInt(Yn.apply(void 0,e.map(function(l){return l===qS?YY:l})),16),s=parseInt(Yn.apply(void 0,e.map(function(l){return l===qS?tX:l})),16);return{type:30,start:r,end:s}}var a=parseInt(Yn.apply(void 0,e),16);if(this.peekCodePoint(0)===As&&Ag(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];Ag(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(Yn.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===zS?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===zS?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lo)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===GS||t===KS){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lo||this.peekCodePoint(0)===E0)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),WS)}for(;;){var r=this.consumeCodePoint();if(r===Lo||r===E0)return{type:22,value:Yn.apply(void 0,e)};if($S(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Lo||this.peekCodePoint(0)===E0?(this.consumeCodePoint(),{type:22,value:Yn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),WS);if(r===KS||r===GS||r===zS||ive(r))return this.consumeBadUrlRemnants(),WS;if(r===ww)if(nc(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),WS;else e.push(r)}},n.prototype.consumeWhiteSpace=function(){for(;$S(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===E0||e===Lo)return;nc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,i="";e>0;){var r=Math.min(t,e);i+=Yn.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),i},n.prototype.consumeStringToken=function(e){var t="",i=0;do{var r=this._value[i];if(r===Lo||r===void 0||r===e)return t+=this.consumeStringSlice(i),{type:0,value:t};if(r===Y_)return this._value.splice(0,i),gve;if(r===ww){var s=this._value[i+1];s!==Lo&&s!==void 0&&(s===Y_?(t+=this.consumeStringSlice(i),i=-1,this._value.shift()):nc(r,s)&&(t+=this.consumeStringSlice(i),t+=Yn(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=NB,i=this.peekCodePoint(0);for((i===yf||i===As)&&e.push(this.consumeCodePoint());Cr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(i===Nw&&Cr(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=MG;Cr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((i===eX||i===JY)&&((r===yf||r===As)&&Cr(s)||Cr(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=MG;Cr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[rve(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],i=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(jS(r,s,a)){var o=this.consumeName();return{type:15,number:t,flags:i,unit:o}}return r===Sme?(this.consumeCodePoint(),{type:16,number:t,flags:i}):{type:17,number:t,flags:i}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ag(e)){for(var t=Yn(e);Ag(this.peekCodePoint(0))&&t.length<6;)t+=Yn(this.consumeCodePoint());$S(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(t,16);return i===0||Jme(i)||i>1114111?DG:i}return e===Lo?DG:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(NG(t))e+=Yn(t);else if(nc(t,this.peekCodePoint(0)))e+=Yn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),iX=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new nX;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},i=this.consumeToken();;){if(i.type===32||Sve(i,e))return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue()),i=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?eL:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),LB=function(n){return n.type===15},dy=function(n){return n.type===17},Jt=function(n){return n.type===20},Eve=function(n){return n.type===0},tL=function(n,e){return Jt(n)&&n.value===e},rX=function(n){return n.type!==31},$v=function(n){return n.type!==31&&n.type!==4},bA=function(n){var e=[],t=[];return n.forEach(function(i){if(i.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}i.type!==31&&t.push(i)}),t.length&&e.push(t),e},Sve=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},_d=function(n){return n.type===17||n.type===15},oi=function(n){return n.type===16||_d(n)},sX=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},ir={type:17,number:0,flags:NB},kQ={type:16,number:50,flags:NB},wd={type:16,number:100,flags:NB},dw=function(n,e,t){var i=n[0],r=n[1];return[cn(i,e),cn(typeof r<"u"?r:i,t)]},cn=function(n,e){if(n.type===16)return n.number/100*e;if(LB(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},aX="deg",oX="grad",AX="rad",lX="turn",P1={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case aX:return Math.PI*e.number/180;case oX:return Math.PI/200*e.number;case AX:return e.number;case lX:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},uX=function(n){return n.type===15&&(n.unit===aX||n.unit===oX||n.unit===AX||n.unit===lX)},cX=function(n){var e=n.filter(Jt).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ir,ir];case"to top":case"bottom":return Na(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ir,wd];case"to right":case"left":return Na(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[wd,wd];case"to bottom":case"top":return Na(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[wd,ir];case"to left":case"right":return Na(270)}return 0},Na=function(n){return Math.PI*n/180},bd={name:"color",parse:function(n,e){if(e.type===18){var t=xve[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3);return Cd(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(e.value.length===4){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return Cd(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6);return Cd(parseInt(i,16),parseInt(r,16),parseInt(s,16),1)}if(e.value.length===8){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return Cd(parseInt(i,16),parseInt(r,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=eu[e.value.toUpperCase()];if(typeof o<"u")return o}return eu.TRANSPARENT}},Bd=function(n){return(255&n)===0},Si=function(n){var e=255&n,t=255&n>>8,i=255&n>>16,r=255&n>>24;return e<255?"rgba("+r+","+i+","+t+","+e/255+")":"rgb("+r+","+i+","+t+")"},Cd=function(n,e,t,i){return(n<<24|e<<16|t<<8|Math.round(i*255)<<0)>>>0},LG=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},QG=function(n,e){var t=e.filter($v);if(t.length===3){var i=t.map(LG),r=i[0],s=i[1],a=i[2];return Cd(r,s,a,1)}if(t.length===4){var o=t.map(LG),r=o[0],s=o[1],a=o[2],l=o[3];return Cd(r,s,a,l)}return 0};function vM(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var OG=function(n,e){var t=e.filter($v),i=t[0],r=t[1],s=t[2],a=t[3],o=(i.type===17?Na(i.number):P1.parse(n,i))/(Math.PI*2),l=oi(r)?r.number/100:0,u=oi(s)?s.number/100:0,d=typeof a<"u"&&oi(a)?cn(a,1):1;if(l===0)return Cd(u*255,u*255,u*255,1);var h=u<=.5?u*(l+1):u+l-u*l,g=u*2-h,v=vM(g,h,o+1/3),C=vM(g,h,o),b=vM(g,h,o-1/3);return Cd(v*255,C*255,b*255,d)},xve={hsl:OG,hsla:OG,rgb:QG,rgba:QG},Cw=function(n,e){return bd.parse(n,iX.create(e).parseComponentValue())},eu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},_ve={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(Jt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Tve={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},R1=function(n,e){var t=bd.parse(n,e[0]),i=e[1];return i&&oi(i)?{color:t,stop:i}:{color:t,stop:null}},kG=function(n,e){var t=n[0],i=n[n.length-1];t.stop===null&&(t.stop=ir),i.stop===null&&(i.stop=wd);for(var r=[],s=0,a=0;a<n.length;a++){var o=n[a].stop;if(o!==null){var l=cn(o,e);l>s?r.push(l):r.push(s),s=l}else r.push(null)}for(var u=null,a=0;a<r.length;a++){var d=r[a];if(d===null)u===null&&(u=a);else if(u!==null){for(var h=a-u,g=r[u-1],v=(d-g)/(h+1),C=1;C<=h;C++)r[u+C-1]=v*C;u=null}}return n.map(function(b,E){var x=b.color;return{color:x,stop:Math.max(Math.min(1,r[E]/e),0)}})},Ive=function(n,e,t){var i=e/2,r=t/2,s=cn(n[0],e)-i,a=r-cn(n[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},Fve=function(n,e,t){var i=typeof n=="number"?n:Ive(n,e,t),r=Math.abs(e*Math.sin(i))+Math.abs(t*Math.cos(i)),s=e/2,a=t/2,o=r/2,l=Math.sin(i-Math.PI/2)*o,u=Math.cos(i-Math.PI/2)*o;return[r,s-u,s+u,a-l,a+l]},Za=function(n,e){return Math.sqrt(n*n+e*e)},HG=function(n,e,t,i,r){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(a,o){var l=o[0],u=o[1],d=Za(t-l,i-u);return(r?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:o,optimumDistance:d}:a},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},Uve=function(n,e,t,i,r){var s=0,a=0;switch(n.size){case 0:n.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-i)),a=Math.min(Math.abs(t),Math.abs(t-r)));break;case 2:if(n.shape===0)s=a=Math.min(Za(e,t),Za(e,t-r),Za(e-i,t),Za(e-i,t-r));else if(n.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-r))/Math.min(Math.abs(e),Math.abs(e-i)),l=HG(i,r,e,t,!0),u=l[0],d=l[1];s=Za(u-e,(d-t)/o),a=o*s}break;case 1:n.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-i)),a=Math.max(Math.abs(t),Math.abs(t-r)));break;case 3:if(n.shape===0)s=a=Math.max(Za(e,t),Za(e,t-r),Za(e-i,t),Za(e-i,t-r));else if(n.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-r))/Math.max(Math.abs(e),Math.abs(e-i)),h=HG(i,r,e,t,!1),u=h[0],d=h[1];s=Za(u-e,(d-t)/o),a=o*s}break}return Array.isArray(n.size)&&(s=cn(n.size[0],i),a=n.size.length===2?cn(n.size[1],r):s),[s,a]},Mve=function(n,e){var t=Na(180),i=[];return bA(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&a.value==="to"){t=cX(r);return}else if(uX(a)){t=P1.parse(n,a);return}}var o=R1(n,r);i.push(o)}),{angle:t,stops:i,type:1}},YS=function(n,e){var t=Na(180),i=[];return bA(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=cX(r);return}else if(uX(a)){t=(P1.parse(n,a)+Na(270))%Na(360);return}}var o=R1(n,r);i.push(o)}),{angle:t,stops:i,type:1}},Pve=function(n,e){var t=Na(180),i=[],r=1,s=0,a=3,o=[];return bA(e).forEach(function(l,u){var d=l[0];if(u===0){if(Jt(d)&&d.value==="linear"){r=1;return}else if(Jt(d)&&d.value==="radial"){r=2;return}}if(d.type===18){if(d.name==="from"){var h=bd.parse(n,d.values[0]);i.push({stop:ir,color:h})}else if(d.name==="to"){var h=bd.parse(n,d.values[0]);i.push({stop:wd,color:h})}else if(d.name==="color-stop"){var g=d.values.filter($v);if(g.length===2){var h=bd.parse(n,g[1]),v=g[0];dy(v)&&i.push({stop:{type:16,number:v.number*100,flags:v.flags},color:h})}}}}),r===1?{angle:(t+Na(180))%Na(360),stops:i,type:r}:{size:a,shape:s,stops:i,position:o,type:r}},dX="closest-side",fX="farthest-side",hX="closest-corner",pX="farthest-corner",gX="circle",mX="ellipse",vX="cover",yX="contain",Rve=function(n,e){var t=0,i=3,r=[],s=[];return bA(e).forEach(function(a,o){var l=!0;if(o===0){var u=!1;l=a.reduce(function(h,g){if(u)if(Jt(g))switch(g.value){case"center":return s.push(kQ),h;case"top":case"left":return s.push(ir),h;case"right":case"bottom":return s.push(wd),h}else(oi(g)||_d(g))&&s.push(g);else if(Jt(g))switch(g.value){case gX:return t=0,!1;case mX:return t=1,!1;case"at":return u=!0,!1;case dX:return i=0,!1;case vX:case fX:return i=1,!1;case yX:case hX:return i=2,!1;case pX:return i=3,!1}else if(_d(g)||oi(g))return Array.isArray(i)||(i=[]),i.push(g),!1;return h},l)}if(l){var d=R1(n,a);r.push(d)}}),{size:i,shape:t,stops:r,position:s,type:2}},XS=function(n,e){var t=0,i=3,r=[],s=[];return bA(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(d,h){if(Jt(h))switch(h.value){case"center":return s.push(kQ),!1;case"top":case"left":return s.push(ir),!1;case"right":case"bottom":return s.push(wd),!1}else if(oi(h)||_d(h))return s.push(h),!1;return d},l):o===1&&(l=a.reduce(function(d,h){if(Jt(h))switch(h.value){case gX:return t=0,!1;case mX:return t=1,!1;case yX:case dX:return i=0,!1;case fX:return i=1,!1;case hX:return i=2,!1;case vX:case pX:return i=3,!1}else if(_d(h)||oi(h))return Array.isArray(i)||(i=[]),i.push(h),!1;return d},l)),l){var u=R1(n,a);r.push(u)}}),{size:i,shape:t,stops:r,position:s,type:2}},Dve=function(n){return n.type===1},Nve=function(n){return n.type===2},HQ={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var i=wX[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return i(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function Lve(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!wX[n.name])}var wX={"linear-gradient":Mve,"-moz-linear-gradient":YS,"-ms-linear-gradient":YS,"-o-linear-gradient":YS,"-webkit-linear-gradient":YS,"radial-gradient":Rve,"-moz-radial-gradient":XS,"-ms-radial-gradient":XS,"-o-radial-gradient":XS,"-webkit-radial-gradient":XS,"-webkit-gradient":Pve},Qve={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(i){return $v(i)&&Lve(i)}).map(function(i){return HQ.parse(n,i)})}},Ove={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(Jt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},kve={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return bA(e).map(function(t){return t.filter(oi)}).map(sX)}},Hve={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return bA(e).map(function(t){return t.filter(Jt).map(function(i){return i.value}).join(" ")}).map(Vve)}},Vve=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},zg;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(zg||(zg={}));var Kve={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return bA(e).map(function(t){return t.filter(Gve)})}},Gve=function(n){return Jt(n)||oi(n)},D1=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},zve=D1("top"),qve=D1("right"),$ve=D1("bottom"),jve=D1("left"),N1=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return sX(t.filter(oi))}}},Wve=N1("top-left"),Yve=N1("top-right"),Xve=N1("bottom-right"),Jve=N1("bottom-left"),L1=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Zve=L1("top"),eye=L1("right"),tye=L1("bottom"),nye=L1("left"),Q1=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return LB(t)?t.number:0}}},iye=Q1("top"),rye=Q1("right"),sye=Q1("bottom"),aye=Q1("left"),oye={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Aye={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},lye={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(Jt).reduce(function(t,i){return t|uye(i.value)},0)}},uye=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},cye={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},dye={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},J_;(function(n){n.NORMAL="normal",n.STRICT="strict"})(J_||(J_={}));var fye={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return J_.STRICT;case"normal":default:return J_.NORMAL}}},hye={name:"line-height",initialValue:"normal",prefix:!1,type:4},VG=function(n,e){return Jt(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:oi(n)?cn(n,e):e},pye={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:HQ.parse(n,e)}},gye={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},nL={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},O1=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},mye=O1("top"),vye=O1("right"),yye=O1("bottom"),wye=O1("left"),Cye={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(Jt).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},bye={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},k1=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Bye=k1("top"),Eye=k1("right"),Sye=k1("bottom"),xye=k1("left"),_ye={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Tye={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Iye={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&tL(e[0],"none")?[]:bA(e).map(function(t){for(var i={color:eu.TRANSPARENT,offsetX:ir,offsetY:ir,blur:ir},r=0,s=0;s<t.length;s++){var a=t[s];_d(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:i.blur=a,r++):i.color=bd.parse(n,a)}return i})}},Fye={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Uye={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=Rye[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},Mye=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Pye=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],i=e[1];e[2],e[3];var r=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,i,r,s,a,o]:null},Rye={matrix:Mye,matrix3d:Pye},KG={type:16,number:50,flags:NB},Dye=[KG,KG],Nye={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(oi);return t.length!==2?Dye:[t[0],t[1]]}},Lye={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},bw;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(bw||(bw={}));var Qye={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return bw.BREAK_ALL;case"keep-all":return bw.KEEP_ALL;case"normal":default:return bw.NORMAL}}},Oye={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(dy(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},CX={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},kye={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return dy(e)?e.number:1}},Hye={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Vye={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(Jt).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Kye={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],i=[];return e.forEach(function(r){switch(r.type){case 20:case 0:t.push(r.value);break;case 17:t.push(r.number.toString());break;case 4:i.push(t.join(" ")),t.length=0;break}}),t.length&&i.push(t.join(" ")),i.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},Gye={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},zye={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(dy(e))return e.number;if(Jt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},qye={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(Jt).map(function(t){return t.value})}},$ye={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},mi=function(n,e){return(n&e)!==0},jye={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Wye={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var i=[],r=e.filter(rX),s=0;s<r.length;s++){var a=r[s],o=r[s+1];if(a.type===20){var l=o&&dy(o)?o.number:1;i.push({counter:a.value,increment:l})}}return i}},Yye={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],i=e.filter(rX),r=0;r<i.length;r++){var s=i[r],a=i[r+1];if(Jt(s)&&s.value!=="none"){var o=a&&dy(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},Xye={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(LB).map(function(t){return CX.parse(n,t)})}},Jye={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var i=[],r=e.filter(Eve);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var a=r[s].value,o=r[s+1].value;i.push({open:a,close:o})}return i}},GG=function(n,e,t){if(!n)return"";var i=n[Math.min(e,n.length-1)];return i?t?i.open:i.close:""},Zye={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&tL(e[0],"none")?[]:bA(e).map(function(t){for(var i={color:255,offsetX:ir,offsetY:ir,blur:ir,spread:ir,inset:!1},r=0,s=0;s<t.length;s++){var a=t[s];tL(a,"inset")?i.inset=!0:_d(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:r===2?i.blur=a:i.spread=a,r++):i.color=bd.parse(n,a)}return i})}},e0e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],i=[];return e.filter(Jt).forEach(function(r){switch(r.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),t.forEach(function(r){i.indexOf(r)===-1&&i.push(r)}),i}},t0e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},n0e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return LB(e)?e.number:0}},i0e=(function(){function n(e,t){var i,r;this.animationDuration=Te(e,Xye,t.animationDuration),this.backgroundClip=Te(e,_ve,t.backgroundClip),this.backgroundColor=Te(e,Tve,t.backgroundColor),this.backgroundImage=Te(e,Qve,t.backgroundImage),this.backgroundOrigin=Te(e,Ove,t.backgroundOrigin),this.backgroundPosition=Te(e,kve,t.backgroundPosition),this.backgroundRepeat=Te(e,Hve,t.backgroundRepeat),this.backgroundSize=Te(e,Kve,t.backgroundSize),this.borderTopColor=Te(e,zve,t.borderTopColor),this.borderRightColor=Te(e,qve,t.borderRightColor),this.borderBottomColor=Te(e,$ve,t.borderBottomColor),this.borderLeftColor=Te(e,jve,t.borderLeftColor),this.borderTopLeftRadius=Te(e,Wve,t.borderTopLeftRadius),this.borderTopRightRadius=Te(e,Yve,t.borderTopRightRadius),this.borderBottomRightRadius=Te(e,Xve,t.borderBottomRightRadius),this.borderBottomLeftRadius=Te(e,Jve,t.borderBottomLeftRadius),this.borderTopStyle=Te(e,Zve,t.borderTopStyle),this.borderRightStyle=Te(e,eye,t.borderRightStyle),this.borderBottomStyle=Te(e,tye,t.borderBottomStyle),this.borderLeftStyle=Te(e,nye,t.borderLeftStyle),this.borderTopWidth=Te(e,iye,t.borderTopWidth),this.borderRightWidth=Te(e,rye,t.borderRightWidth),this.borderBottomWidth=Te(e,sye,t.borderBottomWidth),this.borderLeftWidth=Te(e,aye,t.borderLeftWidth),this.boxShadow=Te(e,Zye,t.boxShadow),this.color=Te(e,oye,t.color),this.direction=Te(e,Aye,t.direction),this.display=Te(e,lye,t.display),this.float=Te(e,cye,t.cssFloat),this.fontFamily=Te(e,Kye,t.fontFamily),this.fontSize=Te(e,Gye,t.fontSize),this.fontStyle=Te(e,$ye,t.fontStyle),this.fontVariant=Te(e,qye,t.fontVariant),this.fontWeight=Te(e,zye,t.fontWeight),this.letterSpacing=Te(e,dye,t.letterSpacing),this.lineBreak=Te(e,fye,t.lineBreak),this.lineHeight=Te(e,hye,t.lineHeight),this.listStyleImage=Te(e,pye,t.listStyleImage),this.listStylePosition=Te(e,gye,t.listStylePosition),this.listStyleType=Te(e,nL,t.listStyleType),this.marginTop=Te(e,mye,t.marginTop),this.marginRight=Te(e,vye,t.marginRight),this.marginBottom=Te(e,yye,t.marginBottom),this.marginLeft=Te(e,wye,t.marginLeft),this.opacity=Te(e,kye,t.opacity);var s=Te(e,Cye,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Te(e,bye,t.overflowWrap),this.paddingTop=Te(e,Bye,t.paddingTop),this.paddingRight=Te(e,Eye,t.paddingRight),this.paddingBottom=Te(e,Sye,t.paddingBottom),this.paddingLeft=Te(e,xye,t.paddingLeft),this.paintOrder=Te(e,e0e,t.paintOrder),this.position=Te(e,Tye,t.position),this.textAlign=Te(e,_ye,t.textAlign),this.textDecorationColor=Te(e,Hye,(i=t.textDecorationColor)!==null&&i!==void 0?i:t.color),this.textDecorationLine=Te(e,Vye,(r=t.textDecorationLine)!==null&&r!==void 0?r:t.textDecoration),this.textShadow=Te(e,Iye,t.textShadow),this.textTransform=Te(e,Fye,t.textTransform),this.transform=Te(e,Uye,t.transform),this.transformOrigin=Te(e,Nye,t.transformOrigin),this.visibility=Te(e,Lye,t.visibility),this.webkitTextStrokeColor=Te(e,t0e,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Te(e,n0e,t.webkitTextStrokeWidth),this.wordBreak=Te(e,Qye,t.wordBreak),this.zIndex=Te(e,Oye,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Bd(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return mi(this.display,4)||mi(this.display,33554432)||mi(this.display,268435456)||mi(this.display,536870912)||mi(this.display,67108864)||mi(this.display,134217728)},n})(),r0e=(function(){function n(e,t){this.content=Te(e,jye,t.content),this.quotes=Te(e,Jye,t.quotes)}return n})(),zG=(function(){function n(e,t){this.counterIncrement=Te(e,Wye,t.counterIncrement),this.counterReset=Te(e,Yye,t.counterReset)}return n})(),Te=function(n,e,t){var i=new nX,r=t!==null&&typeof t<"u"?t.toString():e.initialValue;i.write(r);var s=new iX(i.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(n,Jt(a)?a.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return P1.parse(n,s.parseComponentValue());case"color":return bd.parse(n,s.parseComponentValue());case"image":return HQ.parse(n,s.parseComponentValue());case"length":var o=s.parseComponentValue();return _d(o)?o:ir;case"length-percentage":var l=s.parseComponentValue();return oi(l)?l:ir;case"time":return CX.parse(n,s.parseComponentValue())}break}},s0e="data-html2canvas-debug",a0e=function(n){var e=n.getAttribute(s0e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},iL=function(n,e){var t=a0e(n);return t===1||e===t},BA=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,iL(t,3))debugger;this.styles=new i0e(e,window.getComputedStyle(t,null)),aL(t)&&(this.styles.animationDuration.some(function(i){return i>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=U1(this.context,t),iL(t,4)&&(this.flags|=16)}return n})(),o0e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",qG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var JS=0;JS<qG.length;JS++)fw[qG.charCodeAt(JS)]=JS;var A0e=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<t;i+=4)s=fw[n.charCodeAt(i)],a=fw[n.charCodeAt(i+1)],o=fw[n.charCodeAt(i+2)],l=fw[n.charCodeAt(i+3)],d[r++]=s<<2|a>>4,d[r++]=(a&15)<<4|o>>2,d[r++]=(o&3)<<6|l&63;return u},l0e=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},u0e=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},Xh=5,VQ=11,yM=2,c0e=VQ-Xh,bX=65536>>Xh,d0e=1<<Xh,wM=d0e-1,f0e=1024>>Xh,h0e=bX+f0e,p0e=h0e,g0e=32,m0e=p0e+g0e,v0e=65536>>VQ,y0e=1<<c0e,w0e=y0e-1,$G=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},C0e=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},b0e=function(n,e){var t=A0e(n),i=Array.isArray(t)?u0e(t):new Uint32Array(t),r=Array.isArray(t)?l0e(t):new Uint16Array(t),s=24,a=$G(r,s/2,i[4]/2),o=i[5]===2?$G(r,(s+i[4])/2):C0e(i,Math.ceil((s+i[4])/4));return new B0e(i[0],i[1],i[2],i[3],a,o)},B0e=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Xh],t=(t<<yM)+(e&wM),this.data[t];if(e<=65535)return t=this.index[bX+(e-55296>>Xh)],t=(t<<yM)+(e&wM),this.data[t];if(e<this.highStart)return t=m0e-v0e+(e>>VQ),t=this.index[t],t+=e>>Xh&w0e,t=this.index[t],t=(t<<yM)+(e&wM),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),jG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E0e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ZS=0;ZS<jG.length;ZS++)E0e[jG.charCodeAt(ZS)]=ZS;var S0e=1,CM=2,bM=3,WG=4,YG=5,x0e=7,XG=8,BM=9,EM=10,JG=11,ZG=12,ez=13,tz=14,SM=15,_0e=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},T0e=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},I0e=b0e(o0e),ma="",xM="",F0e=function(n){return I0e.get(n)},U0e=function(n,e,t){var i=t-2,r=e[i],s=e[t-1],a=e[t];if(s===CM&&a===bM)return ma;if(s===CM||s===bM||s===WG||a===CM||a===bM||a===WG)return xM;if(s===XG&&[XG,BM,JG,ZG].indexOf(a)!==-1||(s===JG||s===BM)&&(a===BM||a===EM)||(s===ZG||s===EM)&&a===EM||a===ez||a===YG||a===x0e||s===S0e)return ma;if(s===ez&&a===tz){for(;r===YG;)r=e[--i];if(r===tz)return ma}if(s===SM&&a===SM){for(var o=0;r===SM;)o++,r=e[--i];if(o%2===0)return ma}return xM},M0e=function(n){var e=_0e(n),t=e.length,i=0,r=0,s=e.map(F0e);return{next:function(){if(i>=t)return{done:!0,value:null};for(var a=ma;i<t&&(a=U0e(e,s,++i))===ma;);if(a!==ma||i===t){var o=T0e.apply(null,e.slice(r,i));return r=i,{value:o,done:!1}}return{done:!0,value:null}}}},P0e=function(n){for(var e=M0e(n),t=[],i;!(i=e.next()).done;)i.value&&t.push(i.value.slice());return t},R0e=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var i=n.createElement("boundtest");i.style.height=e+"px",i.style.display="block",n.body.appendChild(i),t.selectNode(i);var r=t.getBoundingClientRect(),s=Math.round(r.height);if(n.body.removeChild(i),s===e)return!0}}return!1},D0e=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=e.firstChild,r=M1(i.data).map(function(l){return Yn(l)}),s=0,a={},o=r.every(function(l,u){t.setStart(i,s),t.setEnd(i,s+l.length);var d=t.getBoundingClientRect();s+=l.length;var h=d.x>a.x||d.y>a.y;return a=d,u===0?!0:h});return n.body.removeChild(e),o},N0e=function(){return typeof new Image().crossOrigin<"u"},L0e=function(){return typeof new XMLHttpRequest().responseType=="string"},Q0e=function(n){var e=new Image,t=n.createElement("canvas"),i=t.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},nz=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},O0e=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,t,t);var r=new Image,s=e.toDataURL();r.src=s;var a=rL(t,t,0,0,r);return i.fillStyle="red",i.fillRect(0,0,t,t),iz(a).then(function(o){i.drawImage(o,0,0);var l=i.getImageData(0,0,t,t).data;i.fillStyle="red",i.fillRect(0,0,t,t);var u=n.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",nz(l)?iz(rL(t,t,0,0,u)):Promise.reject(!1)}).then(function(o){return i.drawImage(o,0,0),nz(i.getImageData(0,0,t,t).data)}).catch(function(){return!1})},rL=function(n,e,t,i,r){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(r),a},iz=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Ji={get SUPPORT_RANGE_BOUNDS(){var n=R0e(document);return Object.defineProperty(Ji,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=Ji.SUPPORT_RANGE_BOUNDS&&D0e(document);return Object.defineProperty(Ji,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=Q0e(document);return Object.defineProperty(Ji,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?O0e(document):Promise.resolve(!1);return Object.defineProperty(Ji,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=N0e();return Object.defineProperty(Ji,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=L0e();return Object.defineProperty(Ji,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ji,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ji,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},Bw=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),k0e=function(n,e,t,i){var r=K0e(e,t),s=[],a=0;return r.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(Ji.SUPPORT_RANGE_BOUNDS){var l=rz(i,a,o.length).getClientRects();if(l.length>1){var u=KQ(o),d=0;u.forEach(function(g){s.push(new Bw(g,ou.fromDOMRectList(n,rz(i,d+a,g.length).getClientRects()))),d+=g.length})}else s.push(new Bw(o,ou.fromDOMRectList(n,l)))}else{var h=i.splitText(o.length);s.push(new Bw(o,H0e(n,i))),i=h}else Ji.SUPPORT_RANGE_BOUNDS||(i=i.splitText(o.length));a+=o.length}),s},H0e=function(n,e){var t=e.ownerDocument;if(t){var i=t.createElement("html2canvaswrapper");i.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(i,e);var s=U1(n,i);return i.firstChild&&r.replaceChild(i.firstChild,i),s}}return ou.EMPTY},rz=function(n,e,t){var i=n.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(n,e),r.setEnd(n,e+t),r},KQ=function(n){if(Ji.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return P0e(n)},V0e=function(n,e){if(Ji.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(i){return i.segment})}return z0e(n,e)},K0e=function(n,e){return e.letterSpacing!==0?KQ(n):V0e(n,e)},G0e=[32,160,4961,65792,65793,4153,4241],z0e=function(n,e){for(var t=vme(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),i=[],r,s=function(){if(r.value){var a=r.value.slice(),o=M1(a),l="";o.forEach(function(u){G0e.indexOf(u)===-1?l+=Yn(u):(l.length&&i.push(l),i.push(Yn(u)),l="")}),l.length&&i.push(l)}};!(r=t.next()).done;)s();return i},q0e=(function(){function n(e,t,i){this.text=$0e(t.data,i.textTransform),this.textBounds=k0e(e,this.text,i,t)}return n})(),$0e=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(j0e,W0e);case 2:return n.toUpperCase();default:return n}},j0e=/(^|\s|:|-|\(|\))([a-z])/g,W0e=function(n,e,t){return n.length>0?e+t.toUpperCase():n},BX=(function(n){So(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.src=i.currentSrc||i.src,r.intrinsicWidth=i.naturalWidth,r.intrinsicHeight=i.naturalHeight,r.context.cache.addImage(r.src),r}return e})(BA),EX=(function(n){So(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i,r.intrinsicWidth=i.width,r.intrinsicHeight=i.height,r}return e})(BA),SX=(function(n){So(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=new XMLSerializer,a=U1(t,i);return i.setAttribute("width",a.width+"px"),i.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(i)),r.intrinsicWidth=i.width.baseVal.value,r.intrinsicHeight=i.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e})(BA),xX=(function(n){So(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})(BA),sL=(function(n){So(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.start=i.start,r.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,r}return e})(BA),Y0e=[{type:15,flags:0,unit:"px",number:3}],X0e=[{type:16,flags:0,number:50}],J0e=function(n){return n.width>n.height?new ou(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new ou(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},Z0e=function(n){var e=n.type===ewe?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},Z_="checkbox",eT="radio",ewe="password",sz=707406591,GQ=(function(n){So(e,n);function e(t,i){var r=n.call(this,t,i)||this;switch(r.type=i.type.toLowerCase(),r.checked=i.checked,r.value=Z0e(i),(r.type===Z_||r.type===eT)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=J0e(r.bounds)),r.type){case Z_:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Y0e;break;case eT:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=X0e;break}return r}return e})(BA),_X=(function(n){So(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=i.options[i.selectedIndex||0];return r.value=s&&s.text||"",r}return e})(BA),TX=(function(n){So(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})(BA),IX=(function(n){So(e,n);function e(t,i){var r=n.call(this,t,i)||this;r.src=i.src,r.width=parseInt(i.width,10)||0,r.height=parseInt(i.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){r.tree=UX(t,i.contentWindow.document.documentElement);var s=i.contentWindow.document.documentElement?Cw(t,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):eu.TRANSPARENT,a=i.contentWindow.document.body?Cw(t,getComputedStyle(i.contentWindow.document.body).backgroundColor):eu.TRANSPARENT;r.backgroundColor=Bd(s)?Bd(a)?r.styles.backgroundColor:a:s}}catch{}return r}return e})(BA),twe=["OL","UL","MENU"],E_=function(n,e,t,i){for(var r=e.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,MX(r)&&r.data.trim().length>0)t.textNodes.push(new q0e(n,r,t.styles));else if(Mg(r))if(NX(r)&&r.assignedNodes)r.assignedNodes().forEach(function(o){return E_(n,o,t,i)});else{var a=FX(n,r);a.styles.isVisible()&&(nwe(r,a,i)?a.flags|=4:iwe(a.styles)&&(a.flags|=2),twe.indexOf(r.tagName)!==-1&&(a.flags|=8),t.elements.push(a),r.slot,r.shadowRoot?E_(n,r.shadowRoot,a,i):!tT(r)&&!PX(r)&&!nT(r)&&E_(n,r,a,i))}},FX=function(n,e){return oL(e)?new BX(n,e):RX(e)?new EX(n,e):PX(e)?new SX(n,e):rwe(e)?new xX(n,e):swe(e)?new sL(n,e):awe(e)?new GQ(n,e):nT(e)?new _X(n,e):tT(e)?new TX(n,e):DX(e)?new IX(n,e):new BA(n,e)},UX=function(n,e){var t=FX(n,e);return t.flags|=4,E_(n,e,t,t),t},nwe=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||zQ(n)&&t.styles.isTransparent()},iwe=function(n){return n.isPositioned()||n.isFloating()},MX=function(n){return n.nodeType===Node.TEXT_NODE},Mg=function(n){return n.nodeType===Node.ELEMENT_NODE},aL=function(n){return Mg(n)&&typeof n.style<"u"&&!S_(n)},S_=function(n){return typeof n.className=="object"},rwe=function(n){return n.tagName==="LI"},swe=function(n){return n.tagName==="OL"},awe=function(n){return n.tagName==="INPUT"},owe=function(n){return n.tagName==="HTML"},PX=function(n){return n.tagName==="svg"},zQ=function(n){return n.tagName==="BODY"},RX=function(n){return n.tagName==="CANVAS"},az=function(n){return n.tagName==="VIDEO"},oL=function(n){return n.tagName==="IMG"},DX=function(n){return n.tagName==="IFRAME"},oz=function(n){return n.tagName==="STYLE"},Awe=function(n){return n.tagName==="SCRIPT"},tT=function(n){return n.tagName==="TEXTAREA"},nT=function(n){return n.tagName==="SELECT"},NX=function(n){return n.tagName==="SLOT"},Az=function(n){return n.tagName.indexOf("-")>0},lwe=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(i){return t.counters[i].pop()})},n.prototype.parse=function(e){var t=this,i=e.counterIncrement,r=e.counterReset,s=!0;i!==null&&i.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&r.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},n})(),lz={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},uz={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},uwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},cwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},lg=function(n,e,t,i,r,s){return n<e||n>t?Lw(n,r,s.length>0):i.integers.reduce(function(a,o,l){for(;n>=o;)n-=o,a+=i.values[l];return a},"")+s},LX=function(n,e,t,i){var r="";do t||n--,r=i(n)+r,n/=e;while(n*e>=e);return r},qn=function(n,e,t,i,r){var s=t-e+1;return(n<0?"-":"")+(LX(Math.abs(n),s,i,function(a){return Yn(Math.floor(a%s)+e)})+r)},af=function(n,e,t){t===void 0&&(t=". ");var i=e.length;return LX(Math.abs(n),i,!1,function(r){return e[Math.floor(r%i)]})+t},xg=1,ec=2,tc=4,hw=8,zA=function(n,e,t,i,r,s){if(n<-9999||n>9999)return Lw(n,4,r.length>0);var a=Math.abs(n),o=r;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var u=a%10;u===0&&mi(s,xg)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&mi(s,ec)||u===1&&l===1&&mi(s,tc)&&n>100||u===1&&l>1&&mi(s,hw)?o=e[u]+(l>0?t[l-1]:"")+o:u===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(n<0?i:"")+o},cz="",dz="",fz="",_M="",Lw=function(n,e,t){var i=t?". ":"",r=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=qn(n,48,57,!0,i);return o.length<4?"0"+o:o;case 4:return af(n,"",r);case 6:return lg(n,1,3999,lz,3,i).toLowerCase();case 7:return lg(n,1,3999,lz,3,i);case 8:return qn(n,945,969,!1,i);case 9:return qn(n,97,122,!1,i);case 10:return qn(n,65,90,!1,i);case 11:return qn(n,1632,1641,!0,i);case 12:case 49:return lg(n,1,9999,uz,3,i);case 35:return lg(n,1,9999,uz,3,i).toLowerCase();case 13:return qn(n,2534,2543,!0,i);case 14:case 30:return qn(n,6112,6121,!0,i);case 15:return af(n,"",r);case 16:return af(n,"",r);case 17:case 48:return zA(n,"",cz,"",r,ec|tc|hw);case 47:return zA(n,"",dz,"",r,xg|ec|tc|hw);case 42:return zA(n,"",cz,"",r,ec|tc|hw);case 41:return zA(n,"",dz,"",r,xg|ec|tc|hw);case 26:return zA(n,"","",fz,r,0);case 25:return zA(n,"","",fz,r,xg|ec|tc);case 31:return zA(n,"","",_M,s,xg|ec|tc);case 33:return zA(n,"","",_M,s,0);case 32:return zA(n,"","",_M,s,xg|ec|tc);case 18:return qn(n,2406,2415,!0,i);case 20:return lg(n,1,19999,cwe,3,i);case 21:return qn(n,2790,2799,!0,i);case 22:return qn(n,2662,2671,!0,i);case 22:return lg(n,1,10999,uwe,3,i);case 23:return af(n,"");case 24:return af(n,"");case 27:return qn(n,3302,3311,!0,i);case 28:return af(n,"",r);case 29:return af(n,"",r);case 34:return qn(n,3792,3801,!0,i);case 37:return qn(n,6160,6169,!0,i);case 38:return qn(n,4160,4169,!0,i);case 39:return qn(n,2918,2927,!0,i);case 40:return qn(n,1776,1785,!0,i);case 43:return qn(n,3046,3055,!0,i);case 44:return qn(n,3174,3183,!0,i);case 45:return qn(n,3664,3673,!0,i);case 46:return qn(n,3872,3881,!0,i);case 3:default:return qn(n,48,57,!0,i)}},QX="data-html2canvas-ignore",hz=(function(){function n(e,t,i){if(this.context=e,this.options=i,this.scrolledElements=[],this.referenceElement=t,this.counters=new lwe,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var i=this,r=dwe(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=r.contentWindow,l=o.document,u=pwe(r).then(function(){return Pr(i,void 0,void 0,function(){var d,h;return vr(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(ywe),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,hwe(l)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return r})]:[2,r]}})})});return l.open(),l.write(mwe(document.doctype)+"<html></html>"),vwe(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},n.prototype.createElementClone=function(e){if(iL(e,2))debugger;if(RX(e))return this.createCanvasClone(e);if(az(e))return this.createVideoClone(e);if(oz(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return oL(t)&&(oL(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),Az(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return TM(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var i=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),r=e.cloneNode(!1);return r.textContent=i,r}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var i=e.ownerDocument.createElement("img");try{return i.src=e.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var i=t.getContext("2d");try{return i&&(i.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||i.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},n.prototype.appendChildNode=function(e,t,i){(!Mg(t)||!Awe(t)&&!t.hasAttribute(QX)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Mg(t)||!oz(t))&&e.appendChild(this.cloneNode(t,i))},n.prototype.cloneChildNodes=function(e,t,i){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Mg(s)&&NX(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return r.appendChildNode(t,o,i)})}else this.appendChildNode(t,s,i)},n.prototype.cloneNode=function(e,t){if(MX(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var i=e.ownerDocument.defaultView;if(i&&Mg(e)&&(aL(e)||S_(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=i.getComputedStyle(e),a=i.getComputedStyle(e,":before"),o=i.getComputedStyle(e,":after");this.referenceElement===e&&aL(r)&&(this.clonedReferenceElement=r),zQ(r)&&bwe(r);var l=this.counters.parse(new zG(this.context,s)),u=this.resolvePseudoContent(e,r,a,Ew.BEFORE);Az(e)&&(t=!0),az(e)||this.cloneChildNodes(e,r,t),u&&r.insertBefore(u,r.firstChild);var d=this.resolvePseudoContent(e,r,o,Ew.AFTER);return d&&r.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||S_(e))&&!DX(e)||t)&&TM(s,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(tT(e)||nT(e))&&(tT(r)||nT(r))&&(r.value=e.value),r}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,i,r){var s=this;if(i){var a=i.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||i.display==="none")){this.counters.parse(new zG(this.context,i));var l=new r0e(this.context,i),u=o.createElement("html2canvaspseudoelement");TM(i,u),l.content.forEach(function(h){if(h.type===0)u.appendChild(o.createTextNode(h.value));else if(h.type===22){var g=o.createElement("img");g.src=h.value,g.style.opacity="1",u.appendChild(g)}else if(h.type===18){if(h.name==="attr"){var v=h.values.filter(Jt);v.length&&u.appendChild(o.createTextNode(e.getAttribute(v[0].value)||""))}else if(h.name==="counter"){var C=h.values.filter($v),b=C[0],E=C[1];if(b&&Jt(b)){var x=s.counters.getCounterValue(b.value),I=E&&Jt(E)?nL.parse(s.context,E.value):3;u.appendChild(o.createTextNode(Lw(x,I,!1)))}}else if(h.name==="counters"){var T=h.values.filter($v),b=T[0],R=T[1],E=T[2];if(b&&Jt(b)){var M=s.counters.getCounterValues(b.value),D=E&&Jt(E)?nL.parse(s.context,E.value):3,L=R&&R.type===0?R.value:"",H=M.map(function(V){return Lw(V,D,!1)}).join(L);u.appendChild(o.createTextNode(H))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(o.createTextNode(GG(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(GG(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(h.value))}}),u.className=AL+" "+lL;var d=r===Ew.BEFORE?" "+AL:" "+lL;return S_(t)?t.className.baseValue+=d:t.className+=d,u}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),Ew;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(Ew||(Ew={}));var dwe=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(QX,"true"),n.body.appendChild(t),t},fwe=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},hwe=function(n){return Promise.all([].slice.call(n.images,0).map(fwe))},pwe=function(n){return new Promise(function(e,t){var i=n.contentWindow;if(!i)return t("No window assigned for iframe");var r=i.document;i.onload=n.onload=function(){i.onload=n.onload=null;var s=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},gwe=["all","d","content"],TM=function(n,e){for(var t=n.length-1;t>=0;t--){var i=n.item(t);gwe.indexOf(i)===-1&&e.style.setProperty(i,n.getPropertyValue(i))}return e},mwe=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},vwe=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},ywe=function(n){var e=n[0],t=n[1],i=n[2];e.scrollLeft=t,e.scrollTop=i},wwe=":before",Cwe=":after",AL="___html2canvas___pseudoelement_before",lL="___html2canvas___pseudoelement_after",pz=`{
    content: "" !important;
    display: none !important;
}`,bwe=function(n){Bwe(n,"."+AL+wwe+pz+`
         .`+lL+Cwe+pz)},Bwe=function(n,e){var t=n.ownerDocument;if(t){var i=t.createElement("style");i.textContent=e,n.appendChild(i)}},OX=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),Ewe=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(FM(e)||Twe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return Pr(this,void 0,void 0,function(){var t,i,r,s,a=this;return vr(this,function(o){switch(o.label){case 0:return t=OX.isSameOrigin(e),i=!IM(e)&&this._options.useCORS===!0&&Ji.SUPPORT_CORS_IMAGES&&!t,r=!IM(e)&&!t&&!FM(e)&&typeof this._options.proxy=="string"&&Ji.SUPPORT_CORS_XHR&&!i,!t&&this._options.allowTaint===!1&&!IM(e)&&!FM(e)&&!r&&!i?[2]:(s=e,r?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,(Iwe(s)||i)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,a){var o=Ji.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(g){return a(g)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+r+" with status code "+l.status)},l.onerror=a;var u=i.indexOf("?")>-1?"&":"?";if(l.open("GET",""+i+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var d=t._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+r)}}l.send()})},n})(),Swe=/^data:image\/svg\+xml/i,xwe=/^data:image\/.*;base64,/i,_we=/^data:image\/.*/i,Twe=function(n){return Ji.SUPPORT_SVG_DRAWING||!Fwe(n)},IM=function(n){return _we.test(n)},Iwe=function(n){return xwe.test(n)},FM=function(n){return n.substr(0,4)==="blob"},Fwe=function(n){return n.substr(-3).toLowerCase()==="svg"||Swe.test(n)},_e=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),ug=function(n,e,t){return new _e(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},ex=(function(){function n(e,t,i,r){this.type=1,this.start=e,this.startControl=t,this.endControl=i,this.end=r}return n.prototype.subdivide=function(e,t){var i=ug(this.start,this.startControl,e),r=ug(this.startControl,this.endControl,e),s=ug(this.endControl,this.end,e),a=ug(i,r,e),o=ug(r,s,e),l=ug(a,o,e);return t?new n(this.start,i,a,l):new n(l,o,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),Ra=function(n){return n.type===1},Uwe=(function(){function n(e){var t=e.styles,i=e.bounds,r=dw(t.borderTopLeftRadius,i.width,i.height),s=r[0],a=r[1],o=dw(t.borderTopRightRadius,i.width,i.height),l=o[0],u=o[1],d=dw(t.borderBottomRightRadius,i.width,i.height),h=d[0],g=d[1],v=dw(t.borderBottomLeftRadius,i.width,i.height),C=v[0],b=v[1],E=[];E.push((s+l)/i.width),E.push((C+h)/i.width),E.push((a+b)/i.height),E.push((u+g)/i.height);var x=Math.max.apply(Math,E);x>1&&(s/=x,a/=x,l/=x,u/=x,h/=x,g/=x,C/=x,b/=x);var I=i.width-l,T=i.height-g,R=i.width-h,M=i.height-b,D=t.borderTopWidth,L=t.borderRightWidth,H=t.borderBottomWidth,O=t.borderLeftWidth,K=cn(t.paddingTop,e.bounds.width),V=cn(t.paddingRight,e.bounds.width),$=cn(t.paddingBottom,e.bounds.width),ne=cn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?bn(i.left+O/3,i.top+D/3,s-O/3,a-D/3,Mt.TOP_LEFT):new _e(i.left+O/3,i.top+D/3),this.topRightBorderDoubleOuterBox=s>0||a>0?bn(i.left+I,i.top+D/3,l-L/3,u-D/3,Mt.TOP_RIGHT):new _e(i.left+i.width-L/3,i.top+D/3),this.bottomRightBorderDoubleOuterBox=h>0||g>0?bn(i.left+R,i.top+T,h-L/3,g-H/3,Mt.BOTTOM_RIGHT):new _e(i.left+i.width-L/3,i.top+i.height-H/3),this.bottomLeftBorderDoubleOuterBox=C>0||b>0?bn(i.left+O/3,i.top+M,C-O/3,b-H/3,Mt.BOTTOM_LEFT):new _e(i.left+O/3,i.top+i.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?bn(i.left+O*2/3,i.top+D*2/3,s-O*2/3,a-D*2/3,Mt.TOP_LEFT):new _e(i.left+O*2/3,i.top+D*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?bn(i.left+I,i.top+D*2/3,l-L*2/3,u-D*2/3,Mt.TOP_RIGHT):new _e(i.left+i.width-L*2/3,i.top+D*2/3),this.bottomRightBorderDoubleInnerBox=h>0||g>0?bn(i.left+R,i.top+T,h-L*2/3,g-H*2/3,Mt.BOTTOM_RIGHT):new _e(i.left+i.width-L*2/3,i.top+i.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=C>0||b>0?bn(i.left+O*2/3,i.top+M,C-O*2/3,b-H*2/3,Mt.BOTTOM_LEFT):new _e(i.left+O*2/3,i.top+i.height-H*2/3),this.topLeftBorderStroke=s>0||a>0?bn(i.left+O/2,i.top+D/2,s-O/2,a-D/2,Mt.TOP_LEFT):new _e(i.left+O/2,i.top+D/2),this.topRightBorderStroke=s>0||a>0?bn(i.left+I,i.top+D/2,l-L/2,u-D/2,Mt.TOP_RIGHT):new _e(i.left+i.width-L/2,i.top+D/2),this.bottomRightBorderStroke=h>0||g>0?bn(i.left+R,i.top+T,h-L/2,g-H/2,Mt.BOTTOM_RIGHT):new _e(i.left+i.width-L/2,i.top+i.height-H/2),this.bottomLeftBorderStroke=C>0||b>0?bn(i.left+O/2,i.top+M,C-O/2,b-H/2,Mt.BOTTOM_LEFT):new _e(i.left+O/2,i.top+i.height-H/2),this.topLeftBorderBox=s>0||a>0?bn(i.left,i.top,s,a,Mt.TOP_LEFT):new _e(i.left,i.top),this.topRightBorderBox=l>0||u>0?bn(i.left+I,i.top,l,u,Mt.TOP_RIGHT):new _e(i.left+i.width,i.top),this.bottomRightBorderBox=h>0||g>0?bn(i.left+R,i.top+T,h,g,Mt.BOTTOM_RIGHT):new _e(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=C>0||b>0?bn(i.left,i.top+M,C,b,Mt.BOTTOM_LEFT):new _e(i.left,i.top+i.height),this.topLeftPaddingBox=s>0||a>0?bn(i.left+O,i.top+D,Math.max(0,s-O),Math.max(0,a-D),Mt.TOP_LEFT):new _e(i.left+O,i.top+D),this.topRightPaddingBox=l>0||u>0?bn(i.left+Math.min(I,i.width-L),i.top+D,I>i.width+L?0:Math.max(0,l-L),Math.max(0,u-D),Mt.TOP_RIGHT):new _e(i.left+i.width-L,i.top+D),this.bottomRightPaddingBox=h>0||g>0?bn(i.left+Math.min(R,i.width-O),i.top+Math.min(T,i.height-H),Math.max(0,h-L),Math.max(0,g-H),Mt.BOTTOM_RIGHT):new _e(i.left+i.width-L,i.top+i.height-H),this.bottomLeftPaddingBox=C>0||b>0?bn(i.left+O,i.top+Math.min(M,i.height-H),Math.max(0,C-O),Math.max(0,b-H),Mt.BOTTOM_LEFT):new _e(i.left+O,i.top+i.height-H),this.topLeftContentBox=s>0||a>0?bn(i.left+O+ne,i.top+D+K,Math.max(0,s-(O+ne)),Math.max(0,a-(D+K)),Mt.TOP_LEFT):new _e(i.left+O+ne,i.top+D+K),this.topRightContentBox=l>0||u>0?bn(i.left+Math.min(I,i.width+O+ne),i.top+D+K,I>i.width+O+ne?0:l-O+ne,u-(D+K),Mt.TOP_RIGHT):new _e(i.left+i.width-(L+V),i.top+D+K),this.bottomRightContentBox=h>0||g>0?bn(i.left+Math.min(R,i.width-(O+ne)),i.top+Math.min(T,i.height+D+K),Math.max(0,h-(L+V)),g-(H+$),Mt.BOTTOM_RIGHT):new _e(i.left+i.width-(L+V),i.top+i.height-(H+$)),this.bottomLeftContentBox=C>0||b>0?bn(i.left+O+ne,i.top+M,Math.max(0,C-(O+ne)),b-(H+$),Mt.BOTTOM_LEFT):new _e(i.left+O+ne,i.top+i.height-(H+$))}return n})(),Mt;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Mt||(Mt={}));var bn=function(n,e,t,i,r){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=i*s,l=n+t,u=e+i;switch(r){case Mt.TOP_LEFT:return new ex(new _e(n,u),new _e(n,u-o),new _e(l-a,e),new _e(l,e));case Mt.TOP_RIGHT:return new ex(new _e(n,e),new _e(n+a,e),new _e(l,u-o),new _e(l,u));case Mt.BOTTOM_RIGHT:return new ex(new _e(l,e),new _e(l,e+o),new _e(n+a,u),new _e(n,u));case Mt.BOTTOM_LEFT:default:return new ex(new _e(l,u),new _e(l-a,u),new _e(n,e+o),new _e(n,e))}},iT=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},Mwe=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},rT=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},Pwe=(function(){function n(e,t,i){this.offsetX=e,this.offsetY=t,this.matrix=i,this.type=0,this.target=6}return n})(),tx=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),Rwe=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),Dwe=function(n){return n.type===0},kX=function(n){return n.type===1},Nwe=function(n){return n.type===2},gz=function(n,e){return n.length===e.length?n.some(function(t,i){return t===e[i]}):!1},Lwe=function(n,e,t,i,r){return n.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+i,t);case 2:return s.add(e+i,t+r);case 3:return s.add(e,t+r)}return s})},HX=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),VX=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Uwe(this.container),this.container.styles.opacity<1&&this.effects.push(new Rwe(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Pwe(i,r,s))}if(this.container.styles.overflowX!==0){var a=iT(this.curves),o=rT(this.curves);gz(a,o)?this.effects.push(new tx(a,6)):(this.effects.push(new tx(a,2)),this.effects.push(new tx(o,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,r=this.effects.slice(0);i;){var s=i.effects.filter(function(l){return!kX(l)});if(t||i.container.styles.position!==0||!i.parent){if(r.unshift.apply(r,s),t=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var a=iT(i.curves),o=rT(i.curves);gz(a,o)||r.unshift(new tx(o,6))}}else r.unshift.apply(r,s);i=i.parent}return r.filter(function(l){return mi(l.target,e)})},n})(),uL=function(n,e,t,i){n.container.elements.forEach(function(r){var s=mi(r.flags,4),a=mi(r.flags,2),o=new VX(r,n);mi(r.styles.display,2048)&&i.push(o);var l=mi(r.flags,8)?[]:i;if(s||a){var u=s||r.styles.isPositioned()?t:e,d=new HX(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var h=r.styles.zIndex.order;if(h<0){var g=0;u.negativeZIndex.some(function(C,b){return h>C.element.container.styles.zIndex.order?(g=b,!1):g>0}),u.negativeZIndex.splice(g,0,d)}else if(h>0){var v=0;u.positiveZIndex.some(function(C,b){return h>=C.element.container.styles.zIndex.order?(v=b+1,!1):v>0}),u.positiveZIndex.splice(v,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else r.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);uL(o,d,s?d:t,l)}else r.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),uL(o,e,t,l);mi(r.flags,8)&&KX(r,l)})},KX=function(n,e){for(var t=n instanceof sL?n.start:1,i=n instanceof sL?n.reversed:!1,r=0;r<e.length;r++){var s=e[r];s.container instanceof xX&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=Lw(t,s.container.styles.listStyleType,!0),t+=i?-1:1}},Qwe=function(n){var e=new VX(n,null),t=new HX(e),i=[];return uL(e,t,t,i),KX(e.container,i),t},mz=function(n,e){switch(e){case 0:return La(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return La(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return La(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return La(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},Owe=function(n,e){switch(e){case 0:return La(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return La(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return La(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return La(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},kwe=function(n,e){switch(e){case 0:return La(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return La(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return La(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return La(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},Hwe=function(n,e){switch(e){case 0:return nx(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return nx(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return nx(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return nx(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},nx=function(n,e){var t=[];return Ra(n)?t.push(n.subdivide(.5,!1)):t.push(n),Ra(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},La=function(n,e,t,i){var r=[];return Ra(n)?r.push(n.subdivide(.5,!1)):r.push(n),Ra(t)?r.push(t.subdivide(.5,!0)):r.push(t),Ra(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),Ra(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},GX=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},sT=function(n){var e=n.styles,t=n.bounds,i=cn(e.paddingLeft,t.width),r=cn(e.paddingRight,t.width),s=cn(e.paddingTop,t.width),a=cn(e.paddingBottom,t.width);return t.add(i+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+r),-(e.borderTopWidth+e.borderBottomWidth+s+a))},Vwe=function(n,e){return n===0?e.bounds:n===2?sT(e):GX(e)},Kwe=function(n,e){return n===0?e.bounds:n===2?sT(e):GX(e)},UM=function(n,e,t){var i=Vwe(_g(n.styles.backgroundOrigin,e),n),r=Kwe(_g(n.styles.backgroundClip,e),n),s=Gwe(_g(n.styles.backgroundSize,e),t,i),a=s[0],o=s[1],l=dw(_g(n.styles.backgroundPosition,e),i.width-a,i.height-o),u=zwe(_g(n.styles.backgroundRepeat,e),l,s,i,r),d=Math.round(i.left+l[0]),h=Math.round(i.top+l[1]);return[u,d,h,a,o]},cg=function(n){return Jt(n)&&n.value===zg.AUTO},ix=function(n){return typeof n=="number"},Gwe=function(n,e,t){var i=e[0],r=e[1],s=e[2],a=n[0],o=n[1];if(!a)return[0,0];if(oi(a)&&o&&oi(o))return[cn(a,t.width),cn(o,t.height)];var l=ix(s);if(Jt(a)&&(a.value===zg.CONTAIN||a.value===zg.COVER)){if(ix(s)){var u=t.width/t.height;return u<s!=(a.value===zg.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var d=ix(i),h=ix(r),g=d||h;if(cg(a)&&(!o||cg(o))){if(d&&h)return[i,r];if(!l&&!g)return[t.width,t.height];if(g&&l){var v=d?i:r*s,C=h?r:i/s;return[v,C]}var b=d?i:t.width,E=h?r:t.height;return[b,E]}if(l){var x=0,I=0;return oi(a)?x=cn(a,t.width):oi(o)&&(I=cn(o,t.height)),cg(a)?x=I*s:(!o||cg(o))&&(I=x/s),[x,I]}var T=null,R=null;if(oi(a)?T=cn(a,t.width):o&&oi(o)&&(R=cn(o,t.height)),T!==null&&(!o||cg(o))&&(R=d&&h?T/i*r:t.height),R!==null&&cg(a)&&(T=d&&h?R/r*i:t.width),T!==null&&R!==null)return[T,R];throw new Error("Unable to calculate background-size for element")},_g=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},zwe=function(n,e,t,i,r){var s=e[0],a=e[1],o=t[0],l=t[1];switch(n){case 2:return[new _e(Math.round(i.left),Math.round(i.top+a)),new _e(Math.round(i.left+i.width),Math.round(i.top+a)),new _e(Math.round(i.left+i.width),Math.round(l+i.top+a)),new _e(Math.round(i.left),Math.round(l+i.top+a))];case 3:return[new _e(Math.round(i.left+s),Math.round(i.top)),new _e(Math.round(i.left+s+o),Math.round(i.top)),new _e(Math.round(i.left+s+o),Math.round(i.height+i.top)),new _e(Math.round(i.left+s),Math.round(i.height+i.top))];case 1:return[new _e(Math.round(i.left+s),Math.round(i.top+a)),new _e(Math.round(i.left+s+o),Math.round(i.top+a)),new _e(Math.round(i.left+s+o),Math.round(i.top+a+l)),new _e(Math.round(i.left+s),Math.round(i.top+a+l))];default:return[new _e(Math.round(r.left),Math.round(r.top)),new _e(Math.round(r.left+r.width),Math.round(r.top)),new _e(Math.round(r.left+r.width),Math.round(r.height+r.top)),new _e(Math.round(r.left),Math.round(r.height+r.top))]}},qwe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",vz="Hidden Text",$we=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var i=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",a.appendChild(i),r.src=qwe,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(vz)),i.appendChild(s),i.appendChild(r);var o=r.offsetTop-s.offsetTop+2;i.removeChild(s),i.appendChild(this._document.createTextNode(vz)),i.style.lineHeight="normal",r.style.verticalAlign="super";var l=r.offsetTop-i.offsetTop+2;return a.removeChild(i),{baseline:o,middle:l}},n.prototype.getMetrics=function(e,t){var i=e+" "+t;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(e,t)),this._data[i]},n})(),zX=(function(){function n(e,t){this.context=e,this.options=t}return n})(),jwe=1e4,Wwe=(function(n){So(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r._activeEffects=[],r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),i.canvas||(r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px"),r.fontMetrics=new $we(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),r}return e.prototype.applyEffects=function(t){for(var i=this;this._activeEffects.length;)this.popEffect();t.forEach(function(r){return i.applyEffect(r)})},e.prototype.applyEffect=function(t){this.ctx.save(),Nwe(t)&&(this.ctx.globalAlpha=t.opacity),Dwe(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),kX(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Pr(this,void 0,void 0,function(){var i;return vr(this,function(r){switch(r.label){case 0:return i=t.element.container.styles,i.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Pr(this,void 0,void 0,function(){return vr(this,function(i){switch(i.label){case 0:if(mi(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,i,r){var s=this;if(i===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+r);else{var a=KQ(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+r),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var i=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),r=eCe(t.fontFamily).join(", "),s=LB(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,i,t.fontWeight,s,r].join(" "),r,s]},e.prototype.renderTextNode=function(t,i){return Pr(this,void 0,void 0,function(){var r,s,a,o,l,u,d,h,g=this;return vr(this,function(v){return r=this.createFontStyle(i),s=r[0],a=r[1],o=r[2],this.ctx.font=s,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),u=l.baseline,d=l.middle,h=i.paintOrder,t.textBounds.forEach(function(C){h.forEach(function(b){switch(b){case 0:g.ctx.fillStyle=Si(i.color),g.renderTextWithLetterSpacing(C,i.letterSpacing,u);var E=i.textShadow;E.length&&C.text.trim().length&&(E.slice(0).reverse().forEach(function(x){g.ctx.shadowColor=Si(x.color),g.ctx.shadowOffsetX=x.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=x.offsetY.number*g.options.scale,g.ctx.shadowBlur=x.blur.number,g.renderTextWithLetterSpacing(C,i.letterSpacing,u)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),i.textDecorationLine.length&&(g.ctx.fillStyle=Si(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(x){switch(x){case 1:g.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top+u),C.bounds.width,1);break;case 2:g.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top),C.bounds.width,1);break;case 3:g.ctx.fillRect(C.bounds.left,Math.ceil(C.bounds.top+d),C.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&C.text.trim().length&&(g.ctx.strokeStyle=Si(i.webkitTextStrokeColor),g.ctx.lineWidth=i.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(C.text,C.bounds.left,C.bounds.top+u)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,i,r){if(r&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=sT(t),a=rT(i);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Pr(this,void 0,void 0,function(){var i,r,s,a,o,l,I,I,u,d,h,g,R,v,C,M,b,E,x,I,T,R,M;return vr(this,function(D){switch(D.label){case 0:this.applyEffects(t.getEffects(4)),i=t.container,r=t.curves,s=i.styles,a=0,o=i.textNodes,D.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:D.sent(),D.label=3;case 3:return a++,[3,1];case 4:if(!(i instanceof BX))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return I=D.sent(),this.renderReplacedElement(i,r,I),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof EX&&this.renderReplacedElement(i,r,i.canvas),!(i instanceof SX))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return I=D.sent(),this.renderReplacedElement(i,r,I),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof IX&&i.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,u.render(i.tree)]):[3,14];case 13:d=D.sent(),i.width&&i.height&&this.ctx.drawImage(d,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),D.label=14;case 14:if(i instanceof GQ&&(h=Math.min(i.bounds.width,i.bounds.height),i.type===Z_?i.checked&&(this.ctx.save(),this.path([new _e(i.bounds.left+h*.39363,i.bounds.top+h*.79),new _e(i.bounds.left+h*.16,i.bounds.top+h*.5549),new _e(i.bounds.left+h*.27347,i.bounds.top+h*.44071),new _e(i.bounds.left+h*.39694,i.bounds.top+h*.5649),new _e(i.bounds.left+h*.72983,i.bounds.top+h*.23),new _e(i.bounds.left+h*.84,i.bounds.top+h*.34085),new _e(i.bounds.left+h*.39363,i.bounds.top+h*.79)]),this.ctx.fillStyle=Si(sz),this.ctx.fill(),this.ctx.restore()):i.type===eT&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+h/2,i.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Si(sz),this.ctx.fill(),this.ctx.restore())),Ywe(i)&&i.value.length){switch(g=this.createFontStyle(s),R=g[0],v=g[1],C=this.fontMetrics.getMetrics(R,v).baseline,this.ctx.font=R,this.ctx.fillStyle=Si(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Jwe(i.styles.textAlign),M=sT(i),b=0,i.styles.textAlign){case 1:b+=M.width/2;break;case 2:b+=M.width;break}E=M.add(b,0,0,-M.height/2+1),this.ctx.save(),this.path([new _e(M.left,M.top),new _e(M.left+M.width,M.top),new _e(M.left+M.width,M.top+M.height),new _e(M.left,M.top+M.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Bw(i.value,E),s.letterSpacing,C),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!mi(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(x=i.styles.listStyleImage,x.type!==0)return[3,18];I=void 0,T=x.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return I=D.sent(),this.ctx.drawImage(I,i.bounds.left-(I.width+10),i.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:t.listValue&&i.styles.listStyleType!==-1&&(R=this.createFontStyle(s)[0],this.ctx.font=R,this.ctx.fillStyle=Si(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",M=new ou(i.bounds.left,i.bounds.top+cn(i.styles.paddingTop,i.bounds.width),i.bounds.width,VG(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Bw(t.listValue,M),s.letterSpacing,VG(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Pr(this,void 0,void 0,function(){var i,r,x,s,a,x,o,l,x,u,d,x,h,g,x,v,C,x,b,E,x;return vr(this,function(I){switch(I.label){case 0:if(mi(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:I.sent(),i=0,r=t.negativeZIndex,I.label=2;case 2:return i<r.length?(x=r[i],[4,this.renderStack(x)]):[3,5];case 3:I.sent(),I.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:I.sent(),s=0,a=t.nonInlineLevel,I.label=7;case 7:return s<a.length?(x=a[s],[4,this.renderNode(x)]):[3,10];case 8:I.sent(),I.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,I.label=11;case 11:return o<l.length?(x=l[o],[4,this.renderStack(x)]):[3,14];case 12:I.sent(),I.label=13;case 13:return o++,[3,11];case 14:u=0,d=t.nonPositionedInlineLevel,I.label=15;case 15:return u<d.length?(x=d[u],[4,this.renderStack(x)]):[3,18];case 16:I.sent(),I.label=17;case 17:return u++,[3,15];case 18:h=0,g=t.inlineLevel,I.label=19;case 19:return h<g.length?(x=g[h],[4,this.renderNode(x)]):[3,22];case 20:I.sent(),I.label=21;case 21:return h++,[3,19];case 22:v=0,C=t.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return v<C.length?(x=C[v],[4,this.renderStack(x)]):[3,26];case 24:I.sent(),I.label=25;case 25:return v++,[3,23];case 26:b=0,E=t.positiveZIndex,I.label=27;case 27:return b<E.length?(x=E[b],[4,this.renderStack(x)]):[3,30];case 28:I.sent(),I.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var i=this;t.forEach(function(r,s){var a=Ra(r)?r.start:r;s===0?i.ctx.moveTo(a.x,a.y):i.ctx.lineTo(a.x,a.y),Ra(r)&&i.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(t,i,r,s){this.path(t),this.ctx.fillStyle=i,this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},e.prototype.resizeImage=function(t,i,r){var s;if(t.width===i&&t.height===r)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,i),o.height=Math.max(1,r);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,i,r),o},e.prototype.renderBackgroundImage=function(t){return Pr(this,void 0,void 0,function(){var i,r,s,a,o,l;return vr(this,function(u){switch(u.label){case 0:i=t.styles.backgroundImage.length-1,r=function(d){var h,g,v,K,G,z,ne,oe,H,C,K,G,z,ne,oe,b,E,x,I,T,R,M,D,L,H,O,K,V,$,ne,oe,pe,G,z,ee,Z,me,q,Y,X,ce,ye;return vr(this,function(Ce){switch(Ce.label){case 0:if(d.type!==0)return[3,5];h=void 0,g=d.url,Ce.label=1;case 1:return Ce.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return h=Ce.sent(),[3,4];case 3:return Ce.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return h&&(v=UM(t,i,[h.width,h.height,h.width/h.height]),K=v[0],G=v[1],z=v[2],ne=v[3],oe=v[4],H=s.ctx.createPattern(s.resizeImage(h,ne,oe),"repeat"),s.renderRepeat(K,H,G,z)),[3,6];case 5:Dve(d)?(C=UM(t,i,[null,null,null]),K=C[0],G=C[1],z=C[2],ne=C[3],oe=C[4],b=Fve(d.angle,ne,oe),E=b[0],x=b[1],I=b[2],T=b[3],R=b[4],M=document.createElement("canvas"),M.width=ne,M.height=oe,D=M.getContext("2d"),L=D.createLinearGradient(x,T,I,R),kG(d.stops,E).forEach(function(ve){return L.addColorStop(ve.stop,Si(ve.color))}),D.fillStyle=L,D.fillRect(0,0,ne,oe),ne>0&&oe>0&&(H=s.ctx.createPattern(M,"repeat"),s.renderRepeat(K,H,G,z))):Nve(d)&&(O=UM(t,i,[null,null,null]),K=O[0],V=O[1],$=O[2],ne=O[3],oe=O[4],pe=d.position.length===0?[kQ]:d.position,G=cn(pe[0],ne),z=cn(pe[pe.length-1],oe),ee=Uve(d,G,z,ne,oe),Z=ee[0],me=ee[1],Z>0&&me>0&&(q=s.ctx.createRadialGradient(V+G,$+z,0,V+G,$+z,Z),kG(d.stops,Z*2).forEach(function(ve){return q.addColorStop(ve.stop,Si(ve.color))}),s.path(K),s.ctx.fillStyle=q,Z!==me?(Y=t.bounds.left+.5*t.bounds.width,X=t.bounds.top+.5*t.bounds.height,ce=me/Z,ye=1/ce,s.ctx.save(),s.ctx.translate(Y,X),s.ctx.transform(1,0,0,ce,0,0),s.ctx.translate(-Y,-X),s.ctx.fillRect(V,ye*($-X)+X,ne,oe*ye),s.ctx.restore()):s.ctx.fill())),Ce.label=6;case 6:return i--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(l=o[a],[5,r(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,i,r){return Pr(this,void 0,void 0,function(){return vr(this,function(s){return this.path(mz(r,i)),this.ctx.fillStyle=Si(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,i,r,s){return Pr(this,void 0,void 0,function(){var a,o;return vr(this,function(l){switch(l.label){case 0:return i<3?[4,this.renderSolidBorder(t,r,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=Owe(s,r),this.path(a),this.ctx.fillStyle=Si(t),this.ctx.fill(),o=kwe(s,r),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Pr(this,void 0,void 0,function(){var i,r,s,a,o,l,u,d,h=this;return vr(this,function(g){switch(g.label){case 0:return this.applyEffects(t.getEffects(2)),i=t.container.styles,r=!Bd(i.backgroundColor)||i.backgroundImage.length,s=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],a=Xwe(_g(i.backgroundClip,0),t.curves),r||i.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Bd(i.backgroundColor)||(this.ctx.fillStyle=Si(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(v){h.ctx.save();var C=iT(t.curves),b=v.inset?0:jwe,E=Lwe(C,-b+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(h.path(C),h.ctx.clip(),h.mask(E)):(h.mask(C),h.ctx.clip(),h.path(E)),h.ctx.shadowOffsetX=v.offsetX.number+b,h.ctx.shadowOffsetY=v.offsetY.number,h.ctx.shadowColor=Si(v.color),h.ctx.shadowBlur=v.blur.number,h.ctx.fillStyle=v.inset?Si(v.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),g.label=2;case 2:o=0,l=0,u=s,g.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!Bd(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,3)];case 6:return g.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,t.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,t.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,i,r,s,a){return Pr(this,void 0,void 0,function(){var o,l,u,d,h,g,v,C,b,E,x,I,T,R,M,D,M,D;return vr(this,function(L){return this.ctx.save(),o=Hwe(s,r),l=mz(s,r),a===2&&(this.path(l),this.ctx.clip()),Ra(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),Ra(l[1])?(h=l[1].end.x,g=l[1].end.y):(h=l[1].x,g=l[1].y),r===0||r===2?v=Math.abs(u-h):v=Math.abs(d-g),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),C=i<3?i*3:i*2,b=i<3?i*2:i,a===3&&(C=i,b=i),E=!0,v<=C*2?E=!1:v<=C*2+b?(x=v/(2*C+b),C*=x,b*=x):(I=Math.floor((v+b)/(C+b)),T=(v-I*C)/(I-1),R=(v-(I+1)*C)/I,b=R<=0||Math.abs(b-T)<Math.abs(b-R)?T:R),E&&(a===3?this.ctx.setLineDash([0,C+b]):this.ctx.setLineDash([C,b])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=Si(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Ra(l[0])&&(M=l[3],D=l[0],this.ctx.beginPath(),this.formatPath([new _e(M.end.x,M.end.y),new _e(D.start.x,D.start.y)]),this.ctx.stroke()),Ra(l[1])&&(M=l[1],D=l[2],this.ctx.beginPath(),this.formatPath([new _e(M.end.x,M.end.y),new _e(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Pr(this,void 0,void 0,function(){var i;return vr(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Si(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=Qwe(t),[4,this.renderStack(i)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(zX),Ywe=function(n){return n instanceof TX||n instanceof _X?!0:n instanceof GQ&&n.type!==eT&&n.type!==Z_},Xwe=function(n,e){switch(n){case 0:return iT(e);case 2:return Mwe(e);case 1:default:return rT(e)}},Jwe=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Zwe=["-apple-system","system-ui"],eCe=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return Zwe.indexOf(e)===-1}):n},tCe=(function(n){So(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=i,r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),r}return e.prototype.render=function(t){return Pr(this,void 0,void 0,function(){var i,r;return vr(this,function(s){switch(s.label){case 0:return i=rL(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,nCe(i)];case 1:return r=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Si(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(zX),nCe=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},iCe=(function(){function n(e){var t=e.id,i=e.enabled;this.id=t,this.enabled=i,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,DS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,DS([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,DS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,DS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),rCe=(function(){function n(e,t){var i;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new iCe({id:this.instanceName,enabled:e.logging}),this.cache=(i=e.cache)!==null&&i!==void 0?i:new Ewe(this,e)}return n.instanceCount=1,n})(),sCe=function(n,e){return e===void 0&&(e={}),aCe(n,e)};typeof window<"u"&&OX.setContext(window);var aCe=function(n,e){return Pr(void 0,void 0,void 0,function(){var t,i,r,s,a,o,l,u,d,h,g,v,C,b,E,x,I,T,R,M,L,D,L,H,O,K,V,$,ne,oe,pe,G,z,ee,Z,me,q,Y,X,ce;return vr(this,function(ye){switch(ye.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(i=t.defaultView,!i)throw new Error("Document is not attached to a Window");return r={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(O=e.imageTimeout)!==null&&O!==void 0?O:15e3,proxy:e.proxy,useCORS:(K=e.useCORS)!==null&&K!==void 0?K:!1},s=KN({logging:(V=e.logging)!==null&&V!==void 0?V:!0,cache:e.cache},r),a={windowWidth:($=e.windowWidth)!==null&&$!==void 0?$:i.innerWidth,windowHeight:(ne=e.windowHeight)!==null&&ne!==void 0?ne:i.innerHeight,scrollX:(oe=e.scrollX)!==null&&oe!==void 0?oe:i.pageXOffset,scrollY:(pe=e.scrollY)!==null&&pe!==void 0?pe:i.pageYOffset},o=new ou(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new rCe(s,o),u=(G=e.foreignObjectRendering)!==null&&G!==void 0?G:!1,d={allowTaint:(z=e.allowTaint)!==null&&z!==void 0?z:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new hz(l,n,d),g=h.clonedReferenceElement,g?[4,h.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=ye.sent(),C=zQ(g)||owe(g)?Lge(g.ownerDocument):U1(l,g),b=C.width,E=C.height,x=C.left,I=C.top,T=oCe(l,g,e.backgroundColor),R={canvas:e.canvas,backgroundColor:T,scale:(Z=(ee=e.scale)!==null&&ee!==void 0?ee:i.devicePixelRatio)!==null&&Z!==void 0?Z:1,x:((me=e.x)!==null&&me!==void 0?me:0)+x,y:((q=e.y)!==null&&q!==void 0?q:0)+I,width:(Y=e.width)!==null&&Y!==void 0?Y:Math.ceil(b),height:(X=e.height)!==null&&X!==void 0?X:Math.ceil(E)},u?(l.logger.debug("Document cloned, using foreign object rendering"),L=new tCe(l,R),[4,L.render(g)]):[3,3];case 2:return M=ye.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+I+" with size "+b+"x"+E+" using computed rendering"),l.logger.debug("Starting DOM parsing"),D=UX(l,g),T===D.styles.backgroundColor&&(D.styles.backgroundColor=eu.TRANSPARENT),l.logger.debug("Starting renderer for element at "+R.x+","+R.y+" with size "+R.width+"x"+R.height),L=new Wwe(l,R),[4,L.render(D)];case 4:M=ye.sent(),ye.label=5;case 5:return(!((ce=e.removeContainer)!==null&&ce!==void 0)||ce)&&(hz.destroy(v)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,M]}})})},oCe=function(n,e,t){var i=e.ownerDocument,r=i.documentElement?Cw(n,getComputedStyle(i.documentElement).backgroundColor):eu.TRANSPARENT,s=i.body?Cw(n,getComputedStyle(i.body).backgroundColor):eu.TRANSPARENT,a=typeof t=="string"?Cw(n,t):t===null?eu.TRANSPARENT:4294967295;return e===i.documentElement?Bd(r)?Bd(s)?a:s:r:a};const ACe=({customChapter:n,variant:e="main"})=>{const{currentChapter:t,fontSize:i,viewMode:r,addHighlight:s,drawingMode:a,penColor:o,penWidth:l,penOpacity:u,chapterStrokes:d,addStroke:h,removeStroke:g,highlights:v,activeHighlightId:C,showAnnotations:b,triggerSmartExplain:E,isCaptureMode:x,setCaptureMode:I,setCapturedImage:T}=Rd(),R=n||t,M=e==="main",D=P.useRef(null),L=P.useRef(null),H=P.useRef(0),[O,K]=P.useState({text:"",top:0,left:0,show:!1}),[V,$]=P.useState({show:!1,text:""}),[ne,oe]=P.useState(!1),[pe,G]=P.useState([]),[z,ee]=P.useState(null),[Z,me]=P.useState(null);P.useEffect(()=>{if(!M)return;const Be=te=>{te.key==="Escape"&&x&&(I(!1),ee(null),me(null))};return window.addEventListener("keydown",Be),()=>window.removeEventListener("keydown",Be)},[x,I,M]);const q=P.useMemo(()=>{let Be=R.content;return b&&[...v.filter(Ue=>Ue.chapterId===R.id)].sort((Ue,vt)=>vt.text.length-Ue.text.length).forEach(Ue=>{const vt=Ue.text.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Oe=new RegExp(vt,"g"),fn=`<mark id="hl-${Ue.id}" style="background-color: #fef08a !important; color: #0f172a !important;" class="rounded-sm cursor-pointer hover:brightness-95 transition-colors border-b-2 border-yellow-400" title="${Ue.note||"Highlight"}">${Ue.text}</mark>`;Be=Be.replace(Oe,fn)}),Be},[R.content,R.id,v,b]);P.useEffect(()=>{if(C&&b){const Be=document.getElementById(`hl-${C}`);Be&&document.body.contains(Be)&&(Be.scrollIntoView({behavior:"smooth",block:"center"}),Be.classList.add("ring-4","ring-blue-500","ring-offset-2"),setTimeout(()=>{Be.classList.remove("ring-4","ring-blue-500","ring-offset-2")},2e3))}},[C,q,b]),P.useEffect(()=>{const Be=te=>{const be=te.target;!be.closest(`#selection-menu-${e}`)&&!be.closest(`#memo-dialog-${e}`)&&K(Ue=>({...Ue,show:!1}))};return document.addEventListener("mousedown",Be),()=>document.removeEventListener("mousedown",Be)},[e]);const Y=()=>{var te,be;const Be=window.getSelection();if(Be&&Be.toString().trim().length>0){if(!(((te=D.current)==null?void 0:te.contains(Be.anchorNode))||((be=D.current)==null?void 0:be.contains(Be.focusNode))))return;const Oe=Be.getRangeAt(0).getBoundingClientRect();let fn=Oe.top-60,Rt=Oe.left+Oe.width/2-100;fn<0&&(fn=Oe.bottom+10),Rt<10&&(Rt=10),Rt+200>window.innerWidth&&(Rt=window.innerWidth-220),K({text:Be.toString(),top:fn,left:Rt,show:!0})}else K(Ue=>({...Ue,show:!1}))},X=Be=>{M&&x||a==="idle"&&setTimeout(Y,10)},ce=()=>{var Be;s(O.text,void 0,R.id),K(te=>({...te,show:!1})),(Be=window.getSelection())==null||Be.removeAllRanges()},ye=()=>{K(Be=>({...Be,show:!1})),$({show:!0,text:""})},Ce=()=>{var Be;V.text.trim()&&s(O.text,V.text,R.id),$({show:!1,text:""}),(Be=window.getSelection())==null||Be.removeAllRanges()},ve=()=>{var Be;E(O.text),K(te=>({...te,show:!1})),(Be=window.getSelection())==null||Be.removeAllRanges()},je=Be=>{if(!L.current)return null;const te=L.current.getBoundingClientRect();if(te.width===0||te.height===0)return null;const be=L.current.width/te.width,Ue=L.current.height/te.height;return{x:(Be.clientX-te.left)*be,y:(Be.clientY-te.top)*Ue}},se=Be=>{var be;if(M&&x||a==="idle")return;Be.target.setPointerCapture(Be.pointerId);const te=je(Be);if(te&&(oe(!0),G([te]),D.current&&a==="pen")){const Ue=Array.from(D.current.children);let vt=0;const Oe=(be=L.current)==null?void 0:be.getBoundingClientRect(),fn=Be.clientY-((Oe==null?void 0:Oe.top)||0);for(let Rt=0;Rt<Ue.length;Rt++){const or=Ue[Rt];if(fn>=or.offsetTop&&fn<=or.offsetTop+or.offsetHeight){vt=Rt;break}if(fn<or.offsetTop){vt=Math.max(0,Rt-1);break}vt=Rt}H.current=vt}},Pe=Be=>{if(M&&x||!ne||a==="idle")return;Be.preventDefault();const te=je(Be);if(te){if(a==="pen")G(be=>[...be,te]);else if(a==="eraser"){const be=d[R.id]||[],Ue=D.current?Array.from(D.current.children):[];be.forEach(vt=>{let Oe=vt.points;if(vt.anchorIndex!==void 0&&Ue[vt.anchorIndex]){const Rt=Ue[vt.anchorIndex].offsetTop;Oe=vt.points.map(or=>({x:or.x,y:or.y+Rt}))}Oe.some(Rt=>Math.hypot(Rt.x-te.x,Rt.y-te.y)<20)&&g(R.id,vt.id)})}}},Ve=Be=>{if(!(M&&x)&&ne){if(Be.target.releasePointerCapture(Be.pointerId),oe(!1),a==="pen"&&pe.length>1){let te=pe,be;if(D.current){be=H.current;const vt=D.current.children;if(vt[be]){const Oe=vt[be].offsetTop;te=pe.map(fn=>({x:fn.x,y:fn.y-Oe}))}}const Ue={id:Date.now().toString(),points:te,color:o,width:l,opacity:u,anchorIndex:be};h(R.id,Ue)}G([])}},we=Be=>{if(!M||!x)return;const te={x:Be.clientX,y:Be.clientY};ee(te),me(te)},Zt=Be=>{!M||!x||!z||me({x:Be.clientX,y:Be.clientY})},We=async Be=>{if(!M||!x||!z||!Z){ee(null),me(null);return}const te=z,be={x:Be.clientX,y:Be.clientY},Ue={x:Math.min(te.x,be.x),y:Math.min(te.y,be.y),width:Math.abs(be.x-te.x),height:Math.abs(be.y-te.y)};if(ee(null),me(null),!(Ue.width<10||Ue.height<10))try{const vt=await sCe(document.body,{x:Ue.x+window.scrollX,y:Ue.y+window.scrollY,width:Ue.width,height:Ue.height,useCORS:!0,scale:window.devicePixelRatio,ignoreElements:Oe=>Oe.classList.contains("capture-overlay-ui")});T(vt.toDataURL())}catch(vt){console.error(vt)}finally{I(!1)}};P.useEffect(()=>{const Be=L.current;if(!Be||!D.current)return;const te=()=>{if(!Be||!D.current)return;const Ue=window.devicePixelRatio||1;Be.width=D.current.offsetWidth*Ue,Be.height=D.current.offsetHeight*Ue;const vt=Be.getContext("2d");vt&&vt.scale(Ue,Ue)};te();const be=new ResizeObserver(te);return be.observe(D.current),()=>be.disconnect()},[R.id,r]),P.useEffect(()=>{const Be=L.current;if(!Be||!D.current)return;const te=Be.getContext("2d");if(!te||(te.save(),te.setTransform(1,0,0,1,0,0),te.clearRect(0,0,Be.width,Be.height),te.restore(),!b&&!ne))return;const be=(Oe,fn,Rt,or)=>{if(!(Oe.length<2)){te.beginPath(),te.lineWidth=Rt,te.strokeStyle=fn,te.lineCap="round",te.lineJoin="round",te.globalAlpha=or,te.moveTo(Oe[0].x,Oe[0].y);for(let ta=1;ta<Oe.length-1;ta++){const Io={x:(Oe[ta].x+Oe[ta+1].x)/2,y:(Oe[ta].y+Oe[ta+1].y)/2};te.quadraticCurveTo(Oe[ta].x,Oe[ta].y,Io.x,Io.y)}te.lineTo(Oe[Oe.length-1].x,Oe[Oe.length-1].y),te.stroke(),te.globalAlpha=1}},Ue=Array.from(D.current.children);(d[R.id]||[]).forEach(Oe=>{let fn=Oe.points;if(Oe.anchorIndex!==void 0&&Ue[Oe.anchorIndex]){const Rt=Ue[Oe.anchorIndex].offsetTop;fn=Oe.points.map(or=>({x:or.x,y:or.y+Rt}))}be(fn,Oe.color,Oe.width||3,Oe.opacity!==void 0?Oe.opacity:1)}),ne&&pe.length>1&&a==="pen"&&be(pe,o,l,u)},[d,R.id,ne,pe,o,l,u,a,b]);const wn=()=>{switch(i){case"small":return"text-sm leading-6";case"large":return"text-xl leading-9";case"xlarge":return"text-2xl leading-10";default:return"text-lg leading-8"}},_n=M&&x&&z&&Z?{position:"fixed",left:Math.min(z.x,Z.x),top:Math.min(z.y,Z.y),width:Math.abs(Z.x-z.x),height:Math.abs(Z.y-z.y),border:"2px solid #3b82f6",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(59, 130, 246, 0.1)",zIndex:1e4,pointerEvents:"none"}:{},ar={width:"100%",height:"100%",touchAction:a!=="idle"?"none":"auto"},fs=`absolute inset-0 z-20 ${a!=="idle"?"cursor-crosshair pointer-events-auto":"pointer-events-none"}`,ea=e==="main"&&r==="double",_o=e==="main"?`relative w-full bg-white dark:bg-slate-950 shadow-lg min-h-[80vh] p-8 md:p-12 transition-all ${ea?"max-w-full":"max-w-3xl"}`:"relative w-full bg-white dark:bg-slate-900 p-4 min-h-[500px]",To=`prose prose-slate dark:prose-invert max-w-none select-text cursor-text transition-all duration-200 relative z-10 selection:bg-yellow-200 selection:text-black dark:selection:bg-yellow-700 dark:selection:text-white ${wn()} ${ea?"columns-1 md:columns-2 gap-12 [column-fill:auto]":""}`,Od=e==="main"?"relative min-h-[50vh] pb-32 flex justify-center bg-slate-100 dark:bg-slate-900 pt-8":"relative w-full bg-slate-50 dark:bg-slate-950";return Q.jsxs("div",{className:Od,onPointerUp:X,children:[M&&x&&Q.jsx("div",{className:"fixed inset-0 z-[9999] cursor-crosshair capture-overlay-ui",onMouseDown:we,onMouseMove:Zt,onMouseUp:We,children:!z&&Q.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg pointer-events-none",children:"Drag to capture (Esc to cancel)"})}),M&&x&&z&&Z&&Q.jsx("div",{style:_n,className:"capture-overlay-ui"}),Q.jsxs("div",{className:_o,children:[Q.jsx("div",{ref:D,className:To,dangerouslySetInnerHTML:{__html:q},onContextMenu:Be=>Be.preventDefault()}),Q.jsx("canvas",{ref:L,className:fs,style:ar,onPointerDown:se,onPointerMove:Pe,onPointerUp:Ve,onPointerLeave:Ve})]}),O.show&&!x&&Q.jsxs("div",{id:`selection-menu-${e}`,className:"fixed z-50 flex items-center gap-2 bg-slate-800 text-white rounded-lg shadow-xl p-2 animate-fade-in",style:{top:O.top,left:O.left},children:[Q.jsxs("button",{onClick:ce,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(A_,{size:14,className:"text-yellow-400"})," High"]}),Q.jsx("div",{className:"w-px h-4 bg-slate-600"}),Q.jsxs("button",{onClick:ye,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(ghe,{size:14,className:"text-green-400"})," Memo"]}),Q.jsx("div",{className:"w-px h-4 bg-slate-600"}),Q.jsxs("button",{onClick:ve,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(Wfe,{size:14,className:"text-blue-400"})," AI"]})]}),V.show&&Q.jsx("div",{id:`memo-dialog-${e}`,className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/20 backdrop-blur-sm",children:Q.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 w-80 animate-slide-up border border-slate-200 dark:border-slate-700",children:[Q.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Add Note"}),Q.jsx("textarea",{autoFocus:!0,value:V.text,onChange:Be=>$(te=>({...te,text:Be.target.value})),className:"w-full h-24 p-2 text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none dark:text-white",placeholder:"Type your thoughts..."}),Q.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[Q.jsx("button",{onClick:()=>$({show:!1,text:""}),className:"px-3 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),Q.jsx("button",{onClick:Ce,className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 rounded-lg shadow-sm transition-colors",children:"Save"})]})]})})]})},S0=({text:n,query:e})=>{if(!e||!e.trim())return Q.jsx(Q.Fragment,{children:n});const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(`(${t})`,"gi"),r=n.split(i);return Q.jsx("span",{children:r.map((s,a)=>i.test(s)?Q.jsx("mark",{className:"bg-yellow-300 dark:bg-yellow-600/50 text-slate-900 dark:text-white rounded-[2px] px-0.5 font-medium",children:s},a):s)})},qX=({isOpen:n,onClose:e,side:t,title:i,children:r})=>Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:` ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),Q.jsx("aside",{className:`h-full ${t==="left"?"left-0 border-r":"right-0 border-l"} ${n?"translate-x-0":t==="left"?"-translate-x-full md:translate-x-0":"translate-x-full md:translate-x-0"} w-80 md:w-full`,children:Q.jsxs("div",{className:"h-full",children:[Q.jsxs("div",{className:"hidden",children:[i&&Q.jsx("h2",{className:"font-semibold text-slate-800 dark:text-slate-200",children:i}),Q.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-500",children:Q.jsx(kW,{size:18})})]}),Q.jsx("div",{className:"flex-1 overflow-y-auto h-full",children:r})]})})]}),lCe=({isOpen:n,onClose:e})=>{const{chapters:t,currentChapterIndex:i,goToChapter:r,hasStrokes:s,bookmarks:a}=Rd(),[o,l]=P.useState("contents");return Q.jsx(qX,{isOpen:n,onClose:e,side:"left",title:"Contents",children:Q.jsxs("div",{className:"",children:[Q.jsxs("div",{className:"chapter_favor_wrap",children:[Q.jsxs("button",{onClick:()=>l("contents"),className:`chapter ${o==="contents"?"on":"off"}`,children:[Q.jsx(Gfe,{size:14})," Chapters"]}),Q.jsxs("button",{onClick:()=>l("bookmarks"),className:`favor ${o==="bookmarks"?"on":"off"}`,children:[Q.jsx(o_,{size:14})," Favorites"]})]}),Q.jsxs("div",{className:"chapter_list",children:[o==="contents"&&t.map((u,d)=>Q.jsx("button",{onClick:()=>{r(d),window.innerWidth<768&&e()},className:` ${d===i?"on":"off"}`,children:Q.jsxs("div",{className:"chapter_list_inner",children:[Q.jsxs("div",{className:"",children:[Q.jsx("span",{className:`text_xs ${d===i?"on":"off"}`,children:String(d+1).padStart(2,"0")}),Q.jsx("span",{className:"line_clamp_1",children:u.title})]}),s(u.id)&&Q.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-1 rounded-full",children:Q.jsx(QW,{size:10})})]})},u.id)),o==="bookmarks"&&a.map(u=>{const d=t.find(h=>h.id===u);return d?Q.jsx("button",{onClick:()=>{r(t.findIndex(h=>h.id===u)),window.innerWidth<768&&e()},className:"",children:Q.jsxs("div",{className:"",children:[Q.jsx(o_,{size:14,className:""}),Q.jsx("span",{className:"line_clamp_1",children:d.title})]})},u):null}),o==="bookmarks"&&a.length===0&&Q.jsxs("div",{className:"non_book_mark",children:[Q.jsx(o_,{size:24,className:"mx-auto mb-2 text-slate-400"}),Q.jsx("p",{className:"text_sm",children:"No bookmarks"})]})]})]})})},uCe=({isOpen:n,onClose:e})=>{const{highlights:t,removeHighlight:i,updateHighlight:r,currentChapter:s,incrementAiCount:a,generalNotes:o,addGeneralNote:l,updateGeneralNote:u,removeGeneralNote:d,importNotes:h,exportNoteAsMarkdown:g,focusHighlight:v,goToChapter:C,chapters:b,aiChatHistory:E,addChatMessage:x,activeToolTab:I,setActiveToolTab:T,setCaptureMode:R,capturedImage:M,setCapturedImage:D,referenceDocument:L,uploadBook:H,searchQuery:O,setSearchQuery:K,performSearch:V,goToPdfPage:$,pdfSearchHighlight:ne,setPdfSearchHighlight:oe}=Rd(),[pe,G]=P.useState(""),[z,ee]=P.useState(!1),[Z,me]=P.useState(null),[q,Y]=P.useState(null),[X,ce]=P.useState(""),[ye,Ce]=P.useState(""),ve=P.useRef(null),je=P.useRef(null);P.useEffect(()=>{Z&&ve.current&&ve.current.innerHTML!==(Z.content||"")&&(ve.current.innerHTML=Z.content||"")},[Z==null?void 0:Z.id]);const se=()=>ve.current?ve.current.innerHTML:"",Pe=te=>{if(I==="notebook"&&Z){const be=se();me(Ue=>Ue?{...Ue,content:be}:null)}T(te),Ce("")},Ve=te=>{Y(te.id),ce(te.note||"")},we=te=>{r(te,X),Y(null),ce("")},Zt=t.filter(te=>te.text.toLowerCase().includes(ye.toLowerCase())||te.note&&te.note.toLowerCase().includes(ye.toLowerCase())),We=o.filter(te=>te.title.toLowerCase().includes(ye.toLowerCase())||te.content.toLowerCase().includes(ye.toLowerCase()));P.useEffect(()=>{if(M&&Z){const te=`<div class="capture-img-container"><img src="${M}" style="max-width:100%; border:1px solid #ccc; border-radius:4px; margin: 10px 0; display: block;" /></div><p><br/></p>`,be=(Z.content||"")+te;me(Ue=>Ue?{...Ue,content:be}:null),ve.current&&(ve.current.innerHTML=be),D(null)}},[M,D]);const wn=async te=>{if(te.preventDefault(),!pe.trim())return;const be=pe;x("user",be),G(""),ee(!0),a();const Ue=await b6(be,s.content.substring(0,1e3));x("model",Ue),ee(!1)},_n=()=>{if(Z){const te=se();Z.title&&(Z.id?u(Z.id,Z.title,te):l(Z.title,te),me(null))}},ar=(te,be=void 0)=>{document.execCommand(te,!1,be),ve.current&&ve.current.focus()},fs=(te,be,Ue)=>{te.preventDefault(),ar(be,Ue)},ea=te=>{te.preventDefault();const be=se();me(Ue=>Ue?{...Ue,content:be}:null),setTimeout(()=>R(!0),50)},_o=te=>{te.preventDefault();const be=window.getSelection();if(be&&be.rangeCount>0){const Oe=be.getRangeAt(0);ve.current&&ve.current.contains(Oe.commonAncestorContainer)?je.current=Oe.cloneRange():je.current=null}const Ue=parseInt(prompt("Rows:","2")||"0"),vt=parseInt(prompt("Columns:","2")||"0");if(ve.current&&(ve.current.focus(),je.current&&(be==null||be.removeAllRanges(),be==null||be.addRange(je.current)),Ue>0&&vt>0)){let Oe='<table style="width:100%; border-collapse: collapse; margin: 10px 0; border: 1px solid #ccc;"><tbody>';for(let fn=0;fn<Ue;fn++){Oe+="<tr>";for(let Rt=0;Rt<vt;Rt++)Oe+='<td style="border:1px solid #ccc; padding:8px; min-width: 50px;">Cell</td>';Oe+="</tr>"}Oe+="</tbody></table><p><br></p>",document.execCommand("insertHTML",!1,Oe)}},To=te=>{te.target.files&&te.target.files[0]&&H(te.target.files[0])},Od=()=>{const te=se();me(be=>be?{...be,content:te}:null)},Be=()=>{if(!Z)return;const te=se(),be=window.open("","","height=600,width=800");be&&(be.document.write(`<html><head><title>${Z.title}</title><style>body{font-family:sans-serif;padding:20px;}table{border-collapse:collapse;width:100%;}td,th{border:1px solid #ccc;padding:8px;}img{max-width:100%;}</style></head><body><h1>${Z.title}</h1>${te}</body></html>`),be.document.close(),be.print())};return I==="search"&&V(O),Q.jsx(qX,{isOpen:n,onClose:e,side:"right",children:Q.jsxs("div",{className:"h-full",children:[Q.jsxs("div",{className:"right_panel_menu",children:[Q.jsx("button",{onClick:()=>Pe("ai"),className:`ai ${I==="ai"?"on":"off"}`,title:"AI",children:Q.jsx(iM,{size:14})}),Q.jsx("button",{onClick:()=>Pe("notes"),className:`notes ${I==="notes"?"on":"off"}`,title:"Highlights",children:Q.jsx(A_,{size:14})}),Q.jsx("button",{onClick:()=>Pe("notebook"),className:`notebook ${I==="notebook"?"on":"off"}`,title:"Notebook",children:Q.jsx(tN,{size:14})}),Q.jsx("button",{onClick:()=>Pe("reference"),className:`reference ${I==="reference"?"on":"off"}`,title:"Reference PDF",children:Q.jsx(NK,{size:14})}),Q.jsx("button",{onClick:()=>Pe("search"),className:`search ${I==="search"?"on":"off"}`,title:"Search",children:Q.jsx(l_,{size:14})})]}),Q.jsxs("div",{className:"text_area",children:[I==="ai"&&Q.jsxs("div",{className:"ai",children:[Q.jsxs("div",{className:"ai_talk",children:[E.length===0&&Q.jsxs("div",{className:"ai_talk_inner",children:[Q.jsx("div",{className:"icon",children:Q.jsx(iM,{className:"text-blue-500",size:24})}),Q.jsx("p",{className:"text_sm",children:"AI Study Companion"})]}),E.map((te,be)=>Q.jsx("div",{className:`txt ${te.role==="user"?"ai_user_txt":"ai_txt"}`,children:Q.jsx("div",{className:` ${te.role==="user"?"on":"off"}`,children:te.text})},be)),z&&Q.jsx("div",{className:"flex flex-col items-start",children:Q.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl rounded-bl-none px-4 py-3 border border-slate-100 dark:border-slate-700",children:Q.jsxs("div",{className:"flex space-x-1",children:[Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-75"}),Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-150"})]})})})]}),Q.jsx("div",{className:"ai_user",children:Q.jsxs("form",{onSubmit:wn,className:"user_form",children:[Q.jsx("input",{type:"text",value:pe,onChange:te=>G(te.target.value),placeholder:"Ask AI...",className:""}),Q.jsx("button",{type:"submit",disabled:!pe.trim()||z,className:"enter",children:Q.jsx(iM,{size:16})})]})})]}),I==="notes"&&Q.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[Q.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Filter highlights...",value:ye,onChange:te=>Ce(te.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),Q.jsx(LK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})}),Q.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[Zt.length===0&&Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(A_,{size:24,className:"mx-auto mb-2"}),Q.jsx("p",{className:"text-sm",children:"No highlights"})]}),Zt.map(te=>Q.jsxs("div",{onClick:()=>{C(b.findIndex(be=>be.id===te.chapterId)),v(te.id)},className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 cursor-pointer hover:border-blue-300 transition-all",children:[Q.jsxs("div",{className:"flex justify-between mb-2 text-xs text-slate-400",children:[Q.jsx("span",{children:te.chapterId==="reference-doc"?"Reference PDF":`Chapter ${b.findIndex(be=>be.id===te.chapterId)+1}`}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsx("button",{onClick:be=>{be.stopPropagation(),Ve(te)},title:"Edit Note",children:Q.jsx(rhe,{size:12})}),Q.jsx("button",{onClick:be=>{be.stopPropagation(),i(te.id)},title:"Delete",children:Q.jsx(OK,{size:12})})]})]}),Q.jsxs("p",{className:"text-sm italic border-l-2 border-amber-400 pl-2 text-slate-600 dark:text-slate-300",children:['"',Q.jsx(S0,{text:te.text,query:ye}),'"']}),q===te.id?Q.jsxs("div",{onClick:be=>be.stopPropagation(),className:"mt-2 animate-fade-in",children:[Q.jsx("textarea",{className:"w-full p-2 text-xs border rounded bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:border-blue-500",value:X,onChange:be=>ce(be.target.value),autoFocus:!0,rows:3}),Q.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[Q.jsx("button",{onClick:()=>Y(null),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cancel"}),Q.jsx("button",{onClick:()=>we(te.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):te.note?Q.jsx("div",{className:"mt-2 text-xs bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded text-slate-700 dark:text-slate-300 border border-yellow-100 dark:border-yellow-800",children:Q.jsx(S0,{text:te.note,query:ye})}):Q.jsxs("button",{onClick:be=>{be.stopPropagation(),Ve(te)},className:"mt-2 text-xs text-blue-500 flex items-center gap-1 hover:underline opacity-50 hover:opacity-100",children:[Q.jsx(iN,{size:10})," Add Note"]})]},te.id))]})]}),I==="notebook"&&Q.jsx("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:Z?Q.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white dark:bg-slate-900 animate-fade-in",children:[Q.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-900",children:[Q.jsx("button",{onClick:()=>me(null),className:"text-xs font-medium text-slate-500",children:"Cancel"}),Q.jsxs("button",{onClick:_n,className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[Q.jsx(OW,{size:14})," Save"]})]}),Q.jsx("div",{className:"px-4 pt-4 pb-2",children:Q.jsx("input",{type:"text",className:"w-full text-lg font-bold bg-transparent outline-none",value:Z.title||"",onChange:te=>{const be=se();me(Ue=>Ue?{...Ue,title:te.target.value,content:be}:null)}})}),Q.jsxs("div",{className:"px-2 py-1.5 flex flex-wrap gap-1 border-y bg-slate-50 dark:bg-slate-900/50",children:[Q.jsx("button",{onMouseDown:te=>fs(te,"bold"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(mfe,{size:14})}),Q.jsx("button",{onMouseDown:te=>fs(te,"italic"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx("span",{className:"italic",children:"I"})}),Q.jsx("button",{onMouseDown:te=>fs(te,"hiliteColor","yellow"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(A_,{size:14})}),Q.jsx("button",{onMouseDown:_o,className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(vhe,{size:14})}),Q.jsx("button",{onMouseDown:ea,className:"p-1.5 rounded hover:bg-slate-200 text-blue-600",children:Q.jsx(Efe,{size:14})}),Q.jsx("button",{onClick:Be,className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(uhe,{size:14})})]}),Q.jsx("div",{ref:ve,className:"flex-1 p-4 overflow-y-auto outline-none text-sm note-editor",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:Od},Z.id)]}):Q.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[Q.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex flex-col gap-3 bg-slate-50 dark:bg-slate-900",children:[Q.jsxs("div",{className:"flex justify-between items-center",children:[Q.jsxs("h3",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider",children:["My Notes (",o.length,")"]}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsxs("label",{className:"cursor-pointer p-1.5 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",title:"Import Note",children:[Q.jsx(Bhe,{size:14}),Q.jsx("input",{type:"file",className:"hidden",accept:".md,.json,.txt",onChange:To})]}),Q.jsxs("button",{onClick:()=>me({title:"",content:"",chapterId:s.id,chapterTitle:s.title}),className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded-md text-xs font-medium hover:bg-green-700 shadow-sm transition-all",children:[Q.jsx(iN,{size:14})," New"]})]})]}),Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Search notes...",value:ye,onChange:te=>Ce(te.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),Q.jsx(LK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})]}),Q.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3",children:[We.length===0&&Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(tN,{size:32,className:"mx-auto text-slate-300 mb-2"}),Q.jsx("p",{className:"text-sm text-slate-400",children:"No notes found"})]}),We.map(te=>Q.jsxs("div",{onClick:()=>me(te),className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border cursor-pointer hover:border-green-300 transition-all",children:[Q.jsxs("div",{className:"flex justify-between mb-1",children:[Q.jsx("h4",{className:"font-semibold text-sm",children:Q.jsx(S0,{text:te.title,query:ye})}),Q.jsx("button",{onClick:be=>{be.stopPropagation(),d(te.id)},children:Q.jsx(OK,{size:12,"text-slate-300":!0})})]}),Q.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:Q.jsx(S0,{text:te.content.replace(/<[^>]+>/g," "),query:ye})})]},te.id))]})]})}),I==="reference"&&Q.jsx("div",{className:"absolute inset-0 flex flex-col bg-white dark:bg-slate-900",children:L?Q.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-950",children:Q.jsx(ACe,{customChapter:L,variant:"side"})}):Q.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center opacity-60",children:[Q.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:Q.jsx(NK,{size:32,className:"text-slate-400"})}),Q.jsx("h3",{className:"font-medium text-slate-800 dark:text-white mb-2",children:"No Reference Document"}),Q.jsxs("p",{className:"text-sm text-slate-500 mb-6 max-w-[240px]",children:["Upload a ",Q.jsx("strong",{children:"text-based PDF"})," (e.g., papers, e-books). ",Q.jsx("br",{}),"Scanned image PDFs may not display correctly."]}),Q.jsxs("label",{className:"cursor-pointer flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Q.jsx(nN,{size:16}),Q.jsx("span",{children:"Upload PDF"}),Q.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:To})]})]})}),I==="search"&&Q.jsxs("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:[Q.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800",children:Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Search entire book & notes...",value:O,onChange:te=>{K(te.target.value),oe(null)},className:"w-full pl-9 pr-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white",autoFocus:!0}),Q.jsx(l_,{size:16,className:"absolute left-3 top-2.5 text-slate-400"})]})}),Q.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:O.length>1?I==="search"&&V(O).length>0?V(O).map(te=>Q.jsxs("div",{onClick:()=>{if(te.type==="note"){const be=o.find(Ue=>`note-${Ue.id}`===te.id);be&&(me(be),T("notebook"))}else if(te.type==="pdf")te.pageNumber&&($(te.pageNumber),oe({page:te.pageNumber,term:O}));else{const be=b.findIndex(Ue=>Ue.id===te.chapterId);be!==-1&&(C(be),te.type==="highlight"&&v(te.id.replace("hl-","")))}},className:"bg-white dark:bg-slate-900 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-800 cursor-pointer hover:border-blue-300 transition-all",children:[Q.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Q.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-bold ${te.type==="chapter"?"bg-blue-100 text-blue-600":te.type==="highlight"?"bg-yellow-100 text-yellow-600":te.type==="pdf"?"bg-indigo-100 text-indigo-600":"bg-green-100 text-green-600"}`,children:te.type}),Q.jsx("span",{className:"text-xs text-slate-500 font-medium truncate flex-1",children:te.title})]}),Q.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 line-clamp-2",children:Q.jsx(S0,{text:te.contentSnippet,query:O})})]},te.id)):Q.jsx("div",{className:"text-center py-10 opacity-50",children:Q.jsxs("p",{className:"text-sm text-slate-500",children:['No results found for "',O,'"']})}):Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(l_,{size:24,className:"mx-auto mb-2 text-slate-300"}),Q.jsx("p",{className:"text-sm text-slate-400",children:"Type at least 2 characters to search"})]})})]})]})]})})},cCe=()=>{const[n,e]=P.useState(!0),{isToolsOpen:t,setToolsOpen:i,registerPdfNavigator:r}=Rd(),[s,a]=P.useState(0),[o,l]=P.useState(1),u=P.useRef(),d=P.useCallback(H=>{l(H)},[]),h=P.useCallback(H=>{a(H)},[]),g=P.useCallback(H=>{u.current=H,r(H)},[r]),[v,C]=P.useState(300),[b,E]=P.useState(350),[x,I]=P.useState(!1),[T,R]=P.useState(!1),M=P.useRef(null);P.useEffect(()=>{const H=()=>{window.innerWidth<1024?(e(!1),i(!1)):(e(!0),i(!0))};return H(),window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[i]),P.useEffect(()=>{const H=K=>{if(!M.current)return;(x||T)&&K.preventDefault();const V=M.current.getBoundingClientRect();if(x){const $=K.clientX-V.left;$>200&&$<500&&C($)}if(T){const $=V.right-K.clientX;$>280&&$<600&&E($)}},O=()=>{I(!1),R(!1),document.body.style.cursor="default",document.body.style.userSelect="auto"};return(x||T)&&(document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",H),window.addEventListener("mouseup",O)),()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",O),document.body.style.cursor="default",document.body.style.userSelect="auto"}},[x,T]);const D=()=>e(!n);return Q.jsxs("div",{children:[Q.jsx(HW,{toggleSidebar:D,isSidebarOpen:n}),Q.jsxs("div",{ref:M,className:"split_container",children:[Q.jsxs("div",{className:`left_side_wrap ${n?"on":"off"}`,style:{width:n?window.innerWidth<768?"0px":`${v}px`:"0px"},children:[Q.jsx("div",{className:"left_side_inner",children:Q.jsx(lCe,{isOpen:n,onClose:()=>e(!1)})}),n&&window.innerWidth>=768&&Q.jsx("div",{className:"",onMouseDown:()=>I(!0),children:Q.jsx("div",{className:""})})]}),Q.jsxs("main",{className:"content_container",children:[Q.jsx("div",{className:"cc_top",children:Q.jsx(Dge,{file:"/campusbook-viewer-ai/pdf/test2.pdf",onPageChange:d,onPagesCount:h,registerGoToPage:g})}),Q.jsx("div",{className:"cc_bottom",children:Q.jsx(Nge,{pdfPageCount:s,pdfCurrentPage:o,onPdfGoToPage:H=>{var O;return(O=u.current)==null?void 0:O.call(u,H)}})})]}),Q.jsxs("div",{className:`right_panel_wrap ${t?"on":"off"}`,style:{width:t?window.innerWidth<768?"0px":`${b}px`:"0px"},children:[t&&window.innerWidth>=768&&Q.jsx("div",{className:"separate",onMouseDown:()=>R(!0),children:Q.jsx("div",{className:""})}),Q.jsx("div",{className:"h-full w-full overflow-hidden",children:Q.jsx(uCe,{isOpen:t,onClose:()=>i(!1)})})]})]})]})};function $X(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=$X(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function yn(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=$X(n))&&(i&&(i+=" "),i+=e);return i}var dCe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function qQ(n){if(typeof n!="string")return!1;var e=dCe;return e.includes(n)}var fCe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hCe=new Set(fCe);function jX(n){return typeof n!="string"?!1:hCe.has(n)}function WX(n){return typeof n=="string"&&n.startsWith("data-")}function Td(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(jX(t)||WX(t))&&(e[t]=n[t]);return e}function $Q(n){if(n==null)return null;if(P.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return Td(e)}return typeof n=="object"&&!Array.isArray(n)?Td(n):null}function Ka(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(jX(t)||WX(t)||qQ(t))&&(e[t]=n[t]);return e}var pCe=["children","width","height","viewBox","className","style","title","desc"];function cL(){return cL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cL.apply(null,arguments)}function gCe(n,e){if(n==null)return{};var t,i,r=mCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function mCe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var YX=P.forwardRef((n,e)=>{var{children:t,width:i,height:r,viewBox:s,className:a,style:o,title:l,desc:u}=n,d=gCe(n,pCe),h=s||{width:i,height:r,x:0,y:0},g=yn("recharts-surface",a);return P.createElement("svg",cL({},Ka(d),{className:g,width:i,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),P.createElement("title",null,l),P.createElement("desc",null,u),t)}),vCe=["children","className"];function dL(){return dL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},dL.apply(null,arguments)}function yCe(n,e){if(n==null)return{};var t,i,r=wCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function wCe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var Au=P.forwardRef((n,e)=>{var{children:t,className:i}=n,r=yCe(n,vCe),s=yn("recharts-layer",i);return P.createElement("g",dL({className:s},Ka(r),{ref:e}),t)}),CCe=P.createContext(null);function un(n){return function(){return n}}const XX=Math.cos,aT=Math.sin,xo=Math.sqrt,oT=Math.PI,H1=2*oT,fL=Math.PI,hL=2*fL,df=1e-6,bCe=hL-df;function JX(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function BCe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return JX;const t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class ECe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?JX:BCe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,a){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=i-e,u=r-t,d=a-e,h=o-t,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>df)if(!(Math.abs(h*l-u*d)>df)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let v=i-a,C=r-o,b=l*l+u*u,E=v*v+C*C,x=Math.sqrt(b),I=Math.sqrt(g),T=s*Math.tan((fL-Math.acos((b+g-E)/(2*x*I)))/2),R=T/I,M=T/x;Math.abs(R-1)>df&&this._append`L${e+R*d},${t+R*h}`,this._append`A${s},${s},0,0,${+(h*v>d*C)},${this._x1=e+M*l},${this._y1=t+M*u}`}}arc(e,t,i,r,s,a){if(e=+e,t=+t,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),l=i*Math.sin(r),u=e+o,d=t+l,h=1^a,g=a?r-s:s-r;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>df||Math.abs(this._y1-d)>df)&&this._append`L${u},${d}`,i&&(g<0&&(g=g%hL+hL),g>bCe?this._append`A${i},${i},0,1,${h},${e-o},${t-l}A${i},${i},0,1,${h},${this._x1=u},${this._y1=d}`:g>df&&this._append`A${i},${i},0,${+(g>=fL)},${h},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function jQ(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new ECe(e)}function WQ(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function ZX(n){this._context=n}ZX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function V1(n){return new ZX(n)}function e9(n){return n[0]}function t9(n){return n[1]}function n9(n,e){var t=un(!0),i=null,r=V1,s=null,a=jQ(o);n=typeof n=="function"?n:n===void 0?e9:un(n),e=typeof e=="function"?e:e===void 0?t9:un(e);function o(l){var u,d=(l=WQ(l)).length,h,g=!1,v;for(i==null&&(s=r(v=a())),u=0;u<=d;++u)!(u<d&&t(h=l[u],u,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(h,u,l),+e(h,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:un(+l),o):n},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:un(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:un(!!l),o):t},o.curve=function(l){return arguments.length?(r=l,i!=null&&(s=r(i)),o):r},o.context=function(l){return arguments.length?(l==null?i=s=null:s=r(i=l),o):i},o}function rx(n,e,t){var i=null,r=un(!0),s=null,a=V1,o=null,l=jQ(u);n=typeof n=="function"?n:n===void 0?e9:un(+n),e=typeof e=="function"?e:un(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?t9:un(+t);function u(h){var g,v,C,b=(h=WQ(h)).length,E,x=!1,I,T=new Array(b),R=new Array(b);for(s==null&&(o=a(I=l())),g=0;g<=b;++g){if(!(g<b&&r(E=h[g],g,h))===x)if(x=!x)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),C=g-1;C>=v;--C)o.point(T[C],R[C]);o.lineEnd(),o.areaEnd()}x&&(T[g]=+n(E,g,h),R[g]=+e(E,g,h),o.point(i?+i(E,g,h):T[g],t?+t(E,g,h):R[g]))}if(I)return o=null,I+""||null}function d(){return n9().defined(r).curve(a).context(s)}return u.x=function(h){return arguments.length?(n=typeof h=="function"?h:un(+h),i=null,u):n},u.x0=function(h){return arguments.length?(n=typeof h=="function"?h:un(+h),u):n},u.x1=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:un(+h),u):i},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:un(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:un(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:un(+h),u):t},u.lineX0=u.lineY0=function(){return d().x(n).y(e)},u.lineY1=function(){return d().x(n).y(t)},u.lineX1=function(){return d().x(i).y(e)},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:un(!!h),u):r},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class i9{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function SCe(n){return new i9(n,!0)}function xCe(n){return new i9(n,!1)}const YQ={draw(n,e){const t=xo(e/oT);n.moveTo(t,0),n.arc(0,0,t,0,H1)}},_Ce={draw(n,e){const t=xo(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},r9=xo(1/3),TCe=r9*2,ICe={draw(n,e){const t=xo(e/TCe),i=t*r9;n.moveTo(0,-t),n.lineTo(i,0),n.lineTo(0,t),n.lineTo(-i,0),n.closePath()}},FCe={draw(n,e){const t=xo(e),i=-t/2;n.rect(i,i,t,t)}},UCe=.8908130915292852,s9=aT(oT/10)/aT(7*oT/10),MCe=aT(H1/10)*s9,PCe=-XX(H1/10)*s9,RCe={draw(n,e){const t=xo(e*UCe),i=MCe*t,r=PCe*t;n.moveTo(0,-t),n.lineTo(i,r);for(let s=1;s<5;++s){const a=H1*s/5,o=XX(a),l=aT(a);n.lineTo(l*t,-o*t),n.lineTo(o*i-l*r,l*i+o*r)}n.closePath()}},MM=xo(3),DCe={draw(n,e){const t=-xo(e/(MM*3));n.moveTo(0,t*2),n.lineTo(-MM*t,-t),n.lineTo(MM*t,-t),n.closePath()}},ha=-.5,pa=xo(3)/2,pL=1/xo(12),NCe=(pL/2+1)*3,LCe={draw(n,e){const t=xo(e/NCe),i=t/2,r=t*pL,s=i,a=t*pL+t,o=-s,l=a;n.moveTo(i,r),n.lineTo(s,a),n.lineTo(o,l),n.lineTo(ha*i-pa*r,pa*i+ha*r),n.lineTo(ha*s-pa*a,pa*s+ha*a),n.lineTo(ha*o-pa*l,pa*o+ha*l),n.lineTo(ha*i+pa*r,ha*r-pa*i),n.lineTo(ha*s+pa*a,ha*a-pa*s),n.lineTo(ha*o+pa*l,ha*l-pa*o),n.closePath()}};function QCe(n,e){let t=null,i=jQ(r);n=typeof n=="function"?n:un(n||YQ),e=typeof e=="function"?e:un(e===void 0?64:+e);function r(){let s;if(t||(t=s=i()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return r.type=function(s){return arguments.length?(n=typeof s=="function"?s:un(s),r):n},r.size=function(s){return arguments.length?(e=typeof s=="function"?s:un(+s),r):e},r.context=function(s){return arguments.length?(t=s??null,r):t},r}function AT(){}function lT(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function a9(n){this._context=n}a9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function OCe(n){return new a9(n)}function o9(n){this._context=n}o9.prototype={areaStart:AT,areaEnd:AT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:lT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function kCe(n){return new o9(n)}function A9(n){this._context=n}A9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 3:this._point=4;default:lT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function HCe(n){return new A9(n)}function l9(n){this._context=n}l9.prototype={areaStart:AT,areaEnd:AT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function VCe(n){return new l9(n)}function yz(n){return n<0?-1:1}function wz(n,e,t){var i=n._x1-n._x0,r=e-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),a=(t-n._y1)/(r||i<0&&-0),o=(s*r+a*i)/(i+r);return(yz(s)+yz(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Cz(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function PM(n,e,t){var i=n._x0,r=n._y0,s=n._x1,a=n._y1,o=(s-i)/3;n._context.bezierCurveTo(i+o,r+o*e,s-o,a-o*t,s,a)}function uT(n){this._context=n}uT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:PM(this,this._t0,Cz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,PM(this,Cz(this,t=wz(this,n,e)),t);break;default:PM(this,this._t0,t=wz(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function u9(n){this._context=new c9(n)}(u9.prototype=Object.create(uT.prototype)).point=function(n,e){uT.prototype.point.call(this,e,n)};function c9(n){this._context=n}c9.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,i,r,s){this._context.bezierCurveTo(e,n,i,t,s,r)}};function KCe(n){return new uT(n)}function GCe(n){return new u9(n)}function d9(n){this._context=n}d9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var i=bz(n),r=bz(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function bz(n){var e,t=n.length-1,i,r=new Array(t),s=new Array(t),a=new Array(t);for(r[0]=0,s[0]=2,a[0]=n[0]+2*n[1],e=1;e<t-1;++e)r[e]=1,s[e]=4,a[e]=4*n[e]+2*n[e+1];for(r[t-1]=2,s[t-1]=7,a[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)i=r[e]/s[e-1],s[e]-=i,a[e]-=i*a[e-1];for(r[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)r[e]=(a[e]-r[e+1])/s[e];for(s[t-1]=(n[t]+r[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-r[e+1];return[r,s]}function zCe(n){return new d9(n)}function K1(n,e){this._context=n,this._t=e}K1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function qCe(n){return new K1(n,.5)}function $Ce(n){return new K1(n,0)}function jCe(n){return new K1(n,1)}function jv(n,e){if((a=n.length)>1)for(var t=1,i,r,s=n[e[0]],a,o=s.length;t<a;++t)for(r=s,s=n[e[t]],i=0;i<o;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function gL(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function WCe(n,e){return n[e]}function YCe(n){const e=[];return e.key=n,e}function XCe(){var n=un([]),e=gL,t=jv,i=WCe;function r(s){var a=Array.from(n.apply(this,arguments),YCe),o,l=a.length,u=-1,d;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+i(h,a[o].key,u,s)]).data=h;for(o=0,d=WQ(e(a));o<l;++o)a[d[o]].index=o;return t(a,d),a}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:un(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:un(+s),r):i},r.order=function(s){return arguments.length?(e=s==null?gL:typeof s=="function"?s:un(Array.from(s)),r):e},r.offset=function(s){return arguments.length?(t=s??jv,r):t},r}function JCe(n,e){if((i=n.length)>0){for(var t,i,r=0,s=n[0].length,a;r<s;++r){for(a=t=0;t<i;++t)a+=n[t][r][1]||0;if(a)for(t=0;t<i;++t)n[t][r][1]/=a}jv(n,e)}}function ZCe(n,e){if((r=n.length)>0){for(var t=0,i=n[e[0]],r,s=i.length;t<s;++t){for(var a=0,o=0;a<r;++a)o+=n[a][t][1]||0;i[t][1]+=i[t][0]=-o/2}jv(n,e)}}function ebe(n,e){if(!(!((a=n.length)>0)||!((s=(r=n[e[0]]).length)>0))){for(var t=0,i=1,r,s,a;i<s;++i){for(var o=0,l=0,u=0;o<a;++o){for(var d=n[e[o]],h=d[i][1]||0,g=d[i-1][1]||0,v=(h-g)/2,C=0;C<o;++C){var b=n[e[C]],E=b[i][1]||0,x=b[i-1][1]||0;v+=E-x}l+=h,u+=v*h}r[i-1][1]+=r[i-1][0]=t,l&&(t-=u/l)}r[i-1][1]+=r[i-1][0]=t,jv(n,e)}}var RM={},DM={},Bz;function tbe(){return Bz||(Bz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(DM)),DM}var NM={},Ez;function f9(){return Ez||(Ez=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(NM)),NM}var LM={},Sz;function XQ(){return Sz||(Sz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var i;return typeof t=="string"||typeof t=="symbol"?t:Object.is((i=t==null?void 0:t.valueOf)==null?void 0:i.call(t),-0)?"-0":String(t)}n.toKey=e})(LM)),LM}var QM={},OM={},xz;function nbe(){return xz||(xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const i=String(t);return i==="0"&&Object.is(Number(t),-0)?"-0":i}n.toString=e})(OM)),OM}var _z;function JQ(){return _z||(_z=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=nbe(),t=XQ();function i(r){if(Array.isArray(r))return r.map(t.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const s=[],a=r.length;if(a===0)return s;let o=0,l="",u="",d=!1;for(r.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const h=r[o];u?h==="\\"&&o+1<a?(o++,l+=r[o]):h===u?u="":l+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,s.push(l),l=""):l+=h:h==="["?(d=!0,l&&(s.push(l),l="")):h==="."?l&&(s.push(l),l=""):l+=h,o++}return l&&s.push(l),s}n.toPath=i})(QM)),QM}var Tz;function ZQ(){return Tz||(Tz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=tbe(),t=f9(),i=XQ(),r=JQ();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?t.isDeepKey(l)?s(o,r.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=i.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return u;d=d[l[h]]}return d===void 0?u:d}n.get=s})(RM)),RM}var kM,Iz;function ibe(){return Iz||(Iz=1,kM=ZQ().get),kM}var rbe=ibe();const Wv=CA(rbe);var $s=n=>n===0?0:n>0?1:-1,gA=n=>typeof n=="number"&&n!=+n,lu=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,qe=n=>(typeof n=="number"||n instanceof Number)&&!gA(n),mA=n=>qe(n)||typeof n=="string",sbe=0,Qw=n=>{var e=++sbe;return"".concat(n||"").concat(e)},wo=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qe(e)&&typeof e!="string")return i;var s;if(lu(e)){if(t==null)return i;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return gA(s)&&(s=i),r&&t!=null&&s>t&&(s=t),s},h9=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},i=0;i<e;i++)if(!t[n[i]])t[n[i]]=!0;else return!0;return!1};function er(n,e,t){return qe(n)&&qe(e)?n+t*(e-n):e}function abe(n,e,t){if(!(!n||!n.length))return n.find(i=>i&&(typeof e=="function"?e(i):Wv(i,e))===t)}var Li=n=>n===null||typeof n>"u",QB=n=>Li(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function obe(n){return n!=null}function OB(){}var Abe=["type","size","sizeType"];function mL(){return mL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mL.apply(null,arguments)}function Fz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Uz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(t),!0).forEach(function(i){lbe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lbe(n,e,t){return(e=ube(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ube(n){var e=cbe(n,"string");return typeof e=="symbol"?e:e+""}function cbe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function dbe(n,e){if(n==null)return{};var t,i,r=fbe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function fbe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var p9={symbolCircle:YQ,symbolCross:_Ce,symbolDiamond:ICe,symbolSquare:FCe,symbolStar:RCe,symbolTriangle:DCe,symbolWye:LCe},hbe=Math.PI/180,pbe=n=>{var e="symbol".concat(QB(n));return p9[e]||YQ},gbe=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*hbe;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},mbe=(n,e)=>{p9["symbol".concat(QB(n))]=e},g9=n=>{var{type:e="circle",size:t=64,sizeType:i="area"}=n,r=dbe(n,Abe),s=Uz(Uz({},r),{},{type:e,size:t,sizeType:i}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=pbe(a),v=QCe().type(g).size(gbe(t,i,a)),C=v();if(C!==null)return C},{className:l,cx:u,cy:d}=s,h=Ka(s);return qe(u)&&qe(d)&&qe(t)?P.createElement("path",mL({},h,{className:yn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};g9.registerSymbol=mbe;var m9=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,vbe=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(P.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var i={};return Object.keys(t).forEach(r=>{qQ(r)&&(i[r]=(s=>t[r](t,s)))}),i},ybe=(n,e,t)=>i=>(n(e,t,i),null),eO=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(r=>{var s=n[r];qQ(r)&&typeof s=="function"&&(i||(i={}),i[r]=ybe(s,e,t))}),i};function Mz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function wbe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(t),!0).forEach(function(i){Cbe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Mz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Cbe(n,e,t){return(e=bbe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bbe(n){var e=Bbe(n,"string");return typeof e=="symbol"?e:e+""}function Bbe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qa(n,e){var t=wbe({},n),i=e,r=Object.keys(e),s=r.reduce((a,o)=>(a[o]===void 0&&i[o]!==void 0&&(a[o]=i[o]),a),t);return s}var HM={},VM={},Pz;function Ebe(){return Pz||(Pz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){const r=new Map;for(let s=0;s<t.length;s++){const a=t[s],o=i(a);r.has(o)||r.set(o,a)}return Array.from(r.values())}n.uniqBy=e})(VM)),VM}var KM={},Rz;function v9(){return Rz||(Rz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(KM)),KM}var GM={},zM={},qM={},Dz;function Sbe(){return Dz||(Dz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(qM)),qM}var Nz;function tO(){return Nz||(Nz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Sbe();function t(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}n.isArrayLike=t})(zM)),zM}var $M={},Lz;function xbe(){return Lz||(Lz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})($M)),$M}var Qz;function _be(){return Qz||(Qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=tO(),t=xbe();function i(r){return t.isObjectLike(r)&&e.isArrayLike(r)}n.isArrayLikeObject=i})(GM)),GM}var jM={},WM={},Oz;function Tbe(){return Oz||(Oz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ZQ();function t(i){return function(r){return e.get(r,i)}}n.property=t})(WM)),WM}var YM={},XM={},JM={},ZM={},kz;function y9(){return kz||(kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(ZM)),ZM}var eP={},Hz;function w9(){return Hz||(Hz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(eP)),eP}var tP={},Vz;function C9(){return Vz||(Vz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){return t===i||Number.isNaN(t)&&Number.isNaN(i)}n.eq=e})(tP)),tP}var Kz;function Ibe(){return Kz||(Kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=y9(),t=w9(),i=C9();function r(d,h,g){return typeof g!="function"?r(d,h,()=>{}):s(d,h,function v(C,b,E,x,I,T){const R=g(C,b,E,x,I,T);return R!==void 0?!!R:s(C,b,v,T)},new Map)}function s(d,h,g,v){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,g,v);case"function":return Object.keys(h).length>0?s(d,{...h},g,v):i.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function a(d,h,g,v){if(h==null)return!0;if(Array.isArray(h))return l(d,h,g,v);if(h instanceof Map)return o(d,h,g,v);if(h instanceof Set)return u(d,h,g,v);const C=Object.keys(h);if(d==null)return C.length===0;if(C.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===d;v==null||v.set(h,d);try{for(let b=0;b<C.length;b++){const E=C[b];if(!t.isPrimitive(d)&&!(E in d)||h[E]===void 0&&d[E]!==void 0||h[E]===null&&d[E]!==null||!g(d[E],h[E],E,d,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function o(d,h,g,v){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[C,b]of h.entries()){const E=d.get(C);if(g(E,b,C,d,h,v)===!1)return!1}return!0}function l(d,h,g,v){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const C=new Set;for(let b=0;b<h.length;b++){const E=h[b];let x=!1;for(let I=0;I<d.length;I++){if(C.has(I))continue;const T=d[I];let R=!1;if(g(T,E,b,d,h,v)&&(R=!0),R){C.add(I),x=!0;break}}if(!x)return!1}return!0}function u(d,h,g,v){return h.size===0?!0:d instanceof Set?l([...d],[...h],g,v):!1}n.isMatchWith=r,n.isSetMatch=u})(JM)),JM}var Gz;function b9(){return Gz||(Gz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Ibe();function t(i,r){return e.isMatchWith(i,r,()=>{})}n.isMatch=t})(XM)),XM}var nP={},iP={},rP={},zz;function Fbe(){return zz||(zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(i=>Object.prototype.propertyIsEnumerable.call(t,i))}n.getSymbols=e})(rP)),rP}var sP={},qz;function B9(){return qz||(qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(sP)),sP}var aP={},$z;function E9(){return $z||($z=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",i="[object Number]",r="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",C="[object Error]",b="[object DataView]",E="[object Uint8Array]",x="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]",R="[object BigUint64Array]",M="[object Int8Array]",D="[object Int16Array]",L="[object Int32Array]",H="[object BigInt64Array]",O="[object Float32Array]",K="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=d,n.bigInt64ArrayTag=H,n.bigUint64ArrayTag=R,n.booleanTag=r,n.dataViewTag=b,n.dateTag=o,n.errorTag=C,n.float32ArrayTag=O,n.float64ArrayTag=K,n.functionTag=h,n.int16ArrayTag=D,n.int32ArrayTag=L,n.int8ArrayTag=M,n.mapTag=l,n.numberTag=i,n.objectTag=v,n.regexpTag=e,n.setTag=u,n.stringTag=t,n.symbolTag=a,n.uint16ArrayTag=I,n.uint32ArrayTag=T,n.uint8ArrayTag=E,n.uint8ClampedArrayTag=x})(aP)),aP}var oP={},jz;function Ube(){return jz||(jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(oP)),oP}var Wz;function S9(){return Wz||(Wz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Fbe(),t=B9(),i=E9(),r=w9(),s=Ube();function a(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,g,v=new Map,C=void 0){const b=C==null?void 0:C(d,h,g,v);if(b!==void 0)return b;if(r.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const E=new Array(d.length);v.set(d,E);for(let x=0;x<d.length;x++)E[x]=o(d[x],x,g,v,C);return Object.hasOwn(d,"index")&&(E.index=d.index),Object.hasOwn(d,"input")&&(E.input=d.input),E}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const E=new RegExp(d.source,d.flags);return E.lastIndex=d.lastIndex,E}if(d instanceof Map){const E=new Map;v.set(d,E);for(const[x,I]of d)E.set(x,o(I,x,g,v,C));return E}if(d instanceof Set){const E=new Set;v.set(d,E);for(const x of d)E.add(o(x,void 0,g,v,C));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const E=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,E);for(let x=0;x<d.length;x++)E[x]=o(d[x],x,g,v,C);return E}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const E=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,E),l(E,d,g,v,C),E}if(typeof File<"u"&&d instanceof File){const E=new File([d],d.name,{type:d.type});return v.set(d,E),l(E,d,g,v,C),E}if(typeof Blob<"u"&&d instanceof Blob){const E=new Blob([d],{type:d.type});return v.set(d,E),l(E,d,g,v,C),E}if(d instanceof Error){const E=new d.constructor;return v.set(d,E),E.message=d.message,E.name=d.name,E.stack=d.stack,E.cause=d.cause,l(E,d,g,v,C),E}if(d instanceof Boolean){const E=new Boolean(d.valueOf());return v.set(d,E),l(E,d,g,v,C),E}if(d instanceof Number){const E=new Number(d.valueOf());return v.set(d,E),l(E,d,g,v,C),E}if(d instanceof String){const E=new String(d.valueOf());return v.set(d,E),l(E,d,g,v,C),E}if(typeof d=="object"&&u(d)){const E=Object.create(Object.getPrototypeOf(d));return v.set(d,E),l(E,d,g,v,C),E}return d}function l(d,h,g=d,v,C){const b=[...Object.keys(h),...e.getSymbols(h)];for(let E=0;E<b.length;E++){const x=b[E],I=Object.getOwnPropertyDescriptor(d,x);(I==null||I.writable)&&(d[x]=o(h[x],x,g,v,C))}}function u(d){switch(t.getTag(d)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=a,n.cloneDeepWithImpl=o,n.copyProperties=l})(iP)),iP}var Yz;function Mbe(){return Yz||(Yz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=S9();function t(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=t})(nP)),nP}var Xz;function Pbe(){return Xz||(Xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=b9(),t=Mbe();function i(r){return r=t.cloneDeep(r),s=>e.isMatch(s,r)}n.matches=i})(YM)),YM}var AP={},lP={},uP={},Jz;function Rbe(){return Jz||(Jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=S9(),t=E9();function i(r,s){return e.cloneDeepWith(r,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new r.constructor(r==null?void 0:r.valueOf());return e.copyProperties(h,r),h}case t.argumentsTag:{const h={};return e.copyProperties(h,r),h.length=r.length,h[Symbol.iterator]=r[Symbol.iterator],h}default:return}})}n.cloneDeepWith=i})(uP)),uP}var Zz;function Dbe(){return Zz||(Zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Rbe();function t(i){return e.cloneDeepWith(i)}n.cloneDeep=t})(lP)),lP}var cP={},dP={},eq;function x9(){return eq||(eq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}n.isIndex=t})(dP)),dP}var fP={},tq;function Nbe(){return tq||(tq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=B9();function t(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}n.isArguments=t})(fP)),fP}var nq;function Lbe(){return nq||(nq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=f9(),t=x9(),i=Nbe(),r=JQ();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=r.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const h=l[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||i.isArguments(u))&&t.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}n.has=s})(cP)),cP}var iq;function Qbe(){return iq||(iq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=b9(),t=XQ(),i=Dbe(),r=ZQ(),s=Lbe();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return l=i.cloneDeep(l),function(u){const d=r.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}n.matchesProperty=a})(AP)),AP}var rq;function Obe(){return rq||(rq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=v9(),t=Tbe(),i=Pbe(),r=Qbe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?r.matchesProperty(a[0],a[1]):i.matches(a);case"string":case"symbol":case"number":return t.property(a)}}n.iteratee=s})(jM)),jM}var sq;function kbe(){return sq||(sq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Ebe(),t=v9(),i=_be(),r=Obe();function s(a,o=t.identity){return i.isArrayLikeObject(a)?e.uniqBy(Array.from(a),r.iteratee(o)):[]}n.uniqBy=s})(HM)),HM}var hP,aq;function Hbe(){return aq||(aq=1,hP=kbe().uniqBy),hP}var Vbe=Hbe();const oq=CA(Vbe);function Kbe(n,e,t){return e===!0?oq(n,t):typeof e=="function"?oq(n,e):n}var pP={exports:{}},gP={},mP={exports:{}},vP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aq;function Gbe(){if(Aq)return vP;Aq=1;var n=oy();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(h,g){var v=g(),C=i({inst:{value:v,getSnapshot:g}}),b=C[0].inst,E=C[1];return s(function(){b.value=v,b.getSnapshot=g,l(b)&&E({inst:b})},[h,v,g]),r(function(){return l(b)&&E({inst:b}),h(function(){l(b)&&E({inst:b})})},[h]),a(v),v}function l(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!t(h,v)}catch{return!0}}function u(h,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return vP.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,vP}var lq;function zbe(){return lq||(lq=1,mP.exports=Gbe()),mP.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uq;function qbe(){if(uq)return gP;uq=1;var n=oy(),e=zbe();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return gP.useSyncExternalStoreWithSelector=function(u,d,h,g,v){var C=s(null);if(C.current===null){var b={hasValue:!1,value:null};C.current=b}else b=C.current;C=o(function(){function x(D){if(!I){if(I=!0,T=D,D=g(D),v!==void 0&&b.hasValue){var L=b.value;if(v(L,D))return R=L}return R=D}if(L=R,i(T,D))return L;var H=g(D);return v!==void 0&&v(L,H)?(T=D,L):(T=D,R=H)}var I=!1,T,R,M=h===void 0?null:h;return[function(){return x(d())},M===null?void 0:function(){return x(M())}]},[d,h,g,v]);var E=r(u,C[0],C[1]);return a(function(){b.hasValue=!0,b.value=E},[E]),l(E),E},gP}var cq;function $be(){return cq||(cq=1,pP.exports=qbe()),pP.exports}var jbe=$be(),nO=P.createContext(null),Wbe=n=>n,Jn=()=>{var n=P.useContext(nO);return n?n.store.dispatch:Wbe},x_=()=>{},Ybe=()=>x_,Xbe=(n,e)=>n===e;function Ge(n){var e=P.useContext(nO);return jbe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Ybe,e?e.store.getState:x_,e?e.store.getState:x_,e?n:x_,Xbe)}function Jbe(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function Zbe(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function eBe(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var dq=n=>Array.isArray(n)?n:[n];function tBe(n){const e=Array.isArray(n[0])?n[0]:n;return eBe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function nBe(n,e){const t=[],{length:i}=n;for(let r=0;r<i;r++)t.push(n[r].apply(null,e));return t}var iBe=class{constructor(n){this.value=n}deref(){return this.value}},rBe=typeof WeakRef<"u"?WeakRef:iBe,sBe=0,fq=1;function sx(){return{s:sBe,v:void 0,o:null,p:null}}function _9(n,e={}){let t=sx();const{resultEqualityCheck:i}=e;let r,s=0;function a(){var h;let o=t;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const C=arguments[g];if(typeof C=="function"||typeof C=="object"&&C!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const E=b.get(C);E===void 0?(o=sx(),b.set(C,o)):o=E}else{let b=o.p;b===null&&(o.p=b=new Map);const E=b.get(C);E===void 0?(o=sx(),b.set(C,o)):o=E}}const u=o;let d;if(o.s===fq)d=o.v;else if(d=n.apply(null,arguments),s++,i){const g=((h=r==null?void 0:r.deref)==null?void 0:h.call(r))??r;g!=null&&i(g,d)&&(d=g,s!==0&&s--),r=typeof d=="object"&&d!==null||typeof d=="function"?new rBe(d):d}return u.s=fq,u.v=d,d}return a.clearCache=()=>{t=sx(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function aBe(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...r)=>{let s=0,a=0,o,l={},u=r.pop();typeof u=="object"&&(l=u,u=r.pop()),Jbe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...t,...l},{memoize:h,memoizeOptions:g=[],argsMemoize:v=_9,argsMemoizeOptions:C=[]}=d,b=dq(g),E=dq(C),x=tBe(r),I=h(function(){return s++,u.apply(null,arguments)},...b),T=v(function(){a++;const M=nBe(x,arguments);return o=I.apply(null,M),o},...E);return Object.assign(T,{resultFunc:u,memoizedResultFunc:I,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(i,{withTypes:()=>i}),i}var le=aBe(_9),oBe=Object.assign((n,e=le)=>{Zbe(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(s=>n[s]);return e(i,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>oBe}),yP={},wP={},CP={},hq;function ABe(){return hq||(hq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const t=(i,r,s)=>{if(i!==r){const a=e(i),o=e(r);if(a===o&&a===0){if(i<r)return s==="desc"?1:-1;if(i>r)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};n.compareValues=t})(CP)),CP}var bP={},BP={},pq;function T9(){return pq||(pq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(BP)),BP}var gq;function lBe(){return gq||(gq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=T9(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!t.test(s))||a!=null&&Object.hasOwn(a,s)}n.isKey=r})(bP)),bP}var mq;function uBe(){return mq||(mq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ABe(),t=lBe(),i=JQ();function r(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const u=(v,C)=>{let b=v;for(let E=0;E<C.length&&b!=null;++E)b=b[C[E]];return b},d=(v,C)=>C==null||v==null?C:typeof v=="object"&&"key"in v?Object.hasOwn(C,v.key)?C[v.key]:u(C,v.path):typeof v=="function"?v(C):Array.isArray(v)?u(C,v):typeof C=="object"?C[v]:C,h=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||t.isKey(v)?v:{key:v,path:i.toPath(v)}));return s.map(v=>({original:v,criteria:h.map(C=>d(C,v))})).slice().sort((v,C)=>{for(let b=0;b<h.length;b++){const E=e.compareValues(v.criteria[b],C.criteria[b],o[b]);if(E!==0)return E}return 0}).map(v=>v.original)}n.orderBy=r})(wP)),wP}var EP={},vq;function cBe(){return vq||(vq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i=1){const r=[],s=Math.floor(i),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):r.push(d)}};return a(t,0),r}n.flatten=e})(EP)),EP}var SP={},yq;function I9(){return yq||(yq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=x9(),t=tO(),i=y9(),r=C9();function s(a,o,l){return i.isObject(l)&&(typeof o=="number"&&t.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?r.eq(l[o],a):!1}n.isIterateeCall=s})(SP)),SP}var wq;function dBe(){return wq||(wq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=uBe(),t=cBe(),i=I9();function r(s,...a){const o=a.length;return o>1&&i.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&i.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,t.flatten(a),["asc"])}n.sortBy=r})(yP)),yP}var xP,Cq;function fBe(){return Cq||(Cq=1,xP=dBe().sortBy),xP}var hBe=fBe();const G1=CA(hBe);var F9=n=>n.legend.settings,pBe=n=>n.legend.size,gBe=n=>n.legend.payload;le([gBe,F9],(n,e)=>{var{itemSorter:t}=e,i=n.flat(1);return t?G1(i,t):i});var ax=1;function mBe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=P.useState({height:0,left:0,top:0,width:0}),i=P.useCallback(r=>{if(r!=null){var s=r.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>ax||Math.abs(a.left-e.left)>ax||Math.abs(a.top-e.top)>ax||Math.abs(a.width-e.width)>ax)&&t({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,i]}function Yi(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var vBe=typeof Symbol=="function"&&Symbol.observable||"@@observable",bq=vBe,_P=()=>Math.random().toString(36).substring(7).split("").join("."),yBe={INIT:`@@redux/INIT${_P()}`,REPLACE:`@@redux/REPLACE${_P()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_P()}`},cT=yBe;function iO(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function U9(n,e,t){if(typeof n!="function")throw new Error(Yi(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Yi(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Yi(1));return t(U9)(n,e)}let i=n,r=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((E,x)=>{a.set(x,E)}))}function d(){if(l)throw new Error(Yi(3));return r}function h(E){if(typeof E!="function")throw new Error(Yi(4));if(l)throw new Error(Yi(5));let x=!0;u();const I=o++;return a.set(I,E),function(){if(x){if(l)throw new Error(Yi(6));x=!1,u(),a.delete(I),s=null}}}function g(E){if(!iO(E))throw new Error(Yi(7));if(typeof E.type>"u")throw new Error(Yi(8));if(typeof E.type!="string")throw new Error(Yi(17));if(l)throw new Error(Yi(9));try{l=!0,r=i(r,E)}finally{l=!1}return(s=a).forEach(I=>{I()}),E}function v(E){if(typeof E!="function")throw new Error(Yi(10));i=E,g({type:cT.REPLACE})}function C(){const E=h;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Yi(11));function I(){const R=x;R.next&&R.next(d())}return I(),{unsubscribe:E(I)}},[bq](){return this}}}return g({type:cT.INIT}),{dispatch:g,subscribe:h,getState:d,replaceReducer:v,[bq]:C}}function wBe(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:cT.INIT})>"u")throw new Error(Yi(12));if(typeof t(void 0,{type:cT.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yi(13))})}function M9(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof n[a]=="function"&&(t[a]=n[a])}const i=Object.keys(t);let r;try{wBe(t)}catch(s){r=s}return function(a={},o){if(r)throw r;let l=!1;const u={};for(let d=0;d<i.length;d++){const h=i[d],g=t[h],v=a[h],C=g(v,o);if(typeof C>"u")throw o&&o.type,new Error(Yi(14));u[h]=C,l=l||C!==v}return l=l||i.length!==Object.keys(a).length,l?u:a}}function dT(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function CBe(...n){return e=>(t,i)=>{const r=e(t,i);let s=()=>{throw new Error(Yi(15))};const a={getState:r.getState,dispatch:(l,...u)=>s(l,...u)},o=n.map(l=>l(a));return s=dT(...o)(r.dispatch),{...r,dispatch:s}}}function P9(n){return iO(n)&&"type"in n&&typeof n.type=="string"}var R9=Symbol.for("immer-nothing"),Bq=Symbol.for("immer-draftable"),kr=Symbol.for("immer-state");function po(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var js=Object,Yv=js.getPrototypeOf,fT="constructor",z1="prototype",vL="configurable",hT="enumerable",__="writable",Ow="value",uu=n=>!!n&&!!n[kr];function Co(n){var e;return n?D9(n)||q1(n)||!!n[Bq]||!!((e=n[fT])!=null&&e[Bq])||$1(n)||j1(n):!1}var bBe=js[z1][fT].toString(),Eq=new WeakMap;function D9(n){if(!n||!rO(n))return!1;const e=Yv(n);if(e===null||e===js[z1])return!0;const t=js.hasOwnProperty.call(e,fT)&&e[fT];if(t===Object)return!0;if(!Tg(t))return!1;let i=Eq.get(t);return i===void 0&&(i=Function.toString.call(t),Eq.set(t,i)),i===bBe}function kB(n,e,t=!0){HB(n)===0?(t?Reflect.ownKeys(n):js.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function HB(n){const e=n[kr];return e?e.type_:q1(n)?1:$1(n)?2:j1(n)?3:0}var Sq=(n,e,t=HB(n))=>t===2?n.has(e):js[z1].hasOwnProperty.call(n,e),yL=(n,e,t=HB(n))=>t===2?n.get(e):n[e],pT=(n,e,t,i=HB(n))=>{i===2?n.set(e,t):i===3?n.add(t):n[e]=t};function BBe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var q1=Array.isArray,$1=n=>n instanceof Map,j1=n=>n instanceof Set,rO=n=>typeof n=="object",Tg=n=>typeof n=="function",TP=n=>typeof n=="boolean",ZA=n=>n.copy_||n.base_,sO=n=>n.modified_?n.copy_:n.base_;function wL(n,e){if($1(n))return new Map(n);if(j1(n))return new Set(n);if(q1(n))return Array[z1].slice.call(n);const t=D9(n);if(e===!0||e==="class_only"&&!t){const i=js.getOwnPropertyDescriptors(n);delete i[kr];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],o=i[a];o[__]===!1&&(o[__]=!0,o[vL]=!0),(o.get||o.set)&&(i[a]={[vL]:!0,[__]:!0,[hT]:o[hT],[Ow]:n[a]})}return js.create(Yv(n),i)}else{const i=Yv(n);if(i!==null&&t)return{...n};const r=js.create(i);return js.assign(r,n)}}function aO(n,e=!1){return W1(n)||uu(n)||!Co(n)||(HB(n)>1&&js.defineProperties(n,{set:ox,add:ox,clear:ox,delete:ox}),js.freeze(n),e&&kB(n,(t,i)=>{aO(i,!0)},!1)),n}function EBe(){po(2)}var ox={[Ow]:EBe};function W1(n){return n===null||!rO(n)?!0:js.isFrozen(n)}var gT="MapSet",CL="Patches",N9={};function Xv(n){const e=N9[n];return e||po(0,n),e}var SBe=n=>!!N9[n],kw,L9=()=>kw,xBe=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:SBe(gT)?Xv(gT):void 0});function xq(n,e){e&&(n.patchPlugin_=Xv(CL),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function bL(n){BL(n),n.drafts_.forEach(_Be),n.drafts_=null}function BL(n){n===kw&&(kw=n.parent_)}var _q=n=>kw=xBe(kw,n);function _Be(n){const e=n[kr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Tq(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[kr].modified_&&(bL(e),po(4)),Co(n)&&(n=Iq(e,n));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(t[kr].base_,n,e)}else n=Iq(e,t);return TBe(e,n,!0),bL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==R9?n:void 0}function Iq(n,e){if(W1(e))return e;const t=e[kr];if(!t)return oO(e,n.handledSet_,n);if(!Y1(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:i}=t;if(i)for(;i.length>0;)i.pop()(n);k9(t,n)}return t.copy_}function TBe(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&aO(e,t)}function Q9(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Y1=(n,e)=>n.scope_===e,IBe=[];function O9(n,e,t,i){const r=ZA(n),s=n.type_;if(i!==void 0&&yL(r,i,s)===e){pT(r,i,t,s);return}if(!n.draftLocations_){const o=n.draftLocations_=new Map;kB(r,(l,u)=>{if(uu(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const a=n.draftLocations_.get(e)??IBe;for(const o of a)pT(r,o,t,s)}function FBe(n,e,t){n.callbacks_.push(function(r){var o;const s=e;if(!s||!Y1(s,r))return;(o=r.mapSetPlugin_)==null||o.fixSetContents(s);const a=sO(s);O9(n,s.draft_??s,a,t),k9(s,r)})}function k9(n,e){var i;if(n.modified_&&!n.finalized_&&(n.type_===3||(((i=n.assigned_)==null?void 0:i.size)??0)>0)){const{patchPlugin_:r}=e;if(r){const s=r.getPath(n);s&&r.generatePatches_(n,s,e)}Q9(n)}}function UBe(n,e,t){const{scope_:i}=n;if(uu(t)){const r=t[kr];Y1(r,i)&&r.callbacks_.push(function(){T_(n);const a=sO(r);O9(n,t,a,e)})}else Co(t)&&n.callbacks_.push(function(){const s=ZA(n);yL(s,e,n.type_)===t&&i.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&oO(yL(n.copy_,e,n.type_),i.handledSet_,i)})}function oO(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||uu(n)||e.has(n)||!Co(n)||W1(n)||(e.add(n),kB(n,(i,r)=>{if(uu(r)){const s=r[kr];if(Y1(s,t)){const a=sO(s);pT(n,i,a,n.type_),Q9(s)}}else Co(r)&&oO(r,e,t)})),n}function MBe(n,e){const t=q1(n),i={type_:t?1:0,scope_:e?e.scope_:L9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,s=AO;t&&(r=[i],s=Hw);const{revoke:a,proxy:o}=Proxy.revocable(r,s);return i.draft_=o,i.revoke_=a,[o,i]}var AO={get(n,e){if(e===kr)return n;const t=ZA(n);if(!Sq(t,e,n.type_))return PBe(n,t,e);const i=t[e];if(n.finalized_||!Co(i))return i;if(i===IP(n.base_,e)){T_(n);const r=n.type_===1?+e:e,s=SL(n.scope_,i,n,r);return n.copy_[r]=s}return i},has(n,e){return e in ZA(n)},ownKeys(n){return Reflect.ownKeys(ZA(n))},set(n,e,t){const i=H9(ZA(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=IP(ZA(n),e),s=r==null?void 0:r[kr];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(BBe(t,r)&&(t!==void 0||Sq(n.base_,e,n.type_)))return!0;T_(n),EL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),UBe(n,e,t)),!0},deleteProperty(n,e){return T_(n),IP(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),EL(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ZA(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{[__]:!0,[vL]:n.type_!==1||e!=="length",[hT]:i[hT],[Ow]:t[e]}},defineProperty(){po(11)},getPrototypeOf(n){return Yv(n.base_)},setPrototypeOf(){po(12)}},Hw={};kB(AO,(n,e)=>{Hw[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});Hw.deleteProperty=function(n,e){return Hw.set.call(this,n,e,void 0)};Hw.set=function(n,e,t){return AO.set.call(this,n[0],e,t,n[0])};function IP(n,e){const t=n[kr];return(t?ZA(t):n)[e]}function PBe(n,e,t){var r;const i=H9(e,t);return i?Ow in i?i[Ow]:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function H9(n,e){if(!(e in n))return;let t=Yv(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Yv(t)}}function EL(n){n.modified_||(n.modified_=!0,n.parent_&&EL(n.parent_))}function T_(n){n.copy_||(n.assigned_=new Map,n.copy_=wL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var RBe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,i,r)=>{if(Tg(t)&&!Tg(i)){const a=i;i=t;const o=this;return function(u=a,...d){return o.produce(u,h=>i.call(this,h,...d))}}Tg(i)||po(6),r!==void 0&&!Tg(r)&&po(7);let s;if(Co(t)){const a=_q(this),o=SL(a,t,void 0);let l=!0;try{s=i(o),l=!1}finally{l?bL(a):BL(a)}return xq(a,r),Tq(s,a)}else if(!t||!rO(t)){if(s=i(t),s===void 0&&(s=t),s===R9&&(s=void 0),this.autoFreeze_&&aO(s,!0),r){const a=[],o=[];Xv(CL).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:o}),r(a,o)}return s}else po(1,t)},this.produceWithPatches=(t,i)=>{if(Tg(t))return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,s;return[this.produce(t,i,(o,l)=>{r=o,s=l}),r,s]},TP(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),TP(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),TP(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Co(e)||po(8),uu(e)&&(e=yo(e));const t=_q(this),i=SL(t,e,void 0);return i[kr].isManual_=!0,BL(t),i}finishDraft(e,t){const i=e&&e[kr];(!i||!i.isManual_)&&po(9);const{scope_:r}=i;return xq(r,t),Tq(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const s=t[i];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}i>-1&&(t=t.slice(i+1));const r=Xv(CL).applyPatches_;return uu(e)?r(e,t):this.produce(e,s=>r(s,t))}};function SL(n,e,t,i){const[r,s]=$1(e)?Xv(gT).proxyMap_(e,t):j1(e)?Xv(gT).proxySet_(e,t):MBe(e,t);return((t==null?void 0:t.scope_)??L9()).drafts_.push(r),s.callbacks_=(t==null?void 0:t.callbacks_)??[],s.key_=i,t&&i!==void 0?FBe(t,s,i):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),r}function yo(n){return uu(n)||po(10,n),V9(n)}function V9(n){if(!Co(n)||W1(n))return n;const e=n[kr];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=wL(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=wL(n,!0);return kB(t,(r,s)=>{pT(t,r,V9(s))},i),e&&(e.finalized_=!1),t}var DBe=new RBe,K9=DBe.produce;function G9(n){return({dispatch:t,getState:i})=>r=>s=>typeof s=="function"?s(t,i,n):r(s)}var NBe=G9(),LBe=G9,QBe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dT:dT.apply(null,arguments)};function Ga(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(Ws(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>P9(i)&&i.type===n,t}var z9=class pw extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,pw.prototype)}static get[Symbol.species](){return pw}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new pw(...e[0].concat(this)):new pw(...e.concat(this))}};function Fq(n){return Co(n)?K9(n,()=>{}):n}function Ax(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function OBe(n){return typeof n=="boolean"}var kBe=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let a=new z9;return t&&(OBe(t)?a.push(NBe):a.push(LBe(t.extraArgument))),a},q9="RTK_autoBatch",Sn=()=>n=>({payload:n,meta:{[q9]:!0}}),Uq=n=>e=>{setTimeout(e,n)},$9=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,s=!1,a=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Uq(10):n.type==="callback"?n.queueNotification:Uq(n.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},i,{subscribe(d){const h=()=>r&&d(),g=i.subscribe(h);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){var h;try{return r=!((h=d==null?void 0:d.meta)!=null&&h[q9]),s=!r,s&&(a||(a=!0,l(u))),i.dispatch(d)}finally{r=!0}}})},HBe=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new z9(n);return i&&r.push($9(typeof i=="object"?i:void 0)),r};function VBe(n){const e=kBe(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:a=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(iO(t))o=M9(t);else throw new Error(Ws(1));let l;typeof i=="function"?l=i(e):l=e();let u=dT;r&&(u=QBe({trace:!1,...typeof r=="object"&&r}));const d=CBe(...l),h=HBe(d);let g=typeof a=="function"?a(h):h();const v=u(...g);return U9(o,s,v)}function j9(n){const e={},t=[];let i;const r={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Ws(28));if(o in e)throw new Error(Ws(29));return e[o]=a,r},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),r},addMatcher(s,a){return t.push({matcher:s,reducer:a}),r},addDefaultCase(s){return i=s,r}};return n(r),[e,t,i]}function KBe(n){return typeof n=="function"}function GBe(n,e){let[t,i,r]=j9(e),s;if(KBe(n))s=()=>Fq(n());else{const o=Fq(n);s=()=>o}function a(o=s(),l){let u=[t[l.type],...i.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[r]),u.reduce((d,h)=>{if(h)if(uu(d)){const v=h(d,l);return v===void 0?d:v}else{if(Co(d))return K9(d,g=>h(g,l));{const g=h(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return a.getInitialState=s,a}var zBe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qBe=(n=21)=>{let e="",t=n;for(;t--;)e+=zBe[Math.random()*64|0];return e},$Be=Symbol.for("rtk-slice-createasyncthunk");function jBe(n,e){return`${n}/${e}`}function WBe({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[$Be];return function(r){const{name:s,reducerPath:a=s}=r;if(!s)throw new Error(Ws(11));const o=(typeof r.reducers=="function"?r.reducers(XBe()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,M){const D=typeof R=="string"?R:R.type;if(!D)throw new Error(Ws(12));if(D in u.sliceCaseReducersByType)throw new Error(Ws(13));return u.sliceCaseReducersByType[D]=M,d},addMatcher(R,M){return u.sliceMatchers.push({matcher:R,reducer:M}),d},exposeAction(R,M){return u.actionCreators[R]=M,d},exposeCaseReducer(R,M){return u.sliceCaseReducersByName[R]=M,d}};l.forEach(R=>{const M=o[R],D={reducerName:R,type:jBe(s,R),createNotation:typeof r.reducers=="function"};ZBe(M)?tEe(D,M,d,e):JBe(D,M,d)});function h(){const[R={},M=[],D=void 0]=typeof r.extraReducers=="function"?j9(r.extraReducers):[r.extraReducers],L={...R,...u.sliceCaseReducersByType};return GBe(r.initialState,H=>{for(let O in L)H.addCase(O,L[O]);for(let O of u.sliceMatchers)H.addMatcher(O.matcher,O.reducer);for(let O of M)H.addMatcher(O.matcher,O.reducer);D&&H.addDefaultCase(D)})}const g=R=>R,v=new Map,C=new WeakMap;let b;function E(R,M){return b||(b=h()),b(R,M)}function x(){return b||(b=h()),b.getInitialState()}function I(R,M=!1){function D(H){let O=H[R];return typeof O>"u"&&M&&(O=Ax(C,D,x)),O}function L(H=g){const O=Ax(v,M,()=>new WeakMap);return Ax(O,H,()=>{const K={};for(const[V,$]of Object.entries(r.selectors??{}))K[V]=YBe($,H,()=>Ax(C,H,x),M);return K})}return{reducerPath:R,getSelectors:L,get selectors(){return L(D)},selectSlice:D}}const T={name:s,reducer:E,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...I(a),injectInto(R,{reducerPath:M,...D}={}){const L=M??a;return R.inject({reducerPath:L,reducer:E},D),{...T,...I(L,!0)}}};return T}}function YBe(n,e,t,i){function r(s,...a){let o=e(s);return typeof o>"u"&&i&&(o=t()),n(o,...a)}return r.unwrapped=n,r}var ds=WBe();function XBe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function JBe({type:n,reducerName:e,createNotation:t},i,r){let s,a;if("reducer"in i){if(t&&!eEe(i))throw new Error(Ws(17));s=i.reducer,a=i.prepare}else s=i;r.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,a?Ga(n,a):Ga(n))}function ZBe(n){return n._reducerDefinitionType==="asyncThunk"}function eEe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function tEe({type:n,reducerName:e},t,i,r){if(!r)throw new Error(Ws(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=t,h=r(n,s,d);i.exposeAction(e,h),a&&i.addCase(h.fulfilled,a),o&&i.addCase(h.pending,o),l&&i.addCase(h.rejected,l),u&&i.addMatcher(h.settled,u),i.exposeCaseReducer(e,{fulfilled:a||lx,pending:o||lx,rejected:l||lx,settled:u||lx})}function lx(){}var nEe="task",W9="listener",Y9="completed",lO="cancelled",iEe=`task-${lO}`,rEe=`task-${Y9}`,xL=`${W9}-${lO}`,sEe=`${W9}-${Y9}`,X1=class{constructor(n){ge(this,"name","TaskAbortError");ge(this,"message");this.code=n,this.message=`${nEe} ${lO} (reason: ${n})`}},uO=(n,e)=>{if(typeof n!="function")throw new TypeError(Ws(32))},mT=()=>{},X9=(n,e=mT)=>(n.catch(e),n),J9=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),Jh=n=>{if(n.aborted)throw new X1(n.reason)};function Z9(n,e){let t=mT;return new Promise((i,r)=>{const s=()=>r(new X1(n.reason));if(n.aborted){s();return}t=J9(n,s),e.finally(()=>t()).then(i,r)}).finally(()=>{t=mT})}var aEe=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof X1?"cancelled":"rejected",error:t}}finally{e==null||e()}},vT=n=>e=>X9(Z9(n,e).then(t=>(Jh(n),t))),eJ=n=>{const e=vT(n);return t=>e(new Promise(i=>setTimeout(i,t)))},{assign:qg}=Object,Mq={},J1="listenerMiddleware",oEe=(n,e)=>{const t=i=>J9(n,()=>i.abort(n.reason));return(i,r)=>{uO(i);const s=new AbortController;t(s);const a=aEe(async()=>{Jh(n),Jh(s.signal);const o=await i({pause:vT(s.signal),delay:eJ(s.signal),signal:s.signal});return Jh(s.signal),o},()=>s.abort(rEe));return r!=null&&r.autoJoin&&e.push(a.catch(mT)),{result:vT(n)(a),cancel(){s.abort(iEe)}}}},AEe=(n,e)=>{const t=async(i,r)=>{Jh(e);let s=()=>{};const o=[new Promise((l,u)=>{let d=n({predicate:i,effect:(h,g)=>{g.unsubscribe(),l([h,g.getState(),g.getOriginalState()])}});s=()=>{d(),u()}})];r!=null&&o.push(new Promise(l=>setTimeout(l,r,null)));try{const l=await Z9(e,Promise.race(o));return Jh(e),l}finally{s()}};return(i,r)=>X9(t(i,r))},tJ=n=>{let{type:e,actionCreator:t,matcher:i,predicate:r,effect:s}=n;if(e)r=Ga(e).match;else if(t)e=t.type,r=t.match;else if(i)r=i;else if(!r)throw new Error(Ws(21));return uO(s),{predicate:r,type:e,effect:s}},nJ=qg(n=>{const{type:e,predicate:t,effect:i}=tJ(n);return{id:qBe(),effect:i,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(Ws(22))}}},{withTypes:()=>nJ}),Pq=(n,e)=>{const{type:t,effect:i,predicate:r}=tJ(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===r)&&s.effect===i)},_L=n=>{n.pending.forEach(e=>{e.abort(xL)})},lEe=(n,e)=>()=>{for(const t of e.keys())_L(t);n.clear()},Rq=(n,e,t)=>{try{n(e,t)}catch(i){setTimeout(()=>{throw i},0)}},iJ=qg(Ga(`${J1}/add`),{withTypes:()=>iJ}),uEe=Ga(`${J1}/removeAll`),rJ=qg(Ga(`${J1}/remove`),{withTypes:()=>rJ}),cEe=(...n)=>{console.error(`${J1}/error`,...n)},VB=(n={})=>{const e=new Map,t=new Map,i=v=>{const C=t.get(v)??0;t.set(v,C+1)},r=v=>{const C=t.get(v)??1;C===1?t.delete(v):t.set(v,C-1)},{extra:s,onError:a=cEe}=n;uO(a);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),C=>{v.unsubscribe(),C!=null&&C.cancelActive&&_L(v)}),l=v=>{const C=Pq(e,v)??nJ(v);return o(C)};qg(l,{withTypes:()=>l});const u=v=>{const C=Pq(e,v);return C&&(C.unsubscribe(),v.cancelActive&&_L(C)),!!C};qg(u,{withTypes:()=>u});const d=async(v,C,b,E)=>{const x=new AbortController,I=AEe(l,x.signal),T=[];try{v.pending.add(x),i(v),await Promise.resolve(v.effect(C,qg({},b,{getOriginalState:E,condition:(R,M)=>I(R,M).then(Boolean),take:I,delay:eJ(x.signal),pause:vT(x.signal),extra:s,signal:x.signal,fork:oEe(x.signal,T),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((R,M,D)=>{R!==x&&(R.abort(xL),D.delete(R))})},cancel:()=>{x.abort(xL),v.pending.delete(x)},throwIfCancelled:()=>{Jh(x.signal)}})))}catch(R){R instanceof X1||Rq(a,R,{raisedBy:"effect"})}finally{await Promise.all(T),x.abort(sEe),r(v),v.pending.delete(x)}},h=lEe(e,t);return{middleware:v=>C=>b=>{if(!P9(b))return C(b);if(iJ.match(b))return l(b.payload);if(uEe.match(b)){h();return}if(rJ.match(b))return u(b.payload);let E=v.getState();const x=()=>{if(E===Mq)throw new Error(Ws(23));return E};let I;try{if(I=C(b),e.size>0){const T=v.getState(),R=Array.from(e.values());for(const M of R){let D=!1;try{D=M.predicate(b,T,E)}catch(L){D=!1,Rq(a,L,{raisedBy:"predicate"})}D&&d(M,b,v,x)}}}finally{E=Mq}return I},startListening:l,stopListening:u,clearListeners:h}};function Ws(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var dEe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},sJ=ds({name:"chartLayout",initialState:dEe,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,i,r,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,n.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:fEe,setLayout:hEe,setChartSize:pEe,setScale:gEe}=sJ.actions,mEe=sJ.reducer;function aJ(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function Dq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Pg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dq(Object(t),!0).forEach(function(i){vEe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Dq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function vEe(n,e,t){return(e=yEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yEe(n){var e=wEe(n,"string");return typeof e=="symbol"?e:e+""}function wEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Br(n,e,t){return Li(n)||Li(e)?t:mA(e)?Wv(n,e,t):typeof e=="function"?e(n):t}var CEe=(n,e,t)=>{if(e&&t){var{width:i,height:r}=t,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&qe(n[s]))return Pg(Pg({},n),{},{[s]:n[s]+(i||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&qe(n[a]))return Pg(Pg({},n),{},{[a]:n[a]+(r||0)})}return n},hp=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",Nq=1e-4,bEe=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,i=n.range(),r=Math.min(i[0],i[1])-Nq,s=Math.max(i[0],i[1])+Nq,a=n(e[0]),o=n(e[t-1]);(a<r||a>s||o<r||o>s)&&n.domain([e[0],e[t-1]])}},BEe=(n,e)=>{if(!e||e.length!==2||!qe(e[0])||!qe(e[1]))return n;var t=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),r=[n[0],n[1]];return(!qe(n[0])||n[0]<t)&&(r[0]=t),(!qe(n[1])||n[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<t&&(r[1]=t),r},EEe=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0,a=0;a<e;++a){var o=gA(n[a][t][1])?n[a][t][0]:n[a][t][1];o>=0?(n[a][t][0]=r,n[a][t][1]=r+o,r=n[a][t][1]):(n[a][t][0]=s,n[a][t][1]=s+o,s=n[a][t][1])}},SEe=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0;s<e;++s){var a=gA(n[s][t][1])?n[s][t][0]:n[s][t][1];a>=0?(n[s][t][0]=r,n[s][t][1]=r+a,r=n[s][t][1]):(n[s][t][0]=0,n[s][t][1]=0)}},xEe={sign:EEe,expand:JCe,none:jv,silhouette:ZCe,wiggle:ebe,positive:SEe},_Ee=(n,e,t)=>{var i=xEe[t],r=XCe().keys(e).value((s,a)=>Number(Br(s,a,0))).order(gL).offset(i);return r(n)};function TEe(n){return n==null?void 0:String(n)}var Lq=n=>{var{axis:e,ticks:t,offset:i,bandSize:r,entry:s,index:a}=n;if(e.type==="category")return t[a]?t[a].coordinate+i:null;var o=Br(s,e.dataKey,e.scale.domain()[a]);return Li(o)?null:e.scale(o)-r/2+i},IEe=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return i<=0&&r>=0?0:r<0?r:i}return t[0]},FEe=n=>{var e=n.flat(2).filter(qe);return[Math.min(...e),Math.max(...e)]},UEe=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],MEe=(n,e,t)=>{if(n!=null)return UEe(Object.keys(n).reduce((i,r)=>{var s=n[r],{stackedData:a}=s,o=a.reduce((l,u)=>{var d=aJ(u,e,t),h=FEe(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],i[0]),Math.max(o[1],i[1])]},[1/0,-1/0]))},Qq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Oq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yT=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!t||i>0)return i}if(n&&e&&e.length>=2){for(var r=G1(e,d=>d.coordinate),s=1/0,a=1,o=r.length;a<o;a++){var l=r[a],u=r[a-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function kq(n){var{tooltipEntrySettings:e,dataKey:t,payload:i,value:r,name:s}=n;return Pg(Pg({},e),{},{dataKey:t,payload:i,value:r,name:s})}function oJ(n,e){if(n)return String(n);if(typeof e=="string")return e}var PEe=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},REe=(n,e)=>e==="centric"?n.angle:n.radius,bu=n=>n.layout.width,Bu=n=>n.layout.height,DEe=n=>n.layout.scale,AJ=n=>n.layout.margin,Z1=le(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),eI=le(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),NEe="data-recharts-item-index",LEe="data-recharts-item-data-key",KB=60;function Hq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ux(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hq(Object(t),!0).forEach(function(i){QEe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Hq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function QEe(n,e,t){return(e=OEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function OEe(n){var e=kEe(n,"string");return typeof e=="symbol"?e:e+""}function kEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var HEe=n=>n.brush.height;function VEe(n){var e=eI(n);return e.reduce((t,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:KB;return t+r}return t},0)}function KEe(n){var e=eI(n);return e.reduce((t,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:KB;return t+r}return t},0)}function GEe(n){var e=Z1(n);return e.reduce((t,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?t+i.height:t,0)}function zEe(n){var e=Z1(n);return e.reduce((t,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?t+i.height:t,0)}var Qi=le([bu,Bu,AJ,HEe,VEe,KEe,GEe,zEe,F9,pBe],(n,e,t,i,r,s,a,o,l,u)=>{var d={left:(t.left||0)+r,right:(t.right||0)+s},h={top:(t.top||0)+a,bottom:(t.bottom||0)+o},g=ux(ux({},h),d),v=g.bottom;g.bottom+=i,g=CEe(g,l,u);var C=n-g.left-g.right,b=e-g.top-g.bottom;return ux(ux({brushBottom:v},g),{},{width:Math.max(C,0),height:Math.max(b,0)})}),qEe=le(Qi,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),cO=le(bu,Bu,(n,e)=>({x:0,y:0,width:n,height:e})),$Ee=P.createContext(null),Zs=()=>P.useContext($Ee)!=null,tI=n=>n.brush,nI=le([tI,Qi,AJ],(n,e,t)=>({height:n.height,x:qe(n.x)?n.x:e.left,y:qe(n.y)?n.y:e.top+e.height+e.brushBottom-((t==null?void 0:t.bottom)||0),width:qe(n.width)?n.width:e.width})),FP={},UP={},MP={},Vq;function jEe(){return Vq||(Vq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i,{signal:r,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(t.apply(a,o),a=void 0,o=null)},h=()=>{u&&d(),b()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},i)},C=()=>{g!==null&&(clearTimeout(g),g=null)},b=()=>{C(),a=void 0,o=null},E=()=>{d()},x=function(...I){if(r!=null&&r.aborted)return;a=this,o=I;const T=g==null;v(),l&&T&&d()};return x.schedule=v,x.cancel=b,x.flush=E,r==null||r.addEventListener("abort",b,{once:!0}),x}n.debounce=e})(MP)),MP}var Kq;function WEe(){return Kq||(Kq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=jEe();function t(i,r=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const g=e.debounce(function(...b){d=i.apply(this,b),h=null},r,{edges:u}),v=function(...b){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=i.apply(this,b),h=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,b),d)},C=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=C,v}n.debounce=t})(UP)),UP}var Gq;function YEe(){return Gq||(Gq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=WEe();function t(i,r=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(i,r,{leading:a,maxWait:r,trailing:o})}n.throttle=t})(FP)),FP}var PP,zq;function XEe(){return zq||(zq=1,PP=YEe().throttle),PP}var JEe=XEe();const ZEe=CA(JEe);var qq=function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>r[a++]))}},lJ=(n,e,t)=>{var{width:i="100%",height:r="100%",aspect:s,maxHeight:a}=t,o=lu(i)?n:Number(i),l=lu(r)?e:Number(r);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},eSe={width:0,height:0,overflow:"visible"},tSe={width:0,overflowX:"visible"},nSe={height:0,overflowY:"visible"},iSe={},rSe=n=>{var{width:e,height:t}=n,i=lu(e),r=lu(t);return i&&r?eSe:i?tSe:r?nSe:iSe};function sSe(n){var{width:e,height:t,aspect:i}=n,r=e,s=t;return r===void 0&&s===void 0?(r="100%",s="100%"):r===void 0?r=i&&i>0?void 0:"100%":s===void 0&&(s=i&&i>0?void 0:"100%"),{width:r,height:s}}function Xn(n){return Number.isFinite(n)}function Id(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function TL(){return TL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},TL.apply(null,arguments)}function $q(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$q(Object(t),!0).forEach(function(i){aSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$q(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function aSe(n,e,t){return(e=oSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oSe(n){var e=ASe(n,"string");return typeof e=="symbol"?e:e+""}function ASe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var uJ=P.createContext({width:-1,height:-1});function lSe(n){return Id(n.width)&&Id(n.height)}function cJ(n){var{children:e,width:t,height:i}=n,r=P.useMemo(()=>({width:t,height:i}),[t,i]);return lSe(r)?P.createElement(uJ.Provider,{value:r},e):null}var dO=()=>P.useContext(uJ),uSe=P.forwardRef((n,e)=>{var{aspect:t,initialDimension:i={width:-1,height:-1},width:r,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:h,className:g,onResize:v,style:C={}}=n,b=P.useRef(null),E=P.useRef();E.current=v,P.useImperativeHandle(e,()=>b.current);var[x,I]=P.useState({containerWidth:i.width,containerHeight:i.height}),T=P.useCallback((H,O)=>{I(K=>{var V=Math.round(H),$=Math.round(O);return K.containerWidth===V&&K.containerHeight===$?K:{containerWidth:V,containerHeight:$}})},[]);P.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return OB;var H=$=>{var ne,{width:oe,height:pe}=$[0].contentRect;T(oe,pe),(ne=E.current)===null||ne===void 0||ne.call(E,oe,pe)};d>0&&(H=ZEe(H,d,{trailing:!0,leading:!1}));var O=new ResizeObserver(H),{width:K,height:V}=b.current.getBoundingClientRect();return T(K,V),O.observe(b.current),()=>{O.disconnect()}},[T,d]);var{containerWidth:R,containerHeight:M}=x;qq(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:D,calculatedHeight:L}=lJ(R,M,{width:r,height:s,aspect:t,maxHeight:l});return qq(D!=null&&D>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,L,r,s,a,o,t),P.createElement("div",{id:h?"".concat(h):void 0,className:yn("recharts-responsive-container",g),style:jq(jq({},C),{},{width:r,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:b},P.createElement("div",{style:rSe({width:r,height:s})},P.createElement(cJ,{width:D,height:L},u)))}),cSe=P.forwardRef((n,e)=>{var t=dO();if(Id(t.width)&&Id(t.height))return n.children;var{width:i,height:r}=sSe({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:a}=lJ(void 0,void 0,{width:i,height:r,aspect:n.aspect,maxHeight:n.maxHeight});return qe(s)&&qe(a)?P.createElement(cJ,{width:s,height:a},n.children):P.createElement(uSe,TL({},n,{width:i,height:r,ref:e}))});function dJ(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var iI=()=>{var n,e=Zs(),t=Ge(qEe),i=Ge(nI),r=(n=Ge(tI))===null||n===void 0?void 0:n.padding;return!e||!i||!r?t:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},dSe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fSe=()=>{var n;return(n=Ge(Qi))!==null&&n!==void 0?n:dSe},hSe=()=>Ge(bu),pSe=()=>Ge(Bu),Ht=n=>n.layout.layoutType,rI=()=>Ge(Ht),gSe=()=>{var n=rI();return n!==void 0},sI=n=>{var e=Jn(),t=Zs(),{width:i,height:r}=n,s=dO(),a=i,o=r;return s&&(a=s.width>0?s.width:i,o=s.height>0?s.height:r),P.useEffect(()=>{!t&&Id(a)&&Id(o)&&e(pEe({width:a,height:o}))},[e,t,a,o]),null},fJ=Symbol.for("immer-nothing"),Wq=Symbol.for("immer-draftable"),Xs=Symbol.for("immer-state");function go(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Vw=Object.getPrototypeOf;function Jv(n){return!!n&&!!n[Xs]}function sp(n){var e;return n?hJ(n)||Array.isArray(n)||!!n[Wq]||!!((e=n.constructor)!=null&&e[Wq])||GB(n)||oI(n):!1}var mSe=Object.prototype.constructor.toString(),Yq=new WeakMap;function hJ(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let i=Yq.get(t);return i===void 0&&(i=Function.toString.call(t),Yq.set(t,i)),i===mSe}function wT(n,e,t=!0){aI(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function aI(n){const e=n[Xs];return e?e.type_:Array.isArray(n)?1:GB(n)?2:oI(n)?3:0}function IL(n,e){return aI(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function pJ(n,e,t){const i=aI(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function vSe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function GB(n){return n instanceof Map}function oI(n){return n instanceof Set}function ff(n){return n.copy_||n.base_}function FL(n,e){if(GB(n))return new Map(n);if(oI(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=hJ(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[Xs];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],o=i[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(i[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[a]})}return Object.create(Vw(n),i)}else{const i=Vw(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function fO(n,e=!1){return AI(n)||Jv(n)||!sp(n)||(aI(n)>1&&Object.defineProperties(n,{set:cx,add:cx,clear:cx,delete:cx}),Object.freeze(n),e&&Object.values(n).forEach(t=>fO(t,!0))),n}function ySe(){go(2)}var cx={value:ySe};function AI(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var wSe={};function ap(n){const e=wSe[n];return e||go(0,n),e}var Kw;function gJ(){return Kw}function CSe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Xq(n,e){e&&(ap("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function UL(n){ML(n),n.drafts_.forEach(bSe),n.drafts_=null}function ML(n){n===Kw&&(Kw=n.parent_)}function Jq(n){return Kw=CSe(Kw,n)}function bSe(n){const e=n[Xs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Zq(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Xs].modified_&&(UL(e),go(4)),sp(n)&&(n=CT(e,n),e.parent_||bT(e,n)),e.patches_&&ap("Patches").generateReplacementPatches_(t[Xs].base_,n,e.patches_,e.inversePatches_)):n=CT(e,t,[]),UL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==fJ?n:void 0}function CT(n,e,t){if(AI(e))return e;const i=n.immer_.shouldUseStrictIteration(),r=e[Xs];if(!r)return wT(e,(s,a)=>e5(n,r,e,s,a,t),i),e;if(r.scope_!==n)return e;if(!r.modified_)return bT(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let a=s,o=!1;r.type_===3&&(a=new Set(s),s.clear(),o=!0),wT(a,(l,u)=>e5(n,r,s,l,u,t,o),i),bT(n,s,!1),t&&n.patches_&&ap("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function e5(n,e,t,i,r,s,a){if(r==null||typeof r!="object"&&!a)return;const o=AI(r);if(!(o&&!a)){if(Jv(r)){const l=s&&e&&e.type_!==3&&!IL(e.assigned_,i)?s.concat(i):void 0,u=CT(n,r,l);if(pJ(t,i,u),Jv(u))n.canAutoFreeze_=!1;else return}else a&&t.add(r);if(sp(r)&&!o){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&o)return;CT(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(GB(t)?t.has(i):Object.prototype.propertyIsEnumerable.call(t,i))&&bT(n,r)}}}function bT(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&fO(e,t)}function BSe(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:gJ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=hO;t&&(r=[i],s=Gw);const{revoke:a,proxy:o}=Proxy.revocable(r,s);return i.draft_=o,i.revoke_=a,o}var hO={get(n,e){if(e===Xs)return n;const t=ff(n);if(!IL(t,e))return ESe(n,t,e);const i=t[e];return n.finalized_||!sp(i)?i:i===RP(n.base_,e)?(DP(n),n.copy_[e]=RL(i,n)):i},has(n,e){return e in ff(n)},ownKeys(n){return Reflect.ownKeys(ff(n))},set(n,e,t){const i=mJ(ff(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=RP(ff(n),e),s=r==null?void 0:r[Xs];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(vSe(t,r)&&(t!==void 0||IL(n.base_,e)))return!0;DP(n),PL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return RP(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,DP(n),PL(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ff(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){go(11)},getPrototypeOf(n){return Vw(n.base_)},setPrototypeOf(){go(12)}},Gw={};wT(hO,(n,e)=>{Gw[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Gw.deleteProperty=function(n,e){return Gw.set.call(this,n,e,void 0)};Gw.set=function(n,e,t){return hO.set.call(this,n[0],e,t,n[0])};function RP(n,e){const t=n[Xs];return(t?ff(t):n)[e]}function ESe(n,e,t){var r;const i=mJ(e,t);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function mJ(n,e){if(!(e in n))return;let t=Vw(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Vw(t)}}function PL(n){n.modified_||(n.modified_=!0,n.parent_&&PL(n.parent_))}function DP(n){n.copy_||(n.copy_=FL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var SSe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...u){return a.produce(l,d=>t.call(this,d,...u))}}typeof t!="function"&&go(6),i!==void 0&&typeof i!="function"&&go(7);let r;if(sp(e)){const s=Jq(this),a=RL(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?UL(s):ML(s)}return Xq(s,i),Zq(r,s)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===fJ&&(r=void 0),this.autoFreeze_&&fO(r,!0),i){const s=[],a=[];ap("Patches").generateReplacementPatches_(e,r,s,a),i(s,a)}return r}else go(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let i,r;return[this.produce(e,t,(a,o)=>{i=a,r=o}),i,r]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof(n==null?void 0:n.useStrictIteration)=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){sp(n)||go(8),Jv(n)&&(n=xSe(n));const e=Jq(this),t=RL(n,void 0);return t[Xs].isManual_=!0,ML(e),t}finishDraft(n,e){const t=n&&n[Xs];(!t||!t.isManual_)&&go(9);const{scope_:i}=t;return Xq(i,e),Zq(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=ap("Patches").applyPatches_;return Jv(n)?i(n,e):this.produce(n,r=>i(r,e))}};function RL(n,e){const t=GB(n)?ap("MapSet").proxyMap_(n,e):oI(n)?ap("MapSet").proxySet_(n,e):BSe(n,e);return(e?e.scope_:gJ()).drafts_.push(t),t}function xSe(n){return Jv(n)||go(10,n),vJ(n)}function vJ(n){if(!sp(n)||AI(n))return n;const e=n[Xs];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=FL(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=FL(n,!0);return wT(t,(r,s)=>{pJ(t,r,vJ(s))},i),e&&(e.finalized_=!1),t}var _Se=new SSe;_Se.produce;var TSe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},yJ=ds({name:"legend",initialState:TSe,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:Sn()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:i}=e.payload,r=yo(n).payload.indexOf(t);r>-1&&(n.payload[r]=i)},prepare:Sn()},removeLegendPayload:{reducer(n,e){var t=yo(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:Sn()}}}),{setLegendSize:cQe,setLegendSettings:dQe,addLegendPayload:ISe,replaceLegendPayload:FSe,removeLegendPayload:USe}=yJ.actions,MSe=yJ.reducer;function DL(){return DL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},DL.apply(null,arguments)}function t5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function NP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(t),!0).forEach(function(i){PSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):t5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function PSe(n,e,t){return(e=RSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RSe(n){var e=DSe(n,"string");return typeof e=="symbol"?e:e+""}function DSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function NSe(n){return Array.isArray(n)&&mA(n[0])&&mA(n[1])?n.join(" ~ "):n}var LSe=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:i={},labelStyle:r={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:g=!1}=n,v=()=>{if(s&&s.length){var M={padding:0,margin:0},D=(o?G1(s,o):s).map((L,H)=>{if(L.type==="none")return null;var O=L.formatter||a||NSe,{value:K,name:V}=L,$=K,ne=V;if(O){var oe=O(K,V,L,H,s);if(Array.isArray(oe))[$,ne]=oe;else if(oe!=null)$=oe;else return null}var pe=NP({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},i);return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:pe},mA(ne)?P.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,mA(ne)?P.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,P.createElement("span",{className:"recharts-tooltip-item-value"},$),P.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},C=NP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),b=NP({margin:0},r),E=!Li(d),x=E?d:"",I=yn("recharts-default-tooltip",l),T=yn("recharts-tooltip-label",u);E&&h&&s!==void 0&&s!==null&&(x=h(d,s));var R=g?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",DL({className:I,style:C},R),P.createElement("p",{className:T,style:b},P.isValidElement(x)?x:"".concat(x)),v())},x0="recharts-tooltip-wrapper",QSe={visibility:"hidden"};function OSe(n){var{coordinate:e,translateX:t,translateY:i}=n;return yn(x0,{["".concat(x0,"-right")]:qe(t)&&e&&qe(e.x)&&t>=e.x,["".concat(x0,"-left")]:qe(t)&&e&&qe(e.x)&&t<e.x,["".concat(x0,"-bottom")]:qe(i)&&e&&qe(e.y)&&i>=e.y,["".concat(x0,"-top")]:qe(i)&&e&&qe(e.y)&&i<e.y})}function n5(n){var{allowEscapeViewBox:e,coordinate:t,key:i,offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=n;if(s&&qe(s[i]))return s[i];var d=t[i]-o-(r>0?r:0),h=t[i]+r;if(e[i])return a[i]?d:h;var g=l[i];if(g==null)return 0;if(a[i]){var v=d,C=g;return v<C?Math.max(h,g):Math.max(d,g)}if(u==null)return 0;var b=h+o,E=g+u;return b>E?Math.max(d,g):Math.max(h,g)}function kSe(n){var{translateX:e,translateY:t,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function HSe(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:i,position:r,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=n,u,d,h;return a.height>0&&a.width>0&&t?(d=n5({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=n5({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=kSe({translateX:d,translateY:h,useTranslate3d:o})):u=QSe,{cssProperties:u,cssClasses:OSe({translateX:d,translateY:h,coordinate:t})}}function i5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function dx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?i5(Object(t),!0).forEach(function(i){NL(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function NL(n,e,t){return(e=VSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VSe(n){var e=KSe(n,"string");return typeof e=="symbol"?e:e+""}function KSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class GSe extends P.PureComponent{constructor(){super(...arguments),NL(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),NL(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,i,r,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&t!==void 0?t:0,y:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:i,animationEasing:r,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:C,lastBoundingBox:b,innerRef:E,hasPortalFromProps:x}=this.props,{cssClasses:I,cssProperties:T}=HSe({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:b.height,width:b.width},useTranslate3d:g,viewBox:v}),R=x?{}:dx(dx({transition:l&&e?"transform ".concat(i,"ms ").concat(r):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),M=dx(dx({},R),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},C);return P.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:M,ref:E},s)}}var wJ=()=>{var n;return(n=Ge(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function LL(){return LL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},LL.apply(null,arguments)}function r5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function s5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(t),!0).forEach(function(i){zSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function zSe(n,e,t){return(e=qSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qSe(n){var e=$Se(n,"string");return typeof e=="symbol"?e:e+""}function $Se(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var a5={curveBasisClosed:kCe,curveBasisOpen:HCe,curveBasis:OCe,curveBumpX:SCe,curveBumpY:xCe,curveLinearClosed:VCe,curveLinear:V1,curveMonotoneX:KCe,curveMonotoneY:GCe,curveNatural:zCe,curveStep:qCe,curveStepAfter:jCe,curveStepBefore:$Ce},BT=n=>Xn(n.x)&&Xn(n.y),o5=n=>n.base!=null&&BT(n.base)&&BT(n),_0=n=>n.x,T0=n=>n.y,jSe=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(QB(n));return(t==="curveMonotone"||t==="curveBump")&&e?a5["".concat(t).concat(e==="vertical"?"Y":"X")]:a5[t]||V1},WSe=n=>{var{type:e="linear",points:t=[],baseLine:i,layout:r,connectNulls:s=!1}=n,a=jSe(e,r),o=s?t.filter(BT):t,l;if(Array.isArray(i)){var u=t.map((v,C)=>s5(s5({},v),{},{base:i[C]}));r==="vertical"?l=rx().y(T0).x1(_0).x0(v=>v.base.x):l=rx().x(_0).y1(T0).y0(v=>v.base.y);var d=l.defined(o5).curve(a),h=s?u.filter(o5):u;return d(h)}r==="vertical"&&qe(i)?l=rx().y(T0).x1(_0).x0(i):qe(i)?l=rx().x(_0).y1(T0).y0(i):l=n9().x(_0).y(T0);var g=l.defined(BT).curve(a);return g(o)},CJ=n=>{var{className:e,points:t,path:i,pathRef:r}=n;if((!t||!t.length)&&!i)return null;var s=t&&t.length?WSe(n):i;return P.createElement("path",LL({},Td(n),vbe(n),{className:yn("recharts-curve",e),d:s===null?void 0:s,ref:r}))},YSe=["x","y","top","left","width","height","className"];function QL(){return QL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},QL.apply(null,arguments)}function A5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function XSe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A5(Object(t),!0).forEach(function(i){JSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function JSe(n,e,t){return(e=ZSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZSe(n){var e=exe(n,"string");return typeof e=="symbol"?e:e+""}function exe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function txe(n,e){if(n==null)return{};var t,i,r=nxe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function nxe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var ixe=(n,e,t,i,r,s)=>"M".concat(n,",").concat(r,"v").concat(i,"M").concat(s,",").concat(e,"h").concat(t),rxe=n=>{var{x:e=0,y:t=0,top:i=0,left:r=0,width:s=0,height:a=0,className:o}=n,l=txe(n,YSe),u=XSe({x:e,y:t,top:i,left:r,width:s,height:a},l);return!qe(e)||!qe(t)||!qe(s)||!qe(a)||!qe(i)||!qe(r)?null:P.createElement("path",QL({},Ka(u),{className:yn("recharts-cross",o),d:ixe(e,t,s,a,i,r)}))};function sxe(n,e,t,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-r:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-r,width:n==="horizontal"?i:t.width-1,height:n==="horizontal"?t.height-1:i}}function l5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function u5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(t),!0).forEach(function(i){axe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function axe(n,e,t){return(e=oxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oxe(n){var e=Axe(n,"string");return typeof e=="symbol"?e:e+""}function Axe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lxe=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),bJ=(n,e,t)=>n.map(i=>"".concat(lxe(i)," ").concat(e,"ms ").concat(t)).join(","),uxe=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,i)=>t.filter(r=>i.includes(r))),zw=(n,e)=>Object.keys(e).reduce((t,i)=>u5(u5({},t),{},{[i]:n(i,e[i])}),{});function c5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(t),!0).forEach(function(i){cxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):c5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cxe(n,e,t){return(e=dxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dxe(n){var e=fxe(n,"string");return typeof e=="symbol"?e:e+""}function fxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var ET=(n,e,t)=>n+(e-n)*t,OL=n=>{var{from:e,to:t}=n;return e!==t},BJ=(n,e,t)=>{var i=zw((r,s)=>{if(OL(s)){var[a,o]=n(s.from,s.to,s.velocity);return gi(gi({},s),{},{from:a,velocity:o})}return s},e);return t<1?zw((r,s)=>OL(s)?gi(gi({},s),{},{velocity:ET(s.velocity,i[r].velocity,t),from:ET(s.from,i[r].from,t)}):s,e):BJ(n,i,t-1)};function hxe(n,e,t,i,r,s){var a,o=i.reduce((g,v)=>gi(gi({},g),{},{[v]:{from:n[v],velocity:0,to:e[v]}}),{}),l=()=>zw((g,v)=>v.from,o),u=()=>!Object.values(o).filter(OL).length,d=null,h=g=>{a||(a=g);var v=g-a,C=v/t.dt;o=BJ(t,o,C),r(gi(gi(gi({},n),e),l())),a=g,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}function pxe(n,e,t,i,r,s,a){var o=null,l=r.reduce((h,g)=>gi(gi({},h),{},{[g]:[n[g],e[g]]}),{}),u,d=h=>{u||(u=h);var g=(h-u)/i,v=zw((b,E)=>ET(...E,t(g)),l);if(s(gi(gi(gi({},n),e),v)),g<1)o=a.setTimeout(d);else{var C=zw((b,E)=>ET(...E,t(1)),l);s(gi(gi(gi({},n),e),C))}};return()=>(o=a.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const gxe=(n,e,t,i,r,s)=>{var a=uxe(n,e);return t==null?()=>(r(gi(gi({},n),e)),()=>{}):t.isStepper===!0?hxe(n,e,t,a,r,s):pxe(n,e,t,i,a,r,s)};var ST=1e-4,EJ=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],SJ=(n,e)=>n.map((t,i)=>t*e**i).reduce((t,i)=>t+i),d5=(n,e)=>t=>{var i=EJ(n,e);return SJ(i,t)},mxe=(n,e)=>t=>{var i=EJ(n,e),r=[...i.map((s,a)=>s*a).slice(1),0];return SJ(r,t)},vxe=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r,s=t[0].split("(");if(s[0]==="cubic-bezier"&&((r=s[1])===null||r===void 0?void 0:r.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]}}}return t.length===4?t:[0,0,1,1]},yxe=(n,e,t,i)=>{var r=d5(n,t),s=d5(e,i),a=mxe(n,t),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,h=d,g=0;g<8;++g){var v=r(h)-d,C=a(h);if(Math.abs(v-d)<ST||C<ST)return s(h);h=o(h-v/C)}return s(h)};return l.isStepper=!1,l},f5=function(){return yxe(...vxe(...arguments))},wxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:i=8,dt:r=17}=e,s=(a,o,l)=>{var u=-(a-o)*t,d=l*i,h=l+(u-d)*r/1e3,g=l*r/1e3+a;return Math.abs(g-o)<ST&&Math.abs(h)<ST?[o,0]:[g,h]};return s.isStepper=!0,s.dt=r,s},Cxe=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return f5(n);case"spring":return wxe();default:if(n.split("(")[0]==="cubic-bezier")return f5(n)}return typeof n=="function"?n:null};function bxe(n){var e,t=()=>null,i=!1,r=null,s=a=>{if(!i){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){r=n.setTimeout(s.bind(null,u),l);return}s(l),r=n.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,t(e)),typeof a=="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:()=>{i=!0},start:a=>{i=!1,r&&(r(),r=null),s(a)},subscribe:a=>(t=a,()=>{t=()=>null}),getTimeoutController:()=>n}}class Bxe{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,s=a=>{a-i>=t?e(a):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(s))};return r=requestAnimationFrame(s),()=>{r!=null&&cancelAnimationFrame(r)}}}function Exe(){return bxe(new Bxe)}var Sxe=P.createContext(Exe);function xxe(n,e){var t=P.useContext(Sxe);return P.useMemo(()=>e??t(n),[n,e,t])}var _xe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),zB={devToolsEnabled:!1,isSsr:_xe()},Txe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},h5={t:0},LP={t:1};function pO(n){var e=qa(n,Txe),{isActive:t,canBegin:i,duration:r,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=t==="auto"?!zB.isSsr:t,h=xxe(e.animationId,e.animationManager),[g,v]=P.useState(d?h5:LP),C=P.useRef(null);return P.useEffect(()=>{d||v(LP)},[d]),P.useEffect(()=>{if(!d||!i)return OB;var b=gxe(h5,LP,Cxe(s),r,v,h.getTimeoutController()),E=()=>{C.current=b()};return h.start([l,a,E,r,o]),()=>{h.stop(),C.current&&C.current(),o()}},[d,i,r,s,a,l,o,h]),u(g.t)}function gO(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=P.useRef(Qw(e)),i=P.useRef(n);return i.current!==n&&(t.current=Qw(e),i.current=n),t.current}var Ixe=["radius"],Fxe=["radius"];function p5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function g5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p5(Object(t),!0).forEach(function(i){Uxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Uxe(n,e,t){return(e=Mxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mxe(n){var e=Pxe(n,"string");return typeof e=="symbol"?e:e+""}function Pxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function xT(){return xT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xT.apply(null,arguments)}function m5(n,e){if(n==null)return{};var t,i,r=Rxe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Rxe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var v5=(n,e,t,i,r)=>{var s=Math.min(Math.abs(t)/2,Math.abs(i)/2),a=i>=0?1:-1,o=t>=0?1:-1,l=i>=0&&t>=0||i<0&&t<0?1:0,u;if(s>0&&r instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=r[h]>s?s:r[h];u="M".concat(n,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(n+o*d[0],",").concat(e)),u+="L ".concat(n+t-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(n+t,",").concat(e+a*d[1])),u+="L ".concat(n+t,",").concat(e+i-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(n+t-o*d[2],",").concat(e+i)),u+="L ".concat(n+o*d[3],",").concat(e+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(n,",").concat(e+i-a*d[3])),u+="Z"}else if(s>0&&r===+r&&r>0){var v=Math.min(s,r);u="M ".concat(n,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+o*v,",").concat(e,`
            L `).concat(n+t-o*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t,",").concat(e+a*v,`
            L `).concat(n+t,",").concat(e+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t-o*v,",").concat(e+i,`
            L `).concat(n+o*v,",").concat(e+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n,",").concat(e+i-a*v," Z")}else u="M ".concat(n,",").concat(e," h ").concat(t," v ").concat(i," h ").concat(-t," Z");return u},y5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xJ=n=>{var e=qa(n,y5),t=P.useRef(null),[i,r]=P.useState(-1);P.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var z=t.current.getTotalLength();z&&r(z)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:C,isUpdateAnimationActive:b}=e,E=P.useRef(o),x=P.useRef(l),I=P.useRef(s),T=P.useRef(a),R=P.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),M=gO(R,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var D=yn("recharts-rectangle",d);if(!b){var L=Ka(e),{radius:H}=L,O=m5(L,Ixe);return P.createElement("path",xT({},O,{radius:typeof u=="number"?u:void 0,className:D,d:v5(s,a,o,l,u)}))}var K=E.current,V=x.current,$=I.current,ne=T.current,oe="0px ".concat(i===-1?1:i,"px"),pe="".concat(i,"px 0px"),G=bJ(["strokeDasharray"],g,typeof h=="string"?h:y5.animationEasing);return P.createElement(pO,{animationId:M,key:M,canBegin:i>0,duration:g,easing:h,isActive:b,begin:v},z=>{var ee=er(K,o,z),Z=er(V,l,z),me=er($,s,z),q=er(ne,a,z);t.current&&(E.current=ee,x.current=Z,I.current=me,T.current=q);var Y;C?z>0?Y={transition:G,strokeDasharray:pe}:Y={strokeDasharray:oe}:Y={strokeDasharray:pe};var X=Ka(e),{radius:ce}=X,ye=m5(X,Fxe);return P.createElement("path",xT({},ye,{radius:typeof u=="number"?u:void 0,className:D,d:v5(me,q,ee,Z,u),ref:t,style:g5(g5({},Y),e.style)}))})};function w5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function C5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?w5(Object(t),!0).forEach(function(i){Dxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):w5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Dxe(n,e,t){return(e=Nxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Nxe(n){var e=Lxe(n,"string");return typeof e=="symbol"?e:e+""}function Lxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var _T=Math.PI/180,Qxe=n=>n*180/Math.PI,rr=(n,e,t,i)=>({x:n+Math.cos(-_T*i)*t,y:e+Math.sin(-_T*i)*t}),Oxe=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(t-(i.top||0)-(i.bottom||0)))/2},kxe=(n,e)=>{var{x:t,y:i}=n,{x:r,y:s}=e;return Math.sqrt((t-r)**2+(i-s)**2)},Hxe=(n,e)=>{var{x:t,y:i}=n,{cx:r,cy:s}=e,a=kxe({x:t,y:i},{x:r,y:s});if(a<=0)return{radius:a,angle:0};var o=(t-r)/a,l=Math.acos(o);return i>s&&(l=2*Math.PI-l),{radius:a,angle:Qxe(l),angleInRadian:l}},Vxe=n=>{var{startAngle:e,endAngle:t}=n,i=Math.floor(e/360),r=Math.floor(t/360),s=Math.min(i,r);return{startAngle:e-s*360,endAngle:t-s*360}},Kxe=(n,e)=>{var{startAngle:t,endAngle:i}=e,r=Math.floor(t/360),s=Math.floor(i/360),a=Math.min(r,s);return n+a*360},Gxe=(n,e)=>{var{chartX:t,chartY:i}=n,{radius:r,angle:s}=Hxe({x:t,y:i},e),{innerRadius:a,outerRadius:o}=e;if(r<a||r>o||r===0)return null;var{startAngle:l,endAngle:u}=Vxe(e),d=s,h;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=l}return h?C5(C5({},e),{},{radius:r,angle:Kxe(d,e)}):null};function _J(n){var{cx:e,cy:t,radius:i,startAngle:r,endAngle:s}=n,a=rr(e,t,i,r),o=rr(e,t,i,s);return{points:[a,o],cx:e,cy:t,radius:i,startAngle:r,endAngle:s}}function kL(){return kL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kL.apply(null,arguments)}var zxe=(n,e)=>{var t=$s(e-n),i=Math.min(Math.abs(e-n),359.999);return t*i},fx=n=>{var{cx:e,cy:t,radius:i,angle:r,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=n,u=o*(a?1:-1)+i,d=Math.asin(o/u)/_T,h=l?r:r+s*d,g=rr(e,t,u,h),v=rr(e,t,i,h),C=l?r-s*d:r,b=rr(e,t,u*Math.cos(d*_T),C);return{center:g,circleTangency:v,lineTangency:b,theta:d}},TJ=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:s,endAngle:a}=n,o=zxe(s,a),l=s+o,u=rr(e,t,r,s),d=rr(e,t,r,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=rr(e,t,i,s),v=rr(e,t,i,l);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},qxe=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=n,d=$s(u-l),{circleTangency:h,lineTangency:g,theta:v}=fx({cx:e,cy:t,radius:r,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:C,lineTangency:b,theta:E}=fx({cx:e,cy:t,radius:r,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-v-E;if(x<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):TJ({cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:l,endAngle:u});var I="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var{circleTangency:T,lineTangency:R,theta:M}=fx({cx:e,cy:t,radius:i,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:D,lineTangency:L,theta:H}=fx({cx:e,cy:t,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),O=o?Math.abs(l-u):Math.abs(l-u)-M-H;if(O<0&&s===0)return"".concat(I,"L").concat(e,",").concat(t,"Z");I+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,"Z")}else I+="L".concat(e,",").concat(t,"Z");return I},$xe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IJ=n=>{var e=qa(n,$xe),{cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:h}=e;if(s<r||u===d)return null;var g=yn("recharts-sector",h),v=s-r,C=wo(a,v,0,!0),b;return C>0&&Math.abs(u-d)<360?b=qxe({cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:Math.min(C,v/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):b=TJ({cx:t,cy:i,innerRadius:r,outerRadius:s,startAngle:u,endAngle:d}),P.createElement("path",kL({},Ka(e),{className:g,d:b}))};function jxe(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(m9(e)){if(n==="centric"){var{cx:i,cy:r,innerRadius:s,outerRadius:a,angle:o}=e,l=rr(i,r,s,o),u=rr(i,r,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return _J(e)}}var QP={},OP={},kP={},b5;function Wxe(){return b5||(b5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=T9();function t(i){return e.isSymbol(i)?NaN:Number(i)}n.toNumber=t})(kP)),kP}var B5;function Yxe(){return B5||(B5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Wxe();function t(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=t})(OP)),OP}var E5;function Xxe(){return E5||(E5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=I9(),t=Yxe();function i(r,s,a){a&&typeof a!="number"&&e.isIterateeCall(r,s,a)&&(s=a=void 0),r=t.toFinite(r),s===void 0?(s=r,r=0):s=t.toFinite(s),a=a===void 0?r<s?1:-1:t.toFinite(a);const o=Math.max(Math.ceil((s-r)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=r,r+=a;return l}n.range=i})(QP)),QP}var HP,S5;function Jxe(){return S5||(S5=1,HP=Xxe().range),HP}var Zxe=Jxe();const FJ=CA(Zxe);function Ed(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function e_e(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function mO(n){let e,t,i;n.length!==2?(e=Ed,t=(o,l)=>Ed(n(o),l),i=(o,l)=>n(o)-l):(e=n===Ed||n===e_e?n:t_e,t=n,i=n);function r(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){const h=r(o,l,u,d-1);return h>u&&i(o[h-1],l)>-i(o[h],l)?h-1:h}return{left:r,center:a,right:s}}function t_e(){return 0}function UJ(n){return n===null?NaN:+n}function*n_e(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const i_e=mO(Ed),qB=i_e.right;mO(UJ).center;class x5 extends Map{constructor(e,t=a_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(_5(this,e))}has(e){return super.has(_5(this,e))}set(e,t){return super.set(r_e(this,e),t)}delete(e){return super.delete(s_e(this,e))}}function _5({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function r_e({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function s_e({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function a_e(n){return n!==null&&typeof n=="object"?n.valueOf():n}function o_e(n=Ed){if(n===Ed)return MJ;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const i=n(e,t);return i||i===0?i:(n(t,t)===0)-(n(e,e)===0)}}function MJ(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const A_e=Math.sqrt(50),l_e=Math.sqrt(10),u_e=Math.sqrt(2);function TT(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),a=s>=A_e?10:s>=l_e?5:s>=u_e?2:1;let o,l,u;return r<0?(u=Math.pow(10,-r)/a,o=Math.round(n*u),l=Math.round(e*u),o/u<n&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,r)*a,o=Math.round(n/u),l=Math.round(e/u),o*u<n&&++o,l*u>e&&--l),l<o&&.5<=t&&t<2?TT(n,e,t*2):[o,l,u]}function HL(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const i=e<n,[r,s,a]=i?TT(e,n,t):TT(n,e,t);if(!(s>=r))return[];const o=s-r+1,l=new Array(o);if(i)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(r+u)/-a;else for(let u=0;u<o;++u)l[u]=(r+u)*a;return l}function VL(n,e,t){return e=+e,n=+n,t=+t,TT(n,e,t)[2]}function KL(n,e,t){e=+e,n=+n,t=+t;const i=e<n,r=i?VL(e,n,t):VL(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function T5(n,e){let t;for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);return t}function I5(n,e){let t;for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);return t}function PJ(n,e,t=0,i=1/0,r){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),i=Math.floor(Math.min(n.length-1,i)),!(t<=e&&e<=i))return n;for(r=r===void 0?MJ:o_e(r);i>t;){if(i-t>600){const l=i-t+1,u=e-t+1,d=Math.log(l),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),v=Math.max(t,Math.floor(e-u*h/l+g)),C=Math.min(i,Math.floor(e+(l-u)*h/l+g));PJ(n,e,v,C,r)}const s=n[e];let a=t,o=i;for(I0(n,t,e),r(n[i],s)>0&&I0(n,t,i);a<o;){for(I0(n,a,o),++a,--o;r(n[a],s)<0;)++a;for(;r(n[o],s)>0;)--o}r(n[t],s)===0?I0(n,t,o):(++o,I0(n,o,i)),o<=e&&(t=o+1),e<=o&&(i=o-1)}return n}function I0(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function c_e(n,e,t){if(n=Float64Array.from(n_e(n)),!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return I5(n);if(e>=1)return T5(n);var i,r=(i-1)*e,s=Math.floor(r),a=T5(PJ(n,s).subarray(0,s+1)),o=I5(n.subarray(s+1));return a+(o-a)*(r-s)}}function d_e(n,e,t=UJ){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,s=Math.floor(r),a=+t(n[s],s,n),o=+t(n[s+1],s+1,n);return a+(o-a)*(r-s)}}function f_e(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function $a(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Eu(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const GL=Symbol("implicit");function vO(){var n=new x5,e=[],t=[],i=GL;function r(s){let a=n.get(s);if(a===void 0){if(i!==GL)return i;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new x5;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return vO(e,t).unknown(i)},$a.apply(r,arguments),r}function yO(){var n=vO().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,a,o=!1,l=0,u=0,d=.5;delete n.unknown;function h(){var g=e().length,v=r<i,C=v?r:i,b=v?i:r;s=(b-C)/Math.max(1,g-l+u*2),o&&(s=Math.floor(s)),C+=(b-C-s*(g-l))*d,a=s*(1-l),o&&(C=Math.round(C),a=Math.round(a));var E=f_e(g).map(function(x){return C+s*x});return t(v?E.reverse():E)}return n.domain=function(g){return arguments.length?(e(g),h()):e()},n.range=function(g){return arguments.length?([i,r]=g,i=+i,r=+r,h()):[i,r]},n.rangeRound=function(g){return[i,r]=g,i=+i,r=+r,o=!0,h()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(g){return arguments.length?(o=!!g,h()):o},n.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},n.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},n.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},n.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},n.copy=function(){return yO(e(),[i,r]).round(o).paddingInner(l).paddingOuter(u).align(d)},$a.apply(h(),arguments)}function RJ(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return RJ(e())},n}function h_e(){return RJ(yO.apply(null,arguments).paddingInner(1))}function wO(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function DJ(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function $B(){}var qw=.7,IT=1/qw,$g="\\s*([+-]?\\d+)\\s*",$w="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p_e=/^#([0-9a-f]{3,8})$/,g_e=new RegExp(`^rgb\\(${$g},${$g},${$g}\\)$`),m_e=new RegExp(`^rgb\\(${pA},${pA},${pA}\\)$`),v_e=new RegExp(`^rgba\\(${$g},${$g},${$g},${$w}\\)$`),y_e=new RegExp(`^rgba\\(${pA},${pA},${pA},${$w}\\)$`),w_e=new RegExp(`^hsl\\(${$w},${pA},${pA}\\)$`),C_e=new RegExp(`^hsla\\(${$w},${pA},${pA},${$w}\\)$`),F5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wO($B,jw,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:U5,formatHex:U5,formatHex8:b_e,formatHsl:B_e,formatRgb:M5,toString:M5});function U5(){return this.rgb().formatHex()}function b_e(){return this.rgb().formatHex8()}function B_e(){return NJ(this).formatHsl()}function M5(){return this.rgb().formatRgb()}function jw(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=p_e.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?P5(e):t===3?new us(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?hx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?hx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=g_e.exec(n))?new us(e[1],e[2],e[3],1):(e=m_e.exec(n))?new us(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=v_e.exec(n))?hx(e[1],e[2],e[3],e[4]):(e=y_e.exec(n))?hx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=w_e.exec(n))?N5(e[1],e[2]/100,e[3]/100,1):(e=C_e.exec(n))?N5(e[1],e[2]/100,e[3]/100,e[4]):F5.hasOwnProperty(n)?P5(F5[n]):n==="transparent"?new us(NaN,NaN,NaN,0):null}function P5(n){return new us(n>>16&255,n>>8&255,n&255,1)}function hx(n,e,t,i){return i<=0&&(n=e=t=NaN),new us(n,e,t,i)}function E_e(n){return n instanceof $B||(n=jw(n)),n?(n=n.rgb(),new us(n.r,n.g,n.b,n.opacity)):new us}function zL(n,e,t,i){return arguments.length===1?E_e(n):new us(n,e,t,i??1)}function us(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}wO(us,zL,DJ($B,{brighter(n){return n=n==null?IT:Math.pow(IT,n),new us(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?qw:Math.pow(qw,n),new us(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new us(Zh(this.r),Zh(this.g),Zh(this.b),FT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:R5,formatHex:R5,formatHex8:S_e,formatRgb:D5,toString:D5}));function R5(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}`}function S_e(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}${wf((isNaN(this.opacity)?1:this.opacity)*255)}`}function D5(){const n=FT(this.opacity);return`${n===1?"rgb(":"rgba("}${Zh(this.r)}, ${Zh(this.g)}, ${Zh(this.b)}${n===1?")":`, ${n})`}`}function FT(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Zh(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function wf(n){return n=Zh(n),(n<16?"0":"")+n.toString(16)}function N5(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new mo(n,e,t,i)}function NJ(n){if(n instanceof mo)return new mo(n.h,n.s,n.l,n.opacity);if(n instanceof $B||(n=jw(n)),!n)return new mo;if(n instanceof mo)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),a=NaN,o=s-r,l=(s+r)/2;return o?(e===s?a=(t-i)/o+(t<i)*6:t===s?a=(i-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+r:2-s-r,a*=60):o=l>0&&l<1?0:a,new mo(a,o,l,n.opacity)}function x_e(n,e,t,i){return arguments.length===1?NJ(n):new mo(n,e,t,i??1)}function mo(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}wO(mo,x_e,DJ($B,{brighter(n){return n=n==null?IT:Math.pow(IT,n),new mo(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?qw:Math.pow(qw,n),new mo(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new us(VP(n>=240?n-240:n+120,r,i),VP(n,r,i),VP(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new mo(L5(this.h),px(this.s),px(this.l),FT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=FT(this.opacity);return`${n===1?"hsl(":"hsla("}${L5(this.h)}, ${px(this.s)*100}%, ${px(this.l)*100}%${n===1?")":`, ${n})`}`}}));function L5(n){return n=(n||0)%360,n<0?n+360:n}function px(n){return Math.max(0,Math.min(1,n||0))}function VP(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const CO=n=>()=>n;function __e(n,e){return function(t){return n+t*e}}function T_e(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function I_e(n){return(n=+n)==1?LJ:function(e,t){return t-e?T_e(e,t,n):CO(isNaN(e)?t:e)}}function LJ(n,e){var t=e-n;return t?__e(n,t):CO(isNaN(n)?e:n)}const Q5=(function n(e){var t=I_e(e);function i(r,s){var a=t((r=zL(r)).r,(s=zL(s)).r),o=t(r.g,s.g),l=t(r.b,s.b),u=LJ(r.opacity,s.opacity);return function(d){return r.r=a(d),r.g=o(d),r.b=l(d),r.opacity=u(d),r+""}}return i.gamma=n,i})(1);function F_e(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function U_e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function M_e(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),a;for(a=0;a<i;++a)r[a]=fy(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<i;++a)s[a]=r[a](o);return s}}function P_e(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function UT(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function R_e(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=fy(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var qL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,KP=new RegExp(qL.source,"g");function D_e(n){return function(){return n}}function N_e(n){return function(e){return n(e)+""}}function L_e(n,e){var t=qL.lastIndex=KP.lastIndex=0,i,r,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(i=qL.exec(n))&&(r=KP.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:UT(i,r)})),t=KP.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?N_e(l[0].x):D_e(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function fy(n,e){var t=typeof e,i;return e==null||t==="boolean"?CO(e):(t==="number"?UT:t==="string"?(i=jw(e))?(e=i,Q5):L_e:e instanceof jw?Q5:e instanceof Date?P_e:U_e(e)?F_e:Array.isArray(e)?M_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?R_e:UT)(n,e)}function bO(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function Q_e(n,e){e===void 0&&(e=n,n=fy);for(var t=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);t<i;)s[t]=n(r,r=e[++t]);return function(a){var o=Math.max(0,Math.min(i-1,Math.floor(a*=i)));return s[o](a-o)}}function O_e(n){return function(){return n}}function MT(n){return+n}var O5=[0,1];function Lr(n){return n}function $L(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:O_e(isNaN(e)?NaN:.5)}function k_e(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function H_e(n,e,t){var i=n[0],r=n[1],s=e[0],a=e[1];return r<i?(i=$L(r,i),s=t(a,s)):(i=$L(i,r),s=t(s,a)),function(o){return s(i(o))}}function V_e(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=$L(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=qB(n,o,1,i)-1;return s[l](r[l](o))}}function jB(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function lI(){var n=O5,e=O5,t=fy,i,r,s,a=Lr,o,l,u;function d(){var g=Math.min(n.length,e.length);return a!==Lr&&(a=k_e(n[0],n[g-1])),o=g>2?V_e:H_e,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?s:(l||(l=o(n.map(i),e,t)))(i(a(g)))}return h.invert=function(g){return a(r((u||(u=o(e,n.map(i),UT)))(g)))},h.domain=function(g){return arguments.length?(n=Array.from(g,MT),d()):n.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),t=bO,d()},h.clamp=function(g){return arguments.length?(a=g?!0:Lr,d()):a!==Lr},h.interpolate=function(g){return arguments.length?(t=g,d()):t},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return i=g,r=v,d()}}function BO(){return lI()(Lr,Lr)}function K_e(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function PT(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function Zv(n){return n=PT(Math.abs(n)),n?n[1]:NaN}function G_e(n,e){return function(t,i){for(var r=t.length,s=[],a=0,o=n[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),s.push(t.substring(r-=o,r+o)),!((l+=o+1)>i));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function z_e(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var q_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ww(n){if(!(e=q_e.exec(n)))throw new Error("invalid format: "+n);var e;return new EO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ww.prototype=EO.prototype;function EO(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}EO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $_e(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var QJ;function j_e(n,e){var t=PT(n,e);if(!t)return n+"";var i=t[0],r=t[1],s=r-(QJ=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+PT(n,Math.max(0,e+s-1))[0]}function k5(n,e){var t=PT(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const H5={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:K_e,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>k5(n*100,e),r:k5,s:j_e,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function V5(n){return n}var K5=Array.prototype.map,G5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function W_e(n){var e=n.grouping===void 0||n.thousands===void 0?V5:G_e(K5.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?V5:z_e(K5.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(h){h=Ww(h);var g=h.fill,v=h.align,C=h.sign,b=h.symbol,E=h.zero,x=h.width,I=h.comma,T=h.precision,R=h.trim,M=h.type;M==="n"?(I=!0,M="g"):H5[M]||(T===void 0&&(T=12),R=!0,M="g"),(E||g==="0"&&v==="=")&&(E=!0,g="0",v="=");var D=b==="$"?t:b==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",L=b==="$"?i:/[%p]/.test(M)?a:"",H=H5[M],O=/[defgprs%]/.test(M);T=T===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function K(V){var $=D,ne=L,oe,pe,G;if(M==="c")ne=H(V)+ne,V="";else{V=+V;var z=V<0||1/V<0;if(V=isNaN(V)?l:H(Math.abs(V),T),R&&(V=$_e(V)),z&&+V==0&&C!=="+"&&(z=!1),$=(z?C==="("?C:o:C==="-"||C==="("?"":C)+$,ne=(M==="s"?G5[8+QJ/3]:"")+ne+(z&&C==="("?")":""),O){for(oe=-1,pe=V.length;++oe<pe;)if(G=V.charCodeAt(oe),48>G||G>57){ne=(G===46?r+V.slice(oe+1):V.slice(oe))+ne,V=V.slice(0,oe);break}}}I&&!E&&(V=e(V,1/0));var ee=$.length+V.length+ne.length,Z=ee<x?new Array(x-ee+1).join(g):"";switch(I&&E&&(V=e(Z+V,Z.length?x-ne.length:1/0),Z=""),v){case"<":V=$+V+ne+Z;break;case"=":V=$+Z+V+ne;break;case"^":V=Z.slice(0,ee=Z.length>>1)+$+V+ne+Z.slice(ee);break;default:V=Z+$+V+ne;break}return s(V)}return K.toString=function(){return h+""},K}function d(h,g){var v=u((h=Ww(h),h.type="f",h)),C=Math.max(-8,Math.min(8,Math.floor(Zv(g)/3)))*3,b=Math.pow(10,-C),E=G5[8+C/3];return function(x){return v(b*x)+E}}return{format:u,formatPrefix:d}}var gx,SO,OJ;Y_e({thousands:",",grouping:[3],currency:["$",""]});function Y_e(n){return gx=W_e(n),SO=gx.format,OJ=gx.formatPrefix,gx}function X_e(n){return Math.max(0,-Zv(Math.abs(n)))}function J_e(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zv(e)/3)))*3-Zv(Math.abs(n)))}function Z_e(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Zv(e)-Zv(n))+1}function kJ(n,e,t,i){var r=KL(n,e,t),s;switch(i=Ww(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=J_e(r,a))&&(i.precision=s),OJ(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=Z_e(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=X_e(r))&&(i.precision=s-(i.type==="%")*2);break}}return SO(i)}function Dd(n){var e=n.domain;return n.ticks=function(t){var i=e();return HL(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return kJ(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,a=i[r],o=i[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=r,r=s,s=u);d-- >0;){if(u=VL(a,o,t),u===l)return i[r]=a,i[s]=o,e(i);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return n},n}function HJ(){var n=BO();return n.copy=function(){return jB(n,HJ())},$a.apply(n,arguments),Dd(n)}function VJ(n){var e;function t(i){return i==null||isNaN(i=+i)?e:i}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=Array.from(i,MT),t):n.slice()},t.unknown=function(i){return arguments.length?(e=i,t):e},t.copy=function(){return VJ(n).unknown(e)},n=arguments.length?Array.from(n,MT):[0,1],Dd(t)}function KJ(n,e){n=n.slice();var t=0,i=n.length-1,r=n[t],s=n[i],a;return s<r&&(a=t,t=i,i=a,a=r,r=s,s=a),n[t]=e.floor(r),n[i]=e.ceil(s),n}function z5(n){return Math.log(n)}function q5(n){return Math.exp(n)}function eTe(n){return-Math.log(-n)}function tTe(n){return-Math.exp(-n)}function nTe(n){return isFinite(n)?+("1e"+n):n<0?0:n}function iTe(n){return n===10?nTe:n===Math.E?Math.exp:e=>Math.pow(n,e)}function rTe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function $5(n){return(e,t)=>-n(-e,t)}function xO(n){const e=n(z5,q5),t=e.domain;let i=10,r,s;function a(){return r=rTe(i),s=iTe(i),t()[0]<0?(r=$5(r),s=$5(s),n(eTe,tTe)):n(z5,q5),e}return e.base=function(o){return arguments.length?(i=+o,a()):i},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=r(u),v=r(d),C,b;const E=o==null?10:+o;let x=[];if(!(i%1)&&v-g<E){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(C=1;C<i;++C)if(b=g<0?C/s(-g):C*s(g),!(b<u)){if(b>d)break;x.push(b)}}else for(;g<=v;++g)for(C=i-1;C>=1;--C)if(b=g>0?C/s(-g):C*s(g),!(b<u)){if(b>d)break;x.push(b)}x.length*2<E&&(x=HL(u,d,E))}else x=HL(g,v,Math.min(v-g,E)).map(s);return h?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=Ww(l)).precision==null&&(l.trim=!0),l=SO(l)),o===1/0)return l;const u=Math.max(1,i*o/e.ticks().length);return d=>{let h=d/s(Math.round(r(d)));return h*i<i-.5&&(h*=i),h<=u?l(d):""}},e.nice=()=>t(KJ(t(),{floor:o=>s(Math.floor(r(o))),ceil:o=>s(Math.ceil(r(o)))})),e}function GJ(){const n=xO(lI()).domain([1,10]);return n.copy=()=>jB(n,GJ()).base(n.base()),$a.apply(n,arguments),n}function j5(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function W5(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function _O(n){var e=1,t=n(j5(e),W5(e));return t.constant=function(i){return arguments.length?n(j5(e=+i),W5(e)):e},Dd(t)}function zJ(){var n=_O(lI());return n.copy=function(){return jB(n,zJ()).constant(n.constant())},$a.apply(n,arguments)}function Y5(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function sTe(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function aTe(n){return n<0?-n*n:n*n}function TO(n){var e=n(Lr,Lr),t=1;function i(){return t===1?n(Lr,Lr):t===.5?n(sTe,aTe):n(Y5(t),Y5(1/t))}return e.exponent=function(r){return arguments.length?(t=+r,i()):t},Dd(e)}function IO(){var n=TO(lI());return n.copy=function(){return jB(n,IO()).exponent(n.exponent())},$a.apply(n,arguments),n}function oTe(){return IO.apply(null,arguments).exponent(.5)}function X5(n){return Math.sign(n)*n*n}function ATe(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function qJ(){var n=BO(),e=[0,1],t=!1,i;function r(s){var a=ATe(n(s));return isNaN(a)?i:t?Math.round(a):a}return r.invert=function(s){return n.invert(X5(s))},r.domain=function(s){return arguments.length?(n.domain(s),r):n.domain()},r.range=function(s){return arguments.length?(n.range((e=Array.from(s,MT)).map(X5)),r):e.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(t=!!s,r):t},r.clamp=function(s){return arguments.length?(n.clamp(s),r):n.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return qJ(n.domain(),e).round(t).clamp(n.clamp()).unknown(i)},$a.apply(r,arguments),Dd(r)}function $J(){var n=[],e=[],t=[],i;function r(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=d_e(n,a/o);return s}function s(a){return a==null||isNaN(a=+a)?i:e[qB(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},s.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let o of a)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(Ed),r()},s.range=function(a){return arguments.length?(e=Array.from(a),r()):e.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return $J().domain(n).range(e).unknown(i)},$a.apply(s,arguments)}function jJ(){var n=0,e=1,t=1,i=[.5],r=[0,1],s;function a(l){return l!=null&&l<=l?r[qB(i,l,0,t)]:s}function o(){var l=-1;for(i=new Array(t);++l<t;)i[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,o()):[n,e]},a.range=function(l){return arguments.length?(t=(r=Array.from(l)).length-1,o()):r.slice()},a.invertExtent=function(l){var u=r.indexOf(l);return u<0?[NaN,NaN]:u<1?[n,i[0]]:u>=t?[i[t-1],e]:[i[u-1],i[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return i.slice()},a.copy=function(){return jJ().domain([n,e]).range(r).unknown(s)},$a.apply(Dd(a),arguments)}function WJ(){var n=[.5],e=[0,1],t,i=1;function r(s){return s!=null&&s<=s?e[qB(n,s,0,i)]:t}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,e.length-1),r):n.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(n.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return WJ().domain(n).range(e).unknown(t)},$a.apply(r,arguments)}const GP=new Date,zP=new Date;function yi(n,e,t,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),r.round=s=>{const a=r(s),o=r.ceil(s);return s-a<o-s?a:o},r.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),r.range=(s,a,o)=>{const l=[];if(s=r.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),n(s);while(u<s&&s<a);return l},r.filter=s=>yi(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(r.count=(s,a)=>(GP.setTime(+s),zP.setTime(+a),n(GP),n(zP),Math.floor(t(GP,zP))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?a=>i(a)%s===0:a=>r.count(0,a)%s===0):r)),r}const RT=yi(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);RT.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?yi(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):RT);RT.range;const Yl=1e3,Qa=Yl*60,Xl=Qa*60,cu=Xl*24,FO=cu*7,J5=cu*30,qP=cu*365,Cf=yi(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*Yl)},(n,e)=>(e-n)/Yl,n=>n.getUTCSeconds());Cf.range;const UO=yi(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Yl)},(n,e)=>{n.setTime(+n+e*Qa)},(n,e)=>(e-n)/Qa,n=>n.getMinutes());UO.range;const MO=yi(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*Qa)},(n,e)=>(e-n)/Qa,n=>n.getUTCMinutes());MO.range;const PO=yi(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Yl-n.getMinutes()*Qa)},(n,e)=>{n.setTime(+n+e*Xl)},(n,e)=>(e-n)/Xl,n=>n.getHours());PO.range;const RO=yi(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*Xl)},(n,e)=>(e-n)/Xl,n=>n.getUTCHours());RO.range;const WB=yi(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Qa)/cu,n=>n.getDate()-1);WB.range;const uI=yi(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/cu,n=>n.getUTCDate()-1);uI.range;const YJ=yi(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/cu,n=>Math.floor(n/cu));YJ.range;function pp(n){return yi(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qa)/FO)}const cI=pp(0),DT=pp(1),lTe=pp(2),uTe=pp(3),ey=pp(4),cTe=pp(5),dTe=pp(6);cI.range;DT.range;lTe.range;uTe.range;ey.range;cTe.range;dTe.range;function gp(n){return yi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/FO)}const dI=gp(0),NT=gp(1),fTe=gp(2),hTe=gp(3),ty=gp(4),pTe=gp(5),gTe=gp(6);dI.range;NT.range;fTe.range;hTe.range;ty.range;pTe.range;gTe.range;const DO=yi(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());DO.range;const NO=yi(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());NO.range;const du=yi(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());du.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:yi(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});du.range;const fu=yi(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());fu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:yi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});fu.range;function XJ(n,e,t,i,r,s){const a=[[Cf,1,Yl],[Cf,5,5*Yl],[Cf,15,15*Yl],[Cf,30,30*Yl],[s,1,Qa],[s,5,5*Qa],[s,15,15*Qa],[s,30,30*Qa],[r,1,Xl],[r,3,3*Xl],[r,6,6*Xl],[r,12,12*Xl],[i,1,cu],[i,2,2*cu],[t,1,FO],[e,1,J5],[e,3,3*J5],[n,1,qP]];function o(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const v=h&&typeof h.range=="function"?h:l(u,d,h),C=v?v.range(u,+d+1):[];return g?C.reverse():C}function l(u,d,h){const g=Math.abs(d-u)/h,v=mO(([,,E])=>E).right(a,g);if(v===a.length)return n.every(KL(u/qP,d/qP,h));if(v===0)return RT.every(Math.max(KL(u,d,h),1));const[C,b]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return C.every(b)}return[o,l]}const[mTe,vTe]=XJ(fu,NO,dI,YJ,RO,MO),[yTe,wTe]=XJ(du,DO,cI,WB,PO,UO);function $P(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function jP(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function F0(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function CTe(n){var e=n.dateTime,t=n.date,i=n.time,r=n.periods,s=n.days,a=n.shortDays,o=n.months,l=n.shortMonths,u=U0(r),d=M0(r),h=U0(s),g=M0(s),v=U0(a),C=M0(a),b=U0(o),E=M0(o),x=U0(l),I=M0(l),T={a:z,A:ee,b:Z,B:me,c:null,d:r8,e:r8,f:GTe,g:e1e,G:n1e,H:HTe,I:VTe,j:KTe,L:JJ,m:zTe,M:qTe,p:q,q:Y,Q:o8,s:A8,S:$Te,u:jTe,U:WTe,V:YTe,w:XTe,W:JTe,x:null,X:null,y:ZTe,Y:t1e,Z:i1e,"%":a8},R={a:X,A:ce,b:ye,B:Ce,c:null,d:s8,e:s8,f:o1e,g:m1e,G:y1e,H:r1e,I:s1e,j:a1e,L:e7,m:A1e,M:l1e,p:ve,q:je,Q:o8,s:A8,S:u1e,u:c1e,U:d1e,V:f1e,w:h1e,W:p1e,x:null,X:null,y:g1e,Y:v1e,Z:w1e,"%":a8},M={a:K,A:V,b:$,B:ne,c:oe,d:n8,e:n8,f:LTe,g:t8,G:e8,H:i8,I:i8,j:PTe,L:NTe,m:MTe,M:RTe,p:O,q:UTe,Q:OTe,s:kTe,S:DTe,u:xTe,U:_Te,V:TTe,w:STe,W:ITe,x:pe,X:G,y:t8,Y:e8,Z:FTe,"%":QTe};T.x=D(t,T),T.X=D(i,T),T.c=D(e,T),R.x=D(t,R),R.X=D(i,R),R.c=D(e,R);function D(se,Pe){return function(Ve){var we=[],Zt=-1,We=0,wn=se.length,_n,ar,fs;for(Ve instanceof Date||(Ve=new Date(+Ve));++Zt<wn;)se.charCodeAt(Zt)===37&&(we.push(se.slice(We,Zt)),(ar=Z5[_n=se.charAt(++Zt)])!=null?_n=se.charAt(++Zt):ar=_n==="e"?" ":"0",(fs=Pe[_n])&&(_n=fs(Ve,ar)),we.push(_n),We=Zt+1);return we.push(se.slice(We,Zt)),we.join("")}}function L(se,Pe){return function(Ve){var we=F0(1900,void 0,1),Zt=H(we,se,Ve+="",0),We,wn;if(Zt!=Ve.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(Pe&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(We=jP(F0(we.y,0,1)),wn=We.getUTCDay(),We=wn>4||wn===0?NT.ceil(We):NT(We),We=uI.offset(We,(we.V-1)*7),we.y=We.getUTCFullYear(),we.m=We.getUTCMonth(),we.d=We.getUTCDate()+(we.w+6)%7):(We=$P(F0(we.y,0,1)),wn=We.getDay(),We=wn>4||wn===0?DT.ceil(We):DT(We),We=WB.offset(We,(we.V-1)*7),we.y=We.getFullYear(),we.m=We.getMonth(),we.d=We.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),wn="Z"in we?jP(F0(we.y,0,1)).getUTCDay():$P(F0(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(wn+5)%7:we.w+we.U*7-(wn+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,jP(we)):$P(we)}}function H(se,Pe,Ve,we){for(var Zt=0,We=Pe.length,wn=Ve.length,_n,ar;Zt<We;){if(we>=wn)return-1;if(_n=Pe.charCodeAt(Zt++),_n===37){if(_n=Pe.charAt(Zt++),ar=M[_n in Z5?Pe.charAt(Zt++):_n],!ar||(we=ar(se,Ve,we))<0)return-1}else if(_n!=Ve.charCodeAt(we++))return-1}return we}function O(se,Pe,Ve){var we=u.exec(Pe.slice(Ve));return we?(se.p=d.get(we[0].toLowerCase()),Ve+we[0].length):-1}function K(se,Pe,Ve){var we=v.exec(Pe.slice(Ve));return we?(se.w=C.get(we[0].toLowerCase()),Ve+we[0].length):-1}function V(se,Pe,Ve){var we=h.exec(Pe.slice(Ve));return we?(se.w=g.get(we[0].toLowerCase()),Ve+we[0].length):-1}function $(se,Pe,Ve){var we=x.exec(Pe.slice(Ve));return we?(se.m=I.get(we[0].toLowerCase()),Ve+we[0].length):-1}function ne(se,Pe,Ve){var we=b.exec(Pe.slice(Ve));return we?(se.m=E.get(we[0].toLowerCase()),Ve+we[0].length):-1}function oe(se,Pe,Ve){return H(se,e,Pe,Ve)}function pe(se,Pe,Ve){return H(se,t,Pe,Ve)}function G(se,Pe,Ve){return H(se,i,Pe,Ve)}function z(se){return a[se.getDay()]}function ee(se){return s[se.getDay()]}function Z(se){return l[se.getMonth()]}function me(se){return o[se.getMonth()]}function q(se){return r[+(se.getHours()>=12)]}function Y(se){return 1+~~(se.getMonth()/3)}function X(se){return a[se.getUTCDay()]}function ce(se){return s[se.getUTCDay()]}function ye(se){return l[se.getUTCMonth()]}function Ce(se){return o[se.getUTCMonth()]}function ve(se){return r[+(se.getUTCHours()>=12)]}function je(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Pe=D(se+="",T);return Pe.toString=function(){return se},Pe},parse:function(se){var Pe=L(se+="",!1);return Pe.toString=function(){return se},Pe},utcFormat:function(se){var Pe=D(se+="",R);return Pe.toString=function(){return se},Pe},utcParse:function(se){var Pe=L(se+="",!0);return Pe.toString=function(){return se},Pe}}}var Z5={"-":"",_:" ",0:"0"},Oi=/^\s*\d+/,bTe=/^%/,BTe=/[\\^$*+?|[\]().{}]/g;function It(n,e,t){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<t?new Array(t-s+1).join(e)+r:r)}function ETe(n){return n.replace(BTe,"\\$&")}function U0(n){return new RegExp("^(?:"+n.map(ETe).join("|")+")","i")}function M0(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function STe(n,e,t){var i=Oi.exec(e.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function xTe(n,e,t){var i=Oi.exec(e.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function _Te(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function TTe(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function ITe(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function e8(n,e,t){var i=Oi.exec(e.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function t8(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function FTe(n,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function UTe(n,e,t){var i=Oi.exec(e.slice(t,t+1));return i?(n.q=i[0]*3-3,t+i[0].length):-1}function MTe(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function n8(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function PTe(n,e,t){var i=Oi.exec(e.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function i8(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function RTe(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function DTe(n,e,t){var i=Oi.exec(e.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function NTe(n,e,t){var i=Oi.exec(e.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function LTe(n,e,t){var i=Oi.exec(e.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function QTe(n,e,t){var i=bTe.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function OTe(n,e,t){var i=Oi.exec(e.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function kTe(n,e,t){var i=Oi.exec(e.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function r8(n,e){return It(n.getDate(),e,2)}function HTe(n,e){return It(n.getHours(),e,2)}function VTe(n,e){return It(n.getHours()%12||12,e,2)}function KTe(n,e){return It(1+WB.count(du(n),n),e,3)}function JJ(n,e){return It(n.getMilliseconds(),e,3)}function GTe(n,e){return JJ(n,e)+"000"}function zTe(n,e){return It(n.getMonth()+1,e,2)}function qTe(n,e){return It(n.getMinutes(),e,2)}function $Te(n,e){return It(n.getSeconds(),e,2)}function jTe(n){var e=n.getDay();return e===0?7:e}function WTe(n,e){return It(cI.count(du(n)-1,n),e,2)}function ZJ(n){var e=n.getDay();return e>=4||e===0?ey(n):ey.ceil(n)}function YTe(n,e){return n=ZJ(n),It(ey.count(du(n),n)+(du(n).getDay()===4),e,2)}function XTe(n){return n.getDay()}function JTe(n,e){return It(DT.count(du(n)-1,n),e,2)}function ZTe(n,e){return It(n.getFullYear()%100,e,2)}function e1e(n,e){return n=ZJ(n),It(n.getFullYear()%100,e,2)}function t1e(n,e){return It(n.getFullYear()%1e4,e,4)}function n1e(n,e){var t=n.getDay();return n=t>=4||t===0?ey(n):ey.ceil(n),It(n.getFullYear()%1e4,e,4)}function i1e(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+It(e/60|0,"0",2)+It(e%60,"0",2)}function s8(n,e){return It(n.getUTCDate(),e,2)}function r1e(n,e){return It(n.getUTCHours(),e,2)}function s1e(n,e){return It(n.getUTCHours()%12||12,e,2)}function a1e(n,e){return It(1+uI.count(fu(n),n),e,3)}function e7(n,e){return It(n.getUTCMilliseconds(),e,3)}function o1e(n,e){return e7(n,e)+"000"}function A1e(n,e){return It(n.getUTCMonth()+1,e,2)}function l1e(n,e){return It(n.getUTCMinutes(),e,2)}function u1e(n,e){return It(n.getUTCSeconds(),e,2)}function c1e(n){var e=n.getUTCDay();return e===0?7:e}function d1e(n,e){return It(dI.count(fu(n)-1,n),e,2)}function t7(n){var e=n.getUTCDay();return e>=4||e===0?ty(n):ty.ceil(n)}function f1e(n,e){return n=t7(n),It(ty.count(fu(n),n)+(fu(n).getUTCDay()===4),e,2)}function h1e(n){return n.getUTCDay()}function p1e(n,e){return It(NT.count(fu(n)-1,n),e,2)}function g1e(n,e){return It(n.getUTCFullYear()%100,e,2)}function m1e(n,e){return n=t7(n),It(n.getUTCFullYear()%100,e,2)}function v1e(n,e){return It(n.getUTCFullYear()%1e4,e,4)}function y1e(n,e){var t=n.getUTCDay();return n=t>=4||t===0?ty(n):ty.ceil(n),It(n.getUTCFullYear()%1e4,e,4)}function w1e(){return"+0000"}function a8(){return"%"}function o8(n){return+n}function A8(n){return Math.floor(+n/1e3)}var dg,n7,i7;C1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function C1e(n){return dg=CTe(n),n7=dg.format,dg.parse,i7=dg.utcFormat,dg.utcParse,dg}function b1e(n){return new Date(n)}function B1e(n){return n instanceof Date?+n:+new Date(+n)}function LO(n,e,t,i,r,s,a,o,l,u){var d=BO(),h=d.invert,g=d.domain,v=u(".%L"),C=u(":%S"),b=u("%I:%M"),E=u("%I %p"),x=u("%a %d"),I=u("%b %d"),T=u("%B"),R=u("%Y");function M(D){return(l(D)<D?v:o(D)<D?C:a(D)<D?b:s(D)<D?E:i(D)<D?r(D)<D?x:I:t(D)<D?T:R)(D)}return d.invert=function(D){return new Date(h(D))},d.domain=function(D){return arguments.length?g(Array.from(D,B1e)):g().map(b1e)},d.ticks=function(D){var L=g();return n(L[0],L[L.length-1],D??10)},d.tickFormat=function(D,L){return L==null?M:u(L)},d.nice=function(D){var L=g();return(!D||typeof D.range!="function")&&(D=e(L[0],L[L.length-1],D??10)),D?g(KJ(L,D)):d},d.copy=function(){return jB(d,LO(n,e,t,i,r,s,a,o,l,u))},d}function E1e(){return $a.apply(LO(yTe,wTe,du,DO,cI,WB,PO,UO,Cf,n7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function S1e(){return $a.apply(LO(mTe,vTe,fu,NO,dI,uI,RO,MO,Cf,i7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fI(){var n=0,e=1,t,i,r,s,a=Lr,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(r===0?.5:(h=(s(h)-t)*r,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([n,e]=h,t=s(n=+n),i=s(e=+e),r=t===i?0:1/(i-t),u):[n,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(g){var v,C;return arguments.length?([v,C]=g,a=h(v,C),u):[a(0),a(1)]}}return u.range=d(fy),u.rangeRound=d(bO),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,t=h(n),i=h(e),r=t===i?0:1/(i-t),u}}function Nd(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function r7(){var n=Dd(fI()(Lr));return n.copy=function(){return Nd(n,r7())},Eu.apply(n,arguments)}function s7(){var n=xO(fI()).domain([1,10]);return n.copy=function(){return Nd(n,s7()).base(n.base())},Eu.apply(n,arguments)}function a7(){var n=_O(fI());return n.copy=function(){return Nd(n,a7()).constant(n.constant())},Eu.apply(n,arguments)}function QO(){var n=TO(fI());return n.copy=function(){return Nd(n,QO()).exponent(n.exponent())},Eu.apply(n,arguments)}function x1e(){return QO.apply(null,arguments).exponent(.5)}function o7(){var n=[],e=Lr;function t(i){if(i!=null&&!isNaN(i=+i))return e((qB(n,i,1)-1)/(n.length-1))}return t.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(Ed),t},t.interpolator=function(i){return arguments.length?(e=i,t):e},t.range=function(){return n.map((i,r)=>e(r/(n.length-1)))},t.quantiles=function(i){return Array.from({length:i+1},(r,s)=>c_e(n,s/i))},t.copy=function(){return o7(e).domain(n)},Eu.apply(t,arguments)}function hI(){var n=0,e=.5,t=1,i=1,r,s,a,o,l,u=Lr,d,h=!1,g;function v(b){return isNaN(b=+b)?g:(b=.5+((b=+d(b))-s)*(i*b<i*s?o:l),u(h?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([n,e,t]=b,r=d(n=+n),s=d(e=+e),a=d(t=+t),o=r===s?0:.5/(s-r),l=s===a?0:.5/(a-s),i=s<r?-1:1,v):[n,e,t]},v.clamp=function(b){return arguments.length?(h=!!b,v):h},v.interpolator=function(b){return arguments.length?(u=b,v):u};function C(b){return function(E){var x,I,T;return arguments.length?([x,I,T]=E,u=Q_e(b,[x,I,T]),v):[u(0),u(.5),u(1)]}}return v.range=C(fy),v.rangeRound=C(bO),v.unknown=function(b){return arguments.length?(g=b,v):g},function(b){return d=b,r=b(n),s=b(e),a=b(t),o=r===s?0:.5/(s-r),l=s===a?0:.5/(a-s),i=s<r?-1:1,v}}function A7(){var n=Dd(hI()(Lr));return n.copy=function(){return Nd(n,A7())},Eu.apply(n,arguments)}function l7(){var n=xO(hI()).domain([.1,1,10]);return n.copy=function(){return Nd(n,l7()).base(n.base())},Eu.apply(n,arguments)}function u7(){var n=_O(hI());return n.copy=function(){return Nd(n,u7()).constant(n.constant())},Eu.apply(n,arguments)}function OO(){var n=TO(hI());return n.copy=function(){return Nd(n,OO()).exponent(n.exponent())},Eu.apply(n,arguments)}function _1e(){return OO.apply(null,arguments).exponent(.5)}const gw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yO,scaleDiverging:A7,scaleDivergingLog:l7,scaleDivergingPow:OO,scaleDivergingSqrt:_1e,scaleDivergingSymlog:u7,scaleIdentity:VJ,scaleImplicit:GL,scaleLinear:HJ,scaleLog:GJ,scaleOrdinal:vO,scalePoint:h_e,scalePow:IO,scaleQuantile:$J,scaleQuantize:jJ,scaleRadial:qJ,scaleSequential:r7,scaleSequentialLog:s7,scaleSequentialPow:QO,scaleSequentialQuantile:o7,scaleSequentialSqrt:x1e,scaleSequentialSymlog:a7,scaleSqrt:oTe,scaleSymlog:zJ,scaleThreshold:WJ,scaleTime:E1e,scaleUtc:S1e,tickFormat:kJ},Symbol.toStringTag,{value:"Module"}));var Ld=n=>n.chartData,T1e=le([Ld],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),kO=(n,e,t,i)=>i?T1e(n):Ld(n);function Fd(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(Xn(e)&&Xn(t))return!0}return!1}function l8(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function c7(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,i]=n,r,s;if(Xn(t))r=t;else if(typeof t=="function")return;if(Xn(i))s=i;else if(typeof i=="function")return;var a=[r,s];if(Fd(a))return a}}function I1e(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var i=n(e,t);if(Fd(i))return l8(i,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[r,s]=n,a,o;if(r==="auto")e!=null&&(a=Math.min(...e));else if(qe(r))a=r;else if(typeof r=="function")try{e!=null&&(a=r(e==null?void 0:e[0]))}catch{}else if(typeof r=="string"&&Qq.test(r)){var l=Qq.exec(r);if(l==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(qe(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&Oq.test(s)){var d=Oq.exec(s);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var g=[a,o];if(Fd(g))return e==null?g:l8(g,e,t)}}}var hy=1e9,F1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VO,xn=!0,za="[DecimalError] ",ep=za+"Invalid argument: ",HO=za+"Exponent out of range: ",py=Math.floor,hf=Math.pow,U1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qs,Di=1e7,vn=7,d7=9007199254740991,LT=py(d7/vn),Me={};Me.absoluteValue=Me.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Me.comparedTo=Me.cmp=function(n){var e,t,i,r,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(i=s.d.length,r=n.d.length,e=0,t=i<r?i:r;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*vn;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Me.dividedBy=Me.div=function(n){return tu(this,new this.constructor(n))};Me.dividedToIntegerBy=Me.idiv=function(n){var e=this,t=e.constructor;return on(tu(e,new t(n),0,1),t.precision)};Me.equals=Me.eq=function(n){return!this.cmp(n)};Me.exponent=function(){return li(this)};Me.greaterThan=Me.gt=function(n){return this.cmp(n)>0};Me.greaterThanOrEqualTo=Me.gte=function(n){return this.cmp(n)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(n){return this.cmp(n)<0};Me.lessThanOrEqualTo=Me.lte=function(n){return this.cmp(n)<1};Me.logarithm=Me.log=function(n){var e,t=this,i=t.constructor,r=i.precision,s=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(qs))throw Error(za+"NaN");if(t.s<1)throw Error(za+(t.s?"NaN":"-Infinity"));return t.eq(qs)?new i(0):(xn=!1,e=tu(Yw(t,s),Yw(n,s),s),xn=!0,on(e,r))};Me.minus=Me.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?p7(e,n):f7(e,(n.s=-n.s,n))};Me.modulo=Me.mod=function(n){var e,t=this,i=t.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(za+"NaN");return t.s?(xn=!1,e=tu(t,n,0,1).times(n),xn=!0,t.minus(e)):on(new i(t),r)};Me.naturalExponential=Me.exp=function(){return h7(this)};Me.naturalLogarithm=Me.ln=function(){return Yw(this)};Me.negated=Me.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Me.plus=Me.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?f7(e,n):p7(e,(n.s=-n.s,n))};Me.precision=Me.sd=function(n){var e,t,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(ep+n);if(e=li(r)+1,i=r.d.length-1,t=i*vn+1,i=r.d[i],i){for(;i%10==0;i/=10)t--;for(i=r.d[0];i>=10;i/=10)t++}return n&&e>t?e:t};Me.squareRoot=Me.sqrt=function(){var n,e,t,i,r,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(za+"NaN")}for(n=li(o),xn=!1,r=Math.sqrt(+o),r==0||r==1/0?(e=hA(o.d),(e.length+n)%2==0&&(e+="0"),r=Math.sqrt(e),n=py((n+1)/2)-(n<0||n%2),r==1/0?e="5e"+n:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),i=new l(e)):i=new l(r.toString()),t=l.precision,r=a=t+3;;)if(s=i,i=s.plus(tu(o,s,a+2)).times(.5),hA(s.d).slice(0,a)===(e=hA(i.d)).slice(0,a)){if(e=e.slice(a-3,a+1),r==a&&e=="4999"){if(on(s,t+1,0),s.times(s).eq(o)){i=s;break}}else if(e!="9999")break;a+=4}return xn=!0,on(i,t)};Me.times=Me.mul=function(n){var e,t,i,r,s,a,o,l,u,d=this,h=d.constructor,g=d.d,v=(n=new h(n)).d;if(!d.s||!n.s)return new h(0);for(n.s*=d.s,t=d.e+n.e,l=g.length,u=v.length,l<u&&(s=g,g=v,v=s,a=l,l=u,u=a),s=[],a=l+u,i=a;i--;)s.push(0);for(i=u;--i>=0;){for(e=0,r=l+i;r>i;)o=s[r]+v[i]*g[r-i-1]+e,s[r--]=o%Di|0,e=o/Di|0;s[r]=(s[r]+e)%Di|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,xn?on(n,h.precision):n};Me.toDecimalPlaces=Me.todp=function(n,e){var t=this,i=t.constructor;return t=new i(t),n===void 0?t:(vA(n,0,hy),e===void 0?e=i.rounding:vA(e,0,8),on(t,n+li(t)+1,e))};Me.toExponential=function(n,e){var t,i=this,r=i.constructor;return n===void 0?t=op(i,!0):(vA(n,0,hy),e===void 0?e=r.rounding:vA(e,0,8),i=on(new r(i),n+1,e),t=op(i,!0,n+1)),t};Me.toFixed=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?op(r):(vA(n,0,hy),e===void 0?e=s.rounding:vA(e,0,8),i=on(new s(r),n+li(r)+1,e),t=op(i.abs(),!1,n+li(i)+1),r.isneg()&&!r.isZero()?"-"+t:t)};Me.toInteger=Me.toint=function(){var n=this,e=n.constructor;return on(new e(n),li(n)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(n){var e,t,i,r,s,a,o=this,l=o.constructor,u=12,d=+(n=new l(n));if(!n.s)return new l(qs);if(o=new l(o),!o.s){if(n.s<1)throw Error(za+"Infinity");return o}if(o.eq(qs))return o;if(i=l.precision,n.eq(qs))return on(o,i);if(e=n.e,t=n.d.length-1,a=e>=t,s=o.s,a){if((t=d<0?-d:d)<=d7){for(r=new l(qs),e=Math.ceil(i/vn+4),xn=!1;t%2&&(r=r.times(o),c8(r.d,e)),t=py(t/2),t!==0;)o=o.times(o),c8(o.d,e);return xn=!0,n.s<0?new l(qs).div(r):on(r,i)}}else if(s<0)throw Error(za+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,xn=!1,r=n.times(Yw(o,i+u)),xn=!0,r=h7(r),r.s=s,r};Me.toPrecision=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?(t=li(r),i=op(r,t<=s.toExpNeg||t>=s.toExpPos)):(vA(n,1,hy),e===void 0?e=s.rounding:vA(e,0,8),r=on(new s(r),n,e),t=li(r),i=op(r,n<=t||t<=s.toExpNeg,n)),i};Me.toSignificantDigits=Me.tosd=function(n,e){var t=this,i=t.constructor;return n===void 0?(n=i.precision,e=i.rounding):(vA(n,1,hy),e===void 0?e=i.rounding:vA(e,0,8)),on(new i(t),n,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=li(n),t=n.constructor;return op(n,e<=t.toExpNeg||e>=t.toExpPos)};function f7(n,e){var t,i,r,s,a,o,l,u,d=n.constructor,h=d.precision;if(!n.s||!e.s)return e.s||(e=new d(n)),xn?on(e,h):e;if(l=n.d,u=e.d,a=n.e,r=e.e,l=l.slice(),s=a-r,s){for(s<0?(i=l,s=-s,o=u.length):(i=u,r=a,o=l.length),a=Math.ceil(h/vn),o=a>o?a+1:o+1,s>o&&(s=o,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,i=u,u=l,l=i),t=0;s;)t=(l[--s]=l[s]+u[s]+t)/Di|0,l[s]%=Di;for(t&&(l.unshift(t),++r),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=r,xn?on(e,h):e}function vA(n,e,t){if(n!==~~n||n<e||n>t)throw Error(ep+n)}function hA(n){var e,t,i,r=n.length-1,s="",a=n[0];if(r>0){for(s+=a,e=1;e<r;e++)i=n[e]+"",t=vn-i.length,t&&(s+=ic(t)),s+=i;a=n[e],i=a+"",t=vn-i.length,t&&(s+=ic(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var tu=(function(){function n(i,r){var s,a=0,o=i.length;for(i=i.slice();o--;)s=i[o]*r+a,i[o]=s%Di|0,a=s/Di|0;return a&&i.unshift(a),i}function e(i,r,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(i[o]!=r[o]){l=i[o]>r[o]?1:-1;break}return l}function t(i,r,s){for(var a=0;s--;)i[s]-=a,a=i[s]<r[s]?1:0,i[s]=a*Di+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,a){var o,l,u,d,h,g,v,C,b,E,x,I,T,R,M,D,L,H,O=i.constructor,K=i.s==r.s?1:-1,V=i.d,$=r.d;if(!i.s)return new O(i);if(!r.s)throw Error(za+"Division by zero");for(l=i.e-r.e,L=$.length,M=V.length,v=new O(K),C=v.d=[],u=0;$[u]==(V[u]||0);)++u;if($[u]>(V[u]||0)&&--l,s==null?I=s=O.precision:a?I=s+(li(i)-li(r))+1:I=s,I<0)return new O(0);if(I=I/vn+2|0,u=0,L==1)for(d=0,$=$[0],I++;(u<M||d)&&I--;u++)T=d*Di+(V[u]||0),C[u]=T/$|0,d=T%$|0;else{for(d=Di/($[0]+1)|0,d>1&&($=n($,d),V=n(V,d),L=$.length,M=V.length),R=L,b=V.slice(0,L),E=b.length;E<L;)b[E++]=0;H=$.slice(),H.unshift(0),D=$[0],$[1]>=Di/2&&++D;do d=0,o=e($,b,L,E),o<0?(x=b[0],L!=E&&(x=x*Di+(b[1]||0)),d=x/D|0,d>1?(d>=Di&&(d=Di-1),h=n($,d),g=h.length,E=b.length,o=e(h,b,g,E),o==1&&(d--,t(h,L<g?H:$,g))):(d==0&&(o=d=1),h=$.slice()),g=h.length,g<E&&h.unshift(0),t(b,h,E),o==-1&&(E=b.length,o=e($,b,L,E),o<1&&(d++,t(b,L<E?H:$,E))),E=b.length):o===0&&(d++,b=[0]),C[u++]=d,o&&b[0]?b[E++]=V[R]||0:(b=[V[R]],E=1);while((R++<M||b[0]!==void 0)&&I--)}return C[0]||C.shift(),v.e=l,on(v,a?s+li(v)+1:s)}})();function h7(n,e){var t,i,r,s,a,o,l=0,u=0,d=n.constructor,h=d.precision;if(li(n)>16)throw Error(HO+li(n));if(!n.s)return new d(qs);for(xn=!1,o=h,a=new d(.03125);n.abs().gte(.1);)n=n.times(a),u+=5;for(i=Math.log(hf(2,u))/Math.LN10*2+5|0,o+=i,t=r=s=new d(qs),d.precision=o;;){if(r=on(r.times(n),o),t=t.times(++l),a=s.plus(tu(r,t,o)),hA(a.d).slice(0,o)===hA(s.d).slice(0,o)){for(;u--;)s=on(s.times(s),o);return d.precision=h,e==null?(xn=!0,on(s,h)):s}s=a}}function li(n){for(var e=n.e*vn,t=n.d[0];t>=10;t/=10)e++;return e}function WP(n,e,t){if(e>n.LN10.sd())throw xn=!0,t&&(n.precision=t),Error(za+"LN10 precision limit exceeded");return on(new n(n.LN10),e)}function ic(n){for(var e="";n--;)e+="0";return e}function Yw(n,e){var t,i,r,s,a,o,l,u,d,h=1,g=10,v=n,C=v.d,b=v.constructor,E=b.precision;if(v.s<1)throw Error(za+(v.s?"NaN":"-Infinity"));if(v.eq(qs))return new b(0);if(e==null?(xn=!1,u=E):u=e,v.eq(10))return e==null&&(xn=!0),WP(b,u);if(u+=g,b.precision=u,t=hA(C),i=t.charAt(0),s=li(v),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)v=v.times(n),t=hA(v.d),i=t.charAt(0),h++;s=li(v),i>1?(v=new b("0."+t),s++):v=new b(i+"."+t.slice(1))}else return l=WP(b,u+2,E).times(s+""),v=Yw(new b(i+"."+t.slice(1)),u-g).plus(l),b.precision=E,e==null?(xn=!0,on(v,E)):v;for(o=a=v=tu(v.minus(qs),v.plus(qs),u),d=on(v.times(v),u),r=3;;){if(a=on(a.times(d),u),l=o.plus(tu(a,new b(r),u)),hA(l.d).slice(0,u)===hA(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(WP(b,u+2,E).times(s+""))),o=tu(o,new b(h),u),b.precision=E,e==null?(xn=!0,on(o,E)):o;o=l,r+=2}}function u8(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,t=t-i-1,n.e=py(t/vn),n.d=[],i=(t+1)%vn,t<0&&(i+=vn),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=vn;i<r;)n.d.push(+e.slice(i,i+=vn));e=e.slice(i),i=vn-e.length}else i-=r;for(;i--;)e+="0";if(n.d.push(+e),xn&&(n.e>LT||n.e<-LT))throw Error(HO+t)}else n.s=0,n.e=0,n.d=[0];return n}function on(n,e,t){var i,r,s,a,o,l,u,d,h=n.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(i=e-a,i<0)i+=vn,r=e,u=h[d=0];else{if(d=Math.ceil((i+1)/vn),s=h.length,d>=s)return n;for(u=s=h[d],a=1;s>=10;s/=10)a++;i%=vn,r=i-vn+a}if(t!==void 0&&(s=hf(10,a-r-1),o=u/s%10|0,l=e<0||h[d+1]!==void 0||u%s,l=t<4?(o||l)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(i>0?r>0?u/hf(10,a-r):0:h[d-1])%10&1||t==(n.s<0?8:7))),e<1||!h[0])return l?(s=li(n),h.length=1,e=e-s-1,h[0]=hf(10,(vn-e%vn)%vn),n.e=py(-e/vn)||0):(h.length=1,h[0]=n.e=n.s=0),n;if(i==0?(h.length=d,s=1,d--):(h.length=d+1,s=hf(10,vn-i),h[d]=r>0?(u/hf(10,a-r)%hf(10,r)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==Di&&(h[0]=1,++n.e);break}else{if(h[d]+=s,h[d]!=Di)break;h[d--]=0,s=1}for(i=h.length;h[--i]===0;)h.pop();if(xn&&(n.e>LT||n.e<-LT))throw Error(HO+li(n));return n}function p7(n,e){var t,i,r,s,a,o,l,u,d,h,g=n.constructor,v=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),xn?on(e,v):e;if(l=n.d,h=e.d,i=e.e,u=n.e,l=l.slice(),a=u-i,a){for(d=a<0,d?(t=l,a=-a,o=h.length):(t=h,i=u,o=l.length),r=Math.max(Math.ceil(v/vn),o)+2,a>r&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for(r=l.length,o=h.length,d=r<o,d&&(o=r),r=0;r<o;r++)if(l[r]!=h[r]){d=l[r]<h[r];break}a=0}for(d&&(t=l,l=h,h=t,e.s=-e.s),o=l.length,r=h.length-o;r>0;--r)l[o++]=0;for(r=h.length;r>a;){if(l[--r]<h[r]){for(s=r;s&&l[--s]===0;)l[s]=Di-1;--l[s],l[r]+=Di}l[r]-=h[r]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--i;return l[0]?(e.d=l,e.e=i,xn?on(e,v):e):new g(0)}function op(n,e,t){var i,r=li(n),s=hA(n.d),a=s.length;return e?(t&&(i=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+ic(i):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+ic(-r-1)+s,t&&(i=t-a)>0&&(s+=ic(i))):r>=a?(s+=ic(r+1-a),t&&(i=t-r-1)>0&&(s=s+"."+ic(i))):((i=r+1)<a&&(s=s.slice(0,i)+"."+s.slice(i)),t&&(i=t-a)>0&&(r+1===a&&(s+="."),s+=ic(i))),n.s<0?"-"+s:s}function c8(n,e){if(n.length>e)return n.length=e,!0}function g7(n){var e,t,i;function r(s){var a=this;if(!(a instanceof r))return new r(s);if(a.constructor=r,s instanceof r){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ep+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return u8(a,s.toString())}else if(typeof s!="string")throw Error(ep+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,U1e.test(s))u8(a,s);else throw Error(ep+s)}if(r.prototype=Me,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=g7,r.config=r.set=M1e,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}function M1e(n){if(!n||typeof n!="object")throw Error(za+"Object expected");var e,t,i,r=["precision",1,hy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=n[t=r[e]])!==void 0)if(py(i)===i&&i>=r[e+1]&&i<=r[e+2])this[t]=i;else throw Error(ep+t+": "+i);if((i=n[t="LN10"])!==void 0)if(i==Math.LN10)this[t]=new this(i);else throw Error(ep+t+": "+i);return this}var VO=g7(F1e);qs=new VO(1);const kt=VO;var P1e=n=>n,m7={},v7=n=>n===m7,d8=n=>function e(){return arguments.length===0||arguments.length===1&&v7(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},y7=(n,e)=>n===1?e:d8(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var s=i.filter(a=>a!==m7).length;return s>=n?e(...i):y7(n-s,d8(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=i.map(d=>v7(d)?o.shift():d);return e(...u,...o)}))}),R1e=n=>y7(n.length,n),jL=(n,e)=>{for(var t=[],i=n;i<e;++i)t[i-n]=i;return t},D1e=R1e((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),N1e=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t.length)return P1e;var r=t.reverse(),s=r[0],a=r.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},WL=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function w7(n){var e;return n===0?e=1:e=Math.floor(new kt(n).abs().log(10).toNumber())+1,e}function C7(n,e,t){for(var i=new kt(n),r=0,s=[];i.lt(e)&&r<1e5;)s.push(i.toNumber()),i=i.add(t),r++;return s}var b7=n=>{var[e,t]=n,[i,r]=[e,t];return e>t&&([i,r]=[t,e]),[i,r]},B7=(n,e,t)=>{if(n.lte(0))return new kt(0);var i=w7(n.toNumber()),r=new kt(10).pow(i),s=n.div(r),a=i!==1?.05:.1,o=new kt(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(r);return e?new kt(l.toNumber()):new kt(Math.ceil(l.toNumber()))},L1e=(n,e,t)=>{var i=new kt(1),r=new kt(n);if(!r.isint()&&t){var s=Math.abs(n);s<1?(i=new kt(10).pow(w7(n)-1),r=new kt(Math.floor(r.div(i).toNumber())).mul(i)):s>1&&(r=new kt(Math.floor(n)))}else n===0?r=new kt(Math.floor((e-1)/2)):t||(r=new kt(Math.floor(n)));var a=Math.floor((e-1)/2),o=N1e(D1e(l=>r.add(new kt(l-a).mul(i)).toNumber()),jL);return o(0,e)},E7=function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(i-1)))return{step:new kt(0),tickMin:new kt(0),tickMax:new kt(0)};var a=B7(new kt(t).sub(e).div(i-1),r,s),o;e<=0&&t>=0?o=new kt(0):(o=new kt(e).add(t).div(2),o=o.sub(new kt(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new kt(t).sub(o).div(a).toNumber()),d=l+u+1;return d>i?E7(e,t,i,r,s+1):(d<i&&(u=t>0?u+(i-d):u,l=t>0?l:l+(i-d)),{step:a,tickMin:o.sub(new kt(l).mul(a)),tickMax:o.add(new kt(u).mul(a))})},Q1e=function(e){var[t,i]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,l]=b7([t,i]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...jL(0,r-1).map(()=>1/0)]:[...jL(0,r-1).map(()=>-1/0),l];return t>i?WL(u):u}if(o===l)return L1e(o,r,s);var{step:d,tickMin:h,tickMax:g}=E7(o,l,a,s,0),v=C7(h,g.add(new kt(.1).mul(d)),d);return t>i?WL(v):v},O1e=function(e,t){var[i,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=b7([i,r]);if(a===-1/0||o===1/0)return[i,r];if(a===o)return[a];var l=Math.max(t,2),u=B7(new kt(o).sub(a).div(l-1),s,0),d=[...C7(new kt(a),new kt(o),u),o];return s===!1&&(d=d.map(h=>Math.round(h))),i>r?WL(d):d},S7=n=>n.rootProps.maxBarSize,k1e=n=>n.rootProps.barGap,x7=n=>n.rootProps.barCategoryGap,H1e=n=>n.rootProps.barSize,pI=n=>n.rootProps.stackOffset,_7=n=>n.rootProps.reverseStackOrder,KO=n=>n.options.chartName,GO=n=>n.rootProps.syncId,T7=n=>n.rootProps.syncMethod,zO=n=>n.options.eventEmitter,cs={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},$l={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Gs={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},gI=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},V1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:$l.angleAxisId,includeHidden:!1,name:void 0,reversed:$l.reversed,scale:$l.scale,tick:$l.tick,tickCount:void 0,ticks:void 0,type:$l.type,unit:void 0},K1e={allowDataOverflow:Gs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gs.scale,tick:Gs.tick,tickCount:Gs.tickCount,ticks:void 0,type:Gs.type,unit:void 0},G1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:$l.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$l.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$l.scale,tick:$l.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},z1e={allowDataOverflow:Gs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gs.scale,tick:Gs.tick,tickCount:Gs.tickCount,ticks:void 0,type:"category",unit:void 0},qO=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?G1e:V1e,$O=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?z1e:K1e,mI=n=>n.polarOptions,jO=le([bu,Bu,Qi],Oxe),I7=le([mI,jO],(n,e)=>{if(n!=null)return wo(n.innerRadius,e,0)}),F7=le([mI,jO],(n,e)=>{if(n!=null)return wo(n.outerRadius,e,e*.8)}),q1e=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},U7=le([mI],q1e);le([qO,U7],gI);var M7=le([jO,I7,F7],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});le([$O,M7],gI);var P7=le([Ht,mI,I7,F7,bu,Bu],(n,e,t,i,r,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||i==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:wo(a,r,r/2),cy:wo(o,s,s/2),innerRadius:t,outerRadius:i,startAngle:l,endAngle:u,clockWise:!1}}}),wi=(n,e)=>e,vI=(n,e,t)=>t;function WO(n){return n==null?void 0:n.id}function R7(n,e,t){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:s}=t,a=new Map;return n.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:i;if(!(u==null||u.length===0)){var d=WO(o);u.forEach((h,g)=>{var v=s==null||r?g:String(Br(h,s,null)),C=Br(h,o.dataKey,0),b;a.has(v)?b=a.get(v):b={},Object.assign(b,{[d]:C}),a.set(v,b)})}}),Array.from(a.values())}function yI(n){return n.stackId!=null&&n.dataKey!=null}var wI=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function CI(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function $1e(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var Ci=n=>{var e=Ht(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},gy=n=>n.tooltip.settings.axisId;function f8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function QT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?f8(Object(t),!0).forEach(function(i){j1e(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function j1e(n,e,t){return(e=W1e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W1e(n){var e=Y1e(n,"string");return typeof e=="symbol"?e:e+""}function Y1e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var YL=[0,"auto"],xi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},D7=(n,e)=>n.cartesianAxis.xAxis[e],Su=(n,e)=>{var t=D7(n,e);return t??xi},_i={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:YL,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:KB},N7=(n,e)=>n.cartesianAxis.yAxis[e],xu=(n,e)=>{var t=N7(n,e);return t??_i},X1e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},YO=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??X1e},Hr=(n,e,t)=>{switch(e){case"xAxis":return Su(n,t);case"yAxis":return xu(n,t);case"zAxis":return YO(n,t);case"angleAxis":return qO(n,t);case"radiusAxis":return $O(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},J1e=(n,e,t)=>{switch(e){case"xAxis":return Su(n,t);case"yAxis":return xu(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},YB=(n,e,t)=>{switch(e){case"xAxis":return Su(n,t);case"yAxis":return xu(n,t);case"angleAxis":return qO(n,t);case"radiusAxis":return $O(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},L7=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Q7(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var XO=n=>n.graphicalItems.cartesianItems,Z1e=le([wi,vI],Q7),O7=(n,e,t)=>n.filter(t).filter(i=>(e==null?void 0:e.includeHidden)===!0?!0:!i.hide),XB=le([XO,Hr,Z1e],O7,{memoizeOptions:{resultEqualityCheck:CI}}),k7=le([XB],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(yI)),H7=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),eIe=le([XB],H7),V7=n=>n.map(e=>e.data).filter(Boolean).flat(1),tIe=le([XB],V7,{memoizeOptions:{resultEqualityCheck:CI}}),K7=(n,e)=>{var{chartData:t=[],dataStartIndex:i,dataEndIndex:r}=e;return n.length>0?n:t.slice(i,r+1)},JO=le([tIe,kO],K7),G7=(n,e,t)=>(e==null?void 0:e.dataKey)!=null?n.map(i=>({value:Br(i,e.dataKey)})):t.length>0?t.map(i=>i.dataKey).flatMap(i=>n.map(r=>({value:Br(r,i)}))):n.map(i=>({value:i})),bI=le([JO,Hr,XB],G7);function z7(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function I_(n){if(mA(n)||n instanceof Date){var e=Number(n);if(Xn(e))return e}}function h8(n){if(Array.isArray(n)){var e=[I_(n[0]),I_(n[1])];return Fd(e)?e:void 0}var t=I_(n);if(t!=null)return[t,t]}function hu(n){return n.map(I_).filter(obe)}function nIe(n,e,t){return!t||typeof e!="number"||gA(e)?[]:t.length?hu(t.flatMap(i=>{var r=Br(n,i.dataKey),s,a;if(Array.isArray(r)?[s,a]=r:s=a=r,!(!Xn(s)||!Xn(a)))return[e-s,e+a]})):[]}var bi=n=>{var e=Ci(n),t=gy(n);return YB(n,e,t)},JB=le([bi],n=>n==null?void 0:n.dataKey),iIe=le([k7,kO,bi],R7),q7=(n,e,t,i)=>{var r={},s=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=i?[...l].reverse():l,d=u.map(WO);return[o,{stackedData:_Ee(n,d,t),graphicalItems:u}]}))},XL=le([iIe,k7,pI,_7],q7),$7=(n,e,t,i)=>{var{dataStartIndex:r,dataEndIndex:s}=e;if(i==null&&t!=="zAxis"){var a=MEe(n,r,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},rIe=le([Hr],n=>n.allowDataOverflow),ZO=n=>{var e;if(n==null||!("domain"in n))return YL;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var t=hu(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:YL},j7=le([Hr],ZO),W7=le([j7,rIe],c7),sIe=le([XL,Ld,wi,W7],$7,{memoizeOptions:{resultEqualityCheck:wI}}),ek=n=>n.errorBars,aIe=(n,e,t)=>n.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>z7(t,i)),OT=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.filter(Boolean);if(r.length!==0){var s=r.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},Y7=(n,e,t,i,r)=>{var s,a;if(t.length>0&&n.forEach(o=>{t.forEach(l=>{var u,d,h=(u=i[l.id])===null||u===void 0?void 0:u.filter(x=>z7(r,x)),g=Br(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),v=nIe(o,g,h);if(v.length>=2){var C=Math.min(...v),b=Math.max(...v);(s==null||C<s)&&(s=C),(a==null||b>a)&&(a=b)}var E=h8(g);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),a=a==null?E[1]:Math.max(a,E[1]))})}),(e==null?void 0:e.dataKey)!=null&&n.forEach(o=>{var l=h8(Br(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),Xn(s)&&Xn(a))return[s,a]},oIe=le([JO,Hr,eIe,ek,wi],Y7,{memoizeOptions:{resultEqualityCheck:wI}});function AIe(n){var{value:e}=n;if(mA(e)||e instanceof Date)return e}var lIe=(n,e,t)=>{var i=n.map(AIe).filter(r=>r!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&h9(i))?FJ(0,n.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},X7=n=>n.referenceElements.dots,my=(n,e,t)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===t:i.yAxisId===t),uIe=le([X7,wi,vI],my),J7=n=>n.referenceElements.areas,cIe=le([J7,wi,vI],my),Z7=n=>n.referenceElements.lines,dIe=le([Z7,wi,vI],my),eZ=(n,e)=>{var t=hu(n.map(i=>e==="xAxis"?i.x:i.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},fIe=le(uIe,wi,eZ),tZ=(n,e)=>{var t=hu(n.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},hIe=le([cIe,wi],tZ);function pIe(n){var e;if(n.x!=null)return hu([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.x);return t==null||t.length===0?[]:hu(t)}function gIe(n){var e;if(n.y!=null)return hu([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.y);return t==null||t.length===0?[]:hu(t)}var nZ=(n,e)=>{var t=n.flatMap(i=>e==="xAxis"?pIe(i):gIe(i));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},mIe=le([dIe,wi],nZ),vIe=le(fIe,mIe,hIe,(n,e,t)=>OT(n,t,e)),iZ=(n,e,t,i,r,s,a,o)=>{if(t!=null)return t;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?OT(i,s,r):OT(s,r);return I1e(e,u,n.allowDataOverflow)},yIe=le([Hr,j7,W7,sIe,oIe,vIe,Ht,wi],iZ,{memoizeOptions:{resultEqualityCheck:wI}}),wIe=[0,1],rZ=(n,e,t,i,r,s,a)=>{if(!((n==null||t==null||t.length===0)&&a===void 0)){var{dataKey:o,type:l}=n,u=hp(e,s);if(u&&o==null){var d;return FJ(0,(d=t==null?void 0:t.length)!==null&&d!==void 0?d:0)}return l==="category"?lIe(i,n,u):r==="expand"?wIe:a}},tk=le([Hr,Ht,JO,bI,pI,wi,yIe],rZ),sZ=(n,e,t,i,r)=>{if(n!=null){var{scale:s,type:a}=n;if(s==="auto")return e==="radial"&&r==="radiusAxis"?"band":e==="radial"&&r==="angleAxis"?"linear":a==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(QB(s));return o in gw?o:"point"}}},ZB=le([Hr,Ht,L7,KO,wi],sZ);function CIe(n){if(n!=null){if(n in gw)return gw[n]();var e="scale".concat(QB(n));if(e in gw)return gw[e]()}}function nk(n,e,t,i){if(!(t==null||i==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(i);var r=CIe(e);if(r!=null){var s=r.domain(t).range(i);return bEe(s),s}}}var aZ=(n,e,t)=>{var i=ZO(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Fd(n))return Q1e(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Fd(n))return O1e(n,e.tickCount,e.allowDecimals)}},ik=le([tk,YB,ZB],aZ),oZ=(n,e,t,i)=>{if(i!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&Fd(e)&&Array.isArray(t)&&t.length>0){var r=e[0],s=t[0],a=e[1],o=t[t.length-1];return[Math.min(r,s),Math.max(a,o)]}return e},bIe=le([Hr,tk,ik,wi],oZ),BIe=le(bI,Hr,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,i=Array.from(hu(n.map(o=>o.value))).sort((o,l)=>o-l);if(i.length<2)return 1/0;var r=i[i.length-1]-i[0];if(r===0)return 1/0;for(var s=0;s<i.length-1;s++){var a=i[s+1]-i[s];t=Math.min(t,a)}return t/r}}),AZ=le(BIe,Ht,x7,Qi,(n,e,t,i)=>i,(n,e,t,i,r)=>{if(!Xn(n))return 0;var s=e==="vertical"?i.height:i.width;if(r==="gap")return n*s/2;if(r==="no-gap"){var a=wo(t,n*s),o=n*s/2;return o-a-(o-a)/s*a}return 0}),EIe=(n,e)=>{var t=Su(n,e);return t==null||typeof t.padding!="string"?0:AZ(n,"xAxis",e,t.padding)},SIe=(n,e)=>{var t=xu(n,e);return t==null||typeof t.padding!="string"?0:AZ(n,"yAxis",e,t.padding)},xIe=le(Su,EIe,(n,e)=>{var t,i;if(n==null)return{left:0,right:0};var{padding:r}=n;return typeof r=="string"?{left:e,right:e}:{left:((t=r.left)!==null&&t!==void 0?t:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),_Ie=le(xu,SIe,(n,e)=>{var t,i;if(n==null)return{top:0,bottom:0};var{padding:r}=n;return typeof r=="string"?{top:e,bottom:e}:{top:((t=r.top)!==null&&t!==void 0?t:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),TIe=le([Qi,xIe,nI,tI,(n,e,t)=>t],(n,e,t,i,r)=>{var{padding:s}=i;return r?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),IIe=le([Qi,Ht,_Ie,nI,tI,(n,e,t)=>t],(n,e,t,i,r,s)=>{var{padding:a}=r;return s?[i.height-a.bottom,a.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),eE=(n,e,t,i)=>{var r;switch(e){case"xAxis":return TIe(n,t,i);case"yAxis":return IIe(n,t,i);case"zAxis":return(r=YO(n,t))===null||r===void 0?void 0:r.range;case"angleAxis":return U7(n);case"radiusAxis":return M7(n,t);default:return}},lZ=le([Hr,eE],gI),vy=le([Hr,ZB,bIe,lZ],nk);le([XB,ek,wi],aIe);function uZ(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var BI=(n,e)=>e,EI=(n,e,t)=>t,FIe=le(Z1,BI,EI,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(uZ)),UIe=le(eI,BI,EI,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(uZ)),cZ=(n,e)=>({width:n.width,height:e.height}),MIe=(n,e)=>{var t=typeof e.width=="number"?e.width:KB;return{width:t,height:n.height}},dZ=le(Qi,Su,cZ),PIe=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},RIe=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},DIe=le(Bu,Qi,FIe,BI,EI,(n,e,t,i,r)=>{var s={},a;return t.forEach(o=>{var l=cZ(e,o);a==null&&(a=PIe(e,i,n));var u=i==="top"&&!r||i==="bottom"&&r;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),NIe=le(bu,Qi,UIe,BI,EI,(n,e,t,i,r)=>{var s={},a;return t.forEach(o=>{var l=MIe(e,o);a==null&&(a=RIe(e,i,n));var u=i==="left"&&!r||i==="right"&&r;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),LIe=(n,e)=>{var t=Su(n,e);if(t!=null)return DIe(n,t.orientation,t.mirror)},QIe=le([Qi,Su,LIe,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t==null?void 0:t[i];return r==null?{x:n.left,y:0}:{x:n.left,y:r}}}),OIe=(n,e)=>{var t=xu(n,e);if(t!=null)return NIe(n,t.orientation,t.mirror)},kIe=le([Qi,xu,OIe,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t==null?void 0:t[i];return r==null?{x:0,y:n.top}:{x:r,y:n.top}}}),fZ=le(Qi,xu,(n,e)=>{var t=typeof e.width=="number"?e.width:KB;return{width:t,height:n.height}}),p8=(n,e,t)=>{switch(e){case"xAxis":return dZ(n,t).width;case"yAxis":return fZ(n,t).height;default:return}},hZ=(n,e,t,i)=>{if(t!=null){var{allowDuplicatedCategory:r,type:s,dataKey:a}=t,o=hp(n,i),l=e.map(u=>u.value);if(a&&o&&s==="category"&&r&&h9(l))return l}},rk=le([Ht,bI,Hr,wi],hZ),pZ=(n,e,t,i)=>{if(!(t==null||t.dataKey==null)){var{type:r,scale:s}=t,a=hp(n,i);if(a&&(r==="number"||s!=="auto"))return e.map(o=>o.value)}},sk=le([Ht,bI,YB,wi],pZ);le([Ht,J1e,ZB,vy,rk,sk,eE,ik,wi],(n,e,t,i,r,s,a,o,l)=>{if(e!=null){var u=hp(n,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:r,isCategorical:u,niceTicks:o,range:a,realScaleType:t,scale:i}}});var HIe=(n,e,t,i,r,s,a,o,l)=>{if(!(e==null||i==null)){var u=hp(n,l),{type:d,ticks:h,tickCount:g}=e,v=t==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,C=d==="category"&&i.bandwidth?i.bandwidth()/v:0;C=l==="angleAxis"&&s!=null&&s.length>=2?$s(s[0]-s[1])*2*C:C;var b=h||r;if(b){var E=b.map((x,I)=>{var T=a?a.indexOf(x):x;return{index:I,coordinate:i(T)+C,value:x,offset:C}});return E.filter(x=>Xn(x.coordinate))}return u&&o?o.map((x,I)=>({coordinate:i(x)+C,value:x,index:I,offset:C})).filter(x=>Xn(x.coordinate)):i.ticks?i.ticks(g).map(x=>({coordinate:i(x)+C,value:x,offset:C})):i.domain().map((x,I)=>({coordinate:i(x)+C,value:a?a[x]:x,index:I,offset:C}))}},gZ=le([Ht,YB,ZB,vy,ik,eE,rk,sk,wi],HIe),VIe=(n,e,t,i,r,s,a)=>{if(!(e==null||t==null||i==null||i[0]===i[1])){var o=hp(n,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(i==null?void 0:i.length)>=2?$s(i[0]-i[1])*2*u:u,o&&s?s.map((d,h)=>({coordinate:t(d)+u,value:d,index:h,offset:u})):t.ticks?t.ticks(l).map(d=>({coordinate:t(d)+u,value:d,offset:u})):t.domain().map((d,h)=>({coordinate:t(d)+u,value:r?r[d]:d,index:h,offset:u}))}},ny=le([Ht,YB,vy,eE,rk,sk,wi],VIe),iy=le(Hr,vy,(n,e)=>{if(!(n==null||e==null))return QT(QT({},n),{},{scale:e})}),KIe=le([Hr,ZB,tk,lZ],nk);le((n,e,t)=>YO(n,t),KIe,(n,e)=>{if(!(n==null||e==null))return QT(QT({},n),{},{scale:e})});var GIe=le([Ht,Z1,eI],(n,e,t)=>{switch(n){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),mZ=n=>n.options.defaultTooltipEventType,vZ=n=>n.options.validateTooltipEventTypes;function yZ(n,e,t){if(n==null)return e;var i=n?"axis":"item";return t==null?e:t.includes(i)?i:e}function ak(n,e){var t=mZ(n),i=vZ(n);return yZ(e,t,i)}function zIe(n){return Ge(e=>ak(e,n))}var wZ=(n,e)=>{var t,i=Number(e);if(!(gA(i)||e==null))return i>=0?n==null||(t=n[i])===null||t===void 0?void 0:t.value:void 0},qIe=n=>n.tooltip.settings,oc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$Ie={itemInteraction:{click:oc,hover:oc},axisInteraction:{click:oc,hover:oc},keyboardInteraction:oc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},CZ=ds({name:"tooltip",initialState:$Ie,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:Sn()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:i}=e.payload,r=yo(n).tooltipItemPayloads.indexOf(t);r>-1&&(n.tooltipItemPayloads[r]=i)},prepare:Sn()},removeTooltipEntrySettings:{reducer(n,e){var t=yo(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:Sn()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:jIe,replaceTooltipEntrySettings:WIe,removeTooltipEntrySettings:YIe,setTooltipSettingsState:XIe,setActiveMouseOverItemIndex:bZ,mouseLeaveItem:JIe,mouseLeaveChart:BZ,setActiveClickItemIndex:ZIe,setMouseOverAxisIndex:EZ,setMouseClickAxisIndex:eFe,setSyncInteraction:JL,setKeyboardInteraction:ZL}=CZ.actions,tFe=CZ.reducer;function g8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(t),!0).forEach(function(i){nFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function nFe(n,e,t){return(e=iFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iFe(n){var e=rFe(n,"string");return typeof e=="symbol"?e:e+""}function rFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sFe(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function aFe(n){return n.index!=null}var SZ=(n,e,t,i)=>{if(e==null)return oc;var r=sFe(n,e,t);if(r==null)return oc;if(r.active)return r;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(aFe(r)){if(s)return mx(mx({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return mx(mx({},oc),{},{coordinate:r.coordinate})};function oFe(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function AFe(n,e){var t=oFe(n),i=e[0],r=e[1];if(t===void 0)return!1;var s=Math.min(i,r),a=Math.max(i,r);return t>=s&&t<=a}function lFe(n,e,t){if(t==null||e==null)return!0;var i=Br(n,e);return i==null||!Fd(t)?!0:AFe(i,t)}var ok=(n,e,t,i)=>{var r=n==null?void 0:n.index;if(r==null)return null;var s=Number(r);if(!Xn(s))return r;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||lFe(u,t,i)?String(l):null},xZ=(n,e,t,i,r,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=r==null?void 0:r[Number(s)];if(d)switch(t){case"horizontal":return{x:d.coordinate,y:(i.top+e)/2};default:return{x:(i.left+n)/2,y:d.coordinate}}}},_Z=(n,e,t,i)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var r;return t==="hover"?r=n.itemInteraction.hover.dataKey:r=n.itemInteraction.click.dataKey,r==null&&i!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===r})},tE=n=>n.options.tooltipPayloadSearcher,yy=n=>n.tooltip;function m8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function v8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(t),!0).forEach(function(i){uFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uFe(n,e,t){return(e=cFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cFe(n){var e=dFe(n,"string");return typeof e=="symbol"?e:e+""}function dFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function fFe(n,e){return n??e}var TZ=(n,e,t,i,r,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=t,h=[];return n.reduce((g,v)=>{var C,{dataDefinedOnItem:b,settings:E}=v,x=fFe(b,o),I=Array.isArray(x)?aJ(x,u,d):x,T=(C=E==null?void 0:E.dataKey)!==null&&C!==void 0?C:i,R=E==null?void 0:E.nameKey,M;if(i&&Array.isArray(I)&&!Array.isArray(I[0])&&a==="axis"?M=abe(I,i,r):M=s(I,e,l,R),Array.isArray(M))M.forEach(L=>{var H=v8(v8({},E),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});g.push(kq({tooltipEntrySettings:H,dataKey:L.dataKey,payload:L.payload,value:Br(L.payload,L.dataKey),name:L.name}))});else{var D;g.push(kq({tooltipEntrySettings:E,dataKey:T,payload:M,value:Br(M,T),name:(D=Br(M,R))!==null&&D!==void 0?D:E==null?void 0:E.name}))}return g},h)}},Ak=le([bi,Ht,L7,KO,Ci],sZ),hFe=le([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),pFe=le([Ci,gy],Q7),nE=le([hFe,bi,pFe],O7,{memoizeOptions:{resultEqualityCheck:CI}}),gFe=le([nE],n=>n.filter(yI)),mFe=le([nE],V7,{memoizeOptions:{resultEqualityCheck:CI}}),wy=le([mFe,Ld],K7),vFe=le([gFe,Ld,bi],R7),lk=le([wy,bi,nE],G7),IZ=le([bi],ZO),yFe=le([bi],n=>n.allowDataOverflow),FZ=le([IZ,yFe],c7),wFe=le([nE],n=>n.filter(yI)),CFe=le([vFe,wFe,pI,_7],q7),bFe=le([CFe,Ld,Ci,FZ],$7),BFe=le([nE],H7),EFe=le([wy,bi,BFe,ek,Ci],Y7,{memoizeOptions:{resultEqualityCheck:wI}}),SFe=le([X7,Ci,gy],my),xFe=le([SFe,Ci],eZ),_Fe=le([J7,Ci,gy],my),TFe=le([_Fe,Ci],tZ),IFe=le([Z7,Ci,gy],my),FFe=le([IFe,Ci],nZ),UFe=le([xFe,FFe,TFe],OT),MFe=le([bi,IZ,FZ,bFe,EFe,UFe,Ht,Ci],iZ),iE=le([bi,Ht,wy,lk,pI,Ci,MFe],rZ),PFe=le([iE,bi,Ak],aZ),RFe=le([bi,iE,PFe,Ci],oZ),UZ=n=>{var e=Ci(n),t=gy(n),i=!1;return eE(n,e,t,i)},MZ=le([bi,UZ],gI),PZ=le([bi,Ak,RFe,MZ],nk),DFe=le([Ht,lk,bi,Ci],hZ),NFe=le([Ht,lk,bi,Ci],pZ),LFe=(n,e,t,i,r,s,a,o)=>{if(e){var{type:l}=e,u=hp(n,o);if(i){var d=t==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,h=l==="category"&&i.bandwidth?i.bandwidth()/d:0;return h=o==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?$s(r[0]-r[1])*2*h:h,u&&a?a.map((g,v)=>({coordinate:i(g)+h,value:g,index:v,offset:h})):i.domain().map((g,v)=>({coordinate:i(g)+h,value:s?s[g]:g,index:v,offset:h}))}}},_u=le([Ht,bi,Ak,PZ,UZ,DFe,NFe,Ci],LFe),uk=le([mZ,vZ,qIe],(n,e,t)=>yZ(t.shared,n,e)),RZ=n=>n.tooltip.settings.trigger,ck=n=>n.tooltip.settings.defaultIndex,rE=le([yy,uk,RZ,ck],SZ),ry=le([rE,wy,JB,iE],ok),DZ=le([_u,ry],wZ),NZ=le([rE],n=>{if(n)return n.dataKey});le([rE],n=>{if(n)return n.graphicalItemId});var LZ=le([yy,uk,RZ,ck],_Z),QFe=le([bu,Bu,Ht,Qi,_u,ck,LZ,tE],xZ),OFe=le([rE,QFe],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),kFe=le([rE],n=>n.active),HFe=le([LZ,ry,Ld,JB,DZ,tE,uk],TZ);le([HFe],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function y8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function w8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(t),!0).forEach(function(i){VFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):y8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function VFe(n,e,t){return(e=KFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KFe(n){var e=GFe(n,"string");return typeof e=="symbol"?e:e+""}function GFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var zFe=()=>Ge(bi),qFe=()=>{var n=zFe(),e=Ge(_u),t=Ge(PZ);return yT(!n||!t?void 0:w8(w8({},n),{},{scale:t}),e)};function C8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(t),!0).forEach(function(i){$Fe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function $Fe(n,e,t){return(e=jFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jFe(n){var e=WFe(n,"string");return typeof e=="symbol"?e:e+""}function WFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var YFe=(n,e,t,i)=>{var r=e.find(s=>s&&s.index===t);if(r){if(n==="horizontal")return{x:r.coordinate,y:i.chartY};if(n==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},XFe=(n,e,t,i)=>{var r=e.find(u=>u&&u.index===t);if(r){if(n==="centric"){var s=r.coordinate,{radius:a}=i;return fg(fg(fg({},i),rr(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var o=r.coordinate,{angle:l}=i;return fg(fg(fg({},i),rr(i.cx,i.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function JFe(n,e){var{chartX:t,chartY:i}=n;return t>=e.left&&t<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var QZ=(n,e,t,i,r)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||n==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?t[l-1].coordinate:t[o-1].coordinate,d=t[l].coordinate,h=l>=o-1?t[0].coordinate:t[l+1].coordinate,g=void 0;if($s(d-u)!==$s(h-d)){var v=[];if($s(h-d)===$s(r[1]-r[0])){g=h;var C=d+r[1]-r[0];v[0]=Math.min(C,(C+u)/2),v[1]=Math.max(C,(C+u)/2)}else{g=u;var b=h+r[1]-r[0];v[0]=Math.min(d,(b+d)/2),v[1]=Math.max(d,(b+d)/2)}var E=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(n>E[0]&&n<=E[1]||n>=v[0]&&n<=v[1]){({index:a}=t[l]);break}}else{var x=Math.min(u,h),I=Math.max(u,h);if(n>(x+d)/2&&n<=(I+d)/2){({index:a}=t[l]);break}}}else if(e){for(var T=0;T<o;T++)if(T===0&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T===o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2){({index:a}=e[T]);break}}return a},ZFe=()=>Ge(KO),dk=(n,e)=>e,OZ=(n,e,t)=>t,fk=(n,e,t,i)=>i,eUe=le(_u,n=>G1(n,e=>e.coordinate)),hk=le([yy,dk,OZ,fk],SZ),pk=le([hk,wy,JB,iE],ok),tUe=(n,e,t)=>{if(e!=null){var i=yy(n);return e==="axis"?t==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:t==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},kZ=le([yy,dk,OZ,fk],_Z),kT=le([bu,Bu,Ht,Qi,_u,fk,kZ,tE],xZ),nUe=le([hk,kT],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),HZ=le([_u,pk],wZ),iUe=le([kZ,pk,Ld,JB,HZ,tE,dk],TZ),rUe=le([hk,pk],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),sUe=(n,e,t,i,r,s,a)=>{if(!(!n||!t||!i||!r)&&JFe(n,a)){var o=PEe(n,e),l=QZ(o,s,r,t,i),u=YFe(e,r,l,n);return{activeIndex:String(l),activeCoordinate:u}}},aUe=(n,e,t,i,r,s,a)=>{if(!(!n||!i||!r||!s||!t)){var o=Gxe(n,t);if(o){var l=REe(o,e),u=QZ(l,a,s,i,r),d=XFe(e,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},oUe=(n,e,t,i,r,s,a,o)=>{if(!(!n||!e||!i||!r||!s))return e==="horizontal"||e==="vertical"?sUe(n,e,i,r,s,a,o):aUe(n,e,t,i,r,s,a)},AUe=le(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var i=n[e];if(i!=null)return t?i.panoramaElementId:i.elementId}}),lUe=le(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(i=>parseInt(i,10)).concat(Object.values(cs)),t=Array.from(new Set(e));return t.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:$1e}});function b8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function B8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(t),!0).forEach(function(i){uUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uUe(n,e,t){return(e=cUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cUe(n){var e=dUe(n,"string");return typeof e=="symbol"?e:e+""}function dUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var fUe={},hUe={zIndexMap:Object.values(cs).reduce((n,e)=>B8(B8({},n),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),fUe)},pUe=new Set(Object.values(cs));function gUe(n){return pUe.has(n)}var VZ=ds({name:"zIndex",initialState:hUe,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Sn()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!gUe(t)&&delete n.zIndexMap[t])},prepare:Sn()},registerZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t,elementId:i,isPanorama:r}=e.payload;n.zIndexMap[t]?r?n.zIndexMap[t].panoramaElementId=i:n.zIndexMap[t].elementId=i:n.zIndexMap[t]={consumers:0,elementId:r?void 0:i,panoramaElementId:r?i:void 0}},prepare:Sn()},unregisterZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElementId=void 0:n.zIndexMap[t].elementId=void 0)},prepare:Sn()}}}),{registerZIndexPortal:mUe,unregisterZIndexPortal:vUe,registerZIndexPortalId:yUe,unregisterZIndexPortalId:wUe}=VZ.actions,CUe=VZ.reducer;function Qd(n){var{zIndex:e,children:t}=n,i=gSe(),r=i&&e!==void 0&&e!==0,s=Zs(),a=Jn();P.useLayoutEffect(()=>r?(a(mUe({zIndex:e})),()=>{a(vUe({zIndex:e}))}):OB,[a,e,r]);var o=Ge(u=>AUe(u,e,s));if(!r)return t;if(!o)return null;var l=document.getElementById(o);return l?$$.createPortal(t,l):null}function eQ(){return eQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},eQ.apply(null,arguments)}function E8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function vx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(t),!0).forEach(function(i){bUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function bUe(n,e,t){return(e=BUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BUe(n){var e=EUe(n,"string");return typeof e=="symbol"?e:e+""}function EUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function SUe(n){var{cursor:e,cursorComp:t,cursorProps:i}=n;return P.isValidElement(e)?P.cloneElement(e,i):P.createElement(t,i)}function xUe(n){var e,{coordinate:t,payload:i,index:r,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:d}=n,h=t,g=i,v=r;if(!l||!h||d!=="ScatterChart"&&u!=="axis")return null;var C,b,E;if(d==="ScatterChart")C=h,b=rxe,E=cs.cursorLine;else if(d==="BarChart")C=sxe(o,h,s,a),b=xJ,E=cs.cursorRectangle;else if(o==="radial"&&m9(h)){var{cx:x,cy:I,radius:T,startAngle:R,endAngle:M}=_J(h);C={cx:x,cy:I,startAngle:R,endAngle:M,innerRadius:T,outerRadius:T},b=IJ,E=cs.cursorLine}else C={points:jxe(o,h,s)},b=CJ,E=cs.cursorLine;var D=typeof l=="object"&&"className"in l?l.className:void 0,L=vx(vx(vx(vx({stroke:"#ccc",pointerEvents:"none"},s),C),$Q(l)),{},{payload:g,payloadIndex:v,className:yn("recharts-tooltip-cursor",D)});return P.createElement(Qd,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:E},P.createElement(SUe,{cursor:l,cursorComp:b,cursorProps:L}))}function _Ue(n){var e=qFe(),t=fSe(),i=rI(),r=ZFe();return e==null||t==null||i==null||r==null?null:P.createElement(xUe,eQ({},n,{offset:t,layout:i,tooltipAxisBandSize:e,chartName:r}))}var KZ=P.createContext(null),TUe=()=>P.useContext(KZ),YP={exports:{}},S8;function IUe(){return S8||(S8=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new r(d,h||l,g),C=t?t+u:u;return l._events[C]?l._events[C].fn?l._events[C]=[l._events[C],v]:l._events[C].push(v):(l._events[C]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new i:delete l._events[u]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=t?t+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,C=new Array(v);g<v;g++)C[g]=h[g].fn;return C},o.prototype.listenerCount=function(u){var d=t?t+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,g,v,C){var b=t?t+u:u;if(!this._events[b])return!1;var E=this._events[b],x=arguments.length,I,T;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),x){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,h),!0;case 4:return E.fn.call(E.context,d,h,g),!0;case 5:return E.fn.call(E.context,d,h,g,v),!0;case 6:return E.fn.call(E.context,d,h,g,v,C),!0}for(T=1,I=new Array(x-1);T<x;T++)I[T-1]=arguments[T];E.fn.apply(E.context,I)}else{var R=E.length,M;for(T=0;T<R;T++)switch(E[T].once&&this.removeListener(u,E[T].fn,void 0,!0),x){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,d);break;case 3:E[T].fn.call(E[T].context,d,h);break;case 4:E[T].fn.call(E[T].context,d,h,g);break;default:if(!I)for(M=1,I=new Array(x-1);M<x;M++)I[M-1]=arguments[M];E[T].fn.apply(E[T].context,I)}}return!0},o.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,g){var v=t?t+u:u;if(!this._events[v])return this;if(!d)return a(this,v),this;var C=this._events[v];if(C.fn)C.fn===d&&(!g||C.once)&&(!h||C.context===h)&&a(this,v);else{for(var b=0,E=[],x=C.length;b<x;b++)(C[b].fn!==d||g&&!C[b].once||h&&C[b].context!==h)&&E.push(C[b]);E.length?this._events[v]=E.length===1?E[0]:E:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(YP)),YP.exports}var FUe=IUe();const UUe=CA(FUe);var Xw=new UUe,tQ="recharts.syncEvent.tooltip",x8="recharts.syncEvent.brush";function MUe(n,e){if(e){var t=Number.parseInt(e,10);if(!gA(t))return n==null?void 0:n[t]}}var PUe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},GZ=ds({name:"options",initialState:PUe,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),RUe=GZ.reducer,{createEventEmitter:DUe}=GZ.actions;function NUe(n){return n.tooltip.syncInteraction}var LUe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},zZ=ds({name:"chartData",initialState:LUe,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:i}=e.payload;t!=null&&(n.dataStartIndex=t),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:_8,setDataStartEndIndexes:QUe,setComputedData:fQe}=zZ.actions,OUe=zZ.reducer,kUe=["x","y"];function T8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function hg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(t),!0).forEach(function(i){HUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function HUe(n,e,t){return(e=VUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VUe(n){var e=KUe(n,"string");return typeof e=="symbol"?e:e+""}function KUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function GUe(n,e){if(n==null)return{};var t,i,r=zUe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function zUe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function qUe(){var n=Ge(GO),e=Ge(zO),t=Jn(),i=Ge(T7),r=Ge(_u),s=rI(),a=iI(),o=Ge(l=>l.rootProps.className);P.useEffect(()=>{if(n==null)return OB;var l=(u,d,h)=>{if(e!==h&&n===u){if(i==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x:C,y:b}=v,E=GUe(v,kUe),{x,y:I,width:T,height:R}=d.payload.sourceViewBox,M=hg(hg({},E),{},{x:a.x+(T?(C-x)/T:0)*a.width,y:a.y+(R?(b-I)/R:0)*a.height});t(hg(hg({},d),{},{payload:hg(hg({},d.payload),{},{coordinate:M})}))}else t(d);return}if(r!=null){var D;if(typeof i=="function"){var L={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},H=i(r,L);D=r[H]}else i==="value"&&(D=r.find(G=>String(G.value)===d.payload.label));var{coordinate:O}=d.payload;if(D==null||d.payload.active===!1||O==null||a==null){t(JL({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:V}=O,$=Math.min(K,a.x+a.width),ne=Math.min(V,a.y+a.height),oe={x:s==="horizontal"?D.coordinate:$,y:s==="horizontal"?ne:D.coordinate},pe=JL({active:d.payload.active,coordinate:oe,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});t(pe)}}};return Xw.on(tQ,l),()=>{Xw.off(tQ,l)}},[o,t,e,n,i,r,s,a])}function $Ue(){var n=Ge(GO),e=Ge(zO),t=Jn();P.useEffect(()=>{if(n==null)return OB;var i=(r,s,a)=>{e!==a&&n===r&&t(QUe(s))};return Xw.on(x8,i),()=>{Xw.off(x8,i)}},[t,e,n])}function jUe(){var n=Jn();P.useEffect(()=>{n(DUe())},[n]),qUe(),$Ue()}function WUe(n,e,t,i,r,s){var a=Ge(v=>tUe(v,n,e)),o=Ge(zO),l=Ge(GO),u=Ge(T7),d=Ge(NUe),h=d==null?void 0:d.active,g=iI();P.useEffect(()=>{if(!h&&l!=null&&o!=null){var v=JL({active:s,coordinate:t,dataKey:a,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:g,graphicalItemId:void 0});Xw.emit(tQ,l,v,o)}},[h,t,a,r,i,o,l,u,s,g])}function I8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function F8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(t),!0).forEach(function(i){YUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function YUe(n,e,t){return(e=XUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XUe(n){var e=JUe(n,"string");return typeof e=="symbol"?e:e+""}function JUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ZUe(n){return n.dataKey}function eMe(n,e){return P.isValidElement(n)?P.cloneElement(n,e):typeof n=="function"?P.createElement(n,e):P.createElement(LSe,e)}var U8=[],tMe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function nMe(n){var e,t,i=qa(n,tMe),{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:g,position:v,reverseDirection:C,useTranslate3d:b,wrapperStyle:E,cursor:x,shared:I,trigger:T,defaultIndex:R,portal:M,axisId:D}=i,L=Jn(),H=typeof R=="number"?String(R):R;P.useEffect(()=>{L(XIe({shared:I,trigger:T,axisId:D,active:r,defaultIndex:H}))},[L,I,T,D,r,H]);var O=iI(),K=wJ(),V=zIe(I),{activeIndex:$,isActive:ne}=(e=Ge(ve=>rUe(ve,V,T,H)))!==null&&e!==void 0?e:{},oe=Ge(ve=>iUe(ve,V,T,H)),pe=Ge(ve=>HZ(ve,V,T,H)),G=Ge(ve=>nUe(ve,V,T,H)),z=oe,ee=TUe(),Z=(t=r??ne)!==null&&t!==void 0?t:!1,[me,q]=mBe([z,Z]),Y=V==="axis"?pe:void 0;WUe(V,T,G,Y,$,Z);var X=M??ee;if(X==null||O==null||V==null)return null;var ce=z??U8;Z||(ce=U8),u&&ce.length&&(ce=Kbe(ce.filter(ve=>ve.value!=null&&(ve.hide!==!0||i.includeHidden)),g,ZUe));var ye=ce.length>0,Ce=P.createElement(GSe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:Z,coordinate:G,hasPayload:ye,offset:h,position:v,reverseDirection:C,useTranslate3d:b,viewBox:O,wrapperStyle:E,lastBoundingBox:me,innerRef:q,hasPortalFromProps:!!M},eMe(l,F8(F8({},i),{},{payload:ce,label:Y,active:Z,activeIndex:$,coordinate:G,accessibilityLayer:K})));return P.createElement(P.Fragment,null,$$.createPortal(Ce,X),Z&&P.createElement(_Ue,{cursor:x,tooltipEventType:V,coordinate:G,payload:ce,index:$}))}var gk=n=>null;gk.displayName="Cell";function iMe(n,e,t){return(e=rMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rMe(n){var e=sMe(n,"string");return typeof e=="symbol"?e:e+""}function sMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class aMe{constructor(e){iMe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function M8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function oMe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(t),!0).forEach(function(i){AMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function AMe(n,e,t){return(e=lMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lMe(n){var e=uMe(n,"string");return typeof e=="symbol"?e:e+""}function uMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var cMe={cacheSize:2e3,enableCache:!0},qZ=oMe({},cMe),P8=new aMe(qZ.cacheSize),dMe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},R8="recharts_measurement_span";function fMe(n,e){var t=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(i,"|").concat(r,"|").concat(s,"|").concat(a,"|").concat(o)}var D8=(n,e)=>{try{var t=document.getElementById(R8);t||(t=document.createElement("span"),t.setAttribute("id",R8),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,dMe,e),t.textContent="".concat(n);var i=t.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},Sw=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||zB.isSsr)return{width:0,height:0};if(!qZ.enableCache)return D8(e,t);var i=fMe(e,t),r=P8.get(i);if(r)return r;var s=D8(e,t);return P8.set(i,s),s},N8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$Z={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gMe=Object.keys($Z),Rg="NaN";function mMe(n,e){return n*$Z[e]}class os{static parse(e){var t,[,i,r]=(t=pMe.exec(e))!==null&&t!==void 0?t:[];return new os(parseFloat(i),r??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,gA(e)&&(this.unit=""),t!==""&&!hMe.test(t)&&(this.num=NaN,this.unit=""),gMe.includes(t)&&(this.num=mMe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new os(NaN,""):new os(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new os(NaN,""):new os(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new os(NaN,""):new os(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new os(NaN,""):new os(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return gA(this.num)}}function jZ(n){if(n.includes(Rg))return Rg;for(var e=n;e.includes("*")||e.includes("/");){var t,[,i,r,s]=(t=N8.exec(e))!==null&&t!==void 0?t:[],a=os.parse(i??""),o=os.parse(s??""),l=r==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return Rg;e=e.replace(N8,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,g]=(u=L8.exec(e))!==null&&u!==void 0?u:[],v=os.parse(d??""),C=os.parse(g??""),b=h==="+"?v.add(C):v.subtract(C);if(b.isNaN())return Rg;e=e.replace(L8,b.toString())}return e}var Q8=/\(([^()]*)\)/;function vMe(n){for(var e=n,t;(t=Q8.exec(e))!=null;){var[,i]=t;e=e.replace(Q8,jZ(i))}return e}function yMe(n){var e=n.replace(/\s+/g,"");return e=vMe(e),e=jZ(e),e}function wMe(n){try{return yMe(n)}catch{return Rg}}function XP(n){var e=wMe(n.slice(5,-1));return e===Rg?"":e}var CMe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],bMe=["dx","dy","angle","className","breakAll"];function nQ(){return nQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nQ.apply(null,arguments)}function O8(n,e){if(n==null)return{};var t,i,r=BMe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function BMe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var WZ=/[ \f\n\r\t\v\u2028\u2029]+/,YZ=n=>{var{children:e,breakAll:t,style:i}=n;try{var r=[];Li(e)||(t?r=e.toString().split(""):r=e.toString().split(WZ));var s=r.map(o=>({word:o,width:Sw(o,i).width})),a=t?0:Sw("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function EMe(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var XZ=(n,e,t,i)=>n.reduce((r,s)=>{var{word:a,width:o}=s,l=r[r.length-1];if(l&&o!=null&&(e==null||i||l.width+o+t<Number(e)))l.words.push(a),l.width+=o+t;else{var u={words:[a],width:o};r.push(u)}return r},[]),JZ=n=>n.reduce((e,t)=>e.width>t.width?e:t),SMe="",k8=(n,e,t,i,r,s,a,o)=>{var l=n.slice(0,e),u=YZ({breakAll:t,style:i,children:l+SMe});if(!u)return[!1,[]];var d=XZ(u.wordsWithComputedWidth,s,a,o),h=d.length>r||JZ(d).width>Number(s);return[h,d]},xMe=(n,e,t,i,r)=>{var{maxLines:s,children:a,style:o,breakAll:l}=n,u=qe(s),d=String(a),h=XZ(e,i,t,r);if(!u||r)return h;var g=h.length>s||JZ(h).width>Number(i);if(!g)return h;for(var v=0,C=d.length-1,b=0,E;v<=C&&b<=d.length-1;){var x=Math.floor((v+C)/2),I=x-1,[T,R]=k8(d,I,l,o,s,i,t,r),[M]=k8(d,x,l,o,s,i,t,r);if(!T&&!M&&(v=x+1),T&&M&&(C=x-1),!T&&M){E=R;break}b++}return E||h},H8=n=>{var e=Li(n)?[]:n.toString().split(WZ);return[{words:e,width:void 0}]},_Me=n=>{var{width:e,scaleToFit:t,children:i,style:r,breakAll:s,maxLines:a}=n;if((e||t)&&!zB.isSsr){var o,l,u=YZ({breakAll:s,children:i,style:r});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,l=h}else return H8(i);return xMe({breakAll:s,children:i,maxLines:a,style:r},o,l,e,!!t)}return H8(i)},ZZ="#808080",TMe={angle:0,breakAll:!1,capHeight:"0.71em",fill:ZZ,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},mk=P.forwardRef((n,e)=>{var t=qa(n,TMe),{x:i,y:r,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=t,h=O8(t,CMe),g=P.useMemo(()=>_Me({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:C,angle:b,className:E,breakAll:x}=h,I=O8(h,bMe);if(!mA(i)||!mA(r)||g.length===0)return null;var T=Number(i)+(qe(v)?v:0),R=Number(r)+(qe(C)?C:0);if(!Xn(T)||!Xn(R))return null;var M;switch(d){case"start":M=XP("calc(".concat(a,")"));break;case"middle":M=XP("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:M=XP("calc(".concat(g.length-1," * -").concat(s,")"));break}var D=[];if(l){var L=g[0].width,{width:H}=h;D.push("scale(".concat(qe(H)&&qe(L)?H/L:1,")"))}return b&&D.push("rotate(".concat(b,", ").concat(T,", ").concat(R,")")),D.length&&(I.transform=D.join(" ")),P.createElement("text",nQ({},Ka(I),{ref:e,x:T,y:R,className:yn("recharts-text",E),textAnchor:u,fill:o.includes("url")?ZZ:o}),g.map((O,K)=>{var V=O.words.join(x?"":" ");return P.createElement("tspan",{x:T,dy:K===0?M:s,key:"".concat(V,"-").concat(K)},V)}))});mk.displayName="Text";var IMe=["labelRef"];function FMe(n,e){if(n==null)return{};var t,i,r=UMe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function UMe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function V8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $n(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(t),!0).forEach(function(i){MMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):V8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function MMe(n,e,t){return(e=PMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PMe(n){var e=RMe(n,"string");return typeof e=="symbol"?e:e+""}function RMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jl(){return jl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jl.apply(null,arguments)}var eee=P.createContext(null),DMe=n=>{var{x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:a,children:o}=n,l=P.useMemo(()=>({x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:a}),[e,t,i,r,s,a]);return P.createElement(eee.Provider,{value:l},o)},tee=()=>{var n=P.useContext(eee),e=iI();return n||dJ(e)},NMe=P.createContext(null),LMe=()=>{var n=P.useContext(NMe),e=Ge(P7);return n||e},QMe=n=>{var{value:e,formatter:t}=n,i=Li(n.children)?e:n.children;return typeof t=="function"?t(i):i},vk=n=>n!=null&&typeof n=="function",OMe=(n,e)=>{var t=$s(e-n),i=Math.min(Math.abs(e-n),360);return t*i},kMe=(n,e,t,i,r)=>{var{offset:s,className:a}=n,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:h,endAngle:g,clockWise:v}=r,C=(u+d)/2,b=OMe(h,g),E=b>=0?1:-1,x,I;switch(e){case"insideStart":x=h+E*s,I=v;break;case"insideEnd":x=g-E*s,I=!v;break;case"end":x=g+E*s,I=v;break;default:throw new Error("Unsupported position ".concat(e))}I=b<=0?I:!I;var T=rr(o,l,C,x),R=rr(o,l,C,x+(I?1:-1)*359),M="M".concat(T.x,",").concat(T.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(I?0:1,`,
    `).concat(R.x,",").concat(R.y),D=Li(n.id)?Qw("recharts-radial-line-"):n.id;return P.createElement("text",jl({},i,{dominantBaseline:"central",className:yn("recharts-radial-bar-label",a)}),P.createElement("defs",null,P.createElement("path",{id:D,d:M})),P.createElement("textPath",{xlinkHref:"#".concat(D)},t))},HMe=(n,e,t)=>{var{cx:i,cy:r,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=n,u=(o+l)/2;if(t==="outside"){var{x:d,y:h}=rr(i,r,a+e,u);return{x:d,y:h,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:C}=rr(i,r,g,u);return{x:v,y:C,textAnchor:"middle",verticalAnchor:"middle"}},iQ=n=>"cx"in n&&qe(n.cx),VMe=(n,e)=>{var{parentViewBox:t,offset:i,position:r}=n,s;t!=null&&!iQ(t)&&(s=t);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:d}=e,h=a,g=a+(l-u)/2,v=(h+g)/2,C=(l+u)/2,b=h+l/2,E=d>=0?1:-1,x=E*i,I=E>0?"end":"start",T=E>0?"start":"end",R=l>=0?1:-1,M=R*i,D=R>0?"end":"start",L=R>0?"start":"end";if(r==="top"){var H={x:h+l/2,y:o-x,textAnchor:"middle",verticalAnchor:I};return $n($n({},H),s?{height:Math.max(o-s.y,0),width:l}:{})}if(r==="bottom"){var O={x:g+u/2,y:o+d+x,textAnchor:"middle",verticalAnchor:T};return $n($n({},O),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(r==="left"){var K={x:v-M,y:o+d/2,textAnchor:D,verticalAnchor:"middle"};return $n($n({},K),s?{width:Math.max(K.x-s.x,0),height:d}:{})}if(r==="right"){var V={x:v+C+M,y:o+d/2,textAnchor:L,verticalAnchor:"middle"};return $n($n({},V),s?{width:Math.max(s.x+s.width-V.x,0),height:d}:{})}var $=s?{width:C,height:d}:{};return r==="insideLeft"?$n({x:v+M,y:o+d/2,textAnchor:L,verticalAnchor:"middle"},$):r==="insideRight"?$n({x:v+C-M,y:o+d/2,textAnchor:D,verticalAnchor:"middle"},$):r==="insideTop"?$n({x:h+l/2,y:o+x,textAnchor:"middle",verticalAnchor:T},$):r==="insideBottom"?$n({x:g+u/2,y:o+d-x,textAnchor:"middle",verticalAnchor:I},$):r==="insideTopLeft"?$n({x:h+M,y:o+x,textAnchor:L,verticalAnchor:T},$):r==="insideTopRight"?$n({x:h+l-M,y:o+x,textAnchor:D,verticalAnchor:T},$):r==="insideBottomLeft"?$n({x:g+M,y:o+d-x,textAnchor:L,verticalAnchor:I},$):r==="insideBottomRight"?$n({x:g+u-M,y:o+d-x,textAnchor:D,verticalAnchor:I},$):r&&typeof r=="object"&&(qe(r.x)||lu(r.x))&&(qe(r.y)||lu(r.y))?$n({x:a+wo(r.x,C),y:o+wo(r.y,d),textAnchor:"end",verticalAnchor:"end"},$):$n({x:b,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},$)},KMe={angle:0,offset:5,zIndex:cs.label,position:"middle",textBreakAll:!1};function rc(n){var e=qa(n,KMe),{viewBox:t,position:i,value:r,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=LMe(),h=tee(),g=i==="center"?h:d??h,v,C,b;if(t==null?v=g:iQ(t)?v=t:v=dJ(t),!v||Li(r)&&Li(s)&&!P.isValidElement(a)&&typeof a!="function")return null;var E=$n($n({},e),{},{viewBox:v});if(P.isValidElement(a)){var{labelRef:x}=E,I=FMe(E,IMe);return P.cloneElement(a,I)}if(typeof a=="function"){if(C=P.createElement(a,E),P.isValidElement(C))return C}else C=QMe(e);var T=Ka(e);if(iQ(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return kMe(e,i,C,T,v);b=HMe(v,e.offset,e.position)}else b=VMe(e,v);return P.createElement(Qd,{zIndex:e.zIndex},P.createElement(mk,jl({ref:u,className:yn("recharts-label",o)},T,b,{textAnchor:EMe(T.textAnchor)?T.textAnchor:b.textAnchor,breakAll:l}),C))}rc.displayName="Label";var GMe=(n,e,t)=>{if(!n)return null;var i={viewBox:e,labelRef:t};return n===!0?P.createElement(rc,jl({key:"label-implicit"},i)):mA(n)?P.createElement(rc,jl({key:"label-implicit",value:n},i)):P.isValidElement(n)?n.type===rc?P.cloneElement(n,$n({key:"label-implicit"},i)):P.createElement(rc,jl({key:"label-implicit",content:n},i)):vk(n)?P.createElement(rc,jl({key:"label-implicit",content:n},i)):n&&typeof n=="object"?P.createElement(rc,jl({},n,{key:"label-implicit"},i)):null};function zMe(n){var{label:e,labelRef:t}=n,i=tee();return GMe(e,i,t)||null}var JP={},ZP={},K8;function qMe(){return K8||(K8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(ZP)),ZP}var eR={},G8;function $Me(){return G8||(G8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(eR)),eR}var z8;function jMe(){return z8||(z8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=qMe(),t=$Me(),i=tO();function r(s){if(i.isArrayLike(s))return e.last(t.toArray(s))}n.last=r})(JP)),JP}var tR,q8;function WMe(){return q8||(q8=1,tR=jMe().last),tR}var YMe=WMe();const XMe=CA(YMe);var JMe=["valueAccessor"],ZMe=["dataKey","clockWise","id","textBreakAll","zIndex"];function HT(){return HT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},HT.apply(null,arguments)}function $8(n,e){if(n==null)return{};var t,i,r=ePe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function ePe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var tPe=n=>Array.isArray(n.value)?XMe(n.value):n.value,nee=P.createContext(void 0),nPe=nee.Provider,iee=P.createContext(void 0);iee.Provider;function iPe(){return P.useContext(nee)}function rPe(){return P.useContext(iee)}function F_(n){var{valueAccessor:e=tPe}=n,t=$8(n,JMe),{dataKey:i,clockWise:r,id:s,textBreakAll:a,zIndex:o}=t,l=$8(t,ZMe),u=iPe(),d=rPe(),h=u||d;return!h||!h.length?null:P.createElement(Qd,{zIndex:o??cs.label},P.createElement(Au,{className:"recharts-label-list"},h.map((g,v)=>{var C,b=Li(i)?e(g,v):Br(g&&g.payload,i),E=Li(s)?{}:{id:"".concat(s,"-").concat(v)};return P.createElement(rc,HT({key:"label-".concat(v)},Ka(g),l,E,{fill:(C=t.fill)!==null&&C!==void 0?C:g.fill,parentViewBox:g.parentViewBox,value:b,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}F_.displayName="LabelList";function sPe(n){var{label:e}=n;return e?e===!0?P.createElement(F_,{key:"labelList-implicit"}):P.isValidElement(e)||vk(e)?P.createElement(F_,{key:"labelList-implicit",content:e}):typeof e=="object"?P.createElement(F_,HT({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var aPe={radiusAxis:{},angleAxis:{}},ree=ds({name:"polarAxis",initialState:aPe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:hQe,removeRadiusAxis:pQe,addAngleAxis:gQe,removeAngleAxis:mQe}=ree.actions,oPe=ree.reducer,nR={exports:{}},zt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j8;function APe(){if(j8)return zt;j8=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function C(b){if(typeof b=="object"&&b!==null){var E=b.$$typeof;switch(E){case n:switch(b=b.type,b){case t:case r:case i:case l:case u:case g:return b;default:switch(b=b&&b.$$typeof,b){case a:case o:case h:case d:return b;case s:return b;default:return E}}case e:return E}}}return zt.ContextConsumer=s,zt.ContextProvider=a,zt.Element=n,zt.ForwardRef=o,zt.Fragment=t,zt.Lazy=h,zt.Memo=d,zt.Portal=e,zt.Profiler=r,zt.StrictMode=i,zt.Suspense=l,zt.SuspenseList=u,zt.isContextConsumer=function(b){return C(b)===s},zt.isContextProvider=function(b){return C(b)===a},zt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===n},zt.isForwardRef=function(b){return C(b)===o},zt.isFragment=function(b){return C(b)===t},zt.isLazy=function(b){return C(b)===h},zt.isMemo=function(b){return C(b)===d},zt.isPortal=function(b){return C(b)===e},zt.isProfiler=function(b){return C(b)===r},zt.isStrictMode=function(b){return C(b)===i},zt.isSuspense=function(b){return C(b)===l},zt.isSuspenseList=function(b){return C(b)===u},zt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===t||b===r||b===i||b===l||b===u||typeof b=="object"&&b!==null&&(b.$$typeof===h||b.$$typeof===d||b.$$typeof===a||b.$$typeof===s||b.$$typeof===o||b.$$typeof===v||b.getModuleId!==void 0)},zt.typeOf=C,zt}var W8;function lPe(){return W8||(W8=1,nR.exports=APe()),nR.exports}var uPe=lPe(),Y8=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",X8=null,iR=null,see=n=>{if(n===X8&&Array.isArray(iR))return iR;var e=[];return P.Children.forEach(n,t=>{Li(t)||(uPe.isFragment(t)?e=e.concat(see(t.props.children)):e.push(t))}),iR=e,X8=n,e};function cPe(n,e){var t=[],i=[];return Array.isArray(e)?i=e.map(r=>Y8(r)):i=[Y8(e)],see(n).forEach(r=>{var s=Wv(r,"type.displayName")||Wv(r,"type.name");s&&i.indexOf(s)!==-1&&t.push(r)}),t}var rR={},J8;function dPe(){return J8||(J8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const s=t[Symbol.toStringTag];return s==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${s}]`}let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i}n.isPlainObject=e})(rR)),rR}var sR,Z8;function fPe(){return Z8||(Z8=1,sR=dPe().isPlainObject),sR}var hPe=fPe();const pPe=CA(hPe);function e$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function t$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?e$(Object(t),!0).forEach(function(i){gPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):e$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gPe(n,e,t){return(e=mPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mPe(n){var e=vPe(n,"string");return typeof e=="symbol"?e:e+""}function vPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function VT(){return VT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},VT.apply(null,arguments)}var n$=(n,e,t,i,r)=>{var s=t-i,a;return a="M ".concat(n,",").concat(e),a+="L ".concat(n+t,",").concat(e),a+="L ".concat(n+t-s/2,",").concat(e+r),a+="L ".concat(n+t-s/2-i,",").concat(e+r),a+="L ".concat(n,",").concat(e," Z"),a},yPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wPe=n=>{var e=qa(n,yPe),{x:t,y:i,upperWidth:r,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,g=P.useRef(null),[v,C]=P.useState(-1),b=P.useRef(r),E=P.useRef(s),x=P.useRef(a),I=P.useRef(t),T=P.useRef(i),R=gO(n,"trapezoid-");if(P.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var oe=g.current.getTotalLength();oe&&C(oe)}catch{}},[]),t!==+t||i!==+i||r!==+r||s!==+s||a!==+a||r===0&&s===0||a===0)return null;var M=yn("recharts-trapezoid",o);if(!h)return P.createElement("g",null,P.createElement("path",VT({},Ka(e),{className:M,d:n$(t,i,r,s,a)})));var D=b.current,L=E.current,H=x.current,O=I.current,K=T.current,V="0px ".concat(v===-1?1:v,"px"),$="".concat(v,"px 0px"),ne=bJ(["strokeDasharray"],u,l);return P.createElement(pO,{animationId:R,key:R,canBegin:v>0,duration:u,easing:l,isActive:h,begin:d},oe=>{var pe=er(D,r,oe),G=er(L,s,oe),z=er(H,a,oe),ee=er(O,t,oe),Z=er(K,i,oe);g.current&&(b.current=pe,E.current=G,x.current=z,I.current=ee,T.current=Z);var me=oe>0?{transition:ne,strokeDasharray:$}:{strokeDasharray:V};return P.createElement("path",VT({},Ka(e),{className:M,d:n$(ee,Z,pe,G,z),ref:g,style:t$(t$({},me),e.style)}))})},CPe=["option","shapeType","propTransformer","activeClassName"];function bPe(n,e){if(n==null)return{};var t,i,r=BPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function BPe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function i$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function KT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?i$(Object(t),!0).forEach(function(i){EPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function EPe(n,e,t){return(e=SPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SPe(n){var e=xPe(n,"string");return typeof e=="symbol"?e:e+""}function xPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _Pe(n,e){return KT(KT({},e),n)}function TPe(n,e){return n==="symbols"}function r$(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return P.createElement(xJ,t);case"trapezoid":return P.createElement(wPe,t);case"sector":return P.createElement(IJ,t);case"symbols":if(TPe(e))return P.createElement(g9,t);break;case"curve":return P.createElement(CJ,t);default:return null}}function IPe(n){return P.isValidElement(n)?n.props:n}function FPe(n){var{option:e,shapeType:t,propTransformer:i=_Pe,activeClassName:r="recharts-active-shape"}=n,s=bPe(n,CPe),a;if(P.isValidElement(e))a=P.cloneElement(e,KT(KT({},s),IPe(e)));else if(typeof e=="function")a=e(s,s.index);else if(pPe(e)&&typeof e!="boolean"){var o=i(e,s);a=P.createElement(r$,{shapeType:t,elementProps:o})}else{var l=s;a=P.createElement(r$,{shapeType:t,elementProps:l})}return s.isActive?P.createElement(Au,{className:r},a):a}var aee=(n,e,t)=>{var i=Jn();return(r,s)=>a=>{n==null||n(r,s,a),i(bZ({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}},oee=n=>{var e=Jn();return(t,i)=>r=>{n==null||n(t,i,r),e(JIe())}},Aee=(n,e,t)=>{var i=Jn();return(r,s)=>a=>{n==null||n(r,s,a),i(ZIe({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}};function UPe(n){var{tooltipEntrySettings:e}=n,t=Jn(),i=Zs(),r=P.useRef(null);return P.useLayoutEffect(()=>{i||(r.current===null?t(jIe(e)):r.current!==e&&t(WIe({prev:r.current,next:e})),r.current=e)},[e,t,i]),P.useLayoutEffect(()=>()=>{r.current&&(t(YIe(r.current)),r.current=null)},[t]),null}function MPe(n){var{legendPayload:e}=n,t=Jn(),i=Zs(),r=P.useRef(null);return P.useLayoutEffect(()=>{i||(r.current===null?t(ISe(e)):r.current!==e&&t(FSe({prev:r.current,next:e})),r.current=e)},[t,i,e]),P.useLayoutEffect(()=>()=>{r.current&&(t(USe(r.current)),r.current=null)},[t]),null}var aR,PPe=()=>{var[n]=P.useState(()=>Qw("uid-"));return n},RPe=(aR=Jne.useId)!==null&&aR!==void 0?aR:PPe;function lee(n,e){var t=RPe();return e||(n?"".concat(n,"-").concat(t):t)}var DPe=P.createContext(void 0),NPe=n=>{var{id:e,type:t,children:i}=n,r=lee("recharts-".concat(t),e);return P.createElement(DPe.Provider,{value:r},i(r))},LPe={cartesianItems:[],polarItems:[]},uee=ds({name:"graphicalItems",initialState:LPe,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:Sn()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:i}=e.payload,r=yo(n).cartesianItems.indexOf(t);r>-1&&(n.cartesianItems[r]=i)},prepare:Sn()},removeCartesianGraphicalItem:{reducer(n,e){var t=yo(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:Sn()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:Sn()},removePolarGraphicalItem:{reducer(n,e){var t=yo(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:Sn()}}}),{addCartesianGraphicalItem:QPe,replaceCartesianGraphicalItem:OPe,removeCartesianGraphicalItem:kPe,addPolarGraphicalItem:vQe,removePolarGraphicalItem:yQe}=uee.actions,HPe=uee.reducer,VPe=n=>{var e=Jn(),t=P.useRef(null);return P.useLayoutEffect(()=>{t.current===null?e(QPe(n)):t.current!==n&&e(OPe({prev:t.current,next:n})),t.current=n},[e,n]),P.useLayoutEffect(()=>()=>{t.current&&(e(kPe(t.current)),t.current=null)},[e]),null},KPe=P.memo(VPe);function s$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function a$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(t),!0).forEach(function(i){GPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function GPe(n,e,t){return(e=zPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zPe(n){var e=qPe(n,"string");return typeof e=="symbol"?e:e+""}function qPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var $Pe={xAxis:{},yAxis:{},zAxis:{}},cee=ds({name:"cartesianAxis",initialState:$Pe,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:Sn()},replaceXAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.xAxis[t.id],n.xAxis[i.id]=i)},prepare:Sn()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:Sn()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:Sn()},replaceYAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.yAxis[t.id],n.yAxis[i.id]=i)},prepare:Sn()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:Sn()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:Sn()},replaceZAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.zAxis[t.id],n.zAxis[i.id]=i)},prepare:Sn()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:Sn()},updateYAxisWidth(n,e){var{id:t,width:i}=e.payload,r=n.yAxis[t];if(r){var s=r.widthHistory||[];if(s.length===3&&s[0]===s[2]&&i===s[1]&&i!==r.width&&Math.abs(i-s[0])<=1)return;var a=[...s,i].slice(-3);n.yAxis[t]=a$(a$({},n.yAxis[t]),{},{width:i,widthHistory:a})}}}}),{addXAxis:jPe,replaceXAxis:WPe,removeXAxis:YPe,addYAxis:XPe,replaceYAxis:JPe,removeYAxis:ZPe,addZAxis:wQe,replaceZAxis:CQe,removeZAxis:bQe,updateYAxisWidth:eRe}=cee.actions,tRe=cee.reducer,nRe=le([Qi],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),iRe=le([nRe,bu,Bu],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),dee=()=>Ge(iRe),rRe="Invariant failed";function sRe(n,e){throw new Error(rRe)}var aRe=["x","y"];function rQ(){return rQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rQ.apply(null,arguments)}function o$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function P0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o$(Object(t),!0).forEach(function(i){oRe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function oRe(n,e,t){return(e=ARe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ARe(n){var e=lRe(n,"string");return typeof e=="symbol"?e:e+""}function lRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uRe(n,e){if(n==null)return{};var t,i,r=cRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function cRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function dRe(n,e){var{x:t,y:i}=n,r=uRe(n,aRe),s="".concat(t),a=parseInt(s,10),o="".concat(i),l=parseInt(o,10),u="".concat(e.height||r.height),d=parseInt(u,10),h="".concat(e.width||r.width),g=parseInt(h,10);return P0(P0(P0(P0(P0({},e),r),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function GT(n){return P.createElement(FPe,rQ({shapeType:"rectangle",propTransformer:dRe,activeClassName:"recharts-active-bar"},n))}var fRe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(qe(e))return e;var s=qe(i)||Li(i);return s?e(i,r):(s||sRe(),t)}},hRe={},fee=ds({name:"errorBars",initialState:hRe,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]||(n[t]=[]),n[t].push(i)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:i,next:r}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===i.dataKey&&s.direction===i.direction?r:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]&&(n[t]=n[t].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:BQe,replaceErrorBar:EQe,removeErrorBar:SQe}=fee.actions,pRe=fee.reducer,gRe=["children"];function mRe(n,e){if(n==null)return{};var t,i,r=vRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function vRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var yRe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},wRe=P.createContext(yRe);function CRe(n){var{children:e}=n,t=mRe(n,gRe);return P.createElement(wRe.Provider,{value:t},e)}function hee(n,e){var t,i,r=Ge(u=>Su(u,n)),s=Ge(u=>xu(u,e)),a=(t=r==null?void 0:r.allowDataOverflow)!==null&&t!==void 0?t:xi.allowDataOverflow,o=(i=s==null?void 0:s.allowDataOverflow)!==null&&i!==void 0?i:_i.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function bRe(n){var{xAxisId:e,yAxisId:t,clipPathId:i}=n,r=dee(),{needClipX:s,needClipY:a,needClip:o}=hee(e,t);if(!o||!r)return null;var{x:l,y:u,width:d,height:h}=r;return P.createElement("clipPath",{id:"clipPath-".concat(i)},P.createElement("rect",{x:s?l:l-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}function BRe(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&Xn(n.zIndex)?n.zIndex:e}var oR={exports:{}},AR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A$;function ERe(){if(A$)return AR;A$=1;var n=oy();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,s=n.useEffect,a=n.useMemo,o=n.useDebugValue;return AR.useSyncExternalStoreWithSelector=function(l,u,d,h,g){var v=r(null);if(v.current===null){var C={hasValue:!1,value:null};v.current=C}else C=v.current;v=a(function(){function E(M){if(!x){if(x=!0,I=M,M=h(M),g!==void 0&&C.hasValue){var D=C.value;if(g(D,M))return T=D}return T=M}if(D=T,t(I,M))return D;var L=h(M);return g!==void 0&&g(D,L)?(I=M,D):(I=M,T=L)}var x=!1,I,T,R=d===void 0?null:d;return[function(){return E(u())},R===null?void 0:function(){return E(R())}]},[u,d,h,g]);var b=i(l,v[0],v[1]);return s(function(){C.hasValue=!0,C.value=b},[b]),o(b),b},AR}var l$;function SRe(){return l$||(l$=1,oR.exports=ERe()),oR.exports}SRe();function xRe(n){n()}function _Re(){let n=null,e=null;return{clear(){n=null,e=null},notify(){xRe(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var u$={notify(){},get:()=>[]};function TRe(n,e){let t,i=u$,r=0,s=!1;function a(b){d();const E=i.subscribe(b);let x=!1;return()=>{x||(x=!0,E(),h())}}function o(){i.notify()}function l(){C.onStateChange&&C.onStateChange()}function u(){return s}function d(){r++,t||(t=n.subscribe(l),i=_Re())}function h(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=u$)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,h())}const C={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>i};return C}var IRe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FRe=IRe(),URe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",MRe=URe(),PRe=()=>FRe||MRe?P.useLayoutEffect:P.useEffect,RRe=PRe();function c$(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function DRe(n,e){if(c$(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!c$(n[t[r]],e[t[r]]))return!1;return!0}var lR=Symbol.for("react-redux-context"),uR=typeof globalThis<"u"?globalThis:{};function NRe(){if(!P.createContext)return{};const n=uR[lR]??(uR[lR]=new Map);let e=n.get(P.createContext);return e||(e=P.createContext(null),n.set(P.createContext,e)),e}var LRe=NRe();function QRe(n){const{children:e,context:t,serverState:i,store:r}=n,s=P.useMemo(()=>{const l=TRe(r);return{store:r,subscription:l,getServerState:i?()=>i:void 0}},[r,i]),a=P.useMemo(()=>r.getState(),[r]);RRe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=t||LRe;return P.createElement(o.Provider,{value:s},e)}var ORe=QRe,kRe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function HRe(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function yk(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var i of t)if(kRe.has(i)){if(n[i]==null&&e[i]==null)continue;if(!DRe(n[i],e[i]))return!1}else if(!HRe(n[i],e[i]))return!1;return!0}var VRe=["onMouseEnter","onMouseLeave","onClick"],KRe=["value","background","tooltipPosition"],GRe=["id"],zRe=["onMouseEnter","onClick","onMouseLeave"];function pu(){return pu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},pu.apply(null,arguments)}function d$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Nr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(t),!0).forEach(function(i){qRe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function qRe(n,e,t){return(e=$Re(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $Re(n){var e=jRe(n,"string");return typeof e=="symbol"?e:e+""}function jRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zT(n,e){if(n==null)return{};var t,i,r=WRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function WRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var YRe=n=>{var{dataKey:e,name:t,fill:i,legendType:r,hide:s}=n;return[{inactive:s,dataKey:e,type:r,color:i,value:oJ(t,e),payload:n}]},XRe=P.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:i,fill:r,name:s,hide:a,unit:o,tooltipType:l}=n,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:i,fill:r,dataKey:e,nameKey:void 0,name:oJ(s,e),hide:a,type:l,color:r,unit:o}};return P.createElement(UPe,{tooltipEntrySettings:u})});function JRe(n){var e=Ge(ry),{data:t,dataKey:i,background:r,allOtherBarProps:s}=n,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,u=zT(s,VRe),d=aee(a,i),h=oee(o),g=Aee(l,i);if(!r||t==null)return null;var v=$Q(r);return P.createElement(Qd,{zIndex:BRe(r,cs.barBackground)},t.map((C,b)=>{var{value:E,background:x,tooltipPosition:I}=C,T=zT(C,KRe);if(!x)return null;var R=d(C,b),M=h(C,b),D=g(C,b),L=Nr(Nr(Nr(Nr(Nr({option:r,isActive:String(b)===e},T),{},{fill:"#eee"},x),v),eO(u,C,b)),{},{onMouseEnter:R,onMouseLeave:M,onClick:D,dataKey:i,index:b,className:"recharts-bar-background-rectangle"});return P.createElement(GT,pu({key:"background-bar-".concat(b)},L))}))}function ZRe(n){var{showLabels:e,children:t,rects:i}=n,r=i==null?void 0:i.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Nr(Nr({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return P.createElement(nPe,{value:e?r:void 0},t)}function eDe(n){var{shape:e,activeBar:t,baseProps:i,entry:r,index:s,dataKey:a}=n,o=Ge(ry),l=Ge(NZ),u=t&&String(s)===o&&(l==null||a===l),d=u?t:e;return u?P.createElement(Qd,{zIndex:cs.activeBar},P.createElement(GT,pu({},i,{name:String(i.name)},r,{isActive:u,option:d,index:s,dataKey:a}))):P.createElement(GT,pu({},i,{name:String(i.name)},r,{isActive:u,option:d,index:s,dataKey:a}))}function tDe(n){var{shape:e,baseProps:t,entry:i,index:r,dataKey:s}=n;return P.createElement(GT,pu({},t,{name:String(t.name)},i,{isActive:!1,option:e,index:r,dataKey:s}))}function nDe(n){var e,{data:t,props:i}=n,r=(e=Td(i))!==null&&e!==void 0?e:{},{id:s}=r,a=zT(r,GRe),{shape:o,dataKey:l,activeBar:u}=i,{onMouseEnter:d,onClick:h,onMouseLeave:g}=i,v=zT(i,zRe),C=aee(d,l),b=oee(g),E=Aee(h,l);return t?P.createElement(P.Fragment,null,t.map((x,I)=>P.createElement(Au,pu({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(I),className:"recharts-bar-rectangle"},eO(v,x,I),{onMouseEnter:C(x,I),onMouseLeave:b(x,I),onClick:E(x,I)}),u?P.createElement(eDe,{shape:o,activeBar:u,baseProps:a,entry:x,index:I,dataKey:l}):P.createElement(tDe,{shape:o,baseProps:a,entry:x,index:I,dataKey:l})))):null}function iDe(n){var{props:e,previousRectanglesRef:t}=n,{data:i,layout:r,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=e,h=t.current,g=gO(e,"recharts-bar-"),[v,C]=P.useState(!1),b=!v,E=P.useCallback(()=>{typeof u=="function"&&u(),C(!1)},[u]),x=P.useCallback(()=>{typeof d=="function"&&d(),C(!0)},[d]);return P.createElement(ZRe,{showLabels:b,rects:i},P.createElement(pO,{animationId:g,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:E,onAnimationStart:x,key:g},I=>{var T=I===1?i:i==null?void 0:i.map((R,M)=>{var D=h&&h[M];if(D)return Nr(Nr({},R),{},{x:er(D.x,R.x,I),y:er(D.y,R.y,I),width:er(D.width,R.width,I),height:er(D.height,R.height,I)});if(r==="horizontal"){var L=er(0,R.height,I),H=er(R.stackedBarStart,R.y,I);return Nr(Nr({},R),{},{y:H,height:L})}var O=er(0,R.width,I),K=er(R.stackedBarStart,R.x,I);return Nr(Nr({},R),{},{width:O,x:K})});return I>0&&(t.current=T??null),T==null?null:P.createElement(Au,null,P.createElement(nDe,{props:e,data:T}))}),P.createElement(sPe,{label:e.label}),e.children)}function rDe(n){var e=P.useRef(null);return P.createElement(iDe,{previousRectanglesRef:e,props:n})}var pee=0,sDe=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:Br(n,e)}};class aDe extends P.PureComponent{render(){var{hide:e,data:t,dataKey:i,className:r,xAxisId:s,yAxisId:a,needClip:o,background:l,id:u}=this.props;if(e||t==null)return null;var d=yn("recharts-bar",r),h=u;return P.createElement(Au,{className:d,id:u},o&&P.createElement("defs",null,P.createElement(bRe,{clipPathId:h,xAxisId:s,yAxisId:a})),P.createElement(Au,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},P.createElement(JRe,{data:t,dataKey:i,background:l,allOtherBarProps:this.props}),P.createElement(rDe,this.props)))}}var oDe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:pee,xAxisId:0,yAxisId:0,zIndex:cs.bar};function ADe(n){var{xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=n,{needClip:h}=hee(e,t),g=rI(),v=Zs(),C=cPe(n.children,gk),b=Ge(I=>NDe(I,e,t,v,n.id,C));if(g!=="vertical"&&g!=="horizontal")return null;var E,x=b==null?void 0:b[0];return x==null||x.height==null||x.width==null?E=0:E=g==="vertical"?x.height/2:x.width/2,P.createElement(CRe,{xAxisId:e,yAxisId:t,data:b,dataPointFormatter:sDe,errorBarOffset:E},P.createElement(aDe,pu({},n,{layout:g,needClip:h,data:b,xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function lDe(n){var{layout:e,barSettings:{dataKey:t,minPointSize:i},pos:r,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:h,offset:g,cells:v,parentViewBox:C,dataStartIndex:b}=n,E=e==="horizontal"?o:a,x=d?E.scale.domain():null,I=IEe({numericAxis:E}),T=E.scale(I);return h.map((R,M)=>{var D,L,H,O,K,V;d?D=BEe(d[M+b],x):(D=Br(R,t),Array.isArray(D)||(D=[I,D]));var $=fRe(i,pee)(D[1],M);if(e==="horizontal"){var ne,[oe,pe]=[o.scale(D[0]),o.scale(D[1])];L=Lq({axis:a,ticks:l,bandSize:s,offset:r.offset,entry:R,index:M}),H=(ne=pe??oe)!==null&&ne!==void 0?ne:void 0,O=r.size;var G=oe-pe;if(K=gA(G)?0:G,V={x:L,y:g.top,width:O,height:g.height},Math.abs($)>0&&Math.abs(K)<Math.abs($)){var z=$s(K||$)*(Math.abs($)-Math.abs(K));H-=z,K+=z}}else{var[ee,Z]=[a.scale(D[0]),a.scale(D[1])];if(L=ee,H=Lq({axis:o,ticks:u,bandSize:s,offset:r.offset,entry:R,index:M}),O=Z-ee,K=r.size,V={x:g.left,y:H,width:g.width,height:K},Math.abs($)>0&&Math.abs(O)<Math.abs($)){var me=$s(O||$)*(Math.abs($)-Math.abs(O));O+=me}}if(L==null||H==null||O==null||K==null)return null;var q=Nr(Nr({},R),{},{stackedBarStart:T,x:L,y:H,width:O,height:K,value:d?D:D[1],payload:R,background:V,tooltipPosition:{x:L+O/2,y:H+K/2},parentViewBox:C},v&&v[M]&&v[M].props);return q}).filter(Boolean)}function uDe(n){var e=qa(n,oDe),t=Zs();return P.createElement(NPe,{id:e.id,type:"bar"},i=>P.createElement(P.Fragment,null,P.createElement(MPe,{legendPayload:YRe(e)}),P.createElement(XRe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),P.createElement(KPe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:TEe(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),P.createElement(Qd,{zIndex:e.zIndex},P.createElement(ADe,pu({},e,{id:i})))))}var gee=P.memo(uDe,yk);gee.displayName="Bar";function f$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?f$(Object(t),!0).forEach(function(i){cDe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cDe(n,e,t){return(e=dDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dDe(n){var e=fDe(n,"string");return typeof e=="symbol"?e:e+""}function fDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var hDe=(n,e)=>e,pDe=(n,e,t)=>t,gDe=(n,e,t,i)=>i,mDe=(n,e,t,i,r)=>r,sE=le([XO,mDe],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),vDe=le([sE],n=>n==null?void 0:n.maxBarSize),yDe=(n,e,t,i,r,s)=>s,h$=(n,e,t)=>{var i=t??n;if(!Li(i))return wo(i,e,0)},wDe=le([Ht,XO,hDe,pDe,gDe],(n,e,t,i,r)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===i).filter(s=>s.isPanorama===r).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),CDe=(n,e,t,i)=>{var r=Ht(n);return r==="horizontal"?XL(n,"yAxis",t,i):XL(n,"xAxis",e,i)},bDe=(n,e,t)=>{var i=Ht(n);return i==="horizontal"?p8(n,"xAxis",e):p8(n,"yAxis",t)},BDe=(n,e,t)=>{var i={},r=n.filter(yI),s=n.filter(u=>u.stackId==null),a=r.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),i),o=Object.entries(a).map(u=>{var[d,h]=u,g=h.map(C=>C.dataKey),v=h$(e,t,h[0].barSize);return{stackId:d,dataKeys:g,barSize:v}}),l=s.map(u=>{var d=[u.dataKey].filter(g=>g!=null),h=h$(e,t,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...l]},EDe=le([wDe,H1e,bDe],BDe),SDe=(n,e,t,i,r)=>{var s,a,o=sE(n,e,t,i,r);if(o!=null){var l=Ht(n),u=S7(n),{maxBarSize:d}=o,h=Li(d)?u:d,g,v;return l==="horizontal"?(g=iy(n,"xAxis",e,i),v=ny(n,"xAxis",e,i)):(g=iy(n,"yAxis",t,i),v=ny(n,"yAxis",t,i)),(s=(a=yT(g,v,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0}},mee=(n,e,t,i)=>{var r=Ht(n),s,a;return r==="horizontal"?(s=iy(n,"xAxis",e,i),a=ny(n,"xAxis",e,i)):(s=iy(n,"yAxis",t,i),a=ny(n,"yAxis",t,i)),yT(s,a)};function xDe(n,e,t,i,r){var s=i.length;if(!(s<1)){var a=wo(n,t,0,!0),o,l=[];if(Xn(i[0].barSize)){var u=!1,d=t/s,h=i.reduce((x,I)=>x+(I.barSize||0),0);h+=(s-1)*a,h>=t&&(h-=(s-1)*a,a=0),h>=t&&d>0&&(u=!0,d*=.9,h=s*d);var g=(t-h)/2>>0,v={offset:g-a,size:0};o=i.reduce((x,I)=>{var T,R={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:v.offset+v.size+a,size:u?d:(T=I.barSize)!==null&&T!==void 0?T:0}},M=[...x,R];return v=M[M.length-1].position,M},l)}else{var C=wo(e,t,0,!0);t-2*C-(s-1)*a<=0&&(a=0);var b=(t-2*C-(s-1)*a)/s;b>1&&(b>>=0);var E=Xn(r)?Math.min(b,r):b;o=i.reduce((x,I,T)=>[...x,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:C+(b+a)*T+(b-E)/2,size:E}}],l)}return o}}var _De=(n,e,t,i,r,s,a)=>{var o=Li(a)?e:a,l=xDe(t,i,r!==s?r:s,n,o);return r!==s&&l!=null&&(l=l.map(u=>yx(yx({},u),{},{position:yx(yx({},u.position),{},{offset:u.position.offset-r/2})}))),l},TDe=le([EDe,S7,k1e,x7,SDe,mee,vDe],_De),IDe=(n,e,t,i)=>iy(n,"xAxis",e,i),FDe=(n,e,t,i)=>iy(n,"yAxis",t,i),UDe=(n,e,t,i)=>ny(n,"xAxis",e,i),MDe=(n,e,t,i)=>ny(n,"yAxis",t,i),PDe=le([TDe,sE],(n,e)=>{if(!(n==null||e==null)){var t=n.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),RDe=(n,e)=>{var t=WO(e);if(!(!n||t==null||e==null)){var{stackId:i}=e;if(i!=null){var r=n[i];if(r){var{stackedData:s}=r;if(s)return s.find(a=>a.key===t)}}}},DDe=le([CDe,sE],RDe),NDe=le([Qi,cO,IDe,FDe,UDe,MDe,PDe,Ht,kO,mee,DDe,sE,yDe],(n,e,t,i,r,s,a,o,l,u,d,h,g)=>{var{chartData:v,dataStartIndex:C,dataEndIndex:b}=l;if(!(h==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||t==null||i==null||r==null||s==null||u==null)){var{data:E}=h,x;if(E!=null&&E.length>0?x=E:x=v==null?void 0:v.slice(C,b+1),x!=null)return lDe({layout:o,barSettings:h,pos:a,parentViewBox:e,bandSize:u,xAxis:t,yAxis:i,xAxisTicks:r,yAxisTicks:s,stackedData:d,displayedData:x,offset:n,cells:g,dataStartIndex:C})}}),LDe=n=>{var{chartData:e}=n,t=Jn(),i=Zs();return P.useEffect(()=>i?()=>{}:(t(_8(e)),()=>{t(_8(void 0))}),[e,t,i]),null},p$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},vee=ds({name:"brush",initialState:p$,reducers:{setBrushSettings(n,e){return e.payload==null?p$:e.payload}}}),{setBrushSettings:xQe}=vee.actions,QDe=vee.reducer;function ODe(n,e,t){return(e=kDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kDe(n){var e=HDe(n,"string");return typeof e=="symbol"?e:e+""}function HDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class wk{static create(e){return new wk(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(i)switch(i){case"start":return this.scale(e);case"middle":{var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),i=t[0],r=t[t.length-1];return i<=r?e>=i&&e<=r:e>=r&&e<=i}}ODe(wk,"EPS",1e-4);function VDe(n){return(n%180+180)%180}var KDe=function(e){var{width:t,height:i}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=VDe(r),a=s*Math.PI/180,o=Math.atan(i/t),l=a>o&&a<Math.PI-o?i/Math.sin(a):t/Math.cos(a);return Math.abs(l)},GDe={dots:[],areas:[],lines:[]},yee=ds({name:"referenceElements",initialState:GDe,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=yo(n).dots.findIndex(i=>i===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=yo(n).areas.findIndex(i=>i===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=yo(n).lines.findIndex(i=>i===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:_Qe,removeDot:TQe,addArea:IQe,removeArea:FQe,addLine:UQe,removeLine:MQe}=yee.actions,zDe=yee.reducer,qDe=P.createContext(void 0),$De=n=>{var{children:e}=n,[t]=P.useState("".concat(Qw("recharts"),"-clip")),i=dee();if(i==null)return null;var{x:r,y:s,width:a,height:o}=i;return P.createElement(qDe.Provider,{value:t},P.createElement("defs",null,P.createElement("clipPath",{id:t},P.createElement("rect",{x:r,y:s,height:o,width:a}))),e)};function wee(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],i=0;i<n.length;i+=e)t.push(n[i]);return t}function jDe(n,e,t){var i={width:n.width+e.width,height:n.height+e.height};return KDe(i,t)}function WDe(n,e,t){var i=t==="width",{x:r,y:s,width:a,height:o}=n;return e===1?{start:i?r:s,end:i?r+a:s+o}:{start:i?r+a:s+o,end:i?r:s}}function qT(n,e,t,i,r){if(n*e<n*i||n*e>n*r)return!1;var s=t();return n*(e-n*s/2-i)>=0&&n*(e+n*s/2-r)<=0}function YDe(n,e){return wee(n,e+1)}function XDe(n,e,t,i,r){for(var s=(i||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,h=function(){var C=i==null?void 0:i[l];if(C===void 0)return{v:wee(i,u)};var b=l,E,x=()=>(E===void 0&&(E=t(C,b)),E),I=C.coordinate,T=l===0||qT(n,I,x,d,o);T||(l=0,d=a,u+=1),T&&(d=I+n*(x()/2+r),l+=u)},g;u<=s.length;)if(g=h(),g)return g.v;return[]}function g$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g$(Object(t),!0).forEach(function(i){JDe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function JDe(n,e,t){return(e=ZDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZDe(n){var e=eNe(n,"string");return typeof e=="symbol"?e:e+""}function eNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function tNe(n,e,t,i,r){for(var s=(i||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(g){var v=s[g],C,b=()=>(C===void 0&&(C=t(v,g)),C);if(g===a-1){var E=n*(v.coordinate+n*b()/2-l);s[g]=v=yr(yr({},v),{},{tickCoord:E>0?v.coordinate-E*n:v.coordinate})}else s[g]=v=yr(yr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var x=qT(n,v.tickCoord,b,o,l);x&&(l=v.tickCoord-n*(b()/2+r),s[g]=yr(yr({},v),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function nNe(n,e,t,i,r,s){var a=(i||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var d=i[o-1],h=t(d,o-1),g=n*(d.coordinate+n*h/2-u);if(a[o-1]=d=yr(yr({},d),{},{tickCoord:g>0?d.coordinate-g*n:d.coordinate}),d.tickCoord!=null){var v=qT(n,d.tickCoord,()=>h,l,u);v&&(u=d.tickCoord-n*(h/2+r),a[o-1]=yr(yr({},d),{},{isShow:!0}))}}for(var C=s?o-1:o,b=function(I){var T=a[I],R,M=()=>(R===void 0&&(R=t(T,I)),R);if(I===0){var D=n*(T.coordinate-n*M()/2-l);a[I]=T=yr(yr({},T),{},{tickCoord:D<0?T.coordinate-D*n:T.coordinate})}else a[I]=T=yr(yr({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var L=qT(n,T.tickCoord,M,l,u);L&&(l=T.tickCoord+n*(M()/2+r),a[I]=yr(yr({},T),{},{isShow:!0}))}},E=0;E<C;E++)b(E);return a}function iNe(n,e,t){var{tick:i,ticks:r,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:h}=n;if(!r||!r.length||!i)return[];if(qe(l)||zB.isSsr){var g;return(g=YDe(r,qe(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],C=o==="top"||o==="bottom"?"width":"height",b=d&&C==="width"?Sw(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},E=(T,R)=>{var M=typeof u=="function"?u(T.value,R):T.value;return C==="width"?jDe(Sw(M,{fontSize:e,letterSpacing:t}),b,h):Sw(M,{fontSize:e,letterSpacing:t})[C]},x=r.length>=2?$s(r[1].coordinate-r[0].coordinate):1,I=WDe(s,x,C);return l==="equidistantPreserveStart"?XDe(x,I,E,r,a):(l==="preserveStart"||l==="preserveStartEnd"?v=nNe(x,I,E,r,a,l==="preserveStartEnd"):v=tNe(x,I,E,r,a),v.filter(T=>T.isShow))}var rNe=n=>{var{ticks:e,label:t,labelGapWithTick:i=5,tickSize:r=0,tickMargin:s=0}=n,a=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=t?t.getBoundingClientRect().width:0,l=r+s,u=a+l+o+(t?i:0);return Math.round(u)}return 0},sNe=["axisLine","width","height","className","hide","ticks","axisType"];function aNe(n,e){if(n==null)return{};var t,i,r=oNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function oNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Ap(){return Ap=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ap.apply(null,arguments)}function m$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ai(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?m$(Object(t),!0).forEach(function(i){ANe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ANe(n,e,t){return(e=lNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lNe(n){var e=uNe(n,"string");return typeof e=="symbol"?e:e+""}function uNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var tp={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:cs.axis};function cNe(n){var{x:e,y:t,width:i,height:r,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=n;if(!o)return null;var u=ai(ai(ai({},l),Td(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=ai(ai({},u),{},{x1:e,y1:t+d*r,x2:e+i,y2:t+d*r})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=ai(ai({},u),{},{x1:e+h*i,y1:t,x2:e+h*i,y2:t+r})}return P.createElement("line",Ap({},u,{className:yn("recharts-cartesian-axis-line",Wv(o,"className"))}))}function dNe(n,e,t,i,r,s,a,o,l){var u,d,h,g,v,C,b=o?-1:1,E=n.tickSize||a,x=qe(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":u=d=n.coordinate,g=t+ +!o*r,h=g-b*E,C=h-b*l,v=x;break;case"left":h=g=n.coordinate,d=e+ +!o*i,u=d-b*E,v=u-b*l,C=x;break;case"right":h=g=n.coordinate,d=e+ +o*i,u=d+b*E,v=u+b*l,C=x;break;default:u=d=n.coordinate,g=t+ +o*r,h=g+b*E,C=h+b*l,v=x;break}return{line:{x1:u,y1:h,x2:d,y2:g},tick:{x:v,y:C}}}function fNe(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function hNe(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function pNe(n){var{option:e,tickProps:t,value:i}=n,r,s=yn(t.className,"recharts-cartesian-axis-tick-value");if(P.isValidElement(e))r=P.cloneElement(e,ai(ai({},t),{},{className:s}));else if(typeof e=="function")r=e(ai(ai({},t),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=yn(a,e==null?void 0:e.className)),r=P.createElement(mk,Ap({},t,{className:a}),i)}return r}var gNe=P.forwardRef((n,e)=>{var{ticks:t=[],tick:i,tickLine:r,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:h,x:g,y:v,width:C,height:b,tickSize:E,tickMargin:x,fontSize:I,letterSpacing:T,getTicksConfig:R,events:M,axisType:D}=n,L=iNe(ai(ai({},R),{},{ticks:t}),I,T),H=fNe(d,h),O=hNe(d,h),K=Td(R),V=$Q(i),$={};typeof r=="object"&&($=r);var ne=ai(ai({},K),{},{fill:"none"},$),oe=L.map(z=>ai({entry:z},dNe(z,g,v,C,b,d,E,h,x))),pe=oe.map(z=>{var{entry:ee,line:Z}=z;return P.createElement(Au,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},r&&P.createElement("line",Ap({},ne,Z,{className:yn("recharts-cartesian-axis-tick-line",Wv(r,"className"))})))}),G=oe.map((z,ee)=>{var{entry:Z,tick:me}=z,q=ai(ai(ai(ai({textAnchor:H,verticalAnchor:O},K),{},{stroke:"none",fill:s},V),me),{},{index:ee,payload:Z,visibleTicksCount:L.length,tickFormatter:a,padding:l},u);return P.createElement(Au,Ap({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},eO(M,Z,ee)),i&&P.createElement(pNe,{option:i,tickProps:q,value:"".concat(typeof a=="function"?a(Z.value,ee):Z.value).concat(o||"")}))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},G.length>0&&P.createElement(Qd,{zIndex:cs.label},P.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},G)),pe.length>0&&P.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},pe))}),mNe=P.forwardRef((n,e)=>{var{axisLine:t,width:i,height:r,className:s,hide:a,ticks:o,axisType:l}=n,u=aNe(n,sNe),[d,h]=P.useState(""),[g,v]=P.useState(""),C=P.useRef(null);P.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return rNe({ticks:C.current,label:(E=n.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var b=P.useCallback(E=>{if(E){var x=E.getElementsByClassName("recharts-cartesian-axis-tick-value");C.current=x;var I=x[0];if(I){var T=window.getComputedStyle(I),R=T.fontSize,M=T.letterSpacing;(R!==d||M!==g)&&(h(R),v(M))}}},[d,g]);return a||i!=null&&i<=0||r!=null&&r<=0?null:P.createElement(Qd,{zIndex:n.zIndex},P.createElement(Au,{className:yn("recharts-cartesian-axis",s)},P.createElement(cNe,{x:n.x,y:n.y,width:i,height:r,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:Td(n)}),P.createElement(gNe,{ref:b,axisType:l,events:u,fontSize:d,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:o,unit:n.unit,width:n.width,x:n.x,y:n.y}),P.createElement(DMe,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},P.createElement(zMe,{label:n.label,labelRef:n.labelRef}),n.children)))}),Ck=P.forwardRef((n,e)=>{var t=qa(n,tp);return P.createElement(mNe,Ap({},t,{ref:e}))});Ck.displayName="CartesianAxis";var vNe=["domain","range"],yNe=["domain","range"];function v$(n,e){if(n==null)return{};var t,i,r=wNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function wNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function y$(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function Cee(n,e){if(n===e)return!0;var{domain:t,range:i}=n,r=v$(n,vNe),{domain:s,range:a}=e,o=v$(e,yNe);return!y$(t,s)||!y$(i,a)?!1:yk(r,o)}var CNe=["dangerouslySetInnerHTML","ticks"],bNe=["id"];function sQ(){return sQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sQ.apply(null,arguments)}function w$(n,e){if(n==null)return{};var t,i,r=BNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function BNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function ENe(n){var e=Jn(),t=P.useRef(null);return P.useLayoutEffect(()=>{t.current===null?e(jPe(n)):t.current!==n&&e(WPe({prev:t.current,next:n})),t.current=n},[n,e]),P.useLayoutEffect(()=>()=>{t.current&&(e(YPe(t.current)),t.current=null)},[e]),null}var SNe=n=>{var{xAxisId:e,className:t}=n,i=Ge(cO),r=Zs(),s="xAxis",a=Ge(E=>vy(E,s,e,r)),o=Ge(E=>gZ(E,s,e,r)),l=Ge(E=>dZ(E,e)),u=Ge(E=>QIe(E,e)),d=Ge(E=>D7(E,e));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=n,v=w$(n,CNe),{id:C}=d,b=w$(d,bNe);return P.createElement(Ck,sQ({},v,b,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:yn("recharts-".concat(s," ").concat(s),t),viewBox:i,ticks:o,axisType:s}))},xNe={allowDataOverflow:xi.allowDataOverflow,allowDecimals:xi.allowDecimals,allowDuplicatedCategory:xi.allowDuplicatedCategory,angle:xi.angle,axisLine:tp.axisLine,height:xi.height,hide:!1,includeHidden:xi.includeHidden,interval:xi.interval,minTickGap:xi.minTickGap,mirror:xi.mirror,orientation:xi.orientation,padding:xi.padding,reversed:xi.reversed,scale:xi.scale,tick:xi.tick,tickCount:xi.tickCount,tickLine:tp.tickLine,tickSize:tp.tickSize,type:xi.type,xAxisId:0},_Ne=n=>{var e=qa(n,xNe);return P.createElement(P.Fragment,null,P.createElement(ENe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),P.createElement(SNe,e))},bee=P.memo(_Ne,Cee);bee.displayName="XAxis";var TNe=["dangerouslySetInnerHTML","ticks"],INe=["id"];function aQ(){return aQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},aQ.apply(null,arguments)}function C$(n,e){if(n==null)return{};var t,i,r=FNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function FNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function UNe(n){var e=Jn(),t=P.useRef(null);return P.useLayoutEffect(()=>{t.current===null?e(XPe(n)):t.current!==n&&e(JPe({prev:t.current,next:n})),t.current=n},[n,e]),P.useLayoutEffect(()=>()=>{t.current&&(e(ZPe(t.current)),t.current=null)},[e]),null}var MNe=n=>{var{yAxisId:e,className:t,width:i,label:r}=n,s=P.useRef(null),a=P.useRef(null),o=Ge(cO),l=Zs(),u=Jn(),d="yAxis",h=Ge(M=>vy(M,d,e,l)),g=Ge(M=>fZ(M,e)),v=Ge(M=>kIe(M,e)),C=Ge(M=>gZ(M,d,e,l)),b=Ge(M=>N7(M,e));if(P.useLayoutEffect(()=>{if(!(i!=="auto"||!g||vk(r)||P.isValidElement(r)||b==null)){var M=s.current;if(M){var D=M.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&u(eRe({id:e,width:D}))}}},[C,g,u,r,e,i,b]),g==null||v==null||b==null)return null;var{dangerouslySetInnerHTML:E,ticks:x}=n,I=C$(n,TNe),{id:T}=b,R=C$(b,INe);return P.createElement(Ck,aQ({},I,R,{ref:s,labelRef:a,scale:h,x:v.x,y:v.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:g.width,height:g.height,className:yn("recharts-".concat(d," ").concat(d),t),viewBox:o,ticks:C,axisType:d}))},PNe={allowDataOverflow:_i.allowDataOverflow,allowDecimals:_i.allowDecimals,allowDuplicatedCategory:_i.allowDuplicatedCategory,angle:_i.angle,axisLine:tp.axisLine,hide:!1,includeHidden:_i.includeHidden,interval:_i.interval,minTickGap:_i.minTickGap,mirror:_i.mirror,orientation:_i.orientation,padding:_i.padding,reversed:_i.reversed,scale:_i.scale,tick:_i.tick,tickCount:_i.tickCount,tickLine:tp.tickLine,tickSize:tp.tickSize,type:_i.type,width:_i.width,yAxisId:0},RNe=n=>{var e=qa(n,PNe);return P.createElement(P.Fragment,null,P.createElement(UNe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),P.createElement(MNe,e))},Bee=P.memo(RNe,Cee);Bee.displayName="YAxis";var DNe=(n,e)=>e,bk=le([DNe,Ht,P7,Ci,MZ,_u,eUe,Qi],oUe),Bk=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,i=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/i)}},Eee=Ga("mouseClick"),See=VB();See.startListening({actionCreator:Eee,effect:(n,e)=>{var t=n.payload,i=bk(e.getState(),Bk(t));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(eFe({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var oQ=Ga("mouseMove"),xee=VB(),wx=null;xee.startListening({actionCreator:oQ,effect:(n,e)=>{var t=n.payload;wx!==null&&cancelAnimationFrame(wx);var i=Bk(t);wx=requestAnimationFrame(()=>{var r=e.getState(),s=ak(r,r.tooltip.settings.shared);if(s==="axis"){var a=bk(r,i);(a==null?void 0:a.activeIndex)!=null?e.dispatch(EZ({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(BZ())}wx=null})}});var b$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},_ee=ds({name:"rootProps",initialState:b$,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:b$.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),NNe=_ee.reducer,{updateOptions:LNe}=_ee.actions,Tee=ds({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:PQe}=Tee.actions,QNe=Tee.reducer,Iee=Ga("keyDown"),Fee=Ga("focus"),Ek=VB();Ek.startListening({actionCreator:Iee,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=ok(r,wy(t),JB(t),iE(t)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=_u(t);if(s==="Enter"){var u=kT(t,"axis","hover",String(r.index));e.dispatch(ZL({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:u}));return}var d=GIe(t),h=d==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=o+g*h;if(!(l==null||v>=l.length||v<0)){var C=kT(t,"axis","hover",String(v));e.dispatch(ZL({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:C}))}}}}}});Ek.startListening({actionCreator:Fee,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip;if(!r.active&&r.index==null){var s="0",a=kT(t,"axis","hover",String(s));e.dispatch(ZL({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var ga=Ga("externalEvent"),Uee=VB(),cR=new Map;Uee.startListening({actionCreator:ga,effect:(n,e)=>{var{handler:t,reactEvent:i}=n.payload;if(t!=null){i.persist();var r=i.type,s=cR.get(r);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:OFe(o),activeDataKey:NZ(o),activeIndex:ry(o),activeLabel:DZ(o),activeTooltipIndex:ry(o),isTooltipActive:kFe(o)};t(l,i)}finally{cR.delete(r)}});cR.set(r,a)}}});var ONe=le([yy],n=>n.tooltipItemPayloads),kNe=le([ONe,tE,(n,e,t)=>e,(n,e,t)=>t],(n,e,t,i)=>{var r=n.find(o=>o.settings.dataKey===i);if(r!=null){var{positions:s}=r;if(s!=null){var a=e(s,t);return a}}}),Mee=Ga("touchMove"),Pee=VB();Pee.startListening({actionCreator:Mee,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var i=e.getState(),r=ak(i,i.tooltip.settings.shared);if(r==="axis"){var s=bk(i,Bk({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(EZ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(r==="item"){var a,o=t.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(NEe),d=(a=l.getAttribute(LEe))!==null&&a!==void 0?a:void 0,h=kNe(e.getState(),u,d);e.dispatch(bZ({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var HNe=M9({brush:QDe,cartesianAxis:tRe,chartData:OUe,errorBars:pRe,graphicalItems:HPe,layout:mEe,legend:MSe,options:RUe,polarAxis:oPe,polarOptions:QNe,referenceElements:zDe,rootProps:NNe,tooltip:tFe,zIndex:CUe}),VNe=function(e){return VBe({reducer:HNe,preloadedState:e,middleware:t=>{var i;return t({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([See.middleware,xee.middleware,Ek.middleware,Uee.middleware,Pee.middleware])},enhancers:t=>{var i=t;return typeof t=="function"&&(i=t()),i.concat($9({type:"raf"}))},devTools:zB.devToolsEnabled})};function KNe(n){var{preloadedState:e,children:t,reduxStoreName:i}=n,r=Zs(),s=P.useRef(null);if(r)return t;s.current==null&&(s.current=VNe(e));var a=nO;return P.createElement(ORe,{context:a,store:s.current},t)}function GNe(n){var{layout:e,margin:t}=n,i=Jn(),r=Zs();return P.useEffect(()=>{r||(i(hEe(e)),i(fEe(t)))},[i,r,e,t]),null}var zNe=P.memo(GNe,yk);function qNe(n){var e=Jn();return P.useEffect(()=>{e(LNe(n))},[e,n]),null}function B$(n){var{zIndex:e,isPanorama:t}=n,i=t?"recharts-zindex-panorama-":"recharts-zindex-",r=lee("".concat(i).concat(e)),s=Jn();return P.useLayoutEffect(()=>(s(yUe({zIndex:e,elementId:r,isPanorama:t})),()=>{s(wUe({zIndex:e,isPanorama:t}))}),[s,e,r,t]),P.createElement("g",{tabIndex:-1,id:r})}function E$(n){var{children:e,isPanorama:t}=n,i=Ge(lUe);if(!i||i.length===0)return e;var r=i.filter(a=>a<0),s=i.filter(a=>a>0);return P.createElement(P.Fragment,null,r.map(a=>P.createElement(B$,{key:a,zIndex:a,isPanorama:t})),e,s.map(a=>P.createElement(B$,{key:a,zIndex:a,isPanorama:t})))}var $Ne=["children"];function jNe(n,e){if(n==null)return{};var t,i,r=WNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function WNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function $T(){return $T=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$T.apply(null,arguments)}var YNe={width:"100%",height:"100%",display:"block"},XNe=P.forwardRef((n,e)=>{var t=hSe(),i=pSe(),r=wJ();if(!Id(t)||!Id(i))return null;var{children:s,otherAttributes:a,title:o,desc:l}=n,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=r?0:void 0,typeof a.role=="string"?d=a.role:d=r?"application":void 0),P.createElement(YX,$T({},a,{title:o,desc:l,role:d,tabIndex:u,width:t,height:i,style:YNe,ref:e}),s)}),JNe=n=>{var{children:e}=n,t=Ge(nI);if(!t)return null;var{width:i,height:r,y:s,x:a}=t;return P.createElement(YX,{width:i,height:r,x:a,y:s},e)},S$=P.forwardRef((n,e)=>{var{children:t}=n,i=jNe(n,$Ne),r=Zs();return r?P.createElement(JNe,null,P.createElement(E$,{isPanorama:!0},t)):P.createElement(XNe,$T({ref:e},i),P.createElement(E$,{isPanorama:!1},t))});function ZNe(){var n=Jn(),[e,t]=P.useState(null),i=Ge(DEe);return P.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),s=r.width/e.offsetWidth;Xn(s)&&s!==i&&n(gEe(s))}},[e,n,i]),t}function x$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function eLe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x$(Object(t),!0).forEach(function(i){tLe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):x$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function tLe(n,e,t){return(e=nLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nLe(n){var e=iLe(n,"string");return typeof e=="symbol"?e:e+""}function iLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function lp(){return lp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lp.apply(null,arguments)}var rLe=()=>(jUe(),null);function jT(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var sLe=P.forwardRef((n,e)=>{var t,i,r=P.useRef(null),[s,a]=P.useState({containerWidth:jT((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:jT((i=n.style)===null||i===void 0?void 0:i.height)}),o=P.useCallback((u,d)=>{a(h=>{var g=Math.round(u),v=Math.round(d);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),l=P.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var g=C=>{var{width:b,height:E}=C[0].contentRect;o(b,E)},v=new ResizeObserver(g);v.observe(u),r.current=v}},[e,o]);return P.useEffect(()=>()=>{var u=r.current;u!=null&&u.disconnect()},[o]),P.createElement(P.Fragment,null,P.createElement(sI,{width:s.containerWidth,height:s.containerHeight}),P.createElement("div",lp({ref:l},n)))}),aLe=P.forwardRef((n,e)=>{var{width:t,height:i}=n,[r,s]=P.useState({containerWidth:jT(t),containerHeight:jT(i)}),a=P.useCallback((l,u)=>{s(d=>{var h=Math.round(l),g=Math.round(u);return d.containerWidth===h&&d.containerHeight===g?d:{containerWidth:h,containerHeight:g}})},[]),o=P.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();a(u,d)}},[e,a]);return P.createElement(P.Fragment,null,P.createElement(sI,{width:r.containerWidth,height:r.containerHeight}),P.createElement("div",lp({ref:o},n)))}),oLe=P.forwardRef((n,e)=>{var{width:t,height:i}=n;return P.createElement(P.Fragment,null,P.createElement(sI,{width:t,height:i}),P.createElement("div",lp({ref:e},n)))}),ALe=P.forwardRef((n,e)=>{var{width:t,height:i}=n;return lu(t)||lu(i)?P.createElement(aLe,lp({},n,{ref:e})):P.createElement(oLe,lp({},n,{ref:e}))});function lLe(n){return n===!0?sLe:ALe}var uLe=P.forwardRef((n,e)=>{var{children:t,className:i,height:r,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:C,onTouchStart:b,style:E,width:x,responsive:I,dispatchTouchEvents:T=!0}=n,R=P.useRef(null),M=Jn(),[D,L]=P.useState(null),[H,O]=P.useState(null),K=ZNe(),V=dO(),$=(V==null?void 0:V.width)>0?V.width:x,ne=(V==null?void 0:V.height)>0?V.height:r,oe=P.useCallback(se=>{K(se),typeof e=="function"&&e(se),L(se),O(se),se!=null&&(R.current=se)},[K,e,L,O]),pe=P.useCallback(se=>{M(Eee(se)),M(ga({handler:s,reactEvent:se}))},[M,s]),G=P.useCallback(se=>{M(oQ(se)),M(ga({handler:u,reactEvent:se}))},[M,u]),z=P.useCallback(se=>{M(BZ()),M(ga({handler:d,reactEvent:se}))},[M,d]),ee=P.useCallback(se=>{M(oQ(se)),M(ga({handler:h,reactEvent:se}))},[M,h]),Z=P.useCallback(()=>{M(Fee())},[M]),me=P.useCallback(se=>{M(Iee(se.key))},[M]),q=P.useCallback(se=>{M(ga({handler:a,reactEvent:se}))},[M,a]),Y=P.useCallback(se=>{M(ga({handler:o,reactEvent:se}))},[M,o]),X=P.useCallback(se=>{M(ga({handler:l,reactEvent:se}))},[M,l]),ce=P.useCallback(se=>{M(ga({handler:g,reactEvent:se}))},[M,g]),ye=P.useCallback(se=>{M(ga({handler:b,reactEvent:se}))},[M,b]),Ce=P.useCallback(se=>{T&&M(Mee(se)),M(ga({handler:C,reactEvent:se}))},[M,T,C]),ve=P.useCallback(se=>{M(ga({handler:v,reactEvent:se}))},[M,v]),je=lLe(I);return P.createElement(KZ.Provider,{value:D},P.createElement(CCe.Provider,{value:H},P.createElement(je,{width:$??(E==null?void 0:E.width),height:ne??(E==null?void 0:E.height),className:yn("recharts-wrapper",i),style:eLe({position:"relative",cursor:"default",width:$,height:ne},E),onClick:pe,onContextMenu:q,onDoubleClick:Y,onFocus:Z,onKeyDown:me,onMouseDown:X,onMouseEnter:G,onMouseLeave:z,onMouseMove:ee,onMouseUp:ce,onTouchEnd:ve,onTouchMove:Ce,onTouchStart:ye,ref:oe},P.createElement(rLe,null),t)))}),cLe=["width","height","responsive","children","className","style","compact","title","desc"];function dLe(n,e){if(n==null)return{};var t,i,r=fLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function fLe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var hLe=P.forwardRef((n,e)=>{var{width:t,height:i,responsive:r,children:s,className:a,style:o,compact:l,title:u,desc:d}=n,h=dLe(n,cLe),g=Td(h);return l?P.createElement(P.Fragment,null,P.createElement(sI,{width:t,height:i}),P.createElement(S$,{otherAttributes:g,title:u,desc:d},s)):P.createElement(uLe,{className:a,style:o,width:t,height:i,responsive:r??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},P.createElement(S$,{otherAttributes:g,title:u,desc:d,ref:e},P.createElement($De,null,s)))});function AQ(){return AQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},AQ.apply(null,arguments)}var pLe={top:5,right:5,bottom:5,left:5},gLe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:pLe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},mLe=P.forwardRef(function(e,t){var i,r=qa(e.categoricalChartProps,gLe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return P.createElement(KNe,{preloadedState:{options:d},reduxStoreName:(i=u.id)!==null&&i!==void 0?i:s},P.createElement(LDe,{chartData:u.data}),P.createElement(zNe,{layout:r.layout,margin:r.margin}),P.createElement(qNe,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),P.createElement(hLe,AQ({},r,{ref:t})))}),vLe=["axis","item"],yLe=P.forwardRef((n,e)=>P.createElement(mLe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vLe,tooltipPayloadSearcher:MUe,categoricalChartProps:n,ref:e}));const wLe=()=>{const{stats:n,highlights:e}=Rd(),t=Object.entries(n.chapterVisits).map(([r,s])=>({name:r==="ch1"?"Ch 1":r==="ch2"?"Ch 2":"Ch 3",visits:s})),i=r=>`${Math.floor(r/60)}m ${r%60}s`;return Q.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[Q.jsx(HW,{toggleSidebar:()=>{},toggleNotes:()=>{}}),Q.jsxs("main",{className:"pt-24 px-4 max-w-5xl mx-auto pb-20",children:[Q.jsxs("div",{className:"mb-8",children:[Q.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Learning Report"}),Q.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Analysis of your reading habits and engagement."})]}),Q.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[Q.jsx(Cx,{icon:Q.jsx(Ffe,{className:"text-blue-500"}),label:"Reading Time",value:i(n.totalReadingTime)}),Q.jsx(Cx,{icon:Q.jsx(yfe,{className:"text-green-500"}),label:"Chapters Read",value:Object.keys(n.chapterVisits).length.toString()}),Q.jsx(Cx,{icon:Q.jsx(QW,{className:"text-yellow-500"}),label:"Highlights",value:e.length.toString()}),Q.jsx(Cx,{icon:Q.jsx(DK,{className:"text-purple-500"}),label:"AI Interactions",value:n.aiInteractionCount.toString()})]}),Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[Q.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Chapter Engagement"}),Q.jsx("div",{className:"h-64 w-full",children:Q.jsx(cSe,{width:"100%",height:"100%",children:Q.jsxs(yLe,{data:t,children:[Q.jsx(bee,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),Q.jsx(Bee,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),Q.jsx(nMe,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"transparent"}}),Q.jsx(gee,{dataKey:"visits",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,children:t.map((r,s)=>Q.jsx(gk,{fill:s%2===0?"#3b82f6":"#60a5fa"},`cell-${s}`))})]})})}),Q.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Number of times each chapter was opened"})]}),Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[Q.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[Q.jsx(DK,{size:20,className:"text-purple-500"}),"AI Learning Summary"]}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[Q.jsx("h4",{className:"font-semibold text-purple-700 dark:text-purple-300 text-sm mb-2",children:"Focus Areas"}),Q.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.slice(0,3).map((r,s)=>Q.jsx("span",{className:"px-2 py-1 bg-white dark:bg-slate-800 text-xs rounded text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 truncate max-w-[150px]",children:r.text},s)),e.length===0&&Q.jsx("span",{className:"text-xs text-slate-400",children:"No specific focus areas detected yet."})]})]}),Q.jsxs("div",{children:[Q.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 text-sm mb-2",children:"Reading Velocity"}),Q.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2.5",children:Q.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"65%"}})}),Q.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"You are reading at a consistent pace."})]})]})]})]})]})]})},Cx=({icon:n,label:e,value:t})=>Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center text-center",children:[Q.jsx("div",{className:"mb-2 p-2 bg-slate-50 dark:bg-slate-800 rounded-full",children:n}),Q.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white block",children:t}),Q.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:e})]}),CLe=()=>Q.jsx(wre,{children:Q.jsx(ufe,{children:Q.jsxs(Xie,{children:[Q.jsx(pR,{path:"/",element:Q.jsx(cCe,{})}),Q.jsx(pR,{path:"/report",element:Q.jsx(wLe,{})})]})})}),Ree=document.getElementById("root");if(!Ree)throw new Error("Could not find root element to mount to");const bLe=sie.createRoot(Ree);bLe.render(Q.jsx(U_.StrictMode,{children:Q.jsx(CLe,{})}));
