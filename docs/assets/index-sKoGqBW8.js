var cre=Object.defineProperty;var RV=n=>{throw TypeError(n)};var dre=(n,e,t)=>e in n?cre(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ee=(n,e,t)=>dre(n,typeof e!="symbol"?e+"":e,t),eU=(n,e,t)=>e.has(n)||RV("Cannot "+t);var f=(n,e,t)=>(eU(n,e,"read from private field"),t?t.call(n):e.get(n)),U=(n,e,t)=>e.has(n)?RV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),_=(n,e,t,r)=>(eU(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),P=(n,e,t)=>(eU(n,e,"access private method"),t);var cr=(n,e,t,r)=>({set _(i){_(n,e,i,t)},get _(){return f(n,e,r)}});function fre(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function OA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tU={exports:{}},T0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DV;function hre(){if(DV)return T0;DV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:a,ref:i!==void 0?i:null,props:s}}return T0.Fragment=e,T0.jsx=t,T0.jsxs=t,T0}var NV;function pre(){return NV||(NV=1,tU.exports=hre()),tU.exports}var Q=pre(),nU={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LV;function gre(){if(LV)return it;LV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,B={};function S($,Y,Ae){this.props=$,this.context=Y,this.refs=B,this.updater=Ae||C}S.prototype.isReactComponent={},S.prototype.setState=function($,Y){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Y,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function I(){}I.prototype=S.prototype;function T($,Y,Ae){this.props=$,this.context=Y,this.refs=B,this.updater=Ae||C}var R=T.prototype=new I;R.constructor=T,b(R,S.prototype),R.isPureReactComponent=!0;var M=Array.isArray;function D(){}var L={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function k($,Y,Ae){var me=Ae.ref;return{$$typeof:n,type:$,key:Y,ref:me!==void 0?me:null,props:Ae}}function G($,Y){return k($.type,Y,$.props)}function K($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function z($){var Y={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Ae){return Y[Ae]})}var J=/\/+/g;function ne($,Y){return typeof $=="object"&&$!==null&&$.key!=null?z(""+$.key):Y.toString(36)}function oe($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(D,D):($.status="pending",$.then(function(Y){$.status==="pending"&&($.status="fulfilled",$.value=Y)},function(Y){$.status==="pending"&&($.status="rejected",$.reason=Y)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function V($,Y,Ae,me,re){var fe=typeof $;(fe==="undefined"||fe==="boolean")&&($=null);var le=!1;if($===null)le=!0;else switch(fe){case"bigint":case"string":case"number":le=!0;break;case"object":switch($.$$typeof){case n:case e:le=!0;break;case d:return le=$._init,V(le($._payload),Y,Ae,me,re)}}if(le)return re=re($),le=me===""?"."+ne($,0):me,M(re)?(Ae="",le!=null&&(Ae=le.replace(J,"$&/")+"/"),V(re,Y,Ae,"",function(Ue){return Ue})):re!=null&&(K(re)&&(re=G(re,Ae+(re.key==null||$&&$.key===re.key?"":(""+re.key).replace(J,"$&/")+"/")+le)),Y.push(re)),1;le=0;var Se=me===""?".":me+":";if(M($))for(var Z=0;Z<$.length;Z++)me=$[Z],fe=Se+ne(me,Z),le+=V(me,Y,Ae,fe,re);else if(Z=v($),typeof Z=="function")for($=Z.call($),Z=0;!(me=$.next()).done;)me=me.value,fe=Se+ne(me,Z++),le+=V(me,Y,Ae,fe,re);else if(fe==="object"){if(typeof $.then=="function")return V(oe($),Y,Ae,me,re);throw Y=String($),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return le}function q($,Y,Ae){if($==null)return $;var me=[],re=0;return V($,me,"","",function(fe){return Y.call(Ae,fe,re++)}),me}function te($){if($._status===-1){var Y=$._result;Y=Y(),Y.then(function(Ae){($._status===0||$._status===-1)&&($._status=1,$._result=Ae)},function(Ae){($._status===0||$._status===-1)&&($._status=2,$._result=Ae)}),$._status===-1&&($._status=0,$._result=Y)}if($._status===1)return $._result.default;throw $._result}var he=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ve={map:q,forEach:function($,Y,Ae){q($,function(){Y.apply(this,arguments)},Ae)},count:function($){var Y=0;return q($,function(){Y++}),Y},toArray:function($){return q($,function(Y){return Y})||[]},only:function($){if(!K($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return it.Activity=h,it.Children=ve,it.Component=S,it.Fragment=t,it.Profiler=i,it.PureComponent=T,it.StrictMode=r,it.Suspense=l,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,it.__COMPILER_RUNTIME={__proto__:null,c:function($){return L.H.useMemoCache($)}},it.cache=function($){return function(){return $.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function($,Y,Ae){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var me=b({},$.props),re=$.key;if(Y!=null)for(fe in Y.key!==void 0&&(re=""+Y.key),Y)!H.call(Y,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&Y.ref===void 0||(me[fe]=Y[fe]);var fe=arguments.length-2;if(fe===1)me.children=Ae;else if(1<fe){for(var le=Array(fe),Se=0;Se<fe;Se++)le[Se]=arguments[Se+2];me.children=le}return k($.type,re,me)},it.createContext=function($){return $={$$typeof:a,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:s,_context:$},$},it.createElement=function($,Y,Ae){var me,re={},fe=null;if(Y!=null)for(me in Y.key!==void 0&&(fe=""+Y.key),Y)H.call(Y,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(re[me]=Y[me]);var le=arguments.length-2;if(le===1)re.children=Ae;else if(1<le){for(var Se=Array(le),Z=0;Z<le;Z++)Se[Z]=arguments[Z+2];re.children=Se}if($&&$.defaultProps)for(me in le=$.defaultProps,le)re[me]===void 0&&(re[me]=le[me]);return k($,fe,re)},it.createRef=function(){return{current:null}},it.forwardRef=function($){return{$$typeof:o,render:$}},it.isValidElement=K,it.lazy=function($){return{$$typeof:d,_payload:{_status:-1,_result:$},_init:te}},it.memo=function($,Y){return{$$typeof:u,type:$,compare:Y===void 0?null:Y}},it.startTransition=function($){var Y=L.T,Ae={};L.T=Ae;try{var me=$(),re=L.S;re!==null&&re(Ae,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(D,he)}catch(fe){he(fe)}finally{Y!==null&&Ae.types!==null&&(Y.types=Ae.types),L.T=Y}},it.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},it.use=function($){return L.H.use($)},it.useActionState=function($,Y,Ae){return L.H.useActionState($,Y,Ae)},it.useCallback=function($,Y){return L.H.useCallback($,Y)},it.useContext=function($){return L.H.useContext($)},it.useDebugValue=function(){},it.useDeferredValue=function($,Y){return L.H.useDeferredValue($,Y)},it.useEffect=function($,Y){return L.H.useEffect($,Y)},it.useEffectEvent=function($){return L.H.useEffectEvent($)},it.useId=function(){return L.H.useId()},it.useImperativeHandle=function($,Y,Ae){return L.H.useImperativeHandle($,Y,Ae)},it.useInsertionEffect=function($,Y){return L.H.useInsertionEffect($,Y)},it.useLayoutEffect=function($,Y){return L.H.useLayoutEffect($,Y)},it.useMemo=function($,Y){return L.H.useMemo($,Y)},it.useOptimistic=function($,Y){return L.H.useOptimistic($,Y)},it.useReducer=function($,Y,Ae){return L.H.useReducer($,Y,Ae)},it.useRef=function($){return L.H.useRef($)},it.useState=function($){return L.H.useState($)},it.useSyncExternalStore=function($,Y,Ae){return L.H.useSyncExternalStore($,Y,Ae)},it.useTransition=function(){return L.H.useTransition()},it.version="19.2.1",it}var QV;function By(){return QV||(QV=1,nU.exports=gre()),nU.exports}var F=By();const tm=OA(F),mre=fre({__proto__:null,default:tm},[F]);var rU={exports:{}},I0={},iU={exports:{}},sU={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kV;function vre(){return kV||(kV=1,(function(n){function e(V,q){var te=V.length;V.push(q);e:for(;0<te;){var he=te-1>>>1,ve=V[he];if(0<i(ve,q))V[he]=q,V[te]=ve,te=he;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var q=V[0],te=V.pop();if(te!==q){V[0]=te;e:for(var he=0,ve=V.length,$=ve>>>1;he<$;){var Y=2*(he+1)-1,Ae=V[Y],me=Y+1,re=V[me];if(0>i(Ae,te))me<ve&&0>i(re,Ae)?(V[he]=re,V[me]=te,he=me):(V[he]=Ae,V[Y]=te,he=Y);else if(me<ve&&0>i(re,te))V[he]=re,V[me]=te,he=me;else break e}}return q}function i(V,q){var te=V.sortIndex-q.sortIndex;return te!==0?te:V.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,g=3,v=!1,C=!1,b=!1,B=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(V){for(var q=t(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=V)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=t(u)}}function M(V){if(b=!1,R(V),!C)if(t(l)!==null)C=!0,D||(D=!0,z());else{var q=t(u);q!==null&&oe(M,q.startTime-V)}}var D=!1,L=-1,H=5,k=-1;function G(){return B?!0:!(n.unstable_now()-k<H)}function K(){if(B=!1,D){var V=n.unstable_now();k=V;var q=!0;try{e:{C=!1,b&&(b=!1,I(L),L=-1),v=!0;var te=g;try{t:{for(R(V),h=t(l);h!==null&&!(h.expirationTime>V&&G());){var he=h.callback;if(typeof he=="function"){h.callback=null,g=h.priorityLevel;var ve=he(h.expirationTime<=V);if(V=n.unstable_now(),typeof ve=="function"){h.callback=ve,R(V),q=!0;break t}h===t(l)&&r(l),R(V)}else r(l);h=t(l)}if(h!==null)q=!0;else{var $=t(u);$!==null&&oe(M,$.startTime-V),q=!1}}break e}finally{h=null,g=te,v=!1}q=void 0}}finally{q?z():D=!1}}}var z;if(typeof T=="function")z=function(){T(K)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ne=J.port2;J.port1.onmessage=K,z=function(){ne.postMessage(null)}}else z=function(){S(K,0)};function oe(V,q){L=S(function(){V(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(V){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var te=g;g=q;try{return V()}finally{g=te}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=g;g=V;try{return q()}finally{g=te}},n.unstable_scheduleCallback=function(V,q,te){var he=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?he+te:he):te=he,V){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=te+ve,V={id:d++,callback:q,priorityLevel:V,startTime:te,expirationTime:ve,sortIndex:-1},te>he?(V.sortIndex=te,e(u,V),t(l)===null&&V===t(u)&&(b?(I(L),L=-1):b=!0,oe(M,te-he))):(V.sortIndex=ve,e(l,V),C||v||(C=!0,D||(D=!0,z()))),V},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(V){var q=g;return function(){var te=g;g=q;try{return V.apply(this,arguments)}finally{g=te}}}})(sU)),sU}var OV;function yre(){return OV||(OV=1,iU.exports=vre()),iU.exports}var aU={exports:{}},Ui={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HV;function wre(){if(HV)return Ui;HV=1;var n=By();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ui.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},Ui.flushSync=function(l){var u=a.T,d=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=u,r.p=d,r.d.f()}},Ui.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Ui.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Ui.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Ui.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Ui.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Ui.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Ui.requestFormReset=function(l){r.d.r(l)},Ui.unstable_batchedUpdates=function(l,u){return l(u)},Ui.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},Ui.useFormStatus=function(){return a.H.useHostTransitionStatus()},Ui.version="19.2.1",Ui}var VV;function Y8(){if(VV)return aU.exports;VV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),aU.exports=wre(),aU.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KV;function bre(){if(KV)return I0;KV=1;var n=yre(),e=By(),t=Y8();function r(A){var c="https://react.dev/errors/"+A;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+A+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var c=A,p=A;if(A.alternate)for(;c.return;)c=c.return;else{A=c;do c=A,(c.flags&4098)!==0&&(p=c.return),A=c.return;while(A)}return c.tag===3?p:null}function a(A){if(A.tag===13){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function o(A){if(A.tag===31){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function l(A){if(s(A)!==A)throw Error(r(188))}function u(A){var c=A.alternate;if(!c){if(c=s(A),c===null)throw Error(r(188));return c!==A?null:A}for(var p=A,m=c;;){var E=p.return;if(E===null)break;var x=E.alternate;if(x===null){if(m=E.return,m!==null){p=m;continue}break}if(E.child===x.child){for(x=E.child;x;){if(x===p)return l(E),A;if(x===m)return l(E),c;x=x.sibling}throw Error(r(188))}if(p.return!==m.return)p=E,m=x;else{for(var N=!1,O=E.child;O;){if(O===p){N=!0,p=E,m=x;break}if(O===m){N=!0,m=E,p=x;break}O=O.sibling}if(!N){for(O=x.child;O;){if(O===p){N=!0,p=x,m=E;break}if(O===m){N=!0,m=x,p=E;break}O=O.sibling}if(!N)throw Error(r(189))}}if(p.alternate!==m)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?A:c}function d(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A;for(A=A.child;A!==null;){if(c=d(A),c!==null)return c;A=A.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function z(A){return A===null||typeof A!="object"?null:(A=K&&A[K]||A["@@iterator"],typeof A=="function"?A:null)}var J=Symbol.for("react.client.reference");function ne(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===J?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case b:return"Fragment";case S:return"Profiler";case B:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case k:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case C:return"Portal";case T:return A.displayName||"Context";case I:return(A._context.displayName||"Context")+".Consumer";case R:var c=A.render;return A=A.displayName,A||(A=c.displayName||c.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case L:return c=A.displayName||null,c!==null?c:ne(A.type)||"Memo";case H:c=A._payload,A=A._init;try{return ne(A(c))}catch{}}return null}var oe=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},he=[],ve=-1;function $(A){return{current:A}}function Y(A){0>ve||(A.current=he[ve],he[ve]=null,ve--)}function Ae(A,c){ve++,he[ve]=A.current,A.current=c}var me=$(null),re=$(null),fe=$(null),le=$(null);function Se(A,c){switch(Ae(fe,c),Ae(re,A),Ae(me,null),c.nodeType){case 9:case 11:A=(A=c.documentElement)&&(A=A.namespaceURI)?rV(A):0;break;default:if(A=c.tagName,c=c.namespaceURI)c=rV(c),A=iV(c,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}Y(me),Ae(me,A)}function Z(){Y(me),Y(re),Y(fe)}function Ue(A){A.memoizedState!==null&&Ae(le,A);var c=me.current,p=iV(c,A.type);c!==p&&(Ae(re,A),Ae(me,p))}function Ie(A){re.current===A&&(Y(me),Y(re)),le.current===A&&(Y(le),B0._currentValue=te)}var ye,vt;function qe(A){if(ye===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);ye=c&&c[1]||"",vt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+A+vt}var Vt=!1;function It(A,c){if(!A||Vt)return"";Vt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ue){var ae=ue}Reflect.construct(A,[],Ce)}else{try{Ce.call()}catch(ue){ae=ue}A.call(Ce.prototype)}}else{try{throw Error()}catch(ue){ae=ue}(Ce=A())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ue){if(ue&&ae&&typeof ue.stack=="string")return[ue.stack,ae.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),N=x[0],O=x[1];if(N&&O){var j=N.split(`
`),se=O.split(`
`);for(E=m=0;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;for(;E<se.length&&!se[E].includes("DetermineComponentFrameRoot");)E++;if(m===j.length||E===se.length)for(m=j.length-1,E=se.length-1;1<=m&&0<=E&&j[m]!==se[E];)E--;for(;1<=m&&0<=E;m--,E--)if(j[m]!==se[E]){if(m!==1||E!==1)do if(m--,E--,0>E||j[m]!==se[E]){var ge=`
`+j[m].replace(" at new "," at ");return A.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",A.displayName)),ge}while(1<=m&&0<=E);break}}}finally{Vt=!1,Error.prepareStackTrace=p}return(p=A?A.displayName||A.name:"")?qe(p):""}function Kn(A,c){switch(A.tag){case 26:case 27:case 5:return qe(A.type);case 16:return qe("Lazy");case 13:return A.child!==c&&c!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return It(A.type,!1);case 11:return It(A.type.render,!1);case 1:return It(A.type,!0);case 31:return qe("Activity");default:return""}}function rt(A){try{var c="",p=null;do c+=Kn(A,p),p=A,A=A.return;while(A);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var wr=Object.prototype.hasOwnProperty,Wn=n.unstable_scheduleCallback,Xt=n.unstable_cancelCallback,wa=n.unstable_shouldYield,ba=n.unstable_requestPaint,Jt=n.unstable_now,xe=n.unstable_getCurrentPriorityLevel,ee=n.unstable_ImmediatePriority,Be=n.unstable_UserBlockingPriority,Pe=n.unstable_NormalPriority,gt=n.unstable_LowPriority,Ke=n.unstable_IdlePriority,dn=n.log,Ft=n.unstable_setDisableYieldValue,bn=null,St=null;function Ar(A){if(typeof dn=="function"&&Ft(A),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(bn,A)}catch{}}var br=Math.clz32?Math.clz32:et,be=Math.log,Le=Math.LN2;function et(A){return A>>>=0,A===0?32:31-(be(A)/Le|0)|0}var Mt=256,Cn=262144,fn=4194304;function Zt(A){var c=A&42;if(c!==0)return c;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function En(A,c,p){var m=A.pendingLanes;if(m===0)return 0;var E=0,x=A.suspendedLanes,N=A.pingedLanes;A=A.warmLanes;var O=m&134217727;return O!==0?(m=O&~x,m!==0?E=Zt(m):(N&=O,N!==0?E=Zt(N):p||(p=O&~A,p!==0&&(E=Zt(p))))):(O=m&~x,O!==0?E=Zt(O):N!==0?E=Zt(N):p||(p=m&~A,p!==0&&(E=Zt(p)))),E===0?0:c!==0&&c!==E&&(c&x)===0&&(x=E&-E,p=c&-c,x>=p||x===32&&(p&4194048)!==0)?c:E}function Bn(A,c){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&c)===0}function Ca(A,c){switch(A){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yn(){var A=fn;return fn<<=1,(fn&62914560)===0&&(fn=4194304),A}function Ea(A){for(var c=[],p=0;31>p;p++)c.push(A);return c}function Fi(A,c){A.pendingLanes|=c,c!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function jo(A,c,p,m,E,x){var N=A.pendingLanes;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=p,A.entangledLanes&=p,A.errorRecoveryDisabledLanes&=p,A.shellSuspendCounter=0;var O=A.entanglements,j=A.expirationTimes,se=A.hiddenUpdates;for(p=N&~p;0<p;){var ge=31-br(p),Ce=1<<ge;O[ge]=0,j[ge]=-1;var ae=se[ge];if(ae!==null)for(se[ge]=null,ge=0;ge<ae.length;ge++){var ue=ae[ge];ue!==null&&(ue.lane&=-536870913)}p&=~Ce}m!==0&&of(A,m,0),x!==0&&E===0&&A.tag!==0&&(A.suspendedLanes|=x&~(N&~c))}function of(A,c,p){A.pendingLanes|=c,A.suspendedLanes&=~c;var m=31-br(c);A.entangledLanes|=c,A.entanglements[m]=A.entanglements[m]|1073741824|p&261930}function Qp(A,c){var p=A.entangledLanes|=c;for(A=A.entanglements;p;){var m=31-br(p),E=1<<m;E&c|A[m]&c&&(A[m]|=c),p&=~E}}function zi(A,c){var p=c&-c;return p=(p&42)!==0?1:Qy(p),(p&(A.suspendedLanes|c))!==0?0:p}function Qy(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function kp(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function SB(){var A=q.p;return A!==0?A:(A=window.event,A===void 0?32:_V(A.type))}function xB(A,c){var p=q.p;try{return q.p=A,c()}finally{q.p=p}}var Us=Math.random().toString(36).slice(2),Dr="__reactFiber$"+Us,Mi="__reactProps$"+Us,KA="__reactContainer$"+Us,ky="__reactEvents$"+Us,_B="__reactListeners$"+Us,$I="__reactHandles$"+Us,TB="__reactResources$"+Us,Af="__reactMarker$"+Us;function Oy(A){delete A[Dr],delete A[Mi],delete A[ky],delete A[_B],delete A[$I]}function GA(A){var c=A[Dr];if(c)return c;for(var p=A.parentNode;p;){if(c=p[KA]||p[Dr]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(A=cV(A);A!==null;){if(p=A[Dr])return p;A=cV(A)}return c}A=p,p=A.parentNode}return null}function ju(A){if(A=A[Dr]||A[KA]){var c=A.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return A}return null}function lf(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A.stateNode;throw Error(r(33))}function Wu(A){var c=A[TB];return c||(c=A[TB]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Cr(A){A[Af]=!0}var Op=new Set,IB={};function zA(A,c){Ps(A,c),Ps(A+"Capture",c)}function Ps(A,c){for(IB[A]=c,A=0;A<c.length;A++)Op.add(c[A])}var qI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),FB={},MB={};function pe(A){return wr.call(MB,A)?!0:wr.call(FB,A)?!1:qI.test(A)?MB[A]=!0:(FB[A]=!0,!1)}function _e(A,c,p){if(pe(c))if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":A.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){A.removeAttribute(c);return}}A.setAttribute(c,""+p)}}function Te(A,c,p){if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(c);return}A.setAttribute(c,""+p)}}function Fe(A,c,p,m){if(m===null)A.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(p);return}A.setAttributeNS(c,p,""+m)}}function tt(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function Xn(A){var c=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Gn(A,c,p){var m=Object.getOwnPropertyDescriptor(A.constructor.prototype,c);if(!A.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,x=m.set;return Object.defineProperty(A,c,{configurable:!0,get:function(){return E.call(this)},set:function(N){p=""+N,x.call(this,N)}}),Object.defineProperty(A,c,{enumerable:m.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){A._valueTracker=null,delete A[c]}}}}function Sn(A){if(!A._valueTracker){var c=Xn(A)?"checked":"value";A._valueTracker=Gn(A,c,""+A[c])}}function Wo(A){if(!A)return!1;var c=A._valueTracker;if(!c)return!0;var p=c.getValue(),m="";return A&&(m=Xn(A)?A.checked?"true":"false":A.value),A=m,A!==p?(c.setValue(A),!0):!1}function uf(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var ste=/[\n"\\]/g;function Ba(A){return A.replace(ste,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function jI(A,c,p,m,E,x,N,O){A.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?A.type=N:A.removeAttribute("type"),c!=null?N==="number"?(c===0&&A.value===""||A.value!=c)&&(A.value=""+tt(c)):A.value!==""+tt(c)&&(A.value=""+tt(c)):N!=="submit"&&N!=="reset"||A.removeAttribute("value"),c!=null?WI(A,N,tt(c)):p!=null?WI(A,N,tt(p)):m!=null&&A.removeAttribute("value"),E==null&&x!=null&&(A.defaultChecked=!!x),E!=null&&(A.checked=E&&typeof E!="function"&&typeof E!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?A.name=""+tt(O):A.removeAttribute("name")}function XO(A,c,p,m,E,x,N,O){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(A.type=x),c!=null||p!=null){if(!(x!=="submit"&&x!=="reset"||c!=null)){Sn(A);return}p=p!=null?""+tt(p):"",c=c!=null?""+tt(c):p,O||c===A.value||(A.value=c),A.defaultValue=c}m=m??E,m=typeof m!="function"&&typeof m!="symbol"&&!!m,A.checked=O?A.checked:!!m,A.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(A.name=N),Sn(A)}function WI(A,c,p){c==="number"&&uf(A.ownerDocument)===A||A.defaultValue===""+p||(A.defaultValue=""+p)}function Hp(A,c,p,m){if(A=A.options,c){c={};for(var E=0;E<p.length;E++)c["$"+p[E]]=!0;for(p=0;p<A.length;p++)E=c.hasOwnProperty("$"+A[p].value),A[p].selected!==E&&(A[p].selected=E),E&&m&&(A[p].defaultSelected=!0)}else{for(p=""+tt(p),c=null,E=0;E<A.length;E++){if(A[E].value===p){A[E].selected=!0,m&&(A[E].defaultSelected=!0);return}c!==null||A[E].disabled||(c=A[E])}c!==null&&(c.selected=!0)}}function JO(A,c,p){if(c!=null&&(c=""+tt(c),c!==A.value&&(A.value=c),p==null)){A.defaultValue!==c&&(A.defaultValue=c);return}A.defaultValue=p!=null?""+tt(p):""}function ZO(A,c,p,m){if(c==null){if(m!=null){if(p!=null)throw Error(r(92));if(oe(m)){if(1<m.length)throw Error(r(93));m=m[0]}p=m}p==null&&(p=""),c=p}p=tt(c),A.defaultValue=p,m=A.textContent,m===p&&m!==""&&m!==null&&(A.value=m),Sn(A)}function Vp(A,c){if(c){var p=A.firstChild;if(p&&p===A.lastChild&&p.nodeType===3){p.nodeValue=c;return}}A.textContent=c}var ate=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function e2(A,c,p){var m=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?m?A.setProperty(c,""):c==="float"?A.cssFloat="":A[c]="":m?A.setProperty(c,p):typeof p!="number"||p===0||ate.has(c)?c==="float"?A.cssFloat=p:A[c]=(""+p).trim():A[c]=p+"px"}function t2(A,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(A=A.style,p!=null){for(var m in p)!p.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?A.setProperty(m,""):m==="float"?A.cssFloat="":A[m]="");for(var E in c)m=c[E],c.hasOwnProperty(E)&&p[E]!==m&&e2(A,E,m)}else for(var x in c)c.hasOwnProperty(x)&&e2(A,x,c[x])}function YI(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ote=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ate=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function UB(A){return Ate.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function $A(){}var XI=null;function JI(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Kp=null,Gp=null;function n2(A){var c=ju(A);if(c&&(A=c.stateNode)){var p=A[Mi]||null;e:switch(A=c.stateNode,c.type){case"input":if(jI(A,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=A;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Ba(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var m=p[c];if(m!==A&&m.form===A.form){var E=m[Mi]||null;if(!E)throw Error(r(90));jI(m,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<p.length;c++)m=p[c],m.form===A.form&&Wo(m)}break e;case"textarea":JO(A,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Hp(A,!!p.multiple,c,!1)}}}var ZI=!1;function r2(A,c,p){if(ZI)return A(c,p);ZI=!0;try{var m=A(c);return m}finally{if(ZI=!1,(Kp!==null||Gp!==null)&&(yS(),Kp&&(c=Kp,A=Gp,Gp=Kp=null,n2(c),A)))for(c=0;c<A.length;c++)n2(A[c])}}function Hy(A,c){var p=A.stateNode;if(p===null)return null;var m=p[Mi]||null;if(m===null)return null;p=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(A=A.type,m=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!m;break e;default:A=!1}if(A)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var qA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eF=!1;if(qA)try{var Vy={};Object.defineProperty(Vy,"passive",{get:function(){eF=!0}}),window.addEventListener("test",Vy,Vy),window.removeEventListener("test",Vy,Vy)}catch{eF=!1}var Yu=null,tF=null,PB=null;function i2(){if(PB)return PB;var A,c=tF,p=c.length,m,E="value"in Yu?Yu.value:Yu.textContent,x=E.length;for(A=0;A<p&&c[A]===E[A];A++);var N=p-A;for(m=1;m<=N&&c[p-m]===E[x-m];m++);return PB=E.slice(A,1<m?1-m:void 0)}function RB(A){var c=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&c===13&&(A=13)):A=c,A===10&&(A=13),32<=A||A===13?A:0}function DB(){return!0}function s2(){return!1}function As(A){function c(p,m,E,x,N){this._reactName=p,this._targetInst=E,this.type=m,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var O in A)A.hasOwnProperty(O)&&(p=A[O],this[O]=p?p(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?DB:s2,this.isPropagationStopped=s2,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=DB)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=DB)},persist:function(){},isPersistent:DB}),c}var cf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},NB=As(cf),Ky=h({},cf,{view:0,detail:0}),lte=As(Ky),nF,rF,Gy,LB=h({},Ky,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sF,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Gy&&(Gy&&A.type==="mousemove"?(nF=A.screenX-Gy.screenX,rF=A.screenY-Gy.screenY):rF=nF=0,Gy=A),nF)},movementY:function(A){return"movementY"in A?A.movementY:rF}}),a2=As(LB),ute=h({},LB,{dataTransfer:0}),cte=As(ute),dte=h({},Ky,{relatedTarget:0}),iF=As(dte),fte=h({},cf,{animationName:0,elapsedTime:0,pseudoElement:0}),hte=As(fte),pte=h({},cf,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),gte=As(pte),mte=h({},cf,{data:0}),o2=As(mte),vte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bte(A){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(A):(A=wte[A])?!!c[A]:!1}function sF(){return bte}var Cte=h({},Ky,{key:function(A){if(A.key){var c=vte[A.key]||A.key;if(c!=="Unidentified")return c}return A.type==="keypress"?(A=RB(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?yte[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sF,charCode:function(A){return A.type==="keypress"?RB(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?RB(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),Ete=As(Cte),Bte=h({},LB,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A2=As(Bte),Ste=h({},Ky,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sF}),xte=As(Ste),_te=h({},cf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tte=As(_te),Ite=h({},LB,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),Fte=As(Ite),Mte=h({},cf,{newState:0,oldState:0}),Ute=As(Mte),Pte=[9,13,27,32],aF=qA&&"CompositionEvent"in window,zy=null;qA&&"documentMode"in document&&(zy=document.documentMode);var Rte=qA&&"TextEvent"in window&&!zy,l2=qA&&(!aF||zy&&8<zy&&11>=zy),u2=" ",c2=!1;function d2(A,c){switch(A){case"keyup":return Pte.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f2(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var zp=!1;function Dte(A,c){switch(A){case"compositionend":return f2(c);case"keypress":return c.which!==32?null:(c2=!0,u2);case"textInput":return A=c.data,A===u2&&c2?null:A;default:return null}}function Nte(A,c){if(zp)return A==="compositionend"||!aF&&d2(A,c)?(A=i2(),PB=tF=Yu=null,zp=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return l2&&c.locale!=="ko"?null:c.data;default:return null}}var Lte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h2(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c==="input"?!!Lte[A.type]:c==="textarea"}function p2(A,c,p,m){Kp?Gp?Gp.push(m):Gp=[m]:Kp=m,c=xS(c,"onChange"),0<c.length&&(p=new NB("onChange","change",null,p,m),A.push({event:p,listeners:c}))}var $y=null,qy=null;function Qte(A){X4(A,0)}function QB(A){var c=lf(A);if(Wo(c))return A}function g2(A,c){if(A==="change")return c}var m2=!1;if(qA){var oF;if(qA){var AF="oninput"in document;if(!AF){var v2=document.createElement("div");v2.setAttribute("oninput","return;"),AF=typeof v2.oninput=="function"}oF=AF}else oF=!1;m2=oF&&(!document.documentMode||9<document.documentMode)}function y2(){$y&&($y.detachEvent("onpropertychange",w2),qy=$y=null)}function w2(A){if(A.propertyName==="value"&&QB(qy)){var c=[];p2(c,qy,A,JI(A)),r2(Qte,c)}}function kte(A,c,p){A==="focusin"?(y2(),$y=c,qy=p,$y.attachEvent("onpropertychange",w2)):A==="focusout"&&y2()}function Ote(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return QB(qy)}function Hte(A,c){if(A==="click")return QB(c)}function Vte(A,c){if(A==="input"||A==="change")return QB(c)}function Kte(A,c){return A===c&&(A!==0||1/A===1/c)||A!==A&&c!==c}var Rs=typeof Object.is=="function"?Object.is:Kte;function jy(A,c){if(Rs(A,c))return!0;if(typeof A!="object"||A===null||typeof c!="object"||c===null)return!1;var p=Object.keys(A),m=Object.keys(c);if(p.length!==m.length)return!1;for(m=0;m<p.length;m++){var E=p[m];if(!wr.call(c,E)||!Rs(A[E],c[E]))return!1}return!0}function b2(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function C2(A,c){var p=b2(A);A=0;for(var m;p;){if(p.nodeType===3){if(m=A+p.textContent.length,A<=c&&m>=c)return{node:p,offset:c-A};A=m}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=b2(p)}}function E2(A,c){return A&&c?A===c?!0:A&&A.nodeType===3?!1:c&&c.nodeType===3?E2(A,c.parentNode):"contains"in A?A.contains(c):A.compareDocumentPosition?!!(A.compareDocumentPosition(c)&16):!1:!1}function B2(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var c=uf(A.document);c instanceof A.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)A=c.contentWindow;else break;c=uf(A.document)}return c}function lF(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c&&(c==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||c==="textarea"||A.contentEditable==="true")}var Gte=qA&&"documentMode"in document&&11>=document.documentMode,$p=null,uF=null,Wy=null,cF=!1;function S2(A,c,p){var m=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;cF||$p==null||$p!==uf(m)||(m=$p,"selectionStart"in m&&lF(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Wy&&jy(Wy,m)||(Wy=m,m=xS(uF,"onSelect"),0<m.length&&(c=new NB("onSelect","select",null,c,p),A.push({event:c,listeners:m}),c.target=$p)))}function df(A,c){var p={};return p[A.toLowerCase()]=c.toLowerCase(),p["Webkit"+A]="webkit"+c,p["Moz"+A]="moz"+c,p}var qp={animationend:df("Animation","AnimationEnd"),animationiteration:df("Animation","AnimationIteration"),animationstart:df("Animation","AnimationStart"),transitionrun:df("Transition","TransitionRun"),transitionstart:df("Transition","TransitionStart"),transitioncancel:df("Transition","TransitionCancel"),transitionend:df("Transition","TransitionEnd")},dF={},x2={};qA&&(x2=document.createElement("div").style,"AnimationEvent"in window||(delete qp.animationend.animation,delete qp.animationiteration.animation,delete qp.animationstart.animation),"TransitionEvent"in window||delete qp.transitionend.transition);function ff(A){if(dF[A])return dF[A];if(!qp[A])return A;var c=qp[A],p;for(p in c)if(c.hasOwnProperty(p)&&p in x2)return dF[A]=c[p];return A}var _2=ff("animationend"),T2=ff("animationiteration"),I2=ff("animationstart"),zte=ff("transitionrun"),$te=ff("transitionstart"),qte=ff("transitioncancel"),F2=ff("transitionend"),M2=new Map,fF="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fF.push("scrollEnd");function go(A,c){M2.set(A,c),zA(c,[A])}var kB=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Sa=[],jp=0,hF=0;function OB(){for(var A=jp,c=hF=jp=0;c<A;){var p=Sa[c];Sa[c++]=null;var m=Sa[c];Sa[c++]=null;var E=Sa[c];Sa[c++]=null;var x=Sa[c];if(Sa[c++]=null,m!==null&&E!==null){var N=m.pending;N===null?E.next=E:(E.next=N.next,N.next=E),m.pending=E}x!==0&&U2(p,E,x)}}function HB(A,c,p,m){Sa[jp++]=A,Sa[jp++]=c,Sa[jp++]=p,Sa[jp++]=m,hF|=m,A.lanes|=m,A=A.alternate,A!==null&&(A.lanes|=m)}function pF(A,c,p,m){return HB(A,c,p,m),VB(A)}function hf(A,c){return HB(A,null,null,c),VB(A)}function U2(A,c,p){A.lanes|=p;var m=A.alternate;m!==null&&(m.lanes|=p);for(var E=!1,x=A.return;x!==null;)x.childLanes|=p,m=x.alternate,m!==null&&(m.childLanes|=p),x.tag===22&&(A=x.stateNode,A===null||A._visibility&1||(E=!0)),A=x,x=x.return;return A.tag===3?(x=A.stateNode,E&&c!==null&&(E=31-br(p),A=x.hiddenUpdates,m=A[E],m===null?A[E]=[c]:m.push(c),c.lane=p|536870912),x):null}function VB(A){if(50<m0)throw m0=0,BM=null,Error(r(185));for(var c=A.return;c!==null;)A=c,c=A.return;return A.tag===3?A.stateNode:null}var Wp={};function jte(A,c,p,m){this.tag=A,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(A,c,p,m){return new jte(A,c,p,m)}function gF(A){return A=A.prototype,!(!A||!A.isReactComponent)}function jA(A,c){var p=A.alternate;return p===null?(p=Ds(A.tag,c,A.key,A.mode),p.elementType=A.elementType,p.type=A.type,p.stateNode=A.stateNode,p.alternate=A,A.alternate=p):(p.pendingProps=c,p.type=A.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=A.flags&65011712,p.childLanes=A.childLanes,p.lanes=A.lanes,p.child=A.child,p.memoizedProps=A.memoizedProps,p.memoizedState=A.memoizedState,p.updateQueue=A.updateQueue,c=A.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=A.sibling,p.index=A.index,p.ref=A.ref,p.refCleanup=A.refCleanup,p}function P2(A,c){A.flags&=65011714;var p=A.alternate;return p===null?(A.childLanes=0,A.lanes=c,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,A.type=p.type,c=p.dependencies,A.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),A}function KB(A,c,p,m,E,x){var N=0;if(m=A,typeof A=="function")gF(A)&&(N=1);else if(typeof A=="string")N=Zne(A,p,me.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case k:return A=Ds(31,p,c,E),A.elementType=k,A.lanes=x,A;case b:return pf(p.children,E,x,c);case B:N=8,E|=24;break;case S:return A=Ds(12,p,c,E|2),A.elementType=S,A.lanes=x,A;case M:return A=Ds(13,p,c,E),A.elementType=M,A.lanes=x,A;case D:return A=Ds(19,p,c,E),A.elementType=D,A.lanes=x,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case T:N=10;break e;case I:N=9;break e;case R:N=11;break e;case L:N=14;break e;case H:N=16,m=null;break e}N=29,p=Error(r(130,A===null?"null":typeof A,"")),m=null}return c=Ds(N,p,c,E),c.elementType=A,c.type=m,c.lanes=x,c}function pf(A,c,p,m){return A=Ds(7,A,m,c),A.lanes=p,A}function mF(A,c,p){return A=Ds(6,A,null,c),A.lanes=p,A}function R2(A){var c=Ds(18,null,null,0);return c.stateNode=A,c}function vF(A,c,p){return c=Ds(4,A.children!==null?A.children:[],A.key,c),c.lanes=p,c.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},c}var D2=new WeakMap;function xa(A,c){if(typeof A=="object"&&A!==null){var p=D2.get(A);return p!==void 0?p:(c={value:A,source:c,stack:rt(c)},D2.set(A,c),c)}return{value:A,source:c,stack:rt(c)}}var Yp=[],Xp=0,GB=null,Yy=0,_a=[],Ta=0,Xu=null,Yo=1,Xo="";function WA(A,c){Yp[Xp++]=Yy,Yp[Xp++]=GB,GB=A,Yy=c}function N2(A,c,p){_a[Ta++]=Yo,_a[Ta++]=Xo,_a[Ta++]=Xu,Xu=A;var m=Yo;A=Xo;var E=32-br(m)-1;m&=~(1<<E),p+=1;var x=32-br(c)+E;if(30<x){var N=E-E%5;x=(m&(1<<N)-1).toString(32),m>>=N,E-=N,Yo=1<<32-br(c)+E|p<<E|m,Xo=x+A}else Yo=1<<x|p<<E|m,Xo=A}function yF(A){A.return!==null&&(WA(A,1),N2(A,1,0))}function wF(A){for(;A===GB;)GB=Yp[--Xp],Yp[Xp]=null,Yy=Yp[--Xp],Yp[Xp]=null;for(;A===Xu;)Xu=_a[--Ta],_a[Ta]=null,Xo=_a[--Ta],_a[Ta]=null,Yo=_a[--Ta],_a[Ta]=null}function L2(A,c){_a[Ta++]=Yo,_a[Ta++]=Xo,_a[Ta++]=Xu,Yo=c.id,Xo=c.overflow,Xu=A}var ui=null,Mn=null,xt=!1,Ju=null,Ia=!1,bF=Error(r(519));function Zu(A){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xy(xa(c,A)),bF}function Q2(A){var c=A.stateNode,p=A.type,m=A.memoizedProps;switch(c[Dr]=A,c[Mi]=m,p){case"dialog":wt("cancel",c),wt("close",c);break;case"iframe":case"object":case"embed":wt("load",c);break;case"video":case"audio":for(p=0;p<y0.length;p++)wt(y0[p],c);break;case"source":wt("error",c);break;case"img":case"image":case"link":wt("error",c),wt("load",c);break;case"details":wt("toggle",c);break;case"input":wt("invalid",c),XO(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":wt("invalid",c);break;case"textarea":wt("invalid",c),ZO(c,m.value,m.defaultValue,m.children)}p=m.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||m.suppressHydrationWarning===!0||tV(c.textContent,p)?(m.popover!=null&&(wt("beforetoggle",c),wt("toggle",c)),m.onScroll!=null&&wt("scroll",c),m.onScrollEnd!=null&&wt("scrollend",c),m.onClick!=null&&(c.onclick=$A),c=!0):c=!1,c||Zu(A,!0)}function k2(A){for(ui=A.return;ui;)switch(ui.tag){case 5:case 31:case 13:Ia=!1;return;case 27:case 3:Ia=!0;return;default:ui=ui.return}}function Jp(A){if(A!==ui)return!1;if(!xt)return k2(A),xt=!0,!1;var c=A.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=A.type,p=!(p!=="form"&&p!=="button")||kM(A.type,A.memoizedProps)),p=!p),p&&Mn&&Zu(A),k2(A),c===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));Mn=uV(A)}else if(c===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));Mn=uV(A)}else c===27?(c=Mn,fc(A.type)?(A=GM,GM=null,Mn=A):Mn=c):Mn=ui?Ma(A.stateNode.nextSibling):null;return!0}function gf(){Mn=ui=null,xt=!1}function CF(){var A=Ju;return A!==null&&(ds===null?ds=A:ds.push.apply(ds,A),Ju=null),A}function Xy(A){Ju===null?Ju=[A]:Ju.push(A)}var EF=$(null),mf=null,YA=null;function ec(A,c,p){Ae(EF,c._currentValue),c._currentValue=p}function XA(A){A._currentValue=EF.current,Y(EF)}function BF(A,c,p){for(;A!==null;){var m=A.alternate;if((A.childLanes&c)!==c?(A.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),A===p)break;A=A.return}}function SF(A,c,p,m){var E=A.child;for(E!==null&&(E.return=A);E!==null;){var x=E.dependencies;if(x!==null){var N=E.child;x=x.firstContext;e:for(;x!==null;){var O=x;x=E;for(var j=0;j<c.length;j++)if(O.context===c[j]){x.lanes|=p,O=x.alternate,O!==null&&(O.lanes|=p),BF(x.return,p,A),m||(N=null);break e}x=O.next}}else if(E.tag===18){if(N=E.return,N===null)throw Error(r(341));N.lanes|=p,x=N.alternate,x!==null&&(x.lanes|=p),BF(N,p,A),N=null}else N=E.child;if(N!==null)N.return=E;else for(N=E;N!==null;){if(N===A){N=null;break}if(E=N.sibling,E!==null){E.return=N.return,N=E;break}N=N.return}E=N}}function Zp(A,c,p,m){A=null;for(var E=c,x=!1;E!==null;){if(!x){if((E.flags&524288)!==0)x=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var N=E.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var O=E.type;Rs(E.pendingProps.value,N.value)||(A!==null?A.push(O):A=[O])}}else if(E===le.current){if(N=E.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(A!==null?A.push(B0):A=[B0])}E=E.return}A!==null&&SF(c,A,p,m),c.flags|=262144}function zB(A){for(A=A.firstContext;A!==null;){if(!Rs(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function vf(A){mf=A,YA=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function ci(A){return O2(mf,A)}function $B(A,c){return mf===null&&vf(A),O2(A,c)}function O2(A,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},YA===null){if(A===null)throw Error(r(308));YA=c,A.dependencies={lanes:0,firstContext:c},A.flags|=524288}else YA=YA.next=c;return p}var Wte=typeof AbortController<"u"?AbortController:function(){var A=[],c=this.signal={aborted:!1,addEventListener:function(p,m){A.push(m)}};this.abort=function(){c.aborted=!0,A.forEach(function(p){return p()})}},Yte=n.unstable_scheduleCallback,Xte=n.unstable_NormalPriority,Er={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xF(){return{controller:new Wte,data:new Map,refCount:0}}function Jy(A){A.refCount--,A.refCount===0&&Yte(Xte,function(){A.controller.abort()})}var Zy=null,_F=0,eg=0,tg=null;function Jte(A,c){if(Zy===null){var p=Zy=[];_F=0,eg=FM(),tg={status:"pending",value:void 0,then:function(m){p.push(m)}}}return _F++,c.then(H2,H2),c}function H2(){if(--_F===0&&Zy!==null){tg!==null&&(tg.status="fulfilled");var A=Zy;Zy=null,eg=0,tg=null;for(var c=0;c<A.length;c++)(0,A[c])()}}function Zte(A,c){var p=[],m={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return A.then(function(){m.status="fulfilled",m.value=c;for(var E=0;E<p.length;E++)(0,p[E])(c)},function(E){for(m.status="rejected",m.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),m}var V2=V.S;V.S=function(A,c){S4=Jt(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Jte(A,c),V2!==null&&V2(A,c)};var yf=$(null);function TF(){var A=yf.current;return A!==null?A:hn.pooledCache}function qB(A,c){c===null?Ae(yf,yf.current):Ae(yf,c.pool)}function K2(){var A=TF();return A===null?null:{parent:Er._currentValue,pool:A}}var ng=Error(r(460)),IF=Error(r(474)),jB=Error(r(542)),WB={then:function(){}};function G2(A){return A=A.status,A==="fulfilled"||A==="rejected"}function z2(A,c,p){switch(p=A[p],p===void 0?A.push(c):p!==c&&(c.then($A,$A),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,q2(A),A;default:if(typeof c.status=="string")c.then($A,$A);else{if(A=hn,A!==null&&100<A.shellSuspendCounter)throw Error(r(482));A=c,A.status="pending",A.then(function(m){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=m}},function(m){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,q2(A),A}throw bf=c,ng}}function wf(A){try{var c=A._init;return c(A._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(bf=p,ng):p}}var bf=null;function $2(){if(bf===null)throw Error(r(459));var A=bf;return bf=null,A}function q2(A){if(A===ng||A===jB)throw Error(r(483))}var rg=null,e0=0;function YB(A){var c=e0;return e0+=1,rg===null&&(rg=[]),z2(rg,A,c)}function t0(A,c){c=c.props.ref,A.ref=c!==void 0?c:null}function XB(A,c){throw c.$$typeof===g?Error(r(525)):(A=Object.prototype.toString.call(c),Error(r(31,A==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":A)))}function j2(A){function c(X,W){if(A){var ie=X.deletions;ie===null?(X.deletions=[W],X.flags|=16):ie.push(W)}}function p(X,W){if(!A)return null;for(;W!==null;)c(X,W),W=W.sibling;return null}function m(X){for(var W=new Map;X!==null;)X.key!==null?W.set(X.key,X):W.set(X.index,X),X=X.sibling;return W}function E(X,W){return X=jA(X,W),X.index=0,X.sibling=null,X}function x(X,W,ie){return X.index=ie,A?(ie=X.alternate,ie!==null?(ie=ie.index,ie<W?(X.flags|=67108866,W):ie):(X.flags|=67108866,W)):(X.flags|=1048576,W)}function N(X){return A&&X.alternate===null&&(X.flags|=67108866),X}function O(X,W,ie,we){return W===null||W.tag!==6?(W=mF(ie,X.mode,we),W.return=X,W):(W=E(W,ie),W.return=X,W)}function j(X,W,ie,we){var We=ie.type;return We===b?ge(X,W,ie.props.children,we,ie.key):W!==null&&(W.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===H&&wf(We)===W.type)?(W=E(W,ie.props),t0(W,ie),W.return=X,W):(W=KB(ie.type,ie.key,ie.props,null,X.mode,we),t0(W,ie),W.return=X,W)}function se(X,W,ie,we){return W===null||W.tag!==4||W.stateNode.containerInfo!==ie.containerInfo||W.stateNode.implementation!==ie.implementation?(W=vF(ie,X.mode,we),W.return=X,W):(W=E(W,ie.children||[]),W.return=X,W)}function ge(X,W,ie,we,We){return W===null||W.tag!==7?(W=pf(ie,X.mode,we,We),W.return=X,W):(W=E(W,ie),W.return=X,W)}function Ce(X,W,ie){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=mF(""+W,X.mode,ie),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return ie=KB(W.type,W.key,W.props,null,X.mode,ie),t0(ie,W),ie.return=X,ie;case C:return W=vF(W,X.mode,ie),W.return=X,W;case H:return W=wf(W),Ce(X,W,ie)}if(oe(W)||z(W))return W=pf(W,X.mode,ie,null),W.return=X,W;if(typeof W.then=="function")return Ce(X,YB(W),ie);if(W.$$typeof===T)return Ce(X,$B(X,W),ie);XB(X,W)}return null}function ae(X,W,ie,we){var We=W!==null?W.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return We!==null?null:O(X,W,""+ie,we);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return ie.key===We?j(X,W,ie,we):null;case C:return ie.key===We?se(X,W,ie,we):null;case H:return ie=wf(ie),ae(X,W,ie,we)}if(oe(ie)||z(ie))return We!==null?null:ge(X,W,ie,we,null);if(typeof ie.then=="function")return ae(X,W,YB(ie),we);if(ie.$$typeof===T)return ae(X,W,$B(X,ie),we);XB(X,ie)}return null}function ue(X,W,ie,we,We){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return X=X.get(ie)||null,O(W,X,""+we,We);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case v:return X=X.get(we.key===null?ie:we.key)||null,j(W,X,we,We);case C:return X=X.get(we.key===null?ie:we.key)||null,se(W,X,we,We);case H:return we=wf(we),ue(X,W,ie,we,We)}if(oe(we)||z(we))return X=X.get(ie)||null,ge(W,X,we,We,null);if(typeof we.then=="function")return ue(X,W,ie,YB(we),We);if(we.$$typeof===T)return ue(X,W,ie,$B(W,we),We);XB(W,we)}return null}function He(X,W,ie,we){for(var We=null,Dt=null,Ge=W,dt=W=0,Ct=null;Ge!==null&&dt<ie.length;dt++){Ge.index>dt?(Ct=Ge,Ge=null):Ct=Ge.sibling;var Nt=ae(X,Ge,ie[dt],we);if(Nt===null){Ge===null&&(Ge=Ct);break}A&&Ge&&Nt.alternate===null&&c(X,Ge),W=x(Nt,W,dt),Dt===null?We=Nt:Dt.sibling=Nt,Dt=Nt,Ge=Ct}if(dt===ie.length)return p(X,Ge),xt&&WA(X,dt),We;if(Ge===null){for(;dt<ie.length;dt++)Ge=Ce(X,ie[dt],we),Ge!==null&&(W=x(Ge,W,dt),Dt===null?We=Ge:Dt.sibling=Ge,Dt=Ge);return xt&&WA(X,dt),We}for(Ge=m(Ge);dt<ie.length;dt++)Ct=ue(Ge,X,dt,ie[dt],we),Ct!==null&&(A&&Ct.alternate!==null&&Ge.delete(Ct.key===null?dt:Ct.key),W=x(Ct,W,dt),Dt===null?We=Ct:Dt.sibling=Ct,Dt=Ct);return A&&Ge.forEach(function(vc){return c(X,vc)}),xt&&WA(X,dt),We}function Xe(X,W,ie,we){if(ie==null)throw Error(r(151));for(var We=null,Dt=null,Ge=W,dt=W=0,Ct=null,Nt=ie.next();Ge!==null&&!Nt.done;dt++,Nt=ie.next()){Ge.index>dt?(Ct=Ge,Ge=null):Ct=Ge.sibling;var vc=ae(X,Ge,Nt.value,we);if(vc===null){Ge===null&&(Ge=Ct);break}A&&Ge&&vc.alternate===null&&c(X,Ge),W=x(vc,W,dt),Dt===null?We=vc:Dt.sibling=vc,Dt=vc,Ge=Ct}if(Nt.done)return p(X,Ge),xt&&WA(X,dt),We;if(Ge===null){for(;!Nt.done;dt++,Nt=ie.next())Nt=Ce(X,Nt.value,we),Nt!==null&&(W=x(Nt,W,dt),Dt===null?We=Nt:Dt.sibling=Nt,Dt=Nt);return xt&&WA(X,dt),We}for(Ge=m(Ge);!Nt.done;dt++,Nt=ie.next())Nt=ue(Ge,X,dt,Nt.value,we),Nt!==null&&(A&&Nt.alternate!==null&&Ge.delete(Nt.key===null?dt:Nt.key),W=x(Nt,W,dt),Dt===null?We=Nt:Dt.sibling=Nt,Dt=Nt);return A&&Ge.forEach(function(ure){return c(X,ure)}),xt&&WA(X,dt),We}function nn(X,W,ie,we){if(typeof ie=="object"&&ie!==null&&ie.type===b&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:e:{for(var We=ie.key;W!==null;){if(W.key===We){if(We=ie.type,We===b){if(W.tag===7){p(X,W.sibling),we=E(W,ie.props.children),we.return=X,X=we;break e}}else if(W.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===H&&wf(We)===W.type){p(X,W.sibling),we=E(W,ie.props),t0(we,ie),we.return=X,X=we;break e}p(X,W);break}else c(X,W);W=W.sibling}ie.type===b?(we=pf(ie.props.children,X.mode,we,ie.key),we.return=X,X=we):(we=KB(ie.type,ie.key,ie.props,null,X.mode,we),t0(we,ie),we.return=X,X=we)}return N(X);case C:e:{for(We=ie.key;W!==null;){if(W.key===We)if(W.tag===4&&W.stateNode.containerInfo===ie.containerInfo&&W.stateNode.implementation===ie.implementation){p(X,W.sibling),we=E(W,ie.children||[]),we.return=X,X=we;break e}else{p(X,W);break}else c(X,W);W=W.sibling}we=vF(ie,X.mode,we),we.return=X,X=we}return N(X);case H:return ie=wf(ie),nn(X,W,ie,we)}if(oe(ie))return He(X,W,ie,we);if(z(ie)){if(We=z(ie),typeof We!="function")throw Error(r(150));return ie=We.call(ie),Xe(X,W,ie,we)}if(typeof ie.then=="function")return nn(X,W,YB(ie),we);if(ie.$$typeof===T)return nn(X,W,$B(X,ie),we);XB(X,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,W!==null&&W.tag===6?(p(X,W.sibling),we=E(W,ie),we.return=X,X=we):(p(X,W),we=mF(ie,X.mode,we),we.return=X,X=we),N(X)):p(X,W)}return function(X,W,ie,we){try{e0=0;var We=nn(X,W,ie,we);return rg=null,We}catch(Ge){if(Ge===ng||Ge===jB)throw Ge;var Dt=Ds(29,Ge,null,X.mode);return Dt.lanes=we,Dt.return=X,Dt}finally{}}}var Cf=j2(!0),W2=j2(!1),tc=!1;function FF(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function MF(A,c){A=A.updateQueue,c.updateQueue===A&&(c.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function nc(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function rc(A,c,p){var m=A.updateQueue;if(m===null)return null;if(m=m.shared,(Ot&2)!==0){var E=m.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),m.pending=c,c=VB(A),U2(A,null,p),c}return HB(A,m,c,p),VB(A)}function n0(A,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,Qp(A,p)}}function UF(A,c){var p=A.updateQueue,m=A.alternate;if(m!==null&&(m=m.updateQueue,p===m)){var E=null,x=null;if(p=p.firstBaseUpdate,p!==null){do{var N={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};x===null?E=x=N:x=x.next=N,p=p.next}while(p!==null);x===null?E=x=c:x=x.next=c}else E=x=c;p={baseState:m.baseState,firstBaseUpdate:E,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},A.updateQueue=p;return}A=p.lastBaseUpdate,A===null?p.firstBaseUpdate=c:A.next=c,p.lastBaseUpdate=c}var PF=!1;function r0(){if(PF){var A=tg;if(A!==null)throw A}}function i0(A,c,p,m){PF=!1;var E=A.updateQueue;tc=!1;var x=E.firstBaseUpdate,N=E.lastBaseUpdate,O=E.shared.pending;if(O!==null){E.shared.pending=null;var j=O,se=j.next;j.next=null,N===null?x=se:N.next=se,N=j;var ge=A.alternate;ge!==null&&(ge=ge.updateQueue,O=ge.lastBaseUpdate,O!==N&&(O===null?ge.firstBaseUpdate=se:O.next=se,ge.lastBaseUpdate=j))}if(x!==null){var Ce=E.baseState;N=0,ge=se=j=null,O=x;do{var ae=O.lane&-536870913,ue=ae!==O.lane;if(ue?(bt&ae)===ae:(m&ae)===ae){ae!==0&&ae===eg&&(PF=!0),ge!==null&&(ge=ge.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var He=A,Xe=O;ae=c;var nn=p;switch(Xe.tag){case 1:if(He=Xe.payload,typeof He=="function"){Ce=He.call(nn,Ce,ae);break e}Ce=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Xe.payload,ae=typeof He=="function"?He.call(nn,Ce,ae):He,ae==null)break e;Ce=h({},Ce,ae);break e;case 2:tc=!0}}ae=O.callback,ae!==null&&(A.flags|=64,ue&&(A.flags|=8192),ue=E.callbacks,ue===null?E.callbacks=[ae]:ue.push(ae))}else ue={lane:ae,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ge===null?(se=ge=ue,j=Ce):ge=ge.next=ue,N|=ae;if(O=O.next,O===null){if(O=E.shared.pending,O===null)break;ue=O,O=ue.next,ue.next=null,E.lastBaseUpdate=ue,E.shared.pending=null}}while(!0);ge===null&&(j=Ce),E.baseState=j,E.firstBaseUpdate=se,E.lastBaseUpdate=ge,x===null&&(E.shared.lanes=0),Ac|=N,A.lanes=N,A.memoizedState=Ce}}function Y2(A,c){if(typeof A!="function")throw Error(r(191,A));A.call(c)}function X2(A,c){var p=A.callbacks;if(p!==null)for(A.callbacks=null,A=0;A<p.length;A++)Y2(p[A],c)}var ig=$(null),JB=$(0);function J2(A,c){A=al,Ae(JB,A),Ae(ig,c),al=A|c.baseLanes}function RF(){Ae(JB,al),Ae(ig,ig.current)}function DF(){al=JB.current,Y(ig),Y(JB)}var Ns=$(null),Fa=null;function ic(A){var c=A.alternate;Ae(lr,lr.current&1),Ae(Ns,A),Fa===null&&(c===null||ig.current!==null||c.memoizedState!==null)&&(Fa=A)}function NF(A){Ae(lr,lr.current),Ae(Ns,A),Fa===null&&(Fa=A)}function Z2(A){A.tag===22?(Ae(lr,lr.current),Ae(Ns,A),Fa===null&&(Fa=A)):sc()}function sc(){Ae(lr,lr.current),Ae(Ns,Ns.current)}function Ls(A){Y(Ns),Fa===A&&(Fa=null),Y(lr)}var lr=$(0);function ZB(A){for(var c=A;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||VM(p)||KM(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var JA=0,lt=null,en=null,Br=null,eS=!1,sg=!1,Ef=!1,tS=0,s0=0,ag=null,ene=0;function Jn(){throw Error(r(321))}function LF(A,c){if(c===null)return!1;for(var p=0;p<c.length&&p<A.length;p++)if(!Rs(A[p],c[p]))return!1;return!0}function QF(A,c,p,m,E,x){return JA=x,lt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=A===null||A.memoizedState===null?NH:ZF,Ef=!1,x=p(m,E),Ef=!1,sg&&(x=tH(c,p,m,E)),eH(A),x}function eH(A){V.H=A0;var c=en!==null&&en.next!==null;if(JA=0,Br=en=lt=null,eS=!1,s0=0,ag=null,c)throw Error(r(300));A===null||Sr||(A=A.dependencies,A!==null&&zB(A)&&(Sr=!0))}function tH(A,c,p,m){lt=A;var E=0;do{if(sg&&(ag=null),s0=0,sg=!1,25<=E)throw Error(r(301));if(E+=1,Br=en=null,A.updateQueue!=null){var x=A.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}V.H=LH,x=c(p,m)}while(sg);return x}function tne(){var A=V.H,c=A.useState()[0];return c=typeof c.then=="function"?a0(c):c,A=A.useState()[0],(en!==null?en.memoizedState:null)!==A&&(lt.flags|=1024),c}function kF(){var A=tS!==0;return tS=0,A}function OF(A,c,p){c.updateQueue=A.updateQueue,c.flags&=-2053,A.lanes&=~p}function HF(A){if(eS){for(A=A.memoizedState;A!==null;){var c=A.queue;c!==null&&(c.pending=null),A=A.next}eS=!1}JA=0,Br=en=lt=null,sg=!1,s0=tS=0,ag=null}function $i(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?lt.memoizedState=Br=A:Br=Br.next=A,Br}function ur(){if(en===null){var A=lt.alternate;A=A!==null?A.memoizedState:null}else A=en.next;var c=Br===null?lt.memoizedState:Br.next;if(c!==null)Br=c,en=A;else{if(A===null)throw lt.alternate===null?Error(r(467)):Error(r(310));en=A,A={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},Br===null?lt.memoizedState=Br=A:Br=Br.next=A}return Br}function nS(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function a0(A){var c=s0;return s0+=1,ag===null&&(ag=[]),A=z2(ag,A,c),c=lt,(Br===null?c.memoizedState:Br.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?NH:ZF),A}function rS(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return a0(A);if(A.$$typeof===T)return ci(A)}throw Error(r(438,String(A)))}function VF(A){var c=null,p=lt.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var m=lt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=nS(),lt.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(A),m=0;m<A;m++)p[m]=G;return c.index++,p}function ZA(A,c){return typeof c=="function"?c(A):c}function iS(A){var c=ur();return KF(c,en,A)}function KF(A,c,p){var m=A.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=p;var E=A.baseQueue,x=m.pending;if(x!==null){if(E!==null){var N=E.next;E.next=x.next,x.next=N}c.baseQueue=E=x,m.pending=null}if(x=A.baseState,E===null)A.memoizedState=x;else{c=E.next;var O=N=null,j=null,se=c,ge=!1;do{var Ce=se.lane&-536870913;if(Ce!==se.lane?(bt&Ce)===Ce:(JA&Ce)===Ce){var ae=se.revertLane;if(ae===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Ce===eg&&(ge=!0);else if((JA&ae)===ae){se=se.next,ae===eg&&(ge=!0);continue}else Ce={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},j===null?(O=j=Ce,N=x):j=j.next=Ce,lt.lanes|=ae,Ac|=ae;Ce=se.action,Ef&&p(x,Ce),x=se.hasEagerState?se.eagerState:p(x,Ce)}else ae={lane:Ce,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},j===null?(O=j=ae,N=x):j=j.next=ae,lt.lanes|=Ce,Ac|=Ce;se=se.next}while(se!==null&&se!==c);if(j===null?N=x:j.next=O,!Rs(x,A.memoizedState)&&(Sr=!0,ge&&(p=tg,p!==null)))throw p;A.memoizedState=x,A.baseState=N,A.baseQueue=j,m.lastRenderedState=x}return E===null&&(m.lanes=0),[A.memoizedState,m.dispatch]}function GF(A){var c=ur(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=A;var m=p.dispatch,E=p.pending,x=c.memoizedState;if(E!==null){p.pending=null;var N=E=E.next;do x=A(x,N.action),N=N.next;while(N!==E);Rs(x,c.memoizedState)||(Sr=!0),c.memoizedState=x,c.baseQueue===null&&(c.baseState=x),p.lastRenderedState=x}return[x,m]}function nH(A,c,p){var m=lt,E=ur(),x=xt;if(x){if(p===void 0)throw Error(r(407));p=p()}else p=c();var N=!Rs((en||E).memoizedState,p);if(N&&(E.memoizedState=p,Sr=!0),E=E.queue,qF(sH.bind(null,m,E,A),[A]),E.getSnapshot!==c||N||Br!==null&&Br.memoizedState.tag&1){if(m.flags|=2048,og(9,{destroy:void 0},iH.bind(null,m,E,p,c),null),hn===null)throw Error(r(349));x||(JA&127)!==0||rH(m,c,p)}return p}function rH(A,c,p){A.flags|=16384,A={getSnapshot:c,value:p},c=lt.updateQueue,c===null?(c=nS(),lt.updateQueue=c,c.stores=[A]):(p=c.stores,p===null?c.stores=[A]:p.push(A))}function iH(A,c,p,m){c.value=p,c.getSnapshot=m,aH(c)&&oH(A)}function sH(A,c,p){return p(function(){aH(c)&&oH(A)})}function aH(A){var c=A.getSnapshot;A=A.value;try{var p=c();return!Rs(A,p)}catch{return!0}}function oH(A){var c=hf(A,2);c!==null&&fs(c,A,2)}function zF(A){var c=$i();if(typeof A=="function"){var p=A;if(A=p(),Ef){Ar(!0);try{p()}finally{Ar(!1)}}}return c.memoizedState=c.baseState=A,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZA,lastRenderedState:A},c}function AH(A,c,p,m){return A.baseState=p,KF(A,en,typeof m=="function"?m:ZA)}function nne(A,c,p,m,E){if(oS(A))throw Error(r(485));if(A=c.action,A!==null){var x={payload:E,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){x.listeners.push(N)}};V.T!==null?p(!0):x.isTransition=!1,m(x),p=c.pending,p===null?(x.next=c.pending=x,lH(c,x)):(x.next=p.next,c.pending=p.next=x)}}function lH(A,c){var p=c.action,m=c.payload,E=A.state;if(c.isTransition){var x=V.T,N={};V.T=N;try{var O=p(E,m),j=V.S;j!==null&&j(N,O),uH(A,c,O)}catch(se){$F(A,c,se)}finally{x!==null&&N.types!==null&&(x.types=N.types),V.T=x}}else try{x=p(E,m),uH(A,c,x)}catch(se){$F(A,c,se)}}function uH(A,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(m){cH(A,c,m)},function(m){return $F(A,c,m)}):cH(A,c,p)}function cH(A,c,p){c.status="fulfilled",c.value=p,dH(c),A.state=p,c=A.pending,c!==null&&(p=c.next,p===c?A.pending=null:(p=p.next,c.next=p,lH(A,p)))}function $F(A,c,p){var m=A.pending;if(A.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=p,dH(c),c=c.next;while(c!==m)}A.action=null}function dH(A){A=A.listeners;for(var c=0;c<A.length;c++)(0,A[c])()}function fH(A,c){return c}function hH(A,c){if(xt){var p=hn.formState;if(p!==null){e:{var m=lt;if(xt){if(Mn){t:{for(var E=Mn,x=Ia;E.nodeType!==8;){if(!x){E=null;break t}if(E=Ma(E.nextSibling),E===null){E=null;break t}}x=E.data,E=x==="F!"||x==="F"?E:null}if(E){Mn=Ma(E.nextSibling),m=E.data==="F!";break e}}Zu(m)}m=!1}m&&(c=p[0])}}return p=$i(),p.memoizedState=p.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fH,lastRenderedState:c},p.queue=m,p=PH.bind(null,lt,m),m.dispatch=p,m=zF(!1),x=JF.bind(null,lt,!1,m.queue),m=$i(),E={state:c,dispatch:null,action:A,pending:null},m.queue=E,p=nne.bind(null,lt,E,x,p),E.dispatch=p,m.memoizedState=A,[c,p,!1]}function pH(A){var c=ur();return gH(c,en,A)}function gH(A,c,p){if(c=KF(A,c,fH)[0],A=iS(ZA)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=a0(c)}catch(N){throw N===ng?jB:N}else m=c;c=ur();var E=c.queue,x=E.dispatch;return p!==c.memoizedState&&(lt.flags|=2048,og(9,{destroy:void 0},rne.bind(null,E,p),null)),[m,x,A]}function rne(A,c){A.action=c}function mH(A){var c=ur(),p=en;if(p!==null)return gH(c,p,A);ur(),c=c.memoizedState,p=ur();var m=p.queue.dispatch;return p.memoizedState=A,[c,m,!1]}function og(A,c,p,m){return A={tag:A,create:p,deps:m,inst:c,next:null},c=lt.updateQueue,c===null&&(c=nS(),lt.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=A.next=A:(m=p.next,p.next=A,A.next=m,c.lastEffect=A),A}function vH(){return ur().memoizedState}function sS(A,c,p,m){var E=$i();lt.flags|=A,E.memoizedState=og(1|c,{destroy:void 0},p,m===void 0?null:m)}function aS(A,c,p,m){var E=ur();m=m===void 0?null:m;var x=E.memoizedState.inst;en!==null&&m!==null&&LF(m,en.memoizedState.deps)?E.memoizedState=og(c,x,p,m):(lt.flags|=A,E.memoizedState=og(1|c,x,p,m))}function yH(A,c){sS(8390656,8,A,c)}function qF(A,c){aS(2048,8,A,c)}function ine(A){lt.flags|=4;var c=lt.updateQueue;if(c===null)c=nS(),lt.updateQueue=c,c.events=[A];else{var p=c.events;p===null?c.events=[A]:p.push(A)}}function wH(A){var c=ur().memoizedState;return ine({ref:c,nextImpl:A}),function(){if((Ot&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function bH(A,c){return aS(4,2,A,c)}function CH(A,c){return aS(4,4,A,c)}function EH(A,c){if(typeof c=="function"){A=A();var p=c(A);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return A=A(),c.current=A,function(){c.current=null}}function BH(A,c,p){p=p!=null?p.concat([A]):null,aS(4,4,EH.bind(null,c,A),p)}function jF(){}function SH(A,c){var p=ur();c=c===void 0?null:c;var m=p.memoizedState;return c!==null&&LF(c,m[1])?m[0]:(p.memoizedState=[A,c],A)}function xH(A,c){var p=ur();c=c===void 0?null:c;var m=p.memoizedState;if(c!==null&&LF(c,m[1]))return m[0];if(m=A(),Ef){Ar(!0);try{A()}finally{Ar(!1)}}return p.memoizedState=[m,c],m}function WF(A,c,p){return p===void 0||(JA&1073741824)!==0&&(bt&261930)===0?A.memoizedState=c:(A.memoizedState=p,A=_4(),lt.lanes|=A,Ac|=A,p)}function _H(A,c,p,m){return Rs(p,c)?p:ig.current!==null?(A=WF(A,p,m),Rs(A,c)||(Sr=!0),A):(JA&42)===0||(JA&1073741824)!==0&&(bt&261930)===0?(Sr=!0,A.memoizedState=p):(A=_4(),lt.lanes|=A,Ac|=A,c)}function TH(A,c,p,m,E){var x=q.p;q.p=x!==0&&8>x?x:8;var N=V.T,O={};V.T=O,JF(A,!1,c,p);try{var j=E(),se=V.S;if(se!==null&&se(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ge=Zte(j,m);o0(A,c,ge,Os(A))}else o0(A,c,m,Os(A))}catch(Ce){o0(A,c,{then:function(){},status:"rejected",reason:Ce},Os())}finally{q.p=x,N!==null&&O.types!==null&&(N.types=O.types),V.T=N}}function sne(){}function YF(A,c,p,m){if(A.tag!==5)throw Error(r(476));var E=IH(A).queue;TH(A,E,c,te,p===null?sne:function(){return FH(A),p(m)})}function IH(A){var c=A.memoizedState;if(c!==null)return c;c={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZA,lastRenderedState:te},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZA,lastRenderedState:p},next:null},A.memoizedState=c,A=A.alternate,A!==null&&(A.memoizedState=c),c}function FH(A){var c=IH(A);c.next===null&&(c=A.alternate.memoizedState),o0(A,c.next.queue,{},Os())}function XF(){return ci(B0)}function MH(){return ur().memoizedState}function UH(){return ur().memoizedState}function ane(A){for(var c=A.return;c!==null;){switch(c.tag){case 24:case 3:var p=Os();A=nc(p);var m=rc(c,A,p);m!==null&&(fs(m,c,p),n0(m,c,p)),c={cache:xF()},A.payload=c;return}c=c.return}}function one(A,c,p){var m=Os();p={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},oS(A)?RH(c,p):(p=pF(A,c,p,m),p!==null&&(fs(p,A,m),DH(p,c,m)))}function PH(A,c,p){var m=Os();o0(A,c,p,m)}function o0(A,c,p,m){var E={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(oS(A))RH(c,E);else{var x=A.alternate;if(A.lanes===0&&(x===null||x.lanes===0)&&(x=c.lastRenderedReducer,x!==null))try{var N=c.lastRenderedState,O=x(N,p);if(E.hasEagerState=!0,E.eagerState=O,Rs(O,N))return HB(A,c,E,0),hn===null&&OB(),!1}catch{}finally{}if(p=pF(A,c,E,m),p!==null)return fs(p,A,m),DH(p,c,m),!0}return!1}function JF(A,c,p,m){if(m={lane:2,revertLane:FM(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},oS(A)){if(c)throw Error(r(479))}else c=pF(A,p,m,2),c!==null&&fs(c,A,2)}function oS(A){var c=A.alternate;return A===lt||c!==null&&c===lt}function RH(A,c){sg=eS=!0;var p=A.pending;p===null?c.next=c:(c.next=p.next,p.next=c),A.pending=c}function DH(A,c,p){if((p&4194048)!==0){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,Qp(A,p)}}var A0={readContext:ci,use:rS,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useLayoutEffect:Jn,useInsertionEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useSyncExternalStore:Jn,useId:Jn,useHostTransitionStatus:Jn,useFormState:Jn,useActionState:Jn,useOptimistic:Jn,useMemoCache:Jn,useCacheRefresh:Jn};A0.useEffectEvent=Jn;var NH={readContext:ci,use:rS,useCallback:function(A,c){return $i().memoizedState=[A,c===void 0?null:c],A},useContext:ci,useEffect:yH,useImperativeHandle:function(A,c,p){p=p!=null?p.concat([A]):null,sS(4194308,4,EH.bind(null,c,A),p)},useLayoutEffect:function(A,c){return sS(4194308,4,A,c)},useInsertionEffect:function(A,c){sS(4,2,A,c)},useMemo:function(A,c){var p=$i();c=c===void 0?null:c;var m=A();if(Ef){Ar(!0);try{A()}finally{Ar(!1)}}return p.memoizedState=[m,c],m},useReducer:function(A,c,p){var m=$i();if(p!==void 0){var E=p(c);if(Ef){Ar(!0);try{p(c)}finally{Ar(!1)}}}else E=c;return m.memoizedState=m.baseState=E,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:E},m.queue=A,A=A.dispatch=one.bind(null,lt,A),[m.memoizedState,A]},useRef:function(A){var c=$i();return A={current:A},c.memoizedState=A},useState:function(A){A=zF(A);var c=A.queue,p=PH.bind(null,lt,c);return c.dispatch=p,[A.memoizedState,p]},useDebugValue:jF,useDeferredValue:function(A,c){var p=$i();return WF(p,A,c)},useTransition:function(){var A=zF(!1);return A=TH.bind(null,lt,A.queue,!0,!1),$i().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,c,p){var m=lt,E=$i();if(xt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),hn===null)throw Error(r(349));(bt&127)!==0||rH(m,c,p)}E.memoizedState=p;var x={value:p,getSnapshot:c};return E.queue=x,yH(sH.bind(null,m,x,A),[A]),m.flags|=2048,og(9,{destroy:void 0},iH.bind(null,m,x,p,c),null),p},useId:function(){var A=$i(),c=hn.identifierPrefix;if(xt){var p=Xo,m=Yo;p=(m&~(1<<32-br(m)-1)).toString(32)+p,c="_"+c+"R_"+p,p=tS++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=ene++,c="_"+c+"r_"+p.toString(32)+"_";return A.memoizedState=c},useHostTransitionStatus:XF,useFormState:hH,useActionState:hH,useOptimistic:function(A){var c=$i();c.memoizedState=c.baseState=A;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=JF.bind(null,lt,!0,p),p.dispatch=c,[A,c]},useMemoCache:VF,useCacheRefresh:function(){return $i().memoizedState=ane.bind(null,lt)},useEffectEvent:function(A){var c=$i(),p={impl:A};return c.memoizedState=p,function(){if((Ot&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},ZF={readContext:ci,use:rS,useCallback:SH,useContext:ci,useEffect:qF,useImperativeHandle:BH,useInsertionEffect:bH,useLayoutEffect:CH,useMemo:xH,useReducer:iS,useRef:vH,useState:function(){return iS(ZA)},useDebugValue:jF,useDeferredValue:function(A,c){var p=ur();return _H(p,en.memoizedState,A,c)},useTransition:function(){var A=iS(ZA)[0],c=ur().memoizedState;return[typeof A=="boolean"?A:a0(A),c]},useSyncExternalStore:nH,useId:MH,useHostTransitionStatus:XF,useFormState:pH,useActionState:pH,useOptimistic:function(A,c){var p=ur();return AH(p,en,A,c)},useMemoCache:VF,useCacheRefresh:UH};ZF.useEffectEvent=wH;var LH={readContext:ci,use:rS,useCallback:SH,useContext:ci,useEffect:qF,useImperativeHandle:BH,useInsertionEffect:bH,useLayoutEffect:CH,useMemo:xH,useReducer:GF,useRef:vH,useState:function(){return GF(ZA)},useDebugValue:jF,useDeferredValue:function(A,c){var p=ur();return en===null?WF(p,A,c):_H(p,en.memoizedState,A,c)},useTransition:function(){var A=GF(ZA)[0],c=ur().memoizedState;return[typeof A=="boolean"?A:a0(A),c]},useSyncExternalStore:nH,useId:MH,useHostTransitionStatus:XF,useFormState:mH,useActionState:mH,useOptimistic:function(A,c){var p=ur();return en!==null?AH(p,en,A,c):(p.baseState=A,[A,p.queue.dispatch])},useMemoCache:VF,useCacheRefresh:UH};LH.useEffectEvent=wH;function eM(A,c,p,m){c=A.memoizedState,p=p(m,c),p=p==null?c:h({},c,p),A.memoizedState=p,A.lanes===0&&(A.updateQueue.baseState=p)}var tM={enqueueSetState:function(A,c,p){A=A._reactInternals;var m=Os(),E=nc(m);E.payload=c,p!=null&&(E.callback=p),c=rc(A,E,m),c!==null&&(fs(c,A,m),n0(c,A,m))},enqueueReplaceState:function(A,c,p){A=A._reactInternals;var m=Os(),E=nc(m);E.tag=1,E.payload=c,p!=null&&(E.callback=p),c=rc(A,E,m),c!==null&&(fs(c,A,m),n0(c,A,m))},enqueueForceUpdate:function(A,c){A=A._reactInternals;var p=Os(),m=nc(p);m.tag=2,c!=null&&(m.callback=c),c=rc(A,m,p),c!==null&&(fs(c,A,p),n0(c,A,p))}};function QH(A,c,p,m,E,x,N){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(m,x,N):c.prototype&&c.prototype.isPureReactComponent?!jy(p,m)||!jy(E,x):!0}function kH(A,c,p,m){A=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,m),c.state!==A&&tM.enqueueReplaceState(c,c.state,null)}function Bf(A,c){var p=c;if("ref"in c){p={};for(var m in c)m!=="ref"&&(p[m]=c[m])}if(A=A.defaultProps){p===c&&(p=h({},p));for(var E in A)p[E]===void 0&&(p[E]=A[E])}return p}function OH(A){kB(A)}function HH(A){console.error(A)}function VH(A){kB(A)}function AS(A,c){try{var p=A.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function KH(A,c,p){try{var m=A.onCaughtError;m(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function nM(A,c,p){return p=nc(p),p.tag=3,p.payload={element:null},p.callback=function(){AS(A,c)},p}function GH(A){return A=nc(A),A.tag=3,A}function zH(A,c,p,m){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var x=m.value;A.payload=function(){return E(x)},A.callback=function(){KH(c,p,m)}}var N=p.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(A.callback=function(){KH(c,p,m),typeof E!="function"&&(lc===null?lc=new Set([this]):lc.add(this));var O=m.stack;this.componentDidCatch(m.value,{componentStack:O!==null?O:""})})}function Ane(A,c,p,m,E){if(p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=p.alternate,c!==null&&Zp(c,p,E,!0),p=Ns.current,p!==null){switch(p.tag){case 31:case 13:return Fa===null?wS():p.alternate===null&&Zn===0&&(Zn=3),p.flags&=-257,p.flags|=65536,p.lanes=E,m===WB?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([m]):c.add(m),_M(A,m,E)),!1;case 22:return p.flags|=65536,m===WB?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([m]):p.add(m)),_M(A,m,E)),!1}throw Error(r(435,p.tag))}return _M(A,m,E),wS(),!1}if(xt)return c=Ns.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,m!==bF&&(A=Error(r(422),{cause:m}),Xy(xa(A,p)))):(m!==bF&&(c=Error(r(423),{cause:m}),Xy(xa(c,p))),A=A.current.alternate,A.flags|=65536,E&=-E,A.lanes|=E,m=xa(m,p),E=nM(A.stateNode,m,E),UF(A,E),Zn!==4&&(Zn=2)),!1;var x=Error(r(520),{cause:m});if(x=xa(x,p),g0===null?g0=[x]:g0.push(x),Zn!==4&&(Zn=2),c===null)return!0;m=xa(m,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,A=E&-E,p.lanes|=A,A=nM(p.stateNode,m,A),UF(p,A),!1;case 1:if(c=p.type,x=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(lc===null||!lc.has(x))))return p.flags|=65536,E&=-E,p.lanes|=E,E=GH(E),zH(E,A,p,m),UF(p,E),!1}p=p.return}while(p!==null);return!1}var rM=Error(r(461)),Sr=!1;function di(A,c,p,m){c.child=A===null?W2(c,null,p,m):Cf(c,A.child,p,m)}function $H(A,c,p,m,E){p=p.render;var x=c.ref;if("ref"in m){var N={};for(var O in m)O!=="ref"&&(N[O]=m[O])}else N=m;return vf(c),m=QF(A,c,p,N,x,E),O=kF(),A!==null&&!Sr?(OF(A,c,E),el(A,c,E)):(xt&&O&&yF(c),c.flags|=1,di(A,c,m,E),c.child)}function qH(A,c,p,m,E){if(A===null){var x=p.type;return typeof x=="function"&&!gF(x)&&x.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=x,jH(A,c,x,m,E)):(A=KB(p.type,null,m,c,c.mode,E),A.ref=c.ref,A.return=c,c.child=A)}if(x=A.child,!cM(A,E)){var N=x.memoizedProps;if(p=p.compare,p=p!==null?p:jy,p(N,m)&&A.ref===c.ref)return el(A,c,E)}return c.flags|=1,A=jA(x,m),A.ref=c.ref,A.return=c,c.child=A}function jH(A,c,p,m,E){if(A!==null){var x=A.memoizedProps;if(jy(x,m)&&A.ref===c.ref)if(Sr=!1,c.pendingProps=m=x,cM(A,E))(A.flags&131072)!==0&&(Sr=!0);else return c.lanes=A.lanes,el(A,c,E)}return iM(A,c,p,m,E)}function WH(A,c,p,m){var E=m.children,x=A!==null?A.memoizedState:null;if(A===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(x=x!==null?x.baseLanes|p:p,A!==null){for(m=c.child=A.child,E=0;m!==null;)E=E|m.lanes|m.childLanes,m=m.sibling;m=E&~x}else m=0,c.child=null;return YH(A,c,x,p,m)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},A!==null&&qB(c,x!==null?x.cachePool:null),x!==null?J2(c,x):RF(),Z2(c);else return m=c.lanes=536870912,YH(A,c,x!==null?x.baseLanes|p:p,p,m)}else x!==null?(qB(c,x.cachePool),J2(c,x),sc(),c.memoizedState=null):(A!==null&&qB(c,null),RF(),sc());return di(A,c,E,p),c.child}function l0(A,c){return A!==null&&A.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function YH(A,c,p,m,E){var x=TF();return x=x===null?null:{parent:Er._currentValue,pool:x},c.memoizedState={baseLanes:p,cachePool:x},A!==null&&qB(c,null),RF(),Z2(c),A!==null&&Zp(A,c,m,!0),c.childLanes=E,null}function lS(A,c){return c=cS({mode:c.mode,children:c.children},A.mode),c.ref=A.ref,A.child=c,c.return=A,c}function XH(A,c,p){return Cf(c,A.child,null,p),A=lS(c,c.pendingProps),A.flags|=2,Ls(c),c.memoizedState=null,A}function lne(A,c,p){var m=c.pendingProps,E=(c.flags&128)!==0;if(c.flags&=-129,A===null){if(xt){if(m.mode==="hidden")return A=lS(c,m),c.lanes=536870912,l0(null,A);if(NF(c),(A=Mn)?(A=lV(A,Ia),A=A!==null&&A.data==="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Xu!==null?{id:Yo,overflow:Xo}:null,retryLane:536870912,hydrationErrors:null},p=R2(A),p.return=c,c.child=p,ui=c,Mn=null)):A=null,A===null)throw Zu(c);return c.lanes=536870912,null}return lS(c,m)}var x=A.memoizedState;if(x!==null){var N=x.dehydrated;if(NF(c),E)if(c.flags&256)c.flags&=-257,c=XH(A,c,p);else if(c.memoizedState!==null)c.child=A.child,c.flags|=128,c=null;else throw Error(r(558));else if(Sr||Zp(A,c,p,!1),E=(p&A.childLanes)!==0,Sr||E){if(m=hn,m!==null&&(N=zi(m,p),N!==0&&N!==x.retryLane))throw x.retryLane=N,hf(A,N),fs(m,A,N),rM;wS(),c=XH(A,c,p)}else A=x.treeContext,Mn=Ma(N.nextSibling),ui=c,xt=!0,Ju=null,Ia=!1,A!==null&&L2(c,A),c=lS(c,m),c.flags|=4096;return c}return A=jA(A.child,{mode:m.mode,children:m.children}),A.ref=c.ref,c.child=A,A.return=c,A}function uS(A,c){var p=c.ref;if(p===null)A!==null&&A.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(A===null||A.ref!==p)&&(c.flags|=4194816)}}function iM(A,c,p,m,E){return vf(c),p=QF(A,c,p,m,void 0,E),m=kF(),A!==null&&!Sr?(OF(A,c,E),el(A,c,E)):(xt&&m&&yF(c),c.flags|=1,di(A,c,p,E),c.child)}function JH(A,c,p,m,E,x){return vf(c),c.updateQueue=null,p=tH(c,m,p,E),eH(A),m=kF(),A!==null&&!Sr?(OF(A,c,x),el(A,c,x)):(xt&&m&&yF(c),c.flags|=1,di(A,c,p,x),c.child)}function ZH(A,c,p,m,E){if(vf(c),c.stateNode===null){var x=Wp,N=p.contextType;typeof N=="object"&&N!==null&&(x=ci(N)),x=new p(m,x),c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=tM,c.stateNode=x,x._reactInternals=c,x=c.stateNode,x.props=m,x.state=c.memoizedState,x.refs={},FF(c),N=p.contextType,x.context=typeof N=="object"&&N!==null?ci(N):Wp,x.state=c.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(eM(c,p,N,m),x.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(N=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),N!==x.state&&tM.enqueueReplaceState(x,x.state,null),i0(c,m,x,E),r0(),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(A===null){x=c.stateNode;var O=c.memoizedProps,j=Bf(p,O);x.props=j;var se=x.context,ge=p.contextType;N=Wp,typeof ge=="object"&&ge!==null&&(N=ci(ge));var Ce=p.getDerivedStateFromProps;ge=typeof Ce=="function"||typeof x.getSnapshotBeforeUpdate=="function",O=c.pendingProps!==O,ge||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O||se!==N)&&kH(c,x,m,N),tc=!1;var ae=c.memoizedState;x.state=ae,i0(c,m,x,E),r0(),se=c.memoizedState,O||ae!==se||tc?(typeof Ce=="function"&&(eM(c,p,Ce,m),se=c.memoizedState),(j=tc||QH(c,p,j,m,ae,se,N))?(ge||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(c.flags|=4194308)):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=se),x.props=m,x.state=se,x.context=N,m=j):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{x=c.stateNode,MF(A,c),N=c.memoizedProps,ge=Bf(p,N),x.props=ge,Ce=c.pendingProps,ae=x.context,se=p.contextType,j=Wp,typeof se=="object"&&se!==null&&(j=ci(se)),O=p.getDerivedStateFromProps,(se=typeof O=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==Ce||ae!==j)&&kH(c,x,m,j),tc=!1,ae=c.memoizedState,x.state=ae,i0(c,m,x,E),r0();var ue=c.memoizedState;N!==Ce||ae!==ue||tc||A!==null&&A.dependencies!==null&&zB(A.dependencies)?(typeof O=="function"&&(eM(c,p,O,m),ue=c.memoizedState),(ge=tc||QH(c,p,ge,m,ae,ue,j)||A!==null&&A.dependencies!==null&&zB(A.dependencies))?(se||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,ue,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,ue,j)),typeof x.componentDidUpdate=="function"&&(c.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=ue),x.props=m,x.state=ue,x.context=j,m=ge):(typeof x.componentDidUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=1024),m=!1)}return x=m,uS(A,c),m=(c.flags&128)!==0,x||m?(x=c.stateNode,p=m&&typeof p.getDerivedStateFromError!="function"?null:x.render(),c.flags|=1,A!==null&&m?(c.child=Cf(c,A.child,null,E),c.child=Cf(c,null,p,E)):di(A,c,p,E),c.memoizedState=x.state,A=c.child):A=el(A,c,E),A}function e4(A,c,p,m){return gf(),c.flags|=256,di(A,c,p,m),c.child}var sM={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function aM(A){return{baseLanes:A,cachePool:K2()}}function oM(A,c,p){return A=A!==null?A.childLanes&~p:0,c&&(A|=ks),A}function t4(A,c,p){var m=c.pendingProps,E=!1,x=(c.flags&128)!==0,N;if((N=x)||(N=A!==null&&A.memoizedState===null?!1:(lr.current&2)!==0),N&&(E=!0,c.flags&=-129),N=(c.flags&32)!==0,c.flags&=-33,A===null){if(xt){if(E?ic(c):sc(),(A=Mn)?(A=lV(A,Ia),A=A!==null&&A.data!=="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Xu!==null?{id:Yo,overflow:Xo}:null,retryLane:536870912,hydrationErrors:null},p=R2(A),p.return=c,c.child=p,ui=c,Mn=null)):A=null,A===null)throw Zu(c);return KM(A)?c.lanes=32:c.lanes=536870912,null}var O=m.children;return m=m.fallback,E?(sc(),E=c.mode,O=cS({mode:"hidden",children:O},E),m=pf(m,E,p,null),O.return=c,m.return=c,O.sibling=m,c.child=O,m=c.child,m.memoizedState=aM(p),m.childLanes=oM(A,N,p),c.memoizedState=sM,l0(null,m)):(ic(c),AM(c,O))}var j=A.memoizedState;if(j!==null&&(O=j.dehydrated,O!==null)){if(x)c.flags&256?(ic(c),c.flags&=-257,c=lM(A,c,p)):c.memoizedState!==null?(sc(),c.child=A.child,c.flags|=128,c=null):(sc(),O=m.fallback,E=c.mode,m=cS({mode:"visible",children:m.children},E),O=pf(O,E,p,null),O.flags|=2,m.return=c,O.return=c,m.sibling=O,c.child=m,Cf(c,A.child,null,p),m=c.child,m.memoizedState=aM(p),m.childLanes=oM(A,N,p),c.memoizedState=sM,c=l0(null,m));else if(ic(c),KM(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var se=N.dgst;N=se,m=Error(r(419)),m.stack="",m.digest=N,Xy({value:m,source:null,stack:null}),c=lM(A,c,p)}else if(Sr||Zp(A,c,p,!1),N=(p&A.childLanes)!==0,Sr||N){if(N=hn,N!==null&&(m=zi(N,p),m!==0&&m!==j.retryLane))throw j.retryLane=m,hf(A,m),fs(N,A,m),rM;VM(O)||wS(),c=lM(A,c,p)}else VM(O)?(c.flags|=192,c.child=A.child,c=null):(A=j.treeContext,Mn=Ma(O.nextSibling),ui=c,xt=!0,Ju=null,Ia=!1,A!==null&&L2(c,A),c=AM(c,m.children),c.flags|=4096);return c}return E?(sc(),O=m.fallback,E=c.mode,j=A.child,se=j.sibling,m=jA(j,{mode:"hidden",children:m.children}),m.subtreeFlags=j.subtreeFlags&65011712,se!==null?O=jA(se,O):(O=pf(O,E,p,null),O.flags|=2),O.return=c,m.return=c,m.sibling=O,c.child=m,l0(null,m),m=c.child,O=A.child.memoizedState,O===null?O=aM(p):(E=O.cachePool,E!==null?(j=Er._currentValue,E=E.parent!==j?{parent:j,pool:j}:E):E=K2(),O={baseLanes:O.baseLanes|p,cachePool:E}),m.memoizedState=O,m.childLanes=oM(A,N,p),c.memoizedState=sM,l0(A.child,m)):(ic(c),p=A.child,A=p.sibling,p=jA(p,{mode:"visible",children:m.children}),p.return=c,p.sibling=null,A!==null&&(N=c.deletions,N===null?(c.deletions=[A],c.flags|=16):N.push(A)),c.child=p,c.memoizedState=null,p)}function AM(A,c){return c=cS({mode:"visible",children:c},A.mode),c.return=A,A.child=c}function cS(A,c){return A=Ds(22,A,null,c),A.lanes=0,A}function lM(A,c,p){return Cf(c,A.child,null,p),A=AM(c,c.pendingProps.children),A.flags|=2,c.memoizedState=null,A}function n4(A,c,p){A.lanes|=c;var m=A.alternate;m!==null&&(m.lanes|=c),BF(A.return,c,p)}function uM(A,c,p,m,E,x){var N=A.memoizedState;N===null?A.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:p,tailMode:E,treeForkCount:x}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=p,N.tailMode=E,N.treeForkCount=x)}function r4(A,c,p){var m=c.pendingProps,E=m.revealOrder,x=m.tail;m=m.children;var N=lr.current,O=(N&2)!==0;if(O?(N=N&1|2,c.flags|=128):N&=1,Ae(lr,N),di(A,c,m,p),m=xt?Yy:0,!O&&A!==null&&(A.flags&128)!==0)e:for(A=c.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&n4(A,p,c);else if(A.tag===19)n4(A,p,c);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(E){case"forwards":for(p=c.child,E=null;p!==null;)A=p.alternate,A!==null&&ZB(A)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),uM(c,!1,E,p,x,m);break;case"backwards":case"unstable_legacy-backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(A=E.alternate,A!==null&&ZB(A)===null){c.child=E;break}A=E.sibling,E.sibling=p,p=E,E=A}uM(c,!0,p,null,x,m);break;case"together":uM(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function el(A,c,p){if(A!==null&&(c.dependencies=A.dependencies),Ac|=c.lanes,(p&c.childLanes)===0)if(A!==null){if(Zp(A,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(A!==null&&c.child!==A.child)throw Error(r(153));if(c.child!==null){for(A=c.child,p=jA(A,A.pendingProps),c.child=p,p.return=c;A.sibling!==null;)A=A.sibling,p=p.sibling=jA(A,A.pendingProps),p.return=c;p.sibling=null}return c.child}function cM(A,c){return(A.lanes&c)!==0?!0:(A=A.dependencies,!!(A!==null&&zB(A)))}function une(A,c,p){switch(c.tag){case 3:Se(c,c.stateNode.containerInfo),ec(c,Er,A.memoizedState.cache),gf();break;case 27:case 5:Ue(c);break;case 4:Se(c,c.stateNode.containerInfo);break;case 10:ec(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,NF(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(ic(c),c.flags|=128,null):(p&c.child.childLanes)!==0?t4(A,c,p):(ic(c),A=el(A,c,p),A!==null?A.sibling:null);ic(c);break;case 19:var E=(A.flags&128)!==0;if(m=(p&c.childLanes)!==0,m||(Zp(A,c,p,!1),m=(p&c.childLanes)!==0),E){if(m)return r4(A,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Ae(lr,lr.current),m)break;return null;case 22:return c.lanes=0,WH(A,c,p,c.pendingProps);case 24:ec(c,Er,A.memoizedState.cache)}return el(A,c,p)}function i4(A,c,p){if(A!==null)if(A.memoizedProps!==c.pendingProps)Sr=!0;else{if(!cM(A,p)&&(c.flags&128)===0)return Sr=!1,une(A,c,p);Sr=(A.flags&131072)!==0}else Sr=!1,xt&&(c.flags&1048576)!==0&&N2(c,Yy,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(A=wf(c.elementType),c.type=A,typeof A=="function")gF(A)?(m=Bf(A,m),c.tag=1,c=ZH(null,c,A,m,p)):(c.tag=0,c=iM(null,c,A,m,p));else{if(A!=null){var E=A.$$typeof;if(E===R){c.tag=11,c=$H(null,c,A,m,p);break e}else if(E===L){c.tag=14,c=qH(null,c,A,m,p);break e}}throw c=ne(A)||A,Error(r(306,c,""))}}return c;case 0:return iM(A,c,c.type,c.pendingProps,p);case 1:return m=c.type,E=Bf(m,c.pendingProps),ZH(A,c,m,E,p);case 3:e:{if(Se(c,c.stateNode.containerInfo),A===null)throw Error(r(387));m=c.pendingProps;var x=c.memoizedState;E=x.element,MF(A,c),i0(c,m,null,p);var N=c.memoizedState;if(m=N.cache,ec(c,Er,m),m!==x.cache&&SF(c,[Er],p,!0),r0(),m=N.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:N.cache},c.updateQueue.baseState=x,c.memoizedState=x,c.flags&256){c=e4(A,c,m,p);break e}else if(m!==E){E=xa(Error(r(424)),c),Xy(E),c=e4(A,c,m,p);break e}else{switch(A=c.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(Mn=Ma(A.firstChild),ui=c,xt=!0,Ju=null,Ia=!0,p=W2(c,null,m,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(gf(),m===E){c=el(A,c,p);break e}di(A,c,m,p)}c=c.child}return c;case 26:return uS(A,c),A===null?(p=pV(c.type,null,c.pendingProps,null))?c.memoizedState=p:xt||(p=c.type,A=c.pendingProps,m=_S(fe.current).createElement(p),m[Dr]=c,m[Mi]=A,fi(m,p,A),Cr(m),c.stateNode=m):c.memoizedState=pV(c.type,A.memoizedProps,c.pendingProps,A.memoizedState),null;case 27:return Ue(c),A===null&&xt&&(m=c.stateNode=dV(c.type,c.pendingProps,fe.current),ui=c,Ia=!0,E=Mn,fc(c.type)?(GM=E,Mn=Ma(m.firstChild)):Mn=E),di(A,c,c.pendingProps.children,p),uS(A,c),A===null&&(c.flags|=4194304),c.child;case 5:return A===null&&xt&&((E=m=Mn)&&(m=One(m,c.type,c.pendingProps,Ia),m!==null?(c.stateNode=m,ui=c,Mn=Ma(m.firstChild),Ia=!1,E=!0):E=!1),E||Zu(c)),Ue(c),E=c.type,x=c.pendingProps,N=A!==null?A.memoizedProps:null,m=x.children,kM(E,x)?m=null:N!==null&&kM(E,N)&&(c.flags|=32),c.memoizedState!==null&&(E=QF(A,c,tne,null,null,p),B0._currentValue=E),uS(A,c),di(A,c,m,p),c.child;case 6:return A===null&&xt&&((A=p=Mn)&&(p=Hne(p,c.pendingProps,Ia),p!==null?(c.stateNode=p,ui=c,Mn=null,A=!0):A=!1),A||Zu(c)),null;case 13:return t4(A,c,p);case 4:return Se(c,c.stateNode.containerInfo),m=c.pendingProps,A===null?c.child=Cf(c,null,m,p):di(A,c,m,p),c.child;case 11:return $H(A,c,c.type,c.pendingProps,p);case 7:return di(A,c,c.pendingProps,p),c.child;case 8:return di(A,c,c.pendingProps.children,p),c.child;case 12:return di(A,c,c.pendingProps.children,p),c.child;case 10:return m=c.pendingProps,ec(c,c.type,m.value),di(A,c,m.children,p),c.child;case 9:return E=c.type._context,m=c.pendingProps.children,vf(c),E=ci(E),m=m(E),c.flags|=1,di(A,c,m,p),c.child;case 14:return qH(A,c,c.type,c.pendingProps,p);case 15:return jH(A,c,c.type,c.pendingProps,p);case 19:return r4(A,c,p);case 31:return lne(A,c,p);case 22:return WH(A,c,p,c.pendingProps);case 24:return vf(c),m=ci(Er),A===null?(E=TF(),E===null&&(E=hn,x=xF(),E.pooledCache=x,x.refCount++,x!==null&&(E.pooledCacheLanes|=p),E=x),c.memoizedState={parent:m,cache:E},FF(c),ec(c,Er,E)):((A.lanes&p)!==0&&(MF(A,c),i0(c,null,null,p),r0()),E=A.memoizedState,x=c.memoizedState,E.parent!==m?(E={parent:m,cache:m},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),ec(c,Er,m)):(m=x.cache,ec(c,Er,m),m!==E.cache&&SF(c,[Er],p,!0))),di(A,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function tl(A){A.flags|=4}function dM(A,c,p,m,E){if((c=(A.mode&32)!==0)&&(c=!1),c){if(A.flags|=16777216,(E&335544128)===E)if(A.stateNode.complete)A.flags|=8192;else if(M4())A.flags|=8192;else throw bf=WB,IF}else A.flags&=-16777217}function s4(A,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!wV(c))if(M4())A.flags|=8192;else throw bf=WB,IF}function dS(A,c){c!==null&&(A.flags|=4),A.flags&16384&&(c=A.tag!==22?Yn():536870912,A.lanes|=c,cg|=c)}function u0(A,c){if(!xt)switch(A.tailMode){case"hidden":c=A.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?A.tail=null:p.sibling=null;break;case"collapsed":p=A.tail;for(var m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?c||A.tail===null?A.tail=null:A.tail.sibling=null:m.sibling=null}}function Un(A){var c=A.alternate!==null&&A.alternate.child===A.child,p=0,m=0;if(c)for(var E=A.child;E!==null;)p|=E.lanes|E.childLanes,m|=E.subtreeFlags&65011712,m|=E.flags&65011712,E.return=A,E=E.sibling;else for(E=A.child;E!==null;)p|=E.lanes|E.childLanes,m|=E.subtreeFlags,m|=E.flags,E.return=A,E=E.sibling;return A.subtreeFlags|=m,A.childLanes=p,c}function cne(A,c,p){var m=c.pendingProps;switch(wF(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(c),null;case 1:return Un(c),null;case 3:return p=c.stateNode,m=null,A!==null&&(m=A.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),XA(Er),Z(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(A===null||A.child===null)&&(Jp(c)?tl(c):A===null||A.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,CF())),Un(c),null;case 26:var E=c.type,x=c.memoizedState;return A===null?(tl(c),x!==null?(Un(c),s4(c,x)):(Un(c),dM(c,E,null,m,p))):x?x!==A.memoizedState?(tl(c),Un(c),s4(c,x)):(Un(c),c.flags&=-16777217):(A=A.memoizedProps,A!==m&&tl(c),Un(c),dM(c,E,A,m,p)),null;case 27:if(Ie(c),p=fe.current,E=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&tl(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Un(c),null}A=me.current,Jp(c)?Q2(c):(A=dV(E,m,p),c.stateNode=A,tl(c))}return Un(c),null;case 5:if(Ie(c),E=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&tl(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Un(c),null}if(x=me.current,Jp(c))Q2(c);else{var N=_S(fe.current);switch(x){case 1:x=N.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:x=N.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":x=N.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":x=N.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":x=N.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?N.createElement(E,{is:m.is}):N.createElement(E)}}x[Dr]=c,x[Mi]=m;e:for(N=c.child;N!==null;){if(N.tag===5||N.tag===6)x.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===c)break e;for(;N.sibling===null;){if(N.return===null||N.return===c)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}c.stateNode=x;e:switch(fi(x,E,m),E){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&tl(c)}}return Un(c),dM(c,c.type,A===null?null:A.memoizedProps,c.pendingProps,p),null;case 6:if(A&&c.stateNode!=null)A.memoizedProps!==m&&tl(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(r(166));if(A=fe.current,Jp(c)){if(A=c.stateNode,p=c.memoizedProps,m=null,E=ui,E!==null)switch(E.tag){case 27:case 5:m=E.memoizedProps}A[Dr]=c,A=!!(A.nodeValue===p||m!==null&&m.suppressHydrationWarning===!0||tV(A.nodeValue,p)),A||Zu(c,!0)}else A=_S(A).createTextNode(m),A[Dr]=c,c.stateNode=A}return Un(c),null;case 31:if(p=c.memoizedState,A===null||A.memoizedState!==null){if(m=Jp(c),p!==null){if(A===null){if(!m)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(557));A[Dr]=c}else gf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Un(c),A=!1}else p=CF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=p),A=!0;if(!A)return c.flags&256?(Ls(c),c):(Ls(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Un(c),null;case 13:if(m=c.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(E=Jp(c),m!==null&&m.dehydrated!==null){if(A===null){if(!E)throw Error(r(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Dr]=c}else gf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Un(c),E=!1}else E=CF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(Ls(c),c):(Ls(c),null)}return Ls(c),(c.flags&128)!==0?(c.lanes=p,c):(p=m!==null,A=A!==null&&A.memoizedState!==null,p&&(m=c.child,E=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(E=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==E&&(m.flags|=2048)),p!==A&&p&&(c.child.flags|=8192),dS(c,c.updateQueue),Un(c),null);case 4:return Z(),A===null&&RM(c.stateNode.containerInfo),Un(c),null;case 10:return XA(c.type),Un(c),null;case 19:if(Y(lr),m=c.memoizedState,m===null)return Un(c),null;if(E=(c.flags&128)!==0,x=m.rendering,x===null)if(E)u0(m,!1);else{if(Zn!==0||A!==null&&(A.flags&128)!==0)for(A=c.child;A!==null;){if(x=ZB(A),x!==null){for(c.flags|=128,u0(m,!1),A=x.updateQueue,c.updateQueue=A,dS(c,A),c.subtreeFlags=0,A=p,p=c.child;p!==null;)P2(p,A),p=p.sibling;return Ae(lr,lr.current&1|2),xt&&WA(c,m.treeForkCount),c.child}A=A.sibling}m.tail!==null&&Jt()>mS&&(c.flags|=128,E=!0,u0(m,!1),c.lanes=4194304)}else{if(!E)if(A=ZB(x),A!==null){if(c.flags|=128,E=!0,A=A.updateQueue,c.updateQueue=A,dS(c,A),u0(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!xt)return Un(c),null}else 2*Jt()-m.renderingStartTime>mS&&p!==536870912&&(c.flags|=128,E=!0,u0(m,!1),c.lanes=4194304);m.isBackwards?(x.sibling=c.child,c.child=x):(A=m.last,A!==null?A.sibling=x:c.child=x,m.last=x)}return m.tail!==null?(A=m.tail,m.rendering=A,m.tail=A.sibling,m.renderingStartTime=Jt(),A.sibling=null,p=lr.current,Ae(lr,E?p&1|2:p&1),xt&&WA(c,m.treeForkCount),A):(Un(c),null);case 22:case 23:return Ls(c),DF(),m=c.memoizedState!==null,A!==null?A.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(p&536870912)!==0&&(c.flags&128)===0&&(Un(c),c.subtreeFlags&6&&(c.flags|=8192)):Un(c),p=c.updateQueue,p!==null&&dS(c,p.retryQueue),p=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048),A!==null&&Y(yf),null;case 24:return p=null,A!==null&&(p=A.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),XA(Er),Un(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function dne(A,c){switch(wF(c),c.tag){case 1:return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 3:return XA(Er),Z(),A=c.flags,(A&65536)!==0&&(A&128)===0?(c.flags=A&-65537|128,c):null;case 26:case 27:case 5:return Ie(c),null;case 31:if(c.memoizedState!==null){if(Ls(c),c.alternate===null)throw Error(r(340));gf()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 13:if(Ls(c),A=c.memoizedState,A!==null&&A.dehydrated!==null){if(c.alternate===null)throw Error(r(340));gf()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 19:return Y(lr),null;case 4:return Z(),null;case 10:return XA(c.type),null;case 22:case 23:return Ls(c),DF(),A!==null&&Y(yf),A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 24:return XA(Er),null;case 25:return null;default:return null}}function a4(A,c){switch(wF(c),c.tag){case 3:XA(Er),Z();break;case 26:case 27:case 5:Ie(c);break;case 4:Z();break;case 31:c.memoizedState!==null&&Ls(c);break;case 13:Ls(c);break;case 19:Y(lr);break;case 10:XA(c.type);break;case 22:case 23:Ls(c),DF(),A!==null&&Y(yf);break;case 24:XA(Er)}}function c0(A,c){try{var p=c.updateQueue,m=p!==null?p.lastEffect:null;if(m!==null){var E=m.next;p=E;do{if((p.tag&A)===A){m=void 0;var x=p.create,N=p.inst;m=x(),N.destroy=m}p=p.next}while(p!==E)}}catch(O){$t(c,c.return,O)}}function ac(A,c,p){try{var m=c.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var x=E.next;m=x;do{if((m.tag&A)===A){var N=m.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,E=c;var j=p,se=O;try{se()}catch(ge){$t(E,j,ge)}}}m=m.next}while(m!==x)}}catch(ge){$t(c,c.return,ge)}}function o4(A){var c=A.updateQueue;if(c!==null){var p=A.stateNode;try{X2(c,p)}catch(m){$t(A,A.return,m)}}}function A4(A,c,p){p.props=Bf(A.type,A.memoizedProps),p.state=A.memoizedState;try{p.componentWillUnmount()}catch(m){$t(A,c,m)}}function d0(A,c){try{var p=A.ref;if(p!==null){switch(A.tag){case 26:case 27:case 5:var m=A.stateNode;break;case 30:m=A.stateNode;break;default:m=A.stateNode}typeof p=="function"?A.refCleanup=p(m):p.current=m}}catch(E){$t(A,c,E)}}function Jo(A,c){var p=A.ref,m=A.refCleanup;if(p!==null)if(typeof m=="function")try{m()}catch(E){$t(A,c,E)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){$t(A,c,E)}else p.current=null}function l4(A){var c=A.type,p=A.memoizedProps,m=A.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&m.focus();break e;case"img":p.src?m.src=p.src:p.srcSet&&(m.srcset=p.srcSet)}}catch(E){$t(A,A.return,E)}}function fM(A,c,p){try{var m=A.stateNode;Rne(m,A.type,p,c),m[Mi]=c}catch(E){$t(A,A.return,E)}}function u4(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&fc(A.type)||A.tag===4}function hM(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||u4(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&fc(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function pM(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(A,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(A),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=$A));else if(m!==4&&(m===27&&fc(A.type)&&(p=A.stateNode,c=null),A=A.child,A!==null))for(pM(A,c,p),A=A.sibling;A!==null;)pM(A,c,p),A=A.sibling}function fS(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?p.insertBefore(A,c):p.appendChild(A);else if(m!==4&&(m===27&&fc(A.type)&&(p=A.stateNode),A=A.child,A!==null))for(fS(A,c,p),A=A.sibling;A!==null;)fS(A,c,p),A=A.sibling}function c4(A){var c=A.stateNode,p=A.memoizedProps;try{for(var m=A.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);fi(c,m,p),c[Dr]=A,c[Mi]=p}catch(x){$t(A,A.return,x)}}var nl=!1,xr=!1,gM=!1,d4=typeof WeakSet=="function"?WeakSet:Set,jr=null;function fne(A,c){if(A=A.containerInfo,LM=RS,A=B2(A),lF(A)){if("selectionStart"in A)var p={start:A.selectionStart,end:A.selectionEnd};else e:{p=(p=A.ownerDocument)&&p.defaultView||window;var m=p.getSelection&&p.getSelection();if(m&&m.rangeCount!==0){p=m.anchorNode;var E=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{p.nodeType,x.nodeType}catch{p=null;break e}var N=0,O=-1,j=-1,se=0,ge=0,Ce=A,ae=null;t:for(;;){for(var ue;Ce!==p||E!==0&&Ce.nodeType!==3||(O=N+E),Ce!==x||m!==0&&Ce.nodeType!==3||(j=N+m),Ce.nodeType===3&&(N+=Ce.nodeValue.length),(ue=Ce.firstChild)!==null;)ae=Ce,Ce=ue;for(;;){if(Ce===A)break t;if(ae===p&&++se===E&&(O=N),ae===x&&++ge===m&&(j=N),(ue=Ce.nextSibling)!==null)break;Ce=ae,ae=Ce.parentNode}Ce=ue}p=O===-1||j===-1?null:{start:O,end:j}}else p=null}p=p||{start:0,end:0}}else p=null;for(QM={focusedElem:A,selectionRange:p},RS=!1,jr=c;jr!==null;)if(c=jr,A=c.child,(c.subtreeFlags&1028)!==0&&A!==null)A.return=c,jr=A;else for(;jr!==null;){switch(c=jr,x=c.alternate,A=c.flags,c.tag){case 0:if((A&4)!==0&&(A=c.updateQueue,A=A!==null?A.events:null,A!==null))for(p=0;p<A.length;p++)E=A[p],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&x!==null){A=void 0,p=c,E=x.memoizedProps,x=x.memoizedState,m=p.stateNode;try{var He=Bf(p.type,E);A=m.getSnapshotBeforeUpdate(He,x),m.__reactInternalSnapshotBeforeUpdate=A}catch(Xe){$t(p,p.return,Xe)}}break;case 3:if((A&1024)!==0){if(A=c.stateNode.containerInfo,p=A.nodeType,p===9)HM(A);else if(p===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":HM(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(r(163))}if(A=c.sibling,A!==null){A.return=c.return,jr=A;break}jr=c.return}}function f4(A,c,p){var m=p.flags;switch(p.tag){case 0:case 11:case 15:il(A,p),m&4&&c0(5,p);break;case 1:if(il(A,p),m&4)if(A=p.stateNode,c===null)try{A.componentDidMount()}catch(N){$t(p,p.return,N)}else{var E=Bf(p.type,c.memoizedProps);c=c.memoizedState;try{A.componentDidUpdate(E,c,A.__reactInternalSnapshotBeforeUpdate)}catch(N){$t(p,p.return,N)}}m&64&&o4(p),m&512&&d0(p,p.return);break;case 3:if(il(A,p),m&64&&(A=p.updateQueue,A!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{X2(A,c)}catch(N){$t(p,p.return,N)}}break;case 27:c===null&&m&4&&c4(p);case 26:case 5:il(A,p),c===null&&m&4&&l4(p),m&512&&d0(p,p.return);break;case 12:il(A,p);break;case 31:il(A,p),m&4&&g4(A,p);break;case 13:il(A,p),m&4&&m4(A,p),m&64&&(A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(p=Cne.bind(null,p),Vne(A,p))));break;case 22:if(m=p.memoizedState!==null||nl,!m){c=c!==null&&c.memoizedState!==null||xr,E=nl;var x=xr;nl=m,(xr=c)&&!x?sl(A,p,(p.subtreeFlags&8772)!==0):il(A,p),nl=E,xr=x}break;case 30:break;default:il(A,p)}}function h4(A){var c=A.alternate;c!==null&&(A.alternate=null,h4(c)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(c=A.stateNode,c!==null&&Oy(c)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Ln=null,ls=!1;function rl(A,c,p){for(p=p.child;p!==null;)p4(A,c,p),p=p.sibling}function p4(A,c,p){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(bn,p)}catch{}switch(p.tag){case 26:xr||Jo(p,c),rl(A,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:xr||Jo(p,c);var m=Ln,E=ls;fc(p.type)&&(Ln=p.stateNode,ls=!1),rl(A,c,p),b0(p.stateNode),Ln=m,ls=E;break;case 5:xr||Jo(p,c);case 6:if(m=Ln,E=ls,Ln=null,rl(A,c,p),Ln=m,ls=E,Ln!==null)if(ls)try{(Ln.nodeType===9?Ln.body:Ln.nodeName==="HTML"?Ln.ownerDocument.body:Ln).removeChild(p.stateNode)}catch(x){$t(p,c,x)}else try{Ln.removeChild(p.stateNode)}catch(x){$t(p,c,x)}break;case 18:Ln!==null&&(ls?(A=Ln,oV(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,p.stateNode),yg(A)):oV(Ln,p.stateNode));break;case 4:m=Ln,E=ls,Ln=p.stateNode.containerInfo,ls=!0,rl(A,c,p),Ln=m,ls=E;break;case 0:case 11:case 14:case 15:ac(2,p,c),xr||ac(4,p,c),rl(A,c,p);break;case 1:xr||(Jo(p,c),m=p.stateNode,typeof m.componentWillUnmount=="function"&&A4(p,c,m)),rl(A,c,p);break;case 21:rl(A,c,p);break;case 22:xr=(m=xr)||p.memoizedState!==null,rl(A,c,p),xr=m;break;default:rl(A,c,p)}}function g4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{yg(A)}catch(p){$t(c,c.return,p)}}}function m4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{yg(A)}catch(p){$t(c,c.return,p)}}function hne(A){switch(A.tag){case 31:case 13:case 19:var c=A.stateNode;return c===null&&(c=A.stateNode=new d4),c;case 22:return A=A.stateNode,c=A._retryCache,c===null&&(c=A._retryCache=new d4),c;default:throw Error(r(435,A.tag))}}function hS(A,c){var p=hne(A);c.forEach(function(m){if(!p.has(m)){p.add(m);var E=Ene.bind(null,A,m);m.then(E,E)}})}function us(A,c){var p=c.deletions;if(p!==null)for(var m=0;m<p.length;m++){var E=p[m],x=A,N=c,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(fc(O.type)){Ln=O.stateNode,ls=!1;break e}break;case 5:Ln=O.stateNode,ls=!1;break e;case 3:case 4:Ln=O.stateNode.containerInfo,ls=!0;break e}O=O.return}if(Ln===null)throw Error(r(160));p4(x,N,E),Ln=null,ls=!1,x=E.alternate,x!==null&&(x.return=null),E.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)v4(c,A),c=c.sibling}var mo=null;function v4(A,c){var p=A.alternate,m=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:us(c,A),cs(A),m&4&&(ac(3,A,A.return),c0(3,A),ac(5,A,A.return));break;case 1:us(c,A),cs(A),m&512&&(xr||p===null||Jo(p,p.return)),m&64&&nl&&(A=A.updateQueue,A!==null&&(m=A.callbacks,m!==null&&(p=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=p===null?m:p.concat(m))));break;case 26:var E=mo;if(us(c,A),cs(A),m&512&&(xr||p===null||Jo(p,p.return)),m&4){var x=p!==null?p.memoizedState:null;if(m=A.memoizedState,p===null)if(m===null)if(A.stateNode===null){e:{m=A.type,p=A.memoizedProps,E=E.ownerDocument||E;t:switch(m){case"title":x=E.getElementsByTagName("title")[0],(!x||x[Af]||x[Dr]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=E.createElement(m),E.head.insertBefore(x,E.querySelector("head > title"))),fi(x,m,p),x[Dr]=A,Cr(x),m=x;break e;case"link":var N=vV("link","href",E).get(m+(p.href||""));if(N){for(var O=0;O<N.length;O++)if(x=N[O],x.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&x.getAttribute("rel")===(p.rel==null?null:p.rel)&&x.getAttribute("title")===(p.title==null?null:p.title)&&x.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){N.splice(O,1);break t}}x=E.createElement(m),fi(x,m,p),E.head.appendChild(x);break;case"meta":if(N=vV("meta","content",E).get(m+(p.content||""))){for(O=0;O<N.length;O++)if(x=N[O],x.getAttribute("content")===(p.content==null?null:""+p.content)&&x.getAttribute("name")===(p.name==null?null:p.name)&&x.getAttribute("property")===(p.property==null?null:p.property)&&x.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&x.getAttribute("charset")===(p.charSet==null?null:p.charSet)){N.splice(O,1);break t}}x=E.createElement(m),fi(x,m,p),E.head.appendChild(x);break;default:throw Error(r(468,m))}x[Dr]=A,Cr(x),m=x}A.stateNode=m}else yV(E,A.type,A.stateNode);else A.stateNode=mV(E,m,A.memoizedProps);else x!==m?(x===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):x.count--,m===null?yV(E,A.type,A.stateNode):mV(E,m,A.memoizedProps)):m===null&&A.stateNode!==null&&fM(A,A.memoizedProps,p.memoizedProps)}break;case 27:us(c,A),cs(A),m&512&&(xr||p===null||Jo(p,p.return)),p!==null&&m&4&&fM(A,A.memoizedProps,p.memoizedProps);break;case 5:if(us(c,A),cs(A),m&512&&(xr||p===null||Jo(p,p.return)),A.flags&32){E=A.stateNode;try{Vp(E,"")}catch(He){$t(A,A.return,He)}}m&4&&A.stateNode!=null&&(E=A.memoizedProps,fM(A,E,p!==null?p.memoizedProps:E)),m&1024&&(gM=!0);break;case 6:if(us(c,A),cs(A),m&4){if(A.stateNode===null)throw Error(r(162));m=A.memoizedProps,p=A.stateNode;try{p.nodeValue=m}catch(He){$t(A,A.return,He)}}break;case 3:if(FS=null,E=mo,mo=TS(c.containerInfo),us(c,A),mo=E,cs(A),m&4&&p!==null&&p.memoizedState.isDehydrated)try{yg(c.containerInfo)}catch(He){$t(A,A.return,He)}gM&&(gM=!1,y4(A));break;case 4:m=mo,mo=TS(A.stateNode.containerInfo),us(c,A),cs(A),mo=m;break;case 12:us(c,A),cs(A);break;case 31:us(c,A),cs(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,hS(A,m)));break;case 13:us(c,A),cs(A),A.child.flags&8192&&A.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(gS=Jt()),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,hS(A,m)));break;case 22:E=A.memoizedState!==null;var j=p!==null&&p.memoizedState!==null,se=nl,ge=xr;if(nl=se||E,xr=ge||j,us(c,A),xr=ge,nl=se,cs(A),m&8192)e:for(c=A.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(p===null||j||nl||xr||Sf(A)),p=null,c=A;;){if(c.tag===5||c.tag===26){if(p===null){j=p=c;try{if(x=j.stateNode,E)N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=j.stateNode;var Ce=j.memoizedProps.style,ae=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;O.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(He){$t(j,j.return,He)}}}else if(c.tag===6){if(p===null){j=c;try{j.stateNode.nodeValue=E?"":j.memoizedProps}catch(He){$t(j,j.return,He)}}}else if(c.tag===18){if(p===null){j=c;try{var ue=j.stateNode;E?AV(ue,!0):AV(j.stateNode,!1)}catch(He){$t(j,j.return,He)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===A)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break e;for(;c.sibling===null;){if(c.return===null||c.return===A)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=A.updateQueue,m!==null&&(p=m.retryQueue,p!==null&&(m.retryQueue=null,hS(A,p))));break;case 19:us(c,A),cs(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,hS(A,m)));break;case 30:break;case 21:break;default:us(c,A),cs(A)}}function cs(A){var c=A.flags;if(c&2){try{for(var p,m=A.return;m!==null;){if(u4(m)){p=m;break}m=m.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var E=p.stateNode,x=hM(A);fS(A,x,E);break;case 5:var N=p.stateNode;p.flags&32&&(Vp(N,""),p.flags&=-33);var O=hM(A);fS(A,O,N);break;case 3:case 4:var j=p.stateNode.containerInfo,se=hM(A);pM(A,se,j);break;default:throw Error(r(161))}}catch(ge){$t(A,A.return,ge)}A.flags&=-3}c&4096&&(A.flags&=-4097)}function y4(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var c=A;y4(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),A=A.sibling}}function il(A,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)f4(A,c.alternate,c),c=c.sibling}function Sf(A){for(A=A.child;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 14:case 15:ac(4,c,c.return),Sf(c);break;case 1:Jo(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&A4(c,c.return,p),Sf(c);break;case 27:b0(c.stateNode);case 26:case 5:Jo(c,c.return),Sf(c);break;case 22:c.memoizedState===null&&Sf(c);break;case 30:Sf(c);break;default:Sf(c)}A=A.sibling}}function sl(A,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,E=A,x=c,N=x.flags;switch(x.tag){case 0:case 11:case 15:sl(E,x,p),c0(4,x);break;case 1:if(sl(E,x,p),m=x,E=m.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(se){$t(m,m.return,se)}if(m=x,E=m.updateQueue,E!==null){var O=m.stateNode;try{var j=E.shared.hiddenCallbacks;if(j!==null)for(E.shared.hiddenCallbacks=null,E=0;E<j.length;E++)Y2(j[E],O)}catch(se){$t(m,m.return,se)}}p&&N&64&&o4(x),d0(x,x.return);break;case 27:c4(x);case 26:case 5:sl(E,x,p),p&&m===null&&N&4&&l4(x),d0(x,x.return);break;case 12:sl(E,x,p);break;case 31:sl(E,x,p),p&&N&4&&g4(E,x);break;case 13:sl(E,x,p),p&&N&4&&m4(E,x);break;case 22:x.memoizedState===null&&sl(E,x,p),d0(x,x.return);break;case 30:break;default:sl(E,x,p)}c=c.sibling}}function mM(A,c){var p=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),A=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(A=c.memoizedState.cachePool.pool),A!==p&&(A!=null&&A.refCount++,p!=null&&Jy(p))}function vM(A,c){A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&Jy(A))}function vo(A,c,p,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)w4(A,c,p,m),c=c.sibling}function w4(A,c,p,m){var E=c.flags;switch(c.tag){case 0:case 11:case 15:vo(A,c,p,m),E&2048&&c0(9,c);break;case 1:vo(A,c,p,m);break;case 3:vo(A,c,p,m),E&2048&&(A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&Jy(A)));break;case 12:if(E&2048){vo(A,c,p,m),A=c.stateNode;try{var x=c.memoizedProps,N=x.id,O=x.onPostCommit;typeof O=="function"&&O(N,c.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(j){$t(c,c.return,j)}}else vo(A,c,p,m);break;case 31:vo(A,c,p,m);break;case 13:vo(A,c,p,m);break;case 23:break;case 22:x=c.stateNode,N=c.alternate,c.memoizedState!==null?x._visibility&2?vo(A,c,p,m):f0(A,c):x._visibility&2?vo(A,c,p,m):(x._visibility|=2,Ag(A,c,p,m,(c.subtreeFlags&10256)!==0||!1)),E&2048&&mM(N,c);break;case 24:vo(A,c,p,m),E&2048&&vM(c.alternate,c);break;default:vo(A,c,p,m)}}function Ag(A,c,p,m,E){for(E=E&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var x=A,N=c,O=p,j=m,se=N.flags;switch(N.tag){case 0:case 11:case 15:Ag(x,N,O,j,E),c0(8,N);break;case 23:break;case 22:var ge=N.stateNode;N.memoizedState!==null?ge._visibility&2?Ag(x,N,O,j,E):f0(x,N):(ge._visibility|=2,Ag(x,N,O,j,E)),E&&se&2048&&mM(N.alternate,N);break;case 24:Ag(x,N,O,j,E),E&&se&2048&&vM(N.alternate,N);break;default:Ag(x,N,O,j,E)}c=c.sibling}}function f0(A,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=A,m=c,E=m.flags;switch(m.tag){case 22:f0(p,m),E&2048&&mM(m.alternate,m);break;case 24:f0(p,m),E&2048&&vM(m.alternate,m);break;default:f0(p,m)}c=c.sibling}}var h0=8192;function lg(A,c,p){if(A.subtreeFlags&h0)for(A=A.child;A!==null;)b4(A,c,p),A=A.sibling}function b4(A,c,p){switch(A.tag){case 26:lg(A,c,p),A.flags&h0&&A.memoizedState!==null&&ere(p,mo,A.memoizedState,A.memoizedProps);break;case 5:lg(A,c,p);break;case 3:case 4:var m=mo;mo=TS(A.stateNode.containerInfo),lg(A,c,p),mo=m;break;case 22:A.memoizedState===null&&(m=A.alternate,m!==null&&m.memoizedState!==null?(m=h0,h0=16777216,lg(A,c,p),h0=m):lg(A,c,p));break;default:lg(A,c,p)}}function C4(A){var c=A.alternate;if(c!==null&&(A=c.child,A!==null)){c.child=null;do c=A.sibling,A.sibling=null,A=c;while(A!==null)}}function p0(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];jr=m,B4(m,A)}C4(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)E4(A),A=A.sibling}function E4(A){switch(A.tag){case 0:case 11:case 15:p0(A),A.flags&2048&&ac(9,A,A.return);break;case 3:p0(A);break;case 12:p0(A);break;case 22:var c=A.stateNode;A.memoizedState!==null&&c._visibility&2&&(A.return===null||A.return.tag!==13)?(c._visibility&=-3,pS(A)):p0(A);break;default:p0(A)}}function pS(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];jr=m,B4(m,A)}C4(A)}for(A=A.child;A!==null;){switch(c=A,c.tag){case 0:case 11:case 15:ac(8,c,c.return),pS(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,pS(c));break;default:pS(c)}A=A.sibling}}function B4(A,c){for(;jr!==null;){var p=jr;switch(p.tag){case 0:case 11:case 15:ac(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var m=p.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Jy(p.memoizedState.cache)}if(m=p.child,m!==null)m.return=p,jr=m;else e:for(p=A;jr!==null;){m=jr;var E=m.sibling,x=m.return;if(h4(m),m===p){jr=null;break e}if(E!==null){E.return=x,jr=E;break e}jr=x}}}var pne={getCacheForType:function(A){var c=ci(Er),p=c.data.get(A);return p===void 0&&(p=A(),c.data.set(A,p)),p},cacheSignal:function(){return ci(Er).controller.signal}},gne=typeof WeakMap=="function"?WeakMap:Map,Ot=0,hn=null,yt=null,bt=0,zt=0,Qs=null,oc=!1,ug=!1,yM=!1,al=0,Zn=0,Ac=0,xf=0,wM=0,ks=0,cg=0,g0=null,ds=null,bM=!1,gS=0,S4=0,mS=1/0,vS=null,lc=null,Nr=0,uc=null,dg=null,ol=0,CM=0,EM=null,x4=null,m0=0,BM=null;function Os(){return(Ot&2)!==0&&bt!==0?bt&-bt:V.T!==null?FM():SB()}function _4(){if(ks===0)if((bt&536870912)===0||xt){var A=Cn;Cn<<=1,(Cn&3932160)===0&&(Cn=262144),ks=A}else ks=536870912;return A=Ns.current,A!==null&&(A.flags|=32),ks}function fs(A,c,p){(A===hn&&(zt===2||zt===9)||A.cancelPendingCommit!==null)&&(fg(A,0),cc(A,bt,ks,!1)),Fi(A,p),((Ot&2)===0||A!==hn)&&(A===hn&&((Ot&2)===0&&(xf|=p),Zn===4&&cc(A,bt,ks,!1)),Zo(A))}function T4(A,c,p){if((Ot&6)!==0)throw Error(r(327));var m=!p&&(c&127)===0&&(c&A.expiredLanes)===0||Bn(A,c),E=m?yne(A,c):xM(A,c,!0),x=m;do{if(E===0){ug&&!m&&cc(A,c,0,!1);break}else{if(p=A.current.alternate,x&&!mne(p)){E=xM(A,c,!1),x=!1;continue}if(E===2){if(x=c,A.errorRecoveryDisabledLanes&x)var N=0;else N=A.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){c=N;e:{var O=A;E=g0;var j=O.current.memoizedState.isDehydrated;if(j&&(fg(O,N).flags|=256),N=xM(O,N,!1),N!==2){if(yM&&!j){O.errorRecoveryDisabledLanes|=x,xf|=x,E=4;break e}x=ds,ds=E,x!==null&&(ds===null?ds=x:ds.push.apply(ds,x))}E=N}if(x=!1,E!==2)continue}}if(E===1){fg(A,0),cc(A,c,0,!0);break}e:{switch(m=A,x=E,x){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:cc(m,c,ks,!oc);break e;case 2:ds=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(E=gS+300-Jt(),10<E)){if(cc(m,c,ks,!oc),En(m,0,!0)!==0)break e;ol=c,m.timeoutHandle=sV(I4.bind(null,m,p,ds,vS,bM,c,ks,xf,cg,oc,x,"Throttled",-0,0),E);break e}I4(m,p,ds,vS,bM,c,ks,xf,cg,oc,x,null,-0,0)}}break}while(!0);Zo(A)}function I4(A,c,p,m,E,x,N,O,j,se,ge,Ce,ae,ue){if(A.timeoutHandle=-1,Ce=c.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$A},b4(c,x,Ce);var He=(x&62914560)===x?gS-Jt():(x&4194048)===x?S4-Jt():0;if(He=tre(Ce,He),He!==null){ol=x,A.cancelPendingCommit=He(L4.bind(null,A,c,x,p,m,E,N,O,j,ge,Ce,null,ae,ue)),cc(A,x,N,!se);return}}L4(A,c,x,p,m,E,N,O,j)}function mne(A){for(var c=A;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var m=0;m<p.length;m++){var E=p[m],x=E.getSnapshot;E=E.value;try{if(!Rs(x(),E))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function cc(A,c,p,m){c&=~wM,c&=~xf,A.suspendedLanes|=c,A.pingedLanes&=~c,m&&(A.warmLanes|=c),m=A.expirationTimes;for(var E=c;0<E;){var x=31-br(E),N=1<<x;m[x]=-1,E&=~N}p!==0&&of(A,p,c)}function yS(){return(Ot&6)===0?(v0(0),!1):!0}function SM(){if(yt!==null){if(zt===0)var A=yt.return;else A=yt,YA=mf=null,HF(A),rg=null,e0=0,A=yt;for(;A!==null;)a4(A.alternate,A),A=A.return;yt=null}}function fg(A,c){var p=A.timeoutHandle;p!==-1&&(A.timeoutHandle=-1,Lne(p)),p=A.cancelPendingCommit,p!==null&&(A.cancelPendingCommit=null,p()),ol=0,SM(),hn=A,yt=p=jA(A.current,null),bt=c,zt=0,Qs=null,oc=!1,ug=Bn(A,c),yM=!1,cg=ks=wM=xf=Ac=Zn=0,ds=g0=null,bM=!1,(c&8)!==0&&(c|=c&32);var m=A.entangledLanes;if(m!==0)for(A=A.entanglements,m&=c;0<m;){var E=31-br(m),x=1<<E;c|=A[E],m&=~x}return al=c,OB(),p}function F4(A,c){lt=null,V.H=A0,c===ng||c===jB?(c=$2(),zt=3):c===IF?(c=$2(),zt=4):zt=c===rM?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Qs=c,yt===null&&(Zn=1,AS(A,xa(c,A.current)))}function M4(){var A=Ns.current;return A===null?!0:(bt&4194048)===bt?Fa===null:(bt&62914560)===bt||(bt&536870912)!==0?A===Fa:!1}function U4(){var A=V.H;return V.H=A0,A===null?A0:A}function P4(){var A=V.A;return V.A=pne,A}function wS(){Zn=4,oc||(bt&4194048)!==bt&&Ns.current!==null||(ug=!0),(Ac&134217727)===0&&(xf&134217727)===0||hn===null||cc(hn,bt,ks,!1)}function xM(A,c,p){var m=Ot;Ot|=2;var E=U4(),x=P4();(hn!==A||bt!==c)&&(vS=null,fg(A,c)),c=!1;var N=Zn;e:do try{if(zt!==0&&yt!==null){var O=yt,j=Qs;switch(zt){case 8:SM(),N=6;break e;case 3:case 2:case 9:case 6:Ns.current===null&&(c=!0);var se=zt;if(zt=0,Qs=null,hg(A,O,j,se),p&&ug){N=0;break e}break;default:se=zt,zt=0,Qs=null,hg(A,O,j,se)}}vne(),N=Zn;break}catch(ge){F4(A,ge)}while(!0);return c&&A.shellSuspendCounter++,YA=mf=null,Ot=m,V.H=E,V.A=x,yt===null&&(hn=null,bt=0,OB()),N}function vne(){for(;yt!==null;)R4(yt)}function yne(A,c){var p=Ot;Ot|=2;var m=U4(),E=P4();hn!==A||bt!==c?(vS=null,mS=Jt()+500,fg(A,c)):ug=Bn(A,c);e:do try{if(zt!==0&&yt!==null){c=yt;var x=Qs;t:switch(zt){case 1:zt=0,Qs=null,hg(A,c,x,1);break;case 2:case 9:if(G2(x)){zt=0,Qs=null,D4(c);break}c=function(){zt!==2&&zt!==9||hn!==A||(zt=7),Zo(A)},x.then(c,c);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:G2(x)?(zt=0,Qs=null,D4(c)):(zt=0,Qs=null,hg(A,c,x,7));break;case 5:var N=null;switch(yt.tag){case 26:N=yt.memoizedState;case 5:case 27:var O=yt;if(N?wV(N):O.stateNode.complete){zt=0,Qs=null;var j=O.sibling;if(j!==null)yt=j;else{var se=O.return;se!==null?(yt=se,bS(se)):yt=null}break t}}zt=0,Qs=null,hg(A,c,x,5);break;case 6:zt=0,Qs=null,hg(A,c,x,6);break;case 8:SM(),Zn=6;break e;default:throw Error(r(462))}}wne();break}catch(ge){F4(A,ge)}while(!0);return YA=mf=null,V.H=m,V.A=E,Ot=p,yt!==null?0:(hn=null,bt=0,OB(),Zn)}function wne(){for(;yt!==null&&!wa();)R4(yt)}function R4(A){var c=i4(A.alternate,A,al);A.memoizedProps=A.pendingProps,c===null?bS(A):yt=c}function D4(A){var c=A,p=c.alternate;switch(c.tag){case 15:case 0:c=JH(p,c,c.pendingProps,c.type,void 0,bt);break;case 11:c=JH(p,c,c.pendingProps,c.type.render,c.ref,bt);break;case 5:HF(c);default:a4(p,c),c=yt=P2(c,al),c=i4(p,c,al)}A.memoizedProps=A.pendingProps,c===null?bS(A):yt=c}function hg(A,c,p,m){YA=mf=null,HF(c),rg=null,e0=0;var E=c.return;try{if(Ane(A,E,c,p,bt)){Zn=1,AS(A,xa(p,A.current)),yt=null;return}}catch(x){if(E!==null)throw yt=E,x;Zn=1,AS(A,xa(p,A.current)),yt=null;return}c.flags&32768?(xt||m===1?A=!0:ug||(bt&536870912)!==0?A=!1:(oc=A=!0,(m===2||m===9||m===3||m===6)&&(m=Ns.current,m!==null&&m.tag===13&&(m.flags|=16384))),N4(c,A)):bS(c)}function bS(A){var c=A;do{if((c.flags&32768)!==0){N4(c,oc);return}A=c.return;var p=cne(c.alternate,c,al);if(p!==null){yt=p;return}if(c=c.sibling,c!==null){yt=c;return}yt=c=A}while(c!==null);Zn===0&&(Zn=5)}function N4(A,c){do{var p=dne(A.alternate,A);if(p!==null){p.flags&=32767,yt=p;return}if(p=A.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(A=A.sibling,A!==null)){yt=A;return}yt=A=p}while(A!==null);Zn=6,yt=null}function L4(A,c,p,m,E,x,N,O,j){A.cancelPendingCommit=null;do CS();while(Nr!==0);if((Ot&6)!==0)throw Error(r(327));if(c!==null){if(c===A.current)throw Error(r(177));if(x=c.lanes|c.childLanes,x|=hF,jo(A,p,x,N,O,j),A===hn&&(yt=hn=null,bt=0),dg=c,uc=A,ol=p,CM=x,EM=E,x4=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,Bne(Pe,function(){return V4(),null})):(A.callbackNode=null,A.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=V.T,V.T=null,E=q.p,q.p=2,N=Ot,Ot|=4;try{fne(A,c,p)}finally{Ot=N,q.p=E,V.T=m}}Nr=1,Q4(),k4(),O4()}}function Q4(){if(Nr===1){Nr=0;var A=uc,c=dg,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=V.T,V.T=null;var m=q.p;q.p=2;var E=Ot;Ot|=4;try{v4(c,A);var x=QM,N=B2(A.containerInfo),O=x.focusedElem,j=x.selectionRange;if(N!==O&&O&&O.ownerDocument&&E2(O.ownerDocument.documentElement,O)){if(j!==null&&lF(O)){var se=j.start,ge=j.end;if(ge===void 0&&(ge=se),"selectionStart"in O)O.selectionStart=se,O.selectionEnd=Math.min(ge,O.value.length);else{var Ce=O.ownerDocument||document,ae=Ce&&Ce.defaultView||window;if(ae.getSelection){var ue=ae.getSelection(),He=O.textContent.length,Xe=Math.min(j.start,He),nn=j.end===void 0?Xe:Math.min(j.end,He);!ue.extend&&Xe>nn&&(N=nn,nn=Xe,Xe=N);var X=C2(O,Xe),W=C2(O,nn);if(X&&W&&(ue.rangeCount!==1||ue.anchorNode!==X.node||ue.anchorOffset!==X.offset||ue.focusNode!==W.node||ue.focusOffset!==W.offset)){var ie=Ce.createRange();ie.setStart(X.node,X.offset),ue.removeAllRanges(),Xe>nn?(ue.addRange(ie),ue.extend(W.node,W.offset)):(ie.setEnd(W.node,W.offset),ue.addRange(ie))}}}}for(Ce=[],ue=O;ue=ue.parentNode;)ue.nodeType===1&&Ce.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<Ce.length;O++){var we=Ce[O];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}RS=!!LM,QM=LM=null}finally{Ot=E,q.p=m,V.T=p}}A.current=c,Nr=2}}function k4(){if(Nr===2){Nr=0;var A=uc,c=dg,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=V.T,V.T=null;var m=q.p;q.p=2;var E=Ot;Ot|=4;try{f4(A,c.alternate,c)}finally{Ot=E,q.p=m,V.T=p}}Nr=3}}function O4(){if(Nr===4||Nr===3){Nr=0,ba();var A=uc,c=dg,p=ol,m=x4;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Nr=5:(Nr=0,dg=uc=null,H4(A,A.pendingLanes));var E=A.pendingLanes;if(E===0&&(lc=null),kp(p),c=c.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(bn,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=V.T,E=q.p,q.p=2,V.T=null;try{for(var x=A.onRecoverableError,N=0;N<m.length;N++){var O=m[N];x(O.value,{componentStack:O.stack})}}finally{V.T=c,q.p=E}}(ol&3)!==0&&CS(),Zo(A),E=A.pendingLanes,(p&261930)!==0&&(E&42)!==0?A===BM?m0++:(m0=0,BM=A):m0=0,v0(0)}}function H4(A,c){(A.pooledCacheLanes&=c)===0&&(c=A.pooledCache,c!=null&&(A.pooledCache=null,Jy(c)))}function CS(){return Q4(),k4(),O4(),V4()}function V4(){if(Nr!==5)return!1;var A=uc,c=CM;CM=0;var p=kp(ol),m=V.T,E=q.p;try{q.p=32>p?32:p,V.T=null,p=EM,EM=null;var x=uc,N=ol;if(Nr=0,dg=uc=null,ol=0,(Ot&6)!==0)throw Error(r(331));var O=Ot;if(Ot|=4,E4(x.current),w4(x,x.current,N,p),Ot=O,v0(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(bn,x)}catch{}return!0}finally{q.p=E,V.T=m,H4(A,c)}}function K4(A,c,p){c=xa(p,c),c=nM(A.stateNode,c,2),A=rc(A,c,2),A!==null&&(Fi(A,2),Zo(A))}function $t(A,c,p){if(A.tag===3)K4(A,A,p);else for(;c!==null;){if(c.tag===3){K4(c,A,p);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(lc===null||!lc.has(m))){A=xa(p,A),p=GH(2),m=rc(c,p,2),m!==null&&(zH(p,m,c,A),Fi(m,2),Zo(m));break}}c=c.return}}function _M(A,c,p){var m=A.pingCache;if(m===null){m=A.pingCache=new gne;var E=new Set;m.set(c,E)}else E=m.get(c),E===void 0&&(E=new Set,m.set(c,E));E.has(p)||(yM=!0,E.add(p),A=bne.bind(null,A,c,p),c.then(A,A))}function bne(A,c,p){var m=A.pingCache;m!==null&&m.delete(c),A.pingedLanes|=A.suspendedLanes&p,A.warmLanes&=~p,hn===A&&(bt&p)===p&&(Zn===4||Zn===3&&(bt&62914560)===bt&&300>Jt()-gS?(Ot&2)===0&&fg(A,0):wM|=p,cg===bt&&(cg=0)),Zo(A)}function G4(A,c){c===0&&(c=Yn()),A=hf(A,c),A!==null&&(Fi(A,c),Zo(A))}function Cne(A){var c=A.memoizedState,p=0;c!==null&&(p=c.retryLane),G4(A,p)}function Ene(A,c){var p=0;switch(A.tag){case 31:case 13:var m=A.stateNode,E=A.memoizedState;E!==null&&(p=E.retryLane);break;case 19:m=A.stateNode;break;case 22:m=A.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(c),G4(A,p)}function Bne(A,c){return Wn(A,c)}var ES=null,pg=null,TM=!1,BS=!1,IM=!1,dc=0;function Zo(A){A!==pg&&A.next===null&&(pg===null?ES=pg=A:pg=pg.next=A),BS=!0,TM||(TM=!0,xne())}function v0(A,c){if(!IM&&BS){IM=!0;do for(var p=!1,m=ES;m!==null;){if(A!==0){var E=m.pendingLanes;if(E===0)var x=0;else{var N=m.suspendedLanes,O=m.pingedLanes;x=(1<<31-br(42|A)+1)-1,x&=E&~(N&~O),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(p=!0,j4(m,x))}else x=bt,x=En(m,m===hn?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||Bn(m,x)||(p=!0,j4(m,x));m=m.next}while(p);IM=!1}}function Sne(){z4()}function z4(){BS=TM=!1;var A=0;dc!==0&&Nne()&&(A=dc);for(var c=Jt(),p=null,m=ES;m!==null;){var E=m.next,x=$4(m,c);x===0?(m.next=null,p===null?ES=E:p.next=E,E===null&&(pg=p)):(p=m,(A!==0||(x&3)!==0)&&(BS=!0)),m=E}Nr!==0&&Nr!==5||v0(A),dc!==0&&(dc=0)}function $4(A,c){for(var p=A.suspendedLanes,m=A.pingedLanes,E=A.expirationTimes,x=A.pendingLanes&-62914561;0<x;){var N=31-br(x),O=1<<N,j=E[N];j===-1?((O&p)===0||(O&m)!==0)&&(E[N]=Ca(O,c)):j<=c&&(A.expiredLanes|=O),x&=~O}if(c=hn,p=bt,p=En(A,A===c?p:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m=A.callbackNode,p===0||A===c&&(zt===2||zt===9)||A.cancelPendingCommit!==null)return m!==null&&m!==null&&Xt(m),A.callbackNode=null,A.callbackPriority=0;if((p&3)===0||Bn(A,p)){if(c=p&-p,c===A.callbackPriority)return c;switch(m!==null&&Xt(m),kp(p)){case 2:case 8:p=Be;break;case 32:p=Pe;break;case 268435456:p=Ke;break;default:p=Pe}return m=q4.bind(null,A),p=Wn(p,m),A.callbackPriority=c,A.callbackNode=p,c}return m!==null&&m!==null&&Xt(m),A.callbackPriority=2,A.callbackNode=null,2}function q4(A,c){if(Nr!==0&&Nr!==5)return A.callbackNode=null,A.callbackPriority=0,null;var p=A.callbackNode;if(CS()&&A.callbackNode!==p)return null;var m=bt;return m=En(A,A===hn?m:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m===0?null:(T4(A,m,c),$4(A,Jt()),A.callbackNode!=null&&A.callbackNode===p?q4.bind(null,A):null)}function j4(A,c){if(CS())return null;T4(A,c,!0)}function xne(){Qne(function(){(Ot&6)!==0?Wn(ee,Sne):z4()})}function FM(){if(dc===0){var A=eg;A===0&&(A=Mt,Mt<<=1,(Mt&261888)===0&&(Mt=256)),dc=A}return dc}function W4(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:UB(""+A)}function Y4(A,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,A.id&&p.setAttribute("form",A.id),c.parentNode.insertBefore(p,c),A=new FormData(A),p.parentNode.removeChild(p),A}function _ne(A,c,p,m,E){if(c==="submit"&&p&&p.stateNode===E){var x=W4((E[Mi]||null).action),N=m.submitter;N&&(c=(c=N[Mi]||null)?W4(c.formAction):N.getAttribute("formAction"),c!==null&&(x=c,N=null));var O=new NB("action","action",null,m,E);A.push({event:O,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(dc!==0){var j=N?Y4(E,N):new FormData(E);YF(p,{pending:!0,data:j,method:E.method,action:x},null,j)}}else typeof x=="function"&&(O.preventDefault(),j=N?Y4(E,N):new FormData(E),YF(p,{pending:!0,data:j,method:E.method,action:x},x,j))},currentTarget:E}]})}}for(var MM=0;MM<fF.length;MM++){var UM=fF[MM],Tne=UM.toLowerCase(),Ine=UM[0].toUpperCase()+UM.slice(1);go(Tne,"on"+Ine)}go(_2,"onAnimationEnd"),go(T2,"onAnimationIteration"),go(I2,"onAnimationStart"),go("dblclick","onDoubleClick"),go("focusin","onFocus"),go("focusout","onBlur"),go(zte,"onTransitionRun"),go($te,"onTransitionStart"),go(qte,"onTransitionCancel"),go(F2,"onTransitionEnd"),Ps("onMouseEnter",["mouseout","mouseover"]),Ps("onMouseLeave",["mouseout","mouseover"]),Ps("onPointerEnter",["pointerout","pointerover"]),Ps("onPointerLeave",["pointerout","pointerover"]),zA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zA("onBeforeInput",["compositionend","keypress","textInput","paste"]),zA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var y0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fne=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(y0));function X4(A,c){c=(c&4)!==0;for(var p=0;p<A.length;p++){var m=A[p],E=m.event;m=m.listeners;e:{var x=void 0;if(c)for(var N=m.length-1;0<=N;N--){var O=m[N],j=O.instance,se=O.currentTarget;if(O=O.listener,j!==x&&E.isPropagationStopped())break e;x=O,E.currentTarget=se;try{x(E)}catch(ge){kB(ge)}E.currentTarget=null,x=j}else for(N=0;N<m.length;N++){if(O=m[N],j=O.instance,se=O.currentTarget,O=O.listener,j!==x&&E.isPropagationStopped())break e;x=O,E.currentTarget=se;try{x(E)}catch(ge){kB(ge)}E.currentTarget=null,x=j}}}}function wt(A,c){var p=c[ky];p===void 0&&(p=c[ky]=new Set);var m=A+"__bubble";p.has(m)||(J4(c,A,2,!1),p.add(m))}function PM(A,c,p){var m=0;c&&(m|=4),J4(p,A,m,c)}var SS="_reactListening"+Math.random().toString(36).slice(2);function RM(A){if(!A[SS]){A[SS]=!0,Op.forEach(function(p){p!=="selectionchange"&&(Fne.has(p)||PM(p,!1,A),PM(p,!0,A))});var c=A.nodeType===9?A:A.ownerDocument;c===null||c[SS]||(c[SS]=!0,PM("selectionchange",!1,c))}}function J4(A,c,p,m){switch(_V(c)){case 2:var E=ire;break;case 8:E=sre;break;default:E=WM}p=E.bind(null,c,p,A),E=void 0,!eF||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),m?E!==void 0?A.addEventListener(c,p,{capture:!0,passive:E}):A.addEventListener(c,p,!0):E!==void 0?A.addEventListener(c,p,{passive:E}):A.addEventListener(c,p,!1)}function DM(A,c,p,m,E){var x=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var O=m.stateNode.containerInfo;if(O===E)break;if(N===4)for(N=m.return;N!==null;){var j=N.tag;if((j===3||j===4)&&N.stateNode.containerInfo===E)return;N=N.return}for(;O!==null;){if(N=GA(O),N===null)return;if(j=N.tag,j===5||j===6||j===26||j===27){m=x=N;continue e}O=O.parentNode}}m=m.return}r2(function(){var se=x,ge=JI(p),Ce=[];e:{var ae=M2.get(A);if(ae!==void 0){var ue=NB,He=A;switch(A){case"keypress":if(RB(p)===0)break e;case"keydown":case"keyup":ue=Ete;break;case"focusin":He="focus",ue=iF;break;case"focusout":He="blur",ue=iF;break;case"beforeblur":case"afterblur":ue=iF;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=a2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=cte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=xte;break;case _2:case T2:case I2:ue=hte;break;case F2:ue=Tte;break;case"scroll":case"scrollend":ue=lte;break;case"wheel":ue=Fte;break;case"copy":case"cut":case"paste":ue=gte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=A2;break;case"toggle":case"beforetoggle":ue=Ute}var Xe=(c&4)!==0,nn=!Xe&&(A==="scroll"||A==="scrollend"),X=Xe?ae!==null?ae+"Capture":null:ae;Xe=[];for(var W=se,ie;W!==null;){var we=W;if(ie=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ie===null||X===null||(we=Hy(W,X),we!=null&&Xe.push(w0(W,we,ie))),nn)break;W=W.return}0<Xe.length&&(ae=new ue(ae,He,null,p,ge),Ce.push({event:ae,listeners:Xe}))}}if((c&7)===0){e:{if(ae=A==="mouseover"||A==="pointerover",ue=A==="mouseout"||A==="pointerout",ae&&p!==XI&&(He=p.relatedTarget||p.fromElement)&&(GA(He)||He[KA]))break e;if((ue||ae)&&(ae=ge.window===ge?ge:(ae=ge.ownerDocument)?ae.defaultView||ae.parentWindow:window,ue?(He=p.relatedTarget||p.toElement,ue=se,He=He?GA(He):null,He!==null&&(nn=s(He),Xe=He.tag,He!==nn||Xe!==5&&Xe!==27&&Xe!==6)&&(He=null)):(ue=null,He=se),ue!==He)){if(Xe=a2,we="onMouseLeave",X="onMouseEnter",W="mouse",(A==="pointerout"||A==="pointerover")&&(Xe=A2,we="onPointerLeave",X="onPointerEnter",W="pointer"),nn=ue==null?ae:lf(ue),ie=He==null?ae:lf(He),ae=new Xe(we,W+"leave",ue,p,ge),ae.target=nn,ae.relatedTarget=ie,we=null,GA(ge)===se&&(Xe=new Xe(X,W+"enter",He,p,ge),Xe.target=ie,Xe.relatedTarget=nn,we=Xe),nn=we,ue&&He)t:{for(Xe=Mne,X=ue,W=He,ie=0,we=X;we;we=Xe(we))ie++;we=0;for(var We=W;We;We=Xe(We))we++;for(;0<ie-we;)X=Xe(X),ie--;for(;0<we-ie;)W=Xe(W),we--;for(;ie--;){if(X===W||W!==null&&X===W.alternate){Xe=X;break t}X=Xe(X),W=Xe(W)}Xe=null}else Xe=null;ue!==null&&Z4(Ce,ae,ue,Xe,!1),He!==null&&nn!==null&&Z4(Ce,nn,He,Xe,!0)}}e:{if(ae=se?lf(se):window,ue=ae.nodeName&&ae.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ae.type==="file")var Dt=g2;else if(h2(ae))if(m2)Dt=Vte;else{Dt=Ote;var Ge=kte}else ue=ae.nodeName,!ue||ue.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?se&&YI(se.elementType)&&(Dt=g2):Dt=Hte;if(Dt&&(Dt=Dt(A,se))){p2(Ce,Dt,p,ge);break e}Ge&&Ge(A,ae,se),A==="focusout"&&se&&ae.type==="number"&&se.memoizedProps.value!=null&&WI(ae,"number",ae.value)}switch(Ge=se?lf(se):window,A){case"focusin":(h2(Ge)||Ge.contentEditable==="true")&&($p=Ge,uF=se,Wy=null);break;case"focusout":Wy=uF=$p=null;break;case"mousedown":cF=!0;break;case"contextmenu":case"mouseup":case"dragend":cF=!1,S2(Ce,p,ge);break;case"selectionchange":if(Gte)break;case"keydown":case"keyup":S2(Ce,p,ge)}var dt;if(aF)e:{switch(A){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else zp?d2(A,p)&&(Ct="onCompositionEnd"):A==="keydown"&&p.keyCode===229&&(Ct="onCompositionStart");Ct&&(l2&&p.locale!=="ko"&&(zp||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&zp&&(dt=i2()):(Yu=ge,tF="value"in Yu?Yu.value:Yu.textContent,zp=!0)),Ge=xS(se,Ct),0<Ge.length&&(Ct=new o2(Ct,A,null,p,ge),Ce.push({event:Ct,listeners:Ge}),dt?Ct.data=dt:(dt=f2(p),dt!==null&&(Ct.data=dt)))),(dt=Rte?Dte(A,p):Nte(A,p))&&(Ct=xS(se,"onBeforeInput"),0<Ct.length&&(Ge=new o2("onBeforeInput","beforeinput",null,p,ge),Ce.push({event:Ge,listeners:Ct}),Ge.data=dt)),_ne(Ce,A,se,p,ge)}X4(Ce,c)})}function w0(A,c,p){return{instance:A,listener:c,currentTarget:p}}function xS(A,c){for(var p=c+"Capture",m=[];A!==null;){var E=A,x=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||x===null||(E=Hy(A,p),E!=null&&m.unshift(w0(A,E,x)),E=Hy(A,c),E!=null&&m.push(w0(A,E,x))),A.tag===3)return m;A=A.return}return[]}function Mne(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function Z4(A,c,p,m,E){for(var x=c._reactName,N=[];p!==null&&p!==m;){var O=p,j=O.alternate,se=O.stateNode;if(O=O.tag,j!==null&&j===m)break;O!==5&&O!==26&&O!==27||se===null||(j=se,E?(se=Hy(p,x),se!=null&&N.unshift(w0(p,se,j))):E||(se=Hy(p,x),se!=null&&N.push(w0(p,se,j)))),p=p.return}N.length!==0&&A.push({event:c,listeners:N})}var Une=/\r\n?/g,Pne=/\u0000|\uFFFD/g;function eV(A){return(typeof A=="string"?A:""+A).replace(Une,`
`).replace(Pne,"")}function tV(A,c){return c=eV(c),eV(A)===c}function tn(A,c,p,m,E,x){switch(p){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Vp(A,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Vp(A,""+m);break;case"className":Te(A,"class",m);break;case"tabIndex":Te(A,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Te(A,p,m);break;case"style":t2(A,m,x);break;case"data":if(c!=="object"){Te(A,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||p!=="href")){A.removeAttribute(p);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=UB(""+m),A.setAttribute(p,m);break;case"action":case"formAction":if(typeof m=="function"){A.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(p==="formAction"?(c!=="input"&&tn(A,c,"name",E.name,E,null),tn(A,c,"formEncType",E.formEncType,E,null),tn(A,c,"formMethod",E.formMethod,E,null),tn(A,c,"formTarget",E.formTarget,E,null)):(tn(A,c,"encType",E.encType,E,null),tn(A,c,"method",E.method,E,null),tn(A,c,"target",E.target,E,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=UB(""+m),A.setAttribute(p,m);break;case"onClick":m!=null&&(A.onclick=$A);break;case"onScroll":m!=null&&wt("scroll",A);break;case"onScrollEnd":m!=null&&wt("scrollend",A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(p=m.__html,p!=null){if(E.children!=null)throw Error(r(60));A.innerHTML=p}}break;case"multiple":A.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":A.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){A.removeAttribute("xlink:href");break}p=UB(""+m),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""+m):A.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""):A.removeAttribute(p);break;case"capture":case"download":m===!0?A.setAttribute(p,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,m):A.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?A.setAttribute(p,m):A.removeAttribute(p);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?A.removeAttribute(p):A.setAttribute(p,m);break;case"popover":wt("beforetoggle",A),wt("toggle",A),_e(A,"popover",m);break;case"xlinkActuate":Fe(A,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Fe(A,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Fe(A,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Fe(A,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Fe(A,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Fe(A,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Fe(A,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Fe(A,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Fe(A,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":_e(A,"is",m);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=ote.get(p)||p,_e(A,p,m))}}function NM(A,c,p,m,E,x){switch(p){case"style":t2(A,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(p=m.__html,p!=null){if(E.children!=null)throw Error(r(60));A.innerHTML=p}}break;case"children":typeof m=="string"?Vp(A,m):(typeof m=="number"||typeof m=="bigint")&&Vp(A,""+m);break;case"onScroll":m!=null&&wt("scroll",A);break;case"onScrollEnd":m!=null&&wt("scrollend",A);break;case"onClick":m!=null&&(A.onclick=$A);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!IB.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),c=p.slice(2,E?p.length-7:void 0),x=A[Mi]||null,x=x!=null?x[p]:null,typeof x=="function"&&A.removeEventListener(c,x,E),typeof m=="function")){typeof x!="function"&&x!==null&&(p in A?A[p]=null:A.hasAttribute(p)&&A.removeAttribute(p)),A.addEventListener(c,m,E);break e}p in A?A[p]=m:m===!0?A.setAttribute(p,""):_e(A,p,m)}}}function fi(A,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",A),wt("load",A);var m=!1,E=!1,x;for(x in p)if(p.hasOwnProperty(x)){var N=p[x];if(N!=null)switch(x){case"src":m=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:tn(A,c,x,N,p,null)}}E&&tn(A,c,"srcSet",p.srcSet,p,null),m&&tn(A,c,"src",p.src,p,null);return;case"input":wt("invalid",A);var O=x=N=E=null,j=null,se=null;for(m in p)if(p.hasOwnProperty(m)){var ge=p[m];if(ge!=null)switch(m){case"name":E=ge;break;case"type":N=ge;break;case"checked":j=ge;break;case"defaultChecked":se=ge;break;case"value":x=ge;break;case"defaultValue":O=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,c));break;default:tn(A,c,m,ge,p,null)}}XO(A,x,O,j,se,N,E,!1);return;case"select":wt("invalid",A),m=N=x=null;for(E in p)if(p.hasOwnProperty(E)&&(O=p[E],O!=null))switch(E){case"value":x=O;break;case"defaultValue":N=O;break;case"multiple":m=O;default:tn(A,c,E,O,p,null)}c=x,p=N,A.multiple=!!m,c!=null?Hp(A,!!m,c,!1):p!=null&&Hp(A,!!m,p,!0);return;case"textarea":wt("invalid",A),x=E=m=null;for(N in p)if(p.hasOwnProperty(N)&&(O=p[N],O!=null))switch(N){case"value":m=O;break;case"defaultValue":E=O;break;case"children":x=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:tn(A,c,N,O,p,null)}ZO(A,m,E,x);return;case"option":for(j in p)if(p.hasOwnProperty(j)&&(m=p[j],m!=null))switch(j){case"selected":A.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:tn(A,c,j,m,p,null)}return;case"dialog":wt("beforetoggle",A),wt("toggle",A),wt("cancel",A),wt("close",A);break;case"iframe":case"object":wt("load",A);break;case"video":case"audio":for(m=0;m<y0.length;m++)wt(y0[m],A);break;case"image":wt("error",A),wt("load",A);break;case"details":wt("toggle",A);break;case"embed":case"source":case"link":wt("error",A),wt("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in p)if(p.hasOwnProperty(se)&&(m=p[se],m!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:tn(A,c,se,m,p,null)}return;default:if(YI(c)){for(ge in p)p.hasOwnProperty(ge)&&(m=p[ge],m!==void 0&&NM(A,c,ge,m,p,void 0));return}}for(O in p)p.hasOwnProperty(O)&&(m=p[O],m!=null&&tn(A,c,O,m,p,null))}function Rne(A,c,p,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,x=null,N=null,O=null,j=null,se=null,ge=null;for(ue in p){var Ce=p[ue];if(p.hasOwnProperty(ue)&&Ce!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":j=Ce;default:m.hasOwnProperty(ue)||tn(A,c,ue,null,m,Ce)}}for(var ae in m){var ue=m[ae];if(Ce=p[ae],m.hasOwnProperty(ae)&&(ue!=null||Ce!=null))switch(ae){case"type":x=ue;break;case"name":E=ue;break;case"checked":se=ue;break;case"defaultChecked":ge=ue;break;case"value":N=ue;break;case"defaultValue":O=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,c));break;default:ue!==Ce&&tn(A,c,ae,ue,m,Ce)}}jI(A,N,O,j,se,ge,x,E);return;case"select":ue=N=O=ae=null;for(x in p)if(j=p[x],p.hasOwnProperty(x)&&j!=null)switch(x){case"value":break;case"multiple":ue=j;default:m.hasOwnProperty(x)||tn(A,c,x,null,m,j)}for(E in m)if(x=m[E],j=p[E],m.hasOwnProperty(E)&&(x!=null||j!=null))switch(E){case"value":ae=x;break;case"defaultValue":O=x;break;case"multiple":N=x;default:x!==j&&tn(A,c,E,x,m,j)}c=O,p=N,m=ue,ae!=null?Hp(A,!!p,ae,!1):!!m!=!!p&&(c!=null?Hp(A,!!p,c,!0):Hp(A,!!p,p?[]:"",!1));return;case"textarea":ue=ae=null;for(O in p)if(E=p[O],p.hasOwnProperty(O)&&E!=null&&!m.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:tn(A,c,O,null,m,E)}for(N in m)if(E=m[N],x=p[N],m.hasOwnProperty(N)&&(E!=null||x!=null))switch(N){case"value":ae=E;break;case"defaultValue":ue=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==x&&tn(A,c,N,E,m,x)}JO(A,ae,ue);return;case"option":for(var He in p)if(ae=p[He],p.hasOwnProperty(He)&&ae!=null&&!m.hasOwnProperty(He))switch(He){case"selected":A.selected=!1;break;default:tn(A,c,He,null,m,ae)}for(j in m)if(ae=m[j],ue=p[j],m.hasOwnProperty(j)&&ae!==ue&&(ae!=null||ue!=null))switch(j){case"selected":A.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:tn(A,c,j,ae,m,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in p)ae=p[Xe],p.hasOwnProperty(Xe)&&ae!=null&&!m.hasOwnProperty(Xe)&&tn(A,c,Xe,null,m,ae);for(se in m)if(ae=m[se],ue=p[se],m.hasOwnProperty(se)&&ae!==ue&&(ae!=null||ue!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,c));break;default:tn(A,c,se,ae,m,ue)}return;default:if(YI(c)){for(var nn in p)ae=p[nn],p.hasOwnProperty(nn)&&ae!==void 0&&!m.hasOwnProperty(nn)&&NM(A,c,nn,void 0,m,ae);for(ge in m)ae=m[ge],ue=p[ge],!m.hasOwnProperty(ge)||ae===ue||ae===void 0&&ue===void 0||NM(A,c,ge,ae,m,ue);return}}for(var X in p)ae=p[X],p.hasOwnProperty(X)&&ae!=null&&!m.hasOwnProperty(X)&&tn(A,c,X,null,m,ae);for(Ce in m)ae=m[Ce],ue=p[Ce],!m.hasOwnProperty(Ce)||ae===ue||ae==null&&ue==null||tn(A,c,Ce,ae,m,ue)}function nV(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dne(){if(typeof performance.getEntriesByType=="function"){for(var A=0,c=0,p=performance.getEntriesByType("resource"),m=0;m<p.length;m++){var E=p[m],x=E.transferSize,N=E.initiatorType,O=E.duration;if(x&&O&&nV(N)){for(N=0,O=E.responseEnd,m+=1;m<p.length;m++){var j=p[m],se=j.startTime;if(se>O)break;var ge=j.transferSize,Ce=j.initiatorType;ge&&nV(Ce)&&(j=j.responseEnd,N+=ge*(j<O?1:(O-se)/(j-se)))}if(--m,c+=8*(x+N)/(E.duration/1e3),A++,10<A)break}}if(0<A)return c/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var LM=null,QM=null;function _S(A){return A.nodeType===9?A:A.ownerDocument}function rV(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iV(A,c){if(A===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&c==="foreignObject"?0:A}function kM(A,c){return A==="textarea"||A==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var OM=null;function Nne(){var A=window.event;return A&&A.type==="popstate"?A===OM?!1:(OM=A,!0):(OM=null,!1)}var sV=typeof setTimeout=="function"?setTimeout:void 0,Lne=typeof clearTimeout=="function"?clearTimeout:void 0,aV=typeof Promise=="function"?Promise:void 0,Qne=typeof queueMicrotask=="function"?queueMicrotask:typeof aV<"u"?function(A){return aV.resolve(null).then(A).catch(kne)}:sV;function kne(A){setTimeout(function(){throw A})}function fc(A){return A==="head"}function oV(A,c){var p=c,m=0;do{var E=p.nextSibling;if(A.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"||p==="/&"){if(m===0){A.removeChild(E),yg(c);return}m--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")m++;else if(p==="html")b0(A.ownerDocument.documentElement);else if(p==="head"){p=A.ownerDocument.head,b0(p);for(var x=p.firstChild;x;){var N=x.nextSibling,O=x.nodeName;x[Af]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&x.rel.toLowerCase()==="stylesheet"||p.removeChild(x),x=N}}else p==="body"&&b0(A.ownerDocument.body);p=E}while(p);yg(c)}function AV(A,c){var p=A;A=0;do{var m=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),m&&m.nodeType===8)if(p=m.data,p==="/$"){if(A===0)break;A--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||A++;p=m}while(p)}function HM(A){var c=A.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":HM(p),Oy(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}A.removeChild(p)}}function One(A,c,p,m){for(;A.nodeType===1;){var E=p;if(A.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(m){if(!A[Af])switch(c){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(x=A.getAttribute("rel"),x==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(x!==E.rel||A.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||A.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||A.getAttribute("title")!==(E.title==null?null:E.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(x=A.getAttribute("src"),(x!==(E.src==null?null:E.src)||A.getAttribute("type")!==(E.type==null?null:E.type)||A.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&x&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(c==="input"&&A.type==="hidden"){var x=E.name==null?null:""+E.name;if(E.type==="hidden"&&A.getAttribute("name")===x)return A}else return A;if(A=Ma(A.nextSibling),A===null)break}return null}function Hne(A,c,p){if(c==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!p||(A=Ma(A.nextSibling),A===null))return null;return A}function lV(A,c){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!c||(A=Ma(A.nextSibling),A===null))return null;return A}function VM(A){return A.data==="$?"||A.data==="$~"}function KM(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function Vne(A,c){var p=A.ownerDocument;if(A.data==="$~")A._reactRetry=c;else if(A.data!=="$?"||p.readyState!=="loading")c();else{var m=function(){c(),p.removeEventListener("DOMContentLoaded",m)};p.addEventListener("DOMContentLoaded",m),A._reactRetry=m}}function Ma(A){for(;A!=null;A=A.nextSibling){var c=A.nodeType;if(c===1||c===3)break;if(c===8){if(c=A.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return A}var GM=null;function uV(A){A=A.nextSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="/$"||p==="/&"){if(c===0)return Ma(A.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}A=A.nextSibling}return null}function cV(A){A=A.previousSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return A;c--}else p!=="/$"&&p!=="/&"||c++}A=A.previousSibling}return null}function dV(A,c,p){switch(c=_S(p),A){case"html":if(A=c.documentElement,!A)throw Error(r(452));return A;case"head":if(A=c.head,!A)throw Error(r(453));return A;case"body":if(A=c.body,!A)throw Error(r(454));return A;default:throw Error(r(451))}}function b0(A){for(var c=A.attributes;c.length;)A.removeAttributeNode(c[0]);Oy(A)}var Ua=new Map,fV=new Set;function TS(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var Al=q.d;q.d={f:Kne,r:Gne,D:zne,C:$ne,L:qne,m:jne,X:Yne,S:Wne,M:Xne};function Kne(){var A=Al.f(),c=yS();return A||c}function Gne(A){var c=ju(A);c!==null&&c.tag===5&&c.type==="form"?FH(c):Al.r(A)}var gg=typeof document>"u"?null:document;function hV(A,c,p){var m=gg;if(m&&typeof c=="string"&&c){var E=Ba(c);E='link[rel="'+A+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),fV.has(E)||(fV.add(E),A={rel:A,crossOrigin:p,href:c},m.querySelector(E)===null&&(c=m.createElement("link"),fi(c,"link",A),Cr(c),m.head.appendChild(c)))}}function zne(A){Al.D(A),hV("dns-prefetch",A,null)}function $ne(A,c){Al.C(A,c),hV("preconnect",A,c)}function qne(A,c,p){Al.L(A,c,p);var m=gg;if(m&&A&&c){var E='link[rel="preload"][as="'+Ba(c)+'"]';c==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+Ba(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+Ba(p.imageSizes)+'"]')):E+='[href="'+Ba(A)+'"]';var x=E;switch(c){case"style":x=mg(A);break;case"script":x=vg(A)}Ua.has(x)||(A=h({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:A,as:c},p),Ua.set(x,A),m.querySelector(E)!==null||c==="style"&&m.querySelector(C0(x))||c==="script"&&m.querySelector(E0(x))||(c=m.createElement("link"),fi(c,"link",A),Cr(c),m.head.appendChild(c)))}}function jne(A,c){Al.m(A,c);var p=gg;if(p&&A){var m=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+Ba(m)+'"][href="'+Ba(A)+'"]',x=E;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=vg(A)}if(!Ua.has(x)&&(A=h({rel:"modulepreload",href:A},c),Ua.set(x,A),p.querySelector(E)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(E0(x)))return}m=p.createElement("link"),fi(m,"link",A),Cr(m),p.head.appendChild(m)}}}function Wne(A,c,p){Al.S(A,c,p);var m=gg;if(m&&A){var E=Wu(m).hoistableStyles,x=mg(A);c=c||"default";var N=E.get(x);if(!N){var O={loading:0,preload:null};if(N=m.querySelector(C0(x)))O.loading=5;else{A=h({rel:"stylesheet",href:A,"data-precedence":c},p),(p=Ua.get(x))&&zM(A,p);var j=N=m.createElement("link");Cr(j),fi(j,"link",A),j._p=new Promise(function(se,ge){j.onload=se,j.onerror=ge}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,IS(N,c,m)}N={type:"stylesheet",instance:N,count:1,state:O},E.set(x,N)}}}function Yne(A,c){Al.X(A,c);var p=gg;if(p&&A){var m=Wu(p).hoistableScripts,E=vg(A),x=m.get(E);x||(x=p.querySelector(E0(E)),x||(A=h({src:A,async:!0},c),(c=Ua.get(E))&&$M(A,c),x=p.createElement("script"),Cr(x),fi(x,"link",A),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(E,x))}}function Xne(A,c){Al.M(A,c);var p=gg;if(p&&A){var m=Wu(p).hoistableScripts,E=vg(A),x=m.get(E);x||(x=p.querySelector(E0(E)),x||(A=h({src:A,async:!0,type:"module"},c),(c=Ua.get(E))&&$M(A,c),x=p.createElement("script"),Cr(x),fi(x,"link",A),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(E,x))}}function pV(A,c,p,m){var E=(E=fe.current)?TS(E):null;if(!E)throw Error(r(446));switch(A){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=mg(p.href),p=Wu(E).hoistableStyles,m=p.get(c),m||(m={type:"style",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){A=mg(p.href);var x=Wu(E).hoistableStyles,N=x.get(A);if(N||(E=E.ownerDocument||E,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(A,N),(x=E.querySelector(C0(A)))&&!x._p&&(N.instance=x,N.state.loading=5),Ua.has(A)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Ua.set(A,p),x||Jne(E,A,p,N.state))),c&&m===null)throw Error(r(528,""));return N}if(c&&m!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=vg(p),p=Wu(E).hoistableScripts,m=p.get(c),m||(m={type:"script",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,A))}}function mg(A){return'href="'+Ba(A)+'"'}function C0(A){return'link[rel="stylesheet"]['+A+"]"}function gV(A){return h({},A,{"data-precedence":A.precedence,precedence:null})}function Jne(A,c,p,m){A.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=A.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),fi(c,"link",p),Cr(c),A.head.appendChild(c))}function vg(A){return'[src="'+Ba(A)+'"]'}function E0(A){return"script[async]"+A}function mV(A,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var m=A.querySelector('style[data-href~="'+Ba(p.href)+'"]');if(m)return c.instance=m,Cr(m),m;var E=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return m=(A.ownerDocument||A).createElement("style"),Cr(m),fi(m,"style",E),IS(m,p.precedence,A),c.instance=m;case"stylesheet":E=mg(p.href);var x=A.querySelector(C0(E));if(x)return c.state.loading|=4,c.instance=x,Cr(x),x;m=gV(p),(E=Ua.get(E))&&zM(m,E),x=(A.ownerDocument||A).createElement("link"),Cr(x);var N=x;return N._p=new Promise(function(O,j){N.onload=O,N.onerror=j}),fi(x,"link",m),c.state.loading|=4,IS(x,p.precedence,A),c.instance=x;case"script":return x=vg(p.src),(E=A.querySelector(E0(x)))?(c.instance=E,Cr(E),E):(m=p,(E=Ua.get(x))&&(m=h({},p),$M(m,E)),A=A.ownerDocument||A,E=A.createElement("script"),Cr(E),fi(E,"link",m),A.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,IS(m,p.precedence,A));return c.instance}function IS(A,c,p){for(var m=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=m.length?m[m.length-1]:null,x=E,N=0;N<m.length;N++){var O=m[N];if(O.dataset.precedence===c)x=O;else if(x!==E)break}x?x.parentNode.insertBefore(A,x.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(A,c.firstChild))}function zM(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.title==null&&(A.title=c.title)}function $M(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.integrity==null&&(A.integrity=c.integrity)}var FS=null;function vV(A,c,p){if(FS===null){var m=new Map,E=FS=new Map;E.set(p,m)}else E=FS,m=E.get(p),m||(m=new Map,E.set(p,m));if(m.has(A))return m;for(m.set(A,null),p=p.getElementsByTagName(A),E=0;E<p.length;E++){var x=p[E];if(!(x[Af]||x[Dr]||A==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var N=x.getAttribute(c)||"";N=A+N;var O=m.get(N);O?O.push(x):m.set(N,[x])}}return m}function yV(A,c,p){A=A.ownerDocument||A,A.head.insertBefore(p,c==="title"?A.querySelector("head > title"):null)}function Zne(A,c,p){if(p===1||c.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return A=c.disabled,typeof c.precedence=="string"&&A==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function wV(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function ere(A,c,p,m){if(p.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var E=mg(m.href),x=c.querySelector(C0(E));if(x){c=x._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(A.count++,A=MS.bind(A),c.then(A,A)),p.state.loading|=4,p.instance=x,Cr(x);return}x=c.ownerDocument||c,m=gV(m),(E=Ua.get(E))&&zM(m,E),x=x.createElement("link"),Cr(x);var N=x;N._p=new Promise(function(O,j){N.onload=O,N.onerror=j}),fi(x,"link",m),p.instance=x}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(A.count++,p=MS.bind(A),c.addEventListener("load",p),c.addEventListener("error",p))}}var qM=0;function tre(A,c){return A.stylesheets&&A.count===0&&PS(A,A.stylesheets),0<A.count||0<A.imgCount?function(p){var m=setTimeout(function(){if(A.stylesheets&&PS(A,A.stylesheets),A.unsuspend){var x=A.unsuspend;A.unsuspend=null,x()}},6e4+c);0<A.imgBytes&&qM===0&&(qM=62500*Dne());var E=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&PS(A,A.stylesheets),A.unsuspend)){var x=A.unsuspend;A.unsuspend=null,x()}},(A.imgBytes>qM?50:800)+c);return A.unsuspend=p,function(){A.unsuspend=null,clearTimeout(m),clearTimeout(E)}}:null}function MS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)PS(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var US=null;function PS(A,c){A.stylesheets=null,A.unsuspend!==null&&(A.count++,US=new Map,c.forEach(nre,A),US=null,MS.call(A))}function nre(A,c){if(!(c.state.loading&4)){var p=US.get(A);if(p)var m=p.get(null);else{p=new Map,US.set(A,p);for(var E=A.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<E.length;x++){var N=E[x];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(p.set(N.dataset.precedence,N),m=N)}m&&p.set(null,m)}E=c.instance,N=E.getAttribute("data-precedence"),x=p.get(N)||m,x===m&&p.set(null,E),p.set(N,E),this.count++,m=MS.bind(this),E.addEventListener("load",m),E.addEventListener("error",m),x?x.parentNode.insertBefore(E,x.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(E,A.firstChild)),c.state.loading|=4}}var B0={$$typeof:T,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function rre(A,c,p,m,E,x,N,O,j){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=m,this.onUncaughtError=E,this.onCaughtError=x,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function bV(A,c,p,m,E,x,N,O,j,se,ge,Ce){return A=new rre(A,c,p,N,j,se,ge,Ce,O),c=1,x===!0&&(c|=24),x=Ds(3,null,null,c),A.current=x,x.stateNode=A,c=xF(),c.refCount++,A.pooledCache=c,c.refCount++,x.memoizedState={element:m,isDehydrated:p,cache:c},FF(x),A}function CV(A){return A?(A=Wp,A):Wp}function EV(A,c,p,m,E,x){E=CV(E),m.context===null?m.context=E:m.pendingContext=E,m=nc(c),m.payload={element:p},x=x===void 0?null:x,x!==null&&(m.callback=x),p=rc(A,m,c),p!==null&&(fs(p,A,c),n0(p,A,c))}function BV(A,c){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var p=A.retryLane;A.retryLane=p!==0&&p<c?p:c}}function jM(A,c){BV(A,c),(A=A.alternate)&&BV(A,c)}function SV(A){if(A.tag===13||A.tag===31){var c=hf(A,67108864);c!==null&&fs(c,A,67108864),jM(A,67108864)}}function xV(A){if(A.tag===13||A.tag===31){var c=Os();c=Qy(c);var p=hf(A,c);p!==null&&fs(p,A,c),jM(A,c)}}var RS=!0;function ire(A,c,p,m){var E=V.T;V.T=null;var x=q.p;try{q.p=2,WM(A,c,p,m)}finally{q.p=x,V.T=E}}function sre(A,c,p,m){var E=V.T;V.T=null;var x=q.p;try{q.p=8,WM(A,c,p,m)}finally{q.p=x,V.T=E}}function WM(A,c,p,m){if(RS){var E=YM(m);if(E===null)DM(A,c,m,DS,p),TV(A,m);else if(ore(E,A,c,p,m))m.stopPropagation();else if(TV(A,m),c&4&&-1<are.indexOf(A)){for(;E!==null;){var x=ju(E);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var N=Zt(x.pendingLanes);if(N!==0){var O=x;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var j=1<<31-br(N);O.entanglements[1]|=j,N&=~j}Zo(x),(Ot&6)===0&&(mS=Jt()+500,v0(0))}}break;case 31:case 13:O=hf(x,2),O!==null&&fs(O,x,2),yS(),jM(x,2)}if(x=YM(m),x===null&&DM(A,c,m,DS,p),x===E)break;E=x}E!==null&&m.stopPropagation()}else DM(A,c,m,null,p)}}function YM(A){return A=JI(A),XM(A)}var DS=null;function XM(A){if(DS=null,A=GA(A),A!==null){var c=s(A);if(c===null)A=null;else{var p=c.tag;if(p===13){if(A=a(c),A!==null)return A;A=null}else if(p===31){if(A=o(c),A!==null)return A;A=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;A=null}else c!==A&&(A=null)}}return DS=A,null}function _V(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case ee:return 2;case Be:return 8;case Pe:case gt:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var JM=!1,hc=null,pc=null,gc=null,S0=new Map,x0=new Map,mc=[],are="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TV(A,c){switch(A){case"focusin":case"focusout":hc=null;break;case"dragenter":case"dragleave":pc=null;break;case"mouseover":case"mouseout":gc=null;break;case"pointerover":case"pointerout":S0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":x0.delete(c.pointerId)}}function _0(A,c,p,m,E,x){return A===null||A.nativeEvent!==x?(A={blockedOn:c,domEventName:p,eventSystemFlags:m,nativeEvent:x,targetContainers:[E]},c!==null&&(c=ju(c),c!==null&&SV(c)),A):(A.eventSystemFlags|=m,c=A.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),A)}function ore(A,c,p,m,E){switch(c){case"focusin":return hc=_0(hc,A,c,p,m,E),!0;case"dragenter":return pc=_0(pc,A,c,p,m,E),!0;case"mouseover":return gc=_0(gc,A,c,p,m,E),!0;case"pointerover":var x=E.pointerId;return S0.set(x,_0(S0.get(x)||null,A,c,p,m,E)),!0;case"gotpointercapture":return x=E.pointerId,x0.set(x,_0(x0.get(x)||null,A,c,p,m,E)),!0}return!1}function IV(A){var c=GA(A.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){A.blockedOn=c,xB(A.priority,function(){xV(p)});return}}else if(c===31){if(c=o(p),c!==null){A.blockedOn=c,xB(A.priority,function(){xV(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){A.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}A.blockedOn=null}function NS(A){if(A.blockedOn!==null)return!1;for(var c=A.targetContainers;0<c.length;){var p=YM(A.nativeEvent);if(p===null){p=A.nativeEvent;var m=new p.constructor(p.type,p);XI=m,p.target.dispatchEvent(m),XI=null}else return c=ju(p),c!==null&&SV(c),A.blockedOn=p,!1;c.shift()}return!0}function FV(A,c,p){NS(A)&&p.delete(c)}function Are(){JM=!1,hc!==null&&NS(hc)&&(hc=null),pc!==null&&NS(pc)&&(pc=null),gc!==null&&NS(gc)&&(gc=null),S0.forEach(FV),x0.forEach(FV)}function LS(A,c){A.blockedOn===c&&(A.blockedOn=null,JM||(JM=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Are)))}var QS=null;function MV(A){QS!==A&&(QS=A,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){QS===A&&(QS=null);for(var c=0;c<A.length;c+=3){var p=A[c],m=A[c+1],E=A[c+2];if(typeof m!="function"){if(XM(m||p)===null)continue;break}var x=ju(p);x!==null&&(A.splice(c,3),c-=3,YF(x,{pending:!0,data:E,method:p.method,action:m},m,E))}}))}function yg(A){function c(j){return LS(j,A)}hc!==null&&LS(hc,A),pc!==null&&LS(pc,A),gc!==null&&LS(gc,A),S0.forEach(c),x0.forEach(c);for(var p=0;p<mc.length;p++){var m=mc[p];m.blockedOn===A&&(m.blockedOn=null)}for(;0<mc.length&&(p=mc[0],p.blockedOn===null);)IV(p),p.blockedOn===null&&mc.shift();if(p=(A.ownerDocument||A).$$reactFormReplay,p!=null)for(m=0;m<p.length;m+=3){var E=p[m],x=p[m+1],N=E[Mi]||null;if(typeof x=="function")N||MV(p);else if(N){var O=null;if(x&&x.hasAttribute("formAction")){if(E=x,N=x[Mi]||null)O=N.formAction;else if(XM(E)!==null)continue}else O=N.action;typeof O=="function"?p[m+1]=O:(p.splice(m,3),m-=3),MV(p)}}}function UV(){function A(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(N){return E=N})},focusReset:"manual",scroll:"manual"})}function c(){E!==null&&(E(),E=null),m||setTimeout(p,20)}function p(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,E=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){m=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),E!==null&&(E(),E=null)}}}function ZM(A){this._internalRoot=A}kS.prototype.render=ZM.prototype.render=function(A){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,m=Os();EV(p,m,A,c,null,null)},kS.prototype.unmount=ZM.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var c=A.containerInfo;EV(A.current,2,null,A,null,null),yS(),c[KA]=null}};function kS(A){this._internalRoot=A}kS.prototype.unstable_scheduleHydration=function(A){if(A){var c=SB();A={blockedOn:null,target:A,priority:c};for(var p=0;p<mc.length&&c!==0&&c<mc[p].priority;p++);mc.splice(p,0,A),p===0&&IV(A)}};var PV=e.version;if(PV!=="19.2.1")throw Error(r(527,PV,"19.2.1"));q.findDOMNode=function(A){var c=A._reactInternals;if(c===void 0)throw typeof A.render=="function"?Error(r(188)):(A=Object.keys(A).join(","),Error(r(268,A)));return A=u(c),A=A!==null?d(A):null,A=A===null?null:A.stateNode,A};var lre={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var OS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!OS.isDisabled&&OS.supportsFiber)try{bn=OS.inject(lre),St=OS}catch{}}return I0.createRoot=function(A,c){if(!i(A))throw Error(r(299));var p=!1,m="",E=OH,x=HH,N=VH;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=bV(A,1,!1,null,null,p,m,null,E,x,N,UV),A[KA]=c.current,RM(A),new ZM(c)},I0.hydrateRoot=function(A,c,p){if(!i(A))throw Error(r(299));var m=!1,E="",x=OH,N=HH,O=VH,j=null;return p!=null&&(p.unstable_strictMode===!0&&(m=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(x=p.onUncaughtError),p.onCaughtError!==void 0&&(N=p.onCaughtError),p.onRecoverableError!==void 0&&(O=p.onRecoverableError),p.formState!==void 0&&(j=p.formState)),c=bV(A,1,!0,c,p??null,m,E,j,x,N,O,UV),c.context=CV(null),p=c.current,m=Os(),m=Qy(m),E=nc(m),E.callback=null,rc(p,E,m),p=m,c.current.lanes=p,Fi(c,p),Zo(c),A[KA]=c.current,RM(A),new kS(c)},I0.version="19.2.1",I0}var GV;function Cre(){if(GV)return rU.exports;GV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rU.exports=bre(),rU.exports}var Ere=Cre();const Bre=OA(Ere);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zV="popstate";function Sre(n={}){function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=Mp(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),MR("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:zw(s))}function r(i,s){Ao(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return _re(e,t,r,n)}function qn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ao(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xre(){return Math.random().toString(36).substring(2,10)}function $V(n,e){return{usr:n.state,key:n.key,idx:e}}function MR(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Mp(e):e,state:t,key:e&&e.key||r||xre()}}function zw({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Mp(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function _re(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let B=d(),S=B==null?null:B-u;u=B,l&&l({action:o,location:b.location,delta:S})}function g(B,S){o="PUSH";let I=MR(b.location,B,S);t&&t(I,B),u=d()+1;let T=$V(I,u),R=b.createHref(I);try{a.pushState(T,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(R)}s&&l&&l({action:o,location:b.location,delta:1})}function v(B,S){o="REPLACE";let I=MR(b.location,B,S);t&&t(I,B),u=d();let T=$V(I,u),R=b.createHref(I);a.replaceState(T,"",R),s&&l&&l({action:o,location:b.location,delta:0})}function C(B){return Tre(B)}let b={get action(){return o},get location(){return n(i,a)},listen(B){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zV,h),l=B,()=>{i.removeEventListener(zV,h),l=null}},createHref(B){return e(i,B)},createURL:C,encodeLocation(B){let S=C(B);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(B){return a.go(B)}};return b}function Tre(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),qn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:zw(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function X8(n,e,t="/"){return Ire(n,e,t,!1)}function Ire(n,e,t,r){let i=typeof e=="string"?Mp(e):e,s=Bu(i.pathname||"/",t);if(s==null)return null;let a=J8(n);Fre(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Hre(s);o=kre(a[l],u,r)}return o}function J8(n,e=[],t=[],r="",i=!1){let s=(a,o,l=i,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;qn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=mu([r,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(qn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),J8(a.children,e,g,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:Lre(h,a.index),routesMeta:g})};return n.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of Z8(a.path))s(a,o,!0,u)}),e}function Z8(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Z8(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function Fre(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Qre(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Mre=/^:[\w-]+$/,Ure=3,Pre=2,Rre=1,Dre=10,Nre=-2,qV=n=>n==="*";function Lre(n,e){let t=n.split("/"),r=t.length;return t.some(qV)&&(r+=Nre),e&&(r+=Pre),t.filter(i=>!qV(i)).reduce((i,s)=>i+(Mre.test(s)?Ure:s===""?Rre:Dre),r)}function Qre(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function kre(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Y_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!h&&u&&t&&!r[r.length-1].route.index&&(h=Y_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:mu([s,h.pathname]),pathnameBase:$re(mu([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=mu([s,h.pathnameBase]))}return a}function Y_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Ore(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},g)=>{if(d==="*"){let C=o[g]||"";a=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const v=o[g];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function Ore(n,e=!1,t=!0){Ao(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Hre(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ao(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Bu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var Vre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kre=n=>Vre.test(n);function Gre(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Mp(n):n,s;if(t)if(Kre(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),Ao(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=jV(t.substring(1),"/"):s=jV(t,e)}else s=e;return{pathname:s,search:qre(r),hash:jre(i)}}function jV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function oU(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zre(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function e6(n){let e=zre(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function t6(n,e,t,r=!1){let i;typeof n=="string"?i=Mp(n):(i={...n},qn(!i.pathname||!i.pathname.includes("?"),oU("?","pathname","search",i)),qn(!i.pathname||!i.pathname.includes("#"),oU("#","pathname","hash",i)),qn(!i.search||!i.search.includes("#"),oU("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=Gre(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var mu=n=>n.join("/").replace(/\/\/+/g,"/"),$re=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qre=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jre=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Wre(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Yre(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var n6=["POST","PUT","PATCH","DELETE"];new Set(n6);var Xre=["GET",...n6];new Set(Xre);var Sy=F.createContext(null);Sy.displayName="DataRouter";var Q1=F.createContext(null);Q1.displayName="DataRouterState";F.createContext(!1);var r6=F.createContext({isTransitioning:!1});r6.displayName="ViewTransition";var Jre=F.createContext(new Map);Jre.displayName="Fetchers";var Zre=F.createContext(null);Zre.displayName="Await";var Go=F.createContext(null);Go.displayName="Navigation";var zE=F.createContext(null);zE.displayName="Location";var Qu=F.createContext({outlet:null,matches:[],isDataRoute:!1});Qu.displayName="Route";var IQ=F.createContext(null);IQ.displayName="RouteError";function eie(n,{relative:e}={}){qn($E(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(Go),{hash:i,pathname:s,search:a}=qE(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:mu([t,s])),r.createHref({pathname:o,search:a,hash:i})}function $E(){return F.useContext(zE)!=null}function ku(){return qn($E(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(zE).location}var i6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s6(n){F.useContext(Go).static||F.useLayoutEffect(n)}function a6(){let{isDataRoute:n}=F.useContext(Qu);return n?fie():tie()}function tie(){qn($E(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(Sy),{basename:e,navigator:t}=F.useContext(Go),{matches:r}=F.useContext(Qu),{pathname:i}=ku(),s=JSON.stringify(e6(r)),a=F.useRef(!1);return s6(()=>{a.current=!0}),F.useCallback((l,u={})=>{if(Ao(a.current,i6),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=t6(l,JSON.parse(s),i,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:mu([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,i,n])}F.createContext(null);function qE(n,{relative:e}={}){let{matches:t}=F.useContext(Qu),{pathname:r}=ku(),i=JSON.stringify(e6(t));return F.useMemo(()=>t6(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function nie(n,e){return o6(n,e)}function o6(n,e,t,r,i){var I;qn($E(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=F.useContext(Go),{matches:a}=F.useContext(Qu),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let T=h&&h.path||"";A6(u,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=ku(),v;if(e){let T=typeof e=="string"?Mp(e):e;qn(d==="/"||((I=T.pathname)==null?void 0:I.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=g;let C=v.pathname||"/",b=C;if(d!=="/"){let T=d.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(T.length).join("/")}let B=X8(n,{pathname:b});Ao(h||B!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ao(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=oie(B&&B.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:mu([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:mu([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,t,r,i);return e&&S?F.createElement(zE.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function rie(){let n=die(),e=Wre(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:s},"ErrorBoundary")," or"," ",F.createElement("code",{style:s},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:i},t):null,a)}var iie=F.createElement(rie,null),sie=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?F.createElement(Qu.Provider,{value:this.props.routeContext},F.createElement(IQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aie({routeContext:n,match:e,children:t}){let r=F.useContext(Sy);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Qu.Provider,{value:n},t)}function oie(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);qn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:g,errors:v}=t,C=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||C){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=t&&r?(d,h)=>{var g,v;r(d,{location:t.location,params:((v=(g=t.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:Yre(t.matches),errorInfo:h})}:void 0;return s.reduceRight((d,h,g)=>{let v,C=!1,b=null,B=null;t&&(v=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||iie,o&&(l<0&&g===0?(A6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,B=null):l===g&&(C=!0,B=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),I=()=>{let T;return v?T=b:C?T=B:h.route.Component?T=F.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,F.createElement(aie,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?F.createElement(sie,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:u}):I()},null)}function FQ(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Aie(n){let e=F.useContext(Sy);return qn(e,FQ(n)),e}function lie(n){let e=F.useContext(Q1);return qn(e,FQ(n)),e}function uie(n){let e=F.useContext(Qu);return qn(e,FQ(n)),e}function MQ(n){let e=uie(n),t=e.matches[e.matches.length-1];return qn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function cie(){return MQ("useRouteId")}function die(){var r;let n=F.useContext(IQ),e=lie("useRouteError"),t=MQ("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function fie(){let{router:n}=Aie("useNavigate"),e=MQ("useNavigate"),t=F.useRef(!1);return s6(()=>{t.current=!0}),F.useCallback(async(i,s={})=>{Ao(t.current,i6),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var WV={};function A6(n,e,t){!e&&!WV[n]&&(WV[n]=!0,Ao(!1,t))}F.memo(hie);function hie({routes:n,future:e,state:t,unstable_onError:r}){return o6(n,void 0,t,r,e)}function UR(n){qn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pie({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){qn(!$E(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=F.useMemo(()=>({basename:o,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[o,i,s,a]);typeof t=="string"&&(t=Mp(t));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:v="default"}=t,C=F.useMemo(()=>{let b=Bu(u,o);return b==null?null:{location:{pathname:b,search:d,hash:h,state:g,key:v},navigationType:r}},[o,u,d,h,g,v,r]);return Ao(C!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:F.createElement(Go.Provider,{value:l},F.createElement(zE.Provider,{children:e,value:C}))}function gie({children:n,location:e}){return nie(PR(n),e)}function PR(n,e=[]){let t=[];return F.Children.forEach(n,(r,i)=>{if(!F.isValidElement(r))return;let s=[...e,i];if(r.type===F.Fragment){t.push.apply(t,PR(r.props.children,s));return}qn(r.type===UR,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=PR(r.props.children,s)),t.push(a)}),t}var Gx="get",zx="application/x-www-form-urlencoded";function k1(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function mie(n){return k1(n)&&n.tagName.toLowerCase()==="button"}function vie(n){return k1(n)&&n.tagName.toLowerCase()==="form"}function yie(n){return k1(n)&&n.tagName.toLowerCase()==="input"}function wie(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bie(n,e){return n.button===0&&(!e||e==="_self")&&!wie(n)}var HS=null;function Cie(){if(HS===null)try{new FormData(document.createElement("form"),0),HS=!1}catch{HS=!0}return HS}var Eie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function AU(n){return n!=null&&!Eie.has(n)?(Ao(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zx}"`),null):n}function Bie(n,e){let t,r,i,s,a;if(vie(n)){let o=n.getAttribute("action");r=o?Bu(o,e):null,t=n.getAttribute("method")||Gx,i=AU(n.getAttribute("enctype"))||zx,s=new FormData(n)}else if(mie(n)||yie(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(r=l?Bu(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Gx,i=AU(n.getAttribute("formenctype"))||AU(o.getAttribute("enctype"))||zx,s=new FormData(o,n),!Cie()){let{name:u,type:d,value:h}=n;if(d==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,h)}}else{if(k1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gx,r=null,i=zx,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function UQ(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Sie(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Bu(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function xie(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _ie(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Tie(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await xie(s,t);return a.links?a.links():[]}return[]}));return Uie(r.flat(1).filter(_ie).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function YV(n,e,t,r,i,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>{var d;return t[u].pathname!==l.pathname||((d=t[u].route.path)==null?void 0:d.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Iie(n,e,{includeHydrateFallback:t}={}){return Fie(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Fie(n){return[...new Set(n)]}function Mie(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Uie(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(Mie(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function l6(){let n=F.useContext(Sy);return UQ(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Pie(){let n=F.useContext(Q1);return UQ(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var PQ=F.createContext(void 0);PQ.displayName="FrameworkContext";function u6(){let n=F.useContext(PQ);return UQ(n,"You must render this element inside a <HydratedRouter> element"),n}function Rie(n,e){let t=F.useContext(PQ),[r,i]=F.useState(!1),[s,a]=F.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,g=F.useRef(null);F.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let b=S=>{S.forEach(I=>{a(I.isIntersecting)})},B=new IntersectionObserver(b,{threshold:.5});return g.current&&B.observe(g.current),()=>{B.disconnect()}}},[n]),F.useEffect(()=>{if(r){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[r]);let v=()=>{i(!0)},C=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:F0(o,v),onBlur:F0(l,C),onMouseEnter:F0(u,v),onMouseLeave:F0(d,C),onTouchStart:F0(h,v)}]:[!1,g,{}]}function F0(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Die({page:n,...e}){let{router:t}=l6(),r=F.useMemo(()=>X8(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(Lie,{page:n,matches:r,...e}):null}function Nie(n){let{manifest:e,routeModules:t}=u6(),[r,i]=F.useState([]);return F.useEffect(()=>{let s=!1;return Tie(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function Lie({page:n,matches:e,...t}){let r=ku(),{manifest:i,routeModules:s}=u6(),{basename:a}=l6(),{loaderData:o,matches:l}=Pie(),u=F.useMemo(()=>YV(n,e,l,i,r,"data"),[n,e,l,i,r]),d=F.useMemo(()=>YV(n,e,l,i,r,"assets"),[n,e,l,i,r]),h=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,b=!1;if(e.forEach(S=>{var T;let I=i.routes[S.route.id];!I||!I.hasLoader||(!u.some(R=>R.route.id===S.route.id)&&S.route.id in o&&((T=s[S.route.id])!=null&&T.shouldRevalidate)||I.hasClientLoader?b=!0:C.add(S.route.id))}),C.size===0)return[];let B=Sie(n,a,"data");return b&&C.size>0&&B.searchParams.set("_routes",e.filter(S=>C.has(S.route.id)).map(S=>S.route.id).join(",")),[B.pathname+B.search]},[a,o,r,i,u,e,n,s]),g=F.useMemo(()=>Iie(d,i),[d,i]),v=Nie(d);return F.createElement(F.Fragment,null,h.map(C=>F.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),g.map(C=>F.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),v.map(({key:C,link:b})=>F.createElement("link",{key:C,nonce:t.nonce,...b})))}function Qie(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var c6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c6&&(window.__reactRouterVersion="7.10.1")}catch{}function kie({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=F.useRef();i.current==null&&(i.current=Sre({window:r,v5Compat:!0}));let s=i.current,[a,o]=F.useState({action:s.action,location:s.location}),l=F.useCallback(u=>{t===!1?o(u):F.startTransition(()=>o(u))},[t]);return F.useLayoutEffect(()=>s.listen(l),[s,l]),F.createElement(pie,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t===!0})}var d6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X_=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...g},v){let{basename:C,unstable_useTransitions:b}=F.useContext(Go),B=typeof u=="string"&&d6.test(u),S,I=!1;if(typeof u=="string"&&B&&(S=u,c6))try{let G=new URL(window.location.href),K=u.startsWith("//")?new URL(G.protocol+u):new URL(u),z=Bu(K.pathname,C);K.origin===G.origin&&z!=null?u=z+K.search+K.hash:I=!0}catch{Ao(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=eie(u,{relative:i}),[R,M,D]=Rie(r,g),L=Kie(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h,unstable_useTransitions:b});function H(G){e&&e(G),G.defaultPrevented||L(G)}let k=F.createElement("a",{...g,...D,href:S||T,onClick:I||s?e:H,ref:Qie(v,M),target:l,"data-discover":!B&&t==="render"?"true":void 0});return R&&!B?F.createElement(F.Fragment,null,k,F.createElement(Die,{page:T})):k});X_.displayName="Link";var Oie=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let h=qE(a,{relative:u.relative}),g=ku(),v=F.useContext(Q1),{navigator:C,basename:b}=F.useContext(Go),B=v!=null&&jie(h)&&o===!0,S=C.encodeLocation?C.encodeLocation(h).pathname:h.pathname,I=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(I=I.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&b&&(T=Bu(T,b)||T);const R=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let M=I===S||!i&&I.startsWith(S)&&I.charAt(R)==="/",D=T!=null&&(T===S||!i&&T.startsWith(S)&&T.charAt(S.length)==="/"),L={isActive:M,isPending:D,isTransitioning:B},H=M?e:void 0,k;typeof r=="function"?k=r(L):k=[r,M?"active":null,D?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(L):s;return F.createElement(X_,{...u,"aria-current":H,className:k,ref:d,style:G,to:a,viewTransition:o},typeof l=="function"?l(L):l)});Oie.displayName="NavLink";var Hie=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=Gx,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...g},v)=>{let{unstable_useTransitions:C}=F.useContext(Go),b=$ie(),B=qie(o,{relative:u}),S=a.toLowerCase()==="get"?"get":"post",I=typeof o=="string"&&d6.test(o),T=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,D=(M==null?void 0:M.getAttribute("formmethod"))||a,L=()=>b(M||R.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h});C&&t!==!1?F.startTransition(()=>L()):L()};return F.createElement("form",{ref:v,method:S,action:B,onSubmit:r?l:T,...g,"data-discover":!I&&n==="render"?"true":void 0})});Hie.displayName="Form";function Vie(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f6(n){let e=F.useContext(Sy);return qn(e,Vie(n)),e}function Kie(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_useTransitions:o}={}){let l=a6(),u=ku(),d=qE(n,{relative:s});return F.useCallback(h=>{if(bie(h,e)){h.preventDefault();let g=t!==void 0?t:zw(u)===zw(d),v=()=>l(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:a});o?F.startTransition(()=>v()):v()}},[u,l,d,t,r,e,n,i,s,a,o])}var Gie=0,zie=()=>`__${String(++Gie)}__`;function $ie(){let{router:n}=f6("useSubmit"),{basename:e}=F.useContext(Go),t=cie(),r=n.fetch,i=n.navigate;return F.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=Bie(s,e);if(a.navigate===!1){let g=a.fetcherKey||zie();await r(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await i(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,e,t])}function qie(n,{relative:e}={}){let{basename:t}=F.useContext(Go),r=F.useContext(Qu);qn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...qE(n||".",{relative:e})},a=ku();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:mu([t,s.pathname])),zw(s)}function jie(n,{relative:e}={}){let t=F.useContext(r6);qn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=f6("useViewTransitionState"),i=qE(n,{relative:e});if(!t.isTransitioning)return!1;let s=Bu(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=Bu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Y_(i.pathname,a)!=null||Y_(i.pathname,s)!=null}var h6=Y8();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Wie,Yie;function Xie(){return{geminiUrl:Wie,vertexUrl:Yie}}function Jie(n,e,t,r){var i,s;if(!(n!=null&&n.baseUrl)){const a=Xie();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:t:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ou{}function Re(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[o])){const l=n[o];if(Array.isArray(t))for(let u=0;u<l.length;u++){const d=l[u];w(d,e.slice(s+1),t[u])}else for(const u of l)w(u,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in n||(n[o]=[{}]);const l=n[o];w(l[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const r=e[e.length-1],i=n[r];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[r]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return t;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in n){const a=n[s];return Array.isArray(a)?a.map(o=>y(o,e.slice(r+1),t)):t}else return t}else n=n[i]}return n}catch(r){if(r instanceof TypeError)return t;throw r}}function Zie(n,e){for(const[t,r]of Object.entries(e)){const i=t.split("."),s=r.split("."),a=new Set;let o=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){o=l;break}if(o!==-1&&s.length>o)for(let l=o;l<s.length;l++){const u=s[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}RR(n,i,s,0,a)}}function RR(n,e,t,r,i){if(r>=e.length||typeof n!="object"||n===null)return;const s=e[r];if(s.endsWith("[]")){const a=s.slice(0,-2),o=n;if(a in o&&Array.isArray(o[a]))for(const l of o[a])RR(l,e,t,r+1,i)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,o=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of o)l[u]=a[u];for(const[u,d]of Object.entries(l)){const h=[];for(const g of t.slice(r))g==="*"?h.push(u):h.push(g);w(a,h,d)}for(const u of o)delete a[u]}}else{const a=n;s in a&&RR(a[s],e,t,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RQ(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ese(n){const e={},t=y(n,["operationName"]);t!=null&&w(e,["operationName"],t);const r=y(n,["resourceName"]);return r!=null&&w(e,["_url","resourceName"],r),e}function tse(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],rse(a)),e}function nse(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],ise(a)),e}function rse(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>sse(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function ise(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>ase(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function sse(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],dse(t)),e}function ase(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],fse(t)),e}function ose(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function Ase(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function lse(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],use(a)),e}function use(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function p6(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],cse(a)),e}function cse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function dse(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&w(e,["videoBytes"],RQ(r));const i=y(n,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function fse(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],RQ(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var XV;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(XV||(XV={}));var JV;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(JV||(JV={}));var ZV;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(ZV||(ZV={}));var Od;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Od||(Od={}));var e3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(e3||(e3={}));var t3;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(t3||(t3={}));var n3;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(n3||(n3={}));var r3;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(r3||(r3={}));var i3;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(i3||(i3={}));var s3;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(s3||(s3={}));var a3;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(a3||(a3={}));var o3;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(o3||(o3={}));var A3;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(A3||(A3={}));var l3;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(l3||(l3={}));var u3;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(u3||(u3={}));var c3;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(c3||(c3={}));var d3;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(d3||(d3={}));var f3;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(f3||(f3={}));var h3;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(h3||(h3={}));var J_;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(J_||(J_={}));var p3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(p3||(p3={}));var g3;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(g3||(g3={}));var m3;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(m3||(m3={}));var DR;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(DR||(DR={}));var v3;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(v3||(v3={}));var y3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(y3||(y3={}));var w3;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(w3||(w3={}));var b3;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(b3||(b3={}));var C3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(C3||(C3={}));var E3;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(E3||(E3={}));var B3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(B3||(B3={}));var S3;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(S3||(S3={}));var x3;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(x3||(x3={}));var _3;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(_3||(_3={}));var T3;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(T3||(T3={}));var I3;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(I3||(I3={}));var F3;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(F3||(F3={}));var M3;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(M3||(M3={}));var U3;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(U3||(U3={}));var P3;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(P3||(P3={}));var R3;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(R3||(R3={}));var D3;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(D3||(D3={}));var N3;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(N3||(N3={}));var L3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(L3||(L3={}));var Q3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Q3||(Q3={}));var k3;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(k3||(k3={}));var O3;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(O3||(O3={}));var H3;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(H3||(H3={}));var V3;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(V3||(V3={}));var K3;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(K3||(K3={}));var G3;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(G3||(G3={}));var z3;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(z3||(z3={}));var $3;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($3||($3={}));var q3;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(q3||(q3={}));var zg;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(zg||(zg={}));class NR{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class M0{get text(){var e,t,r,i,s,a,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const g of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[v,C]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(C!==null||C!==void 0)&&h.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,t,r,i,s,a,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="inlineData"&&(v!==null||v!==void 0)&&d.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,r,i,s,a,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,t,r,i,s,a,o,l,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,r,i,s,a,o,l,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class j3{}class W3{}class hse{}class pse{}class gse{}class mse{}class Y3{}class X3{}class J3{}class vse{}class Z_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new Z_;let i;const s=e;return t?i=nse(s):i=tse(s),Object.assign(r,i),r}}class Z3{}class eK{}class tK{}class nK{}class yse{}class wse{}class bse{}class DQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new DQ,s=lse(e);return Object.assign(r,s),r}}class Cse{}class Ese{}class Bse{}class rK{}class Sse{get text(){var e,t,r;let i="",s=!1;const a=[];for(const o of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(o))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,t,r;let i="";const s=[];for(const a of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class xse{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class NQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new NQ,s=p6(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function g6(n,e){const t=Qt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function m6(n){return Array.isArray(n)?n.map(e=>eT(e)):[eT(n)]}function eT(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function v6(n){const e=eT(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function y6(n){const e=eT(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function iK(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function w6(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>iK(e)):[iK(n)]}function LR(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function sK(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function aK(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Ki(n){if(n==null)throw new Error("ContentUnion is required");return LR(n)?n:{role:"user",parts:w6(n)}}function LQ(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=Ki(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=Ki(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Ki(t)):[Ki(e)]}function ao(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(sK(n)||aK(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ki(n)]}const e=[],t=[],r=LR(n[0]);for(const i of n){const s=LR(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(sK(i)||aK(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return r||e.push({role:"user",parts:w6(t)}),e}function _se(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(Od).includes(t[0].toUpperCase())?t[0].toUpperCase():Od.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(Od).includes(r.toUpperCase())?r.toUpperCase():Od.TYPE_UNSPECIFIED})}}function nm(n){const e={},t=["items"],r=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&_se(n.type,e);for(const[a,o]of Object.entries(n))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Od).includes(o.toUpperCase())?o.toUpperCase():Od.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=nm(o);else if(r.includes(a)){const l=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}l.push(nm(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,d]of Object.entries(o))l[u]=nm(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function QQ(n){return nm(n)}function kQ(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function OQ(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function xy(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=nm(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=nm(e.response));return n}function _y(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function Tse(n,e,t,r=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Hu(n,e){if(typeof e!="string")throw new Error("name must be a string");return Tse(n,e,"cachedContents")}function b6(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ef(n){return RQ(n)}function Ise(n){return n!=null&&typeof n=="object"&&"name"in n}function Fse(n){return n!=null&&typeof n=="object"&&"video"in n}function Mse(n){return n!=null&&typeof n=="object"&&"uri"in n}function C6(n){var e;let t;if(Ise(n)&&(t=n.name),!(Mse(n)&&(t=n.uri,t===void 0))&&!(Fse(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function E6(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function B6(n){for(const e of["models","tunedModels","publisherModels"])if(Use(n,e))return n[e];return[]}function Use(n,e){return n!==null&&typeof n=="object"&&e in n}function Pse(n,e={}){const t=n,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Rse(n,e={}){const t=[],r=new Set;for(const i of n){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=Pse(i,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function S6(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function Dse(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function x6(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ty(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function _6(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nse(n){const e={},t=y(n,["responsesFile"]);t!=null&&w(e,["fileName"],t);const r=y(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>gae(a))),w(e,["inlinedResponses"],s)}const i=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["inlinedEmbedContentResponses"],s)}return e}function Lse(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&w(e,["format"],t);const r=y(n,["gcsDestination","outputUriPrefix"]);r!=null&&w(e,["gcsUri"],r);const i=y(n,["bigqueryDestination","outputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function Qse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["predictionsFormat"],t);const r=y(n,["gcsUri"]);r!=null&&w(e,["gcsDestination","outputUriPrefix"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&w(e,["bigqueryDestination","outputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function $x(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata","displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["metadata","state"]);i!=null&&w(e,["state"],_6(i));const s=y(n,["metadata","createTime"]);s!=null&&w(e,["createTime"],s);const a=y(n,["metadata","endTime"]);a!=null&&w(e,["endTime"],a);const o=y(n,["metadata","updateTime"]);o!=null&&w(e,["updateTime"],o);const l=y(n,["metadata","model"]);l!=null&&w(e,["model"],l);const u=y(n,["metadata","output"]);return u!=null&&w(e,["dest"],Nse(x6(u))),e}function QR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["state"]);i!=null&&w(e,["state"],_6(i));const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["createTime"]);a!=null&&w(e,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(e,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(e,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(e,["updateTime"],u);const d=y(n,["model"]);d!=null&&w(e,["model"],d);const h=y(n,["inputConfig"]);h!=null&&w(e,["src"],kse(h));const g=y(n,["outputConfig"]);g!=null&&w(e,["dest"],Lse(x6(g)));const v=y(n,["completionStats"]);return v!=null&&w(e,["completionStats"],v),e}function kse(n){const e={},t=y(n,["instancesFormat"]);t!=null&&w(e,["format"],t);const r=y(n,["gcsSource","uris"]);r!=null&&w(e,["gcsUri"],r);const i=y(n,["bigquerySource","inputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function Ose(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&w(t,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>pae(n,a))),w(t,["requests","requests"],s)}return t}function Hse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["instancesFormat"],t);const r=y(n,["gcsUri"]);r!=null&&w(e,["gcsSource","uris"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&w(e,["bigquerySource","inputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Vse(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Kse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ty(n,r)),t}function Gse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ty(n,r)),t}function zse(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],$se(r));const i=y(n,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function $se(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function T6(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Eae(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function qse(n,e){const t={},r=y(n,["displayName"]);if(e!==void 0&&r!=null&&w(e,["batch","displayName"],r),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function jse(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["dest"]);return e!==void 0&&i!=null&&w(e,["outputConfig"],Qse(Dse(i))),t}function oK(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["src"]);i!=null&&w(t,["batch","inputConfig"],Ose(n,S6(n,i)));const s=y(e,["config"]);return s!=null&&qse(s,t),t}function Wse(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],Qt(n,r));const i=y(e,["src"]);i!=null&&w(t,["inputConfig"],Hse(S6(n,i)));const s=y(e,["config"]);return s!=null&&jse(s,t),t}function Yse(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&w(e,["batch","displayName"],r),t}function Xse(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["src"]);i!=null&&w(t,["batch","inputConfig"],iae(n,i));const s=y(e,["config"]);return s!=null&&Yse(s,t),t}function Jse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ty(n,r)),t}function Zse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ty(n,r)),t}function eae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function tae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function nae(n,e){const t={},r=y(e,["contents"]);if(r!=null){let s=LQ(n,r);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["requests[]","request","content"],s)}const i=y(e,["config"]);return i!=null&&(w(t,["_self"],rae(i,t)),Zie(t,{"requests[].*":"requests[].request.*"})),t}function rae(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function iae(n,e){const t={},r=y(e,["fileName"]);r!=null&&w(t,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&w(t,["requests"],nae(n,i)),t}function sae(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function aae(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function oae(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Aae(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],T6(Ki(i)));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const o=y(e,["topK"]);o!=null&&w(r,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(r,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(r,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&w(r,["frequencyPenalty"],C);const b=y(e,["seed"]);b!=null&&w(r,["seed"],b);const B=y(e,["responseMimeType"]);B!=null&&w(r,["responseMimeType"],B);const S=y(e,["responseSchema"]);S!=null&&w(r,["responseSchema"],QQ(S));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(r,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let z=T;Array.isArray(z)&&(z=z.map(J=>Bae(J))),w(t,["safetySettings"],z)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let z=_y(R);Array.isArray(z)&&(z=z.map(J=>xae(xy(J)))),w(t,["tools"],z)}const M=y(e,["toolConfig"]);if(t!==void 0&&M!=null&&w(t,["toolConfig"],Sae(M)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Hu(n,D));const L=y(e,["responseModalities"]);L!=null&&w(r,["responseModalities"],L);const H=y(e,["mediaResolution"]);H!=null&&w(r,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(r,["speechConfig"],kQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=y(e,["thinkingConfig"]);G!=null&&w(r,["thinkingConfig"],G);const K=y(e,["imageConfig"]);return K!=null&&w(r,["imageConfig"],hae(K)),r}function lae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>zse(u))),w(e,["candidates"],l)}const i=y(n,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function uae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ty(n,r)),t}function cae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ty(n,r)),t}function dae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function fae(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function hae(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function pae(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["request","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let o=ao(i);Array.isArray(o)&&(o=o.map(l=>T6(l))),w(t,["request","contents"],o)}const s=y(e,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(e,["config"]);return a!=null&&w(t,["request","generationConfig"],Aae(n,a,y(t,["request"],{}))),t}function gae(n){const e={},t=y(n,["response"]);t!=null&&w(e,["response"],lae(t));const r=y(n,["error"]);return r!=null&&w(e,["error"],r),e}function mae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);if(e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function vae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);e!==void 0&&i!=null&&w(e,["_query","pageToken"],i);const s=y(n,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),t}function yae(n){const e={},t=y(n,["config"]);return t!=null&&mae(t,e),e}function wae(n){const e={},t=y(n,["config"]);return t!=null&&vae(t,e),e}function bae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>$x(a))),w(e,["batchJobs"],s)}return e}function Cae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>QR(a))),w(e,["batchJobs"],s)}return e}function Eae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],sae(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],aae(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Vse(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Bae(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function Sae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],oae(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function xae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],dae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],fae(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Su;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Su||(Su={}));class Up{constructor(e,t,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,i)}init(e,t,r){var i,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _ae extends Ou{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Up(Su.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=oK(this.apiClient,e),r=t._url,i=Re("{model}:batchGenerateContent",r),o=t.batch.inputConfig.requests,l=o.requests,u=[];for(const d of l){const h=Object.assign({},d);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=g,h.request=v}u.push(h)}return o.requests=u,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const r=t?Object.assign({},t):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Wse(this.apiClient,e);return o=Re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>QR(d))}else{const u=oK(this.apiClient,e);return o=Re("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>$x(d))}}async createEmbeddingsInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Xse(this.apiClient,e);return s=Re("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>$x(l))}}async get(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=cae(this.apiClient,e);return o=Re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>QR(d))}else{const u=uae(this.apiClient,e);return o=Re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>$x(d))}}async cancel(e){var t,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=Gse(this.apiClient,e);a=Re("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Kse(this.apiClient,e);a=Re("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=wae(e);return o=Re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Cae(d),g=new rK;return Object.assign(g,h),g})}else{const u=yae(e);return o=Re("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=bae(d),g=new rK;return Object.assign(g,h),g})}}async delete(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Zse(this.apiClient,e);return o=Re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>tae(d))}else{const u=Jse(this.apiClient,e);return o=Re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>eae(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tae(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function AK(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Xae(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function Iae(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let d=ao(a);Array.isArray(d)&&(d=d.map(h=>AK(h))),w(e,["contents"],d)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],AK(Ki(o)));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Zae(h))),w(e,["tools"],d)}const u=y(n,["toolConfig"]);if(e!==void 0&&u!=null&&w(e,["toolConfig"],Jae(u)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function Fae(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let h=ao(a);Array.isArray(h)&&(h=h.map(g=>g)),w(e,["contents"],h)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],Ki(o));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>eoe(g))),w(e,["tools"],h)}const u=y(n,["toolConfig"]);e!==void 0&&u!=null&&w(e,["toolConfig"],u);const d=y(n,["kmsKeyName"]);return e!==void 0&&d!=null&&w(e,["encryption_spec","kmsKeyName"],d),t}function Mae(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],g6(n,r));const i=y(e,["config"]);return i!=null&&Iae(i,t),t}function Uae(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],g6(n,r));const i=y(e,["config"]);return i!=null&&Fae(i,t),t}function Pae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Hu(n,r)),t}function Rae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Hu(n,r)),t}function Dae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Nae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Lae(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Qae(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kae(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Oae(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function Hae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Hu(n,r)),t}function Vae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Hu(n,r)),t}function Kae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Gae(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function zae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function $ae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function qae(n){const e={},t=y(n,["config"]);return t!=null&&zae(t,e),e}function jae(n){const e={},t=y(n,["config"]);return t!=null&&$ae(t,e),e}function Wae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Yae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Xae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Lae(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Qae(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Tae(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Jae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],kae(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function Zae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Kae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Gae(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function eoe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>Oae(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function toe(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),t}function noe(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),t}function roe(n,e){const t={},r=y(e,["name"]);r!=null&&w(t,["_url","name"],Hu(n,r));const i=y(e,["config"]);return i!=null&&toe(i,t),t}function ioe(n,e){const t={},r=y(e,["name"]);r!=null&&w(t,["_url","name"],Hu(n,r));const i=y(e,["config"]);return i!=null&&noe(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class soe extends Ou{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Up(Su.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Uae(this.apiClient,e);return o=Re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Mae(this.apiClient,e);return o=Re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Vae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Hae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Rae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Nae(d),g=new tK;return Object.assign(g,h),g})}else{const u=Pae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Dae(d),g=new tK;return Object.assign(g,h),g})}}async update(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=ioe(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=roe(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=jae(e);return o=Re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Yae(d),g=new nK;return Object.assign(g,h),g})}else{const u=qae(e);return o=Re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Wae(d),g=new nK;return Object.assign(g,h),g})}}}function lK(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rn(n){return this instanceof Rn?(this.v=n,this):new Rn(n)}function rm(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(C){return Promise.resolve(C).then(v,h)}}function o(v,C){r[v]&&(i[v]=function(b){return new Promise(function(B,S){s.push([v,b,B,S])>1||l(v,b)})},C&&(i[v]=C(i[v])))}function l(v,C){try{u(r[v](C))}catch(b){g(s[0][3],b)}}function u(v){v.value instanceof Rn?Promise.resolve(v.value.v).then(d,h):g(s[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function g(v,C){v(C),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Rw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof lK=="function"?lK(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(o,l){a=n[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aoe(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:I6(t)}function I6(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ooe(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function uK(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const i=[];let s=!0;for(;r<t&&n[r].role==="model";)i.push(n[r]),s&&!I6(n[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class Aoe{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new loe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class loe{constructor(e,t,r,i={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),ooe(s)}async sendMessage(e){var t;await this.sendPromise;const r=Ki(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await i,u=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(h))!==null&&o!==void 0?o:[]);const v=u?[u]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const r=Ki(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const t=e?uK(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var r,i;return rm(this,arguments,function*(){var a,o,l,u;const d=[];try{for(var h=!0,g=Rw(e),v;v=yield Rn(g.next()),a=v.done,!a;h=!0){u=v.value,h=!1;const C=u;if(aoe(C)){const b=(i=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;b!==void 0&&d.push(b)}yield yield Rn(C)}}catch(C){o={error:C}}finally{try{!h&&!a&&(l=g.return)&&(yield Rn(l.call(g)))}finally{if(o)throw o.error}}this.recordHistory(t,d)})}recordHistory(e,t,r){let i=[];t.length>0&&t.every(s=>s.role!==void 0)?i=t:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...uK(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O1 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,O1.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uoe(n){const e={},t=y(n,["file"]);return t!=null&&w(e,["file"],t),e}function coe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function doe(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],C6(t)),e}function foe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function hoe(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],C6(t)),e}function poe(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function goe(n){const e={},t=y(n,["config"]);return t!=null&&poe(t,e),e}function moe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class voe extends Ou{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Up(Su.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=goe(e);return s=Re("files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=moe(l),d=new Cse;return Object.assign(d,u),d})}}async createInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=uoe(e);return s=Re("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=coe(l),d=new Ese;return Object.assign(d,u),d})}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=hoe(e);return s=Re("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=doe(e);return s=Re("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=foe(l),d=new Bse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qx(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function yoe(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Doe(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function woe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function boe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Coe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function Eoe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const C=y(n,["responseModalities"]);C!=null&&w(e,["responseModalities"],C);const b=y(n,["responseSchema"]);b!=null&&w(e,["responseSchema"],b);const B=y(n,["routingConfig"]);B!=null&&w(e,["routingConfig"],B);const S=y(n,["seed"]);S!=null&&w(e,["seed"],S);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],F6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const M=y(n,["thinkingConfig"]);M!=null&&w(e,["thinkingConfig"],M);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const L=y(n,["topP"]);if(L!=null&&w(e,["topP"],L),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Boe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Soe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function xoe(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],OQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&w(e,["setup","systemInstruction"],yoe(Ki(C)));const b=y(n,["tools"]);if(e!==void 0&&b!=null){let D=_y(b);Array.isArray(D)&&(D=D.map(L=>Loe(xy(L)))),w(e,["setup","tools"],D)}const B=y(n,["sessionResumption"]);e!==void 0&&B!=null&&w(e,["setup","sessionResumption"],Noe(B));const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const M=y(n,["proactivity"]);return e!==void 0&&M!=null&&w(e,["setup","proactivity"],M),t}function _oe(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],Eoe(r));const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],F6(OQ(h)));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&w(e,["setup","systemInstruction"],Ki(C));const b=y(n,["tools"]);if(e!==void 0&&b!=null){let D=_y(b);Array.isArray(D)&&(D=D.map(L=>Qoe(xy(L)))),w(e,["setup","tools"],D)}const B=y(n,["sessionResumption"]);e!==void 0&&B!=null&&w(e,["setup","sessionResumption"],B);const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const M=y(n,["proactivity"]);return e!==void 0&&M!=null&&w(e,["setup","proactivity"],M),t}function Toe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],Qt(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],xoe(i,t)),t}function Ioe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],Qt(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],_oe(i,t)),t}function Foe(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&w(e,["musicGenerationConfig"],t),e}function Moe(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["weightedPrompts"],r)}return e}function Uoe(n){const e={},t=y(n,["media"]);if(t!=null){let u=m6(t);Array.isArray(u)&&(u=u.map(d=>qx(d))),w(e,["mediaChunks"],u)}const r=y(n,["audio"]);r!=null&&w(e,["audio"],qx(y6(r)));const i=y(n,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&w(e,["video"],qx(v6(s)));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function Poe(n){const e={},t=y(n,["media"]);if(t!=null){let u=m6(t);Array.isArray(u)&&(u=u.map(d=>d)),w(e,["mediaChunks"],u)}const r=y(n,["audio"]);r!=null&&w(e,["audio"],y6(r));const i=y(n,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&w(e,["video"],v6(s));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function Roe(n){const e={},t=y(n,["setupComplete"]);t!=null&&w(e,["setupComplete"],t);const r=y(n,["serverContent"]);r!=null&&w(e,["serverContent"],r);const i=y(n,["toolCall"]);i!=null&&w(e,["toolCall"],i);const s=y(n,["toolCallCancellation"]);s!=null&&w(e,["toolCallCancellation"],s);const a=y(n,["usageMetadata"]);a!=null&&w(e,["usageMetadata"],koe(a));const o=y(n,["goAway"]);o!=null&&w(e,["goAway"],o);const l=y(n,["sessionResumptionUpdate"]);return l!=null&&w(e,["sessionResumptionUpdate"],l),e}function Doe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],woe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],boe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],qx(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Noe(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function F6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const r=y(n,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Loe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Boe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Soe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Qoe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>Coe(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function koe(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&w(e,["promptTokenCount"],t);const r=y(n,["cachedContentTokenCount"]);r!=null&&w(e,["cachedContentTokenCount"],r);const i=y(n,["candidatesTokenCount"]);i!=null&&w(e,["responseTokenCount"],i);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&w(e,["toolUsePromptTokenCount"],s);const a=y(n,["thoughtsTokenCount"]);a!=null&&w(e,["thoughtsTokenCount"],a);const o=y(n,["totalTokenCount"]);o!=null&&w(e,["totalTokenCount"],o);const l=y(n,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["promptTokensDetails"],v)}const u=y(n,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["cacheTokensDetails"],v)}const d=y(n,["candidatesTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["responseTokensDetails"],v)}const h=y(n,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["toolUsePromptTokensDetails"],v)}const g=y(n,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ooe(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Hoe(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],Voe(r));const i=y(n,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Voe(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function Koe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let s=ao(i);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["contents"],s)}return t}function Goe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(e,["tokensInfo"],i)}return e}function zoe(n){const e={},t=y(n,["values"]);t!=null&&w(e,["values"],t);const r=y(n,["statistics"]);return r!=null&&w(e,["statistics"],$oe(r)),e}function $oe(n){const e={},t=y(n,["truncated"]);t!=null&&w(e,["truncated"],t);const r=y(n,["token_count"]);return r!=null&&w(e,["tokenCount"],r),e}function H1(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>tle(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function qoe(n){const e={},t=y(n,["controlType"]);t!=null&&w(e,["controlType"],t);const r=y(n,["enableControlImageComputation"]);return r!=null&&w(e,["computeControl"],r),e}function joe(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Woe(n,e){const t={},r=y(n,["systemInstruction"]);e!==void 0&&r!=null&&w(e,["systemInstruction"],Ki(r));const i=y(n,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>D6(o))),w(e,["tools"],a)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&w(e,["generationConfig"],OAe(s)),t}function Yoe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let a=ao(i);Array.isArray(a)&&(a=a.map(o=>H1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&joe(s),t}function Xoe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let a=ao(i);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Woe(s,t),t}function Joe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);r!=null&&w(e,["totalTokens"],r);const i=y(n,["cachedContentTokenCount"]);return i!=null&&w(e,["cachedContentTokenCount"],i),e}function Zoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);return r!=null&&w(e,["totalTokens"],r),e}function eAe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],Qt(n,r)),t}function tAe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],Qt(n,r)),t}function nAe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function rAe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function iAe(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const C=y(n,["outputMimeType"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","mimeType"],C);const b=y(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","compressionQuality"],b);const B=y(n,["addWatermark"]);e!==void 0&&B!=null&&w(e,["parameters","addWatermark"],B);const S=y(n,["labels"]);e!==void 0&&S!=null&&w(e,["labels"],S);const I=y(n,["editMode"]);e!==void 0&&I!=null&&w(e,["parameters","editMode"],I);const T=y(n,["baseSteps"]);return e!==void 0&&T!=null&&w(e,["parameters","editConfig","baseSteps"],T),t}function sAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>ole(l))),w(t,["instances[0]","referenceImages"],o)}const a=y(e,["config"]);return a!=null&&iAe(a,t),t}function aAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>V1(s))),w(e,["generatedImages"],i)}return e}function oAe(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function AAe(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["instances[]","task_type"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["instances[]","title"],i);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&w(e,["parameters","outputDimensionality"],s);const a=y(n,["mimeType"]);e!==void 0&&a!=null&&w(e,["instances[]","mimeType"],a);const o=y(n,["autoTruncate"]);return e!==void 0&&o!=null&&w(e,["parameters","autoTruncate"],o),t}function lAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let o=LQ(n,i);Array.isArray(o)&&(o=o.map(l=>l)),w(t,["requests[]","content"],o)}const s=y(e,["config"]);s!=null&&oAe(s,t);const a=y(e,["model"]);return a!==void 0&&w(t,["requests[]","model"],Qt(n,a)),t}function uAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let a=LQ(n,i);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&AAe(s,t),t}function cAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function dAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>zoe(a))),w(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function fAe(n){const e={},t=y(n,["endpoint"]);t!=null&&w(e,["name"],t);const r=y(n,["deployedModelId"]);return r!=null&&w(e,["deployedModelId"],r),e}function hAe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function pAe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gAe(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function mAe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function vAe(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],H1(Ki(i)));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const o=y(e,["topK"]);o!=null&&w(r,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(r,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(r,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&w(r,["frequencyPenalty"],C);const b=y(e,["seed"]);b!=null&&w(r,["seed"],b);const B=y(e,["responseMimeType"]);B!=null&&w(r,["responseMimeType"],B);const S=y(e,["responseSchema"]);S!=null&&w(r,["responseSchema"],QQ(S));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(r,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let z=T;Array.isArray(z)&&(z=z.map(J=>Ale(J))),w(t,["safetySettings"],z)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let z=_y(R);Array.isArray(z)&&(z=z.map(J=>ple(xy(J)))),w(t,["tools"],z)}const M=y(e,["toolConfig"]);if(t!==void 0&&M!=null&&w(t,["toolConfig"],hle(M)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Hu(n,D));const L=y(e,["responseModalities"]);L!=null&&w(r,["responseModalities"],L);const H=y(e,["mediaResolution"]);H!=null&&w(r,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(r,["speechConfig"],kQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=y(e,["thinkingConfig"]);G!=null&&w(r,["thinkingConfig"],G);const K=y(e,["imageConfig"]);return K!=null&&w(r,["imageConfig"],zAe(K)),r}function yAe(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],Ki(i));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const o=y(e,["topK"]);o!=null&&w(r,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(r,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(r,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&w(r,["frequencyPenalty"],C);const b=y(e,["seed"]);b!=null&&w(r,["seed"],b);const B=y(e,["responseMimeType"]);B!=null&&w(r,["responseMimeType"],B);const S=y(e,["responseSchema"]);S!=null&&w(r,["responseSchema"],QQ(S));const I=y(e,["responseJsonSchema"]);I!=null&&w(r,["responseJsonSchema"],I);const T=y(e,["routingConfig"]);T!=null&&w(r,["routingConfig"],T);const R=y(e,["modelSelectionConfig"]);R!=null&&w(r,["modelConfig"],R);const M=y(e,["safetySettings"]);if(t!==void 0&&M!=null){let V=M;Array.isArray(V)&&(V=V.map(q=>q)),w(t,["safetySettings"],V)}const D=y(e,["tools"]);if(t!==void 0&&D!=null){let V=_y(D);Array.isArray(V)&&(V=V.map(q=>D6(xy(q)))),w(t,["tools"],V)}const L=y(e,["toolConfig"]);t!==void 0&&L!=null&&w(t,["toolConfig"],L);const H=y(e,["labels"]);t!==void 0&&H!=null&&w(t,["labels"],H);const k=y(e,["cachedContent"]);t!==void 0&&k!=null&&w(t,["cachedContent"],Hu(n,k));const G=y(e,["responseModalities"]);G!=null&&w(r,["responseModalities"],G);const K=y(e,["mediaResolution"]);K!=null&&w(r,["mediaResolution"],K);const z=y(e,["speechConfig"]);z!=null&&w(r,["speechConfig"],R6(kQ(z)));const J=y(e,["audioTimestamp"]);J!=null&&w(r,["audioTimestamp"],J);const ne=y(e,["thinkingConfig"]);ne!=null&&w(r,["thinkingConfig"],ne);const oe=y(e,["imageConfig"]);return oe!=null&&w(r,["imageConfig"],$Ae(oe)),r}function cK(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let a=ao(i);Array.isArray(a)&&(a=a.map(o=>H1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],vAe(n,s,t)),t}function dK(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let a=ao(i);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],yAe(n,s,t)),t}function fK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Hoe(u))),w(e,["candidates"],l)}const i=y(n,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function hK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),w(e,["candidates"],u)}const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const s=y(n,["modelVersion"]);s!=null&&w(e,["modelVersion"],s);const a=y(n,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const o=y(n,["responseId"]);o!=null&&w(e,["responseId"],o);const l=y(n,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function wAe(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["aspectRatio"]);e!==void 0&&i!=null&&w(e,["parameters","aspectRatio"],i);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&w(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&w(e,["parameters","safetySetting"],a);const o=y(n,["personGeneration"]);e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o);const l=y(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&w(e,["parameters","includeSafetyAttributes"],l);const u=y(n,["includeRaiReason"]);e!==void 0&&u!=null&&w(e,["parameters","includeRaiReason"],u);const d=y(n,["language"]);e!==void 0&&d!=null&&w(e,["parameters","language"],d);const h=y(n,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const g=y(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(n,["imageSize"]);if(e!==void 0&&v!=null&&w(e,["parameters","sampleImageSize"],v),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function bAe(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const C=y(n,["outputMimeType"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","mimeType"],C);const b=y(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","compressionQuality"],b);const B=y(n,["addWatermark"]);e!==void 0&&B!=null&&w(e,["parameters","addWatermark"],B);const S=y(n,["labels"]);e!==void 0&&S!=null&&w(e,["labels"],S);const I=y(n,["imageSize"]);e!==void 0&&I!=null&&w(e,["parameters","sampleImageSize"],I);const T=y(n,["enhancePrompt"]);return e!==void 0&&T!=null&&w(e,["parameters","enhancePrompt"],T),t}function CAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&wAe(s,t),t}function EAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&bAe(s,t),t}function BAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>NAe(a))),w(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],U6(i)),e}function SAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>V1(a))),w(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],P6(i)),e}function xAe(n,e){const t={},r=y(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(n,["durationSeconds"]);if(e!==void 0&&i!=null&&w(e,["parameters","durationSeconds"],i),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const a=y(n,["resolution"]);e!==void 0&&a!=null&&w(e,["parameters","resolution"],a);const o=y(n,["personGeneration"]);if(e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=y(n,["negativePrompt"]);e!==void 0&&l!=null&&w(e,["parameters","negativePrompt"],l);const u=y(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&w(e,["parameters","enhancePrompt"],u),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=y(n,["lastFrame"]);e!==void 0&&d!=null&&w(e,["instances[0]","lastFrame"],K1(d));const h=y(n,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>Tle(v))),w(e,["instances[0]","referenceImages"],g)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function _Ae(n,e){const t={},r=y(n,["numberOfVideos"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const s=y(n,["fps"]);e!==void 0&&s!=null&&w(e,["parameters","fps"],s);const a=y(n,["durationSeconds"]);e!==void 0&&a!=null&&w(e,["parameters","durationSeconds"],a);const o=y(n,["seed"]);e!==void 0&&o!=null&&w(e,["parameters","seed"],o);const l=y(n,["aspectRatio"]);e!==void 0&&l!=null&&w(e,["parameters","aspectRatio"],l);const u=y(n,["resolution"]);e!==void 0&&u!=null&&w(e,["parameters","resolution"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["pubsubTopic"]);e!==void 0&&h!=null&&w(e,["parameters","pubsubTopic"],h);const g=y(n,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const v=y(n,["enhancePrompt"]);e!==void 0&&v!=null&&w(e,["parameters","enhancePrompt"],v);const C=y(n,["generateAudio"]);e!==void 0&&C!=null&&w(e,["parameters","generateAudio"],C);const b=y(n,["lastFrame"]);e!==void 0&&b!=null&&w(e,["instances[0]","lastFrame"],zo(b));const B=y(n,["referenceImages"]);if(e!==void 0&&B!=null){let T=B;Array.isArray(T)&&(T=T.map(R=>Ile(R))),w(e,["instances[0]","referenceImages"],T)}const S=y(n,["mask"]);e!==void 0&&S!=null&&w(e,["instances[0]","mask"],_le(S));const I=y(n,["compressionQuality"]);return e!==void 0&&I!=null&&w(e,["parameters","compressionQuality"],I),t}function TAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],UAe(a)),e}function IAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],PAe(a)),e}function FAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],K1(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],N6(a));const o=y(e,["source"]);o!=null&&RAe(o,t);const l=y(e,["config"]);return l!=null&&xAe(l,t),t}function MAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],zo(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],L6(a));const o=y(e,["source"]);o!=null&&DAe(o,t);const l=y(e,["config"]);return l!=null&&_Ae(l,t),t}function UAe(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>QAe(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function PAe(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>kAe(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function RAe(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],K1(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],N6(s)),t}function DAe(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],zo(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],L6(s)),t}function NAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],qAe(t));const r=y(n,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=y(n,["_self"]);return i!=null&&w(e,["safetyAttributes"],U6(i)),e}function V1(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],M6(t));const r=y(n,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=y(n,["_self"]);i!=null&&w(e,["safetyAttributes"],P6(i));const s=y(n,["prompt"]);return s!=null&&w(e,["enhancedPrompt"],s),e}function LAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["mask"],M6(t));const r=y(n,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(e,["labels"],i)}return e}function QAe(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],Sle(t)),e}function kAe(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],xle(t)),e}function OAe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const C=y(n,["responseModalities"]);C!=null&&w(e,["responseModalities"],C);const b=y(n,["responseSchema"]);b!=null&&w(e,["responseSchema"],b);const B=y(n,["routingConfig"]);B!=null&&w(e,["routingConfig"],B);const S=y(n,["seed"]);S!=null&&w(e,["seed"],S);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],R6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const M=y(n,["thinkingConfig"]);M!=null&&w(e,["thinkingConfig"],M);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const L=y(n,["topP"]);if(L!=null&&w(e,["topP"],L),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function HAe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],Qt(n,r)),t}function VAe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],Qt(n,r)),t}function KAe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function GAe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function zAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function $Ae(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);r!=null&&w(e,["imageSize"],r);const i=y(n,["outputMimeType"]);i!=null&&w(e,["imageOutputOptions","mimeType"],i);const s=y(n,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function qAe(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&w(e,["imageBytes"],ef(t));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function M6(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["imageBytes"],ef(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function K1(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&w(e,["bytesBase64Encoded"],ef(t));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function zo(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["imageBytes"]);r!=null&&w(e,["bytesBase64Encoded"],ef(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function jAe(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],E6(n,o)),r}function WAe(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],E6(n,o)),r}function YAe(n,e){const t={},r=y(e,["config"]);return r!=null&&jAe(n,r,t),t}function XAe(n,e){const t={},r=y(e,["config"]);return r!=null&&WAe(n,r,t),t}function JAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=B6(i);Array.isArray(s)&&(s=s.map(a=>kR(a))),w(e,["models"],s)}return e}function ZAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=B6(i);Array.isArray(s)&&(s=s.map(a=>OR(a))),w(e,["models"],s)}return e}function ele(n){const e={},t=y(n,["maskMode"]);t!=null&&w(e,["maskMode"],t);const r=y(n,["segmentationClasses"]);r!=null&&w(e,["maskClasses"],r);const i=y(n,["maskDilation"]);return i!=null&&w(e,["dilation"],i),e}function kR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);i!=null&&w(e,["description"],i);const s=y(n,["version"]);s!=null&&w(e,["version"],s);const a=y(n,["_self"]);a!=null&&w(e,["tunedModelInfo"],gle(a));const o=y(n,["inputTokenLimit"]);o!=null&&w(e,["inputTokenLimit"],o);const l=y(n,["outputTokenLimit"]);l!=null&&w(e,["outputTokenLimit"],l);const u=y(n,["supportedGenerationMethods"]);u!=null&&w(e,["supportedActions"],u);const d=y(n,["temperature"]);d!=null&&w(e,["temperature"],d);const h=y(n,["maxTemperature"]);h!=null&&w(e,["maxTemperature"],h);const g=y(n,["topP"]);g!=null&&w(e,["topP"],g);const v=y(n,["topK"]);v!=null&&w(e,["topK"],v);const C=y(n,["thinking"]);return C!=null&&w(e,["thinking"],C),e}function OR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);i!=null&&w(e,["description"],i);const s=y(n,["versionId"]);s!=null&&w(e,["version"],s);const a=y(n,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>fAe(g))),w(e,["endpoints"],h)}const o=y(n,["labels"]);o!=null&&w(e,["labels"],o);const l=y(n,["_self"]);l!=null&&w(e,["tunedModelInfo"],mle(l));const u=y(n,["defaultCheckpointId"]);u!=null&&w(e,["defaultCheckpointId"],u);const d=y(n,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),w(e,["checkpoints"],h)}return e}function tle(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],hAe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],pAe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Ooe(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function nle(n){const e={},t=y(n,["productImage"]);return t!=null&&w(e,["image"],zo(t)),e}function rle(n,e){const t={},r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["baseSteps"]);e!==void 0&&i!=null&&w(e,["parameters","baseSteps"],i);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&w(e,["parameters","storageUri"],s);const a=y(n,["seed"]);e!==void 0&&a!=null&&w(e,["parameters","seed"],a);const o=y(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&w(e,["parameters","safetySetting"],o);const l=y(n,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const u=y(n,["addWatermark"]);e!==void 0&&u!=null&&w(e,["parameters","addWatermark"],u);const d=y(n,["outputMimeType"]);e!==void 0&&d!=null&&w(e,["parameters","outputOptions","mimeType"],d);const h=y(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","compressionQuality"],h);const g=y(n,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const v=y(n,["labels"]);return e!==void 0&&v!=null&&w(e,["labels"],v),t}function ile(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["source"]);i!=null&&ale(i,t);const s=y(e,["config"]);return s!=null&&rle(s,t),t}function sle(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>V1(i))),w(e,["generatedImages"],r)}return e}function ale(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["personImage"]);e!==void 0&&i!=null&&w(e,["instances[0]","personImage","image"],zo(i));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>nle(o))),w(e,["instances[0]","productImages"],a)}return t}function ole(n){const e={},t=y(n,["referenceImage"]);t!=null&&w(e,["referenceImage"],zo(t));const r=y(n,["referenceId"]);r!=null&&w(e,["referenceId"],r);const i=y(n,["referenceType"]);i!=null&&w(e,["referenceType"],i);const s=y(n,["maskImageConfig"]);s!=null&&w(e,["maskImageConfig"],ele(s));const a=y(n,["controlImageConfig"]);a!=null&&w(e,["controlImageConfig"],qoe(a));const o=y(n,["styleImageConfig"]);o!=null&&w(e,["styleImageConfig"],o);const l=y(n,["subjectImageConfig"]);return l!=null&&w(e,["subjectImageConfig"],l),e}function U6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function P6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function Ale(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function lle(n){const e={},t=y(n,["image"]);return t!=null&&w(e,["image"],zo(t)),e}function ule(n,e){const t={},r=y(n,["mode"]);e!==void 0&&r!=null&&w(e,["parameters","mode"],r);const i=y(n,["maxPredictions"]);e!==void 0&&i!=null&&w(e,["parameters","maxPredictions"],i);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&w(e,["parameters","confidenceThreshold"],s);const a=y(n,["maskDilation"]);e!==void 0&&a!=null&&w(e,["parameters","maskDilation"],a);const o=y(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&w(e,["parameters","binaryColorThreshold"],o);const l=y(n,["labels"]);return e!==void 0&&l!=null&&w(e,["labels"],l),t}function cle(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["source"]);i!=null&&fle(i,t);const s=y(e,["config"]);return s!=null&&ule(s,t),t}function dle(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>LAe(i))),w(e,["generatedMasks"],r)}return e}function fle(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],zo(i));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&w(e,["instances[0]","scribble"],lle(s)),t}function R6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const r=y(n,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function hle(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],gAe(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function ple(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],KAe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],GAe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function D6(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>mAe(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function gle(n){const e={},t=y(n,["baseModel"]);t!=null&&w(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function mle(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&w(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function vle(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function yle(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function wle(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","name"],Qt(n,r));const i=y(e,["config"]);return i!=null&&vle(i,t),t}function ble(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["config"]);return i!=null&&yle(i,t),t}function Cle(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&w(e,["parameters","safetySetting"],i);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&w(e,["parameters","personGeneration"],s);const a=y(n,["includeRaiReason"]);e!==void 0&&a!=null&&w(e,["parameters","includeRaiReason"],a);const o=y(n,["outputMimeType"]);e!==void 0&&o!=null&&w(e,["parameters","outputOptions","mimeType"],o);const l=y(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","compressionQuality"],l);const u=y(n,["enhanceInputImage"]);e!==void 0&&u!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=y(n,["imagePreservationFactor"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const v=y(n,["mode"]);return e!==void 0&&v!=null&&w(e,["parameters","mode"],v),t}function Ele(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["image"]);i!=null&&w(t,["instances[0]","image"],zo(i));const s=y(e,["upscaleFactor"]);s!=null&&w(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&Cle(a,t),t}function Ble(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>V1(s))),w(e,["generatedImages"],i)}return e}function Sle(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&w(e,["videoBytes"],ef(r));const i=y(n,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function xle(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],ef(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function _le(n){const e={},t=y(n,["image"]);t!=null&&w(e,["_self"],zo(t));const r=y(n,["maskMode"]);return r!=null&&w(e,["maskMode"],r),e}function Tle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],K1(t));const r=y(n,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function Ile(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],zo(t));const r=y(n,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function N6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["videoBytes"]);r!=null&&w(e,["encodedVideo"],ef(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["encoding"],i),e}function L6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["videoBytes"]);r!=null&&w(e,["bytesBase64Encoded"],ef(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fle(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&w(e,["displayName"],r),t}function Mle(n){const e={},t=y(n,["config"]);return t!=null&&Fle(t,e),e}function Ule(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),t}function Ple(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&Ule(r,e),e}function Rle(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function Dle(n,e){const t={},r=y(n,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["customMetadata"],s)}const i=y(n,["chunkingConfig"]);return e!==void 0&&i!=null&&w(e,["chunkingConfig"],i),t}function Nle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Qle(a)),e}function Lle(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const r=y(n,["fileName"]);r!=null&&w(e,["fileName"],r);const i=y(n,["config"]);return i!=null&&Dle(i,e),e}function Qle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function kle(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Ole(n){const e={},t=y(n,["config"]);return t!=null&&kle(t,e),e}function Hle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["fileSearchStores"],s)}return e}function Q6(n,e){const t={},r=y(n,["mimeType"]);e!==void 0&&r!=null&&w(e,["mimeType"],r);const i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["customMetadata"],o)}const a=y(n,["chunkingConfig"]);return e!==void 0&&a!=null&&w(e,["chunkingConfig"],a),t}function Vle(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const r=y(n,["config"]);return r!=null&&Q6(r,e),e}function Kle(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gle="Content-Type",zle="X-Server-Timeout",$le="User-Agent",HR="x-goog-api-client",qle="1.31.0",jle=`google-genai-sdk/${qle}`,Wle="v1beta1",Yle="v1beta",pK=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Xle{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Wle,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Yle,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const i=[this.getRequestUrlInternal(t)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,i){if(t&&t.timeout||i){const s=new AbortController,a=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>s.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=a}return t&&t.extraBody!==null&&Jle(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await gK(i),new NR(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await gK(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return rm(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield Rn(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(l,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),v=g.status,C=g.code,b=`got status: ${v}. ${JSON.stringify(h)}`;if(C>=400&&C<600)throw new O1({message:b,status:C})}}catch(h){if(h.name==="ApiError")throw h}a+=u;let d=a.match(pK);for(;d;){const h=d[1];try{const g=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Rn(new NR(g)),a=a.slice(d[0].length),d=a.match(pK)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=jle+" "+this.clientOptions.userAgentExtra;return e[$le]=t,e[HR]=t,e[Gle]="application/json",e}async getHeadersInternal(e,t){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(zle,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(t=r.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),r}async uploadFile(e,t){var r;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l={file:i},u=this.getFileName(e),d=Re("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,l,t==null?void 0:t.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,r){var i;const s=this.clientOptions.uploader,a=await s.stat(t),o=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(t),h={};r!=null&&Q6(r,h);const g=await this.fetchUploadUrl(u,o,l,d,h,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,r,i,s,a){var o;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function gK(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(r);throw t>=400&&t<600?new O1({message:i,status:t}):new Error(i)}}function Jle(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=o[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[l]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[l]=u)}return o}const i=r(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zle="mcp_used/unknown";let eue=!1;function k6(n){for(const e of n)if(tue(e)||typeof e=="object"&&"inputSchema"in e)return!0;return eue}function O6(n){var e;const t=(e=n[HR])!==null&&e!==void 0?e:"";n[HR]=(t+` ${Zle}`).trimStart()}function tue(n){return n!==null&&typeof n=="object"&&n instanceof HQ}function nue(n,e=100){return rm(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield Rn(n.listTools({cursor:r}));for(const a of s.tools)yield yield Rn(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class HQ{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new HQ(e,t)}async initialize(){var e,t,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const d of this.mcpClients)try{for(var o=!0,l=(t=void 0,Rw(nue(d))),u;u=await l.next(),e=u.done,!e;o=!0){i=u.value,o=!1;const h=i;a.push(h);const g=h.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=d}}catch(h){t={error:h}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),Rse(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);t.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rue(n,e,t){const r=new xse;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(r,i),e(r)}class iue{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=oue(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(T=>{u=T}),h=e.callbacks,g=function(){u({})},v=this.apiClient,C={onopen:g,onmessage:T=>{rue(v,h.onmessage,T)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(T){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(T){}},b=this.webSocketFactory.create(l,aue(a),C);b.connect(),await d;const I={setup:{model:Qt(this.apiClient,e.model)}};return b.send(JSON.stringify(I)),new sue(b,this.apiClient)}}class sue{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=Moe(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=Foe(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(zg.PLAY)}pause(){this.sendPlaybackControl(zg.PAUSE)}stop(){this.sendPlaybackControl(zg.STOP)}resetContext(){this.sendPlaybackControl(zg.RESET_CONTEXT)}close(){this.conn.close()}}function aue(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function oue(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Aue="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lue(n,e,t){const r=new Sse;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const s=JSON.parse(i);if(n.isVertexAI()){const a=Roe(s);Object.assign(r,a)}else Object.assign(r,s);e(r)}class uue{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new iue(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&k6(e.config.tools)&&O6(h);const g=hue(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const k=this.apiClient.getApiKey();let G="BidiGenerateContent",K="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),G="BidiGenerateContentConstrained",K="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${G}?${K}=${k}`}let v=()=>{};const C=new Promise(k=>{v=k}),b=e.callbacks,B=function(){var k;(k=b==null?void 0:b.onopen)===null||k===void 0||k.call(b),v({})},S=this.apiClient,I={onopen:B,onmessage:k=>{lue(S,b.onmessage,k)},onerror:(t=b==null?void 0:b.onerror)!==null&&t!==void 0?t:function(k){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(k){}},T=this.webSocketFactory.create(d,fue(g),I);T.connect(),await C;let R=Qt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const k=this.apiClient.getProject(),G=this.apiClient.getLocation();R=`projects/${k}/locations/${G}/`+R}let M={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[J_.AUDIO]}:e.config.responseModalities=[J_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],L=[];for(const k of D)if(this.isCallableTool(k)){const G=k;L.push(await G.tool())}else L.push(k);L.length>0&&(e.config.tools=L);const H={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?M=Ioe(this.apiClient,H):M=Toe(this.apiClient,H),delete M.config,T.send(JSON.stringify(M)),new due(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const cue={turnComplete:!0};class due{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=ao(t.turns),e.isVertexAI()||(r=r.map(i=>H1(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Aue)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},cue),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:Poe(e)}:t={realtimeInput:Uoe(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function fue(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function hue(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mK=10;function vK(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(im(a)){i=!0;break}if(!i)return!0;const s=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function im(n){return"callTool"in n&&typeof n.callTool=="function"}function pue(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>im(i)))!==null&&r!==void 0?r:!1}function yK(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,i)=>{if(im(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(i)}),t}function wK(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gue extends Ou{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var r,i,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!pue(t)||vK(t.config))return await this.generateContentInternal(l);const u=yK(t);if(u.length>0){const b=u.map(B=>`tools[${B}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,h;const g=ao(l.contents),v=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:mK;let C=0;for(;C<v&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,B=[];for(const S of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(im(S)){const T=await S.callTool(d.functionCalls);B.push(...T)}C++,h={role:"user",parts:B},l.contents=ao(l.contents),l.contents.push(b),l.contents.push(h),wK(l.config)&&(g.push(b),g.push(h))}return wK(l.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async t=>{var r,i,s,a,o;if(this.maybeMoveToResponseJsonSchem(t),vK(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const l=yK(t);if(l.length>0){const h=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(i=(r=t==null?void 0:t.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(o=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async t=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Up(Su.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var r,i,s,a,o,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=t.video)===null||r===void 0)&&r.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(s=t.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,r,i;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>im(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&k6(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),O6(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var t,r,i;const s=new Map;for(const a of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(im(a)){const o=a,l=await o.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,o)}}return s}async processAfcStream(e){var t,r,i;const s=(i=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:mK;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(u,d,h){var g,v;return rm(this,arguments,function*(){for(var C,b,B,S;o<s;){a&&(o++,a=!1);const M=yield Rn(u.processParamsMaybeAddMcpUsage(h)),D=yield Rn(u.generateContentStreamInternal(M)),L=[],H=[];try{for(var I=!0,T=(b=void 0,Rw(D)),R;R=yield Rn(T.next()),C=R.done,!C;I=!0){S=R.value,I=!1;const k=S;if(yield yield Rn(k),k.candidates&&(!((g=k.candidates[0])===null||g===void 0)&&g.content)){H.push(k.candidates[0].content);for(const G of(v=k.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(o<s&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(G.functionCall.name)){const K=yield Rn(d.get(G.functionCall.name).callTool([G.functionCall]));L.push(...K)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch(k){b={error:k}}finally{try{!I&&!C&&(B=T.return)&&(yield Rn(B.call(T)))}finally{if(b)throw b.error}}if(L.length>0){a=!0;const k=new M0;k.candidates=[{content:{role:"user",parts:L}}],yield yield Rn(k);const G=[];G.push(...H),G.push({role:"user",parts:L});const K=ao(h.contents).concat(G);h.contents=K}else break}})})(this,l,e)}async generateContentInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=dK(this.apiClient,e);return o=Re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=hK(d),g=new M0;return Object.assign(g,h),g})}else{const u=cK(this.apiClient,e);return o=Re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=fK(d),g=new M0;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=dK(this.apiClient,e);return o=Re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(h){return rm(this,arguments,function*(){var g,v,C,b;try{for(var B=!0,S=Rw(h),I;I=yield Rn(S.next()),g=I.done,!g;B=!0){b=I.value,B=!1;const T=b,R=hK(yield Rn(T.json()));R.sdkHttpResponse={headers:T.headers};const M=new M0;Object.assign(M,R),yield yield Rn(M)}}catch(T){v={error:T}}finally{try{!B&&!g&&(C=S.return)&&(yield Rn(C.call(S)))}finally{if(v)throw v.error}}})})}else{const u=cK(this.apiClient,e);return o=Re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(h){return rm(this,arguments,function*(){var g,v,C,b;try{for(var B=!0,S=Rw(h),I;I=yield Rn(S.next()),g=I.done,!g;B=!0){b=I.value,B=!1;const T=b,R=fK(yield Rn(T.json()));R.sdkHttpResponse={headers:T.headers};const M=new M0;Object.assign(M,R),yield yield Rn(M)}}catch(T){v={error:T}}finally{try{!B&&!g&&(C=S.return)&&(yield Rn(C.call(S)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=uAe(this.apiClient,e);return o=Re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=dAe(d),g=new j3;return Object.assign(g,h),g})}else{const u=lAe(this.apiClient,e);return o=Re("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=cAe(d),g=new j3;return Object.assign(g,h),g})}}async generateImagesInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=EAe(this.apiClient,e);return o=Re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=SAe(d),g=new W3;return Object.assign(g,h),g})}else{const u=CAe(this.apiClient,e);return o=Re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=BAe(d),g=new W3;return Object.assign(g,h),g})}}async editImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=sAe(this.apiClient,e);return s=Re("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=aAe(l),d=new hse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Ele(this.apiClient,e);return s=Re("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Ble(l),d=new pse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=ile(this.apiClient,e);return s=Re("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=sle(l),d=new gse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=cle(this.apiClient,e);return s=Re("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=dle(l),d=new mse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=VAe(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>OR(d))}else{const u=HAe(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>kR(d))}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=XAe(this.apiClient,e);return o=Re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=ZAe(d),g=new Y3;return Object.assign(g,h),g})}else{const u=YAe(this.apiClient,e);return o=Re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=JAe(d),g=new Y3;return Object.assign(g,h),g})}}async update(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=ble(this.apiClient,e);return o=Re("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>OR(d))}else{const u=wle(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>kR(d))}}async delete(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=tAe(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=rAe(d),g=new X3;return Object.assign(g,h),g})}else{const u=eAe(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=nAe(d),g=new X3;return Object.assign(g,h),g})}}async countTokens(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Xoe(this.apiClient,e);return o=Re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Zoe(d),g=new J3;return Object.assign(g,h),g})}else{const u=Yoe(this.apiClient,e);return o=Re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Joe(d),g=new J3;return Object.assign(g,h),g})}}async computeTokens(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Koe(this.apiClient,e);return s=Re("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Goe(l),d=new vse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=MAe(this.apiClient,e);return o=Re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const h=IAe(d),g=new Z_;return Object.assign(g,h),g})}else{const u=FAe(this.apiClient,e);return o=Re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const h=TAe(d),g=new Z_;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mue extends Ou{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Ase(e);return o=Re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const u=ose(e);return o=Re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=ese(e);return s=Re("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vue(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function yue(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Tue(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function wue(n,e,t){const r={},i=y(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&w(t,["newSessionExpireTime"],s);const a=y(e,["uses"]);t!==void 0&&a!=null&&w(t,["uses"],a);const o=y(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&w(t,["bidiGenerateContentSetup"],_ue(n,o));const l=y(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&w(t,["fieldMask"],l),r}function bue(n,e){const t={},r=y(e,["config"]);return r!=null&&w(t,["config"],wue(n,r,t)),t}function Cue(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Eue(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Bue(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Sue(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function xue(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],OQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&w(e,["setup","systemInstruction"],yue(Ki(C)));const b=y(n,["tools"]);if(e!==void 0&&b!=null){let D=_y(b);Array.isArray(D)&&(D=D.map(L=>Fue(xy(L)))),w(e,["setup","tools"],D)}const B=y(n,["sessionResumption"]);e!==void 0&&B!=null&&w(e,["setup","sessionResumption"],Iue(B));const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const M=y(n,["proactivity"]);return e!==void 0&&M!=null&&w(e,["setup","proactivity"],M),t}function _ue(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],Qt(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],xue(i,t)),t}function Tue(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Cue(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Eue(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],vue(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Iue(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Fue(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Bue(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Sue(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mue(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${t}.${s}`);e.push(...i)}else e.push(t)}return e.join(",")}function Uue(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const s=Mue(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class Pue extends Ou{constructor(e){super(),this.apiClient=e}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=bue(this.apiClient,e);s=Re("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=Uue(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rue(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),t}function Due(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&Rue(r,e),e}function Nue(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function Lue(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Que(n){const e={},t=y(n,["parent"]);t!=null&&w(e,["_url","parent"],t);const r=y(n,["config"]);return r!=null&&Lue(r,e),e}function kue(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oue extends Ou{constructor(e){super(),this.apiClient=e,this.list=async t=>new Up(Su.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:t.parent,config:r.config}),await this.listInternal(t),t)}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Nue(e);return s=Re("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Due(e);i=Re("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Que(e);return s=Re("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=kue(l),d=new yse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hue extends Ou{constructor(e,t=new Oue(e)){super(),this.apiClient=e,this.documents=t,this.list=async(r={})=>new Up(Su.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Mle(e);return s=Re("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Rle(e);return s=Re("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Ple(e);i=Re("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ole(e);return s=Re("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Hle(l),d=new wse;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Vle(e);return s=Re("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Kle(l),d=new bse;return Object.assign(d,u),d})}}async importFile(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Lle(e);return s=Re("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Nle(l),d=new DQ;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Kue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Gue(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function zue(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function $ue(n,e,t){const r={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&w(e,["displayName"],i),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&w(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(n,["learningRateMultiplier"]);if(a!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=y(n,["batchSize"]);e!==void 0&&o!=null&&w(e,["tuningTask","hyperparameters","batchSize"],o);const l=y(n,["learningRate"]);if(e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","learningRate"],l),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function que(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec"],bK(v))}else if(i==="PREFERENCE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec"],bK(v))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&w(e,["tunedModelDisplayName"],s);const a=y(n,["description"]);e!==void 0&&a!=null&&w(e,["description"],a);let o=y(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(o==="PREFERENCE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=y(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let u=y(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let d=y(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function jue(n,e){const t={},r=y(n,["baseModel"]);r!=null&&w(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&w(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&sce(s);const a=y(n,["config"]);return a!=null&&$ue(a,t),t}function Wue(n,e){const t={},r=y(n,["baseModel"]);r!=null&&w(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&w(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&ace(s,t,e);const a=y(n,["config"]);return a!=null&&que(a,t,e),t}function Yue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Xue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Jue(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),r}function Zue(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),r}function ece(n,e){const t={},r=y(n,["config"]);return r!=null&&Jue(r,t),t}function tce(n,e){const t={},r=y(n,["config"]);return r!=null&&Zue(r,t),t}function nce(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&w(t,["nextPageToken"],i);const s=y(n,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>H6(o))),w(t,["tuningJobs"],a)}return t}function rce(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&w(t,["nextPageToken"],i);const s=y(n,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>VR(o))),w(t,["tuningJobs"],a)}return t}function ice(n,e){const t={},r=y(n,["name"]);r!=null&&w(t,["model"],r);const i=y(n,["name"]);return i!=null&&w(t,["endpoint"],i),t}function sce(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(n,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(t,["examples","examples"],i)}return t}function ace(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function H6(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["state"]);s!=null&&w(t,["state"],b6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["tuningTask","startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["tuningTask","completeTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["description"]);d!=null&&w(t,["description"],d);const h=y(n,["baseModel"]);h!=null&&w(t,["baseModel"],h);const g=y(n,["_self"]);return g!=null&&w(t,["tunedModel"],ice(g)),t}function VR(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["state"]);s!=null&&w(t,["state"],b6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["error"]);d!=null&&w(t,["error"],d);const h=y(n,["description"]);h!=null&&w(t,["description"],h);const g=y(n,["baseModel"]);g!=null&&w(t,["baseModel"],g);const v=y(n,["tunedModel"]);v!=null&&w(t,["tunedModel"],v);const C=y(n,["preTunedModel"]);C!=null&&w(t,["preTunedModel"],C);const b=y(n,["supervisedTuningSpec"]);b!=null&&w(t,["supervisedTuningSpec"],b);const B=y(n,["preferenceOptimizationSpec"]);B!=null&&w(t,["preferenceOptimizationSpec"],B);const S=y(n,["tuningDataStats"]);S!=null&&w(t,["tuningDataStats"],S);const I=y(n,["encryptionSpec"]);I!=null&&w(t,["encryptionSpec"],I);const T=y(n,["partnerModelTuningSpec"]);T!=null&&w(t,["partnerModelTuningSpec"],T);const R=y(n,["customBaseModel"]);R!=null&&w(t,["customBaseModel"],R);const M=y(n,["experiment"]);M!=null&&w(t,["experiment"],M);const D=y(n,["labels"]);D!=null&&w(t,["labels"],D);const L=y(n,["outputUri"]);L!=null&&w(t,["outputUri"],L);const H=y(n,["pipelineJob"]);H!=null&&w(t,["pipelineJob"],H);const k=y(n,["serviceAccount"]);k!=null&&w(t,["serviceAccount"],k);const G=y(n,["tunedModelDisplayName"]);G!=null&&w(t,["tunedModelDisplayName"],G);const K=y(n,["veoTuningSpec"]);return K!=null&&w(t,["veoTuningSpec"],K),t}function oce(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(n,["done"]);a!=null&&w(t,["done"],a);const o=y(n,["error"]);return o!=null&&w(t,["error"],o),t}function bK(n,e){const t={},r=y(n,["gcsUri"]);r!=null&&w(t,["validationDatasetUri"],r);const i=y(n,["vertexDatasetResource"]);return i!=null&&w(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ace extends Ou{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Up(Su.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),s=await this.tuneMldevInternal(i);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:DR.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Xue(e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>VR(d))}else{const u=Yue(e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>H6(d))}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=tce(e);return o=Re("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=rce(d),g=new Z3;return Object.assign(g,h),g})}else{const u=ece(e);return o=Re("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=nce(d),g=new Z3;return Object.assign(g,h),g})}}async cancel(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Kue(e);return o=Re("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=zue(d),g=new eK;return Object.assign(g,h),g})}else{const u=Vue(e);return o=Re("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Gue(d),g=new eK;return Object.assign(g,h),g})}}async tuneInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Wue(e,e);return s=Re("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>VR(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=jue(e);return s=Re("tunedModels",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>oce(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lce{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const uce=1024*1024*8,cce=3,dce=1e3,fce=2,tT="x-goog-upload-status";async function hce(n,e,t){var r;const i=await V6(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[tT])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function pce(n,e,t){var r;const i=await V6(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[tT])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=p6(s),o=new NQ;return Object.assign(o,a),o}async function V6(n,e,t){var r,i;let s=0,a=0,o=new NR(new Response),l="upload";for(s=n.size;a<s;){const u=Math.min(uce,s-a),d=n.slice(a,a+u);a+u>=s&&(l+=", finalize");let h=0,g=dce;for(;h<cce&&(o=await t.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=o==null?void 0:o.headers)===null||r===void 0)&&r[tT]));)h++,await mce(g),g=g*fce;if(a+=u,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[tT])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function gce(n){return{size:n.size,type:n.type}}function mce(n){return new Promise(e=>setTimeout(e,n))}class vce{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hce(e,t,r)}async uploadToFileSearchStore(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await pce(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gce(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yce{create(e,t,r){return new wce(e,t,r)}}class wce{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CK="x-goog-api-key";class bce{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(CK)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(CK,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cce="gl-node/";class Ece{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=Jie(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new bce(this.apiKey);this.apiClient=new Xle({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Cce+"web",uploader:new vce,downloader:new lce}),this.models=new gue(this.apiClient),this.live=new uue(this.apiClient,i,new yce),this.batches=new _ae(this.apiClient),this.chats=new Aoe(this.models,this.apiClient),this.caches=new soe(this.apiClient),this.files=new voe(this.apiClient),this.operations=new mue(this.apiClient),this.authTokens=new Pue(this.apiClient),this.tunings=new Ace(this.apiClient),this.fileSearchStores=new Hue(this.apiClient)}}const Bce="AIzaSyBFZZhOxC4ig_AIHQ2NHRwd8DuOQwzR8fA",Sce=new Ece({apiKey:Bce}),xce="gemini-2.5-flash",K6=async(n,e)=>{try{const t=`
      Context: The user is reading an educational text.
      Target Text: "${n}"
      ${e?`Surrounding Context: ${e}`:""}
      
      Task: Provide a concise, easy-to-understand explanation of the target text or concept. 
      Limit the response to 3 sentences. Tone: Academic but accessible.
      Language: Respond in Korean.
    `;return(await Sce.models.generateContent({model:xce,contents:t})).text||"Could not generate explanation."}catch(t){return console.error("AI Error:",t),"Error connecting to AI service."}},es=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),KR=[.001,0,0,.001,0,0],lU=1.35,Aa={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Tc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},$w="pdfjs_internal_editor_",At={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},_t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},_ce={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},GR={TRIANGLES:1,LATTICE:2},hi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},jx={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Tr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Mg={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},G1={ERRORS:0,WARNINGS:1,INFOS:5},qw={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},U0={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},Tce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let z1=G1.WARNINGS;function Ice(n){Number.isInteger(n)&&(z1=n)}function Fce(){return z1}function $1(n){z1>=G1.INFOS&&console.info(`Info: ${n}`)}function st(n){z1>=G1.WARNINGS&&console.warn(`Warning: ${n}`)}function yn(n){throw new Error(n)}function Tt(n,e){n||yn(e)}function Mce(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function G6(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=Nce(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return Mce(r)?r:null}function z6(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&G6(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function at(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Pp=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class EK extends Pp{constructor(e,t){super(e,"PasswordException"),this.code=t}}class uU extends Pp{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}let zR=class extends Pp{constructor(e){super(e,"InvalidPDFException")}},nT=class extends Pp{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}};class Uce extends Pp{constructor(e){super(e,"FormatError")}}let qd=class extends Pp{constructor(e){super(e,"AbortException")}};function $6(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&yn("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function jE(n){typeof n!="string"&&yn("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function Pce(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Rce(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Dce(){try{return new Function(""),!0}catch{return!1}}class Ii{static get isLittleEndian(){return at(this,"isLittleEndian",Rce())}static get isEvalSupported(){return at(this,"isEvalSupported",Dce())}static get isOffscreenCanvasSupported(){return at(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return at(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return at(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return at(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return at(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return at(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const cU=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var bu,IR,Wx,$R;let Ve=(IR=class{static makeHexColor(e,t,r){return`#${cU[e]}${cU[t]}${cU[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[r+d],g=e[r+d+1];e[r+d]=h*i+g*a+l,e[r+d+1]=h*s+g*o+u}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],d=e[0],h=e[1],g=e[2],v=e[3];let C=i*d+l,b=C,B=i*g+l,S=B,I=o*h+u,T=I,R=o*v+u,M=R;if(s!==0||a!==0){const D=s*d,L=s*g,H=a*h,k=a*v;C+=H,S+=H,B+=k,b+=k,I+=D,M+=D,R+=L,T+=L}r[0]=Math.min(r[0],C,B,b,S),r[1]=Math.min(r[1],I,R,T,M),r[2]=Math.max(r[2],C,B,b,S),r[3]=Math.max(r[3],I,R,T,M)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,u=s**2+a**2,d=(o+u)/2,h=Math.sqrt(d**2-(o*u-l**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,r,i,s,a,o,l,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l),P(this,bu,$R).call(this,e,r,s,o,t,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),u),P(this,bu,$R).call(this,e,r,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),u)}},bu=new WeakSet,Wx=function(e,t,r,i,s,a,o,l,u,d){if(u<=0||u>=1)return;const h=1-u,g=u*u,v=g*u,C=h*(h*(h*e+3*u*t)+3*g*r)+v*i,b=h*(h*(h*s+3*u*a)+3*g*o)+v*l;d[0]=Math.min(d[0],C),d[1]=Math.min(d[1],b),d[2]=Math.max(d[2],C),d[3]=Math.max(d[3],b)},$R=function(e,t,r,i,s,a,o,l,u,d,h,g){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&P(this,bu,Wx).call(this,e,t,r,i,s,a,o,l,-h/d,g);return}const v=d**2-4*h*u;if(v<0)return;const C=Math.sqrt(v),b=2*u;P(this,bu,Wx).call(this,e,t,r,i,s,a,o,l,(-d+C)/b,g),P(this,bu,Wx).call(this,e,t,r,i,s,a,o,l,(-d-C)/b,g)},U(IR,bu),IR);function Nce(n){return decodeURIComponent(escape(n))}let dU=null,BK=null;function Lce(n){return dU||(dU=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,BK=new Map([["","t"]])),n.replaceAll(dU,(e,t,r)=>t?t.normalize("NFKC"):BK.get(r))}function q6(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),$6(n)}const $g="pdfjs_internal_id_";function Qce(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function ts(n,e,t){return Math.min(Math.max(n,e),t)}function j6(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa($6(n))}function kce(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):jE(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class jw{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(jw.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}let W6=class{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var h,g;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=v}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const v=document.createTextNode(i.value);a.append(v),o&&jw.shouldBuildText(i.name)&&u.push(v)}return{textDivs:u}}const d=[[i,-1,a]];for(;d.length>0;){const[v,C,b]=d.at(-1);if(C+1===v.children.length){d.pop();continue}const B=v.children[++d.at(-1)[1]];if(B===null)continue;const{name:S}=B;if(S==="#text"){const T=document.createTextNode(B.value);u.push(T),b.append(T);continue}const I=(h=B==null?void 0:B.attributes)!=null&&h.xmlns?document.createElementNS(B.attributes.xmlns,S):document.createElement(S);if(b.append(I),B.attributes&&this.setAttributes({html:I,element:B,storage:t,intent:s,linkService:r}),((g=B.children)==null?void 0:g.length)>0)d.push([B,-1,I]);else if(B.value){const T=document.createTextNode(B.value);o&&jw.shouldBuildText(S)&&u.push(T),I.append(T)}}for(const v of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}};const cl="http://www.w3.org/2000/svg";var MA;let oy=(MA=class{},Ee(MA,"CSS",96),Ee(MA,"PDF",72),Ee(MA,"PDF_TO_CSS_UNITS",MA.CSS/MA.PDF),MA);async function WE(n,e="text"){if(J0(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class YE{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,g,v;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,g=0,v=1;break;case 90:d=0,h=1,g=1,v=0;break;case 270:d=0,h=-1,g=-1,v=0;break;case 0:d=1,h=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,v=-v);let C,b,B,S;d===0?(C=Math.abs(u-e[1])*r+s,b=Math.abs(l-e[0])*r+a,B=(e[3]-e[1])*r,S=(e[2]-e[0])*r):(C=Math.abs(l-e[0])*r+s,b=Math.abs(u-e[1])*r+a,B=(e[2]-e[0])*r,S=(e[3]-e[1])*r),this.transform=[d*r,h*r,g*r,v*r,C-d*r*l-g*r*u,b-h*r*l-v*r*u],this.width=B,this.height=S}get rawDims(){const e=this.viewBox;return at(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new YE({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return Ve.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Ve.applyTransform(t,this.transform);const r=[e[2],e[3]];return Ve.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Ve.applyInverseTransform(r,this.transform),r}}let VQ=class extends Pp{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function q1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function KQ(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Oce(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Hce(n,e="document.pdf"){if(typeof n!="string")return e;if(q1(n))return st('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const u of o)if(s.test(u))return i(u);const l=Array.from(r.searchParams.keys()).reverse();for(const u of l)if(s.test(u))return i(u)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class SK{constructor(){Ee(this,"started",Object.create(null));Ee(this,"times",[])}time(e){e in this.started&&st(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||st(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function J0(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function lo(n){n.preventDefault()}function or(n){n.preventDefault(),n.stopPropagation()}function Vce(n){console.log("Deprecated API usage: "+n)}var FR,mb;let qR=(FR=class{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;f(this,mb)||_(this,mb,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,mb).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(r,i,s,a,o,l))}},mb=new WeakMap,U(FR,mb),FR);function Kce(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new YE({viewBox:s,userUnit:1,scale:e,rotation:t})}function XE(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(st(`Not a valid color format: "${n}"`),[0,0,0])}function Gce(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,XE(r))}e.remove()}function $n(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function eA(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function Ep(n,e,t=!1,r=!0){if(e instanceof YE){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,o=Ii.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,u=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}let Bp=class jR{constructor(){const{pixelRatio:e}=jR;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=jR.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*t))),i!==-1&&(o=i/e,l=i/t);const u=Math.min(a,o,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}};const WR=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class zce{static get isDarkMode(){var e;return at(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}let $ce=class{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),at(this,"commentForegroundColor",XE(r))}};function qce(n,e,t,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return n=Math.round(n*r+i),e=Math.round(e*r+i),t=Math.round(t*r+i),[n,e,t]}function xK(n,e){const t=n[0]/255,r=n[1]/255,i=n[2]/255,s=Math.max(t,r,i),a=Math.min(t,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-t)/l+2)*60;break;case i:e[0]=((t-r)/l+4)*60;break}}e[2]=o}function YR(n,e){const t=n[0],r=n[1],i=n[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(t/60%2-1)),o=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function _K(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function TK(n,e,t){YR(n,t),t.map(_K);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];YR(e,t),t.map(_K);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const IK=new Map;function jce(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=IK.get(t);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);xK(n,a);const o=i.subarray(6,9);xK(e,o);const l=o[2]<.5,u=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),TK(a,o,s)<u){let d,h;l?(d=a[2],h=1):(d=0,h=a[2]);const g=.005;for(;h-d>g;){const v=a[2]=(d+h)/2;l===TK(a,o,s)<u?d=v:h=v}a[2]=l?h:d}return YR(a,s),r=Ve.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),IK.set(t,r),r}function Y6({html:n,dir:e,className:t},r){const i=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const u=a[o];s.append(document.createTextNode(u)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else W6.render({xfaHtml:n,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",t),r.append(i)}function X6(n){const e=new Path2D;if(!n)return e;for(let t=0,r=n.length;t<r;)switch(n[t++]){case U0.moveTo:e.moveTo(n[t++],n[t++]);break;case U0.lineTo:e.lineTo(n[t++],n[t++]);break;case U0.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case U0.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case U0.closePath:e.closePath();break;default:st(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var Fc,Mc,ka,Oa,vb,Uc,cm,dm,yb,p1,J6,xi,Z6,ej,Ug,Z0;const pl=class pl{constructor(e){U(this,xi);U(this,Fc,null);U(this,Mc,null);U(this,ka);U(this,Oa,null);U(this,vb,null);U(this,Uc,null);U(this,cm,null);U(this,dm,null);_(this,ka,e),f(pl,yb)||_(pl,yb,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=_(this,Fc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,ka)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",lo,{signal:t}),e.addEventListener("pointerdown",P(pl,p1,J6),{signal:t}));const r=_(this,Oa,document.createElement("div"));r.className="buttons",e.append(r);const i=f(this,ka).toolbarPosition;if(i){const{style:s}=e,a=f(this,ka)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return f(this,Fc)}hide(){var e;f(this,Fc).classList.add("hidden"),(e=f(this,Mc))==null||e.hideDropdown()}show(){var e,t;f(this,Fc).classList.remove("hidden"),(e=f(this,vb))==null||e.shown(),(t=f(this,Uc))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=f(this,ka),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",f(pl,yb)[e]),P(this,xi,Ug).call(this,r)&&r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),f(this,Oa).append(r)}async addAltText(e){const t=await e.render();P(this,xi,Ug).call(this,t),f(this,Oa).append(t,f(this,xi,Z0)),_(this,vb,e)}addComment(e,t=null){if(f(this,Uc))return;const r=e.renderForToolbar();if(!r)return;P(this,xi,Ug).call(this,r);const i=_(this,cm,f(this,xi,Z0));t?(f(this,Oa).insertBefore(r,t),f(this,Oa).insertBefore(i,t)):f(this,Oa).append(r,i),_(this,Uc,e),e.toolbar=this}addColorPicker(e){if(f(this,Mc))return;_(this,Mc,e);const t=e.renderButton();P(this,xi,Ug).call(this,t),f(this,Oa).append(t,f(this,xi,Z0))}async addEditSignatureButton(e){const t=_(this,dm,await e.renderEditButton(f(this,ka)));P(this,xi,Ug).call(this,t),f(this,Oa).append(t,f(this,xi,Z0))}removeButton(e){var t,r;switch(e){case"comment":(t=f(this,Uc))==null||t.removeToolbarCommentButton(),_(this,Uc,null),(r=f(this,cm))==null||r.remove(),_(this,cm,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,r){if(!t&&e==="comment")return;const i=f(this,Oa).querySelector(r);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){f(this,dm)&&(f(this,dm).title=e)}remove(){var e;f(this,Fc).remove(),(e=f(this,Mc))==null||e.destroy(),_(this,Mc,null)}};Fc=new WeakMap,Mc=new WeakMap,ka=new WeakMap,Oa=new WeakMap,vb=new WeakMap,Uc=new WeakMap,cm=new WeakMap,dm=new WeakMap,yb=new WeakMap,p1=new WeakSet,J6=function(e){e.stopPropagation()},xi=new WeakSet,Z6=function(e){f(this,ka)._focusEventsAllowed=!1,or(e)},ej=function(e){f(this,ka)._focusEventsAllowed=!0,or(e)},Ug=function(e){const t=f(this,ka)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",P(this,xi,Z6).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",P(this,xi,ej).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",lo,{signal:t}),!0)},Z0=function(){const e=document.createElement("div");return e.className="divider",e},U(pl,p1),U(pl,yb,null);let XR=pl;var wb,Kf,yl,Du,tj,nj,JR;class Wce{constructor(e){U(this,Du);U(this,wb,null);U(this,Kf,null);U(this,yl);_(this,yl,e)}show(e,t,r){const[i,s]=P(this,Du,nj).call(this,t,r),{style:a}=f(this,Kf)||_(this,Kf,P(this,Du,tj).call(this));e.append(f(this,Kf)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,Kf).remove()}}wb=new WeakMap,Kf=new WeakMap,yl=new WeakMap,Du=new WeakSet,tj=function(){const e=_(this,Kf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,yl)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",lo,{signal:t});const r=_(this,wb,document.createElement("div"));return r.className="buttons",e.append(r),f(this,yl).hasCommentManager()&&P(this,Du,JR).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{f(this,yl).commentSelection("floating_button")}),P(this,Du,JR).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{f(this,yl).highlightSelection("floating_button")}),e},nj=function(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(t?s.width:0);if(a>r){i=o,r=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,r]},JR=function(e,t,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=f(this,yl)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",lo,{signal:o}),s.addEventListener("click",i,{signal:o})),f(this,wb).append(s)};function rj(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var Gf,zf,fm,$f;const sn=class sn{static initializeAndAddPointerId(e){(f(sn,zf)||_(sn,zf,new Set)).add(e)}static setPointer(e,t){f(sn,Gf)||_(sn,Gf,t),f(sn,$f)??_(sn,$f,e)}static setTimeStamp(e){_(sn,fm,e)}static isSamePointerId(e){return f(sn,Gf)===e}static isSamePointerIdOrRemove(e){var t;return f(sn,Gf)===e?!0:((t=f(sn,zf))==null||t.delete(e),!1)}static isSamePointerType(e){return f(sn,$f)===e}static isInitializedAndDifferentPointerType(e){return f(sn,$f)!==null&&!sn.isSamePointerType(e)}static isSameTimeStamp(e){return f(sn,fm)===e}static isUsingMultiplePointers(){var e;return((e=f(sn,zf))==null?void 0:e.size)>=1}static clearPointerType(){_(sn,$f,null)}static clearPointerIds(){_(sn,Gf,NaN),_(sn,zf,null)}static clearTimeStamp(){_(sn,fm,NaN)}};Gf=new WeakMap,zf=new WeakMap,fm=new WeakMap,$f=new WeakMap,U(sn,Gf,NaN),U(sn,zf,null),U(sn,fm,NaN),U(sn,$f,null);let Ri=sn;var g1;class Yce{constructor(){U(this,g1,0)}get id(){return`${$w}${cr(this,g1)._++}`}}g1=new WeakMap;var hm,bb,Di,pm,Yx;const qO=class qO{constructor(){U(this,pm);U(this,hm,q6());U(this,bb,0);U(this,Di,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return at(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return P(this,pm,Yx).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return P(this,pm,Yx).call(this,e,e)}async getFromBlob(e,t){const r=await t;return P(this,pm,Yx).call(this,e,r)}async getFromId(e){f(this,Di)||_(this,Di,new Map);const t=f(this,Di).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,Di)||_(this,Di,new Map);let r=f(this,Di).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${f(this,hm)}_${cr(this,bb)._++}`,refCounter:1,isSvg:!1},f(this,Di).set(e,r),f(this,Di).set(r.id,r),r}getSvgUrl(e){const t=f(this,Di).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;f(this,Di)||_(this,Di,new Map);const t=f(this,Di).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,hm)}_`)}};hm=new WeakMap,bb=new WeakMap,Di=new WeakMap,pm=new WeakSet,Yx=async function(e,t){f(this,Di)||_(this,Di,new Map);let r=f(this,Di).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${f(this,hm)}_${cr(this,bb)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await WE(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=qO._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},a.onload=async()=>{const h=r.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){st(i),r=null}return f(this,Di).set(e,r),r&&f(this,Di).set(r.id,r),r};let ZR=qO;var hr,Pc,Cb,zn;class Xce{constructor(e=128){U(this,hr,[]);U(this,Pc,!1);U(this,Cb);U(this,zn,-1);_(this,Cb,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),f(this,Pc))return;const l={cmd:e,undo:t,post:r,type:s};if(f(this,zn)===-1){f(this,hr).length>0&&(f(this,hr).length=0),_(this,zn,0),f(this,hr).push(l);return}if(a&&f(this,hr)[f(this,zn)].type===s){o&&(l.undo=f(this,hr)[f(this,zn)].undo),f(this,hr)[f(this,zn)]=l;return}const u=f(this,zn)+1;u===f(this,Cb)?f(this,hr).splice(0,1):(_(this,zn,u),u<f(this,hr).length&&f(this,hr).splice(u)),f(this,hr).push(l)}undo(){if(f(this,zn)===-1)return;_(this,Pc,!0);const{undo:e,post:t}=f(this,hr)[f(this,zn)];e(),t==null||t(),_(this,Pc,!1),_(this,zn,f(this,zn)-1)}redo(){if(f(this,zn)<f(this,hr).length-1){_(this,zn,f(this,zn)+1),_(this,Pc,!0);const{cmd:e,post:t}=f(this,hr)[f(this,zn)];e(),t==null||t(),_(this,Pc,!1)}}hasSomethingToUndo(){return f(this,zn)!==-1}hasSomethingToRedo(){return f(this,zn)<f(this,hr).length-1}cleanType(e){if(f(this,zn)!==-1){for(let t=f(this,zn);t>=0;t--)if(f(this,hr)[t].type!==e){f(this,hr).splice(t+1,f(this,zn)-t),_(this,zn,t);return}f(this,hr).length=0,_(this,zn,-1)}}destroy(){_(this,hr,null)}}hr=new WeakMap,Pc=new WeakMap,Cb=new WeakMap,zn=new WeakMap;var m1,ij;class JE{constructor(e){U(this,m1);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ii.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(P(this,m1,ij).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,t)||(i.bind(e,...a,t)(),s||or(t))}}m1=new WeakSet,ij=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const v1=class v1{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Gce(e),at(this,"_colors",e)}convert(e){const t=XE(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return v1._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Ve.makeHexColor(...t):e}};Ee(v1,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let eD=v1;var gm,Ks,mm,er,Lr,vm,Ha,ym,Va,Ni,Rc,Dc,wm,Nc,sA,Ka,qf,Eb,Bb,bm,Sb,aA,Lc,Cm,Qc,oA,y1,kc,Em,xb,Oc,jf,Bm,Hc,_b,Ir,qt,wl,Vc,Kc,Tb,Sm,Ib,Gc,AA,bl,Fb,Mb,Ga,hu,Me,Xx,tD,sj,aj,ew,oj,Aj,lj,nD,uj,cj,dj,fj,qi,dl,hj,pj,rD,gj,tw,iD;let Ww=(hu=class{constructor(e,t,r,i,s,a,o,l,u,d,h,g,v,C,b,B){U(this,Me);U(this,gm,new AbortController);U(this,Ks,null);U(this,mm,null);U(this,er,new Map);U(this,Lr,new Map);U(this,vm,null);U(this,Ha,null);U(this,ym,null);U(this,Va,new Xce);U(this,Ni,null);U(this,Rc,null);U(this,Dc,null);U(this,wm,0);U(this,Nc,new Set);U(this,sA,null);U(this,Ka,null);U(this,qf,new Set);Ee(this,"_editorUndoBar",null);U(this,Eb,!1);U(this,Bb,!1);U(this,bm,!1);U(this,Sb,null);U(this,aA,null);U(this,Lc,null);U(this,Cm,null);U(this,Qc,!1);U(this,oA,null);U(this,y1,new Yce);U(this,kc,!1);U(this,Em,!1);U(this,xb,!1);U(this,Oc,null);U(this,jf,null);U(this,Bm,null);U(this,Hc,null);U(this,_b,null);U(this,Ir,At.NONE);U(this,qt,new Set);U(this,wl,null);U(this,Vc,null);U(this,Kc,null);U(this,Tb,null);U(this,Sm,null);U(this,Ib,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});U(this,Gc,[0,0]);U(this,AA,null);U(this,bl,null);U(this,Fb,null);U(this,Mb,null);U(this,Ga,null);const S=this._signal=f(this,gm).signal;_(this,bl,e),_(this,Fb,t),_(this,Mb,r),_(this,vm,i),_(this,Ni,s),_(this,Vc,a),_(this,Sm,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:S}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),o._on("setpreference",this.onSetPreference.bind(this),{signal:S}),o._on("switchannotationeditorparams",I=>this.updateParams(I.type,I.value),{signal:S}),window.addEventListener("pointerdown",()=>{_(this,Em,!0)},{capture:!0,signal:S}),window.addEventListener("pointerup",()=>{_(this,Em,!1)},{capture:!0,signal:S}),P(this,Me,oj).call(this),P(this,Me,fj).call(this),P(this,Me,nD).call(this),_(this,Ha,l.annotationStorage),_(this,Sb,l.filterFactory),_(this,Kc,u),_(this,Cm,d||null),_(this,Eb,h),_(this,Bb,g),_(this,bm,v),_(this,_b,C||null),this.viewParameters={realScale:oy.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=B!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=hu.prototype,t=a=>f(a,bl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return at(this,"_keyboardManager",new JE([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,bl).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,bl).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s,a,o,l,u;(e=f(this,Ga))==null||e.resolve(),_(this,Ga,null),(t=f(this,gm))==null||t.abort(),_(this,gm,null),this._signal=null;for(const d of f(this,Lr).values())d.destroy();f(this,Lr).clear(),f(this,er).clear(),f(this,qf).clear(),(r=f(this,Hc))==null||r.clear(),_(this,Ks,null),f(this,qt).clear(),f(this,Va).destroy(),(i=f(this,vm))==null||i.destroy(),(s=f(this,Ni))==null||s.destroy(),(a=f(this,Vc))==null||a.destroy(),(o=f(this,oA))==null||o.hide(),_(this,oA,null),(l=f(this,Bm))==null||l.destroy(),_(this,Bm,null),_(this,mm,null),f(this,aA)&&(clearTimeout(f(this,aA)),_(this,aA,null)),f(this,AA)&&(clearTimeout(f(this,AA)),_(this,AA,null)),(u=this._editorUndoBar)==null||u.destroy(),_(this,Sm,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,_b)}get useNewAltTextFlow(){return f(this,Bb)}get useNewAltTextWhenAddingImage(){return f(this,bm)}get hcmFilter(){return at(this,"hcmFilter",f(this,Kc)?f(this,Sb).addHCMFilter(f(this,Kc).foreground,f(this,Kc).background):"none")}get direction(){return at(this,"direction",getComputedStyle(f(this,bl)).direction)}get _highlightColors(){return at(this,"_highlightColors",f(this,Cm)?new Map(f(this,Cm).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return at(this,"highlightColors",null);const t=new Map,r=!!f(this,Kc);for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){t.set(i.replace("_HCM",""),s);continue}!r&&!a&&t.set(i,s)}return at(this,"highlightColors",t)}get highlightColorNames(){return at(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),_(this,Dc,e)}setMainHighlightColorPicker(e){_(this,Bm,e)}editAltText(e,t=!1){var r;(r=f(this,vm))==null||r.editAltText(this,e,t)}hasCommentManager(){return!!f(this,Ni)}editComment(e,t,r,i){var s;(s=f(this,Ni))==null||s.showDialog(this,e,t,r,i)}selectComment(e,t){const r=f(this,Lr).get(e),i=r==null?void 0:r.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=f(this,Ni))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=f(this,Ni))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=f(this,Ni))==null||t.removeComments([e.uid])}toggleComment(e,t,r=void 0){var i;(i=f(this,Ni))==null||i.toggleCommentPopup(e,t,r)}makeCommentColor(e,t){var r;return e&&((r=f(this,Ni))==null?void 0:r.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=f(this,Ni))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(f(this,Lr).has(e-1))return;const{resolve:t,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var t;(t=f(this,Vc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return f(this,Vc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":_(this,bm,t);break}}onPageChanging({pageNumber:e}){_(this,wm,e-1)}focusMainContainer(){f(this,bl).focus()}findParent(e,t){for(const r of f(this,Lr).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return r}return null}disableUserSelect(e=!1){f(this,Fb).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,qf).add(e)}removeShouldRescale(e){f(this,qf).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*oy.PDF_TO_CSS_UNITS;for(const r of f(this,qf))r.onScaleChanging();(t=f(this,Dc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),d=P(this,Me,Xx).call(this,r).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;r.empty();const g=P(this,Me,tD).call(this,d),v=f(this,Ir)===At.NONE,C=()=>{const b=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});v&&this.showAllEditors("highlight",!0,!0),t&&(b==null||b.editComment())};if(v){this.switchToMode(At.HIGHLIGHT,C);return}C()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!f(this,Ha))return null;const t=`${$w}${e}`,r=f(this,Ha).getRawValue(t);return r&&f(this,Ha).remove(t),r}addToAnnotationStorage(e){!e.isEmpty()&&f(this,Ha)&&!f(this,Ha).has(e.id)&&f(this,Ha).setValue(e.id,e)}a11yAlert(e,t=null){const r=f(this,Mb);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,f(this,Qc)&&(_(this,Qc,!1),P(this,Me,ew).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,qt))if(t.div.contains(e)){_(this,jf,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,jf))return;const[e,t]=f(this,jf);_(this,jf,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){P(this,Me,nD).call(this),this.setEditingState(!0)}removeEditListeners(){P(this,Me,uj).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of f(this,Ka))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of f(this,Ka))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=f(this,Ks))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of f(this,qt)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of f(this,Ka))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){st(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=await i.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)P(this,Me,rD).call(this,l);P(this,Me,iD).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){st(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,Ir)!==At.NONE&&!this.isEditorHandlingKeyboard&&hu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,Qc)&&(_(this,Qc,!1),P(this,Me,ew).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(P(this,Me,Aj).call(this),P(this,Me,cj).call(this),P(this,Me,qi).call(this,{isEditing:f(this,Ir)!==At.NONE,isEmpty:P(this,Me,tw).call(this),hasSomethingToUndo:f(this,Va).hasSomethingToUndo(),hasSomethingToRedo:f(this,Va).hasSomethingToRedo(),hasSelectedEditor:!1})):(P(this,Me,lj).call(this),P(this,Me,dj).call(this),P(this,Me,qi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,Ka)){_(this,Ka,e);for(const t of f(this,Ka))P(this,Me,dl).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,y1).id}get currentLayer(){return f(this,Lr).get(f(this,wm))}getLayer(e){return f(this,Lr).get(e)}get currentPageIndex(){return f(this,wm)}addLayer(e){f(this,Lr).set(e.pageIndex,e),f(this,kc)?e.enable():e.disable()}removeLayer(e){f(this,Lr).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1,s=!1){var a,o,l,u,d,h;if(f(this,Ir)!==e&&!(f(this,Ga)&&(await f(this,Ga).promise,!f(this,Ga)))){if(_(this,Ga,Promise.withResolvers()),(a=f(this,Dc))==null||a.commitOrRemove(),f(this,Ir)===At.POPUP&&((o=f(this,Ni))==null||o.hideSidebar()),(l=f(this,Ni))==null||l.destroyPopup(),_(this,Ir,e),e===At.NONE){this.setEditingState(!1),P(this,Me,pj).call(this);for(const g of f(this,er).values())g.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),f(this,Ga).resolve();return}for(const g of f(this,er).values())g.addStandaloneCommentButton();e===At.SIGNATURE&&await((d=f(this,Vc))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await P(this,Me,hj).call(this),this.unselectAll();for(const g of f(this,Lr).values())g.updateMode(e);if(e===At.POPUP){f(this,mm)||_(this,mm,await f(this,Sm).getAnnotationsByType(new Set(f(this,Ka).map(C=>C._editorType))));const g=new Set,v=[];for(const C of f(this,er).values()){const{annotationElementId:b,hasComment:B,deleted:S}=C;b&&g.add(b),B&&!S&&v.push(C.getData())}for(const C of f(this,mm)){const{id:b,popupRef:B,contentsObj:S}=C;B&&(S!=null&&S.str)&&!g.has(b)&&!f(this,Nc).has(b)&&v.push(C)}(h=f(this,Ni))==null||h.showSidebar(v)}if(!t){r&&this.addNewEditorFromKeyboard(),f(this,Ga).resolve();return}for(const g of f(this,er).values())g.uid===t?(this.setSelected(g),s?g.editComment():i?g.enterInEditMode():g.focus()):g.unselect();f(this,Ga).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==f(this,Ir)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(f(this,Ka)){switch(e){case _t.CREATE:this.currentLayer.addNewEditor(t);return;case _t.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,Tb)||_(this,Tb,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of f(this,qt))r.updateParams(e,t);else for(const r of f(this,Ka))r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const a of f(this,er).values())a.editorType===e&&a.show(t);(((s=f(this,Tb))==null?void 0:s.get(_t.HIGHLIGHT_SHOW_ALL))??!0)!==t&&P(this,Me,dl).call(this,[[_t.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,xb)!==e){_(this,xb,e);for(const t of f(this,Lr).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of f(this,er).values())t.pageIndex===e&&(yield t)}getEditor(e){return f(this,er).get(e)}addEditor(e){f(this,er).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(f(this,aA)&&clearTimeout(f(this,aA)),_(this,aA,setTimeout(()=>{this.focusMainContainer(),_(this,aA,null)},0))),f(this,er).delete(e.id),e.annotationElementId&&((t=f(this,Hc))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!f(this,Nc).has(e.annotationElementId))&&((r=f(this,Ha))==null||r.remove(e.id))}addDeletedAnnotationElement(e){f(this,Nc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,Nc).has(e)}removeDeletedAnnotationElement(e){f(this,Nc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,Ks)!==e&&(_(this,Ks,e),e&&P(this,Me,dl).call(this,e.propertiesToUpdate))}updateUI(e){f(this,Me,gj)===e&&P(this,Me,dl).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){P(this,Me,dl).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(f(this,qt).has(e)){f(this,qt).delete(e),e.unselect(),P(this,Me,qi).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,qt).add(e),e.select(),P(this,Me,dl).call(this,e.propertiesToUpdate),P(this,Me,qi).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=f(this,Dc))==null||t.commitOrRemove();for(const r of f(this,qt))r!==e&&r.unselect();f(this,qt).clear(),f(this,qt).add(e),e.select(),P(this,Me,dl).call(this,e.propertiesToUpdate),P(this,Me,qi).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,qt).has(e)}get firstSelectedEditor(){return f(this,qt).values().next().value}unselect(e){e.unselect(),f(this,qt).delete(e),P(this,Me,qi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,qt).size!==0}get isEnterHandled(){return f(this,qt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;f(this,Va).undo(),P(this,Me,qi).call(this,{hasSomethingToUndo:f(this,Va).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:P(this,Me,tw).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){f(this,Va).redo(),P(this,Me,qi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,Va).hasSomethingToRedo(),isEmpty:P(this,Me,tw).call(this)})}addCommands(e){f(this,Va).add(e),P(this,Me,qi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:P(this,Me,tw).call(this)})}cleanUndoStack(e){f(this,Va).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...f(this,qt)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)P(this,Me,rD).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=f(this,Ks))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,Ks)||this.hasSelection}selectAll(){for(const e of f(this,qt))e.commit();P(this,Me,iD).call(this,f(this,er).values())}unselectAll(){var e;if(!(f(this,Ks)&&(f(this,Ks).commitOrRemove(),f(this,Ir)!==At.NONE))&&!((e=f(this,Dc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of f(this,qt))t.unselect();f(this,qt).clear(),P(this,Me,qi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;f(this,Gc)[0]+=e,f(this,Gc)[1]+=t;const[i,s]=f(this,Gc),a=[...f(this,qt)],o=1e3;f(this,AA)&&clearTimeout(f(this,AA)),_(this,AA,setTimeout(()=>{_(this,AA,null),f(this,Gc)[0]=f(this,Gc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)f(this,er).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)f(this,er).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,sA,new Map);for(const e of f(this,qt))f(this,sA).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,sA))return!1;this.disableUserSelect(!1);const e=f(this,sA);_(this,sA,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const r=(i,s,a,o)=>{if(f(this,er).has(i.id)){const l=f(this,Lr).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,sA))for(const r of f(this,sA).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,qt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,Ks)===e}getActive(){return f(this,Ks)}getMode(){return f(this,Ir)}isEditingMode(){return f(this,Ir)!==At.NONE}get imageManager(){return at(this,"imageManager",new ZR)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,g)=>({x:(d-i)/a,y:1-(u+h-r)/s,width:g/a,height:h/s});break;case"180":o=(u,d,h,g)=>({x:1-(u+h-r)/s,y:1-(d+g-i)/a,width:h/s,height:g/a});break;case"270":o=(u,d,h,g)=>({x:1-(d+g-i)/a,y:(u-r)/s,width:g/a,height:h/s});break;default:o=(u,d,h,g)=>({x:(u-r)/s,y:(d-i)/a,width:h/s,height:g/a});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:g,y:v,width:C,height:b}of h.getClientRects())C===0||b===0||l.push(o(g,v,C,b))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,ym)||_(this,ym,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,ym))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=f(this,ym))==null?void 0:i.get(e.data.id);if(!t)return;const r=f(this,Ha).getRawValue(t);r&&(f(this,Ir)===At.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var s;const i=(s=f(this,Hc))==null?void 0:s.get(e);i&&(i.setCanvas(t,r),f(this,Hc).delete(e))}addMissingCanvas(e,t){(f(this,Hc)||_(this,Hc,new Map)).set(e,t)}},gm=new WeakMap,Ks=new WeakMap,mm=new WeakMap,er=new WeakMap,Lr=new WeakMap,vm=new WeakMap,Ha=new WeakMap,ym=new WeakMap,Va=new WeakMap,Ni=new WeakMap,Rc=new WeakMap,Dc=new WeakMap,wm=new WeakMap,Nc=new WeakMap,sA=new WeakMap,Ka=new WeakMap,qf=new WeakMap,Eb=new WeakMap,Bb=new WeakMap,bm=new WeakMap,Sb=new WeakMap,aA=new WeakMap,Lc=new WeakMap,Cm=new WeakMap,Qc=new WeakMap,oA=new WeakMap,y1=new WeakMap,kc=new WeakMap,Em=new WeakMap,xb=new WeakMap,Oc=new WeakMap,jf=new WeakMap,Bm=new WeakMap,Hc=new WeakMap,_b=new WeakMap,Ir=new WeakMap,qt=new WeakMap,wl=new WeakMap,Vc=new WeakMap,Kc=new WeakMap,Tb=new WeakMap,Sm=new WeakMap,Ib=new WeakMap,Gc=new WeakMap,AA=new WeakMap,bl=new WeakMap,Fb=new WeakMap,Mb=new WeakMap,Ga=new WeakMap,Me=new WeakSet,Xx=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},tD=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of f(this,Lr).values())if(r.hasTextLayer(e))return r;return null},sj=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=P(this,Me,Xx).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(f(this,oA)||_(this,oA,new Wce(this)),f(this,oA).show(r,i,this.direction==="ltr"))},aj=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){f(this,wl)&&((s=f(this,oA))==null||s.hide(),_(this,wl,null),P(this,Me,qi).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,wl))return;const i=P(this,Me,Xx).call(this,e).closest(".textLayer");if(!i){f(this,wl)&&((a=f(this,oA))==null||a.hide(),_(this,wl,null),P(this,Me,qi).call(this,{hasSelectedText:!1}));return}if((o=f(this,oA))==null||o.hide(),_(this,wl,t),P(this,Me,qi).call(this,{hasSelectedText:!0}),!(f(this,Ir)!==At.HIGHLIGHT&&f(this,Ir)!==At.NONE)&&(f(this,Ir)===At.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,Qc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=f(this,Ir)===At.HIGHLIGHT?P(this,Me,tD).call(this,i):null;if(l==null||l.toggleDrawing(),f(this,Em)){const u=new AbortController,d=this.combinedSignal(u),h=g=>{g.type==="pointerup"&&g.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),g.type==="pointerup"&&P(this,Me,ew).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else l==null||l.toggleDrawing(!0),P(this,Me,ew).call(this,"main_toolbar")}},ew=function(e=""){f(this,Ir)===At.HIGHLIGHT?this.highlightSelection(e):f(this,Eb)&&P(this,Me,sj).call(this)},oj=function(){document.addEventListener("selectionchange",P(this,Me,aj).bind(this),{signal:this._signal})},Aj=function(){if(f(this,Lc))return;_(this,Lc,new AbortController);const e=this.combinedSignal(f(this,Lc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},lj=function(){var e;(e=f(this,Lc))==null||e.abort(),_(this,Lc,null)},nD=function(){if(f(this,Oc))return;_(this,Oc,new AbortController);const e=this.combinedSignal(f(this,Oc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},uj=function(){var e;(e=f(this,Oc))==null||e.abort(),_(this,Oc,null)},cj=function(){if(f(this,Rc))return;_(this,Rc,new AbortController);const e=this.combinedSignal(f(this,Rc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},dj=function(){var e;(e=f(this,Rc))==null||e.abort(),_(this,Rc,null)},fj=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},qi=function(e){Object.entries(e).some(([r,i])=>f(this,Ib)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,Ib),e)}),f(this,Ir)===At.HIGHLIGHT&&e.hasSelectedEditor===!1&&P(this,Me,dl).call(this,[[_t.HIGHLIGHT_FREE,!0]]))},dl=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},hj=async function(){if(!f(this,kc)){_(this,kc,!0);const e=[];for(const t of f(this,Lr).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,er).values())t.enable()}},pj=function(){if(this.unselectAll(),f(this,kc)){_(this,kc,!1);for(const e of f(this,Lr).values())e.disable();for(const e of f(this,er).values())e.disable()}},rD=function(e){const t=f(this,Lr).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},gj=function(){let e=null;for(e of f(this,qt));return e},tw=function(){if(f(this,er).size===0)return!0;if(f(this,er).size===1)for(const e of f(this,er).values())return e.isEmpty();return!1},iD=function(e){for(const t of f(this,qt))t.unselect();f(this,qt).clear();for(const t of e)t.isEmpty()||(f(this,qt).add(t),t.select());P(this,Me,qi).call(this,{hasSelectedEditor:this.hasSelection})},Ee(hu,"TRANSLATE_SMALL",1),Ee(hu,"TRANSLATE_BIG",10),hu);var Jr,lA,Co,xm,uA,Gs,_m,cA,gs,Cl,Wf,dA,zc,ko,nw,Jx;const ji=class ji{constructor(e){U(this,ko);U(this,Jr,null);U(this,lA,!1);U(this,Co,null);U(this,xm,null);U(this,uA,null);U(this,Gs,null);U(this,_m,!1);U(this,cA,null);U(this,gs,null);U(this,Cl,null);U(this,Wf,null);U(this,dA,!1);_(this,gs,e),_(this,dA,e._uiManager.useNewAltTextFlow),f(ji,zc)||_(ji,zc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ji._l10n??(ji._l10n=e)}async render(){const e=_(this,Co,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=_(this,xm,document.createElement("span"));e.append(t),f(this,dA)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(ji,zc).missing),t.setAttribute("data-l10n-id",f(ji,zc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=f(this,gs)._uiManager._signal;e.addEventListener("contextmenu",lo,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),f(this,gs)._uiManager.editAltText(f(this,gs)),f(this,dA)&&f(this,gs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,ko,nw)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,_m,!0),i(s))},{signal:r}),await P(this,ko,Jx).call(this),e}finish(){f(this,Co)&&(f(this,Co).focus({focusVisible:f(this,_m)}),_(this,_m,!1))}isEmpty(){return f(this,dA)?f(this,Jr)===null:!f(this,Jr)&&!f(this,lA)}hasData(){return f(this,dA)?f(this,Jr)!==null||!!f(this,Cl):this.isEmpty()}get guessedText(){return f(this,Cl)}async setGuessedText(e){f(this,Jr)===null&&(_(this,Cl,e),_(this,Wf,await ji._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),P(this,ko,Jx).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,dA)||f(this,Jr)){(t=f(this,cA))==null||t.remove(),_(this,cA,null);return}if(!f(this,cA)){const r=_(this,cA,document.createElement("div"));r.className="noAltTextBadge",f(this,gs).div.append(r)}f(this,cA).classList.toggle("hidden",!e)}serialize(e){let t=f(this,Jr);return!e&&f(this,Cl)===t&&(t=f(this,Wf)),{altText:t,decorative:f(this,lA),guessedText:f(this,Cl),textWithDisclaimer:f(this,Wf)}}get data(){return{altText:f(this,Jr),decorative:f(this,lA)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(_(this,Cl,r),_(this,Wf,i)),!(f(this,Jr)===e&&f(this,lA)===t)&&(s||(_(this,Jr,e),_(this,lA,t)),P(this,ko,Jx).call(this))}toggle(e=!1){f(this,Co)&&(!e&&f(this,Gs)&&(clearTimeout(f(this,Gs)),_(this,Gs,null)),f(this,Co).disabled=!e)}shown(){f(this,gs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,ko,nw)}})}destroy(){var e,t;(e=f(this,Co))==null||e.remove(),_(this,Co,null),_(this,xm,null),_(this,uA,null),(t=f(this,cA))==null||t.remove(),_(this,cA,null)}};Jr=new WeakMap,lA=new WeakMap,Co=new WeakMap,xm=new WeakMap,uA=new WeakMap,Gs=new WeakMap,_m=new WeakMap,cA=new WeakMap,gs=new WeakMap,Cl=new WeakMap,Wf=new WeakMap,dA=new WeakMap,zc=new WeakMap,ko=new WeakSet,nw=function(){return f(this,Jr)&&"added"||f(this,Jr)===null&&this.guessedText&&"review"||"missing"},Jx=async function(){var i,s,a;const e=f(this,Co);if(!e)return;if(f(this,dA)){if(e.classList.toggle("done",!!f(this,Jr)),e.setAttribute("data-l10n-id",f(ji,zc)[f(this,ko,nw)]),(i=f(this,xm))==null||i.setAttribute("data-l10n-id",f(ji,zc)[`${f(this,ko,nw)}-label`]),!f(this,Jr)){(s=f(this,uA))==null||s.remove();return}}else{if(!f(this,Jr)&&!f(this,lA)){e.classList.remove("done"),(a=f(this,uA))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,uA);if(!t){_(this,uA,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,gs).id}`;const o=100,l=f(this,gs)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(f(this,Gs)),_(this,Gs,null)},{once:!0}),e.addEventListener("mouseenter",()=>{_(this,Gs,setTimeout(()=>{_(this,Gs,null),f(this,uA).classList.add("show"),f(this,gs)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;f(this,Gs)&&(clearTimeout(f(this,Gs)),_(this,Gs,null)),(u=f(this,uA))==null||u.classList.remove("show")},{signal:l})}f(this,lA)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,Jr)),t.parentNode||e.append(t);const r=f(this,gs).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},U(ji,zc,null),Ee(ji,"_l10n",null);let rT=ji;var pi,za,Yf,_n,Ub,Xf,Eo,Jf,Zf,eh,Pb,sD;class VS{constructor(e){U(this,Pb);U(this,pi,null);U(this,za,null);U(this,Yf,!1);U(this,_n,null);U(this,Ub,null);U(this,Xf,null);U(this,Eo,null);U(this,Jf,null);U(this,Zf,!1);U(this,eh,null);_(this,_n,e)}renderForToolbar(){const e=_(this,za,document.createElement("button"));return e.className="comment",P(this,Pb,sD).call(this,e,!1)}renderForStandalone(){const e=_(this,pi,document.createElement("button"));e.className="annotationCommentButton";const t=f(this,_n).commentButtonPosition;if(t){const{style:r}=e;r.insetInlineEnd=`calc(${100*(f(this,_n)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=f(this,_n).commentButtonColor;i&&(r.backgroundColor=i)}return P(this,Pb,sD).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=f(this,pi)??f(this,za))==null||e.focus()},0)}onUpdatedColor(){if(!f(this,pi))return;const e=f(this,_n).commentButtonColor;e&&(f(this,pi).style.backgroundColor=e),f(this,_n)._uiManager.updatePopupColor(f(this,_n))}get commentButtonWidth(){var e;return(((e=f(this,pi))==null?void 0:e.getBoundingClientRect().width)??0)/f(this,_n).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(f(this,eh))return f(this,eh);if(!f(this,pi))return null;const{x:e,y:t,height:r}=f(this,pi).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=f(this,_n).parent.boundingClientRect;return[(e-i)/a,(t+r-s)/o]}set commentPopupPositionInLayer(e){_(this,eh,e)}hasDefaultPopupPosition(){return f(this,eh)===null}removeStandaloneCommentButton(){var e;(e=f(this,pi))==null||e.remove(),_(this,pi,null)}removeToolbarCommentButton(){var e;(e=f(this,za))==null||e.remove(),_(this,za,null)}setCommentButtonStates({selected:e,hasPopup:t}){f(this,pi)&&(f(this,pi).classList.toggle("selected",e),f(this,pi).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let r,i;if(t)[r,i]=t;else{[r,i]=f(this,_n).commentButtonPosition;const{width:d,height:h,x:g,y:v}=f(this,_n);r=g+r*d,i=v+i*h}const s=f(this,_n).parent.boundingClientRect,{x:a,y:o,width:l,height:u}=s;f(this,_n)._uiManager.editComment(f(this,_n),a+r*l,o+i*u,{...e,parentDimensions:s})}finish(){f(this,za)&&(f(this,za).focus({focusVisible:f(this,Yf)}),_(this,Yf,!1))}isDeleted(){return f(this,Zf)||f(this,Eo)===""}isEmpty(){return f(this,Eo)===null}hasBeenEdited(){return this.isDeleted()||f(this,Eo)!==f(this,Ub)}serialize(){return this.data}get data(){return{text:f(this,Eo),richText:f(this,Xf),date:f(this,Jf),deleted:this.isDeleted()}}set data(e){if(e!==f(this,Eo)&&_(this,Xf,null),e===null){_(this,Eo,""),_(this,Zf,!0);return}_(this,Eo,e),_(this,Jf,new Date),_(this,Zf,!1)}setInitialText(e,t=null){_(this,Ub,e),this.data=e,_(this,Jf,null),_(this,Xf,t)}shown(){}destroy(){var e,t;(e=f(this,za))==null||e.remove(),_(this,za,null),(t=f(this,pi))==null||t.remove(),_(this,pi,null),_(this,Eo,""),_(this,Xf,null),_(this,Jf,null),_(this,_n,null),_(this,Yf,!1),_(this,Zf,!1)}}pi=new WeakMap,za=new WeakMap,Yf=new WeakMap,_n=new WeakMap,Ub=new WeakMap,Xf=new WeakMap,Eo=new WeakMap,Jf=new WeakMap,Zf=new WeakMap,eh=new WeakMap,Pb=new WeakSet,sD=function(e,t){if(!f(this,_n)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[f(this,_n)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=f(this,_n)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",lo,{signal:r}),t&&(e.addEventListener("focusin",s=>{f(this,_n)._focusEventsAllowed=!1,or(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{f(this,_n)._focusEventsAllowed=!0,or(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===f(this,za)?this.edit():f(this,_n).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,Yf,!0),i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{f(this,_n).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{f(this,_n).toggleComment(!1,!1)},{signal:r}),e};var Tm,th,Rb,Db,Nb,Lb,Qb,El,nh,Bl,rh,Sl,Zd,vj,yj,wj,Im;let mj=(Im=class{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){U(this,Zd);U(this,Tm);U(this,th,!1);U(this,Rb,null);U(this,Db);U(this,Nb);U(this,Lb);U(this,Qb);U(this,El,null);U(this,nh);U(this,Bl,null);U(this,rh);U(this,Sl,null);_(this,Tm,e),_(this,Rb,r),_(this,Db,t),_(this,Nb,i),_(this,Lb,s),_(this,Qb,a),_(this,rh,new AbortController),_(this,nh,AbortSignal.any([o,f(this,rh).signal])),e.addEventListener("touchstart",P(this,Zd,vj).bind(this),{passive:!1,signal:f(this,nh)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Bp.pixelRatio}destroy(){var e,t;(e=f(this,rh))==null||e.abort(),_(this,rh,null),(t=f(this,El))==null||t.abort(),_(this,El,null)}},Tm=new WeakMap,th=new WeakMap,Rb=new WeakMap,Db=new WeakMap,Nb=new WeakMap,Lb=new WeakMap,Qb=new WeakMap,El=new WeakMap,nh=new WeakMap,Bl=new WeakMap,rh=new WeakMap,Sl=new WeakMap,Zd=new WeakSet,vj=function(e){var i,s,a;if((i=f(this,Db))!=null&&i.call(this))return;if(e.touches.length===1){if(f(this,El))return;const o=_(this,El,new AbortController),l=AbortSignal.any([f(this,nh),o.signal]),u=f(this,Tm),d={capture:!0,signal:l,passive:!1},h=g=>{var v;g.pointerType==="touch"&&((v=f(this,El))==null||v.abort(),_(this,El,null))};u.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(or(g),h(g))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!f(this,Sl)){_(this,Sl,new AbortController);const o=AbortSignal.any([f(this,nh),f(this,Sl).signal]),l=f(this,Tm),u={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",P(this,Zd,yj).bind(this),u);const d=P(this,Zd,wj).bind(this);l.addEventListener("touchend",d,u),l.addEventListener("touchcancel",d,u),u.capture=!0,l.addEventListener("pointerdown",or,u),l.addEventListener("pointermove",or,u),l.addEventListener("pointercancel",or,u),l.addEventListener("pointerup",or,u),(s=f(this,Nb))==null||s.call(this)}if(or(e),e.touches.length!==2||(a=f(this,Rb))!=null&&a.call(this)){_(this,Bl,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),_(this,Bl,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},yj=function(e){var R;if(!f(this,Bl)||e.touches.length!==2)return;or(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=r,l=f(this,Bl),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:g}=l,v=h-u,C=g-d,b=a-i,B=o-s,S=Math.hypot(b,B)||1,I=Math.hypot(v,C)||1;if(!f(this,th)&&Math.abs(I-S)<=Im.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!f(this,th)){_(this,th,!0);return}const T=[(i+a)/2,(s+o)/2];(R=f(this,Lb))==null||R.call(this,T,I,S)},wj=function(e){var t;e.touches.length>=2||(f(this,Sl)&&(f(this,Sl).abort(),_(this,Sl,null),(t=f(this,Qb))==null||t.call(this)),f(this,Bl)&&(or(e),_(this,Bl,null),_(this,th,!1)))},Im);var ih,Bo,kn,pn,xl,Fm,$c,kb,gi,sh,_l,$a,qc,Ob,ah,zs,Hb,oh,Tl,fA,Mm,Um,qa,Ah,Vb,w1,Ze,aD,Kb,oD,Zx,bj,Cj,AD,e_,lD,Ej,Bj,Sj,uD,xj,cD,_j,Tj,Ij,dD,rw;const ot=class ot{constructor(e){U(this,Ze);U(this,ih,null);U(this,Bo,null);U(this,kn,null);U(this,pn,null);U(this,xl,null);U(this,Fm,!1);U(this,$c,null);U(this,kb,"");U(this,gi,null);U(this,sh,null);U(this,_l,null);U(this,$a,null);U(this,qc,null);U(this,Ob,"");U(this,ah,!1);U(this,zs,null);U(this,Hb,!1);U(this,oh,!1);U(this,Tl,!1);U(this,fA,null);U(this,Mm,0);U(this,Um,0);U(this,qa,null);U(this,Ah,null);Ee(this,"isSelected",!1);Ee(this,"_isCopy",!1);Ee(this,"_editToolbar",null);Ee(this,"_initialOptions",Object.create(null));Ee(this,"_initialData",null);Ee(this,"_isVisible",!0);Ee(this,"_uiManager",null);Ee(this,"_focusEventsAllowed",!0);U(this,Vb,!1);U(this,w1,ot._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ot.prototype._resizeWithKeyboard,t=Ww.TRANSLATE_SMALL,r=Ww.TRANSLATE_BIG;return at(this,"_resizerKeyboardManager",new JE([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],ot.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return at(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Jce({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ot._l10n??(ot._l10n=e),ot._l10nResizer||(ot._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ot._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);ot._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){yn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,Vb)}set _isDraggable(e){var t;_(this,Vb,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,w1)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(P(this,Ze,rw).call(this),(t=f(this,$a))==null||t.remove(),_(this,$a,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,ah)?_(this,ah,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}translate(e,t){P(this,Ze,aD).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,zs)||_(this,zs,[this.x,this.y,this.width,this.height]),P(this,Ze,aD).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){f(this,zs)||_(this,zs,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:d}=r;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!f(this,zs)&&(f(this,zs)[0]!==this.x||f(this,zs)[1]!==this.y)}get _hasBeenResized(){return!!f(this,zs)&&(f(this,zs)[2]!==this.width||f(this,zs)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=ot,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=ts(s,0,r-o),a=ts(a,0,i-l);break;case 90:s=ts(s,0,r-l),a=ts(a,o,i);break;case 180:s=ts(s,o,r),a=ts(a,l,i);break;case 270:s=ts(s,l,r),a=ts(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[u,d]=this.getBaseTranslation();s+=u,a+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return P(r=ot,Kb,oD).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return P(r=ot,Kb,oD).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(){const{div:{style:e},width:t,height:r}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=f(this,kn))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||f(this,oh))return this._editToolbar;this._editToolbar=new XR(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=f(this,kn))==null||t.destroy()}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return f(this,kn)||(rT.initialize(ot._l10n),_(this,kn,new rT(this)),f(this,ih)&&(f(this,kn).data=f(this,ih),_(this,ih,null))),f(this,kn)}get altTextData(){var e;return(e=f(this,kn))==null?void 0:e.data}set altTextData(e){f(this,kn)&&(f(this,kn).data=e)}get guessedAltText(){var e;return(e=f(this,kn))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,kn))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,kn))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,kn)&&!f(this,kn).isEmpty()}hasAltTextData(){var e;return((e=f(this,kn))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=f(this,pn))==null||e.focusButton()}addCommentButton(){return this.canAddComment?f(this,pn)||_(this,pn,new VS(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(f(this,xl)){this._uiManager.isEditingMode()&&f(this,xl).classList.remove("hidden");return}this.hasComment&&(_(this,xl,f(this,pn).renderForStandalone()),this.div.append(f(this,xl)))}}removeStandaloneCommentButton(){f(this,pn).removeStandaloneCommentButton(),_(this,xl,null)}hideStandaloneCommentButton(){var e;(e=f(this,xl))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:r,deleted:i}}=f(this,pn);return{text:t,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){f(this,pn)||_(this,pn,new VS(this)),f(this,pn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:r}){if(!t||(f(this,pn)||_(this,pn,new VS(this)),f(this,pn).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=f(this,pn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=f(this,pn))==null?void 0:e.isDeleted()}get hasComment(){return!!f(this,pn)&&!f(this,pn).isEmpty()&&!f(this,pn).isDeleted()}async editComment(e){f(this,pn)||_(this,pn,new VS(this)),f(this,pn).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){f(this,pn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,u=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,u,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){f(this,pn).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=f(this,Fm)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),P(this,Ze,cD).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),rj(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,Ah)||_(this,Ah,new mj({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:P(this,Ze,Ej).bind(this),onPinching:P(this,Ze,Bj).bind(this),onPinchEnd:P(this,Ze,Sj).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=Ii.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(_(this,ah,!0),this._isDraggable){P(this,Ze,xj).call(this,e);return}P(this,Ze,uD).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,fA)&&clearTimeout(f(this,fA)),_(this,fA,setTimeout(()=>{var e;_(this,fA,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,d=t/i,h=this.x*s,g=this.y*a,v=this.width*s,C=this.height*a;switch(r){case 0:return[h+u+o,a-g-d-C+l,h+u+v+o,a-g-d+l];case 90:return[h+d+o,a-g+u+l,h+d+C+o,a-g+u+v+l];case 180:return[h-u-v+o,a-g+d+l,h-u+o,a-g+d+C+l];case 270:return[h-d-C+o,a-g-u-v+l,h-d+o,a-g-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,t-a,o,l];case 90:return[r,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ot._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=f(this,pn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:u,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:u,modificationDate:r||d,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),_(this,oh,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),_(this,oh,!1),!0):!1}isInEditMode(){return f(this,oh)}shouldGetKeyboardEvents(){return f(this,Tl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&r>0}rebuild(){P(this,Ze,cD).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,_(i,ih,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,u,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=u/s,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,r;if((e=f(this,qc))==null||e.abort(),_(this,qc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),f(this,fA)&&(clearTimeout(f(this,fA)),_(this,fA,null)),P(this,Ze,rw).call(this),this.removeEditToolbar(),f(this,qa)){for(const i of f(this,qa).values())clearTimeout(i);_(this,qa,null)}this.parent=null,(t=f(this,Ah))==null||t.destroy(),_(this,Ah,null),(r=f(this,$a))==null||r.remove(),_(this,$a,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(P(this,Ze,bj).call(this),f(this,gi).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[r,i,s,a]=this.getPDFRect();return[ot._round(r+(s-r)*e),ot._round(i+(a-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return f(this,pn).commentPopupPositionInLayer}set commentPopupPosition(e){f(this,pn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return f(this,pn).hasDefaultPopupPosition()}get commentButtonWidth(){return f(this,pn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=f(this,pn))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),_(this,_l,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,gi).children;if(!f(this,Bo)){_(this,Bo,Array.from(t));const a=P(this,Ze,_j).bind(this),o=P(this,Ze,Tj).bind(this),l=this._uiManager._signal;for(const u of f(this,Bo)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",P(this,Ze,Ij).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",ot._l10nResizer[d])}}const r=f(this,Bo)[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(f(this,Bo).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)f(this,gi).append(f(this,gi).firstElementChild);else if(s>i)for(let o=0;o<s-i;o++)f(this,gi).firstElementChild.before(f(this,gi).lastElementChild);let a=0;for(const o of t){const u=f(this,Bo)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",ot._l10nResizer[u])}}P(this,Ze,dD).call(this,0),_(this,Tl,!0),f(this,gi).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,Tl)&&P(this,Ze,lD).call(this,f(this,Ob),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){P(this,Ze,rw).call(this),this.div.focus()}select(){var e,t,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=f(this,kn))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,r,i,s;this.isSelected&&(this.isSelected=!1,(e=f(this,gi))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=f(this,kn))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,Hb)}set isEditing(e){_(this,Hb,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,qa)||_(this,qa,new Map);const{action:r}=e;let i=f(this,qa).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),f(this,qa).delete(r),f(this,qa).size===0&&_(this,qa,null)},ot._telemetryTimeout),f(this,qa).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),_(this,Fm,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,Fm,!0)}updateFakeAnnotationElement(e){if(!f(this,$a)&&!this.deleted){_(this,$a,e.addFakeAnnotation(this));return}if(this.deleted){f(this,$a).remove(),_(this,$a,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&f(this,$a).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};ih=new WeakMap,Bo=new WeakMap,kn=new WeakMap,pn=new WeakMap,xl=new WeakMap,Fm=new WeakMap,$c=new WeakMap,kb=new WeakMap,gi=new WeakMap,sh=new WeakMap,_l=new WeakMap,$a=new WeakMap,qc=new WeakMap,Ob=new WeakMap,ah=new WeakMap,zs=new WeakMap,Hb=new WeakMap,oh=new WeakMap,Tl=new WeakMap,fA=new WeakMap,Mm=new WeakMap,Um=new WeakMap,qa=new WeakMap,Ah=new WeakMap,Vb=new WeakMap,w1=new WeakMap,Ze=new WeakSet,aD=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Kb=new WeakSet,oD=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Zx=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},bj=function(){if(f(this,gi))return;_(this,gi,document.createElement("div")),f(this,gi).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");f(this,gi).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",P(this,Ze,Cj).bind(this,r),{signal:t}),i.addEventListener("contextmenu",lo,{signal:t}),i.tabIndex=-1}this.div.prepend(f(this,gi))},Cj=function(e,t){var d;t.preventDefault();const{isMac:r}=Ii.platform;if(t.button!==0||t.ctrlKey&&r)return;(d=f(this,kn))==null||d.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,_(this,sh,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",P(this,Ze,lD).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",or,{passive:!1,signal:a}),window.addEventListener("contextmenu",lo,{signal:a}),_(this,_l,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=f(this,kn))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,P(this,Ze,e_).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},AD=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},e_=function(){if(!f(this,_l))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=f(this,_l);_(this,_l,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===r&&l===i||this.addCommands({cmd:P(this,Ze,AD).bind(this,s,a,o,l),undo:P(this,Ze,AD).bind(this,e,t,r,i),mustExec:!0})},lD=function(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=ot.MIN_SIZE/r,d=ot.MIN_SIZE/i,h=P(this,Ze,Zx).call(this,this.rotation),g=(V,q)=>[h[0]*V+h[2]*q,h[1]*V+h[3]*q],v=P(this,Ze,Zx).call(this,360-this.rotation),C=(V,q)=>[v[0]*V+v[2]*q,v[1]*V+v[3]*q];let b,B,S=!1,I=!1;switch(e){case"topLeft":S=!0,b=(V,q)=>[0,0],B=(V,q)=>[V,q];break;case"topMiddle":b=(V,q)=>[V/2,0],B=(V,q)=>[V/2,q];break;case"topRight":S=!0,b=(V,q)=>[V,0],B=(V,q)=>[0,q];break;case"middleRight":I=!0,b=(V,q)=>[V,q/2],B=(V,q)=>[0,q/2];break;case"bottomRight":S=!0,b=(V,q)=>[V,q],B=(V,q)=>[0,0];break;case"bottomMiddle":b=(V,q)=>[V/2,q],B=(V,q)=>[V/2,0];break;case"bottomLeft":S=!0,b=(V,q)=>[0,q],B=(V,q)=>[V,0];break;case"middleLeft":I=!0,b=(V,q)=>[0,q/2],B=(V,q)=>[V,q/2];break}const T=b(o,l),R=B(o,l);let M=g(...R);const D=ot._round(s+M[0]),L=ot._round(a+M[1]);let H=1,k=1,G,K;if(t.fromKeyboard)({deltaX:G,deltaY:K}=t);else{const{screenX:V,screenY:q}=t,[te,he]=f(this,sh);[G,K]=this.screenToPageTranslation(V-te,q-he),f(this,sh)[0]=V,f(this,sh)[1]=q}if([G,K]=C(G/r,K/i),S){const V=Math.hypot(o,l);H=k=Math.max(Math.min(Math.hypot(R[0]-T[0]-G,R[1]-T[1]-K)/V,1/o,1/l),u/o,d/l)}else I?H=ts(Math.abs(R[0]-T[0]-G),u,1)/o:k=ts(Math.abs(R[1]-T[1]-K),d,1)/l;const z=ot._round(o*H),J=ot._round(l*k);M=g(...B(z,J));const ne=D-M[0],oe=L-M[1];f(this,zs)||_(this,zs,[this.x,this.y,this.width,this.height]),this.width=z,this.height=J,this.x=ne,this.y=oe,this.setDims(),this.fixAndSetPosition(),this._onResizing()},Ej=function(){var e;_(this,_l,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=f(this,kn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},Bj=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const a=P(this,Ze,Zx).call(this,this.rotation),o=(D,L)=>[a[0]*D+a[2]*L,a[1]*D+a[3]*L],[l,u]=this.parentDimensions,d=this.x,h=this.y,g=this.width,v=this.height,C=ot.MIN_SIZE/l,b=ot.MIN_SIZE/u;s=Math.max(Math.min(s,1/g,1/v),C/g,b/v);const B=ot._round(g*s),S=ot._round(v*s);if(B===g&&S===v)return;f(this,zs)||_(this,zs,[d,h,g,v]);const I=o(g/2,v/2),T=ot._round(d+I[0]),R=ot._round(h+I[1]),M=o(B/2,S/2);this.x=T-M[0],this.y=R-M[1],this.width=B,this.height=S,this.setDims(),this.fixAndSetPosition(),this._onResizing()},Sj=function(){var e;(e=f(this,kn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),P(this,Ze,e_).call(this)},uD=function(e){const{isMac:t}=Ii.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},xj=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=u=>{i.abort(),_(this,$c,null),_(this,ah,!1),this._uiManager.endDragSession()||P(this,Ze,uD).call(this,u),r&&this._onStopDragging()};t&&(_(this,Mm,e.clientX),_(this,Um,e.clientY),_(this,$c,e.pointerId),_(this,kb,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:g}=u;if(g!==f(this,$c)){or(u);return}const[v,C]=this.screenToPageTranslation(d-f(this,Mm),h-f(this,Um));_(this,Mm,d),_(this,Um,h),this._uiManager.dragSelectedEditors(v,C)},a),window.addEventListener("touchmove",or,a),window.addEventListener("pointerdown",u=>{u.pointerType===f(this,kb)&&(f(this,Ah)||u.isPrimary)&&o(u),or(u)},a));const l=u=>{if(!f(this,$c)||f(this,$c)===u.pointerId){o(u);return}or(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},cD=function(){if(f(this,qc)||!this.div)return;_(this,qc,new AbortController);const e=this._uiManager.combinedSignal(f(this,qc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},_j=function(e){ot._resizerKeyboardManager.exec(this,e)},Tj=function(e){var t;f(this,Tl)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,gi)&&P(this,Ze,rw).call(this)},Ij=function(e){_(this,Ob,f(this,Tl)?e:"")},dD=function(e){if(f(this,Bo))for(const t of f(this,Bo))t.tabIndex=e},rw=function(){_(this,Tl,!1),P(this,Ze,dD).call(this,-1),P(this,Ze,e_).call(this)},U(ot,Kb),Ee(ot,"_l10n",null),Ee(ot,"_l10nResizer",null),Ee(ot,"_borderLineWidth",-1),Ee(ot,"_colorManager",new eD),Ee(ot,"_zIndex",1),Ee(ot,"_telemetryTimeout",1e3);let Fn=ot;class Jce extends Fn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const FK=3285377520,Pa=4294901760,tA=65535;class Fj{constructor(e){this.h1=e?e&4294967295:FK,this.h2=e?e&4294967295:FK}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let b=0,B=e.length;b<B;b++){const S=e.charCodeAt(b);S<=255?t[r++]=S:(t[r++]=S>>>8,t[r++]=S&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,u=this.h1,d=this.h2;const h=3432918353,g=461845907,v=h&tA,C=g&tA;for(let b=0;b<i;b++)b&1?(o=a[b],o=o*h&Pa|o*v&tA,o=o<<15|o>>>17,o=o*g&Pa|o*C&tA,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[b],l=l*h&Pa|l*v&tA,l=l<<15|l>>>17,l=l*g&Pa|l*C&tA,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*h&Pa|o*v&tA,o=o<<15|o>>>17,o=o*g&Pa|o*C&tA,i&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Pa|e*36045&tA,t=t*4283543511&Pa|((t<<16|e>>>16)*2950163797&Pa)>>>16,e^=t>>>1,e=e*444984403&Pa|e*60499&tA,t=t*3301882366&Pa|((t<<16|e>>>16)*3120437893&Pa)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const fD=Object.freeze({map:null,hash:"",transfer:void 0});var lh,uh,Il,mi,b1,Mj;class GQ{constructor(){U(this,b1);U(this,lh,!1);U(this,uh,null);U(this,Il,null);U(this,mi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=f(this,mi).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return f(this,mi).get(e)}remove(e){const t=f(this,mi).get(e);if(t!==void 0&&(t instanceof Fn&&f(this,Il).delete(t.annotationElementId),f(this,mi).delete(e),f(this,mi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of f(this,mi).values())if(r instanceof Fn)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=f(this,mi).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,f(this,mi).set(e,t);i&&P(this,b1,Mj).call(this),t instanceof Fn&&((f(this,Il)||_(this,Il,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return f(this,mi).has(e)}get size(){return f(this,mi).size}resetModified(){f(this,lh)&&(_(this,lh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Uj(this)}get serializable(){if(f(this,mi).size===0)return fD;const e=new Map,t=new Fj,r=[],i=Object.create(null);let s=!1;for(const[a,o]of f(this,mi)){const l=o instanceof Fn?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:fD}get editorStats(){let e=null;const t=new Map;let r=0,i=0;for(const s of f(this,mi).values()){if(!(s instanceof Fn)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(a)){if(u==="type")continue;let h=l.get(u);h||(h=new Map,l.set(u,h));const g=h.get(d)??0;h.set(d,g+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){_(this,uh,null)}updateEditor(e,t){var i;const r=(i=f(this,Il))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=f(this,Il))==null?void 0:t.get(e))||null}get modifiedIds(){if(f(this,uh))return f(this,uh);const e=[];if(f(this,Il))for(const t of f(this,Il).values())t.serialize()&&e.push(t.annotationElementId);return _(this,uh,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return f(this,mi).entries()}}lh=new WeakMap,uh=new WeakMap,Il=new WeakMap,mi=new WeakMap,b1=new WeakSet,Mj=function(){f(this,lh)||(_(this,lh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Gb;class Uj extends GQ{constructor(t){super();U(this,Gb);const{map:r,hash:i,transfer:s}=t.serializable,a=structuredClone(r,s?{transfer:s}:null);_(this,Gb,{map:a,hash:i,transfer:s})}get print(){yn("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,Gb)}get modifiedIds(){return at(this,"modifiedIds",{ids:new Set,hash:""})}}Gb=new WeakMap;var Pm;class Zce{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){U(this,Pm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,Pm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||f(this,Pm).has(e.loadedName))){if(Tt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),f(this,Pm).add(i),r==null||r(e)}catch{st(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}yn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw st(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return at(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return at(this,"isSyncFontLoadingSupported",es||Ii.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Tt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return at(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(R,M){return R.charCodeAt(M)<<24|R.charCodeAt(M+1)<<16|R.charCodeAt(M+2)<<8|R.charCodeAt(M+3)&255}function i(R,M,D,L){const H=R.substring(0,M),k=R.substring(M+D);return H+L+k}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(R,M){if(++u>30){st("Load test font never loaded."),M();return}if(l.font="30px "+R,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(d.bind(null,R,M))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,h.length,h);const C=16,b=1482184792;let B=r(g,C);for(s=0,a=h.length-3;s<a;s+=4)B=B-b+r(h,s)|0;s<h.length&&(B=B-b+r(h+"XXX",s)|0),g=i(g,C,4,Pce(B));const S=`url(data:font/opentype;base64,${btoa(g)});`,I=`@font-face {font-family:"${h}";src:${S}}`;this.insertRule(I);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const R of[e.loadedName,h]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=R,T.append(M)}this._document.body.append(T),d(h,()=>{T.remove(),t.complete()})}}Pm=new WeakMap;var an;class ede{constructor(e,t=null,r,i){U(this,an);this.compiledGlyphs=Object.create(null),_(this,an,e),this._inspectFont=t,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${j6(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(a){st(`getPathGenerator - ignoring character: "${a}".`)}const s=X6(i);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}get black(){return f(this,an).black}get bold(){return f(this,an).bold}get disableFontFace(){return f(this,an).disableFontFace??!1}set disableFontFace(e){at(this,"disableFontFace",!!e)}get fontExtraProperties(){return f(this,an).fontExtraProperties??!1}get isInvalidPDFjsFont(){return f(this,an).isInvalidPDFjsFont}get isType3Font(){return f(this,an).isType3Font}get italic(){return f(this,an).italic}get missingFile(){return f(this,an).missingFile}get remeasure(){return f(this,an).remeasure}get vertical(){return f(this,an).vertical}get ascent(){return f(this,an).ascent}get defaultWidth(){return f(this,an).defaultWidth}get descent(){return f(this,an).descent}get bbox(){return f(this,an).bbox}set bbox(e){at(this,"bbox",e)}get fontMatrix(){return f(this,an).fontMatrix}get fallbackName(){return f(this,an).fallbackName}get loadedName(){return f(this,an).loadedName}get mimetype(){return f(this,an).mimetype}get name(){return f(this,an).name}get data(){return f(this,an).data}clearData(){f(this,an).clearData()}get cssFontInfo(){return f(this,an).cssFontInfo}get systemFontInfo(){return f(this,an).systemFontInfo}get defaultVMetrics(){return f(this,an).defaultVMetrics}}an=new WeakMap;var Rm,Dm,zb,Nm,t_;const Xg=class Xg{constructor(e){U(this,Nm);U(this,Rm);U(this,Dm);U(this,zb);_(this,Rm,e),_(this,Dm,new DataView(f(this,Rm))),_(this,zb,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const u of Xg.strings){const d=t.encode(e[u]);r[u]=d,i+=4+d.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const u of Xg.strings){const d=r[u],h=d.length;o.setUint32(l,h),a.set(d,l+4),l+=4+h}return Tt(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return P(this,Nm,t_).call(this,0)}get fontWeight(){return P(this,Nm,t_).call(this,1)}get italicAngle(){return P(this,Nm,t_).call(this,2)}};Rm=new WeakMap,Dm=new WeakMap,zb=new WeakMap,Nm=new WeakSet,t_=function(e){Tt(e<Xg.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=f(this,Dm).getUint32(t)+4;const r=f(this,Dm).getUint32(t);return f(this,zb).decode(new Uint8Array(f(this,Rm),t+4,r))},Ee(Xg,"strings",["fontFamily","fontWeight","italicAngle"]);let iT=Xg;var jc,hA,ch,dh,iw;const Jg=class Jg{constructor(e){U(this,dh);U(this,jc);U(this,hA);U(this,ch);_(this,jc,e),_(this,hA,new DataView(f(this,jc))),_(this,ch,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const g of Jg.strings){const v=t.encode(e[g]);r[g]=v,i+=4+v.length}i+=4;let s,a,o=1+i;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,i=0;for(const g of Jg.strings){const v=r[g],C=v.length;i+=4+C,d.setUint32(h,C),u.set(v,h+4),h+=4+C}return d.setUint32(h-i-4,i),e.style&&(d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),u.set(a,h+4),h+=4+a.length),Tt(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return f(this,hA).getUint8(0)!==0}get css(){return P(this,dh,iw).call(this,0)}get loadedName(){return P(this,dh,iw).call(this,1)}get baseFontName(){return P(this,dh,iw).call(this,2)}get src(){return P(this,dh,iw).call(this,3)}get style(){let e=1;e+=4+f(this,hA).getUint32(e);const t=f(this,hA).getUint32(e),r=f(this,ch).decode(new Uint8Array(f(this,jc),e+4,t));e+=4+t;const i=f(this,hA).getUint32(e),s=f(this,ch).decode(new Uint8Array(f(this,jc),e+4,i));return{style:r,weight:s}}};jc=new WeakMap,hA=new WeakMap,ch=new WeakMap,dh=new WeakSet,iw=function(e){Tt(e<Jg.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=f(this,hA).getUint32(t)+4;const r=f(this,hA).getUint32(t);return f(this,ch).decode(new Uint8Array(f(this,jc),t+4,r))},Ee(Jg,"strings",["css","loadedName","baseFontName","src"]);let sT=Jg;var Lm,Qm,km,Om,$s,pA,$b,on,ar,wo,n_,sw;const ut=class ut{constructor({data:e,extra:t}){U(this,ar);U(this,pA);U(this,$b);U(this,on);_(this,pA,e),_(this,$b,new TextDecoder),_(this,on,new DataView(f(this,pA))),t&&Object.assign(this,t)}get black(){return P(this,ar,wo).call(this,0)}get bold(){return P(this,ar,wo).call(this,1)}get disableFontFace(){return P(this,ar,wo).call(this,2)}get fontExtraProperties(){return P(this,ar,wo).call(this,3)}get isInvalidPDFjsFont(){return P(this,ar,wo).call(this,4)}get isType3Font(){return P(this,ar,wo).call(this,5)}get italic(){return P(this,ar,wo).call(this,6)}get missingFile(){return P(this,ar,wo).call(this,7)}get remeasure(){return P(this,ar,wo).call(this,8)}get vertical(){return P(this,ar,wo).call(this,9)}get ascent(){return P(this,ar,n_).call(this,0)}get defaultWidth(){return P(this,ar,n_).call(this,1)}get descent(){return P(this,ar,n_).call(this,2)}get bbox(){let e=f(ut,Qm);if(f(this,on).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(f(this,on).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=f(ut,km);if(f(this,on).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(f(this,on).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=f(ut,Om);if(f(this,on).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(f(this,on).getInt16(e,!0)),e+=2;return r}get fallbackName(){return P(this,ar,sw).call(this,0)}get loadedName(){return P(this,ar,sw).call(this,1)}get mimetype(){return P(this,ar,sw).call(this,2)}get name(){return P(this,ar,sw).call(this,3)}get data(){let e=f(ut,$s);const t=f(this,on).getUint32(e);e+=4+t;const r=f(this,on).getUint32(e);e+=4+r;const i=f(this,on).getUint32(e);e+=4+i;const s=f(this,on).getUint32(e);if(s!==0)return new Uint8Array(f(this,pA),e+4,s)}clearData(){let e=f(ut,$s);const t=f(this,on).getUint32(e);e+=4+t;const r=f(this,on).getUint32(e);e+=4+r;const i=f(this,on).getUint32(e);e+=4+i;const s=f(this,on).getUint32(e);new Uint8Array(f(this,pA),e+4,s).fill(0),f(this,on).setUint32(e,0)}get cssFontInfo(){let e=f(ut,$s);const t=f(this,on).getUint32(e);e+=4+t;const r=f(this,on).getUint32(e);e+=4+r;const i=f(this,on).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(f(this,pA),e+4,i)),new iT(s.buffer)}get systemFontInfo(){let e=f(ut,$s);const t=f(this,on).getUint32(e);e+=4+t;const r=f(this,on).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(f(this,pA),e+4,r)),new sT(i.buffer)}static write(e){const t=e.systemFontInfo?sT.write(e.systemFontInfo):null,r=e.cssFontInfo?iT.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const b of ut.strings)s[b]=i.encode(e[b]),a+=4+s[b].length;const o=f(ut,$s)+4+a+4+(t?t.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;const g=ut.bools.length;let v=0,C=0;for(let b=0;b<g;b++){const B=e[ut.bools[b]];v|=(B===void 0?0:B?2:1)<<C,C+=2,(C===8||b===g-1)&&(d.setUint8(h++,v),v=0,C=0)}Tt(h===f(ut,Lm),"FontInfo.write: Boolean properties offset mismatch");for(const b of ut.numbers)d.setFloat64(h,e[b]),h+=8;if(Tt(h===f(ut,Qm),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const b of e.bbox)d.setInt16(h,b,!0),h+=2}else d.setUint8(h++,0),h+=8;if(Tt(h===f(ut,km),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const b of e.fontMatrix)d.setFloat64(h,b,!0),h+=8}else d.setUint8(h++,0),h+=48;if(Tt(h===f(ut,Om),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const b of e.defaultVMetrics)d.setInt16(h,b,!0),h+=2}else d.setUint8(h++,0),h+=6;Tt(h===f(ut,$s),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(f(ut,$s),0),h+=4;for(const b of ut.strings){const B=s[b],S=B.length;d.setUint32(h,S),u.set(B,h+4),h+=4+S}if(d.setUint32(f(ut,$s),h-f(ut,$s)-4),!t)d.setUint32(h,0),h+=4;else{const b=t.byteLength;d.setUint32(h,b),Tt(h+4+b<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+b}if(!r)d.setUint32(h,0),h+=4;else{const b=r.byteLength;d.setUint32(h,b),Tt(h+4+b<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(r),h+4),h+=4+b}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),Tt(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};Lm=new WeakMap,Qm=new WeakMap,km=new WeakMap,Om=new WeakMap,$s=new WeakMap,pA=new WeakMap,$b=new WeakMap,on=new WeakMap,ar=new WeakSet,wo=function(e){Tt(e<ut.bools.length,"Invalid boolean index");const t=Math.floor(e/4),r=e*2%8,i=f(this,on).getUint8(t)>>r&3;return i===0?void 0:i===2},n_=function(e){return Tt(e<ut.numbers.length,"Invalid number index"),f(this,on).getFloat64(f(ut,Lm)+e*8)},sw=function(e){Tt(e<ut.strings.length,"Invalid string index");let t=f(ut,$s)+4;for(let s=0;s<e;s++)t+=f(this,on).getUint32(t)+4;const r=f(this,on).getUint32(t),i=new Uint8Array(r);return i.set(new Uint8Array(f(this,pA),t+4,r)),f(this,$b).decode(i)},Ee(ut,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Ee(ut,"numbers",["ascent","defaultWidth","descent"]),Ee(ut,"strings",["fallbackName","loadedName","mimetype","name"]),U(ut,Lm,Math.ceil(ut.bools.length*2/8)),U(ut,Qm,f(ut,Lm)+ut.numbers.length*8),U(ut,km,f(ut,Qm)+1+8),U(ut,Om,f(ut,km)+1+48),U(ut,$s,f(ut,Om)+1+6);let hD=ut;var qb,jb,Wb,Yb,Xb,Jb,Zb,eC;const xn=class xn{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,r=null,i=[],s=[],a=[],o=[],l=null,u=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,r=e[2],a=e[3],t===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],r=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(i.length/2),h=Math.floor(s.length/3),g=a.length,v=o.length;let C=0;for(const M of o)C+=1,C=Math.ceil(C/4)*4,C+=4+M.coords.length*4,C+=4+M.colors.length*4,M.verticesPerRow!==void 0&&(C+=4);const b=20+d*8+h*3+g*8+(r?16:0)+(u?3:0)+C,B=new ArrayBuffer(b),S=new DataView(B),I=new Uint8Array(B);S.setUint8(f(xn,qb),t),S.setUint8(f(xn,jb),r?1:0),S.setUint8(f(xn,Wb),u?1:0),S.setUint8(f(xn,Yb),l),S.setUint32(f(xn,Xb),d,!0),S.setUint32(f(xn,Jb),h,!0),S.setUint32(f(xn,Zb),g,!0),S.setUint32(f(xn,eC),v,!0);let T=20;new Float32Array(B,T,d*2).set(i),T+=d*8,I.set(s,T),T+=h*3;for(const[M,D]of a)S.setFloat32(T,M,!0),T+=4,S.setUint32(T,parseInt(D.slice(1),16),!0),T+=4;if(r)for(const M of r)S.setFloat32(T,M,!0),T+=4;u&&(I.set(u,T),T+=3);for(let M=0;M<o.length;M++){const D=o[M];S.setUint8(T,D.type),T+=1,T=Math.ceil(T/4)*4,S.setUint32(T,D.coords.length,!0),T+=4,new Int32Array(B,T,D.coords.length).set(D.coords),T+=D.coords.length*4,S.setUint32(T,D.colors.length,!0),T+=4,new Int32Array(B,T,D.colors.length).set(D.colors),T+=D.colors.length*4,D.verticesPerRow!==void 0&&(S.setUint32(T,D.verticesPerRow,!0),T+=4)}return B}getIR(){const e=this.view,t=this.data[f(xn,qb)],r=!!this.data[f(xn,jb)],i=!!this.data[f(xn,Wb)],s=e.getUint32(f(xn,Xb),!0),a=e.getUint32(f(xn,Jb),!0),o=e.getUint32(f(xn,Zb),!0),l=e.getUint32(f(xn,eC),!0);let u=20;const d=new Float32Array(this.buffer,u,s*2);u+=s*8;const h=new Uint8Array(this.buffer,u,a*3);u+=a*3;const g=[];for(let B=0;B<o;++B){const S=e.getFloat32(u,!0);u+=4;const I=e.getUint32(u,!0);u+=4,g.push([S,`#${I.toString(16).padStart(6,"0")}`])}let v=null;if(r){v=[];for(let B=0;B<4;++B)v.push(e.getFloat32(u,!0)),u+=4}let C=null;i&&(C=new Uint8Array(this.buffer,u,3),u+=3);const b=[];for(let B=0;B<l;++B){const S=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const I=e.getUint32(u,!0);u+=4;const T=new Int32Array(this.buffer,u,I);u+=I*4;const R=e.getUint32(u,!0);u+=4;const M=new Int32Array(this.buffer,u,R);u+=R*4;const D={type:S,coords:T,colors:M};S===GR.LATTICE&&(D.verticesPerRow=e.getUint32(u,!0),u+=4),b.push(D)}if(t===1)return["RadialAxial","axial",v,g,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",v,g,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(t===3){const B=this.data[f(xn,Yb)];let S=null;if(d.length>0){let I=d[0],T=d[0],R=d[1],M=d[1];for(let D=0;D<d.length;D+=2){const L=d[D],H=d[D+1];I=I>L?L:I,R=R>H?H:R,T=T<L?L:T,M=M<H?H:M}S=[I,R,T,M]}return["Mesh",B,d,h,b,S,v,C]}throw new Error(`Unsupported pattern kind: ${t}`)}};qb=new WeakMap,jb=new WeakMap,Wb=new WeakMap,Yb=new WeakMap,Xb=new WeakMap,Jb=new WeakMap,Zb=new WeakMap,eC=new WeakMap,U(xn,qb,0),U(xn,jb,1),U(xn,Wb,2),U(xn,Yb,3),U(xn,Xb,4),U(xn,Jb,8),U(xn,Zb,12),U(xn,eC,16);let pD=xn;function tde(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(es)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function nde(n){if(es&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return jE(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function KS(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const gD=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,rde=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",ide=Qce.bind(null,gD,rde);var Fl,C1;class sde{constructor(){U(this,Fl,new Map);U(this,C1,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};f(this,C1).then(()=>{for(const[i]of f(this,Fl))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){st("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}f(this,Fl).set(t,i)}removeEventListener(e,t){const r=f(this,Fl).get(t);r==null||r(),f(this,Fl).delete(t)}terminate(){for(const[,e]of f(this,Fl))e==null||e();f(this,Fl).clear()}}Fl=new WeakMap,C1=new WeakMap;const GS={DATA:1,ERROR:2},_r={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function MK(){}function hs(n){if(n instanceof qd||n instanceof zR||n instanceof EK||n instanceof nT||n instanceof uU)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||yn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new qd(n.message);case"InvalidPDFException":return new zR(n.message);case"PasswordException":return new EK(n.message,n.code);case"ResponseException":return new nT(n.message,n.status,n.missing);case"UnknownErrorException":return new uU(n.message,n.details)}return new uU(n.message,n.toString())}var Hm,oo,Pj,Rj,Dj,r_;class aw{constructor(e,t,r){U(this,oo);U(this,Hm,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",P(this,oo,Pj).bind(this),{signal:f(this,Hm).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:_r.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Tt(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:_r.CANCEL,streamId:s,reason:hs(u)}),d.promise}},r)}destroy(){var e;(e=f(this,Hm))==null||e.abort(),_(this,Hm,null)}}Hm=new WeakMap,oo=new WeakSet,Pj=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){P(this,oo,Dj).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===GS.DATA)i.resolve(e.data);else if(e.callback===GS.ERROR)i.reject(hs(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:GS.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:GS.ERROR,callbackId:e.callbackId,reason:hs(a)})});return}if(e.streamId){P(this,oo,Rj).call(this,e);return}t(e.data)},Rj=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:_r.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:_r.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Tt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:_r.ERROR,streamId:t,reason:hs(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:_r.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:_r.START_COMPLETE,streamId:t,reason:hs(u)})})},Dj=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case _r.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(hs(e.reason));break;case _r.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(hs(e.reason));break;case _r.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:_r.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||MK).then(function(){s.postMessage({sourceName:r,targetName:i,stream:_r.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:_r.PULL_COMPLETE,streamId:t,reason:hs(u)})});break;case _r.ENQUEUE:if(Tt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case _r.CLOSE:if(Tt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),P(this,oo,r_).call(this,a,t);break;case _r.ERROR:Tt(a,"error should have stream controller"),a.controller.error(hs(e.reason)),P(this,oo,r_).call(this,a,t);break;case _r.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(hs(e.reason)),P(this,oo,r_).call(this,a,t);break;case _r.CANCEL:if(!o)break;const l=hs(e.reason);Promise.try(o.onCancel||MK,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:_r.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:_r.CANCEL_COMPLETE,streamId:t,reason:hs(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},r_=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var tC;class Nj{constructor({enableHWA:e=!1}){U(this,tC,!1);_(this,tC,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!f(this,tC)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){yn("Abstract method `_createCanvas` called.")}}tC=new WeakMap;class ade extends Nj{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class Lj{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){yn("Abstract method `_fetch` called.")}}class UK extends Lj{async _fetch(e){const t=await WE(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):jE(t)}}class Qj{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var fh,Vm,Ml,Ul,Li,hh,ph,Qe,Pi,ow,Pg,i_,Rg,kj,mD,Dg,Aw,lw,vD,uw;class ode extends Qj{constructor({docId:t,ownerDocument:r=globalThis.document}){super();U(this,Qe);U(this,fh);U(this,Vm);U(this,Ml);U(this,Ul);U(this,Li);U(this,hh);U(this,ph,0);_(this,Ul,t),_(this,Li,r)}addFilter(t){if(!t)return"none";let r=f(this,Qe,Pi).get(t);if(r)return r;const[i,s,a]=P(this,Qe,i_).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(r=f(this,Qe,Pi).get(o),r)return f(this,Qe,Pi).set(t,r),r;const l=`g_${f(this,Ul)}_transfer_map_${cr(this,ph)._++}`,u=P(this,Qe,Rg).call(this,l);f(this,Qe,Pi).set(t,u),f(this,Qe,Pi).set(o,u);const d=P(this,Qe,Dg).call(this,l);return P(this,Qe,lw).call(this,i,s,a,d),u}addHCMFilter(t,r){var C;const i=`${t}-${r}`,s="base";let a=f(this,Qe,ow).get(s);if((a==null?void 0:a.key)===i||(a?((C=a.filter)==null||C.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},f(this,Qe,ow).set(s,a)),!t||!r))return a.url;const o=P(this,Qe,uw).call(this,t);t=Ve.makeHexColor(...o);const l=P(this,Qe,uw).call(this,r);if(r=Ve.makeHexColor(...l),f(this,Qe,Pg).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const u=new Array(256);for(let b=0;b<=255;b++){const B=b/255;u[b]=B<=.03928?B/12.92:((B+.055)/1.055)**2.4}const d=u.join(","),h=`g_${f(this,Ul)}_hcm_filter`,g=a.filter=P(this,Qe,Dg).call(this,h);P(this,Qe,lw).call(this,d,d,d,g),P(this,Qe,mD).call(this,g);const v=(b,B)=>{const S=o[b]/255,I=l[b]/255,T=new Array(B+1);for(let R=0;R<=B;R++)T[R]=S+R/B*(I-S);return T.join(",")};return P(this,Qe,lw).call(this,v(0,5),v(1,5),v(2,5),g),a.url=P(this,Qe,Rg).call(this,h),a.url}addAlphaFilter(t){let r=f(this,Qe,Pi).get(t);if(r)return r;const[i]=P(this,Qe,i_).call(this,[t]),s=`alpha_${i}`;if(r=f(this,Qe,Pi).get(s),r)return f(this,Qe,Pi).set(t,r),r;const a=`g_${f(this,Ul)}_alpha_map_${cr(this,ph)._++}`,o=P(this,Qe,Rg).call(this,a);f(this,Qe,Pi).set(t,o),f(this,Qe,Pi).set(s,o);const l=P(this,Qe,Dg).call(this,a);return P(this,Qe,vD).call(this,i,l),o}addLuminosityFilter(t){let r=f(this,Qe,Pi).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=P(this,Qe,i_).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=f(this,Qe,Pi).get(s),r)return f(this,Qe,Pi).set(t,r),r;const a=`g_${f(this,Ul)}_luminosity_map_${cr(this,ph)._++}`,o=P(this,Qe,Rg).call(this,a);f(this,Qe,Pi).set(t,o),f(this,Qe,Pi).set(s,o);const l=P(this,Qe,Dg).call(this,a);return P(this,Qe,kj).call(this,l),t&&P(this,Qe,vD).call(this,i,l),o}addHighlightHCMFilter(t,r,i,s,a){var I;const o=`${r}-${i}-${s}-${a}`;let l=f(this,Qe,ow).get(t);if((l==null?void 0:l.key)===o||(l?((I=l.filter)==null||I.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},f(this,Qe,ow).set(t,l)),!r||!i))return l.url;const[u,d]=[r,i].map(P(this,Qe,uw).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,C]=[s,a].map(P(this,Qe,uw).bind(this));g<h&&([h,g,v,C]=[g,h,C,v]),f(this,Qe,Pg).style.color="";const b=(T,R,M)=>{const D=new Array(256),L=(g-h)/M,H=T/255,k=(R-T)/(255*M);let G=0;for(let K=0;K<=M;K++){const z=Math.round(h+K*L),J=H+K*k;for(let ne=G;ne<=z;ne++)D[ne]=J;G=z+1}for(let K=G;K<256;K++)D[K]=D[G-1];return D.join(",")},B=`g_${f(this,Ul)}_hcm_${t}_filter`,S=l.filter=P(this,Qe,Dg).call(this,B);return P(this,Qe,mD).call(this,S),P(this,Qe,lw).call(this,b(v[0],C[0],5),b(v[1],C[1],5),b(v[2],C[2],5),S),l.url=P(this,Qe,Rg).call(this,B),l.url}destroy(t=!1){var r,i,s,a;t&&((r=f(this,hh))!=null&&r.size)||((i=f(this,Ml))==null||i.parentNode.parentNode.remove(),_(this,Ml,null),(s=f(this,Vm))==null||s.clear(),_(this,Vm,null),(a=f(this,hh))==null||a.clear(),_(this,hh,null),_(this,ph,0))}}fh=new WeakMap,Vm=new WeakMap,Ml=new WeakMap,Ul=new WeakMap,Li=new WeakMap,hh=new WeakMap,ph=new WeakMap,Qe=new WeakSet,Pi=function(){return f(this,Vm)||_(this,Vm,new Map)},ow=function(){return f(this,hh)||_(this,hh,new Map)},Pg=function(){if(!f(this,Ml)){const t=f(this,Li).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=f(this,Li).createElementNS(cl,"svg");i.setAttribute("width",0),i.setAttribute("height",0),_(this,Ml,f(this,Li).createElementNS(cl,"defs")),t.append(i),i.append(f(this,Ml)),f(this,Li).body.append(t)}return f(this,Ml)},i_=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let g=0;g<256;g++)d[g]=u[g]/255;const h=d.join(",");return[h,h,h]}const[r,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=r[u]/255,o[u]=i[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},Rg=function(t){if(f(this,fh)===void 0){_(this,fh,"");const r=f(this,Li).URL;r!==f(this,Li).baseURI&&(q1(r)?st('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,fh,z6(r,"")))}return`url(${f(this,fh)}#${t})`},kj=function(t){const r=f(this,Li).createElementNS(cl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},mD=function(t){const r=f(this,Li).createElementNS(cl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Dg=function(t){const r=f(this,Li).createElementNS(cl,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),f(this,Qe,Pg).append(r),r},Aw=function(t,r,i){const s=f(this,Li).createElementNS(cl,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},lw=function(t,r,i,s){const a=f(this,Li).createElementNS(cl,"feComponentTransfer");s.append(a),P(this,Qe,Aw).call(this,a,"feFuncR",t),P(this,Qe,Aw).call(this,a,"feFuncG",r),P(this,Qe,Aw).call(this,a,"feFuncB",i)},vD=function(t,r){const i=f(this,Li).createElementNS(cl,"feComponentTransfer");r.append(i),P(this,Qe,Aw).call(this,i,"feFuncA",t)},uw=function(t){return f(this,Qe,Pg).style.color=t,XE(getComputedStyle(f(this,Qe,Pg)).getPropertyValue("color"))};class Oj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){yn("Abstract method `_fetch` called.")}}class PK extends Oj{async _fetch(e){const t=await WE(e,"arraybuffer");return new Uint8Array(t)}}class Hj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){yn("Abstract method `_fetch` called.")}}class RK extends Hj{async _fetch(e){const t=await WE(e,"arraybuffer");return new Uint8Array(t)}}es&&st("Please use the `legacy` build in Node.js environments.");async function zQ(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class Ade extends Qj{}class lde extends Nj{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class ude extends Lj{async _fetch(e){return zQ(e)}}class cde extends Oj{async _fetch(e){return zQ(e)}}class dde extends Hj{async _fetch(e){return zQ(e)}}const wg="__forcedDependency",{floor:DK,ceil:NK}=Math;function zS(n,e,t,r,i,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],r),n[e*4+2]=Math.max(n[e*4+2],i),n[e*4+3]=Math.max(n[e*4+3],s)}const yD=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Km,Wc;class fde{constructor(e,t){U(this,Km);U(this,Wc);_(this,Km,e),_(this,Wc,t)}get length(){return f(this,Km).length}isEmpty(e){return f(this,Km)[e]===yD}minX(e){return f(this,Wc)[e*4+0]/256}minY(e){return f(this,Wc)[e*4+1]/256}maxX(e){return(f(this,Wc)[e*4+2]+1)/256}maxY(e){return(f(this,Wc)[e*4+3]+1)/256}}Km=new WeakMap,Wc=new WeakMap;const $S=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var ms,vs,gh,So,mh,Pl,jt,An,Rl,ys,nC,Gm,vh,yh,Dl,Qi,gA,rC,wD;class hde{constructor(e,t,r=!1){U(this,rC);U(this,ms,{__proto__:null});U(this,vs,{__proto__:null,transform:[],moveText:[],sameLineText:[],[wg]:[]});U(this,gh,new Map);U(this,So,[]);U(this,mh,[]);U(this,Pl,[[1,0,0,1,0,0]]);U(this,jt,[-1/0,-1/0,1/0,1/0]);U(this,An,new Float64Array([1/0,1/0,-1/0,-1/0]));U(this,Rl,-1);U(this,ys,new Set);U(this,nC,new Map);U(this,Gm,new Map);U(this,vh);U(this,yh);U(this,Dl);U(this,Qi);U(this,gA);_(this,vh,e.width),_(this,yh,e.height),P(this,rC,wD).call(this,t),r&&_(this,gA,new Map)}growOperationsCount(e){e>=f(this,Qi).length&&P(this,rC,wD).call(this,e,f(this,Qi))}save(e){return _(this,ms,{__proto__:f(this,ms)}),_(this,vs,{__proto__:f(this,vs),transform:{__proto__:f(this,vs).transform},moveText:{__proto__:f(this,vs).moveText},sameLineText:{__proto__:f(this,vs).sameLineText},[wg]:{__proto__:f(this,vs)[wg]}}),_(this,jt,{__proto__:f(this,jt)}),f(this,So).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(f(this,ms));if(t===null)return this;_(this,ms,t),_(this,vs,Object.getPrototypeOf(f(this,vs))),_(this,jt,Object.getPrototypeOf(f(this,jt)));const r=f(this,So).pop();return r!==void 0&&((i=$S(f(this,gA),e))==null||i.dependencies.add(r),f(this,Qi)[e]=f(this,Qi)[r]),this}recordOpenMarker(e){return f(this,So).push(e),this}getOpenMarker(){return f(this,So).length===0?null:f(this,So).at(-1)}recordCloseMarker(e){var r;const t=f(this,So).pop();return t!==void 0&&((r=$S(f(this,gA),e))==null||r.dependencies.add(t),f(this,Qi)[e]=f(this,Qi)[t]),this}beginMarkedContent(e){return f(this,mh).push(e),this}endMarkedContent(e){var r;const t=f(this,mh).pop();return t!==void 0&&((r=$S(f(this,gA),e))==null||r.dependencies.add(t),f(this,Qi)[e]=f(this,Qi)[t]),this}pushBaseTransform(e){return f(this,Pl).push(Ve.multiplyByDOMMatrix(f(this,Pl).at(-1),e.getTransform())),this}popBaseTransform(){return f(this,Pl).length>1&&f(this,Pl).pop(),this}recordSimpleData(e,t){return f(this,ms)[e]=t,this}recordIncrementalData(e,t){return f(this,vs)[e].push(t),this}resetIncrementalData(e,t){return f(this,vs)[e].length=0,this}recordNamedData(e,t){return f(this,gh).set(e,t),this}recordSimpleDataFromNamed(e,t,r){f(this,ms)[e]=f(this,gh).get(t)??r}recordFutureForcedDependency(e,t){return this.recordIncrementalData(wg,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in f(this,ms)&&this.recordFutureForcedDependency(t,f(this,ms)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of f(this,ys))this.recordFutureForcedDependency(wg,e);return this}resetBBox(e){return f(this,Rl)!==e&&(_(this,Rl,e),f(this,An)[0]=1/0,f(this,An)[1]=1/0,f(this,An)[2]=-1/0,f(this,An)[3]=-1/0),this}recordClipBox(e,t,r,i,s,a){const o=Ve.multiplyByDOMMatrix(f(this,Pl).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Ve.axialAlignedBoundingBox([r,s,i,a],o,l);const u=Ve.intersect(f(this,jt),l);return u?(f(this,jt)[0]=u[0],f(this,jt)[1]=u[1],f(this,jt)[2]=u[2],f(this,jt)[3]=u[3]):(f(this,jt)[0]=f(this,jt)[1]=1/0,f(this,jt)[2]=f(this,jt)[3]=-1/0),this}recordBBox(e,t,r,i,s,a){const o=f(this,jt);if(o[0]===1/0)return this;const l=Ve.multiplyByDOMMatrix(f(this,Pl).at(-1),t.getTransform());if(o[0]===-1/0)return Ve.axialAlignedBoundingBox([r,s,i,a],l,f(this,An)),this;const u=[1/0,1/0,-1/0,-1/0];return Ve.axialAlignedBoundingBox([r,s,i,a],l,u),f(this,An)[0]=Math.min(f(this,An)[0],Math.max(u[0],o[0])),f(this,An)[1]=Math.min(f(this,An)[1],Math.max(u[1],o[1])),f(this,An)[2]=Math.max(f(this,An)[2],Math.min(u[2],o[2])),f(this,An)[3]=Math.max(f(this,An)[3],Math.min(u[3],o[3])),this}recordCharacterBBox(e,t,r,i=1,s=0,a=0,o){const l=r.bbox;let u,d;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&f(this,Gm).get(r),u!==!1&&(d=[0,0,0,0],Ve.axialAlignedBoundingBox(l,r.fontMatrix,d),(i!==1||s!==0||a!==0)&&Ve.scaleMinMax([i,0,0,-i,s,a],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return l&&d&&u===void 0&&(u=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=a-h.actualBoundingBoxAscent&&d[3]>=a+h.actualBoundingBoxDescent,f(this,Gm).set(r,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return f(this,An)[0]=Math.max(0,f(this,jt)[0]),f(this,An)[1]=Math.max(0,f(this,jt)[1]),f(this,An)[2]=Math.min(f(this,vh),f(this,jt)[2]),f(this,An)[3]=Math.min(f(this,yh),f(this,jt)[3]),this}getSimpleIndex(e){return f(this,ms)[e]}recordDependencies(e,t){const r=f(this,ys),i=f(this,ms),s=f(this,vs);for(const a of t)a in f(this,ms)?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,t){return f(this,gh).has(t)&&f(this,ys).add(f(this,gh).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[wg]),f(this,gA)){const r=$S(f(this,gA),e),{dependencies:i}=r;f(this,ys).forEach(i.add,i),f(this,So).forEach(i.add,i),f(this,mh).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(f(this,Rl)===e){const r=DK(f(this,An)[0]*256/f(this,vh)),i=DK(f(this,An)[1]*256/f(this,yh)),s=NK(f(this,An)[2]*256/f(this,vh)),a=NK(f(this,An)[3]*256/f(this,yh));zS(f(this,Dl),e,r,i,s,a);for(const o of f(this,ys))o!==e&&zS(f(this,Dl),o,r,i,s,a);for(const o of f(this,So))o!==e&&zS(f(this,Dl),o,r,i,s,a);for(const o of f(this,mh))o!==e&&zS(f(this,Dl),o,r,i,s,a);t||(f(this,ys).clear(),_(this,Rl,-1))}return this}recordShowTextOperation(e,t=!1){const r=Array.from(f(this,ys));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return f(this,Rl)===e&&(_(this,Rl,-1),f(this,jt)[0]=Math.max(f(this,jt)[0],f(this,An)[0]),f(this,jt)[1]=Math.max(f(this,jt)[1],f(this,An)[1]),f(this,jt)[2]=Math.min(f(this,jt)[2],f(this,An)[2]),f(this,jt)[3]=Math.min(f(this,jt)[3],f(this,An)[3]),t||f(this,ys).clear()),this}_takePendingDependencies(){const e=f(this,ys);return _(this,ys,new Set),e}_extractOperation(e){const t=f(this,nC).get(e);return f(this,nC).delete(e),t}_pushPendingDependencies(e){for(const t of e)f(this,ys).add(t)}take(){return f(this,Gm).clear(),new fde(f(this,Qi),f(this,Dl))}takeDebugMetadata(){return f(this,gA)}}ms=new WeakMap,vs=new WeakMap,gh=new WeakMap,So=new WeakMap,mh=new WeakMap,Pl=new WeakMap,jt=new WeakMap,An=new WeakMap,Rl=new WeakMap,ys=new WeakMap,nC=new WeakMap,Gm=new WeakMap,vh=new WeakMap,yh=new WeakMap,Dl=new WeakMap,Qi=new WeakMap,gA=new WeakMap,rC=new WeakSet,wD=function(e,t){const r=new ArrayBuffer(e*4);_(this,Dl,new Uint8ClampedArray(r)),_(this,Qi,new Uint32Array(r)),t&&t.length>0?(f(this,Qi).set(t),f(this,Qi).fill(yD,t.length)):f(this,Qi).fill(yD)};var gn,tr,xo,zm,$m;const jO=class jO{constructor(e,t,r){U(this,gn);U(this,tr);U(this,xo);U(this,zm,0);U(this,$m,0);if(e instanceof jO&&f(e,xo)===!!r)return e;_(this,gn,e),_(this,tr,t),_(this,xo,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return cr(this,$m)._++,f(this,gn).save(f(this,tr)),this}restore(e){return f(this,$m)>0&&(f(this,gn).restore(f(this,tr)),cr(this,$m)._--),this}recordOpenMarker(e){return cr(this,zm)._++,this}getOpenMarker(){return f(this,zm)>0?f(this,tr):f(this,gn).getOpenMarker()}recordCloseMarker(e){return cr(this,zm)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return f(this,gn).pushBaseTransform(e),this}popBaseTransform(){return f(this,gn).popBaseTransform(),this}recordSimpleData(e,t){return f(this,gn).recordSimpleData(e,f(this,tr)),this}recordIncrementalData(e,t){return f(this,gn).recordIncrementalData(e,f(this,tr)),this}resetIncrementalData(e,t){return f(this,gn).resetIncrementalData(e,f(this,tr)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,r){return f(this,gn).recordSimpleDataFromNamed(e,t,f(this,tr)),this}recordFutureForcedDependency(e,t){return f(this,gn).recordFutureForcedDependency(e,f(this,tr)),this}inheritSimpleDataAsFutureForcedDependencies(e){return f(this,gn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return f(this,gn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return f(this,xo)||f(this,gn).resetBBox(f(this,tr)),this}recordClipBox(e,t,r,i,s,a){return f(this,xo)||f(this,gn).recordClipBox(f(this,tr),t,r,i,s,a),this}recordBBox(e,t,r,i,s,a){return f(this,xo)||f(this,gn).recordBBox(f(this,tr),t,r,i,s,a),this}recordCharacterBBox(e,t,r,i,s,a,o){return f(this,xo)||f(this,gn).recordCharacterBBox(f(this,tr),t,r,i,s,a,o),this}recordFullPageBBox(e){return f(this,xo)||f(this,gn).recordFullPageBBox(f(this,tr)),this}getSimpleIndex(e){return f(this,gn).getSimpleIndex(e)}recordDependencies(e,t){return f(this,gn).recordDependencies(f(this,tr),t),this}recordNamedDependency(e,t){return f(this,gn).recordNamedDependency(f(this,tr),t),this}recordOperation(e){return f(this,gn).recordOperation(f(this,tr),!0),this}recordShowTextOperation(e){return f(this,gn).recordShowTextOperation(f(this,tr),!0),this}bboxToClipBoxDropOperation(e){return f(this,xo)||f(this,gn).bboxToClipBoxDropOperation(f(this,tr),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};gn=new WeakMap,tr=new WeakMap,xo=new WeakMap,zm=new WeakMap,$m=new WeakMap;let aT=jO;const Ra={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ei={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function bD(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class $Q{isModifyingCurrentTransform(){return!1}getPattern(){yn("Abstract method `getPattern` called.")}}class pde extends $Q{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Ei.STROKE||i===Ei.FILL){const a=t.current.getClippedPathBoundingBox(i,$n(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),r=Ve.transform(r,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),bD(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else bD(e,this._bbox),s=this._createGradient(e);return s}}function fU(n,e,t,r,i,s,a,o){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let g;l[t+1]>l[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g),l[r+1]>l[i+1]&&(g=r,r=i,i=g,g=a,a=o,o=g),l[t+1]>l[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g);const v=(l[t]+e.offsetX)*e.scaleX,C=(l[t+1]+e.offsetY)*e.scaleY,b=(l[r]+e.offsetX)*e.scaleX,B=(l[r+1]+e.offsetY)*e.scaleY,S=(l[i]+e.offsetX)*e.scaleX,I=(l[i+1]+e.offsetY)*e.scaleY;if(C>=I)return;const T=u[s],R=u[s+1],M=u[s+2],D=u[a],L=u[a+1],H=u[a+2],k=u[o],G=u[o+1],K=u[o+2],z=Math.round(C),J=Math.round(I);let ne,oe,V,q,te,he,ve,$;for(let Y=z;Y<=J;Y++){if(Y<B){const le=Y<C?0:(C-Y)/(C-B);ne=v-(v-b)*le,oe=T-(T-D)*le,V=R-(R-L)*le,q=M-(M-H)*le}else{let le;Y>I?le=1:B===I?le=0:le=(B-Y)/(B-I),ne=b-(b-S)*le,oe=D-(D-k)*le,V=L-(L-G)*le,q=H-(H-K)*le}let Ae;Y<C?Ae=0:Y>I?Ae=1:Ae=(C-Y)/(C-I),te=v-(v-S)*Ae,he=T-(T-k)*Ae,ve=R-(R-G)*Ae,$=M-(M-K)*Ae;const me=Math.round(Math.min(ne,te)),re=Math.round(Math.max(ne,te));let fe=h*Y+me*4;for(let le=me;le<=re;le++)Ae=(ne-le)/(ne-te),Ae<0?Ae=0:Ae>1&&(Ae=1),d[fe++]=oe-(oe-he)*Ae|0,d[fe++]=V-(V-ve)*Ae|0,d[fe++]=q-(q-$)*Ae|0,d[fe++]=255}}function gde(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case GR.LATTICE:const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,u=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<u;h++,d++)fU(n,t,r[d],r[d+1],r[d+o],i[d],i[d+1],i[d+o]),fU(n,t,r[d+o+1],r[d+1],r[d+o],i[d+o+1],i[d+1],i[d+o])}break;case GR.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)fU(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class mde extends $Q{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),v=u/h,C=d/g,b={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/v,scaleY:1/C},B=h+4,S=g+4,I=r.getCanvas("mesh",B,S),T=I.context,R=T.createImageData(h,g);if(t){const D=R.data;for(let L=0,H=D.length;L<H;L+=4)D[L]=t[0],D[L+1]=t[1],D[L+2]=t[2],D[L+3]=255}for(const D of this._figures)gde(R,D,b);return T.putImageData(R,2,2),{canvas:I.canvas,offsetX:o-2*v,offsetY:l-2*C,scaleX:v,scaleY:C}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){bD(e,this._bbox);const s=new Float32Array(2);if(i===Ei.SHADING)Ve.singularValueDecompose2dScale($n(e),s);else if(this.matrix){Ve.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Ve.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else Ve.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,i===Ei.SHADING?null:this._background,t.cachedCanvases);return i!==Ei.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class vde extends $Q{getPattern(){return"hotpink"}}function yde(n){switch(n[0]){case"RadialAxial":return new pde(n);case"Mesh":return new mde(n);case"Dummy":return new vde}throw new Error(`Unknown IR type: ${n[0]}`)}const LK={COLORED:1,UNCOLORED:2},E1=class E1{constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,t){var he,ve;const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),$1("TilingType: "+a);const h=r[0],g=r[1],v=r[2],C=r[3],b=v-h,B=C-g,S=new Float32Array(2);Ve.singularValueDecompose2dScale(this.matrix,S);const[I,T]=S;Ve.singularValueDecompose2dScale(this.baseTransform,S);const R=I*S[0],M=T*S[1];let D=b,L=B,H=!1,k=!1;const G=Math.ceil(u*R),K=Math.ceil(d*M),z=Math.ceil(b*R),J=Math.ceil(B*M);G>=z?D=u:H=!0,K>=J?L=d:k=!0;const ne=this.getSizeAndScale(D,this.ctx.canvas.width,R),oe=this.getSizeAndScale(L,this.ctx.canvas.height,M),V=e.cachedCanvases.getCanvas("pattern",ne.size,oe.size),q=V.context,te=l.createCanvasGraphics(q,t);if(te.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(te,s,o),q.translate(-ne.scale*h,-oe.scale*g),te.transform(0,ne.scale,0,0,oe.scale,0,0),q.save(),(he=te.dependencyTracker)==null||he.save(),this.clipBbox(te,h,g,v,C),te.baseTransform=$n(te.ctx),te.executeOperatorList(i),te.endDrawing(),(ve=te.dependencyTracker)==null||ve.restore(),q.restore(),H||k){const $=V.canvas;H&&(D=u),k&&(L=d);const Y=this.getSizeAndScale(D,this.ctx.canvas.width,R),Ae=this.getSizeAndScale(L,this.ctx.canvas.height,M),me=Y.size,re=Ae.size,fe=e.cachedCanvases.getCanvas("pattern-workaround",me,re),le=fe.context,Se=H?Math.floor(b/u):0,Z=k?Math.floor(B/d):0;for(let Ue=0;Ue<=Se;Ue++)for(let Ie=0;Ie<=Z;Ie++)le.drawImage($,me*Ue,re*Ie,me,re,0,0,me,re);return{canvas:fe.canvas,scaleX:Y.scale,scaleY:Ae.scale,offsetX:h,offsetY:g}}return{canvas:V.canvas,scaleX:ne.scale,scaleY:oe.scale,offsetX:h,offsetY:g}}getSizeAndScale(e,t,r){const i=Math.max(E1.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,o=s-r;e.ctx.rect(t,r,a,o),Ve.axialAlignedBoundingBox([t,r,i,s],$n(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case LK.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case LK.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new Uce(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i,s){let a=r;i!==Ei.SHADING&&(a=Ve.transform(a,t.baseTransform),this.matrix&&(a=Ve.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};Ee(E1,"MAX_PATTERN_SIZE",3e3);let CD=E1;function wde({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Ii.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],d=r>>3,h=r&7,g=n.length;t=new Uint32Array(t.buffer);let v=0;for(let C=0;C<i;C++){for(const B=e+d;e<B;e++){const S=e<g?n[e]:255;t[v++]=S&128?u:l,t[v++]=S&64?u:l,t[v++]=S&32?u:l,t[v++]=S&16?u:l,t[v++]=S&8?u:l,t[v++]=S&4?u:l,t[v++]=S&2?u:l,t[v++]=S&1?u:l}if(h===0)continue;const b=e<g?n[e++]:255;for(let B=0;B<h;B++)t[v++]=b&1<<7-B?u:l}return{srcPos:e,destPos:v}}const QK=16,kK=100,bde=15,OK=10,Ss=16,hU=new DOMMatrix,la=new Float32Array(2),qg=new Float32Array([1/0,1/0,-1/0,-1/0]);function Cde(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,a,o){e.transform(t,r,i,s,a,o),this.__originalTransform(t,r,i,s,a,o)},n.setTransform=function(t,r,i,s,a,o){e.setTransform(t,r,i,s,a,o),this.__originalSetTransform(t,r,i,s,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,o){e.bezierCurveTo(t,r,i,s,a,o),this.__originalBezierCurveTo(t,r,i,s,a,o)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Ede{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function qS(n,e,t,r,i,s,a,o,l,u){const[d,h,g,v,C,b]=$n(n);if(h===0&&g===0){const I=a*d+C,T=Math.round(I),R=o*v+b,M=Math.round(R),D=(a+l)*d+C,L=Math.abs(Math.round(D)-T)||1,H=(o+u)*v+b,k=Math.abs(Math.round(H)-M)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(v),T,M),n.drawImage(e,t,r,i,s,0,0,L,k),n.setTransform(d,h,g,v,C,b),[L,k]}if(d===0&&v===0){const I=o*g+C,T=Math.round(I),R=a*h+b,M=Math.round(R),D=(o+u)*g+C,L=Math.abs(Math.round(D)-T)||1,H=(a+l)*h+b,k=Math.abs(Math.round(H)-M)||1;return n.setTransform(0,Math.sign(h),Math.sign(g),0,T,M),n.drawImage(e,t,r,i,s,0,0,k,L),n.setTransform(d,h,g,v,C,b),[k,L]}n.drawImage(e,t,r,i,s,a,o,l,u);const B=Math.hypot(d,h),S=Math.hypot(g,v);return[B*l,S*u]}class HK{constructor(e,t,r){Ee(this,"alphaIsShape",!1);Ee(this,"fontSize",0);Ee(this,"fontSizeScale",1);Ee(this,"textMatrix",null);Ee(this,"textMatrixScale",1);Ee(this,"fontMatrix",KR);Ee(this,"leading",0);Ee(this,"x",0);Ee(this,"y",0);Ee(this,"lineX",0);Ee(this,"lineY",0);Ee(this,"charSpacing",0);Ee(this,"wordSpacing",0);Ee(this,"textHScale",1);Ee(this,"textRenderingMode",hi.FILL);Ee(this,"textRise",0);Ee(this,"fillColor","#000000");Ee(this,"strokeColor","#000000");Ee(this,"patternFill",!1);Ee(this,"patternStroke",!1);Ee(this,"fillAlpha",1);Ee(this,"strokeAlpha",1);Ee(this,"lineWidth",1);Ee(this,"activeSMask",null);Ee(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=qg.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ei.FILL,t=null){const r=this.minMax.slice();if(e===Ei.STROKE){t||yn("Stroke bounding box must include transform."),Ve.singularValueDecompose2dScale(t,la);const i=la[0]*this.lineWidth/2,s=la[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=Ve.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(qg,0)}getClippedPathBoundingBox(e=Ei.FILL,t=null){return Ve.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function VK(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Ss,s=(t-i)/Ss,a=i===0?s:s+1,o=n.createImageData(r,Ss);let l=0,u;const d=e.data,h=o.data;let g,v,C,b;if(e.kind===jx.GRAYSCALE_1BPP){const B=d.byteLength,S=new Uint32Array(h.buffer,0,h.byteLength>>2),I=S.length,T=r+7>>3,R=4294967295,M=Ii.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(C=g<s?Ss:i,u=0,v=0;v<C;v++){const D=B-l;let L=0;const H=D>T?r:D*8-7,k=H&-8;let G=0,K=0;for(;L<k;L+=8)K=d[l++],S[u++]=K&128?R:M,S[u++]=K&64?R:M,S[u++]=K&32?R:M,S[u++]=K&16?R:M,S[u++]=K&8?R:M,S[u++]=K&4?R:M,S[u++]=K&2?R:M,S[u++]=K&1?R:M;for(;L<H;L++)G===0&&(K=d[l++],G=128),S[u++]=K&G?R:M,G>>=1}for(;u<I;)S[u++]=0;n.putImageData(o,0,g*Ss)}}else if(e.kind===jx.RGBA_32BPP){for(v=0,b=r*Ss*4,g=0;g<s;g++)h.set(d.subarray(l,l+b)),l+=b,n.putImageData(o,0,v),v+=Ss;g<a&&(b=r*i*4,h.set(d.subarray(l,l+b)),n.putImageData(o,0,v))}else if(e.kind===jx.RGB_24BPP)for(C=Ss,b=r*C,g=0;g<a;g++){for(g>=s&&(C=i,b=r*C),u=0,v=b;v--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(o,0,g*Ss)}else throw new Error(`bad image kind: ${e.kind}`)}function KK(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Ss,s=(t-i)/Ss,a=i===0?s:s+1,o=n.createImageData(r,Ss);let l=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const g=h<s?Ss:i;({srcPos:l}=wde({src:u,srcPos:l,dest:d,width:r,height:g,nonBlackColor:0})),n.putImageData(o,0,h*Ss)}}function P0(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function jS(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function GK(n,e){if(e)return!0;Ve.singularValueDecompose2dScale(n,la);const t=Math.fround(Bp.pixelRatio*oy.PDF_TO_CSS_UNITS);return la[0]<=t&&la[1]<=t}const Bde=["butt","round","square"],Sde=["miter","round","bevel"],xde={},zK={};var Ko,ED,BD,SD;const WO=class WO{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,u,d){U(this,Ko);this.ctx=e,this.current=new HK(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new Ede(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,r=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):r}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...$n(this.compositeCtx))}this.ctx.save(),jS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=$n(this.ctx)}executeOperatorList(e,t,r,i,s){var S;const a=e.argsArray,o=e.fnArray;let l=t||0;const u=a.length;if(u===l)return l;const d=u-l>OK&&typeof r=="function",h=d?Date.now()+bde:0;let g=0;const v=this.commonObjs,C=this.objs;let b,B;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(b=o[l],B=a[l]??null,b!==qw.dependency)B===null?this[b](l):this[b](l,...B);else for(const I of B){(S=this.dependencyTracker)==null||S.recordNamedData(I,l);const T=I.startsWith("g_")?v:C;if(!T.has(I))return T.get(I,r),l}if(l++,l===u)return l;if(d&&++g>OK){if(Date.now()>h)return r(),l;g=0}}}endDrawing(){P(this,Ko,ED).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),P(this,Ko,BD).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=r,l=i,u="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let g=o,v=l;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/v),d=this.cachedCanvases.getCanvas(u,g,v),h=d.context,h.clearRect(0,0,g,v),h.drawImage(e,0,0,o,l,0,0,g,v),e=d.canvas,o=g,l=v,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var G,K;const r=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=$n(r);let u,d,h,g;if((t.bitmap||t.data)&&t.count>1){const z=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),u=this._cachedBitmapsMap.get(z),u||(u=new Map,this._cachedBitmapsMap.set(z,u));const J=u.get(d);if(J&&!o){const ne=Math.round(Math.min(l[0],l[2])+l[4]),oe=Math.round(Math.min(l[1],l[3])+l[5]);return(G=this.dependencyTracker)==null||G.recordDependencies(e,Ra.transformAndFill),{canvas:J,offsetX:ne,offsetY:oe}}h=J}h||(g=this.cachedCanvases.getCanvas("maskCanvas",i,s),KK(g.context,t));let v=Ve.transform(l,[1/i,0,0,-1/s,0,0]);v=Ve.transform(v,[1,0,0,1,0,-s]);const C=qg.slice();Ve.axialAlignedBoundingBox([0,0,i,s],v,C);const[b,B,S,I]=C,T=Math.round(S-b)||1,R=Math.round(I-B)||1,M=this.cachedCanvases.getCanvas("fillCanvas",T,R),D=M.context,L=b,H=B;D.translate(-L,-H),D.transform(...v),h||(h=this._scaleImage(g.canvas,eA(D)),h=h.img,u&&o&&u.set(d,h)),D.imageSmoothingEnabled=GK($n(D),t.interpolate),qS(D,h,0,0,h.width,h.height,0,0,i,s),D.globalCompositeOperation="source-in";const k=Ve.transform(eA(D),[1,0,0,1,-L,-H]);return D.fillStyle=o?a.getPattern(r,this,k,Ei.FILL,e):a,D.fillRect(0,0,i,s),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,M.canvas)),(K=this.dependencyTracker)==null||K.recordDependencies(e,Ra.transformAndFill),{canvas:M.canvas,offsetX:Math.round(L),offsetY:Math.round(H)}}setLineWidth(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=Bde[t]}setLineJoin(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Sde[t]}setMiterLimit(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,r){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=r)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var r,i,s,a,o;for(const[l,u]of t)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),P0(this.suspendedCtx,a),Cde(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),P0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,r,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,o,l,u,d,h){let g=e.canvas,v=l-d,C=u-h;if(a)if(v<0||C<0||v+r>g.width||C+i>g.height){const B=this.cachedCanvases.getCanvas("maskExtension",r,i),S=B.context;S.drawImage(g,-v,-C),S.globalCompositeOperation="destination-atop",S.fillStyle=a,S.fillRect(0,0,r,i),S.globalCompositeOperation="source-over",g=B.canvas,v=C=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const B=new Path2D;B.rect(v,C,r,i),e.clip(B),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(v,C,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const b=new Path2D;b.rect(l,u,r,i),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(g,v,C,r,i,l,u,r,i),t.restore()}save(e){var r;this.inSMaskMode&&P0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&P0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r,i){let[s]=r;if(!i){s||(s=r[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===qw.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=X6(s)),Ve.axialAlignedBoundingBox(i,$n(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,r=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,eA(i),Ei.STROKE,e),o){const l=new Path2D;l.addPath(t,i.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,Ra.stroke),r&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Ei.STROKE,$n(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,r=!0){var u,d,h;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const g=s.isModifyingCurrentTransform()?i.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),i.save(),i.fillStyle=s.getPattern(i,this,eA(i),Ei.FILL,e),g){const v=new Path2D;v.addPath(t,i.getTransform().invertSelf().multiplySelf(g)),t=v}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,Ra.fill),o&&(i.restore(),(h=this.dependencyTracker)==null||h.restore(e)),r&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var r;this.ctx.fill(t),(r=this.dependencyTracker)==null||r.recordDependencies(e,Ra.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=xde}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=zK}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:u,path:d}of t)d&&i.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(u,-u));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,r){var h,g;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||KR,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&st("Invalid font matrix for font "+t),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((g=i.systemFontInfo)==null?void 0:g.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const u=i.italic?"italic":"normal";let d=r;r<QK?d=QK:r>kK&&(d=kK),this.current.fontSizeScale=r/d,this.ctx.font=`${u} ${l} ${d}px ${o}`}setTextRenderingMode(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,t,r){this.setLeading(e,-r),this.moveText(e,t,r)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=t,r.textMatrixScale=Math.hypot(t[0],t[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,r,i,s,a){var S,I,T,R;const o=this.ctx,l=this.current,u=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,g=d&hi.FILL_STROKE_MASK,v=!!(d&hi.ADD_TO_PATH_FLAG),C=l.patternFill&&!u.missingFile,b=l.patternStroke&&!u.missingFile;let B;if((u.disableFontFace||v||C||b)&&!u.missingFile&&(B=u.getPathGenerator(this.commonObjs,t)),B&&(u.disableFontFace||C||b)){o.save(),o.translate(r,i),o.scale(h,-h),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,u);let M;if(g===hi.FILL||g===hi.FILL_STROKE)if(s){M=o.getTransform(),o.setTransform(...s);const D=P(this,Ko,SD).call(this,B,M,s);o.fill(D)}else o.fill(B);if(g===hi.STROKE||g===hi.FILL_STROKE)if(a){M||(M=o.getTransform()),o.setTransform(...a);const{a:D,b:L,c:H,d:k}=M,G=Ve.inverseTransform(a),K=Ve.transform([D,L,H,k,0,0],G);Ve.singularValueDecompose2dScale(K,la),o.lineWidth*=Math.max(la[0],la[1])/h,o.stroke(P(this,Ko,SD).call(this,B,M,a))}else o.lineWidth/=h,o.stroke(B);o.restore()}else(g===hi.FILL||g===hi.FILL_STROKE)&&(o.fillText(t,r,i),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,o,u,h,r,i,()=>o.measureText(t))),(g===hi.STROKE||g===hi.FILL_STROKE)&&(this.dependencyTracker&&((T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,u,h,r,i,()=>o.measureText(t)).recordDependencies(e,Ra.stroke)),o.strokeText(t,r,i));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:$n(o),x:r,y:i,fontSize:h,path:B}),(R=this.dependencyTracker)==null||R.recordCharacterBBox(e,o,u,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return at(this,"isFontSubpixelAAEnabled",r)}showText(e,t){var H,k,G,K;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Ra.showText).resetBBox(e),this.current.textRenderingMode&hi.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,t),(H=this.dependencyTracker)==null||H.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){(k=this.dependencyTracker)==null||k.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,u=r.wordSpacing,d=r.fontDirection,h=r.textHScale*d,g=t.length,v=i.vertical,C=v?1:-1,b=i.defaultVMetrics,B=s*r.fontMatrix[0],S=r.textRenderingMode===hi.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),d>0?a.scale(h,-1):a.scale(h,1);let I,T;if(r.patternFill){a.save();const z=r.fillColor.getPattern(a,this,eA(a),Ei.FILL,e);I=$n(a),a.restore(),a.fillStyle=z}if(r.patternStroke){a.save();const z=r.strokeColor.getPattern(a,this,eA(a),Ei.STROKE,e);T=$n(a),a.restore(),a.strokeStyle=z}let R=r.lineWidth;const M=r.textMatrixScale;if(M===0||R===0){const z=r.textRenderingMode&hi.FILL_STROKE_MASK;(z===hi.STROKE||z===hi.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=M;if(o!==1&&(a.scale(o,o),R/=o),a.lineWidth=R,i.isInvalidPDFjsFont){const z=[];let J=0;for(const oe of t)z.push(oe.unicode),J+=oe.width;const ne=z.join("");if(a.fillText(ne,0,0),this.dependencyTracker!==null){const oe=a.measureText(ne);this.dependencyTracker.recordBBox(e,this.ctx,-oe.actualBoundingBoxLeft,oe.actualBoundingBoxRight,-oe.actualBoundingBoxAscent,oe.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=J*B*h,a.restore(),this.compose();return}let D=0,L;for(L=0;L<g;++L){const z=t[L];if(typeof z=="number"){D+=C*z*s/1e3;continue}let J=!1;const ne=(z.isSpace?u:0)+l,oe=z.fontChar,V=z.accent;let q,te,he=z.width;if(v){const Y=z.vmetric||b,Ae=-(z.vmetric?Y[1]:he*.5)*B,me=Y[2]*B;he=Y?-Y[0]:he,q=Ae/o,te=(D+me)/o}else q=D/o,te=0;let ve;if(i.remeasure&&he>0){ve=a.measureText(oe);const Y=ve.width*1e3/s*o;if(he<Y&&this.isFontSubpixelAAEnabled){const Ae=he/Y;J=!0,a.save(),a.scale(Ae,1),q/=Ae}else he!==Y&&(q+=(he-Y)/2e3*s/o)}if(this.contentVisible&&(z.isInFont||i.missingFile)){if(S&&!V)a.fillText(oe,q,te),(G=this.dependencyTracker)==null||G.recordCharacterBBox(e,a,ve?{bbox:null}:i,s/o,q,te,()=>ve??a.measureText(oe));else if(this.paintChar(e,oe,q,te,I,T),V){const Y=q+s*V.offset.x/o,Ae=te-s*V.offset.y/o;this.paintChar(e,V.fontChar,Y,Ae,I,T)}}const $=v?he*B-ne*d:he*B+ne*d;D+=$,J&&a.restore()}v?r.y-=D:r.x+=D*h,a.restore(),this.compose(),(K=this.dependencyTracker)==null||K.recordShowTextOperation(e)}showType3Text(e,t){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,u=i.charSpacing,d=i.wordSpacing,h=i.textHScale*o,g=i.fontMatrix||KR,v=t.length,C=i.textRenderingMode===hi.INVISIBLE;let b,B,S,I;if(C||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,o);const T=this.dependencyTracker;for(this.dependencyTracker=T?new aT(T,e):null,b=0;b<v;++b){if(B=t[b],typeof B=="number"){I=l*B*a/1e3,this.ctx.translate(I,0),i.x+=I*h;continue}const R=(B.isSpace?d:0)+u,M=s.charProcOperatorList[B.operatorListId];M?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...g),this.executeOperatorList(M),this.restore()):st(`Type3 character "${B.operatorListId}" is not available.`);const D=[B.width,0];Ve.applyTransform(D,g),S=D[0]*a+R,r.translate(S,0),i.x+=S*h}r.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,r){}setCharWidthAndBounds(e,t,r,i,s,a,o){var u;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let r;if(t[0]==="TilingPattern"){const i=this.baseTransform||$n(this.ctx),s={createCanvasGraphics:(a,o)=>new WO(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new aT(this.dependencyTracker,o,!0):null)};r=new CD(t,this.ctx,s,i)}else r=this._getPattern(e,t[1],t[2]);return r}setStrokeColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,r=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=yde(this.getObject(e,t)),this.cachedPatterns.set(t,i)),r&&(i.matrix=r),i}shadingFill(e,t){var a;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,t);r.fillStyle=i.getPattern(r,this,eA(r),Ei.SHADING,e);const s=eA(r);if(s){const{width:o,height:l}=r.canvas,u=qg.slice();Ve.axialAlignedBoundingBox([0,0,o,l],s,u);const[d,h,g,v]=u;this.ctx.fillRect(d,h,g-d,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Ra.transform).recordDependencies(e,Ra.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){yn("Should not call beginInlineImage")}beginImageData(){yn("Should not call beginImageData")}paintFormXObjectBegin(e,t,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=$n(this.ctx),r)){Ve.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,a,o,l]=r,u=new Path2D;u.rect(s,a,o-s,l-a),this.ctx.clip(u),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var T;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;t.isolated||$1("TODO: Support non-isolated groups."),t.knockout&&st("Knockout groups not supported.");const i=$n(r);if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=qg.slice();Ve.axialAlignedBoundingBox(t.bbox,$n(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=Ve.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,u,d),v=g.context;v.translate(-o,-l),v.transform(...i);let C=new Path2D;const[b,B,S,I]=t.bbox;if(C.rect(b,B,S-b,I-B),t.matrix){const R=new Path2D;R.addPath(C,new DOMMatrix(t.matrix)),C=R}v.clip(C),t.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),P0(r,v),this.ctx=v,(T=this.dependencyTracker)==null||T.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=$n(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=qg.slice();Ve.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,r,i,s,a){if(P(this,Ko,ED).call(this),jS(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,Ve.singularValueDecompose2dScale($n(this.ctx),la);const{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(la[0],0,0,-la[1],0,l*la[1]),jS(this.ctx)}else{jS(this.ctx),this.endPath(e);const u=new Path2D;u.rect(r[0],r[1],o,l),this.ctx.clip(u)}}this.current=new HK(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),P(this,Ko,BD).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const r=t.count;t=this.getObject(e,t.data,t),t.count=r;const i=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r,i=0,s=0,a,o){var h,g,v;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const u=$n(l);l.transform(r,i,s,a,0,0);const d=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let C=0,b=o.length;C<b;C+=2){const B=Ve.transform(u,[r,i,s,a,o[C],o[C+1]]);l.drawImage(d.canvas,B[4],B[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,B[4],B[4]+d.canvas.width,B[5],B[5]+d.canvas.height)}l.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,Ra.transformAndFill);for(const u of t){const{data:d,width:h,height:g,transform:v}=u,C=this.cachedCanvases.getCanvas("maskCanvas",h,g),b=C.context;b.save();const B=this.getObject(e,d,u);KK(b,B),b.globalCompositeOperation="source-in",b.fillStyle=s?i.getPattern(b,this,eA(r),Ei.FILL,e):i,b.fillRect(0,0,h,g),b.restore(),r.save(),r.transform(...v),r.scale(1,-1),qS(r,C.canvas,0,0,h,g,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,h,0,g),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){st("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,t,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){st("Dependent image isn't ready yet");return}const o=a.width,l=a.height,u=[];for(let d=0,h=s.length;d<h;d+=2)u.push({transform:[r,0,0,i,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const r=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;VK(h,t),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,eA(s));s.imageSmoothingEnabled=GK($n(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,Ra.imageXObject).recordOperation(e),qS(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,r){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,d=t.height,g=this.cachedCanvases.getCanvas("inlineImage",u,d).context;VK(g,t),s=this.applyTransferMapsToCanvas(g)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const u of r)i.save(),i.transform(...u.transform),i.scale(1,-1),qS(i,s,u.x,u.y,u.w,u.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Ra.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,r){}beginMarkedContent(e,t){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,r){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===zK?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=$n(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/u;else{const d=l*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),u=Math.hypot(t,r),d=Math.hypot(i,s);if(e===0)a=d/l,o=u/l;else{const h=e*l;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();t&&r.save(),r.scale(s,a),hU.a=1/s,hU.d=1/a;const l=new Path2D;if(l.addPath(e,hU),o.length>0){const u=Math.max(s,a);r.setLineDash(o.map(d=>d/u)),r.lineDashOffset/=u}r.lineWidth=i||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Ko=new WeakSet,ED=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},BD=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},SD=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let sm=WO;for(const n in qw)sm.prototype[n]!==void 0&&(sm.prototype[qw[n]]=sm.prototype[n]);var Kx,iC,sC;let uu=(Kx=class{static get workerPort(){return f(this,iC)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");_(this,iC,e)}static get workerSrc(){return f(this,sC)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");_(this,sC,e)}},iC=new WeakMap,sC=new WeakMap,U(Kx,iC,null),U(Kx,sC,""),Kx);var qm,aC;class _de{constructor({parsedData:e,rawData:t}){U(this,qm);U(this,aC);_(this,qm,e),_(this,aC,t)}getRaw(){return f(this,aC)}get(e){return f(this,qm).get(e)??null}[Symbol.iterator](){return f(this,qm).entries()}}qm=new WeakMap,aC=new WeakMap;const Ng=Symbol("INTERNAL");var oC,AC,lC,jm;class Tde{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){U(this,oC,!1);U(this,AC,!1);U(this,lC,!1);U(this,jm,!0);_(this,oC,!!(e&Aa.DISPLAY)),_(this,AC,!!(e&Aa.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(f(this,lC))return f(this,jm);if(!f(this,jm))return!1;const{print:e,view:t}=this.usage;return f(this,oC)?(t==null?void 0:t.viewState)!=="OFF":f(this,AC)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Ng&&yn("Internal method `_setVisible` called."),_(this,lC,r),_(this,jm,t)}}oC=new WeakMap,AC=new WeakMap,lC=new WeakMap,jm=new WeakMap;var Yc,ln,Wm,Ym,uC,xD;class Ide{constructor(e,t=Aa.DISPLAY){U(this,uC);U(this,Yc,null);U(this,ln,new Map);U(this,Wm,null);U(this,Ym,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,_(this,Ym,e.order);for(const r of e.groups)f(this,ln).set(r.id,new Tde(t,r));if(e.baseState==="OFF")for(const r of f(this,ln).values())r._setVisible(Ng,!1);for(const r of e.on)f(this,ln).get(r)._setVisible(Ng,!0);for(const r of e.off)f(this,ln).get(r)._setVisible(Ng,!1);_(this,Wm,this.getHash())}}isVisible(e){if(f(this,ln).size===0)return!0;if(!e)return $1("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,ln).has(e.id)?f(this,ln).get(e.id).visible:(st(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return P(this,uC,xD).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,ln).has(t))return st(`Optional content group not found: ${t}`),!0;if(f(this,ln).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,ln).has(t))return st(`Optional content group not found: ${t}`),!0;if(!f(this,ln).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,ln).has(t))return st(`Optional content group not found: ${t}`),!0;if(!f(this,ln).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,ln).has(t))return st(`Optional content group not found: ${t}`),!0;if(f(this,ln).get(t).visible)return!1}return!0}return st(`Unknown optional content policy ${e.policy}.`),!0}return st(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=f(this,ln).get(e);if(!i){st(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=f(this,ln).get(o))==null||s._setVisible(Ng,!1,!0));i._setVisible(Ng,!!t,!0),_(this,Yc,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=f(this,ln).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}_(this,Yc,null)}get hasInitialVisibility(){return f(this,Wm)===null||this.getHash()===f(this,Wm)}getOrder(){return f(this,ln).size?f(this,Ym)?f(this,Ym).slice():[...f(this,ln).keys()]:null}getGroup(e){return f(this,ln).get(e)||null}getHash(){if(f(this,Yc)!==null)return f(this,Yc);const e=new Fj;for(const[t,r]of f(this,ln))e.update(`${t}:${r.visible}`);return _(this,Yc,e.hexdigest())}[Symbol.iterator](){return f(this,ln).entries()}}Yc=new WeakMap,ln=new WeakMap,Wm=new WeakMap,Ym=new WeakMap,uC=new WeakSet,xD=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=P(this,uC,xD).call(this,s);else if(f(this,ln).has(s))a=f(this,ln).get(s).visible;else return st(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class Fde{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Tt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Tt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Tt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Mde(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Ude(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class Mde{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=KQ(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Ude{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Pde(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=a(n),t){const d=u(t);return s(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const g=new TextDecoder(d,{fatal:!0}),v=jE(h);h=g.decode(v),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const h=[];let g;const v=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(d))!==null;){let[,b,B,S]=g;if(b=parseInt(b,10),b in h){if(b===0)break;continue}h[b]=[B,S]}const C=[];for(let b=0;b<h.length&&b in h;++b){let[B,S]=h[b];S=o(S),B&&(S=unescape(S),b===0&&(S=l(S))),C.push(S)}return C.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let g=0;g<h.length;++g){const v=h[g].indexOf('"');v!==-1&&(h[g]=h[g].slice(0,v),h.length=g+1),h[g]=h[g].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const g=d.slice(0,h),C=d.slice(h+1).replace(/^[^']*'/,"");return i(g,C)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,g,v,C){if(v==="q"||v==="Q")return C=C.replaceAll("_"," "),C=C.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,B){return String.fromCharCode(parseInt(B,16))}),i(g,C);try{C=atob(C)}catch{}return i(g,C)})}return""}function Vj(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function j1(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function Kj({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function Gj(n){const e=n.get("Content-Disposition");if(e){let t=Pde(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(KQ(t))return t}return null}function ZE(n,e){return new nT(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function zj(n){return n===200||n===206}function $j(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function qj(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(st(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Rde{constructor(e){Ee(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Vj(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Tt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Dde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Nde(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Dde{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,$j(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=j1(s.url),!zj(s.status))throw ZE(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=Kj({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=Gj(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new qd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:qj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class Nde{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const a=i.url;fetch(a,$j(s,this._withCredentials,this._abortController)).then(o=>{const l=j1(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!zj(o.status))throw ZE(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:qj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const pU=200,gU=206;function Lde(n){const e=n.response;return typeof e!="string"?e:jE(e).buffer}class Qde{constructor({url:e,httpHeaders:t,withCredentials:r}){Ee(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Vj(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=gU):i.expectedStatus=pU,t.responseType="arraybuffer",Tt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||pU;if(!(s===pU&&r.expectedStatus===gU)&&s!==r.expectedStatus){r.onError(i.status);return}const o=Lde(i);if(s===gU){const l=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?r.onDone({begin:parseInt(u[1],10),chunk:o}):(st('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class kde{constructor(e){this._source=e,this._manager=new Qde(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Tt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Ode(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new Hde(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Ode{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=j1(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=Kj({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Gj(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=ZE(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Hde{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=j1((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=ZE(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Vde=/^[a-z][a-z0-9\-+.]+:/i;function Kde(n){if(Vde.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Gde{constructor(e){this.source=e,this.url=Kde(e.url),Tt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Tt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new zde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new $de(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class zde{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=ZE(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new qd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class $de{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const R0=Symbol("INITIAL_DATA");var qs,cC,_D;class jj{constructor(){U(this,cC);U(this,qs,Object.create(null))}get(e,t=null){if(t){const i=P(this,cC,_D).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=f(this,qs)[e];if(!r||r.data===R0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=f(this,qs)[e];return!!t&&t.data!==R0}delete(e){const t=f(this,qs)[e];return!t||t.data===R0?!1:(delete f(this,qs)[e],!0)}resolve(e,t=null){const r=P(this,cC,_D).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in f(this,qs)){const{data:r}=f(this,qs)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}_(this,qs,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,qs)){const{data:t}=f(this,qs)[e];t!==R0&&(yield[e,t])}}}qs=new WeakMap,cC=new WeakSet,_D=function(e){var t;return(t=f(this,qs))[e]||(t[e]={...Promise.withResolvers(),data:R0})};const qde=1e5,$K=30;var j8,Xc,ws,dC,fC,wh,Nl,hC,pC,bh,Xm,Jm,Jc,Zm,gC,ev,Ch,mC,vC,sr,tv,Eh,yC,Zc,nv,Nu,Wj,Yj,ID,ga,s_,FD,Xj,Jj;let TD=(sr=class{constructor({textContentSource:e,container:t,viewport:r}){U(this,Nu);U(this,Xc,Promise.withResolvers());U(this,ws,null);U(this,dC,!1);U(this,fC,!!((j8=globalThis.FontInspector)!=null&&j8.enabled));U(this,wh,null);U(this,Nl,null);U(this,hC,0);U(this,pC,0);U(this,bh,null);U(this,Xm,null);U(this,Jm,0);U(this,Jc,0);U(this,Zm,Object.create(null));U(this,gC,[]);U(this,ev,null);U(this,Ch,[]);U(this,mC,new WeakMap);U(this,vC,null);var l;if(e instanceof ReadableStream)_(this,ev,e);else if(typeof e=="object")_(this,ev,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,ws,_(this,Xm,t)),_(this,Jc,r.scale*Bp.pixelRatio),_(this,Jm,r.rotation),_(this,Nl,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;_(this,vC,[1,0,0,-1,-a,o+s]),_(this,pC,i),_(this,hC,s),P(l=sr,ga,Xj).call(l),Ep(t,r),f(this,Xc).promise.finally(()=>{f(sr,nv).delete(this),_(this,Nl,null),_(this,Zm,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Ii.platform;return at(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,bh).read().then(({value:t,done:r})=>{if(r){f(this,Xc).resolve();return}f(this,wh)??_(this,wh,t.lang),Object.assign(f(this,Zm),t.styles),P(this,Nu,Wj).call(this,t.items),e()},f(this,Xc).reject)};return _(this,bh,f(this,ev).getReader()),f(sr,nv).add(this),e(),f(this,Xc).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*Bp.pixelRatio,i=e.rotation;if(i!==f(this,Jm)&&(t==null||t(),_(this,Jm,i),Ep(f(this,Xm),{rotation:i})),r!==f(this,Jc)){t==null||t(),_(this,Jc,r);const a={div:null,properties:null,ctx:P(s=sr,ga,s_).call(s,f(this,wh))};for(const o of f(this,Ch))a.properties=f(this,mC).get(o),a.div=o,P(this,Nu,ID).call(this,a)}}cancel(){var t;const e=new qd("TextLayer task cancelled.");(t=f(this,bh))==null||t.cancel(e).catch(()=>{}),_(this,bh,null),f(this,Xc).reject(e)}get textDivs(){return f(this,Ch)}get textContentItemsStr(){return f(this,gC)}static cleanup(){if(!(f(this,nv).size>0)){f(this,tv).clear();for(const{canvas:e}of f(this,Eh).values())e.remove();f(this,Eh).clear()}}},Xc=new WeakMap,ws=new WeakMap,dC=new WeakMap,fC=new WeakMap,wh=new WeakMap,Nl=new WeakMap,hC=new WeakMap,pC=new WeakMap,bh=new WeakMap,Xm=new WeakMap,Jm=new WeakMap,Jc=new WeakMap,Zm=new WeakMap,gC=new WeakMap,ev=new WeakMap,Ch=new WeakMap,mC=new WeakMap,vC=new WeakMap,tv=new WeakMap,Eh=new WeakMap,yC=new WeakMap,Zc=new WeakMap,nv=new WeakMap,Nu=new WeakSet,Wj=function(e){var i,s;if(f(this,dC))return;(s=f(this,Nl)).ctx??(s.ctx=P(i=sr,ga,s_).call(i,f(this,wh)));const t=f(this,Ch),r=f(this,gC);for(const a of e){if(t.length>qde){st("Ignoring additional textDivs for performance reasons."),_(this,dC,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=f(this,ws);_(this,ws,document.createElement("span")),f(this,ws).classList.add("markedContent"),a.id&&f(this,ws).setAttribute("id",`${a.id}`),o.append(f(this,ws))}else a.type==="endMarkedContent"&&_(this,ws,f(this,ws).parentNode);continue}r.push(a.str),P(this,Nu,Yj).call(this,a)}},Yj=function(e){var b;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,Ch).push(t);const i=Ve.transform(f(this,vC),e.transform);let s=Math.atan2(i[1],i[0]);const a=f(this,Zm)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=f(this,fC)&&a.fontSubstitution||a.fontFamily;o=sr.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),u=l*P(b=sr,ga,Jj).call(b,o,a,f(this,wh));let d,h;s===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(s),h=i[5]-u*Math.cos(s));const g="calc(var(--total-scale-factor) *",v=t.style;f(this,ws)===f(this,Xm)?(v.left=`${(100*d/f(this,pC)).toFixed(2)}%`,v.top=`${(100*h/f(this,hC)).toFixed(2)}%`):(v.left=`${g}${d.toFixed(2)}px)`,v.top=`${g}${h.toFixed(2)}px)`),v.fontSize=`${g}${(f(sr,Zc)*l).toFixed(2)}px)`,v.fontFamily=o,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,fC)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let C=!1;if(e.str.length>1)C=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const B=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);B!==S&&Math.max(B,S)/Math.min(B,S)>1.5&&(C=!0)}if(C&&(r.canvasWidth=a.vertical?e.height:e.width),f(this,mC).set(t,r),f(this,Nl).div=t,f(this,Nl).properties=r,P(this,Nu,ID).call(this,f(this,Nl)),r.hasText&&f(this,ws).append(t),r.hasEOL){const B=document.createElement("br");B.setAttribute("role","presentation"),f(this,ws).append(B)}},ID=function(e){var o;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let a="";if(f(sr,Zc)>1&&(a=`scale(${1/f(sr,Zc)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:d}=r;P(o=sr,ga,FD).call(o,i,d*f(this,Jc),l);const{width:h}=i.measureText(t.textContent);h>0&&(a=`scaleX(${u*f(this,Jc)/h}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)},ga=new WeakSet,s_=function(e=null){let t=f(this,Eh).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,Eh).set(e,t),f(this,yC).set(t,{size:0,family:""})}return t},FD=function(e,t,r){const i=f(this,yC).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},Xj=function(){if(f(this,Zc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),_(this,Zc,e.getBoundingClientRect().height),e.remove()},Jj=function(e,t,r){const i=f(this,tv).get(e);if(i)return i;const s=P(this,ga,s_).call(this,r);s.canvas.width=s.canvas.height=$K,P(this,ga,FD).call(this,s,$K,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return o?u=o/(o+l):(Ii.platform.isFirefox&&st("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),f(this,tv).set(e,u),u},U(sr,ga),U(sr,tv,new Map),U(sr,Eh,new Map),U(sr,yC,new WeakMap),U(sr,Zc,null),U(sr,nv,new Set),sr);const jde=100;function qQ(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new MD,{docId:t}=e,r=n.url?tde(n.url):null,i=n.data?nde(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof Zj?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof UD?n.worker:null;const h=n.verbosity,g=typeof n.docBaseUrl=="string"&&!q1(n.docBaseUrl)?n.docBaseUrl:null,v=KS(n.cMapUrl),C=n.cMapPacked!==!1,b=n.CMapReaderFactory||(es?ude:UK),B=KS(n.iccUrl),S=KS(n.standardFontDataUrl),I=n.StandardFontDataFactory||(es?cde:PK),T=KS(n.wasmUrl),R=n.WasmFactory||(es?dde:RK),M=n.stopAtErrors!==!0,D=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,L=n.isEvalSupported!==!1,H=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!es,k=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!es&&(Ii.platform.isFirefox||!globalThis.chrome),G=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,K=typeof n.disableFontFace=="boolean"?n.disableFontFace:es,z=n.fontExtraProperties===!0,J=n.enableXfa===!0,ne=n.ownerDocument||globalThis.document,oe=n.disableRange===!0,V=n.disableStream===!0,q=n.disableAutoFetch===!0,te=n.pdfBug===!0,he=n.CanvasFactory||(es?lde:ade),ve=n.FilterFactory||(es?Ade:ode),$=n.enableHWA===!0,Y=n.useWasm!==!1,Ae=l?l.length:n.length??NaN,me=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!es&&!K,re=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(b===UK&&I===PK&&R===RK&&v&&S&&T&&J0(v,document.baseURI)&&J0(S,document.baseURI)&&J0(T,document.baseURI)),fe=null;Ice(h);const le={canvasFactory:new he({ownerDocument:ne,enableHWA:$}),filterFactory:new ve({docId:t,ownerDocument:ne}),cMapReaderFactory:re?null:new b({baseUrl:v,isCompressed:C}),standardFontDataFactory:re?null:new I({baseUrl:S}),wasmFactory:re?null:new R({baseUrl:T})};d||(d=UD.create({verbosity:h,port:uu.workerPort}),e._worker=d);const Se={docId:t,apiVersion:"5.4.449",data:i,password:o,disableAutoFetch:q,rangeChunkSize:u,length:Ae,docBaseUrl:g,enableXfa:J,evaluatorOptions:{maxImageSize:D,disableFontFace:K,ignoreErrors:M,isEvalSupported:L,isOffscreenCanvasSupported:H,isImageDecoderSupported:k,canvasMaxAreaInBytes:G,fontExtraProperties:z,useSystemFonts:me,useWasm:Y,useWorkerFetch:re,cMapUrl:v,iccUrl:B,standardFontDataUrl:S,wasmUrl:T}},Z={ownerDocument:ne,pdfBug:te,styleElement:fe,loadingParams:{disableAutoFetch:q,enableXfa:J}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Ue=d.messageHandler.sendWithPromise("GetDocRequest",Se,i?[i.buffer]:null);let Ie;if(l)Ie=new Fde(l,{disableRange:oe,disableStream:V});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const ye=J0(r)?Rde:es?Gde:kde;Ie=new ye({url:r,length:Ae,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:oe,disableStream:V})}return Ue.then(ye=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const vt=new aw(t,ye,d.port),qe=new Xde(vt,e,Ie,Z,le,$);e._transport=qe,vt.send("Ready",null)})}).catch(e._capability.reject),e}var B1;const S1=class S1{constructor(){Ee(this,"_capability",Promise.withResolvers());Ee(this,"_transport",null);Ee(this,"_worker",null);Ee(this,"docId",`d${cr(S1,B1)._++}`);Ee(this,"destroyed",!1);Ee(this,"onPassword",null);Ee(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};B1=new WeakMap,U(S1,B1,0);let MD=S1;var Bh,wC,bC,CC,EC,W8;let Zj=(W8=class{constructor(e,t,r=!1,i=null){U(this,Bh,Promise.withResolvers());U(this,wC,[]);U(this,bC,[]);U(this,CC,[]);U(this,EC,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){f(this,EC).push(e)}addProgressListener(e){f(this,CC).push(e)}addProgressiveReadListener(e){f(this,bC).push(e)}addProgressiveDoneListener(e){f(this,wC).push(e)}onDataRange(e,t){for(const r of f(this,EC))r(e,t)}onDataProgress(e,t){f(this,Bh).promise.then(()=>{for(const r of f(this,CC))r(e,t)})}onDataProgressiveRead(e){f(this,Bh).promise.then(()=>{for(const t of f(this,bC))t(e)})}onDataProgressiveDone(){f(this,Bh).promise.then(()=>{for(const e of f(this,wC))e()})}transportReady(){f(this,Bh).resolve()}requestDataRange(e,t){yn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Bh=new WeakMap,wC=new WeakMap,bC=new WeakMap,CC=new WeakMap,EC=new WeakMap,W8);class Wde{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return at(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ll,Sh,cw;class Yde{constructor(e,t,r,i=!1){U(this,Sh);U(this,Ll,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new SK:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new jj,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new YE({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return at(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:i="display",annotationMode:s=Tc.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:C=null}){var k,G,K;(k=this._stats)==null||k.time("Overall");const b=this._transport.getRenderingIntent(i,s,h,g),{renderingIntent:B,cacheKey:S}=b;_(this,Ll,!1),l||(l=this._transport.getOptionalContentConfig(B));let I=this._intentStates.get(S);I||(I=Object.create(null),this._intentStates.set(S,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);const T=!!(B&Aa.PRINT);I.displayReadyCapability||(I.displayReadyCapability=Promise.withResolvers(),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(G=this._stats)==null||G.time("Page Request"),this._pumpOperatorList(b));const R=!!(this._pdfBug&&((K=globalThis.StepperManager)!=null&&K.enabled)),M=!this.recordedBBoxes&&(v||R),D=z=>{var J,ne;if(I.renderTasks.delete(L),M){const oe=(J=L.gfx)==null?void 0:J.dependencyTracker.take();oe&&(L.stepper&&L.stepper.setOperatorBBoxes(oe,L.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=oe))}T&&_(this,Ll,!0),P(this,Sh,cw).call(this),z?(L.capability.reject(z),this._abortOperatorList({intentState:I,reason:z instanceof Error?z:new Error(z)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(ne=globalThis.Stats)!=null&&ne.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new PD({callback:D,params:{canvas:t,canvasContext:e,dependencyTracker:M?new hde(t,I.operatorList.length,R):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:C});(I.renderTasks||(I.renderTasks=new Set)).add(L);const H=L.task;return Promise.all([I.displayReadyCapability.promise,l]).then(([z,J])=>{var ne;if(this.destroyed){D();return}if((ne=this._stats)==null||ne.time("Rendering"),!(J.renderingIntent&B))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:z,optionalContentConfig:J}),L.operatorListChanged()}).catch(D),H}getOperatorList({intent:e="display",annotationMode:t=Tc.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>jw.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:u}){if(u){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),_(this,Ll,!1),Promise.all(e)}cleanup(e=!1){_(this,Ll,!0);const t=P(this,Sh,cw).call(this);return e&&t&&this._stats&&(this._stats=new SK),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&P(this,Sh,cw).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:g})=>{if(g){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();P(this,Sh,cw).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof VQ){let i=jde;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new qd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Ll=new WeakMap,Sh=new WeakSet,cw=function(){if(!f(this,Ll)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,Ll,!1),!0};var ed,_o,Ql,xh,mn,x1,_h,Th,is,a_,eW,tW,dw,rv,o_;let UD=(mn=class{constructor({name:e=null,port:t=null,verbosity:r=Fce()}={}){U(this,is);U(this,ed,Promise.withResolvers());U(this,_o,null);U(this,Ql,null);U(this,xh,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(f(mn,Th).has(t))throw new Error("Cannot use more than one PDFWorker per port.");f(mn,Th).set(t,this),P(this,is,eW).call(this,t)}else P(this,is,tW).call(this)}get promise(){return f(this,ed).promise}get port(){return f(this,Ql)}get messageHandler(){return f(this,_o)}destroy(){var e,t;this.destroyed=!0,(e=f(this,xh))==null||e.terminate(),_(this,xh,null),f(mn,Th).delete(f(this,Ql)),_(this,Ql,null),(t=f(this,_o))==null||t.destroy(),_(this,_o,null)}static create(e){const t=f(this,Th).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new mn(e)}static get workerSrc(){if(uu.workerSrc)return uu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return at(this,"_setupFakeWorkerGlobal",(async()=>f(this,rv,o_)?f(this,rv,o_):(await import(this.workerSrc)).WorkerMessageHandler)())}},ed=new WeakMap,_o=new WeakMap,Ql=new WeakMap,xh=new WeakMap,x1=new WeakMap,_h=new WeakMap,Th=new WeakMap,is=new WeakSet,a_=function(){f(this,ed).resolve(),f(this,_o).send("configure",{verbosity:this.verbosity})},eW=function(e){_(this,Ql,e),_(this,_o,new aw("main","worker",e)),f(this,_o).on("ready",()=>{}),P(this,is,a_).call(this)},tW=function(){if(f(mn,_h)||f(mn,rv,o_)){P(this,is,dw).call(this);return}let{workerSrc:e}=mn;try{mn._isSameOrigin(window.location,e)||(e=mn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new aw("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?f(this,ed).reject(new Error("Worker was destroyed")):P(this,is,dw).call(this)},s=new AbortController;t.addEventListener("error",()=>{f(this,xh)||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}_(this,_o,r),_(this,Ql,t),_(this,xh,t),P(this,is,a_).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{P(this,is,dw).call(this)}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{$1("The worker has been disabled.")}P(this,is,dw).call(this)},dw=function(){f(mn,_h)||(st("Setting up fake worker."),_(mn,_h,!0)),mn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){f(this,ed).reject(new Error("Worker was destroyed"));return}const t=new sde;_(this,Ql,t);const r=`fake${cr(mn,x1)._++}`,i=new aw(r+"_worker",r,t);e.setup(i,t),_(this,_o,new aw(r,r+"_worker",t)),P(this,is,a_).call(this)}).catch(e=>{f(this,ed).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},rv=new WeakSet,o_=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},U(mn,rv),U(mn,x1,0),U(mn,_h,!1),U(mn,Th,new WeakMap),es&&(_(mn,_h,!0),uu.workerSrc||(uu.workerSrc="./pdf.worker.mjs")),mn._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},mn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},mn.fromPort=e=>{if(Vce("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return mn.create(e)},mn);var kl,mA,iv,sv,Ol,Ih,fw;class Xde{constructor(e,t,r,i,s,a){U(this,Ih);U(this,kl,new Map);U(this,mA,new Map);U(this,iv,new Map);U(this,sv,new Map);U(this,Ol,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new jj,this.fontLoader=new Zce({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return at(this,"annotationStorage",new GQ)}getRenderingIntent(e,t=Tc.ENABLE,r=null,i=!1,s=!1){let a=Aa.DISPLAY,o=fD;switch(e){case"any":a=Aa.ANY;break;case"display":break;case"print":a=Aa.PRINT;break;default:st(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Aa.PRINT&&r instanceof Uj?r:this.annotationStorage;switch(t){case Tc.DISABLE:a+=Aa.ANNOTATIONS_DISABLE;break;case Tc.ENABLE:break;case Tc.ENABLE_FORMS:a+=Aa.ANNOTATIONS_FORMS;break;case Tc.ENABLE_STORAGE:a+=Aa.ANNOTATIONS_STORAGE,o=l.serializable;break;default:st(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=Aa.IS_EDITING),s&&(a+=Aa.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=f(this,Ol))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of f(this,mA).values())e.push(i._destroy());f(this,mA).clear(),f(this,iv).clear(),f(this,sv).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,kl).clear(),this.filterFactory.destroy(),TD.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new qd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Tt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Tt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{Tt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Tt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new Wde(r,this))}),e.on("DocException",r=>{t._capability.reject(hs(r))}),e.on("PasswordRequest",r=>{_(this,Ol,Promise.withResolvers());try{if(!t.onPassword)throw hs(r);const i=s=>{s instanceof Error?f(this,Ol).reject(s):f(this,Ol).resolve({password:s})};t.onPassword(i,r.code)}catch(i){f(this,Ol).reject(i)}return f(this,Ol).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;f(this,mA).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const g=s.error;st(`Error during font loading: ${g}`),this.commonObjs.resolve(r,g);break}const o=new hD(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(g,v)=>globalThis.FontInspector.fontAdded(g,v):null,u=new ede(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(r,u)});break;case"CopyLocalImage":const{imageRef:d}=s;Tt(d,"The imageRef must be defined.");for(const g of f(this,mA).values())for(const[,v]of g.objs)if((v==null?void 0:v.ref)===d)return v.dataLen?(this.commonObjs.resolve(r,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const h=new pD(s);this.commonObjs.resolve(r,h.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const o=f(this,mA).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&st("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=f(this,iv).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&f(this,sv).set(s.refStr,e);const a=new Yde(t,s,this,this._params.pdfBug);return f(this,mA).set(t,a),a});return f(this,iv).set(t,i),i}getPageIndex(e){return gD(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return P(this,Ih,fw).call(this,"GetFieldObjects")}hasJSActions(){return P(this,Ih,fw).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return P(this,Ih,fw).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return P(this,Ih,fw).call(this,"GetOptionalContentConfig").then(t=>new Ide(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,kl).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new _de(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:i[2]}});return f(this,kl).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,mA).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,kl).clear(),this.filterFactory.destroy(!0),TD.cleanup()}}cachedPageNumber(e){if(!gD(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,sv).get(t)??null}}kl=new WeakMap,mA=new WeakMap,iv=new WeakMap,sv=new WeakMap,Ol=new WeakMap,Ih=new WeakSet,fw=function(e,t=null){const r=f(this,kl).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return f(this,kl).set(e,i),i};var td;class Jde{constructor(e){U(this,td,null);Ee(this,"onContinue",null);Ee(this,"onError",null);_(this,td,e)}get promise(){return f(this,td).capability.promise}cancel(e=0){f(this,td).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,td).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,td);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}td=new WeakMap;var nd,Fh;const Lf=class Lf{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:C=null}){U(this,nd,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Jde(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=v,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=C}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(f(Lf,Fh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(Lf,Fh).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new sm(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),f(this,nd)&&(window.cancelAnimationFrame(f(this,nd)),_(this,nd,null)),f(Lf,Fh).delete(this._canvas),e||(e=new VQ(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,nd,window.requestAnimationFrame(()=>{_(this,nd,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(Lf,Fh).delete(this._canvas),this.callback())))}};nd=new WeakMap,Fh=new WeakMap,U(Lf,Fh,new WeakSet);let PD=Lf;const jQ="5.4.449",Zde="f44e5f0e6";var js,Mh,av,Qr,BC,ov,Hl,SC,rd,To,bi,xC,un,RD,DD,ND,Tf,rW,yc;let nW=(bi=class{constructor({editor:e=null,uiManager:t=null}){U(this,un);U(this,js,null);U(this,Mh,null);U(this,av);U(this,Qr,null);U(this,BC,!1);U(this,ov,!1);U(this,Hl,null);U(this,SC);U(this,rd,null);U(this,To,null);var r,i;e?(_(this,ov,!1),_(this,Hl,e)):_(this,ov,!0),_(this,To,(e==null?void 0:e._uiManager)||t),_(this,SC,f(this,To)._eventBus),_(this,av,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=f(this,To))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),f(bi,xC)||_(bi,xC,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return at(this,"_keyboardManager",new JE([[["Escape","mac+Escape"],bi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],bi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],bi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],bi.prototype._moveToPrevious],[["Home","mac+Home"],bi.prototype._moveToBeginning],[["End","mac+End"],bi.prototype._moveToEnd]]))}renderButton(){const e=_(this,js,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",f(this,Hl)&&(e.ariaControls=`${f(this,Hl).id}_colorpicker_dropdown`);const t=f(this,To)._signal;e.addEventListener("click",P(this,un,Tf).bind(this),{signal:t}),e.addEventListener("keydown",P(this,un,ND).bind(this),{signal:t});const r=_(this,Mh,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=f(this,av),e.append(r),e}renderMainDropdown(){const e=_(this,Qr,P(this,un,RD).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===f(this,js)){P(this,un,Tf).call(this,e);return}const t=e.target.getAttribute("data-color");t&&P(this,un,DD).call(this,t,e)}_moveToNext(e){var t,r;if(!f(this,un,yc)){P(this,un,Tf).call(this,e);return}if(e.target===f(this,js)){(t=f(this,Qr).firstElementChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=f(this,Qr))==null?void 0:t.firstElementChild)||e.target===f(this,js)){f(this,un,yc)&&this._hideDropdownFromKeyboard();return}f(this,un,yc)||P(this,un,Tf).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!f(this,un,yc)){P(this,un,Tf).call(this,e);return}(t=f(this,Qr).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,un,yc)){P(this,un,Tf).call(this,e);return}(t=f(this,Qr).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,Qr))==null||e.classList.add("hidden"),f(this,js).ariaExpanded="false",(t=f(this,rd))==null||t.abort(),_(this,rd,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,ov)){if(!f(this,un,yc)){(e=f(this,Hl))==null||e.unselect();return}this.hideDropdown(),f(this,js).focus({preventScroll:!0,focusVisible:f(this,BC)})}}updateColor(e){if(f(this,Mh)&&(f(this,Mh).style.backgroundColor=e),!f(this,Qr))return;const t=f(this,To).highlightColors.values();for(const r of f(this,Qr).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=f(this,js))==null||e.remove(),_(this,js,null),_(this,Mh,null),(t=f(this,Qr))==null||t.remove(),_(this,Qr,null)}},js=new WeakMap,Mh=new WeakMap,av=new WeakMap,Qr=new WeakMap,BC=new WeakMap,ov=new WeakMap,Hl=new WeakMap,SC=new WeakMap,rd=new WeakMap,To=new WeakMap,xC=new WeakMap,un=new WeakSet,RD=function(){const e=document.createElement("div"),t=f(this,To)._signal;e.addEventListener("contextmenu",lo,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),f(this,Hl)&&(e.id=`${f(this,Hl).id}_colorpicker_dropdown`);for(const[r,i]of f(this,To).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",f(bi,xC)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===f(this,av),s.addEventListener("click",P(this,un,DD).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",P(this,un,ND).bind(this),{signal:t}),e},DD=function(e,t){t.stopPropagation(),f(this,SC).dispatch("switchannotationeditorparams",{source:this,type:_t.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},ND=function(e){bi._keyboardManager.exec(this,e)},Tf=function(e){if(f(this,un,yc)){this.hideDropdown();return}if(_(this,BC,e.detail===0),f(this,rd)||(_(this,rd,new AbortController),window.addEventListener("pointerdown",P(this,un,rW).bind(this),{signal:f(this,To).combinedSignal(f(this,rd))})),f(this,js).ariaExpanded="true",f(this,Qr)){f(this,Qr).classList.remove("hidden");return}const t=_(this,Qr,P(this,un,RD).call(this));f(this,js).append(t)},rW=function(e){var t;(t=f(this,Qr))!=null&&t.contains(e.target)||this.hideDropdown()},yc=function(){return f(this,Qr)&&!f(this,Qr).classList.contains("hidden")},U(bi,xC,null),bi);var vA,_C,Av,TC;const Qf=class Qf{constructor(e){U(this,vA,null);U(this,_C,null);U(this,Av,null);_(this,_C,e),_(this,Av,e._uiManager),f(Qf,TC)||_(Qf,TC,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(f(this,vA))return f(this,vA);const{editorType:e,colorType:t,color:r}=f(this,_C),i=_(this,vA,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",f(Qf,TC)[e]),i.addEventListener("input",()=>{f(this,Av).updateParams(t,i.value)},{signal:f(this,Av)._signal}),i}update(e){f(this,vA)&&(f(this,vA).value=e)}destroy(){var e;(e=f(this,vA))==null||e.remove(),_(this,vA,null)}hideDropdown(){}};vA=new WeakMap,_C=new WeakMap,Av=new WeakMap,TC=new WeakMap,U(Qf,TC,null);let oT=Qf;function qK(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function D0(n){return Math.max(0,Math.min(255,255*n))}class jK{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=D0(e),[e,e,e]}static G_HTML([e]){const t=qK(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(D0)}static RGB_HTML(e){return`#${e.map(qK).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[D0(1-Math.min(1,e+i)),D0(1-Math.min(1,r+i)),D0(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class efe{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){yn("Abstract method `_createSVG` called.")}}let AT=class extends efe{_createSVG(e){return document.createElementNS(cl,e)}};const tfe=9,Sp=new WeakSet,nfe=new Date().getTimezoneOffset()*60*1e3;class mU{static create(e){switch(e.data.annotationType){case Tr.LINK:return new WQ(e);case Tr.TEXT:return new ife(e);case Tr.WIDGET:switch(e.data.fieldType){case"Tx":return new sfe(e);case"Btn":return e.data.radioButton?new aW(e):e.data.checkBox?new ofe(e):new Afe(e);case"Ch":return new lfe(e);case"Sig":return new afe(e)}return new Rp(e);case Tr.POPUP:return new QD(e);case Tr.FREETEXT:return new cW(e);case Tr.LINE:return new cfe(e);case Tr.SQUARE:return new dfe(e);case Tr.CIRCLE:return new ffe(e);case Tr.POLYLINE:return new dW(e);case Tr.CARET:return new pfe(e);case Tr.INK:return new YQ(e);case Tr.POLYGON:return new hfe(e);case Tr.HIGHLIGHT:return new fW(e);case Tr.UNDERLINE:return new gfe(e);case Tr.SQUIGGLY:return new mfe(e);case Tr.STRIKEOUT:return new vfe(e);case Tr.STAMP:return new hW(e);case Tr.FILEATTACHMENT:return new yfe(e);default:return new jn(e)}}}var Uh,lv,ja,IC,LD;const YO=class YO{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){U(this,IC);U(this,Uh,null);U(this,lv,!1);U(this,ja,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return YO._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,t=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let u=0,d=l.length;u<d;u+=2)l[u+1]>a?(a=l[u+1],s=l[u]):l[u+1]===a&&(s=Math.max(s,l[u]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){var t,r,i;const{data:e}=this;return((r=(t=this.annotationStorage.getRawValue(`${$w}${e.id}`))==null?void 0:t.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:r})||this.annotationStorage.setValue(`${$w}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=f(this,ja))==null?void 0:e.popup)||this.popup)==null||t.remove(),_(this,ja,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(f(this,Uh)||_(this,Uh,{rect:this.data.rect.slice(0)}));const{rect:t,popup:r}=e;t&&P(this,IC,LD).call(this,t);let i=((s=f(this,ja))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=f(this,ja).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),_(this,ja,null),this.popup=null))}resetEdited(){var e;f(this,Uh)&&(P(this,IC,LD).call(this,f(this,Uh).rect),(e=f(this,ja))==null||e.popup.resetEdited(),_(this,Uh,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Rp)&&!(this instanceof WQ)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof QD){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,B=t.borderStyle.verticalCornerRadius;if(b>0||B>0){const I=`calc(${b}px * var(--total-scale-factor)) / calc(${B}px * var(--total-scale-factor))`;a.borderRadius=I}else if(this instanceof aW){const I=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=I}switch(t.borderStyle.style){case Mg.SOLID:a.borderStyle="solid";break;case Mg.DASHED:a.borderStyle="dashed";break;case Mg.BEVELED:st("Unimplemented border style: beveled");break;case Mg.INSET:st("Unimplemented border style: inset");break;case Mg.UNDERLINE:a.borderBottomStyle="solid";break}const S=t.borderColor||null;S?(_(this,lv,!0),a.borderColor=Ve.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):a.borderWidth=0}const u=Ve.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:g,pageY:v}=i.rawDims;a.left=`${100*(u[0]-g)/d}%`,a.top=`${100*(u[1]-v)/h}%`;const{rotation:C}=t;return t.hasOwnCanvas||C===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(C,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*a/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[r]=jK[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:jK[`${a}_rgb`](o)})};return at(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,B,S,I]=e.subarray(2,6);if(i===b&&s===B&&t===S&&r===I)return}const{style:a}=this.container;let o;if(f(this,lv)){const{borderColor:b,borderWidth:B}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${B}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const g=d.createElement("defs");h.append(g);const v=d.createElement("clipPath"),C=`clippath_${this.data.id}`;v.setAttribute("id",C),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let b=2,B=e.length;b<B;b+=8){const S=e[b],I=e[b+1],T=e[b+2],R=e[b+3],M=d.createElement("rect"),D=(T-t)/l,L=(s-I)/u,H=(S-T)/l,k=(I-R)/u;M.setAttribute("x",D),M.setAttribute("y",L),M.setAttribute("width",H),M.setAttribute("height",k),v.append(M),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${L}" width="${H}" height="${k}"/>`)}f(this,lv)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${C})`}_createPopup(e=null){const{data:t}=this;let r,i;e?(r={str:e.text},i=e.date):(r=t.contentsObj,i=t.modificationDate),_(this,ja,new QD({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(f(this,ja)||this.popup||this.data.popupRef)}get extraPopupElement(){return f(this,ja)}render(){yn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!Sp.has(u)){st(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&Sp.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Uh=new WeakMap,lv=new WeakMap,ja=new WeakMap,IC=new WeakSet,LD=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let jn=YO;class rfe extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var ca,If,iW,sW;class WQ extends jn{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});U(this,ca);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),s=!0):t.attachment?(P(this,ca,iW).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(P(this,ca,sW).call(this,i,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(t,r,i=""){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&P(this,ca,If).call(this),i&&(t.title=i)}_bindNamedAction(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(t.title=i),P(this,ca,If).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(t.title=r.overlaidText),t.onclick||(t.onclick=()=>!1),P(this,ca,If).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),P(this,ca,If).call(this),!this._fieldObjects){st('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:a,include:o}=r,l=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const v of s){const C=this._fieldObjects[v]||[];for(const{id:b}of C)g.add(b)}for(const v of Object.values(this._fieldObjects))for(const C of v)g.has(C.id)===o&&l.push(C)}else for(const g of Object.values(this._fieldObjects))l.push(...g);const u=this.annotationStorage,d=[];for(const g of l){const{id:v}=g;switch(d.push(v),g.type){case"text":{const b=g.defaultValue||"";u.setValue(v,{value:b});break}case"checkbox":case"radiobutton":{const b=g.defaultValue===g.exportValues;u.setValue(v,{value:b});break}case"combobox":case"listbox":{const b=g.defaultValue||"";u.setValue(v,{value:b});break}default:continue}const C=document.querySelector(`[data-element-id="${v}"]`);if(C){if(!Sp.has(C)){st(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;C.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}ca=new WeakSet,If=function(){this.container.setAttribute("data-internal-link","")},iW=function(t,r,i="",s=null){t.href=this.linkService.getAnchorUrl(""),r.description?t.title=r.description:i&&(t.title=i),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,s),!1},P(this,ca,If).call(this)},sW=function(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(t.title=i),P(this,ca,If).call(this)};class ife extends jn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Rp extends jn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ii.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,r,i){var s,a,o;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ve.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||tfe,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(lU*i))||1,h=u/d;a=Math.min(i,l(h/lU))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(u/lU))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Ve.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class sfe extends Rp{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Sp.add(r),this.contentElement=r,r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:g,timeStep:v}=this.data,C=!!g&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",B=>{e.setValue(t,{value:B.target.value}),this.setPropertyOnSiblings(r,"value",B.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",B=>{const S=this.data.defaultFieldValue??"";r.value=d.userValue=S,d.formattedValue=null});let b=B=>{const{formattedValue:S}=d;S!=null&&(B.target.value=S),B.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",S=>{var T;if(d.focused)return;const{target:I}=S;if(C&&(I.type=g,v&&(I.step=v)),d.userValue){const R=d.userValue;if(C)if(g==="time"){const M=new Date(R),D=[M.getHours(),M.getMinutes(),M.getSeconds()];I.value=D.map(L=>L.toString().padStart(2,"0")).join(":")}else I.value=new Date(R-nfe).toISOString().split(g==="date"?"T":".",1)[0];else I.value=R}d.lastCommittedValue=I.value,d.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const I={value(T){d.userValue=T.detail.value??"",C||e.setValue(t,{value:d.userValue.toString()}),T.target.value=d.userValue},formattedValue(T){const{formattedValue:R}=T.detail;d.formattedValue=R,R!=null&&T.target!==document.activeElement&&(T.target.value=R);const M={formattedValue:R};C&&(M.value=R),e.setValue(t,M)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var L;const{charLimit:R}=T.detail,{target:M}=T;if(R===0){M.removeAttribute("maxLength");return}M.setAttribute("maxLength",R);let D=d.userValue;!D||D.length<=R||(D=D.slice(0,R),M.value=d.userValue=D,e.setValue(t,{value:D}),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:M.selectionStart,selEnd:M.selectionEnd}}))}};this._dispatchEventFromSandbox(I,S)}),r.addEventListener("keydown",S=>{var R;d.commitKey=1;let I=-1;if(S.key==="Escape"?I=0:S.key==="Enter"&&!this.data.multiLine?I=2:S.key==="Tab"&&(d.commitKey=3),I===-1)return;const{value:T}=S.target;d.lastCommittedValue!==T&&(d.lastCommittedValue=T,d.userValue=T,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:I,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const B=b;b=null,r.addEventListener("blur",S=>{var R,M;if(!d.focused||!S.relatedTarget)return;(R=this.data.actions)!=null&&R.Blur||(d.focused=!1);const{target:I}=S;let{value:T}=I;if(C){if(T&&g==="time"){const D=T.split(":").map(L=>parseInt(L,10));T=new Date(2e3,0,1,D[0],D[1],D[2]||0).valueOf(),I.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();I.type="text"}d.userValue=T,d.lastCommittedValue!==T&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:d.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),B(S)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",S=>{var k;d.lastCommittedValue=null;const{data:I,target:T}=S,{value:R,selectionStart:M,selectionEnd:D}=T;let L=M,H=D;switch(S.inputType){case"deleteWordBackward":{const G=R.substring(0,M).match(/\w*[^\w]*$/);G&&(L-=G[0].length);break}case"deleteWordForward":{const G=R.substring(M).match(/^[^\w]*\w*/);G&&(H+=G[0].length);break}case"deleteContentBackward":M===D&&(L-=1);break;case"deleteContentForward":M===D&&(H+=1);break}S.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,change:I||"",willCommit:!1,selStart:L,selEnd:H}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(b&&r.addEventListener("blur",b),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class afe extends Rp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class ofe extends Rp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Sp.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class aW extends Rp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Sp.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const g=d&&h.id===r;h.domElement&&(h.domElement.checked=g),e.setValue(h.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Afe extends WQ{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class lfe extends Rp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Sp.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:g,multiple:v}=i;return v?Array.prototype.filter.call(g,C=>C.selected).map(C=>C[h]):g.selectedIndex===-1?null:g[g.selectedIndex][h]};let l=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(g){a==null||a();const v=g.detail.value,C=new Set(Array.isArray(v)?v:[v]);for(const b of i.options)b.selected=C.has(b.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(g){i.multiple=!0},remove(g){const v=i.options,C=g.detail.remove;v[C].selected=!1,i.remove(C),v.length>0&&Array.prototype.findIndex.call(v,B=>B.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(g){const{index:v,displayValue:C,exportValue:b}=g.detail.insert,B=i.children[v],S=document.createElement("option");S.textContent=C,S.value=b,B?B.before(S):i.append(S),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},items(g){const{items:v}=g.detail;for(;i.length!==0;)i.remove(0);for(const C of v){const{displayValue:b,exportValue:B}=C,S=document.createElement("option");S.textContent=b,S.value=B,i.append(S)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},indices(g){const v=new Set(g.detail.indices);for(const C of g.target.options)C.selected=v.has(C.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var v;const h=o(!0),g=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var FC,kD;class QD extends jn{constructor(t){const{data:r,elements:i,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&jn._hasPopupData(r)});U(this,FC);if(this.elements=i,a&&jn._hasPopupData(r)){const o=this.popup=P(this,FC,kD).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const r=this.popup=P(this,FC,kD).call(this),i=[];for(const s of this.elements)s.popup=r,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${$g}${s}`).join(",")),this.container}}FC=new WeakSet,kD=function(){return new ufe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Ws,id,_1,T1,uv,cv,nr,yA,sd,Ph,dv,fv,wA,Ys,Vl,Kl,rr,Gl,ad,MC,zl,hv,Rh,od,Zr,Ad,pt,A_,OD,HD,VD,l_,KD,oW,AW,lW,uW,u_,c_,GD;class ufe{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:d,open:h,commentManager:g=null}){U(this,pt);U(this,Ws,null);U(this,id,P(this,pt,lW).bind(this));U(this,_1,P(this,pt,GD).bind(this));U(this,T1,P(this,pt,c_).bind(this));U(this,uv,P(this,pt,u_).bind(this));U(this,cv,null);U(this,nr,null);U(this,yA,null);U(this,sd,null);U(this,Ph,null);U(this,dv,null);U(this,fv,null);U(this,wA,!1);U(this,Ys,null);U(this,Vl,null);U(this,Kl,null);U(this,rr,null);U(this,Gl,null);U(this,ad,null);U(this,MC,null);U(this,zl,null);U(this,hv,null);U(this,Rh,null);U(this,od,!1);U(this,Zr,null);U(this,Ad,null);_(this,nr,e),_(this,hv,i),_(this,yA,a),_(this,zl,o),_(this,dv,l),_(this,cv,t),_(this,MC,u),_(this,fv,d),_(this,Ph,r),_(this,Ws,g),_(this,Zr,r[0]),_(this,sd,qR.toDateObject(s)),this.trigger=r.flatMap(v=>v.getElementsToTriggerPopup()),g||(P(this,pt,A_).call(this),f(this,nr).hidden=!0,h&&P(this,pt,u_).call(this))}renderCommentButton(){if(f(this,rr)){f(this,rr).parentNode||f(this,Zr).container.after(f(this,rr));return}if(f(this,Gl)||P(this,pt,OD).call(this),!f(this,Gl))return;const{signal:e}=_(this,Vl,new AbortController),t=f(this,Zr).hasOwnCommentButton,r=()=>{f(this,Ws).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{f(this,Ws).toggleCommentPopup(this,!1,!0,!t)},s=()=>{f(this,Ws).toggleCommentPopup(this,!1,!1)};if(t){_(this,rr,f(this,Zr).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",f(this,id),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=_(this,rr,document.createElement("button"));a.className="annotationCommentButton";const o=f(this,Zr).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),P(this,pt,VD).call(this),P(this,pt,HD).call(this),a.addEventListener("keydown",f(this,id),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=f(this,Zr).commentData;return e?f(this,dv)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=f(this,rr))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}=f(this,Zr).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return f(this,rr)}get comment(){return f(this,Ad)||_(this,Ad,f(this,Zr).commentText),f(this,Ad)}set comment(e){e!==this.comment&&(f(this,Zr).commentText=_(this,Ad,e))}focus(){var e;(e=f(this,Zr).container)==null||e.focus()}get parentBoundingClientRect(){return f(this,Zr).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){f(this,rr)&&(f(this,rr).classList.toggle("selected",e),f(this,rr).ariaExpanded=t)}setSelectedCommentButton(e){f(this,rr).classList.toggle("selected",e)}get commentPopupPosition(){if(f(this,ad))return f(this,ad);const{x:e,y:t,height:r}=f(this,rr).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=f(this,Zr).layer.getBoundingClientRect();return[(e-i)/a,(t+r-s)/o]}set commentPopupPosition(e){_(this,ad,e)}hasDefaultPopupPosition(){return f(this,ad)===null}get commentButtonPosition(){return f(this,Gl)}get commentButtonWidth(){return f(this,rr).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,r]=f(this,ad)||this.commentButtonPosition.map(u=>u/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;f(this,Ws).showDialog(null,this,s+t*o,a+r*l,{...e,parentDimensions:i})}render(){var r,i;if(f(this,Ys))return;const e=_(this,Ys,document.createElement("div"));if(e.className="popup",f(this,cv)){const s=e.style.outlineColor=Ve.makeHexColor(...f(this,cv));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(r=f(this,hv))!=null&&r.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=f(this,hv)}if(e.append(t),f(this,sd)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,sd).valueOf()})),s.dateTime=f(this,sd).toISOString(),t.append(s)}Y6({html:f(this,pt,l_)||f(this,yA).str,dir:(i=f(this,yA))==null?void 0:i.dir,className:"popupContent"},e),f(this,nr).append(e)}updateEdited({rect:e,popup:t,deleted:r}){var i;if(f(this,Ws)){r?(this.remove(),_(this,Ad,null)):t&&(t.deleted?this.remove():(P(this,pt,VD).call(this),_(this,Ad,t.text))),e&&(_(this,Gl,null),P(this,pt,OD).call(this),P(this,pt,HD).call(this));return}if(r||t!=null&&t.deleted){this.remove();return}P(this,pt,A_).call(this),f(this,Rh)||_(this,Rh,{contentsObj:f(this,yA),richText:f(this,zl)}),e&&_(this,Kl,null),t&&t.text&&(_(this,zl,P(this,pt,AW).call(this,t.text)),_(this,sd,qR.toDateObject(t.date)),_(this,yA,null)),(i=f(this,Ys))==null||i.remove(),_(this,Ys,null)}resetEdited(){var e;f(this,Rh)&&({contentsObj:cr(this,yA)._,richText:cr(this,zl)._}=f(this,Rh),_(this,Rh,null),(e=f(this,Ys))==null||e.remove(),_(this,Ys,null),_(this,Kl,null))}remove(){var e,t,r;if((e=f(this,Vl))==null||e.abort(),_(this,Vl,null),(t=f(this,Ys))==null||t.remove(),_(this,Ys,null),_(this,od,!1),_(this,wA,!1),(r=f(this,rr))==null||r.remove(),_(this,rr,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){_(this,od,this.isVisible),f(this,od)&&(f(this,nr).hidden=!0)}maybeShow(){f(this,Ws)||(P(this,pt,A_).call(this),f(this,od)&&(f(this,Ys)||P(this,pt,c_).call(this),_(this,od,!1),f(this,nr).hidden=!1))}get isVisible(){return f(this,Ws)?!1:f(this,nr).hidden===!1}}Ws=new WeakMap,id=new WeakMap,_1=new WeakMap,T1=new WeakMap,uv=new WeakMap,cv=new WeakMap,nr=new WeakMap,yA=new WeakMap,sd=new WeakMap,Ph=new WeakMap,dv=new WeakMap,fv=new WeakMap,wA=new WeakMap,Ys=new WeakMap,Vl=new WeakMap,Kl=new WeakMap,rr=new WeakMap,Gl=new WeakMap,ad=new WeakMap,MC=new WeakMap,zl=new WeakMap,hv=new WeakMap,Rh=new WeakMap,od=new WeakMap,Zr=new WeakMap,Ad=new WeakMap,pt=new WeakSet,A_=function(){var t;if(f(this,Vl))return;_(this,Vl,new AbortController);const{signal:e}=f(this,Vl);for(const r of this.trigger)r.addEventListener("click",f(this,uv),{signal:e}),r.addEventListener("pointerenter",f(this,T1),{signal:e}),r.addEventListener("pointerleave",f(this,_1),{signal:e}),r.classList.add("popupTriggerArea");for(const r of f(this,Ph))(t=r.container)==null||t.addEventListener("keydown",f(this,id),{signal:e})},OD=function(){const e=f(this,Ph).find(t=>t.hasCommentButton);e&&_(this,Gl,e._normalizePoint(e.commentButtonPosition))},HD=function(){if(f(this,Zr).extraPopupElement&&!f(this,Zr).editor)return;f(this,rr)||this.renderCommentButton();const[e,t]=f(this,Gl),{style:r}=f(this,rr);r.left=`calc(${e}%)`,r.top=`calc(${t}% - var(--comment-button-dim))`},VD=function(){f(this,Zr).extraPopupElement||(f(this,rr)||this.renderCommentButton(),f(this,rr).style.backgroundColor=this.commentButtonColor||"")},l_=function(){const e=f(this,zl),t=f(this,yA);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,zl).html||null},KD=function(){var e,t,r;return((r=(t=(e=f(this,pt,l_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},oW=function(){var e,t,r;return((r=(t=(e=f(this,pt,l_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},AW=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:f(this,pt,oW),fontSize:f(this,pt,KD)?`calc(${f(this,pt,KD)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},lW=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,wA))&&P(this,pt,u_).call(this)},uW=function(){if(f(this,Kl)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=f(this,dv);let a=!!f(this,fv),o=a?f(this,fv):f(this,MC);for(const C of f(this,Ph))if(!o||Ve.intersect(C.data.rect,o)!==null){o=C.data.rect,a=!0;break}const l=Ve.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,g=l[1];_(this,Kl,[100*(h-i)/t,100*(g-s)/r]);const{style:v}=f(this,nr);v.left=`${f(this,Kl)[0]}%`,v.top=`${f(this,Kl)[1]}%`},u_=function(){if(f(this,Ws)){f(this,Ws).toggleCommentPopup(this,!1);return}_(this,wA,!f(this,wA)),f(this,wA)?(P(this,pt,c_).call(this),f(this,nr).addEventListener("click",f(this,uv)),f(this,nr).addEventListener("keydown",f(this,id))):(P(this,pt,GD).call(this),f(this,nr).removeEventListener("click",f(this,uv)),f(this,nr).removeEventListener("keydown",f(this,id)))},c_=function(){f(this,Ys)||this.render(),this.isVisible?f(this,wA)&&f(this,nr).classList.add("focused"):(P(this,pt,uW).call(this),f(this,nr).hidden=!1,f(this,nr).style.zIndex=parseInt(f(this,nr).style.zIndex)+1e3)},GD=function(){f(this,nr).classList.remove("focused"),!(f(this,wA)||!this.isVisible)&&(f(this,nr).hidden=!0,f(this,nr).style.zIndex=parseInt(f(this,nr).style.zIndex)-1e3)};class cW extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=At.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var UC;class cfe extends jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,UC,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=_(this,UC,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,UC)}addHighlightArea(){this.container.classList.add("highlightArea")}}UC=new WeakMap;var PC;class dfe extends jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,PC,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=_(this,PC,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,PC)}addHighlightArea(){this.container.classList.add("highlightArea")}}PC=new WeakMap;var RC;class ffe extends jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,RC,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=_(this,RC,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,RC)}addHighlightArea(){this.container.classList.add("highlightArea")}}RC=new WeakMap;var DC;class dW extends jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,DC,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!r)return this.container;const l=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,g=r.length;h<g;h+=2){const v=r[h]-t[0],C=t[3]-r[h+1];u.push(`${v},${C}`)}u=u.join(" ");const d=_(this,DC,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,DC)}addHighlightArea(){this.container.classList.add("highlightArea")}}DC=new WeakMap;class hfe extends dW{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class pfe extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var NC,Dh,LC,zD;class YQ extends jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});U(this,LC);U(this,NC,null);U(this,Dh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?At.HIGHLIGHT:At.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=P(this,LC,zD).call(this,r,t),d=this.svgFactory.create(l,u,!0),h=_(this,NC,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let g=0,v=i.length;g<v;g++){const C=this.svgFactory.createElement(this.svgElementName);f(this,Dh).push(C),C.setAttribute("points",i[g].join(",")),h.append(C)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,a=f(this,NC);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let o=0,l=f(this,Dh).length;o<l;o++)f(this,Dh)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:u}=P(this,LC,zD).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return f(this,Dh)}addHighlightArea(){this.container.classList.add("highlightArea")}}NC=new WeakMap,Dh=new WeakMap,LC=new WeakSet,zD=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class fW extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=At.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class gfe extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class mfe extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class vfe extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class hW extends jn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=At.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var QC,kC,$D;class yfe extends jn{constructor(t){var i;super(t,{isRenderable:!0});U(this,kC);U(this,QC,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",P(this,kC,$D).bind(this)),_(this,QC,i);const{isMac:s}=Ii.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&P(this,kC,$D).call(this)}),!r.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return f(this,QC)}addHighlightArea(){this.container.classList.add("highlightArea")}}QC=new WeakMap,kC=new WeakSet,$D=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Nh,Lh,pv,ld,OC,Qh,Xs,HC,Cu,d_,qD,gv;let wfe=(gv=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:u,annotationStorage:d}){U(this,Cu);U(this,Nh,null);U(this,Lh,null);U(this,pv,null);U(this,ld,new Map);U(this,OC,null);U(this,Qh,null);U(this,Xs,[]);U(this,HC,!1);this.div=e,_(this,Nh,t),_(this,Lh,r),_(this,OC,o||null),_(this,Qh,u||null),_(this,pv,d||new GQ),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return f(this,ld).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;Ep(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:f(this,Qh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new AT,annotationStorage:f(this,pv),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===Tr.POPUP;if(u){const g=i.get(l.id);if(!g)continue;if(!this._commentManager){s.push(l);continue}a.elements=g}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=mU.create(a);if(!d.isRenderable)continue;if(!u&&(f(this,Xs).push(d),l.popupRef)){const g=i.get(l.popupRef);g?g.push(d):i.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(f(this,ld).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}await P(this,Cu,d_).call(this);for(const l of s){const u=a.elements=i.get(l.id);a.data=l;const d=mU.create(a);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${$g}${l.id}`,l.hidden&&(h.style.visibility="hidden"),u.at(-1).container.after(h)}P(this,Cu,qD).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:f(this,Qh),svgFactory:new AT,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=gv._defaultBorderStyle),t.data=r;const i=mU.create(t);i.isRenderable&&(i.render(),i.contentElement.id=`${$g}${r.id}`,f(this,Xs).push(i))}await P(this,Cu,d_).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Ep(t,{rotation:e.rotation}),P(this,Cu,qD).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,ld).values())}getEditableAnnotation(e){return f(this,ld).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:r,rotation:i}=e,s=new rfe({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:f(this,Qh),annotationStorage:f(this,pv)});return s.render(),s.contentElement.id=`${$g}${r}`,s.createOrUpdatePopup(),f(this,Xs).push(s),s}removeAnnotation(e){var i;const t=f(this,Xs).findIndex(s=>s.data.id===e);if(t<0)return;const[r]=f(this,Xs).splice(t,1);(i=f(this,Nh))==null||i.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);P(this,Cu,d_).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return at(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Mg.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Nh=new WeakMap,Lh=new WeakMap,pv=new WeakMap,ld=new WeakMap,OC=new WeakMap,Qh=new WeakMap,Xs=new WeakMap,HC=new WeakMap,Cu=new WeakSet,d_=async function(){var r,i,s;if(f(this,Xs).length===0)return;this.div.replaceChildren();const e=[];if(!f(this,HC)){_(this,HC,!0);for(const{contentElement:a,data:{id:o}}of f(this,Xs)){const l=a.id=`${$g}${o}`;e.push((r=f(this,OC))==null?void 0:r.getAriaAttributes(l).then(u=>{if(u)for(const[d,h]of u)a.setAttribute(d,h)}))}}f(this,Xs).sort(({data:{rect:[a,o,l,u]}},{data:{rect:[d,h,g,v]}})=>{if(a===l&&o===u)return 1;if(d===g&&h===v)return-1;const C=u,b=o,B=(o+u)/2,S=v,I=h,T=(h+v)/2;if(B>=S&&T<=b)return-1;if(T>=C&&B<=I)return 1;const R=(a+l)/2,M=(d+g)/2;return R-M});const t=document.createDocumentFragment();for(const a of f(this,Xs))t.append(a.container),this._commentManager?(s=((i=a.extraPopupElement)==null?void 0:i.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&t.append(a.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),f(this,Nh))for(const a of f(this,Xs))f(this,Nh).addPointerInTextLayer(a.contentElement,!1)},qD=function(){var t;if(!f(this,Lh))return;const e=this.div;for(const[r,i]of f(this,Lh)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=f(this,ld).get(r);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}f(this,Lh).clear()},gv);const WS=/\r\n?|\n/g;var Js,VC,kh,Zs,Rr,pW,gW,mW,f_,Eu,h_,p_,vW,WD,yW;const Pn=class Pn extends Fn{constructor(t){super({...t,name:"freeTextEditor"});U(this,Rr);U(this,Js,"");U(this,VC,`${this.id}-editor`);U(this,kh,null);U(this,Zs);Ee(this,"_colorPicker",null);this.color=t.color||Pn._defaultColor||Fn._defaultLineColor,_(this,Zs,t.fontSize||Pn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=Pn.prototype,r=a=>a.isEmpty(),i=Ww.TRANSLATE_SMALL,s=Ww.TRANSLATE_BIG;return at(this,"_keyboardManager",new JE([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Fn.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case _t.FREETEXT_SIZE:Pn._defaultFontSize=r;break;case _t.FREETEXT_COLOR:Pn._defaultColor=r;break}}updateParams(t,r){switch(t){case _t.FREETEXT_SIZE:P(this,Rr,pW).call(this,r);break;case _t.FREETEXT_COLOR:P(this,Rr,gW).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[_t.FREETEXT_SIZE,Pn._defaultFontSize],[_t.FREETEXT_COLOR,Pn._defaultColor||Fn._defaultLineColor]]}get propertiesToUpdate(){return[[_t.FREETEXT_SIZE,f(this,Zs)],[_t.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new oT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return _t.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Pn._internalPadding*t,-(Pn._internalPadding+f(this,Zs))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,kh,new AbortController);const t=this._uiManager.combinedSignal(f(this,kh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,VC)),this._isDraggable=!0,(t=f(this,kh))==null||t.abort(),_(this,kh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,Js),r=_(this,Js,P(this,Rr,mW).call(this).trimEnd());if(t===r)return;const i=s=>{if(_(this,Js,s),!s){this.remove();return}P(this,Rr,p_).call(this),this._uiManager.rebuild(this),P(this,Rr,f_).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),P(this,Rr,f_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Pn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,VC)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${f(this,Zs)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[g,v]=this.pageTranslation;let C,b;switch(this.rotation){case 0:C=t+(o[0]-g)/d,b=r+this.height-(o[1]-v)/h;break;case 90:C=t+(o[0]-g)/d,b=r-(o[1]-v)/h,[l,u]=[u,-l];break;case 180:C=t-this.width+(o[0]-g)/d,b=r-(o[1]-v)/h,[l,u]=[-l,-u];break;case 270:C=t+(o[0]-g-this.height*h)/d,b=r+(o[1]-v-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(C*s,b*a,l,u)}else this._moveAfterPaste(t,r);P(this,Rr,p_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var C,b,B;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=P(C=Pn,Eu,WD).call(C,r.getData("text")||"").replaceAll(WS,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const S=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(WS,"")),S!==this.editorDiv){let I=d;for(const T of this.editorDiv.childNodes){if(T===S){I=h;continue}I.push(P(b=Pn,Eu,h_).call(b,T))}}d.push(l.nodeValue.slice(0,u).replaceAll(WS,""))}else if(l===this.editorDiv){let S=d,I=0;for(const T of this.editorDiv.childNodes)I++===u&&(S=h),S.push(P(B=Pn,Eu,h_).call(B,T))}_(this,Js,`${d.join(`
`)}${s}${h.join(`
`)}`),P(this,Rr,p_).call(this);const g=new Range;let v=Math.sumPrecise(d.map(S=>S.length));for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const I=S.nodeValue.length;if(v<=I){g.setStart(S,v),g.setEnd(S,v);break}v-=I}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Pn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,r,i){var o;let s=null;if(t instanceof cW){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:g,popupRef:v,richText:C,contentsObj:b,creationDate:B,modificationDate:S},textContent:I,textPosition:T,parent:{page:{pageNumber:R}}}=t;if(!I||I.length===0)return null;s=t={annotationType:At.FREETEXT,color:Array.from(u),fontSize:l,value:I.join(`
`),position:T,pageIndex:R-1,rect:d.slice(0),rotation:h,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(b==null?void 0:b.str)||null,richText:C,creationDate:B,modificationDate:S}}const a=await super.deserialize(t,r,i);return _(a,Zs,t.fontSize),a.color=Ve.makeHexColor(...t.color),_(a,Js,P(o=Pn,Eu,WD).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Fn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:r,fontSize:f(this,Zs),value:P(this,Rr,vW).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!P(this,Rr,yW).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${f(this,Zs)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const s of f(this,Js).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:f(this,Js)}}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Js=new WeakMap,VC=new WeakMap,kh=new WeakMap,Zs=new WeakMap,Rr=new WeakSet,pW=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-f(this,Zs))*this.parentScale),_(this,Zs,s),P(this,Rr,f_).call(this)},i=f(this,Zs);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},gW=function(t){const r=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},mW=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(P(i=Pn,Eu,h_).call(i,s)),r=s);return t.join(`
`)},f_=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Eu=new WeakSet,h_=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(WS,"")},p_=function(){if(this.editorDiv.replaceChildren(),!!f(this,Js))for(const t of f(this,Js).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},vW=function(){return f(this,Js).replaceAll(""," ")},WD=function(t){return t.replaceAll(" ","")},yW=function(t){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},U(Pn,Eu),Ee(Pn,"_freeTextDefaultContent",""),Ee(Pn,"_internalPadding",0),Ee(Pn,"_defaultColor",null),Ee(Pn,"_defaultFontSize",10),Ee(Pn,"_type","freetext"),Ee(Pn,"_editorType",At.FREETEXT);let jD=Pn;class ke{toSVGPath(){yn("Abstract method `toSVGPath` must be implemented.")}get box(){yn("Abstract getter `box` must be implemented.")}serialize(e,t){yn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,a){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}Ee(ke,"PRECISION",1e-4);var ea,Io,mv,vv,bA,mt,Oh,Hh,KC,GC,yv,wv,ud,zC,I1,F1,Kr,hw,wW,bW,CW,EW,BW,SW;const gl=class gl{constructor({x:e,y:t},r,i,s,a,o=0){U(this,Kr);U(this,ea);U(this,Io,[]);U(this,mv);U(this,vv);U(this,bA,[]);U(this,mt,new Float32Array(18));U(this,Oh);U(this,Hh);U(this,KC);U(this,GC);U(this,yv);U(this,wv);U(this,ud,[]);_(this,ea,r),_(this,wv,s*i),_(this,vv,a),f(this,mt).set([NaN,NaN,NaN,NaN,e,t],6),_(this,mv,o),_(this,GC,f(gl,zC)*i),_(this,KC,f(gl,F1)*i),_(this,yv,i),f(this,ud).push(e,t)}isEmpty(){return isNaN(f(this,mt)[8])}add({x:e,y:t}){var k;_(this,Oh,e),_(this,Hh,t);const[r,i,s,a]=f(this,ea);let[o,l,u,d]=f(this,mt).subarray(8,12);const h=e-u,g=t-d,v=Math.hypot(h,g);if(v<f(this,KC))return!1;const C=v-f(this,GC),b=C/v,B=b*h,S=b*g;let I=o,T=l;o=u,l=d,u+=B,d+=S,(k=f(this,ud))==null||k.push(e,t);const R=-S/C,M=B/C,D=R*f(this,wv),L=M*f(this,wv);return f(this,mt).set(f(this,mt).subarray(2,8),0),f(this,mt).set([u+D,d+L],4),f(this,mt).set(f(this,mt).subarray(14,18),12),f(this,mt).set([u-D,d-L],16),isNaN(f(this,mt)[6])?(f(this,bA).length===0&&(f(this,mt).set([o+D,l+L],2),f(this,bA).push(NaN,NaN,NaN,NaN,(o+D-r)/s,(l+L-i)/a),f(this,mt).set([o-D,l-L],14),f(this,Io).push(NaN,NaN,NaN,NaN,(o-D-r)/s,(l-L-i)/a)),f(this,mt).set([I,T,o,l,u,d],6),!this.isEmpty()):(f(this,mt).set([I,T,o,l,u,d],6),Math.abs(Math.atan2(T-l,I-o)-Math.atan2(S,B))<Math.PI/2?([o,l,u,d]=f(this,mt).subarray(2,6),f(this,bA).push(NaN,NaN,NaN,NaN,((o+u)/2-r)/s,((l+d)/2-i)/a),[o,l,I,T]=f(this,mt).subarray(14,18),f(this,Io).push(NaN,NaN,NaN,NaN,((I+o)/2-r)/s,((T+l)/2-i)/a),!0):([I,T,o,l,u,d]=f(this,mt).subarray(0,6),f(this,bA).push(((I+5*o)/6-r)/s,((T+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+d)/6-i)/a,((o+u)/2-r)/s,((l+d)/2-i)/a),[u,d,o,l,I,T]=f(this,mt).subarray(12,18),f(this,Io).push(((I+5*o)/6-r)/s,((T+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+d)/6-i)/a,((o+u)/2-r)/s,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,bA),t=f(this,Io);if(isNaN(f(this,mt)[6])&&!this.isEmpty())return P(this,Kr,wW).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);P(this,Kr,CW).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return P(this,Kr,bW).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,a){return new xW(e,t,r,i,s,a)}getOutlines(){var h;const e=f(this,bA),t=f(this,Io),r=f(this,mt),[i,s,a,o]=f(this,ea),l=new Float32Array((((h=f(this,ud))==null?void 0:h.length)??0)+2);for(let g=0,v=l.length-2;g<v;g+=2)l[g]=(f(this,ud)[g]-i)/a,l[g+1]=(f(this,ud)[g+1]-s)/o;if(l[l.length-2]=(f(this,Oh)-i)/a,l[l.length-1]=(f(this,Hh)-s)/o,isNaN(r[6])&&!this.isEmpty())return P(this,Kr,EW).call(this,l);const u=new Float32Array(f(this,bA).length+24+f(this,Io).length);let d=e.length;for(let g=0;g<d;g+=2){if(isNaN(e[g])){u[g]=u[g+1]=NaN;continue}u[g]=e[g],u[g+1]=e[g+1]}d=P(this,Kr,SW).call(this,u,d);for(let g=t.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(t[g+v])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[g+v],u[d+1]=t[g+v+1],d+=2}return P(this,Kr,BW).call(this,u,d),this.newFreeDrawOutline(u,l,f(this,ea),f(this,yv),f(this,mv),f(this,vv))}};ea=new WeakMap,Io=new WeakMap,mv=new WeakMap,vv=new WeakMap,bA=new WeakMap,mt=new WeakMap,Oh=new WeakMap,Hh=new WeakMap,KC=new WeakMap,GC=new WeakMap,yv=new WeakMap,wv=new WeakMap,ud=new WeakMap,zC=new WeakMap,I1=new WeakMap,F1=new WeakMap,Kr=new WeakSet,hw=function(){const e=f(this,mt).subarray(4,6),t=f(this,mt).subarray(16,18),[r,i,s,a]=f(this,ea);return[(f(this,Oh)+(e[0]-t[0])/2-r)/s,(f(this,Hh)+(e[1]-t[1])/2-i)/a,(f(this,Oh)+(t[0]-e[0])/2-r)/s,(f(this,Hh)+(t[1]-e[1])/2-i)/a]},wW=function(){const[e,t,r,i]=f(this,ea),[s,a,o,l]=P(this,Kr,hw).call(this);return`M${(f(this,mt)[2]-e)/r} ${(f(this,mt)[3]-t)/i} L${(f(this,mt)[4]-e)/r} ${(f(this,mt)[5]-t)/i} L${s} ${a} L${o} ${l} L${(f(this,mt)[16]-e)/r} ${(f(this,mt)[17]-t)/i} L${(f(this,mt)[14]-e)/r} ${(f(this,mt)[15]-t)/i} Z`},bW=function(e){const t=f(this,Io);e.push(`L${t[4]} ${t[5]} Z`)},CW=function(e){const[t,r,i,s]=f(this,ea),a=f(this,mt).subarray(4,6),o=f(this,mt).subarray(16,18),[l,u,d,h]=P(this,Kr,hw).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-r)/s} L${l} ${u} L${d} ${h} L${(o[0]-t)/i} ${(o[1]-r)/s}`)},EW=function(e){const t=f(this,mt),[r,i,s,a]=f(this,ea),[o,l,u,d]=P(this,Kr,hw).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(h,e,f(this,ea),f(this,yv),f(this,mv),f(this,vv))},BW=function(e,t){const r=f(this,Io);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},SW=function(e,t){const r=f(this,mt).subarray(4,6),i=f(this,mt).subarray(16,18),[s,a,o,l]=f(this,ea),[u,d,h,g]=P(this,Kr,hw).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,g,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],t),t+=24},U(gl,zC,8),U(gl,I1,2),U(gl,F1,f(gl,zC)+f(gl,I1));let lT=gl;var bv,Vh,$l,$C,ta,qC,pr,M1,_W;class xW extends ke{constructor(t,r,i,s,a,o){super();U(this,M1);U(this,bv);U(this,Vh,new Float32Array(4));U(this,$l);U(this,$C);U(this,ta);U(this,qC);U(this,pr);_(this,pr,t),_(this,ta,r),_(this,bv,i),_(this,qC,s),_(this,$l,a),_(this,$C,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],P(this,M1,_W).call(this,o);const[l,u,d,h]=f(this,Vh);for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-l)/d,t[g+1]=(t[g+1]-u)/h;for(let g=0,v=r.length;g<v;g+=2)r[g]=(r[g]-l)/d,r[g+1]=(r[g+1]-u)/h}toSVGPath(){const t=[`M${f(this,pr)[4]} ${f(this,pr)[5]}`];for(let r=6,i=f(this,pr).length;r<i;r+=6){if(isNaN(f(this,pr)[r])){t.push(`L${f(this,pr)[r+4]} ${f(this,pr)[r+5]}`);continue}t.push(`C${f(this,pr)[r]} ${f(this,pr)[r+1]} ${f(this,pr)[r+2]} ${f(this,pr)[r+3]} ${f(this,pr)[r+4]} ${f(this,pr)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],a){const o=i-t,l=s-r;let u,d;switch(a){case 0:u=ke._rescale(f(this,pr),t,s,o,-l),d=ke._rescale(f(this,ta),t,s,o,-l);break;case 90:u=ke._rescaleAndSwap(f(this,pr),t,r,o,l),d=ke._rescaleAndSwap(f(this,ta),t,r,o,l);break;case 180:u=ke._rescale(f(this,pr),i,r,-o,l),d=ke._rescale(f(this,ta),i,r,-o,l);break;case 270:u=ke._rescaleAndSwap(f(this,pr),i,s,-o,-l),d=ke._rescaleAndSwap(f(this,ta),i,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return f(this,Vh)}newOutliner(t,r,i,s,a,o=0){return new lT(t,r,i,s,a,o)}getNewOutline(t,r){const[i,s,a,o]=f(this,Vh),[l,u,d,h]=f(this,bv),g=a*d,v=o*h,C=i*d+l,b=s*h+u,B=this.newOutliner({x:f(this,ta)[0]*g+C,y:f(this,ta)[1]*v+b},f(this,bv),f(this,qC),t,f(this,$C),r??f(this,$l));for(let S=2;S<f(this,ta).length;S+=2)B.add({x:f(this,ta)[S]*g+C,y:f(this,ta)[S+1]*v+b});return B.getOutlines()}}bv=new WeakMap,Vh=new WeakMap,$l=new WeakMap,$C=new WeakMap,ta=new WeakMap,qC=new WeakMap,pr=new WeakMap,M1=new WeakSet,_W=function(t){const r=f(this,pr);let i=r[4],s=r[5];const a=[i,s,i,s];let o=i,l=s,u=i,d=s;const h=t?Math.max:Math.min,g=new Float32Array(4);for(let C=6,b=r.length;C<b;C+=6){const B=r[C+4],S=r[C+5];isNaN(r[C])?(Ve.pointBoundingBox(B,S,a),l>S?(o=B,l=S):l===S&&(o=h(o,B)),d<S?(u=B,d=S):d===S&&(u=h(u,B))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,Ve.bezierBoundingBox(i,s,...r.slice(C,C+6),g),Ve.rectBoundingBox(g[0],g[1],g[2],g[3],a),l>g[1]?(o=g[0],l=g[1]):l===g[1]&&(o=h(o,g[0])),d<g[3]?(u=g[2],d=g[3]):d===g[3]&&(u=h(u,g[2]))),i=B,s=S}const v=f(this,Vh);v[0]=a[0]-f(this,$l),v[1]=a[1]-f(this,$l),v[2]=a[2]-a[0]+2*f(this,$l),v[3]=a[3]-a[1]+2*f(this,$l),this.firstPoint=[o,l],this.lastPoint=[u,d]};var jC,WC,YC,cd,Fo,ss,TW,g_,IW,FW,XD;class YD{constructor(e,t=0,r=0,i=!0){U(this,ss);U(this,jC);U(this,WC);U(this,YC);U(this,cd,[]);U(this,Fo,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:b,y:B,width:S,height:I}of e){const T=Math.floor((b-t)/a)*a,R=Math.ceil((b+S+t)/a)*a,M=Math.floor((B-t)/a)*a,D=Math.ceil((B+I+t)/a)*a,L=[T,M,D,!0],H=[R,M,D,!1];f(this,cd).push(L,H),Ve.rectBoundingBox(T,M,R,D,s)}const o=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,u=s[0]-r,d=s[1]-r;let h=i?-1/0:1/0,g=1/0;const v=f(this,cd).at(i?-1:-2),C=[v[0],v[2]];for(const b of f(this,cd)){const[B,S,I,T]=b;!T&&i?S<g?(g=S,h=B):S===g&&(h=Math.max(h,B)):T&&!i&&(S<g?(g=S,h=B):S===g&&(h=Math.min(h,B))),b[0]=(B-u)/o,b[1]=(S-d)/l,b[2]=(I-d)/l}_(this,jC,new Float32Array([u,d,o,l])),_(this,WC,[h,g]),_(this,YC,C)}getOutlines(){f(this,cd).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of f(this,cd))t[3]?(e.push(...P(this,ss,XD).call(this,t)),P(this,ss,IW).call(this,t)):(P(this,ss,FW).call(this,t),e.push(...P(this,ss,XD).call(this,t)));return P(this,ss,TW).call(this,e)}}jC=new WeakMap,WC=new WeakMap,YC=new WeakMap,cd=new WeakMap,Fo=new WeakMap,ss=new WeakSet,TW=function(e){const t=[],r=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,u,d,h]=a;r.delete(a);let g=o,v=l;for(s=[o,u],i.push(s);;){let C;if(r.has(d))C=d;else if(r.has(h))C=h;else break;r.delete(C),[o,l,u,d,h]=C,g!==o&&(s.push(g,v,o,v===l?l:u),g=o),v=v===l?u:l}s.push(g,v)}return new bfe(i,f(this,jC),f(this,WC),f(this,YC))},g_=function(e){const t=f(this,Fo);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},IW=function([,e,t]){const r=P(this,ss,g_).call(this,e);f(this,Fo).splice(r,0,[e,t])},FW=function([,e,t]){const r=P(this,ss,g_).call(this,e);for(let i=r;i<f(this,Fo).length;i++){const[s,a]=f(this,Fo)[i];if(s!==e)break;if(s===e&&a===t){f(this,Fo).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=f(this,Fo)[i];if(s!==e)break;if(s===e&&a===t){f(this,Fo).splice(i,1);return}}},XD=function(e){const[t,r,i]=e,s=[[t,r,i]],a=P(this,ss,g_).call(this,i);for(let o=0;o<a;o++){const[l,u]=f(this,Fo)[o];for(let d=0,h=s.length;d<h;d++){const[,g,v]=s[d];if(!(u<=g||v<=l)){if(g>=l){if(v>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,v>u&&s.push([t,u,v])}}}return s};var XC,Cv;class bfe extends ke{constructor(t,r,i,s){super();U(this,XC);U(this,Cv);_(this,Cv,t),_(this,XC,r),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const t=[];for(const r of f(this,Cv)){let[i,s]=r;t.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],a){const o=[],l=i-t,u=s-r;for(const d of f(this,Cv)){const h=new Array(d.length);for(let g=0;g<d.length;g+=2)h[g]=t+d[g]*l,h[g+1]=s-d[g+1]*u;o.push(h)}return o}get box(){return f(this,XC)}get classNamesForOutlining(){return["highlightOutline"]}}XC=new WeakMap,Cv=new WeakMap;class JD extends lT{newFreeDrawOutline(e,t,r,i,s,a){return new Cfe(e,t,r,i,s,a)}}class Cfe extends xW{newOutliner(e,t,r,i,s,a=0){return new JD(e,t,r,i,s,a)}}var Ev,JC,ql,Kh,ZC,bs,eE,tE,Gh,na,ra,vi,Bv,Sv,ki,xv,Wa,nE,ft,ZD,m_,MW,UW,PW,eN,Ff,no,Lg,RW,v_,y_,DW,NW,LW,QW,kW;const Ht=class Ht extends Fn{constructor(t){super({...t,name:"highlightEditor"});U(this,ft);U(this,Ev,null);U(this,JC,0);U(this,ql);U(this,Kh,null);U(this,ZC,null);U(this,bs,null);U(this,eE,null);U(this,tE,0);U(this,Gh,null);U(this,na,null);U(this,ra,null);U(this,vi,!1);U(this,Bv,null);U(this,Sv,null);U(this,ki,null);U(this,xv,"");U(this,Wa);U(this,nE,"");this.color=t.color||Ht._defaultColor,_(this,Wa,t.thickness||Ht._defaultThickness),this.opacity=t.opacity||Ht._defaultOpacity,_(this,ql,t.boxes||null),_(this,nE,t.methodOfCreation||""),_(this,xv,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(_(this,vi,!0),P(this,ft,m_).call(this,t),P(this,ft,Ff).call(this)):f(this,ql)&&(_(this,Ev,t.anchorNode),_(this,JC,t.anchorOffset),_(this,eE,t.focusNode),_(this,tE,t.focusOffset),P(this,ft,ZD).call(this),P(this,ft,Ff).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ht.prototype;return at(this,"_keyboardManager",new JE([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,vi)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:f(this,Wa),methodOfCreation:f(this,nE)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Fn.initialize(t,r),Ht._defaultColor||(Ht._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case _t.HIGHLIGHT_COLOR:Ht._defaultColor=r;break;case _t.HIGHLIGHT_THICKNESS:Ht._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return f(this,Sv)}get commentButtonPosition(){return f(this,Bv)}updateParams(t,r){switch(t){case _t.HIGHLIGHT_COLOR:P(this,ft,MW).call(this,r);break;case _t.HIGHLIGHT_THICKNESS:P(this,ft,UW).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[_t.HIGHLIGHT_COLOR,Ht._defaultColor],[_t.HIGHLIGHT_THICKNESS,Ht._defaultThickness]]}get propertiesToUpdate(){return[[_t.HIGHLIGHT_COLOR,this.color||Ht._defaultColor],[_t.HIGHLIGHT_THICKNESS,f(this,Wa)||Ht._defaultThickness],[_t.HIGHLIGHT_FREE,f(this,vi)]]}onUpdatedColor(){var t,r;(t=this.parent)==null||t.drawLayer.updateProperties(f(this,ra),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=f(this,ZC))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",_(this,ZC,new nW({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(P(this,ft,y_).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,P(this,ft,y_).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){P(this,ft,eN).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,ft,Ff).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?P(this,ft,eN).call(this):t&&(P(this,ft,Ff).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,a,o;const{drawLayer:r}=this.parent;let i;f(this,vi)?(t=(t-this.rotation+360)%360,i=P(s=Ht,no,Lg).call(s,f(this,na).box,t)):i=P(a=Ht,no,Lg).call(a,[this.x,this.y,this.width,this.height],t),r.updateProperties(f(this,ra),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(f(this,ki),{bbox:P(o=Ht,no,Lg).call(o,f(this,bs).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();f(this,xv)&&(t.setAttribute("aria-label",f(this,xv)),t.setAttribute("role","mark")),f(this,vi)?t.classList.add("free"):this.div.addEventListener("keydown",P(this,ft,RW).bind(this),{signal:this._uiManager._signal});const r=_(this,Gh,document.createElement("div"));return t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=f(this,Kh),this.setDims(),rj(this,f(this,Gh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,ki),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,ki),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:P(this,ft,v_).call(this,!0);break;case 1:case 3:P(this,ft,v_).call(this,!1);break}}select(){var t;super.select(),f(this,ki)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,ki),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),f(this,ki)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,ki),{rootClass:{selected:!1}}),f(this,vi)||P(this,ft,v_).call(this,!1))}get _mustFixPosition(){return!f(this,vi)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(f(this,ra),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(f(this,ki),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:a}){const{x:o,y:l,width:u,height:d}=i.getBoundingClientRect(),h=new AbortController,g=t.combinedSignal(h),v=C=>{h.abort(),P(this,no,QW).call(this,t,C)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",or,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",lo,{signal:g}),i.addEventListener("pointermove",P(this,no,LW).bind(this,t),{signal:g}),this._freeHighlight=new JD({x:s,y:a},[o,l,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var b,B,S,I;let s=null;if(t instanceof fW){const{data:{quadPoints:T,rect:R,rotation:M,id:D,color:L,opacity:H,popupRef:k,richText:G,contentsObj:K,creationDate:z,modificationDate:J},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:At.HIGHLIGHT,color:Array.from(L),opacity:H,quadPoints:T,boxes:null,pageIndex:ne-1,rect:R.slice(0),rotation:M,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:G,comment:(K==null?void 0:K.str)||null,creationDate:z,modificationDate:J}}else if(t instanceof YQ){const{data:{inkLists:T,rect:R,rotation:M,id:D,color:L,borderStyle:{rawWidth:H},popupRef:k,richText:G,contentsObj:K,creationDate:z,modificationDate:J},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:At.HIGHLIGHT,color:Array.from(L),thickness:H,inkLists:T,boxes:null,pageIndex:ne-1,rect:R.slice(0),rotation:M,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:G,comment:(K==null?void 0:K.str)||null,creationDate:z,modificationDate:J}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=t,d=await super.deserialize(t,r,i);d.color=Ve.makeHexColor(...a),d.opacity=u||1,l&&_(d,Wa,t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,g]=d.pageDimensions,[v,C]=d.pageTranslation;if(o){const T=_(d,ql,[]);for(let R=0;R<o.length;R+=8)T.push({x:(o[R]-v)/h,y:1-(o[R+1]-C)/g,width:(o[R+2]-o[R])/h,height:(o[R+1]-o[R+5])/g});P(b=d,ft,ZD).call(b),P(B=d,ft,Ff).call(B),d.rotate(d.rotation)}else if(l){_(d,vi,!0);const T=l[0],R={x:T[0]-v,y:g-(T[1]-C)},M=new JD(R,[0,0,h,g],1,f(d,Wa)/2,!0,.001);for(let H=0,k=T.length;H<k;H+=2)R.x=T[H]-v,R.y=g-(T[H+1]-C),M.add(R);const{id:D,clipPathId:L}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:M.toSVGPath()}},!0,!0);P(S=d,ft,m_).call(S,{highlightOutlines:M.getOutlines(),highlightId:D,clipPathId:L}),P(I=d,ft,Ff).call(I),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=Fn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:r,opacity:this.opacity,thickness:f(this,Wa),quadPoints:P(this,ft,DW).call(this),outlines:P(this,ft,NW).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!P(this,ft,kW).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Ev=new WeakMap,JC=new WeakMap,ql=new WeakMap,Kh=new WeakMap,ZC=new WeakMap,bs=new WeakMap,eE=new WeakMap,tE=new WeakMap,Gh=new WeakMap,na=new WeakMap,ra=new WeakMap,vi=new WeakMap,Bv=new WeakMap,Sv=new WeakMap,ki=new WeakMap,xv=new WeakMap,Wa=new WeakMap,nE=new WeakMap,ft=new WeakSet,ZD=function(){const t=new YD(f(this,ql),.001);_(this,na,t.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,na).box;const r=new YD(f(this,ql),.0025,.001,this._uiManager.direction==="ltr");_(this,bs,r.getOutlines());const{firstPoint:i}=f(this,na);_(this,Bv,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=f(this,bs);_(this,Sv,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},m_=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var g,v;if(_(this,na,t),_(this,bs,t.getNewOutline(f(this,Wa)/2+1.5,.0025)),r>=0)_(this,ra,r),_(this,Kh,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),_(this,ki,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,bs).box,path:{d:f(this,bs).toSVGPath()}},!0));else if(this.parent){const C=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,ra),{bbox:P(g=Ht,no,Lg).call(g,f(this,na).box,(C-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,ki),{bbox:P(v=Ht,no,Lg).call(v,f(this,bs).box,C),path:{d:f(this,bs).toSVGPath()}})}const[a,o,l,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[C,b]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*b/C,this.height=u*C/b;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[C,b]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*b/C,this.height=u*C/b;break}}const{firstPoint:d}=t;_(this,Bv,[(d[0]-a)/l,(d[1]-o)/u]);const{lastPoint:h}=f(this,bs);_(this,Sv,[(h[0]-a)/l,(h[1]-o)/u])},MW=function(t){const r=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:r.bind(this,t,Ht._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},UW=function(t){const r=f(this,Wa),i=s=>{_(this,Wa,s),P(this,ft,PW).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},PW=function(t){f(this,vi)&&(P(this,ft,m_).call(this,{highlightOutlines:f(this,na).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},eN=function(){f(this,ra)===null||!this.parent||(this.parent.drawLayer.remove(f(this,ra)),_(this,ra,null),this.parent.drawLayer.remove(f(this,ki)),_(this,ki,null))},Ff=function(t=this.parent){f(this,ra)===null&&({id:cr(this,ra)._,clipPathId:cr(this,Kh)._}=t.drawLayer.draw({bbox:f(this,na).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:f(this,vi)},path:{d:f(this,na).toSVGPath()}},!1,!0),_(this,ki,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,vi)},bbox:f(this,bs).box,path:{d:f(this,bs).toSVGPath()}},f(this,vi))),f(this,Gh)&&(f(this,Gh).style.clipPath=f(this,Kh)))},no=new WeakSet,Lg=function([t,r,i,s],a){switch(a){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},RW=function(t){Ht._keyboardManager.exec(this,t)},v_=function(t){if(!f(this,Ev))return;const r=window.getSelection();t?r.setPosition(f(this,Ev),f(this,JC)):r.setPosition(f(this,eE),f(this,tE))},y_=function(){return f(this,vi)?this.rotation:0},DW=function(){if(f(this,vi))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=f(this,ql),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:d,width:h,height:g}of a){const v=u*t+i,C=(1-d)*r+s;o[l]=o[l+4]=v,o[l+1]=o[l+3]=C,o[l+2]=o[l+6]=v+h*t,o[l+5]=o[l+7]=C-g*r,l+=8}return o},NW=function(t){return f(this,na).serialize(t,P(this,ft,y_).call(this))},LW=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},QW=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},kW=function(t){const{color:r}=this._initialData;return this.hasEditedComment||t.color.some((i,s)=>i!==r[s])},U(Ht,no),Ee(Ht,"_defaultColor",null),Ee(Ht,"_defaultOpacity",1),Ee(Ht,"_defaultThickness",12),Ee(Ht,"_type","highlight"),Ee(Ht,"_editorType",At.HIGHLIGHT),Ee(Ht,"_freeHighlightId",-1),Ee(Ht,"_freeHighlight",null),Ee(Ht,"_freeHighlightClipId","");let uT=Ht;var zh;class OW{constructor(){U(this,zh,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){f(this,zh)[e]=t}toSVGProperties(){const e=f(this,zh);return _(this,zh,Object.create(null)),{root:e}}reset(){_(this,zh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){yn("Not implemented")}}zh=new WeakMap;var ia,_v,ei,$h,qh,Pt,tN,nN,rN,pw,HW,w_,gw,Qg;const Et=class Et extends Fn{constructor(t){super(t);U(this,Pt);U(this,ia,null);U(this,_v);Ee(this,"_colorPicker",null);Ee(this,"_drawId",null);_(this,_v,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(P(this,Pt,tN).call(this,t),P(this,Pt,pw).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){yn("Not implemented")}static get typesMap(){yn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(f(Et,ei).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,a=s[r],o=l=>{var d;s.updateProperty(r,l);const u=f(this,ia).updateProperty(r,l);u&&P(this,Pt,gw).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Et._mergeSVGProperties(f(this,ia).getPathResizingSVGProperties(P(this,Pt,w_).call(this)),{bbox:P(this,Pt,Qg).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Et._mergeSVGProperties(f(this,ia).getPathResizedSVGProperties(P(this,Pt,w_).call(this)),{bbox:P(this,Pt,Qg).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:P(this,Pt,Qg).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Et._mergeSVGProperties(f(this,ia).getPathTranslatedSVGProperties(P(this,Pt,w_).call(this),this.parentDimensions),{bbox:P(this,Pt,Qg).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,_v)&&(_(this,_v,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){P(this,Pt,rN).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,Pt,pw).call(this),P(this,Pt,gw).call(this,f(this,ia).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),P(this,Pt,rN).call(this)):t&&(this._uiManager.addShouldRescale(this),P(this,Pt,pw).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Et._mergeSVGProperties({bbox:P(this,Pt,Qg).call(this)},f(this,ia).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&P(this,Pt,gw).call(this,f(this,ia).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),i}static createDrawerInstance(t,r,i,s,a){yn("Not implemented")}static startDrawing(t,r,i,s){var B;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:d}=s;if(Ri.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=t,{width:g,height:v}=a.getBoundingClientRect(),C=_(Et,$h,new AbortController),b=t.combinedSignal(C);if(Ri.setPointer(d,u),window.addEventListener("pointerup",S=>{Ri.isSamePointerIdOrRemove(S.pointerId)&&this._endDraw(S)},{signal:b}),window.addEventListener("pointercancel",S=>{Ri.isSamePointerIdOrRemove(S.pointerId)&&this._currentParent.endDrawingSession()},{signal:b}),window.addEventListener("pointerdown",S=>{Ri.isSamePointerType(S.pointerType)&&(Ri.initializeAndAddPointerId(S.pointerId),f(Et,ei).isCancellable()&&(f(Et,ei).removeLastElement(),f(Et,ei).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",lo,{signal:b}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),a.addEventListener("touchmove",S=>{Ri.isSameTimeStamp(S.timeStamp)&&or(S)},{signal:b}),t.toggleDrawing(),(B=r._editorUndoBar)==null||B.hide(),f(Et,ei)){t.drawLayer.updateProperties(this._currentDrawId,f(Et,ei).startNew(o,l,g,v,h));return}r.updateUIForDefaultProperties(this),_(Et,ei,this.createDrawerInstance(o,l,g,v,h)),_(Et,qh,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(f(Et,qh).toSVGProperties(),f(Et,ei).defaultSVGProperties),!0,!1)}static _drawMove(t){if(Ri.isSameTimeStamp(t.timeStamp),!f(Et,ei))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(Ri.isSamePointerId(s)){if(Ri.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(Et,ei).add(r,i)),Ri.setTimeStamp(t.timeStamp),or(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,_(Et,ei,null),_(Et,qh,null),Ri.clearPointerType(),Ri.clearTimeStamp()),f(Et,$h)&&(f(Et,$h).abort(),_(Et,$h,null),Ri.clearPointerIds())}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,f(Et,ei).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=f(Et,ei),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:_t.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(_t.DRAW_STEP),!f(Et,ei).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(Et,ei).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:f(Et,qh),mustBeCommitted:!t});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,a,o){yn("Not implemented")}static async deserialize(t,r,i){var h,g;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=r.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),d=await super.deserialize(t,r,i);return d.createDrawingOptions(t),P(h=d,Pt,tN).call(h,{drawOutlines:u}),P(g=d,Pt,pw).call(g),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return f(this,ia).serialize([r,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};ia=new WeakMap,_v=new WeakMap,ei=new WeakMap,$h=new WeakMap,qh=new WeakMap,Pt=new WeakSet,tN=function({drawOutlines:t,drawId:r,drawingOptions:i}){_(this,ia,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=P(this,Pt,nN).call(this,t,this.parent),P(this,Pt,gw).call(this,t.box)},nN=function(t,r){const{id:i}=r.drawLayer.draw(Et._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},rN=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},pw=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=P(this,Pt,nN).call(this,f(this,ia),t)}},HW=function([t,r,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[r,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},w_=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-r,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},gw=function(t){[this.x,this.y,this.width,this.height]=P(this,Pt,HW).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Qg=function(){const{x:t,y:r,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(l/u),s*(u/l),i*(l/u)];case 5:return[1-r,t,i*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-r,s*(u/l),i*(l/u)];case 7:return[r-i*(l/u),1-t-s*(u/l),i*(l/u),s*(u/l)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(u/l),r,s*(u/l),i*(l/u)];case 13:return[1-r-i*(l/u),t-s*(u/l),i*(l/u),s*(u/l)];case 14:return[1-t,1-r-i*(l/u),s*(u/l),i*(l/u)];case 15:return[r,1-t,i*(l/u),s*(u/l)];default:return[t,r,i,s]}},Ee(Et,"_currentDrawId",-1),Ee(Et,"_currentParent",null),U(Et,ei,null),U(Et,$h,null),U(Et,qh,null),Ee(Et,"_INNER_MARGIN",3);let cT=Et;var CA,ti,ni,jh,Tv,Wi,yi,Ya,Wh,Yh,Xh,Iv,b_;class Efe{constructor(e,t,r,i,s,a){U(this,Iv);U(this,CA,new Float64Array(6));U(this,ti);U(this,ni);U(this,jh);U(this,Tv);U(this,Wi);U(this,yi,"");U(this,Ya,0);U(this,Wh,new eB);U(this,Yh);U(this,Xh);_(this,Yh,r),_(this,Xh,i),_(this,jh,s),_(this,Tv,a),[e,t]=P(this,Iv,b_).call(this,e,t);const o=_(this,ti,[NaN,NaN,NaN,NaN,e,t]);_(this,Wi,[e,t]),_(this,ni,[{line:o,points:f(this,Wi)}]),f(this,CA).set(o,0)}updateProperty(e,t){e==="stroke-width"&&_(this,Tv,t)}isEmpty(){return!f(this,ni)||f(this,ni).length===0}isCancellable(){return f(this,Wi).length<=10}add(e,t){[e,t]=P(this,Iv,b_).call(this,e,t);const[r,i,s,a]=f(this,CA).subarray(2,6),o=e-s,l=t-a;return Math.hypot(f(this,Yh)*o,f(this,Xh)*l)<=2?null:(f(this,Wi).push(e,t),isNaN(r)?(f(this,CA).set([s,a,e,t],2),f(this,ti).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(f(this,CA)[0])&&f(this,ti).splice(6,6),f(this,CA).set([r,i,s,a,e,t],0),f(this,ti).push(...ke.createBezierPoints(r,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(f(this,Wi).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){_(this,Yh,r),_(this,Xh,i),_(this,jh,s),[e,t]=P(this,Iv,b_).call(this,e,t);const a=_(this,ti,[NaN,NaN,NaN,NaN,e,t]);_(this,Wi,[e,t]);const o=f(this,ni).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),f(this,ni).push({line:a,points:f(this,Wi)}),f(this,CA).set(a,0),_(this,Ya,0),this.toSVGPath(),null}getLastElement(){return f(this,ni).at(-1)}setLastElement(e){return f(this,ni)?(f(this,ni).push(e),_(this,ti,e.line),_(this,Wi,e.points),_(this,Ya,0),{path:{d:this.toSVGPath()}}):f(this,Wh).setLastElement(e)}removeLastElement(){if(!f(this,ni))return f(this,Wh).removeLastElement();f(this,ni).pop(),_(this,yi,"");for(let e=0,t=f(this,ni).length;e<t;e++){const{line:r,points:i}=f(this,ni)[e];_(this,ti,r),_(this,Wi,i),_(this,Ya,0),this.toSVGPath()}return{path:{d:f(this,yi)}}}toSVGPath(){const e=ke.svgRound(f(this,ti)[4]),t=ke.svgRound(f(this,ti)[5]);if(f(this,Wi).length===2)return _(this,yi,`${f(this,yi)} M ${e} ${t} Z`),f(this,yi);if(f(this,Wi).length<=6){const i=f(this,yi).lastIndexOf("M");_(this,yi,`${f(this,yi).slice(0,i)} M ${e} ${t}`),_(this,Ya,6)}if(f(this,Wi).length===4){const i=ke.svgRound(f(this,ti)[10]),s=ke.svgRound(f(this,ti)[11]);return _(this,yi,`${f(this,yi)} L ${i} ${s}`),_(this,Ya,12),f(this,yi)}const r=[];f(this,Ya)===0&&(r.push(`M ${e} ${t}`),_(this,Ya,6));for(let i=f(this,Ya),s=f(this,ti).length;i<s;i+=6){const[a,o,l,u,d,h]=f(this,ti).slice(i,i+6).map(ke.svgRound);r.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}return _(this,yi,f(this,yi)+r.join(" ")),_(this,Ya,f(this,ti).length),f(this,yi)}getOutlines(e,t,r,i){const s=f(this,ni).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),f(this,Wh).build(f(this,ni),e,t,r,f(this,jh),f(this,Tv),i),_(this,CA,null),_(this,ti,null),_(this,ni,null),_(this,yi,null),f(this,Wh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}CA=new WeakMap,ti=new WeakMap,ni=new WeakMap,jh=new WeakMap,Tv=new WeakMap,Wi=new WeakMap,yi=new WeakMap,Ya=new WeakMap,Wh=new WeakMap,Yh=new WeakMap,Xh=new WeakMap,Iv=new WeakSet,b_=function(e,t){return ke._normalizePoint(e,t,f(this,Yh),f(this,Xh),f(this,jh))};var Yi,rE,iE,sa,EA,BA,Fv,Mv,Jh,Si,fl,VW,KW,GW;class eB extends ke{constructor(){super(...arguments);U(this,Si);U(this,Yi);U(this,rE,0);U(this,iE);U(this,sa);U(this,EA);U(this,BA);U(this,Fv);U(this,Mv);U(this,Jh)}build(t,r,i,s,a,o,l){_(this,EA,r),_(this,BA,i),_(this,Fv,s),_(this,Mv,a),_(this,Jh,o),_(this,iE,l??0),_(this,sa,t),P(this,Si,KW).call(this)}get thickness(){return f(this,Jh)}setLastElement(t){return f(this,sa).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,sa).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of f(this,sa)){if(t.push(`M${ke.svgRound(r[4])} ${ke.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${ke.svgRound(r[10])} ${ke.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,o,l,u,d,h]=r.subarray(i,i+6).map(ke.svgRound);t.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,r,i,s],a){const o=[],l=[],[u,d,h,g]=P(this,Si,VW).call(this);let v,C,b,B,S,I,T,R,M;switch(f(this,Mv)){case 0:M=ke._rescale,v=t,C=r+s,b=i,B=-s,S=t+u*i,I=r+(1-d-g)*s,T=t+(u+h)*i,R=r+(1-d)*s;break;case 90:M=ke._rescaleAndSwap,v=t,C=r,b=i,B=s,S=t+d*i,I=r+u*s,T=t+(d+g)*i,R=r+(u+h)*s;break;case 180:M=ke._rescale,v=t+i,C=r,b=-i,B=s,S=t+(1-u-h)*i,I=r+d*s,T=t+(1-u)*i,R=r+(d+g)*s;break;case 270:M=ke._rescaleAndSwap,v=t+i,C=r+s,b=-i,B=-s,S=t+(1-d-g)*i,I=r+(1-u-h)*s,T=t+(1-d)*i,R=r+(1-u)*s;break}for(const{line:D,points:L}of f(this,sa))o.push(M(D,v,C,b,B,a?new Array(D.length):null)),l.push(M(L,v,C,b,B,a?new Array(L.length):null));return{lines:o,points:l,rect:[S,I,T,R]}}static deserialize(t,r,i,s,a,{paths:{lines:o,points:l},rotation:u,thickness:d}){const h=[];let g,v,C,b,B;switch(u){case 0:B=ke._rescale,g=-t/i,v=r/s+1,C=1/i,b=-1/s;break;case 90:B=ke._rescaleAndSwap,g=-r/s,v=-t/i,C=1/s,b=1/i;break;case 180:B=ke._rescale,g=t/i+1,v=-r/s,C=-1/i,b=1/s;break;case 270:B=ke._rescaleAndSwap,g=r/s+1,v=t/i+1,C=-1/s,b=-1/i;break}if(!o){o=[];for(const I of l){const T=I.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1],NaN,NaN,NaN,NaN,I[2],I[3]]));continue}const R=new Float32Array(3*(T-2));o.push(R);let[M,D,L,H]=I.subarray(0,4);R.set([NaN,NaN,NaN,NaN,M,D],0);for(let k=4;k<T;k+=2){const G=I[k],K=I[k+1];R.set(ke.createBezierPoints(M,D,L,H,G,K),(k-2)*3),[M,D,L,H]=[L,H,G,K]}}}for(let I=0,T=o.length;I<T;I++)h.push({line:B(o[I].map(R=>R??NaN),g,v,C,b),points:B(l[I].map(R=>R??NaN),g,v,C,b)});const S=new this.prototype.constructor;return S.build(h,i,s,1,u,d,a),S}get box(){return f(this,Yi)}updateProperty(t,r){return t==="stroke-width"?P(this,Si,GW).call(this,r):null}updateParentDimensions([t,r],i){const[s,a]=P(this,Si,fl).call(this);_(this,EA,t),_(this,BA,r),_(this,Fv,i);const[o,l]=P(this,Si,fl).call(this),u=o-s,d=l-a,h=f(this,Yi);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return _(this,rE,t),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,Yi).map(ke.svgRound).join(" ")}get defaultProperties(){const[t,r]=f(this,Yi);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=f(this,Yi);let i=0,s=0,a=0,o=0,l=0,u=0;switch(f(this,rE)){case 90:s=r/t,a=-t/r,l=t;break;case 180:i=-1,o=-1,l=t,u=r;break;case 270:s=-r/t,a=t/r,u=r;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${ke.svgRound(l)} ${ke.svgRound(u)})`}getPathResizingSVGProperties([t,r,i,s]){const[a,o]=P(this,Si,fl).call(this),[l,u,d,h]=f(this,Yi);if(Math.abs(d-a)<=ke.PRECISION||Math.abs(h-o)<=ke.PRECISION){const B=t+i/2-(l+d/2),S=r+s/2-(u+h/2);return{path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`,transform:`${this.rotationTransform} translate(${B} ${S})`}}}const g=(i-2*a)/(d-2*a),v=(s-2*o)/(h-2*o),C=d/i,b=h/s;return{path:{"transform-origin":`${ke.svgRound(l)} ${ke.svgRound(u)}`,transform:`${this.rotationTransform} scale(${C} ${b}) translate(${ke.svgRound(a)} ${ke.svgRound(o)}) scale(${g} ${v}) translate(${ke.svgRound(-a)} ${ke.svgRound(-o)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[a,o]=P(this,Si,fl).call(this),l=f(this,Yi),[u,d,h,g]=l;if(l[0]=t,l[1]=r,l[2]=i,l[3]=s,Math.abs(h-a)<=ke.PRECISION||Math.abs(g-o)<=ke.PRECISION){const S=t+i/2-(u+h/2),I=r+s/2-(d+g/2);for(const{line:T,points:R}of f(this,sa))ke._translate(T,S,I,T),ke._translate(R,S,I,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*a)/(h-2*a),C=(s-2*o)/(g-2*o),b=-v*(u+a)+t+a,B=-C*(d+o)+r+o;if(v!==1||C!==1||b!==0||B!==0)for(const{line:S,points:I}of f(this,sa))ke._rescale(S,b,B,v,C,S),ke._rescale(I,b,B,v,C,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,a]=i,o=f(this,Yi),l=t-o[0],u=r-o[1];if(f(this,EA)===s&&f(this,BA)===a)for(const{line:d,points:h}of f(this,sa))ke._translate(d,l,u,d),ke._translate(h,l,u,h);else{const d=f(this,EA)/s,h=f(this,BA)/a;_(this,EA,s),_(this,BA,a);for(const{line:g,points:v}of f(this,sa))ke._rescale(g,l,u,d,h,g),ke._rescale(v,l,u,d,h,v);o[2]*=d,o[3]*=h}return o[0]=t,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`}}}get defaultSVGProperties(){const t=f(this,Yi);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ke.svgRound(t[0])} ${ke.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Yi=new WeakMap,rE=new WeakMap,iE=new WeakMap,sa=new WeakMap,EA=new WeakMap,BA=new WeakMap,Fv=new WeakMap,Mv=new WeakMap,Jh=new WeakMap,Si=new WeakSet,fl=function(t=f(this,Jh)){const r=f(this,iE)+t/2*f(this,Fv);return f(this,Mv)%180===0?[r/f(this,EA),r/f(this,BA)]:[r/f(this,BA),r/f(this,EA)]},VW=function(){const[t,r,i,s]=f(this,Yi),[a,o]=P(this,Si,fl).call(this,0);return[t+a,r+o,i-2*a,s-2*o]},KW=function(){const t=_(this,Yi,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of f(this,sa)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6)Ve.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[d,h,g,v,C,b]=s.subarray(l,l+6);Ve.bezierBoundingBox(a,o,d,h,g,v,C,b,t),a=C,o=b}}const[r,i]=P(this,Si,fl).call(this);t[0]=ts(t[0]-r,0,1),t[1]=ts(t[1]-i,0,1),t[2]=ts(t[2]+r,0,1),t[3]=ts(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},GW=function(t){const[r,i]=P(this,Si,fl).call(this);_(this,Jh,t);const[s,a]=P(this,Si,fl).call(this),[o,l]=[s-r,a-i],u=f(this,Yi);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};class W1 extends OW{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Fn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new W1(this._viewParameters);return e.updateAll(this),e}}var U1,zW;const Zg=class Zg extends cT{constructor(t){super({...t,name:"inkEditor"});U(this,U1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){Fn.initialize(t,r),this._defaultDrawingOptions=new W1(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return at(this,"typesMap",new Map([[_t.INK_THICKNESS,"stroke-width"],[_t.INK_COLOR,"stroke"],[_t.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,a){return new Efe(t,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,a,o){return eB.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){let s=null;if(t instanceof YQ){const{data:{inkLists:o,rect:l,rotation:u,id:d,color:h,opacity:g,borderStyle:{rawWidth:v},popupRef:C,richText:b,contentsObj:B,creationDate:S,modificationDate:I},parent:{page:{pageNumber:T}}}=t;s=t={annotationType:At.INK,color:Array.from(h),thickness:v,opacity:g,paths:{points:o},boxes:null,pageIndex:T-1,rect:l.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:C,richText:b,comment:(B==null?void 0:B.str)||null,creationDate:S,modificationDate:I}}const a=await super.deserialize(t,r,i);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new oT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return _t.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=Zg.getDefaultDrawingOptions({stroke:Ve.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:Fn._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:r,points:i}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!P(this,U1,zW).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};U1=new WeakSet,zW=function(t){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==r[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},Ee(Zg,"_type","ink"),Ee(Zg,"_editorType",At.INK),Ee(Zg,"_defaultDrawingOptions",null);let iN=Zg;class sN extends eB{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const YS=8,N0=3;var X0,Zh,Gt,aN,Mo,$W,qW,oN,C_,jW,WW,YW,AN,lN,XW;let kg=(X0=class{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,a,o,l){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,g=d.font=`${r} ${i} ${h}px ${t}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:C,actualBoundingBoxAscent:b,actualBoundingBoxDescent:B,fontBoundingBoxAscent:S,fontBoundingBoxDescent:I,width:T}=d.measureText(e),R=1.5,M=Math.ceil(Math.max(Math.abs(v)+Math.abs(C)||0,T)*R),D=Math.ceil(Math.max(Math.abs(b)+Math.abs(B)||h,Math.abs(S)+Math.abs(I)||h)*R);u=new OffscreenCanvas(M,D),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,M,D),d.fillStyle="black",d.fillText(e,M*(R-1)/2,D*(3-R)/2);const L=P(this,Gt,AN).call(this,d.getImageData(0,0,M,D).data),H=P(this,Gt,YW).call(this,L),k=P(this,Gt,lN).call(this,H),G=P(this,Gt,oN).call(this,L,M,D,k);return this.processDrawnLines({lines:{curves:G,width:M,height:D},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[a,o,l]=P(this,Gt,XW).call(this,e),[u,d]=P(this,Gt,WW).call(this,a,o,l,Math.hypot(o,l)*f(this,Zh).sigmaSFactor,f(this,Zh).sigmaR,f(this,Zh).kernelSize),h=P(this,Gt,lN).call(this,d),g=P(this,Gt,oN).call(this,u,o,l,h);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([t,r]=[r,t]);const{curves:l,width:u,height:d}=e,h=e.thickness??0,g=[],v=Math.min(t/u,r/d),C=v/t,b=v/r,B=[];for(const{points:I}of l){const T=a?P(this,Gt,jW).call(this,I):I;if(!T)continue;B.push(T);const R=T.length,M=new Float32Array(R),D=new Float32Array(3*(R===2?2:R-2));if(g.push({line:D,points:M}),R===2){M[0]=T[0]*C,M[1]=T[1]*b,D.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[L,H,k,G]=T;L*=C,H*=b,k*=C,G*=b,M.set([L,H,k,G],0),D.set([NaN,NaN,NaN,NaN,L,H],0);for(let K=4;K<R;K+=2){const z=M[K]=T[K]*C,J=M[K+1]=T[K+1]*b;D.set(ke.createBezierPoints(L,H,k,G,z,J),(K-2)*3),[L,H,k,G]=[k,G,z,J]}}if(g.length===0)return null;const S=o?new sN:new eB;return S.build(g,t,r,1,i,o?0:h,s),{outline:S,newCurves:B,areContours:o,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const T of e){l+=T.length;for(let R=2,M=T.length;R<M;R++){const D=T[R]-T[R-2];a=Math.min(a,D),o=Math.max(o,D)}}let u;a>=-128&&o<=127?u=Int8Array:a>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=YS+N0*d,g=new Uint32Array(h);let v=0;g[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*u.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=i,g[v++]=s,g[v++]=t?0:1,g[v++]=Math.max(0,Math.floor(r??0)),g[v++]=d,g[v++]=u.BYTES_PER_ELEMENT;for(const T of e)g[v++]=T.length-2,g[v++]=T[0],g[v++]=T[1];const C=new CompressionStream("deflate-raw"),b=C.writable.getWriter();await b.ready,b.write(g);const B=u.prototype.constructor;for(const T of e){const R=new B(T.length-2);for(let M=2,D=T.length;M<D;M++)R[M-2]=T[M]-T[M-2];b.write(R)}b.close();const S=await new Response(C.readable).arrayBuffer(),I=new Uint8Array(S);return j6(I)}static async decompressSignature(e){try{const t=kce(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const T of r)a||(a=new Uint8Array(new Uint32Array(T.buffer,0,4)[0])),a.set(T,o),o+=T.length;const l=new Uint32Array(a.buffer,0,a.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=l[2],h=l[3],g=l[4]===0,v=l[5],C=l[6],b=l[7],B=[],S=(YS+N0*C)*Uint32Array.BYTES_PER_ELEMENT;let I;switch(b){case Int8Array.BYTES_PER_ELEMENT:I=new Int8Array(a.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:I=new Int16Array(a.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:I=new Int32Array(a.buffer,S);break}o=0;for(let T=0;T<C;T++){const R=l[N0*T+YS],M=new Float32Array(R+2);B.push(M);for(let D=0;D<N0-1;D++)M[D]=l[N0*T+YS+D+1];for(let D=0;D<R;D++)M[D+2]=M[D]+I[o++]}return{areContours:g,thickness:v,outlines:B,width:d,height:h}}catch(t){return st(`decompressSignature: ${t}`),null}}},Zh=new WeakMap,Gt=new WeakSet,aN=function(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i},Mo=new WeakMap,$W=function(e,t,r,i,s,a,o){const l=P(this,Gt,aN).call(this,r,i,s,a);for(let u=0;u<8;u++){const d=(-u+l-o+16)%8,h=f(this,Mo)[2*d],g=f(this,Mo)[2*d+1];if(e[(r+h)*t+(i+g)]!==0)return d}return-1},qW=function(e,t,r,i,s,a,o){const l=P(this,Gt,aN).call(this,r,i,s,a);for(let u=0;u<8;u++){const d=(u+l+o+16)%8,h=f(this,Mo)[2*d],g=f(this,Mo)[2*d+1];if(e[(r+h)*t+(i+g)]!==0)return d}return-1},oN=function(e,t,r,i){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=i?1:0;for(let d=1;d<r-1;d++)a[d*t]=a[d*t+t-1]=0;for(let d=0;d<t;d++)a[d]=a[t*r-1-d]=0;let o=1,l;const u=[];for(let d=1;d<r-1;d++){l=1;for(let h=1;h<t-1;h++){const g=d*t+h,v=a[g];if(v===0)continue;let C=d,b=h;if(v===1&&a[g-1]===0)o+=1,b-=1;else if(v>=1&&a[g+1]===0)o+=1,b+=1,v>1&&(l=v);else{v!==1&&(l=Math.abs(v));continue}const B=[h,d],S=b===h+1,I={isHole:S,points:B,id:o,parent:0};u.push(I);let T;for(const K of u)if(K.id===l){T=K;break}T?T.isHole?I.parent=S?T.parent:l:I.parent=S?l:T.parent:I.parent=S?l:0;const R=P(this,Gt,$W).call(this,a,t,d,h,C,b,0);if(R===-1){a[g]=-o,a[g]!==1&&(l=Math.abs(a[g]));continue}let M=f(this,Mo)[2*R],D=f(this,Mo)[2*R+1];const L=d+M,H=h+D;C=L,b=H;let k=d,G=h;for(;;){const K=P(this,Gt,qW).call(this,a,t,k,G,C,b,1);M=f(this,Mo)[2*K],D=f(this,Mo)[2*K+1];const z=k+M,J=G+D;B.push(J,z);const ne=k*t+G;if(a[ne+1]===0?a[ne]=-o:a[ne]===1&&(a[ne]=o),z===d&&J===h&&k===L&&G===H){a[g]!==1&&(l=Math.abs(a[g]));break}else C=k,b=G,k=z,G=J}}}return u},C_=function(e,t,r,i){if(r-t<=4){for(let L=t;L<r-2;L+=2)i.push(e[L],e[L+1]);return}const s=e[t],a=e[t+1],o=e[r-4]-s,l=e[r-3]-a,u=Math.hypot(o,l),d=o/u,h=l/u,g=d*a-h*s,v=l/o,C=1/u,b=Math.atan(v),B=Math.cos(b),S=Math.sin(b),I=C*(Math.abs(B)+Math.abs(S)),T=C*(1-I+I**2),R=Math.max(Math.atan(Math.abs(S+B)*T),Math.atan(Math.abs(S-B)*T));let M=0,D=t;for(let L=t+2;L<r-2;L+=2){const H=Math.abs(g-d*e[L+1]+h*e[L]);H>M&&(D=L,M=H)}M>(u*R)**2?(P(this,Gt,C_).call(this,e,t,D+2,i),P(this,Gt,C_).call(this,e,D,r,i)):i.push(s,a)},jW=function(e){const t=[],r=e.length;return P(this,Gt,C_).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},WW=function(e,t,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,u=a>>1;for(let b=0;b<a;b++){const B=(b-u)**2;for(let S=0;S<a;S++)o[b*a+S]=Math.exp((B+(S-u)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let b=0;b<256;b++)d[b]=Math.exp(b**2/h);const g=e.length,v=new Uint8Array(g),C=new Uint32Array(256);for(let b=0;b<r;b++)for(let B=0;B<t;B++){const S=b*t+B,I=e[S];let T=0,R=0;for(let D=0;D<a;D++){const L=b+D-u;if(!(L<0||L>=r))for(let H=0;H<a;H++){const k=B+H-u;if(k<0||k>=t)continue;const G=e[L*t+k],K=o[D*a+H]*d[Math.abs(G-I)];T+=G*K,R+=K}}const M=v[S]=Math.round(T/R);C[M]++}return[v,C]},YW=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},AN=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const u=r[o]=e[o<<2];i=Math.max(i,u),s=Math.min(s,u)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r},lN=function(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>r&&(t-a>i&&(i=t-a,o=t-1),r=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},XW=function(e){const t=e,{width:r,height:i}=e,{maxDim:s}=f(this,Zh);let a=r,o=i;if(r>s||i>s){let g=r,v=i,C=Math.log2(Math.max(r,i)/s);const b=Math.floor(C);C=C===b?b-1:b;for(let S=0;S<C;S++){a=Math.ceil(g/2),o=Math.ceil(v/2);const I=new OffscreenCanvas(a,o);I.getContext("2d").drawImage(e,0,0,g,v,0,0,a,o),g=a,v=o,e!==t&&e.close(),e=I.transferToImageBitmap()}const B=Math.min(s/a,s/o);a=Math.round(a*B),o=Math.round(o*B)}const u=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,a,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=u.getImageData(0,0,a,o).data;return[P(this,Gt,AN).call(this,d),a,o]},U(X0,Gt),U(X0,Zh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),U(X0,Mo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])),X0);class XQ extends OW{constructor(){super(),super.updateProperties({fill:Fn._defaultLineColor,"stroke-width":0})}clone(){const e=new XQ;return e.updateAll(this),e}}class JQ extends W1{constructor(e){super(e),super.updateProperties({stroke:Fn._defaultLineColor,"stroke-width":1})}clone(){const e=new JQ(this._viewParameters);return e.updateAll(this),e}}var dd,SA,fd,ep;const Vs=class Vs extends cT{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});U(this,dd,!1);U(this,SA,null);U(this,fd,null);U(this,ep,null);this._willKeepAspectRatio=!0,_(this,fd,t.signatureData||null),_(this,SA,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){Fn.initialize(t,r),this._defaultDrawingOptions=new XQ,this._defaultDrawnSignatureOptions=new JQ(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return at(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,SA)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(f(this,fd)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:u,heightInPage:d}=f(this,fd),{rawDims:{pageWidth:h,pageHeight:g},rotation:v}=this.parent.viewport,C=kg.processDrawnLines({lines:s,pageWidth:h,pageHeight:g,rotation:v,innerMargin:Vs._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(C,d,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:f(this,SA)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){_(this,ep,t),this.addEditToolbar()}getUuid(){return f(this,ep)}get description(){return f(this,SA)}set description(t){_(this,SA,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:i,width:s,height:a}=f(this,fd),o=Math.max(s,a),l=kg.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,i,s){const{x:a,y:o}=this,{outline:l}=_(this,fd,t);_(this,dd,l instanceof sN),this.description=i;let u;f(this,dd)?u=Vs.getDefaultDrawingOptions():(u=Vs._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,d]=this.pageDimensions;let h=r/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return kg.process(t,r,i,s,Vs._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return kg.extractContoursFromText(t,r,i,s,a,Vs._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return kg.processDrawnLines({lines:t,pageWidth:r,pageHeight:i,rotation:s,innerMargin:Vs._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=Vs.getDefaultDrawingOptions():(this._drawingOptions=Vs._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:f(this,dd),color:[0,0,0],thickness:f(this,dd)?0:s});return this.addComment(a),t?(a.paths={lines:r,points:i},a.uuid=f(this,ep),a.isCopy=!0):a.lines=r,f(this,SA)&&(a.accessibilityData={type:"Figure",alt:f(this,SA)}),a}static deserializeDraw(t,r,i,s,a,o){return o.areContours?sN.deserialize(t,r,i,s,a,o):eB.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){var a;const s=await super.deserialize(t,r,i);return _(s,dd,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",_(s,ep,t.uuid),s}};dd=new WeakMap,SA=new WeakMap,fd=new WeakMap,ep=new WeakMap,Ee(Vs,"_type","signature"),Ee(Vs,"_editorType",At.SIGNATURE),Ee(Vs,"_defaultDrawingOptions",null);let uN=Vs;var On,ri,hd,jl,pd,Uv,Wl,tp,xA,aa,Pv,Rt,mw,vw,E_,B_,S_,dN,x_,JW;class cN extends Fn{constructor(t){super({...t,name:"stampEditor"});U(this,Rt);U(this,On,null);U(this,ri,null);U(this,hd,null);U(this,jl,null);U(this,pd,null);U(this,Uv,"");U(this,Wl,null);U(this,tp,!1);U(this,xA,null);U(this,aa,!1);U(this,Pv,!1);_(this,jl,t.bitmapUrl),_(this,pd,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){Fn.initialize(t,r)}static isHandlingMimeForPasting(t){return WR.includes(t)}static paste(t,r){r.pasteEditor({mode:At.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;f(this,ri)&&(_(this,On,null),this._uiManager.imageManager.deleteId(f(this,ri)),(t=f(this,Wl))==null||t.remove(),_(this,Wl,null),f(this,xA)&&(clearTimeout(f(this,xA)),_(this,xA,null))),super.remove()}rebuild(){if(!this.parent){f(this,ri)&&P(this,Rt,E_).call(this);return}super.rebuild(),this.div!==null&&(f(this,ri)&&f(this,Wl)===null&&P(this,Rt,E_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(f(this,hd)||f(this,On)||f(this,jl)||f(this,pd)||f(this,ri)||f(this,tp))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),f(this,tp)||(f(this,On)?P(this,Rt,B_).call(this):P(this,Rt,E_).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(_(this,ri,i),s&&_(this,On,s),_(this,tp,!1),P(this,Rt,B_).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,xA)!==null&&clearTimeout(f(this,xA)),_(this,xA,setTimeout(()=>{_(this,xA,null),P(this,Rt,dN).call(this)},200))}copyCanvas(t,r,i=!1){t||(t=224);const{width:s,height:a}=f(this,On),o=new Bp;let l=f(this,On),u=s,d=a,h=null;if(r){if(s>r||a>r){const L=Math.min(r/s,r/a);u=Math.floor(s*L),d=Math.floor(a*L)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*o.sx),C=h.height=Math.ceil(d*o.sy);f(this,aa)||(l=P(this,Rt,S_).call(this,v,C));const b=h.getContext("2d");b.filter=this._uiManager.hcmFilter;let B="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":zce.isDarkMode&&(B="#8f8f9d",S="#42414d");const I=15,T=I*o.sx,R=I*o.sy,M=new OffscreenCanvas(T*2,R*2),D=M.getContext("2d");D.fillStyle=B,D.fillRect(0,0,T*2,R*2),D.fillStyle=S,D.fillRect(0,0,T,R),D.fillRect(T,R,T,R),b.fillStyle=b.createPattern(M,"repeat"),b.fillRect(0,0,v,C),b.drawImage(l,0,0,l.width,l.height,0,0,v,C)}let g=null;if(i){let v,C;if(o.symmetric&&l.width<t&&l.height<t)v=l.width,C=l.height;else if(l=f(this,On),s>t||a>t){const S=Math.min(t/s,t/a);v=Math.floor(s*S),C=Math.floor(a*S),f(this,aa)||(l=P(this,Rt,S_).call(this,v,C))}const B=new OffscreenCanvas(v,C).getContext("2d",{willReadFrequently:!0});B.drawImage(l,0,0,l.width,l.height,0,0,v,C),g={width:v,height:C,data:B.getImageData(0,0,v,C).data}}return{canvas:h,width:u,height:d,imageData:g}}static async deserialize(t,r,i){var B;let s=null,a=!1;if(t instanceof hW){const{data:{rect:S,rotation:I,id:T,structParent:R,popupRef:M,richText:D,contentsObj:L,creationDate:H,modificationDate:k},container:G,parent:{page:{pageNumber:K}},canvas:z}=t;let J,ne;z?(delete t.canvas,{id:J,bitmap:ne}=i.imageManager.getFromCanvas(G.id,z),z.remove()):(a=!0,t._hasNoCanvas=!0);const oe=((B=await r._structTree.getAriaAttributes(`${$g}${T}`))==null?void 0:B.get("aria-label"))||"";s=t={annotationType:At.STAMP,bitmapId:J,bitmap:ne,pageIndex:K-1,rect:S.slice(0),rotation:I,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:oe},isSvg:!1,structParent:R,popupRef:M,richText:D,comment:(L==null?void 0:L.str)||null,creationDate:H,modificationDate:k}}const o=await super.deserialize(t,r,i),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:g,accessibilityData:v}=t;a?(i.addMissingCanvas(t.id,o),_(o,tp,!0)):h&&i.imageManager.isValidId(h)?(_(o,ri,h),u&&_(o,On,u)):_(o,jl,d),_(o,aa,g);const[C,b]=o.pageDimensions;return o.width=(l[2]-l[0])/C,o.height=(l[3]-l[1])/b,v&&(o.altTextData=v),o._initialData=s,t.comment&&o.setCommentData(t),_(o,Pv,!!s),o}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:f(this,ri),isSvg:f(this,aa)});if(this.addComment(i),t)return i.bitmapUrl=P(this,Rt,x_).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=P(this,Rt,JW).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const o=f(this,aa)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(f(this,ri)))r.stamps.set(f(this,ri),{area:o,serialized:i}),i.bitmap=P(this,Rt,x_).call(this,!1);else if(f(this,aa)){const l=r.stamps.get(f(this,ri));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=P(this,Rt,x_).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}On=new WeakMap,ri=new WeakMap,hd=new WeakMap,jl=new WeakMap,pd=new WeakMap,Uv=new WeakMap,Wl=new WeakMap,tp=new WeakMap,xA=new WeakMap,aa=new WeakMap,Pv=new WeakMap,Rt=new WeakSet,mw=function(t,r=!1){if(!t){this.remove();return}_(this,On,t.bitmap),r||(_(this,ri,t.id),_(this,aa,t.isSvg)),t.file&&_(this,Uv,t.file.name),P(this,Rt,B_).call(this)},vw=function(){if(_(this,hd,null),this._uiManager.enableWaiting(!1),!!f(this,Wl)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,On)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,On)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},E_=function(){if(f(this,ri)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,ri)).then(i=>P(this,Rt,mw).call(this,i,!0)).finally(()=>P(this,Rt,vw).call(this));return}if(f(this,jl)){const i=f(this,jl);_(this,jl,null),this._uiManager.enableWaiting(!0),_(this,hd,this._uiManager.imageManager.getFromUrl(i).then(s=>P(this,Rt,mw).call(this,s)).finally(()=>P(this,Rt,vw).call(this)));return}if(f(this,pd)){const i=f(this,pd);_(this,pd,null),this._uiManager.enableWaiting(!0),_(this,hd,this._uiManager.imageManager.getFromFile(i).then(s=>P(this,Rt,mw).call(this,s)).finally(()=>P(this,Rt,vw).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=WR.join(",");const r=this._uiManager._signal;_(this,hd,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),P(this,Rt,mw).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>P(this,Rt,vw).call(this))),t.click()},B_=function(){var u;const{div:t}=this;let{width:r,height:i}=f(this,On);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const d=Math.min(o*s/r,o*a/i);r*=d,i*=d}this._uiManager.enableWaiting(!1);const l=_(this,Wl,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/s,this.height=i/a,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),P(this,Rt,dN).call(this),f(this,Pv)||(this.parent.addUndoableEditor(this),_(this,Pv,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,Uv)&&this.div.setAttribute("aria-description",f(this,Uv)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},S_=function(t,r){const{width:i,height:s}=f(this,On);let a=i,o=s,l=f(this,On);for(;a>2*t||o>2*r;){const u=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,u,d,0,0,a,o),l=h.transferToImageBitmap()}return l},dN=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,a=new Bp,o=Math.ceil(i*t*a.sx),l=Math.ceil(s*r*a.sy),u=f(this,Wl);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const d=f(this,aa)?f(this,On):P(this,Rt,S_).call(this,o,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,l)},x_=function(t){if(t){if(f(this,aa)){const s=this._uiManager.imageManager.getSvgUrl(f(this,ri));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=f(this,On),r.getContext("2d").drawImage(f(this,On),0,0),r.toDataURL()}if(f(this,aa)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*oy.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*oy.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(f(this,On),0,0,f(this,On).width,f(this,On).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(f(this,On))},JW=function(t){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},Ee(cN,"_type","stamp"),Ee(cN,"_editorType",At.STAMP);var np,Rv,gd,md,Yl,Cs,vd,Dv,Nv,Uo,Xl,ii,Jl,yd,Lv,ze,Ts,wd,vn,fN,ZW,rA,hN,pN,__;let Bfe=(Ts=class{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:d}){U(this,vn);U(this,np);U(this,Rv,!1);U(this,gd,null);U(this,md,null);U(this,Yl,null);U(this,Cs,new Map);U(this,vd,!1);U(this,Dv,!1);U(this,Nv,!1);U(this,Uo,null);U(this,Xl,null);U(this,ii,null);U(this,Jl,null);U(this,yd,null);U(this,Lv,-1);U(this,ze);const h=[...f(Ts,wd).values()];if(!Ts._initialized){Ts._initialized=!0;for(const g of h)g.initialize(d,e)}e.registerEditorTypes(h),_(this,ze,e),this.pageIndex=t,this.div=r,_(this,np,s),_(this,gd,a),this.viewport=u,_(this,ii,l),this.drawLayer=o,this._structTree=i,f(this,ze).addLayer(this)}get isEmpty(){return f(this,Cs).size===0}get isInvisible(){return this.isEmpty&&f(this,ze).getMode()===At.NONE}updateToolbar(e){f(this,ze).updateToolbar(e)}updateMode(e=f(this,ze).getMode()){switch(P(this,vn,__).call(this),e){case At.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case At.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case At.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===At.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const r of f(Ts,wd).values())t.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,ii))==null?void 0:t.div)}setEditingState(e){f(this,ze).setEditingState(e)}addCommands(e){f(this,ze).addCommands(e)}cleanUndoStack(e){f(this,ze).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,gd))==null||t.togglePointerEvents(e)}async enable(){var r;_(this,Nv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=f(this,yd))==null||r.abort(),_(this,yd,null);const e=new Set;for(const i of f(this,vn,fN))i.enableEditing(),i.show(!0),i.annotationElementId&&(f(this,ze).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=f(this,gd);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),f(this,ze).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}_(this,Nv,!1),f(this,ze)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(_(this,Dv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),f(this,ii)&&!f(this,yd)){_(this,yd,new AbortController);const s=f(this,ze).combinedSignal(f(this,yd));f(this,ii).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:u,timeStamp:d}=a,h=f(this,Lv);if(d-h>500){_(this,Lv,d);return}_(this,Lv,-1);const{classList:g}=this.div;g.toggle("getElements",!0);const v=document.elementsFromPoint(l,u);if(g.toggle("getElements",!1),!this.div.contains(v[0]))return;let C;const b=new RegExp(`^${$w}[0-9]+$`);for(const S of v)if(b.test(S.id)){C=S.id;break}if(!C)return;const B=f(this,Cs).get(C);(B==null?void 0:B.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),B.dblclick(a))},{signal:s,capture:!0})}const e=f(this,gd),t=[];if(e){const s=new Map,a=new Map;for(const l of f(this,vn,fN)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(f(this,ze).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=a.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=s.get(u),d&&(f(this,ze).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}P(this,vn,__).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of f(Ts,wd).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),_(this,Dv,!1)}getEditableAnnotation(e){var t;return((t=f(this,gd))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,ze).getActive()!==e&&f(this,ze).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,ii))!=null&&e.div&&!f(this,Jl)){_(this,Jl,new AbortController);const t=f(this,ze).combinedSignal(f(this,Jl));f(this,ii).div.addEventListener("pointerdown",P(this,vn,ZW).bind(this),{signal:t}),f(this,ii).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,ii))!=null&&e.div&&f(this,Jl)&&(f(this,Jl).abort(),_(this,Jl,null),f(this,ii).div.classList.remove("highlighting"))}enableClick(){if(f(this,md))return;_(this,md,new AbortController);const e=f(this,ze).combinedSignal(f(this,md));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=f(this,md))==null||e.abort(),_(this,md,null)}attach(e){f(this,Cs).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,ze).isDeletedAnnotationElement(t)&&f(this,ze).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,Cs).delete(e.id),(t=f(this,np))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,Dv)&&e.annotationElementId&&f(this,ze).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,ze).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,ze).addDeletedAnnotationElement(e),Fn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,ze).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!f(this,Nv)),f(this,ze).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,Yl)&&(e._focusEventsAllowed=!1,_(this,Yl,setTimeout(()=>{_(this,Yl,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,ze)._signal}),t.focus())},0))),e._structTreeParentId=(r=f(this,np))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getEditorByUID(e){for(const t of f(this,Cs).values())if(t.uid===e)return t;return null}getNextId(){return f(this,ze).getId()}combinedSignal(e){return f(this,ze).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,vn,rA))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await f(this,ze).updateMode(e.mode);const{offsetX:r,offsetY:i}=P(this,vn,pN).call(this),s=this.getNextId(),a=P(this,vn,hN).call(this,{parent:this,id:s,x:r,y:i,uiManager:f(this,ze),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=f(Ts,wd).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,ze)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=P(this,vn,hN).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:f(this,ze),isCentered:t,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(P(this,vn,pN).call(this),!0,e)}setSelected(e){f(this,ze).setSelected(e)}toggleSelected(e){f(this,ze).toggleSelected(e)}unselect(e){f(this,ze).unselect(e)}pointerup(e){var i;const{isMac:t}=Ii.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!f(this,vd)||(_(this,vd,!1),(i=f(this,vn,rA))!=null&&i.isDrawer&&f(this,vn,rA).supportMultipleDrawings))return;if(!f(this,Rv)){_(this,Rv,!0);return}const r=f(this,ze).getMode();if(r===At.STAMP||r===At.SIGNATURE){f(this,ze).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(f(this,ze).getMode()===At.HIGHLIGHT&&this.enableTextSelection(),f(this,vd)){_(this,vd,!1);return}const{isMac:t}=Ii.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(_(this,vd,!0),(i=f(this,vn,rA))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=f(this,ze).getActive();_(this,Rv,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),f(this,Uo)){f(this,vn,rA).startDrawing(this,f(this,ze),!1,e);return}f(this,ze).setCurrentDrawingSession(this),_(this,Uo,new AbortController);const t=f(this,ze).combinedSignal(f(this,Uo));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(_(this,Xl,null),this.commitOrRemove())},{signal:t}),f(this,vn,rA).startDrawing(this,f(this,ze),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&_(this,Xl,t);return}f(this,Xl)&&setTimeout(()=>{var t;(t=f(this,Xl))==null||t.focus(),_(this,Xl,null)},0)}endDrawingSession(e=!1){return f(this,Uo)?(f(this,ze).setCurrentDrawingSession(null),f(this,Uo).abort(),_(this,Uo,null),_(this,Xl,null),f(this,vn,rA).endDrawing(e)):null}findNewParent(e,t,r){const i=f(this,ze).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return f(this,Uo)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,Uo)&&f(this,vn,rA).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=f(this,ze).getActive())==null?void 0:e.parent)===this&&(f(this,ze).commitOrRemove(),f(this,ze).setActiveEditor(null)),f(this,Yl)&&(clearTimeout(f(this,Yl)),_(this,Yl,null));for(const r of f(this,Cs).values())(t=f(this,np))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,f(this,Cs).clear(),f(this,ze).removeLayer(this)}render({viewport:e}){this.viewport=e,Ep(this.div,e);for(const t of f(this,ze).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,ze).commitOrRemove(),P(this,vn,__).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Ep(this.div,{rotation:r}),t!==r)for(const i of f(this,Cs).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,ze).viewParameters.realScale}},np=new WeakMap,Rv=new WeakMap,gd=new WeakMap,md=new WeakMap,Yl=new WeakMap,Cs=new WeakMap,vd=new WeakMap,Dv=new WeakMap,Nv=new WeakMap,Uo=new WeakMap,Xl=new WeakMap,ii=new WeakMap,Jl=new WeakMap,yd=new WeakMap,Lv=new WeakMap,ze=new WeakMap,wd=new WeakMap,vn=new WeakSet,fN=function(){return f(this,Cs).size!==0?f(this,Cs).values():f(this,ze).getEditors(this.pageIndex)},ZW=function(e){f(this,ze).unselectAll();const{target:t}=e;if(t===f(this,ii).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,ii).div.contains(t)){const{isMac:r}=Ii.platform;if(e.button!==0||e.ctrlKey&&r)return;f(this,ze).showAllEditors("highlight",!0,!0),f(this,ii).div.classList.add("free"),this.toggleDrawing(),uT.startHighlighting(this,f(this,ze).direction==="ltr",{target:f(this,ii).div,x:e.x,y:e.y}),f(this,ii).div.addEventListener("pointerup",()=>{f(this,ii).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,ze)._signal}),e.preventDefault()}},rA=function(){return f(Ts,wd).get(f(this,ze).getMode())},hN=function(e){const t=f(this,vn,rA);return t?new t.prototype.constructor(e):null},pN=function(){const{x:e,y:t,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),u=(s+o)/2-e,d=(a+l)/2-t,[h,g]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:g}},__=function(){for(const e of f(this,Cs).values())e.isEmpty()&&e.remove()},Ee(Ts,"_initialized",!1),U(Ts,wd,new Map([jD,iN,cN,uT,uN].map(e=>[e._editorType,e]))),Ts);var Po,Xi,rp,ir,sE,P1,eY,QA,gN,tY,mN;let Sfe=(ir=class{constructor({pageIndex:e}){U(this,QA);U(this,Po,null);U(this,Xi,new Map);U(this,rp,new Map);this.pageIndex=e}setParent(e){if(!f(this,Po)){_(this,Po,e);return}if(f(this,Po)!==e){if(f(this,Xi).size>0)for(const t of f(this,Xi).values())t.remove(),e.append(t);_(this,Po,e)}}static get _svgFactory(){return at(this,"_svgFactory",new AT)}draw(e,t=!1,r=!1){const i=cr(ir,sE)._++,s=P(this,QA,gN).call(this),a=ir._svgFactory.createElement("defs");s.append(a);const o=ir._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&f(this,rp).set(i,o);const u=r?P(this,QA,tY).call(this,a,l):null,d=ir._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),f(this,Xi).set(i,s),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const r=cr(ir,sE)._++,i=P(this,QA,gN).call(this),s=ir._svgFactory.createElement("defs");i.append(s);const a=ir._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=ir._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const g=ir._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=ir._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${o}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const u=ir._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return i.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),f(this,Xi).set(r,i),r}finalizeDraw(e,t){f(this,rp).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?f(this,Xi).get(e):e;if(o){if(r&&P(this,QA,mN).call(this,o,r),i&&P(l=ir,P1,eY).call(l,o,i),s){const{classList:u}=o;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(a){const d=o.firstElementChild.firstElementChild;P(this,QA,mN).call(this,d,a)}}}updateParent(e,t){if(t===this)return;const r=f(this,Xi).get(e);r&&(f(t,Po).append(r),f(this,Xi).delete(e),f(t,Xi).set(e,r))}remove(e){f(this,rp).delete(e),f(this,Po)!==null&&(f(this,Xi).get(e).remove(),f(this,Xi).delete(e))}destroy(){_(this,Po,null);for(const e of f(this,Xi).values())e.remove();f(this,Xi).clear(),f(this,rp).clear()}},Po=new WeakMap,Xi=new WeakMap,rp=new WeakMap,sE=new WeakMap,P1=new WeakSet,eY=function(e,[t,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},QA=new WeakSet,gN=function(){const e=ir._svgFactory.create(1,1,!0);return f(this,Po).append(e),e.setAttribute("aria-hidden",!0),e},tY=function(e,t){const r=ir._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=ir._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},mN=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},U(ir,P1),U(ir,sE,0),ir);globalThis._pdfjsTestingUtils={HighlightOutliner:YD};globalThis.pdfjsLib={AbortException:qd,AnnotationEditorLayer:Bfe,AnnotationEditorParamsType:_t,AnnotationEditorType:At,AnnotationEditorUIManager:Ww,AnnotationLayer:wfe,AnnotationMode:Tc,AnnotationType:Tr,applyOpacity:qce,build:Zde,ColorPicker:nW,createValidAbsoluteUrl:G6,CSSConstants:$ce,DOMSVGFactory:AT,DrawLayer:Sfe,FeatureTest:Ii,fetchData:WE,findContrastColor:jce,getDocument:qQ,getFilenameFromUrl:Oce,getPdfFilenameFromUrl:Hce,getRGB:XE,getUuid:q6,getXfaPageViewport:Kce,GlobalWorkerOptions:uu,ImageKind:jx,InvalidPDFException:zR,isDataScheme:q1,isPdfFile:KQ,isValidExplicitDest:ide,MathClamp:ts,noContextMenu:lo,normalizeUnicode:Lce,OPS:qw,OutputScale:Bp,PasswordResponses:Tce,PDFDataRangeTransport:Zj,PDFDateString:qR,PDFWorker:UD,PermissionFlag:_ce,PixelsPerInch:oy,RenderingCancelledException:VQ,renderRichText:Y6,ResponseException:nT,setLayerDimensions:Ep,shadow:at,SignatureExtractor:kg,stopEvent:or,SupportedImageMimeTypes:WR,TextLayer:TD,TouchManager:mj,updateUrlHash:z6,Util:Ve,VerbosityLevel:G1,version:jQ,XfaLayer:W6};uu.workerSrc="https://aistudiocdn.com/pdfjs-dist@4.4.168/build/pdf.worker.mjs";const xfe=async n=>{try{const e=await n.arrayBuffer(),t=await qQ({data:e}).promise;let r="",i=[],s="";const a=t.numPages;if(a===0)throw new Error("PDF has zero pages.");for(let l=1;l<=a;l++){const h=(await(await t.getPage(l)).getTextContent()).items.map(v=>v.str).join(" ");r+=h+" ",h.trim().length>0&&i.push({id:`chunk-page-${l}`,text:h,pageNumber:l});const g=h.split("  ");s+=`<div class="pdf-page" id="page-${l}" style="margin-bottom: 2rem; border-bottom: 1px dashed #e2e8f0; padding-bottom: 1rem;">`,s+=`<span class="text-xs text-slate-400 block mb-2 font-mono">Page ${l}</span>`,h.trim().length===0?s+=`<div class="p-4 bg-slate-100 dark:bg-slate-800 rounded text-slate-500 text-sm italic text-center">[Page ${l}: No text content detected. This might be a scanned image.]</div>`:g.forEach(v=>{v.trim().length>0&&(v.length<50&&!v.endsWith(".")?s+=`<h3 class="font-bold text-lg mt-4 mb-2 text-slate-800 dark:text-slate-200">${v}</h3>`:s+=`<p class="mb-2 leading-relaxed text-slate-700 dark:text-slate-300">${v}</p>`)}),s+="</div>"}return s.trim()||(s="<div class='p-8 text-center text-slate-500'>Could not extract text from this PDF. It might contain only images or be protected.</div>"),{chapters:[{id:"pdf-upload",title:n.name.replace(".pdf",""),content:s}],chunks:i}}catch(e){throw console.error("PDF Processing Error:",e),e}},_fe=(n,e)=>{const t=n.toLowerCase().split(" ").filter(s=>s.length>3);return t.length===0?"":e.map(s=>{let a=0;const o=s.text.toLowerCase();return t.forEach(l=>{o.includes(l)&&a++}),{...s,score:a}}).sort((s,a)=>a.score-s.score).filter(s=>s.score>0).slice(0,3).map(s=>s.text).join(`

`)},Dw=n=>{var r,i,s;const e=typeof import.meta<"u"&&((i=(r=import.meta)==null?void 0:r.env)==null?void 0:i[n]),t=typeof process<"u"&&((s=process==null?void 0:process.env)==null?void 0:s[n]);return(e||t||"").toString().trim()},Tfe=()=>{const n=Dw("GEMINI_API_KEY")||Dw("VITE_API_KEY"),e=Dw("API_KEY");return n||e},WK=n=>n?n.startsWith("models/")?n:`models/${n}`:"",nY=WK(Dw("GEMINI_TTS_MODEL"))||WK(Dw("VITE_GEMINI_TTS_MODEL"))||"models/gemini-2.0-flash",Ife=`https://generativelanguage.googleapis.com/v1beta/${nY}:generateContent`,Ffe=async(n,e)=>{var b,B,S,I,T,R;const t=nY,r=/-tts\b/.test(t),i=Tfe();if(!i)throw new Error("API key is missing. Set GEMINI_API_KEY (or VITE_API_KEY/API_KEY).");const s=r?{responseMimeType:"audio/pcm"}:{responseModalities:["AUDIO"]};e!=null&&e.voiceName&&(s.speechConfig={voiceConfig:{prebuiltVoiceConfig:{voiceName:e.voiceName}}});const a={contents:[{role:"user",parts:[{text:n}]}],generationConfig:s},o=await fetch(`${Ife}?key=${encodeURIComponent(i)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok){const M=await o.text();throw new Error(`Gemini TTS request failed: ${o.status} ${M}`)}const l=await o.json(),u=((I=(S=(B=(b=l==null?void 0:l.candidates)==null?void 0:b[0])==null?void 0:B.content)==null?void 0:S.parts)==null?void 0:I.find(M=>{var D;return(D=M.inlineData)==null?void 0:D.data}))||null,d=(T=u==null?void 0:u.inlineData)==null?void 0:T.data,h=((R=u==null?void 0:u.inlineData)==null?void 0:R.mimeType)||"audio/mp3";if(!d)throw new Error("Gemini TTS response missing audio data.");const g=Uint8Array.from(atob(d),M=>M.charCodeAt(0)),v=new Blob([g],{type:h});return{audioUrl:URL.createObjectURL(v),mimeType:h}},vN={RMS_BM:!1,RMS_DR:!1,RMS_LK:!1,RMS_PR:!1,RMS_MM:!1},Mfe=[{rmsTp:"RMS_BM",rmsTs:0},{rmsTp:"RMS_DR",rmsTs:0},{rmsTp:"RMS_LK",rmsTs:0},{rmsTp:"RMS_PR",rmsTs:0},{rmsTp:"RMS_MM",rmsTs:0},{rmsTp:"RMS_ST",rmsTs:0}],Yw=(n,e)=>{if(!n)return e;try{return JSON.parse(n)}catch{return e}},YK=n=>n.toString().padStart(2,"0"),Ufe=n=>`${YK(n.getMonth()+1)}/${YK(n.getDate())}`,Pfe=n=>{const e=n.trim();return e?e.replace(/\/+$/,"").replace(/\/v2$/i,""):""},Rfe=()=>{if(typeof window>"u")return"";const n=window.location.pathname.match(/(?:^|\/)((?:BO|CT)(?:-[A-Za-z0-9]+)+)(?:\/|$)/);return(n==null?void 0:n[1])||""},Dfe=()=>{if(typeof window>"u")return"";const n=new URLSearchParams(window.location.search);return(n.get("rmsToken")||n.get("rmsAuthToken")||void 0||sessionStorage.getItem("jwt")||"").trim()},rY=()=>{const n=Dfe(),e={"Content-Type":"application/json; charset=utf-8"};return n&&(e.Authorization=/^Bearer\s+/i.test(n)?n:`Bearer ${n}`),e},dT=n=>{if(Array.isArray(n))return n.filter(e=>e&&typeof e=="object");if(typeof n=="string"&&n.trim()){const e=Yw(n,null);if(Array.isArray(e))return e;try{if(typeof atob=="function"){const t=atob(n),r=Yw(t,null);return Array.isArray(r)?r:null}}catch{return null}return null}return null},Nfe=async n=>{if(!n||typeof n!="object")return null;const e=dT(n.rmsData);if(e&&e.length>0)return e;if(typeof n.webPath!="string"||!n.webPath.trim())return null;try{const t=n.webPath.includes("?")?`${n.webPath}&t=${Date.now()}`:`${n.webPath}?t=${Date.now()}`,i=await(await fetch(t)).text(),s=dT(i);return s&&s.length>0?s:null}catch{return null}},Lfe=n=>{if(typeof window>"u")return null;const e=localStorage.getItem(Y1(n)),t=dT(e);return t&&t.length>0?t:null},Qfe=()=>{if(typeof window>"u")return null;const n=["progress_","rmsStatus_","rmsVerList_","bookmark_","drawing_","weblink_","memo_"],e=Object.keys(localStorage).find(s=>n.some(a=>s.startsWith(a)));if(!e)return null;const t=n.reduce((s,a)=>s.startsWith(a)?s.slice(a.length):s,e),[r,...i]=t.split("_");return!r||i.length===0?null:{memberCd:r,bookCd:i.join("_")}},ZQ=(n,e)=>`${e}_${n}`,fT=n=>`rmsStatus_${n}`,yN=n=>`rmsVerList_${n}`,Y1=n=>`progress_${n}`,kfe=n=>(localStorage.setItem(fT(n),JSON.stringify(vN)),{...vN}),iY=n=>{const e=Yw(localStorage.getItem(fT(n)),null),t={...vN,...e&&typeof e=="object"?e:{}};return localStorage.setItem(fT(n),JSON.stringify(t)),t},ek=n=>{const e=Yw(localStorage.getItem(yN(n)),null),t=Array.isArray(e)?e:[],r=Mfe.map(i=>{const s=t.find(o=>(o==null?void 0:o.rmsTp)===i.rmsTp),a=s&&Number.isFinite(Number(s.rmsTs))?Number(s.rmsTs):i.rmsTs;return{rmsTp:i.rmsTp,rmsTs:a}});return t.forEach(i=>{if(!i||typeof i.rmsTp!="string"||r.some(a=>a.rmsTp===i.rmsTp))return;const s=Number.isFinite(Number(i.rmsTs))?Number(i.rmsTs):0;r.push({rmsTp:i.rmsTp,rmsTs:s})}),localStorage.setItem(yN(n),JSON.stringify(r)),r},XK=(n,e,t)=>{const r=ek(n),i=r.find(s=>s.rmsTp===e);i?i.rmsTs=t:r.push({rmsTp:e,rmsTs:t}),localStorage.setItem(yN(n),JSON.stringify(r))},Ofe=({localStoragePath:n,pageIndex:e,viewMode:t,level:r})=>{const i=Y1(n),s=Yw(localStorage.getItem(i),[]),a=new Date,o={idx:e,level:typeof r=="number"?r:e,regdate:Ufe(a),timestamp:a.getTime(),mode:t},l=[...s,o];localStorage.setItem(i,JSON.stringify(l));const u=iY(n);return u.RMS_PR=!0,localStorage.setItem(fT(n),JSON.stringify(u)),l},JK=()=>{if(typeof window>"u")return null;const n=new URLSearchParams(window.location.search),e=Qfe(),t=Rfe(),r=n.get("rmsApiBase")||"https://o2o-gwapi-devqa.campusbook.co.kr",i=Pfe(r),s=n.get("bookCd")||void 0||t||(e==null?void 0:e.bookCd)||"",a=n.get("memberCd")||void 0||(e==null?void 0:e.memberCd)||"guest",l=(n.get("orderIgnore")||void 0||"").toUpperCase()==="Y",u=n.get("rmsPageOffset")||void 0||"0",d=Number(u)||0;return!i||!s?null:{apiBase:i,bookCd:s,memberCd:a,orderIgnore:l,pageOffset:d}},Hfe=async({apiBase:n,bookCd:e,memberCd:t,orderIgnore:r,pageOffset:i})=>{var S,I;if(typeof window>"u")return null;if(!n||!e)throw new Error("Missing RMS configuration (apiBase/bookCd).");const s=ZQ(e,t),o=ek(s),l={bookCd:e,orderIgnore:r,rmsList:o},d=await fetch(`${n}/v3/rms/rmsData${r?"?orderIgnore=Y":""}`,{method:"POST",headers:rY(),body:JSON.stringify(l)});let h=null;try{h=await d.json()}catch{h=null}if(!d.ok){const T=(h==null?void 0:h.message)||(h==null?void 0:h.error)||`RMS fetch failed (${d.status})`;throw new Error(T)}const g=((S=h==null?void 0:h.result)==null?void 0:S.rmsList)||((I=h==null?void 0:h.result)==null?void 0:I.rmsDataList)||(Array.isArray(h==null?void 0:h.result)?h.result:null);if(!Array.isArray(g))return null;const v=g.find(T=>(T==null?void 0:T.rmsTp)==="RMS_PR");let C=await Nfe(v);if(!C||C.length===0){const T=g.find(M=>(M==null?void 0:M.rmsTp)==="RMS_ST"),R=typeof(T==null?void 0:T.lastPages)=="string"?Number(T.lastPages):T==null?void 0:T.lastPages;if(Number.isFinite(R))return Math.max(1,Math.round(R-i));C=Lfe(s)}if(!C||C.length===0)return null;localStorage.setItem(Y1(s),JSON.stringify(C));const b=C.reduce((T,R)=>{const M=Number.isFinite(T.timestamp)?T.timestamp:-1;return(Number.isFinite(R.timestamp)?R.timestamp:-1)>M?R:T},C[0]),B=Number.isFinite(b.idx)?b.idx:b.level;return Number.isFinite(B)?Math.max(1,Math.round(B-i)):null},Vfe=({bookCd:n,memberCd:e,pageOffset:t})=>{if(typeof window>"u"||!n||!e)return null;const r=ZQ(n,e),i=localStorage.getItem(Y1(r)),s=dT(i);if(!s||s.length===0)return null;const a=s[s.length-1],o=Number.isFinite(a.idx)?a.idx:a.level;return Number.isFinite(o)?Math.max(1,Math.round(o-t)):null},Kfe=async({apiBase:n,bookCd:e,memberCd:t,orderIgnore:r,pageOffset:i,pageIndex:s,viewMode:a,lastPages:o,bookTotalPages:l})=>{var T;if(typeof window>"u")throw new Error("RMS is only available in the browser.");if(!n||!e)throw new Error("Missing RMS configuration (apiBase/bookCd).");const u=ZQ(e,t);iY(u),ek(u);const d=Number.isFinite(s)?s:0,h=Math.max(0,Math.round(d+i)),g=Ofe({localStoragePath:u,pageIndex:h,viewMode:a}),v=[{rmsTp:"RMS_PR",rmsData:JSON.stringify(g)}],C=Number.isFinite(l)?Math.max(0,Math.round(l)):0;if(C>0){const R=Number.isFinite(o)?Math.round(o):d,M=Math.max(0,Math.round(R+i));v.push({rmsTp:"RMS_ST",lastPages:M,bookTotalPages:C})}const b={bookCd:e,rmsList:v},S=await fetch(`${n}/v2/rms/rmsData${r?"?orderIgnore=Y":""}`,{method:"PUT",headers:rY(),body:JSON.stringify(b)});let I=null;try{I=await S.json()}catch{I=null}if(!S.ok){const R=(I==null?void 0:I.message)||(I==null?void 0:I.error)||`RMS save failed (${S.status})`;throw new Error(R)}return(T=I==null?void 0:I.result)!=null&&T.rmsTs&&(XK(u,"RMS_PR",I.result.rmsTs),C>0&&XK(u,"RMS_ST",I.result.rmsTs)),kfe(u),I},Gfe=`<?xml version="1.0" encoding="utf-8"?>\r
<!DOCTYPE html>\r
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" lang="ko" xml:lang="ko">\r
<head>\r
  <title>QT-25031815032610334</title>\r
  <meta charset="utf-8"/>\r
</head>\r
\r
<body>\r
  <h1>QT-25031815032610334</h1>\r
  <nav epub:type="toc" id="toc">\r
    <h2></h2>\r
    <ol>\r
    <li><a href="p0007_s.xhtml"></a></li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0017_s.xhtml">UNIT 6  \r
</a>\r
      <ol>\r
      <li><a href="p0019_s.xhtml">CHAPTER 32  \r
</a></li>\r
      <li><a href="p0041_s.xhtml">CHAPTER 33   \r
</a></li>\r
      <li><a href="p0057_s.xhtml">CHAPTER 34   \r
</a></li>\r
      <li><a href="p0073_s.xhtml">CHAPTER 35   \r
</a></li>\r
      <li><a href="p0091_s.xhtml">CHAPTER 36   \r
</a></li>\r
      <li><a href="p0121_s.xhtml">CHAPTER 37   \r
</a></li>\r
      <li><a href="p0145_s.xhtml">CHAPTER 38   \r
</a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0167_s.xhtml">UNIT 7  \r
</a>\r
      <ol>\r
      <li><a href="p0169_s.xhtml">CHAPTER 39  </a></li>\r
      <li><a href="p0183_s.xhtml">CHAPTER 40    \r
</a></li>\r
      <li><a href="p0207_s.xhtml">CHAPTER 41    \r
</a></li>\r
      <li><a href="p0255_s.xhtml">CHAPTER 42    \r
</a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0279_s.xhtml">UNIT 8  \r
</a>\r
      <ol>\r
      <li><a href="p0281_s.xhtml">CHAPTER 43  
</a></li>\r
      <li><a href="p0317_s.xhtml">CHAPTER 44     </a></li>\r
      <li><a href="p0331_s.xhtml">CHAPTER 45   </a></li>\r
      <li><a href="p0367_s.xhtml">CHAPTER 46    \r
</a></li>\r
      <li><a href="p0383_s.xhtml">CHAPTER 47    \r
</a></li>\r
      <li><a href="p0407_s.xhtml">CHAPTER 48   \r
</a></li>\r
      <li><a href="p0419_s.xhtml">CHAPTER 49    \r
</a></li>\r
      <li><a href="p0441_s.xhtml">CHAPTER 50      </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0457_s.xhtml">UNIT 9  \r
</a>\r
      <ol>\r
      <li><a href="p0459_s.xhtml">CHAPTER 51  \r
</a></li>\r
      <li><a href="p0479_s.xhtml">CHAPTER 52    \r
</a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0557_s.xhtml">UNIT 10  \r
</a>\r
      <ol>\r
      <li><a href="p0559_s.xhtml">CHAPTER 53   \r
</a></li>\r
      <li><a href="p0585_s.xhtml">CHAPTER 54   \r
</a></li>\r
      <li><a href="p0601_s.xhtml">CHAPTER 55     
</a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0631_s.xhtml"></a></li>\r
    </ol>\r
\r
  </nav>\r
</body>\r
</html>\r
`,zfe=[{id:"ch1",title:"Chapter 1: The Dawn of AI",content:`
      <h2>1.1 Introduction to Artificial Intelligence</h2>
      <p>Artificial Intelligence (AI) is intelligence demonstrated by machines, as opposed to the natural intelligence displayed by humans or animals. Leading AI textbooks define the field as the study of "intelligent agents": any system that perceives its environment and takes actions that maximize its chances of achieving its goals.</p>
      <p>The history of AI began in antiquity, with myths, stories, and rumors of artificial beings endowed with intelligence or consciousness by master craftsmen. The seeds of modern AI were planted by philosophers who attempted to describe the process of human thinking as the mechanical manipulation of symbols.</p>
      <h3>1.2 The Turing Test</h3>
      <p>The Turing test, developed by Alan Turing in 1950, is a test of a machine's ability to exhibit intelligent behavior equivalent to, or indistinguishable from, that of a human. Turing proposed that a human evaluator would judge natural language conversations between a human and a machine designed to generate human-like responses.</p>
    `},{id:"ch2",title:"Chapter 2: Machine Learning Basics",content:`
      <h2>2.1 What is Machine Learning?</h2>
      <p>Machine Learning (ML) is a subset of artificial intelligence that focuses on building systems that learn, or improve performance, based on the data they consume. Artificial Intelligence is a broad term that refers to systems or machines that mimic human intelligence. Machine Learning is how they achieve that intelligence.</p>
      <p>There are three main types of machine learning: supervised learning, unsupervised learning, and reinforcement learning. In supervised learning, the algorithm is trained on labeled data.</p>
      <h3>2.2 Neural Networks</h3>
      <p>Neural networks, also known as artificial neural networks (ANNs) or simulated neural networks (SNNs), are a subset of machine learning and are at the heart of deep learning algorithms. Their name and structure are inspired by the human brain, mimicking the way that biological neurons signal to one another.</p>
    `},{id:"ch3",title:"Chapter 3: Ethics in Technology",content:`
      <h2>3.1 The Importance of Ethics</h2>
      <p>As technology becomes more integrated into our daily lives, the ethical implications of its use become increasingly important. Issues such as privacy, bias in algorithms, and the displacement of jobs are central discussions in the tech world today.</p>
      <p>Algorithmic bias describes systematic and repeatable errors in a computer system that create unfair outcomes, such as privileging one arbitrary group of users over others.</p>
    `}],$fe=n=>{if(typeof window>"u")return{chapters:[],pageMap:{}};try{const t=new DOMParser().parseFromString(n,"application/xhtml+xml"),r=t.querySelector("nav#toc")||t.querySelector('nav[epub\\:type="toc"]');if(!r)return{chapters:[],pageMap:{}};const i=new Set,s=Array.from(r.querySelectorAll("a")),a={};return{chapters:s.map((l,u)=>{const d=(l.textContent||"").replace(/\s+/g," ").trim();if(!d)return null;const h=l.getAttribute("href")||`toc-${u+1}`,v=h.replace(/[^a-zA-Z0-9_-]+/g,"-").replace(/^-+|-+$/g,"")||`toc-${u+1}`;let C=v,b=1;for(;i.has(C);)C=`${v}-${b++}`;i.add(C);const B=h.match(/p0*([0-9]+)_/i)||h.match(/p0*([0-9]+)/i);if(B&&B[1]){const S=parseInt(B[1],10);Number.isFinite(S)&&(a[C]=S)}return{id:C,title:d,content:""}}).filter(Boolean),pageMap:a}}catch(e){return console.error("Failed to parse nav.xhtml",e),{chapters:[],pageMap:{}}}},sY=F.createContext(void 0),qfe=({children:n})=>{const[e,t]=F.useState(zfe),[r,i]=F.useState(null),[s,a]=F.useState([]),[o,l]=F.useState(!1),[u,d]=F.useState(0),[h,g]=F.useState("medium"),[v,C]=F.useState("light"),[b,B]=F.useState("single"),[S,I]=F.useState(!0),[T,R]=F.useState(()=>{if(typeof window>"u")return[];try{const pe=localStorage.getItem("pdfBookmarks");if(!pe)return[];const _e=JSON.parse(pe);if(Array.isArray(_e))return _e.map(Te=>Te&&typeof Te=="object"&&"page"in Te?Te:typeof Te=="number"?{id:`migrated-${Te}`,page:Te,label:`Page ${Te}`,createdAt:Date.now()}:null).filter(Boolean)}catch(pe){console.error("Failed to parse stored pdfBookmarks",pe)}return[]}),[M,D]=F.useState([]),[L,H]=F.useState(null),[k,G]=F.useState("idle"),[K,z]=F.useState("#ef4444"),[J,ne]=F.useState(3),[oe,V]=F.useState(1),[q,te]=F.useState({}),[he,ve]=F.useState([]),[$,Y]=F.useState(!1),[Ae,me]=F.useState(null),[re,fe]=F.useState([]),[le,Se]=F.useState(!0),[Z,Ue]=F.useState("ai"),[Ie,ye]=F.useState(""),[vt,qe]=F.useState(!1),[Vt,It]=F.useState(null),[Kn,rt]=F.useState({voice:"Kore",speed:1,continuous:!0}),[wr,Wn]=F.useState({}),Xt=F.useRef(null),wa=F.useRef(null),ba=F.useRef(!1),Jt=F.useRef(!1),xe=pe=>{rt(_e=>({..._e,...pe}))},ee=pe=>{const _e=pe.trim();if(!_e)return[];const Te=_e.match(/[^.!?]+[.!?]?/g);return Te&&Te.length>0?Te.map(Fe=>Fe.trim()).filter(Boolean):[_e]},Be=pe=>pe.replace(/<script[^>]*>.*?<\/script>/gi,"").replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim(),Pe=()=>{var Te;if(Ar.length>0){const Fe=[...Ar].sort((Sn,Wo)=>Sn.page-Wo.page),tt=be||((Te=Fe[0])==null?void 0:Te.page)||1,Xn=[];let Gn=0;return Fe.forEach(Sn=>{const Wo=Be(Sn.text||""),uf=ee(Wo);Sn.page<tt&&(Gn+=uf.length),Xn.push(...uf)}),{sentences:Xn,defaultStartIndex:Gn}}const pe=Be(Yn.content);return{sentences:ee(pe),defaultStartIndex:0}},gt=()=>{Xt.current&&(Xt.current.pause(),Xt.current.src="",Xt.current=null),wa.current&&(URL.revokeObjectURL(wa.current),wa.current=null)},Ke=async pe=>{if(ba.current)return;if(Xt.current&&Xt.current.paused&&!Xt.current.ended){await Xt.current.play().catch(()=>{}),qe(!0);return}gt();const{sentences:_e,defaultStartIndex:Te}=Pe();if(_e.length===0){alert("  .");return}const Fe=typeof pe=="number"&&pe>=0&&pe<_e.length?pe:Math.min(Te,_e.length-1),Xn=_e.slice(Fe).join(" ").slice(0,8e3);if(!Xn){alert("  .");return}try{ba.current=!0,qe(!0),It(Fe);const{audioUrl:Gn}=await Ffe(Xn,{voiceName:Kn.voice}),Sn=new Audio(Gn);Sn.playbackRate=Kn.speed,wa.current=Gn,Xt.current=Sn,Sn.onended=()=>{qe(!1),It(null),gt()},Sn.onerror=()=>{qe(!1),It(null),gt()},await Sn.play().catch(Wo=>{console.error("Audio playback failed",Wo),qe(!1)})}catch(Gn){console.error("Gemini TTS failed",Gn),alert("TTS    ."),qe(!1),It(null)}finally{ba.current=!1}},dn=()=>{Xt.current&&Xt.current.pause(),qe(!1)},Ft=()=>{gt(),qe(!1),It(null)},[bn,St]=F.useState({totalReadingTime:0,sessions:1,chapterVisits:{},aiInteractionCount:0,highlightCount:0}),[Ar,br]=F.useState([]),[be,Le]=F.useState(1),[et,Mt]=F.useState(0),[Cn,fn]=F.useState(null),[Zt,En]=F.useState(null),[Bn,Ca]=F.useState(null),Yn=e[u];F.useEffect(()=>{window.innerWidth<1024&&Se(!1)},[]),F.useEffect(()=>{const pe=setInterval(()=>{document.visibilityState==="visible"&&Ea()},5e3);return()=>clearInterval(pe)},[]),F.useEffect(()=>{St(pe=>({...pe,chapterVisits:{...pe.chapterVisits,[Yn.id]:(pe.chapterVisits[Yn.id]||0)+1}}))},[Yn.id]),F.useEffect(()=>{try{localStorage.setItem("pdfBookmarks",JSON.stringify(T))}catch(pe){console.error("Failed to persist pdfBookmarks",pe)}},[T]),F.useEffect(()=>{const{chapters:pe,pageMap:_e}=$fe(Gfe);pe.length>0&&(t(pe),Wn(_e),d(0))},[]);const Ea=()=>{St(pe=>({...pe,totalReadingTime:pe.totalReadingTime+5}))},Fi=()=>{St(pe=>({...pe,aiInteractionCount:pe.aiInteractionCount+1}))},jo=tm.useCallback(pe=>{if(e.length===0||Object.keys(wr).length===0)return-1;let _e=-1,Te=Number.NEGATIVE_INFINITY,Fe=-1,tt=Number.POSITIVE_INFINITY;return e.forEach((Xn,Gn)=>{const Sn=wr[Xn.id];Sn&&(Sn<=pe&&Sn>Te&&(Te=Sn,_e=Gn),Sn<tt&&(tt=Sn,Fe=Gn))}),_e!==-1?_e:Fe},[e,wr]);F.useEffect(()=>{const pe=jo(be);pe!==-1&&pe!==u&&d(pe)},[be,jo,u]);const of=()=>{C(pe=>pe==="light"?"dark":"light"),v==="light"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Qp=()=>I(pe=>!pe),zi=(pe,_e)=>{!pe||pe<1||R(Te=>Te.some(tt=>tt.page===pe)?Te:[{id:Date.now().toString(),page:pe,label:_e||`Page ${pe}`,createdAt:Date.now()},...Te])},Qy=pe=>{R(_e=>_e.filter(Te=>Te.id!==pe))},kp=()=>{H(null)},SB=()=>{u<e.length-1&&Us(u+1)},xB=()=>{u>0&&Us(u-1)},Us=pe=>{if(pe>=0&&pe<e.length){kp(),d(pe);const _e=e[pe],Te=wr[_e.id];Te&&Ps(Te)}},Dr=async pe=>{l(!0);try{const _e=await xfe(pe);_e.chapters.length>0?(t(_e.chapters),d(0),a(_e.chunks),i(null),Se(!0),Ue("ai"),alert(`"${pe.name}"()   .`)):alert("Processed PDF but found no readable content.")}catch(_e){console.error("PDF Load Failed",_e),alert("Failed to load PDF. Please ensure it is a valid PDF file.")}finally{l(!1)}},Mi=(pe,_e,Te,Fe)=>{const tt=Te||Yn.id,Xn={id:Date.now().toString(),chapterId:tt,text:pe,color:"yellow",pageNumber:Fe,note:_e,createdAt:Date.now()};return D(Gn=>[Xn,...Gn]),St(Gn=>({...Gn,highlightCount:Gn.highlightCount+1})),Xn.id},KA=(pe,_e)=>{D(Te=>Te.map(Fe=>Fe.id===pe?{...Fe,..._e}:Fe))},ky=pe=>{D(_e=>_e.filter(Te=>Te.id!==pe))},_B=pe=>{I(!0),H(pe),setTimeout(()=>H(null),2e3)},$I=pe=>{const _e=typeof pe=="string"?M.find(Te=>Te.id===pe):pe;if(_e){if(_e.chapterId==="reference-doc"&&!_e.pageNumber&&be&&KA(_e.id,{pageNumber:be}),_e.chapterId==="reference-doc"&&_e.pageNumber)Ps(_e.pageNumber);else{const Te=e.findIndex(Fe=>Fe.id===_e.chapterId);Te>=0&&Us(Te)}_B(_e.id)}},TB=(pe,_e)=>{te(Te=>({...Te,[pe]:[...Te[pe]||[],_e]}))},Af=(pe,_e)=>{te(Te=>({...Te,[pe]:(Te[pe]||[]).filter(Fe=>Fe.id!==_e)}))},Oy=pe=>(q[pe]||[]).length>0,GA=(pe,_e)=>{const Te={id:Date.now().toString(),title:pe||"Untitled Note",content:_e,chapterId:Yn.id,chapterTitle:Yn.title,createdAt:Date.now(),updatedAt:Date.now()};ve(Fe=>[Te,...Fe])},ju=(pe,_e,Te)=>{ve(Fe=>Fe.map(tt=>tt.id===pe?{...tt,title:_e,content:Te,updatedAt:Date.now()}:tt))},lf=pe=>{ve(_e=>_e.filter(Te=>Te.id!==pe))},Wu=pe=>{let _e=pe.content.replace(/<[^>]+>/g,"");const Te=new Blob([`# ${pe.title}

${_e}`],{type:"text/markdown"}),Fe=URL.createObjectURL(Te),tt=document.createElement("a");tt.href=Fe,tt.download=`${pe.title.replace(/\s+/g,"_")}.md`,tt.click(),URL.revokeObjectURL(Fe)},Cr=async pe=>{const _e=await pe.text();let Te=pe.name.replace(".md","").replace(".json",""),Fe=_e.replace(/\n/g,"<br>");GA(Te,Fe)},Op=(pe,_e)=>{const Te={id:Date.now().toString(),role:pe,text:_e,timestamp:Date.now()};fe(Fe=>[...Fe,Te])},IB=async pe=>{Se(!0),Ue("ai");const _e=`Explain: "${pe}"`;Op("user",_e),Fi();let Te=Yn.content.substring(0,2e3);if(s.length>0){const tt=_fe(pe,s);tt&&(Te=tt)}const Fe=await K6(pe,Te);Op("model",Fe)},zA=pe=>{if(!pe||pe.length<2)return[];const _e=[],Te=pe.toLowerCase();return e.forEach(Fe=>{const tt=Fe.content.replace(/<[^>]+>/g," "),Xn=tt.toLowerCase().indexOf(Te);if(Xn!==-1){const Gn=Math.max(0,Xn-40),Sn=Math.min(tt.length,Xn+40+pe.length),Wo=(Gn>0?"...":"")+tt.substring(Gn,Sn)+(Sn<tt.length?"...":"");_e.push({id:`ch-${Fe.id}-${Xn}`,type:"chapter",title:Fe.title,contentSnippet:Wo,chapterId:Fe.id,matchIndex:Xn})}}),M.forEach(Fe=>{(Fe.text.toLowerCase().includes(Te)||Fe.note&&Fe.note.toLowerCase().includes(Te))&&_e.push({id:`hl-${Fe.id}`,type:"highlight",title:"Highlight",contentSnippet:Fe.note?`${Fe.text} - ${Fe.note}`:Fe.text,chapterId:Fe.chapterId,pageNumber:Fe.pageNumber})}),he.forEach(Fe=>{const tt=Fe.content.replace(/<[^>]+>/g," ");(Fe.title.toLowerCase().includes(Te)||tt.toLowerCase().includes(Te))&&_e.push({id:`note-${Fe.id}`,type:"note",title:Fe.title,contentSnippet:tt.substring(0,80)+"...",chapterId:Fe.chapterId})}),Ar.forEach(Fe=>{const tt=Fe.text.toLowerCase().indexOf(Te);if(tt!==-1){const Xn=Math.max(0,tt-40),Gn=Math.min(Fe.text.length,tt+40+pe.length),Sn=(Xn>0?"...":"")+Fe.text.substring(Xn,Gn)+(Gn<Fe.text.length?"...":"");_e.push({id:`pdf-${Fe.page}-${tt}`,type:"pdf",title:`p.${Fe.page}`,contentSnippet:Sn,pageNumber:Fe.page})}}),_e},Ps=pe=>{const _e=Number.isFinite(pe)?Math.max(1,Math.round(pe)):1;kp(),Le(_e),Cn?Cn(_e):En(_e)},qI=tm.useCallback(pe=>{fn(()=>pe),Zt!==null&&(pe(Zt),En(null))},[Zt]);F.useEffect(()=>{if(Jt.current)return;const pe=JK();if(!pe)return;Jt.current=!0,(async()=>{try{const Te=Vfe({bookCd:pe.bookCd,memberCd:pe.memberCd,pageOffset:pe.pageOffset});if(Te){Ps(Te);return}const Fe=await Hfe(pe);Fe&&Ps(Fe)}catch(Te){console.error("Failed to load RMS progress",Te)}})()},[Ps]);const FB=tm.useCallback(pe=>{br(pe)},[]),MB=async()=>{const pe=JK();if(!pe){alert("RMS  . (VITE_RMS_API_BASE, VITE_RMS_BOOK_CD)");return}try{await Kfe({apiBase:pe.apiBase,bookCd:pe.bookCd,memberCd:pe.memberCd,orderIgnore:pe.orderIgnore,pageOffset:pe.pageOffset,pageIndex:be,viewMode:b,lastPages:be,bookTotalPages:et}),alert("Progress Saved!")}catch(_e){const Te=_e instanceof Error?_e.message:String(_e);console.error("Failed to save progress",_e),alert(`Progress Save Failed: ${Te}`)}};return Q.jsx(sY.Provider,{value:{chapters:e,referenceDocument:r,currentChapterIndex:u,currentChapter:Yn,goToNextChapter:SB,goToPrevChapter:xB,goToChapter:Us,uploadBook:Dr,isProcessing:o,fontSize:h,setFontSize:g,viewMode:b,setViewMode:B,theme:v,toggleTheme:of,showAnnotations:S,toggleAnnotations:Qp,bookmarks:T,addPdfBookmark:zi,removePdfBookmark:Qy,highlights:M,addHighlight:Mi,updateHighlight:KA,removeHighlight:ky,activeHighlightId:L,focusHighlight:_B,drawingMode:k,setDrawingMode:G,penColor:K,setPenColor:z,penWidth:J,setPenWidth:ne,penOpacity:oe,setPenOpacity:V,chapterStrokes:q,addStroke:TB,removeStroke:Af,hasStrokes:Oy,generalNotes:he,addGeneralNote:GA,updateGeneralNote:ju,removeGeneralNote:lf,importNotes:Cr,exportNoteAsMarkdown:Wu,isCaptureMode:$,setCaptureMode:Y,capturedImage:Ae,setCapturedImage:me,aiChatHistory:re,addChatMessage:Op,triggerSmartExplain:IB,isToolsOpen:le,setToolsOpen:Se,activeToolTab:Z,setActiveToolTab:Ue,searchQuery:Ie,setSearchQuery:ye,performSearch:zA,isTtsPlaying:vt,currentTtsSegmentIndex:Vt,ttsConfig:Kn,setTtsConfig:xe,startTts:Ke,stopTts:Ft,pauseTts:dn,stats:bn,incrementAiCount:Fi,updateReadingTime:Ea,saveProgress:MB,pdfTextPages:Ar,setPdfTextPages:FB,goToPdfPage:Ps,goToHighlight:$I,registerPdfNavigator:qI,pdfSearchHighlight:Bn,setPdfSearchHighlight:Ca,currentPdfPage:be,setCurrentPdfPage:Le,pdfTotalPages:et,setPdfTotalPages:Mt},children:n})},tf=()=>{const n=F.useContext(sY);if(n===void 0)throw new Error("useBook must be used within a BookProvider");return n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wfe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),ZK=n=>{const e=Wfe(n);return e.charAt(0).toUpperCase()+e.slice(1)},aY=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Yfe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>F.createElement("svg",{ref:l,...Xfe,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:aY("lucide",i),...!s&&!Yfe(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>F.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(n,e)=>{const t=F.forwardRef(({className:r,...i},s)=>F.createElement(Jfe,{ref:s,iconNode:e,className:aY(`lucide-${jfe(ZK(n))}`,`lucide-${n}`,r),...i}));return t.displayName=ZK(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],ehe=nt("bold",Zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nhe=nt("book-open",the);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],wN=nt("book",rhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],she=nt("bookmark-check",ihe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],ohe=nt("bookmark-plus",ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],eG=nt("bookmark",Ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],tG=nt("bot",lhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],che=nt("camera",uhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fhe=nt("chevron-left",dhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],phe=nt("chevron-right",hhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ghe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mhe=nt("clock",ghe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],yhe=nt("columns-2",vhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],bhe=nt("ellipsis-vertical",whe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Ehe=nt("eraser",Che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],She=nt("eye",Bhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nG=nt("file-text",xhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],oY=nt("file-up",_he);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const The=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],rG=nt("funnel",The);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],T_=nt("highlighter",Ihe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fhe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Mhe=nt("list",Fhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uhe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Phe=nt("loader-circle",Uhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rhe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dhe=nt("log-out",Rhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nhe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lhe=nt("message-circle-question-mark",Nhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],vU=nt("message-square",Qhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const khe=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ohe=nt("minus",khe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Vhe=nt("panel-left",Hhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Khe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Ghe=nt("panel-right",Khe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zhe=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],$he=nt("pause",zhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jhe=nt("pen-line",qhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Whe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],AY=nt("pen-tool",Whe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yhe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Xhe=nt("pen",Yhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Zhe=nt("play",Jhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bN=nt("plus",epe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],npe=nt("printer",tpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lY=nt("save",rpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yU=nt("search",ipe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],ape=nt("settings-2",spe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ope=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Ape=nt("square",ope);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],upe=nt("sticky-note",lpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],dpe=nt("table",cpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],CN=nt("trash-2",fpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],ppe=nt("type",hpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],mpe=nt("upload",gpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],ype=nt("volume-2",vpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wpe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iG=nt("x",wpe),uY=({toggleSidebar:n,isSidebarOpen:e})=>{const{fontSize:t,setFontSize:r,viewMode:i,setViewMode:s,drawingMode:a,setDrawingMode:o,penColor:l,setPenColor:u,penWidth:d,setPenWidth:h,penOpacity:g,setPenOpacity:v,saveProgress:C,showAnnotations:b,toggleAnnotations:B,isToolsOpen:S,setToolsOpen:I,bookmarks:T,addPdfBookmark:R,removePdfBookmark:M,currentPdfPage:D,uploadBook:L,isProcessing:H,isTtsPlaying:k,startTts:G,stopTts:K,pauseTts:z,ttsConfig:J,setTtsConfig:ne,setActiveToolTab:oe}=tf(),V=ku(),q=a6(),te=V.pathname==="/",[he,ve]=F.useState(!1),[$,Y]=F.useState(!1),[Ae,me]=F.useState(!1),[re,fe]=F.useState(!1),le=F.useRef(null),Se=T.find(rt=>rt.page===D),Z=!!Se,Ue=()=>{confirm("Are you sure you want to close the viewer?")&&q("/report")},Ie=()=>{var rt;(rt=le.current)==null||rt.click()},ye=rt=>{rt.target.files&&rt.target.files[0]&&L(rt.target.files[0])},vt=()=>{D&&(Se?M(Se.id):R(D,`p.${D}`))},qe=rt=>{const wr=["small","medium","large","xlarge"],Wn=wr.indexOf(t);let Xt=rt==="up"?Wn+1:Wn-1;Xt<0&&(Xt=0),Xt>=wr.length&&(Xt=wr.length-1),r(wr[Xt])},Vt=["Kore","Puck","Charon","Fenrir","Zephyr"],It=[.75,1,1.2,1.5,2],Kn=["#000000","#ef4444","#3b82f6","#22c55e","#eab308"];return Q.jsx("header",{className:"header",children:Q.jsxs("div",{className:"header_inner",children:[Q.jsxs("div",{className:"header_main",children:[te&&Q.jsx("button",{onClick:n,className:`left_toggle ${e?"open":"off"}`,title:"Table of Contents",children:Q.jsx(Vhe,{size:20})}),Q.jsxs("div",{className:"logo_wrap",children:[Q.jsx("div",{className:"icon",children:Q.jsx(wN,{})}),Q.jsx("span",{className:"logo_text",children:"CampusBook"})]})]}),Q.jsx("div",{className:"header_nav",children:Q.jsxs("div",{className:"mode_select",children:[Q.jsx(X_,{to:"/",className:`reader ${te?"on":"off"}`,children:"Reader"}),Q.jsx(X_,{to:"/report",className:`report ${te?"off":"on"}`,children:"Report"})]})}),Q.jsxs("div",{className:"header_tools",children:[te&&Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:"relative",children:[Q.jsx("button",{onClick:()=>me(!Ae),className:`p-2 rounded-lg transition-all ${k?"text-blue-600 bg-blue-50":"text-slate-500 hover:bg-slate-100"}`,title:"AI Voice",children:Q.jsx(ype,{size:20})}),Ae&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border p-5 z-[70]",children:[Q.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Q.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:"AI Reading Assistant"}),Q.jsx("button",{onClick:()=>me(!1),className:"text-slate-400",children:Q.jsx(iG,{size:14})})]}),Q.jsxs("div",{className:"flex justify-center gap-4 mb-5 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[Q.jsx("button",{onClick:K,className:"p-2.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full text-slate-500",children:Q.jsx(Ape,{size:16,fill:"currentColor"})}),Q.jsx("button",{onClick:()=>k?z():G(),className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-lg hover:scale-105 active:scale-95 transition-transform",children:k?Q.jsx($he,{size:24,fill:"white"}):Q.jsx(Zhe,{size:24,className:"ml-1",fill:"white"})})]}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Voice Tone"}),Q.jsx("div",{className:"grid grid-cols-3 gap-1",children:Vt.map(rt=>Q.jsx("button",{onClick:()=>ne({voice:rt}),className:`px-2 py-1 rounded text-[10px] border transition-all ${J.voice===rt?"bg-blue-600 border-blue-600 text-white":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:rt},rt))})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Speed"}),Q.jsx("div",{className:"flex justify-between gap-1",children:It.map(rt=>Q.jsxs("button",{onClick:()=>ne({speed:rt}),className:`flex-1 py-1 rounded text-[10px] border transition-all ${J.speed===rt?"bg-blue-600 border-blue-600 text-white font-bold":"bg-slate-100 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:[rt,"x"]},rt))})]})]})]})]}),Q.jsx("button",{onClick:vt,className:`bookmark_icon_btn ${Z?"on":"off"}`,title:Z?"Remove bookmark for this page":"Bookmark this page",children:Z?Q.jsx(she,{size:20}):Q.jsx(ohe,{size:20})}),Q.jsxs("div",{className:"draw_icon_wrap",children:[Q.jsxs("div",{className:"draw_icon_inner",children:[Q.jsx("button",{onClick:()=>o(a==="pen"?"idle":"pen"),className:`pen_tool ${a==="pen"?"on":"off"}`,title:"Pen Tool",children:Q.jsx(Xhe,{size:18})}),a==="pen"&&Q.jsx("button",{onClick:()=>ve(!he),className:"detail_select",title:"Pen Settings",children:Q.jsx(ape,{size:12})}),Q.jsx("button",{onClick:()=>{o(a==="eraser"?"idle":"eraser"),ve(!1)},className:`eraser_tool ${a==="eraser"?"on":"off"}`,title:"Eraser",children:Q.jsx(Ehe,{size:18})})]}),he&&a==="pen"&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[Q.jsxs("div",{className:"flex justify-between items-center mb-3",children:[Q.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Pen Settings"}),Q.jsx("button",{onClick:()=>ve(!1),className:"text-slate-400 hover:text-slate-600",children:Q.jsx(iG,{size:14})})]}),Q.jsx("div",{className:"flex justify-between mb-4",children:Kn.map(rt=>Q.jsx("button",{onClick:()=>u(rt),className:`w-6 h-6 rounded-full transition-transform hover:scale-110 border border-slate-200 dark:border-slate-700 ${l===rt?"ring-2 ring-offset-2 ring-blue-500 scale-110":""}`,style:{backgroundColor:rt}},rt))}),Q.jsxs("div",{className:"mb-3",children:[Q.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[Q.jsx("span",{children:"Thickness"}),Q.jsxs("span",{children:[d,"px"]})]}),Q.jsx("input",{type:"range",min:"1",max:"15",step:"1",value:d,onChange:rt=>h(parseInt(rt.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),Q.jsxs("div",{children:[Q.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[Q.jsx("span",{children:"Opacity"}),Q.jsxs("span",{children:[Math.round(g*100),"%"]})]}),Q.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:g,onChange:rt=>v(parseFloat(rt.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]})]}),Q.jsxs("div",{className:"relative",children:[Q.jsx("button",{onClick:()=>Y(!$),className:"appearance",title:"Appearance",children:Q.jsx(ppe,{size:20})}),$&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-60 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[Q.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"View Settings"}),Q.jsxs("div",{className:"flex items-center justify-between mb-4 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[Q.jsx("button",{onClick:()=>qe("down"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:Q.jsx(Ohe,{size:14})}),Q.jsx("span",{className:"text-sm font-medium",children:t==="medium"?"100%":t==="small"?"85%":t==="large"?"115%":"130%"}),Q.jsx("button",{onClick:()=>qe("up"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:Q.jsx(bN,{size:14})})]}),Q.jsxs("div",{className:"space-y-2",children:[Q.jsxs("button",{onClick:()=>s(i==="single"?"double":"single"),className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(yhe,{size:16})," Two-Page View"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${i==="double"?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${i==="double"?"translate-x-4":""}`})})]}),Q.jsxs("button",{onClick:B,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(She,{size:16})," Annotations"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${b?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${b?"translate-x-4":""}`})})]})]})]})]}),Q.jsx("button",{onClick:()=>I(!S),className:`toggle_ai_notes ${S?"on":"off"}`,title:"Toggle AI & Notes",children:Q.jsx(Ghe,{size:20})})]}),Q.jsxs("div",{className:"relative ml-1",children:[Q.jsx("button",{onClick:()=>fe(!re),className:"more",children:Q.jsx(bhe,{size:20})}),re&&Q.jsxs("div",{className:"more_list",children:[Q.jsxs("button",{onClick:Ie,className:"",children:[H?Q.jsx(Phe,{size:14,className:"animate-spin"}):Q.jsx(oY,{size:14})," ","Add Reference PDF"]}),Q.jsx("input",{type:"file",ref:le,className:"hidden",accept:"application/pdf",onChange:ye}),Q.jsxs("button",{onClick:C,className:"",children:[Q.jsx(lY,{size:14})," Save Progress"]}),Q.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800 my-1"}),Q.jsxs("button",{onClick:Ue,className:"exit_viewer",children:[Q.jsx(Dhe,{size:14})," Exit Viewer"]})]})]})]})]})})},bpe=(n,e,t)=>n.trim()?(e(n),t(),!0):(t(),!1);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EN=function(n,e){return EN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},EN(n,e)};function $o(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");EN(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var BN=function(){return BN=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},BN.apply(this,arguments)};function Zi(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(n,[])).next())})}function Oi(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function XS(n,e,t){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||e)}var xu=(function(){function n(e,t,r,i){this.left=e,this.top=t,this.width=r,this.height=i}return n.prototype.add=function(e,t,r,i){return new n(this.left+e,this.top+t,this.width+r,this.height+i)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var r=Array.from(t).find(function(i){return i.width!==0});return r?new n(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),X1=function(n,e){return xu.fromClientRect(n,e.getBoundingClientRect())},Cpe=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new xu(0,0,r,i)},J1=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},gr=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var a=n[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},sG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Epe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var JS=0;JS<sG.length;JS++)Epe[sG.charCodeAt(JS)]=JS;var aG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ZS=0;ZS<aG.length;ZS++)yw[aG.charCodeAt(ZS)]=ZS;var Bpe=function(n){var e=n.length*.75,t=n.length,r,i=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<t;r+=4)s=yw[n.charCodeAt(r)],a=yw[n.charCodeAt(r+1)],o=yw[n.charCodeAt(r+2)],l=yw[n.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|l&63;return u},Spe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},xpe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},mp=5,tk=11,wU=2,_pe=tk-mp,cY=65536>>mp,Tpe=1<<mp,bU=Tpe-1,Ipe=1024>>mp,Fpe=cY+Ipe,Mpe=Fpe,Upe=32,Ppe=Mpe+Upe,Rpe=65536>>tk,Dpe=1<<_pe,Npe=Dpe-1,oG=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},Lpe=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},Qpe=function(n,e){var t=Bpe(n),r=Array.isArray(t)?xpe(t):new Uint32Array(t),i=Array.isArray(t)?Spe(t):new Uint16Array(t),s=24,a=oG(i,s/2,r[4]/2),o=r[5]===2?oG(i,(s+r[4])/2):Lpe(r,Math.ceil((s+r[4])/4));return new kpe(r[0],r[1],r[2],r[3],a,o)},kpe=(function(){function n(e,t,r,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>mp],t=(t<<wU)+(e&bU),this.data[t];if(e<=65535)return t=this.index[cY+(e-55296>>mp)],t=(t<<wU)+(e&bU),this.data[t];if(e<this.highStart)return t=Ppe-Rpe+(e>>tk),t=this.index[t],t+=e>>mp&Npe,t=this.index[t],t=(t<<wU)+(e&bU),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),AG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ope=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ex=0;ex<AG.length;ex++)Ope[AG.charCodeAt(ex)]=ex;var Hpe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",lG=50,Vpe=1,dY=2,fY=3,Kpe=4,Gpe=5,uG=7,hY=8,cG=9,Hd=10,SN=11,dG=12,xN=13,zpe=14,ww=15,_N=16,tx=17,L0=18,$pe=19,fG=20,TN=21,Q0=22,CU=23,bg=24,Hs=25,bw=26,Cw=27,Cg=28,qpe=29,Nf=30,jpe=31,nx=32,rx=33,IN=34,FN=35,MN=36,Xw=37,UN=38,I_=39,F_=40,EU=41,pY=42,Wpe=43,Ype=[9001,65288],gY="!",Bt="",ix="",PN=Qpe(Hpe),ll=[Nf,MN],RN=[Vpe,dY,fY,Gpe],mY=[Hd,hY],hG=[Cw,bw],Xpe=RN.concat(mY),pG=[UN,I_,F_,IN,FN],Jpe=[ww,xN],Zpe=function(n,e){e===void 0&&(e="strict");var t=[],r=[],i=[];return n.forEach(function(s,a){var o=PN.get(s);if(o>lG?(i.push(!0),o-=lG):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(a),t.push(_N);if(o===Kpe||o===SN){if(a===0)return r.push(a),t.push(Nf);var l=t[a-1];return Xpe.indexOf(l)===-1?(r.push(r[a-1]),t.push(l)):(r.push(a),t.push(Nf))}if(r.push(a),o===jpe)return t.push(e==="strict"?TN:Xw);if(o===pY||o===qpe)return t.push(Nf);if(o===Wpe)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Xw):t.push(Nf);t.push(o)}),[r,t,i]},BU=function(n,e,t,r){var i=r[t];if(Array.isArray(n)?n.indexOf(i)!==-1:n===i)for(var s=t;s<=r.length;){s++;var a=r[s];if(a===e)return!0;if(a!==Hd)break}if(i===Hd)for(var s=t;s>0;){s--;var o=r[s];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var l=t;l<=r.length;){l++;var a=r[l];if(a===e)return!0;if(a!==Hd)break}if(o!==Hd)break}return!1},gG=function(n,e){for(var t=n;t>=0;){var r=e[t];if(r===Hd)t--;else return r}return 0},ege=function(n,e,t,r,i){if(t[r]===0)return Bt;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return Bt;var a=s-1,o=s+1,l=e[s],u=a>=0?e[a]:0,d=e[o];if(l===dY&&d===fY)return Bt;if(RN.indexOf(l)!==-1)return gY;if(RN.indexOf(d)!==-1||mY.indexOf(d)!==-1)return Bt;if(gG(s,e)===hY)return ix;if(PN.get(n[s])===SN||(l===nx||l===rx)&&PN.get(n[o])===SN||l===uG||d===uG||l===cG||[Hd,xN,ww].indexOf(l)===-1&&d===cG||[tx,L0,$pe,bg,Cg].indexOf(d)!==-1||gG(s,e)===Q0||BU(CU,Q0,s,e)||BU([tx,L0],TN,s,e)||BU(dG,dG,s,e))return Bt;if(l===Hd)return ix;if(l===CU||d===CU)return Bt;if(d===_N||l===_N)return ix;if([xN,ww,TN].indexOf(d)!==-1||l===zpe||u===MN&&Jpe.indexOf(l)!==-1||l===Cg&&d===MN||d===fG||ll.indexOf(d)!==-1&&l===Hs||ll.indexOf(l)!==-1&&d===Hs||l===Cw&&[Xw,nx,rx].indexOf(d)!==-1||[Xw,nx,rx].indexOf(l)!==-1&&d===bw||ll.indexOf(l)!==-1&&hG.indexOf(d)!==-1||hG.indexOf(l)!==-1&&ll.indexOf(d)!==-1||[Cw,bw].indexOf(l)!==-1&&(d===Hs||[Q0,ww].indexOf(d)!==-1&&e[o+1]===Hs)||[Q0,ww].indexOf(l)!==-1&&d===Hs||l===Hs&&[Hs,Cg,bg].indexOf(d)!==-1)return Bt;if([Hs,Cg,bg,tx,L0].indexOf(d)!==-1)for(var h=s;h>=0;){var g=e[h];if(g===Hs)return Bt;if([Cg,bg].indexOf(g)!==-1)h--;else break}if([Cw,bw].indexOf(d)!==-1)for(var h=[tx,L0].indexOf(l)!==-1?a:s;h>=0;){var g=e[h];if(g===Hs)return Bt;if([Cg,bg].indexOf(g)!==-1)h--;else break}if(UN===l&&[UN,I_,IN,FN].indexOf(d)!==-1||[I_,IN].indexOf(l)!==-1&&[I_,F_].indexOf(d)!==-1||[F_,FN].indexOf(l)!==-1&&d===F_||pG.indexOf(l)!==-1&&[fG,bw].indexOf(d)!==-1||pG.indexOf(d)!==-1&&l===Cw||ll.indexOf(l)!==-1&&ll.indexOf(d)!==-1||l===bg&&ll.indexOf(d)!==-1||ll.concat(Hs).indexOf(l)!==-1&&d===Q0&&Ype.indexOf(n[o])===-1||ll.concat(Hs).indexOf(d)!==-1&&l===L0)return Bt;if(l===EU&&d===EU){for(var v=t[s],C=1;v>0&&(v--,e[v]===EU);)C++;if(C%2!==0)return Bt}return l===nx&&d===rx?Bt:ix},tge=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Zpe(n,e.lineBreak),r=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[Hs,Nf,pY].indexOf(o)!==-1?Xw:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&n[l]>=19968&&n[l]<=40959}):void 0;return[r,i,a]},nge=(function(){function n(e,t,r,i){this.codePoints=e,this.required=t===gY,this.start=r,this.end=i}return n.prototype.slice=function(){return gr.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),rge=function(n,e){var t=J1(n),r=tge(t,e),i=r[0],s=r[1],a=r[2],o=t.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=Bt;u<o&&(d=ege(t,s,i,++u,a))===Bt;);if(d!==Bt||u===o){var h=new nge(t,d,l,u);return l=u,{value:h,done:!1}}return{done:!0,value:null}}}},ige=1,sge=2,tB=4,mG=8,hT=10,vG=47,Nw=92,age=9,oge=32,sx=34,k0=61,Age=35,lge=36,uge=37,ax=39,ox=40,O0=41,cge=95,_s=45,dge=33,fge=60,hge=62,pge=64,gge=91,mge=93,vge=61,yge=123,Ax=63,wge=125,yG=124,bge=126,Cge=128,wG=65533,SU=42,Of=43,Ege=44,Bge=58,Sge=59,Jw=46,xge=0,_ge=8,Tge=11,Ige=14,Fge=31,Mge=127,nA=-1,vY=48,yY=97,wY=101,Uge=102,Pge=117,Rge=122,bY=65,CY=69,EY=70,Dge=85,Nge=90,Vi=function(n){return n>=vY&&n<=57},Lge=function(n){return n>=55296&&n<=57343},Eg=function(n){return Vi(n)||n>=bY&&n<=EY||n>=yY&&n<=Uge},Qge=function(n){return n>=yY&&n<=Rge},kge=function(n){return n>=bY&&n<=Nge},Oge=function(n){return Qge(n)||kge(n)},Hge=function(n){return n>=Cge},lx=function(n){return n===hT||n===age||n===oge},pT=function(n){return Oge(n)||Hge(n)||n===cge},bG=function(n){return pT(n)||Vi(n)||n===_s},Vge=function(n){return n>=xge&&n<=_ge||n===Tge||n>=Ige&&n<=Fge||n===Mge},Bc=function(n,e){return n!==Nw?!1:e!==hT},ux=function(n,e,t){return n===_s?pT(e)||Bc(e,t):pT(n)?!0:!!(n===Nw&&Bc(n,e))},xU=function(n,e,t){return n===Of||n===_s?Vi(e)?!0:e===Jw&&Vi(t):Vi(n===Jw?e:n)},Kge=function(n){var e=0,t=1;(n[e]===Of||n[e]===_s)&&(n[e]===_s&&(t=-1),e++);for(var r=[];Vi(n[e]);)r.push(n[e++]);var i=r.length?parseInt(gr.apply(void 0,r),10):0;n[e]===Jw&&e++;for(var s=[];Vi(n[e]);)s.push(n[e++]);var a=s.length,o=a?parseInt(gr.apply(void 0,s),10):0;(n[e]===CY||n[e]===wY)&&e++;var l=1;(n[e]===Of||n[e]===_s)&&(n[e]===_s&&(l=-1),e++);for(var u=[];Vi(n[e]);)u.push(n[e++]);var d=u.length?parseInt(gr.apply(void 0,u),10):0;return t*(i+o*Math.pow(10,-a))*Math.pow(10,l*d)},Gge={type:2},zge={type:3},$ge={type:4},qge={type:13},jge={type:8},Wge={type:21},Yge={type:9},Xge={type:10},Jge={type:11},Zge={type:12},eme={type:14},cx={type:23},tme={type:1},nme={type:25},rme={type:24},ime={type:26},sme={type:27},ame={type:28},ome={type:29},Ame={type:31},DN={type:32},BY=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(J1(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==DN;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case sx:return this.consumeStringToken(sx);case Age:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(bG(t)||Bc(r,i)){var s=ux(t,r,i)?sge:ige,a=this.consumeName();return{type:5,value:a,flags:s}}break;case lge:if(this.peekCodePoint(0)===k0)return this.consumeCodePoint(),qge;break;case ax:return this.consumeStringToken(ax);case ox:return Gge;case O0:return zge;case SU:if(this.peekCodePoint(0)===k0)return this.consumeCodePoint(),eme;break;case Of:if(xU(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ege:return $ge;case _s:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(xU(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(ux(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===_s&&u===hge)return this.consumeCodePoint(),this.consumeCodePoint(),rme;break;case Jw:if(xU(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case vG:if(this.peekCodePoint(0)===SU)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===SU&&(d=this.consumeCodePoint(),d===vG))return this.consumeToken();if(d===nA)return this.consumeToken()}break;case Bge:return ime;case Sge:return sme;case fge:if(this.peekCodePoint(0)===dge&&this.peekCodePoint(1)===_s&&this.peekCodePoint(2)===_s)return this.consumeCodePoint(),this.consumeCodePoint(),nme;break;case pge:var h=this.peekCodePoint(0),g=this.peekCodePoint(1),v=this.peekCodePoint(2);if(ux(h,g,v)){var a=this.consumeName();return{type:7,value:a}}break;case gge:return ame;case Nw:if(Bc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case mge:return ome;case vge:if(this.peekCodePoint(0)===k0)return this.consumeCodePoint(),jge;break;case yge:return Jge;case wge:return Zge;case Pge:case Dge:var C=this.peekCodePoint(0),b=this.peekCodePoint(1);return C===Of&&(Eg(b)||b===Ax)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case yG:if(this.peekCodePoint(0)===k0)return this.consumeCodePoint(),Yge;if(this.peekCodePoint(0)===yG)return this.consumeCodePoint(),Wge;break;case bge:if(this.peekCodePoint(0)===k0)return this.consumeCodePoint(),Xge;break;case nA:return DN}return lx(e)?(this.consumeWhiteSpace(),Ame):Vi(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):pT(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:gr(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Eg(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===Ax&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(gr.apply(void 0,e.map(function(l){return l===Ax?vY:l})),16),s=parseInt(gr.apply(void 0,e.map(function(l){return l===Ax?EY:l})),16);return{type:30,start:i,end:s}}var a=parseInt(gr.apply(void 0,e),16);if(this.peekCodePoint(0)===_s&&Eg(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];Eg(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(gr.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===ox?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ox?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===nA)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===ax||t===sx){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===nA||this.peekCodePoint(0)===O0)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),cx)}for(;;){var i=this.consumeCodePoint();if(i===nA||i===O0)return{type:22,value:gr.apply(void 0,e)};if(lx(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===nA||this.peekCodePoint(0)===O0?(this.consumeCodePoint(),{type:22,value:gr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),cx);if(i===sx||i===ax||i===ox||Vge(i))return this.consumeBadUrlRemnants(),cx;if(i===Nw)if(Bc(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),cx;else e.push(i)}},n.prototype.consumeWhiteSpace=function(){for(;lx(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===O0||e===nA)return;Bc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var i=Math.min(t,e);r+=gr.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},n.prototype.consumeStringToken=function(e){var t="",r=0;do{var i=this._value[r];if(i===nA||i===void 0||i===e)return t+=this.consumeStringSlice(r),{type:0,value:t};if(i===hT)return this._value.splice(0,r),tme;if(i===Nw){var s=this._value[r+1];s!==nA&&s!==void 0&&(s===hT?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):Bc(i,s)&&(t+=this.consumeStringSlice(r),t+=gr(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=tB,r=this.peekCodePoint(0);for((r===Of||r===_s)&&e.push(this.consumeCodePoint());Vi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Jw&&Vi(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=mG;Vi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===CY||r===wY)&&((i===Of||i===_s)&&Vi(s)||Vi(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=mG;Vi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Kge(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(ux(i,s,a)){var o=this.consumeName();return{type:15,number:t,flags:r,unit:o}}return i===uge?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Eg(e)){for(var t=gr(e);Eg(this.peekCodePoint(0))&&t.length<6;)t+=gr(this.consumeCodePoint());lx(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||Lge(r)||r>1114111?wG:r}return e===nA?wG:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(bG(t))e+=gr(t);else if(Bc(t,this.peekCodePoint(0)))e+=gr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),SY=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new BY;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||ume(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?DN:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),nB=function(n){return n.type===15},Iy=function(n){return n.type===17},cn=function(n){return n.type===20},lme=function(n){return n.type===0},NN=function(n,e){return cn(n)&&n.value===e},xY=function(n){return n.type!==31},Ay=function(n){return n.type!==31&&n.type!==4},HA=function(n){var e=[],t=[];return n.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&e.push(t),e},ume=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},jd=function(n){return n.type===17||n.type===15},Mr=function(n){return n.type===16||jd(n)},_Y=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},_i={type:17,number:0,flags:tB},nk={type:16,number:50,flags:tB},Vd={type:16,number:100,flags:tB},Ew=function(n,e,t){var r=n[0],i=n[1];return[In(r,e),In(typeof i<"u"?i:r,t)]},In=function(n,e){if(n.type===16)return n.number/100*e;if(nB(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},TY="deg",IY="grad",FY="rad",MY="turn",Z1={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case TY:return Math.PI*e.number/180;case IY:return Math.PI/200*e.number;case FY:return e.number;case MY:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},UY=function(n){return n.type===15&&(n.unit===TY||n.unit===IY||n.unit===FY||n.unit===MY)},PY=function(n){var e=n.filter(cn).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[_i,_i];case"to top":case"bottom":return ro(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[_i,Vd];case"to right":case"left":return ro(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vd,Vd];case"to bottom":case"top":return ro(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vd,_i];case"to left":case"right":return ro(270)}return 0},ro=function(n){return Math.PI*n/180},Gd={name:"color",parse:function(n,e){if(e.type===18){var t=cme[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Kd(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return Kd(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Kd(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return Kd(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=vu[e.value.toUpperCase()];if(typeof o<"u")return o}return vu.TRANSPARENT}},zd=function(n){return(255&n)===0},Wr=function(n){var e=255&n,t=255&n>>8,r=255&n>>16,i=255&n>>24;return e<255?"rgba("+i+","+r+","+t+","+e/255+")":"rgb("+i+","+r+","+t+")"},Kd=function(n,e,t,r){return(n<<24|e<<16|t<<8|Math.round(r*255)<<0)>>>0},CG=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},EG=function(n,e){var t=e.filter(Ay);if(t.length===3){var r=t.map(CG),i=r[0],s=r[1],a=r[2];return Kd(i,s,a,1)}if(t.length===4){var o=t.map(CG),i=o[0],s=o[1],a=o[2],l=o[3];return Kd(i,s,a,l)}return 0};function _U(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var BG=function(n,e){var t=e.filter(Ay),r=t[0],i=t[1],s=t[2],a=t[3],o=(r.type===17?ro(r.number):Z1.parse(n,r))/(Math.PI*2),l=Mr(i)?i.number/100:0,u=Mr(s)?s.number/100:0,d=typeof a<"u"&&Mr(a)?In(a,1):1;if(l===0)return Kd(u*255,u*255,u*255,1);var h=u<=.5?u*(l+1):u+l-u*l,g=u*2-h,v=_U(g,h,o+1/3),C=_U(g,h,o),b=_U(g,h,o-1/3);return Kd(v*255,C*255,b*255,d)},cme={hsl:BG,hsla:BG,rgb:EG,rgba:EG},Lw=function(n,e){return Gd.parse(n,SY.create(e).parseComponentValue())},vu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dme={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(cn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fme={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},eI=function(n,e){var t=Gd.parse(n,e[0]),r=e[1];return r&&Mr(r)?{color:t,stop:r}:{color:t,stop:null}},SG=function(n,e){var t=n[0],r=n[n.length-1];t.stop===null&&(t.stop=_i),r.stop===null&&(r.stop=Vd);for(var i=[],s=0,a=0;a<n.length;a++){var o=n[a].stop;if(o!==null){var l=In(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var u=null,a=0;a<i.length;a++){var d=i[a];if(d===null)u===null&&(u=a);else if(u!==null){for(var h=a-u,g=i[u-1],v=(d-g)/(h+1),C=1;C<=h;C++)i[u+C-1]=v*C;u=null}}return n.map(function(b,B){var S=b.color;return{color:S,stop:Math.max(Math.min(1,i[B]/e),0)}})},hme=function(n,e,t){var r=e/2,i=t/2,s=In(n[0],e)-r,a=i-In(n[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},pme=function(n,e,t){var r=typeof n=="number"?n:hme(n,e,t),i=Math.abs(e*Math.sin(r))+Math.abs(t*Math.cos(r)),s=e/2,a=t/2,o=i/2,l=Math.sin(r-Math.PI/2)*o,u=Math.cos(r-Math.PI/2)*o;return[i,s-u,s+u,a-l,a+l]},bo=function(n,e){return Math.sqrt(n*n+e*e)},xG=function(n,e,t,r,i){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(a,o){var l=o[0],u=o[1],d=bo(t-l,r-u);return(i?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:o,optimumDistance:d}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},gme=function(n,e,t,r,i){var s=0,a=0;switch(n.size){case 0:n.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(n.shape===0)s=a=Math.min(bo(e,t),bo(e,t-i),bo(e-r,t),bo(e-r,t-i));else if(n.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=xG(r,i,e,t,!0),u=l[0],d=l[1];s=bo(u-e,(d-t)/o),a=o*s}break;case 1:n.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(n.shape===0)s=a=Math.max(bo(e,t),bo(e,t-i),bo(e-r,t),bo(e-r,t-i));else if(n.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-r)),h=xG(r,i,e,t,!1),u=h[0],d=h[1];s=bo(u-e,(d-t)/o),a=o*s}break}return Array.isArray(n.size)&&(s=In(n.size[0],r),a=n.size.length===2?In(n.size[1],i):s),[s,a]},mme=function(n,e){var t=ro(180),r=[];return HA(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){t=PY(i);return}else if(UY(a)){t=Z1.parse(n,a);return}}var o=eI(n,i);r.push(o)}),{angle:t,stops:r,type:1}},dx=function(n,e){var t=ro(180),r=[];return HA(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=PY(i);return}else if(UY(a)){t=(Z1.parse(n,a)+ro(270))%ro(360);return}}var o=eI(n,i);r.push(o)}),{angle:t,stops:r,type:1}},vme=function(n,e){var t=ro(180),r=[],i=1,s=0,a=3,o=[];return HA(e).forEach(function(l,u){var d=l[0];if(u===0){if(cn(d)&&d.value==="linear"){i=1;return}else if(cn(d)&&d.value==="radial"){i=2;return}}if(d.type===18){if(d.name==="from"){var h=Gd.parse(n,d.values[0]);r.push({stop:_i,color:h})}else if(d.name==="to"){var h=Gd.parse(n,d.values[0]);r.push({stop:Vd,color:h})}else if(d.name==="color-stop"){var g=d.values.filter(Ay);if(g.length===2){var h=Gd.parse(n,g[1]),v=g[0];Iy(v)&&r.push({stop:{type:16,number:v.number*100,flags:v.flags},color:h})}}}}),i===1?{angle:(t+ro(180))%ro(360),stops:r,type:i}:{size:a,shape:s,stops:r,position:o,type:i}},RY="closest-side",DY="farthest-side",NY="closest-corner",LY="farthest-corner",QY="circle",kY="ellipse",OY="cover",HY="contain",yme=function(n,e){var t=0,r=3,i=[],s=[];return HA(e).forEach(function(a,o){var l=!0;if(o===0){var u=!1;l=a.reduce(function(h,g){if(u)if(cn(g))switch(g.value){case"center":return s.push(nk),h;case"top":case"left":return s.push(_i),h;case"right":case"bottom":return s.push(Vd),h}else(Mr(g)||jd(g))&&s.push(g);else if(cn(g))switch(g.value){case QY:return t=0,!1;case kY:return t=1,!1;case"at":return u=!0,!1;case RY:return r=0,!1;case OY:case DY:return r=1,!1;case HY:case NY:return r=2,!1;case LY:return r=3,!1}else if(jd(g)||Mr(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return h},l)}if(l){var d=eI(n,a);i.push(d)}}),{size:r,shape:t,stops:i,position:s,type:2}},fx=function(n,e){var t=0,r=3,i=[],s=[];return HA(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(d,h){if(cn(h))switch(h.value){case"center":return s.push(nk),!1;case"top":case"left":return s.push(_i),!1;case"right":case"bottom":return s.push(Vd),!1}else if(Mr(h)||jd(h))return s.push(h),!1;return d},l):o===1&&(l=a.reduce(function(d,h){if(cn(h))switch(h.value){case QY:return t=0,!1;case kY:return t=1,!1;case HY:case RY:return r=0,!1;case DY:return r=1,!1;case NY:return r=2,!1;case OY:case LY:return r=3,!1}else if(jd(h)||Mr(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return d},l)),l){var u=eI(n,a);i.push(u)}}),{size:r,shape:t,stops:i,position:s,type:2}},wme=function(n){return n.type===1},bme=function(n){return n.type===2},rk={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var r=VY[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function Cme(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!VY[n.name])}var VY={"linear-gradient":mme,"-moz-linear-gradient":dx,"-ms-linear-gradient":dx,"-o-linear-gradient":dx,"-webkit-linear-gradient":dx,"radial-gradient":yme,"-moz-radial-gradient":fx,"-ms-radial-gradient":fx,"-o-radial-gradient":fx,"-webkit-radial-gradient":fx,"-webkit-gradient":vme},Eme={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(r){return Ay(r)&&Cme(r)}).map(function(r){return rk.parse(n,r)})}},Bme={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(cn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Sme={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return HA(e).map(function(t){return t.filter(Mr)}).map(_Y)}},xme={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return HA(e).map(function(t){return t.filter(cn).map(function(r){return r.value}).join(" ")}).map(_me)}},_me=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},am;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(am||(am={}));var Tme={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return HA(e).map(function(t){return t.filter(Ime)})}},Ime=function(n){return cn(n)||Mr(n)},tI=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Fme=tI("top"),Mme=tI("right"),Ume=tI("bottom"),Pme=tI("left"),nI=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return _Y(t.filter(Mr))}}},Rme=nI("top-left"),Dme=nI("top-right"),Nme=nI("bottom-right"),Lme=nI("bottom-left"),rI=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Qme=rI("top"),kme=rI("right"),Ome=rI("bottom"),Hme=rI("left"),iI=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return nB(t)?t.number:0}}},Vme=iI("top"),Kme=iI("right"),Gme=iI("bottom"),zme=iI("left"),$me={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qme={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},jme={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(cn).reduce(function(t,r){return t|Wme(r.value)},0)}},Wme=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Yme={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Xme={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},gT;(function(n){n.NORMAL="normal",n.STRICT="strict"})(gT||(gT={}));var Jme={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return gT.STRICT;case"normal":default:return gT.NORMAL}}},Zme={name:"line-height",initialValue:"normal",prefix:!1,type:4},_G=function(n,e){return cn(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:Mr(n)?In(n,e):e},eve={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:rk.parse(n,e)}},tve={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},LN={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},sI=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},nve=sI("top"),rve=sI("right"),ive=sI("bottom"),sve=sI("left"),ave={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(cn).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},ove={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},aI=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ave=aI("top"),lve=aI("right"),uve=aI("bottom"),cve=aI("left"),dve={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},fve={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},hve={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&NN(e[0],"none")?[]:HA(e).map(function(t){for(var r={color:vu.TRANSPARENT,offsetX:_i,offsetY:_i,blur:_i},i=0,s=0;s<t.length;s++){var a=t[s];jd(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:r.blur=a,i++):r.color=Gd.parse(n,a)}return r})}},pve={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},gve={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=yve[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},mve=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},vve=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,r,i,s,a,o]:null},yve={matrix:mve,matrix3d:vve},TG={type:16,number:50,flags:tB},wve=[TG,TG],bve={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(Mr);return t.length!==2?wve:[t[0],t[1]]}},Cve={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Qw;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(Qw||(Qw={}));var Eve={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return Qw.BREAK_ALL;case"keep-all":return Qw.KEEP_ALL;case"normal":default:return Qw.NORMAL}}},Bve={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(Iy(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},KY={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Sve={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return Iy(e)?e.number:1}},xve={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_ve={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(cn).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Tve={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Ive={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Fve={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(Iy(e))return e.number;if(cn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Mve={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(cn).map(function(t){return t.value})}},Uve={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Vr=function(n,e){return(n&e)!==0},Pve={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Rve={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var r=[],i=e.filter(xY),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&Iy(o)?o.number:1;r.push({counter:a.value,increment:l})}}return r}},Dve={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],r=e.filter(xY),i=0;i<r.length;i++){var s=r[i],a=r[i+1];if(cn(s)&&s.value!=="none"){var o=a&&Iy(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},Nve={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(nB).map(function(t){return KY.parse(n,t)})}},Lve={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var r=[],i=e.filter(lme);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;r.push({open:a,close:o})}return r}},IG=function(n,e,t){if(!n)return"";var r=n[Math.min(e,n.length-1)];return r?t?r.open:r.close:""},Qve={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&NN(e[0],"none")?[]:HA(e).map(function(t){for(var r={color:255,offsetX:_i,offsetY:_i,blur:_i,spread:_i,inset:!1},i=0,s=0;s<t.length;s++){var a=t[s];NN(a,"inset")?r.inset=!0:jd(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:i===2?r.blur=a:r.spread=a,i++):r.color=Gd.parse(n,a)}return r})}},kve={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],r=[];return e.filter(cn).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},Ove={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Hve={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return nB(e)?e.number:0}},Vve=(function(){function n(e,t){var r,i;this.animationDuration=Ne(e,Nve,t.animationDuration),this.backgroundClip=Ne(e,dme,t.backgroundClip),this.backgroundColor=Ne(e,fme,t.backgroundColor),this.backgroundImage=Ne(e,Eme,t.backgroundImage),this.backgroundOrigin=Ne(e,Bme,t.backgroundOrigin),this.backgroundPosition=Ne(e,Sme,t.backgroundPosition),this.backgroundRepeat=Ne(e,xme,t.backgroundRepeat),this.backgroundSize=Ne(e,Tme,t.backgroundSize),this.borderTopColor=Ne(e,Fme,t.borderTopColor),this.borderRightColor=Ne(e,Mme,t.borderRightColor),this.borderBottomColor=Ne(e,Ume,t.borderBottomColor),this.borderLeftColor=Ne(e,Pme,t.borderLeftColor),this.borderTopLeftRadius=Ne(e,Rme,t.borderTopLeftRadius),this.borderTopRightRadius=Ne(e,Dme,t.borderTopRightRadius),this.borderBottomRightRadius=Ne(e,Nme,t.borderBottomRightRadius),this.borderBottomLeftRadius=Ne(e,Lme,t.borderBottomLeftRadius),this.borderTopStyle=Ne(e,Qme,t.borderTopStyle),this.borderRightStyle=Ne(e,kme,t.borderRightStyle),this.borderBottomStyle=Ne(e,Ome,t.borderBottomStyle),this.borderLeftStyle=Ne(e,Hme,t.borderLeftStyle),this.borderTopWidth=Ne(e,Vme,t.borderTopWidth),this.borderRightWidth=Ne(e,Kme,t.borderRightWidth),this.borderBottomWidth=Ne(e,Gme,t.borderBottomWidth),this.borderLeftWidth=Ne(e,zme,t.borderLeftWidth),this.boxShadow=Ne(e,Qve,t.boxShadow),this.color=Ne(e,$me,t.color),this.direction=Ne(e,qme,t.direction),this.display=Ne(e,jme,t.display),this.float=Ne(e,Yme,t.cssFloat),this.fontFamily=Ne(e,Tve,t.fontFamily),this.fontSize=Ne(e,Ive,t.fontSize),this.fontStyle=Ne(e,Uve,t.fontStyle),this.fontVariant=Ne(e,Mve,t.fontVariant),this.fontWeight=Ne(e,Fve,t.fontWeight),this.letterSpacing=Ne(e,Xme,t.letterSpacing),this.lineBreak=Ne(e,Jme,t.lineBreak),this.lineHeight=Ne(e,Zme,t.lineHeight),this.listStyleImage=Ne(e,eve,t.listStyleImage),this.listStylePosition=Ne(e,tve,t.listStylePosition),this.listStyleType=Ne(e,LN,t.listStyleType),this.marginTop=Ne(e,nve,t.marginTop),this.marginRight=Ne(e,rve,t.marginRight),this.marginBottom=Ne(e,ive,t.marginBottom),this.marginLeft=Ne(e,sve,t.marginLeft),this.opacity=Ne(e,Sve,t.opacity);var s=Ne(e,ave,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Ne(e,ove,t.overflowWrap),this.paddingTop=Ne(e,Ave,t.paddingTop),this.paddingRight=Ne(e,lve,t.paddingRight),this.paddingBottom=Ne(e,uve,t.paddingBottom),this.paddingLeft=Ne(e,cve,t.paddingLeft),this.paintOrder=Ne(e,kve,t.paintOrder),this.position=Ne(e,fve,t.position),this.textAlign=Ne(e,dve,t.textAlign),this.textDecorationColor=Ne(e,xve,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=Ne(e,_ve,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=Ne(e,hve,t.textShadow),this.textTransform=Ne(e,pve,t.textTransform),this.transform=Ne(e,gve,t.transform),this.transformOrigin=Ne(e,bve,t.transformOrigin),this.visibility=Ne(e,Cve,t.visibility),this.webkitTextStrokeColor=Ne(e,Ove,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ne(e,Hve,t.webkitTextStrokeWidth),this.wordBreak=Ne(e,Eve,t.wordBreak),this.zIndex=Ne(e,Bve,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return zd(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return Vr(this.display,4)||Vr(this.display,33554432)||Vr(this.display,268435456)||Vr(this.display,536870912)||Vr(this.display,67108864)||Vr(this.display,134217728)},n})(),Kve=(function(){function n(e,t){this.content=Ne(e,Pve,t.content),this.quotes=Ne(e,Lve,t.quotes)}return n})(),FG=(function(){function n(e,t){this.counterIncrement=Ne(e,Rve,t.counterIncrement),this.counterReset=Ne(e,Dve,t.counterReset)}return n})(),Ne=function(n,e,t){var r=new BY,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;r.write(i);var s=new SY(r.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(n,cn(a)?a.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Z1.parse(n,s.parseComponentValue());case"color":return Gd.parse(n,s.parseComponentValue());case"image":return rk.parse(n,s.parseComponentValue());case"length":var o=s.parseComponentValue();return jd(o)?o:_i;case"length-percentage":var l=s.parseComponentValue();return Mr(l)?l:_i;case"time":return KY.parse(n,s.parseComponentValue())}break}},Gve="data-html2canvas-debug",zve=function(n){var e=n.getAttribute(Gve);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},QN=function(n,e){var t=zve(n);return t===1||e===t},VA=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,QN(t,3))debugger;this.styles=new Vve(e,window.getComputedStyle(t,null)),HN(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=X1(this.context,t),QN(t,4)&&(this.flags|=16)}return n})(),$ve="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",MG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hx=0;hx<MG.length;hx++)Bw[MG.charCodeAt(hx)]=hx;var qve=function(n){var e=n.length*.75,t=n.length,r,i=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<t;r+=4)s=Bw[n.charCodeAt(r)],a=Bw[n.charCodeAt(r+1)],o=Bw[n.charCodeAt(r+2)],l=Bw[n.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|l&63;return u},jve=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},Wve=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},vp=5,ik=11,TU=2,Yve=ik-vp,GY=65536>>vp,Xve=1<<vp,IU=Xve-1,Jve=1024>>vp,Zve=GY+Jve,eye=Zve,tye=32,nye=eye+tye,rye=65536>>ik,iye=1<<Yve,sye=iye-1,UG=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},aye=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},oye=function(n,e){var t=qve(n),r=Array.isArray(t)?Wve(t):new Uint32Array(t),i=Array.isArray(t)?jve(t):new Uint16Array(t),s=24,a=UG(i,s/2,r[4]/2),o=r[5]===2?UG(i,(s+r[4])/2):aye(r,Math.ceil((s+r[4])/4));return new Aye(r[0],r[1],r[2],r[3],a,o)},Aye=(function(){function n(e,t,r,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>vp],t=(t<<TU)+(e&IU),this.data[t];if(e<=65535)return t=this.index[GY+(e-55296>>vp)],t=(t<<TU)+(e&IU),this.data[t];if(e<this.highStart)return t=nye-rye+(e>>ik),t=this.index[t],t+=e>>vp&sye,t=this.index[t],t=(t<<TU)+(e&IU),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),PG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lye=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var px=0;px<PG.length;px++)lye[PG.charCodeAt(px)]=px;var uye=1,FU=2,MU=3,RG=4,DG=5,cye=7,NG=8,UU=9,PU=10,LG=11,QG=12,kG=13,OG=14,RU=15,dye=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},fye=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var a=n[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},hye=oye($ve),Qa="",DU="",pye=function(n){return hye.get(n)},gye=function(n,e,t){var r=t-2,i=e[r],s=e[t-1],a=e[t];if(s===FU&&a===MU)return Qa;if(s===FU||s===MU||s===RG||a===FU||a===MU||a===RG)return DU;if(s===NG&&[NG,UU,LG,QG].indexOf(a)!==-1||(s===LG||s===UU)&&(a===UU||a===PU)||(s===QG||s===PU)&&a===PU||a===kG||a===DG||a===cye||s===uye)return Qa;if(s===kG&&a===OG){for(;i===DG;)i=e[--r];if(i===OG)return Qa}if(s===RU&&a===RU){for(var o=0;i===RU;)o++,i=e[--r];if(o%2===0)return Qa}return DU},mye=function(n){var e=dye(n),t=e.length,r=0,i=0,s=e.map(pye);return{next:function(){if(r>=t)return{done:!0,value:null};for(var a=Qa;r<t&&(a=gye(e,s,++r))===Qa;);if(a!==Qa||r===t){var o=fye.apply(null,e.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},vye=function(n){for(var e=mye(n),t=[],r;!(r=e.next()).done;)r.value&&t.push(r.value.slice());return t},yye=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var r=n.createElement("boundtest");r.style.height=e+"px",r.style.display="block",n.body.appendChild(r),t.selectNode(r);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(n.body.removeChild(r),s===e)return!0}}return!1},wye=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=J1(r.data).map(function(l){return gr(l)}),s=0,a={},o=i.every(function(l,u){t.setStart(r,s),t.setEnd(r,s+l.length);var d=t.getBoundingClientRect();s+=l.length;var h=d.x>a.x||d.y>a.y;return a=d,u===0?!0:h});return n.body.removeChild(e),o},bye=function(){return typeof new Image().crossOrigin<"u"},Cye=function(){return typeof new XMLHttpRequest().responseType=="string"},Eye=function(n){var e=new Image,t=n.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},HG=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},Bye=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var a=kN(t,t,0,0,i);return r.fillStyle="red",r.fillRect(0,0,t,t),VG(a).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var u=n.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",HG(l)?VG(kN(t,t,0,0,u)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),HG(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},kN=function(n,e,t,r,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},VG=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Ci={get SUPPORT_RANGE_BOUNDS(){var n=yye(document);return Object.defineProperty(Ci,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=Ci.SUPPORT_RANGE_BOUNDS&&wye(document);return Object.defineProperty(Ci,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=Eye(document);return Object.defineProperty(Ci,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?Bye(document):Promise.resolve(!1);return Object.defineProperty(Ci,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=bye();return Object.defineProperty(Ci,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=Cye();return Object.defineProperty(Ci,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ci,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ci,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},kw=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),Sye=function(n,e,t,r){var i=Tye(e,t),s=[],a=0;return i.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(Ci.SUPPORT_RANGE_BOUNDS){var l=KG(r,a,o.length).getClientRects();if(l.length>1){var u=sk(o),d=0;u.forEach(function(g){s.push(new kw(g,xu.fromDOMRectList(n,KG(r,d+a,g.length).getClientRects()))),d+=g.length})}else s.push(new kw(o,xu.fromDOMRectList(n,l)))}else{var h=r.splitText(o.length);s.push(new kw(o,xye(n,r))),r=h}else Ci.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));a+=o.length}),s},xye=function(n,e){var t=e.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=X1(n,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return xu.EMPTY},KG=function(n,e,t){var r=n.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(n,e),i.setEnd(n,e+t),i},sk=function(n){if(Ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return vye(n)},_ye=function(n,e){if(Ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(r){return r.segment})}return Fye(n,e)},Tye=function(n,e){return e.letterSpacing!==0?sk(n):_ye(n,e)},Iye=[32,160,4961,65792,65793,4153,4241],Fye=function(n,e){for(var t=rge(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var a=i.value.slice(),o=J1(a),l="";o.forEach(function(u){Iye.indexOf(u)===-1?l+=gr(u):(l.length&&r.push(l),r.push(gr(u)),l="")}),l.length&&r.push(l)}};!(i=t.next()).done;)s();return r},Mye=(function(){function n(e,t,r){this.text=Uye(t.data,r.textTransform),this.textBounds=Sye(e,this.text,r,t)}return n})(),Uye=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(Pye,Rye);case 2:return n.toUpperCase();default:return n}},Pye=/(^|\s|:|-|\(|\))([a-z])/g,Rye=function(n,e,t){return n.length>0?e+t.toUpperCase():n},zY=(function(n){$o(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e})(VA),$Y=(function(n){$o(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e})(VA),qY=(function(n){$o(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=new XMLSerializer,a=X1(t,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(VA),jY=(function(n){$o(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e})(VA),ON=(function(n){$o(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e})(VA),Dye=[{type:15,flags:0,unit:"px",number:3}],Nye=[{type:16,flags:0,number:50}],Lye=function(n){return n.width>n.height?new xu(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new xu(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},Qye=function(n){var e=n.type===kye?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},mT="checkbox",vT="radio",kye="password",GG=707406591,ak=(function(n){$o(e,n);function e(t,r){var i=n.call(this,t,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=Qye(r),(i.type===mT||i.type===vT)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Lye(i.bounds)),i.type){case mT:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Dye;break;case vT:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Nye;break}return i}return e})(VA),WY=(function(n){$o(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(VA),YY=(function(n){$o(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e})(VA),XY=(function(n){$o(e,n);function e(t,r){var i=n.call(this,t,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=ZY(t,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?Lw(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):vu.TRANSPARENT,a=r.contentWindow.document.body?Lw(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):vu.TRANSPARENT;i.backgroundColor=zd(s)?zd(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e})(VA),Oye=["OL","UL","MENU"],M_=function(n,e,t,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,eX(i)&&i.data.trim().length>0)t.textNodes.push(new Mye(n,i,t.styles));else if(jg(i))if(iX(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return M_(n,o,t,r)});else{var a=JY(n,i);a.styles.isVisible()&&(Hye(i,a,r)?a.flags|=4:Vye(a.styles)&&(a.flags|=2),Oye.indexOf(i.tagName)!==-1&&(a.flags|=8),t.elements.push(a),i.slot,i.shadowRoot?M_(n,i.shadowRoot,a,r):!yT(i)&&!tX(i)&&!wT(i)&&M_(n,i,a,r))}},JY=function(n,e){return VN(e)?new zY(n,e):nX(e)?new $Y(n,e):tX(e)?new qY(n,e):Kye(e)?new jY(n,e):Gye(e)?new ON(n,e):zye(e)?new ak(n,e):wT(e)?new WY(n,e):yT(e)?new YY(n,e):rX(e)?new XY(n,e):new VA(n,e)},ZY=function(n,e){var t=JY(n,e);return t.flags|=4,M_(n,e,t,t),t},Hye=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||ok(n)&&t.styles.isTransparent()},Vye=function(n){return n.isPositioned()||n.isFloating()},eX=function(n){return n.nodeType===Node.TEXT_NODE},jg=function(n){return n.nodeType===Node.ELEMENT_NODE},HN=function(n){return jg(n)&&typeof n.style<"u"&&!U_(n)},U_=function(n){return typeof n.className=="object"},Kye=function(n){return n.tagName==="LI"},Gye=function(n){return n.tagName==="OL"},zye=function(n){return n.tagName==="INPUT"},$ye=function(n){return n.tagName==="HTML"},tX=function(n){return n.tagName==="svg"},ok=function(n){return n.tagName==="BODY"},nX=function(n){return n.tagName==="CANVAS"},zG=function(n){return n.tagName==="VIDEO"},VN=function(n){return n.tagName==="IMG"},rX=function(n){return n.tagName==="IFRAME"},$G=function(n){return n.tagName==="STYLE"},qye=function(n){return n.tagName==="SCRIPT"},yT=function(n){return n.tagName==="TEXTAREA"},wT=function(n){return n.tagName==="SELECT"},iX=function(n){return n.tagName==="SLOT"},qG=function(n){return n.tagName.indexOf("-")>0},jye=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(r){return t.counters[r].pop()})},n.prototype.parse=function(e){var t=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},n})(),jG={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},WG={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Wye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Yye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Bg=function(n,e,t,r,i,s){return n<e||n>t?Zw(n,i,s.length>0):r.integers.reduce(function(a,o,l){for(;n>=o;)n-=o,a+=r.values[l];return a},"")+s},sX=function(n,e,t,r){var i="";do t||n--,i=r(n)+i,n/=e;while(n*e>=e);return i},dr=function(n,e,t,r,i){var s=t-e+1;return(n<0?"-":"")+(sX(Math.abs(n),s,r,function(a){return gr(Math.floor(a%s)+e)})+i)},_f=function(n,e,t){t===void 0&&(t=". ");var r=e.length;return sX(Math.abs(n),r,!1,function(i){return e[Math.floor(i%r)]})+t},Og=1,wc=2,bc=4,Sw=8,ul=function(n,e,t,r,i,s){if(n<-9999||n>9999)return Zw(n,4,i.length>0);var a=Math.abs(n),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var u=a%10;u===0&&Vr(s,Og)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&Vr(s,wc)||u===1&&l===1&&Vr(s,bc)&&n>100||u===1&&l>1&&Vr(s,Sw)?o=e[u]+(l>0?t[l-1]:"")+o:u===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(n<0?r:"")+o},YG="",XG="",JG="",NU="",Zw=function(n,e,t){var r=t?". ":"",i=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=dr(n,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return _f(n,"",i);case 6:return Bg(n,1,3999,jG,3,r).toLowerCase();case 7:return Bg(n,1,3999,jG,3,r);case 8:return dr(n,945,969,!1,r);case 9:return dr(n,97,122,!1,r);case 10:return dr(n,65,90,!1,r);case 11:return dr(n,1632,1641,!0,r);case 12:case 49:return Bg(n,1,9999,WG,3,r);case 35:return Bg(n,1,9999,WG,3,r).toLowerCase();case 13:return dr(n,2534,2543,!0,r);case 14:case 30:return dr(n,6112,6121,!0,r);case 15:return _f(n,"",i);case 16:return _f(n,"",i);case 17:case 48:return ul(n,"",YG,"",i,wc|bc|Sw);case 47:return ul(n,"",XG,"",i,Og|wc|bc|Sw);case 42:return ul(n,"",YG,"",i,wc|bc|Sw);case 41:return ul(n,"",XG,"",i,Og|wc|bc|Sw);case 26:return ul(n,"","",JG,i,0);case 25:return ul(n,"","",JG,i,Og|wc|bc);case 31:return ul(n,"","",NU,s,Og|wc|bc);case 33:return ul(n,"","",NU,s,0);case 32:return ul(n,"","",NU,s,Og|wc|bc);case 18:return dr(n,2406,2415,!0,r);case 20:return Bg(n,1,19999,Yye,3,r);case 21:return dr(n,2790,2799,!0,r);case 22:return dr(n,2662,2671,!0,r);case 22:return Bg(n,1,10999,Wye,3,r);case 23:return _f(n,"");case 24:return _f(n,"");case 27:return dr(n,3302,3311,!0,r);case 28:return _f(n,"",i);case 29:return _f(n,"",i);case 34:return dr(n,3792,3801,!0,r);case 37:return dr(n,6160,6169,!0,r);case 38:return dr(n,4160,4169,!0,r);case 39:return dr(n,2918,2927,!0,r);case 40:return dr(n,1776,1785,!0,r);case 43:return dr(n,3046,3055,!0,r);case 44:return dr(n,3174,3183,!0,r);case 45:return dr(n,3664,3673,!0,r);case 46:return dr(n,3872,3881,!0,r);case 3:default:return dr(n,48,57,!0,r)}},aX="data-html2canvas-ignore",ZG=(function(){function n(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new jye,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var r=this,i=Xye(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,u=e0e(i).then(function(){return Zi(r,void 0,void 0,function(){var d,h;return Oi(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(i0e),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zye(l)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(n0e(document.doctype)+"<html></html>"),r0e(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},n.prototype.createElementClone=function(e){if(QN(e,2))debugger;if(nX(e))return this.createCanvasClone(e);if(zG(e))return this.createVideoClone(e);if($G(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return VN(t)&&(VN(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),qG(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return LU(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},n.prototype.appendChildNode=function(e,t,r){(!jg(t)||!qye(t)&&!t.hasAttribute(aX)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!jg(t)||!$G(t))&&e.appendChild(this.cloneNode(t,r))},n.prototype.cloneChildNodes=function(e,t,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(jg(s)&&iX(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(t,o,r)})}else this.appendChildNode(t,s,r)},n.prototype.cloneNode=function(e,t){if(eX(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&jg(e)&&(HN(e)||U_(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),a=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&HN(i)&&(this.clonedReferenceElement=i),ok(i)&&o0e(i);var l=this.counters.parse(new FG(this.context,s)),u=this.resolvePseudoContent(e,i,a,Ow.BEFORE);qG(e)&&(t=!0),zG(e)||this.cloneChildNodes(e,i,t),u&&i.insertBefore(u,i.firstChild);var d=this.resolvePseudoContent(e,i,o,Ow.AFTER);return d&&i.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||U_(e))&&!rX(e)||t)&&LU(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(yT(e)||wT(e))&&(yT(i)||wT(i))&&(i.value=e.value),i}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,r,i){var s=this;if(r){var a=r.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new FG(this.context,r));var l=new Kve(this.context,r),u=o.createElement("html2canvaspseudoelement");LU(r,u),l.content.forEach(function(h){if(h.type===0)u.appendChild(o.createTextNode(h.value));else if(h.type===22){var g=o.createElement("img");g.src=h.value,g.style.opacity="1",u.appendChild(g)}else if(h.type===18){if(h.name==="attr"){var v=h.values.filter(cn);v.length&&u.appendChild(o.createTextNode(e.getAttribute(v[0].value)||""))}else if(h.name==="counter"){var C=h.values.filter(Ay),b=C[0],B=C[1];if(b&&cn(b)){var S=s.counters.getCounterValue(b.value),I=B&&cn(B)?LN.parse(s.context,B.value):3;u.appendChild(o.createTextNode(Zw(S,I,!1)))}}else if(h.name==="counters"){var T=h.values.filter(Ay),b=T[0],R=T[1],B=T[2];if(b&&cn(b)){var M=s.counters.getCounterValues(b.value),D=B&&cn(B)?LN.parse(s.context,B.value):3,L=R&&R.type===0?R.value:"",H=M.map(function(K){return Zw(K,D,!1)}).join(L);u.appendChild(o.createTextNode(H))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(o.createTextNode(IG(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(IG(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(h.value))}}),u.className=KN+" "+GN;var d=i===Ow.BEFORE?" "+KN:" "+GN;return U_(t)?t.className.baseValue+=d:t.className+=d,u}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),Ow;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(Ow||(Ow={}));var Xye=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(aX,"true"),n.body.appendChild(t),t},Jye=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},Zye=function(n){return Promise.all([].slice.call(n.images,0).map(Jye))},e0e=function(n){return new Promise(function(e,t){var r=n.contentWindow;if(!r)return t("No window assigned for iframe");var i=r.document;r.onload=n.onload=function(){r.onload=n.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},t0e=["all","d","content"],LU=function(n,e){for(var t=n.length-1;t>=0;t--){var r=n.item(t);t0e.indexOf(r)===-1&&e.style.setProperty(r,n.getPropertyValue(r))}return e},n0e=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},r0e=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},i0e=function(n){var e=n[0],t=n[1],r=n[2];e.scrollLeft=t,e.scrollTop=r},s0e=":before",a0e=":after",KN="___html2canvas___pseudoelement_before",GN="___html2canvas___pseudoelement_after",ez=`{
    content: "" !important;
    display: none !important;
}`,o0e=function(n){A0e(n,"."+KN+s0e+ez+`
         .`+GN+a0e+ez)},A0e=function(n,e){var t=n.ownerDocument;if(t){var r=t.createElement("style");r.textContent=e,n.appendChild(r)}},oX=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),l0e=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(kU(e)||f0e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return Zi(this,void 0,void 0,function(){var t,r,i,s,a=this;return Oi(this,function(o){switch(o.label){case 0:return t=oX.isSameOrigin(e),r=!QU(e)&&this._options.useCORS===!0&&Ci.SUPPORT_CORS_IMAGES&&!t,i=!QU(e)&&!t&&!kU(e)&&typeof this._options.proxy=="string"&&Ci.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!QU(e)&&!kU(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,(h0e(s)||r)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=Ci.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(g){return a(g)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var u=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var d=t._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+i)}}l.send()})},n})(),u0e=/^data:image\/svg\+xml/i,c0e=/^data:image\/.*;base64,/i,d0e=/^data:image\/.*/i,f0e=function(n){return Ci.SUPPORT_SVG_DRAWING||!p0e(n)},QU=function(n){return d0e.test(n)},h0e=function(n){return c0e.test(n)},kU=function(n){return n.substr(0,4)==="blob"},p0e=function(n){return n.substr(-3).toLowerCase()==="svg"||u0e.test(n)},De=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),Sg=function(n,e,t){return new De(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},gx=(function(){function n(e,t,r,i){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=i}return n.prototype.subdivide=function(e,t){var r=Sg(this.start,this.startControl,e),i=Sg(this.startControl,this.endControl,e),s=Sg(this.endControl,this.end,e),a=Sg(r,i,e),o=Sg(i,s,e),l=Sg(a,o,e);return t?new n(this.start,r,a,l):new n(l,o,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),to=function(n){return n.type===1},g0e=(function(){function n(e){var t=e.styles,r=e.bounds,i=Ew(t.borderTopLeftRadius,r.width,r.height),s=i[0],a=i[1],o=Ew(t.borderTopRightRadius,r.width,r.height),l=o[0],u=o[1],d=Ew(t.borderBottomRightRadius,r.width,r.height),h=d[0],g=d[1],v=Ew(t.borderBottomLeftRadius,r.width,r.height),C=v[0],b=v[1],B=[];B.push((s+l)/r.width),B.push((C+h)/r.width),B.push((a+b)/r.height),B.push((u+g)/r.height);var S=Math.max.apply(Math,B);S>1&&(s/=S,a/=S,l/=S,u/=S,h/=S,g/=S,C/=S,b/=S);var I=r.width-l,T=r.height-g,R=r.width-h,M=r.height-b,D=t.borderTopWidth,L=t.borderRightWidth,H=t.borderBottomWidth,k=t.borderLeftWidth,G=In(t.paddingTop,e.bounds.width),K=In(t.paddingRight,e.bounds.width),z=In(t.paddingBottom,e.bounds.width),J=In(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Qn(r.left+k/3,r.top+D/3,s-k/3,a-D/3,Kt.TOP_LEFT):new De(r.left+k/3,r.top+D/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Qn(r.left+I,r.top+D/3,l-L/3,u-D/3,Kt.TOP_RIGHT):new De(r.left+r.width-L/3,r.top+D/3),this.bottomRightBorderDoubleOuterBox=h>0||g>0?Qn(r.left+R,r.top+T,h-L/3,g-H/3,Kt.BOTTOM_RIGHT):new De(r.left+r.width-L/3,r.top+r.height-H/3),this.bottomLeftBorderDoubleOuterBox=C>0||b>0?Qn(r.left+k/3,r.top+M,C-k/3,b-H/3,Kt.BOTTOM_LEFT):new De(r.left+k/3,r.top+r.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Qn(r.left+k*2/3,r.top+D*2/3,s-k*2/3,a-D*2/3,Kt.TOP_LEFT):new De(r.left+k*2/3,r.top+D*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Qn(r.left+I,r.top+D*2/3,l-L*2/3,u-D*2/3,Kt.TOP_RIGHT):new De(r.left+r.width-L*2/3,r.top+D*2/3),this.bottomRightBorderDoubleInnerBox=h>0||g>0?Qn(r.left+R,r.top+T,h-L*2/3,g-H*2/3,Kt.BOTTOM_RIGHT):new De(r.left+r.width-L*2/3,r.top+r.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=C>0||b>0?Qn(r.left+k*2/3,r.top+M,C-k*2/3,b-H*2/3,Kt.BOTTOM_LEFT):new De(r.left+k*2/3,r.top+r.height-H*2/3),this.topLeftBorderStroke=s>0||a>0?Qn(r.left+k/2,r.top+D/2,s-k/2,a-D/2,Kt.TOP_LEFT):new De(r.left+k/2,r.top+D/2),this.topRightBorderStroke=s>0||a>0?Qn(r.left+I,r.top+D/2,l-L/2,u-D/2,Kt.TOP_RIGHT):new De(r.left+r.width-L/2,r.top+D/2),this.bottomRightBorderStroke=h>0||g>0?Qn(r.left+R,r.top+T,h-L/2,g-H/2,Kt.BOTTOM_RIGHT):new De(r.left+r.width-L/2,r.top+r.height-H/2),this.bottomLeftBorderStroke=C>0||b>0?Qn(r.left+k/2,r.top+M,C-k/2,b-H/2,Kt.BOTTOM_LEFT):new De(r.left+k/2,r.top+r.height-H/2),this.topLeftBorderBox=s>0||a>0?Qn(r.left,r.top,s,a,Kt.TOP_LEFT):new De(r.left,r.top),this.topRightBorderBox=l>0||u>0?Qn(r.left+I,r.top,l,u,Kt.TOP_RIGHT):new De(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||g>0?Qn(r.left+R,r.top+T,h,g,Kt.BOTTOM_RIGHT):new De(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=C>0||b>0?Qn(r.left,r.top+M,C,b,Kt.BOTTOM_LEFT):new De(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||a>0?Qn(r.left+k,r.top+D,Math.max(0,s-k),Math.max(0,a-D),Kt.TOP_LEFT):new De(r.left+k,r.top+D),this.topRightPaddingBox=l>0||u>0?Qn(r.left+Math.min(I,r.width-L),r.top+D,I>r.width+L?0:Math.max(0,l-L),Math.max(0,u-D),Kt.TOP_RIGHT):new De(r.left+r.width-L,r.top+D),this.bottomRightPaddingBox=h>0||g>0?Qn(r.left+Math.min(R,r.width-k),r.top+Math.min(T,r.height-H),Math.max(0,h-L),Math.max(0,g-H),Kt.BOTTOM_RIGHT):new De(r.left+r.width-L,r.top+r.height-H),this.bottomLeftPaddingBox=C>0||b>0?Qn(r.left+k,r.top+Math.min(M,r.height-H),Math.max(0,C-k),Math.max(0,b-H),Kt.BOTTOM_LEFT):new De(r.left+k,r.top+r.height-H),this.topLeftContentBox=s>0||a>0?Qn(r.left+k+J,r.top+D+G,Math.max(0,s-(k+J)),Math.max(0,a-(D+G)),Kt.TOP_LEFT):new De(r.left+k+J,r.top+D+G),this.topRightContentBox=l>0||u>0?Qn(r.left+Math.min(I,r.width+k+J),r.top+D+G,I>r.width+k+J?0:l-k+J,u-(D+G),Kt.TOP_RIGHT):new De(r.left+r.width-(L+K),r.top+D+G),this.bottomRightContentBox=h>0||g>0?Qn(r.left+Math.min(R,r.width-(k+J)),r.top+Math.min(T,r.height+D+G),Math.max(0,h-(L+K)),g-(H+z),Kt.BOTTOM_RIGHT):new De(r.left+r.width-(L+K),r.top+r.height-(H+z)),this.bottomLeftContentBox=C>0||b>0?Qn(r.left+k+J,r.top+M,Math.max(0,C-(k+J)),b-(H+z),Kt.BOTTOM_LEFT):new De(r.left+k+J,r.top+r.height-(H+z))}return n})(),Kt;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Kt||(Kt={}));var Qn=function(n,e,t,r,i){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=r*s,l=n+t,u=e+r;switch(i){case Kt.TOP_LEFT:return new gx(new De(n,u),new De(n,u-o),new De(l-a,e),new De(l,e));case Kt.TOP_RIGHT:return new gx(new De(n,e),new De(n+a,e),new De(l,u-o),new De(l,u));case Kt.BOTTOM_RIGHT:return new gx(new De(l,e),new De(l,e+o),new De(n+a,u),new De(n,u));case Kt.BOTTOM_LEFT:default:return new gx(new De(l,u),new De(l-a,u),new De(n,e+o),new De(n,e))}},bT=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},m0e=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},CT=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},v0e=(function(){function n(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return n})(),mx=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),y0e=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),w0e=function(n){return n.type===0},AX=function(n){return n.type===1},b0e=function(n){return n.type===2},tz=function(n,e){return n.length===e.length?n.some(function(t,r){return t===e[r]}):!1},C0e=function(n,e,t,r,i){return n.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+r,t);case 2:return s.add(e+r,t+i);case 3:return s.add(e,t+i)}return s})},lX=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),uX=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new g0e(this.container),this.container.styles.opacity<1&&this.effects.push(new y0e(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new v0e(r,i,s))}if(this.container.styles.overflowX!==0){var a=bT(this.curves),o=CT(this.curves);tz(a,o)?this.effects.push(new mx(a,6)):(this.effects.push(new mx(a,2)),this.effects.push(new mx(o,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!AX(l)});if(t||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=bT(r.curves),o=CT(r.curves);tz(a,o)||i.unshift(new mx(o,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(l){return Vr(l.target,e)})},n})(),zN=function(n,e,t,r){n.container.elements.forEach(function(i){var s=Vr(i.flags,4),a=Vr(i.flags,2),o=new uX(i,n);Vr(i.styles.display,2048)&&r.push(o);var l=Vr(i.flags,8)?[]:r;if(s||a){var u=s||i.styles.isPositioned()?t:e,d=new lX(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var h=i.styles.zIndex.order;if(h<0){var g=0;u.negativeZIndex.some(function(C,b){return h>C.element.container.styles.zIndex.order?(g=b,!1):g>0}),u.negativeZIndex.splice(g,0,d)}else if(h>0){var v=0;u.positiveZIndex.some(function(C,b){return h>=C.element.container.styles.zIndex.order?(v=b+1,!1):v>0}),u.positiveZIndex.splice(v,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else i.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);zN(o,d,s?d:t,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),zN(o,e,t,l);Vr(i.flags,8)&&cX(i,l)})},cX=function(n,e){for(var t=n instanceof ON?n.start:1,r=n instanceof ON?n.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof jY&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=Zw(t,s.container.styles.listStyleType,!0),t+=r?-1:1}},E0e=function(n){var e=new uX(n,null),t=new lX(e),r=[];return zN(e,t,t,r),cX(e.container,r),t},nz=function(n,e){switch(e){case 0:return io(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return io(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return io(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return io(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},B0e=function(n,e){switch(e){case 0:return io(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return io(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return io(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return io(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},S0e=function(n,e){switch(e){case 0:return io(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return io(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return io(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return io(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},x0e=function(n,e){switch(e){case 0:return vx(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return vx(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return vx(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return vx(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},vx=function(n,e){var t=[];return to(n)?t.push(n.subdivide(.5,!1)):t.push(n),to(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},io=function(n,e,t,r){var i=[];return to(n)?i.push(n.subdivide(.5,!1)):i.push(n),to(t)?i.push(t.subdivide(.5,!0)):i.push(t),to(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),to(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},dX=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},ET=function(n){var e=n.styles,t=n.bounds,r=In(e.paddingLeft,t.width),i=In(e.paddingRight,t.width),s=In(e.paddingTop,t.width),a=In(e.paddingBottom,t.width);return t.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},_0e=function(n,e){return n===0?e.bounds:n===2?ET(e):dX(e)},T0e=function(n,e){return n===0?e.bounds:n===2?ET(e):dX(e)},OU=function(n,e,t){var r=_0e(Hg(n.styles.backgroundOrigin,e),n),i=T0e(Hg(n.styles.backgroundClip,e),n),s=I0e(Hg(n.styles.backgroundSize,e),t,r),a=s[0],o=s[1],l=Ew(Hg(n.styles.backgroundPosition,e),r.width-a,r.height-o),u=F0e(Hg(n.styles.backgroundRepeat,e),l,s,r,i),d=Math.round(r.left+l[0]),h=Math.round(r.top+l[1]);return[u,d,h,a,o]},xg=function(n){return cn(n)&&n.value===am.AUTO},yx=function(n){return typeof n=="number"},I0e=function(n,e,t){var r=e[0],i=e[1],s=e[2],a=n[0],o=n[1];if(!a)return[0,0];if(Mr(a)&&o&&Mr(o))return[In(a,t.width),In(o,t.height)];var l=yx(s);if(cn(a)&&(a.value===am.CONTAIN||a.value===am.COVER)){if(yx(s)){var u=t.width/t.height;return u<s!=(a.value===am.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var d=yx(r),h=yx(i),g=d||h;if(xg(a)&&(!o||xg(o))){if(d&&h)return[r,i];if(!l&&!g)return[t.width,t.height];if(g&&l){var v=d?r:i*s,C=h?i:r/s;return[v,C]}var b=d?r:t.width,B=h?i:t.height;return[b,B]}if(l){var S=0,I=0;return Mr(a)?S=In(a,t.width):Mr(o)&&(I=In(o,t.height)),xg(a)?S=I*s:(!o||xg(o))&&(I=S/s),[S,I]}var T=null,R=null;if(Mr(a)?T=In(a,t.width):o&&Mr(o)&&(R=In(o,t.height)),T!==null&&(!o||xg(o))&&(R=d&&h?T/r*i:t.height),R!==null&&xg(a)&&(T=d&&h?R/i*r:t.width),T!==null&&R!==null)return[T,R];throw new Error("Unable to calculate background-size for element")},Hg=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},F0e=function(n,e,t,r,i){var s=e[0],a=e[1],o=t[0],l=t[1];switch(n){case 2:return[new De(Math.round(r.left),Math.round(r.top+a)),new De(Math.round(r.left+r.width),Math.round(r.top+a)),new De(Math.round(r.left+r.width),Math.round(l+r.top+a)),new De(Math.round(r.left),Math.round(l+r.top+a))];case 3:return[new De(Math.round(r.left+s),Math.round(r.top)),new De(Math.round(r.left+s+o),Math.round(r.top)),new De(Math.round(r.left+s+o),Math.round(r.height+r.top)),new De(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new De(Math.round(r.left+s),Math.round(r.top+a)),new De(Math.round(r.left+s+o),Math.round(r.top+a)),new De(Math.round(r.left+s+o),Math.round(r.top+a+l)),new De(Math.round(r.left+s),Math.round(r.top+a+l))];default:return[new De(Math.round(i.left),Math.round(i.top)),new De(Math.round(i.left+i.width),Math.round(i.top)),new De(Math.round(i.left+i.width),Math.round(i.height+i.top)),new De(Math.round(i.left),Math.round(i.height+i.top))]}},M0e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",rz="Hidden Text",U0e=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),i.src=M0e,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(rz)),r.appendChild(s),r.appendChild(i);var o=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(rz)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:o,middle:l}},n.prototype.getMetrics=function(e,t){var r=e+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},n})(),fX=(function(){function n(e,t){this.context=e,this.options=t}return n})(),P0e=1e4,R0e=(function(n){$o(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new U0e(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),b0e(t)&&(this.ctx.globalAlpha=t.opacity),w0e(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),AX(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Zi(this,void 0,void 0,function(){var r;return Oi(this,function(i){switch(i.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Zi(this,void 0,void 0,function(){return Oi(this,function(r){switch(r.label){case 0:if(Vr(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,r,i){var s=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var a=sk(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+i),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=k0e(t.fontFamily).join(", "),s=nB(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,r){return Zi(this,void 0,void 0,function(){var i,s,a,o,l,u,d,h,g=this;return Oi(this,function(v){return i=this.createFontStyle(r),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),u=l.baseline,d=l.middle,h=r.paintOrder,t.textBounds.forEach(function(C){h.forEach(function(b){switch(b){case 0:g.ctx.fillStyle=Wr(r.color),g.renderTextWithLetterSpacing(C,r.letterSpacing,u);var B=r.textShadow;B.length&&C.text.trim().length&&(B.slice(0).reverse().forEach(function(S){g.ctx.shadowColor=Wr(S.color),g.ctx.shadowOffsetX=S.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=S.offsetY.number*g.options.scale,g.ctx.shadowBlur=S.blur.number,g.renderTextWithLetterSpacing(C,r.letterSpacing,u)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),r.textDecorationLine.length&&(g.ctx.fillStyle=Wr(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(S){switch(S){case 1:g.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top+u),C.bounds.width,1);break;case 2:g.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top),C.bounds.width,1);break;case 3:g.ctx.fillRect(C.bounds.left,Math.ceil(C.bounds.top+d),C.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&C.text.trim().length&&(g.ctx.strokeStyle=Wr(r.webkitTextStrokeColor),g.ctx.lineWidth=r.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(C.text,C.bounds.left,C.bounds.top+u)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,r,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=ET(t),a=CT(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Zi(this,void 0,void 0,function(){var r,i,s,a,o,l,I,I,u,d,h,g,R,v,C,M,b,B,S,I,T,R,M;return Oi(this,function(D){switch(D.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,i=t.curves,s=r.styles,a=0,o=r.textNodes,D.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:D.sent(),D.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof zY))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return I=D.sent(),this.renderReplacedElement(r,i,I),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof $Y&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof qY))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return I=D.sent(),this.renderReplacedElement(r,i,I),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof XY&&r.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:d=D.sent(),r.width&&r.height&&this.ctx.drawImage(d,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),D.label=14;case 14:if(r instanceof ak&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===mT?r.checked&&(this.ctx.save(),this.path([new De(r.bounds.left+h*.39363,r.bounds.top+h*.79),new De(r.bounds.left+h*.16,r.bounds.top+h*.5549),new De(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new De(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new De(r.bounds.left+h*.72983,r.bounds.top+h*.23),new De(r.bounds.left+h*.84,r.bounds.top+h*.34085),new De(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=Wr(GG),this.ctx.fill(),this.ctx.restore()):r.type===vT&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Wr(GG),this.ctx.fill(),this.ctx.restore())),D0e(r)&&r.value.length){switch(g=this.createFontStyle(s),R=g[0],v=g[1],C=this.fontMetrics.getMetrics(R,v).baseline,this.ctx.font=R,this.ctx.fillStyle=Wr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=L0e(r.styles.textAlign),M=ET(r),b=0,r.styles.textAlign){case 1:b+=M.width/2;break;case 2:b+=M.width;break}B=M.add(b,0,0,-M.height/2+1),this.ctx.save(),this.path([new De(M.left,M.top),new De(M.left+M.width,M.top),new De(M.left+M.width,M.top+M.height),new De(M.left,M.top+M.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new kw(r.value,B),s.letterSpacing,C),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Vr(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(S=r.styles.listStyleImage,S.type!==0)return[3,18];I=void 0,T=S.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return I=D.sent(),this.ctx.drawImage(I,r.bounds.left-(I.width+10),r.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(R=this.createFontStyle(s)[0],this.ctx.font=R,this.ctx.fillStyle=Wr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",M=new xu(r.bounds.left,r.bounds.top+In(r.styles.paddingTop,r.bounds.width),r.bounds.width,_G(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new kw(t.listValue,M),s.letterSpacing,_G(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Zi(this,void 0,void 0,function(){var r,i,S,s,a,S,o,l,S,u,d,S,h,g,S,v,C,S,b,B,S;return Oi(this,function(I){switch(I.label){case 0:if(Vr(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:I.sent(),r=0,i=t.negativeZIndex,I.label=2;case 2:return r<i.length?(S=i[r],[4,this.renderStack(S)]):[3,5];case 3:I.sent(),I.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:I.sent(),s=0,a=t.nonInlineLevel,I.label=7;case 7:return s<a.length?(S=a[s],[4,this.renderNode(S)]):[3,10];case 8:I.sent(),I.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,I.label=11;case 11:return o<l.length?(S=l[o],[4,this.renderStack(S)]):[3,14];case 12:I.sent(),I.label=13;case 13:return o++,[3,11];case 14:u=0,d=t.nonPositionedInlineLevel,I.label=15;case 15:return u<d.length?(S=d[u],[4,this.renderStack(S)]):[3,18];case 16:I.sent(),I.label=17;case 17:return u++,[3,15];case 18:h=0,g=t.inlineLevel,I.label=19;case 19:return h<g.length?(S=g[h],[4,this.renderNode(S)]):[3,22];case 20:I.sent(),I.label=21;case 21:return h++,[3,19];case 22:v=0,C=t.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return v<C.length?(S=C[v],[4,this.renderStack(S)]):[3,26];case 24:I.sent(),I.label=25;case 25:return v++,[3,23];case 26:b=0,B=t.positiveZIndex,I.label=27;case 27:return b<B.length?(S=B[b],[4,this.renderStack(S)]):[3,30];case 28:I.sent(),I.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var r=this;t.forEach(function(i,s){var a=to(i)?i.start:i;s===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),to(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,r,i,s){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,r,i){var s;if(t.width===r&&t.height===i)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,r,i),o},e.prototype.renderBackgroundImage=function(t){return Zi(this,void 0,void 0,function(){var r,i,s,a,o,l;return Oi(this,function(u){switch(u.label){case 0:r=t.styles.backgroundImage.length-1,i=function(d){var h,g,v,G,V,q,J,ne,H,C,G,V,q,J,ne,b,B,S,I,T,R,M,D,L,H,k,G,K,z,J,ne,oe,V,q,te,he,ve,$,Y,Ae,me,re;return Oi(this,function(fe){switch(fe.label){case 0:if(d.type!==0)return[3,5];h=void 0,g=d.url,fe.label=1;case 1:return fe.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return h=fe.sent(),[3,4];case 3:return fe.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return h&&(v=OU(t,r,[h.width,h.height,h.width/h.height]),G=v[0],V=v[1],q=v[2],J=v[3],ne=v[4],H=s.ctx.createPattern(s.resizeImage(h,J,ne),"repeat"),s.renderRepeat(G,H,V,q)),[3,6];case 5:wme(d)?(C=OU(t,r,[null,null,null]),G=C[0],V=C[1],q=C[2],J=C[3],ne=C[4],b=pme(d.angle,J,ne),B=b[0],S=b[1],I=b[2],T=b[3],R=b[4],M=document.createElement("canvas"),M.width=J,M.height=ne,D=M.getContext("2d"),L=D.createLinearGradient(S,T,I,R),SG(d.stops,B).forEach(function(le){return L.addColorStop(le.stop,Wr(le.color))}),D.fillStyle=L,D.fillRect(0,0,J,ne),J>0&&ne>0&&(H=s.ctx.createPattern(M,"repeat"),s.renderRepeat(G,H,V,q))):bme(d)&&(k=OU(t,r,[null,null,null]),G=k[0],K=k[1],z=k[2],J=k[3],ne=k[4],oe=d.position.length===0?[nk]:d.position,V=In(oe[0],J),q=In(oe[oe.length-1],ne),te=gme(d,V,q,J,ne),he=te[0],ve=te[1],he>0&&ve>0&&($=s.ctx.createRadialGradient(K+V,z+q,0,K+V,z+q,he),SG(d.stops,he*2).forEach(function(le){return $.addColorStop(le.stop,Wr(le.color))}),s.path(G),s.ctx.fillStyle=$,he!==ve?(Y=t.bounds.left+.5*t.bounds.width,Ae=t.bounds.top+.5*t.bounds.height,me=ve/he,re=1/me,s.ctx.save(),s.ctx.translate(Y,Ae),s.ctx.transform(1,0,0,me,0,0),s.ctx.translate(-Y,-Ae),s.ctx.fillRect(K,re*(z-Ae)+Ae,J,ne*re),s.ctx.restore()):s.ctx.fill())),fe.label=6;case 6:return r--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,r,i){return Zi(this,void 0,void 0,function(){return Oi(this,function(s){return this.path(nz(i,r)),this.ctx.fillStyle=Wr(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,r,i,s){return Zi(this,void 0,void 0,function(){var a,o;return Oi(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=B0e(s,i),this.path(a),this.ctx.fillStyle=Wr(t),this.ctx.fill(),o=S0e(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Zi(this,void 0,void 0,function(){var r,i,s,a,o,l,u,d,h=this;return Oi(this,function(g){switch(g.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,i=!zd(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=N0e(Hg(r.backgroundClip,0),t.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),zd(r.backgroundColor)||(this.ctx.fillStyle=Wr(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(v){h.ctx.save();var C=bT(t.curves),b=v.inset?0:P0e,B=C0e(C,-b+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(h.path(C),h.ctx.clip(),h.mask(B)):(h.mask(C),h.ctx.clip(),h.path(B)),h.ctx.shadowOffsetX=v.offsetX.number+b,h.ctx.shadowOffsetY=v.offsetY.number,h.ctx.shadowColor=Wr(v.color),h.ctx.shadowBlur=v.blur.number,h.ctx.fillStyle=v.inset?Wr(v.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),g.label=2;case 2:o=0,l=0,u=s,g.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!zd(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,3)];case 6:return g.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,t.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,t.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,r,i,s,a){return Zi(this,void 0,void 0,function(){var o,l,u,d,h,g,v,C,b,B,S,I,T,R,M,D,M,D;return Oi(this,function(L){return this.ctx.save(),o=x0e(s,i),l=nz(s,i),a===2&&(this.path(l),this.ctx.clip()),to(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),to(l[1])?(h=l[1].end.x,g=l[1].end.y):(h=l[1].x,g=l[1].y),i===0||i===2?v=Math.abs(u-h):v=Math.abs(d-g),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),C=r<3?r*3:r*2,b=r<3?r*2:r,a===3&&(C=r,b=r),B=!0,v<=C*2?B=!1:v<=C*2+b?(S=v/(2*C+b),C*=S,b*=S):(I=Math.floor((v+b)/(C+b)),T=(v-I*C)/(I-1),R=(v-(I+1)*C)/I,b=R<=0||Math.abs(b-T)<Math.abs(b-R)?T:R),B&&(a===3?this.ctx.setLineDash([0,C+b]):this.ctx.setLineDash([C,b])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Wr(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(to(l[0])&&(M=l[3],D=l[0],this.ctx.beginPath(),this.formatPath([new De(M.end.x,M.end.y),new De(D.start.x,D.start.y)]),this.ctx.stroke()),to(l[1])&&(M=l[1],D=l[2],this.ctx.beginPath(),this.formatPath([new De(M.end.x,M.end.y),new De(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Zi(this,void 0,void 0,function(){var r;return Oi(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Wr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=E0e(t),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(fX),D0e=function(n){return n instanceof YY||n instanceof WY?!0:n instanceof ak&&n.type!==vT&&n.type!==mT},N0e=function(n,e){switch(n){case 0:return bT(e);case 2:return m0e(e);case 1:default:return CT(e)}},L0e=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Q0e=["-apple-system","system-ui"],k0e=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return Q0e.indexOf(e)===-1}):n},O0e=(function(n){$o(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(t){return Zi(this,void 0,void 0,function(){var r,i;return Oi(this,function(s){switch(s.label){case 0:return r=kN(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,H0e(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Wr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(fX),H0e=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},V0e=(function(){function n(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,XS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,XS([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,XS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,XS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),K0e=(function(){function n(e,t){var r;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new V0e({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new l0e(this,e)}return n.instanceCount=1,n})(),G0e=function(n,e){return e===void 0&&(e={}),z0e(n,e)};typeof window<"u"&&oX.setContext(window);var z0e=function(n,e){return Zi(void 0,void 0,void 0,function(){var t,r,i,s,a,o,l,u,d,h,g,v,C,b,B,S,I,T,R,M,L,D,L,H,k,G,K,z,J,ne,oe,V,q,te,he,ve,$,Y,Ae,me;return Oi(this,function(re){switch(re.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(G=e.useCORS)!==null&&G!==void 0?G:!1},s=BN({logging:(K=e.logging)!==null&&K!==void 0?K:!0,cache:e.cache},i),a={windowWidth:(z=e.windowWidth)!==null&&z!==void 0?z:r.innerWidth,windowHeight:(J=e.windowHeight)!==null&&J!==void 0?J:r.innerHeight,scrollX:(ne=e.scrollX)!==null&&ne!==void 0?ne:r.pageXOffset,scrollY:(oe=e.scrollY)!==null&&oe!==void 0?oe:r.pageYOffset},o=new xu(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new K0e(s,o),u=(V=e.foreignObjectRendering)!==null&&V!==void 0?V:!1,d={allowTaint:(q=e.allowTaint)!==null&&q!==void 0?q:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new ZG(l,n,d),g=h.clonedReferenceElement,g?[4,h.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=re.sent(),C=ok(g)||$ye(g)?Cpe(g.ownerDocument):X1(l,g),b=C.width,B=C.height,S=C.left,I=C.top,T=$0e(l,g,e.backgroundColor),R={canvas:e.canvas,backgroundColor:T,scale:(he=(te=e.scale)!==null&&te!==void 0?te:r.devicePixelRatio)!==null&&he!==void 0?he:1,x:((ve=e.x)!==null&&ve!==void 0?ve:0)+S,y:(($=e.y)!==null&&$!==void 0?$:0)+I,width:(Y=e.width)!==null&&Y!==void 0?Y:Math.ceil(b),height:(Ae=e.height)!==null&&Ae!==void 0?Ae:Math.ceil(B)},u?(l.logger.debug("Document cloned, using foreign object rendering"),L=new O0e(l,R),[4,L.render(g)]):[3,3];case 2:return M=re.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+S+","+I+" with size "+b+"x"+B+" using computed rendering"),l.logger.debug("Starting DOM parsing"),D=ZY(l,g),T===D.styles.backgroundColor&&(D.styles.backgroundColor=vu.TRANSPARENT),l.logger.debug("Starting renderer for element at "+R.x+","+R.y+" with size "+R.width+"x"+R.height),L=new R0e(l,R),[4,L.render(D)];case 4:M=re.sent(),re.label=5;case 5:return(!((me=e.removeContainer)!==null&&me!==void 0)||me)&&(ZG.destroy(v)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,M]}})})},$0e=function(n,e,t){var r=e.ownerDocument,i=r.documentElement?Lw(n,getComputedStyle(r.documentElement).backgroundColor):vu.TRANSPARENT,s=r.body?Lw(n,getComputedStyle(r.body).backgroundColor):vu.TRANSPARENT,a=typeof t=="string"?Lw(n,t):t===null?vu.TRANSPARENT:4294967295;return e===r.documentElement?zd(i)?zd(s)?a:s:i:a};const q0e=({customChapter:n,variant:e="main"})=>{const{currentChapter:t,fontSize:r,viewMode:i,addHighlight:s,drawingMode:a,penColor:o,penWidth:l,penOpacity:u,chapterStrokes:d,addStroke:h,removeStroke:g,highlights:v,activeHighlightId:C,showAnnotations:b,triggerSmartExplain:B,isCaptureMode:S,setCaptureMode:I,setCapturedImage:T}=tf(),R=n||t,M=e==="main",D=F.useRef(null),L=F.useRef(null),H=F.useRef(0),[k,G]=F.useState({text:"",top:0,left:0,show:!1}),[K,z]=F.useState({show:!1,text:""}),[J]=F.useState(()=>"ontouchstart"in window||navigator.maxTouchPoints>0),[ne,oe]=F.useState(!1),[V,q]=F.useState([]),[te,he]=F.useState(null),[ve,$]=F.useState(null);F.useEffect(()=>{if(!M)return;const xe=ee=>{ee.key==="Escape"&&S&&(I(!1),he(null),$(null))};return window.addEventListener("keydown",xe),()=>window.removeEventListener("keydown",xe)},[S,I,M]);const Y=F.useMemo(()=>{let xe=R.content;return b&&[...v.filter(Pe=>Pe.chapterId===R.id)].sort((Pe,gt)=>gt.text.length-Pe.text.length).forEach(Pe=>{const gt=Pe.text.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Ke=new RegExp(gt,"g"),dn=`<mark id="hl-${Pe.id}" style="background-color: #fef08a !important; color: #0f172a !important;" class="rounded-sm cursor-pointer hover:brightness-95 transition-colors border-b-2 border-yellow-400" title="${Pe.note||"Highlight"}">${Pe.text}</mark>`;xe=xe.replace(Ke,dn)}),xe},[R.content,R.id,v,b]);F.useEffect(()=>{if(C&&b){const xe=document.getElementById(`hl-${C}`);xe&&document.body.contains(xe)&&(xe.scrollIntoView({behavior:"smooth",block:"center"}),xe.classList.add("ring-4","ring-blue-500","ring-offset-2"),setTimeout(()=>{xe.classList.remove("ring-4","ring-blue-500","ring-offset-2")},2e3))}},[C,Y,b]),F.useEffect(()=>{const xe=ee=>{const Be=ee.target;!Be.closest(`#selection-menu-${e}`)&&!Be.closest(`#memo-dialog-${e}`)&&G(Pe=>({...Pe,show:!1}))};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[e]);const Ae=()=>{var Ar,br;if(a!=="idle"||S){G(be=>({...be,show:!1}));return}const xe=window.getSelection();if(!xe||xe.isCollapsed||xe.rangeCount===0){G(be=>({...be,show:!1}));return}if(!(((Ar=D.current)==null?void 0:Ar.contains(xe.anchorNode))||((br=D.current)==null?void 0:br.contains(xe.focusNode)))||!D.current){G(be=>({...be,show:!1}));return}const Be=xe.getRangeAt(0),Pe=Be.getBoundingClientRect(),gt=Array.from(Be.getClientRects()),Ke=Pe.width>0&&Pe.height>0&&Pe||gt.find(be=>be.width>0&&be.height>0);if(!Ke||Ke.width===0){G(be=>({...be,show:!1}));return}const dn=240,Ft=12;let bn=J?Ke.bottom+Ft:Ke.top-56,St=Ke.left+Ke.width/2-dn/2;bn<Ft&&(bn=Ke.bottom+Ft),St<Ft&&(St=Ft),St+dn>window.innerWidth-Ft&&(St=window.innerWidth-dn-Ft),G({text:xe.toString().trim(),top:bn,left:St,show:!0})},me=()=>{[0,40,120].forEach(ee=>setTimeout(Ae,ee))},re=()=>{M&&S||a==="idle"&&me()},fe=()=>{var xe;s(k.text,void 0,R.id),G(ee=>({...ee,show:!1})),(xe=window.getSelection())==null||xe.removeAllRanges()},le=()=>{G(xe=>({...xe,show:!1})),z({show:!0,text:""})},Se=()=>{var xe;K.text.trim()&&s(k.text,K.text,R.id),z({show:!1,text:""}),(xe=window.getSelection())==null||xe.removeAllRanges()},Z=()=>{var xe;B(k.text),G(ee=>({...ee,show:!1})),(xe=window.getSelection())==null||xe.removeAllRanges()},Ue=xe=>{if(!L.current)return null;const ee=L.current.getBoundingClientRect();if(ee.width===0||ee.height===0)return null;const Be=L.current.width/ee.width,Pe=L.current.height/ee.height;return{x:(xe.clientX-ee.left)*Be,y:(xe.clientY-ee.top)*Pe}},Ie=xe=>{var Be;if(M&&S||a==="idle")return;xe.target.setPointerCapture(xe.pointerId);const ee=Ue(xe);if(ee&&(oe(!0),q([ee]),D.current&&a==="pen")){const Pe=Array.from(D.current.children);let gt=0;const Ke=(Be=L.current)==null?void 0:Be.getBoundingClientRect(),dn=xe.clientY-((Ke==null?void 0:Ke.top)||0);for(let Ft=0;Ft<Pe.length;Ft++){const bn=Pe[Ft];if(dn>=bn.offsetTop&&dn<=bn.offsetTop+bn.offsetHeight){gt=Ft;break}if(dn<bn.offsetTop){gt=Math.max(0,Ft-1);break}gt=Ft}H.current=gt}},ye=xe=>{if(M&&S||!ne||a==="idle")return;xe.preventDefault();const ee=Ue(xe);if(ee){if(a==="pen")q(Be=>[...Be,ee]);else if(a==="eraser"){const Be=d[R.id]||[],Pe=D.current?Array.from(D.current.children):[];Be.forEach(gt=>{let Ke=gt.points;if(gt.anchorIndex!==void 0&&Pe[gt.anchorIndex]){const Ft=Pe[gt.anchorIndex].offsetTop;Ke=gt.points.map(bn=>({x:bn.x,y:bn.y+Ft}))}Ke.some(Ft=>Math.hypot(Ft.x-ee.x,Ft.y-ee.y)<20)&&g(R.id,gt.id)})}}},vt=xe=>{if(!(M&&S)&&ne){if(xe.target.releasePointerCapture(xe.pointerId),oe(!1),a==="pen"&&V.length>1){let ee=V,Be;if(D.current){Be=H.current;const gt=D.current.children;if(gt[Be]){const Ke=gt[Be].offsetTop;ee=V.map(dn=>({x:dn.x,y:dn.y-Ke}))}}const Pe={id:Date.now().toString(),points:ee,color:o,width:l,opacity:u,anchorIndex:Be};h(R.id,Pe)}q([])}},qe=xe=>{if(!M||!S)return;const ee={x:xe.clientX,y:xe.clientY};he(ee),$(ee)},Vt=xe=>{!M||!S||!te||$({x:xe.clientX,y:xe.clientY})},It=async xe=>{if(!M||!S||!te||!ve){he(null),$(null);return}const ee=te,Be={x:xe.clientX,y:xe.clientY},Pe={x:Math.min(ee.x,Be.x),y:Math.min(ee.y,Be.y),width:Math.abs(Be.x-ee.x),height:Math.abs(Be.y-ee.y)};if(he(null),$(null),!(Pe.width<10||Pe.height<10))try{const gt=await G0e(document.body,{x:Pe.x+window.scrollX,y:Pe.y+window.scrollY,width:Pe.width,height:Pe.height,useCORS:!0,scale:window.devicePixelRatio,ignoreElements:Ke=>Ke.classList.contains("capture-overlay-ui")});T(gt.toDataURL())}catch(gt){console.error(gt)}finally{I(!1)}};F.useEffect(()=>{const xe=L.current;if(!xe||!D.current)return;const ee=()=>{if(!xe||!D.current)return;const Pe=window.devicePixelRatio||1;xe.width=D.current.offsetWidth*Pe,xe.height=D.current.offsetHeight*Pe;const gt=xe.getContext("2d");gt&&gt.scale(Pe,Pe)};ee();const Be=new ResizeObserver(ee);return Be.observe(D.current),()=>Be.disconnect()},[R.id,i]),F.useEffect(()=>{const xe=()=>me(),ee=()=>me();return document.addEventListener("selectionchange",xe),document.addEventListener("touchend",ee),()=>{document.removeEventListener("selectionchange",xe),document.removeEventListener("touchend",ee)}},[S,a,J]),F.useEffect(()=>{const xe=L.current;if(!xe||!D.current)return;const ee=xe.getContext("2d");if(!ee||(ee.save(),ee.setTransform(1,0,0,1,0,0),ee.clearRect(0,0,xe.width,xe.height),ee.restore(),!b&&!ne))return;const Be=(Ke,dn,Ft,bn)=>{if(!(Ke.length<2)){ee.beginPath(),ee.lineWidth=Ft,ee.strokeStyle=dn,ee.lineCap="round",ee.lineJoin="round",ee.globalAlpha=bn,ee.moveTo(Ke[0].x,Ke[0].y);for(let St=1;St<Ke.length-1;St++){const Ar={x:(Ke[St].x+Ke[St+1].x)/2,y:(Ke[St].y+Ke[St+1].y)/2};ee.quadraticCurveTo(Ke[St].x,Ke[St].y,Ar.x,Ar.y)}ee.lineTo(Ke[Ke.length-1].x,Ke[Ke.length-1].y),ee.stroke(),ee.globalAlpha=1}},Pe=Array.from(D.current.children);(d[R.id]||[]).forEach(Ke=>{let dn=Ke.points;if(Ke.anchorIndex!==void 0&&Pe[Ke.anchorIndex]){const Ft=Pe[Ke.anchorIndex].offsetTop;dn=Ke.points.map(bn=>({x:bn.x,y:bn.y+Ft}))}Be(dn,Ke.color,Ke.width||3,Ke.opacity!==void 0?Ke.opacity:1)}),ne&&V.length>1&&a==="pen"&&Be(V,o,l,u)},[d,R.id,ne,V,o,l,u,a,b]);const Kn=()=>{switch(r){case"small":return"text-sm leading-6";case"large":return"text-xl leading-9";case"xlarge":return"text-2xl leading-10";default:return"text-lg leading-8"}},rt=M&&S&&te&&ve?{position:"fixed",left:Math.min(te.x,ve.x),top:Math.min(te.y,ve.y),width:Math.abs(ve.x-te.x),height:Math.abs(ve.y-te.y),border:"2px solid #3b82f6",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(59, 130, 246, 0.1)",zIndex:1e4,pointerEvents:"none"}:{},wr={width:"100%",height:"100%",touchAction:a!=="idle"?"none":"auto"},Wn=`absolute inset-0 z-20 ${a!=="idle"?"cursor-crosshair pointer-events-auto":"pointer-events-none"}`,Xt=e==="main"&&i==="double",wa=e==="main"?`relative w-full bg-white dark:bg-slate-950 shadow-lg min-h-[80vh] p-8 md:p-12 transition-all ${Xt?"max-w-full":"max-w-3xl"}`:"relative w-full bg-white dark:bg-slate-900 p-4 min-h-[500px]",ba=`prose prose-slate dark:prose-invert max-w-none select-text cursor-text transition-all duration-200 relative z-10 selection:bg-yellow-200 selection:text-black dark:selection:bg-yellow-700 dark:selection:text-white ${Kn()} ${Xt?"columns-1 md:columns-2 gap-12 [column-fill:auto]":""}`,Jt=e==="main"?"relative min-h-[50vh] pb-32 flex justify-center bg-slate-100 dark:bg-slate-900 pt-8":"relative w-full bg-slate-50 dark:bg-slate-950";return Q.jsxs("div",{className:Jt,onPointerUp:re,onTouchEnd:re,children:[M&&S&&Q.jsx("div",{className:"fixed inset-0 z-[9999] cursor-crosshair capture-overlay-ui",onMouseDown:qe,onMouseMove:Vt,onMouseUp:It,children:!te&&Q.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg pointer-events-none",children:"Drag to capture (Esc to cancel)"})}),M&&S&&te&&ve&&Q.jsx("div",{style:rt,className:"capture-overlay-ui"}),Q.jsxs("div",{className:wa,children:[Q.jsx("div",{ref:D,className:ba,dangerouslySetInnerHTML:{__html:Y},onContextMenu:xe=>xe.preventDefault()}),Q.jsx("canvas",{ref:L,className:Wn,style:wr,onPointerDown:Ie,onPointerMove:ye,onPointerUp:vt,onPointerLeave:vt})]}),k.show&&!S&&Q.jsxs("div",{id:`selection-menu-${e}`,className:"fixed z-50 flex items-center gap-2 bg-slate-800 text-white rounded-lg shadow-xl p-2 animate-fade-in",style:{top:k.top,left:k.left},children:[Q.jsxs("button",{onClick:fe,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(T_,{size:14,className:"text-yellow-400"})," High"]}),Q.jsx("div",{className:"w-px h-4 bg-slate-600"}),Q.jsxs("button",{onClick:le,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(upe,{size:14,className:"text-green-400"})," Memo"]}),Q.jsx("div",{className:"w-px h-4 bg-slate-600"}),Q.jsxs("button",{onClick:Z,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(Lhe,{size:14,className:"text-blue-400"})," AI"]})]}),K.show&&Q.jsx("div",{id:`memo-dialog-${e}`,className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/20 backdrop-blur-sm",children:Q.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 w-80 animate-slide-up border border-slate-200 dark:border-slate-700",children:[Q.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Add Note"}),Q.jsx("textarea",{autoFocus:!0,value:K.text,onChange:xe=>z(ee=>({...ee,text:xe.target.value})),className:"w-full h-24 p-2 text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none dark:text-white",placeholder:"Type your thoughts..."}),Q.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[Q.jsx("button",{onClick:()=>z({show:!1,text:""}),className:"px-3 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),Q.jsx("button",{onClick:Se,className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 rounded-lg shadow-sm transition-colors",children:"Save"})]})]})})]})},j0e=({pdfPageCount:n,pdfCurrentPage:e,onPdfGoToPage:t,pdfPageStep:r})=>{var T;const{chapters:i,currentChapterIndex:s,goToNextChapter:a,goToPrevChapter:o,goToChapter:l}=tf(),u=!!t&&(n||0)>0,d=u?n||1:i.length,h=u?e||1:s+1,g=u?Math.max(1,r??1):1,v=h-1,C=((T=i[s])==null?void 0:T.title)||(u?"PDF":"Chapter"),[b,B]=F.useState(h.toString());F.useEffect(()=>{B(h.toString())},[h]);const S=R=>{R.preventDefault();const M=parseInt(b);if(isNaN(M)||M<1||M>d){B(h.toString());return}u?t==null||t(M):l(M-1)},I=R=>{const M=parseInt(R.target.value);u?t==null||t(M+1):l(M)};return Q.jsxs("div",{className:"navigation_inner",children:[Q.jsxs("div",{className:"prograss_bar_wrap",children:[Q.jsx("input",{type:"range",min:"0",max:Math.max(d-1,0),value:v,onChange:I,className:"prograss_max"}),Q.jsx("div",{className:"prograss_range",style:{width:`${h/d*100}%`},children:Q.jsx("div",{className:"prograss_pointer"})})]}),Q.jsxs("div",{className:"navigation_bottom_box",children:[Q.jsxs("button",{onClick:()=>u?t==null?void 0:t(Math.max(1,h-g)):o(),disabled:u?h<=1:s===0,className:`
            ${u?h<=1?"off":"on":s===0?"off":"on"}
          `,children:[Q.jsx(fhe,{size:18}),Q.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),Q.jsxs("div",{className:"chapter_page",children:[Q.jsxs("form",{onSubmit:S,className:"",children:[Q.jsx("span",{className:"text_xs",children:"Page"}),Q.jsx("input",{type:"text",value:b,onChange:R=>B(R.target.value),className:""}),Q.jsxs("span",{className:"slash",children:["/ ",d]})]}),Q.jsx("span",{className:"chapter_name",children:C})]}),Q.jsxs("button",{onClick:()=>u?t==null?void 0:t(Math.min(d,h+g)):a(),disabled:u?h>=d:s===i.length-1,className:`
            ${u?h>=d?"off":"on":s===i.length-1?"off":"on"}
          `,children:[Q.jsx("span",{className:"hidden sm:inline",children:"Next"}),Q.jsx(phe,{size:18})]})]})]})},W0e=({visible:n,top:e,left:t,copyStatus:r,onHighlight:i,onCopy:s,onAskAi:a,onCancel:o})=>n?Q.jsxs("div",{className:"pdf_selection_menu",style:{top:e,left:t},children:[(r==="ok"||r==="fail")&&Q.jsx("span",{className:`pdf_selection_menu_copy_status ${r==="ok"?"pdf_viewer_copy_status_ok":"pdf_viewer_copy_status_fail"}`,children:r==="ok"?"":" "}),Q.jsx("button",{onClick:i,children:"Highlight"}),Q.jsx("div",{className:"pdf_selection_menu_copy_block",children:Q.jsx("button",{onClick:s,children:"Copy"})}),Q.jsx("button",{onClick:a,children:"AI"}),Q.jsx("button",{onClick:o,children:"Cancel"})]}):null,Y0e=({loading:n,errorMsg:e,progress:t})=>{if(!n&&!e)return null;const r=Math.min(100,Math.max(1,Math.round(t||0)));return Q.jsxs(Q.Fragment,{children:[n&&Q.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_loading",children:Q.jsxs("div",{className:"pdf_viewer_progress",children:[Q.jsx("div",{className:"pdf_viewer_progress_title",children:"PDF  ..."}),Q.jsx("div",{className:"pdf_viewer_progress_bar",children:Q.jsx("div",{className:"pdf_viewer_progress_bar_fill",style:{width:`${r}%`}})}),Q.jsxs("div",{className:"pdf_viewer_progress_percent",children:[r,"%"]})]})}),e&&Q.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_error",children:Q.jsxs("div",{className:"pdf_viewer_error",children:[Q.jsx("div",{className:"pdf_viewer_error_title",children:"PDF  "}),Q.jsx("div",{children:e})]})})]})},{AbortException:X0e,AnnotationEditorLayer:J0e,AnnotationEditorParamsType:JQe,AnnotationEditorType:ps,AnnotationEditorUIManager:Z0e,AnnotationLayer:ewe,AnnotationMode:UA,AnnotationType:hX,applyOpacity:ZQe,build:eke,ColorPicker:tke,createValidAbsoluteUrl:pX,CSSConstants:nke,DOMSVGFactory:rke,DrawLayer:twe,FeatureTest:gX,fetchData:iz,findContrastColor:ike,getDocument:ske,getFilenameFromUrl:ake,getPdfFilenameFromUrl:nwe,getRGB:oke,getUuid:Ake,getXfaPageViewport:lke,GlobalWorkerOptions:uke,ImageKind:cke,InvalidPDFException:dke,isDataScheme:fke,isPdfFile:rwe,isValidExplicitDest:iwe,MathClamp:Ak,noContextMenu:hke,normalizeUnicode:swe,OPS:pke,OutputScale:P_,PasswordResponses:gke,PDFDataRangeTransport:mke,PDFDateString:vke,PDFWorker:yke,PermissionFlag:_g,PixelsPerInch:ml,RenderingCancelledException:$N,renderRichText:wke,ResponseException:bke,setLayerDimensions:mX,shadow:eb,SignatureExtractor:Cke,stopEvent:qN,SupportedImageMimeTypes:Eke,TextLayer:awe,TouchManager:Bke,updateUrlHash:owe,Util:lk,VerbosityLevel:Ske,version:sz,XfaLayer:HU}=globalThis.pdfjsLib,Awe="auto",vX=1,az=1.1,lwe=.1,uwe=10,VU=0,cwe=1.25,oz=40,Az=5,Lt={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},om={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},FA={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},Ut={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},mr={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function yX(n,e,t=!1){let r=n.offsetParent;if(!r){console.error("offsetParent is not set -- cannot scroll");return}let i=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||t&&(r.classList.contains("markedContent")||getComputedStyle(r).overflow==="hidden");)if(i+=r.offsetTop,s+=r.offsetLeft,r=r.offsetParent,!r)return;if(e&&(e.top!==void 0&&(i+=e.top),e.left!==void 0)){if(t){const a=n.getBoundingClientRect().width,o=Ak((r.clientWidth-a)/2,20,400);s+=e.left-o}else s+=e.left;r.scrollLeft=s}r.scrollTop=i}function dwe(n,e,t=void 0){const r=function(a){s||(s=window.requestAnimationFrame(function(){s=null;const l=n.scrollLeft,u=i.lastX;l!==u&&(i.right=l>u),i.lastX=l;const d=n.scrollTop,h=i.lastY;d!==h&&(i.down=d>h),i.lastY=d,e(i)}))},i={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:r};let s=null;return n.addEventListener("scroll",r,{useCapture:!0,signal:t}),t==null||t.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),i}function oI(n){const e=new Map;for(const[t,r]of new URLSearchParams(n))e.set(t.toLowerCase(),r);return e}const lz=/[\x00-\x1F]/g;function Hw(n,e=!1){return lz.test(n)?e?n.replaceAll(lz,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function tb(n,e,t=0){let r=t,i=n.length-1;if(i<0||!e(n[i]))return n.length;if(e(n[r]))return r;for(;r<i;){const s=r+i>>1,a=n[s];e(a)?i=s:r=s+1}return r}function uz(n){if(Math.floor(n)===n)return[n,1];const e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const r=n>1?e:n;let i=0,s=1,a=1,o=1;for(;;){const u=i+a,d=s+o;if(d>t)break;r<=u/d?(a=u,o=d):(i=u,s=d)}let l;return r-i/s<a/o-r?l=r===n?[i,s]:[s,i]:l=r===n?[a,o]:[o,a],l}function wx(n,e){return n-n%e}function fwe(n,e,t){if(n<2)return n;let r=e[n].div,i=r.offsetTop+r.clientTop;i>=t&&(r=e[n-1].div,i=r.offsetTop+r.clientTop);for(let s=n-2;s>=0&&(r=e[s].div,!(r.offsetTop+r.clientTop+r.clientHeight<=i));--s)n=s;return n}function hwe({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:r=!1,rtl:i=!1}){const s=n.scrollTop,a=s+n.clientHeight,o=n.scrollLeft,l=o+n.clientWidth;function u(I){const T=I.div;return T.offsetTop+T.clientTop+T.clientHeight>s}function d(I){const T=I.div,R=T.offsetLeft+T.clientLeft,M=R+T.clientWidth;return i?R<l:M>o}const h=[],g=new Set,v=e.length;let C=tb(e,r?d:u);C>0&&C<v&&!r&&(C=fwe(C,e,s));let b=r?l:-1;for(let I=C;I<v;I++){const T=e[I],R=T.div,M=R.offsetLeft+R.clientLeft,D=R.offsetTop+R.clientTop,L=R.clientWidth,H=R.clientHeight,k=M+L,G=D+H;if(b===-1)G>=a&&(b=G);else if((r?M:D)>b)break;if(G<=s||D>=a||k<=o||M>=l)continue;const K=Math.max(0,s-D),z=Math.max(0,o-M),J=K+Math.max(0,G-a),ne=z+Math.max(0,k-l),oe=(H-J)/H,V=(L-ne)/L,q=oe*V*100|0;h.push({id:T.id,x:M,y:D,visibleArea:q===100?null:{minX:z,minY:K,maxX:Math.min(k,l)-M,maxY:Math.min(G,a)-D},view:T,percent:q,widthPercent:V*100|0}),g.add(T.id)}const B=h[0],S=h.at(-1);return t&&h.sort(function(I,T){const R=I.percent-T.percent;return Math.abs(R)>.001?-R:I.id-T.id}),{first:B,last:S,views:h,ids:g}}function wX(n){return Number.isInteger(n)&&n%90===0}function pwe(n){return Number.isInteger(n)&&Object.values(Ut).includes(n)&&n!==Ut.UNKNOWN}function gwe(n){return Number.isInteger(n)&&Object.values(mr).includes(n)&&n!==mr.UNKNOWN}function cz(n){return n.width<=n.height}new Promise(function(n){window.requestAnimationFrame(n)});const mwe=document.documentElement.style;var bd,ip,Cd,Qv,sp;class vwe{constructor(e){U(this,bd,null);U(this,ip,null);U(this,Cd,0);U(this,Qv,null);U(this,sp,!0);_(this,bd,e.classList),_(this,Qv,e.style)}get percent(){return f(this,Cd)}set percent(e){if(_(this,Cd,Ak(e,0,100)),isNaN(e)){f(this,bd).add("indeterminate");return}f(this,bd).remove("indeterminate"),f(this,Qv).setProperty("--progressBar-percent",`${f(this,Cd)}%`)}setWidth(e){if(!e)return;const r=e.parentNode.offsetWidth-e.offsetWidth;r>0&&f(this,Qv).setProperty("--progressBar-end-offset",`${r}px`)}setDisableAutoFetch(e=5e3){f(this,Cd)===100||isNaN(f(this,Cd))||(f(this,ip)&&clearTimeout(f(this,ip)),this.show(),_(this,ip,setTimeout(()=>{_(this,ip,null),this.hide()},e)))}hide(){f(this,sp)&&(_(this,sp,!1),f(this,bd).add("hidden"))}show(){f(this,sp)||(_(this,sp,!0),f(this,bd).remove("hidden"))}}bd=new WeakMap,ip=new WeakMap,Cd=new WeakMap,Qv=new WeakMap,sp=new WeakMap;function ywe(n){let e=Ut.VERTICAL,t=mr.NONE;switch(n){case"SinglePage":e=Ut.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=Ut.PAGE;case"TwoColumnLeft":t=mr.ODD;break;case"TwoPageRight":e=Ut.PAGE;case"TwoColumnRight":t=mr.EVEN;break}return{scrollMode:e,spreadMode:t}}const bx=(function(){const n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e})(),yo={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function wwe(n){return n<11904}function bwe(n){return(n&65408)===0}function Cwe(n){return n>=97&&n<=122||n>=65&&n<=90}function Ewe(n){return n>=48&&n<=57}function Bwe(n){return n===32||n===9||n===13||n===10}function Swe(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function xwe(n){return n>=12448&&n<=12543}function _we(n){return n>=12352&&n<=12447}function Twe(n){return n>=65376&&n<=65439}function Iwe(n){return(n&65408)===3584}function Cx(n){return wwe(n)?bwe(n)?Bwe(n)?yo.SPACE:Cwe(n)||Ewe(n)||n===95?yo.ALPHA_LETTER:yo.PUNCT:Iwe(n)?yo.THAI_LETTER:n===160?yo.SPACE:yo.ALPHA_LETTER:Swe(n)?yo.HAN_LETTER:xwe(n)?yo.KATAKANA_LETTER:_we(n)?yo.HIRAGANA_LETTER:Twe(n)?yo.HALFWIDTH_KATAKANA_LETTER:yo.ALPHA_LETTER}let Fwe;function Mwe(){return Fwe}const Cc={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},Uwe=250,Pwe=-50,dz={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},fz=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let hz;const Rwe=new RegExp("\\p{M}+","gu"),Dwe=new RegExp("([*+^${}()|[\\]\\\\])|(\\p{P}+)|(\\s+)|(\\p{M})|(\\p{L})","gu"),Nwe=new RegExp("([^\\p{M}])\\p{M}*$","u"),Lwe=new RegExp("^\\p{M}*([^\\p{M}])","u"),Qwe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,pz=new Map,kwe="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",gz=new Map;let KU=null,GU=null;function R_(n,e={}){const t=[];let r;for(;(r=Qwe.exec(n))!==null;){let{index:I}=r;for(const T of r[0]){let R=pz.get(T);R||(R=T.normalize("NFD").length,pz.set(T,R)),t.push([R,I++])}}const i=t.length>0,s=e.ignoreDashEOL??!1;let a;if(!i&&KU)a=KU;else if(i&&GU)a=GU;else{const I=Object.keys(dz).join(""),T=Mwe(),L=[`[${I}]`,`[${T}]`,"(?:|)\\n","\\p{M}+(?:-\\n)?","\\p{Ll}-\\n(?=\\p{Ll})|\\p{Lu}-\\n(?=\\p{L})","\\S-\\n","(?:\\p{Ideographic}|[-])\\n","\\n",i?kwe:"\\u0000"];a=new RegExp(L.map(H=>`(${H})`).join("|"),"gum"),i?GU=a:KU=a}const o=[];for(;(r=Rwe.exec(n))!==null;)o.push([r[0].length,r.index]);let l=n.normalize("NFD");const u=[0,0];let d=0,h=0,g=0,v=0,C=0,b=!1;l=l.replace(a,(I,T,R,M,D,L,H,k,G,K,z)=>{var J,ne,oe;if(z-=v,T){const V=dz[T],q=V.length;for(let te=1;te<q;te++)u.push(z-g+te,g-te);return g-=q-1,V}if(R){let V=gz.get(R);V||(V=R.normalize("NFKC"),gz.set(R,V));const q=V.length;for(let te=1;te<q;te++)u.push(z-g+te,g-te);return g-=q-1,V}if(M)return b=!0,z+C===((J=o[d])==null?void 0:J[1])?++d:(u.push(z-1-g+1,g-1),g-=1,v+=1),u.push(z-g+1,g),v+=1,C+=1,M.charAt(0);if(D){const V=D.endsWith(`
`),q=V?D.length-2:D.length;b=!0;let te=q;z+C===((ne=o[d])==null?void 0:ne[1])&&(te-=o[d][0],++d);for(let he=1;he<=te;he++)u.push(z-1-g+he,g-he);return g-=te,v+=te,V?(z+=q-1,u.push(z-g+1,1+g),g+=1,v+=1,C+=1,D.slice(0,q)):D}if(L){if(s)return v+=1,C+=1,L.slice(0,-1);const V=L.length-2;return u.push(z-g+V,1+g),g+=1,v+=1,C+=1,L.slice(0,-2)}if(H)return v+=1,C+=1,H.slice(0,-1);if(k){const V=k.length-1;return u.push(z-g+V,g),v+=1,C+=1,k.slice(0,-1)}if(G)return u.push(z-g+1,g-1),g-=1,v+=1,C+=1," ";if(z+C===((oe=t[h])==null?void 0:oe[1])){const V=t[h][0]-1;++h;for(let q=1;q<=V;q++)u.push(z-(g-q),g-q);g-=V,v+=V}return K}),u.push(l.length,g);const B=new Uint32Array(u.length>>1),S=new Int32Array(u.length>>1);for(let I=0,T=u.length;I<T;I+=2)B[I>>1]=u[I],S[I>>1]=u[I+1];return[l,[B,S],b]}function bX(n,e,t){if(!n)return[e,t];const[r,i]=n,s=e,a=e+t-1;let o=tb(r,g=>g>=s);r[o]>s&&--o;let l=tb(r,g=>g>=a,o);r[l]>a&&--l;const u=s+i[o],h=a+i[l]+1-u;return[u,h]}var kr,kv,ap,$e,CX,jN,WN,EX,BX,YN,SX,xX,D_,xw,Vg,_X,XN,JN,N_,TX,ZN,eL,_w;class Owe{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:r=!0}){U(this,$e);U(this,kr,null);U(this,kv,!0);U(this,ap,0);this._linkService=e,this._eventBus=t,_(this,kv,r),this.onIsPageVisible=null,P(this,$e,jN).call(this),t._on("find",P(this,$e,CX).bind(this)),t._on("findbarclose",P(this,$e,TX).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return f(this,kr)}setDocument(e){this._pdfDocument&&P(this,$e,jN).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:r=-1,matchIndex:i=-1}){if(!this._scrollMatches||!e)return;if(i===-1||i!==this._selected.matchIdx)return;if(r===-1||r!==this._selected.pageIdx)return;this._scrollMatches=!1,yX(e,{top:Pwe,left:t},!0)}match(e,t,r){const i=this._hasDiacritics[r];let s=!1;if(typeof e=="string"?[s,e]=P(this,$e,YN).call(this,e,i):e=e.sort().reverse().map(h=>{const[g,v]=P(this,$e,YN).call(this,h,i);return s||(s=g),`(${v})`}).join("|"),!e)return;const{caseSensitive:a,entireWord:o}=f(this,kr),l=`g${s?"u":""}${a?"":"i"}`;e=new RegExp(e,l);const u=[];let d;for(;(d=e.exec(t))!==null;)o&&!P(this,$e,BX).call(this,t,d.index,d[0].length)||u.push({index:d.index,length:d[0].length});return u}}kr=new WeakMap,kv=new WeakMap,ap=new WeakMap,$e=new WeakSet,CX=function(e){if(!e)return;const t=this._pdfDocument,{type:r}=e;(f(this,kr)===null||P(this,$e,EX).call(this,e))&&(this._dirtyMatch=!0),_(this,kr,e),r!=="highlightallchange"&&P(this,$e,_w).call(this,Cc.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;P(this,$e,xX).call(this);const i=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),r?this._dirtyMatch?P(this,$e,Vg).call(this):r==="again"?(P(this,$e,Vg).call(this),i&&f(this,kr).highlightAll&&P(this,$e,xw).call(this)):r==="highlightallchange"?(s?P(this,$e,Vg).call(this):this._highlightMatches=!0,P(this,$e,xw).call(this)):P(this,$e,Vg).call(this):this._findTimeout=setTimeout(()=>{P(this,$e,Vg).call(this),this._findTimeout=null},Uwe)})},jN=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],_(this,ap,0),_(this,kr,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},WN=function(){const{query:e}=f(this,kr);return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=R_(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>R_(t)[0])},EX=function(e){var a;const t=e.query,r=f(this,kr).query,i=typeof t;if(i!==typeof r)return!0;if(i==="string"){if(t!==r)return!0}else if(JSON.stringify(t)!==JSON.stringify(r))return!0;switch(e.type){case"again":const o=this._selected.pageIdx+1,l=this._linkService;return o>=1&&o<=l.pagesCount&&o!==l.page&&!(((a=this.onIsPageVisible)==null?void 0:a.call(this,o))??!0);case"highlightallchange":return!1}return!0},BX=function(e,t,r){let i=e.slice(0,t).match(Nwe);if(i){const s=e.charCodeAt(t),a=i[1].charCodeAt(0);if(Cx(s)===Cx(a))return!1}if(i=e.slice(t+r).match(Lwe),i){const s=e.charCodeAt(t+r-1),a=i[1].charCodeAt(0);if(Cx(s)===Cx(a))return!1}return!0},YN=function(e,t){const{matchDiacritics:r}=f(this,kr);let i=!1;const s=(o,l)=>o===e?l:e.startsWith(o)?`${l}[ ]*`:e.endsWith(o)?`[ ]*${l}`:`[ ]*${l}[ ]*`;e=e.replaceAll(Dwe,(o,l,u,d,h,g)=>l?s(l,`\\${l}`):u?s(u,u.replaceAll(/[.?]/g,"\\$&")):d?"[ ]+":r?h||g:h?fz.has(h.charCodeAt(0))?h:"":t?(i=!0,`${g}\\p{M}*`):g);const a="[ ]*";return e.endsWith(a)&&(e=e.slice(0,e.length-a.length)),r&&t&&(hz||(hz=String.fromCharCode(...fz)),i=!0,e=`${e}(?=[${hz}]|[^\\p{M}]|$)`),[i,e]},SX=function(e){if(!f(this,kr))return;const t=f(this,$e,WN);if(t.length===0)return;const r=this._pageContents[e],i=this.match(t,r,e),s=this._pageMatches[e]=[],a=this._pageMatchesLength[e]=[],o=this._pageDiffs[e];i==null||i.forEach(({index:u,length:d})=>{const[h,g]=bX(o,u,d);g&&(s.push(h),a.push(g))}),f(this,kr).highlightAll&&P(this,$e,D_).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,P(this,$e,XN).call(this));const l=s.length;this._matchesCountTotal+=l,f(this,kv)?l>0&&P(this,$e,eL).call(this):++cr(this,ap)._===this._linkService.pagesCount&&P(this,$e,eL).call(this)},xX=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0},r=this._pdfDocument;for(let i=0,s=this._linkService.pagesCount;i<s;i++){const{promise:a,resolve:o}=Promise.withResolvers();this._extractTextPromises[i]=a,e=e.then(async()=>{if(r!==this._pdfDocument){o();return}await r.getPage(i+1).then(l=>l.getTextContent(t)).then(l=>{const u=[];for(const d of l.items)u.push(d.str),d.hasEOL&&u.push(`
`);[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=R_(u.join("")),o()},l=>{console.error(`Unable to get text content for page ${i+1}`,l),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,o()})})}},D_=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},xw=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Vg=function(){const e=f(this,kr).findPrevious,t=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,_(this,ap,0),this._matchesCountTotal=0,P(this,$e,xw).call(this);for(let a=0;a<r;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),P(this,$e,SX).call(this,a)}))}if(f(this,$e,WN).length===0){P(this,$e,_w).call(this,Cc.FOUND);return}if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=r,s.matchIdx!==null){const a=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<a||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,P(this,$e,N_).call(this,!0);return}P(this,$e,JN).call(this,e)}P(this,$e,XN).call(this)},_X=function(e){const t=this._offset,r=e.length,i=f(this,kr).findPrevious;return r?(t.matchIdx=i?r-1:0,P(this,$e,N_).call(this,!0),!0):(P(this,$e,JN).call(this,i),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(P(this,$e,N_).call(this,!1),!0):!1)},XN=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!P(this,$e,_X).call(this,e))},JN=function(e){const t=this._offset,r=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=r||t.pageIdx<0)&&(t.pageIdx=e?r-1:0,t.wrapped=!0)},N_=function(e=!1){let t=Cc.NOT_FOUND;const r=this._offset.wrapped;if(this._offset.wrapped=!1,e){const i=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=r?Cc.WRAPPED:Cc.FOUND,i!==-1&&i!==this._selected.pageIdx&&P(this,$e,D_).call(this,i)}P(this,$e,_w).call(this,t,f(this,kr).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,P(this,$e,D_).call(this,this._selected.pageIdx))},TX=function(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),P(this,$e,_w).call(this,Cc.FOUND),this._highlightMatches=!1,P(this,$e,xw).call(this))})},ZN=function(){var s;const{pageIdx:e,matchIdx:t}=this._selected;let r=0,i=this._matchesCountTotal;if(t!==-1){for(let a=0;a<e;a++)r+=((s=this._pageMatches[a])==null?void 0:s.length)||0;r+=t+1}return(r<1||r>i)&&(r=i=0),{current:r,total:i}},eL=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:P(this,$e,ZN).call(this)})},_w=function(e,t=!1){var r,i;!f(this,kv)&&(f(this,ap)!==this._linkService.pagesCount||e===Cc.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:((r=f(this,kr))==null?void 0:r.entireWord)??null,matchesCount:P(this,$e,ZN).call(this),rawQuery:((i=f(this,kr))==null?void 0:i.query)??null})};const Hwe="noopener noreferrer nofollow",Mf={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class uk{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:r=null,ignoreDestinationZoom:i=!1}={}){Ee(this,"externalLinkEnabled",!0);this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=r,this._ignoreDestinationZoom=i,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,r,i;if(typeof e=="string"?(t=e,r=await this.pdfDocument.getDestination(e)):(t=null,r=await e),!Array.isArray(r)){console.error(`goToDestination: "${r}" is not a valid destination array, for dest="${e}".`);return}const[s]=r;if(s&&typeof s=="object"){if(i=this.pdfDocument.cachedPageNumber(s),!i)try{i=await this.pdfDocument.getPageIndex(s)+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(i=s+1);if(!i||i<1||i>this.pagesCount){console.error(`goToDestination: "${i}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:r,pageNumber:i})),this.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:r,ignoreDestinationZoom:this._ignoreDestinationZoom});const a=new AbortController;this.eventBus._on("textlayerrendered",o=>{o.pageNumber===i&&(o.source.textLayer.div.focus(),a.abort())},{signal:a.signal})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}goToXY(e,t,r,i={}){this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:[null,{name:"XYZ"},t,r],ignoreDestinationZoom:!0,...i})}addLinkAttributes(e,t,r=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const i=r?Mf.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let a="";switch(i){case Mf.NONE:break;case Mf.SELF:a="_self";break;case Mf.BLANK:a="_blank";break;case Mf.PARENT:a="_parent";break;case Mf.TOP:a="_top";break}e.target=a,e.rel=typeof s=="string"?s:Hwe}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,r;if(e.includes("=")){const i=oI(e);if(i.has("search")){const s=i.get("search").replaceAll('"',""),a=i.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:a?s:s.match(/\S+/g)})}if(i.has("page")&&(t=i.get("page")|0||1),i.has("zoom")){const s=i.get("zoom").split(","),a=s[0],o=parseFloat(a);a.includes("Fit")?a==="Fit"||a==="FitB"?r=[null,{name:a}]:a==="FitH"||a==="FitBH"||a==="FitV"||a==="FitBV"?r=[null,{name:a},s.length>1?s[1]|0:null]:a==="FitR"?s.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):r=[null,{name:a},s[1]|0,s[2]|0,s[3]|0,s[4]|0]:console.error(`PDFLinkService.setHash: "${a}" is not a valid zoom value.`):r=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,o?o/100:a]}r?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:r,allowNegativeOffset:!0}):t&&(this.page=t),i.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:i.get("pagemode")}),i.has("nameddest")&&this.goToDestination(i.get("nameddest"));return}r=unescape(e);try{r=JSON.parse(r),Array.isArray(r)||(r=r.toString())}catch{}if(typeof r=="string"||iwe(r)){this.goToDestination(r);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,r;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(r=this.pdfHistory)==null||r.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,r=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(r.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(r))}}class ck extends uk{setDocument(e,t=null){}}var Ed,aE,oE,AE,Bd,lE,Lu,FX,tL,MX;class IX{constructor({pdfPage:e,linkService:t,downloadManager:r,annotationStorage:i=null,imageResourcesPath:s="",renderForms:a=!0,enableComment:o=!1,commentManager:l=null,enableScripting:u=!1,hasJSActionsPromise:d=null,fieldObjectsPromise:h=null,annotationCanvasMap:g=null,accessibilityManager:v=null,annotationEditorUIManager:C=null,onAppend:b=null}){U(this,Lu);U(this,Ed,null);U(this,aE,null);U(this,oE,!1);U(this,AE,null);U(this,Bd,null);U(this,lE,!1);this.pdfPage=e,this.linkService=t,this.downloadManager=r,this.imageResourcesPath=s,this.renderForms=a,this.annotationStorage=i,this.enableComment=o,_(this,aE,l),this.enableScripting=u,this._hasJSActionsPromise=d||Promise.resolve(!1),this._fieldObjectsPromise=h||Promise.resolve(null),this._annotationCanvasMap=g,this._accessibilityManager=v,this._annotationEditorUIManager=C,_(this,AE,b),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render({viewport:e,intent:t="display",structTreeLayer:r=null}){var l,u;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[i,s,a]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const o=this.div=document.createElement("div");if(o.className="annotationLayer",(l=f(this,AE))==null||l.call(this,o),P(this,Lu,FX).call(this,e,r),i.length===0){_(this,Ed,i),mX(this.div,e);return}await this.annotationLayer.render({annotations:i,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,downloadManager:this.downloadManager,enableComment:this.enableComment,enableScripting:this.enableScripting,hasJSActions:s,fieldObjects:a}),_(this,Ed,i),this.linkService.isInPresentationMode&&P(this,Lu,tL).call(this,om.FULLSCREEN),f(this,Bd)||(_(this,Bd,new AbortController),(u=this._eventBus)==null||u._on("presentationmodechanged",d=>{P(this,Lu,tL).call(this,d.state)},{signal:f(this,Bd).signal}))}cancel(){var e;this._cancelled=!0,(e=f(this,Bd))==null||e.abort(),_(this,Bd,null)}hide(e=!1){_(this,oE,!e),this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){var e;return!!((e=this.annotationLayer)!=null&&e.hasEditableAnnotations())}async injectLinkAnnotations(e){if(f(this,Ed)===null)throw new Error("`render` method must be called before `injectLinkAnnotations`.");if(this._cancelled||f(this,lE))return;_(this,lE,!0);const t=f(this,Ed).length?P(this,Lu,MX).call(this,e):e;t.length&&(await this.annotationLayer.addLinkAnnotations(t),f(this,oE)||(this.div.hidden=!1))}}Ed=new WeakMap,aE=new WeakMap,oE=new WeakMap,AE=new WeakMap,Bd=new WeakMap,lE=new WeakMap,Lu=new WeakSet,FX=function(e,t){this.annotationLayer=new ewe({div:this.div,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,annotationStorage:this.annotationStorage,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t,commentManager:f(this,aE),linkService:this.linkService})},tL=function(e){if(!this.div)return;let t=!1;switch(e){case om.FULLSCREEN:t=!0;break;case om.NORMAL:break;default:return}for(const r of this.div.childNodes)r.hasAttribute("data-internal-link")||(r.inert=t)},MX=function(e){function t(s){if(!s.quadPoints)return[s.rect];const a=[];for(let o=2,l=s.quadPoints.length;o<l;o+=8){const u=s.quadPoints[o],d=s.quadPoints[o+1],h=s.quadPoints[o+2],g=s.quadPoints[o+3];a.push([h,g,u,d])}return a}function r(s,a){const o=[],l=t(s),u=t(a);for(const d of l)for(const h of u){const g=lk.intersect(d,h);g&&o.push(g)}return o}function i(s){let a=0;for(const o of s)a+=Math.abs((o[2]-o[0])*(o[3]-o[1]));return a}return e.filter(s=>{let a;for(const o of f(this,Ed)){if(o.annotationType!==hX.LINK||!o.url)continue;const l=r(o,s);if(l.length!==0&&(a??(a=i(t(s))),i(l)/a>.5))return!1}return!0})};function mz(n,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var TQ;class Vwe{constructor(){U(this,TQ,new WeakMap)}downloadData(e,t,r){const i=URL.createObjectURL(new Blob([e],{type:r}));mz(i,t)}openOrDownloadData(e,t,r=null){const s=rwe(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,r){let i;if(e)i=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!pX(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}i=t+"#pdfjs.action=download"}mz(i,r)}}TQ=new WeakMap;const vz={EVENT:"event",TIMEOUT:"timeout"};async function Kwe({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:r,resolve:i}=Promise.withResolvers(),s=new AbortController;function a(u){s.abort(),clearTimeout(l),i(u)}const o=n instanceof dk?"_on":"addEventListener";n[o](e,a.bind(null,vz.EVENT),{signal:s.signal});const l=setTimeout(a.bind(null,vz.TIMEOUT),t);return r}var Ov;class dk{constructor(){U(this,Ov,Object.create(null))}on(e,t,r=null){this._on(e,t,{external:!0,once:r==null?void 0:r.once,signal:r==null?void 0:r.signal})}off(e,t,r=null){this._off(e,t)}dispatch(e,t){const r=f(this,Ov)[e];if(!r||r.length===0)return;let i;for(const{listener:s,external:a,once:o}of r.slice(0)){if(o&&this._off(e,s),a){(i||(i=[])).push(s);continue}s(t)}if(i){for(const s of i)s(t);i=null}}_on(e,t,r=null){var a;let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:o}=r;if(o.aborted){console.error("Cannot use an `aborted` signal.");return}const l=()=>this._off(e,t);i=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}((a=f(this,Ov))[e]||(a[e]=[])).push({listener:t,external:(r==null?void 0:r.external)===!0,once:(r==null?void 0:r.once)===!0,rmAbort:i})}_off(e,t,r=null){var s;const i=f(this,Ov)[e];if(i)for(let a=0,o=i.length;a<o;a++){const l=i[a];if(l.listener===t){(s=l.rmAbort)==null||s.call(l),i.splice(a,1);return}}}}Ov=new WeakMap;class Am{constructor(e){this.value=e}valueOf(){return this.value}}class Ur extends Am{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class yu extends Am{constructor(e,t={}){super(e),this.opts=t}toString(e){if(e)try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return this.value.toString(10)}}class Wd extends Am{static supportsValue(e){if(typeof e=="number"||e instanceof Date)return!0;if(e instanceof Am)return Wd.supportsValue(e.valueOf());if("Temporal"in globalThis){const t=globalThis.Temporal;if(e instanceof t.Instant||e instanceof t.PlainDateTime||e instanceof t.PlainDate||e instanceof t.PlainMonthDay||e instanceof t.PlainTime||e instanceof t.PlainYearMonth)return!0}return!1}constructor(e,t={}){e instanceof Wd?(t={...e.opts,...t},e=e.value):e instanceof Am&&(e=e.valueOf()),typeof e=="object"&&"calendarId"in e&&t.calendar===void 0&&(t={...t,calendar:e.calendarId}),super(e),this.opts=t}[Symbol.toPrimitive](e){return e==="string"?this.toString():this.toNumber()}toNumber(){const e=this.value;if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();if("epochMilliseconds"in e)return e.epochMilliseconds;if("toZonedDateTime"in e)return e.toZonedDateTime("UTC").epochMilliseconds;throw new TypeError("Unwrapping a non-number value as a number")}toString(e){if(e)try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return typeof this.value=="number"||this.value instanceof Date?new Date(this.value).toISOString():this.value.toString()}}const yz=100,Gwe="",zwe="";function $we(n,e,t){if(t===e||t instanceof yu&&e instanceof yu&&t.value===e.value)return!0;if(e instanceof yu&&typeof t=="string"){let r=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===r)return!0}return!1}function wz(n,e,t){return e[t]?ly(n,e[t].value):(n.reportError(new RangeError("No default")),new Ur)}function nL(n,e){const t=[],r=Object.create(null);for(const i of e)i.type==="narg"?r[i.name]=nb(n,i.value):t.push(nb(n,i));return{positional:t,named:r}}function nb(n,e){switch(e.type){case"str":return e.value;case"num":return new yu(e.value,{minimumFractionDigits:e.precision});case"var":return qwe(n,e);case"mesg":return jwe(n,e);case"term":return Wwe(n,e);case"func":return Ywe(n,e);case"select":return Xwe(n,e);default:return new Ur}}function qwe(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new Ur(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new Ur(`$${e}`);if(t instanceof Am)return t;switch(typeof t){case"string":return t;case"number":return new yu(t);case"object":if(Wd.supportsValue(t))return new Wd(t);default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new Ur(`$${e}`)}}function jwe(n,{name:e,attr:t}){const r=n.bundle._messages.get(e);if(!r)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new Ur(e);if(t){const i=r.attributes[t];return i?ly(n,i):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ur(`${e}.${t}`))}return r.value?ly(n,r.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new Ur(e))}function Wwe(n,{name:e,attr:t,args:r}){const i=`-${e}`,s=n.bundle._terms.get(i);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${i}`)),new Ur(i);if(t){const o=s.attributes[t];if(o){n.params=nL(n,r).named;const l=ly(n,o);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ur(`${i}.${t}`)}n.params=nL(n,r).named;const a=ly(n,s.value);return n.params=null,a}function Ywe(n,{name:e,args:t}){let r=n.bundle._functions[e];if(!r)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new Ur(`${e}()`);if(typeof r!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new Ur(`${e}()`);try{let i=nL(n,t);return r(i.positional,i.named)}catch(i){return n.reportError(i),new Ur(`${e}()`)}}function Xwe(n,{selector:e,variants:t,star:r}){let i=nb(n,e);if(i instanceof Ur)return wz(n,t,r);for(const s of t){const a=nb(n,s.key);if($we(n,i,a))return ly(n,s.value)}return wz(n,t,r)}function UX(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new Ur;n.dirty.add(e);const t=[],r=n.bundle._useIsolating&&e.length>1;for(const i of e){if(typeof i=="string"){t.push(n.bundle._transform(i));continue}if(n.placeables++,n.placeables>yz)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${yz}`);r&&t.push(Gwe),t.push(nb(n,i).toString(n)),r&&t.push(zwe)}return n.dirty.delete(e),t.join("")}function ly(n,e){return typeof e=="string"?n.bundle._transform(e):UX(n,e)}class Jwe{constructor(e,t,r){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=r}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let r=this.bundle._intls.get(e);r||(r={},this.bundle._intls.set(e,r));let i=JSON.stringify(t);return r[i]||(r[i]=new e(this.bundle.locales,t)),r[i]}}function rL(n,e){const t=Object.create(null);for(const[r,i]of Object.entries(n))e.includes(r)&&(t[r]=i.valueOf());return t}const bz=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function Zwe(n,e){let t=n[0];if(t instanceof Ur)return new Ur(`NUMBER(${t.valueOf()})`);if(t instanceof yu)return new yu(t.valueOf(),{...t.opts,...rL(e,bz)});if(t instanceof Wd)return new yu(t.toNumber(),{...rL(e,bz)});throw new TypeError("Invalid argument to NUMBER")}const ebe=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function tbe(n,e){let t=n[0];if(t instanceof Ur)return new Ur(`DATETIME(${t.valueOf()})`);if(t instanceof Wd||t instanceof yu)return new Wd(t,rL(e,ebe));throw new TypeError("Invalid argument to DATETIME")}const Cz=new Map;function nbe(n){const e=Array.isArray(n)?n.join(" "):n;let t=Cz.get(e);return t===void 0&&(t=new Map,Cz.set(e,t)),t}class rbe{constructor(e,{functions:t,useIsolating:r=!0,transform:i=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:Zwe,DATETIME:tbe,...t},this._useIsolating=r,this._transform=i,this._intls=nbe(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const r=[];for(let i=0;i<e.body.length;i++){let s=e.body[i];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){r.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){r.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return r}formatPattern(e,t=null,r=null){if(typeof e=="string")return this._transform(e);let i=new Jwe(this,r,t);try{return UX(i,e).toString(i)}catch(s){if(i.errors&&s instanceof Error)return i.errors.push(s),new Ur().toString(i);throw s}}}const zU=/^(-?[a-zA-Z][\w-]*) *= */gm,Ez=/\.([a-zA-Z][\w-]*) *= */y,ibe=/\*?\[/y,$U=/(-?[0-9]+(?:\.([0-9]+))?)/y,sbe=/([a-zA-Z][\w-]*)/y,Bz=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,abe=/^[A-Z][A-Z0-9_-]*$/,Ex=/([^{}\n\r]+)/y,obe=/([^\\"\n\r]*)/y,Sz=/\\([\\"])/y,xz=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,Abe=/^\n+/,_z=/ +$/,lbe=/ *\r?\n/g,ube=/( *)$/,cbe=/{\s*/y,Tz=/\s*}/y,dbe=/\[\s*/y,fbe=/\s*] */y,hbe=/\s*\(\s*/y,pbe=/\s*->\s*/y,gbe=/\s*:\s*/y,mbe=/\s*,?\s*/y,vbe=/\s+/y;class ybe{constructor(e){this.body=[],zU.lastIndex=0;let t=0;for(;;){let k=zU.exec(e);if(k===null)break;t=zU.lastIndex;try{this.body.push(l(k[1]))}catch(G){if(G instanceof SyntaxError)continue;throw G}}function r(k){return k.lastIndex=t,k.test(e)}function i(k,G){if(e[t]===k)return t++,!0;if(G)throw new G(`Expected ${k}`);return!1}function s(k,G){if(r(k))return t=k.lastIndex,!0;if(G)throw new G(`Expected ${k.toString()}`);return!1}function a(k){k.lastIndex=t;let G=k.exec(e);if(G===null)throw new SyntaxError(`Expected ${k.toString()}`);return t=k.lastIndex,G}function o(k){return a(k)[1]}function l(k){let G=d(),K=u();if(G===null&&Object.keys(K).length===0)throw new SyntaxError("Expected message value or attributes");return{id:k,value:G,attributes:K}}function u(){let k=Object.create(null);for(;r(Ez);){let G=o(Ez),K=d();if(K===null)throw new SyntaxError("Expected attribute value");k[G]=K}return k}function d(){let k;if(r(Ex)&&(k=o(Ex)),e[t]==="{"||e[t]==="}")return h(k?[k]:[],1/0);let G=D();return G?k?h([k,G],G.length):(G.value=L(G.value,Abe),h([G],G.length)):k?L(k,_z):null}function h(k=[],G){for(;;){if(r(Ex)){k.push(o(Ex));continue}if(e[t]==="{"){k.push(g());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let ne=D();if(ne){k.push(ne),G=Math.min(G,ne.length);continue}break}let K=k.length-1,z=k[K];typeof z=="string"&&(k[K]=L(z,_z));let J=[];for(let ne of k)ne instanceof Iz&&(ne=ne.value.slice(0,ne.value.length-G)),ne&&J.push(ne);return J}function g(){s(cbe,SyntaxError);let k=v();if(s(Tz))return k;if(s(pbe)){let G=B();return s(Tz,SyntaxError),{type:"select",selector:k,...G}}throw new SyntaxError("Unclosed placeable")}function v(){if(e[t]==="{")return g();if(r(Bz)){let[,k,G,K=null]=a(Bz);if(k==="$")return{type:"var",name:G};if(s(hbe)){let z=C();if(k==="-")return{type:"term",name:G,attr:K,args:z};if(abe.test(G))return{type:"func",name:G,args:z};throw new SyntaxError("Function names must be all upper-case")}return k==="-"?{type:"term",name:G,attr:K,args:[]}:{type:"mesg",name:G,attr:K}}return I()}function C(){let k=[];for(;;){switch(e[t]){case")":return t++,k;case void 0:throw new SyntaxError("Unclosed argument list")}k.push(b()),s(mbe)}}function b(){let k=v();return k.type!=="mesg"?k:s(gbe)?{type:"narg",name:k.name,value:I()}:k}function B(){let k=[],G=0,K;for(;r(ibe);){i("*")&&(K=G);let z=S(),J=d();if(J===null)throw new SyntaxError("Expected variant value");k[G++]={key:z,value:J}}if(G===0)return null;if(K===void 0)throw new SyntaxError("Expected default variant");return{variants:k,star:K}}function S(){s(dbe,SyntaxError);let k;return r($U)?k=T():k={type:"str",value:o(sbe)},s(fbe,SyntaxError),k}function I(){if(r($U))return T();if(e[t]==='"')return R();throw new SyntaxError("Invalid expression")}function T(){let[,k,G=""]=a($U),K=G.length;return{type:"num",value:parseFloat(k),precision:K}}function R(){i('"',SyntaxError);let k="";for(;;){if(k+=o(obe),e[t]==="\\"){k+=M();continue}if(i('"'))return{type:"str",value:k};throw new SyntaxError("Unclosed string literal")}}function M(){if(r(Sz))return o(Sz);if(r(xz)){let[,k,G]=a(xz),K=parseInt(k||G,16);return K<=55295||57344<=K?String.fromCodePoint(K):""}throw new SyntaxError("Unknown escape sequence")}function D(){let k=t;switch(s(vbe),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return H(e.slice(k,t))}return e[t-1]===" "?H(e.slice(k,t)):!1}function L(k,G){return k.replace(G,"")}function H(k){let G=k.replace(lbe,`
`),K=ube.exec(k)[1].length;return new Iz(G,K)}}}class Iz{constructor(e,t){this.value=e,this.length=t}}const wbe=/<|&#?\w+;/,bbe={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},Cbe={"http://www.w3.org/1999/xhtml":{global:["title","aria-description","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function Ebe(n,e){const{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!wbe.test(t))n.textContent=t;else{const r=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");r.innerHTML=t,Bbe(r.content,n)}PX(e,n)}function Bbe(n,e){for(const t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const r=xbe(e,t);n.replaceChild(r,t);continue}if(Tbe(t)){const r=_be(t);n.replaceChild(r,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(iL(t),t)}e.textContent="",e.appendChild(n)}function Sbe(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function PX(n,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(r=>r.trim()):null;for(const r of Array.from(e.attributes))Fz(r.name,e,t)&&!Sbe(n.attributes,r.name)&&e.removeAttribute(r.name);if(n.attributes)for(const r of Array.from(n.attributes))Fz(r.name,e,t)&&e.getAttribute(r.name)!==r.value&&e.setAttribute(r.name,r.value)}function xbe(n,e){const t=e.getAttribute("data-l10n-name"),r=n.querySelector(`[data-l10n-name="${t}"]`);if(!r)return console.warn(`An element named "${t}" wasn't found in the source.`),iL(e);if(r.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${r.localName}).`),iL(e);n.removeChild(r);const i=r.cloneNode(!1);return RX(e,i)}function _be(n){const e=n.ownerDocument.createElement(n.localName);return RX(n,e)}function iL(n){return n.ownerDocument.createTextNode(n.textContent)}function Tbe(n){const e=bbe[n.namespaceURI];return e&&e.includes(n.localName)}function Fz(n,e,t=null){if(t&&t.includes(n))return!0;const r=Cbe[e.namespaceURI];if(!r)return!1;const i=n.toLowerCase(),s=e.localName;if(r.global.includes(i))return!0;if(!r[s])return!1;if(r[s].includes(i))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&i==="value"){const a=e.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function RX(n,e){return e.textContent=n.textContent,PX(n,e),e}class Ibe extends Array{static from(e){return e instanceof this?e:new this(e)}}class Fbe extends Ibe{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const r=this[this.length-1];if(r&&(await r).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class Mbe{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const r=[];let i=!1;for await(const s of this.bundles){i=!0;const a=Rbe(t,s,e,r);if(a.size===0)break;if(typeof console<"u"){const o=s.locales[0],l=Array.from(a).join(", ");console.warn(`[fluent] Missing translations in ${o}: ${l}`)}}return!i&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),r}formatMessages(e){return this.formatWithFallback(e,Pbe)}formatValues(e){return this.formatWithFallback(e,Ube)}async formatValue(e,t){const[r]=await this.formatValues([{id:e,args:t}]);return r}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=Fbe.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function Ube(n,e,t,r){return t.value?n.formatPattern(t.value,r,e):null}function Pbe(n,e,t,r){const i={value:null,attributes:null};t.value&&(i.value=n.formatPattern(t.value,r,e));let s=Object.keys(t.attributes);if(s.length>0){i.attributes=new Array(s.length);for(let[a,o]of s.entries()){let l=n.formatPattern(t.attributes[o],r,e);i.attributes[a]={name:o,value:l}}}return i}function Rbe(n,e,t,r){const i=[],s=new Set;return t.forEach(({id:a,args:o},l)=>{if(r[l]!==void 0)return;let u=e.getMessage(a);if(u){if(i.length=0,r[l]=n(e,i,u,o),i.length>0&&typeof console<"u"){const d=e.locales[0],h=i.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${h}.`)}}else s.add(a)}),s}const Uf="data-l10n-id",H0="data-l10n-args",Dbe=`[${Uf}]`;class Nbe extends Mbe{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Uf,H0]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,r){return e.setAttribute(Uf,t),r?e.setAttribute(H0,JSON.stringify(r)):e.removeAttribute(H0),e}getAttributes(e){return{id:e.getAttribute(Uf),args:JSON.parse(e.getAttribute(H0)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const r of t.addedNodes)if(r.nodeType===r.ELEMENT_NODE)if(r.childElementCount)for(const i of this.getTranslatables(r))this.pendingElements.add(i);else r.hasAttribute(Uf)&&this.pendingElements.add(r);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),r=await this.formatMessages(t);return this.applyTranslations(e,r)}applyTranslations(e,t){this.pauseObserving();for(let r=0;r<e.length;r++)t[r]!==void 0&&Ebe(e[r],t[r]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(Dbe));return typeof e.hasAttribute=="function"&&e.hasAttribute(Uf)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(Uf),args:JSON.parse(e.getAttribute(H0)||null)}}}var uE,Sd,Hv,Es,Cy,DX,NX;const Gw=class Gw{constructor({lang:e,isRTL:t},r=null){U(this,uE);U(this,Sd);U(this,Hv);U(this,Es);var i,s;_(this,Hv,P(i=Gw,Cy,DX).call(i,e)),_(this,Es,r),_(this,uE,t??P(s=Gw,Cy,NX).call(s,f(this,Hv))?"rtl":"ltr")}_setL10n(e){_(this,Es,e)}getLanguage(){return f(this,Hv)}getDirection(){return f(this,uE)}async get(e,t=null,r){var s;return Array.isArray(e)?(e=e.map(o=>({id:o})),(await f(this,Es).formatMessages(e)).map(o=>o.value)):((s=(await f(this,Es).formatMessages([{id:e,args:t}]))[0])==null?void 0:s.value)||r}async translate(e){(f(this,Sd)||_(this,Sd,new Set)).add(e);try{f(this,Es).connectRoot(e),await f(this,Es).translateRoots()}catch{}}async translateOnce(e){try{await f(this,Es).translateElements([e])}catch(t){console.error("translateOnce:",t)}}async destroy(){if(f(this,Sd)){for(const e of f(this,Sd))f(this,Es).disconnectRoot(e);f(this,Sd).clear(),_(this,Sd,null)}f(this,Es).pauseObserving()}pause(){f(this,Es).pauseObserving()}resume(){f(this,Es).resumeObserving()}};uE=new WeakMap,Sd=new WeakMap,Hv=new WeakMap,Es=new WeakMap,Cy=new WeakSet,DX=function(e){return e=(e==null?void 0:e.toLowerCase())||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e},NX=function(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)},U(Gw,Cy);let sL=Gw;function Lbe(){const{isAndroid:n,isLinux:e,isMac:t,isWindows:r}=gX.platform;return e?"linux":r?"windows":t?"macos":n?"android":"other"}function Mz(n,e){const t=new ybe(e),r=new rbe(n,{functions:{PLATFORM:Lbe}}),i=r.addResource(t);return i.length&&console.error("L10n errors",i),r}var va,LX,QX,kX,OX,aL;const kf=class kf extends sL{constructor(e){super({lang:e});const t=e?P(kf,va,LX).bind(kf,"en-us",this.getLanguage()):P(kf,va,OX).bind(kf,this.getLanguage());this._setL10n(new Nbe([],t))}};va=new WeakSet,LX=async function*(e,t){const{baseURL:r,paths:i}=await P(this,va,kX).call(this),s=[t];if(e!==t){const o=t.split("-",1)[0];o!==t&&s.push(o),s.push(e)}const a=s.map(o=>[o,P(this,va,QX).call(this,o,r,i)]);for(const[o,l]of a){const u=await l;u?yield u:o==="en-us"&&(yield P(this,va,aL).call(this,o))}},QX=async function(e,t,r){const i=r[e];if(!i)return null;const s=new URL(i,t),a=await iz(s,"text");return Mz(e,a)},kX=async function(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=await iz(e,"json");return{baseURL:e.substring(0,e.lastIndexOf("/")+1)||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},OX=async function*(e){yield P(this,va,aL).call(this,e)},aL=async function(e){return Mz(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties
pdfjs-document-properties-button-label = Document Properties
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width }  { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width }  { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-color-picker-free-text-input =
    .title = Change text color
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-color-picker-ink-input =
    .title = Change drawing color
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-comment-floating-button =
    .title = Comment
    .aria-label = Comment
pdfjs-comment-floating-button-label = Comment
pdfjs-editor-comment-button =
    .title = Comment
    .aria-label = Comment
pdfjs-editor-comment-button-label = Comment
pdfjs-editor-signature-button =
    .title = Add signature
pdfjs-editor-signature-button-label = Add signature
pdfjs-editor-highlight-editor =
    .aria-label = Highlight editor
pdfjs-editor-ink-editor =
    .aria-label = Drawing editor
pdfjs-editor-signature-editor1 =
    .aria-description = Signature editor: { $description }
pdfjs-editor-stamp-editor =
    .aria-label = Image editor
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-remove-signature-button =
    .title = Remove signature
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-editor-add-signature-container =
    .aria-label = Signature controls and saved signatures
pdfjs-editor-signature-add-signature-button =
    .title = Add new signature
pdfjs-editor-signature-add-signature-button-label = Add new signature
pdfjs-editor-add-saved-signature-button =
    .title = Saved signature: { $description }
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing
pdfjs-editor-comments-sidebar-title =
    { $count ->
        [one] Comment
       *[other] Comments
    }
pdfjs-editor-comments-sidebar-close-button =
    .title = Close the sidebar
    .aria-label = Close the sidebar
pdfjs-editor-comments-sidebar-close-button-label = Close the sidebar
pdfjs-editor-comments-sidebar-no-comments1 = See something noteworthy? Highlight it and leave a comment.
pdfjs-editor-comments-sidebar-no-comments-link = Learn more
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people cant see the image or when it doesnt load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, A young man sits down at a table to eat a meal
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner  resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle  resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner  resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right  resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner  resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle  resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner  resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left  resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here
pdfjs-editor-new-alt-text-description = Short description for people who cant see the image or when the image doesnt load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldnt create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who cant see the image or when the image doesnt load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close
pdfjs-editor-highlight-added-alert = Highlight added
pdfjs-editor-freetext-added-alert = Text added
pdfjs-editor-ink-added-alert = Drawing added
pdfjs-editor-stamp-added-alert = Image added
pdfjs-editor-signature-added-alert = Signature added
pdfjs-editor-undo-bar-message-highlight = Highlight removed
pdfjs-editor-undo-bar-message-freetext = Text removed
pdfjs-editor-undo-bar-message-ink = Drawing removed
pdfjs-editor-undo-bar-message-stamp = Image removed
pdfjs-editor-undo-bar-message-signature = Signature removed
pdfjs-editor-undo-bar-message-multiple =
    { $count ->
        [one] { $count } annotation removed
       *[other] { $count } annotations removed
    }
pdfjs-editor-undo-bar-undo-button =
    .title = Undo
pdfjs-editor-undo-bar-undo-button-label = Undo
pdfjs-editor-undo-bar-close-button =
    .title = Close
pdfjs-editor-undo-bar-close-button-label = Close
pdfjs-editor-add-signature-dialog-label = This modal allows the user to create a signature to add to a PDF document. The user can edit the name (which also serves as the alt text), and optionally save the signature for repeated use.
pdfjs-editor-add-signature-dialog-title = Add a signature
pdfjs-editor-add-signature-type-button = Type
    .title = Type
pdfjs-editor-add-signature-draw-button = Draw
    .title = Draw
pdfjs-editor-add-signature-image-button = Image
    .title = Image
pdfjs-editor-add-signature-type-input =
    .aria-label = Type your signature
    .placeholder = Type your signature
pdfjs-editor-add-signature-draw-placeholder = Draw your signature
pdfjs-editor-add-signature-draw-thickness-range-label = Thickness
pdfjs-editor-add-signature-draw-thickness-range =
    .title = Drawing thickness: { $thickness }
pdfjs-editor-add-signature-image-placeholder = Drag a file here to upload
pdfjs-editor-add-signature-image-browse-link =
    { PLATFORM() ->
        [macos] Or choose image files
       *[other] Or browse image files
    }
pdfjs-editor-add-signature-description-label = Description (alt text)
pdfjs-editor-add-signature-description-input =
    .title = Description (alt text)
pdfjs-editor-add-signature-description-default-when-drawing = Signature
pdfjs-editor-add-signature-clear-button-label = Clear signature
pdfjs-editor-add-signature-clear-button =
    .title = Clear signature
pdfjs-editor-add-signature-save-checkbox = Save signature
pdfjs-editor-add-signature-save-warning-message = Youve reached the limit of 5 saved signatures. Remove one to save more.
pdfjs-editor-add-signature-image-upload-error-title = Couldnt upload image
pdfjs-editor-add-signature-image-upload-error-description = Check your network connection or try another image.
pdfjs-editor-add-signature-image-no-data-error-title = Cant convert this image into a signature
pdfjs-editor-add-signature-image-no-data-error-description = Please try uploading a different image.
pdfjs-editor-add-signature-error-close-button = Close
pdfjs-editor-add-signature-cancel-button = Cancel
pdfjs-editor-add-signature-add-button = Add
pdfjs-editor-delete-signature-button1 =
    .title = Remove saved signature
pdfjs-editor-delete-signature-button-label1 = Remove saved signature
pdfjs-editor-add-signature-edit-button-label = Edit description
pdfjs-editor-edit-signature-dialog-title = Edit description
pdfjs-editor-edit-signature-update-button = Update
pdfjs-show-comment-button =
    .title = Show comment
pdfjs-editor-edit-comment-popup-button-label = Edit comment
pdfjs-editor-edit-comment-popup-button =
    .title = Edit comment
pdfjs-editor-delete-comment-popup-button-label = Remove comment
pdfjs-editor-delete-comment-popup-button =
    .title = Remove comment
pdfjs-editor-edit-comment-dialog-title-when-editing = Edit comment
pdfjs-editor-edit-comment-dialog-save-button-when-editing = Update
pdfjs-editor-edit-comment-dialog-title-when-adding = Add comment
pdfjs-editor-edit-comment-dialog-save-button-when-adding = Add
pdfjs-editor-edit-comment-dialog-text-input =
    .placeholder = Start typing
pdfjs-editor-edit-comment-dialog-cancel-button = Cancel
pdfjs-editor-add-comment-button =
    .title = Add comment`)},U(kf,va);let uy=kf;const Qbe=1e3,kbe=50,Obe=1e3;function qU(){return document.location.hash}var xd,ct,hl,L_,Q_,Tw,k_,oL,HX,VX,AL,KX,GX;class Hbe{constructor({linkService:e,eventBus:t}){U(this,ct);U(this,xd,null);this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",r=>{this._isPagesLoaded=!!r.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:r=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const i=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=r===!0,this._initialized=!0,P(this,ct,KX).call(this);const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=qU(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!P(this,ct,Tw).call(this,s,!0)||t){const{hash:o,page:l,rotation:u}=P(this,ct,oL).call(this,!0);if(!o||i||t){P(this,ct,hl).call(this,null,!0);return}P(this,ct,hl).call(this,{hash:o,page:l,rotation:u},!0);return}const a=s.destination;P(this,ct,k_).call(this,a,s.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(P(this,ct,AL).call(this),this._initialized=!1,P(this,ct,GX).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:r}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!P(this,ct,Q_).call(this,r)&&(r!==null||this._destination)){console.error(`PDFHistory.push: "${r}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const i=e||JSON.stringify(t);if(!i)return;let s=!1;if(this._destination&&(Vbe(this._destination.hash,i)||Kbe(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(P(this,ct,hl).call(this,{dest:t,hash:i,page:r,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!P(this,ct,Q_).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(P(this,ct,hl).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||P(this,ct,L_).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;P(this,ct,Tw).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;P(this,ct,Tw).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}xd=new WeakMap,ct=new WeakSet,hl=function(e,t=!1){const r=t||!this._destination,i={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:e};P(this,ct,k_).call(this,e,i.uid);let s;if(this._updateUrl&&(e!=null&&e.hash)){const{href:a,protocol:o}=document.location;o!=="file:"&&(s=owe(a,e.hash))}r?window.history.replaceState(i,"",s):window.history.pushState(i,"",s)},L_=function(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){P(this,ct,hl).call(this,t);return}if(this._destination.temporary){P(this,ct,hl).call(this,t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=kbe)return;let r=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;r=!0}P(this,ct,hl).call(this,t,r)},Q_=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},Tw=function(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;const[r]=performance.getEntriesByType("navigation");if((r==null?void 0:r.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")},k_=function(e,t,r=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),r&&(e!=null&&e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},oL=function(e=!1){const t=unescape(qU()).substring(1),r=oI(t),i=r.get("nameddest")||"";let s=r.get("page")|0;return(!P(this,ct,Q_).call(this,s)||e&&i.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}},HX=function({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||P(this,ct,L_).call(this,!0),this._updateViewareaTimeout=null},Obe))},VX=function({state:e}){const t=qU(),r=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:a,rotation:o}=P(this,ct,oL).call(this);P(this,ct,hl).call(this,{hash:s,page:a,rotation:o},!0);return}if(!P(this,ct,Tw).call(this,e))return;this._popStateInProgress=!0,r&&(this._blockHashChange++,Kwe({target:window,name:"hashchange",delay:Qbe}).then(()=>{this._blockHashChange--}));const i=e.destination;P(this,ct,k_).call(this,i,e.uid,!0),wX(i.rotation)&&(this.linkService.rotation=i.rotation),i.dest?this.linkService.goToDestination(i.dest):i.hash?this.linkService.setHash(i.hash):i.page&&(this.linkService.page=i.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},AL=function(){(!this._destination||this._destination.temporary)&&P(this,ct,L_).call(this)},KX=function(){if(f(this,xd))return;_(this,xd,new AbortController);const{signal:e}=f(this,xd);this.eventBus._on("updateviewarea",P(this,ct,HX).bind(this),{signal:e}),window.addEventListener("popstate",P(this,ct,VX).bind(this),{signal:e}),window.addEventListener("pagehide",P(this,ct,AL).bind(this),{signal:e})},GX=function(){var e;(e=f(this,xd))==null||e.abort(),_(this,xd,null)};function Vbe(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||oI(n).get("nameddest")===e}function Kbe(n,e){function t(r,i){if(typeof r!=typeof i||Array.isArray(r)||Array.isArray(i))return!1;if(r!==null&&typeof r=="object"&&i!==null){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const s in r)if(!t(r[s],i[s]))return!1;return!0}return r===i||Number.isNaN(r)&&Number.isNaN(i)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}var cE,dE,fE,hE,pE,Vv;class Gbe{constructor(e){U(this,cE,null);U(this,dE,null);U(this,fE,null);U(this,hE,null);U(this,pE,null);U(this,Vv);this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new uy),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,_(this,Vv,e.uiManager),_(this,cE,e.annotationLayer||null),_(this,pE,e.textLayer||null),_(this,dE,e.drawLayer||null),_(this,fE,e.onAppend||null),_(this,hE,e.structTreeLayer||null)}async render({viewport:e,intent:t="display"}){var a;if(t!=="display"||this._cancelled)return;const r=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:r}),this.show();return}const i=this.div=document.createElement("div");i.className="annotationEditorLayer",i.hidden=!0,i.dir=f(this,Vv).direction,(a=f(this,fE))==null||a.call(this,i),this.annotationEditorLayer=new J0e({uiManager:f(this,Vv),div:i,structTreeLayer:f(this,hE),accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:r,annotationLayer:f(this,cE),textLayer:f(this,pE),drawLayer:f(this,dE)});const s={viewport:r,div:i,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.annotationEditorLayer.pause(!0),this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1,this.annotationEditorLayer.pause(!1))}}cE=new WeakMap,dE=new WeakMap,fE=new WeakMap,hE=new WeakMap,pE=new WeakMap,Vv=new WeakMap;{var lL=new Map;const{maxTouchPoints:n,platform:e,userAgent:t}=navigator,r=/Android/.test(t),i=/\b(iPad|iPhone|iPod)(?=;)/.test(t)||e==="MacIntel"&&n>1;(function(){(i||r)&&lL.set("maxCanvasPixels",5242880)})(),(function(){r&&lL.set("useSystemFonts",!1)})()}const de={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},uL={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},cu={allowedGlobalEvents:{value:null,kind:de.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:de.BROWSER+de.API},isInAutomation:{value:!1,kind:de.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:de.BROWSER},maxCanvasDim:{value:32767,kind:de.BROWSER+de.VIEWER},nimbusDataStr:{value:"",kind:de.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:de.BROWSER},supportsDocumentFonts:{value:!0,kind:de.BROWSER},supportsIntegratedFind:{value:!1,kind:de.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:de.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:de.BROWSER},supportsPinchToZoom:{value:!0,kind:de.BROWSER},supportsPrinting:{value:!0,kind:de.BROWSER},toolbarDensity:{value:0,kind:de.BROWSER+de.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:de.VIEWER+de.PREFERENCE},annotationEditorMode:{value:0,kind:de.VIEWER+de.PREFERENCE},annotationMode:{value:2,kind:de.VIEWER+de.PREFERENCE},capCanvasAreaFactor:{value:200,kind:de.VIEWER+de.PREFERENCE},commentLearnMoreUrl:{value:"",kind:de.VIEWER+de.PREFERENCE},cursorToolOnLoad:{value:0,kind:de.VIEWER+de.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:de.VIEWER},defaultZoomDelay:{value:400,kind:de.VIEWER+de.PREFERENCE},defaultZoomValue:{value:"",kind:de.VIEWER+de.PREFERENCE},disableHistory:{value:!1,kind:de.VIEWER},disablePageLabels:{value:!1,kind:de.VIEWER+de.PREFERENCE},enableAltText:{value:!1,kind:de.VIEWER+de.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:de.VIEWER+de.PREFERENCE+de.EVENT_DISPATCH},enableAutoLinking:{value:!0,kind:de.VIEWER+de.PREFERENCE},enableComment:{value:!1,kind:de.VIEWER+de.PREFERENCE},enableDetailCanvas:{value:!0,kind:de.VIEWER},enableGuessAltText:{value:!0,kind:de.VIEWER+de.PREFERENCE+de.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:de.VIEWER+de.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:de.VIEWER+de.PREFERENCE},enableOptimizedPartialRendering:{value:!1,kind:de.VIEWER+de.PREFERENCE},enablePermissions:{value:!1,kind:de.VIEWER+de.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:de.VIEWER+de.PREFERENCE},enableScripting:{value:!0,kind:de.VIEWER+de.PREFERENCE},enableSignatureEditor:{value:!1,kind:de.VIEWER+de.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:de.VIEWER+de.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:de.VIEWER},externalLinkTarget:{value:0,kind:de.VIEWER+de.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F,yellow_HCM=#FFFFCC,green_HCM=#53FFBC,blue_HCM=#80EBFF,pink_HCM=#F6B8FF,red_HCM=#C50043",kind:de.VIEWER+de.PREFERENCE},historyUpdateUrl:{value:!1,kind:de.VIEWER+de.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:de.VIEWER+de.PREFERENCE},imageResourcesPath:{value:"./images/",kind:de.VIEWER},maxCanvasPixels:{value:2**25,kind:de.VIEWER},minDurationToUpdateCanvas:{value:500,kind:de.VIEWER},forcePageColors:{value:!1,kind:de.VIEWER+de.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:de.VIEWER+de.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:de.VIEWER+de.PREFERENCE},pdfBugEnabled:{value:!1,kind:de.VIEWER+de.PREFERENCE},printResolution:{value:150,kind:de.VIEWER},sidebarViewOnLoad:{value:-1,kind:de.VIEWER+de.PREFERENCE},scrollModeOnLoad:{value:-1,kind:de.VIEWER+de.PREFERENCE},spreadModeOnLoad:{value:-1,kind:de.VIEWER+de.PREFERENCE},textLayerMode:{value:1,kind:de.VIEWER+de.PREFERENCE},viewerCssTheme:{value:0,kind:de.VIEWER+de.PREFERENCE},viewOnLoad:{value:0,kind:de.VIEWER+de.PREFERENCE},cMapPacked:{value:!0,kind:de.API},cMapUrl:{value:"../web/cmaps/",kind:de.API},disableAutoFetch:{value:!1,kind:de.API+de.PREFERENCE},disableFontFace:{value:!1,kind:de.API+de.PREFERENCE},disableRange:{value:!1,kind:de.API+de.PREFERENCE},disableStream:{value:!1,kind:de.API+de.PREFERENCE},docBaseUrl:{value:"",kind:de.API},enableHWA:{value:!0,kind:de.API+de.VIEWER+de.PREFERENCE},enableXfa:{value:!0,kind:de.API+de.PREFERENCE},fontExtraProperties:{value:!1,kind:de.API},iccUrl:{value:"../web/iccs/",kind:de.API},isEvalSupported:{value:!0,kind:de.API},isOffscreenCanvasSupported:{value:!0,kind:de.API},maxImageSize:{value:-1,kind:de.API},pdfBug:{value:!1,kind:de.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:de.API},useSystemFonts:{value:void 0,kind:de.API,type:uL.BOOLEAN+uL.UNDEFINED},verbosity:{value:1,kind:de.API},wasmUrl:{value:"../web/wasm/",kind:de.API},workerPort:{value:null,kind:de.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:de.WORKER}};cu.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:de.VIEWER},cu.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:de.VIEWER},cu.enableFakeMLManager={value:!0,kind:de.VIEWER};cu.disablePreferences={value:!1,kind:de.VIEWER};var _d;const iA=class iA{static get(e){return f(this,_d).get(e)}static getAll(e=null,t=!1){const r=Object.create(null);for(const i in cu){const s=cu[i];e&&!(e&s.kind)||(r[i]=t?s.value:f(this,_d).get(i))}return r}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||(this._hasInvokedSet=!0);let r;for(const i in e){const s=cu[i],a=e[i];if(!s||!(typeof a==typeof s.value||uL[(typeof a).toUpperCase()]&s.type))continue;const{kind:o}=s;t&&!(o&de.BROWSER||o&de.PREFERENCE)||(this.eventBus&&o&de.EVENT_DISPATCH&&(r||(r=new Map)).set(i,a),f(this,_d).set(i,a))}if(r)for(const[i,s]of r)this.eventBus.dispatch(i.toLowerCase(),{source:this,value:s})}};_d=new WeakMap,Ee(iA,"eventBus"),U(iA,_d,new Map),(()=>{for(const e in cu)f(iA,_d).set(e,cu[e].value);for(const[e,t]of lL)f(iA,_d).set(e,t);iA._hasInvokedSet=!1,iA._checkDisablePreferences=()=>iA.get("disablePreferences")?!0:(iA._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();let Vw=iA;function Uz({width:n,height:e,left:t,top:r},i){if(n===0||e===0)return null;const s=i.textLayer.div.getBoundingClientRect(),a=i.getPagePoint(t-s.left,r-s.top),o=i.getPagePoint(t-s.left+n,r-s.top+e);return lk.normalizeRect([a[0],a[1],o[0],o[1]])}function zbe(n,e){const t=n.getClientRects();if(t.length===1)return{rect:Uz(t[0],e)};const r=[1/0,1/0,-1/0,-1/0],i=[];let s=0;for(const a of t){const o=Uz(a,e);o!==null&&(i[s]=i[s+4]=o[0],i[s+1]=i[s+3]=o[3],i[s+2]=i[s+6]=o[2],i[s+5]=i[s+7]=o[1],lk.rectBoundingBox(...o,r),s+=8)}return{quadPoints:i,rect:r}}function Pz(n,e){let t=n;do{if(t.nodeType===Node.TEXT_NODE){const r=t.textContent.length;if(e<=r)return[t,e];e-=r}else if(t.firstChild){t=t.firstChild;continue}for(;!t.nextSibling&&t!==n;)t=t.parentNode;t!==n&&(t=t.nextSibling)}while(t!==n);throw new Error("Offset is bigger than container's contents length.")}function $be({url:n,index:e,length:t},r,i){const s=r._textHighlighter,[{begin:a,end:o}]=s._convertMatches([e],[t]),l=new Range;return l.setStart(...Pz(s.textDivs[a.divIdx],a.offset)),l.setEnd(...Pz(s.textDivs[o.divIdx],o.offset)),{id:`inferred_link_${i}`,unsafeUrl:n,url:n,annotationType:hX.LINK,rotation:0,...zbe(l,r),borderStyle:null}}var R1,gE;class cL{static findLinks(e){f(this,gE)??_(this,gE,new RegExp("\\b(?:https?:\\/\\/|mailto:|www\\.)(?:[\\S--[\\p{P}<>]]|\\/|[\\S--[\\[\\]]]+[\\S--[\\p{P}<>]])+|\\b[\\S--[@\\p{Ps}\\p{Pe}<>]]+@([\\S--[\\p{P}<>]]+(?:\\.[\\S--[\\p{P}<>]]+)+)","gmv"));const[t,r]=R_(e,{ignoreDashEOL:!0}),i=t.matchAll(f(this,gE)),s=[];for(const a of i){const[o,l]=a;let u;if(o.startsWith("www.")||o.startsWith("http://")||o.startsWith("https://"))u=o;else if(URL.canParse(`http://${l}`))u=o.startsWith("mailto:")?o:`mailto:${o}`;else continue;const d=pX(u,null,{addDefaultProtocol:!0});if(d){const[h,g]=bX(r,a.index,o.length);s.push({url:d.href,index:h,length:g})}}return s}static processLinks(e){return this.findLinks(e._textHighlighter.textContentItemsStr.join(`
`)).map(t=>$be(t,e,cr(this,R1)._++))}}R1=new WeakMap,gE=new WeakMap,U(cL,R1,0),U(cL,gE);var Td,Kv,Gv,zv,Zl,Id,eu,D1,mE,dL;class zX{constructor(e){U(this,mE);U(this,Td,null);U(this,Kv,0);U(this,Gv,null);U(this,zv,Lt.INITIAL);U(this,Zl,null);U(this,Id,0);U(this,eu,null);Ee(this,"canvas",null);Ee(this,"div",null);Ee(this,"enableOptimizedPartialRendering",!1);Ee(this,"eventBus",null);Ee(this,"id",null);Ee(this,"pageColors",null);Ee(this,"recordedBBoxes",null);Ee(this,"renderingQueue",null);Ee(this,"renderTask",null);Ee(this,"resume",null);U(this,D1,e=>{var t;if((t=f(this,Zl))==null||t.call(this,!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=Lt.PAUSED,this.resume=()=>{this.renderingState=Lt.RUNNING,e()};return}e()});this.eventBus=e.eventBus,this.id=e.id,this.pageColors=e.pageColors||null,this.renderingQueue=e.renderingQueue,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,_(this,Kv,e.minDurationToUpdateCanvas??500)}get renderingState(){return f(this,zv)}set renderingState(e){var t;if(e!==f(this,zv))switch(_(this,zv,e),f(this,Td)&&(clearTimeout(f(this,Td)),_(this,Td,null)),e){case Lt.PAUSED:this.div.classList.remove("loading"),_(this,Id,0),(t=f(this,Zl))==null||t.call(this,!1);break;case Lt.RUNNING:this.div.classList.add("loadingIcon"),_(this,Td,setTimeout(()=>{this.div.classList.add("loading"),_(this,Td,null)},0)),_(this,Id,Date.now());break;case Lt.INITIAL:case Lt.FINISHED:this.div.classList.remove("loadingIcon","loading"),_(this,Id,0);break}}_createCanvas(e,t=!1){const{pageColors:r}=this,i=!!(r!=null&&r.background&&(r!=null&&r.foreground)),s=this.canvas,a=!s&&!i&&!t;let o=this.canvas=document.createElement("canvas");return _(this,Zl,l=>{if(a){let u=f(this,eu);if(!l&&f(this,Kv)>0){if(Date.now()-f(this,Id)<f(this,Kv))return;u||(u=_(this,eu,o),o=this.canvas=o.cloneNode(!1),e(o))}if(u){o.getContext("2d",{alpha:!1}).drawImage(u,0,0),l?P(this,mE,dL).call(this):_(this,Id,Date.now());return}e(o),_(this,Zl,null);return}l&&(s?(s.replaceWith(o),s.width=s.height=0):e(o))}),{canvas:o,prevCanvas:s}}_resetCanvas(){const{canvas:e}=this;e&&(e.remove(),e.width=e.height=0,this.canvas=null,P(this,mE,dL).call(this))}async _drawCanvas(e,t,r){var a,o;const i=this.renderTask=this.pdfPage.render(e);i.onContinue=f(this,D1),i.onError=l=>{l instanceof $N&&(t(),_(this,Gv,null))};let s=null;try{await i.promise,(a=f(this,Zl))==null||a.call(this,!0)}catch(l){if(l instanceof $N)return;s=l,(o=f(this,Zl))==null||o.call(this,!0)}finally{_(this,Gv,s),i===this.renderTask&&(this.renderTask=null,this.enableOptimizedPartialRendering&&(this.recordedBBoxes??(this.recordedBBoxes=i.recordedBBoxes)))}if(this.renderingState=Lt.FINISHED,r(i),s)throw s}cancelRendering({cancelExtraDelay:e=0}={}){this.renderTask&&(this.renderTask.cancel(e),this.renderTask=null),this.resume=null}dispatchPageRender(){this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id})}dispatchPageRendered(e,t){this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:e,isDetailView:t,timestamp:performance.now(),error:f(this,Gv)})}}Td=new WeakMap,Kv=new WeakMap,Gv=new WeakMap,zv=new WeakMap,Zl=new WeakMap,Id=new WeakMap,eu=new WeakMap,D1=new WeakMap,mE=new WeakSet,dL=function(){f(this,eu)&&(f(this,eu).width=f(this,eu).height=0,_(this,eu,null))};var _A;class qbe{constructor(e){U(this,_A,null);this.pageIndex=e.pageIndex}async render({intent:e="display"}){e!=="display"||f(this,_A)||this._cancelled||_(this,_A,new twe({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,f(this,_A)&&(f(this,_A).destroy(),_(this,_A,null))}setParent(e){var t;(t=f(this,_A))==null||t.setParent(e)}getDrawLayer(){return f(this,_A)}}_A=new WeakMap;var Xa,N1,$X;class jbe extends zX{constructor({pageView:t}){super(t);U(this,N1);U(this,Xa,null);Ee(this,"renderingCancelled",!1);this.pageView=t,this.renderingId="detail"+this.id,this.div=t.div}setPdfPage(t){this.pageView.setPdfPage(t)}get pdfPage(){return this.pageView.pdfPage}get renderingState(){return super.renderingState}set renderingState(t){this.renderingCancelled=!1,super.renderingState=t}reset({keepCanvas:t=!1}={}){const r=this.renderingCancelled||this.renderingState===Lt.RUNNING||this.renderingState===Lt.PAUSED;this.cancelRendering(),this.renderingState=Lt.INITIAL,this.renderingCancelled=r,t||this._resetCanvas()}update({visibleArea:t=null,underlyingViewUpdated:r=!1}={}){if(r){this.cancelRendering(),this.renderingState=Lt.INITIAL;return}if(!P(this,N1,$X).call(this,t))return;const{viewport:i,maxCanvasPixels:s,capCanvasAreaFactor:a}=this.pageView,o=t.maxX-t.minX,l=t.maxY-t.minY,u=o*l*P_.pixelRatio**2,h=(Math.sqrt(P_.capPixels(s,a)/u)-1)/2;let g=Math.min(1,h);g<0&&(g=0);const v=o*g,C=l*g,b=Math.max(0,t.minX-v),B=Math.min(i.width,t.maxX+v),S=Math.max(0,t.minY-C),I=Math.min(i.height,t.maxY+C),T=B-b,R=I-S;_(this,Xa,{minX:b,minY:S,width:T,height:R,scale:i.scale}),this.reset({keepCanvas:!0})}_getRenderingContext(t,r){const i=this.pageView._getRenderingContext(t,r,!1),s=this.pdfPage.recordedBBoxes;if(!s||!this.enableOptimizedPartialRendering)return i;const{viewport:{width:a,height:o}}=this.pageView,{width:l,height:u,minX:d,minY:h}=f(this,Xa),g=d/a,v=h/o,C=(d+l)/a,b=(h+u)/o;return{...i,operationsFilter(B){return s.isEmpty(B)?!1:s.minX(B)<=C&&s.maxX(B)>=g&&s.minY(B)<=b&&s.maxY(B)>=v}}}async draw(){if(this.pageView.detailView!==this)return;const t=this.pageView.renderingState===Lt.FINISHED||this.renderingState===Lt.FINISHED;this.renderingState!==Lt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:r,pdfPage:i,viewport:s}=this.pageView;if(!i)throw this.renderingState=Lt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Lt.RUNNING;const a=this.pageView._ensureCanvasWrapper(),{canvas:o,prevCanvas:l}=this._createCanvas(B=>{var S;((S=a.firstElementChild)==null?void 0:S.tagName)==="CANVAS"?a.firstElementChild.after(B):a.prepend(B)},t);o.ariaHidden=!0,this.enableOptimizedPartialRendering&&(o.className="detailView");const{width:u,height:d}=s,h=f(this,Xa),{pixelRatio:g}=P_,v=[g,0,0,g,-h.minX*g,-h.minY*g];o.width=h.width*g,o.height=h.height*g;const{style:C}=o;C.width=`${h.width*100/u}%`,C.height=`${h.height*100/d}%`,C.top=`${h.minY*100/d}%`,C.left=`${h.minX*100/u}%`;const b=this._drawCanvas(this._getRenderingContext(o,v),()=>{var B;(B=this.canvas)==null||B.remove(),this.canvas=l},()=>{this.dispatchPageRendered(!1,!0)});return r.setAttribute("data-loaded",!0),this.dispatchPageRender(),b}}Xa=new WeakMap,N1=new WeakSet,$X=function(t){if(!f(this,Xa))return!0;const r=f(this,Xa).minX,i=f(this,Xa).minY,s=f(this,Xa).width+r,a=f(this,Xa).height+i;if(t.minX<r||t.minY<i||t.maxX>s||t.maxY>a)return!0;const{width:o,height:l,scale:u}=this.pageView.viewport;if(f(this,Xa).scale!==u)return!0;const d=t.minX-r,h=s-t.maxX,g=t.minY-i,v=a-t.maxY,C=.5,b=(1+C)/C;return r>0&&h/d>b||s<o&&d/h>b||i>0&&v/g>b||a<l&&g/v>b};const Rz={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},qX=new Set(["math","merror","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mprescripts","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics"]),BT="http://www.w3.org/1998/Math/MathML";class Dz{static get sanitizer(){return eb(this,"sanitizer",gX.isSanitizerSupported?new Sanitizer({elements:[...qX].map(e=>({name:e,namespace:BT})),replaceWithChildrenElements:[{name:"maction",namespace:BT}],attributes:["dir","displaystyle","mathbackground","mathcolor","mathsize","scriptlevel","encoding","display","linethickness","intent","arg","form","fence","separator","lspace","rspace","stretchy","symmetric","maxsize","minsize","largeop","movablelimits","width","height","depth","voffset","accent","accentunder","columnspan","rowspan"],comments:!1}):null)}}const Wbe=/^H(\d+)$/;var $v,Ro,qv,jv,Wv,Fd,kA,fL,WX,hL;class jX{constructor(e,t){U(this,kA);U(this,$v);U(this,Ro,null);U(this,qv);U(this,jv,new Map);U(this,Wv);U(this,Fd,null);_(this,$v,e.getStructTree()),_(this,Wv,t)}async render(){var i;if(f(this,qv))return f(this,qv);const{promise:e,resolve:t,reject:r}=Promise.withResolvers();_(this,qv,e);try{_(this,Ro,P(this,kA,hL).call(this,await f(this,$v)))}catch(s){r(s)}return _(this,$v,null),(i=f(this,Ro))==null||i.classList.add("structTree"),t(f(this,Ro)),e}async getAriaAttributes(e){try{return await this.render(),f(this,jv).get(e)}catch{}return null}hide(){f(this,Ro)&&!f(this,Ro).hidden&&(f(this,Ro).hidden=!0)}show(){var e;(e=f(this,Ro))!=null&&e.hidden&&(f(this,Ro).hidden=!1)}addElementsToTextLayer(){var e;if(f(this,Fd)){for(const[t,r]of f(this,Fd))(e=document.getElementById(t))==null||e.append(r);f(this,Fd).clear(),_(this,Fd,null)}}}$v=new WeakMap,Ro=new WeakMap,qv=new WeakMap,jv=new WeakMap,Wv=new WeakMap,Fd=new WeakMap,kA=new WeakSet,fL=function(e,t){const{alt:r,id:i,lang:s}=e;if(r!==void 0){let a=!1;const o=Hw(r);for(const l of e.children)if(l.type==="annotation"){let u=f(this,jv).get(l.id);u||(u=new Map,f(this,jv).set(l.id,u)),u.set("aria-label",o),a=!0}a||t.setAttribute("aria-label",o)}i!==void 0&&t.setAttribute("aria-owns",i),s!==void 0&&t.setAttribute("lang",Hw(s,!0))},WX=function(e,t){const{alt:r,bbox:i,children:s}=e,a=s==null?void 0:s[0];if(!f(this,Wv)||!r||!i||(a==null?void 0:a.type)!=="content")return!1;const{id:o}=a;if(!o)return!1;t.setAttribute("aria-owns",o);const l=document.createElement("span");(f(this,Fd)||_(this,Fd,new Map)).set(o,l),l.setAttribute("role","img"),l.setAttribute("aria-label",Hw(r));const{pageHeight:u,pageX:d,pageY:h}=f(this,Wv),g="calc(var(--total-scale-factor) *",{style:v}=l;return v.width=`${g}${i[2]-i[0]}px)`,v.height=`${g}${i[3]-i[1]}px)`,v.left=`${g}${i[0]-d}px)`,v.top=`${g}${u-i[3]+h}px)`,!0},hL=function(e){if(!e)return null;let t;if("role"in e){const{role:r}=e;t=qX.has(r)?document.createElementNS(BT,r):document.createElement("span");const i=r.match(Wbe);if(i?(t.setAttribute("role","heading"),t.setAttribute("aria-level",i[1])):Rz[r]&&t.setAttribute("role",Rz[r]),r==="Figure"&&P(this,kA,WX).call(this,e,t))return t;r==="Formula"&&(e.mathML&&Dz.sanitizer&&t.setHTML(e.mathML,{sanitizer:Dz.sanitizer}),!e.mathML&&e.children.length===1&&e.children[0].role!=="math"&&(t=document.createElementNS(BT,"math")))}if(t||(t=document.createElement("span")),P(this,kA,fL).call(this,e,t),e.children)if(e.children.length===1&&"id"in e.children[0])P(this,kA,fL).call(this,e.children[0],t);else for(const r of e.children)t.append(P(this,kA,hL).call(this,r));return t};var tu,Ja,nu,Md,Yv,O_,vE,gL;const em=class em{constructor(){U(this,vE);U(this,tu,!1);U(this,Ja,null);U(this,nu,new Map);U(this,Md,new Map)}setTextMapping(e){_(this,Ja,e)}enable(){if(f(this,tu))throw new Error("TextAccessibilityManager is already enabled.");if(!f(this,Ja))throw new Error("Text divs and strings have not been set.");if(_(this,tu,!0),_(this,Ja,f(this,Ja).slice()),f(this,Ja).sort(P(em,Yv,O_)),f(this,nu).size>0){const e=f(this,Ja);for(const[t,r]of f(this,nu)){if(!document.getElementById(t)){f(this,nu).delete(t);continue}P(this,vE,gL).call(this,t,e[r])}}for(const[e,t]of f(this,Md))this.addPointerInTextLayer(e,t);f(this,Md).clear()}disable(){f(this,tu)&&(f(this,Md).clear(),_(this,Ja,null),_(this,tu,!1))}removePointerInTextLayer(e){if(!f(this,tu)){f(this,Md).delete(e);return}const t=f(this,Ja);if(!t||t.length===0)return;const{id:r}=e,i=f(this,nu).get(r);if(i===void 0)return;const s=t[i];f(this,nu).delete(r);let a=s.getAttribute("aria-owns");a!=null&&a.includes(r)&&(a=a.split(" ").filter(o=>o!==r).join(" "),a?s.setAttribute("aria-owns",a):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:r}=e;if(!r)return null;if(!f(this,tu))return f(this,Md).set(e,t),null;t&&this.removePointerInTextLayer(e);const i=f(this,Ja);if(!i||i.length===0)return null;const s=tb(i,u=>{var d;return P(d=em,Yv,O_).call(d,e,u)<0}),a=Math.max(0,s-1),o=i[a];P(this,vE,gL).call(this,r,o),f(this,nu).set(r,a);const l=o.parentNode;return l!=null&&l.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,r,i){const s=this.addPointerInTextLayer(r,i);if(!e.hasChildNodes())return e.append(t),s;const a=Array.from(e.childNodes).filter(l=>l!==t);if(a.length===0)return s;const o=tb(a,l=>{var u;return P(u=em,Yv,O_).call(u,t,l)<0});return o===0?a[0].before(t):a[o-1].after(t),s}};tu=new WeakMap,Ja=new WeakMap,nu=new WeakMap,Md=new WeakMap,Yv=new WeakSet,O_=function(e,t){const r=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(r.width===0&&r.height===0)return 1;if(i.width===0&&i.height===0)return-1;const s=r.y,a=r.y+r.height,o=r.y+r.height/2,l=i.y,u=i.y+i.height,d=i.y+i.height/2;if(o<=l&&d>=a)return-1;if(d<=s&&o>=u)return 1;const h=r.x+r.width/2,g=i.x+i.width/2;return h-g},vE=new WeakSet,gL=function(e,t){const r=t.getAttribute("aria-owns");r!=null&&r.includes(e)||t.setAttribute("aria-owns",r?`${r} ${e}`:e),t.removeAttribute("role")},U(em,Yv);let pL=em;var Ud;class Ybe{constructor({findController:e,eventBus:t,pageIndex:r}){U(this,Ud,null);this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=r,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,f(this,Ud)||(_(this,Ud,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:f(this,Ud).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=f(this,Ud))==null||e.abort(),_(this,Ud,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:r}=this;let i=0,s=0;const a=r.length-1,o=[];for(let l=0,u=e.length;l<u;l++){let d=e[l];for(;i!==a&&d>=s+r[i].length;)s+=r[i].length,i++;i===r.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:i,offset:d-s}};for(d+=t[l];i!==a&&d>s+r[i].length;)s+=r[i].length,i++;h.end={divIdx:i,offset:d-s},o.push(h)}return o}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:r}=this,{textContentItemsStr:i,textDivs:s}=this,a=r===t.selected.pageIdx,o=t.selected.matchIdx,l=t.state.highlightAll;let u=null;const d={offset:void 0};function h(S,I){const T=S.divIdx;return s[T].textContent="",g(T,0,S.offset,I)}function g(S,I,T,R){let M=s[S];if(M.nodeType===Node.TEXT_NODE){const H=document.createElement("span");M.before(H),H.append(M),s[S]=H,M=H}const D=i[S].substring(I,T),L=document.createTextNode(D);if(R){const H=document.createElement("span");if(H.className=`${R} appended`,H.append(L),M.append(H),R.includes("selected")){const{left:k}=H.getClientRects()[0],G=M.getBoundingClientRect().left;return k-G}return 0}return M.append(L),0}let v=o,C=v+1;if(l)v=0,C=e.length;else if(!a)return;let b=-1,B=-1;for(let S=v;S<C;S++){const I=e[S],T=I.begin;if(T.divIdx===b&&T.offset===B)continue;b=T.divIdx,B=T.offset;const R=I.end,M=a&&S===o,D=M?" selected":"";let L=0;if(!u||T.divIdx!==u.divIdx?(u!==null&&g(u.divIdx,u.offset,d.offset),h(T)):g(u.divIdx,u.offset,T.offset),T.divIdx===R.divIdx)L=g(T.divIdx,T.offset,R.offset,"highlight"+D);else{L=g(T.divIdx,T.offset,d.offset,"highlight begin"+D);for(let H=T.divIdx+1,k=R.divIdx;H<k;H++)s[H].className="highlight middle"+D;h(R,"highlight end"+D)}u=R,M&&t.scrollMatchIntoView({element:s[T.divIdx],selectedLeft:L,pageIndex:r,matchIndex:o})}u&&g(u.divIdx,u.offset,d.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:r,pageIdx:i}=this,{textContentItemsStr:s,textDivs:a}=this;let o=-1;for(const d of r){const h=Math.max(o,d.begin.divIdx);for(let g=h,v=d.end.divIdx;g<=v;g++){const C=a[g];C.textContent=s[g],C.className=""}o=d.end.divIdx+1}if(!(t!=null&&t.highlightMatches)||e)return;const l=t.pageMatches[i]||null,u=t.pageMatchesLength[i]||null;this.matches=this._convertMatches(l,u),this._renderMatches(this.matches)}}Ud=new WeakMap;var yE,wE,op,TA,Bs,Pd,L1,YX,Ey,XX,JX;const _c=class _c{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:r=null,enablePermissions:i=!1,onAppend:s=null}){U(this,L1);U(this,yE,!1);U(this,wE,null);U(this,op,!1);U(this,TA,null);this.pdfPage=e,this.highlighter=t,this.accessibilityManager=r,_(this,yE,i===!0),_(this,wE,s),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render({viewport:e,textContentParams:t=null}){var a,o,l,u,d;if(f(this,op)&&f(this,TA)){f(this,TA).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),_(this,TA,new awe({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:r,textContentItemsStr:i}=f(this,TA);(a=this.highlighter)==null||a.setTextMapping(r,i),(o=this.accessibilityManager)==null||o.setTextMapping(r),await f(this,TA).render(),_(this,op,!0);const s=document.createElement("div");s.className="endOfContent",this.div.append(s),P(this,L1,YX).call(this,s),(l=f(this,wE))==null||l.call(this,this.div),(u=this.highlighter)==null||u.enable(),(d=this.accessibilityManager)==null||d.enable()}hide(){var e;!this.div.hidden&&f(this,op)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&f(this,op)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,r,i;(e=f(this,TA))==null||e.cancel(),_(this,TA,null),(t=this.highlighter)==null||t.disable(),(r=this.accessibilityManager)==null||r.disable(),P(i=_c,Ey,XX).call(i,this.div)}};yE=new WeakMap,wE=new WeakMap,op=new WeakMap,TA=new WeakMap,Bs=new WeakMap,Pd=new WeakMap,L1=new WeakSet,YX=function(e){var r;const{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",i=>{if(!f(this,yE)){const s=document.getSelection();i.clipboardData.setData("text/plain",Hw(swe(s.toString())))}qN(i)}),f(_c,Bs).set(t,e),P(r=_c,Ey,JX).call(r)},Ey=new WeakSet,XX=function(e){var t;f(this,Bs).delete(e),f(this,Bs).size===0&&((t=f(this,Pd))==null||t.abort(),_(this,Pd,null))},JX=function(){if(f(this,Pd))return;_(this,Pd,new AbortController);const{signal:e}=f(this,Pd),t=(a,o)=>{o.append(a),a.style.width="",a.style.height="",o.classList.remove("selecting")};let r=!1;document.addEventListener("pointerdown",()=>{r=!0},{signal:e}),document.addEventListener("pointerup",()=>{r=!1,f(this,Bs).forEach(t)},{signal:e}),window.addEventListener("blur",()=>{r=!1,f(this,Bs).forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{r||f(this,Bs).forEach(t)},{signal:e});var i,s;document.addEventListener("selectionchange",()=>{var v;const a=document.getSelection();if(a.rangeCount===0){f(this,Bs).forEach(t);return}const o=new Set;for(let C=0;C<a.rangeCount;C++){const b=a.getRangeAt(C);for(const B of f(this,Bs).keys())!o.has(B)&&b.intersectsNode(B)&&o.add(B)}for(const[C,b]of f(this,Bs))o.has(C)?C.classList.add("selecting"):t(b,C);if(i??(i=getComputedStyle(f(this,Bs).values().next().value).getPropertyValue("-moz-user-select")==="none"),i)return;const l=a.getRangeAt(0),u=s&&(l.compareBoundaryPoints(Range.END_TO_END,s)===0||l.compareBoundaryPoints(Range.START_TO_END,s)===0);let d=u?l.startContainer:l.endContainer;if(d.nodeType===Node.TEXT_NODE&&(d=d.parentNode),!u&&l.endOffset===0)do{for(;!d.previousSibling;)d=d.parentNode;d=d.previousSibling}while(!d.childNodes.length);const h=(v=d.parentElement)==null?void 0:v.closest(".textLayer"),g=f(this,Bs).get(h);g&&(g.style.width=h.style.width,g.style.height=h.style.height,d.parentElement.insertBefore(g,u?d:d.nextSibling)),s=l.cloneRange()},{signal:e})},U(_c,Ey),U(_c,Bs,new Map),U(_c,Pd,null);let ST=_c;class ZX{constructor({pdfPage:e,annotationStorage:t=null,linkService:r,xfaHtml:i=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=r,this.xfaHtml=i,this.div=null,this._cancelled=!1}async render({viewport:e,intent:t="display"}){if(t==="print"){const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,HU.render(s)}const r=await this.pdfPage.getXfa();if(this._cancelled||!r)return{textDivs:[]};const i={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:r,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?HU.update(i):(this.div=document.createElement("div"),i.div=this.div,HU.render(i))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const Xbe={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new ck}},Jbe=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var Rd,Dd,bE,CE,Xv,EE,Nd,ru,Jv,BE,SE,xE,Zv,_E,iu,Ld,ht,Kg,H_,Iw,mL,vL,yL,wL,bL,t9,n9,r9,CL;class e9 extends zX{constructor(t){var a,o;super(t);U(this,ht);U(this,Rd,UA.ENABLE_FORMS);U(this,Dd,null);U(this,bE,null);U(this,CE,!0);U(this,Xv,!1);U(this,EE,!1);U(this,Nd,null);U(this,ru,!1);U(this,Jv,null);U(this,BE,null);U(this,SE,1);U(this,xE,1);U(this,Zv,FA.ENABLE);U(this,_E,1);U(this,iu,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});U(this,Ld,[null,null,null,null]);const r=t.container,i=t.defaultViewport;this.renderingId="page"+this.id,_(this,Nd,t.layerProperties||Xbe),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||vX,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,_(this,Zv,t.textLayerMode??FA.ENABLE),_(this,Rd,t.annotationMode??UA.ENABLE_FORMS),this.imageResourcesPath=t.imageResourcesPath||"",this.enableDetailCanvas=t.enableDetailCanvas??!0,this.maxCanvasPixels=t.maxCanvasPixels??Vw.get("maxCanvasPixels"),this.maxCanvasDim=t.maxCanvasDim||Vw.get("maxCanvasDim"),this.capCanvasAreaFactor=t.capCanvasAreaFactor??Vw.get("capCanvasAreaFactor"),_(this,CE,t.enableAutoLinking!==!1),_(this,bE,t.commentManager||null),this.l10n=t.l10n,this.l10n||(this.l10n=new uy),this._isStandalone=!((a=this.renderingQueue)!=null&&a.hasViewer()),this._container=r,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null,this.detailView=null;const s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,P(this,ht,H_).call(this),r==null||r.append(s),this._isStandalone){r==null||r.style.setProperty("--scale-factor",this.scale*ml.PDF_TO_CSS_UNITS),(o=this.pageColors)!=null&&o.background&&(r==null||r.style.setProperty("--page-bg-color",this.pageColors.background));const{optionalContentConfigPromise:l}=t;l&&l.then(u=>{l===this._optionalContentConfigPromise&&(f(this,iu).initialOptionalContent=u.hasInitialVisibility)}),t.l10n||this.l10n.translate(this.div)}}setPdfPage(t){var i,s,a,o;this._isStandalone&&(((i=this.pageColors)==null?void 0:i.foreground)==="CanvasText"||((s=this.pageColors)==null?void 0:s.background)==="Canvas")&&((a=this._container)==null||a.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(o=this._container)==null||o.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=t,this.pdfPageRotate=t.rotate;const r=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*ml.PDF_TO_CSS_UNITS,rotation:r}),P(this,ht,H_).call(this),this.reset()}destroy(){var t;this.reset(),(t=this.pdfPage)==null||t.cleanup()}hasEditableAnnotations(){var t;return!!((t=this.annotationLayer)!=null&&t.hasEditableAnnotations())}get _textHighlighter(){return eb(this,"_textHighlighter",new Ybe({pageIndex:this.id-1,eventBus:this.eventBus,findController:f(this,Nd).findController}))}_resetCanvas(){super._resetCanvas(),_(this,Jv,null)}reset({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:r=!1,keepXfaLayer:i=!1,keepTextLayer:s=!1,keepCanvasWrapper:a=!1,preserveDetailViewState:o=!1}={}){var B,S,I,T,R,M,D;const l=((B=this.pdfPage)==null?void 0:B._pdfBug)??!1;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:r,keepXfaLayer:i,keepTextLayer:s}),this.renderingState=Lt.INITIAL;const u=this.div,d=u.childNodes,h=t&&((S=this.annotationLayer)==null?void 0:S.div)||null,g=r&&((I=this.annotationEditorLayer)==null?void 0:I.div)||null,v=i&&((T=this.xfaLayer)==null?void 0:T.div)||null,C=s&&((R=this.textLayer)==null?void 0:R.div)||null,b=a&&f(this,Dd)||null;for(let L=d.length-1;L>=0;L--){const H=d[L];switch(H){case h:case g:case v:case C:case b:continue}if(l&&H.classList.contains("pdfBugGroupsLayer"))continue;H.remove();const k=f(this,Ld).indexOf(H);k>=0&&(f(this,Ld)[k]=null)}u.removeAttribute("data-loaded"),h&&this.annotationLayer.hide(),g&&this.annotationEditorLayer.hide(),v&&this.xfaLayer.hide(),C&&this.textLayer.hide(),(M=this.structTreeLayer)==null||M.hide(),!a&&f(this,Dd)&&(_(this,Dd,null),this._resetCanvas()),o||((D=this.detailView)==null||D.reset({keepCanvas:a}),a||(this.detailView=null))}toggleEditingMode(t){_(this,EE,t),this.hasEditableAnnotations()&&this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0})}updateVisibleArea(t){this.enableDetailCanvas&&(f(this,ru)&&this.maxCanvasPixels>0&&t?(this.detailView??(this.detailView=new jbe({pageView:this,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering})),this.detailView.update({visibleArea:t})):this.detailView&&(this.detailView.reset(),this.detailView=null))}update({scale:t=0,rotation:r=null,optionalContentConfigPromise:i=null,drawingDelay:s=-1}){var o,l,u;this.scale=t||this.scale,typeof r=="number"&&(this.rotation=r),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(d=>{i===this._optionalContentConfigPromise&&(f(this,iu).initialOptionalContent=d.hasInitialVisibility)})),f(this,iu).directDrawing=!0;const a=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*ml.PDF_TO_CSS_UNITS,rotation:a}),P(this,ht,H_).call(this),this._isStandalone&&((o=this._container)==null||o.style.setProperty("--scale-factor",this.viewport.scale)),P(this,ht,CL).call(this),this.canvas){const d=f(this,Xv)&&f(this,ru),h=s>=0&&s<1e3;if(h||d){h&&!d&&this.renderingState!==Lt.FINISHED&&(this.cancelRendering({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=Lt.FINISHED,f(this,iu).directDrawing=!1),this.cssTransform({redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h}),h||((l=this.detailView)==null||l.update({underlyingViewUpdated:!0}),this.dispatchPageRendered(!0,!1));return}}this.cssTransform({}),this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0,preserveDetailViewState:!0}),(u=this.detailView)==null||u.update({underlyingViewUpdated:!0})}cancelRendering({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:r=!1,keepXfaLayer:i=!1,keepTextLayer:s=!1,cancelExtraDelay:a=0}={}){var o;super.cancelRendering({cancelExtraDelay:a}),this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!t||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!r||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(o=this._textHighlighter)==null||o.disable())}cssTransform({redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:r=!1,redrawXfaLayer:i=!1,redrawTextLayer:s=!1,hideTextLayer:a=!1}){var u;const{canvas:o}=this;if(!o)return;const l=f(this,Jv);if(this.viewport!==l){const d=(360+this.viewport.rotation-l.rotation)%360;if(d===90||d===270){const{width:h,height:g}=this.viewport,v=g/h,C=h/g;o.style.transform=`rotate(${d}deg) scale(${v},${C})`}else o.style.transform=d===0?"":`rotate(${d}deg)`}t&&this.annotationLayer&&P(this,ht,mL).call(this),r&&this.annotationEditorLayer&&(this.drawLayer&&P(this,ht,yL).call(this),P(this,ht,vL).call(this)),i&&this.xfaLayer&&P(this,ht,wL).call(this),this.textLayer&&(a?(this.textLayer.hide(),(u=this.structTreeLayer)==null||u.hide()):s&&P(this,ht,bL).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,r){return this.viewport.convertToPdfPoint(t,r)}_ensureCanvasWrapper(){let t=f(this,Dd);return t||(t=_(this,Dd,document.createElement("div")),t.classList.add("canvasWrapper"),P(this,ht,Kg).call(this,t,"canvasWrapper")),t}_getRenderingContext(t,r,i){return{canvas:t,transform:r,viewport:this.viewport,annotationMode:f(this,Rd),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors,isEditing:f(this,EE),recordOperations:i}}async draw(){this.renderingState!==Lt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,l10n:r,pdfPage:i,viewport:s}=this;if(!i)throw this.renderingState=Lt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Lt.RUNNING;const a=this._ensureCanvasWrapper();if(!this.textLayer&&f(this,Zv)!==FA.DISABLE&&!i.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new pL),this.textLayer=new ST({pdfPage:i,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:f(this,Zv)===FA.ENABLE_PERMISSIONS,onAppend:M=>{this.l10n.pause(),P(this,ht,Kg).call(this,M,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&f(this,Rd)!==UA.DISABLE){const{annotationStorage:M,annotationEditorUIManager:D,downloadManager:L,enableComment:H,enableScripting:k,fieldObjectsPromise:G,hasJSActionsPromise:K,linkService:z}=f(this,Nd);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new IX({pdfPage:i,annotationStorage:M,imageResourcesPath:this.imageResourcesPath,renderForms:f(this,Rd)===UA.ENABLE_FORMS,linkService:z,downloadManager:L,enableComment:H,enableScripting:k,hasJSActionsPromise:K,fieldObjectsPromise:G,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:D,commentManager:f(this,bE),onAppend:J=>{P(this,ht,Kg).call(this,J,"annotationLayer")}})}const{width:o,height:l}=s;_(this,Jv,s);const{canvas:u,prevCanvas:d}=this._createCanvas(M=>{a.prepend(M)});u.setAttribute("role","presentation"),this.outputScale||P(this,ht,CL).call(this);const{outputScale:h}=this;_(this,Xv,f(this,ru));const g=uz(h.sx),v=uz(h.sy),C=u.width=wx(bx(o*h.sx),g[0]),b=u.height=wx(bx(l*h.sy),v[0]),B=wx(bx(o),g[1]),S=wx(bx(l),v[1]);h.sx=C/B,h.sy=b/S,f(this,SE)!==g[1]&&(t.style.setProperty("--scale-round-x",`${g[1]}px`),_(this,SE,g[1])),f(this,xE)!==v[1]&&(t.style.setProperty("--scale-round-y",`${v[1]}px`),_(this,xE,v[1]));const I=this.enableOptimizedPartialRendering&&f(this,Xv)&&!this.recordedBBoxes,T=h.scaled?[h.sx,0,0,h.sy,0,0]:null,R=this._drawCanvas(this._getRenderingContext(u,T,I),()=>{d==null||d.remove(),this._resetCanvas()},M=>{f(this,iu).regularAnnotations=!M.separateAnnots,this.dispatchPageRendered(!1,!1)}).then(async()=>{var L;if(this.renderingState!==Lt.FINISHED)return;this.structTreeLayer||(this.structTreeLayer=new jX(i,s.rawDims));const M=P(this,ht,bL).call(this);this.annotationLayer&&(await P(this,ht,mL).call(this),f(this,CE)&&this.annotationLayer&&this.textLayer&&await P(this,ht,r9).call(this,M));const{annotationEditorUIManager:D}=f(this,Nd);D&&(this.drawLayer||(this.drawLayer=new qbe({pageIndex:this.id})),await P(this,ht,yL).call(this),this.drawLayer.setParent(a),(this.annotationLayer||f(this,Rd)===UA.DISABLE)&&(this.annotationEditorLayer||(this.annotationEditorLayer=new Gbe({uiManager:D,pdfPage:i,l10n:r,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:(L=this.annotationLayer)==null?void 0:L.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:H=>{P(this,ht,Kg).call(this,H,"annotationEditorLayer")}})),P(this,ht,vL).call(this)))});if(i.isPureXfa){if(!this.xfaLayer){const{annotationStorage:M,linkService:D}=f(this,Nd);this.xfaLayer=new ZX({pdfPage:i,annotationStorage:M,linkService:D})}P(this,ht,wL).call(this)}return t.setAttribute("data-loaded",!0),this.dispatchPageRender(),R}setPageLabel(t){this.pageLabel=typeof t=="string"?t:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:t,initialOptionalContent:r,regularAnnotations:i}=f(this,iu);return t&&r&&i?this.canvas:null}}Rd=new WeakMap,Dd=new WeakMap,bE=new WeakMap,CE=new WeakMap,Xv=new WeakMap,EE=new WeakMap,Nd=new WeakMap,ru=new WeakMap,Jv=new WeakMap,BE=new WeakMap,SE=new WeakMap,xE=new WeakMap,Zv=new WeakMap,_E=new WeakMap,iu=new WeakMap,Ld=new WeakMap,ht=new WeakSet,Kg=function(t,r){const i=Jbe.get(r),s=f(this,Ld)[i];if(f(this,Ld)[i]=t,s){s.replaceWith(t);return}for(let a=i-1;a>=0;a--){const o=f(this,Ld)[a];if(o){o.after(t);return}}this.div.prepend(t)},H_=function(){const{div:t,viewport:r}=this;if(r.userUnit!==f(this,_E)&&(r.userUnit!==1?t.style.setProperty("--user-unit",r.userUnit):t.style.removeProperty("--user-unit"),_(this,_E,r.userUnit)),this.pdfPage){if(f(this,BE)===r.rotation)return;_(this,BE,r.rotation)}mX(t,r,!0,!1)},Iw=function(t,r){this.eventBus.dispatch(t,{source:this,pageNumber:this.id,error:r})},mL=async function(){let t=null;try{await this.annotationLayer.render({viewport:this.viewport,intent:"display",structTreeLayer:this.structTreeLayer})}catch(r){console.error("#renderAnnotationLayer:",r),t=r}finally{P(this,ht,Iw).call(this,"annotationlayerrendered",t)}},vL=async function(){let t=null;try{await this.annotationEditorLayer.render({viewport:this.viewport,intent:"display"})}catch(r){console.error("#renderAnnotationEditorLayer:",r),t=r}finally{P(this,ht,Iw).call(this,"annotationeditorlayerrendered",t)}},yL=async function(){try{await this.drawLayer.render({intent:"display"})}catch(t){console.error("#renderDrawLayer:",t)}},wL=async function(){var r;let t=null;try{const i=await this.xfaLayer.render({viewport:this.viewport,intent:"display"});i!=null&&i.textDivs&&this._textHighlighter&&P(this,ht,n9).call(this,i.textDivs)}catch(i){console.error("#renderXfaLayer:",i),t=i}finally{(r=this.xfaLayer)!=null&&r.div&&(this.l10n.pause(),P(this,ht,Kg).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),P(this,ht,Iw).call(this,"xfalayerrendered",t)}},bL=async function(){if(!this.textLayer)return;let t=null;try{await this.textLayer.render({viewport:this.viewport})}catch(r){if(r instanceof X0e)return;console.error("#renderTextLayer:",r),t=r}P(this,ht,Iw).call(this,"textlayerrendered",t),P(this,ht,t9).call(this)},t9=async function(){var r,i,s;if(!this.textLayer)return;const t=await((r=this.structTreeLayer)==null?void 0:r.render());t&&(this.l10n.pause(),(i=this.structTreeLayer)==null||i.addElementsToTextLayer(),this.canvas&&t.parentNode!==this.canvas&&this.canvas.append(t),this.l10n.resume()),(s=this.structTreeLayer)==null||s.show()},n9=async function(t){const r=await this.pdfPage.getTextContent(),i=[];for(const s of r.items)i.push(s.str);this._textHighlighter.setTextMapping(t,i),this._textHighlighter.enable()},r9=async function(t){try{if(await t,!this.annotationLayer)return;await this.annotationLayer.injectLinkAnnotations(cL.processLinks(this))}catch(r){console.error("#injectLinkAnnotations:",r)}},CL=function(){const{width:t,height:r}=this.viewport,i=this.outputScale=new P_;if(this.maxCanvasPixels===0){const s=1/this.scale;i.sx*=s,i.sy*=s,_(this,ru,!0)}else if(_(this,ru,i.limitCanvas(t,r,this.maxCanvasPixels,this.maxCanvasDim,this.capCanvasAreaFactor)),f(this,ru)&&this.enableDetailCanvas){const s=this.enableOptimizedPartialRendering?4:2;i.sx/=s,i.sy/=s}};async function Zbe(n){const{info:r,metadata:i,contentDispositionFilename:s,contentLength:a}=await n.getMetadata();return{...r,baseURL:"",filesize:a||(await n.getDownloadInfo()).length,filename:s||nwe(""),metadata:i==null?void 0:i.getRaw(),authors:i==null?void 0:i.get("dc:creator"),numPages:n.numPages,URL:""}}class eCe{constructor(e){this._ready=new Promise((t,r)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(r)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}var IA,Ap,TE,lp,up,IE,Ji,su,ey,Or,Za,ai,i9,V_,EL,s9,Fw;class tCe{constructor({eventBus:e,externalServices:t=null,docProperties:r=null}){U(this,ai);U(this,IA,null);U(this,Ap,null);U(this,TE,null);U(this,lp,null);U(this,up,null);U(this,IE,null);U(this,Ji,null);U(this,su,null);U(this,ey,!1);U(this,Or,null);U(this,Za,null);_(this,up,e),_(this,IE,t),_(this,TE,r)}setViewer(e){_(this,su,e)}async setDocument(e){var o;if(f(this,Ji)&&await P(this,ai,Fw).call(this),_(this,Ji,e),!e)return;const[t,r,i]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!i){await P(this,ai,Fw).call(this);return}if(e!==f(this,Ji))return;try{_(this,Or,P(this,ai,s9).call(this))}catch(l){console.error("setDocument:",l),await P(this,ai,Fw).call(this);return}const s=f(this,up);_(this,lp,new AbortController);const{signal:a}=f(this,lp);s._on("updatefromsandbox",l=>{(l==null?void 0:l.source)===window&&P(this,ai,i9).call(this,l.detail)},{signal:a}),s._on("dispatcheventinsandbox",l=>{var u;(u=f(this,Or))==null||u.dispatchEventInSandbox(l.detail)},{signal:a}),s._on("pagechanging",({pageNumber:l,previous:u})=>{l!==u&&(P(this,ai,EL).call(this,u),P(this,ai,V_).call(this,l))},{signal:a}),s._on("pagerendered",({pageNumber:l})=>{this._pageOpenPending.has(l)&&l===f(this,su).currentPageNumber&&P(this,ai,V_).call(this,l)},{signal:a}),s._on("pagesdestroy",async()=>{var l,u;await P(this,ai,EL).call(this,f(this,su).currentPageNumber),await((l=f(this,Or))==null?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(u=f(this,IA))==null||u.resolve()},{signal:a});try{const l=await f(this,TE).call(this,e);if(e!==f(this,Ji))return;await f(this,Or).createSandbox({objects:t,calculationOrder:r,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:i}}),s.dispatch("sandboxcreated",{source:this})}catch(l){console.error("setDocument:",l),await P(this,ai,Fw).call(this);return}await((o=f(this,Or))==null?void 0:o.dispatchEventInSandbox({id:"doc",name:"Open"})),await P(this,ai,V_).call(this,f(this,su).currentPageNumber,!0),Promise.resolve().then(()=>{e===f(this,Ji)&&_(this,ey,!0)})}async dispatchWillSave(){var e;return(e=f(this,Or))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=f(this,Or))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(f(this,Or)){await((e=f(this,Za))==null?void 0:e.promise),_(this,Za,Promise.withResolvers());try{await f(this,Or).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw f(this,Za).resolve(),_(this,Za,null),t}await f(this,Za).promise}}async dispatchDidPrint(){var e;return(e=f(this,Or))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=f(this,Ap))==null?void 0:e.promise)||null}get ready(){return f(this,ey)}get _pageOpenPending(){return eb(this,"_pageOpenPending",new Set)}get _visitedPages(){return eb(this,"_visitedPages",new Map)}}IA=new WeakMap,Ap=new WeakMap,TE=new WeakMap,lp=new WeakMap,up=new WeakMap,IE=new WeakMap,Ji=new WeakMap,su=new WeakMap,ey=new WeakMap,Or=new WeakMap,Za=new WeakMap,ai=new WeakSet,i9=async function(e){var u,d;const t=f(this,su),r=t.isInPresentationMode||t.isChangingPresentationMode,{id:i,siblings:s,command:a,value:o}=e;if(!i){switch(a){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(!r){const h=ywe(o);t.spreadMode=h.spreadMode}break;case"page-num":t.currentPageNumber=o+1;break;case"print":await t.pagesPromise,f(this,up).dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":r||(t.currentScaleValue=o);break;case"SaveAs":f(this,up).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":r||t.increaseScale();break;case"ZoomViewOut":r||t.decreaseScale();break;case"WillPrintFinished":(u=f(this,Za))==null||u.resolve(),_(this,Za,null);break}return}if(r&&e.focus)return;delete e.id,delete e.siblings;const l=s?[i,...s]:[i];for(const h of l){const g=document.querySelector(`[data-element-id="${h}"]`);g?g.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(d=f(this,Ji))==null||d.annotationStorage.setValue(h,e)}},V_=async function(e,t=!1){const r=f(this,Ji),i=this._visitedPages;if(t&&_(this,IA,Promise.withResolvers()),!f(this,IA))return;const s=f(this,su).getPageView(e-1);if((s==null?void 0:s.renderingState)!==Lt.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const a=(async()=>{var l,u;const o=await(i.has(e)?null:(l=s.pdfPage)==null?void 0:l.getJSActions());r===f(this,Ji)&&await((u=f(this,Or))==null?void 0:u.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:o}))})();i.set(e,a)},EL=async function(e){var s;const t=f(this,Ji),r=this._visitedPages;if(!f(this,IA)||this._pageOpenPending.has(e))return;const i=r.get(e);i&&(r.set(e,null),await i,t===f(this,Ji)&&await((s=f(this,Or))==null?void 0:s.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},s9=function(){if(_(this,Ap,Promise.withResolvers()),f(this,Or))throw new Error("#initScripting: Scripting already exists.");return f(this,IE).createScripting()},Fw=async function(){var e,t,r,i;if(!f(this,Or)){_(this,Ji,null),(e=f(this,Ap))==null||e.resolve();return}f(this,IA)&&(await Promise.race([f(this,IA).promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),_(this,IA,null)),_(this,Ji,null);try{await f(this,Or).destroySandbox()}catch{}(t=f(this,Za))==null||t.reject(new Error("Scripting destroyed.")),_(this,Za,null),(r=f(this,lp))==null||r.abort(),_(this,lp,null),this._pageOpenPending.clear(),this._visitedPages.clear(),_(this,Or,null),_(this,ey,!1),(i=f(this,Ap))==null||i.resolve()};class nCe extends tCe{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new eCe(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>Zbe(t)),super(e)}}const rCe=3e4;class iCe{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),rCe)))}getHighestPriority(e,t,r,i=!1,s=!1){const a=e.views,o=a.length;if(o===0)return null;for(let g=0;g<o;g++){const v=a[g].view;if(!this.isViewFinished(v))return v}if(!s)for(let g=0;g<o;g++){const{detailView:v}=a[g].view;if(v&&!this.isViewFinished(v))return v}const l=e.first.id,u=e.last.id;if(u-l+1>o){const g=e.ids;for(let v=1,C=u-l;v<C;v++){const b=r?l+v:u-v;if(g.has(b))continue;const B=t[b-1];if(!this.isViewFinished(B))return B}}let d=r?u:l-2,h=t[d];return h&&!this.isViewFinished(h)||i&&(d+=r?1:-1,h=t[d],h&&!this.isViewFinished(h))?h:null}isViewFinished(e){return e.renderingState===Lt.FINISHED}renderView(e){switch(e.renderingState){case Lt.FINISHED:return!1;case Lt.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case Lt.RUNNING:this.highestPriorityPage=e.renderingId;break;case Lt.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof $N||console.error("renderView:",t)});break}return!0}}const Nz=10,Bx={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function Lz(n){return Object.values(ps).includes(n)&&n!==ps.DISABLE}var au,cp,FE,BL;class sCe{constructor(e){U(this,FE);U(this,au,new Set);U(this,cp,0);_(this,cp,e)}push(e){const t=f(this,au);t.has(e)&&t.delete(e),t.add(e),t.size>f(this,cp)&&P(this,FE,BL).call(this)}resize(e,t=null){_(this,cp,e);const r=f(this,au);if(t){const i=r.size;let s=1;for(const a of r)if(t.has(a.id)&&(r.delete(a),r.add(a)),++s>i)break}for(;r.size>f(this,cp);)P(this,FE,BL).call(this)}has(e){return f(this,au).has(e)}[Symbol.iterator](){return f(this,au).keys()}}au=new WeakMap,cp=new WeakMap,FE=new WeakSet,BL=function(){const e=f(this,au).keys().next().value;e==null||e.destroy(),f(this,au).delete(e)};var ou,ME,UE,eo,oa,dp,fp,PE,RE,DE,NE,LE,QE,kE,OE,Qd,HE,ty,Au,Do,hp,pp,ny,kd,ry,VE,iy,gp,lu,sy,KE,ay,GE,je,a9,o9,A9,Mw,K_,l9,SL,u9,Ec,xL,c9,d9,f9,_L,h9,TL,G_,IL;class fk{constructor(e){U(this,je);U(this,ou,null);U(this,ME,null);U(this,UE,null);U(this,eo,ps.NONE);U(this,oa,null);U(this,dp,UA.ENABLE_FORMS);U(this,fp,null);U(this,PE,null);U(this,RE,null);U(this,DE,!1);U(this,NE,!1);U(this,LE,!1);U(this,QE,!1);U(this,kE,!1);U(this,OE,!0);U(this,Qd,null);U(this,HE,0);U(this,ty,null);U(this,Au,!0);U(this,Do,null);U(this,hp,null);U(this,pp,null);U(this,ny,!1);U(this,kd,null);U(this,ry,!1);U(this,VE,0);U(this,iy,new ResizeObserver(P(this,je,h9).bind(this)));U(this,gp,null);U(this,lu,null);U(this,sy,null);U(this,KE,!0);U(this,ay,FA.ENABLE);U(this,GE,null);var i,s;const t="5.4.449";if(sz!==t)throw new Error(`The API version "${sz}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,_(this,GE,e.viewerAlert||null),((i=this.container)==null?void 0:i.tagName)!=="DIV"||((s=this.viewer)==null?void 0:s.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");f(this,iy).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new ck,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,_(this,ME,e.altTextManager||null),_(this,fp,e.commentManager||null),_(this,sy,e.signatureManager||null),_(this,RE,e.editorUndoBar||null),this.findController&&(this.findController.onIsPageVisible=a=>this._getVisiblePages().ids.has(a)),this._scriptingManager=e.scriptingManager||null,_(this,ay,e.textLayerMode??FA.ENABLE),_(this,dp,e.annotationMode??UA.ENABLE_FORMS),_(this,eo,e.annotationEditorMode??ps.NONE),_(this,UE,e.annotationEditorHighlightColors||null),_(this,NE,e.enableHighlightFloatingButton===!0),_(this,QE,e.enableUpdatedAddImage===!0),_(this,kE,e.enableNewAltTextWhenAddingImage===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.maxCanvasDim=e.maxCanvasDim,this.capCanvasAreaFactor=e.capCanvasAreaFactor,this.enableDetailCanvas=e.enableDetailCanvas??!0,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,this.l10n=e.l10n,this.l10n||(this.l10n=new uy),_(this,LE,e.enablePermissions||!1),this.pageColors=e.pageColors||null,_(this,ty,e.mlManager||null),_(this,DE,e.enableHWA||!1),_(this,KE,e.supportsPinchToZoom!==!1),_(this,OE,e.enableAutoLinking!==!1),_(this,HE,e.minDurationToUpdateCanvas??500),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new iCe,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:r}=e;r==null||r.addEventListener("abort",()=>{f(this,iy).disconnect(),_(this,iy,null)},{once:!0}),this.scroll=dwe(this.container,this._scrollUpdate.bind(this),r),this.presentationModeState=om.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),P(this,je,_L).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:a,pdfPage:o})=>{const l=this._pages[a-1];f(this,ou).has(l)||o==null||o.cleanup()}),e.l10n||this.l10n.translate(this.container)}get printingAllowed(){return f(this,Au)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(f(this,ou))}get pageViewsReady(){return this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return f(this,dp)===UA.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var i;if(this._currentPageNumber===e)return t&&P(this,je,xL).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const r=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((i=this._pageLabels)==null?void 0:i[e-1])??null,previous:r}),t&&P(this,je,xL).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const r=this._pageLabels.indexOf(e);r>=0&&(t=r+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==VU?this._currentScale:vX}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&P(this,je,Ec).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&P(this,je,Ec).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!wX(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&P(this,je,Ec).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return eb(this,"_layerProperties",{get annotationEditorUIManager(){return f(e,oa)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableComment(){return!!f(e,fp)},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let r=1,i=this.pdfDocument.numPages;r<=i;++r){if(f(this,ry))return null;t.length=0;const s=await this.pdfDocument.getPage(r),{items:a}=await s.getTextContent();for(const o of a)o.str&&t.push(o.str),o.hasEOL&&t.push(`
`);e.push(Hw(t.join("")))}return e.join(`
`)}setDocument(e){var g,v,C;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(g=this.findController)==null||g.setDocument(null),(v=this._scriptingManager)==null||v.setDocument(null),(C=f(this,oa))==null||C.destroy(),_(this,oa,null),_(this,eo,ps.NONE),_(this,Au,!0)),this.pdfDocument=e,!e)return;const t=e.numPages,r=e.getPage(1),i=e.getOptionalContentConfig({intent:"display"}),s=f(this,LE)?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:o,viewer:l}=this;_(this,Qd,new AbortController);const{signal:u}=f(this,Qd);if(t>Bx.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const b=this._scrollMode=Ut.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:b})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});const d=b=>{const B=this._pages[b.pageNumber-1];B&&f(this,ou).push(B)};a._on("pagerender",d,{signal:u});const h=b=>{b.cssTransform||b.isDetailView||(this._onePageRenderedCapability.resolve({timestamp:b.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:u}),Promise.all([r,s]).then(([b,B])=>{var L;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(b),this._optionalContentConfigPromise=i;const{annotationEditorMode:S,annotationMode:I,textLayerMode:T}=P(this,je,a9).call(this,B);if(T!==FA.DISABLE){const H=_(this,kd,document.createElement("div"));H.id="hiddenCopyElement",l.before(H)}if(S!==ps.DISABLE){const H=S;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):Lz(H)?(_(this,oa,new Z0e(this.container,l,f(this,GE),f(this,ME),f(this,fp),f(this,sy),a,e,o,f(this,UE),f(this,NE),f(this,QE),f(this,kE),f(this,ty),f(this,RE),f(this,KE))),a.dispatch("annotationeditoruimanager",{source:this,uiManager:f(this,oa)}),H!==ps.NONE&&(P(this,je,IL).call(this,H),f(this,oa).updateMode(H))):console.error(`Invalid AnnotationEditor mode: ${H}`)}const R=this._scrollMode===Ut.PAGE?null:l,M=this.currentScale,D=b.getViewport({scale:M*ml.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",D.scale),o!=null&&o.background&&l.style.setProperty("--page-bg-color",o.background),((o==null?void 0:o.foreground)==="CanvasText"||(o==null?void 0:o.background)==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let H=1;H<=t;++H){const k=new e9({container:R,eventBus:a,id:H,scale:M,defaultViewport:D.clone(),optionalContentConfigPromise:i,renderingQueue:this.renderingQueue,textLayerMode:T,annotationMode:I,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,maxCanvasDim:this.maxCanvasDim,capCanvasAreaFactor:this.capCanvasAreaFactor,enableDetailCanvas:this.enableDetailCanvas,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering,pageColors:o,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:f(this,DE),enableAutoLinking:f(this,OE),minDurationToUpdateCanvas:f(this,HE),commentManager:f(this,fp)});this._pages.push(k)}(L=this._pages[0])==null||L.setPdfPage(b),this._scrollMode===Ut.PAGE?P(this,je,Mw).call(this):this._spreadMode!==mr.NONE&&this._updateSpreadMode(),a._on("annotationeditorlayerrendered",H=>{f(this,oa)&&a.dispatch("annotationeditormodechanged",{source:this,mode:f(this,eo)})},{once:!0,signal:u}),P(this,je,o9).call(this,u).then(async()=>{var k,G;if(e!==this.pdfDocument)return;if((k=this.findController)==null||k.setDocument(e),(G=this._scriptingManager)==null||G.setDocument(e),f(this,kd)&&document.addEventListener("copy",P(this,je,A9).bind(this,T),{signal:u}),e.loadingParams.disableAutoFetch||t>Bx.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let H=t-1;if(H<=0){this._pagesCapability.resolve();return}for(let K=2;K<=t;++K){const z=e.getPage(K).then(J=>{const ne=this._pages[K-1];ne.pdfPage||ne.setPdfPage(J),--H===0&&this._pagesCapability.resolve()},J=>{console.error(`Unable to get page ${K} to initialize viewer`,J),--H===0&&this._pagesCapability.resolve()});K%Bx.PAUSE_EAGER_PAGE_INIT===0&&await z}}),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:H})=>{e===this.pdfDocument&&H.Language&&(l.lang=H.Language)}),this.defaultRenderingQueue&&this.update()}).catch(b=>{console.error("Unable to initialize viewer",b),this._pagesCapability.reject(b)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let r=0,i=this._pages.length;r<i;r++)this._pages[r].setPageLabel(((t=this._pageLabels)==null?void 0:t[r])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=VU,this._currentScaleValue=null,this._pageLabels=null,_(this,ou,new sCe(Nz)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=Ut.VERTICAL,this._previousScrollMode=Ut.UNKNOWN,this._spreadMode=mr.NONE,_(this,gp,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=f(this,Qd))==null||e.abort(),_(this,Qd,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=f(this,kd))==null||t.remove(),_(this,kd,null),P(this,je,TL).call(this),P(this,je,G_).call(this)}_scrollUpdate(){this.pagesCount!==0&&(f(this,Do)&&clearTimeout(f(this,Do)),_(this,Do,setTimeout(()=>{_(this,Do,null),this.update()},100)),this.update())}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:r=!1,ignoreDestinationZoom:i=!1,center:s=null}){if(!this.pdfDocument)return;const a=Number.isInteger(e)&&this._pages[e-1];if(!a){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let o=0,l=0,u=0,d=0,h,g;const v=a.rotation%180!==0,C=(v?a.height:a.width)/a.scale/ml.PDF_TO_CSS_UNITS,b=(v?a.width:a.height)/a.scale/ml.PDF_TO_CSS_UNITS;let B=0;switch(t[1].name){case"XYZ":o=t[2],l=t[3],B=t[4],o=o!==null?o:0,l=l!==null?l:b;break;case"Fit":case"FitB":B="page-fit";break;case"FitH":case"FitBH":l=t[2],B="page-width",l===null&&this._location?(o=this._location.left,l=this._location.top):(typeof l!="number"||l<0)&&(l=b);break;case"FitV":case"FitBV":o=t[2],u=C,d=b,B="page-height";break;case"FitR":o=t[2],l=t[3],u=t[4]-o,d=t[5]-l;let R=oz,M=Az;this.removePageBorders&&(R=M=0),h=(this.container.clientWidth-R)/u/ml.PDF_TO_CSS_UNITS,g=(this.container.clientHeight-M)/d/ml.PDF_TO_CSS_UNITS,B=Math.min(Math.abs(h),Math.abs(g));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(i||(B&&B!==this._currentScale?this.currentScaleValue=B:this._currentScale===VU&&(this.currentScaleValue=Awe)),B==="page-fit"&&!t[4]){P(this,je,K_).call(this,a);return}const S=[a.viewport.convertToViewportPoint(o,l),a.viewport.convertToViewportPoint(o+u,l+d)];let I=Math.min(S[0][0],S[1][0]),T=Math.min(S[0][1],S[1][1]);s?((s==="both"||s==="vertical")&&(T-=(this.container.clientHeight-Math.abs(S[1][1]-S[0][1]))/2),(s==="both"||s==="horizontal")&&(I-=(this.container.clientWidth-Math.abs(S[1][0]-S[0][0]))/2)):r||(I=Math.max(I,0),T=Math.max(T,0)),P(this,je,K_).call(this,a,{left:I,top:T})}_updateLocation(e){const t=this._currentScale,r=this._currentScaleValue,i=parseFloat(r)===t?Math.round(t*1e4)/100:r,s=e.id,a=this._pages[s-1],o=this.container,l=a.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),u=Math.round(l[0]),d=Math.round(l[1]);let h=`#page=${s}`;this.isInPresentationMode||(h+=`&zoom=${i},${u},${d}`),this._location={pageNumber:s,scale:i,top:d,left:u,rotation:this._pagesRotation,pdfOpenParams:h}}update(){const e=this._getVisiblePages(),t=e.views,r=t.length;if(r===0)return;const i=Math.max(Nz,2*r+1);f(this,ou).resize(i,e.ids);for(const{view:l,visibleArea:u}of t)l.updateVisibleArea(u);for(const l of f(this,ou))e.ids.has(l.id)||l.updateVisibleArea(null);this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===mr.NONE&&(this._scrollMode===Ut.PAGE||this._scrollMode===Ut.VERTICAL),a=this._currentPageNumber;let o=!1;for(const l of t){if(l.percent<100)break;if(l.id===a&&s){o=!0;break}}this._setCurrentPageNumber(o?a:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===om.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===om.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===Ut.PAGE?f(this,gp).pages:this._pages,t=this._scrollMode===Ut.HORIZONTAL,r=t&&this._isContainerRtl;return hwe({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:r})}cleanup(){for(const e of this._pages)e.renderingState!==Lt.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),r=P(this,je,f9).call(this,t),i=this._spreadMode!==mr.NONE&&this._scrollMode!==Ut.HORIZONTAL,s=f(this,lu)!==null||f(this,Do)!==null&&t.views.some(o=>{var l;return(l=o.detailView)==null?void 0:l.renderingCancelled}),a=this.renderingQueue.getHighestPriority(t,this._pages,r,i,s);return a?(P(this,je,d9).call(this,a).then(()=>{this.renderingQueue.renderView(a)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,r=this._pages.length;t<r;++t){const i=this._pages[t];if(i.width!==e.width||i.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const r=t.pdfPage.getViewport({scale:1}),i=cz(r);if(e===void 0)e=i;else if(this.enablePrintAutoRotate&&i!==e)return{width:r.height,height:r.width,rotation:(r.rotation-90)%360};return{width:r.width,height:r.height,rotation:r.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!pwe(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>Bx.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,r=this.viewer;r.classList.toggle("scrollHorizontal",t===Ut.HORIZONTAL),r.classList.toggle("scrollWrapped",t===Ut.WRAPPED),!(!this.pdfDocument||!e)&&(t===Ut.PAGE?P(this,je,Mw).call(this):this._previousScrollMode===Ut.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&P(this,je,Ec).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!gwe(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,r=this._pages;if(this._scrollMode===Ut.PAGE)P(this,je,Mw).call(this);else if(t.textContent="",this._spreadMode===mr.NONE)for(const i of this._pages)t.append(i.div);else{const i=this._spreadMode-1;let s=null;for(let a=0,o=r.length;a<o;++a)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):a%2===i&&(s=s.cloneNode(!1),t.append(s)),s.append(r[a].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&P(this,je,Ec).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case Ut.WRAPPED:{const{views:r}=this._getVisiblePages(),i=new Map;for(const{id:s,y:a,percent:o,widthPercent:l}of r){if(o===0||l<100)continue;let u=i.get(a);u||i.set(a,u||(u=[])),u.push(s)}for(const s of i.values()){const a=s.indexOf(e);if(a===-1)continue;const o=s.length;if(o===1)break;if(t)for(let l=a-1,u=0;l>=u;l--){const d=s[l],h=s[l+1]-1;if(d<h)return e-h}else for(let l=a+1,u=o;l<u;l++){const d=s[l],h=s[l-1]+1;if(d>h)return h-e}if(t){const l=s[0];if(l<e)return e-l+1}else{const l=s[o-1];if(l>e)return l-e+1}break}break}case Ut.HORIZONTAL:break;case Ut.PAGE:case Ut.VERTICAL:{if(this._spreadMode===mr.NONE)break;const r=this._spreadMode-1;if(t&&e%2!==r)break;if(!t&&e%2===r)break;const{views:i}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:a,percent:o,widthPercent:l}of i)if(a===s){if(o>0&&l===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const r=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+r,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:r=null,origin:i}){if(r===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(r){const a=r>0?az:1/az,o=r>0?Math.ceil:Math.floor;r=Math.abs(r);do s=o((s*a).toFixed(2)*10)/10;while(--r>0)}s=Ak(s,lwe,uwe),P(this,je,Ec).call(this,s,{noScroll:!1,drawingDelay:e,origin:i})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return f(this,PE)||_(this,PE,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return f(this,oa)?f(this,eo):ps.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:r=!1,mustEnterInEditMode:i=!1,editComment:s=!1}){if(!f(this,oa))throw new Error("The AnnotationEditor is not enabled.");if(f(this,eo)===e)return;if(!Lz(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;P(this,je,IL).call(this,e);const{eventBus:a,pdfDocument:o}=this,l=async()=>{P(this,je,G_).call(this),_(this,eo,e),await f(this,oa).updateMode(e,t,r,i,s),!(e!==f(this,eo)||o!==this.pdfDocument)&&a.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===ps.NONE||f(this,eo)===ps.NONE){const u=e!==ps.NONE;u||this.pdfDocument.annotationStorage.resetModifiedIds(),this.cleanup();for(const h of this._pages)h.toggleEditingMode(u);const d=P(this,je,c9).call(this);if(u&&d){P(this,je,G_).call(this),_(this,hp,new AbortController);const h=AbortSignal.any([f(this,Qd).signal,f(this,hp).signal]);a._on("pagerendered",({pageNumber:g})=>{d.delete(g),d.size===0&&_(this,pp,setTimeout(l,0))},{signal:h});return}}l()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const r of this._pages)r.update(t);P(this,je,TL).call(this),e||this.update()}}}ou=new WeakMap,ME=new WeakMap,UE=new WeakMap,eo=new WeakMap,oa=new WeakMap,dp=new WeakMap,fp=new WeakMap,PE=new WeakMap,RE=new WeakMap,DE=new WeakMap,NE=new WeakMap,LE=new WeakMap,QE=new WeakMap,kE=new WeakMap,OE=new WeakMap,Qd=new WeakMap,HE=new WeakMap,ty=new WeakMap,Au=new WeakMap,Do=new WeakMap,hp=new WeakMap,pp=new WeakMap,ny=new WeakMap,kd=new WeakMap,ry=new WeakMap,VE=new WeakMap,iy=new WeakMap,gp=new WeakMap,lu=new WeakMap,sy=new WeakMap,KE=new WeakMap,ay=new WeakMap,GE=new WeakMap,je=new WeakSet,a9=function(e){const t={annotationEditorMode:f(this,eo),annotationMode:f(this,dp),textLayerMode:f(this,ay)};return e?(_(this,Au,e.includes(_g.PRINT_HIGH_QUALITY)||e.includes(_g.PRINT)),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,Au)}),!e.includes(_g.COPY)&&f(this,ay)===FA.ENABLE&&(t.textLayerMode=FA.ENABLE_PERMISSIONS),e.includes(_g.MODIFY_CONTENTS)||(t.annotationEditorMode=ps.DISABLE),!e.includes(_g.MODIFY_ANNOTATIONS)&&!e.includes(_g.FILL_INTERACTIVE_FORMS)&&f(this,dp)===UA.ENABLE_FORMS&&(t.annotationMode=UA.ENABLE),t):(_(this,Au,!0),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,Au)}),t)},o9=async function(e){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const t=Promise.withResolvers(),r=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:AbortSignal.any([e,r.signal])}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),r.abort()},A9=function(e,t){const r=document.getSelection(),{focusNode:i,anchorNode:s}=r;if(s&&i&&r.containsNode(f(this,kd))){if(f(this,ny)||e===FA.ENABLE_PERMISSIONS){qN(t);return}_(this,ny,!0);const{classList:a}=this.viewer;a.add("copyAll");const o=new AbortController;window.addEventListener("keydown",l=>_(this,ry,l.key==="Escape"),{signal:o.signal}),this.getAllText().then(async l=>{l!==null&&await navigator.clipboard.writeText(l)}).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{_(this,ny,!1),_(this,ry,!1),o.abort(),a.remove("copyAll")}),qN(t)}},Mw=function(){if(this._scrollMode!==Ut.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=f(this,gp),r=this.viewer;if(r.textContent="",t.pages.length=0,this._spreadMode===mr.NONE&&!this.isInPresentationMode){const i=this._pages[e-1];r.append(i.div),t.pages.push(i)}else{const i=new Set,s=this._spreadMode-1;s===-1?i.add(e-1):e%2!==s?(i.add(e-1),i.add(e)):(i.add(e-2),i.add(e-1));const a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){const o=document.createElement("div");o.className="dummyPage",a.append(o)}for(const o of i){const l=this._pages[o];l&&(a.append(l.div),t.pages.push(l))}r.append(a)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},K_=function(e,t=null){const{div:r,id:i}=e;if(this._currentPageNumber!==i&&this._setCurrentPageNumber(i),this._scrollMode===Ut.PAGE&&(P(this,je,Mw).call(this),this.update()),!t&&!this.isInPresentationMode){const s=r.offsetLeft+r.clientLeft,a=s+r.clientWidth,{scrollLeft:o,clientWidth:l}=this.container;(this._scrollMode===Ut.HORIZONTAL||s<o||a>o+l)&&(t={left:0,top:0})}yX(r,t),!this._currentScaleValue&&this._location&&(this._location=null)},l9=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},SL=function(e,t,{noScroll:r=!1,preset:i=!1,drawingDelay:s=-1,origin:a=null}){if(this._currentScaleValue=t.toString(),P(this,je,l9).call(this,e)){i&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*ml.PDF_TO_CSS_UNITS);const o=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:o?s:-1}),o&&_(this,lu,setTimeout(()=>{_(this,lu,null),this.refresh()},s));const l=this._currentScale;if(this._currentScale=e,!r){let u=this._currentPageNumber,d;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(u=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:d,allowNegativeOffset:!0}),Array.isArray(a)){const h=e/l-1,[g,v]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-v)*h,this.container.scrollTop+=(a[1]-g)*h}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:i?t:void 0}),this.defaultRenderingQueue&&this.update()},u9=function(){return this._spreadMode!==mr.NONE&&this._scrollMode!==Ut.HORIZONTAL?2:1},Ec=function(e,t){let r=parseFloat(e);if(r>0)t.preset=!1,P(this,je,SL).call(this,r,e,t);else{const i=this._pages[this._currentPageNumber-1];if(!i)return;let s=oz,a=Az;this.isInPresentationMode?(s=a=4,this._spreadMode!==mr.NONE&&(s*=2)):this.removePageBorders?s=a=0:this._scrollMode===Ut.HORIZONTAL&&([s,a]=[a,s]);const o=(this.container.clientWidth-s)/i.width*i.scale/f(this,je,u9),l=(this.container.clientHeight-a)/i.height*i.scale;switch(e){case"page-actual":r=1;break;case"page-width":r=o;break;case"page-height":r=l;break;case"page-fit":r=Math.min(o,l);break;case"auto":const u=cz(i)?o:Math.min(l,o);r=Math.min(cwe,u);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,P(this,je,SL).call(this,r,e,t)}},xL=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&P(this,je,Ec).call(this,this._currentScaleValue,{noScroll:!0}),P(this,je,K_).call(this,e)},c9=function(){const e=this._getVisiblePages(),t=[],{ids:r,views:i}=e;for(const s of i){const{view:a}=s;if(!a.hasEditableAnnotations()){r.delete(a.id);continue}t.push(s)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:r}),r)},d9=async function(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}},f9=function(e){var t,r;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((r=e.last)==null?void 0:r.id)===this.pagesCount)return!1;switch(this._scrollMode){case Ut.PAGE:return f(this,gp).scrollDown;case Ut.HORIZONTAL:return this.scroll.right}return this.scroll.down},_L=function(e=this.container.clientHeight){e!==f(this,VE)&&(_(this,VE,e),mwe.setProperty("--viewer-container-height",`${e}px`))},h9=function(e){for(const t of e)if(t.target===this.container){P(this,je,_L).call(this,Math.floor(t.borderBoxSize[0].blockSize)),_(this,PE,null);break}},TL=function(){f(this,lu)!==null&&(clearTimeout(f(this,lu)),_(this,lu,null)),f(this,Do)!==null&&(clearTimeout(f(this,Do)),_(this,Do,null))},G_=function(){var e;(e=f(this,hp))==null||e.abort(),_(this,hp,null),f(this,pp)!==null&&(clearTimeout(f(this,pp)),_(this,pp,null))},IL=function(e){var t,r;switch(e){case ps.STAMP:(t=f(this,ty))==null||t.loadModel("altText");break;case ps.SIGNATURE:(r=f(this,sy))==null||r.loadSignatures();break}};class aCe extends fk{_resetView(){super._resetView(),this._scrollMode=Ut.PAGE,this._spreadMode=mr.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}globalThis.pdfjsViewer={AnnotationLayerBuilder:IX,DownloadManager:Vwe,EventBus:dk,FindState:Cc,GenericL10n:uy,LinkTarget:Mf,parseQueryString:oI,PDFFindController:Owe,PDFHistory:Hbe,PDFLinkService:uk,PDFPageView:e9,PDFScriptingManager:nCe,PDFSinglePageViewer:aCe,PDFViewer:fk,ProgressBar:vwe,RenderingStates:Lt,ScrollMode:Ut,SimpleLinkService:ck,SpreadMode:mr,StructTreeLayerBuilder:jX,TextLayerBuilder:ST,XfaLayerBuilder:ZX};const oCe=(n,e)=>{const t=n.getBoundingClientRect(),r=window.devicePixelRatio||1,i=e(),s=t.width/i,a=t.height/i;return{rect:t,dpr:r,visualScale:i,width:s,height:a}},Qz=(n,e,t,r)=>{const i=n.getBoundingClientRect(),s=e.getBoundingClientRect(),a=s.left-i.left+n.scrollLeft,o=s.top-i.top+n.scrollTop,l=t>0?s.width/t:1,u=r>0?s.height/r:1;return{pageOffsetLeft:a,pageOffsetTop:o,scaleX:l,scaleY:u}},ACe=(n,e,t)=>{const r=e.getBoundingClientRect(),i=t(),s=(n.clientX-r.left)/i,a=(n.clientY-r.top)/i;return{x:s,y:a}},lCe=1,uCe=(n,e,t,r,i)=>{if(!(e.length<2)){n.beginPath(),n.lineWidth=r,n.strokeStyle=t,n.lineCap="round",n.lineJoin="round",n.globalAlpha=i,n.moveTo(e[0].x,e[0].y);for(let s=1;s<e.length-1;s++){const a={x:(e[s].x+e[s+1].x)/2,y:(e[s].y+e[s+1].y)/2};n.quadraticCurveTo(e[s].x,e[s].y,a.x,a.y)}n.lineTo(e[e.length-1].x,e[e.length-1].y),n.stroke(),n.globalAlpha=1}};uu.workerSrc=`https://unpkg.com/pdfjs-dist@${jQ}/build/pdf.worker.mjs`;const cCe=({file:n,onPageChange:e,onPagesCount:t,registerGoToPage:r,forceSinglePage:i=!1})=>{const s=F.useRef(null),a=F.useRef(null),o=F.useRef(null),l=F.useRef(new Map),u=F.useRef(null),{addHighlight:d,highlights:h,activeHighlightId:g,triggerSmartExplain:v,setPdfTextPages:C,pdfSearchHighlight:b,drawingMode:B,penColor:S,penWidth:I,penOpacity:T,chapterStrokes:R,addStroke:M,removeStroke:D,showAnnotations:L}=tf(),H=typeof navigator<"u"&&navigator.userAgent||"",k=/iP(hone|od|ad)/.test(H)&&/Safari/i.test(H)&&!/Chrome/i.test(H)&&!/CriOS/i.test(H),G=F.useMemo(()=>typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0),[]),K=k||G?"auto":"smooth",z=F.useMemo(()=>typeof window>"u"?!1:/Mobi|Android|iP(hone|od|ad)/i.test(H)||window.innerWidth<=1300,[H]),J=void 0,ne=F.useRef(null),{loading:oe,setLoading:V,loadProgress:q,setLoadProgress:te,errorMsg:he,setErrorMsg:ve,copyStatus:$,setCopyStatus:Y,selection:Ae,setSelection:me,layoutTick:re,setLayoutTick:fe}=vCe(),le=F.useRef(null),Se=F.useRef(null),[Z,Ue]=F.useState([]),Ie=F.useRef(null),ye=F.useRef(B),vt=F.useRef(S),qe=F.useRef(I),Vt=F.useRef(T),It=F.useRef(R),Kn=F.useRef(L),rt=F.useRef([]),wr=F.useRef(!1);F.useEffect(()=>{ye.current=B,vt.current=S,qe.current=I,Vt.current=T,It.current=R,Kn.current=L},[B,S,I,T,R,L]),F.useEffect(()=>{Ue(be=>be.filter(Le=>h.some(et=>et.id===Le.id)))},[h]),F.useEffect(()=>!a.current||!s.current?void 0:bCe({viewerRoot:a.current,pdfSearchHighlight:b,getVisualScale:Wn,onScrollToFirstHit:Le=>{const et=Le.querySelector(".pdf_search_hit");if(!et||!s.current)return;const Mt=s.current,Cn=Mt.getBoundingClientRect(),fn=et.getBoundingClientRect(),Zt=Wn(),En=(fn.top-Cn.top)/Zt+Mt.scrollTop-40,Bn=(fn.left-Cn.left)/Zt+Mt.scrollLeft-20;Mt.scrollTo({top:Math.max(0,En),left:Math.max(0,Bn),behavior:"smooth"})}}),[b]),F.useEffect(()=>{var Yn;if(!g||!s.current)return;const be=Z.find(Ea=>Ea.id===g);if(!be||be.rects.length===0)return;const Le=be.rects[0],et=s.current,Mt=(Yn=a.current)==null?void 0:Yn.querySelector(`.page[data-page-number="${Le.pageNumber}"]`);if(!et||!Mt)return;const{pageOffsetLeft:Cn,pageOffsetTop:fn,scaleX:Zt,scaleY:En}=Qz(et,Mt,Le.pageWidth,Le.pageHeight),Bn=Math.max(0,fn+Le.top*En-40),Ca=Math.max(0,Cn+Le.left*Zt-20);et.scrollTo({top:Bn,left:Ca,behavior:K})},[g,Z,K]),F.useEffect(()=>()=>{le.current&&clearTimeout(le.current)},[]);const Wn=()=>{if(!o.current)return 1;const be=getComputedStyle(o.current).getPropertyValue("--visual-scale"),Le=parseFloat(be);return Number.isFinite(Le)?Le:1},Xt=be=>{const et=be.target.closest(".page");if(!et)return null;const Mt=Number(et.dataset.pageNumber);return Mt?{pageEl:et,pageNumber:Mt}:null},wa=be=>a.current?a.current.querySelector(`.page[data-page-number="${be}"]`):null,ba=be=>oCe(be,Wn),Jt=F.useMemo(()=>CCe({viewerRef:a,viewerContainerRef:s,pageCanvasMapRef:l,currentPageRef:u,rafRefreshId:Ie,drawingModeRef:ye,penColorRef:vt,penWidthRef:qe,penOpacityRef:Vt,chapterStrokesRef:It,showAnnotationsRef:Kn,livePointsRef:rt,isDrawingRef:wr,getVisualScale:Wn,getPagePoint:ACe,getPageElementFromEvent:Xt,getPageElementByNumber:wa,getCanvasMetrics:ba,drawStrokePath:uCe,addStroke:M,removeStroke:D}),[a,s,l,u,Ie,ye,vt,qe,Vt,It,Kn,rt,wr]),xe=F.useCallback(()=>{Ie.current===null&&(Ie.current=requestAnimationFrame(()=>{Ie.current=null,Jt.syncPageCanvases(),Jt.syncCanvasPointers(),Jt.renderStaticCanvases(),Jt.renderLiveCanvas()}))},[Jt]);gCe({file:n,viewerContainerRef:s,viewerRef:a,pdfViewerRef:ne,pageCanvasMapRef:l,currentPageRef:u,rafRefreshId:Ie,MAX_CANVAS_PIXELS:J,isMobileLike:z,isMobileSafari:k,onPageChange:e,onPagesCount:t,registerGoToPage:r,setPdfTextPages:C,setLoading:V,setLoadProgress:te,setErrorMsg:ve,scheduleRenderRefresh:xe,disposePageEntry:Jt.disposePageEntry,preferSpreadView:!z&&!i}),mCe({penRuntime:Jt,viewerRef:a,viewerContainerRef:s,pageCanvasMapRef:l,drawingMode:B,showAnnotations:L,chapterStrokes:R,penColor:S,penWidth:I,penOpacity:T,scheduleRenderRefresh:xe,setLayoutTick:fe}),F.useEffect(()=>{if(oe)return;const be=ne.current,Le=s.current,et=a.current;if(!be||!Le||!et)return;const Mt=requestAnimationFrame(()=>{if(!z){be.currentScale<1&&(be.currentScale=1);return}const Cn=et.querySelector(".page");if(!Cn)return;const{paddingLeft:fn,paddingRight:Zt}=getComputedStyle(et),En=Math.max(0,Le.clientWidth-(parseFloat(fn)||0)-(parseFloat(Zt)||0));if(!En)return;const Bn=be.currentScale||1,Ca=Cn.getBoundingClientRect().width;if(!Ca)return;const Yn=Math.min(1,Bn*En/Ca);Math.abs(Yn-Bn)>=.01&&(be.currentScale=Yn)});return()=>cancelAnimationFrame(Mt)},[oe,re,z]),F.useEffect(()=>{const be=ne.current;if(!be)return;const et=i?mr.NONE:!z?mr.ODD:mr.NONE;be.spreadMode!==et&&(be.spreadMode=et,xe())},[i,z]);const ee=be=>{var Mt;if(!be)return null;const Le=be instanceof Element?be:be.parentElement,et=(Mt=Le==null?void 0:Le.closest)==null?void 0:Mt.call(Le,".page");return et instanceof HTMLElement?et:null},Be=be=>ee(be.startContainer)||ee(be.endContainer),Pe=()=>{if(Se.current)return Se.current;const be=window.getSelection();if(!be||be.isCollapsed||be.rangeCount===0||!be.toString().trim())return null;const Le=be.getRangeAt(0),et=Be(Le);if(!et)return null;const Mt=Number(et.dataset.pageNumber)||null;if(!Mt)return null;const Cn=Wn(),fn=jU(Le,et,Cn),Zt={range:Le.cloneRange(),pageEl:et,pageNumber:Mt,rects:fn,text:be.toString().trim(),visualScale:Cn};return Se.current=Zt,Zt},gt=()=>{var be,Le;return(((be=Se.current)==null?void 0:be.text)||Ae.text||((Le=window.getSelection())==null?void 0:Le.toString())||"").trim()},Ke=async()=>{le.current&&clearTimeout(le.current);const be=gt();if(!be.trim()){Y("fail"),le.current=window.setTimeout(()=>Y(""),1e3);return}try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(be);else{const Le=document.createElement("textarea");Le.value=be,Le.setAttribute("readonly","true"),Le.style.position="fixed",Le.style.left="-9999px",Le.style.opacity="0",document.body.appendChild(Le),Le.select();const et=document.execCommand("copy");if(document.body.removeChild(Le),!et)throw new Error("execCommand copy returned false")}Y("ok")}catch(Le){console.error("copy failed",Le),Y("fail")}finally{le.current=window.setTimeout(()=>Y(""),1e3)}},dn=()=>{if(B!=="idle"){me(zi=>({...zi,show:!1}));return}const be=window.getSelection();if(!be||be.isCollapsed||!be.toString().trim()||!s.current||be.rangeCount===0){me(zi=>({...zi,show:!1}));return}if(!(s.current.contains(be.anchorNode)&&s.current.contains(be.focusNode))){me(zi=>({...zi,show:!1}));return}const et=be.getRangeAt(0),Mt=et.getBoundingClientRect(),Cn=Array.from(et.getClientRects()),fn=Mt.width>0&&Mt.height>0&&Mt||Cn.find(zi=>zi.width>0&&zi.height>0);if(!fn||fn.width===0){me(zi=>({...zi,show:!1}));return}const Zt=210,En=10,Bn=G?fn.bottom+En:fn.top-56,Ca=fn.left+fn.width/2-Zt/2,Yn=Bn<En?fn.bottom+En:Bn,Ea=Math.min(Math.max(Ca,En),window.innerWidth-Zt-En),Fi=Be(et),jo=Fi&&Number(Fi.dataset.pageNumber)||null,of=Wn(),Qp=Fi&&jo?jU(et,Fi,of):[];Se.current={range:et.cloneRange(),pageEl:Fi,pageNumber:jo,text:be.toString().trim(),visualScale:of,rects:Qp},me({text:be.toString().trim(),top:Yn,left:Ea,show:!0})},Ft=()=>{[0,40,120].forEach(Le=>setTimeout(dn,Le))},bn=()=>{B==="idle"&&Ft()};F.useEffect(()=>{const be=()=>Ft(),Le=()=>Ft();return document.addEventListener("selectionchange",be),document.addEventListener("touchend",Le),()=>{document.removeEventListener("selectionchange",be),document.removeEventListener("touchend",Le)}},[]);const St=()=>{var En;const be=Pe(),Le=(be==null?void 0:be.text)||Ae.text,et=(be==null?void 0:be.pageNumber)??null,Mt=(be==null?void 0:be.visualScale)??Wn();let Cn=be!=null&&be.rects&&be.rects.length>0?be.rects:be!=null&&be.range&&be.pageEl&&be.pageNumber!==null&&be.pageNumber!==void 0?jU(be.range,be.pageEl,Mt):[];if(!Le||!et||Cn.length===0){me(Bn=>({...Bn,show:!1}));return}const fn=d(Le,void 0,"reference-doc",et),Zt=yCe(Cn);Ue(Bn=>[...Bn,{id:fn,rects:Zt}]),me(Bn=>({...Bn,show:!1})),Se.current=null,(En=window.getSelection())==null||En.removeAllRanges()},Ar=()=>{var be;(be=window.getSelection())==null||be.removeAllRanges(),me(Le=>({...Le,show:!1}))},br=()=>{var Le;bpe(Ae.text,v,()=>me(et=>({...et,show:!1})))&&((Le=window.getSelection())==null||Le.removeAllRanges())};return Q.jsxs("div",{className:"pdf_viewer",children:[Q.jsx(Y0e,{loading:oe,errorMsg:he,progress:q}),Q.jsx("div",{className:"pdf_viewer_scale_wrapper",ref:o,style:{"--visual-scale":lCe},children:Q.jsxs("div",{ref:s,className:"pdf_viewer_container",onPointerUp:bn,onContextMenu:be=>be.preventDefault(),children:[Q.jsx("div",{ref:a,className:"pdfViewer pdf_viewer_content"}),Q.jsx("div",{className:"pdf_highlight_layer","data-layout-tick":re,children:Z.flatMap(be=>be.rects.map((Le,et)=>{var jo;const Mt=s.current,Cn=(jo=a.current)==null?void 0:jo.querySelector(`.page[data-page-number="${Le.pageNumber}"]`);if(!Mt||!Cn)return null;const{pageOffsetLeft:fn,pageOffsetTop:Zt,scaleX:En,scaleY:Bn}=Qz(Mt,Cn,Le.pageWidth,Le.pageHeight),Ca=fn+Le.left*En,Yn=Zt+Le.top*Bn,Ea=Le.width*En,Fi=Le.height*Bn;return Q.jsx("div",{className:"pdf_highlight","data-highlight-id":be.id,style:{left:Ca,top:Yn,width:Ea,height:Fi}},`${be.id}-${et}`)}))})]})}),Q.jsx(W0e,{visible:Ae.show,top:Ae.top,left:Ae.left,copyStatus:$,onHighlight:St,onCopy:Ke,onAskAi:br,onCancel:Ar})]})},dCe=async(n,{isMobileSafari:e,setPdfTextPages:t,isCancelled:r})=>{if(e)return;const i=[];try{for(let s=1;s<=n.numPages;s++){const l=(await(await n.getPage(s)).getTextContent()).items.map(u=>"str"in u?u.str:"").join(" ");i.push({page:s,text:l})}r()||t(i)}catch(s){console.error("PDF text extraction failed",s)}},p9=`https://unpkg.com/pdfjs-dist@${jQ}`,fCe=`${p9}/cmaps/`,hCe=`${p9}/standard_fonts/`,pCe=n=>{const{file:e,viewerContainer:t,viewer:r,pdfViewerRef:i,pageCanvasMapRef:s,currentPageRef:a,rafRefreshId:o,MAX_CANVAS_PIXELS:l,isMobileLike:u,isMobileSafari:d,onPageChange:h,onPagesCount:g,registerGoToPage:v,setPdfTextPages:C,setLoading:b,setLoadProgress:B,setErrorMsg:S,scheduleRenderRefresh:I,disposePageEntry:T,preferSpreadView:R}=n,M=new dk,D=new uk({eventBus:M}),L={container:t,viewer:r,eventBus:M,linkService:D,textLayerMode:2,annotationMode:2,removePageBorders:!0,enableScripting:!1,disableAutoFetch:!1,useOnlyCssZoom:!1};l!==void 0&&(L.maxCanvasPixels=l);const H=new fk(L);i.current=H;const k=R??!u,G=1;let K=!1;const z=oe=>{I(),!K&&(oe==null?void 0:oe.pageNumber)===1&&(K=!0,b(!1))};M.on("pagesinit",()=>{H.currentScale=G,H.spreadMode=k?mr.ODD:mr.NONE,I()}),M.on("pagechanging",oe=>{oe!=null&&oe.pageNumber&&(h==null||h(oe.pageNumber))}),M.on("pagesloaded",oe=>{oe!=null&&oe.pagesCount&&(g==null||g(oe.pagesCount)),z()}),M.on("pagerendered",z),M.on("pagedestroy",oe=>{oe!=null&&oe.pageNumber&&T(oe.pageNumber)}),v==null||v(oe=>{if(!i.current||!i.current.pdfDocument||!i.current.pagesCount)return;const V=i.current.pdfDocument.numPages,q=Math.min(Math.max(oe,1),V);i.current.currentPageNumber=q,i.current.scrollPageIntoView({pageNumber:q})}),D.setViewer(H);let J=!1,ne=qQ({url:e,cMapUrl:fCe,cMapPacked:!0,standardFontDataUrl:hCe});return ne.onProgress=({loaded:oe=0,total:V=0})=>{if(J)return;if(!V){B(te=>Math.min(95,Math.max(1,te+1)));return}const q=Math.min(99,Math.max(1,Math.round(oe/V*100)));B(q)},ne.promise.then(oe=>{J||(B(100),S(null),H.setDocument(oe),D.setDocument(oe,null),g==null||g(oe.numPages),dCe(oe,{isMobileSafari:d,setPdfTextPages:C,isCancelled:()=>J}))}).catch(oe=>{if(!J){if((oe==null?void 0:oe.message)==="Worker was destroyed"){console.debug("[PdfViewer] worker destroyed (cleanup)");return}console.error("[PdfViewer] load error:",oe),S((oe==null?void 0:oe.message)||"PDF  "),B(0),b(!1)}}),()=>{var oe;J=!0,ne.destroy(),i.current=null,(oe=M.off)==null||oe.call(M,"pagerendered",z),s.current.forEach(({layer:V})=>V.remove()),s.current.clear(),a.current=null,o.current!==null&&(cancelAnimationFrame(o.current),o.current=null)}},gCe=({file:n,viewerContainerRef:e,viewerRef:t,pdfViewerRef:r,pageCanvasMapRef:i,currentPageRef:s,rafRefreshId:a,MAX_CANVAS_PIXELS:o,isMobileLike:l,isMobileSafari:u,onPageChange:d,onPagesCount:h,registerGoToPage:g,setPdfTextPages:v,setLoading:C,setLoadProgress:b,setErrorMsg:B,scheduleRenderRefresh:S,disposePageEntry:I,preferSpreadView:T})=>{F.useEffect(()=>!e.current||!t.current?void 0:(v([]),h==null||h(0),d==null||d(1),C(!0),b(1),B(null),pCe({file:n,viewerContainer:e.current,viewer:t.current,pdfViewerRef:r,pageCanvasMapRef:i,currentPageRef:s,rafRefreshId:a,MAX_CANVAS_PIXELS:o,isMobileLike:l,isMobileSafari:u,onPageChange:d,onPagesCount:h,registerGoToPage:g,setPdfTextPages:v,setLoading:C,setLoadProgress:b,setErrorMsg:B,scheduleRenderRefresh:S,disposePageEntry:I,preferSpreadView:T})),[n,d,h,g,v,u,l])},mCe=({penRuntime:n,viewerRef:e,viewerContainerRef:t,pageCanvasMapRef:r,drawingMode:i,showAnnotations:s,chapterStrokes:a,penColor:o,penWidth:l,penOpacity:u,scheduleRenderRefresh:d,setLayoutTick:h})=>{F.useEffect(()=>{n.refreshCanvases()},[n,i,s]),F.useEffect(()=>{n.renderStaticCanvases()},[n,a]),F.useEffect(()=>{n.renderLiveCanvas()},[n,i,o,l,u]),F.useEffect(()=>{let v=0,C=0,b=0,B=0;const S=new ResizeObserver(I=>{let T=!1,R=!1;I.forEach(M=>{const D=Math.round(M.contentRect.width),L=Math.round(M.contentRect.height);if(M.target===e.current){const H=Math.abs(D-v)>=2,k=Math.abs(L-C)>=2;H&&(T=!0),k&&(R=!0),(H||k)&&(v=D,C=L);return}if(M.target===t.current){const H=Math.abs(D-b)>=2,k=Math.abs(L-B)>=2;H&&(T=!0),k&&(R=!0),(H||k)&&(b=D,B=L)}}),!(!T&&!R)&&(d(),T&&h(M=>M+1))});return e.current&&S.observe(e.current),t.current&&S.observe(t.current),()=>{S.disconnect()}},[e,t,d,h]),F.useEffect(()=>{const g=t.current;if(!g)return;const v=()=>d();return g.addEventListener("scroll",v,{passive:!0}),()=>g.removeEventListener("scroll",v)},[t,d]),F.useEffect(()=>()=>{r.current.forEach(g=>{var v;(v=g.layer)==null||v.remove()}),r.current.clear()},[r])},vCe=()=>{const[n,e]=F.useState(!0),[t,r]=F.useState(0),[i,s]=F.useState(null),[a,o]=F.useState(""),[l,u]=F.useState({text:"",top:0,left:0,show:!1}),[d,h]=F.useState(0);return{loading:n,setLoading:e,loadProgress:t,setLoadProgress:r,errorMsg:i,setErrorMsg:s,copyStatus:a,setCopyStatus:o,selection:l,setSelection:u,layoutTick:d,setLayoutTick:h}},yCe=n=>{const e=new Map;n.forEach(i=>{const s=e.get(i.pageNumber)??[];s.push({...i}),e.set(i.pageNumber,s)});const t=1.5,r=[];return e.forEach(i=>{const s=i;let a=!0;for(;a;){a=!1;for(let o=0;o<s.length;o++){for(let l=o+1;l<s.length;l++){const u=s[o],d=s[l],h=u.left<=d.left+d.width+t&&u.left+u.width>=d.left-t,g=u.top<=d.top+d.height+t&&u.top+u.height>=d.top-t;if(h&&g){const v=Math.min(u.left,d.left),C=Math.min(u.top,d.top),b=Math.max(u.left+u.width,d.left+d.width),B=Math.max(u.top+u.height,d.top+d.height);s[o]={...u,left:v,top:C,width:b-v,height:B-C},s.splice(l,1),a=!0;break}}if(a)break}}r.push(...s)}),r},jU=(n,e,t)=>{const s=e.getBoundingClientRect();return Array.from(n.getClientRects()).map(a=>({left:(a.left-s.left)/t,top:(a.top-s.top)/t-.5/Math.max(t,1e-4),width:a.width/t,height:Math.max(a.height/t-1,1),pageNumber:Number(e.dataset.pageNumber),pageWidth:s.width/t,pageHeight:s.height/t}))},wCe=n=>{const e=Array.from(n.querySelectorAll("span"));return e.length===0?!1:e.some(t=>{const r=t;return r.style.left!==""||r.style.top!==""||r.style.transform!==""})},kz=n=>{n==null||n.querySelectorAll('.textLayer span[role="presentation"]').forEach(e=>{const t=e;t.dataset.origText!==void 0&&(t.textContent=t.dataset.origText,delete t.dataset.origText)})},bCe=({viewerRoot:n,pdfSearchHighlight:e,getVisualScale:t,onScrollToFirstHit:r})=>{if(!n)return()=>{};if(kz(n),!e)return()=>{};let i=!1,s=null,a=0;const o=10,l=()=>{const d=n.querySelector(`.page[data-page-number="${e.page}"]`),h=d==null?void 0:d.querySelector(".textLayer");if(!h||!wCe(h))return!1;const g=e.term.trim();if(!g)return!1;const v=new RegExp(g.replace(/[.*+?^${}()|[\\]\\]/g,"\\$&"),"gi");return h.querySelectorAll('span[role="presentation"]').forEach(C=>{const b=C,B=b.textContent||"",S=B.replace(v,I=>`<span class="pdf_search_hit">${I}</span>`);S!==B&&(b.dataset.origText===void 0&&(b.dataset.origText=B),b.innerHTML=S)}),d&&requestAnimationFrame(()=>r(d)),!0},u=()=>{i||l()||a<o&&(a+=1,s=window.setTimeout(u,150))};return u(),()=>{i=!0,s!==null&&clearTimeout(s),kz(n)}},CCe=n=>{const{viewerRef:e,viewerContainerRef:t,pageCanvasMapRef:r,currentPageRef:i,rafRefreshId:s,drawingModeRef:a,penColorRef:o,penWidthRef:l,penOpacityRef:u,chapterStrokesRef:d,showAnnotationsRef:h,livePointsRef:g,isDrawingRef:v,getVisualScale:C,getPagePoint:b,getPageElementFromEvent:B,getPageElementByNumber:S,getCanvasMetrics:I,drawStrokePath:T,addStroke:R,removeStroke:M}=n;let D=null;const L=re=>a.current==="pen"&&re.pointerType==="touch",H=(re,fe)=>{const le=document.createElement("canvas");return le.className=re,fe&&le.setAttribute("aria-hidden",fe),le},k=(re,fe,le)=>{const{width:Se,height:Z,dpr:Ue}=I(re);!Se||!Z||[fe,le].forEach(Ie=>{Ie.width=Se*Ue,Ie.height=Z*Ue,Ie.style.width="100%",Ie.style.height="100%";const ye=Ie.getContext("2d");ye&&(ye.setTransform(1,0,0,1,0,0),ye.scale(Ue,Ue))})},G=re=>{if(L(re)){re.preventDefault();return}if(a.current==="idle")return;D=re.pointerId;const fe=B(re);if(!fe)return;const{pageEl:le,pageNumber:Se}=fe;re.target.setPointerCapture(re.pointerId);const Z=b(re,le,C);Z&&(i.current=Se,v.current=!0,g.current=[Z],Ae())},K=re=>{var Z;if(L(re)){re.preventDefault();return}if(D!==null&&re.pointerId!==D||a.current==="idle"||re.buttons===0&&!v.current)return;const fe=i.current||((Z=B(re))==null?void 0:Z.pageNumber)||null;if(!fe)return;const le=S(fe);if(!le)return;re.preventDefault();const Se=b(re,le,C);Se&&(a.current==="pen"?(v.current=!0,i.current=fe,g.current.length===0?g.current=[Se]:g.current.push(Se),Ae()):a.current==="eraser"&&$(fe).forEach(Ie=>{Ie.points.some(vt=>Math.hypot(vt.x-Se.x,vt.y-Se.y)<16)&&M("pdf-main",Ie.id)}))},z=re=>{var Se;if(L(re)){re.preventDefault();return}if(D!==null&&re.pointerId!==D||!v.current&&a.current!=="eraser")return;const fe=re.target;(Se=fe.hasPointerCapture)!=null&&Se.call(fe,re.pointerId)&&fe.releasePointerCapture(re.pointerId);const le=i.current;if(a.current==="pen"&&le&&g.current.length>1){const Z={id:Date.now().toString(),points:g.current,color:o.current,width:l.current,opacity:u.current,pageNumber:le};R("pdf-main",Z)}v.current=!1,g.current=[],i.current=null,D=null,Ae()},J=re=>{re.dataset.penBound||(re.addEventListener("pointerdown",G),re.addEventListener("pointermove",K),re.addEventListener("pointerup",z),re.addEventListener("pointerleave",z),re.addEventListener("pointercancel",z),re.dataset.penBound="1")},ne=re=>{re.dataset.penBound&&(re.removeEventListener("pointerdown",G),re.removeEventListener("pointermove",K),re.removeEventListener("pointerup",z),re.removeEventListener("pointerleave",z),re.removeEventListener("pointercancel",z),delete re.dataset.penBound)},oe=re=>{let fe=re.querySelector(".pdf_pen_page_layer"),le=null,Se=null;return fe?(le=fe.querySelector(".pdf_pen_page_canvas:not(.pdf_pen_page_canvas_live)"),Se=fe.querySelector(".pdf_pen_page_canvas_live"),Se&&J(Se)):(fe=document.createElement("div"),fe.className="pdf_pen_page_layer",le=H("pdf_pen_page_canvas","true"),Se=H("pdf_pen_page_canvas pdf_pen_page_canvas_live"),J(Se),fe.appendChild(le),fe.appendChild(Se),re.appendChild(fe)),!fe||!le||!Se?null:{layer:fe,staticCanvas:le,liveCanvas:Se}},V=re=>{var le;const fe=r.current.get(re);fe&&(ne(fe.liveCanvas),(le=fe.layer)==null||le.remove(),r.current.delete(re))},q=(re,fe,le)=>{const Se=re.getBoundingClientRect();return Se.bottom>=fe.top-le&&Se.top<=fe.bottom+le},te=()=>{if(!e.current||!t.current)return;const re=t.current.getBoundingClientRect(),fe=800,le=Array.from(e.current.querySelectorAll(".page")).filter(Z=>q(Z,re,fe)),Se=new Set;le.forEach(Z=>{const Ue=Number(Z.dataset.pageNumber);if(!Ue)return;Se.add(Ue);const Ie=oe(Z);Ie&&(r.current.set(Ue,Ie),k(Z,Ie.staticCanvas,Ie.liveCanvas))});for(const[Z,Ue]of r.current.entries())Se.has(Z)||V(Z)},he=()=>{const re=a.current||"idle",fe=re==="pen"||re==="eraser";r.current.forEach(({liveCanvas:le})=>{le.style.pointerEvents=fe?"auto":"none",le.style.touchAction=fe?"none":"auto",le.style.cursor=fe?"crosshair":"default"})},ve=(re,fe)=>re.pageNumber===void 0?fe===1:re.pageNumber===fe,$=re=>(d.current["pdf-main"]||[]).filter(fe=>ve(fe,re)),Y=()=>{r.current.forEach(({staticCanvas:re},fe)=>{const le=re.getContext("2d");if(!le||(le.save(),le.setTransform(1,0,0,1,0,0),le.clearRect(0,0,re.width,re.height),le.restore(),!h.current))return;$(fe).forEach(Z=>T(le,Z.points,Z.color,Z.width||3,Z.opacity??1))})},Ae=()=>{if(r.current.forEach(({liveCanvas:Se})=>{const Z=Se.getContext("2d");Z&&(Z.save(),Z.setTransform(1,0,0,1,0,0),Z.clearRect(0,0,Se.width,Se.height),Z.restore())}),a.current!=="pen"||g.current.length===0)return;const re=i.current;if(!re)return;const fe=r.current.get(re);if(!fe)return;const le=fe.liveCanvas.getContext("2d");if(le){if(g.current.length===1){const Se=g.current[0];le.beginPath(),le.fillStyle=o.current,le.globalAlpha=u.current,le.arc(Se.x,Se.y,l.current/2,0,Math.PI*2),le.fill(),le.globalAlpha=1;return}T(le,g.current,o.current,l.current,u.current)}};return{handlePenStart:G,handlePenMove:K,handlePenEnd:z,syncPageCanvases:te,syncCanvasPointers:he,renderStaticCanvases:Y,renderLiveCanvas:Ae,refreshCanvases:()=>{te(),he(),Y(),Ae()},disposePageEntry:V,getPageStrokes:$}},V0=({text:n,query:e})=>{if(!e||!e.trim())return Q.jsx(Q.Fragment,{children:n});const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=new RegExp(`(${t})`,"gi"),i=n.split(r);return Q.jsx("span",{children:i.map((s,a)=>r.test(s)?Q.jsx("mark",{className:"bg-yellow-300 text-slate-900 rounded-[2px] px-0.5 font-medium",children:s},a):s)})},g9=({isOpen:n,onClose:e,side:t,title:r,children:i})=>Q.jsx(Q.Fragment,{children:i}),ECe=({isOpen:n,onClose:e})=>{const{chapters:t,currentChapterIndex:r,goToChapter:i,hasStrokes:s,bookmarks:a,goToPdfPage:o,removePdfBookmark:l,currentPdfPage:u,goToHighlight:d}=tf(),[h,g]=F.useState("contents"),v=F.useRef(null),C=F.useRef([]);return F.useEffect(()=>{if(h!=="contents")return;const b=C.current[r];if(!b)return;const B=v.current;if(!B){b.scrollIntoView({block:"center",behavior:"smooth"});return}const S=B.getBoundingClientRect(),I=b.getBoundingClientRect();I.top>=S.top&&I.bottom<=S.bottom||b.scrollIntoView({block:"center",behavior:"smooth"})},[r,h]),Q.jsxs(g9,{isOpen:n,onClose:e,side:"left",title:"Contents",children:[Q.jsxs("div",{className:"chapter_favor_wrap",children:[Q.jsxs("button",{onClick:()=>g("contents"),className:`chapter ${h==="contents"?"on":"off"}`,children:[Q.jsx(Mhe,{size:14})," Chapters"]}),Q.jsxs("button",{onClick:()=>g("bookmarks"),className:`favor ${h==="bookmarks"?"on":"off"}`,children:[Q.jsx(eG,{size:14})," Favorites"]})]}),Q.jsxs("div",{className:"chapter_list",ref:v,children:[h==="contents"&&t.map((b,B)=>Q.jsx("button",{ref:S=>{C.current[B]=S},onClick:()=>{i(B),window.innerWidth<768&&e()},className:` ${B===r?"on":"off"}`,children:Q.jsxs("div",{className:"chapter_list_inner",children:[Q.jsxs("div",{className:"",children:[Q.jsx("span",{className:`text_xs ${B===r?"on":"off"}`,children:String(B+1).padStart(2,"0")}),Q.jsx("span",{className:"line_clamp_1",children:b.title})]}),s(b.id)&&Q.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-1 rounded-full",children:Q.jsx(AY,{size:10})})]})},b.id)),h==="bookmarks"&&a.map(b=>Q.jsxs("div",{className:`bookmark_item_row ${b.page===u?"active":""}`,children:[Q.jsxs("button",{onClick:()=>{o(b.page),window.innerWidth<768&&e()},className:"bookmark_item_button",children:[Q.jsx("div",{className:"bookmark_page_badge",children:Q.jsx("span",{className:"bookmark_label line_clamp_1",children:`P. ${b.page}`})}),Q.jsx("div",{className:"bookmark_item_text",children:Q.jsxs("span",{className:"bookmark_meta",children:["Saved ",new Date(b.createdAt).toLocaleDateString()]})})]}),Q.jsx("button",{onClick:B=>{B.stopPropagation(),l(b.id)},className:"bookmark_remove_btn",title:"Delete bookmark",children:Q.jsx(CN,{size:14})})]},b.id)),h==="bookmarks"&&a.length===0&&Q.jsxs("div",{className:"non_book_mark",children:[Q.jsx(eG,{size:24,className:"mx-auto mb-2 text-slate-400"}),Q.jsx("p",{className:"text_sm",children:"No bookmarks yet"}),Q.jsx("p",{className:"text_sm",children:"Use the bookmark icon near Search to save a page."})]})]})]})},BCe=({isOpen:n,onClose:e})=>{const{highlights:t,removeHighlight:r,updateHighlight:i,currentChapter:s,incrementAiCount:a,generalNotes:o,addGeneralNote:l,updateGeneralNote:u,removeGeneralNote:d,importNotes:h,exportNoteAsMarkdown:g,focusHighlight:v,goToChapter:C,chapters:b,aiChatHistory:B,addChatMessage:S,activeToolTab:I,setActiveToolTab:T,setCaptureMode:R,capturedImage:M,setCapturedImage:D,referenceDocument:L,uploadBook:H,searchQuery:k,setSearchQuery:G,performSearch:K,goToPdfPage:z,pdfSearchHighlight:J,setPdfSearchHighlight:ne,goToHighlight:oe}=tf(),[V,q]=F.useState(""),[te,he]=F.useState(!1),[ve,$]=F.useState(null),[Y,Ae]=F.useState(null),[me,re]=F.useState(""),[fe,le]=F.useState(""),Se=F.useRef(null),Z=F.useRef(null),Ue=F.useRef(null);F.useEffect(()=>{ve&&Se.current&&Se.current.innerHTML!==(ve.content||"")&&(Se.current.innerHTML=ve.content||"")},[ve==null?void 0:ve.id]),F.useEffect(()=>{I==="ai"&&requestAnimationFrame(()=>{var ee;(ee=Ue.current)==null||ee.scrollIntoView({behavior:"smooth",block:"end"})})},[I,B.length,te]);const Ie=()=>Se.current?Se.current.innerHTML:"",ye=ee=>{if(I==="notebook"&&ve){const Be=Ie();$(Pe=>Pe?{...Pe,content:Be}:null)}T(ee),le("")},vt=ee=>{Ae(ee.id),re(ee.note||"")},qe=ee=>{i(ee,{note:me}),Ae(null),re("")},Vt=t.filter(ee=>ee.text.toLowerCase().includes(fe.toLowerCase())||ee.note&&ee.note.toLowerCase().includes(fe.toLowerCase())),It=o.filter(ee=>ee.title.toLowerCase().includes(fe.toLowerCase())||ee.content.toLowerCase().includes(fe.toLowerCase()));F.useEffect(()=>{if(M&&ve){const ee=`<div class="capture-img-container"><img src="${M}" style="max-width:100%; border:1px solid #ccc; border-radius:4px; margin: 10px 0; display: block;" /></div><p><br/></p>`,Be=(ve.content||"")+ee;$(Pe=>Pe?{...Pe,content:Be}:null),Se.current&&(Se.current.innerHTML=Be),D(null)}},[M,D]);const Kn=async ee=>{if(ee.preventDefault(),!V.trim())return;const Be=V;S("user",Be),q(""),he(!0),a();const Pe=await K6(Be,s.content.substring(0,1e3));S("model",Pe),he(!1)},rt=()=>{if(ve){const ee=Ie();ve.title&&(ve.id?u(ve.id,ve.title,ee):l(ve.title,ee),$(null))}},wr=(ee,Be=void 0)=>{document.execCommand(ee,!1,Be),Se.current&&Se.current.focus()},Wn=(ee,Be,Pe)=>{ee.preventDefault(),wr(Be,Pe)},Xt=ee=>{ee.preventDefault();const Be=Ie();$(Pe=>Pe?{...Pe,content:Be}:null),setTimeout(()=>R(!0),50)},wa=ee=>{ee.preventDefault();const Be=window.getSelection();if(Be&&Be.rangeCount>0){const Ke=Be.getRangeAt(0);Se.current&&Se.current.contains(Ke.commonAncestorContainer)?Z.current=Ke.cloneRange():Z.current=null}const Pe=parseInt(prompt("Rows:","2")||"0"),gt=parseInt(prompt("Columns:","2")||"0");if(Se.current&&(Se.current.focus(),Z.current&&(Be==null||Be.removeAllRanges(),Be==null||Be.addRange(Z.current)),Pe>0&&gt>0)){let Ke='<table style="width:100%; border-collapse: collapse; margin: 10px 0; border: 1px solid #ccc;"><tbody>';for(let dn=0;dn<Pe;dn++){Ke+="<tr>";for(let Ft=0;Ft<gt;Ft++)Ke+='<td style="border:1px solid #ccc; padding:8px; min-width: 50px;">Cell</td>';Ke+="</tr>"}Ke+="</tbody></table><p><br></p>",document.execCommand("insertHTML",!1,Ke)}},ba=ee=>{ee.target.files&&ee.target.files[0]&&H(ee.target.files[0])},Jt=()=>{const ee=Ie();$(Be=>Be?{...Be,content:ee}:null)},xe=()=>{if(!ve)return;const ee=Ie(),Be=window.open("","","height=600,width=800");Be&&(Be.document.write(`<html><head><title>${ve.title}</title><style>body{font-family:sans-serif;padding:20px;}table{border-collapse:collapse;width:100%;}td,th{border:1px solid #ccc;padding:8px;}img{max-width:100%;}</style></head><body><h1>${ve.title}</h1>${ee}</body></html>`),Be.document.close(),Be.print())};return I==="search"&&K(k),Q.jsxs(g9,{isOpen:n,onClose:e,side:"right",children:[Q.jsxs("div",{className:"right_panel_menu",children:[Q.jsx("button",{onClick:()=>ye("ai"),className:`ai ${I==="ai"?"on":"off"}`,title:"AI",children:Q.jsx(vU,{size:14})}),Q.jsx("button",{onClick:()=>ye("notes"),className:`notes ${I==="notes"?"on":"off"}`,title:"Highlights",children:Q.jsx(T_,{size:14})}),Q.jsx("button",{onClick:()=>ye("notebook"),className:`notebook ${I==="notebook"?"on":"off"}`,title:"Notebook",children:Q.jsx(wN,{size:14})}),Q.jsx("button",{onClick:()=>ye("reference"),className:`reference ${I==="reference"?"on":"off"}`,title:"Reference PDF",children:Q.jsx(nG,{size:14})}),Q.jsx("button",{onClick:()=>ye("search"),className:`search ${I==="search"?"on":"off"}`,title:"Search",children:Q.jsx(yU,{size:14})})]}),Q.jsxs("div",{className:"text_area",children:[I==="ai"&&Q.jsxs("div",{className:"ai",children:[Q.jsxs("div",{className:"ai_talk",children:[B.length===0&&Q.jsxs("div",{className:"ai_talk_inner",children:[Q.jsx("div",{className:"icon",children:Q.jsx(vU,{className:"text-blue-500",size:24})}),Q.jsx("p",{className:"text_sm",children:"AI Study Companion"})]}),B.map((ee,Be)=>Q.jsx("div",{className:`txt ${ee.role==="user"?"ai_user_txt":"ai_txt"}`,children:Q.jsx("div",{className:` ${ee.role==="user"?"on":"off"}`,children:ee.text})},Be)),te&&Q.jsx("div",{className:"flex flex-col items-start",children:Q.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl rounded-bl-none px-4 py-3 border border-slate-100 dark:border-slate-700",children:Q.jsxs("div",{className:"flex space-x-1",children:[Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-75"}),Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-150"})]})})}),Q.jsx("div",{ref:Ue})]}),Q.jsx("div",{className:"ai_user",children:Q.jsxs("form",{onSubmit:Kn,className:"user_form",children:[Q.jsx("input",{type:"text",value:V,onChange:ee=>q(ee.target.value),placeholder:"Ask AI...",className:""}),Q.jsx("button",{type:"submit",disabled:!V.trim()||te,className:"enter",children:Q.jsx(vU,{size:16})})]})})]}),I==="notes"&&Q.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[Q.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Filter highlights...",value:fe,onChange:ee=>le(ee.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),Q.jsx(rG,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})}),Q.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[Vt.length===0&&Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(T_,{size:24,className:"mx-auto mb-2"}),Q.jsx("p",{className:"text-sm",children:"No highlights"})]}),Vt.map(ee=>Q.jsxs("div",{onClick:()=>oe(ee),className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 cursor-pointer hover:border-blue-300 transition-all",children:[Q.jsxs("div",{className:"flex justify-between mb-2 text-xs text-slate-400",children:[Q.jsx("span",{children:ee.chapterId==="reference-doc"?"Reference PDF":`Chapter ${b.findIndex(Be=>Be.id===ee.chapterId)+1}`}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsx("button",{onClick:Be=>{Be.stopPropagation(),vt(ee)},title:"Edit Note",children:Q.jsx(jhe,{size:12})}),Q.jsx("button",{onClick:Be=>{Be.stopPropagation(),r(ee.id)},title:"Delete",children:Q.jsx(CN,{size:12})})]})]}),Q.jsxs("p",{className:"highlight_txt text-sm italic border-l-2 border-amber-400 pl-2 text-slate-600",children:['"',Q.jsx(V0,{text:ee.text,query:fe}),'"']}),Y===ee.id?Q.jsxs("div",{onClick:Be=>Be.stopPropagation(),className:"mt-2 animate-fade-in",children:[Q.jsx("textarea",{className:"w-full p-2 text-xs border rounded bg-slate-50 outline-none focus:border-blue-500",value:me,onChange:Be=>re(Be.target.value),autoFocus:!0,rows:3}),Q.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[Q.jsx("button",{onClick:()=>Ae(null),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cancel"}),Q.jsx("button",{onClick:()=>qe(ee.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):ee.note?Q.jsx("div",{className:"mt-2 text-xs bg-yellow-50 p-2 rounded text-slate-700 border border-yellow-100",children:Q.jsx(V0,{text:ee.note,query:fe})}):Q.jsxs("button",{onClick:Be=>{Be.stopPropagation(),vt(ee)},className:"mt-2 text-xs text-blue-500 flex items-center gap-1 hover:underline opacity-50 hover:opacity-100",children:[Q.jsx(bN,{size:10})," Add Note"]})]},ee.id))]})]}),I==="notebook"&&Q.jsx("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:ve?Q.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white dark:bg-slate-900 animate-fade-in",children:[Q.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-900",children:[Q.jsx("button",{onClick:()=>$(null),className:"text-xs font-medium text-slate-500",children:"Cancel"}),Q.jsxs("button",{onClick:rt,className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[Q.jsx(lY,{size:14})," Save"]})]}),Q.jsx("div",{className:"px-4 pt-4 pb-2",children:Q.jsx("input",{type:"text",className:"w-full text-lg font-bold bg-transparent outline-none",value:ve.title||"",onChange:ee=>{const Be=Ie();$(Pe=>Pe?{...Pe,title:ee.target.value,content:Be}:null)}})}),Q.jsxs("div",{className:"px-2 py-1.5 flex flex-wrap gap-1 border-y bg-slate-50 dark:bg-slate-900/50",children:[Q.jsx("button",{onMouseDown:ee=>Wn(ee,"bold"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(ehe,{size:14})}),Q.jsx("button",{onMouseDown:ee=>Wn(ee,"italic"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx("span",{className:"italic",children:"I"})}),Q.jsx("button",{onMouseDown:ee=>Wn(ee,"hiliteColor","yellow"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(T_,{size:14})}),Q.jsx("button",{onMouseDown:wa,className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(dpe,{size:14})}),Q.jsx("button",{onMouseDown:Xt,className:"p-1.5 rounded hover:bg-slate-200 text-blue-600",children:Q.jsx(che,{size:14})}),Q.jsx("button",{onClick:xe,className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(npe,{size:14})})]}),Q.jsx("div",{ref:Se,className:"flex-1 p-4 overflow-y-auto outline-none text-sm note-editor",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:Jt},ve.id)]}):Q.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[Q.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex flex-col gap-3 bg-slate-50 dark:bg-slate-900",children:[Q.jsxs("div",{className:"flex justify-between items-center",children:[Q.jsxs("h3",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider",children:["My Notes (",o.length,")"]}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsxs("label",{className:"cursor-pointer p-1.5 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",title:"Import Note",children:[Q.jsx(mpe,{size:14}),Q.jsx("input",{type:"file",className:"hidden",accept:".md,.json,.txt",onChange:ba})]}),Q.jsxs("button",{onClick:()=>$({title:"",content:"",chapterId:s.id,chapterTitle:s.title}),className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded-md text-xs font-medium hover:bg-green-700 shadow-sm transition-all",children:[Q.jsx(bN,{size:14})," New"]})]})]}),Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Search notes...",value:fe,onChange:ee=>le(ee.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),Q.jsx(rG,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})]}),Q.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3",children:[It.length===0&&Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(wN,{size:32,className:"mx-auto text-slate-300 mb-2"}),Q.jsx("p",{className:"text-sm text-slate-400",children:"No notes found"})]}),It.map(ee=>Q.jsxs("div",{onClick:()=>$(ee),className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border cursor-pointer hover:border-green-300 transition-all",children:[Q.jsxs("div",{className:"flex justify-between mb-1",children:[Q.jsx("h4",{className:"font-semibold text-sm",children:Q.jsx(V0,{text:ee.title,query:fe})}),Q.jsx("button",{onClick:Be=>{Be.stopPropagation(),d(ee.id)},children:Q.jsx(CN,{size:12,"text-slate-300":!0})})]}),Q.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:Q.jsx(V0,{text:ee.content.replace(/<[^>]+>/g," "),query:fe})})]},ee.id))]})]})}),I==="reference"&&Q.jsx("div",{className:"absolute inset-0 flex flex-col bg-white dark:bg-slate-900",children:L?Q.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-950",children:Q.jsx(q0e,{customChapter:L,variant:"side"})}):Q.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center opacity-60",children:[Q.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:Q.jsx(nG,{size:32,className:"text-slate-400"})}),Q.jsx("h3",{className:"font-medium text-slate-800 dark:text-white mb-2",children:"No Reference Document"}),Q.jsxs("p",{className:"text-sm text-slate-500 mb-6 max-w-[240px]",children:["Upload a ",Q.jsx("strong",{children:"text-based PDF"})," (e.g., papers, e-books). ",Q.jsx("br",{}),"Scanned image PDFs may not display correctly."]}),Q.jsxs("label",{className:"cursor-pointer flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Q.jsx(oY,{size:16}),Q.jsx("span",{children:"Upload PDF"}),Q.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:ba})]})]})}),I==="search"&&Q.jsxs("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:[Q.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800",children:Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Search entire book & notes...",value:k,onChange:ee=>{G(ee.target.value),ne(null)},className:"w-full pl-9 pr-4 py-2 bg-slate-100 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),Q.jsx(yU,{size:16,className:"absolute left-3 top-2.5 text-slate-400"})]})}),Q.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:k.length>1?I==="search"&&K(k).length>0?K(k).map(ee=>Q.jsxs("div",{onClick:()=>{if(ee.type==="note"){const Be=o.find(Pe=>`note-${Pe.id}`===ee.id);Be&&($(Be),T("notebook"))}else if(ee.type==="pdf")ee.pageNumber&&(z(ee.pageNumber),ne({page:ee.pageNumber,term:k}));else if(ee.type==="highlight"){if(ee.chapterId==="reference-doc"){const Be=Number(ee.pageNumber);Number.isFinite(Be)&&Be>0?z(Be):console.warn("[highlight] pageNumber missing for search result",ee.id)}else{const Be=b.findIndex(Pe=>Pe.id===ee.chapterId);Be!==-1&&C(Be)}v(ee.id.replace("hl-",""))}else{const Be=b.findIndex(Pe=>Pe.id===ee.chapterId);Be!==-1&&C(Be)}},className:"bg-white dark:bg-slate-900 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-800 cursor-pointer hover:border-blue-300 transition-all",children:[Q.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Q.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-bold ${ee.type==="chapter"?"bg-blue-100 text-blue-600":ee.type==="highlight"?"bg-yellow-100 text-yellow-600":ee.type==="pdf"?"bg-indigo-100 text-indigo-600":"bg-green-100 text-green-600"}`,children:ee.type}),Q.jsx("span",{className:"text-xs text-slate-500 font-medium truncate flex-1",children:ee.title})]}),Q.jsx("p",{className:"text-xs text-slate-600 line-clamp-2",children:Q.jsx(V0,{text:ee.contentSnippet,query:k})})]},ee.id)):Q.jsx("div",{className:"text-center py-10 opacity-50",children:Q.jsxs("p",{className:"text-sm text-slate-500",children:['No results found for "',k,'"']})}):Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(yU,{size:24,className:"mx-auto mb-2 text-slate-300"}),Q.jsx("p",{className:"text-sm text-slate-400",children:"Type at least 2 characters to search"})]})})]})]})]})},SCe=()=>{const[n,e]=F.useState(!0),[t,r]=F.useState(!1),{isToolsOpen:i,setToolsOpen:s,registerPdfNavigator:a,setCurrentPdfPage:o,setPdfTotalPages:l}=tf(),[u,d]=F.useState(0),[h,g]=F.useState(1),v=F.useRef(),C=n||i,b=typeof navigator<"u"&&navigator.userAgent||"",B=F.useMemo(()=>typeof window>"u"?!1:/Mobi|Android|iP(hone|od|ad)/i.test(b)||window.innerWidth<=1300,[b]),S=!C&&!B?2:1,I=F.useCallback(V=>{g(V),o(V)},[o]),T=F.useCallback(V=>{d(V),l(V)},[]),R=F.useCallback(V=>{v.current=V,a(V)},[a]),[M,D]=F.useState(300),[L,H]=F.useState(350),[k,G]=F.useState(!1),[K,z]=F.useState(!1),J=F.useRef(null);F.useEffect(()=>{const V=()=>{const q=window.innerWidth<=1300;r(q),q?(e(!1),s(!0)):(e(!0),s(!0))};return V(),window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[s]),F.useEffect(()=>{t&&i&&e(!1)},[i,t]),F.useEffect(()=>{const V=te=>{if(!J.current)return;(k||K)&&te.preventDefault();const he=J.current.getBoundingClientRect();if(k){const ve=te.clientX-he.left;ve>200&&ve<500&&D(ve)}if(K){const ve=he.right-te.clientX;ve>280&&ve<600&&H(ve)}},q=()=>{G(!1),z(!1),document.body.style.cursor="default",document.body.style.userSelect="auto"};return(k||K)&&(document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",V),window.addEventListener("mouseup",q)),()=>{window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",q),document.body.style.cursor="default",document.body.style.userSelect="auto"}},[k,K]);const ne=()=>{if(t){const V=!n;e(V),V&&s(!1);return}e(!n)},oe=(()=>{const V="https://d19t5saodanwfx.cloudfront.net/resources/contents/prod/cms/book/20240923/CT-20240923150969799/source/CT-20240923150969799_source_1727071793874.pdf",q=V,te="/campusbook-viewer-ai/";if(/^https?:\/\//i.test(V))return V;const he=te.endsWith("/")?te:`${te}/`,ve=q.replace(/^\/+/,""),$=`${he}${ve}`;if(typeof window<"u"){const Y=window.location.hostname||"",Ae=Y.toLowerCase().endsWith("github.io"),me=Ae?Y.split(".")[0]:"",re=he.replace(/^\/+|\/+$/g,"");if(Ae&&me&&re){const fe="main",le=ve.startsWith("public/")?ve:`public/${ve}`;return`https://media.githubusercontent.com/media/${me}/${re}/${fe}/${le}`}}return $})();return Q.jsxs("div",{className:"layout_container",children:[Q.jsx(uY,{toggleSidebar:ne,isSidebarOpen:n}),Q.jsxs("div",{ref:J,className:"split_container",children:[Q.jsx("aside",{className:`left_side_wrap ${n?"on":"off"}`,style:{width:n?window.innerWidth<768?"0px":`${M}px`:"0px"},children:Q.jsx(ECe,{isOpen:n,onClose:()=>e(!1)})}),Q.jsxs("main",{className:"content_container",children:[Q.jsx("div",{className:"cc_top",children:Q.jsx(cCe,{file:oe,onPageChange:I,onPagesCount:T,registerGoToPage:R,forceSinglePage:C})}),Q.jsx("div",{className:"cc_bottom",children:Q.jsx(j0e,{pdfPageCount:u,pdfCurrentPage:h,onPdfGoToPage:V=>{var q;return(q=v.current)==null?void 0:q.call(v,V)},pdfPageStep:S})})]}),Q.jsx("aside",{className:`right_panel_wrap ${i?"on":"off"}`,style:{width:i?window.innerWidth<768?"0px":`${L}px`:"0px"},children:Q.jsx(BCe,{isOpen:i,onClose:()=>s(!1)})})]})]})};function m9(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=m9(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Nn(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=m9(n))&&(r&&(r+=" "),r+=e);return r}var xCe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function hk(n){if(typeof n!="string")return!1;var e=xCe;return e.includes(n)}var _Ce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],TCe=new Set(_Ce);function v9(n){return typeof n!="string"?!1:TCe.has(n)}function y9(n){return typeof n=="string"&&n.startsWith("data-")}function Yd(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(v9(t)||y9(t))&&(e[t]=n[t]);return e}function pk(n){if(n==null)return null;if(F.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return Yd(e)}return typeof n=="object"&&!Array.isArray(n)?Yd(n):null}function uo(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(v9(t)||y9(t)||hk(t))&&(e[t]=n[t]);return e}var ICe=["children","width","height","viewBox","className","style","title","desc"];function FL(){return FL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},FL.apply(null,arguments)}function FCe(n,e){if(n==null)return{};var t,r,i=MCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function MCe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var w9=F.forwardRef((n,e)=>{var{children:t,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:u}=n,d=FCe(n,ICe),h=s||{width:r,height:i,x:0,y:0},g=Nn("recharts-surface",a);return F.createElement("svg",FL({},uo(d),{className:g,width:r,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),F.createElement("title",null,l),F.createElement("desc",null,u),t)}),UCe=["children","className"];function ML(){return ML=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ML.apply(null,arguments)}function PCe(n,e){if(n==null)return{};var t,r,i=RCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function RCe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var _u=F.forwardRef((n,e)=>{var{children:t,className:r}=n,i=PCe(n,UCe),s=Nn("recharts-layer",r);return F.createElement("g",ML({className:s},uo(i),{ref:e}),t)}),DCe=F.createContext(null);function Tn(n){return function(){return n}}const b9=Math.cos,xT=Math.sin,qo=Math.sqrt,_T=Math.PI,AI=2*_T,UL=Math.PI,PL=2*UL,Pf=1e-6,NCe=PL-Pf;function C9(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function LCe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return C9;const t=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}class QCe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?C9:LCe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,s,a){this._append`C${+e},${+t},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,r,i,s){if(e=+e,t=+t,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,u=i-t,d=a-e,h=o-t,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>Pf)if(!(Math.abs(h*l-u*d)>Pf)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let v=r-a,C=i-o,b=l*l+u*u,B=v*v+C*C,S=Math.sqrt(b),I=Math.sqrt(g),T=s*Math.tan((UL-Math.acos((b+g-B)/(2*S*I)))/2),R=T/I,M=T/S;Math.abs(R-1)>Pf&&this._append`L${e+R*d},${t+R*h}`,this._append`A${s},${s},0,0,${+(h*v>d*C)},${this._x1=e+M*l},${this._y1=t+M*u}`}}arc(e,t,r,i,s,a){if(e=+e,t=+t,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,d=t+l,h=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Pf||Math.abs(this._y1-d)>Pf)&&this._append`L${u},${d}`,r&&(g<0&&(g=g%PL+PL),g>NCe?this._append`A${r},${r},0,1,${h},${e-o},${t-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:g>Pf&&this._append`A${r},${r},0,${+(g>=UL)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function gk(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new QCe(e)}function mk(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function E9(n){this._context=n}E9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function lI(n){return new E9(n)}function B9(n){return n[0]}function S9(n){return n[1]}function x9(n,e){var t=Tn(!0),r=null,i=lI,s=null,a=gk(o);n=typeof n=="function"?n:n===void 0?B9:Tn(n),e=typeof e=="function"?e:e===void 0?S9:Tn(e);function o(l){var u,d=(l=mk(l)).length,h,g=!1,v;for(r==null&&(s=i(v=a())),u=0;u<=d;++u)!(u<d&&t(h=l[u],u,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(h,u,l),+e(h,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:Tn(+l),o):n},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Tn(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:Tn(!!l),o):t},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function Sx(n,e,t){var r=null,i=Tn(!0),s=null,a=lI,o=null,l=gk(u);n=typeof n=="function"?n:n===void 0?B9:Tn(+n),e=typeof e=="function"?e:Tn(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?S9:Tn(+t);function u(h){var g,v,C,b=(h=mk(h)).length,B,S=!1,I,T=new Array(b),R=new Array(b);for(s==null&&(o=a(I=l())),g=0;g<=b;++g){if(!(g<b&&i(B=h[g],g,h))===S)if(S=!S)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),C=g-1;C>=v;--C)o.point(T[C],R[C]);o.lineEnd(),o.areaEnd()}S&&(T[g]=+n(B,g,h),R[g]=+e(B,g,h),o.point(r?+r(B,g,h):T[g],t?+t(B,g,h):R[g]))}if(I)return o=null,I+""||null}function d(){return x9().defined(i).curve(a).context(s)}return u.x=function(h){return arguments.length?(n=typeof h=="function"?h:Tn(+h),r=null,u):n},u.x0=function(h){return arguments.length?(n=typeof h=="function"?h:Tn(+h),u):n},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Tn(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Tn(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Tn(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:Tn(+h),u):t},u.lineX0=u.lineY0=function(){return d().x(n).y(e)},u.lineY1=function(){return d().x(n).y(t)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Tn(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class _9{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function kCe(n){return new _9(n,!0)}function OCe(n){return new _9(n,!1)}const vk={draw(n,e){const t=qo(e/_T);n.moveTo(t,0),n.arc(0,0,t,0,AI)}},HCe={draw(n,e){const t=qo(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},T9=qo(1/3),VCe=T9*2,KCe={draw(n,e){const t=qo(e/VCe),r=t*T9;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},GCe={draw(n,e){const t=qo(e),r=-t/2;n.rect(r,r,t,t)}},zCe=.8908130915292852,I9=xT(_T/10)/xT(7*_T/10),$Ce=xT(AI/10)*I9,qCe=-b9(AI/10)*I9,jCe={draw(n,e){const t=qo(e*zCe),r=$Ce*t,i=qCe*t;n.moveTo(0,-t),n.lineTo(r,i);for(let s=1;s<5;++s){const a=AI*s/5,o=b9(a),l=xT(a);n.lineTo(l*t,-o*t),n.lineTo(o*r-l*i,l*r+o*i)}n.closePath()}},WU=qo(3),WCe={draw(n,e){const t=-qo(e/(WU*3));n.moveTo(0,t*2),n.lineTo(-WU*t,-t),n.lineTo(WU*t,-t),n.closePath()}},Da=-.5,Na=qo(3)/2,RL=1/qo(12),YCe=(RL/2+1)*3,XCe={draw(n,e){const t=qo(e/YCe),r=t/2,i=t*RL,s=r,a=t*RL+t,o=-s,l=a;n.moveTo(r,i),n.lineTo(s,a),n.lineTo(o,l),n.lineTo(Da*r-Na*i,Na*r+Da*i),n.lineTo(Da*s-Na*a,Na*s+Da*a),n.lineTo(Da*o-Na*l,Na*o+Da*l),n.lineTo(Da*r+Na*i,Da*i-Na*r),n.lineTo(Da*s+Na*a,Da*a-Na*s),n.lineTo(Da*o+Na*l,Da*l-Na*o),n.closePath()}};function JCe(n,e){let t=null,r=gk(i);n=typeof n=="function"?n:Tn(n||vk),e=typeof e=="function"?e:Tn(e===void 0?64:+e);function i(){let s;if(t||(t=s=r()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return i.type=function(s){return arguments.length?(n=typeof s=="function"?s:Tn(s),i):n},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Tn(+s),i):e},i.context=function(s){return arguments.length?(t=s??null,i):t},i}function TT(){}function IT(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function F9(n){this._context=n}F9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:IT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:IT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function ZCe(n){return new F9(n)}function M9(n){this._context=n}M9.prototype={areaStart:TT,areaEnd:TT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:IT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function eEe(n){return new M9(n)}function U9(n){this._context=n}U9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:IT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function tEe(n){return new U9(n)}function P9(n){this._context=n}P9.prototype={areaStart:TT,areaEnd:TT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function nEe(n){return new P9(n)}function Oz(n){return n<0?-1:1}function Hz(n,e,t){var r=n._x1-n._x0,i=e-n._x1,s=(n._y1-n._y0)/(r||i<0&&-0),a=(t-n._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(Oz(s)+Oz(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Vz(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function YU(n,e,t){var r=n._x0,i=n._y0,s=n._x1,a=n._y1,o=(s-r)/3;n._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*t,s,a)}function FT(n){this._context=n}FT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:YU(this,this._t0,Vz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,YU(this,Vz(this,t=Hz(this,n,e)),t);break;default:YU(this,this._t0,t=Hz(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function R9(n){this._context=new D9(n)}(R9.prototype=Object.create(FT.prototype)).point=function(n,e){FT.prototype.point.call(this,e,n)};function D9(n){this._context=n}D9.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,s){this._context.bezierCurveTo(e,n,r,t,s,i)}};function rEe(n){return new FT(n)}function iEe(n){return new R9(n)}function N9(n){this._context=n}N9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var r=Kz(n),i=Kz(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],n[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function Kz(n){var e,t=n.length-1,r,i=new Array(t),s=new Array(t),a=new Array(t);for(i[0]=0,s[0]=2,a[0]=n[0]+2*n[1],e=1;e<t-1;++e)i[e]=1,s[e]=4,a[e]=4*n[e]+2*n[e+1];for(i[t-1]=2,s[t-1]=7,a[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[t-1]=(n[t]+i[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-i[e+1];return[i,s]}function sEe(n){return new N9(n)}function uI(n,e){this._context=n,this._t=e}uI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function aEe(n){return new uI(n,.5)}function oEe(n){return new uI(n,0)}function AEe(n){return new uI(n,1)}function cy(n,e){if((a=n.length)>1)for(var t=1,r,i,s=n[e[0]],a,o=s.length;t<a;++t)for(i=s,s=n[e[t]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function DL(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function lEe(n,e){return n[e]}function uEe(n){const e=[];return e.key=n,e}function cEe(){var n=Tn([]),e=DL,t=cy,r=lEe;function i(s){var a=Array.from(n.apply(this,arguments),uEe),o,l=a.length,u=-1,d;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+r(h,a[o].key,u,s)]).data=h;for(o=0,d=mk(e(a));o<l;++o)a[d[o]].index=o;return t(a,d),a}return i.keys=function(s){return arguments.length?(n=typeof s=="function"?s:Tn(Array.from(s)),i):n},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Tn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?DL:typeof s=="function"?s:Tn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(t=s??cy,i):t},i}function dEe(n,e){if((r=n.length)>0){for(var t,r,i=0,s=n[0].length,a;i<s;++i){for(a=t=0;t<r;++t)a+=n[t][i][1]||0;if(a)for(t=0;t<r;++t)n[t][i][1]/=a}cy(n,e)}}function fEe(n,e){if((i=n.length)>0){for(var t=0,r=n[e[0]],i,s=r.length;t<s;++t){for(var a=0,o=0;a<i;++a)o+=n[a][t][1]||0;r[t][1]+=r[t][0]=-o/2}cy(n,e)}}function hEe(n,e){if(!(!((a=n.length)>0)||!((s=(i=n[e[0]]).length)>0))){for(var t=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,u=0;o<a;++o){for(var d=n[e[o]],h=d[r][1]||0,g=d[r-1][1]||0,v=(h-g)/2,C=0;C<o;++C){var b=n[e[C]],B=b[r][1]||0,S=b[r-1][1]||0;v+=B-S}l+=h,u+=v*h}i[r-1][1]+=i[r-1][0]=t,l&&(t-=u/l)}i[r-1][1]+=i[r-1][0]=t,cy(n,e)}}var XU={},JU={},Gz;function pEe(){return Gz||(Gz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(JU)),JU}var ZU={},zz;function L9(){return zz||(zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(ZU)),ZU}var eP={},$z;function yk(){return $z||($z=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var r;return typeof t=="string"||typeof t=="symbol"?t:Object.is((r=t==null?void 0:t.valueOf)==null?void 0:r.call(t),-0)?"-0":String(t)}n.toKey=e})(eP)),eP}var tP={},nP={},qz;function gEe(){return qz||(qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return r==="0"&&Object.is(Number(t),-0)?"-0":r}n.toString=e})(nP)),nP}var jz;function wk(){return jz||(jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=gEe(),t=yk();function r(i){if(Array.isArray(i))return i.map(t.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const h=i[o];u?h==="\\"&&o+1<a?(o++,l+=i[o]):h===u?u="":l+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,s.push(l),l=""):l+=h:h==="["?(d=!0,l&&(s.push(l),l="")):h==="."?l&&(s.push(l),l=""):l+=h,o++}return l&&s.push(l),s}n.toPath=r})(tP)),tP}var Wz;function bk(){return Wz||(Wz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=pEe(),t=L9(),r=yk(),i=wk();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?t.isDeepKey(l)?s(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return u;d=d[l[h]]}return d===void 0?u:d}n.get=s})(XU)),XU}var rP,Yz;function mEe(){return Yz||(Yz=1,rP=bk().get),rP}var vEe=mEe();const dy=OA(vEe);var fa=n=>n===0?0:n>0?1:-1,DA=n=>typeof n=="number"&&n!=+n,Tu=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,Je=n=>(typeof n=="number"||n instanceof Number)&&!DA(n),NA=n=>Je(n)||typeof n=="string",yEe=0,rb=n=>{var e=++yEe;return"".concat(n||"").concat(e)},Ho=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(e)&&typeof e!="string")return r;var s;if(Tu(e)){if(t==null)return r;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return DA(s)&&(s=r),i&&t!=null&&s>t&&(s=t),s},Q9=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},r=0;r<e;r++)if(!t[n[r]])t[n[r]]=!0;else return!0;return!1};function Bi(n,e,t){return Je(n)&&Je(e)?n+t*(e-n):e}function wEe(n,e,t){if(!(!n||!n.length))return n.find(r=>r&&(typeof e=="function"?e(r):dy(r,e))===t)}var oi=n=>n===null||typeof n>"u",rB=n=>oi(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function bEe(n){return n!=null}function iB(){}var CEe=["type","size","sizeType"];function NL(){return NL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},NL.apply(null,arguments)}function Xz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Jz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xz(Object(t),!0).forEach(function(r){EEe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Xz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function EEe(n,e,t){return(e=BEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BEe(n){var e=SEe(n,"string");return typeof e=="symbol"?e:e+""}function SEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function xEe(n,e){if(n==null)return{};var t,r,i=_Ee(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function _Ee(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var k9={symbolCircle:vk,symbolCross:HCe,symbolDiamond:KCe,symbolSquare:GCe,symbolStar:jCe,symbolTriangle:WCe,symbolWye:XCe},TEe=Math.PI/180,IEe=n=>{var e="symbol".concat(rB(n));return k9[e]||vk},FEe=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var r=18*TEe;return 1.25*n*n*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},MEe=(n,e)=>{k9["symbol".concat(rB(n))]=e},O9=n=>{var{type:e="circle",size:t=64,sizeType:r="area"}=n,i=xEe(n,CEe),s=Jz(Jz({},i),{},{type:e,size:t,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=IEe(a),v=JCe().type(g).size(FEe(t,r,a)),C=v();if(C!==null)return C},{className:l,cx:u,cy:d}=s,h=uo(s);return Je(u)&&Je(d)&&Je(t)?F.createElement("path",NL({},h,{className:Nn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};O9.registerSymbol=MEe;var H9=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,UEe=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(F.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var r={};return Object.keys(t).forEach(i=>{hk(i)&&(r[i]=(s=>t[i](t,s)))}),r},PEe=(n,e,t)=>r=>(n(e,t,r),null),Ck=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var r=null;return Object.keys(n).forEach(i=>{var s=n[i];hk(i)&&typeof s=="function"&&(r||(r={}),r[i]=PEe(s,e,t))}),r};function Zz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function REe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zz(Object(t),!0).forEach(function(r){DEe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Zz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function DEe(n,e,t){return(e=NEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NEe(n){var e=LEe(n,"string");return typeof e=="symbol"?e:e+""}function LEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ho(n,e){var t=REe({},n),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),t);return s}var iP={},sP={},e5;function QEe(){return e5||(e5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){const i=new Map;for(let s=0;s<t.length;s++){const a=t[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}n.uniqBy=e})(sP)),sP}var aP={},t5;function V9(){return t5||(t5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(aP)),aP}var oP={},AP={},lP={},n5;function kEe(){return n5||(n5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(lP)),lP}var r5;function Ek(){return r5||(r5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=kEe();function t(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}n.isArrayLike=t})(AP)),AP}var uP={},i5;function OEe(){return i5||(i5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(uP)),uP}var s5;function HEe(){return s5||(s5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Ek(),t=OEe();function r(i){return t.isObjectLike(i)&&e.isArrayLike(i)}n.isArrayLikeObject=r})(oP)),oP}var cP={},dP={},a5;function VEe(){return a5||(a5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=bk();function t(r){return function(i){return e.get(i,r)}}n.property=t})(dP)),dP}var fP={},hP={},pP={},gP={},o5;function K9(){return o5||(o5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(gP)),gP}var mP={},A5;function G9(){return A5||(A5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(mP)),mP}var vP={},l5;function z9(){return l5||(l5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){return t===r||Number.isNaN(t)&&Number.isNaN(r)}n.eq=e})(vP)),vP}var u5;function KEe(){return u5||(u5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=K9(),t=G9(),r=z9();function i(d,h,g){return typeof g!="function"?i(d,h,()=>{}):s(d,h,function v(C,b,B,S,I,T){const R=g(C,b,B,S,I,T);return R!==void 0?!!R:s(C,b,v,T)},new Map)}function s(d,h,g,v){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,g,v);case"function":return Object.keys(h).length>0?s(d,{...h},g,v):r.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:r.eq(d,h)}}function a(d,h,g,v){if(h==null)return!0;if(Array.isArray(h))return l(d,h,g,v);if(h instanceof Map)return o(d,h,g,v);if(h instanceof Set)return u(d,h,g,v);const C=Object.keys(h);if(d==null)return C.length===0;if(C.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===d;v==null||v.set(h,d);try{for(let b=0;b<C.length;b++){const B=C[b];if(!t.isPrimitive(d)&&!(B in d)||h[B]===void 0&&d[B]!==void 0||h[B]===null&&d[B]!==null||!g(d[B],h[B],B,d,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function o(d,h,g,v){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[C,b]of h.entries()){const B=d.get(C);if(g(B,b,C,d,h,v)===!1)return!1}return!0}function l(d,h,g,v){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const C=new Set;for(let b=0;b<h.length;b++){const B=h[b];let S=!1;for(let I=0;I<d.length;I++){if(C.has(I))continue;const T=d[I];let R=!1;if(g(T,B,b,d,h,v)&&(R=!0),R){C.add(I),S=!0;break}}if(!S)return!1}return!0}function u(d,h,g,v){return h.size===0?!0:d instanceof Set?l([...d],[...h],g,v):!1}n.isMatchWith=i,n.isSetMatch=u})(pP)),pP}var c5;function $9(){return c5||(c5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=KEe();function t(r,i){return e.isMatchWith(r,i,()=>{})}n.isMatch=t})(hP)),hP}var yP={},wP={},bP={},d5;function GEe(){return d5||(d5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(r=>Object.prototype.propertyIsEnumerable.call(t,r))}n.getSymbols=e})(bP)),bP}var CP={},f5;function q9(){return f5||(f5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(CP)),CP}var EP={},h5;function j9(){return h5||(h5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",C="[object Error]",b="[object DataView]",B="[object Uint8Array]",S="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]",R="[object BigUint64Array]",M="[object Int8Array]",D="[object Int16Array]",L="[object Int32Array]",H="[object BigInt64Array]",k="[object Float32Array]",G="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=d,n.bigInt64ArrayTag=H,n.bigUint64ArrayTag=R,n.booleanTag=i,n.dataViewTag=b,n.dateTag=o,n.errorTag=C,n.float32ArrayTag=k,n.float64ArrayTag=G,n.functionTag=h,n.int16ArrayTag=D,n.int32ArrayTag=L,n.int8ArrayTag=M,n.mapTag=l,n.numberTag=r,n.objectTag=v,n.regexpTag=e,n.setTag=u,n.stringTag=t,n.symbolTag=a,n.uint16ArrayTag=I,n.uint32ArrayTag=T,n.uint8ArrayTag=B,n.uint8ClampedArrayTag=S})(EP)),EP}var BP={},p5;function zEe(){return p5||(p5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(BP)),BP}var g5;function W9(){return g5||(g5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=GEe(),t=q9(),r=j9(),i=G9(),s=zEe();function a(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,g,v=new Map,C=void 0){const b=C==null?void 0:C(d,h,g,v);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const B=new Array(d.length);v.set(d,B);for(let S=0;S<d.length;S++)B[S]=o(d[S],S,g,v,C);return Object.hasOwn(d,"index")&&(B.index=d.index),Object.hasOwn(d,"input")&&(B.input=d.input),B}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const B=new RegExp(d.source,d.flags);return B.lastIndex=d.lastIndex,B}if(d instanceof Map){const B=new Map;v.set(d,B);for(const[S,I]of d)B.set(S,o(I,S,g,v,C));return B}if(d instanceof Set){const B=new Set;v.set(d,B);for(const S of d)B.add(o(S,void 0,g,v,C));return B}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const B=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,B);for(let S=0;S<d.length;S++)B[S]=o(d[S],S,g,v,C);return B}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const B=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,B),l(B,d,g,v,C),B}if(typeof File<"u"&&d instanceof File){const B=new File([d],d.name,{type:d.type});return v.set(d,B),l(B,d,g,v,C),B}if(typeof Blob<"u"&&d instanceof Blob){const B=new Blob([d],{type:d.type});return v.set(d,B),l(B,d,g,v,C),B}if(d instanceof Error){const B=new d.constructor;return v.set(d,B),B.message=d.message,B.name=d.name,B.stack=d.stack,B.cause=d.cause,l(B,d,g,v,C),B}if(d instanceof Boolean){const B=new Boolean(d.valueOf());return v.set(d,B),l(B,d,g,v,C),B}if(d instanceof Number){const B=new Number(d.valueOf());return v.set(d,B),l(B,d,g,v,C),B}if(d instanceof String){const B=new String(d.valueOf());return v.set(d,B),l(B,d,g,v,C),B}if(typeof d=="object"&&u(d)){const B=Object.create(Object.getPrototypeOf(d));return v.set(d,B),l(B,d,g,v,C),B}return d}function l(d,h,g=d,v,C){const b=[...Object.keys(h),...e.getSymbols(h)];for(let B=0;B<b.length;B++){const S=b[B],I=Object.getOwnPropertyDescriptor(d,S);(I==null||I.writable)&&(d[S]=o(h[S],S,g,v,C))}}function u(d){switch(t.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=a,n.cloneDeepWithImpl=o,n.copyProperties=l})(wP)),wP}var m5;function $Ee(){return m5||(m5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=W9();function t(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}n.cloneDeep=t})(yP)),yP}var v5;function qEe(){return v5||(v5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=$9(),t=$Ee();function r(i){return i=t.cloneDeep(i),s=>e.isMatch(s,i)}n.matches=r})(fP)),fP}var SP={},xP={},_P={},y5;function jEe(){return y5||(y5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=W9(),t=j9();function r(i,s){return e.cloneDeepWith(i,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case t.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}n.cloneDeepWith=r})(_P)),_P}var w5;function WEe(){return w5||(w5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=jEe();function t(r){return e.cloneDeepWith(r)}n.cloneDeep=t})(xP)),xP}var TP={},IP={},b5;function Y9(){return b5||(b5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}n.isIndex=t})(IP)),IP}var FP={},C5;function YEe(){return C5||(C5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=q9();function t(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}n.isArguments=t})(FP)),FP}var E5;function XEe(){return E5||(E5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=L9(),t=Y9(),r=YEe(),i=wk();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const h=l[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||r.isArguments(u))&&t.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}n.has=s})(TP)),TP}var B5;function JEe(){return B5||(B5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=$9(),t=yk(),r=WEe(),i=bk(),s=XEe();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return l=r.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}n.matchesProperty=a})(SP)),SP}var S5;function ZEe(){return S5||(S5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=V9(),t=VEe(),r=qEe(),i=JEe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return t.property(a)}}n.iteratee=s})(cP)),cP}var x5;function eBe(){return x5||(x5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=QEe(),t=V9(),r=HEe(),i=ZEe();function s(a,o=t.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}n.uniqBy=s})(iP)),iP}var MP,_5;function tBe(){return _5||(_5=1,MP=eBe().uniqBy),MP}var nBe=tBe();const T5=OA(nBe);function rBe(n,e,t){return e===!0?T5(n,t):typeof e=="function"?T5(n,e):n}var UP={exports:{}},PP={},RP={exports:{}},DP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I5;function iBe(){if(I5)return DP;I5=1;var n=By();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(h,g){var v=g(),C=r({inst:{value:v,getSnapshot:g}}),b=C[0].inst,B=C[1];return s(function(){b.value=v,b.getSnapshot=g,l(b)&&B({inst:b})},[h,v,g]),i(function(){return l(b)&&B({inst:b}),h(function(){l(b)&&B({inst:b})})},[h]),a(v),v}function l(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!t(h,v)}catch{return!0}}function u(h,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return DP.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,DP}var F5;function sBe(){return F5||(F5=1,RP.exports=iBe()),RP.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M5;function aBe(){if(M5)return PP;M5=1;var n=By(),e=sBe();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return PP.useSyncExternalStoreWithSelector=function(u,d,h,g,v){var C=s(null);if(C.current===null){var b={hasValue:!1,value:null};C.current=b}else b=C.current;C=o(function(){function S(D){if(!I){if(I=!0,T=D,D=g(D),v!==void 0&&b.hasValue){var L=b.value;if(v(L,D))return R=L}return R=D}if(L=R,r(T,D))return L;var H=g(D);return v!==void 0&&v(L,H)?(T=D,L):(T=D,R=H)}var I=!1,T,R,M=h===void 0?null:h;return[function(){return S(d())},M===null?void 0:function(){return S(M())}]},[d,h,g,v]);var B=i(u,C[0],C[1]);return a(function(){b.hasValue=!0,b.value=B},[B]),l(B),B},PP}var U5;function oBe(){return U5||(U5=1,UP.exports=aBe()),UP.exports}var ABe=oBe(),Bk=F.createContext(null),lBe=n=>n,yr=()=>{var n=F.useContext(Bk);return n?n.store.dispatch:lBe},z_=()=>{},uBe=()=>z_,cBe=(n,e)=>n===e;function Ye(n){var e=F.useContext(Bk);return ABe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:uBe,e?e.store.getState:z_,e?e.store.getState:z_,e?n:z_,cBe)}function dBe(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function fBe(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function hBe(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${t}]`)}}var P5=n=>Array.isArray(n)?n:[n];function pBe(n){const e=Array.isArray(n[0])?n[0]:n;return hBe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function gBe(n,e){const t=[],{length:r}=n;for(let i=0;i<r;i++)t.push(n[i].apply(null,e));return t}var mBe=class{constructor(n){this.value=n}deref(){return this.value}},vBe=typeof WeakRef<"u"?WeakRef:mBe,yBe=0,R5=1;function xx(){return{s:yBe,v:void 0,o:null,p:null}}function X9(n,e={}){let t=xx();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var h;let o=t;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const C=arguments[g];if(typeof C=="function"||typeof C=="object"&&C!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const B=b.get(C);B===void 0?(o=xx(),b.set(C,o)):o=B}else{let b=o.p;b===null&&(o.p=b=new Map);const B=b.get(C);B===void 0?(o=xx(),b.set(C,o)):o=B}}const u=o;let d;if(o.s===R5)d=o.v;else if(d=n.apply(null,arguments),s++,r){const g=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;g!=null&&r(g,d)&&(d=g,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new vBe(d):d}return u.s=R5,u.v=d,d}return a.clearCache=()=>{t=xx(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function wBe(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,r=(...i)=>{let s=0,a=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),dBe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...t,...l},{memoize:h,memoizeOptions:g=[],argsMemoize:v=X9,argsMemoizeOptions:C=[]}=d,b=P5(g),B=P5(C),S=pBe(i),I=h(function(){return s++,u.apply(null,arguments)},...b),T=v(function(){a++;const M=gBe(S,arguments);return o=I.apply(null,M),o},...B);return Object.assign(T,{resultFunc:u,memoizedResultFunc:I,dependencies:S,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var ce=wBe(X9),bBe=Object.assign((n,e=ce)=>{fBe(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),r=t.map(s=>n[s]);return e(r,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>bBe}),NP={},LP={},QP={},D5;function CBe(){return D5||(D5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const t=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};n.compareValues=t})(QP)),QP}var kP={},OP={},N5;function J9(){return N5||(N5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(OP)),OP}var L5;function EBe(){return L5||(L5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=J9(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!t.test(s))||a!=null&&Object.hasOwn(a,s)}n.isKey=i})(kP)),kP}var Q5;function BBe(){return Q5||(Q5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=CBe(),t=EBe(),r=wk();function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const u=(v,C)=>{let b=v;for(let B=0;B<C.length&&b!=null;++B)b=b[C[B]];return b},d=(v,C)=>C==null||v==null?C:typeof v=="object"&&"key"in v?Object.hasOwn(C,v.key)?C[v.key]:u(C,v.path):typeof v=="function"?v(C):Array.isArray(v)?u(C,v):typeof C=="object"?C[v]:C,h=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||t.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:h.map(C=>d(C,v))})).slice().sort((v,C)=>{for(let b=0;b<h.length;b++){const B=e.compareValues(v.criteria[b],C.criteria[b],o[b]);if(B!==0)return B}return 0}).map(v=>v.original)}n.orderBy=i})(LP)),LP}var HP={},k5;function SBe(){return k5||(k5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):i.push(d)}};return a(t,0),i}n.flatten=e})(HP)),HP}var VP={},O5;function Z9(){return O5||(O5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Y9(),t=Ek(),r=K9(),i=z9();function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&t.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}n.isIterateeCall=s})(VP)),VP}var H5;function xBe(){return H5||(H5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=BBe(),t=SBe(),r=Z9();function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,t.flatten(a),["asc"])}n.sortBy=i})(NP)),NP}var KP,V5;function _Be(){return V5||(V5=1,KP=xBe().sortBy),KP}var TBe=_Be();const cI=OA(TBe);var eJ=n=>n.legend.settings,IBe=n=>n.legend.size,FBe=n=>n.legend.payload;ce([FBe,eJ],(n,e)=>{var{itemSorter:t}=e,r=n.flat(1);return t?cI(r,t):r});var _x=1;function MBe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=F.useState({height:0,left:0,top:0,width:0}),r=F.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>_x||Math.abs(a.left-e.left)>_x||Math.abs(a.top-e.top)>_x||Math.abs(a.width-e.width)>_x)&&t({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,r]}function wi(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var UBe=typeof Symbol=="function"&&Symbol.observable||"@@observable",K5=UBe,GP=()=>Math.random().toString(36).substring(7).split("").join("."),PBe={INIT:`@@redux/INIT${GP()}`,REPLACE:`@@redux/REPLACE${GP()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${GP()}`},MT=PBe;function Sk(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function tJ(n,e,t){if(typeof n!="function")throw new Error(wi(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(wi(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(wi(1));return t(tJ)(n,e)}let r=n,i=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((B,S)=>{a.set(S,B)}))}function d(){if(l)throw new Error(wi(3));return i}function h(B){if(typeof B!="function")throw new Error(wi(4));if(l)throw new Error(wi(5));let S=!0;u();const I=o++;return a.set(I,B),function(){if(S){if(l)throw new Error(wi(6));S=!1,u(),a.delete(I),s=null}}}function g(B){if(!Sk(B))throw new Error(wi(7));if(typeof B.type>"u")throw new Error(wi(8));if(typeof B.type!="string")throw new Error(wi(17));if(l)throw new Error(wi(9));try{l=!0,i=r(i,B)}finally{l=!1}return(s=a).forEach(I=>{I()}),B}function v(B){if(typeof B!="function")throw new Error(wi(10));r=B,g({type:MT.REPLACE})}function C(){const B=h;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(wi(11));function I(){const R=S;R.next&&R.next(d())}return I(),{unsubscribe:B(I)}},[K5](){return this}}}return g({type:MT.INIT}),{dispatch:g,subscribe:h,getState:d,replaceReducer:v,[K5]:C}}function RBe(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:MT.INIT})>"u")throw new Error(wi(12));if(typeof t(void 0,{type:MT.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wi(13))})}function nJ(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof n[a]=="function"&&(t[a]=n[a])}const r=Object.keys(t);let i;try{RBe(t)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],g=t[h],v=a[h],C=g(v,o);if(typeof C>"u")throw o&&o.type,new Error(wi(14));u[h]=C,l=l||C!==v}return l=l||r.length!==Object.keys(a).length,l?u:a}}function UT(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function DBe(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(wi(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=n.map(l=>l(a));return s=UT(...o)(i.dispatch),{...i,dispatch:s}}}function rJ(n){return Sk(n)&&"type"in n&&typeof n.type=="string"}var iJ=Symbol.for("immer-nothing"),G5=Symbol.for("immer-draftable"),as=Symbol.for("immer-state");function No(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ha=Object,fy=ha.getPrototypeOf,PT="constructor",dI="prototype",LL="configurable",RT="enumerable",$_="writable",ib="value",Iu=n=>!!n&&!!n[as];function Vo(n){var e;return n?sJ(n)||fI(n)||!!n[G5]||!!((e=n[PT])!=null&&e[G5])||hI(n)||pI(n):!1}var NBe=ha[dI][PT].toString(),z5=new WeakMap;function sJ(n){if(!n||!xk(n))return!1;const e=fy(n);if(e===null||e===ha[dI])return!0;const t=ha.hasOwnProperty.call(e,PT)&&e[PT];if(t===Object)return!0;if(!Gg(t))return!1;let r=z5.get(t);return r===void 0&&(r=Function.toString.call(t),z5.set(t,r)),r===NBe}function sB(n,e,t=!0){aB(n)===0?(t?Reflect.ownKeys(n):ha.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function aB(n){const e=n[as];return e?e.type_:fI(n)?1:hI(n)?2:pI(n)?3:0}var $5=(n,e,t=aB(n))=>t===2?n.has(e):ha[dI].hasOwnProperty.call(n,e),QL=(n,e,t=aB(n))=>t===2?n.get(e):n[e],DT=(n,e,t,r=aB(n))=>{r===2?n.set(e,t):r===3?n.add(t):n[e]=t};function LBe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var fI=Array.isArray,hI=n=>n instanceof Map,pI=n=>n instanceof Set,xk=n=>typeof n=="object",Gg=n=>typeof n=="function",zP=n=>typeof n=="boolean",vl=n=>n.copy_||n.base_,_k=n=>n.modified_?n.copy_:n.base_;function kL(n,e){if(hI(n))return new Map(n);if(pI(n))return new Set(n);if(fI(n))return Array[dI].slice.call(n);const t=sJ(n);if(e===!0||e==="class_only"&&!t){const r=ha.getOwnPropertyDescriptors(n);delete r[as];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o[$_]===!1&&(o[$_]=!0,o[LL]=!0),(o.get||o.set)&&(r[a]={[LL]:!0,[$_]:!0,[RT]:o[RT],[ib]:n[a]})}return ha.create(fy(n),r)}else{const r=fy(n);if(r!==null&&t)return{...n};const i=ha.create(r);return ha.assign(i,n)}}function Tk(n,e=!1){return gI(n)||Iu(n)||!Vo(n)||(aB(n)>1&&ha.defineProperties(n,{set:Tx,add:Tx,clear:Tx,delete:Tx}),ha.freeze(n),e&&sB(n,(t,r)=>{Tk(r,!0)},!1)),n}function QBe(){No(2)}var Tx={[ib]:QBe};function gI(n){return n===null||!xk(n)?!0:ha.isFrozen(n)}var NT="MapSet",OL="Patches",aJ={};function hy(n){const e=aJ[n];return e||No(0,n),e}var kBe=n=>!!aJ[n],sb,oJ=()=>sb,OBe=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:kBe(NT)?hy(NT):void 0});function q5(n,e){e&&(n.patchPlugin_=hy(OL),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function HL(n){VL(n),n.drafts_.forEach(HBe),n.drafts_=null}function VL(n){n===sb&&(sb=n.parent_)}var j5=n=>sb=OBe(sb,n);function HBe(n){const e=n[as];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function W5(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[as].modified_&&(HL(e),No(4)),Vo(n)&&(n=Y5(e,n));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(t[as].base_,n,e)}else n=Y5(e,t);return VBe(e,n,!0),HL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==iJ?n:void 0}function Y5(n,e){if(gI(e))return e;const t=e[as];if(!t)return Ik(e,n.handledSet_,n);if(!mI(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:r}=t;if(r)for(;r.length>0;)r.pop()(n);uJ(t,n)}return t.copy_}function VBe(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Tk(e,t)}function AJ(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var mI=(n,e)=>n.scope_===e,KBe=[];function lJ(n,e,t,r){const i=vl(n),s=n.type_;if(r!==void 0&&QL(i,r,s)===e){DT(i,r,t,s);return}if(!n.draftLocations_){const o=n.draftLocations_=new Map;sB(i,(l,u)=>{if(Iu(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const a=n.draftLocations_.get(e)??KBe;for(const o of a)DT(i,o,t,s)}function GBe(n,e,t){n.callbacks_.push(function(i){var o;const s=e;if(!s||!mI(s,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(s);const a=_k(s);lJ(n,s.draft_??s,a,t),uJ(s,i)})}function uJ(n,e){var r;if(n.modified_&&!n.finalized_&&(n.type_===3||(((r=n.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(n);s&&i.generatePatches_(n,s,e)}AJ(n)}}function zBe(n,e,t){const{scope_:r}=n;if(Iu(t)){const i=t[as];mI(i,r)&&i.callbacks_.push(function(){q_(n);const a=_k(i);lJ(n,t,a,e)})}else Vo(t)&&n.callbacks_.push(function(){const s=vl(n);QL(s,e,n.type_)===t&&r.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&Ik(QL(n.copy_,e,n.type_),r.handledSet_,r)})}function Ik(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Iu(n)||e.has(n)||!Vo(n)||gI(n)||(e.add(n),sB(n,(r,i)=>{if(Iu(i)){const s=i[as];if(mI(s,t)){const a=_k(s);DT(n,r,a,n.type_),AJ(s)}}else Vo(i)&&Ik(i,e,t)})),n}function $Be(n,e){const t=fI(n),r={type_:t?1:0,scope_:e?e.scope_:oJ(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=Fk;t&&(i=[r],s=ab);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,[o,r]}var Fk={get(n,e){if(e===as)return n;const t=vl(n);if(!$5(t,e,n.type_))return qBe(n,t,e);const r=t[e];if(n.finalized_||!Vo(r))return r;if(r===$P(n.base_,e)){q_(n);const i=n.type_===1?+e:e,s=GL(n.scope_,r,n,i);return n.copy_[i]=s}return r},has(n,e){return e in vl(n)},ownKeys(n){return Reflect.ownKeys(vl(n))},set(n,e,t){const r=cJ(vl(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=$P(vl(n),e),s=i==null?void 0:i[as];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(LBe(t,i)&&(t!==void 0||$5(n.base_,e,n.type_)))return!0;q_(n),KL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),zBe(n,e,t)),!0},deleteProperty(n,e){return q_(n),$P(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),KL(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=vl(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{[$_]:!0,[LL]:n.type_!==1||e!=="length",[RT]:r[RT],[ib]:t[e]}},defineProperty(){No(11)},getPrototypeOf(n){return fy(n.base_)},setPrototypeOf(){No(12)}},ab={};sB(Fk,(n,e)=>{ab[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});ab.deleteProperty=function(n,e){return ab.set.call(this,n,e,void 0)};ab.set=function(n,e,t){return Fk.set.call(this,n[0],e,t,n[0])};function $P(n,e){const t=n[as];return(t?vl(t):n)[e]}function qBe(n,e,t){var i;const r=cJ(e,t);return r?ib in r?r[ib]:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function cJ(n,e){if(!(e in n))return;let t=fy(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=fy(t)}}function KL(n){n.modified_||(n.modified_=!0,n.parent_&&KL(n.parent_))}function q_(n){n.copy_||(n.assigned_=new Map,n.copy_=kL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var jBe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,i)=>{if(Gg(t)&&!Gg(r)){const a=r;r=t;const o=this;return function(u=a,...d){return o.produce(u,h=>r.call(this,h,...d))}}Gg(r)||No(6),i!==void 0&&!Gg(i)&&No(7);let s;if(Vo(t)){const a=j5(this),o=GL(a,t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?HL(a):VL(a)}return q5(a,i),W5(s,a)}else if(!t||!xk(t)){if(s=r(t),s===void 0&&(s=t),s===iJ&&(s=void 0),this.autoFreeze_&&Tk(s,!0),i){const a=[],o=[];hy(OL).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else No(1,t)},this.produceWithPatches=(t,r)=>{if(Gg(t))return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let i,s;return[this.produce(t,r,(o,l)=>{i=o,s=l}),i,s]},zP(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),zP(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),zP(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Vo(e)||No(8),Iu(e)&&(e=Oo(e));const t=j5(this),r=GL(t,e,void 0);return r[as].isManual_=!0,VL(t),r}finishDraft(e,t){const r=e&&e[as];(!r||!r.isManual_)&&No(9);const{scope_:i}=r;return q5(i,t),W5(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const i=hy(OL).applyPatches_;return Iu(e)?i(e,t):this.produce(e,s=>i(s,t))}};function GL(n,e,t,r){const[i,s]=hI(e)?hy(NT).proxyMap_(e,t):pI(e)?hy(NT).proxySet_(e,t):$Be(e,t);return((t==null?void 0:t.scope_)??oJ()).drafts_.push(i),s.callbacks_=(t==null?void 0:t.callbacks_)??[],s.key_=r,t&&r!==void 0?GBe(t,s,r):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),i}function Oo(n){return Iu(n)||No(10,n),dJ(n)}function dJ(n){if(!Vo(n)||gI(n))return n;const e=n[as];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=kL(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=kL(n,!0);return sB(t,(i,s)=>{DT(t,i,dJ(s))},r),e&&(e.finalized_=!1),t}var WBe=new jBe,fJ=WBe.produce;function hJ(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var YBe=hJ(),XBe=hJ,JBe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?UT:UT.apply(null,arguments)};function co(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(pa(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>rJ(r)&&r.type===n,t}var pJ=class Uw extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Uw.prototype)}static get[Symbol.species](){return Uw}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Uw(...e[0].concat(this)):new Uw(...e.concat(this))}};function X5(n){return Vo(n)?fJ(n,()=>{}):n}function Ix(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function ZBe(n){return typeof n=="boolean"}var eSe=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new pJ;return t&&(ZBe(t)?a.push(YBe):a.push(XBe(t.extraArgument))),a},gJ="RTK_autoBatch",Hn=()=>n=>({payload:n,meta:{[gJ]:!0}}),J5=n=>e=>{setTimeout(e,n)},mJ=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,a=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:J5(10):n.type==="callback"?n.queueNotification:J5(n.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),g=r.subscribe(h);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[gJ]),s=!i,s&&(a||(a=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},tSe=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new pJ(n);return r&&i.push(mJ(typeof r=="object"?r:void 0)),i};function nSe(n){const e=eSe(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(Sk(t))o=nJ(t);else throw new Error(pa(1));let l;typeof r=="function"?l=r(e):l=e();let u=UT;i&&(u=JBe({trace:!1,...typeof i=="object"&&i}));const d=DBe(...l),h=tSe(d);let g=typeof a=="function"?a(h):h();const v=u(...g);return tJ(o,s,v)}function vJ(n){const e={},t=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(pa(28));if(o in e)throw new Error(pa(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return t.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function rSe(n){return typeof n=="function"}function iSe(n,e){let[t,r,i]=vJ(e),s;if(rSe(n))s=()=>X5(n());else{const o=X5(n);s=()=>o}function a(o=s(),l){let u=[t[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(Iu(d)){const v=h(d,l);return v===void 0?d:v}else{if(Vo(d))return fJ(d,g=>h(g,l));{const g=h(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return a.getInitialState=s,a}var sSe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aSe=(n=21)=>{let e="",t=n;for(;t--;)e+=sSe[Math.random()*64|0];return e},oSe=Symbol.for("rtk-slice-createasyncthunk");function ASe(n,e){return`${n}/${e}`}function lSe({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[oSe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(pa(11));const o=(typeof i.reducers=="function"?i.reducers(cSe()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,M){const D=typeof R=="string"?R:R.type;if(!D)throw new Error(pa(12));if(D in u.sliceCaseReducersByType)throw new Error(pa(13));return u.sliceCaseReducersByType[D]=M,d},addMatcher(R,M){return u.sliceMatchers.push({matcher:R,reducer:M}),d},exposeAction(R,M){return u.actionCreators[R]=M,d},exposeCaseReducer(R,M){return u.sliceCaseReducersByName[R]=M,d}};l.forEach(R=>{const M=o[R],D={reducerName:R,type:ASe(s,R),createNotation:typeof i.reducers=="function"};fSe(M)?pSe(D,M,d,e):dSe(D,M,d)});function h(){const[R={},M=[],D=void 0]=typeof i.extraReducers=="function"?vJ(i.extraReducers):[i.extraReducers],L={...R,...u.sliceCaseReducersByType};return iSe(i.initialState,H=>{for(let k in L)H.addCase(k,L[k]);for(let k of u.sliceMatchers)H.addMatcher(k.matcher,k.reducer);for(let k of M)H.addMatcher(k.matcher,k.reducer);D&&H.addDefaultCase(D)})}const g=R=>R,v=new Map,C=new WeakMap;let b;function B(R,M){return b||(b=h()),b(R,M)}function S(){return b||(b=h()),b.getInitialState()}function I(R,M=!1){function D(H){let k=H[R];return typeof k>"u"&&M&&(k=Ix(C,D,S)),k}function L(H=g){const k=Ix(v,M,()=>new WeakMap);return Ix(k,H,()=>{const G={};for(const[K,z]of Object.entries(i.selectors??{}))G[K]=uSe(z,H,()=>Ix(C,H,S),M);return G})}return{reducerPath:R,getSelectors:L,get selectors(){return L(D)},selectSlice:D}}const T={name:s,reducer:B,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...I(a),injectInto(R,{reducerPath:M,...D}={}){const L=M??a;return R.inject({reducerPath:L,reducer:B},D),{...T,...I(L,!0)}}};return T}}function uSe(n,e,t,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=t()),n(o,...a)}return i.unwrapped=n,i}var Ms=lSe();function cSe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function dSe({type:n,reducerName:e,createNotation:t},r,i){let s,a;if("reducer"in r){if(t&&!hSe(r))throw new Error(pa(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,a?co(n,a):co(n))}function fSe(n){return n._reducerDefinitionType==="asyncThunk"}function hSe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function pSe({type:n,reducerName:e},t,r,i){if(!i)throw new Error(pa(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=t,h=i(n,s,d);r.exposeAction(e,h),a&&r.addCase(h.fulfilled,a),o&&r.addCase(h.pending,o),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:a||Fx,pending:o||Fx,rejected:l||Fx,settled:u||Fx})}function Fx(){}var gSe="task",yJ="listener",wJ="completed",Mk="cancelled",mSe=`task-${Mk}`,vSe=`task-${wJ}`,zL=`${yJ}-${Mk}`,ySe=`${yJ}-${wJ}`,vI=class{constructor(n){Ee(this,"name","TaskAbortError");Ee(this,"message");this.code=n,this.message=`${gSe} ${Mk} (reason: ${n})`}},Uk=(n,e)=>{if(typeof n!="function")throw new TypeError(pa(32))},LT=()=>{},bJ=(n,e=LT)=>(n.catch(e),n),CJ=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),yp=n=>{if(n.aborted)throw new vI(n.reason)};function EJ(n,e){let t=LT;return new Promise((r,i)=>{const s=()=>i(new vI(n.reason));if(n.aborted){s();return}t=CJ(n,s),e.finally(()=>t()).then(r,i)}).finally(()=>{t=LT})}var wSe=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof vI?"cancelled":"rejected",error:t}}finally{e==null||e()}},QT=n=>e=>bJ(EJ(n,e).then(t=>(yp(n),t))),BJ=n=>{const e=QT(n);return t=>e(new Promise(r=>setTimeout(r,t)))},{assign:lm}=Object,Z5={},yI="listenerMiddleware",bSe=(n,e)=>{const t=r=>CJ(n,()=>r.abort(n.reason));return(r,i)=>{Uk(r);const s=new AbortController;t(s);const a=wSe(async()=>{yp(n),yp(s.signal);const o=await r({pause:QT(s.signal),delay:BJ(s.signal),signal:s.signal});return yp(s.signal),o},()=>s.abort(vSe));return i!=null&&i.autoJoin&&e.push(a.catch(LT)),{result:QT(n)(a),cancel(){s.abort(mSe)}}}},CSe=(n,e)=>{const t=async(r,i)=>{yp(e);let s=()=>{};const o=[new Promise((l,u)=>{let d=n({predicate:r,effect:(h,g)=>{g.unsubscribe(),l([h,g.getState(),g.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await EJ(e,Promise.race(o));return yp(e),l}finally{s()}};return(r,i)=>bJ(t(r,i))},SJ=n=>{let{type:e,actionCreator:t,matcher:r,predicate:i,effect:s}=n;if(e)i=co(e).match;else if(t)e=t.type,i=t.match;else if(r)i=r;else if(!i)throw new Error(pa(21));return Uk(s),{predicate:i,type:e,effect:s}},xJ=lm(n=>{const{type:e,predicate:t,effect:r}=SJ(n);return{id:aSe(),effect:r,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(pa(22))}}},{withTypes:()=>xJ}),e$=(n,e)=>{const{type:t,effect:r,predicate:i}=SJ(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===i)&&s.effect===r)},$L=n=>{n.pending.forEach(e=>{e.abort(zL)})},ESe=(n,e)=>()=>{for(const t of e.keys())$L(t);n.clear()},t$=(n,e,t)=>{try{n(e,t)}catch(r){setTimeout(()=>{throw r},0)}},_J=lm(co(`${yI}/add`),{withTypes:()=>_J}),BSe=co(`${yI}/removeAll`),TJ=lm(co(`${yI}/remove`),{withTypes:()=>TJ}),SSe=(...n)=>{console.error(`${yI}/error`,...n)},oB=(n={})=>{const e=new Map,t=new Map,r=v=>{const C=t.get(v)??0;t.set(v,C+1)},i=v=>{const C=t.get(v)??1;C===1?t.delete(v):t.set(v,C-1)},{extra:s,onError:a=SSe}=n;Uk(a);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),C=>{v.unsubscribe(),C!=null&&C.cancelActive&&$L(v)}),l=v=>{const C=e$(e,v)??xJ(v);return o(C)};lm(l,{withTypes:()=>l});const u=v=>{const C=e$(e,v);return C&&(C.unsubscribe(),v.cancelActive&&$L(C)),!!C};lm(u,{withTypes:()=>u});const d=async(v,C,b,B)=>{const S=new AbortController,I=CSe(l,S.signal),T=[];try{v.pending.add(S),r(v),await Promise.resolve(v.effect(C,lm({},b,{getOriginalState:B,condition:(R,M)=>I(R,M).then(Boolean),take:I,delay:BJ(S.signal),pause:QT(S.signal),extra:s,signal:S.signal,fork:bSe(S.signal,T),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((R,M,D)=>{R!==S&&(R.abort(zL),D.delete(R))})},cancel:()=>{S.abort(zL),v.pending.delete(S)},throwIfCancelled:()=>{yp(S.signal)}})))}catch(R){R instanceof vI||t$(a,R,{raisedBy:"effect"})}finally{await Promise.all(T),S.abort(ySe),i(v),v.pending.delete(S)}},h=ESe(e,t);return{middleware:v=>C=>b=>{if(!rJ(b))return C(b);if(_J.match(b))return l(b.payload);if(BSe.match(b)){h();return}if(TJ.match(b))return u(b.payload);let B=v.getState();const S=()=>{if(B===Z5)throw new Error(pa(23));return B};let I;try{if(I=C(b),e.size>0){const T=v.getState(),R=Array.from(e.values());for(const M of R){let D=!1;try{D=M.predicate(b,T,B)}catch(L){D=!1,t$(a,L,{raisedBy:"predicate"})}D&&d(M,b,v,S)}}}finally{B=Z5}return I},startListening:l,stopListening:u,clearListeners:h}};function pa(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var xSe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},IJ=Ms({name:"chartLayout",initialState:xSe,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,r,i,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,n.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:_Se,setLayout:TSe,setChartSize:ISe,setScale:FSe}=IJ.actions,MSe=IJ.reducer;function FJ(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function n$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Wg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n$(Object(t),!0).forEach(function(r){USe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function USe(n,e,t){return(e=PSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PSe(n){var e=RSe(n,"string");return typeof e=="symbol"?e:e+""}function RSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Gi(n,e,t){return oi(n)||oi(e)?t:NA(e)?dy(n,e,t):typeof e=="function"?e(n):t}var DSe=(n,e,t)=>{if(e&&t){var{width:r,height:i}=t,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&Je(n[s]))return Wg(Wg({},n),{},{[s]:n[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&Je(n[a]))return Wg(Wg({},n),{},{[a]:n[a]+(i||0)})}return n},Dp=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",r$=1e-4,NSe=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,r=n.range(),i=Math.min(r[0],r[1])-r$,s=Math.max(r[0],r[1])+r$,a=n(e[0]),o=n(e[t-1]);(a<i||a>s||o<i||o>s)&&n.domain([e[0],e[t-1]])}},LSe=(n,e)=>{if(!e||e.length!==2||!Je(e[0])||!Je(e[1]))return n;var t=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[n[0],n[1]];return(!Je(n[0])||n[0]<t)&&(i[0]=t),(!Je(n[1])||n[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<t&&(i[1]=t),i},QSe=n=>{var e=n.length;if(!(e<=0))for(var t=0,r=n[0].length;t<r;++t)for(var i=0,s=0,a=0;a<e;++a){var o=DA(n[a][t][1])?n[a][t][0]:n[a][t][1];o>=0?(n[a][t][0]=i,n[a][t][1]=i+o,i=n[a][t][1]):(n[a][t][0]=s,n[a][t][1]=s+o,s=n[a][t][1])}},kSe=n=>{var e=n.length;if(!(e<=0))for(var t=0,r=n[0].length;t<r;++t)for(var i=0,s=0;s<e;++s){var a=DA(n[s][t][1])?n[s][t][0]:n[s][t][1];a>=0?(n[s][t][0]=i,n[s][t][1]=i+a,i=n[s][t][1]):(n[s][t][0]=0,n[s][t][1]=0)}},OSe={sign:QSe,expand:dEe,none:cy,silhouette:fEe,wiggle:hEe,positive:kSe},HSe=(n,e,t)=>{var r=OSe[t],i=cEe().keys(e).value((s,a)=>Number(Gi(s,a,0))).order(DL).offset(r);return i(n)};function VSe(n){return n==null?void 0:String(n)}var i$=n=>{var{axis:e,ticks:t,offset:r,bandSize:i,entry:s,index:a}=n;if(e.type==="category")return t[a]?t[a].coordinate+r:null;var o=Gi(s,e.dataKey,e.scale.domain()[a]);return oi(o)?null:e.scale(o)-i/2+r},KSe=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return r<=0&&i>=0?0:i<0?i:r}return t[0]},GSe=n=>{var e=n.flat(2).filter(Je);return[Math.min(...e),Math.max(...e)]},zSe=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],$Se=(n,e,t)=>{if(n!=null)return zSe(Object.keys(n).reduce((r,i)=>{var s=n[i],{stackedData:a}=s,o=a.reduce((l,u)=>{var d=FJ(u,e,t),h=GSe(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},s$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,a$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kT=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var r=n.scale.bandwidth();if(!t||r>0)return r}if(n&&e&&e.length>=2){for(var i=cI(e,d=>d.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],u=i[a-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function o$(n){var{tooltipEntrySettings:e,dataKey:t,payload:r,value:i,name:s}=n;return Wg(Wg({},e),{},{dataKey:t,payload:r,value:i,name:s})}function MJ(n,e){if(n)return String(n);if(typeof e=="string")return e}var qSe=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},jSe=(n,e)=>e==="centric"?n.angle:n.radius,Vu=n=>n.layout.width,Ku=n=>n.layout.height,WSe=n=>n.layout.scale,UJ=n=>n.layout.margin,wI=ce(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),bI=ce(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),YSe="data-recharts-item-index",XSe="data-recharts-item-data-key",AB=60;function A$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Mx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(t),!0).forEach(function(r){JSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function JSe(n,e,t){return(e=ZSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZSe(n){var e=exe(n,"string");return typeof e=="symbol"?e:e+""}function exe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var txe=n=>n.brush.height;function nxe(n){var e=bI(n);return e.reduce((t,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:AB;return t+i}return t},0)}function rxe(n){var e=bI(n);return e.reduce((t,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:AB;return t+i}return t},0)}function ixe(n){var e=wI(n);return e.reduce((t,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?t+r.height:t,0)}function sxe(n){var e=wI(n);return e.reduce((t,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?t+r.height:t,0)}var Ai=ce([Vu,Ku,UJ,txe,nxe,rxe,ixe,sxe,eJ,IBe],(n,e,t,r,i,s,a,o,l,u)=>{var d={left:(t.left||0)+i,right:(t.right||0)+s},h={top:(t.top||0)+a,bottom:(t.bottom||0)+o},g=Mx(Mx({},h),d),v=g.bottom;g.bottom+=r,g=DSe(g,l,u);var C=n-g.left-g.right,b=e-g.top-g.bottom;return Mx(Mx({brushBottom:v},g),{},{width:Math.max(C,0),height:Math.max(b,0)})}),axe=ce(Ai,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),Pk=ce(Vu,Ku,(n,e)=>({x:0,y:0,width:n,height:e})),oxe=F.createContext(null),ya=()=>F.useContext(oxe)!=null,CI=n=>n.brush,EI=ce([CI,Ai,UJ],(n,e,t)=>({height:n.height,x:Je(n.x)?n.x:e.left,y:Je(n.y)?n.y:e.top+e.height+e.brushBottom-((t==null?void 0:t.bottom)||0),width:Je(n.width)?n.width:e.width})),qP={},jP={},WP={},l$;function Axe(){return l$||(l$=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(t.apply(a,o),a=void 0,o=null)},h=()=>{u&&d(),b()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},r)},C=()=>{g!==null&&(clearTimeout(g),g=null)},b=()=>{C(),a=void 0,o=null},B=()=>{d()},S=function(...I){if(i!=null&&i.aborted)return;a=this,o=I;const T=g==null;v(),l&&T&&d()};return S.schedule=v,S.cancel=b,S.flush=B,i==null||i.addEventListener("abort",b,{once:!0}),S}n.debounce=e})(WP)),WP}var u$;function lxe(){return u$||(u$=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Axe();function t(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const g=e.debounce(function(...b){d=r.apply(this,b),h=null},i,{edges:u}),v=function(...b){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=r.apply(this,b),h=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,b),d)},C=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=C,v}n.debounce=t})(jP)),jP}var c$;function uxe(){return c$||(c$=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=lxe();function t(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:o})}n.throttle=t})(qP)),qP}var YP,d$;function cxe(){return d$||(d$=1,YP=uxe().throttle),YP}var dxe=cxe();const fxe=OA(dxe);var f$=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>i[a++]))}},PJ=(n,e,t)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=t,o=Tu(r)?n:Number(r),l=Tu(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},hxe={width:0,height:0,overflow:"visible"},pxe={width:0,overflowX:"visible"},gxe={height:0,overflowY:"visible"},mxe={},vxe=n=>{var{width:e,height:t}=n,r=Tu(e),i=Tu(t);return r&&i?hxe:r?pxe:i?gxe:mxe};function yxe(n){var{width:e,height:t,aspect:r}=n,i=e,s=t;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function vr(n){return Number.isFinite(n)}function Xd(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function qL(){return qL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qL.apply(null,arguments)}function h$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function p$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(t),!0).forEach(function(r){wxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wxe(n,e,t){return(e=bxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bxe(n){var e=Cxe(n,"string");return typeof e=="symbol"?e:e+""}function Cxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var RJ=F.createContext({width:-1,height:-1});function Exe(n){return Xd(n.width)&&Xd(n.height)}function DJ(n){var{children:e,width:t,height:r}=n,i=F.useMemo(()=>({width:t,height:r}),[t,r]);return Exe(i)?F.createElement(RJ.Provider,{value:i},e):null}var Rk=()=>F.useContext(RJ),Bxe=F.forwardRef((n,e)=>{var{aspect:t,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:h,className:g,onResize:v,style:C={}}=n,b=F.useRef(null),B=F.useRef();B.current=v,F.useImperativeHandle(e,()=>b.current);var[S,I]=F.useState({containerWidth:r.width,containerHeight:r.height}),T=F.useCallback((H,k)=>{I(G=>{var K=Math.round(H),z=Math.round(k);return G.containerWidth===K&&G.containerHeight===z?G:{containerWidth:K,containerHeight:z}})},[]);F.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return iB;var H=z=>{var J,{width:ne,height:oe}=z[0].contentRect;T(ne,oe),(J=B.current)===null||J===void 0||J.call(B,ne,oe)};d>0&&(H=fxe(H,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(H),{width:G,height:K}=b.current.getBoundingClientRect();return T(G,K),k.observe(b.current),()=>{k.disconnect()}},[T,d]);var{containerWidth:R,containerHeight:M}=S;f$(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:D,calculatedHeight:L}=PJ(R,M,{width:i,height:s,aspect:t,maxHeight:l});return f$(D!=null&&D>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,L,i,s,a,o,t),F.createElement("div",{id:h?"".concat(h):void 0,className:Nn("recharts-responsive-container",g),style:p$(p$({},C),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:b},F.createElement("div",{style:vxe({width:i,height:s})},F.createElement(DJ,{width:D,height:L},u)))}),Sxe=F.forwardRef((n,e)=>{var t=Rk();if(Xd(t.width)&&Xd(t.height))return n.children;var{width:r,height:i}=yxe({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:a}=PJ(void 0,void 0,{width:r,height:i,aspect:n.aspect,maxHeight:n.maxHeight});return Je(s)&&Je(a)?F.createElement(DJ,{width:s,height:a},n.children):F.createElement(Bxe,qL({},n,{width:r,height:i,ref:e}))});function NJ(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var BI=()=>{var n,e=ya(),t=Ye(axe),r=Ye(EI),i=(n=Ye(CI))===null||n===void 0?void 0:n.padding;return!e||!r||!i?t:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},xxe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_xe=()=>{var n;return(n=Ye(Ai))!==null&&n!==void 0?n:xxe},Txe=()=>Ye(Vu),Ixe=()=>Ye(Ku),Yt=n=>n.layout.layoutType,SI=()=>Ye(Yt),Fxe=()=>{var n=SI();return n!==void 0},xI=n=>{var e=yr(),t=ya(),{width:r,height:i}=n,s=Rk(),a=r,o=i;return s&&(a=s.width>0?s.width:r,o=s.height>0?s.height:i),F.useEffect(()=>{!t&&Xd(a)&&Xd(o)&&e(ISe({width:a,height:o}))},[e,t,a,o]),null},LJ=Symbol.for("immer-nothing"),g$=Symbol.for("immer-draftable"),ma=Symbol.for("immer-state");function Lo(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ob=Object.getPrototypeOf;function py(n){return!!n&&!!n[ma]}function xp(n){var e;return n?QJ(n)||Array.isArray(n)||!!n[g$]||!!((e=n.constructor)!=null&&e[g$])||lB(n)||TI(n):!1}var Mxe=Object.prototype.constructor.toString(),m$=new WeakMap;function QJ(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let r=m$.get(t);return r===void 0&&(r=Function.toString.call(t),m$.set(t,r)),r===Mxe}function OT(n,e,t=!0){_I(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function _I(n){const e=n[ma];return e?e.type_:Array.isArray(n)?1:lB(n)?2:TI(n)?3:0}function jL(n,e){return _I(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function kJ(n,e,t){const r=_I(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function Uxe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function lB(n){return n instanceof Map}function TI(n){return n instanceof Set}function Rf(n){return n.copy_||n.base_}function WL(n,e){if(lB(n))return new Map(n);if(TI(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=QJ(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[ma];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[a]})}return Object.create(ob(n),r)}else{const r=ob(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function Dk(n,e=!1){return II(n)||py(n)||!xp(n)||(_I(n)>1&&Object.defineProperties(n,{set:Ux,add:Ux,clear:Ux,delete:Ux}),Object.freeze(n),e&&Object.values(n).forEach(t=>Dk(t,!0))),n}function Pxe(){Lo(2)}var Ux={value:Pxe};function II(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var Rxe={};function _p(n){const e=Rxe[n];return e||Lo(0,n),e}var Ab;function OJ(){return Ab}function Dxe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function v$(n,e){e&&(_p("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function YL(n){XL(n),n.drafts_.forEach(Nxe),n.drafts_=null}function XL(n){n===Ab&&(Ab=n.parent_)}function y$(n){return Ab=Dxe(Ab,n)}function Nxe(n){const e=n[ma];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function w$(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[ma].modified_&&(YL(e),Lo(4)),xp(n)&&(n=HT(e,n),e.parent_||VT(e,n)),e.patches_&&_p("Patches").generateReplacementPatches_(t[ma].base_,n,e.patches_,e.inversePatches_)):n=HT(e,t,[]),YL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==LJ?n:void 0}function HT(n,e,t){if(II(e))return e;const r=n.immer_.shouldUseStrictIteration(),i=e[ma];if(!i)return OT(e,(s,a)=>b$(n,i,e,s,a,t),r),e;if(i.scope_!==n)return e;if(!i.modified_)return VT(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),OT(a,(l,u)=>b$(n,i,s,l,u,t,o),r),VT(n,s,!1),t&&n.patches_&&_p("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function b$(n,e,t,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=II(i);if(!(o&&!a)){if(py(i)){const l=s&&e&&e.type_!==3&&!jL(e.assigned_,r)?s.concat(r):void 0,u=HT(n,i,l);if(kJ(t,r,u),py(u))n.canAutoFreeze_=!1;else return}else a&&t.add(i);if(xp(i)&&!o){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;HT(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(lB(t)?t.has(r):Object.prototype.propertyIsEnumerable.call(t,r))&&VT(n,i)}}}function VT(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Dk(e,t)}function Lxe(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:OJ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Nk;t&&(i=[r],s=lb);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var Nk={get(n,e){if(e===ma)return n;const t=Rf(n);if(!jL(t,e))return Qxe(n,t,e);const r=t[e];return n.finalized_||!xp(r)?r:r===XP(n.base_,e)?(JP(n),n.copy_[e]=ZL(r,n)):r},has(n,e){return e in Rf(n)},ownKeys(n){return Reflect.ownKeys(Rf(n))},set(n,e,t){const r=HJ(Rf(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=XP(Rf(n),e),s=i==null?void 0:i[ma];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(Uxe(t,i)&&(t!==void 0||jL(n.base_,e)))return!0;JP(n),JL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return XP(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,JP(n),JL(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Rf(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Lo(11)},getPrototypeOf(n){return ob(n.base_)},setPrototypeOf(){Lo(12)}},lb={};OT(Nk,(n,e)=>{lb[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});lb.deleteProperty=function(n,e){return lb.set.call(this,n,e,void 0)};lb.set=function(n,e,t){return Nk.set.call(this,n[0],e,t,n[0])};function XP(n,e){const t=n[ma];return(t?Rf(t):n)[e]}function Qxe(n,e,t){var i;const r=HJ(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function HJ(n,e){if(!(e in n))return;let t=ob(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=ob(t)}}function JL(n){n.modified_||(n.modified_=!0,n.parent_&&JL(n.parent_))}function JP(n){n.copy_||(n.copy_=WL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var kxe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...u){return a.produce(l,d=>t.call(this,d,...u))}}typeof t!="function"&&Lo(6),r!==void 0&&typeof r!="function"&&Lo(7);let i;if(xp(e)){const s=y$(this),a=ZL(e,void 0);let o=!0;try{i=t(a),o=!1}finally{o?YL(s):XL(s)}return v$(s,r),w$(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===LJ&&(i=void 0),this.autoFreeze_&&Dk(i,!0),r){const s=[],a=[];_p("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Lo(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,t,(a,o)=>{r=a,i=o}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof(n==null?void 0:n.useStrictIteration)=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){xp(n)||Lo(8),py(n)&&(n=Oxe(n));const e=y$(this),t=ZL(n,void 0);return t[ma].isManual_=!0,XL(e),t}finishDraft(n,e){const t=n&&n[ma];(!t||!t.isManual_)&&Lo(9);const{scope_:r}=t;return v$(r,e),w$(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=_p("Patches").applyPatches_;return py(n)?r(n,e):this.produce(n,i=>r(i,e))}};function ZL(n,e){const t=lB(n)?_p("MapSet").proxyMap_(n,e):TI(n)?_p("MapSet").proxySet_(n,e):Lxe(n,e);return(e?e.scope_:OJ()).drafts_.push(t),t}function Oxe(n){return py(n)||Lo(10,n),VJ(n)}function VJ(n){if(!xp(n)||II(n))return n;const e=n[ma];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=WL(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=WL(n,!0);return OT(t,(i,s)=>{kJ(t,i,VJ(s))},r),e&&(e.finalized_=!1),t}var Hxe=new kxe;Hxe.produce;var Vxe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},KJ=Ms({name:"legend",initialState:Vxe,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:Hn()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:r}=e.payload,i=Oo(n).payload.indexOf(t);i>-1&&(n.payload[i]=r)},prepare:Hn()},removeLegendPayload:{reducer(n,e){var t=Oo(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:Hn()}}}),{setLegendSize:_ke,setLegendSettings:Tke,addLegendPayload:Kxe,replaceLegendPayload:Gxe,removeLegendPayload:zxe}=KJ.actions,$xe=KJ.reducer;function eQ(){return eQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eQ.apply(null,arguments)}function C$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ZP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C$(Object(t),!0).forEach(function(r){qxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qxe(n,e,t){return(e=jxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jxe(n){var e=Wxe(n,"string");return typeof e=="symbol"?e:e+""}function Wxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Yxe(n){return Array.isArray(n)&&NA(n[0])&&NA(n[1])?n.join(" ~ "):n}var Xxe=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:g=!1}=n,v=()=>{if(s&&s.length){var M={padding:0,margin:0},D=(o?cI(s,o):s).map((L,H)=>{if(L.type==="none")return null;var k=L.formatter||a||Yxe,{value:G,name:K}=L,z=G,J=K;if(k){var ne=k(G,K,L,H,s);if(Array.isArray(ne))[z,J]=ne;else if(ne!=null)z=ne;else return null}var oe=ZP({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},r);return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:oe},NA(J)?F.createElement("span",{className:"recharts-tooltip-item-name"},J):null,NA(J)?F.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,F.createElement("span",{className:"recharts-tooltip-item-value"},z),F.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},C=ZP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),b=ZP({margin:0},i),B=!oi(d),S=B?d:"",I=Nn("recharts-default-tooltip",l),T=Nn("recharts-tooltip-label",u);B&&h&&s!==void 0&&s!==null&&(S=h(d,s));var R=g?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",eQ({className:I,style:C},R),F.createElement("p",{className:T,style:b},F.isValidElement(S)?S:"".concat(S)),v())},K0="recharts-tooltip-wrapper",Jxe={visibility:"hidden"};function Zxe(n){var{coordinate:e,translateX:t,translateY:r}=n;return Nn(K0,{["".concat(K0,"-right")]:Je(t)&&e&&Je(e.x)&&t>=e.x,["".concat(K0,"-left")]:Je(t)&&e&&Je(e.x)&&t<e.x,["".concat(K0,"-bottom")]:Je(r)&&e&&Je(e.y)&&r>=e.y,["".concat(K0,"-top")]:Je(r)&&e&&Je(e.y)&&r<e.y})}function E$(n){var{allowEscapeViewBox:e,coordinate:t,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=n;if(s&&Je(s[r]))return s[r];var d=t[r]-o-(i>0?i:0),h=t[r]+i;if(e[r])return a[r]?d:h;var g=l[r];if(g==null)return 0;if(a[r]){var v=d,C=g;return v<C?Math.max(h,g):Math.max(d,g)}if(u==null)return 0;var b=h+o,B=g+u;return b>B?Math.max(d,g):Math.max(h,g)}function e_e(n){var{translateX:e,translateY:t,useTranslate3d:r}=n;return{transform:r?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function t_e(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=n,u,d,h;return a.height>0&&a.width>0&&t?(d=E$({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=E$({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=e_e({translateX:d,translateY:h,useTranslate3d:o})):u=Jxe,{cssProperties:u,cssClasses:Zxe({translateX:d,translateY:h,coordinate:t})}}function B$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Px(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B$(Object(t),!0).forEach(function(r){tQ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):B$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tQ(n,e,t){return(e=n_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function n_e(n){var e=r_e(n,"string");return typeof e=="symbol"?e:e+""}function r_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class i_e extends F.PureComponent{constructor(){super(...arguments),tQ(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),tQ(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&t!==void 0?t:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:C,lastBoundingBox:b,innerRef:B,hasPortalFromProps:S}=this.props,{cssClasses:I,cssProperties:T}=t_e({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:b.height,width:b.width},useTranslate3d:g,viewBox:v}),R=S?{}:Px(Px({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),M=Px(Px({},R),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},C);return F.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:M,ref:B},s)}}var GJ=()=>{var n;return(n=Ye(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function nQ(){return nQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nQ.apply(null,arguments)}function S$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function x$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S$(Object(t),!0).forEach(function(r){s_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function s_e(n,e,t){return(e=a_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a_e(n){var e=o_e(n,"string");return typeof e=="symbol"?e:e+""}function o_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var _$={curveBasisClosed:eEe,curveBasisOpen:tEe,curveBasis:ZCe,curveBumpX:kCe,curveBumpY:OCe,curveLinearClosed:nEe,curveLinear:lI,curveMonotoneX:rEe,curveMonotoneY:iEe,curveNatural:sEe,curveStep:aEe,curveStepAfter:AEe,curveStepBefore:oEe},KT=n=>vr(n.x)&&vr(n.y),T$=n=>n.base!=null&&KT(n.base)&&KT(n),G0=n=>n.x,z0=n=>n.y,A_e=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(rB(n));return(t==="curveMonotone"||t==="curveBump")&&e?_$["".concat(t).concat(e==="vertical"?"Y":"X")]:_$[t]||lI},l_e=n=>{var{type:e="linear",points:t=[],baseLine:r,layout:i,connectNulls:s=!1}=n,a=A_e(e,i),o=s?t.filter(KT):t,l;if(Array.isArray(r)){var u=t.map((v,C)=>x$(x$({},v),{},{base:r[C]}));i==="vertical"?l=Sx().y(z0).x1(G0).x0(v=>v.base.x):l=Sx().x(G0).y1(z0).y0(v=>v.base.y);var d=l.defined(T$).curve(a),h=s?u.filter(T$):u;return d(h)}i==="vertical"&&Je(r)?l=Sx().y(z0).x1(G0).x0(r):Je(r)?l=Sx().x(G0).y1(z0).y0(r):l=x9().x(G0).y(z0);var g=l.defined(KT).curve(a);return g(o)},zJ=n=>{var{className:e,points:t,path:r,pathRef:i}=n;if((!t||!t.length)&&!r)return null;var s=t&&t.length?l_e(n):r;return F.createElement("path",nQ({},Yd(n),UEe(n),{className:Nn("recharts-curve",e),d:s===null?void 0:s,ref:i}))},u_e=["x","y","top","left","width","height","className"];function rQ(){return rQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rQ.apply(null,arguments)}function I$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function c_e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I$(Object(t),!0).forEach(function(r){d_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function d_e(n,e,t){return(e=f_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function f_e(n){var e=h_e(n,"string");return typeof e=="symbol"?e:e+""}function h_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function p_e(n,e){if(n==null)return{};var t,r,i=g_e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function g_e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var m_e=(n,e,t,r,i,s)=>"M".concat(n,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(t),v_e=n=>{var{x:e=0,y:t=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=n,l=p_e(n,u_e),u=c_e({x:e,y:t,top:r,left:i,width:s,height:a},l);return!Je(e)||!Je(t)||!Je(s)||!Je(a)||!Je(r)||!Je(i)?null:F.createElement("path",rQ({},uo(u),{className:Nn("recharts-cross",o),d:m_e(e,t,s,a,r,i)}))};function y_e(n,e,t,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-i:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-i,width:n==="horizontal"?r:t.width-1,height:n==="horizontal"?t.height-1:r}}function F$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function M$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F$(Object(t),!0).forEach(function(r){w_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function w_e(n,e,t){return(e=b_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function b_e(n){var e=C_e(n,"string");return typeof e=="symbol"?e:e+""}function C_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var E_e=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),$J=(n,e,t)=>n.map(r=>"".concat(E_e(r)," ").concat(e,"ms ").concat(t)).join(","),B_e=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,r)=>t.filter(i=>r.includes(i))),ub=(n,e)=>Object.keys(e).reduce((t,r)=>M$(M$({},t),{},{[r]:n(r,e[r])}),{});function U$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Hr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?U$(Object(t),!0).forEach(function(r){S_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):U$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function S_e(n,e,t){return(e=x_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function x_e(n){var e=__e(n,"string");return typeof e=="symbol"?e:e+""}function __e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var GT=(n,e,t)=>n+(e-n)*t,iQ=n=>{var{from:e,to:t}=n;return e!==t},qJ=(n,e,t)=>{var r=ub((i,s)=>{if(iQ(s)){var[a,o]=n(s.from,s.to,s.velocity);return Hr(Hr({},s),{},{from:a,velocity:o})}return s},e);return t<1?ub((i,s)=>iQ(s)?Hr(Hr({},s),{},{velocity:GT(s.velocity,r[i].velocity,t),from:GT(s.from,r[i].from,t)}):s,e):qJ(n,r,t-1)};function T_e(n,e,t,r,i,s){var a,o=r.reduce((g,v)=>Hr(Hr({},g),{},{[v]:{from:n[v],velocity:0,to:e[v]}}),{}),l=()=>ub((g,v)=>v.from,o),u=()=>!Object.values(o).filter(iQ).length,d=null,h=g=>{a||(a=g);var v=g-a,C=v/t.dt;o=qJ(t,o,C),i(Hr(Hr(Hr({},n),e),l())),a=g,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}function I_e(n,e,t,r,i,s,a){var o=null,l=i.reduce((h,g)=>Hr(Hr({},h),{},{[g]:[n[g],e[g]]}),{}),u,d=h=>{u||(u=h);var g=(h-u)/r,v=ub((b,B)=>GT(...B,t(g)),l);if(s(Hr(Hr(Hr({},n),e),v)),g<1)o=a.setTimeout(d);else{var C=ub((b,B)=>GT(...B,t(1)),l);s(Hr(Hr(Hr({},n),e),C))}};return()=>(o=a.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const F_e=(n,e,t,r,i,s)=>{var a=B_e(n,e);return t==null?()=>(i(Hr(Hr({},n),e)),()=>{}):t.isStepper===!0?T_e(n,e,t,a,i,s):I_e(n,e,t,r,a,i,s)};var zT=1e-4,jJ=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],WJ=(n,e)=>n.map((t,r)=>t*e**r).reduce((t,r)=>t+r),P$=(n,e)=>t=>{var r=jJ(n,e);return WJ(r,t)},M_e=(n,e)=>t=>{var r=jJ(n,e),i=[...r.map((s,a)=>s*a).slice(1),0];return WJ(i,t)},U_e=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=t[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]}}}return t.length===4?t:[0,0,1,1]},P_e=(n,e,t,r)=>{var i=P$(n,t),s=P$(e,r),a=M_e(n,t),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,h=d,g=0;g<8;++g){var v=i(h)-d,C=a(h);if(Math.abs(v-d)<zT||C<zT)return s(h);h=o(h-v/C)}return s(h)};return l.isStepper=!1,l},R$=function(){return P_e(...U_e(...arguments))},R_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:r=8,dt:i=17}=e,s=(a,o,l)=>{var u=-(a-o)*t,d=l*r,h=l+(u-d)*i/1e3,g=l*i/1e3+a;return Math.abs(g-o)<zT&&Math.abs(h)<zT?[o,0]:[g,h]};return s.isStepper=!0,s.dt=i,s},D_e=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return R$(n);case"spring":return R_e();default:if(n.split("(")[0]==="cubic-bezier")return R$(n)}return typeof n=="function"?n:null};function N_e(n){var e,t=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){i=n.setTimeout(s.bind(null,u),l);return}s(l),i=n.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,t(e)),typeof a=="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(t=a,()=>{t=()=>null}),getTimeoutController:()=>n}}class L_e{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=t?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Q_e(){return N_e(new L_e)}var k_e=F.createContext(Q_e);function O_e(n,e){var t=F.useContext(k_e);return F.useMemo(()=>e??t(n),[n,e,t])}var H_e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),uB={devToolsEnabled:!1,isSsr:H_e()},V_e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},D$={t:0},eR={t:1};function Lk(n){var e=ho(n,V_e),{isActive:t,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=t==="auto"?!uB.isSsr:t,h=O_e(e.animationId,e.animationManager),[g,v]=F.useState(d?D$:eR),C=F.useRef(null);return F.useEffect(()=>{d||v(eR)},[d]),F.useEffect(()=>{if(!d||!r)return iB;var b=F_e(D$,eR,D_e(s),i,v,h.getTimeoutController()),B=()=>{C.current=b()};return h.start([l,a,B,i,o]),()=>{h.stop(),C.current&&C.current(),o()}},[d,r,i,s,a,l,o,h]),u(g.t)}function Qk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=F.useRef(rb(e)),r=F.useRef(n);return r.current!==n&&(t.current=rb(e),r.current=n),t.current}var K_e=["radius"],G_e=["radius"];function N$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function L$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(t),!0).forEach(function(r){z_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function z_e(n,e,t){return(e=$_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $_e(n){var e=q_e(n,"string");return typeof e=="symbol"?e:e+""}function q_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $T(){return $T=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$T.apply(null,arguments)}function Q$(n,e){if(n==null)return{};var t,r,i=j_e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function j_e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var k$=(n,e,t,r,i)=>{var s=Math.min(Math.abs(t)/2,Math.abs(r)/2),a=r>=0?1:-1,o=t>=0?1:-1,l=r>=0&&t>=0||r<0&&t<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=i[h]>s?s:i[h];u="M".concat(n,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(n+o*d[0],",").concat(e)),u+="L ".concat(n+t-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(n+t,",").concat(e+a*d[1])),u+="L ".concat(n+t,",").concat(e+r-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(n+t-o*d[2],",").concat(e+r)),u+="L ".concat(n+o*d[3],",").concat(e+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(n,",").concat(e+r-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);u="M ".concat(n,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+o*v,",").concat(e,`
            L `).concat(n+t-o*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t,",").concat(e+a*v,`
            L `).concat(n+t,",").concat(e+r-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t-o*v,",").concat(e+r,`
            L `).concat(n+o*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n,",").concat(e+r-a*v," Z")}else u="M ".concat(n,",").concat(e," h ").concat(t," v ").concat(r," h ").concat(-t," Z");return u},O$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YJ=n=>{var e=ho(n,O$),t=F.useRef(null),[r,i]=F.useState(-1);F.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var q=t.current.getTotalLength();q&&i(q)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:C,isUpdateAnimationActive:b}=e,B=F.useRef(o),S=F.useRef(l),I=F.useRef(s),T=F.useRef(a),R=F.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),M=Qk(R,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var D=Nn("recharts-rectangle",d);if(!b){var L=uo(e),{radius:H}=L,k=Q$(L,K_e);return F.createElement("path",$T({},k,{radius:typeof u=="number"?u:void 0,className:D,d:k$(s,a,o,l,u)}))}var G=B.current,K=S.current,z=I.current,J=T.current,ne="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),V=$J(["strokeDasharray"],g,typeof h=="string"?h:O$.animationEasing);return F.createElement(Lk,{animationId:M,key:M,canBegin:r>0,duration:g,easing:h,isActive:b,begin:v},q=>{var te=Bi(G,o,q),he=Bi(K,l,q),ve=Bi(z,s,q),$=Bi(J,a,q);t.current&&(B.current=te,S.current=he,I.current=ve,T.current=$);var Y;C?q>0?Y={transition:V,strokeDasharray:oe}:Y={strokeDasharray:ne}:Y={strokeDasharray:oe};var Ae=uo(e),{radius:me}=Ae,re=Q$(Ae,G_e);return F.createElement("path",$T({},re,{radius:typeof u=="number"?u:void 0,className:D,d:k$(ve,$,te,he,u),ref:t,style:L$(L$({},Y),e.style)}))})};function H$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function V$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H$(Object(t),!0).forEach(function(r){W_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function W_e(n,e,t){return(e=Y_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Y_e(n){var e=X_e(n,"string");return typeof e=="symbol"?e:e+""}function X_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var qT=Math.PI/180,J_e=n=>n*180/Math.PI,Ti=(n,e,t,r)=>({x:n+Math.cos(-qT*r)*t,y:e+Math.sin(-qT*r)*t}),Z_e=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},eTe=(n,e)=>{var{x:t,y:r}=n,{x:i,y:s}=e;return Math.sqrt((t-i)**2+(r-s)**2)},tTe=(n,e)=>{var{x:t,y:r}=n,{cx:i,cy:s}=e,a=eTe({x:t,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(t-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:J_e(l),angleInRadian:l}},nTe=n=>{var{startAngle:e,endAngle:t}=n,r=Math.floor(e/360),i=Math.floor(t/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:t-s*360}},rTe=(n,e)=>{var{startAngle:t,endAngle:r}=e,i=Math.floor(t/360),s=Math.floor(r/360),a=Math.min(i,s);return n+a*360},iTe=(n,e)=>{var{chartX:t,chartY:r}=n,{radius:i,angle:s}=tTe({x:t,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:u}=nTe(e),d=s,h;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=l}return h?V$(V$({},e),{},{radius:i,angle:rTe(d,e)}):null};function XJ(n){var{cx:e,cy:t,radius:r,startAngle:i,endAngle:s}=n,a=Ti(e,t,r,i),o=Ti(e,t,r,s);return{points:[a,o],cx:e,cy:t,radius:r,startAngle:i,endAngle:s}}function sQ(){return sQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sQ.apply(null,arguments)}var sTe=(n,e)=>{var t=fa(e-n),r=Math.min(Math.abs(e-n),359.999);return t*r},Rx=n=>{var{cx:e,cy:t,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=n,u=o*(a?1:-1)+r,d=Math.asin(o/u)/qT,h=l?i:i+s*d,g=Ti(e,t,u,h),v=Ti(e,t,r,h),C=l?i-s*d:i,b=Ti(e,t,u*Math.cos(d*qT),C);return{center:g,circleTangency:v,lineTangency:b,theta:d}},JJ=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=n,o=sTe(s,a),l=s+o,u=Ti(e,t,i,s),d=Ti(e,t,i,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var g=Ti(e,t,r,s),v=Ti(e,t,r,l);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},aTe=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=n,d=fa(u-l),{circleTangency:h,lineTangency:g,theta:v}=Rx({cx:e,cy:t,radius:i,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:C,lineTangency:b,theta:B}=Rx({cx:e,cy:t,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(l-u):Math.abs(l-u)-v-B;if(S<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):JJ({cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var I="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:R,theta:M}=Rx({cx:e,cy:t,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:D,lineTangency:L,theta:H}=Rx({cx:e,cy:t,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-u):Math.abs(l-u)-M-H;if(k<0&&s===0)return"".concat(I,"L").concat(e,",").concat(t,"Z");I+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,"Z")}else I+="L".concat(e,",").concat(t,"Z");return I},oTe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ZJ=n=>{var e=ho(n,oTe),{cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:h}=e;if(s<i||u===d)return null;var g=Nn("recharts-sector",h),v=s-i,C=Ho(a,v,0,!0),b;return C>0&&Math.abs(u-d)<360?b=aTe({cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(C,v/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):b=JJ({cx:t,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),F.createElement("path",sQ({},uo(e),{className:g,d:b}))};function ATe(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(H9(e)){if(n==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,l=Ti(r,i,s,o),u=Ti(r,i,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return XJ(e)}}var tR={},nR={},rR={},K$;function lTe(){return K$||(K$=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=J9();function t(r){return e.isSymbol(r)?NaN:Number(r)}n.toNumber=t})(rR)),rR}var G$;function uTe(){return G$||(G$=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=lTe();function t(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}n.toFinite=t})(nR)),nR}var z$;function cTe(){return z$||(z$=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Z9(),t=uTe();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=t.toFinite(i),s===void 0?(s=i,i=0):s=t.toFinite(s),a=a===void 0?i<s?1:-1:t.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=a;return l}n.range=r})(tR)),tR}var iR,$$;function dTe(){return $$||($$=1,iR=cTe().range),iR}var fTe=dTe();const e7=OA(fTe);function $d(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function hTe(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function kk(n){let e,t,r;n.length!==2?(e=$d,t=(o,l)=>$d(n(o),l),r=(o,l)=>n(o)-l):(e=n===$d||n===hTe?n:pTe,t=n,r=n);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){const h=i(o,l,u,d-1);return h>u&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function pTe(){return 0}function t7(n){return n===null?NaN:+n}function*gTe(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const mTe=kk($d),cB=mTe.right;kk(t7).center;class q$ extends Map{constructor(e,t=wTe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(j$(this,e))}has(e){return super.has(j$(this,e))}set(e,t){return super.set(vTe(this,e),t)}delete(e){return super.delete(yTe(this,e))}}function j$({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function vTe({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function yTe({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function wTe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function bTe(n=$d){if(n===$d)return n7;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function n7(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const CTe=Math.sqrt(50),ETe=Math.sqrt(10),BTe=Math.sqrt(2);function jT(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=CTe?10:s>=ETe?5:s>=BTe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(n*u),l=Math.round(e*u),o/u<n&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(n/u),l=Math.round(e/u),o*u<n&&++o,l*u>e&&--l),l<o&&.5<=t&&t<2?jT(n,e,t*2):[o,l,u]}function aQ(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,s,a]=r?jT(e,n,t):jT(n,e,t);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function oQ(n,e,t){return e=+e,n=+n,t=+t,jT(n,e,t)[2]}function AQ(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?oQ(e,n,t):oQ(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function W$(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function Y$(n,e){let t;for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);return t}function r7(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?n7:bTe(i);r>t;){if(r-t>600){const l=r-t+1,u=e-t+1,d=Math.log(l),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),v=Math.max(t,Math.floor(e-u*h/l+g)),C=Math.min(r,Math.floor(e+(l-u)*h/l+g));r7(n,e,v,C,i)}const s=n[e];let a=t,o=r;for($0(n,t,e),i(n[r],s)>0&&$0(n,t,r);a<o;){for($0(n,a,o),++a,--o;i(n[a],s)<0;)++a;for(;i(n[o],s)>0;)--o}i(n[t],s)===0?$0(n,t,o):(++o,$0(n,o,r)),o<=e&&(t=o+1),e<=o&&(r=o-1)}return n}function $0(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function STe(n,e,t){if(n=Float64Array.from(gTe(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return Y$(n);if(e>=1)return W$(n);var r,i=(r-1)*e,s=Math.floor(i),a=W$(r7(n,s).subarray(0,s+1)),o=Y$(n.subarray(s+1));return a+(o-a)*(i-s)}}function xTe(n,e,t=t7){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,s=Math.floor(i),a=+t(n[s],s,n),o=+t(n[s+1],s+1,n);return a+(o-a)*(i-s)}}function _Te(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(i);++r<i;)s[r]=n+r*t;return s}function po(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Gu(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lQ=Symbol("implicit");function Ok(){var n=new q$,e=[],t=[],r=lQ;function i(s){let a=n.get(s);if(a===void 0){if(r!==lQ)return r;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new q$;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(t=Array.from(s),i):t.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Ok(e,t).unknown(r)},po.apply(i,arguments),i}function Hk(){var n=Ok().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,s,a,o=!1,l=0,u=0,d=.5;delete n.unknown;function h(){var g=e().length,v=i<r,C=v?i:r,b=v?r:i;s=(b-C)/Math.max(1,g-l+u*2),o&&(s=Math.floor(s)),C+=(b-C-s*(g-l))*d,a=s*(1-l),o&&(C=Math.round(C),a=Math.round(a));var B=_Te(g).map(function(S){return C+s*S});return t(v?B.reverse():B)}return n.domain=function(g){return arguments.length?(e(g),h()):e()},n.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,h()):[r,i]},n.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,o=!0,h()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(g){return arguments.length?(o=!!g,h()):o},n.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},n.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},n.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},n.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},n.copy=function(){return Hk(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},po.apply(h(),arguments)}function i7(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return i7(e())},n}function TTe(){return i7(Hk.apply(null,arguments).paddingInner(1))}function Vk(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function s7(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function dB(){}var cb=.7,WT=1/cb,um="\\s*([+-]?\\d+)\\s*",db="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",RA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ITe=/^#([0-9a-f]{3,8})$/,FTe=new RegExp(`^rgb\\(${um},${um},${um}\\)$`),MTe=new RegExp(`^rgb\\(${RA},${RA},${RA}\\)$`),UTe=new RegExp(`^rgba\\(${um},${um},${um},${db}\\)$`),PTe=new RegExp(`^rgba\\(${RA},${RA},${RA},${db}\\)$`),RTe=new RegExp(`^hsl\\(${db},${RA},${RA}\\)$`),DTe=new RegExp(`^hsla\\(${db},${RA},${RA},${db}\\)$`),X$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vk(dB,fb,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:J$,formatHex:J$,formatHex8:NTe,formatHsl:LTe,formatRgb:Z$,toString:Z$});function J$(){return this.rgb().formatHex()}function NTe(){return this.rgb().formatHex8()}function LTe(){return a7(this).formatHsl()}function Z$(){return this.rgb().formatRgb()}function fb(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=ITe.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?eq(e):t===3?new Is(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Dx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Dx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=FTe.exec(n))?new Is(e[1],e[2],e[3],1):(e=MTe.exec(n))?new Is(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=UTe.exec(n))?Dx(e[1],e[2],e[3],e[4]):(e=PTe.exec(n))?Dx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=RTe.exec(n))?rq(e[1],e[2]/100,e[3]/100,1):(e=DTe.exec(n))?rq(e[1],e[2]/100,e[3]/100,e[4]):X$.hasOwnProperty(n)?eq(X$[n]):n==="transparent"?new Is(NaN,NaN,NaN,0):null}function eq(n){return new Is(n>>16&255,n>>8&255,n&255,1)}function Dx(n,e,t,r){return r<=0&&(n=e=t=NaN),new Is(n,e,t,r)}function QTe(n){return n instanceof dB||(n=fb(n)),n?(n=n.rgb(),new Is(n.r,n.g,n.b,n.opacity)):new Is}function uQ(n,e,t,r){return arguments.length===1?QTe(n):new Is(n,e,t,r??1)}function Is(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}Vk(Is,uQ,s7(dB,{brighter(n){return n=n==null?WT:Math.pow(WT,n),new Is(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?cb:Math.pow(cb,n),new Is(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Is(wp(this.r),wp(this.g),wp(this.b),YT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tq,formatHex:tq,formatHex8:kTe,formatRgb:nq,toString:nq}));function tq(){return`#${Hf(this.r)}${Hf(this.g)}${Hf(this.b)}`}function kTe(){return`#${Hf(this.r)}${Hf(this.g)}${Hf(this.b)}${Hf((isNaN(this.opacity)?1:this.opacity)*255)}`}function nq(){const n=YT(this.opacity);return`${n===1?"rgb(":"rgba("}${wp(this.r)}, ${wp(this.g)}, ${wp(this.b)}${n===1?")":`, ${n})`}`}function YT(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function wp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Hf(n){return n=wp(n),(n<16?"0":"")+n.toString(16)}function rq(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Qo(n,e,t,r)}function a7(n){if(n instanceof Qo)return new Qo(n.h,n.s,n.l,n.opacity);if(n instanceof dB||(n=fb(n)),!n)return new Qo;if(n instanceof Qo)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(t-r)/o+(t<r)*6:t===s?a=(r-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Qo(a,o,l,n.opacity)}function OTe(n,e,t,r){return arguments.length===1?a7(n):new Qo(n,e,t,r??1)}function Qo(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}Vk(Qo,OTe,s7(dB,{brighter(n){return n=n==null?WT:Math.pow(WT,n),new Qo(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?cb:Math.pow(cb,n),new Qo(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new Is(sR(n>=240?n-240:n+120,i,r),sR(n,i,r),sR(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Qo(iq(this.h),Nx(this.s),Nx(this.l),YT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=YT(this.opacity);return`${n===1?"hsl(":"hsla("}${iq(this.h)}, ${Nx(this.s)*100}%, ${Nx(this.l)*100}%${n===1?")":`, ${n})`}`}}));function iq(n){return n=(n||0)%360,n<0?n+360:n}function Nx(n){return Math.max(0,Math.min(1,n||0))}function sR(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const Kk=n=>()=>n;function HTe(n,e){return function(t){return n+t*e}}function VTe(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function KTe(n){return(n=+n)==1?o7:function(e,t){return t-e?VTe(e,t,n):Kk(isNaN(e)?t:e)}}function o7(n,e){var t=e-n;return t?HTe(n,t):Kk(isNaN(n)?e:n)}const sq=(function n(e){var t=KTe(e);function r(i,s){var a=t((i=uQ(i)).r,(s=uQ(s)).r),o=t(i.g,s.g),l=t(i.b,s.b),u=o7(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=n,r})(1);function GTe(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(s){for(i=0;i<t;++i)r[i]=n[i]*(1-s)+e[i]*s;return r}}function zTe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function $Te(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),s=new Array(t),a;for(a=0;a<r;++a)i[a]=Fy(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function qTe(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function XT(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function jTe(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=Fy(n[i],e[i]):r[i]=e[i];return function(s){for(i in t)r[i]=t[i](s);return r}}var cQ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aR=new RegExp(cQ.source,"g");function WTe(n){return function(){return n}}function YTe(n){return function(e){return n(e)+""}}function XTe(n,e){var t=cQ.lastIndex=aR.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(r=cQ.exec(n))&&(i=aR.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:XT(r,i)})),t=aR.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?YTe(l[0].x):WTe(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function Fy(n,e){var t=typeof e,r;return e==null||t==="boolean"?Kk(e):(t==="number"?XT:t==="string"?(r=fb(e))?(e=r,sq):XTe:e instanceof fb?sq:e instanceof Date?qTe:zTe(e)?GTe:Array.isArray(e)?$Te:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?jTe:XT)(n,e)}function Gk(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function JTe(n,e){e===void 0&&(e=n,n=Fy);for(var t=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);t<r;)s[t]=n(i,i=e[++t]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function ZTe(n){return function(){return n}}function JT(n){return+n}var aq=[0,1];function rs(n){return n}function dQ(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:ZTe(isNaN(e)?NaN:.5)}function e1e(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function t1e(n,e,t){var r=n[0],i=n[1],s=e[0],a=e[1];return i<r?(r=dQ(i,r),s=t(a,s)):(r=dQ(r,i),s=t(s,a)),function(o){return s(r(o))}}function n1e(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=dQ(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=cB(n,o,1,r)-1;return s[l](i[l](o))}}function fB(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function FI(){var n=aq,e=aq,t=Fy,r,i,s,a=rs,o,l,u;function d(){var g=Math.min(n.length,e.length);return a!==rs&&(a=e1e(n[0],n[g-1])),o=g>2?n1e:t1e,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?s:(l||(l=o(n.map(r),e,t)))(r(a(g)))}return h.invert=function(g){return a(i((u||(u=o(e,n.map(r),XT)))(g)))},h.domain=function(g){return arguments.length?(n=Array.from(g,JT),d()):n.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),t=Gk,d()},h.clamp=function(g){return arguments.length?(a=g?!0:rs,d()):a!==rs},h.interpolate=function(g){return arguments.length?(t=g,d()):t},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return r=g,i=v,d()}}function zk(){return FI()(rs,rs)}function r1e(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function ZT(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function gy(n){return n=ZT(Math.abs(n)),n?n[1]:NaN}function i1e(n,e){return function(t,r){for(var i=t.length,s=[],a=0,o=n[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(t.substring(i-=o,i+o)),!((l+=o+1)>r));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function s1e(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var a1e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hb(n){if(!(e=a1e.exec(n)))throw new Error("invalid format: "+n);var e;return new $k({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}hb.prototype=$k.prototype;function $k(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}$k.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function o1e(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var A7;function A1e(n,e){var t=ZT(n,e);if(!t)return n+"";var r=t[0],i=t[1],s=i-(A7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ZT(n,Math.max(0,e+s-1))[0]}function oq(n,e){var t=ZT(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Aq={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:r1e,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>oq(n*100,e),r:oq,s:A1e,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function lq(n){return n}var uq=Array.prototype.map,cq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function l1e(n){var e=n.grouping===void 0||n.thousands===void 0?lq:i1e(uq.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?lq:s1e(uq.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(h){h=hb(h);var g=h.fill,v=h.align,C=h.sign,b=h.symbol,B=h.zero,S=h.width,I=h.comma,T=h.precision,R=h.trim,M=h.type;M==="n"?(I=!0,M="g"):Aq[M]||(T===void 0&&(T=12),R=!0,M="g"),(B||g==="0"&&v==="=")&&(B=!0,g="0",v="=");var D=b==="$"?t:b==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",L=b==="$"?r:/[%p]/.test(M)?a:"",H=Aq[M],k=/[defgprs%]/.test(M);T=T===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function G(K){var z=D,J=L,ne,oe,V;if(M==="c")J=H(K)+J,K="";else{K=+K;var q=K<0||1/K<0;if(K=isNaN(K)?l:H(Math.abs(K),T),R&&(K=o1e(K)),q&&+K==0&&C!=="+"&&(q=!1),z=(q?C==="("?C:o:C==="-"||C==="("?"":C)+z,J=(M==="s"?cq[8+A7/3]:"")+J+(q&&C==="("?")":""),k){for(ne=-1,oe=K.length;++ne<oe;)if(V=K.charCodeAt(ne),48>V||V>57){J=(V===46?i+K.slice(ne+1):K.slice(ne))+J,K=K.slice(0,ne);break}}}I&&!B&&(K=e(K,1/0));var te=z.length+K.length+J.length,he=te<S?new Array(S-te+1).join(g):"";switch(I&&B&&(K=e(he+K,he.length?S-J.length:1/0),he=""),v){case"<":K=z+K+J+he;break;case"=":K=z+he+K+J;break;case"^":K=he.slice(0,te=he.length>>1)+z+K+J+he.slice(te);break;default:K=he+z+K+J;break}return s(K)}return G.toString=function(){return h+""},G}function d(h,g){var v=u((h=hb(h),h.type="f",h)),C=Math.max(-8,Math.min(8,Math.floor(gy(g)/3)))*3,b=Math.pow(10,-C),B=cq[8+C/3];return function(S){return v(b*S)+B}}return{format:u,formatPrefix:d}}var Lx,qk,l7;u1e({thousands:",",grouping:[3],currency:["$",""]});function u1e(n){return Lx=l1e(n),qk=Lx.format,l7=Lx.formatPrefix,Lx}function c1e(n){return Math.max(0,-gy(Math.abs(n)))}function d1e(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gy(e)/3)))*3-gy(Math.abs(n)))}function f1e(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,gy(e)-gy(n))+1}function u7(n,e,t,r){var i=AQ(n,e,t),s;switch(r=hb(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(s=d1e(i,a))&&(r.precision=s),l7(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=f1e(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=c1e(i))&&(r.precision=s-(r.type==="%")*2);break}}return qk(r)}function nf(n){var e=n.domain;return n.ticks=function(t){var r=e();return aQ(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return u7(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=oQ(a,o,t),u===l)return r[i]=a,r[s]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return n},n}function c7(){var n=zk();return n.copy=function(){return fB(n,c7())},po.apply(n,arguments),nf(n)}function d7(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,JT),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return d7(n).unknown(e)},n=arguments.length?Array.from(n,JT):[0,1],nf(t)}function f7(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],s=n[r],a;return s<i&&(a=t,t=r,r=a,a=i,i=s,s=a),n[t]=e.floor(i),n[r]=e.ceil(s),n}function dq(n){return Math.log(n)}function fq(n){return Math.exp(n)}function h1e(n){return-Math.log(-n)}function p1e(n){return-Math.exp(-n)}function g1e(n){return isFinite(n)?+("1e"+n):n<0?0:n}function m1e(n){return n===10?g1e:n===Math.E?Math.exp:e=>Math.pow(n,e)}function v1e(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function hq(n){return(e,t)=>-n(-e,t)}function jk(n){const e=n(dq,fq),t=e.domain;let r=10,i,s;function a(){return i=v1e(r),s=m1e(r),t()[0]<0?(i=hq(i),s=hq(s),n(h1e,p1e)):n(dq,fq),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=i(u),v=i(d),C,b;const B=o==null?10:+o;let S=[];if(!(r%1)&&v-g<B){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(C=1;C<r;++C)if(b=g<0?C/s(-g):C*s(g),!(b<u)){if(b>d)break;S.push(b)}}else for(;g<=v;++g)for(C=r-1;C>=1;--C)if(b=g>0?C/s(-g):C*s(g),!(b<u)){if(b>d)break;S.push(b)}S.length*2<B&&(S=aQ(u,d,B))}else S=aQ(g,v,Math.min(v-g,B)).map(s);return h?S.reverse():S},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=hb(l)).precision==null&&(l.trim=!0),l=qk(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=u?l(d):""}},e.nice=()=>t(f7(t(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function h7(){const n=jk(FI()).domain([1,10]);return n.copy=()=>fB(n,h7()).base(n.base()),po.apply(n,arguments),n}function pq(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function gq(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function Wk(n){var e=1,t=n(pq(e),gq(e));return t.constant=function(r){return arguments.length?n(pq(e=+r),gq(e)):e},nf(t)}function p7(){var n=Wk(FI());return n.copy=function(){return fB(n,p7()).constant(n.constant())},po.apply(n,arguments)}function mq(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function y1e(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function w1e(n){return n<0?-n*n:n*n}function Yk(n){var e=n(rs,rs),t=1;function r(){return t===1?n(rs,rs):t===.5?n(y1e,w1e):n(mq(t),mq(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},nf(e)}function Xk(){var n=Yk(FI());return n.copy=function(){return fB(n,Xk()).exponent(n.exponent())},po.apply(n,arguments),n}function b1e(){return Xk.apply(null,arguments).exponent(.5)}function vq(n){return Math.sign(n)*n*n}function C1e(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function g7(){var n=zk(),e=[0,1],t=!1,r;function i(s){var a=C1e(n(s));return isNaN(a)?r:t?Math.round(a):a}return i.invert=function(s){return n.invert(vq(s))},i.domain=function(s){return arguments.length?(n.domain(s),i):n.domain()},i.range=function(s){return arguments.length?(n.range((e=Array.from(s,JT)).map(vq)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(t=!!s,i):t},i.clamp=function(s){return arguments.length?(n.clamp(s),i):n.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return g7(n.domain(),e).round(t).clamp(n.clamp()).unknown(r)},po.apply(i,arguments),nf(i)}function m7(){var n=[],e=[],t=[],r;function i(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=xTe(n,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[cB(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},s.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let o of a)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort($d),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return t.slice()},s.copy=function(){return m7().domain(n).range(e).unknown(r)},po.apply(s,arguments)}function v7(){var n=0,e=1,t=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[cB(r,l,0,t)]:s}function o(){var l=-1;for(r=new Array(t);++l<t;)r[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,o()):[n,e]},a.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[n,r[0]]:u>=t?[r[t-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return v7().domain([n,e]).range(i).unknown(s)},po.apply(nf(a),arguments)}function y7(){var n=[.5],e=[0,1],t,r=1;function i(s){return s!=null&&s<=s?e[cB(n,s,0,r)]:t}return i.domain=function(s){return arguments.length?(n=Array.from(s),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},i.unknown=function(s){return arguments.length?(t=s,i):t},i.copy=function(){return y7().domain(n).range(e).unknown(t)},po.apply(i,arguments)}const oR=new Date,AR=new Date;function Gr(n,e,t,r){function i(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(n(s=new Date(+s)),s),i.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),n(s);while(u<s&&s<a);return l},i.filter=s=>Gr(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(i.count=(s,a)=>(oR.setTime(+s),AR.setTime(+a),n(oR),n(AR),Math.floor(t(oR,AR))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const e1=Gr(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);e1.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Gr(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):e1);e1.range;const pu=1e3,so=pu*60,gu=so*60,Fu=gu*24,Jk=Fu*7,yq=Fu*30,lR=Fu*365,Vf=Gr(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*pu)},(n,e)=>(e-n)/pu,n=>n.getUTCSeconds());Vf.range;const Zk=Gr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*pu)},(n,e)=>{n.setTime(+n+e*so)},(n,e)=>(e-n)/so,n=>n.getMinutes());Zk.range;const eO=Gr(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*so)},(n,e)=>(e-n)/so,n=>n.getUTCMinutes());eO.range;const tO=Gr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*pu-n.getMinutes()*so)},(n,e)=>{n.setTime(+n+e*gu)},(n,e)=>(e-n)/gu,n=>n.getHours());tO.range;const nO=Gr(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*gu)},(n,e)=>(e-n)/gu,n=>n.getUTCHours());nO.range;const hB=Gr(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*so)/Fu,n=>n.getDate()-1);hB.range;const MI=Gr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Fu,n=>n.getUTCDate()-1);MI.range;const w7=Gr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Fu,n=>Math.floor(n/Fu));w7.range;function Np(n){return Gr(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*so)/Jk)}const UI=Np(0),t1=Np(1),E1e=Np(2),B1e=Np(3),my=Np(4),S1e=Np(5),x1e=Np(6);UI.range;t1.range;E1e.range;B1e.range;my.range;S1e.range;x1e.range;function Lp(n){return Gr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/Jk)}const PI=Lp(0),n1=Lp(1),_1e=Lp(2),T1e=Lp(3),vy=Lp(4),I1e=Lp(5),F1e=Lp(6);PI.range;n1.range;_1e.range;T1e.range;vy.range;I1e.range;F1e.range;const rO=Gr(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());rO.range;const iO=Gr(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());iO.range;const Mu=Gr(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());Mu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Gr(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});Mu.range;const Uu=Gr(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Uu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Gr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});Uu.range;function b7(n,e,t,r,i,s){const a=[[Vf,1,pu],[Vf,5,5*pu],[Vf,15,15*pu],[Vf,30,30*pu],[s,1,so],[s,5,5*so],[s,15,15*so],[s,30,30*so],[i,1,gu],[i,3,3*gu],[i,6,6*gu],[i,12,12*gu],[r,1,Fu],[r,2,2*Fu],[t,1,Jk],[e,1,yq],[e,3,3*yq],[n,1,lR]];function o(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const v=h&&typeof h.range=="function"?h:l(u,d,h),C=v?v.range(u,+d+1):[];return g?C.reverse():C}function l(u,d,h){const g=Math.abs(d-u)/h,v=kk(([,,B])=>B).right(a,g);if(v===a.length)return n.every(AQ(u/lR,d/lR,h));if(v===0)return e1.every(Math.max(AQ(u,d,h),1));const[C,b]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return C.every(b)}return[o,l]}const[M1e,U1e]=b7(Uu,iO,PI,w7,nO,eO),[P1e,R1e]=b7(Mu,rO,UI,hB,tO,Zk);function uR(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function cR(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function q0(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function D1e(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,s=n.days,a=n.shortDays,o=n.months,l=n.shortMonths,u=j0(i),d=W0(i),h=j0(s),g=W0(s),v=j0(a),C=W0(a),b=j0(o),B=W0(o),S=j0(l),I=W0(l),T={a:q,A:te,b:he,B:ve,c:null,d:Sq,e:Sq,f:iIe,g:hIe,G:gIe,H:tIe,I:nIe,j:rIe,L:C7,m:sIe,M:aIe,p:$,q:Y,Q:Tq,s:Iq,S:oIe,u:AIe,U:lIe,V:uIe,w:cIe,W:dIe,x:null,X:null,y:fIe,Y:pIe,Z:mIe,"%":_q},R={a:Ae,A:me,b:re,B:fe,c:null,d:xq,e:xq,f:bIe,g:MIe,G:PIe,H:vIe,I:yIe,j:wIe,L:B7,m:CIe,M:EIe,p:le,q:Se,Q:Tq,s:Iq,S:BIe,u:SIe,U:xIe,V:_Ie,w:TIe,W:IIe,x:null,X:null,y:FIe,Y:UIe,Z:RIe,"%":_q},M={a:G,A:K,b:z,B:J,c:ne,d:Eq,e:Eq,f:X1e,g:Cq,G:bq,H:Bq,I:Bq,j:q1e,L:Y1e,m:$1e,M:j1e,p:k,q:z1e,Q:Z1e,s:eIe,S:W1e,u:O1e,U:H1e,V:V1e,w:k1e,W:K1e,x:oe,X:V,y:Cq,Y:bq,Z:G1e,"%":J1e};T.x=D(t,T),T.X=D(r,T),T.c=D(e,T),R.x=D(t,R),R.X=D(r,R),R.c=D(e,R);function D(Z,Ue){return function(Ie){var ye=[],vt=-1,qe=0,Vt=Z.length,It,Kn,rt;for(Ie instanceof Date||(Ie=new Date(+Ie));++vt<Vt;)Z.charCodeAt(vt)===37&&(ye.push(Z.slice(qe,vt)),(Kn=wq[It=Z.charAt(++vt)])!=null?It=Z.charAt(++vt):Kn=It==="e"?" ":"0",(rt=Ue[It])&&(It=rt(Ie,Kn)),ye.push(It),qe=vt+1);return ye.push(Z.slice(qe,vt)),ye.join("")}}function L(Z,Ue){return function(Ie){var ye=q0(1900,void 0,1),vt=H(ye,Z,Ie+="",0),qe,Vt;if(vt!=Ie.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(Ue&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(qe=cR(q0(ye.y,0,1)),Vt=qe.getUTCDay(),qe=Vt>4||Vt===0?n1.ceil(qe):n1(qe),qe=MI.offset(qe,(ye.V-1)*7),ye.y=qe.getUTCFullYear(),ye.m=qe.getUTCMonth(),ye.d=qe.getUTCDate()+(ye.w+6)%7):(qe=uR(q0(ye.y,0,1)),Vt=qe.getDay(),qe=Vt>4||Vt===0?t1.ceil(qe):t1(qe),qe=hB.offset(qe,(ye.V-1)*7),ye.y=qe.getFullYear(),ye.m=qe.getMonth(),ye.d=qe.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),Vt="Z"in ye?cR(q0(ye.y,0,1)).getUTCDay():uR(q0(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(Vt+5)%7:ye.w+ye.U*7-(Vt+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,cR(ye)):uR(ye)}}function H(Z,Ue,Ie,ye){for(var vt=0,qe=Ue.length,Vt=Ie.length,It,Kn;vt<qe;){if(ye>=Vt)return-1;if(It=Ue.charCodeAt(vt++),It===37){if(It=Ue.charAt(vt++),Kn=M[It in wq?Ue.charAt(vt++):It],!Kn||(ye=Kn(Z,Ie,ye))<0)return-1}else if(It!=Ie.charCodeAt(ye++))return-1}return ye}function k(Z,Ue,Ie){var ye=u.exec(Ue.slice(Ie));return ye?(Z.p=d.get(ye[0].toLowerCase()),Ie+ye[0].length):-1}function G(Z,Ue,Ie){var ye=v.exec(Ue.slice(Ie));return ye?(Z.w=C.get(ye[0].toLowerCase()),Ie+ye[0].length):-1}function K(Z,Ue,Ie){var ye=h.exec(Ue.slice(Ie));return ye?(Z.w=g.get(ye[0].toLowerCase()),Ie+ye[0].length):-1}function z(Z,Ue,Ie){var ye=S.exec(Ue.slice(Ie));return ye?(Z.m=I.get(ye[0].toLowerCase()),Ie+ye[0].length):-1}function J(Z,Ue,Ie){var ye=b.exec(Ue.slice(Ie));return ye?(Z.m=B.get(ye[0].toLowerCase()),Ie+ye[0].length):-1}function ne(Z,Ue,Ie){return H(Z,e,Ue,Ie)}function oe(Z,Ue,Ie){return H(Z,t,Ue,Ie)}function V(Z,Ue,Ie){return H(Z,r,Ue,Ie)}function q(Z){return a[Z.getDay()]}function te(Z){return s[Z.getDay()]}function he(Z){return l[Z.getMonth()]}function ve(Z){return o[Z.getMonth()]}function $(Z){return i[+(Z.getHours()>=12)]}function Y(Z){return 1+~~(Z.getMonth()/3)}function Ae(Z){return a[Z.getUTCDay()]}function me(Z){return s[Z.getUTCDay()]}function re(Z){return l[Z.getUTCMonth()]}function fe(Z){return o[Z.getUTCMonth()]}function le(Z){return i[+(Z.getUTCHours()>=12)]}function Se(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var Ue=D(Z+="",T);return Ue.toString=function(){return Z},Ue},parse:function(Z){var Ue=L(Z+="",!1);return Ue.toString=function(){return Z},Ue},utcFormat:function(Z){var Ue=D(Z+="",R);return Ue.toString=function(){return Z},Ue},utcParse:function(Z){var Ue=L(Z+="",!0);return Ue.toString=function(){return Z},Ue}}}var wq={"-":"",_:" ",0:"0"},li=/^\s*\d+/,N1e=/^%/,L1e=/[\\^$*+?|[\]().{}]/g;function kt(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",s=i.length;return r+(s<t?new Array(t-s+1).join(e)+i:i)}function Q1e(n){return n.replace(L1e,"\\$&")}function j0(n){return new RegExp("^(?:"+n.map(Q1e).join("|")+")","i")}function W0(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function k1e(n,e,t){var r=li.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function O1e(n,e,t){var r=li.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function H1e(n,e,t){var r=li.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function V1e(n,e,t){var r=li.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function K1e(n,e,t){var r=li.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function bq(n,e,t){var r=li.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function Cq(n,e,t){var r=li.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function G1e(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function z1e(n,e,t){var r=li.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function $1e(n,e,t){var r=li.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function Eq(n,e,t){var r=li.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function q1e(n,e,t){var r=li.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function Bq(n,e,t){var r=li.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function j1e(n,e,t){var r=li.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function W1e(n,e,t){var r=li.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function Y1e(n,e,t){var r=li.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function X1e(n,e,t){var r=li.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function J1e(n,e,t){var r=N1e.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function Z1e(n,e,t){var r=li.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function eIe(n,e,t){var r=li.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function Sq(n,e){return kt(n.getDate(),e,2)}function tIe(n,e){return kt(n.getHours(),e,2)}function nIe(n,e){return kt(n.getHours()%12||12,e,2)}function rIe(n,e){return kt(1+hB.count(Mu(n),n),e,3)}function C7(n,e){return kt(n.getMilliseconds(),e,3)}function iIe(n,e){return C7(n,e)+"000"}function sIe(n,e){return kt(n.getMonth()+1,e,2)}function aIe(n,e){return kt(n.getMinutes(),e,2)}function oIe(n,e){return kt(n.getSeconds(),e,2)}function AIe(n){var e=n.getDay();return e===0?7:e}function lIe(n,e){return kt(UI.count(Mu(n)-1,n),e,2)}function E7(n){var e=n.getDay();return e>=4||e===0?my(n):my.ceil(n)}function uIe(n,e){return n=E7(n),kt(my.count(Mu(n),n)+(Mu(n).getDay()===4),e,2)}function cIe(n){return n.getDay()}function dIe(n,e){return kt(t1.count(Mu(n)-1,n),e,2)}function fIe(n,e){return kt(n.getFullYear()%100,e,2)}function hIe(n,e){return n=E7(n),kt(n.getFullYear()%100,e,2)}function pIe(n,e){return kt(n.getFullYear()%1e4,e,4)}function gIe(n,e){var t=n.getDay();return n=t>=4||t===0?my(n):my.ceil(n),kt(n.getFullYear()%1e4,e,4)}function mIe(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+kt(e/60|0,"0",2)+kt(e%60,"0",2)}function xq(n,e){return kt(n.getUTCDate(),e,2)}function vIe(n,e){return kt(n.getUTCHours(),e,2)}function yIe(n,e){return kt(n.getUTCHours()%12||12,e,2)}function wIe(n,e){return kt(1+MI.count(Uu(n),n),e,3)}function B7(n,e){return kt(n.getUTCMilliseconds(),e,3)}function bIe(n,e){return B7(n,e)+"000"}function CIe(n,e){return kt(n.getUTCMonth()+1,e,2)}function EIe(n,e){return kt(n.getUTCMinutes(),e,2)}function BIe(n,e){return kt(n.getUTCSeconds(),e,2)}function SIe(n){var e=n.getUTCDay();return e===0?7:e}function xIe(n,e){return kt(PI.count(Uu(n)-1,n),e,2)}function S7(n){var e=n.getUTCDay();return e>=4||e===0?vy(n):vy.ceil(n)}function _Ie(n,e){return n=S7(n),kt(vy.count(Uu(n),n)+(Uu(n).getUTCDay()===4),e,2)}function TIe(n){return n.getUTCDay()}function IIe(n,e){return kt(n1.count(Uu(n)-1,n),e,2)}function FIe(n,e){return kt(n.getUTCFullYear()%100,e,2)}function MIe(n,e){return n=S7(n),kt(n.getUTCFullYear()%100,e,2)}function UIe(n,e){return kt(n.getUTCFullYear()%1e4,e,4)}function PIe(n,e){var t=n.getUTCDay();return n=t>=4||t===0?vy(n):vy.ceil(n),kt(n.getUTCFullYear()%1e4,e,4)}function RIe(){return"+0000"}function _q(){return"%"}function Tq(n){return+n}function Iq(n){return Math.floor(+n/1e3)}var Tg,x7,_7;DIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DIe(n){return Tg=D1e(n),x7=Tg.format,Tg.parse,_7=Tg.utcFormat,Tg.utcParse,Tg}function NIe(n){return new Date(n)}function LIe(n){return n instanceof Date?+n:+new Date(+n)}function sO(n,e,t,r,i,s,a,o,l,u){var d=zk(),h=d.invert,g=d.domain,v=u(".%L"),C=u(":%S"),b=u("%I:%M"),B=u("%I %p"),S=u("%a %d"),I=u("%b %d"),T=u("%B"),R=u("%Y");function M(D){return(l(D)<D?v:o(D)<D?C:a(D)<D?b:s(D)<D?B:r(D)<D?i(D)<D?S:I:t(D)<D?T:R)(D)}return d.invert=function(D){return new Date(h(D))},d.domain=function(D){return arguments.length?g(Array.from(D,LIe)):g().map(NIe)},d.ticks=function(D){var L=g();return n(L[0],L[L.length-1],D??10)},d.tickFormat=function(D,L){return L==null?M:u(L)},d.nice=function(D){var L=g();return(!D||typeof D.range!="function")&&(D=e(L[0],L[L.length-1],D??10)),D?g(f7(L,D)):d},d.copy=function(){return fB(d,sO(n,e,t,r,i,s,a,o,l,u))},d}function QIe(){return po.apply(sO(P1e,R1e,Mu,rO,UI,hB,tO,Zk,Vf,x7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kIe(){return po.apply(sO(M1e,U1e,Uu,iO,PI,MI,nO,eO,Vf,_7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function RI(){var n=0,e=1,t,r,i,s,a=rs,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-t)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([n,e]=h,t=s(n=+n),r=s(e=+e),i=t===r?0:1/(r-t),u):[n,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(g){var v,C;return arguments.length?([v,C]=g,a=h(v,C),u):[a(0),a(1)]}}return u.range=d(Fy),u.rangeRound=d(Gk),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,t=h(n),r=h(e),i=t===r?0:1/(r-t),u}}function rf(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function T7(){var n=nf(RI()(rs));return n.copy=function(){return rf(n,T7())},Gu.apply(n,arguments)}function I7(){var n=jk(RI()).domain([1,10]);return n.copy=function(){return rf(n,I7()).base(n.base())},Gu.apply(n,arguments)}function F7(){var n=Wk(RI());return n.copy=function(){return rf(n,F7()).constant(n.constant())},Gu.apply(n,arguments)}function aO(){var n=Yk(RI());return n.copy=function(){return rf(n,aO()).exponent(n.exponent())},Gu.apply(n,arguments)}function OIe(){return aO.apply(null,arguments).exponent(.5)}function M7(){var n=[],e=rs;function t(r){if(r!=null&&!isNaN(r=+r))return e((cB(n,r,1)-1)/(n.length-1))}return t.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort($d),t},t.interpolator=function(r){return arguments.length?(e=r,t):e},t.range=function(){return n.map((r,i)=>e(i/(n.length-1)))},t.quantiles=function(r){return Array.from({length:r+1},(i,s)=>STe(n,s/r))},t.copy=function(){return M7(e).domain(n)},Gu.apply(t,arguments)}function DI(){var n=0,e=.5,t=1,r=1,i,s,a,o,l,u=rs,d,h=!1,g;function v(b){return isNaN(b=+b)?g:(b=.5+((b=+d(b))-s)*(r*b<r*s?o:l),u(h?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([n,e,t]=b,i=d(n=+n),s=d(e=+e),a=d(t=+t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,v):[n,e,t]},v.clamp=function(b){return arguments.length?(h=!!b,v):h},v.interpolator=function(b){return arguments.length?(u=b,v):u};function C(b){return function(B){var S,I,T;return arguments.length?([S,I,T]=B,u=JTe(b,[S,I,T]),v):[u(0),u(.5),u(1)]}}return v.range=C(Fy),v.rangeRound=C(Gk),v.unknown=function(b){return arguments.length?(g=b,v):g},function(b){return d=b,i=b(n),s=b(e),a=b(t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function U7(){var n=nf(DI()(rs));return n.copy=function(){return rf(n,U7())},Gu.apply(n,arguments)}function P7(){var n=jk(DI()).domain([.1,1,10]);return n.copy=function(){return rf(n,P7()).base(n.base())},Gu.apply(n,arguments)}function R7(){var n=Wk(DI());return n.copy=function(){return rf(n,R7()).constant(n.constant())},Gu.apply(n,arguments)}function oO(){var n=Yk(DI());return n.copy=function(){return rf(n,oO()).exponent(n.exponent())},Gu.apply(n,arguments)}function HIe(){return oO.apply(null,arguments).exponent(.5)}const Pw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hk,scaleDiverging:U7,scaleDivergingLog:P7,scaleDivergingPow:oO,scaleDivergingSqrt:HIe,scaleDivergingSymlog:R7,scaleIdentity:d7,scaleImplicit:lQ,scaleLinear:c7,scaleLog:h7,scaleOrdinal:Ok,scalePoint:TTe,scalePow:Xk,scaleQuantile:m7,scaleQuantize:v7,scaleRadial:g7,scaleSequential:T7,scaleSequentialLog:I7,scaleSequentialPow:aO,scaleSequentialQuantile:M7,scaleSequentialSqrt:OIe,scaleSequentialSymlog:F7,scaleSqrt:b1e,scaleSymlog:p7,scaleThreshold:y7,scaleTime:QIe,scaleUtc:kIe,tickFormat:u7},Symbol.toStringTag,{value:"Module"}));var sf=n=>n.chartData,VIe=ce([sf],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),AO=(n,e,t,r)=>r?VIe(n):sf(n);function Jd(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(vr(e)&&vr(t))return!0}return!1}function Fq(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function D7(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,r]=n,i,s;if(vr(t))i=t;else if(typeof t=="function")return;if(vr(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Jd(a))return a}}function KIe(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var r=n(e,t);if(Jd(r))return Fq(r,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[i,s]=n,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Je(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&s$.test(i)){var l=s$.exec(i);if(l==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(Je(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&a$.test(s)){var d=a$.exec(s);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var g=[a,o];if(Jd(g))return e==null?g:Fq(g,e,t)}}}var My=1e9,GIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uO,Vn=!0,fo="[DecimalError] ",bp=fo+"Invalid argument: ",lO=fo+"Exponent out of range: ",Uy=Math.floor,Df=Math.pow,zIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,da,si=1e7,Dn=7,N7=9007199254740991,r1=Uy(N7/Dn),Oe={};Oe.absoluteValue=Oe.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Oe.comparedTo=Oe.cmp=function(n){var e,t,r,i,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(r=s.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*Dn;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Oe.dividedBy=Oe.div=function(n){return wu(this,new this.constructor(n))};Oe.dividedToIntegerBy=Oe.idiv=function(n){var e=this,t=e.constructor;return wn(wu(e,new t(n),0,1),t.precision)};Oe.equals=Oe.eq=function(n){return!this.cmp(n)};Oe.exponent=function(){return Pr(this)};Oe.greaterThan=Oe.gt=function(n){return this.cmp(n)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(n){return this.cmp(n)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(n){return this.cmp(n)<0};Oe.lessThanOrEqualTo=Oe.lte=function(n){return this.cmp(n)<1};Oe.logarithm=Oe.log=function(n){var e,t=this,r=t.constructor,i=r.precision,s=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(da))throw Error(fo+"NaN");if(t.s<1)throw Error(fo+(t.s?"NaN":"-Infinity"));return t.eq(da)?new r(0):(Vn=!1,e=wu(pb(t,s),pb(n,s),s),Vn=!0,wn(e,i))};Oe.minus=Oe.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?k7(e,n):L7(e,(n.s=-n.s,n))};Oe.modulo=Oe.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(fo+"NaN");return t.s?(Vn=!1,e=wu(t,n,0,1).times(n),Vn=!0,t.minus(e)):wn(new r(t),i)};Oe.naturalExponential=Oe.exp=function(){return Q7(this)};Oe.naturalLogarithm=Oe.ln=function(){return pb(this)};Oe.negated=Oe.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Oe.plus=Oe.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?L7(e,n):k7(e,(n.s=-n.s,n))};Oe.precision=Oe.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(bp+n);if(e=Pr(i)+1,r=i.d.length-1,t=r*Dn+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};Oe.squareRoot=Oe.sqrt=function(){var n,e,t,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(fo+"NaN")}for(n=Pr(o),Vn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=PA(o.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=Uy((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new l(e)):r=new l(i.toString()),t=l.precision,i=a=t+3;;)if(s=r,r=s.plus(wu(o,s,a+2)).times(.5),PA(s.d).slice(0,a)===(e=PA(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(wn(s,t+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return Vn=!0,wn(r,t)};Oe.times=Oe.mul=function(n){var e,t,r,i,s,a,o,l,u,d=this,h=d.constructor,g=d.d,v=(n=new h(n)).d;if(!d.s||!n.s)return new h(0);for(n.s*=d.s,t=d.e+n.e,l=g.length,u=v.length,l<u&&(s=g,g=v,v=s,a=l,l=u,u=a),s=[],a=l+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+v[r]*g[i-r-1]+e,s[i--]=o%si|0,e=o/si|0;s[i]=(s[i]+e)%si|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,Vn?wn(n,h.precision):n};Oe.toDecimalPlaces=Oe.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(LA(n,0,My),e===void 0?e=r.rounding:LA(e,0,8),wn(t,n+Pr(t)+1,e))};Oe.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=Tp(r,!0):(LA(n,0,My),e===void 0?e=i.rounding:LA(e,0,8),r=wn(new i(r),n+1,e),t=Tp(r,!0,n+1)),t};Oe.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?Tp(i):(LA(n,0,My),e===void 0?e=s.rounding:LA(e,0,8),r=wn(new s(i),n+Pr(i)+1,e),t=Tp(r.abs(),!1,n+Pr(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};Oe.toInteger=Oe.toint=function(){var n=this,e=n.constructor;return wn(new e(n),Pr(n)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(n){var e,t,r,i,s,a,o=this,l=o.constructor,u=12,d=+(n=new l(n));if(!n.s)return new l(da);if(o=new l(o),!o.s){if(n.s<1)throw Error(fo+"Infinity");return o}if(o.eq(da))return o;if(r=l.precision,n.eq(da))return wn(o,r);if(e=n.e,t=n.d.length-1,a=e>=t,s=o.s,a){if((t=d<0?-d:d)<=N7){for(i=new l(da),e=Math.ceil(r/Dn+4),Vn=!1;t%2&&(i=i.times(o),Uq(i.d,e)),t=Uy(t/2),t!==0;)o=o.times(o),Uq(o.d,e);return Vn=!0,n.s<0?new l(da).div(i):wn(i,r)}}else if(s<0)throw Error(fo+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,Vn=!1,i=n.times(pb(o,r+u)),Vn=!0,i=Q7(i),i.s=s,i};Oe.toPrecision=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?(t=Pr(i),r=Tp(i,t<=s.toExpNeg||t>=s.toExpPos)):(LA(n,1,My),e===void 0?e=s.rounding:LA(e,0,8),i=wn(new s(i),n,e),t=Pr(i),r=Tp(i,n<=t||t<=s.toExpNeg,n)),r};Oe.toSignificantDigits=Oe.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(LA(n,1,My),e===void 0?e=r.rounding:LA(e,0,8)),wn(new r(t),n,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Pr(n),t=n.constructor;return Tp(n,e<=t.toExpNeg||e>=t.toExpPos)};function L7(n,e){var t,r,i,s,a,o,l,u,d=n.constructor,h=d.precision;if(!n.s||!e.s)return e.s||(e=new d(n)),Vn?wn(e,h):e;if(l=n.d,u=e.d,a=n.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=u.length):(r=u,i=a,o=l.length),a=Math.ceil(h/Dn),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,r=u,u=l,l=r),t=0;s;)t=(l[--s]=l[s]+u[s]+t)/si|0,l[s]%=si;for(t&&(l.unshift(t),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Vn?wn(e,h):e}function LA(n,e,t){if(n!==~~n||n<e||n>t)throw Error(bp+n)}function PA(n){var e,t,r,i=n.length-1,s="",a=n[0];if(i>0){for(s+=a,e=1;e<i;e++)r=n[e]+"",t=Dn-r.length,t&&(s+=Sc(t)),s+=r;a=n[e],r=a+"",t=Dn-r.length,t&&(s+=Sc(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var wu=(function(){function n(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%si|0,a=s/si|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function t(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*si+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,u,d,h,g,v,C,b,B,S,I,T,R,M,D,L,H,k=r.constructor,G=r.s==i.s?1:-1,K=r.d,z=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(fo+"Division by zero");for(l=r.e-i.e,L=z.length,M=K.length,v=new k(G),C=v.d=[],u=0;z[u]==(K[u]||0);)++u;if(z[u]>(K[u]||0)&&--l,s==null?I=s=k.precision:a?I=s+(Pr(r)-Pr(i))+1:I=s,I<0)return new k(0);if(I=I/Dn+2|0,u=0,L==1)for(d=0,z=z[0],I++;(u<M||d)&&I--;u++)T=d*si+(K[u]||0),C[u]=T/z|0,d=T%z|0;else{for(d=si/(z[0]+1)|0,d>1&&(z=n(z,d),K=n(K,d),L=z.length,M=K.length),R=L,b=K.slice(0,L),B=b.length;B<L;)b[B++]=0;H=z.slice(),H.unshift(0),D=z[0],z[1]>=si/2&&++D;do d=0,o=e(z,b,L,B),o<0?(S=b[0],L!=B&&(S=S*si+(b[1]||0)),d=S/D|0,d>1?(d>=si&&(d=si-1),h=n(z,d),g=h.length,B=b.length,o=e(h,b,g,B),o==1&&(d--,t(h,L<g?H:z,g))):(d==0&&(o=d=1),h=z.slice()),g=h.length,g<B&&h.unshift(0),t(b,h,B),o==-1&&(B=b.length,o=e(z,b,L,B),o<1&&(d++,t(b,L<B?H:z,B))),B=b.length):o===0&&(d++,b=[0]),C[u++]=d,o&&b[0]?b[B++]=K[R]||0:(b=[K[R]],B=1);while((R++<M||b[0]!==void 0)&&I--)}return C[0]||C.shift(),v.e=l,wn(v,a?s+Pr(v)+1:s)}})();function Q7(n,e){var t,r,i,s,a,o,l=0,u=0,d=n.constructor,h=d.precision;if(Pr(n)>16)throw Error(lO+Pr(n));if(!n.s)return new d(da);for(Vn=!1,o=h,a=new d(.03125);n.abs().gte(.1);)n=n.times(a),u+=5;for(r=Math.log(Df(2,u))/Math.LN10*2+5|0,o+=r,t=i=s=new d(da),d.precision=o;;){if(i=wn(i.times(n),o),t=t.times(++l),a=s.plus(wu(i,t,o)),PA(a.d).slice(0,o)===PA(s.d).slice(0,o)){for(;u--;)s=wn(s.times(s),o);return d.precision=h,e==null?(Vn=!0,wn(s,h)):s}s=a}}function Pr(n){for(var e=n.e*Dn,t=n.d[0];t>=10;t/=10)e++;return e}function dR(n,e,t){if(e>n.LN10.sd())throw Vn=!0,t&&(n.precision=t),Error(fo+"LN10 precision limit exceeded");return wn(new n(n.LN10),e)}function Sc(n){for(var e="";n--;)e+="0";return e}function pb(n,e){var t,r,i,s,a,o,l,u,d,h=1,g=10,v=n,C=v.d,b=v.constructor,B=b.precision;if(v.s<1)throw Error(fo+(v.s?"NaN":"-Infinity"));if(v.eq(da))return new b(0);if(e==null?(Vn=!1,u=B):u=e,v.eq(10))return e==null&&(Vn=!0),dR(b,u);if(u+=g,b.precision=u,t=PA(C),r=t.charAt(0),s=Pr(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)v=v.times(n),t=PA(v.d),r=t.charAt(0),h++;s=Pr(v),r>1?(v=new b("0."+t),s++):v=new b(r+"."+t.slice(1))}else return l=dR(b,u+2,B).times(s+""),v=pb(new b(r+"."+t.slice(1)),u-g).plus(l),b.precision=B,e==null?(Vn=!0,wn(v,B)):v;for(o=a=v=wu(v.minus(da),v.plus(da),u),d=wn(v.times(v),u),i=3;;){if(a=wn(a.times(d),u),l=o.plus(wu(a,new b(i),u)),PA(l.d).slice(0,u)===PA(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(dR(b,u+2,B).times(s+""))),o=wu(o,new b(h),u),b.precision=B,e==null?(Vn=!0,wn(o,B)):o;o=l,i+=2}}function Mq(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=Uy(t/Dn),n.d=[],r=(t+1)%Dn,t<0&&(r+=Dn),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=Dn;r<i;)n.d.push(+e.slice(r,r+=Dn));e=e.slice(r),r=Dn-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),Vn&&(n.e>r1||n.e<-r1))throw Error(lO+t)}else n.s=0,n.e=0,n.d=[0];return n}function wn(n,e,t){var r,i,s,a,o,l,u,d,h=n.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Dn,i=e,u=h[d=0];else{if(d=Math.ceil((r+1)/Dn),s=h.length,d>=s)return n;for(u=s=h[d],a=1;s>=10;s/=10)a++;r%=Dn,i=r-Dn+a}if(t!==void 0&&(s=Df(10,a-i-1),o=u/s%10|0,l=e<0||h[d+1]!==void 0||u%s,l=t<4?(o||l)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(r>0?i>0?u/Df(10,a-i):0:h[d-1])%10&1||t==(n.s<0?8:7))),e<1||!h[0])return l?(s=Pr(n),h.length=1,e=e-s-1,h[0]=Df(10,(Dn-e%Dn)%Dn),n.e=Uy(-e/Dn)||0):(h.length=1,h[0]=n.e=n.s=0),n;if(r==0?(h.length=d,s=1,d--):(h.length=d+1,s=Df(10,Dn-r),h[d]=i>0?(u/Df(10,a-i)%Df(10,i)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==si&&(h[0]=1,++n.e);break}else{if(h[d]+=s,h[d]!=si)break;h[d--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(Vn&&(n.e>r1||n.e<-r1))throw Error(lO+Pr(n));return n}function k7(n,e){var t,r,i,s,a,o,l,u,d,h,g=n.constructor,v=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),Vn?wn(e,v):e;if(l=n.d,h=e.d,r=e.e,u=n.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(t=l,a=-a,o=h.length):(t=h,r=u,o=l.length),i=Math.max(Math.ceil(v/Dn),o)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}a=0}for(d&&(t=l,l=h,h=t,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=si-1;--l[s],l[i]+=si}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Vn?wn(e,v):e):new g(0)}function Tp(n,e,t){var r,i=Pr(n),s=PA(n.d),a=s.length;return e?(t&&(r=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+Sc(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Sc(-i-1)+s,t&&(r=t-a)>0&&(s+=Sc(r))):i>=a?(s+=Sc(i+1-a),t&&(r=t-i-1)>0&&(s=s+"."+Sc(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-a)>0&&(i+1===a&&(s+="."),s+=Sc(r))),n.s<0?"-"+s:s}function Uq(n,e){if(n.length>e)return n.length=e,!0}function O7(n){var e,t,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(bp+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return Mq(a,s.toString())}else if(typeof s!="string")throw Error(bp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,zIe.test(s))Mq(a,s);else throw Error(bp+s)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=O7,i.config=i.set=$Ie,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function $Ie(n){if(!n||typeof n!="object")throw Error(fo+"Object expected");var e,t,r,i=["precision",1,My,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(Uy(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(bp+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(bp+t+": "+r);return this}var uO=O7(GIe);da=new uO(1);const Wt=uO;var qIe=n=>n,H7={},V7=n=>n===H7,Pq=n=>function e(){return arguments.length===0||arguments.length===1&&V7(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},K7=(n,e)=>n===1?e:Pq(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var s=r.filter(a=>a!==H7).length;return s>=n?e(...r):K7(n-s,Pq(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=r.map(d=>V7(d)?o.shift():d);return e(...u,...o)}))}),jIe=n=>K7(n.length,n),fQ=(n,e)=>{for(var t=[],r=n;r<e;++r)t[r-n]=r;return t},WIe=jIe((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),YIe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return qIe;var i=t.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},hQ=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function G7(n){var e;return n===0?e=1:e=Math.floor(new Wt(n).abs().log(10).toNumber())+1,e}function z7(n,e,t){for(var r=new Wt(n),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(t),i++;return s}var $7=n=>{var[e,t]=n,[r,i]=[e,t];return e>t&&([r,i]=[t,e]),[r,i]},q7=(n,e,t)=>{if(n.lte(0))return new Wt(0);var r=G7(n.toNumber()),i=new Wt(10).pow(r),s=n.div(i),a=r!==1?.05:.1,o=new Wt(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(i);return e?new Wt(l.toNumber()):new Wt(Math.ceil(l.toNumber()))},XIe=(n,e,t)=>{var r=new Wt(1),i=new Wt(n);if(!i.isint()&&t){var s=Math.abs(n);s<1?(r=new Wt(10).pow(G7(n)-1),i=new Wt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Wt(Math.floor(n)))}else n===0?i=new Wt(Math.floor((e-1)/2)):t||(i=new Wt(Math.floor(n)));var a=Math.floor((e-1)/2),o=YIe(WIe(l=>i.add(new Wt(l-a).mul(r)).toNumber()),fQ);return o(0,e)},j7=function(e,t,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Wt(0),tickMin:new Wt(0),tickMax:new Wt(0)};var a=q7(new Wt(t).sub(e).div(r-1),i,s),o;e<=0&&t>=0?o=new Wt(0):(o=new Wt(e).add(t).div(2),o=o.sub(new Wt(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new Wt(t).sub(o).div(a).toNumber()),d=l+u+1;return d>r?j7(e,t,r,i,s+1):(d<r&&(u=t>0?u+(r-d):u,l=t>0?l:l+(r-d)),{step:a,tickMin:o.sub(new Wt(l).mul(a)),tickMax:o.add(new Wt(u).mul(a))})},JIe=function(e){var[t,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=$7([t,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...fQ(0,i-1).map(()=>1/0)]:[...fQ(0,i-1).map(()=>-1/0),l];return t>r?hQ(u):u}if(o===l)return XIe(o,i,s);var{step:d,tickMin:h,tickMax:g}=j7(o,l,a,s,0),v=z7(h,g.add(new Wt(.1).mul(d)),d);return t>r?hQ(v):v},ZIe=function(e,t){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=$7([r,i]);if(a===-1/0||o===1/0)return[r,i];if(a===o)return[a];var l=Math.max(t,2),u=q7(new Wt(o).sub(a).div(l-1),s,0),d=[...z7(new Wt(a),new Wt(o),u),o];return s===!1&&(d=d.map(h=>Math.round(h))),r>i?hQ(d):d},W7=n=>n.rootProps.maxBarSize,eFe=n=>n.rootProps.barGap,Y7=n=>n.rootProps.barCategoryGap,tFe=n=>n.rootProps.barSize,NI=n=>n.rootProps.stackOffset,X7=n=>n.rootProps.reverseStackOrder,cO=n=>n.options.chartName,dO=n=>n.rootProps.syncId,J7=n=>n.rootProps.syncMethod,fO=n=>n.options.eventEmitter,Fs={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},du={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ua={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},LI=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},nFe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:du.angleAxisId,includeHidden:!1,name:void 0,reversed:du.reversed,scale:du.scale,tick:du.tick,tickCount:void 0,ticks:void 0,type:du.type,unit:void 0},rFe={allowDataOverflow:ua.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ua.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ua.scale,tick:ua.tick,tickCount:ua.tickCount,ticks:void 0,type:ua.type,unit:void 0},iFe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:du.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:du.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:du.scale,tick:du.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},sFe={allowDataOverflow:ua.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ua.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ua.scale,tick:ua.tick,tickCount:ua.tickCount,ticks:void 0,type:"category",unit:void 0},hO=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?iFe:nFe,pO=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?sFe:rFe,QI=n=>n.polarOptions,gO=ce([Vu,Ku,Ai],Z_e),Z7=ce([QI,gO],(n,e)=>{if(n!=null)return Ho(n.innerRadius,e,0)}),eZ=ce([QI,gO],(n,e)=>{if(n!=null)return Ho(n.outerRadius,e,e*.8)}),aFe=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},tZ=ce([QI],aFe);ce([hO,tZ],LI);var nZ=ce([gO,Z7,eZ],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});ce([pO,nZ],LI);var rZ=ce([Yt,QI,Z7,eZ,Vu,Ku],(n,e,t,r,i,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:Ho(a,i,i/2),cy:Ho(o,s,s/2),innerRadius:t,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),zr=(n,e)=>e,kI=(n,e,t)=>t;function mO(n){return n==null?void 0:n.id}function iZ(n,e,t){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=t,a=new Map;return n.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=mO(o);u.forEach((h,g)=>{var v=s==null||i?g:String(Gi(h,s,null)),C=Gi(h,o.dataKey,0),b;a.has(v)?b=a.get(v):b={},Object.assign(b,{[d]:C}),a.set(v,b)})}}),Array.from(a.values())}function OI(n){return n.stackId!=null&&n.dataKey!=null}var HI=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function VI(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function oFe(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var $r=n=>{var e=Yt(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Py=n=>n.tooltip.settings.axisId;function Rq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function i1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rq(Object(t),!0).forEach(function(r){AFe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function AFe(n,e,t){return(e=lFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lFe(n){var e=uFe(n,"string");return typeof e=="symbol"?e:e+""}function uFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var pQ=[0,"auto"],Yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},sZ=(n,e)=>n.cartesianAxis.xAxis[e],zu=(n,e)=>{var t=sZ(n,e);return t??Yr},Xr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:pQ,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:AB},aZ=(n,e)=>n.cartesianAxis.yAxis[e],$u=(n,e)=>{var t=aZ(n,e);return t??Xr},cFe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},vO=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??cFe},os=(n,e,t)=>{switch(e){case"xAxis":return zu(n,t);case"yAxis":return $u(n,t);case"zAxis":return vO(n,t);case"angleAxis":return hO(n,t);case"radiusAxis":return pO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},dFe=(n,e,t)=>{switch(e){case"xAxis":return zu(n,t);case"yAxis":return $u(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},pB=(n,e,t)=>{switch(e){case"xAxis":return zu(n,t);case"yAxis":return $u(n,t);case"angleAxis":return hO(n,t);case"radiusAxis":return pO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},oZ=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function AZ(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var yO=n=>n.graphicalItems.cartesianItems,fFe=ce([zr,kI],AZ),lZ=(n,e,t)=>n.filter(t).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),gB=ce([yO,os,fFe],lZ,{memoizeOptions:{resultEqualityCheck:VI}}),uZ=ce([gB],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(OI)),cZ=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),hFe=ce([gB],cZ),dZ=n=>n.map(e=>e.data).filter(Boolean).flat(1),pFe=ce([gB],dZ,{memoizeOptions:{resultEqualityCheck:VI}}),fZ=(n,e)=>{var{chartData:t=[],dataStartIndex:r,dataEndIndex:i}=e;return n.length>0?n:t.slice(r,i+1)},wO=ce([pFe,AO],fZ),hZ=(n,e,t)=>(e==null?void 0:e.dataKey)!=null?n.map(r=>({value:Gi(r,e.dataKey)})):t.length>0?t.map(r=>r.dataKey).flatMap(r=>n.map(i=>({value:Gi(i,r)}))):n.map(r=>({value:r})),KI=ce([wO,os,gB],hZ);function pZ(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function j_(n){if(NA(n)||n instanceof Date){var e=Number(n);if(vr(e))return e}}function Dq(n){if(Array.isArray(n)){var e=[j_(n[0]),j_(n[1])];return Jd(e)?e:void 0}var t=j_(n);if(t!=null)return[t,t]}function Pu(n){return n.map(j_).filter(bEe)}function gFe(n,e,t){return!t||typeof e!="number"||DA(e)?[]:t.length?Pu(t.flatMap(r=>{var i=Gi(n,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!vr(s)||!vr(a)))return[e-s,e+a]})):[]}var qr=n=>{var e=$r(n),t=Py(n);return pB(n,e,t)},mB=ce([qr],n=>n==null?void 0:n.dataKey),mFe=ce([uZ,AO,qr],iZ),gZ=(n,e,t,r)=>{var i={},s=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=r?[...l].reverse():l,d=u.map(mO);return[o,{stackedData:HSe(n,d,t),graphicalItems:u}]}))},gQ=ce([mFe,uZ,NI,X7],gZ),mZ=(n,e,t,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&t!=="zAxis"){var a=$Se(n,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},vFe=ce([os],n=>n.allowDataOverflow),bO=n=>{var e;if(n==null||!("domain"in n))return pQ;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var t=Pu(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:pQ},vZ=ce([os],bO),yZ=ce([vZ,vFe],D7),yFe=ce([gQ,sf,zr,yZ],mZ,{memoizeOptions:{resultEqualityCheck:HI}}),CO=n=>n.errorBars,wFe=(n,e,t)=>n.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>pZ(t,r)),s1=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},wZ=(n,e,t,r,i)=>{var s,a;if(t.length>0&&n.forEach(o=>{t.forEach(l=>{var u,d,h=(u=r[l.id])===null||u===void 0?void 0:u.filter(S=>pZ(i,S)),g=Gi(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),v=gFe(o,g,h);if(v.length>=2){var C=Math.min(...v),b=Math.max(...v);(s==null||C<s)&&(s=C),(a==null||b>a)&&(a=b)}var B=Dq(g);B!=null&&(s=s==null?B[0]:Math.min(s,B[0]),a=a==null?B[1]:Math.max(a,B[1]))})}),(e==null?void 0:e.dataKey)!=null&&n.forEach(o=>{var l=Dq(Gi(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),vr(s)&&vr(a))return[s,a]},bFe=ce([wO,os,hFe,CO,zr],wZ,{memoizeOptions:{resultEqualityCheck:HI}});function CFe(n){var{value:e}=n;if(NA(e)||e instanceof Date)return e}var EFe=(n,e,t)=>{var r=n.map(CFe).filter(i=>i!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&Q9(r))?e7(0,n.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},bZ=n=>n.referenceElements.dots,Ry=(n,e,t)=>n.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===t:r.yAxisId===t),BFe=ce([bZ,zr,kI],Ry),CZ=n=>n.referenceElements.areas,SFe=ce([CZ,zr,kI],Ry),EZ=n=>n.referenceElements.lines,xFe=ce([EZ,zr,kI],Ry),BZ=(n,e)=>{var t=Pu(n.map(r=>e==="xAxis"?r.x:r.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},_Fe=ce(BFe,zr,BZ),SZ=(n,e)=>{var t=Pu(n.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},TFe=ce([SFe,zr],SZ);function IFe(n){var e;if(n.x!=null)return Pu([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.x);return t==null||t.length===0?[]:Pu(t)}function FFe(n){var e;if(n.y!=null)return Pu([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.y);return t==null||t.length===0?[]:Pu(t)}var xZ=(n,e)=>{var t=n.flatMap(r=>e==="xAxis"?IFe(r):FFe(r));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},MFe=ce([xFe,zr],xZ),UFe=ce(_Fe,MFe,TFe,(n,e,t)=>s1(n,t,e)),_Z=(n,e,t,r,i,s,a,o)=>{if(t!=null)return t;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?s1(r,s,i):s1(s,i);return KIe(e,u,n.allowDataOverflow)},PFe=ce([os,vZ,yZ,yFe,bFe,UFe,Yt,zr],_Z,{memoizeOptions:{resultEqualityCheck:HI}}),RFe=[0,1],TZ=(n,e,t,r,i,s,a)=>{if(!((n==null||t==null||t.length===0)&&a===void 0)){var{dataKey:o,type:l}=n,u=Dp(e,s);if(u&&o==null){var d;return e7(0,(d=t==null?void 0:t.length)!==null&&d!==void 0?d:0)}return l==="category"?EFe(r,n,u):i==="expand"?RFe:a}},EO=ce([os,Yt,wO,KI,NI,zr,PFe],TZ),IZ=(n,e,t,r,i)=>{if(n!=null){var{scale:s,type:a}=n;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(rB(s));return o in Pw?o:"point"}}},vB=ce([os,Yt,oZ,cO,zr],IZ);function DFe(n){if(n!=null){if(n in Pw)return Pw[n]();var e="scale".concat(rB(n));if(e in Pw)return Pw[e]()}}function BO(n,e,t,r){if(!(t==null||r==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(r);var i=DFe(e);if(i!=null){var s=i.domain(t).range(r);return NSe(s),s}}}var FZ=(n,e,t)=>{var r=bO(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Jd(n))return JIe(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Jd(n))return ZIe(n,e.tickCount,e.allowDecimals)}},SO=ce([EO,pB,vB],FZ),MZ=(n,e,t,r)=>{if(r!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&Jd(e)&&Array.isArray(t)&&t.length>0){var i=e[0],s=t[0],a=e[1],o=t[t.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},NFe=ce([os,EO,SO,zr],MZ),LFe=ce(KI,os,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,r=Array.from(Pu(n.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];t=Math.min(t,a)}return t/i}}),UZ=ce(LFe,Yt,Y7,Ai,(n,e,t,r)=>r,(n,e,t,r,i)=>{if(!vr(n))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return n*s/2;if(i==="no-gap"){var a=Ho(t,n*s),o=n*s/2;return o-a-(o-a)/s*a}return 0}),QFe=(n,e)=>{var t=zu(n,e);return t==null||typeof t.padding!="string"?0:UZ(n,"xAxis",e,t.padding)},kFe=(n,e)=>{var t=$u(n,e);return t==null||typeof t.padding!="string"?0:UZ(n,"yAxis",e,t.padding)},OFe=ce(zu,QFe,(n,e)=>{var t,r;if(n==null)return{left:0,right:0};var{padding:i}=n;return typeof i=="string"?{left:e,right:e}:{left:((t=i.left)!==null&&t!==void 0?t:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),HFe=ce($u,kFe,(n,e)=>{var t,r;if(n==null)return{top:0,bottom:0};var{padding:i}=n;return typeof i=="string"?{top:e,bottom:e}:{top:((t=i.top)!==null&&t!==void 0?t:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),VFe=ce([Ai,OFe,EI,CI,(n,e,t)=>t],(n,e,t,r,i)=>{var{padding:s}=r;return i?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),KFe=ce([Ai,Yt,HFe,EI,CI,(n,e,t)=>t],(n,e,t,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),yB=(n,e,t,r)=>{var i;switch(e){case"xAxis":return VFe(n,t,r);case"yAxis":return KFe(n,t,r);case"zAxis":return(i=vO(n,t))===null||i===void 0?void 0:i.range;case"angleAxis":return tZ(n);case"radiusAxis":return nZ(n,t);default:return}},PZ=ce([os,yB],LI),Dy=ce([os,vB,NFe,PZ],BO);ce([gB,CO,zr],wFe);function RZ(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var GI=(n,e)=>e,zI=(n,e,t)=>t,GFe=ce(wI,GI,zI,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(RZ)),zFe=ce(bI,GI,zI,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(RZ)),DZ=(n,e)=>({width:n.width,height:e.height}),$Fe=(n,e)=>{var t=typeof e.width=="number"?e.width:AB;return{width:t,height:n.height}},NZ=ce(Ai,zu,DZ),qFe=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},jFe=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},WFe=ce(Ku,Ai,GFe,GI,zI,(n,e,t,r,i)=>{var s={},a;return t.forEach(o=>{var l=DZ(e,o);a==null&&(a=qFe(e,r,n));var u=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),YFe=ce(Vu,Ai,zFe,GI,zI,(n,e,t,r,i)=>{var s={},a;return t.forEach(o=>{var l=$Fe(e,o);a==null&&(a=jFe(e,r,n));var u=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),XFe=(n,e)=>{var t=zu(n,e);if(t!=null)return WFe(n,t.orientation,t.mirror)},JFe=ce([Ai,zu,XFe,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:n.left,y:0}:{x:n.left,y:i}}}),ZFe=(n,e)=>{var t=$u(n,e);if(t!=null)return YFe(n,t.orientation,t.mirror)},eMe=ce([Ai,$u,ZFe,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:0,y:n.top}:{x:i,y:n.top}}}),LZ=ce(Ai,$u,(n,e)=>{var t=typeof e.width=="number"?e.width:AB;return{width:t,height:n.height}}),Nq=(n,e,t)=>{switch(e){case"xAxis":return NZ(n,t).width;case"yAxis":return LZ(n,t).height;default:return}},QZ=(n,e,t,r)=>{if(t!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=t,o=Dp(n,r),l=e.map(u=>u.value);if(a&&o&&s==="category"&&i&&Q9(l))return l}},xO=ce([Yt,KI,os,zr],QZ),kZ=(n,e,t,r)=>{if(!(t==null||t.dataKey==null)){var{type:i,scale:s}=t,a=Dp(n,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},_O=ce([Yt,KI,pB,zr],kZ);ce([Yt,dFe,vB,Dy,xO,_O,yB,SO,zr],(n,e,t,r,i,s,a,o,l)=>{if(e!=null){var u=Dp(n,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:o,range:a,realScaleType:t,scale:r}}});var tMe=(n,e,t,r,i,s,a,o,l)=>{if(!(e==null||r==null)){var u=Dp(n,l),{type:d,ticks:h,tickCount:g}=e,v=t==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,C=d==="category"&&r.bandwidth?r.bandwidth()/v:0;C=l==="angleAxis"&&s!=null&&s.length>=2?fa(s[0]-s[1])*2*C:C;var b=h||i;if(b){var B=b.map((S,I)=>{var T=a?a.indexOf(S):S;return{index:I,coordinate:r(T)+C,value:S,offset:C}});return B.filter(S=>vr(S.coordinate))}return u&&o?o.map((S,I)=>({coordinate:r(S)+C,value:S,index:I,offset:C})).filter(S=>vr(S.coordinate)):r.ticks?r.ticks(g).map(S=>({coordinate:r(S)+C,value:S,offset:C})):r.domain().map((S,I)=>({coordinate:r(S)+C,value:a?a[S]:S,index:I,offset:C}))}},OZ=ce([Yt,pB,vB,Dy,SO,yB,xO,_O,zr],tMe),nMe=(n,e,t,r,i,s,a)=>{if(!(e==null||t==null||r==null||r[0]===r[1])){var o=Dp(n,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?fa(r[0]-r[1])*2*u:u,o&&s?s.map((d,h)=>({coordinate:t(d)+u,value:d,index:h,offset:u})):t.ticks?t.ticks(l).map(d=>({coordinate:t(d)+u,value:d,offset:u})):t.domain().map((d,h)=>({coordinate:t(d)+u,value:i?i[d]:d,index:h,offset:u}))}},yy=ce([Yt,pB,Dy,yB,xO,_O,zr],nMe),wy=ce(os,Dy,(n,e)=>{if(!(n==null||e==null))return i1(i1({},n),{},{scale:e})}),rMe=ce([os,vB,EO,PZ],BO);ce((n,e,t)=>vO(n,t),rMe,(n,e)=>{if(!(n==null||e==null))return i1(i1({},n),{},{scale:e})});var iMe=ce([Yt,wI,bI],(n,e,t)=>{switch(n){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),HZ=n=>n.options.defaultTooltipEventType,VZ=n=>n.options.validateTooltipEventTypes;function KZ(n,e,t){if(n==null)return e;var r=n?"axis":"item";return t==null?e:t.includes(r)?r:e}function TO(n,e){var t=HZ(n),r=VZ(n);return KZ(e,t,r)}function sMe(n){return Ye(e=>TO(e,n))}var GZ=(n,e)=>{var t,r=Number(e);if(!(DA(r)||e==null))return r>=0?n==null||(t=n[r])===null||t===void 0?void 0:t.value:void 0},aMe=n=>n.tooltip.settings,Ic={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},oMe={itemInteraction:{click:Ic,hover:Ic},axisInteraction:{click:Ic,hover:Ic},keyboardInteraction:Ic,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zZ=Ms({name:"tooltip",initialState:oMe,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:Hn()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:r}=e.payload,i=Oo(n).tooltipItemPayloads.indexOf(t);i>-1&&(n.tooltipItemPayloads[i]=r)},prepare:Hn()},removeTooltipEntrySettings:{reducer(n,e){var t=Oo(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:Hn()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:AMe,replaceTooltipEntrySettings:lMe,removeTooltipEntrySettings:uMe,setTooltipSettingsState:cMe,setActiveMouseOverItemIndex:$Z,mouseLeaveItem:dMe,mouseLeaveChart:qZ,setActiveClickItemIndex:fMe,setMouseOverAxisIndex:jZ,setMouseClickAxisIndex:hMe,setSyncInteraction:mQ,setKeyboardInteraction:vQ}=zZ.actions,pMe=zZ.reducer;function Lq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Qx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lq(Object(t),!0).forEach(function(r){gMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gMe(n,e,t){return(e=mMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mMe(n){var e=vMe(n,"string");return typeof e=="symbol"?e:e+""}function vMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yMe(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function wMe(n){return n.index!=null}var WZ=(n,e,t,r)=>{if(e==null)return Ic;var i=yMe(n,e,t);if(i==null)return Ic;if(i.active)return i;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(wMe(i)){if(s)return Qx(Qx({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Qx(Qx({},Ic),{},{coordinate:i.coordinate})};function bMe(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function CMe(n,e){var t=bMe(n),r=e[0],i=e[1];if(t===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return t>=s&&t<=a}function EMe(n,e,t){if(t==null||e==null)return!0;var r=Gi(n,e);return r==null||!Jd(t)?!0:CMe(r,t)}var IO=(n,e,t,r)=>{var i=n==null?void 0:n.index;if(i==null)return null;var s=Number(i);if(!vr(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||EMe(u,t,r)?String(l):null},YZ=(n,e,t,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(t){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+n)/2,y:d.coordinate}}}},XZ=(n,e,t,r)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var i;return t==="hover"?i=n.itemInteraction.hover.dataKey:i=n.itemInteraction.click.dataKey,i==null&&r!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},wB=n=>n.options.tooltipPayloadSearcher,Ny=n=>n.tooltip;function Qq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qq(Object(t),!0).forEach(function(r){BMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function BMe(n,e,t){return(e=SMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SMe(n){var e=xMe(n,"string");return typeof e=="symbol"?e:e+""}function xMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _Me(n,e){return n??e}var JZ=(n,e,t,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=t,h=[];return n.reduce((g,v)=>{var C,{dataDefinedOnItem:b,settings:B}=v,S=_Me(b,o),I=Array.isArray(S)?FJ(S,u,d):S,T=(C=B==null?void 0:B.dataKey)!==null&&C!==void 0?C:r,R=B==null?void 0:B.nameKey,M;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&a==="axis"?M=wEe(I,r,i):M=s(I,e,l,R),Array.isArray(M))M.forEach(L=>{var H=kq(kq({},B),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});g.push(o$({tooltipEntrySettings:H,dataKey:L.dataKey,payload:L.payload,value:Gi(L.payload,L.dataKey),name:L.name}))});else{var D;g.push(o$({tooltipEntrySettings:B,dataKey:T,payload:M,value:Gi(M,T),name:(D=Gi(M,R))!==null&&D!==void 0?D:B==null?void 0:B.name}))}return g},h)}},FO=ce([qr,Yt,oZ,cO,$r],IZ),TMe=ce([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),IMe=ce([$r,Py],AZ),bB=ce([TMe,qr,IMe],lZ,{memoizeOptions:{resultEqualityCheck:VI}}),FMe=ce([bB],n=>n.filter(OI)),MMe=ce([bB],dZ,{memoizeOptions:{resultEqualityCheck:VI}}),Ly=ce([MMe,sf],fZ),UMe=ce([FMe,sf,qr],iZ),MO=ce([Ly,qr,bB],hZ),ZZ=ce([qr],bO),PMe=ce([qr],n=>n.allowDataOverflow),eee=ce([ZZ,PMe],D7),RMe=ce([bB],n=>n.filter(OI)),DMe=ce([UMe,RMe,NI,X7],gZ),NMe=ce([DMe,sf,$r,eee],mZ),LMe=ce([bB],cZ),QMe=ce([Ly,qr,LMe,CO,$r],wZ,{memoizeOptions:{resultEqualityCheck:HI}}),kMe=ce([bZ,$r,Py],Ry),OMe=ce([kMe,$r],BZ),HMe=ce([CZ,$r,Py],Ry),VMe=ce([HMe,$r],SZ),KMe=ce([EZ,$r,Py],Ry),GMe=ce([KMe,$r],xZ),zMe=ce([OMe,GMe,VMe],s1),$Me=ce([qr,ZZ,eee,NMe,QMe,zMe,Yt,$r],_Z),CB=ce([qr,Yt,Ly,MO,NI,$r,$Me],TZ),qMe=ce([CB,qr,FO],FZ),jMe=ce([qr,CB,qMe,$r],MZ),tee=n=>{var e=$r(n),t=Py(n),r=!1;return yB(n,e,t,r)},nee=ce([qr,tee],LI),ree=ce([qr,FO,jMe,nee],BO),WMe=ce([Yt,MO,qr,$r],QZ),YMe=ce([Yt,MO,qr,$r],kZ),XMe=(n,e,t,r,i,s,a,o)=>{if(e){var{type:l}=e,u=Dp(n,o);if(r){var d=t==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?fa(i[0]-i[1])*2*h:h,u&&a?a.map((g,v)=>({coordinate:r(g)+h,value:g,index:v,offset:h})):r.domain().map((g,v)=>({coordinate:r(g)+h,value:s?s[g]:g,index:v,offset:h}))}}},qu=ce([Yt,qr,FO,ree,tee,WMe,YMe,$r],XMe),UO=ce([HZ,VZ,aMe],(n,e,t)=>KZ(t.shared,n,e)),iee=n=>n.tooltip.settings.trigger,PO=n=>n.tooltip.settings.defaultIndex,EB=ce([Ny,UO,iee,PO],WZ),by=ce([EB,Ly,mB,CB],IO),see=ce([qu,by],GZ),aee=ce([EB],n=>{if(n)return n.dataKey});ce([EB],n=>{if(n)return n.graphicalItemId});var oee=ce([Ny,UO,iee,PO],XZ),JMe=ce([Vu,Ku,Yt,Ai,qu,PO,oee,wB],YZ),ZMe=ce([EB,JMe],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),eUe=ce([EB],n=>n.active),tUe=ce([oee,by,sf,mB,see,wB,UO],JZ);ce([tUe],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function Oq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Hq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Oq(Object(t),!0).forEach(function(r){nUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Oq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nUe(n,e,t){return(e=rUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rUe(n){var e=iUe(n,"string");return typeof e=="symbol"?e:e+""}function iUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var sUe=()=>Ye(qr),aUe=()=>{var n=sUe(),e=Ye(qu),t=Ye(ree);return kT(!n||!t?void 0:Hq(Hq({},n),{},{scale:t}),e)};function Vq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ig(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vq(Object(t),!0).forEach(function(r){oUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function oUe(n,e,t){return(e=AUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function AUe(n){var e=lUe(n,"string");return typeof e=="symbol"?e:e+""}function lUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var uUe=(n,e,t,r)=>{var i=e.find(s=>s&&s.index===t);if(i){if(n==="horizontal")return{x:i.coordinate,y:r.chartY};if(n==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},cUe=(n,e,t,r)=>{var i=e.find(u=>u&&u.index===t);if(i){if(n==="centric"){var s=i.coordinate,{radius:a}=r;return Ig(Ig(Ig({},r),Ti(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return Ig(Ig(Ig({},r),Ti(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function dUe(n,e){var{chartX:t,chartY:r}=n;return t>=e.left&&t<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var Aee=(n,e,t,r,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||n==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?t[l-1].coordinate:t[o-1].coordinate,d=t[l].coordinate,h=l>=o-1?t[0].coordinate:t[l+1].coordinate,g=void 0;if(fa(d-u)!==fa(h-d)){var v=[];if(fa(h-d)===fa(i[1]-i[0])){g=h;var C=d+i[1]-i[0];v[0]=Math.min(C,(C+u)/2),v[1]=Math.max(C,(C+u)/2)}else{g=u;var b=h+i[1]-i[0];v[0]=Math.min(d,(b+d)/2),v[1]=Math.max(d,(b+d)/2)}var B=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(n>B[0]&&n<=B[1]||n>=v[0]&&n<=v[1]){({index:a}=t[l]);break}}else{var S=Math.min(u,h),I=Math.max(u,h);if(n>(S+d)/2&&n<=(I+d)/2){({index:a}=t[l]);break}}}else if(e){for(var T=0;T<o;T++)if(T===0&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T===o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2){({index:a}=e[T]);break}}return a},fUe=()=>Ye(cO),RO=(n,e)=>e,lee=(n,e,t)=>t,DO=(n,e,t,r)=>r,hUe=ce(qu,n=>cI(n,e=>e.coordinate)),NO=ce([Ny,RO,lee,DO],WZ),LO=ce([NO,Ly,mB,CB],IO),pUe=(n,e,t)=>{if(e!=null){var r=Ny(n);return e==="axis"?t==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:t==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},uee=ce([Ny,RO,lee,DO],XZ),a1=ce([Vu,Ku,Yt,Ai,qu,DO,uee,wB],YZ),gUe=ce([NO,a1],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),cee=ce([qu,LO],GZ),mUe=ce([uee,LO,sf,mB,cee,wB,RO],JZ),vUe=ce([NO,LO],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),yUe=(n,e,t,r,i,s,a)=>{if(!(!n||!t||!r||!i)&&dUe(n,a)){var o=qSe(n,e),l=Aee(o,s,i,t,r),u=uUe(e,i,l,n);return{activeIndex:String(l),activeCoordinate:u}}},wUe=(n,e,t,r,i,s,a)=>{if(!(!n||!r||!i||!s||!t)){var o=iTe(n,t);if(o){var l=jSe(o,e),u=Aee(l,a,s,r,i),d=cUe(e,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},bUe=(n,e,t,r,i,s,a,o)=>{if(!(!n||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?yUe(n,e,r,i,s,a,o):wUe(n,e,t,r,i,s,a)},CUe=ce(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var r=n[e];if(r!=null)return t?r.panoramaElementId:r.elementId}}),EUe=ce(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(r=>parseInt(r,10)).concat(Object.values(Fs)),t=Array.from(new Set(e));return t.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:oFe}});function Kq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Gq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kq(Object(t),!0).forEach(function(r){BUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function BUe(n,e,t){return(e=SUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SUe(n){var e=xUe(n,"string");return typeof e=="symbol"?e:e+""}function xUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var _Ue={},TUe={zIndexMap:Object.values(Fs).reduce((n,e)=>Gq(Gq({},n),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),_Ue)},IUe=new Set(Object.values(Fs));function FUe(n){return IUe.has(n)}var dee=Ms({name:"zIndex",initialState:TUe,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Hn()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!FUe(t)&&delete n.zIndexMap[t])},prepare:Hn()},registerZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t,elementId:r,isPanorama:i}=e.payload;n.zIndexMap[t]?i?n.zIndexMap[t].panoramaElementId=r:n.zIndexMap[t].elementId=r:n.zIndexMap[t]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Hn()},unregisterZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElementId=void 0:n.zIndexMap[t].elementId=void 0)},prepare:Hn()}}}),{registerZIndexPortal:MUe,unregisterZIndexPortal:UUe,registerZIndexPortalId:PUe,unregisterZIndexPortalId:RUe}=dee.actions,DUe=dee.reducer;function af(n){var{zIndex:e,children:t}=n,r=Fxe(),i=r&&e!==void 0&&e!==0,s=ya(),a=yr();F.useLayoutEffect(()=>i?(a(MUe({zIndex:e})),()=>{a(UUe({zIndex:e}))}):iB,[a,e,i]);var o=Ye(u=>CUe(u,e,s));if(!i)return t;if(!o)return null;var l=document.getElementById(o);return l?h6.createPortal(t,l):null}function yQ(){return yQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yQ.apply(null,arguments)}function zq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zq(Object(t),!0).forEach(function(r){NUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function NUe(n,e,t){return(e=LUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LUe(n){var e=QUe(n,"string");return typeof e=="symbol"?e:e+""}function QUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kUe(n){var{cursor:e,cursorComp:t,cursorProps:r}=n;return F.isValidElement(e)?F.cloneElement(e,r):F.createElement(t,r)}function OUe(n){var e,{coordinate:t,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:d}=n,h=t,g=r,v=i;if(!l||!h||d!=="ScatterChart"&&u!=="axis")return null;var C,b,B;if(d==="ScatterChart")C=h,b=v_e,B=Fs.cursorLine;else if(d==="BarChart")C=y_e(o,h,s,a),b=YJ,B=Fs.cursorRectangle;else if(o==="radial"&&H9(h)){var{cx:S,cy:I,radius:T,startAngle:R,endAngle:M}=XJ(h);C={cx:S,cy:I,startAngle:R,endAngle:M,innerRadius:T,outerRadius:T},b=ZJ,B=Fs.cursorLine}else C={points:ATe(o,h,s)},b=zJ,B=Fs.cursorLine;var D=typeof l=="object"&&"className"in l?l.className:void 0,L=kx(kx(kx(kx({stroke:"#ccc",pointerEvents:"none"},s),C),pk(l)),{},{payload:g,payloadIndex:v,className:Nn("recharts-tooltip-cursor",D)});return F.createElement(af,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:B},F.createElement(kUe,{cursor:l,cursorComp:b,cursorProps:L}))}function HUe(n){var e=aUe(),t=_xe(),r=SI(),i=fUe();return e==null||t==null||r==null||i==null?null:F.createElement(OUe,yQ({},n,{offset:t,layout:r,tooltipAxisBandSize:e,chartName:i}))}var fee=F.createContext(null),VUe=()=>F.useContext(fee),fR={exports:{}},$q;function KUe(){return $q||($q=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,h||l,g),C=t?t+u:u;return l._events[C]?l._events[C].fn?l._events[C]=[l._events[C],v]:l._events[C].push(v):(l._events[C]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=t?t+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,C=new Array(v);g<v;g++)C[g]=h[g].fn;return C},o.prototype.listenerCount=function(u){var d=t?t+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,g,v,C){var b=t?t+u:u;if(!this._events[b])return!1;var B=this._events[b],S=arguments.length,I,T;if(B.fn){switch(B.once&&this.removeListener(u,B.fn,void 0,!0),S){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,d),!0;case 3:return B.fn.call(B.context,d,h),!0;case 4:return B.fn.call(B.context,d,h,g),!0;case 5:return B.fn.call(B.context,d,h,g,v),!0;case 6:return B.fn.call(B.context,d,h,g,v,C),!0}for(T=1,I=new Array(S-1);T<S;T++)I[T-1]=arguments[T];B.fn.apply(B.context,I)}else{var R=B.length,M;for(T=0;T<R;T++)switch(B[T].once&&this.removeListener(u,B[T].fn,void 0,!0),S){case 1:B[T].fn.call(B[T].context);break;case 2:B[T].fn.call(B[T].context,d);break;case 3:B[T].fn.call(B[T].context,d,h);break;case 4:B[T].fn.call(B[T].context,d,h,g);break;default:if(!I)for(M=1,I=new Array(S-1);M<S;M++)I[M-1]=arguments[M];B[T].fn.apply(B[T].context,I)}}return!0},o.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,g){var v=t?t+u:u;if(!this._events[v])return this;if(!d)return a(this,v),this;var C=this._events[v];if(C.fn)C.fn===d&&(!g||C.once)&&(!h||C.context===h)&&a(this,v);else{for(var b=0,B=[],S=C.length;b<S;b++)(C[b].fn!==d||g&&!C[b].once||h&&C[b].context!==h)&&B.push(C[b]);B.length?this._events[v]=B.length===1?B[0]:B:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(fR)),fR.exports}var GUe=KUe();const zUe=OA(GUe);var gb=new zUe,wQ="recharts.syncEvent.tooltip",qq="recharts.syncEvent.brush";function $Ue(n,e){if(e){var t=Number.parseInt(e,10);if(!DA(t))return n==null?void 0:n[t]}}var qUe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},hee=Ms({name:"options",initialState:qUe,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jUe=hee.reducer,{createEventEmitter:WUe}=hee.actions;function YUe(n){return n.tooltip.syncInteraction}var XUe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},pee=Ms({name:"chartData",initialState:XUe,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:r}=e.payload;t!=null&&(n.dataStartIndex=t),r!=null&&(n.dataEndIndex=r)}}}),{setChartData:jq,setDataStartEndIndexes:JUe,setComputedData:Ike}=pee.actions,ZUe=pee.reducer,ePe=["x","y"];function Wq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Fg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wq(Object(t),!0).forEach(function(r){tPe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tPe(n,e,t){return(e=nPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nPe(n){var e=rPe(n,"string");return typeof e=="symbol"?e:e+""}function rPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function iPe(n,e){if(n==null)return{};var t,r,i=sPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function sPe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function aPe(){var n=Ye(dO),e=Ye(fO),t=yr(),r=Ye(J7),i=Ye(qu),s=SI(),a=BI(),o=Ye(l=>l.rootProps.className);F.useEffect(()=>{if(n==null)return iB;var l=(u,d,h)=>{if(e!==h&&n===u){if(r==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x:C,y:b}=v,B=iPe(v,ePe),{x:S,y:I,width:T,height:R}=d.payload.sourceViewBox,M=Fg(Fg({},B),{},{x:a.x+(T?(C-S)/T:0)*a.width,y:a.y+(R?(b-I)/R:0)*a.height});t(Fg(Fg({},d),{},{payload:Fg(Fg({},d.payload),{},{coordinate:M})}))}else t(d);return}if(i!=null){var D;if(typeof r=="function"){var L={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},H=r(i,L);D=i[H]}else r==="value"&&(D=i.find(V=>String(V.value)===d.payload.label));var{coordinate:k}=d.payload;if(D==null||d.payload.active===!1||k==null||a==null){t(mQ({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:K}=k,z=Math.min(G,a.x+a.width),J=Math.min(K,a.y+a.height),ne={x:s==="horizontal"?D.coordinate:z,y:s==="horizontal"?J:D.coordinate},oe=mQ({active:d.payload.active,coordinate:ne,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});t(oe)}}};return gb.on(wQ,l),()=>{gb.off(wQ,l)}},[o,t,e,n,r,i,s,a])}function oPe(){var n=Ye(dO),e=Ye(fO),t=yr();F.useEffect(()=>{if(n==null)return iB;var r=(i,s,a)=>{e!==a&&n===i&&t(JUe(s))};return gb.on(qq,r),()=>{gb.off(qq,r)}},[t,e,n])}function APe(){var n=yr();F.useEffect(()=>{n(WUe())},[n]),aPe(),oPe()}function lPe(n,e,t,r,i,s){var a=Ye(v=>pUe(v,n,e)),o=Ye(fO),l=Ye(dO),u=Ye(J7),d=Ye(YUe),h=d==null?void 0:d.active,g=BI();F.useEffect(()=>{if(!h&&l!=null&&o!=null){var v=mQ({active:s,coordinate:t,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});gb.emit(wQ,l,v,o)}},[h,t,a,i,r,o,l,u,s,g])}function Yq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Xq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yq(Object(t),!0).forEach(function(r){uPe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uPe(n,e,t){return(e=cPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cPe(n){var e=dPe(n,"string");return typeof e=="symbol"?e:e+""}function dPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function fPe(n){return n.dataKey}function hPe(n,e){return F.isValidElement(n)?F.cloneElement(n,e):typeof n=="function"?F.createElement(n,e):F.createElement(Xxe,e)}var Jq=[],pPe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function gPe(n){var e,t,r=ho(n,pPe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:g,position:v,reverseDirection:C,useTranslate3d:b,wrapperStyle:B,cursor:S,shared:I,trigger:T,defaultIndex:R,portal:M,axisId:D}=r,L=yr(),H=typeof R=="number"?String(R):R;F.useEffect(()=>{L(cMe({shared:I,trigger:T,axisId:D,active:i,defaultIndex:H}))},[L,I,T,D,i,H]);var k=BI(),G=GJ(),K=sMe(I),{activeIndex:z,isActive:J}=(e=Ye(le=>vUe(le,K,T,H)))!==null&&e!==void 0?e:{},ne=Ye(le=>mUe(le,K,T,H)),oe=Ye(le=>cee(le,K,T,H)),V=Ye(le=>gUe(le,K,T,H)),q=ne,te=VUe(),he=(t=i??J)!==null&&t!==void 0?t:!1,[ve,$]=MBe([q,he]),Y=K==="axis"?oe:void 0;lPe(K,T,V,Y,z,he);var Ae=M??te;if(Ae==null||k==null||K==null)return null;var me=q??Jq;he||(me=Jq),u&&me.length&&(me=rBe(me.filter(le=>le.value!=null&&(le.hide!==!0||r.includeHidden)),g,fPe));var re=me.length>0,fe=F.createElement(i_e,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:he,coordinate:V,hasPayload:re,offset:h,position:v,reverseDirection:C,useTranslate3d:b,viewBox:k,wrapperStyle:B,lastBoundingBox:ve,innerRef:$,hasPortalFromProps:!!M},hPe(l,Xq(Xq({},r),{},{payload:me,label:Y,active:he,activeIndex:z,coordinate:V,accessibilityLayer:G})));return F.createElement(F.Fragment,null,h6.createPortal(fe,Ae),he&&F.createElement(HUe,{cursor:S,tooltipEventType:K,coordinate:V,payload:me,index:z}))}var QO=n=>null;QO.displayName="Cell";function mPe(n,e,t){return(e=vPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vPe(n){var e=yPe(n,"string");return typeof e=="symbol"?e:e+""}function yPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class wPe{constructor(e){mPe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function Zq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function bPe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zq(Object(t),!0).forEach(function(r){CPe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Zq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function CPe(n,e,t){return(e=EPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EPe(n){var e=BPe(n,"string");return typeof e=="symbol"?e:e+""}function BPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var SPe={cacheSize:2e3,enableCache:!0},gee=bPe({},SPe),e8=new wPe(gee.cacheSize),xPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},t8="recharts_measurement_span";function _Pe(n,e){var t=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var n8=(n,e)=>{try{var t=document.getElementById(t8);t||(t=document.createElement("span"),t.setAttribute("id",t8),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,xPe,e),t.textContent="".concat(n);var r=t.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Kw=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||uB.isSsr)return{width:0,height:0};if(!gee.enableCache)return n8(e,t);var r=_Pe(e,t),i=e8.get(r);if(i)return i;var s=n8(e,t);return e8.set(r,s),s},r8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,i8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FPe=Object.keys(mee),Yg="NaN";function MPe(n,e){return n*mee[e]}class xs{static parse(e){var t,[,r,i]=(t=IPe.exec(e))!==null&&t!==void 0?t:[];return new xs(parseFloat(r),i??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,DA(e)&&(this.unit=""),t!==""&&!TPe.test(t)&&(this.num=NaN,this.unit=""),FPe.includes(t)&&(this.num=MPe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new xs(NaN,""):new xs(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new xs(NaN,""):new xs(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xs(NaN,""):new xs(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new xs(NaN,""):new xs(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return DA(this.num)}}function vee(n){if(n.includes(Yg))return Yg;for(var e=n;e.includes("*")||e.includes("/");){var t,[,r,i,s]=(t=r8.exec(e))!==null&&t!==void 0?t:[],a=xs.parse(r??""),o=xs.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return Yg;e=e.replace(r8,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,g]=(u=i8.exec(e))!==null&&u!==void 0?u:[],v=xs.parse(d??""),C=xs.parse(g??""),b=h==="+"?v.add(C):v.subtract(C);if(b.isNaN())return Yg;e=e.replace(i8,b.toString())}return e}var s8=/\(([^()]*)\)/;function UPe(n){for(var e=n,t;(t=s8.exec(e))!=null;){var[,r]=t;e=e.replace(s8,vee(r))}return e}function PPe(n){var e=n.replace(/\s+/g,"");return e=UPe(e),e=vee(e),e}function RPe(n){try{return PPe(n)}catch{return Yg}}function hR(n){var e=RPe(n.slice(5,-1));return e===Yg?"":e}var DPe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],NPe=["dx","dy","angle","className","breakAll"];function bQ(){return bQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bQ.apply(null,arguments)}function a8(n,e){if(n==null)return{};var t,r,i=LPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function LPe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var yee=/[ \f\n\r\t\v\u2028\u2029]+/,wee=n=>{var{children:e,breakAll:t,style:r}=n;try{var i=[];oi(e)||(t?i=e.toString().split(""):i=e.toString().split(yee));var s=i.map(o=>({word:o,width:Kw(o,r).width})),a=t?0:Kw("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function QPe(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var bee=(n,e,t,r)=>n.reduce((i,s)=>{var{word:a,width:o}=s,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+t<Number(e)))l.words.push(a),l.width+=o+t;else{var u={words:[a],width:o};i.push(u)}return i},[]),Cee=n=>n.reduce((e,t)=>e.width>t.width?e:t),kPe="",o8=(n,e,t,r,i,s,a,o)=>{var l=n.slice(0,e),u=wee({breakAll:t,style:r,children:l+kPe});if(!u)return[!1,[]];var d=bee(u.wordsWithComputedWidth,s,a,o),h=d.length>i||Cee(d).width>Number(s);return[h,d]},OPe=(n,e,t,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=n,u=Je(s),d=String(a),h=bee(e,r,t,i);if(!u||i)return h;var g=h.length>s||Cee(h).width>Number(r);if(!g)return h;for(var v=0,C=d.length-1,b=0,B;v<=C&&b<=d.length-1;){var S=Math.floor((v+C)/2),I=S-1,[T,R]=o8(d,I,l,o,s,r,t,i),[M]=o8(d,S,l,o,s,r,t,i);if(!T&&!M&&(v=S+1),T&&M&&(C=S-1),!T&&M){B=R;break}b++}return B||h},A8=n=>{var e=oi(n)?[]:n.toString().split(yee);return[{words:e,width:void 0}]},HPe=n=>{var{width:e,scaleToFit:t,children:r,style:i,breakAll:s,maxLines:a}=n;if((e||t)&&!uB.isSsr){var o,l,u=wee({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,l=h}else return A8(r);return OPe({breakAll:s,children:r,maxLines:a,style:i},o,l,e,!!t)}return A8(r)},Eee="#808080",VPe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Eee,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},kO=F.forwardRef((n,e)=>{var t=ho(n,VPe),{x:r,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=t,h=a8(t,DPe),g=F.useMemo(()=>HPe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:C,angle:b,className:B,breakAll:S}=h,I=a8(h,NPe);if(!NA(r)||!NA(i)||g.length===0)return null;var T=Number(r)+(Je(v)?v:0),R=Number(i)+(Je(C)?C:0);if(!vr(T)||!vr(R))return null;var M;switch(d){case"start":M=hR("calc(".concat(a,")"));break;case"middle":M=hR("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:M=hR("calc(".concat(g.length-1," * -").concat(s,")"));break}var D=[];if(l){var L=g[0].width,{width:H}=h;D.push("scale(".concat(Je(H)&&Je(L)?H/L:1,")"))}return b&&D.push("rotate(".concat(b,", ").concat(T,", ").concat(R,")")),D.length&&(I.transform=D.join(" ")),F.createElement("text",bQ({},uo(I),{ref:e,x:T,y:R,className:Nn("recharts-text",B),textAnchor:u,fill:o.includes("url")?Eee:o}),g.map((k,G)=>{var K=k.words.join(S?"":" ");return F.createElement("tspan",{x:T,dy:G===0?M:s,key:"".concat(K,"-").concat(G)},K)}))});kO.displayName="Text";var KPe=["labelRef"];function GPe(n,e){if(n==null)return{};var t,r,i=zPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function zPe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function l8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function fr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(t),!0).forEach(function(r){$Pe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $Pe(n,e,t){return(e=qPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qPe(n){var e=jPe(n,"string");return typeof e=="symbol"?e:e+""}function jPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function fu(){return fu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fu.apply(null,arguments)}var Bee=F.createContext(null),WPe=n=>{var{x:e,y:t,upperWidth:r,lowerWidth:i,width:s,height:a,children:o}=n,l=F.useMemo(()=>({x:e,y:t,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,t,r,i,s,a]);return F.createElement(Bee.Provider,{value:l},o)},See=()=>{var n=F.useContext(Bee),e=BI();return n||NJ(e)},YPe=F.createContext(null),XPe=()=>{var n=F.useContext(YPe),e=Ye(rZ);return n||e},JPe=n=>{var{value:e,formatter:t}=n,r=oi(n.children)?e:n.children;return typeof t=="function"?t(r):r},OO=n=>n!=null&&typeof n=="function",ZPe=(n,e)=>{var t=fa(e-n),r=Math.min(Math.abs(e-n),360);return t*r},eRe=(n,e,t,r,i)=>{var{offset:s,className:a}=n,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:h,endAngle:g,clockWise:v}=i,C=(u+d)/2,b=ZPe(h,g),B=b>=0?1:-1,S,I;switch(e){case"insideStart":S=h+B*s,I=v;break;case"insideEnd":S=g-B*s,I=!v;break;case"end":S=g+B*s,I=v;break;default:throw new Error("Unsupported position ".concat(e))}I=b<=0?I:!I;var T=Ti(o,l,C,S),R=Ti(o,l,C,S+(I?1:-1)*359),M="M".concat(T.x,",").concat(T.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(I?0:1,`,
    `).concat(R.x,",").concat(R.y),D=oi(n.id)?rb("recharts-radial-line-"):n.id;return F.createElement("text",fu({},r,{dominantBaseline:"central",className:Nn("recharts-radial-bar-label",a)}),F.createElement("defs",null,F.createElement("path",{id:D,d:M})),F.createElement("textPath",{xlinkHref:"#".concat(D)},t))},tRe=(n,e,t)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=n,u=(o+l)/2;if(t==="outside"){var{x:d,y:h}=Ti(r,i,a+e,u);return{x:d,y:h,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:C}=Ti(r,i,g,u);return{x:v,y:C,textAnchor:"middle",verticalAnchor:"middle"}},CQ=n=>"cx"in n&&Je(n.cx),nRe=(n,e)=>{var{parentViewBox:t,offset:r,position:i}=n,s;t!=null&&!CQ(t)&&(s=t);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:d}=e,h=a,g=a+(l-u)/2,v=(h+g)/2,C=(l+u)/2,b=h+l/2,B=d>=0?1:-1,S=B*r,I=B>0?"end":"start",T=B>0?"start":"end",R=l>=0?1:-1,M=R*r,D=R>0?"end":"start",L=R>0?"start":"end";if(i==="top"){var H={x:h+l/2,y:o-S,textAnchor:"middle",verticalAnchor:I};return fr(fr({},H),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var k={x:g+u/2,y:o+d+S,textAnchor:"middle",verticalAnchor:T};return fr(fr({},k),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(i==="left"){var G={x:v-M,y:o+d/2,textAnchor:D,verticalAnchor:"middle"};return fr(fr({},G),s?{width:Math.max(G.x-s.x,0),height:d}:{})}if(i==="right"){var K={x:v+C+M,y:o+d/2,textAnchor:L,verticalAnchor:"middle"};return fr(fr({},K),s?{width:Math.max(s.x+s.width-K.x,0),height:d}:{})}var z=s?{width:C,height:d}:{};return i==="insideLeft"?fr({x:v+M,y:o+d/2,textAnchor:L,verticalAnchor:"middle"},z):i==="insideRight"?fr({x:v+C-M,y:o+d/2,textAnchor:D,verticalAnchor:"middle"},z):i==="insideTop"?fr({x:h+l/2,y:o+S,textAnchor:"middle",verticalAnchor:T},z):i==="insideBottom"?fr({x:g+u/2,y:o+d-S,textAnchor:"middle",verticalAnchor:I},z):i==="insideTopLeft"?fr({x:h+M,y:o+S,textAnchor:L,verticalAnchor:T},z):i==="insideTopRight"?fr({x:h+l-M,y:o+S,textAnchor:D,verticalAnchor:T},z):i==="insideBottomLeft"?fr({x:g+M,y:o+d-S,textAnchor:L,verticalAnchor:I},z):i==="insideBottomRight"?fr({x:g+u-M,y:o+d-S,textAnchor:D,verticalAnchor:I},z):i&&typeof i=="object"&&(Je(i.x)||Tu(i.x))&&(Je(i.y)||Tu(i.y))?fr({x:a+Ho(i.x,C),y:o+Ho(i.y,d),textAnchor:"end",verticalAnchor:"end"},z):fr({x:b,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},z)},rRe={angle:0,offset:5,zIndex:Fs.label,position:"middle",textBreakAll:!1};function xc(n){var e=ho(n,rRe),{viewBox:t,position:r,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=XPe(),h=See(),g=r==="center"?h:d??h,v,C,b;if(t==null?v=g:CQ(t)?v=t:v=NJ(t),!v||oi(i)&&oi(s)&&!F.isValidElement(a)&&typeof a!="function")return null;var B=fr(fr({},e),{},{viewBox:v});if(F.isValidElement(a)){var{labelRef:S}=B,I=GPe(B,KPe);return F.cloneElement(a,I)}if(typeof a=="function"){if(C=F.createElement(a,B),F.isValidElement(C))return C}else C=JPe(e);var T=uo(e);if(CQ(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return eRe(e,r,C,T,v);b=tRe(v,e.offset,e.position)}else b=nRe(e,v);return F.createElement(af,{zIndex:e.zIndex},F.createElement(kO,fu({ref:u,className:Nn("recharts-label",o)},T,b,{textAnchor:QPe(T.textAnchor)?T.textAnchor:b.textAnchor,breakAll:l}),C))}xc.displayName="Label";var iRe=(n,e,t)=>{if(!n)return null;var r={viewBox:e,labelRef:t};return n===!0?F.createElement(xc,fu({key:"label-implicit"},r)):NA(n)?F.createElement(xc,fu({key:"label-implicit",value:n},r)):F.isValidElement(n)?n.type===xc?F.cloneElement(n,fr({key:"label-implicit"},r)):F.createElement(xc,fu({key:"label-implicit",content:n},r)):OO(n)?F.createElement(xc,fu({key:"label-implicit",content:n},r)):n&&typeof n=="object"?F.createElement(xc,fu({},n,{key:"label-implicit"},r)):null};function sRe(n){var{label:e,labelRef:t}=n,r=See();return iRe(e,r,t)||null}var pR={},gR={},u8;function aRe(){return u8||(u8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(gR)),gR}var mR={},c8;function oRe(){return c8||(c8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(mR)),mR}var d8;function ARe(){return d8||(d8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=aRe(),t=oRe(),r=Ek();function i(s){if(r.isArrayLike(s))return e.last(t.toArray(s))}n.last=i})(pR)),pR}var vR,f8;function lRe(){return f8||(f8=1,vR=ARe().last),vR}var uRe=lRe();const cRe=OA(uRe);var dRe=["valueAccessor"],fRe=["dataKey","clockWise","id","textBreakAll","zIndex"];function o1(){return o1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},o1.apply(null,arguments)}function h8(n,e){if(n==null)return{};var t,r,i=hRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function hRe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var pRe=n=>Array.isArray(n.value)?cRe(n.value):n.value,xee=F.createContext(void 0),gRe=xee.Provider,_ee=F.createContext(void 0);_ee.Provider;function mRe(){return F.useContext(xee)}function vRe(){return F.useContext(_ee)}function W_(n){var{valueAccessor:e=pRe}=n,t=h8(n,dRe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:o}=t,l=h8(t,fRe),u=mRe(),d=vRe(),h=u||d;return!h||!h.length?null:F.createElement(af,{zIndex:o??Fs.label},F.createElement(_u,{className:"recharts-label-list"},h.map((g,v)=>{var C,b=oi(r)?e(g,v):Gi(g&&g.payload,r),B=oi(s)?{}:{id:"".concat(s,"-").concat(v)};return F.createElement(xc,o1({key:"label-".concat(v)},uo(g),l,B,{fill:(C=t.fill)!==null&&C!==void 0?C:g.fill,parentViewBox:g.parentViewBox,value:b,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}W_.displayName="LabelList";function yRe(n){var{label:e}=n;return e?e===!0?F.createElement(W_,{key:"labelList-implicit"}):F.isValidElement(e)||OO(e)?F.createElement(W_,{key:"labelList-implicit",content:e}):typeof e=="object"?F.createElement(W_,o1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var wRe={radiusAxis:{},angleAxis:{}},Tee=Ms({name:"polarAxis",initialState:wRe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:Fke,removeRadiusAxis:Mke,addAngleAxis:Uke,removeAngleAxis:Pke}=Tee.actions,bRe=Tee.reducer,yR={exports:{}},rn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p8;function CRe(){if(p8)return rn;p8=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function C(b){if(typeof b=="object"&&b!==null){var B=b.$$typeof;switch(B){case n:switch(b=b.type,b){case t:case i:case r:case l:case u:case g:return b;default:switch(b=b&&b.$$typeof,b){case a:case o:case h:case d:return b;case s:return b;default:return B}}case e:return B}}}return rn.ContextConsumer=s,rn.ContextProvider=a,rn.Element=n,rn.ForwardRef=o,rn.Fragment=t,rn.Lazy=h,rn.Memo=d,rn.Portal=e,rn.Profiler=i,rn.StrictMode=r,rn.Suspense=l,rn.SuspenseList=u,rn.isContextConsumer=function(b){return C(b)===s},rn.isContextProvider=function(b){return C(b)===a},rn.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===n},rn.isForwardRef=function(b){return C(b)===o},rn.isFragment=function(b){return C(b)===t},rn.isLazy=function(b){return C(b)===h},rn.isMemo=function(b){return C(b)===d},rn.isPortal=function(b){return C(b)===e},rn.isProfiler=function(b){return C(b)===i},rn.isStrictMode=function(b){return C(b)===r},rn.isSuspense=function(b){return C(b)===l},rn.isSuspenseList=function(b){return C(b)===u},rn.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===t||b===i||b===r||b===l||b===u||typeof b=="object"&&b!==null&&(b.$$typeof===h||b.$$typeof===d||b.$$typeof===a||b.$$typeof===s||b.$$typeof===o||b.$$typeof===v||b.getModuleId!==void 0)},rn.typeOf=C,rn}var g8;function ERe(){return g8||(g8=1,yR.exports=CRe()),yR.exports}var BRe=ERe(),m8=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",v8=null,wR=null,Iee=n=>{if(n===v8&&Array.isArray(wR))return wR;var e=[];return F.Children.forEach(n,t=>{oi(t)||(BRe.isFragment(t)?e=e.concat(Iee(t.props.children)):e.push(t))}),wR=e,v8=n,e};function SRe(n,e){var t=[],r=[];return Array.isArray(e)?r=e.map(i=>m8(i)):r=[m8(e)],Iee(n).forEach(i=>{var s=dy(i,"type.displayName")||dy(i,"type.name");s&&r.indexOf(s)!==-1&&t.push(i)}),t}var bR={},y8;function xRe(){return y8||(y8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var i;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const s=t[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&i.writable)?!1:t.toString()===`[object ${s}]`}let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}n.isPlainObject=e})(bR)),bR}var CR,w8;function _Re(){return w8||(w8=1,CR=xRe().isPlainObject),CR}var TRe=_Re();const IRe=OA(TRe);function b8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function C8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(t),!0).forEach(function(r){FRe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function FRe(n,e,t){return(e=MRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MRe(n){var e=URe(n,"string");return typeof e=="symbol"?e:e+""}function URe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function A1(){return A1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},A1.apply(null,arguments)}var E8=(n,e,t,r,i)=>{var s=t-r,a;return a="M ".concat(n,",").concat(e),a+="L ".concat(n+t,",").concat(e),a+="L ".concat(n+t-s/2,",").concat(e+i),a+="L ".concat(n+t-s/2-r,",").concat(e+i),a+="L ".concat(n,",").concat(e," Z"),a},PRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RRe=n=>{var e=ho(n,PRe),{x:t,y:r,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,g=F.useRef(null),[v,C]=F.useState(-1),b=F.useRef(i),B=F.useRef(s),S=F.useRef(a),I=F.useRef(t),T=F.useRef(r),R=Qk(n,"trapezoid-");if(F.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ne=g.current.getTotalLength();ne&&C(ne)}catch{}},[]),t!==+t||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var M=Nn("recharts-trapezoid",o);if(!h)return F.createElement("g",null,F.createElement("path",A1({},uo(e),{className:M,d:E8(t,r,i,s,a)})));var D=b.current,L=B.current,H=S.current,k=I.current,G=T.current,K="0px ".concat(v===-1?1:v,"px"),z="".concat(v,"px 0px"),J=$J(["strokeDasharray"],u,l);return F.createElement(Lk,{animationId:R,key:R,canBegin:v>0,duration:u,easing:l,isActive:h,begin:d},ne=>{var oe=Bi(D,i,ne),V=Bi(L,s,ne),q=Bi(H,a,ne),te=Bi(k,t,ne),he=Bi(G,r,ne);g.current&&(b.current=oe,B.current=V,S.current=q,I.current=te,T.current=he);var ve=ne>0?{transition:J,strokeDasharray:z}:{strokeDasharray:K};return F.createElement("path",A1({},uo(e),{className:M,d:E8(te,he,oe,V,q),ref:g,style:C8(C8({},ve),e.style)}))})},DRe=["option","shapeType","propTransformer","activeClassName"];function NRe(n,e){if(n==null)return{};var t,r,i=LRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function LRe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function B8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function l1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(t),!0).forEach(function(r){QRe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):B8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function QRe(n,e,t){return(e=kRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kRe(n){var e=ORe(n,"string");return typeof e=="symbol"?e:e+""}function ORe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function HRe(n,e){return l1(l1({},e),n)}function VRe(n,e){return n==="symbols"}function S8(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return F.createElement(YJ,t);case"trapezoid":return F.createElement(RRe,t);case"sector":return F.createElement(ZJ,t);case"symbols":if(VRe(e))return F.createElement(O9,t);break;case"curve":return F.createElement(zJ,t);default:return null}}function KRe(n){return F.isValidElement(n)?n.props:n}function GRe(n){var{option:e,shapeType:t,propTransformer:r=HRe,activeClassName:i="recharts-active-shape"}=n,s=NRe(n,DRe),a;if(F.isValidElement(e))a=F.cloneElement(e,l1(l1({},s),KRe(e)));else if(typeof e=="function")a=e(s,s.index);else if(IRe(e)&&typeof e!="boolean"){var o=r(e,s);a=F.createElement(S8,{shapeType:t,elementProps:o})}else{var l=s;a=F.createElement(S8,{shapeType:t,elementProps:l})}return s.isActive?F.createElement(_u,{className:i},a):a}var Fee=(n,e,t)=>{var r=yr();return(i,s)=>a=>{n==null||n(i,s,a),r($Z({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}},Mee=n=>{var e=yr();return(t,r)=>i=>{n==null||n(t,r,i),e(dMe())}},Uee=(n,e,t)=>{var r=yr();return(i,s)=>a=>{n==null||n(i,s,a),r(fMe({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}};function zRe(n){var{tooltipEntrySettings:e}=n,t=yr(),r=ya(),i=F.useRef(null);return F.useLayoutEffect(()=>{r||(i.current===null?t(AMe(e)):i.current!==e&&t(lMe({prev:i.current,next:e})),i.current=e)},[e,t,r]),F.useLayoutEffect(()=>()=>{i.current&&(t(uMe(i.current)),i.current=null)},[t]),null}function $Re(n){var{legendPayload:e}=n,t=yr(),r=ya(),i=F.useRef(null);return F.useLayoutEffect(()=>{r||(i.current===null?t(Kxe(e)):i.current!==e&&t(Gxe({prev:i.current,next:e})),i.current=e)},[t,r,e]),F.useLayoutEffect(()=>()=>{i.current&&(t(zxe(i.current)),i.current=null)},[t]),null}var ER,qRe=()=>{var[n]=F.useState(()=>rb("uid-"));return n},jRe=(ER=mre.useId)!==null&&ER!==void 0?ER:qRe;function Pee(n,e){var t=jRe();return e||(n?"".concat(n,"-").concat(t):t)}var WRe=F.createContext(void 0),YRe=n=>{var{id:e,type:t,children:r}=n,i=Pee("recharts-".concat(t),e);return F.createElement(WRe.Provider,{value:i},r(i))},XRe={cartesianItems:[],polarItems:[]},Ree=Ms({name:"graphicalItems",initialState:XRe,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:Hn()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:r}=e.payload,i=Oo(n).cartesianItems.indexOf(t);i>-1&&(n.cartesianItems[i]=r)},prepare:Hn()},removeCartesianGraphicalItem:{reducer(n,e){var t=Oo(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:Hn()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:Hn()},removePolarGraphicalItem:{reducer(n,e){var t=Oo(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:Hn()}}}),{addCartesianGraphicalItem:JRe,replaceCartesianGraphicalItem:ZRe,removeCartesianGraphicalItem:eDe,addPolarGraphicalItem:Rke,removePolarGraphicalItem:Dke}=Ree.actions,tDe=Ree.reducer,nDe=n=>{var e=yr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(JRe(n)):t.current!==n&&e(ZRe({prev:t.current,next:n})),t.current=n},[e,n]),F.useLayoutEffect(()=>()=>{t.current&&(e(eDe(t.current)),t.current=null)},[e]),null},rDe=F.memo(nDe);function x8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(t),!0).forEach(function(r){iDe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):x8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iDe(n,e,t){return(e=sDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sDe(n){var e=aDe(n,"string");return typeof e=="symbol"?e:e+""}function aDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var oDe={xAxis:{},yAxis:{},zAxis:{}},Dee=Ms({name:"cartesianAxis",initialState:oDe,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:Hn()},replaceXAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.xAxis[t.id],n.xAxis[r.id]=r)},prepare:Hn()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:Hn()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:Hn()},replaceYAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.yAxis[t.id],n.yAxis[r.id]=r)},prepare:Hn()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:Hn()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:Hn()},replaceZAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.zAxis[t.id],n.zAxis[r.id]=r)},prepare:Hn()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:Hn()},updateYAxisWidth(n,e){var{id:t,width:r}=e.payload,i=n.yAxis[t];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);n.yAxis[t]=_8(_8({},n.yAxis[t]),{},{width:r,widthHistory:a})}}}}),{addXAxis:ADe,replaceXAxis:lDe,removeXAxis:uDe,addYAxis:cDe,replaceYAxis:dDe,removeYAxis:fDe,addZAxis:Nke,replaceZAxis:Lke,removeZAxis:Qke,updateYAxisWidth:hDe}=Dee.actions,pDe=Dee.reducer,gDe=ce([Ai],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),mDe=ce([gDe,Vu,Ku],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),Nee=()=>Ye(mDe),vDe="Invariant failed";function yDe(n,e){throw new Error(vDe)}var wDe=["x","y"];function EQ(){return EQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},EQ.apply(null,arguments)}function T8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Y0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(t),!0).forEach(function(r){bDe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function bDe(n,e,t){return(e=CDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CDe(n){var e=EDe(n,"string");return typeof e=="symbol"?e:e+""}function EDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BDe(n,e){if(n==null)return{};var t,r,i=SDe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function SDe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function xDe(n,e){var{x:t,y:r}=n,i=BDe(n,wDe),s="".concat(t),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),g=parseInt(h,10);return Y0(Y0(Y0(Y0(Y0({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function u1(n){return F.createElement(GRe,EQ({shapeType:"rectangle",propTransformer:xDe,activeClassName:"recharts-active-bar"},n))}var _De=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Je(e))return e;var s=Je(r)||oi(r);return s?e(r,i):(s||yDe(),t)}},TDe={},Lee=Ms({name:"errorBars",initialState:TDe,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]||(n[t]=[]),n[t].push(r)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:r,next:i}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]&&(n[t]=n[t].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:kke,replaceErrorBar:Oke,removeErrorBar:Hke}=Lee.actions,IDe=Lee.reducer,FDe=["children"];function MDe(n,e){if(n==null)return{};var t,r,i=UDe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function UDe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var PDe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},RDe=F.createContext(PDe);function DDe(n){var{children:e}=n,t=MDe(n,FDe);return F.createElement(RDe.Provider,{value:t},e)}function Qee(n,e){var t,r,i=Ye(u=>zu(u,n)),s=Ye(u=>$u(u,e)),a=(t=i==null?void 0:i.allowDataOverflow)!==null&&t!==void 0?t:Yr.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Xr.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function NDe(n){var{xAxisId:e,yAxisId:t,clipPathId:r}=n,i=Nee(),{needClipX:s,needClipY:a,needClip:o}=Qee(e,t);if(!o||!i)return null;var{x:l,y:u,width:d,height:h}=i;return F.createElement("clipPath",{id:"clipPath-".concat(r)},F.createElement("rect",{x:s?l:l-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}function LDe(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&vr(n.zIndex)?n.zIndex:e}var BR={exports:{}},SR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I8;function QDe(){if(I8)return SR;I8=1;var n=By();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,s=n.useEffect,a=n.useMemo,o=n.useDebugValue;return SR.useSyncExternalStoreWithSelector=function(l,u,d,h,g){var v=i(null);if(v.current===null){var C={hasValue:!1,value:null};v.current=C}else C=v.current;v=a(function(){function B(M){if(!S){if(S=!0,I=M,M=h(M),g!==void 0&&C.hasValue){var D=C.value;if(g(D,M))return T=D}return T=M}if(D=T,t(I,M))return D;var L=h(M);return g!==void 0&&g(D,L)?(I=M,D):(I=M,T=L)}var S=!1,I,T,R=d===void 0?null:d;return[function(){return B(u())},R===null?void 0:function(){return B(R())}]},[u,d,h,g]);var b=r(l,v[0],v[1]);return s(function(){C.hasValue=!0,C.value=b},[b]),o(b),b},SR}var F8;function kDe(){return F8||(F8=1,BR.exports=QDe()),BR.exports}kDe();function ODe(n){n()}function HDe(){let n=null,e=null;return{clear(){n=null,e=null},notify(){ODe(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var M8={notify(){},get:()=>[]};function VDe(n,e){let t,r=M8,i=0,s=!1;function a(b){d();const B=r.subscribe(b);let S=!1;return()=>{S||(S=!0,B(),h())}}function o(){r.notify()}function l(){C.onStateChange&&C.onStateChange()}function u(){return s}function d(){i++,t||(t=n.subscribe(l),r=HDe())}function h(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=M8)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,h())}const C={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return C}var KDe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GDe=KDe(),zDe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$De=zDe(),qDe=()=>GDe||$De?F.useLayoutEffect:F.useEffect,jDe=qDe();function U8(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function WDe(n,e){if(U8(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!U8(n[t[i]],e[t[i]]))return!1;return!0}var xR=Symbol.for("react-redux-context"),_R=typeof globalThis<"u"?globalThis:{};function YDe(){if(!F.createContext)return{};const n=_R[xR]??(_R[xR]=new Map);let e=n.get(F.createContext);return e||(e=F.createContext(null),n.set(F.createContext,e)),e}var XDe=YDe();function JDe(n){const{children:e,context:t,serverState:r,store:i}=n,s=F.useMemo(()=>{const l=VDe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=F.useMemo(()=>i.getState(),[i]);jDe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=t||XDe;return F.createElement(o.Provider,{value:s},e)}var ZDe=JDe,eNe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function tNe(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function HO(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var r of t)if(eNe.has(r)){if(n[r]==null&&e[r]==null)continue;if(!WDe(n[r],e[r]))return!1}else if(!tNe(n[r],e[r]))return!1;return!0}var nNe=["onMouseEnter","onMouseLeave","onClick"],rNe=["value","background","tooltipPosition"],iNe=["id"],sNe=["onMouseEnter","onClick","onMouseLeave"];function Ru(){return Ru=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ru.apply(null,arguments)}function P8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ns(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(t),!0).forEach(function(r){aNe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function aNe(n,e,t){return(e=oNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oNe(n){var e=ANe(n,"string");return typeof e=="symbol"?e:e+""}function ANe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function c1(n,e){if(n==null)return{};var t,r,i=lNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function lNe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var uNe=n=>{var{dataKey:e,name:t,fill:r,legendType:i,hide:s}=n;return[{inactive:s,dataKey:e,type:i,color:r,value:MJ(t,e),payload:n}]},cNe=F.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:r,fill:i,name:s,hide:a,unit:o,tooltipType:l}=n,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:MJ(s,e),hide:a,type:l,color:i,unit:o}};return F.createElement(zRe,{tooltipEntrySettings:u})});function dNe(n){var e=Ye(by),{data:t,dataKey:r,background:i,allOtherBarProps:s}=n,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,u=c1(s,nNe),d=Fee(a,r),h=Mee(o),g=Uee(l,r);if(!i||t==null)return null;var v=pk(i);return F.createElement(af,{zIndex:LDe(i,Fs.barBackground)},t.map((C,b)=>{var{value:B,background:S,tooltipPosition:I}=C,T=c1(C,rNe);if(!S)return null;var R=d(C,b),M=h(C,b),D=g(C,b),L=ns(ns(ns(ns(ns({option:i,isActive:String(b)===e},T),{},{fill:"#eee"},S),v),Ck(u,C,b)),{},{onMouseEnter:R,onMouseLeave:M,onClick:D,dataKey:r,index:b,className:"recharts-bar-background-rectangle"});return F.createElement(u1,Ru({key:"background-bar-".concat(b)},L))}))}function fNe(n){var{showLabels:e,children:t,rects:r}=n,i=r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return ns(ns({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return F.createElement(gRe,{value:e?i:void 0},t)}function hNe(n){var{shape:e,activeBar:t,baseProps:r,entry:i,index:s,dataKey:a}=n,o=Ye(by),l=Ye(aee),u=t&&String(s)===o&&(l==null||a===l),d=u?t:e;return u?F.createElement(af,{zIndex:Fs.activeBar},F.createElement(u1,Ru({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))):F.createElement(u1,Ru({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))}function pNe(n){var{shape:e,baseProps:t,entry:r,index:i,dataKey:s}=n;return F.createElement(u1,Ru({},t,{name:String(t.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function gNe(n){var e,{data:t,props:r}=n,i=(e=Yd(r))!==null&&e!==void 0?e:{},{id:s}=i,a=c1(i,iNe),{shape:o,dataKey:l,activeBar:u}=r,{onMouseEnter:d,onClick:h,onMouseLeave:g}=r,v=c1(r,sNe),C=Fee(d,l),b=Mee(g),B=Uee(h,l);return t?F.createElement(F.Fragment,null,t.map((S,I)=>F.createElement(_u,Ru({key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(I),className:"recharts-bar-rectangle"},Ck(v,S,I),{onMouseEnter:C(S,I),onMouseLeave:b(S,I),onClick:B(S,I)}),u?F.createElement(hNe,{shape:o,activeBar:u,baseProps:a,entry:S,index:I,dataKey:l}):F.createElement(pNe,{shape:o,baseProps:a,entry:S,index:I,dataKey:l})))):null}function mNe(n){var{props:e,previousRectanglesRef:t}=n,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=e,h=t.current,g=Qk(e,"recharts-bar-"),[v,C]=F.useState(!1),b=!v,B=F.useCallback(()=>{typeof u=="function"&&u(),C(!1)},[u]),S=F.useCallback(()=>{typeof d=="function"&&d(),C(!0)},[d]);return F.createElement(fNe,{showLabels:b,rects:r},F.createElement(Lk,{animationId:g,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:B,onAnimationStart:S,key:g},I=>{var T=I===1?r:r==null?void 0:r.map((R,M)=>{var D=h&&h[M];if(D)return ns(ns({},R),{},{x:Bi(D.x,R.x,I),y:Bi(D.y,R.y,I),width:Bi(D.width,R.width,I),height:Bi(D.height,R.height,I)});if(i==="horizontal"){var L=Bi(0,R.height,I),H=Bi(R.stackedBarStart,R.y,I);return ns(ns({},R),{},{y:H,height:L})}var k=Bi(0,R.width,I),G=Bi(R.stackedBarStart,R.x,I);return ns(ns({},R),{},{width:k,x:G})});return I>0&&(t.current=T??null),T==null?null:F.createElement(_u,null,F.createElement(gNe,{props:e,data:T}))}),F.createElement(yRe,{label:e.label}),e.children)}function vNe(n){var e=F.useRef(null);return F.createElement(mNe,{previousRectanglesRef:e,props:n})}var kee=0,yNe=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:Gi(n,e)}};class wNe extends F.PureComponent{render(){var{hide:e,data:t,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:o,background:l,id:u}=this.props;if(e||t==null)return null;var d=Nn("recharts-bar",i),h=u;return F.createElement(_u,{className:d,id:u},o&&F.createElement("defs",null,F.createElement(NDe,{clipPathId:h,xAxisId:s,yAxisId:a})),F.createElement(_u,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},F.createElement(dNe,{data:t,dataKey:r,background:l,allOtherBarProps:this.props}),F.createElement(vNe,this.props)))}}var bNe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:kee,xAxisId:0,yAxisId:0,zIndex:Fs.bar};function CNe(n){var{xAxisId:e,yAxisId:t,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=n,{needClip:h}=Qee(e,t),g=SI(),v=ya(),C=SRe(n.children,QO),b=Ye(I=>YNe(I,e,t,v,n.id,C));if(g!=="vertical"&&g!=="horizontal")return null;var B,S=b==null?void 0:b[0];return S==null||S.height==null||S.width==null?B=0:B=g==="vertical"?S.height/2:S.width/2,F.createElement(DDe,{xAxisId:e,yAxisId:t,data:b,dataPointFormatter:yNe,errorBarOffset:B},F.createElement(wNe,Ru({},n,{layout:g,needClip:h,data:b,xAxisId:e,yAxisId:t,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function ENe(n){var{layout:e,barSettings:{dataKey:t,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:h,offset:g,cells:v,parentViewBox:C,dataStartIndex:b}=n,B=e==="horizontal"?o:a,S=d?B.scale.domain():null,I=KSe({numericAxis:B}),T=B.scale(I);return h.map((R,M)=>{var D,L,H,k,G,K;d?D=LSe(d[M+b],S):(D=Gi(R,t),Array.isArray(D)||(D=[I,D]));var z=_De(r,kee)(D[1],M);if(e==="horizontal"){var J,[ne,oe]=[o.scale(D[0]),o.scale(D[1])];L=i$({axis:a,ticks:l,bandSize:s,offset:i.offset,entry:R,index:M}),H=(J=oe??ne)!==null&&J!==void 0?J:void 0,k=i.size;var V=ne-oe;if(G=DA(V)?0:V,K={x:L,y:g.top,width:k,height:g.height},Math.abs(z)>0&&Math.abs(G)<Math.abs(z)){var q=fa(G||z)*(Math.abs(z)-Math.abs(G));H-=q,G+=q}}else{var[te,he]=[a.scale(D[0]),a.scale(D[1])];if(L=te,H=i$({axis:o,ticks:u,bandSize:s,offset:i.offset,entry:R,index:M}),k=he-te,G=i.size,K={x:g.left,y:H,width:g.width,height:G},Math.abs(z)>0&&Math.abs(k)<Math.abs(z)){var ve=fa(k||z)*(Math.abs(z)-Math.abs(k));k+=ve}}if(L==null||H==null||k==null||G==null)return null;var $=ns(ns({},R),{},{stackedBarStart:T,x:L,y:H,width:k,height:G,value:d?D:D[1],payload:R,background:K,tooltipPosition:{x:L+k/2,y:H+G/2},parentViewBox:C},v&&v[M]&&v[M].props);return $}).filter(Boolean)}function BNe(n){var e=ho(n,bNe),t=ya();return F.createElement(YRe,{id:e.id,type:"bar"},r=>F.createElement(F.Fragment,null,F.createElement($Re,{legendPayload:uNe(e)}),F.createElement(cNe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),F.createElement(rDe,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:VSe(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),F.createElement(af,{zIndex:e.zIndex},F.createElement(CNe,Ru({},e,{id:r})))))}var Oee=F.memo(BNe,HO);Oee.displayName="Bar";function R8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ox(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(t),!0).forEach(function(r){SNe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function SNe(n,e,t){return(e=xNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xNe(n){var e=_Ne(n,"string");return typeof e=="symbol"?e:e+""}function _Ne(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var TNe=(n,e)=>e,INe=(n,e,t)=>t,FNe=(n,e,t,r)=>r,MNe=(n,e,t,r,i)=>i,BB=ce([yO,MNe],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),UNe=ce([BB],n=>n==null?void 0:n.maxBarSize),PNe=(n,e,t,r,i,s)=>s,D8=(n,e,t)=>{var r=t??n;if(!oi(r))return Ho(r,e,0)},RNe=ce([Yt,yO,TNe,INe,FNe],(n,e,t,r,i)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),DNe=(n,e,t,r)=>{var i=Yt(n);return i==="horizontal"?gQ(n,"yAxis",t,r):gQ(n,"xAxis",e,r)},NNe=(n,e,t)=>{var r=Yt(n);return r==="horizontal"?Nq(n,"xAxis",e):Nq(n,"yAxis",t)},LNe=(n,e,t)=>{var r={},i=n.filter(OI),s=n.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),o=Object.entries(a).map(u=>{var[d,h]=u,g=h.map(C=>C.dataKey),v=D8(e,t,h[0].barSize);return{stackId:d,dataKeys:g,barSize:v}}),l=s.map(u=>{var d=[u.dataKey].filter(g=>g!=null),h=D8(e,t,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...l]},QNe=ce([RNe,tFe,NNe],LNe),kNe=(n,e,t,r,i)=>{var s,a,o=BB(n,e,t,r,i);if(o!=null){var l=Yt(n),u=W7(n),{maxBarSize:d}=o,h=oi(d)?u:d,g,v;return l==="horizontal"?(g=wy(n,"xAxis",e,r),v=yy(n,"xAxis",e,r)):(g=wy(n,"yAxis",t,r),v=yy(n,"yAxis",t,r)),(s=(a=kT(g,v,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0}},Hee=(n,e,t,r)=>{var i=Yt(n),s,a;return i==="horizontal"?(s=wy(n,"xAxis",e,r),a=yy(n,"xAxis",e,r)):(s=wy(n,"yAxis",t,r),a=yy(n,"yAxis",t,r)),kT(s,a)};function ONe(n,e,t,r,i){var s=r.length;if(!(s<1)){var a=Ho(n,t,0,!0),o,l=[];if(vr(r[0].barSize)){var u=!1,d=t/s,h=r.reduce((S,I)=>S+(I.barSize||0),0);h+=(s-1)*a,h>=t&&(h-=(s-1)*a,a=0),h>=t&&d>0&&(u=!0,d*=.9,h=s*d);var g=(t-h)/2>>0,v={offset:g-a,size:0};o=r.reduce((S,I)=>{var T,R={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:v.offset+v.size+a,size:u?d:(T=I.barSize)!==null&&T!==void 0?T:0}},M=[...S,R];return v=M[M.length-1].position,M},l)}else{var C=Ho(e,t,0,!0);t-2*C-(s-1)*a<=0&&(a=0);var b=(t-2*C-(s-1)*a)/s;b>1&&(b>>=0);var B=vr(i)?Math.min(b,i):b;o=r.reduce((S,I,T)=>[...S,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:C+(b+a)*T+(b-B)/2,size:B}}],l)}return o}}var HNe=(n,e,t,r,i,s,a)=>{var o=oi(a)?e:a,l=ONe(t,r,i!==s?i:s,n,o);return i!==s&&l!=null&&(l=l.map(u=>Ox(Ox({},u),{},{position:Ox(Ox({},u.position),{},{offset:u.position.offset-i/2})}))),l},VNe=ce([QNe,W7,eFe,Y7,kNe,Hee,UNe],HNe),KNe=(n,e,t,r)=>wy(n,"xAxis",e,r),GNe=(n,e,t,r)=>wy(n,"yAxis",t,r),zNe=(n,e,t,r)=>yy(n,"xAxis",e,r),$Ne=(n,e,t,r)=>yy(n,"yAxis",t,r),qNe=ce([VNe,BB],(n,e)=>{if(!(n==null||e==null)){var t=n.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),jNe=(n,e)=>{var t=mO(e);if(!(!n||t==null||e==null)){var{stackId:r}=e;if(r!=null){var i=n[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===t)}}}},WNe=ce([DNe,BB],jNe),YNe=ce([Ai,Pk,KNe,GNe,zNe,$Ne,qNe,Yt,AO,Hee,WNe,BB,PNe],(n,e,t,r,i,s,a,o,l,u,d,h,g)=>{var{chartData:v,dataStartIndex:C,dataEndIndex:b}=l;if(!(h==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||t==null||r==null||i==null||s==null||u==null)){var{data:B}=h,S;if(B!=null&&B.length>0?S=B:S=v==null?void 0:v.slice(C,b+1),S!=null)return ENe({layout:o,barSettings:h,pos:a,parentViewBox:e,bandSize:u,xAxis:t,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:S,offset:n,cells:g,dataStartIndex:C})}}),XNe=n=>{var{chartData:e}=n,t=yr(),r=ya();return F.useEffect(()=>r?()=>{}:(t(jq(e)),()=>{t(jq(void 0))}),[e,t,r]),null},N8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Vee=Ms({name:"brush",initialState:N8,reducers:{setBrushSettings(n,e){return e.payload==null?N8:e.payload}}}),{setBrushSettings:Vke}=Vee.actions,JNe=Vee.reducer;function ZNe(n,e,t){return(e=eLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eLe(n){var e=tLe(n,"string");return typeof e=="symbol"?e:e+""}function tLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class VO{static create(e){return new VO(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],i=t[t.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}ZNe(VO,"EPS",1e-4);function nLe(n){return(n%180+180)%180}var rLe=function(e){var{width:t,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=nLe(i),a=s*Math.PI/180,o=Math.atan(r/t),l=a>o&&a<Math.PI-o?r/Math.sin(a):t/Math.cos(a);return Math.abs(l)},iLe={dots:[],areas:[],lines:[]},Kee=Ms({name:"referenceElements",initialState:iLe,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=Oo(n).dots.findIndex(r=>r===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=Oo(n).areas.findIndex(r=>r===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=Oo(n).lines.findIndex(r=>r===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:Kke,removeDot:Gke,addArea:zke,removeArea:$ke,addLine:qke,removeLine:jke}=Kee.actions,sLe=Kee.reducer,aLe=F.createContext(void 0),oLe=n=>{var{children:e}=n,[t]=F.useState("".concat(rb("recharts"),"-clip")),r=Nee();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return F.createElement(aLe.Provider,{value:t},F.createElement("defs",null,F.createElement("clipPath",{id:t},F.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function Gee(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],r=0;r<n.length;r+=e)t.push(n[r]);return t}function ALe(n,e,t){var r={width:n.width+e.width,height:n.height+e.height};return rLe(r,t)}function lLe(n,e,t){var r=t==="width",{x:i,y:s,width:a,height:o}=n;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function d1(n,e,t,r,i){if(n*e<n*r||n*e>n*i)return!1;var s=t();return n*(e-n*s/2-r)>=0&&n*(e+n*s/2-i)<=0}function uLe(n,e){return Gee(n,e+1)}function cLe(n,e,t,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,h=function(){var C=r==null?void 0:r[l];if(C===void 0)return{v:Gee(r,u)};var b=l,B,S=()=>(B===void 0&&(B=t(C,b)),B),I=C.coordinate,T=l===0||d1(n,I,S,d,o);T||(l=0,d=a,u+=1),T&&(d=I+n*(S()/2+i),l+=u)},g;u<=s.length;)if(g=h(),g)return g.v;return[]}function L8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Hi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(t),!0).forEach(function(r){dLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):L8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dLe(n,e,t){return(e=fLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fLe(n){var e=hLe(n,"string");return typeof e=="symbol"?e:e+""}function hLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function pLe(n,e,t,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(g){var v=s[g],C,b=()=>(C===void 0&&(C=t(v,g)),C);if(g===a-1){var B=n*(v.coordinate+n*b()/2-l);s[g]=v=Hi(Hi({},v),{},{tickCoord:B>0?v.coordinate-B*n:v.coordinate})}else s[g]=v=Hi(Hi({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var S=d1(n,v.tickCoord,b,o,l);S&&(l=v.tickCoord-n*(b()/2+i),s[g]=Hi(Hi({},v),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function gLe(n,e,t,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var d=r[o-1],h=t(d,o-1),g=n*(d.coordinate+n*h/2-u);if(a[o-1]=d=Hi(Hi({},d),{},{tickCoord:g>0?d.coordinate-g*n:d.coordinate}),d.tickCoord!=null){var v=d1(n,d.tickCoord,()=>h,l,u);v&&(u=d.tickCoord-n*(h/2+i),a[o-1]=Hi(Hi({},d),{},{isShow:!0}))}}for(var C=s?o-1:o,b=function(I){var T=a[I],R,M=()=>(R===void 0&&(R=t(T,I)),R);if(I===0){var D=n*(T.coordinate-n*M()/2-l);a[I]=T=Hi(Hi({},T),{},{tickCoord:D<0?T.coordinate-D*n:T.coordinate})}else a[I]=T=Hi(Hi({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var L=d1(n,T.tickCoord,M,l,u);L&&(l=T.tickCoord+n*(M()/2+i),a[I]=Hi(Hi({},T),{},{isShow:!0}))}},B=0;B<C;B++)b(B);return a}function mLe(n,e,t){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:h}=n;if(!i||!i.length||!r)return[];if(Je(l)||uB.isSsr){var g;return(g=uLe(i,Je(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],C=o==="top"||o==="bottom"?"width":"height",b=d&&C==="width"?Kw(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},B=(T,R)=>{var M=typeof u=="function"?u(T.value,R):T.value;return C==="width"?ALe(Kw(M,{fontSize:e,letterSpacing:t}),b,h):Kw(M,{fontSize:e,letterSpacing:t})[C]},S=i.length>=2?fa(i[1].coordinate-i[0].coordinate):1,I=lLe(s,S,C);return l==="equidistantPreserveStart"?cLe(S,I,B,i,a):(l==="preserveStart"||l==="preserveStartEnd"?v=gLe(S,I,B,i,a,l==="preserveStartEnd"):v=pLe(S,I,B,i,a),v.filter(T=>T.isShow))}var vLe=n=>{var{ticks:e,label:t,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=n,a=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=t?t.getBoundingClientRect().width:0,l=i+s,u=a+l+o+(t?r:0);return Math.round(u)}return 0},yLe=["axisLine","width","height","className","hide","ticks","axisType"];function wLe(n,e){if(n==null)return{};var t,r,i=bLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function bLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Ip(){return Ip=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ip.apply(null,arguments)}function Q8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Fr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(t),!0).forEach(function(r){CLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Q8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function CLe(n,e,t){return(e=ELe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ELe(n){var e=BLe(n,"string");return typeof e=="symbol"?e:e+""}function BLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Cp={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Fs.axis};function SLe(n){var{x:e,y:t,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=n;if(!o)return null;var u=Fr(Fr(Fr({},l),Yd(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=Fr(Fr({},u),{},{x1:e,y1:t+d*i,x2:e+r,y2:t+d*i})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=Fr(Fr({},u),{},{x1:e+h*r,y1:t,x2:e+h*r,y2:t+i})}return F.createElement("line",Ip({},u,{className:Nn("recharts-cartesian-axis-line",dy(o,"className"))}))}function xLe(n,e,t,r,i,s,a,o,l){var u,d,h,g,v,C,b=o?-1:1,B=n.tickSize||a,S=Je(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":u=d=n.coordinate,g=t+ +!o*i,h=g-b*B,C=h-b*l,v=S;break;case"left":h=g=n.coordinate,d=e+ +!o*r,u=d-b*B,v=u-b*l,C=S;break;case"right":h=g=n.coordinate,d=e+ +o*r,u=d+b*B,v=u+b*l,C=S;break;default:u=d=n.coordinate,g=t+ +o*i,h=g+b*B,C=h+b*l,v=S;break}return{line:{x1:u,y1:h,x2:d,y2:g},tick:{x:v,y:C}}}function _Le(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function TLe(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ILe(n){var{option:e,tickProps:t,value:r}=n,i,s=Nn(t.className,"recharts-cartesian-axis-tick-value");if(F.isValidElement(e))i=F.cloneElement(e,Fr(Fr({},t),{},{className:s}));else if(typeof e=="function")i=e(Fr(Fr({},t),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Nn(a,e==null?void 0:e.className)),i=F.createElement(kO,Ip({},t,{className:a}),r)}return i}var FLe=F.forwardRef((n,e)=>{var{ticks:t=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:h,x:g,y:v,width:C,height:b,tickSize:B,tickMargin:S,fontSize:I,letterSpacing:T,getTicksConfig:R,events:M,axisType:D}=n,L=mLe(Fr(Fr({},R),{},{ticks:t}),I,T),H=_Le(d,h),k=TLe(d,h),G=Yd(R),K=pk(r),z={};typeof i=="object"&&(z=i);var J=Fr(Fr({},G),{},{fill:"none"},z),ne=L.map(q=>Fr({entry:q},xLe(q,g,v,C,b,d,B,h,S))),oe=ne.map(q=>{var{entry:te,line:he}=q;return F.createElement(_u,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},i&&F.createElement("line",Ip({},J,he,{className:Nn("recharts-cartesian-axis-tick-line",dy(i,"className"))})))}),V=ne.map((q,te)=>{var{entry:he,tick:ve}=q,$=Fr(Fr(Fr(Fr({textAnchor:H,verticalAnchor:k},G),{},{stroke:"none",fill:s},K),ve),{},{index:te,payload:he,visibleTicksCount:L.length,tickFormatter:a,padding:l},u);return F.createElement(_u,Ip({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},Ck(M,he,te)),r&&F.createElement(ILe,{option:r,tickProps:$,value:"".concat(typeof a=="function"?a(he.value,te):he.value).concat(o||"")}))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},V.length>0&&F.createElement(af,{zIndex:Fs.label},F.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},V)),oe.length>0&&F.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},oe))}),MLe=F.forwardRef((n,e)=>{var{axisLine:t,width:r,height:i,className:s,hide:a,ticks:o,axisType:l}=n,u=wLe(n,yLe),[d,h]=F.useState(""),[g,v]=F.useState(""),C=F.useRef(null);F.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var B;return vLe({ticks:C.current,label:(B=n.labelRef)===null||B===void 0?void 0:B.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var b=F.useCallback(B=>{if(B){var S=B.getElementsByClassName("recharts-cartesian-axis-tick-value");C.current=S;var I=S[0];if(I){var T=window.getComputedStyle(I),R=T.fontSize,M=T.letterSpacing;(R!==d||M!==g)&&(h(R),v(M))}}},[d,g]);return a||r!=null&&r<=0||i!=null&&i<=0?null:F.createElement(af,{zIndex:n.zIndex},F.createElement(_u,{className:Nn("recharts-cartesian-axis",s)},F.createElement(SLe,{x:n.x,y:n.y,width:r,height:i,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:Yd(n)}),F.createElement(FLe,{ref:b,axisType:l,events:u,fontSize:d,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:o,unit:n.unit,width:n.width,x:n.x,y:n.y}),F.createElement(WPe,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},F.createElement(sRe,{label:n.label,labelRef:n.labelRef}),n.children)))}),KO=F.forwardRef((n,e)=>{var t=ho(n,Cp);return F.createElement(MLe,Ip({},t,{ref:e}))});KO.displayName="CartesianAxis";var ULe=["domain","range"],PLe=["domain","range"];function k8(n,e){if(n==null)return{};var t,r,i=RLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function RLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function O8(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function zee(n,e){if(n===e)return!0;var{domain:t,range:r}=n,i=k8(n,ULe),{domain:s,range:a}=e,o=k8(e,PLe);return!O8(t,s)||!O8(r,a)?!1:HO(i,o)}var DLe=["dangerouslySetInnerHTML","ticks"],NLe=["id"];function BQ(){return BQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BQ.apply(null,arguments)}function H8(n,e){if(n==null)return{};var t,r,i=LLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function LLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function QLe(n){var e=yr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(ADe(n)):t.current!==n&&e(lDe({prev:t.current,next:n})),t.current=n},[n,e]),F.useLayoutEffect(()=>()=>{t.current&&(e(uDe(t.current)),t.current=null)},[e]),null}var kLe=n=>{var{xAxisId:e,className:t}=n,r=Ye(Pk),i=ya(),s="xAxis",a=Ye(B=>Dy(B,s,e,i)),o=Ye(B=>OZ(B,s,e,i)),l=Ye(B=>NZ(B,e)),u=Ye(B=>JFe(B,e)),d=Ye(B=>sZ(B,e));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=n,v=H8(n,DLe),{id:C}=d,b=H8(d,NLe);return F.createElement(KO,BQ({},v,b,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:Nn("recharts-".concat(s," ").concat(s),t),viewBox:r,ticks:o,axisType:s}))},OLe={allowDataOverflow:Yr.allowDataOverflow,allowDecimals:Yr.allowDecimals,allowDuplicatedCategory:Yr.allowDuplicatedCategory,angle:Yr.angle,axisLine:Cp.axisLine,height:Yr.height,hide:!1,includeHidden:Yr.includeHidden,interval:Yr.interval,minTickGap:Yr.minTickGap,mirror:Yr.mirror,orientation:Yr.orientation,padding:Yr.padding,reversed:Yr.reversed,scale:Yr.scale,tick:Yr.tick,tickCount:Yr.tickCount,tickLine:Cp.tickLine,tickSize:Cp.tickSize,type:Yr.type,xAxisId:0},HLe=n=>{var e=ho(n,OLe);return F.createElement(F.Fragment,null,F.createElement(QLe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),F.createElement(kLe,e))},$ee=F.memo(HLe,zee);$ee.displayName="XAxis";var VLe=["dangerouslySetInnerHTML","ticks"],KLe=["id"];function SQ(){return SQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},SQ.apply(null,arguments)}function V8(n,e){if(n==null)return{};var t,r,i=GLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function GLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function zLe(n){var e=yr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(cDe(n)):t.current!==n&&e(dDe({prev:t.current,next:n})),t.current=n},[n,e]),F.useLayoutEffect(()=>()=>{t.current&&(e(fDe(t.current)),t.current=null)},[e]),null}var $Le=n=>{var{yAxisId:e,className:t,width:r,label:i}=n,s=F.useRef(null),a=F.useRef(null),o=Ye(Pk),l=ya(),u=yr(),d="yAxis",h=Ye(M=>Dy(M,d,e,l)),g=Ye(M=>LZ(M,e)),v=Ye(M=>eMe(M,e)),C=Ye(M=>OZ(M,d,e,l)),b=Ye(M=>aZ(M,e));if(F.useLayoutEffect(()=>{if(!(r!=="auto"||!g||OO(i)||F.isValidElement(i)||b==null)){var M=s.current;if(M){var D=M.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&u(hDe({id:e,width:D}))}}},[C,g,u,i,e,r,b]),g==null||v==null||b==null)return null;var{dangerouslySetInnerHTML:B,ticks:S}=n,I=V8(n,VLe),{id:T}=b,R=V8(b,KLe);return F.createElement(KO,SQ({},I,R,{ref:s,labelRef:a,scale:h,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Nn("recharts-".concat(d," ").concat(d),t),viewBox:o,ticks:C,axisType:d}))},qLe={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:Xr.allowDecimals,allowDuplicatedCategory:Xr.allowDuplicatedCategory,angle:Xr.angle,axisLine:Cp.axisLine,hide:!1,includeHidden:Xr.includeHidden,interval:Xr.interval,minTickGap:Xr.minTickGap,mirror:Xr.mirror,orientation:Xr.orientation,padding:Xr.padding,reversed:Xr.reversed,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,tickLine:Cp.tickLine,tickSize:Cp.tickSize,type:Xr.type,width:Xr.width,yAxisId:0},jLe=n=>{var e=ho(n,qLe);return F.createElement(F.Fragment,null,F.createElement(zLe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),F.createElement($Le,e))},qee=F.memo(jLe,zee);qee.displayName="YAxis";var WLe=(n,e)=>e,GO=ce([WLe,Yt,rZ,$r,nee,qu,hUe,Ai],bUe),zO=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,r=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/r)}},jee=co("mouseClick"),Wee=oB();Wee.startListening({actionCreator:jee,effect:(n,e)=>{var t=n.payload,r=GO(e.getState(),zO(t));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(hMe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var xQ=co("mouseMove"),Yee=oB(),Hx=null;Yee.startListening({actionCreator:xQ,effect:(n,e)=>{var t=n.payload;Hx!==null&&cancelAnimationFrame(Hx);var r=zO(t);Hx=requestAnimationFrame(()=>{var i=e.getState(),s=TO(i,i.tooltip.settings.shared);if(s==="axis"){var a=GO(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(jZ({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(qZ())}Hx=null})}});var K8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Xee=Ms({name:"rootProps",initialState:K8,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:K8.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),YLe=Xee.reducer,{updateOptions:XLe}=Xee.actions,Jee=Ms({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:Wke}=Jee.actions,JLe=Jee.reducer,Zee=co("keyDown"),ete=co("focus"),$O=oB();$O.startListening({actionCreator:Zee,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=IO(i,Ly(t),mB(t),CB(t)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=qu(t);if(s==="Enter"){var u=a1(t,"axis","hover",String(i.index));e.dispatch(vQ({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var d=iMe(t),h=d==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=o+g*h;if(!(l==null||v>=l.length||v<0)){var C=a1(t,"axis","hover",String(v));e.dispatch(vQ({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:C}))}}}}}});$O.startListening({actionCreator:ete,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip;if(!i.active&&i.index==null){var s="0",a=a1(t,"axis","hover",String(s));e.dispatch(vQ({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var La=co("externalEvent"),tte=oB(),TR=new Map;tte.startListening({actionCreator:La,effect:(n,e)=>{var{handler:t,reactEvent:r}=n.payload;if(t!=null){r.persist();var i=r.type,s=TR.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:ZMe(o),activeDataKey:aee(o),activeIndex:by(o),activeLabel:see(o),activeTooltipIndex:by(o),isTooltipActive:eUe(o)};t(l,r)}finally{TR.delete(i)}});TR.set(i,a)}}});var ZLe=ce([Ny],n=>n.tooltipItemPayloads),eQe=ce([ZLe,wB,(n,e,t)=>e,(n,e,t)=>t],(n,e,t,r)=>{var i=n.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,t);return a}}}),nte=co("touchMove"),rte=oB();rte.startListening({actionCreator:nte,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var r=e.getState(),i=TO(r,r.tooltip.settings.shared);if(i==="axis"){var s=GO(r,zO({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(jZ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=t.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(YSe),d=(a=l.getAttribute(XSe))!==null&&a!==void 0?a:void 0,h=eQe(e.getState(),u,d);e.dispatch($Z({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var tQe=nJ({brush:JNe,cartesianAxis:pDe,chartData:ZUe,errorBars:IDe,graphicalItems:tDe,layout:MSe,legend:$xe,options:jUe,polarAxis:bRe,polarOptions:JLe,referenceElements:sLe,rootProps:YLe,tooltip:pMe,zIndex:DUe}),nQe=function(e){return nSe({reducer:tQe,preloadedState:e,middleware:t=>{var r;return t({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Wee.middleware,Yee.middleware,$O.middleware,tte.middleware,rte.middleware])},enhancers:t=>{var r=t;return typeof t=="function"&&(r=t()),r.concat(mJ({type:"raf"}))},devTools:uB.devToolsEnabled})};function rQe(n){var{preloadedState:e,children:t,reduxStoreName:r}=n,i=ya(),s=F.useRef(null);if(i)return t;s.current==null&&(s.current=nQe(e));var a=Bk;return F.createElement(ZDe,{context:a,store:s.current},t)}function iQe(n){var{layout:e,margin:t}=n,r=yr(),i=ya();return F.useEffect(()=>{i||(r(TSe(e)),r(_Se(t)))},[r,i,e,t]),null}var sQe=F.memo(iQe,HO);function aQe(n){var e=yr();return F.useEffect(()=>{e(XLe(n))},[e,n]),null}function G8(n){var{zIndex:e,isPanorama:t}=n,r=t?"recharts-zindex-panorama-":"recharts-zindex-",i=Pee("".concat(r).concat(e)),s=yr();return F.useLayoutEffect(()=>(s(PUe({zIndex:e,elementId:i,isPanorama:t})),()=>{s(RUe({zIndex:e,isPanorama:t}))}),[s,e,i,t]),F.createElement("g",{tabIndex:-1,id:i})}function z8(n){var{children:e,isPanorama:t}=n,r=Ye(EUe);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return F.createElement(F.Fragment,null,i.map(a=>F.createElement(G8,{key:a,zIndex:a,isPanorama:t})),e,s.map(a=>F.createElement(G8,{key:a,zIndex:a,isPanorama:t})))}var oQe=["children"];function AQe(n,e){if(n==null)return{};var t,r,i=lQe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function lQe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function f1(){return f1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},f1.apply(null,arguments)}var uQe={width:"100%",height:"100%",display:"block"},cQe=F.forwardRef((n,e)=>{var t=Txe(),r=Ixe(),i=GJ();if(!Xd(t)||!Xd(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=n,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),F.createElement(w9,f1({},a,{title:o,desc:l,role:d,tabIndex:u,width:t,height:r,style:uQe,ref:e}),s)}),dQe=n=>{var{children:e}=n,t=Ye(EI);if(!t)return null;var{width:r,height:i,y:s,x:a}=t;return F.createElement(w9,{width:r,height:i,x:a,y:s},e)},$8=F.forwardRef((n,e)=>{var{children:t}=n,r=AQe(n,oQe),i=ya();return i?F.createElement(dQe,null,F.createElement(z8,{isPanorama:!0},t)):F.createElement(cQe,f1({ref:e},r),F.createElement(z8,{isPanorama:!1},t))});function fQe(){var n=yr(),[e,t]=F.useState(null),r=Ye(WSe);return F.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;vr(s)&&s!==r&&n(FSe(s))}},[e,n,r]),t}function q8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hQe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?q8(Object(t),!0).forEach(function(r){pQe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):q8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pQe(n,e,t){return(e=gQe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gQe(n){var e=mQe(n,"string");return typeof e=="symbol"?e:e+""}function mQe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Fp(){return Fp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fp.apply(null,arguments)}var vQe=()=>(APe(),null);function h1(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var yQe=F.forwardRef((n,e)=>{var t,r,i=F.useRef(null),[s,a]=F.useState({containerWidth:h1((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:h1((r=n.style)===null||r===void 0?void 0:r.height)}),o=F.useCallback((u,d)=>{a(h=>{var g=Math.round(u),v=Math.round(d);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),l=F.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var g=C=>{var{width:b,height:B}=C[0].contentRect;o(b,B)},v=new ResizeObserver(g);v.observe(u),i.current=v}},[e,o]);return F.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),F.createElement(F.Fragment,null,F.createElement(xI,{width:s.containerWidth,height:s.containerHeight}),F.createElement("div",Fp({ref:l},n)))}),wQe=F.forwardRef((n,e)=>{var{width:t,height:r}=n,[i,s]=F.useState({containerWidth:h1(t),containerHeight:h1(r)}),a=F.useCallback((l,u)=>{s(d=>{var h=Math.round(l),g=Math.round(u);return d.containerWidth===h&&d.containerHeight===g?d:{containerWidth:h,containerHeight:g}})},[]),o=F.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();a(u,d)}},[e,a]);return F.createElement(F.Fragment,null,F.createElement(xI,{width:i.containerWidth,height:i.containerHeight}),F.createElement("div",Fp({ref:o},n)))}),bQe=F.forwardRef((n,e)=>{var{width:t,height:r}=n;return F.createElement(F.Fragment,null,F.createElement(xI,{width:t,height:r}),F.createElement("div",Fp({ref:e},n)))}),CQe=F.forwardRef((n,e)=>{var{width:t,height:r}=n;return Tu(t)||Tu(r)?F.createElement(wQe,Fp({},n,{ref:e})):F.createElement(bQe,Fp({},n,{ref:e}))});function EQe(n){return n===!0?yQe:CQe}var BQe=F.forwardRef((n,e)=>{var{children:t,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:C,onTouchStart:b,style:B,width:S,responsive:I,dispatchTouchEvents:T=!0}=n,R=F.useRef(null),M=yr(),[D,L]=F.useState(null),[H,k]=F.useState(null),G=fQe(),K=Rk(),z=(K==null?void 0:K.width)>0?K.width:S,J=(K==null?void 0:K.height)>0?K.height:i,ne=F.useCallback(Z=>{G(Z),typeof e=="function"&&e(Z),L(Z),k(Z),Z!=null&&(R.current=Z)},[G,e,L,k]),oe=F.useCallback(Z=>{M(jee(Z)),M(La({handler:s,reactEvent:Z}))},[M,s]),V=F.useCallback(Z=>{M(xQ(Z)),M(La({handler:u,reactEvent:Z}))},[M,u]),q=F.useCallback(Z=>{M(qZ()),M(La({handler:d,reactEvent:Z}))},[M,d]),te=F.useCallback(Z=>{M(xQ(Z)),M(La({handler:h,reactEvent:Z}))},[M,h]),he=F.useCallback(()=>{M(ete())},[M]),ve=F.useCallback(Z=>{M(Zee(Z.key))},[M]),$=F.useCallback(Z=>{M(La({handler:a,reactEvent:Z}))},[M,a]),Y=F.useCallback(Z=>{M(La({handler:o,reactEvent:Z}))},[M,o]),Ae=F.useCallback(Z=>{M(La({handler:l,reactEvent:Z}))},[M,l]),me=F.useCallback(Z=>{M(La({handler:g,reactEvent:Z}))},[M,g]),re=F.useCallback(Z=>{M(La({handler:b,reactEvent:Z}))},[M,b]),fe=F.useCallback(Z=>{T&&M(nte(Z)),M(La({handler:C,reactEvent:Z}))},[M,T,C]),le=F.useCallback(Z=>{M(La({handler:v,reactEvent:Z}))},[M,v]),Se=EQe(I);return F.createElement(fee.Provider,{value:D},F.createElement(DCe.Provider,{value:H},F.createElement(Se,{width:z??(B==null?void 0:B.width),height:J??(B==null?void 0:B.height),className:Nn("recharts-wrapper",r),style:hQe({position:"relative",cursor:"default",width:z,height:J},B),onClick:oe,onContextMenu:$,onDoubleClick:Y,onFocus:he,onKeyDown:ve,onMouseDown:Ae,onMouseEnter:V,onMouseLeave:q,onMouseMove:te,onMouseUp:me,onTouchEnd:le,onTouchMove:fe,onTouchStart:re,ref:ne},F.createElement(vQe,null),t)))}),SQe=["width","height","responsive","children","className","style","compact","title","desc"];function xQe(n,e){if(n==null)return{};var t,r,i=_Qe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function _Qe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var TQe=F.forwardRef((n,e)=>{var{width:t,height:r,responsive:i,children:s,className:a,style:o,compact:l,title:u,desc:d}=n,h=xQe(n,SQe),g=Yd(h);return l?F.createElement(F.Fragment,null,F.createElement(xI,{width:t,height:r}),F.createElement($8,{otherAttributes:g,title:u,desc:d},s)):F.createElement(BQe,{className:a,style:o,width:t,height:r,responsive:i??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},F.createElement($8,{otherAttributes:g,title:u,desc:d,ref:e},F.createElement(oLe,null,s)))});function _Q(){return _Q=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_Q.apply(null,arguments)}var IQe={top:5,right:5,bottom:5,left:5},FQe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:IQe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},MQe=F.forwardRef(function(e,t){var r,i=ho(e.categoricalChartProps,FQe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return F.createElement(rQe,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:s},F.createElement(XNe,{chartData:u.data}),F.createElement(sQe,{layout:i.layout,margin:i.margin}),F.createElement(aQe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),F.createElement(TQe,_Q({},i,{ref:t})))}),UQe=["axis","item"],PQe=F.forwardRef((n,e)=>F.createElement(MQe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:UQe,tooltipPayloadSearcher:$Ue,categoricalChartProps:n,ref:e}));const RQe=()=>{const{stats:n,highlights:e}=tf(),t=Object.entries(n.chapterVisits).map(([i,s])=>({name:i==="ch1"?"Ch 1":i==="ch2"?"Ch 2":"Ch 3",visits:s})),r=i=>`${Math.floor(i/60)}m ${i%60}s`;return Q.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[Q.jsx(uY,{toggleSidebar:()=>{},toggleNotes:()=>{}}),Q.jsxs("main",{className:"pt-24 px-4 max-w-5xl mx-auto pb-20",children:[Q.jsxs("div",{className:"mb-8",children:[Q.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Learning Report"}),Q.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Analysis of your reading habits and engagement."})]}),Q.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[Q.jsx(Vx,{icon:Q.jsx(mhe,{className:"text-blue-500"}),label:"Reading Time",value:r(n.totalReadingTime)}),Q.jsx(Vx,{icon:Q.jsx(nhe,{className:"text-green-500"}),label:"Chapters Read",value:Object.keys(n.chapterVisits).length.toString()}),Q.jsx(Vx,{icon:Q.jsx(AY,{className:"text-yellow-500"}),label:"Highlights",value:e.length.toString()}),Q.jsx(Vx,{icon:Q.jsx(tG,{className:"text-purple-500"}),label:"AI Interactions",value:n.aiInteractionCount.toString()})]}),Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[Q.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Chapter Engagement"}),Q.jsx("div",{className:"h-64 w-full",children:Q.jsx(Sxe,{width:"100%",height:"100%",children:Q.jsxs(PQe,{data:t,children:[Q.jsx($ee,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),Q.jsx(qee,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),Q.jsx(gPe,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"transparent"}}),Q.jsx(Oee,{dataKey:"visits",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,children:t.map((i,s)=>Q.jsx(QO,{fill:s%2===0?"#3b82f6":"#60a5fa"},`cell-${s}`))})]})})}),Q.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Number of times each chapter was opened"})]}),Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[Q.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[Q.jsx(tG,{size:20,className:"text-purple-500"}),"AI Learning Summary"]}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[Q.jsx("h4",{className:"font-semibold text-purple-700 dark:text-purple-300 text-sm mb-2",children:"Focus Areas"}),Q.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.slice(0,3).map((i,s)=>Q.jsx("span",{className:"px-2 py-1 bg-white dark:bg-slate-800 text-xs rounded text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 truncate max-w-[150px]",children:i.text},s)),e.length===0&&Q.jsx("span",{className:"text-xs text-slate-400",children:"No specific focus areas detected yet."})]})]}),Q.jsxs("div",{children:[Q.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 text-sm mb-2",children:"Reading Velocity"}),Q.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2.5",children:Q.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"65%"}})}),Q.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"You are reading at a consistent pace."})]})]})]})]})]})]})},Vx=({icon:n,label:e,value:t})=>Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center text-center",children:[Q.jsx("div",{className:"mb-2 p-2 bg-slate-50 dark:bg-slate-800 rounded-full",children:n}),Q.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white block",children:t}),Q.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:e})]}),DQe=()=>{const e=ku().pathname==="/report";return Q.jsx("div",{"aria-hidden":e,style:{display:e?"none":"block"},children:Q.jsx(SCe,{})})},NQe=()=>Q.jsxs(Q.Fragment,{children:[Q.jsx(DQe,{}),Q.jsxs(gie,{children:[Q.jsx(UR,{path:"/report",element:Q.jsx(RQe,{})}),Q.jsx(UR,{path:"*",element:null})]})]}),LQe=()=>(tm.useEffect(()=>{var e;if(typeof CSS<"u"&&CSS.supports("height: 100dvh"))return;const n=()=>{var r;const t=((r=window.visualViewport)==null?void 0:r.height)??window.innerHeight;document.documentElement.style.setProperty("--app-height",`${t}px`)};return n(),window.addEventListener("resize",n),(e=window.visualViewport)==null||e.addEventListener("resize",n),()=>{var t;window.removeEventListener("resize",n),(t=window.visualViewport)==null||t.removeEventListener("resize",n)}},[]),Q.jsx(kie,{children:Q.jsx(qfe,{children:Q.jsx(NQe,{})})})),ite=document.getElementById("root");if(!ite)throw new Error("Could not find root element to mount to");const QQe=Bre.createRoot(ite);QQe.render(Q.jsx(tm.StrictMode,{children:Q.jsx(LQe,{})}));
