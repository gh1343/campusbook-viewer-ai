var qne=Object.defineProperty;var SV=n=>{throw TypeError(n)};var $ne=(n,e,t)=>e in n?qne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var me=(n,e,t)=>$ne(n,typeof e!="symbol"?e+"":e,t),$U=(n,e,t)=>e.has(n)||SV("Cannot "+t);var f=(n,e,t)=>($U(n,e,"read from private field"),t?t.call(n):e.get(n)),F=(n,e,t)=>e.has(n)?SV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),_=(n,e,t,i)=>($U(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),M=(n,e,t)=>($U(n,e,"access private method"),t);var ai=(n,e,t,i)=>({set _(r){_(n,e,r,t)},get _(){return f(n,e,i)}});function jne(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function RA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jU={exports:{}},y0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xV;function Wne(){if(xV)return y0;xV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return y0.Fragment=e,y0.jsx=t,y0.jsxs=t,y0}var _V;function Yne(){return _V||(_V=1,jU.exports=Wne()),jU.exports}var L=Yne(),WU={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TV;function Xne(){if(TV)return ot;TV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,E={};function x(z,J,le){this.props=z,this.context=J,this.refs=E,this.updater=le||b}x.prototype.isReactComponent={},x.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function I(){}I.prototype=x.prototype;function T(z,J,le){this.props=z,this.context=J,this.refs=E,this.updater=le||b}var R=T.prototype=new I;R.constructor=T,C(R,x.prototype),R.isPureReactComponent=!0;var P=Array.isArray;function D(){}var Q={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function k(z,J,le){var ve=le.ref;return{$$typeof:n,type:z,key:J,ref:ve!==void 0?ve:null,props:le}}function K(z,J){return k(z.type,J,z.props)}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function q(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return J[le]})}var X=/\/+/g;function ne(z,J){return typeof z=="object"&&z!==null&&z.key!=null?q(""+z.key):J.toString(36)}function ge(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(D,D):(z.status="pending",z.then(function(J){z.status==="pending"&&(z.status="fulfilled",z.value=J)},function(J){z.status==="pending"&&(z.status="rejected",z.reason=J)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,J,le,ve,Ee){var Fe=typeof z;(Fe==="undefined"||Fe==="boolean")&&(z=null);var Ce=!1;if(z===null)Ce=!0;else switch(Fe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(z.$$typeof){case n:case e:Ce=!0;break;case d:return Ce=z._init,G(Ce(z._payload),J,le,ve,Ee)}}if(Ce)return Ee=Ee(z),Ce=ve===""?"."+ne(z,0):ve,P(Ee)?(le="",Ce!=null&&(le=Ce.replace(X,"$&/")+"/"),G(Ee,J,le,"",function(Ke){return Ke})):Ee!=null&&(V(Ee)&&(Ee=K(Ee,le+(Ee.key==null||z&&z.key===Ee.key?"":(""+Ee.key).replace(X,"$&/")+"/")+Ce)),J.push(Ee)),1;Ce=0;var ut=ve===""?".":ve+":";if(P(z))for(var ae=0;ae<z.length;ae++)ve=z[ae],Fe=ut+ne(ve,ae),Ce+=G(ve,J,le,Fe,Ee);else if(ae=v(z),typeof ae=="function")for(z=ae.call(z),ae=0;!(ve=z.next()).done;)ve=ve.value,Fe=ut+ne(ve,ae++),Ce+=G(ve,J,le,Fe,Ee);else if(Fe==="object"){if(typeof z.then=="function")return G(ge(z),J,le,ve,Ee);throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function $(z,J,le){if(z==null)return z;var ve=[],Ee=0;return G(z,ve,"","",function(Fe){return J.call(le,Fe,Ee++)}),ve}function ie(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var se=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},be={map:$,forEach:function(z,J,le){$(z,function(){J.apply(this,arguments)},le)},count:function(z){var J=0;return $(z,function(){J++}),J},toArray:function(z){return $(z,function(J){return J})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return ot.Activity=h,ot.Children=be,ot.Component=x,ot.Fragment=t,ot.Profiler=r,ot.PureComponent=T,ot.StrictMode=i,ot.Suspense=l,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ot.__COMPILER_RUNTIME={__proto__:null,c:function(z){return Q.H.useMemoCache(z)}},ot.cache=function(z){return function(){return z.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(z,J,le){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ve=C({},z.props),Ee=z.key;if(J!=null)for(Fe in J.key!==void 0&&(Ee=""+J.key),J)!H.call(J,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&J.ref===void 0||(ve[Fe]=J[Fe]);var Fe=arguments.length-2;if(Fe===1)ve.children=le;else if(1<Fe){for(var Ce=Array(Fe),ut=0;ut<Fe;ut++)Ce[ut]=arguments[ut+2];ve.children=Ce}return k(z.type,Ee,ve)},ot.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},ot.createElement=function(z,J,le){var ve,Ee={},Fe=null;if(J!=null)for(ve in J.key!==void 0&&(Fe=""+J.key),J)H.call(J,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ee[ve]=J[ve]);var Ce=arguments.length-2;if(Ce===1)Ee.children=le;else if(1<Ce){for(var ut=Array(Ce),ae=0;ae<Ce;ae++)ut[ae]=arguments[ae+2];Ee.children=ut}if(z&&z.defaultProps)for(ve in Ce=z.defaultProps,Ce)Ee[ve]===void 0&&(Ee[ve]=Ce[ve]);return k(z,Fe,Ee)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(z){return{$$typeof:o,render:z}},ot.isValidElement=V,ot.lazy=function(z){return{$$typeof:d,_payload:{_status:-1,_result:z},_init:ie}},ot.memo=function(z,J){return{$$typeof:u,type:z,compare:J===void 0?null:J}},ot.startTransition=function(z){var J=Q.T,le={};Q.T=le;try{var ve=z(),Ee=Q.S;Ee!==null&&Ee(le,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(D,se)}catch(Fe){se(Fe)}finally{J!==null&&le.types!==null&&(J.types=le.types),Q.T=J}},ot.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ot.use=function(z){return Q.H.use(z)},ot.useActionState=function(z,J,le){return Q.H.useActionState(z,J,le)},ot.useCallback=function(z,J){return Q.H.useCallback(z,J)},ot.useContext=function(z){return Q.H.useContext(z)},ot.useDebugValue=function(){},ot.useDeferredValue=function(z,J){return Q.H.useDeferredValue(z,J)},ot.useEffect=function(z,J){return Q.H.useEffect(z,J)},ot.useEffectEvent=function(z){return Q.H.useEffectEvent(z)},ot.useId=function(){return Q.H.useId()},ot.useImperativeHandle=function(z,J,le){return Q.H.useImperativeHandle(z,J,le)},ot.useInsertionEffect=function(z,J){return Q.H.useInsertionEffect(z,J)},ot.useLayoutEffect=function(z,J){return Q.H.useLayoutEffect(z,J)},ot.useMemo=function(z,J){return Q.H.useMemo(z,J)},ot.useOptimistic=function(z,J){return Q.H.useOptimistic(z,J)},ot.useReducer=function(z,J,le){return Q.H.useReducer(z,J,le)},ot.useRef=function(z){return Q.H.useRef(z)},ot.useState=function(z){return Q.H.useState(z)},ot.useSyncExternalStore=function(z,J,le){return Q.H.useSyncExternalStore(z,J,le)},ot.useTransition=function(){return Q.H.useTransition()},ot.version="19.2.1",ot}var IV;function fy(){return IV||(IV=1,WU.exports=Xne()),WU.exports}var U=fy();const Sw=RA(U),Jne=jne({__proto__:null,default:Sw},[U]);var YU={exports:{}},w0={},XU={exports:{}},JU={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FV;function Zne(){return FV||(FV=1,(function(n){function e(G,$){var ie=G.length;G.push($);e:for(;0<ie;){var se=ie-1>>>1,be=G[se];if(0<r(be,$))G[se]=$,G[ie]=be,ie=se;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var $=G[0],ie=G.pop();if(ie!==$){G[0]=ie;e:for(var se=0,be=G.length,z=be>>>1;se<z;){var J=2*(se+1)-1,le=G[J],ve=J+1,Ee=G[ve];if(0>r(le,ie))ve<be&&0>r(Ee,le)?(G[se]=Ee,G[ve]=ie,se=ve):(G[se]=le,G[J]=ie,se=J);else if(ve<be&&0>r(Ee,ie))G[se]=Ee,G[ve]=ie,se=ve;else break e}}return $}function r(G,$){var ie=G.sortIndex-$.sortIndex;return ie!==0?ie:G.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,g=3,v=!1,b=!1,C=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(G){for(var $=t(u);$!==null;){if($.callback===null)i(u);else if($.startTime<=G)i(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function P(G){if(C=!1,R(G),!b)if(t(l)!==null)b=!0,D||(D=!0,q());else{var $=t(u);$!==null&&ge(P,$.startTime-G)}}var D=!1,Q=-1,H=5,k=-1;function K(){return E?!0:!(n.unstable_now()-k<H)}function V(){if(E=!1,D){var G=n.unstable_now();k=G;var $=!0;try{e:{b=!1,C&&(C=!1,I(Q),Q=-1),v=!0;var ie=g;try{t:{for(R(G),h=t(l);h!==null&&!(h.expirationTime>G&&K());){var se=h.callback;if(typeof se=="function"){h.callback=null,g=h.priorityLevel;var be=se(h.expirationTime<=G);if(G=n.unstable_now(),typeof be=="function"){h.callback=be,R(G),$=!0;break t}h===t(l)&&i(l),R(G)}else i(l);h=t(l)}if(h!==null)$=!0;else{var z=t(u);z!==null&&ge(P,z.startTime-G),$=!1}}break e}finally{h=null,g=ie,v=!1}$=void 0}}finally{$?q():D=!1}}}var q;if(typeof T=="function")q=function(){T(V)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ne=X.port2;X.port1.onmessage=V,q=function(){ne.postMessage(null)}}else q=function(){x(V,0)};function ge(G,$){Q=x(function(){G(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(G){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var ie=g;g=$;try{return G()}finally{g=ie}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ie=g;g=G;try{return $()}finally{g=ie}},n.unstable_scheduleCallback=function(G,$,ie){var se=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?se+ie:se):ie=se,G){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ie+be,G={id:d++,callback:$,priorityLevel:G,startTime:ie,expirationTime:be,sortIndex:-1},ie>se?(G.sortIndex=ie,e(u,G),t(l)===null&&G===t(u)&&(C?(I(Q),Q=-1):C=!0,ge(P,ie-se))):(G.sortIndex=be,e(l,G),b||v||(b=!0,D||(D=!0,q()))),G},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(G){var $=g;return function(){var ie=g;g=$;try{return G.apply(this,arguments)}finally{g=ie}}}})(JU)),JU}var UV;function eie(){return UV||(UV=1,XU.exports=Zne()),XU.exports}var ZU={exports:{}},_r={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MV;function tie(){if(MV)return _r;MV=1;var n=fy();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return _r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_r.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},_r.flushSync=function(l){var u=a.T,d=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=u,i.p=d,i.d.f()}},_r.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},_r.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},_r.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):d==="script"&&i.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},_r.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},_r.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);i.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},_r.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},_r.requestFormReset=function(l){i.d.r(l)},_r.unstable_batchedUpdates=function(l,u){return l(u)},_r.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},_r.useFormStatus=function(){return a.H.useHostTransitionStatus()},_r.version="19.2.1",_r}var PV;function R$(){if(PV)return ZU.exports;PV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ZU.exports=tie(),ZU.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RV;function nie(){if(RV)return w0;RV=1;var n=eie(),e=fy(),t=R$();function i(A){var c="https://react.dev/errors/"+A;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+A+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var c=A,p=A;if(A.alternate)for(;c.return;)c=c.return;else{A=c;do c=A,(c.flags&4098)!==0&&(p=c.return),A=c.return;while(A)}return c.tag===3?p:null}function a(A){if(A.tag===13){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function o(A){if(A.tag===31){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function l(A){if(s(A)!==A)throw Error(i(188))}function u(A){var c=A.alternate;if(!c){if(c=s(A),c===null)throw Error(i(188));return c!==A?null:A}for(var p=A,m=c;;){var B=p.return;if(B===null)break;var S=B.alternate;if(S===null){if(m=B.return,m!==null){p=m;continue}break}if(B.child===S.child){for(S=B.child;S;){if(S===p)return l(B),A;if(S===m)return l(B),c;S=S.sibling}throw Error(i(188))}if(p.return!==m.return)p=B,m=S;else{for(var N=!1,O=B.child;O;){if(O===p){N=!0,p=B,m=S;break}if(O===m){N=!0,m=B,p=S;break}O=O.sibling}if(!N){for(O=S.child;O;){if(O===p){N=!0,p=S,m=B;break}if(O===m){N=!0,m=S,p=B;break}O=O.sibling}if(!N)throw Error(i(189))}}if(p.alternate!==m)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?A:c}function d(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A;for(A=A.child;A!==null;){if(c=d(A),c!==null)return c;A=A.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function q(A){return A===null||typeof A!="object"?null:(A=V&&A[V]||A["@@iterator"],typeof A=="function"?A:null)}var X=Symbol.for("react.client.reference");function ne(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===X?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case C:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList";case k:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case b:return"Portal";case T:return A.displayName||"Context";case I:return(A._context.displayName||"Context")+".Consumer";case R:var c=A.render;return A=A.displayName,A||(A=c.displayName||c.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case Q:return c=A.displayName||null,c!==null?c:ne(A.type)||"Memo";case H:c=A._payload,A=A._init;try{return ne(A(c))}catch{}}return null}var ge=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},se=[],be=-1;function z(A){return{current:A}}function J(A){0>be||(A.current=se[be],se[be]=null,be--)}function le(A,c){be++,se[be]=A.current,A.current=c}var ve=z(null),Ee=z(null),Fe=z(null),Ce=z(null);function ut(A,c){switch(le(Fe,c),le(Ee,A),le(ve,null),c.nodeType){case 9:case 11:A=(A=c.documentElement)&&(A=A.namespaceURI)?j4(A):0;break;default:if(A=c.tagName,c=c.namespaceURI)c=j4(c),A=W4(c,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}J(ve),le(ve,A)}function ae(){J(ve),J(Ee),J(Fe)}function Ke(A){A.memoizedState!==null&&le(Ce,A);var c=ve.current,p=W4(c,A.type);c!==p&&(le(Ee,A),le(ve,p))}function Ye(A){Ee.current===A&&(J(ve),J(Ee)),Ce.current===A&&(J(Ce),p0._currentValue=ie)}var ye,Pt;function Je(A){if(ye===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);ye=c&&c[1]||"",Pt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+A+Pt}var Jt=!1;function Nt(A,c){if(!A||Jt)return"";Jt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(oe){var re=oe}Reflect.construct(A,[],pe)}else{try{pe.call()}catch(oe){re=oe}A.call(pe.prototype)}}else{try{throw Error()}catch(oe){re=oe}(pe=A())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),N=S[0],O=S[1];if(N&&O){var j=N.split(`
`),te=O.split(`
`);for(B=m=0;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;for(;B<te.length&&!te[B].includes("DetermineComponentFrameRoot");)B++;if(m===j.length||B===te.length)for(m=j.length-1,B=te.length-1;1<=m&&0<=B&&j[m]!==te[B];)B--;for(;1<=m&&0<=B;m--,B--)if(j[m]!==te[B]){if(m!==1||B!==1)do if(m--,B--,0>B||j[m]!==te[B]){var de=`
`+j[m].replace(" at new "," at ");return A.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",A.displayName)),de}while(1<=m&&0<=B);break}}}finally{Jt=!1,Error.prepareStackTrace=p}return(p=A?A.displayName||A.name:"")?Je(p):""}function Mn(A,c){switch(A.tag){case 26:case 27:case 5:return Je(A.type);case 16:return Je("Lazy");case 13:return A.child!==c&&c!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return Nt(A.type,!1);case 11:return Nt(A.type.render,!1);case 1:return Nt(A.type,!0);case 31:return Je("Activity");default:return""}}function st(A){try{var c="",p=null;do c+=Mn(A,p),p=A,A=A.return;while(A);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var kn=Object.prototype.hasOwnProperty,_i=n.unstable_scheduleCallback,Zt=n.unstable_cancelCallback,pa=n.unstable_shouldYield,_e=n.unstable_requestPaint,Z=n.unstable_now,Be=n.unstable_getCurrentPriorityLevel,Re=n.unstable_ImmediatePriority,bt=n.unstable_UserBlockingPriority,qe=n.unstable_NormalPriority,ce=n.unstable_LowPriority,we=n.unstable_IdlePriority,xe=n.log,Pe=n.unstable_setDisableYieldValue,Te=null,Ge=null;function Xe(A){if(typeof xe=="function"&&Pe(A),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Te,A)}catch{}}var Se=Math.clz32?Math.clz32:Hi,dn=Math.log,zn=Math.LN2;function Hi(A){return A>>>=0,A===0?32:31-(dn(A)/zn|0)|0}var Sr=256,ni=262144,Ho=4194304;function ga(A){var c=A&42;if(c!==0)return c;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function rs(A,c,p){var m=A.pendingLanes;if(m===0)return 0;var B=0,S=A.suspendedLanes,N=A.pingedLanes;A=A.warmLanes;var O=m&134217727;return O!==0?(m=O&~S,m!==0?B=ga(m):(N&=O,N!==0?B=ga(N):p||(p=O&~A,p!==0&&(B=ga(p))))):(O=m&~S,O!==0?B=ga(O):N!==0?B=ga(N):p||(p=m&~A,p!==0&&(B=ga(p)))),B===0?0:c!==0&&c!==B&&(c&S)===0&&(S=B&-B,p=c&-c,S>=p||S===32&&(p&4194048)!==0)?c:B}function ku(A,c){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&c)===0}function pE(A,c){switch(A){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _y(){var A=Ho;return Ho<<=1,(Ho&62914560)===0&&(Ho=4194304),A}function Ty(A){for(var c=[],p=0;31>p;p++)c.push(A);return c}function Zd(A,c){A.pendingLanes|=c,c!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function QI(A,c,p,m,B,S){var N=A.pendingLanes;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=p,A.entangledLanes&=p,A.errorRecoveryDisabledLanes&=p,A.shellSuspendCounter=0;var O=A.entanglements,j=A.expirationTimes,te=A.hiddenUpdates;for(p=N&~p;0<p;){var de=31-Se(p),pe=1<<de;O[de]=0,j[de]=-1;var re=te[de];if(re!==null)for(te[de]=null,de=0;de<re.length;de++){var oe=re[de];oe!==null&&(oe.lane&=-536870913)}p&=~pe}m!==0&&gE(A,m,0),S!==0&&B===0&&A.tag!==0&&(A.suspendedLanes|=S&~(N&~c))}function gE(A,c,p){A.pendingLanes|=c,A.suspendedLanes&=~c;var m=31-Se(c);A.entangledLanes|=c,A.entanglements[m]=A.entanglements[m]|1073741824|p&261930}function mE(A,c){var p=A.entangledLanes|=c;for(A=A.entanglements;p;){var m=31-Se(p),B=1<<m;B&c|A[m]&c&&(A[m]|=c),p&=~B}}function vE(A,c){var p=c&-c;return p=(p&42)!==0?1:ef(p),(p&(A.suspendedLanes|c))!==0?0:p}function ef(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function Iy(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function yE(){var A=$.p;return A!==0?A:(A=window.event,A===void 0?32:vV(A.type))}function wE(A,c){var p=$.p;try{return $.p=A,c()}finally{$.p=p}}var Vo=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Vo,xr="__reactProps$"+Vo,Ou="__reactContainer$"+Vo,Fy="__reactEvents$"+Vo,bE="__reactListeners$"+Vo,kI="__reactHandles$"+Vo,CE="__reactResources$"+Vo,tf="__reactMarker$"+Vo;function Uy(A){delete A[Ti],delete A[xr],delete A[Fy],delete A[bE],delete A[kI]}function Ko(A){var c=A[Ti];if(c)return c;for(var p=A.parentNode;p;){if(c=p[Ou]||p[Ti]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(A=nV(A);A!==null;){if(p=A[Ti])return p;A=nV(A)}return c}A=p,p=A.parentNode}return null}function Hu(A){if(A=A[Ti]||A[Ou]){var c=A.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return A}return null}function nf(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A.stateNode;throw Error(i(33))}function LA(A){var c=A[CE];return c||(c=A[CE]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function hi(A){A[tf]=!0}var BE=new Set,EE={};function he(A,c){De(A,c),De(A+"Capture",c)}function De(A,c){for(EE[A]=c,A=0;A<c.length;A++)BE.add(c[A])}var Oe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ze={},Ct={};function On(A){return kn.call(Ct,A)?!0:kn.call(ze,A)?!1:Oe.test(A)?Ct[A]=!0:(ze[A]=!0,!1)}function ii(A,c,p){if(On(c))if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":A.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){A.removeAttribute(c);return}}A.setAttribute(c,""+p)}}function fn(A,c,p){if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(c);return}A.setAttribute(c,""+p)}}function rr(A,c,p,m){if(m===null)A.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(p);return}A.setAttributeNS(c,p,""+m)}}function Hr(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function OO(A){var c=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function kee(A,c,p){var m=Object.getOwnPropertyDescriptor(A.constructor.prototype,c);if(!A.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var B=m.get,S=m.set;return Object.defineProperty(A,c,{configurable:!0,get:function(){return B.call(this)},set:function(N){p=""+N,S.call(this,N)}}),Object.defineProperty(A,c,{enumerable:m.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){A._valueTracker=null,delete A[c]}}}}function OI(A){if(!A._valueTracker){var c=OO(A)?"checked":"value";A._valueTracker=kee(A,c,""+A[c])}}function HO(A){if(!A)return!1;var c=A._valueTracker;if(!c)return!0;var p=c.getValue(),m="";return A&&(m=OO(A)?A.checked?"true":"false":A.value),A=m,A!==p?(c.setValue(A),!0):!1}function SE(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var Oee=/[\n"\\]/g;function ma(A){return A.replace(Oee,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function HI(A,c,p,m,B,S,N,O){A.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?A.type=N:A.removeAttribute("type"),c!=null?N==="number"?(c===0&&A.value===""||A.value!=c)&&(A.value=""+Hr(c)):A.value!==""+Hr(c)&&(A.value=""+Hr(c)):N!=="submit"&&N!=="reset"||A.removeAttribute("value"),c!=null?VI(A,N,Hr(c)):p!=null?VI(A,N,Hr(p)):m!=null&&A.removeAttribute("value"),B==null&&S!=null&&(A.defaultChecked=!!S),B!=null&&(A.checked=B&&typeof B!="function"&&typeof B!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?A.name=""+Hr(O):A.removeAttribute("name")}function VO(A,c,p,m,B,S,N,O){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(A.type=S),c!=null||p!=null){if(!(S!=="submit"&&S!=="reset"||c!=null)){OI(A);return}p=p!=null?""+Hr(p):"",c=c!=null?""+Hr(c):p,O||c===A.value||(A.value=c),A.defaultValue=c}m=m??B,m=typeof m!="function"&&typeof m!="symbol"&&!!m,A.checked=O?A.checked:!!m,A.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(A.name=N),OI(A)}function VI(A,c,p){c==="number"&&SE(A.ownerDocument)===A||A.defaultValue===""+p||(A.defaultValue=""+p)}function Up(A,c,p,m){if(A=A.options,c){c={};for(var B=0;B<p.length;B++)c["$"+p[B]]=!0;for(p=0;p<A.length;p++)B=c.hasOwnProperty("$"+A[p].value),A[p].selected!==B&&(A[p].selected=B),B&&m&&(A[p].defaultSelected=!0)}else{for(p=""+Hr(p),c=null,B=0;B<A.length;B++){if(A[B].value===p){A[B].selected=!0,m&&(A[B].defaultSelected=!0);return}c!==null||A[B].disabled||(c=A[B])}c!==null&&(c.selected=!0)}}function KO(A,c,p){if(c!=null&&(c=""+Hr(c),c!==A.value&&(A.value=c),p==null)){A.defaultValue!==c&&(A.defaultValue=c);return}A.defaultValue=p!=null?""+Hr(p):""}function GO(A,c,p,m){if(c==null){if(m!=null){if(p!=null)throw Error(i(92));if(ge(m)){if(1<m.length)throw Error(i(93));m=m[0]}p=m}p==null&&(p=""),c=p}p=Hr(c),A.defaultValue=p,m=A.textContent,m===p&&m!==""&&m!==null&&(A.value=m),OI(A)}function Mp(A,c){if(c){var p=A.firstChild;if(p&&p===A.lastChild&&p.nodeType===3){p.nodeValue=c;return}}A.textContent=c}var Hee=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zO(A,c,p){var m=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?m?A.setProperty(c,""):c==="float"?A.cssFloat="":A[c]="":m?A.setProperty(c,p):typeof p!="number"||p===0||Hee.has(c)?c==="float"?A.cssFloat=p:A[c]=(""+p).trim():A[c]=p+"px"}function qO(A,c,p){if(c!=null&&typeof c!="object")throw Error(i(62));if(A=A.style,p!=null){for(var m in p)!p.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?A.setProperty(m,""):m==="float"?A.cssFloat="":A[m]="");for(var B in c)m=c[B],c.hasOwnProperty(B)&&p[B]!==m&&zO(A,B,m)}else for(var S in c)c.hasOwnProperty(S)&&zO(A,S,c[S])}function KI(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vee=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kee=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xE(A){return Kee.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function QA(){}var GI=null;function zI(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Pp=null,Rp=null;function $O(A){var c=Hu(A);if(c&&(A=c.stateNode)){var p=A[xr]||null;e:switch(A=c.stateNode,c.type){case"input":if(HI(A,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=A;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ma(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var m=p[c];if(m!==A&&m.form===A.form){var B=m[xr]||null;if(!B)throw Error(i(90));HI(m,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(c=0;c<p.length;c++)m=p[c],m.form===A.form&&HO(m)}break e;case"textarea":KO(A,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Up(A,!!p.multiple,c,!1)}}}var qI=!1;function jO(A,c,p){if(qI)return A(c,p);qI=!0;try{var m=A(c);return m}finally{if(qI=!1,(Pp!==null||Rp!==null)&&(fS(),Pp&&(c=Pp,A=Rp,Rp=Pp=null,$O(c),A)))for(c=0;c<A.length;c++)$O(A[c])}}function My(A,c){var p=A.stateNode;if(p===null)return null;var m=p[xr]||null;if(m===null)return null;p=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(A=A.type,m=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!m;break e;default:A=!1}if(A)return null;if(p&&typeof p!="function")throw Error(i(231,c,typeof p));return p}var kA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$I=!1;if(kA)try{var Py={};Object.defineProperty(Py,"passive",{get:function(){$I=!0}}),window.addEventListener("test",Py,Py),window.removeEventListener("test",Py,Py)}catch{$I=!1}var Vu=null,jI=null,_E=null;function WO(){if(_E)return _E;var A,c=jI,p=c.length,m,B="value"in Vu?Vu.value:Vu.textContent,S=B.length;for(A=0;A<p&&c[A]===B[A];A++);var N=p-A;for(m=1;m<=N&&c[p-m]===B[S-m];m++);return _E=B.slice(A,1<m?1-m:void 0)}function TE(A){var c=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&c===13&&(A=13)):A=c,A===10&&(A=13),32<=A||A===13?A:0}function IE(){return!0}function YO(){return!1}function ss(A){function c(p,m,B,S,N){this._reactName=p,this._targetInst=B,this.type=m,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var O in A)A.hasOwnProperty(O)&&(p=A[O],this[O]=p?p(S):S[O]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?IE:YO,this.isPropagationStopped=YO,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=IE)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=IE)},persist:function(){},isPersistent:IE}),c}var rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FE=ss(rf),Ry=h({},rf,{view:0,detail:0}),Gee=ss(Ry),WI,YI,Dy,UE=h({},Ry,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JI,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Dy&&(Dy&&A.type==="mousemove"?(WI=A.screenX-Dy.screenX,YI=A.screenY-Dy.screenY):YI=WI=0,Dy=A),WI)},movementY:function(A){return"movementY"in A?A.movementY:YI}}),XO=ss(UE),zee=h({},UE,{dataTransfer:0}),qee=ss(zee),$ee=h({},Ry,{relatedTarget:0}),XI=ss($ee),jee=h({},rf,{animationName:0,elapsedTime:0,pseudoElement:0}),Wee=ss(jee),Yee=h({},rf,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),Xee=ss(Yee),Jee=h({},rf,{data:0}),JO=ss(Jee),Zee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ete={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nte(A){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(A):(A=tte[A])?!!c[A]:!1}function JI(){return nte}var ite=h({},Ry,{key:function(A){if(A.key){var c=Zee[A.key]||A.key;if(c!=="Unidentified")return c}return A.type==="keypress"?(A=TE(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?ete[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JI,charCode:function(A){return A.type==="keypress"?TE(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?TE(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),rte=ss(ite),ste=h({},UE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZO=ss(ste),ate=h({},Ry,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JI}),ote=ss(ate),Ate=h({},rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),lte=ss(Ate),ute=h({},UE,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),cte=ss(ute),dte=h({},rf,{newState:0,oldState:0}),fte=ss(dte),hte=[9,13,27,32],ZI=kA&&"CompositionEvent"in window,Ny=null;kA&&"documentMode"in document&&(Ny=document.documentMode);var pte=kA&&"TextEvent"in window&&!Ny,e2=kA&&(!ZI||Ny&&8<Ny&&11>=Ny),t2=" ",n2=!1;function i2(A,c){switch(A){case"keyup":return hte.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r2(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Dp=!1;function gte(A,c){switch(A){case"compositionend":return r2(c);case"keypress":return c.which!==32?null:(n2=!0,t2);case"textInput":return A=c.data,A===t2&&n2?null:A;default:return null}}function mte(A,c){if(Dp)return A==="compositionend"||!ZI&&i2(A,c)?(A=WO(),_E=jI=Vu=null,Dp=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return e2&&c.locale!=="ko"?null:c.data;default:return null}}var vte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s2(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c==="input"?!!vte[A.type]:c==="textarea"}function a2(A,c,p,m){Pp?Rp?Rp.push(m):Rp=[m]:Pp=m,c=wS(c,"onChange"),0<c.length&&(p=new FE("onChange","change",null,p,m),A.push({event:p,listeners:c}))}var Ly=null,Qy=null;function yte(A){V4(A,0)}function ME(A){var c=nf(A);if(HO(c))return A}function o2(A,c){if(A==="change")return c}var A2=!1;if(kA){var eF;if(kA){var tF="oninput"in document;if(!tF){var l2=document.createElement("div");l2.setAttribute("oninput","return;"),tF=typeof l2.oninput=="function"}eF=tF}else eF=!1;A2=eF&&(!document.documentMode||9<document.documentMode)}function u2(){Ly&&(Ly.detachEvent("onpropertychange",c2),Qy=Ly=null)}function c2(A){if(A.propertyName==="value"&&ME(Qy)){var c=[];a2(c,Qy,A,zI(A)),jO(yte,c)}}function wte(A,c,p){A==="focusin"?(u2(),Ly=c,Qy=p,Ly.attachEvent("onpropertychange",c2)):A==="focusout"&&u2()}function bte(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return ME(Qy)}function Cte(A,c){if(A==="click")return ME(c)}function Bte(A,c){if(A==="input"||A==="change")return ME(c)}function Ete(A,c){return A===c&&(A!==0||1/A===1/c)||A!==A&&c!==c}var Is=typeof Object.is=="function"?Object.is:Ete;function ky(A,c){if(Is(A,c))return!0;if(typeof A!="object"||A===null||typeof c!="object"||c===null)return!1;var p=Object.keys(A),m=Object.keys(c);if(p.length!==m.length)return!1;for(m=0;m<p.length;m++){var B=p[m];if(!kn.call(c,B)||!Is(A[B],c[B]))return!1}return!0}function d2(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function f2(A,c){var p=d2(A);A=0;for(var m;p;){if(p.nodeType===3){if(m=A+p.textContent.length,A<=c&&m>=c)return{node:p,offset:c-A};A=m}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=d2(p)}}function h2(A,c){return A&&c?A===c?!0:A&&A.nodeType===3?!1:c&&c.nodeType===3?h2(A,c.parentNode):"contains"in A?A.contains(c):A.compareDocumentPosition?!!(A.compareDocumentPosition(c)&16):!1:!1}function p2(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var c=SE(A.document);c instanceof A.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)A=c.contentWindow;else break;c=SE(A.document)}return c}function nF(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c&&(c==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||c==="textarea"||A.contentEditable==="true")}var Ste=kA&&"documentMode"in document&&11>=document.documentMode,Np=null,iF=null,Oy=null,rF=!1;function g2(A,c,p){var m=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;rF||Np==null||Np!==SE(m)||(m=Np,"selectionStart"in m&&nF(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Oy&&ky(Oy,m)||(Oy=m,m=wS(iF,"onSelect"),0<m.length&&(c=new FE("onSelect","select",null,c,p),A.push({event:c,listeners:m}),c.target=Np)))}function sf(A,c){var p={};return p[A.toLowerCase()]=c.toLowerCase(),p["Webkit"+A]="webkit"+c,p["Moz"+A]="moz"+c,p}var Lp={animationend:sf("Animation","AnimationEnd"),animationiteration:sf("Animation","AnimationIteration"),animationstart:sf("Animation","AnimationStart"),transitionrun:sf("Transition","TransitionRun"),transitionstart:sf("Transition","TransitionStart"),transitioncancel:sf("Transition","TransitionCancel"),transitionend:sf("Transition","TransitionEnd")},sF={},m2={};kA&&(m2=document.createElement("div").style,"AnimationEvent"in window||(delete Lp.animationend.animation,delete Lp.animationiteration.animation,delete Lp.animationstart.animation),"TransitionEvent"in window||delete Lp.transitionend.transition);function af(A){if(sF[A])return sF[A];if(!Lp[A])return A;var c=Lp[A],p;for(p in c)if(c.hasOwnProperty(p)&&p in m2)return sF[A]=c[p];return A}var v2=af("animationend"),y2=af("animationiteration"),w2=af("animationstart"),xte=af("transitionrun"),_te=af("transitionstart"),Tte=af("transitioncancel"),b2=af("transitionend"),C2=new Map,aF="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");aF.push("scrollEnd");function Ao(A,c){C2.set(A,c),he(c,[A])}var PE=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},va=[],Qp=0,oF=0;function RE(){for(var A=Qp,c=oF=Qp=0;c<A;){var p=va[c];va[c++]=null;var m=va[c];va[c++]=null;var B=va[c];va[c++]=null;var S=va[c];if(va[c++]=null,m!==null&&B!==null){var N=m.pending;N===null?B.next=B:(B.next=N.next,N.next=B),m.pending=B}S!==0&&B2(p,B,S)}}function DE(A,c,p,m){va[Qp++]=A,va[Qp++]=c,va[Qp++]=p,va[Qp++]=m,oF|=m,A.lanes|=m,A=A.alternate,A!==null&&(A.lanes|=m)}function AF(A,c,p,m){return DE(A,c,p,m),NE(A)}function of(A,c){return DE(A,null,null,c),NE(A)}function B2(A,c,p){A.lanes|=p;var m=A.alternate;m!==null&&(m.lanes|=p);for(var B=!1,S=A.return;S!==null;)S.childLanes|=p,m=S.alternate,m!==null&&(m.childLanes|=p),S.tag===22&&(A=S.stateNode,A===null||A._visibility&1||(B=!0)),A=S,S=S.return;return A.tag===3?(S=A.stateNode,B&&c!==null&&(B=31-Se(p),A=S.hiddenUpdates,m=A[B],m===null?A[B]=[c]:m.push(c),c.lane=p|536870912),S):null}function NE(A){if(50<A0)throw A0=0,mU=null,Error(i(185));for(var c=A.return;c!==null;)A=c,c=A.return;return A.tag===3?A.stateNode:null}var kp={};function Ite(A,c,p,m){this.tag=A,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(A,c,p,m){return new Ite(A,c,p,m)}function lF(A){return A=A.prototype,!(!A||!A.isReactComponent)}function OA(A,c){var p=A.alternate;return p===null?(p=Fs(A.tag,c,A.key,A.mode),p.elementType=A.elementType,p.type=A.type,p.stateNode=A.stateNode,p.alternate=A,A.alternate=p):(p.pendingProps=c,p.type=A.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=A.flags&65011712,p.childLanes=A.childLanes,p.lanes=A.lanes,p.child=A.child,p.memoizedProps=A.memoizedProps,p.memoizedState=A.memoizedState,p.updateQueue=A.updateQueue,c=A.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=A.sibling,p.index=A.index,p.ref=A.ref,p.refCleanup=A.refCleanup,p}function E2(A,c){A.flags&=65011714;var p=A.alternate;return p===null?(A.childLanes=0,A.lanes=c,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,A.type=p.type,c=p.dependencies,A.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),A}function LE(A,c,p,m,B,S){var N=0;if(m=A,typeof A=="function")lF(A)&&(N=1);else if(typeof A=="string")N=Rne(A,p,ve.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case k:return A=Fs(31,p,c,B),A.elementType=k,A.lanes=S,A;case C:return Af(p.children,B,S,c);case E:N=8,B|=24;break;case x:return A=Fs(12,p,c,B|2),A.elementType=x,A.lanes=S,A;case P:return A=Fs(13,p,c,B),A.elementType=P,A.lanes=S,A;case D:return A=Fs(19,p,c,B),A.elementType=D,A.lanes=S,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case T:N=10;break e;case I:N=9;break e;case R:N=11;break e;case Q:N=14;break e;case H:N=16,m=null;break e}N=29,p=Error(i(130,A===null?"null":typeof A,"")),m=null}return c=Fs(N,p,c,B),c.elementType=A,c.type=m,c.lanes=S,c}function Af(A,c,p,m){return A=Fs(7,A,m,c),A.lanes=p,A}function uF(A,c,p){return A=Fs(6,A,null,c),A.lanes=p,A}function S2(A){var c=Fs(18,null,null,0);return c.stateNode=A,c}function cF(A,c,p){return c=Fs(4,A.children!==null?A.children:[],A.key,c),c.lanes=p,c.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},c}var x2=new WeakMap;function ya(A,c){if(typeof A=="object"&&A!==null){var p=x2.get(A);return p!==void 0?p:(c={value:A,source:c,stack:st(c)},x2.set(A,c),c)}return{value:A,source:c,stack:st(c)}}var Op=[],Hp=0,QE=null,Hy=0,wa=[],ba=0,Ku=null,Go=1,zo="";function HA(A,c){Op[Hp++]=Hy,Op[Hp++]=QE,QE=A,Hy=c}function _2(A,c,p){wa[ba++]=Go,wa[ba++]=zo,wa[ba++]=Ku,Ku=A;var m=Go;A=zo;var B=32-Se(m)-1;m&=~(1<<B),p+=1;var S=32-Se(c)+B;if(30<S){var N=B-B%5;S=(m&(1<<N)-1).toString(32),m>>=N,B-=N,Go=1<<32-Se(c)+B|p<<B|m,zo=S+A}else Go=1<<S|p<<B|m,zo=A}function dF(A){A.return!==null&&(HA(A,1),_2(A,1,0))}function fF(A){for(;A===QE;)QE=Op[--Hp],Op[Hp]=null,Hy=Op[--Hp],Op[Hp]=null;for(;A===Ku;)Ku=wa[--ba],wa[ba]=null,zo=wa[--ba],wa[ba]=null,Go=wa[--ba],wa[ba]=null}function T2(A,c){wa[ba++]=Go,wa[ba++]=zo,wa[ba++]=Ku,Go=c.id,zo=c.overflow,Ku=A}var sr=null,xn=null,It=!1,Gu=null,Ca=!1,hF=Error(i(519));function zu(A){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vy(ya(c,A)),hF}function I2(A){var c=A.stateNode,p=A.type,m=A.memoizedProps;switch(c[Ti]=A,c[xr]=m,p){case"dialog":Et("cancel",c),Et("close",c);break;case"iframe":case"object":case"embed":Et("load",c);break;case"video":case"audio":for(p=0;p<u0.length;p++)Et(u0[p],c);break;case"source":Et("error",c);break;case"img":case"image":case"link":Et("error",c),Et("load",c);break;case"details":Et("toggle",c);break;case"input":Et("invalid",c),VO(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Et("invalid",c);break;case"textarea":Et("invalid",c),GO(c,m.value,m.defaultValue,m.children)}p=m.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||m.suppressHydrationWarning===!0||q4(c.textContent,p)?(m.popover!=null&&(Et("beforetoggle",c),Et("toggle",c)),m.onScroll!=null&&Et("scroll",c),m.onScrollEnd!=null&&Et("scrollend",c),m.onClick!=null&&(c.onclick=QA),c=!0):c=!1,c||zu(A,!0)}function F2(A){for(sr=A.return;sr;)switch(sr.tag){case 5:case 31:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:sr=sr.return}}function Vp(A){if(A!==sr)return!1;if(!It)return F2(A),It=!0,!1;var c=A.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=A.type,p=!(p!=="form"&&p!=="button")||MU(A.type,A.memoizedProps)),p=!p),p&&xn&&zu(A),F2(A),c===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));xn=tV(A)}else if(c===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));xn=tV(A)}else c===27?(c=xn,sc(A.type)?(A=LU,LU=null,xn=A):xn=c):xn=sr?Ea(A.stateNode.nextSibling):null;return!0}function lf(){xn=sr=null,It=!1}function pF(){var A=Gu;return A!==null&&(ls===null?ls=A:ls.push.apply(ls,A),Gu=null),A}function Vy(A){Gu===null?Gu=[A]:Gu.push(A)}var gF=z(null),uf=null,VA=null;function qu(A,c,p){le(gF,c._currentValue),c._currentValue=p}function KA(A){A._currentValue=gF.current,J(gF)}function mF(A,c,p){for(;A!==null;){var m=A.alternate;if((A.childLanes&c)!==c?(A.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),A===p)break;A=A.return}}function vF(A,c,p,m){var B=A.child;for(B!==null&&(B.return=A);B!==null;){var S=B.dependencies;if(S!==null){var N=B.child;S=S.firstContext;e:for(;S!==null;){var O=S;S=B;for(var j=0;j<c.length;j++)if(O.context===c[j]){S.lanes|=p,O=S.alternate,O!==null&&(O.lanes|=p),mF(S.return,p,A),m||(N=null);break e}S=O.next}}else if(B.tag===18){if(N=B.return,N===null)throw Error(i(341));N.lanes|=p,S=N.alternate,S!==null&&(S.lanes|=p),mF(N,p,A),N=null}else N=B.child;if(N!==null)N.return=B;else for(N=B;N!==null;){if(N===A){N=null;break}if(B=N.sibling,B!==null){B.return=N.return,N=B;break}N=N.return}B=N}}function Kp(A,c,p,m){A=null;for(var B=c,S=!1;B!==null;){if(!S){if((B.flags&524288)!==0)S=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var N=B.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var O=B.type;Is(B.pendingProps.value,N.value)||(A!==null?A.push(O):A=[O])}}else if(B===Ce.current){if(N=B.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(A!==null?A.push(p0):A=[p0])}B=B.return}A!==null&&vF(c,A,p,m),c.flags|=262144}function kE(A){for(A=A.firstContext;A!==null;){if(!Is(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function cf(A){uf=A,VA=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function ar(A){return U2(uf,A)}function OE(A,c){return uf===null&&cf(A),U2(A,c)}function U2(A,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},VA===null){if(A===null)throw Error(i(308));VA=c,A.dependencies={lanes:0,firstContext:c},A.flags|=524288}else VA=VA.next=c;return p}var Fte=typeof AbortController<"u"?AbortController:function(){var A=[],c=this.signal={aborted:!1,addEventListener:function(p,m){A.push(m)}};this.abort=function(){c.aborted=!0,A.forEach(function(p){return p()})}},Ute=n.unstable_scheduleCallback,Mte=n.unstable_NormalPriority,pi={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yF(){return{controller:new Fte,data:new Map,refCount:0}}function Ky(A){A.refCount--,A.refCount===0&&Ute(Mte,function(){A.controller.abort()})}var Gy=null,wF=0,Gp=0,zp=null;function Pte(A,c){if(Gy===null){var p=Gy=[];wF=0,Gp=BU(),zp={status:"pending",value:void 0,then:function(m){p.push(m)}}}return wF++,c.then(M2,M2),c}function M2(){if(--wF===0&&Gy!==null){zp!==null&&(zp.status="fulfilled");var A=Gy;Gy=null,Gp=0,zp=null;for(var c=0;c<A.length;c++)(0,A[c])()}}function Rte(A,c){var p=[],m={status:"pending",value:null,reason:null,then:function(B){p.push(B)}};return A.then(function(){m.status="fulfilled",m.value=c;for(var B=0;B<p.length;B++)(0,p[B])(c)},function(B){for(m.status="rejected",m.reason=B,B=0;B<p.length;B++)(0,p[B])(void 0)}),m}var P2=G.S;G.S=function(A,c){g4=Z(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Pte(A,c),P2!==null&&P2(A,c)};var df=z(null);function bF(){var A=df.current;return A!==null?A:hn.pooledCache}function HE(A,c){c===null?le(df,df.current):le(df,c.pool)}function R2(){var A=bF();return A===null?null:{parent:pi._currentValue,pool:A}}var qp=Error(i(460)),CF=Error(i(474)),VE=Error(i(542)),KE={then:function(){}};function D2(A){return A=A.status,A==="fulfilled"||A==="rejected"}function N2(A,c,p){switch(p=A[p],p===void 0?A.push(c):p!==c&&(c.then(QA,QA),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,Q2(A),A;default:if(typeof c.status=="string")c.then(QA,QA);else{if(A=hn,A!==null&&100<A.shellSuspendCounter)throw Error(i(482));A=c,A.status="pending",A.then(function(m){if(c.status==="pending"){var B=c;B.status="fulfilled",B.value=m}},function(m){if(c.status==="pending"){var B=c;B.status="rejected",B.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,Q2(A),A}throw hf=c,qp}}function ff(A){try{var c=A._init;return c(A._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(hf=p,qp):p}}var hf=null;function L2(){if(hf===null)throw Error(i(459));var A=hf;return hf=null,A}function Q2(A){if(A===qp||A===VE)throw Error(i(483))}var $p=null,zy=0;function GE(A){var c=zy;return zy+=1,$p===null&&($p=[]),N2($p,A,c)}function qy(A,c){c=c.props.ref,A.ref=c!==void 0?c:null}function zE(A,c){throw c.$$typeof===g?Error(i(525)):(A=Object.prototype.toString.call(c),Error(i(31,A==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":A)))}function k2(A){function c(Y,W){if(A){var ee=Y.deletions;ee===null?(Y.deletions=[W],Y.flags|=16):ee.push(W)}}function p(Y,W){if(!A)return null;for(;W!==null;)c(Y,W),W=W.sibling;return null}function m(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function B(Y,W){return Y=OA(Y,W),Y.index=0,Y.sibling=null,Y}function S(Y,W,ee){return Y.index=ee,A?(ee=Y.alternate,ee!==null?(ee=ee.index,ee<W?(Y.flags|=67108866,W):ee):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function N(Y){return A&&Y.alternate===null&&(Y.flags|=67108866),Y}function O(Y,W,ee,fe){return W===null||W.tag!==6?(W=uF(ee,Y.mode,fe),W.return=Y,W):(W=B(W,ee),W.return=Y,W)}function j(Y,W,ee,fe){var et=ee.type;return et===C?de(Y,W,ee.props.children,fe,ee.key):W!==null&&(W.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===H&&ff(et)===W.type)?(W=B(W,ee.props),qy(W,ee),W.return=Y,W):(W=LE(ee.type,ee.key,ee.props,null,Y.mode,fe),qy(W,ee),W.return=Y,W)}function te(Y,W,ee,fe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ee.containerInfo||W.stateNode.implementation!==ee.implementation?(W=cF(ee,Y.mode,fe),W.return=Y,W):(W=B(W,ee.children||[]),W.return=Y,W)}function de(Y,W,ee,fe,et){return W===null||W.tag!==7?(W=Af(ee,Y.mode,fe,et),W.return=Y,W):(W=B(W,ee),W.return=Y,W)}function pe(Y,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=uF(""+W,Y.mode,ee),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return ee=LE(W.type,W.key,W.props,null,Y.mode,ee),qy(ee,W),ee.return=Y,ee;case b:return W=cF(W,Y.mode,ee),W.return=Y,W;case H:return W=ff(W),pe(Y,W,ee)}if(ge(W)||q(W))return W=Af(W,Y.mode,ee,null),W.return=Y,W;if(typeof W.then=="function")return pe(Y,GE(W),ee);if(W.$$typeof===T)return pe(Y,OE(Y,W),ee);zE(Y,W)}return null}function re(Y,W,ee,fe){var et=W!==null?W.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return et!==null?null:O(Y,W,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return ee.key===et?j(Y,W,ee,fe):null;case b:return ee.key===et?te(Y,W,ee,fe):null;case H:return ee=ff(ee),re(Y,W,ee,fe)}if(ge(ee)||q(ee))return et!==null?null:de(Y,W,ee,fe,null);if(typeof ee.then=="function")return re(Y,W,GE(ee),fe);if(ee.$$typeof===T)return re(Y,W,OE(Y,ee),fe);zE(Y,ee)}return null}function oe(Y,W,ee,fe,et){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Y=Y.get(ee)||null,O(W,Y,""+fe,et);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:return Y=Y.get(fe.key===null?ee:fe.key)||null,j(W,Y,fe,et);case b:return Y=Y.get(fe.key===null?ee:fe.key)||null,te(W,Y,fe,et);case H:return fe=ff(fe),oe(Y,W,ee,fe,et)}if(ge(fe)||q(fe))return Y=Y.get(ee)||null,de(W,Y,fe,et,null);if(typeof fe.then=="function")return oe(Y,W,ee,GE(fe),et);if(fe.$$typeof===T)return oe(Y,W,ee,OE(W,fe),et);zE(W,fe)}return null}function He(Y,W,ee,fe){for(var et=null,Lt=null,$e=W,gt=W=0,xt=null;$e!==null&&gt<ee.length;gt++){$e.index>gt?(xt=$e,$e=null):xt=$e.sibling;var Qt=re(Y,$e,ee[gt],fe);if(Qt===null){$e===null&&($e=xt);break}A&&$e&&Qt.alternate===null&&c(Y,$e),W=S(Qt,W,gt),Lt===null?et=Qt:Lt.sibling=Qt,Lt=Qt,$e=xt}if(gt===ee.length)return p(Y,$e),It&&HA(Y,gt),et;if($e===null){for(;gt<ee.length;gt++)$e=pe(Y,ee[gt],fe),$e!==null&&(W=S($e,W,gt),Lt===null?et=$e:Lt.sibling=$e,Lt=$e);return It&&HA(Y,gt),et}for($e=m($e);gt<ee.length;gt++)xt=oe($e,Y,gt,ee[gt],fe),xt!==null&&(A&&xt.alternate!==null&&$e.delete(xt.key===null?gt:xt.key),W=S(xt,W,gt),Lt===null?et=xt:Lt.sibling=xt,Lt=xt);return A&&$e.forEach(function(uc){return c(Y,uc)}),It&&HA(Y,gt),et}function nt(Y,W,ee,fe){if(ee==null)throw Error(i(151));for(var et=null,Lt=null,$e=W,gt=W=0,xt=null,Qt=ee.next();$e!==null&&!Qt.done;gt++,Qt=ee.next()){$e.index>gt?(xt=$e,$e=null):xt=$e.sibling;var uc=re(Y,$e,Qt.value,fe);if(uc===null){$e===null&&($e=xt);break}A&&$e&&uc.alternate===null&&c(Y,$e),W=S(uc,W,gt),Lt===null?et=uc:Lt.sibling=uc,Lt=uc,$e=xt}if(Qt.done)return p(Y,$e),It&&HA(Y,gt),et;if($e===null){for(;!Qt.done;gt++,Qt=ee.next())Qt=pe(Y,Qt.value,fe),Qt!==null&&(W=S(Qt,W,gt),Lt===null?et=Qt:Lt.sibling=Qt,Lt=Qt);return It&&HA(Y,gt),et}for($e=m($e);!Qt.done;gt++,Qt=ee.next())Qt=oe($e,Y,gt,Qt.value,fe),Qt!==null&&(A&&Qt.alternate!==null&&$e.delete(Qt.key===null?gt:Qt.key),W=S(Qt,W,gt),Lt===null?et=Qt:Lt.sibling=Qt,Lt=Qt);return A&&$e.forEach(function(zne){return c(Y,zne)}),It&&HA(Y,gt),et}function nn(Y,W,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===C&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:e:{for(var et=ee.key;W!==null;){if(W.key===et){if(et=ee.type,et===C){if(W.tag===7){p(Y,W.sibling),fe=B(W,ee.props.children),fe.return=Y,Y=fe;break e}}else if(W.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===H&&ff(et)===W.type){p(Y,W.sibling),fe=B(W,ee.props),qy(fe,ee),fe.return=Y,Y=fe;break e}p(Y,W);break}else c(Y,W);W=W.sibling}ee.type===C?(fe=Af(ee.props.children,Y.mode,fe,ee.key),fe.return=Y,Y=fe):(fe=LE(ee.type,ee.key,ee.props,null,Y.mode,fe),qy(fe,ee),fe.return=Y,Y=fe)}return N(Y);case b:e:{for(et=ee.key;W!==null;){if(W.key===et)if(W.tag===4&&W.stateNode.containerInfo===ee.containerInfo&&W.stateNode.implementation===ee.implementation){p(Y,W.sibling),fe=B(W,ee.children||[]),fe.return=Y,Y=fe;break e}else{p(Y,W);break}else c(Y,W);W=W.sibling}fe=cF(ee,Y.mode,fe),fe.return=Y,Y=fe}return N(Y);case H:return ee=ff(ee),nn(Y,W,ee,fe)}if(ge(ee))return He(Y,W,ee,fe);if(q(ee)){if(et=q(ee),typeof et!="function")throw Error(i(150));return ee=et.call(ee),nt(Y,W,ee,fe)}if(typeof ee.then=="function")return nn(Y,W,GE(ee),fe);if(ee.$$typeof===T)return nn(Y,W,OE(Y,ee),fe);zE(Y,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,W!==null&&W.tag===6?(p(Y,W.sibling),fe=B(W,ee),fe.return=Y,Y=fe):(p(Y,W),fe=uF(ee,Y.mode,fe),fe.return=Y,Y=fe),N(Y)):p(Y,W)}return function(Y,W,ee,fe){try{zy=0;var et=nn(Y,W,ee,fe);return $p=null,et}catch($e){if($e===qp||$e===VE)throw $e;var Lt=Fs(29,$e,null,Y.mode);return Lt.lanes=fe,Lt.return=Y,Lt}finally{}}}var pf=k2(!0),O2=k2(!1),$u=!1;function BF(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function EF(A,c){A=A.updateQueue,c.updateQueue===A&&(c.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function ju(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function Wu(A,c,p){var m=A.updateQueue;if(m===null)return null;if(m=m.shared,(Vt&2)!==0){var B=m.pending;return B===null?c.next=c:(c.next=B.next,B.next=c),m.pending=c,c=NE(A),B2(A,null,p),c}return DE(A,m,c,p),NE(A)}function $y(A,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,mE(A,p)}}function SF(A,c){var p=A.updateQueue,m=A.alternate;if(m!==null&&(m=m.updateQueue,p===m)){var B=null,S=null;if(p=p.firstBaseUpdate,p!==null){do{var N={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};S===null?B=S=N:S=S.next=N,p=p.next}while(p!==null);S===null?B=S=c:S=S.next=c}else B=S=c;p={baseState:m.baseState,firstBaseUpdate:B,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},A.updateQueue=p;return}A=p.lastBaseUpdate,A===null?p.firstBaseUpdate=c:A.next=c,p.lastBaseUpdate=c}var xF=!1;function jy(){if(xF){var A=zp;if(A!==null)throw A}}function Wy(A,c,p,m){xF=!1;var B=A.updateQueue;$u=!1;var S=B.firstBaseUpdate,N=B.lastBaseUpdate,O=B.shared.pending;if(O!==null){B.shared.pending=null;var j=O,te=j.next;j.next=null,N===null?S=te:N.next=te,N=j;var de=A.alternate;de!==null&&(de=de.updateQueue,O=de.lastBaseUpdate,O!==N&&(O===null?de.firstBaseUpdate=te:O.next=te,de.lastBaseUpdate=j))}if(S!==null){var pe=B.baseState;N=0,de=te=j=null,O=S;do{var re=O.lane&-536870913,oe=re!==O.lane;if(oe?(St&re)===re:(m&re)===re){re!==0&&re===Gp&&(xF=!0),de!==null&&(de=de.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var He=A,nt=O;re=c;var nn=p;switch(nt.tag){case 1:if(He=nt.payload,typeof He=="function"){pe=He.call(nn,pe,re);break e}pe=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=nt.payload,re=typeof He=="function"?He.call(nn,pe,re):He,re==null)break e;pe=h({},pe,re);break e;case 2:$u=!0}}re=O.callback,re!==null&&(A.flags|=64,oe&&(A.flags|=8192),oe=B.callbacks,oe===null?B.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:O.tag,payload:O.payload,callback:O.callback,next:null},de===null?(te=de=oe,j=pe):de=de.next=oe,N|=re;if(O=O.next,O===null){if(O=B.shared.pending,O===null)break;oe=O,O=oe.next,oe.next=null,B.lastBaseUpdate=oe,B.shared.pending=null}}while(!0);de===null&&(j=pe),B.baseState=j,B.firstBaseUpdate=te,B.lastBaseUpdate=de,S===null&&(B.shared.lanes=0),ec|=N,A.lanes=N,A.memoizedState=pe}}function H2(A,c){if(typeof A!="function")throw Error(i(191,A));A.call(c)}function V2(A,c){var p=A.callbacks;if(p!==null)for(A.callbacks=null,A=0;A<p.length;A++)H2(p[A],c)}var jp=z(null),qE=z(0);function K2(A,c){A=JA,le(qE,A),le(jp,c),JA=A|c.baseLanes}function _F(){le(qE,JA),le(jp,jp.current)}function TF(){JA=qE.current,J(jp),J(qE)}var Us=z(null),Ba=null;function Yu(A){var c=A.alternate;le(ri,ri.current&1),le(Us,A),Ba===null&&(c===null||jp.current!==null||c.memoizedState!==null)&&(Ba=A)}function IF(A){le(ri,ri.current),le(Us,A),Ba===null&&(Ba=A)}function G2(A){A.tag===22?(le(ri,ri.current),le(Us,A),Ba===null&&(Ba=A)):Xu()}function Xu(){le(ri,ri.current),le(Us,Us.current)}function Ms(A){J(Us),Ba===A&&(Ba=null),J(ri)}var ri=z(0);function $E(A){for(var c=A;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||DU(p)||NU(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var GA=0,ft=null,en=null,gi=null,jE=!1,Wp=!1,gf=!1,WE=0,Yy=0,Yp=null,Dte=0;function qn(){throw Error(i(321))}function FF(A,c){if(c===null)return!1;for(var p=0;p<c.length&&p<A.length;p++)if(!Is(A[p],c[p]))return!1;return!0}function UF(A,c,p,m,B,S){return GA=S,ft=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,G.H=A===null||A.memoizedState===null?_H:qF,gf=!1,S=p(m,B),gf=!1,Wp&&(S=q2(c,p,m,B)),z2(A),S}function z2(A){G.H=Zy;var c=en!==null&&en.next!==null;if(GA=0,gi=en=ft=null,jE=!1,Yy=0,Yp=null,c)throw Error(i(300));A===null||mi||(A=A.dependencies,A!==null&&kE(A)&&(mi=!0))}function q2(A,c,p,m){ft=A;var B=0;do{if(Wp&&(Yp=null),Yy=0,Wp=!1,25<=B)throw Error(i(301));if(B+=1,gi=en=null,A.updateQueue!=null){var S=A.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}G.H=TH,S=c(p,m)}while(Wp);return S}function Nte(){var A=G.H,c=A.useState()[0];return c=typeof c.then=="function"?Xy(c):c,A=A.useState()[0],(en!==null?en.memoizedState:null)!==A&&(ft.flags|=1024),c}function MF(){var A=WE!==0;return WE=0,A}function PF(A,c,p){c.updateQueue=A.updateQueue,c.flags&=-2053,A.lanes&=~p}function RF(A){if(jE){for(A=A.memoizedState;A!==null;){var c=A.queue;c!==null&&(c.pending=null),A=A.next}jE=!1}GA=0,gi=en=ft=null,Wp=!1,Yy=WE=0,Yp=null}function Vr(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gi===null?ft.memoizedState=gi=A:gi=gi.next=A,gi}function si(){if(en===null){var A=ft.alternate;A=A!==null?A.memoizedState:null}else A=en.next;var c=gi===null?ft.memoizedState:gi.next;if(c!==null)gi=c,en=A;else{if(A===null)throw ft.alternate===null?Error(i(467)):Error(i(310));en=A,A={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},gi===null?ft.memoizedState=gi=A:gi=gi.next=A}return gi}function YE(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xy(A){var c=Yy;return Yy+=1,Yp===null&&(Yp=[]),A=N2(Yp,A,c),c=ft,(gi===null?c.memoizedState:gi.next)===null&&(c=c.alternate,G.H=c===null||c.memoizedState===null?_H:qF),A}function XE(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return Xy(A);if(A.$$typeof===T)return ar(A)}throw Error(i(438,String(A)))}function DF(A){var c=null,p=ft.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var m=ft.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(B){return B.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=YE(),ft.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(A),m=0;m<A;m++)p[m]=K;return c.index++,p}function zA(A,c){return typeof c=="function"?c(A):c}function JE(A){var c=si();return NF(c,en,A)}function NF(A,c,p){var m=A.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=p;var B=A.baseQueue,S=m.pending;if(S!==null){if(B!==null){var N=B.next;B.next=S.next,S.next=N}c.baseQueue=B=S,m.pending=null}if(S=A.baseState,B===null)A.memoizedState=S;else{c=B.next;var O=N=null,j=null,te=c,de=!1;do{var pe=te.lane&-536870913;if(pe!==te.lane?(St&pe)===pe:(GA&pe)===pe){var re=te.revertLane;if(re===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),pe===Gp&&(de=!0);else if((GA&re)===re){te=te.next,re===Gp&&(de=!0);continue}else pe={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},j===null?(O=j=pe,N=S):j=j.next=pe,ft.lanes|=re,ec|=re;pe=te.action,gf&&p(S,pe),S=te.hasEagerState?te.eagerState:p(S,pe)}else re={lane:pe,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},j===null?(O=j=re,N=S):j=j.next=re,ft.lanes|=pe,ec|=pe;te=te.next}while(te!==null&&te!==c);if(j===null?N=S:j.next=O,!Is(S,A.memoizedState)&&(mi=!0,de&&(p=zp,p!==null)))throw p;A.memoizedState=S,A.baseState=N,A.baseQueue=j,m.lastRenderedState=S}return B===null&&(m.lanes=0),[A.memoizedState,m.dispatch]}function LF(A){var c=si(),p=c.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=A;var m=p.dispatch,B=p.pending,S=c.memoizedState;if(B!==null){p.pending=null;var N=B=B.next;do S=A(S,N.action),N=N.next;while(N!==B);Is(S,c.memoizedState)||(mi=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),p.lastRenderedState=S}return[S,m]}function $2(A,c,p){var m=ft,B=si(),S=It;if(S){if(p===void 0)throw Error(i(407));p=p()}else p=c();var N=!Is((en||B).memoizedState,p);if(N&&(B.memoizedState=p,mi=!0),B=B.queue,OF(Y2.bind(null,m,B,A),[A]),B.getSnapshot!==c||N||gi!==null&&gi.memoizedState.tag&1){if(m.flags|=2048,Xp(9,{destroy:void 0},W2.bind(null,m,B,p,c),null),hn===null)throw Error(i(349));S||(GA&127)!==0||j2(m,c,p)}return p}function j2(A,c,p){A.flags|=16384,A={getSnapshot:c,value:p},c=ft.updateQueue,c===null?(c=YE(),ft.updateQueue=c,c.stores=[A]):(p=c.stores,p===null?c.stores=[A]:p.push(A))}function W2(A,c,p,m){c.value=p,c.getSnapshot=m,X2(c)&&J2(A)}function Y2(A,c,p){return p(function(){X2(c)&&J2(A)})}function X2(A){var c=A.getSnapshot;A=A.value;try{var p=c();return!Is(A,p)}catch{return!0}}function J2(A){var c=of(A,2);c!==null&&us(c,A,2)}function QF(A){var c=Vr();if(typeof A=="function"){var p=A;if(A=p(),gf){Xe(!0);try{p()}finally{Xe(!1)}}}return c.memoizedState=c.baseState=A,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zA,lastRenderedState:A},c}function Z2(A,c,p,m){return A.baseState=p,NF(A,en,typeof m=="function"?m:zA)}function Lte(A,c,p,m,B){if(tS(A))throw Error(i(485));if(A=c.action,A!==null){var S={payload:B,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};G.T!==null?p(!0):S.isTransition=!1,m(S),p=c.pending,p===null?(S.next=c.pending=S,eH(c,S)):(S.next=p.next,c.pending=p.next=S)}}function eH(A,c){var p=c.action,m=c.payload,B=A.state;if(c.isTransition){var S=G.T,N={};G.T=N;try{var O=p(B,m),j=G.S;j!==null&&j(N,O),tH(A,c,O)}catch(te){kF(A,c,te)}finally{S!==null&&N.types!==null&&(S.types=N.types),G.T=S}}else try{S=p(B,m),tH(A,c,S)}catch(te){kF(A,c,te)}}function tH(A,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(m){nH(A,c,m)},function(m){return kF(A,c,m)}):nH(A,c,p)}function nH(A,c,p){c.status="fulfilled",c.value=p,iH(c),A.state=p,c=A.pending,c!==null&&(p=c.next,p===c?A.pending=null:(p=p.next,c.next=p,eH(A,p)))}function kF(A,c,p){var m=A.pending;if(A.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=p,iH(c),c=c.next;while(c!==m)}A.action=null}function iH(A){A=A.listeners;for(var c=0;c<A.length;c++)(0,A[c])()}function rH(A,c){return c}function sH(A,c){if(It){var p=hn.formState;if(p!==null){e:{var m=ft;if(It){if(xn){t:{for(var B=xn,S=Ca;B.nodeType!==8;){if(!S){B=null;break t}if(B=Ea(B.nextSibling),B===null){B=null;break t}}S=B.data,B=S==="F!"||S==="F"?B:null}if(B){xn=Ea(B.nextSibling),m=B.data==="F!";break e}}zu(m)}m=!1}m&&(c=p[0])}}return p=Vr(),p.memoizedState=p.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rH,lastRenderedState:c},p.queue=m,p=EH.bind(null,ft,m),m.dispatch=p,m=QF(!1),S=zF.bind(null,ft,!1,m.queue),m=Vr(),B={state:c,dispatch:null,action:A,pending:null},m.queue=B,p=Lte.bind(null,ft,B,S,p),B.dispatch=p,m.memoizedState=A,[c,p,!1]}function aH(A){var c=si();return oH(c,en,A)}function oH(A,c,p){if(c=NF(A,c,rH)[0],A=JE(zA)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=Xy(c)}catch(N){throw N===qp?VE:N}else m=c;c=si();var B=c.queue,S=B.dispatch;return p!==c.memoizedState&&(ft.flags|=2048,Xp(9,{destroy:void 0},Qte.bind(null,B,p),null)),[m,S,A]}function Qte(A,c){A.action=c}function AH(A){var c=si(),p=en;if(p!==null)return oH(c,p,A);si(),c=c.memoizedState,p=si();var m=p.queue.dispatch;return p.memoizedState=A,[c,m,!1]}function Xp(A,c,p,m){return A={tag:A,create:p,deps:m,inst:c,next:null},c=ft.updateQueue,c===null&&(c=YE(),ft.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=A.next=A:(m=p.next,p.next=A,A.next=m,c.lastEffect=A),A}function lH(){return si().memoizedState}function ZE(A,c,p,m){var B=Vr();ft.flags|=A,B.memoizedState=Xp(1|c,{destroy:void 0},p,m===void 0?null:m)}function eS(A,c,p,m){var B=si();m=m===void 0?null:m;var S=B.memoizedState.inst;en!==null&&m!==null&&FF(m,en.memoizedState.deps)?B.memoizedState=Xp(c,S,p,m):(ft.flags|=A,B.memoizedState=Xp(1|c,S,p,m))}function uH(A,c){ZE(8390656,8,A,c)}function OF(A,c){eS(2048,8,A,c)}function kte(A){ft.flags|=4;var c=ft.updateQueue;if(c===null)c=YE(),ft.updateQueue=c,c.events=[A];else{var p=c.events;p===null?c.events=[A]:p.push(A)}}function cH(A){var c=si().memoizedState;return kte({ref:c,nextImpl:A}),function(){if((Vt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function dH(A,c){return eS(4,2,A,c)}function fH(A,c){return eS(4,4,A,c)}function hH(A,c){if(typeof c=="function"){A=A();var p=c(A);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return A=A(),c.current=A,function(){c.current=null}}function pH(A,c,p){p=p!=null?p.concat([A]):null,eS(4,4,hH.bind(null,c,A),p)}function HF(){}function gH(A,c){var p=si();c=c===void 0?null:c;var m=p.memoizedState;return c!==null&&FF(c,m[1])?m[0]:(p.memoizedState=[A,c],A)}function mH(A,c){var p=si();c=c===void 0?null:c;var m=p.memoizedState;if(c!==null&&FF(c,m[1]))return m[0];if(m=A(),gf){Xe(!0);try{A()}finally{Xe(!1)}}return p.memoizedState=[m,c],m}function VF(A,c,p){return p===void 0||(GA&1073741824)!==0&&(St&261930)===0?A.memoizedState=c:(A.memoizedState=p,A=v4(),ft.lanes|=A,ec|=A,p)}function vH(A,c,p,m){return Is(p,c)?p:jp.current!==null?(A=VF(A,p,m),Is(A,c)||(mi=!0),A):(GA&42)===0||(GA&1073741824)!==0&&(St&261930)===0?(mi=!0,A.memoizedState=p):(A=v4(),ft.lanes|=A,ec|=A,c)}function yH(A,c,p,m,B){var S=$.p;$.p=S!==0&&8>S?S:8;var N=G.T,O={};G.T=O,zF(A,!1,c,p);try{var j=B(),te=G.S;if(te!==null&&te(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var de=Rte(j,m);Jy(A,c,de,Ds(A))}else Jy(A,c,m,Ds(A))}catch(pe){Jy(A,c,{then:function(){},status:"rejected",reason:pe},Ds())}finally{$.p=S,N!==null&&O.types!==null&&(N.types=O.types),G.T=N}}function Ote(){}function KF(A,c,p,m){if(A.tag!==5)throw Error(i(476));var B=wH(A).queue;yH(A,B,c,ie,p===null?Ote:function(){return bH(A),p(m)})}function wH(A){var c=A.memoizedState;if(c!==null)return c;c={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zA,lastRenderedState:ie},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zA,lastRenderedState:p},next:null},A.memoizedState=c,A=A.alternate,A!==null&&(A.memoizedState=c),c}function bH(A){var c=wH(A);c.next===null&&(c=A.alternate.memoizedState),Jy(A,c.next.queue,{},Ds())}function GF(){return ar(p0)}function CH(){return si().memoizedState}function BH(){return si().memoizedState}function Hte(A){for(var c=A.return;c!==null;){switch(c.tag){case 24:case 3:var p=Ds();A=ju(p);var m=Wu(c,A,p);m!==null&&(us(m,c,p),$y(m,c,p)),c={cache:yF()},A.payload=c;return}c=c.return}}function Vte(A,c,p){var m=Ds();p={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},tS(A)?SH(c,p):(p=AF(A,c,p,m),p!==null&&(us(p,A,m),xH(p,c,m)))}function EH(A,c,p){var m=Ds();Jy(A,c,p,m)}function Jy(A,c,p,m){var B={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(tS(A))SH(c,B);else{var S=A.alternate;if(A.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var N=c.lastRenderedState,O=S(N,p);if(B.hasEagerState=!0,B.eagerState=O,Is(O,N))return DE(A,c,B,0),hn===null&&RE(),!1}catch{}finally{}if(p=AF(A,c,B,m),p!==null)return us(p,A,m),xH(p,c,m),!0}return!1}function zF(A,c,p,m){if(m={lane:2,revertLane:BU(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},tS(A)){if(c)throw Error(i(479))}else c=AF(A,p,m,2),c!==null&&us(c,A,2)}function tS(A){var c=A.alternate;return A===ft||c!==null&&c===ft}function SH(A,c){Wp=jE=!0;var p=A.pending;p===null?c.next=c:(c.next=p.next,p.next=c),A.pending=c}function xH(A,c,p){if((p&4194048)!==0){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,mE(A,p)}}var Zy={readContext:ar,use:XE,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useLayoutEffect:qn,useInsertionEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useSyncExternalStore:qn,useId:qn,useHostTransitionStatus:qn,useFormState:qn,useActionState:qn,useOptimistic:qn,useMemoCache:qn,useCacheRefresh:qn};Zy.useEffectEvent=qn;var _H={readContext:ar,use:XE,useCallback:function(A,c){return Vr().memoizedState=[A,c===void 0?null:c],A},useContext:ar,useEffect:uH,useImperativeHandle:function(A,c,p){p=p!=null?p.concat([A]):null,ZE(4194308,4,hH.bind(null,c,A),p)},useLayoutEffect:function(A,c){return ZE(4194308,4,A,c)},useInsertionEffect:function(A,c){ZE(4,2,A,c)},useMemo:function(A,c){var p=Vr();c=c===void 0?null:c;var m=A();if(gf){Xe(!0);try{A()}finally{Xe(!1)}}return p.memoizedState=[m,c],m},useReducer:function(A,c,p){var m=Vr();if(p!==void 0){var B=p(c);if(gf){Xe(!0);try{p(c)}finally{Xe(!1)}}}else B=c;return m.memoizedState=m.baseState=B,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:B},m.queue=A,A=A.dispatch=Vte.bind(null,ft,A),[m.memoizedState,A]},useRef:function(A){var c=Vr();return A={current:A},c.memoizedState=A},useState:function(A){A=QF(A);var c=A.queue,p=EH.bind(null,ft,c);return c.dispatch=p,[A.memoizedState,p]},useDebugValue:HF,useDeferredValue:function(A,c){var p=Vr();return VF(p,A,c)},useTransition:function(){var A=QF(!1);return A=yH.bind(null,ft,A.queue,!0,!1),Vr().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,c,p){var m=ft,B=Vr();if(It){if(p===void 0)throw Error(i(407));p=p()}else{if(p=c(),hn===null)throw Error(i(349));(St&127)!==0||j2(m,c,p)}B.memoizedState=p;var S={value:p,getSnapshot:c};return B.queue=S,uH(Y2.bind(null,m,S,A),[A]),m.flags|=2048,Xp(9,{destroy:void 0},W2.bind(null,m,S,p,c),null),p},useId:function(){var A=Vr(),c=hn.identifierPrefix;if(It){var p=zo,m=Go;p=(m&~(1<<32-Se(m)-1)).toString(32)+p,c="_"+c+"R_"+p,p=WE++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=Dte++,c="_"+c+"r_"+p.toString(32)+"_";return A.memoizedState=c},useHostTransitionStatus:GF,useFormState:sH,useActionState:sH,useOptimistic:function(A){var c=Vr();c.memoizedState=c.baseState=A;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=zF.bind(null,ft,!0,p),p.dispatch=c,[A,c]},useMemoCache:DF,useCacheRefresh:function(){return Vr().memoizedState=Hte.bind(null,ft)},useEffectEvent:function(A){var c=Vr(),p={impl:A};return c.memoizedState=p,function(){if((Vt&2)!==0)throw Error(i(440));return p.impl.apply(void 0,arguments)}}},qF={readContext:ar,use:XE,useCallback:gH,useContext:ar,useEffect:OF,useImperativeHandle:pH,useInsertionEffect:dH,useLayoutEffect:fH,useMemo:mH,useReducer:JE,useRef:lH,useState:function(){return JE(zA)},useDebugValue:HF,useDeferredValue:function(A,c){var p=si();return vH(p,en.memoizedState,A,c)},useTransition:function(){var A=JE(zA)[0],c=si().memoizedState;return[typeof A=="boolean"?A:Xy(A),c]},useSyncExternalStore:$2,useId:CH,useHostTransitionStatus:GF,useFormState:aH,useActionState:aH,useOptimistic:function(A,c){var p=si();return Z2(p,en,A,c)},useMemoCache:DF,useCacheRefresh:BH};qF.useEffectEvent=cH;var TH={readContext:ar,use:XE,useCallback:gH,useContext:ar,useEffect:OF,useImperativeHandle:pH,useInsertionEffect:dH,useLayoutEffect:fH,useMemo:mH,useReducer:LF,useRef:lH,useState:function(){return LF(zA)},useDebugValue:HF,useDeferredValue:function(A,c){var p=si();return en===null?VF(p,A,c):vH(p,en.memoizedState,A,c)},useTransition:function(){var A=LF(zA)[0],c=si().memoizedState;return[typeof A=="boolean"?A:Xy(A),c]},useSyncExternalStore:$2,useId:CH,useHostTransitionStatus:GF,useFormState:AH,useActionState:AH,useOptimistic:function(A,c){var p=si();return en!==null?Z2(p,en,A,c):(p.baseState=A,[A,p.queue.dispatch])},useMemoCache:DF,useCacheRefresh:BH};TH.useEffectEvent=cH;function $F(A,c,p,m){c=A.memoizedState,p=p(m,c),p=p==null?c:h({},c,p),A.memoizedState=p,A.lanes===0&&(A.updateQueue.baseState=p)}var jF={enqueueSetState:function(A,c,p){A=A._reactInternals;var m=Ds(),B=ju(m);B.payload=c,p!=null&&(B.callback=p),c=Wu(A,B,m),c!==null&&(us(c,A,m),$y(c,A,m))},enqueueReplaceState:function(A,c,p){A=A._reactInternals;var m=Ds(),B=ju(m);B.tag=1,B.payload=c,p!=null&&(B.callback=p),c=Wu(A,B,m),c!==null&&(us(c,A,m),$y(c,A,m))},enqueueForceUpdate:function(A,c){A=A._reactInternals;var p=Ds(),m=ju(p);m.tag=2,c!=null&&(m.callback=c),c=Wu(A,m,p),c!==null&&(us(c,A,p),$y(c,A,p))}};function IH(A,c,p,m,B,S,N){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(m,S,N):c.prototype&&c.prototype.isPureReactComponent?!ky(p,m)||!ky(B,S):!0}function FH(A,c,p,m){A=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,m),c.state!==A&&jF.enqueueReplaceState(c,c.state,null)}function mf(A,c){var p=c;if("ref"in c){p={};for(var m in c)m!=="ref"&&(p[m]=c[m])}if(A=A.defaultProps){p===c&&(p=h({},p));for(var B in A)p[B]===void 0&&(p[B]=A[B])}return p}function UH(A){PE(A)}function MH(A){console.error(A)}function PH(A){PE(A)}function nS(A,c){try{var p=A.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function RH(A,c,p){try{var m=A.onCaughtError;m(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function WF(A,c,p){return p=ju(p),p.tag=3,p.payload={element:null},p.callback=function(){nS(A,c)},p}function DH(A){return A=ju(A),A.tag=3,A}function NH(A,c,p,m){var B=p.type.getDerivedStateFromError;if(typeof B=="function"){var S=m.value;A.payload=function(){return B(S)},A.callback=function(){RH(c,p,m)}}var N=p.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(A.callback=function(){RH(c,p,m),typeof B!="function"&&(tc===null?tc=new Set([this]):tc.add(this));var O=m.stack;this.componentDidCatch(m.value,{componentStack:O!==null?O:""})})}function Kte(A,c,p,m,B){if(p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=p.alternate,c!==null&&Kp(c,p,B,!0),p=Us.current,p!==null){switch(p.tag){case 31:case 13:return Ba===null?hS():p.alternate===null&&$n===0&&($n=3),p.flags&=-257,p.flags|=65536,p.lanes=B,m===KE?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([m]):c.add(m),wU(A,m,B)),!1;case 22:return p.flags|=65536,m===KE?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([m]):p.add(m)),wU(A,m,B)),!1}throw Error(i(435,p.tag))}return wU(A,m,B),hS(),!1}if(It)return c=Us.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=B,m!==hF&&(A=Error(i(422),{cause:m}),Vy(ya(A,p)))):(m!==hF&&(c=Error(i(423),{cause:m}),Vy(ya(c,p))),A=A.current.alternate,A.flags|=65536,B&=-B,A.lanes|=B,m=ya(m,p),B=WF(A.stateNode,m,B),SF(A,B),$n!==4&&($n=2)),!1;var S=Error(i(520),{cause:m});if(S=ya(S,p),o0===null?o0=[S]:o0.push(S),$n!==4&&($n=2),c===null)return!0;m=ya(m,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,A=B&-B,p.lanes|=A,A=WF(p.stateNode,m,A),SF(p,A),!1;case 1:if(c=p.type,S=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(tc===null||!tc.has(S))))return p.flags|=65536,B&=-B,p.lanes|=B,B=DH(B),NH(B,A,p,m),SF(p,B),!1}p=p.return}while(p!==null);return!1}var YF=Error(i(461)),mi=!1;function or(A,c,p,m){c.child=A===null?O2(c,null,p,m):pf(c,A.child,p,m)}function LH(A,c,p,m,B){p=p.render;var S=c.ref;if("ref"in m){var N={};for(var O in m)O!=="ref"&&(N[O]=m[O])}else N=m;return cf(c),m=UF(A,c,p,N,S,B),O=MF(),A!==null&&!mi?(PF(A,c,B),qA(A,c,B)):(It&&O&&dF(c),c.flags|=1,or(A,c,m,B),c.child)}function QH(A,c,p,m,B){if(A===null){var S=p.type;return typeof S=="function"&&!lF(S)&&S.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=S,kH(A,c,S,m,B)):(A=LE(p.type,null,m,c,c.mode,B),A.ref=c.ref,A.return=c,c.child=A)}if(S=A.child,!rU(A,B)){var N=S.memoizedProps;if(p=p.compare,p=p!==null?p:ky,p(N,m)&&A.ref===c.ref)return qA(A,c,B)}return c.flags|=1,A=OA(S,m),A.ref=c.ref,A.return=c,c.child=A}function kH(A,c,p,m,B){if(A!==null){var S=A.memoizedProps;if(ky(S,m)&&A.ref===c.ref)if(mi=!1,c.pendingProps=m=S,rU(A,B))(A.flags&131072)!==0&&(mi=!0);else return c.lanes=A.lanes,qA(A,c,B)}return XF(A,c,p,m,B)}function OH(A,c,p,m){var B=m.children,S=A!==null?A.memoizedState:null;if(A===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(S=S!==null?S.baseLanes|p:p,A!==null){for(m=c.child=A.child,B=0;m!==null;)B=B|m.lanes|m.childLanes,m=m.sibling;m=B&~S}else m=0,c.child=null;return HH(A,c,S,p,m)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},A!==null&&HE(c,S!==null?S.cachePool:null),S!==null?K2(c,S):_F(),G2(c);else return m=c.lanes=536870912,HH(A,c,S!==null?S.baseLanes|p:p,p,m)}else S!==null?(HE(c,S.cachePool),K2(c,S),Xu(),c.memoizedState=null):(A!==null&&HE(c,null),_F(),Xu());return or(A,c,B,p),c.child}function e0(A,c){return A!==null&&A.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function HH(A,c,p,m,B){var S=bF();return S=S===null?null:{parent:pi._currentValue,pool:S},c.memoizedState={baseLanes:p,cachePool:S},A!==null&&HE(c,null),_F(),G2(c),A!==null&&Kp(A,c,m,!0),c.childLanes=B,null}function iS(A,c){return c=sS({mode:c.mode,children:c.children},A.mode),c.ref=A.ref,A.child=c,c.return=A,c}function VH(A,c,p){return pf(c,A.child,null,p),A=iS(c,c.pendingProps),A.flags|=2,Ms(c),c.memoizedState=null,A}function Gte(A,c,p){var m=c.pendingProps,B=(c.flags&128)!==0;if(c.flags&=-129,A===null){if(It){if(m.mode==="hidden")return A=iS(c,m),c.lanes=536870912,e0(null,A);if(IF(c),(A=xn)?(A=eV(A,Ca),A=A!==null&&A.data==="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Ku!==null?{id:Go,overflow:zo}:null,retryLane:536870912,hydrationErrors:null},p=S2(A),p.return=c,c.child=p,sr=c,xn=null)):A=null,A===null)throw zu(c);return c.lanes=536870912,null}return iS(c,m)}var S=A.memoizedState;if(S!==null){var N=S.dehydrated;if(IF(c),B)if(c.flags&256)c.flags&=-257,c=VH(A,c,p);else if(c.memoizedState!==null)c.child=A.child,c.flags|=128,c=null;else throw Error(i(558));else if(mi||Kp(A,c,p,!1),B=(p&A.childLanes)!==0,mi||B){if(m=hn,m!==null&&(N=vE(m,p),N!==0&&N!==S.retryLane))throw S.retryLane=N,of(A,N),us(m,A,N),YF;hS(),c=VH(A,c,p)}else A=S.treeContext,xn=Ea(N.nextSibling),sr=c,It=!0,Gu=null,Ca=!1,A!==null&&T2(c,A),c=iS(c,m),c.flags|=4096;return c}return A=OA(A.child,{mode:m.mode,children:m.children}),A.ref=c.ref,c.child=A,A.return=c,A}function rS(A,c){var p=c.ref;if(p===null)A!==null&&A.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(A===null||A.ref!==p)&&(c.flags|=4194816)}}function XF(A,c,p,m,B){return cf(c),p=UF(A,c,p,m,void 0,B),m=MF(),A!==null&&!mi?(PF(A,c,B),qA(A,c,B)):(It&&m&&dF(c),c.flags|=1,or(A,c,p,B),c.child)}function KH(A,c,p,m,B,S){return cf(c),c.updateQueue=null,p=q2(c,m,p,B),z2(A),m=MF(),A!==null&&!mi?(PF(A,c,S),qA(A,c,S)):(It&&m&&dF(c),c.flags|=1,or(A,c,p,S),c.child)}function GH(A,c,p,m,B){if(cf(c),c.stateNode===null){var S=kp,N=p.contextType;typeof N=="object"&&N!==null&&(S=ar(N)),S=new p(m,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=jF,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=m,S.state=c.memoizedState,S.refs={},BF(c),N=p.contextType,S.context=typeof N=="object"&&N!==null?ar(N):kp,S.state=c.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&($F(c,p,N,m),S.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&jF.enqueueReplaceState(S,S.state,null),Wy(c,m,S,B),jy(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(A===null){S=c.stateNode;var O=c.memoizedProps,j=mf(p,O);S.props=j;var te=S.context,de=p.contextType;N=kp,typeof de=="object"&&de!==null&&(N=ar(de));var pe=p.getDerivedStateFromProps;de=typeof pe=="function"||typeof S.getSnapshotBeforeUpdate=="function",O=c.pendingProps!==O,de||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O||te!==N)&&FH(c,S,m,N),$u=!1;var re=c.memoizedState;S.state=re,Wy(c,m,S,B),jy(),te=c.memoizedState,O||re!==te||$u?(typeof pe=="function"&&($F(c,p,pe,m),te=c.memoizedState),(j=$u||IH(c,p,j,m,re,te,N))?(de||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=te),S.props=m,S.state=te,S.context=N,m=j):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{S=c.stateNode,EF(A,c),N=c.memoizedProps,de=mf(p,N),S.props=de,pe=c.pendingProps,re=S.context,te=p.contextType,j=kp,typeof te=="object"&&te!==null&&(j=ar(te)),O=p.getDerivedStateFromProps,(te=typeof O=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==pe||re!==j)&&FH(c,S,m,j),$u=!1,re=c.memoizedState,S.state=re,Wy(c,m,S,B),jy();var oe=c.memoizedState;N!==pe||re!==oe||$u||A!==null&&A.dependencies!==null&&kE(A.dependencies)?(typeof O=="function"&&($F(c,p,O,m),oe=c.memoizedState),(de=$u||IH(c,p,de,m,re,oe,j)||A!==null&&A.dependencies!==null&&kE(A.dependencies))?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,oe,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,oe,j)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===A.memoizedProps&&re===A.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&re===A.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=oe),S.props=m,S.state=oe,S.context=j,m=de):(typeof S.componentDidUpdate!="function"||N===A.memoizedProps&&re===A.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&re===A.memoizedState||(c.flags|=1024),m=!1)}return S=m,rS(A,c),m=(c.flags&128)!==0,S||m?(S=c.stateNode,p=m&&typeof p.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,A!==null&&m?(c.child=pf(c,A.child,null,B),c.child=pf(c,null,p,B)):or(A,c,p,B),c.memoizedState=S.state,A=c.child):A=qA(A,c,B),A}function zH(A,c,p,m){return lf(),c.flags|=256,or(A,c,p,m),c.child}var JF={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ZF(A){return{baseLanes:A,cachePool:R2()}}function eU(A,c,p){return A=A!==null?A.childLanes&~p:0,c&&(A|=Rs),A}function qH(A,c,p){var m=c.pendingProps,B=!1,S=(c.flags&128)!==0,N;if((N=S)||(N=A!==null&&A.memoizedState===null?!1:(ri.current&2)!==0),N&&(B=!0,c.flags&=-129),N=(c.flags&32)!==0,c.flags&=-33,A===null){if(It){if(B?Yu(c):Xu(),(A=xn)?(A=eV(A,Ca),A=A!==null&&A.data!=="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Ku!==null?{id:Go,overflow:zo}:null,retryLane:536870912,hydrationErrors:null},p=S2(A),p.return=c,c.child=p,sr=c,xn=null)):A=null,A===null)throw zu(c);return NU(A)?c.lanes=32:c.lanes=536870912,null}var O=m.children;return m=m.fallback,B?(Xu(),B=c.mode,O=sS({mode:"hidden",children:O},B),m=Af(m,B,p,null),O.return=c,m.return=c,O.sibling=m,c.child=O,m=c.child,m.memoizedState=ZF(p),m.childLanes=eU(A,N,p),c.memoizedState=JF,e0(null,m)):(Yu(c),tU(c,O))}var j=A.memoizedState;if(j!==null&&(O=j.dehydrated,O!==null)){if(S)c.flags&256?(Yu(c),c.flags&=-257,c=nU(A,c,p)):c.memoizedState!==null?(Xu(),c.child=A.child,c.flags|=128,c=null):(Xu(),O=m.fallback,B=c.mode,m=sS({mode:"visible",children:m.children},B),O=Af(O,B,p,null),O.flags|=2,m.return=c,O.return=c,m.sibling=O,c.child=m,pf(c,A.child,null,p),m=c.child,m.memoizedState=ZF(p),m.childLanes=eU(A,N,p),c.memoizedState=JF,c=e0(null,m));else if(Yu(c),NU(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var te=N.dgst;N=te,m=Error(i(419)),m.stack="",m.digest=N,Vy({value:m,source:null,stack:null}),c=nU(A,c,p)}else if(mi||Kp(A,c,p,!1),N=(p&A.childLanes)!==0,mi||N){if(N=hn,N!==null&&(m=vE(N,p),m!==0&&m!==j.retryLane))throw j.retryLane=m,of(A,m),us(N,A,m),YF;DU(O)||hS(),c=nU(A,c,p)}else DU(O)?(c.flags|=192,c.child=A.child,c=null):(A=j.treeContext,xn=Ea(O.nextSibling),sr=c,It=!0,Gu=null,Ca=!1,A!==null&&T2(c,A),c=tU(c,m.children),c.flags|=4096);return c}return B?(Xu(),O=m.fallback,B=c.mode,j=A.child,te=j.sibling,m=OA(j,{mode:"hidden",children:m.children}),m.subtreeFlags=j.subtreeFlags&65011712,te!==null?O=OA(te,O):(O=Af(O,B,p,null),O.flags|=2),O.return=c,m.return=c,m.sibling=O,c.child=m,e0(null,m),m=c.child,O=A.child.memoizedState,O===null?O=ZF(p):(B=O.cachePool,B!==null?(j=pi._currentValue,B=B.parent!==j?{parent:j,pool:j}:B):B=R2(),O={baseLanes:O.baseLanes|p,cachePool:B}),m.memoizedState=O,m.childLanes=eU(A,N,p),c.memoizedState=JF,e0(A.child,m)):(Yu(c),p=A.child,A=p.sibling,p=OA(p,{mode:"visible",children:m.children}),p.return=c,p.sibling=null,A!==null&&(N=c.deletions,N===null?(c.deletions=[A],c.flags|=16):N.push(A)),c.child=p,c.memoizedState=null,p)}function tU(A,c){return c=sS({mode:"visible",children:c},A.mode),c.return=A,A.child=c}function sS(A,c){return A=Fs(22,A,null,c),A.lanes=0,A}function nU(A,c,p){return pf(c,A.child,null,p),A=tU(c,c.pendingProps.children),A.flags|=2,c.memoizedState=null,A}function $H(A,c,p){A.lanes|=c;var m=A.alternate;m!==null&&(m.lanes|=c),mF(A.return,c,p)}function iU(A,c,p,m,B,S){var N=A.memoizedState;N===null?A.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:p,tailMode:B,treeForkCount:S}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=p,N.tailMode=B,N.treeForkCount=S)}function jH(A,c,p){var m=c.pendingProps,B=m.revealOrder,S=m.tail;m=m.children;var N=ri.current,O=(N&2)!==0;if(O?(N=N&1|2,c.flags|=128):N&=1,le(ri,N),or(A,c,m,p),m=It?Hy:0,!O&&A!==null&&(A.flags&128)!==0)e:for(A=c.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&$H(A,p,c);else if(A.tag===19)$H(A,p,c);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(B){case"forwards":for(p=c.child,B=null;p!==null;)A=p.alternate,A!==null&&$E(A)===null&&(B=p),p=p.sibling;p=B,p===null?(B=c.child,c.child=null):(B=p.sibling,p.sibling=null),iU(c,!1,B,p,S,m);break;case"backwards":case"unstable_legacy-backwards":for(p=null,B=c.child,c.child=null;B!==null;){if(A=B.alternate,A!==null&&$E(A)===null){c.child=B;break}A=B.sibling,B.sibling=p,p=B,B=A}iU(c,!0,p,null,S,m);break;case"together":iU(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function qA(A,c,p){if(A!==null&&(c.dependencies=A.dependencies),ec|=c.lanes,(p&c.childLanes)===0)if(A!==null){if(Kp(A,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(A!==null&&c.child!==A.child)throw Error(i(153));if(c.child!==null){for(A=c.child,p=OA(A,A.pendingProps),c.child=p,p.return=c;A.sibling!==null;)A=A.sibling,p=p.sibling=OA(A,A.pendingProps),p.return=c;p.sibling=null}return c.child}function rU(A,c){return(A.lanes&c)!==0?!0:(A=A.dependencies,!!(A!==null&&kE(A)))}function zte(A,c,p){switch(c.tag){case 3:ut(c,c.stateNode.containerInfo),qu(c,pi,A.memoizedState.cache),lf();break;case 27:case 5:Ke(c);break;case 4:ut(c,c.stateNode.containerInfo);break;case 10:qu(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,IF(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(Yu(c),c.flags|=128,null):(p&c.child.childLanes)!==0?qH(A,c,p):(Yu(c),A=qA(A,c,p),A!==null?A.sibling:null);Yu(c);break;case 19:var B=(A.flags&128)!==0;if(m=(p&c.childLanes)!==0,m||(Kp(A,c,p,!1),m=(p&c.childLanes)!==0),B){if(m)return jH(A,c,p);c.flags|=128}if(B=c.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),le(ri,ri.current),m)break;return null;case 22:return c.lanes=0,OH(A,c,p,c.pendingProps);case 24:qu(c,pi,A.memoizedState.cache)}return qA(A,c,p)}function WH(A,c,p){if(A!==null)if(A.memoizedProps!==c.pendingProps)mi=!0;else{if(!rU(A,p)&&(c.flags&128)===0)return mi=!1,zte(A,c,p);mi=(A.flags&131072)!==0}else mi=!1,It&&(c.flags&1048576)!==0&&_2(c,Hy,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(A=ff(c.elementType),c.type=A,typeof A=="function")lF(A)?(m=mf(A,m),c.tag=1,c=GH(null,c,A,m,p)):(c.tag=0,c=XF(null,c,A,m,p));else{if(A!=null){var B=A.$$typeof;if(B===R){c.tag=11,c=LH(null,c,A,m,p);break e}else if(B===Q){c.tag=14,c=QH(null,c,A,m,p);break e}}throw c=ne(A)||A,Error(i(306,c,""))}}return c;case 0:return XF(A,c,c.type,c.pendingProps,p);case 1:return m=c.type,B=mf(m,c.pendingProps),GH(A,c,m,B,p);case 3:e:{if(ut(c,c.stateNode.containerInfo),A===null)throw Error(i(387));m=c.pendingProps;var S=c.memoizedState;B=S.element,EF(A,c),Wy(c,m,null,p);var N=c.memoizedState;if(m=N.cache,qu(c,pi,m),m!==S.cache&&vF(c,[pi],p,!0),jy(),m=N.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:N.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=zH(A,c,m,p);break e}else if(m!==B){B=ya(Error(i(424)),c),Vy(B),c=zH(A,c,m,p);break e}else{switch(A=c.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(xn=Ea(A.firstChild),sr=c,It=!0,Gu=null,Ca=!0,p=O2(c,null,m,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(lf(),m===B){c=qA(A,c,p);break e}or(A,c,m,p)}c=c.child}return c;case 26:return rS(A,c),A===null?(p=aV(c.type,null,c.pendingProps,null))?c.memoizedState=p:It||(p=c.type,A=c.pendingProps,m=bS(Fe.current).createElement(p),m[Ti]=c,m[xr]=A,Ar(m,p,A),hi(m),c.stateNode=m):c.memoizedState=aV(c.type,A.memoizedProps,c.pendingProps,A.memoizedState),null;case 27:return Ke(c),A===null&&It&&(m=c.stateNode=iV(c.type,c.pendingProps,Fe.current),sr=c,Ca=!0,B=xn,sc(c.type)?(LU=B,xn=Ea(m.firstChild)):xn=B),or(A,c,c.pendingProps.children,p),rS(A,c),A===null&&(c.flags|=4194304),c.child;case 5:return A===null&&It&&((B=m=xn)&&(m=bne(m,c.type,c.pendingProps,Ca),m!==null?(c.stateNode=m,sr=c,xn=Ea(m.firstChild),Ca=!1,B=!0):B=!1),B||zu(c)),Ke(c),B=c.type,S=c.pendingProps,N=A!==null?A.memoizedProps:null,m=S.children,MU(B,S)?m=null:N!==null&&MU(B,N)&&(c.flags|=32),c.memoizedState!==null&&(B=UF(A,c,Nte,null,null,p),p0._currentValue=B),rS(A,c),or(A,c,m,p),c.child;case 6:return A===null&&It&&((A=p=xn)&&(p=Cne(p,c.pendingProps,Ca),p!==null?(c.stateNode=p,sr=c,xn=null,A=!0):A=!1),A||zu(c)),null;case 13:return qH(A,c,p);case 4:return ut(c,c.stateNode.containerInfo),m=c.pendingProps,A===null?c.child=pf(c,null,m,p):or(A,c,m,p),c.child;case 11:return LH(A,c,c.type,c.pendingProps,p);case 7:return or(A,c,c.pendingProps,p),c.child;case 8:return or(A,c,c.pendingProps.children,p),c.child;case 12:return or(A,c,c.pendingProps.children,p),c.child;case 10:return m=c.pendingProps,qu(c,c.type,m.value),or(A,c,m.children,p),c.child;case 9:return B=c.type._context,m=c.pendingProps.children,cf(c),B=ar(B),m=m(B),c.flags|=1,or(A,c,m,p),c.child;case 14:return QH(A,c,c.type,c.pendingProps,p);case 15:return kH(A,c,c.type,c.pendingProps,p);case 19:return jH(A,c,p);case 31:return Gte(A,c,p);case 22:return OH(A,c,p,c.pendingProps);case 24:return cf(c),m=ar(pi),A===null?(B=bF(),B===null&&(B=hn,S=yF(),B.pooledCache=S,S.refCount++,S!==null&&(B.pooledCacheLanes|=p),B=S),c.memoizedState={parent:m,cache:B},BF(c),qu(c,pi,B)):((A.lanes&p)!==0&&(EF(A,c),Wy(c,null,null,p),jy()),B=A.memoizedState,S=c.memoizedState,B.parent!==m?(B={parent:m,cache:m},c.memoizedState=B,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=B),qu(c,pi,m)):(m=S.cache,qu(c,pi,m),m!==B.cache&&vF(c,[pi],p,!0))),or(A,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function $A(A){A.flags|=4}function sU(A,c,p,m,B){if((c=(A.mode&32)!==0)&&(c=!1),c){if(A.flags|=16777216,(B&335544128)===B)if(A.stateNode.complete)A.flags|=8192;else if(C4())A.flags|=8192;else throw hf=KE,CF}else A.flags&=-16777217}function YH(A,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!cV(c))if(C4())A.flags|=8192;else throw hf=KE,CF}function aS(A,c){c!==null&&(A.flags|=4),A.flags&16384&&(c=A.tag!==22?_y():536870912,A.lanes|=c,tg|=c)}function t0(A,c){if(!It)switch(A.tailMode){case"hidden":c=A.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?A.tail=null:p.sibling=null;break;case"collapsed":p=A.tail;for(var m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?c||A.tail===null?A.tail=null:A.tail.sibling=null:m.sibling=null}}function _n(A){var c=A.alternate!==null&&A.alternate.child===A.child,p=0,m=0;if(c)for(var B=A.child;B!==null;)p|=B.lanes|B.childLanes,m|=B.subtreeFlags&65011712,m|=B.flags&65011712,B.return=A,B=B.sibling;else for(B=A.child;B!==null;)p|=B.lanes|B.childLanes,m|=B.subtreeFlags,m|=B.flags,B.return=A,B=B.sibling;return A.subtreeFlags|=m,A.childLanes=p,c}function qte(A,c,p){var m=c.pendingProps;switch(fF(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(c),null;case 1:return _n(c),null;case 3:return p=c.stateNode,m=null,A!==null&&(m=A.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),KA(pi),ae(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(A===null||A.child===null)&&(Vp(c)?$A(c):A===null||A.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,pF())),_n(c),null;case 26:var B=c.type,S=c.memoizedState;return A===null?($A(c),S!==null?(_n(c),YH(c,S)):(_n(c),sU(c,B,null,m,p))):S?S!==A.memoizedState?($A(c),_n(c),YH(c,S)):(_n(c),c.flags&=-16777217):(A=A.memoizedProps,A!==m&&$A(c),_n(c),sU(c,B,A,m,p)),null;case 27:if(Ye(c),p=Fe.current,B=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&$A(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return _n(c),null}A=ve.current,Vp(c)?I2(c):(A=iV(B,m,p),c.stateNode=A,$A(c))}return _n(c),null;case 5:if(Ye(c),B=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&$A(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return _n(c),null}if(S=ve.current,Vp(c))I2(c);else{var N=bS(Fe.current);switch(S){case 1:S=N.createElementNS("http://www.w3.org/2000/svg",B);break;case 2:S=N.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;default:switch(B){case"svg":S=N.createElementNS("http://www.w3.org/2000/svg",B);break;case"math":S=N.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;case"script":S=N.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?N.createElement(B,{is:m.is}):N.createElement(B)}}S[Ti]=c,S[xr]=m;e:for(N=c.child;N!==null;){if(N.tag===5||N.tag===6)S.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===c)break e;for(;N.sibling===null;){if(N.return===null||N.return===c)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}c.stateNode=S;e:switch(Ar(S,B,m),B){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&$A(c)}}return _n(c),sU(c,c.type,A===null?null:A.memoizedProps,c.pendingProps,p),null;case 6:if(A&&c.stateNode!=null)A.memoizedProps!==m&&$A(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(i(166));if(A=Fe.current,Vp(c)){if(A=c.stateNode,p=c.memoizedProps,m=null,B=sr,B!==null)switch(B.tag){case 27:case 5:m=B.memoizedProps}A[Ti]=c,A=!!(A.nodeValue===p||m!==null&&m.suppressHydrationWarning===!0||q4(A.nodeValue,p)),A||zu(c,!0)}else A=bS(A).createTextNode(m),A[Ti]=c,c.stateNode=A}return _n(c),null;case 31:if(p=c.memoizedState,A===null||A.memoizedState!==null){if(m=Vp(c),p!==null){if(A===null){if(!m)throw Error(i(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(557));A[Ti]=c}else lf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;_n(c),A=!1}else p=pF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=p),A=!0;if(!A)return c.flags&256?(Ms(c),c):(Ms(c),null);if((c.flags&128)!==0)throw Error(i(558))}return _n(c),null;case 13:if(m=c.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(B=Vp(c),m!==null&&m.dehydrated!==null){if(A===null){if(!B)throw Error(i(318));if(B=c.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(i(317));B[Ti]=c}else lf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;_n(c),B=!1}else B=pF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=B),B=!0;if(!B)return c.flags&256?(Ms(c),c):(Ms(c),null)}return Ms(c),(c.flags&128)!==0?(c.lanes=p,c):(p=m!==null,A=A!==null&&A.memoizedState!==null,p&&(m=c.child,B=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(B=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==B&&(m.flags|=2048)),p!==A&&p&&(c.child.flags|=8192),aS(c,c.updateQueue),_n(c),null);case 4:return ae(),A===null&&_U(c.stateNode.containerInfo),_n(c),null;case 10:return KA(c.type),_n(c),null;case 19:if(J(ri),m=c.memoizedState,m===null)return _n(c),null;if(B=(c.flags&128)!==0,S=m.rendering,S===null)if(B)t0(m,!1);else{if($n!==0||A!==null&&(A.flags&128)!==0)for(A=c.child;A!==null;){if(S=$E(A),S!==null){for(c.flags|=128,t0(m,!1),A=S.updateQueue,c.updateQueue=A,aS(c,A),c.subtreeFlags=0,A=p,p=c.child;p!==null;)E2(p,A),p=p.sibling;return le(ri,ri.current&1|2),It&&HA(c,m.treeForkCount),c.child}A=A.sibling}m.tail!==null&&Z()>cS&&(c.flags|=128,B=!0,t0(m,!1),c.lanes=4194304)}else{if(!B)if(A=$E(S),A!==null){if(c.flags|=128,B=!0,A=A.updateQueue,c.updateQueue=A,aS(c,A),t0(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!It)return _n(c),null}else 2*Z()-m.renderingStartTime>cS&&p!==536870912&&(c.flags|=128,B=!0,t0(m,!1),c.lanes=4194304);m.isBackwards?(S.sibling=c.child,c.child=S):(A=m.last,A!==null?A.sibling=S:c.child=S,m.last=S)}return m.tail!==null?(A=m.tail,m.rendering=A,m.tail=A.sibling,m.renderingStartTime=Z(),A.sibling=null,p=ri.current,le(ri,B?p&1|2:p&1),It&&HA(c,m.treeForkCount),A):(_n(c),null);case 22:case 23:return Ms(c),TF(),m=c.memoizedState!==null,A!==null?A.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(p&536870912)!==0&&(c.flags&128)===0&&(_n(c),c.subtreeFlags&6&&(c.flags|=8192)):_n(c),p=c.updateQueue,p!==null&&aS(c,p.retryQueue),p=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048),A!==null&&J(df),null;case 24:return p=null,A!==null&&(p=A.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),KA(pi),_n(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function $te(A,c){switch(fF(c),c.tag){case 1:return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 3:return KA(pi),ae(),A=c.flags,(A&65536)!==0&&(A&128)===0?(c.flags=A&-65537|128,c):null;case 26:case 27:case 5:return Ye(c),null;case 31:if(c.memoizedState!==null){if(Ms(c),c.alternate===null)throw Error(i(340));lf()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 13:if(Ms(c),A=c.memoizedState,A!==null&&A.dehydrated!==null){if(c.alternate===null)throw Error(i(340));lf()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 19:return J(ri),null;case 4:return ae(),null;case 10:return KA(c.type),null;case 22:case 23:return Ms(c),TF(),A!==null&&J(df),A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 24:return KA(pi),null;case 25:return null;default:return null}}function XH(A,c){switch(fF(c),c.tag){case 3:KA(pi),ae();break;case 26:case 27:case 5:Ye(c);break;case 4:ae();break;case 31:c.memoizedState!==null&&Ms(c);break;case 13:Ms(c);break;case 19:J(ri);break;case 10:KA(c.type);break;case 22:case 23:Ms(c),TF(),A!==null&&J(df);break;case 24:KA(pi)}}function n0(A,c){try{var p=c.updateQueue,m=p!==null?p.lastEffect:null;if(m!==null){var B=m.next;p=B;do{if((p.tag&A)===A){m=void 0;var S=p.create,N=p.inst;m=S(),N.destroy=m}p=p.next}while(p!==B)}}catch(O){$t(c,c.return,O)}}function Ju(A,c,p){try{var m=c.updateQueue,B=m!==null?m.lastEffect:null;if(B!==null){var S=B.next;m=S;do{if((m.tag&A)===A){var N=m.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,B=c;var j=p,te=O;try{te()}catch(de){$t(B,j,de)}}}m=m.next}while(m!==S)}}catch(de){$t(c,c.return,de)}}function JH(A){var c=A.updateQueue;if(c!==null){var p=A.stateNode;try{V2(c,p)}catch(m){$t(A,A.return,m)}}}function ZH(A,c,p){p.props=mf(A.type,A.memoizedProps),p.state=A.memoizedState;try{p.componentWillUnmount()}catch(m){$t(A,c,m)}}function i0(A,c){try{var p=A.ref;if(p!==null){switch(A.tag){case 26:case 27:case 5:var m=A.stateNode;break;case 30:m=A.stateNode;break;default:m=A.stateNode}typeof p=="function"?A.refCleanup=p(m):p.current=m}}catch(B){$t(A,c,B)}}function qo(A,c){var p=A.ref,m=A.refCleanup;if(p!==null)if(typeof m=="function")try{m()}catch(B){$t(A,c,B)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(B){$t(A,c,B)}else p.current=null}function e4(A){var c=A.type,p=A.memoizedProps,m=A.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&m.focus();break e;case"img":p.src?m.src=p.src:p.srcSet&&(m.srcset=p.srcSet)}}catch(B){$t(A,A.return,B)}}function aU(A,c,p){try{var m=A.stateNode;pne(m,A.type,p,c),m[xr]=c}catch(B){$t(A,A.return,B)}}function t4(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&sc(A.type)||A.tag===4}function oU(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||t4(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&sc(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function AU(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(A,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(A),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=QA));else if(m!==4&&(m===27&&sc(A.type)&&(p=A.stateNode,c=null),A=A.child,A!==null))for(AU(A,c,p),A=A.sibling;A!==null;)AU(A,c,p),A=A.sibling}function oS(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?p.insertBefore(A,c):p.appendChild(A);else if(m!==4&&(m===27&&sc(A.type)&&(p=A.stateNode),A=A.child,A!==null))for(oS(A,c,p),A=A.sibling;A!==null;)oS(A,c,p),A=A.sibling}function n4(A){var c=A.stateNode,p=A.memoizedProps;try{for(var m=A.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);Ar(c,m,p),c[Ti]=A,c[xr]=p}catch(S){$t(A,A.return,S)}}var jA=!1,vi=!1,lU=!1,i4=typeof WeakSet=="function"?WeakSet:Set,Vi=null;function jte(A,c){if(A=A.containerInfo,FU=TS,A=p2(A),nF(A)){if("selectionStart"in A)var p={start:A.selectionStart,end:A.selectionEnd};else e:{p=(p=A.ownerDocument)&&p.defaultView||window;var m=p.getSelection&&p.getSelection();if(m&&m.rangeCount!==0){p=m.anchorNode;var B=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{p.nodeType,S.nodeType}catch{p=null;break e}var N=0,O=-1,j=-1,te=0,de=0,pe=A,re=null;t:for(;;){for(var oe;pe!==p||B!==0&&pe.nodeType!==3||(O=N+B),pe!==S||m!==0&&pe.nodeType!==3||(j=N+m),pe.nodeType===3&&(N+=pe.nodeValue.length),(oe=pe.firstChild)!==null;)re=pe,pe=oe;for(;;){if(pe===A)break t;if(re===p&&++te===B&&(O=N),re===S&&++de===m&&(j=N),(oe=pe.nextSibling)!==null)break;pe=re,re=pe.parentNode}pe=oe}p=O===-1||j===-1?null:{start:O,end:j}}else p=null}p=p||{start:0,end:0}}else p=null;for(UU={focusedElem:A,selectionRange:p},TS=!1,Vi=c;Vi!==null;)if(c=Vi,A=c.child,(c.subtreeFlags&1028)!==0&&A!==null)A.return=c,Vi=A;else for(;Vi!==null;){switch(c=Vi,S=c.alternate,A=c.flags,c.tag){case 0:if((A&4)!==0&&(A=c.updateQueue,A=A!==null?A.events:null,A!==null))for(p=0;p<A.length;p++)B=A[p],B.ref.impl=B.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&S!==null){A=void 0,p=c,B=S.memoizedProps,S=S.memoizedState,m=p.stateNode;try{var He=mf(p.type,B);A=m.getSnapshotBeforeUpdate(He,S),m.__reactInternalSnapshotBeforeUpdate=A}catch(nt){$t(p,p.return,nt)}}break;case 3:if((A&1024)!==0){if(A=c.stateNode.containerInfo,p=A.nodeType,p===9)RU(A);else if(p===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":RU(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(i(163))}if(A=c.sibling,A!==null){A.return=c.return,Vi=A;break}Vi=c.return}}function r4(A,c,p){var m=p.flags;switch(p.tag){case 0:case 11:case 15:YA(A,p),m&4&&n0(5,p);break;case 1:if(YA(A,p),m&4)if(A=p.stateNode,c===null)try{A.componentDidMount()}catch(N){$t(p,p.return,N)}else{var B=mf(p.type,c.memoizedProps);c=c.memoizedState;try{A.componentDidUpdate(B,c,A.__reactInternalSnapshotBeforeUpdate)}catch(N){$t(p,p.return,N)}}m&64&&JH(p),m&512&&i0(p,p.return);break;case 3:if(YA(A,p),m&64&&(A=p.updateQueue,A!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{V2(A,c)}catch(N){$t(p,p.return,N)}}break;case 27:c===null&&m&4&&n4(p);case 26:case 5:YA(A,p),c===null&&m&4&&e4(p),m&512&&i0(p,p.return);break;case 12:YA(A,p);break;case 31:YA(A,p),m&4&&o4(A,p);break;case 13:YA(A,p),m&4&&A4(A,p),m&64&&(A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(p=ine.bind(null,p),Bne(A,p))));break;case 22:if(m=p.memoizedState!==null||jA,!m){c=c!==null&&c.memoizedState!==null||vi,B=jA;var S=vi;jA=m,(vi=c)&&!S?XA(A,p,(p.subtreeFlags&8772)!==0):YA(A,p),jA=B,vi=S}break;case 30:break;default:YA(A,p)}}function s4(A){var c=A.alternate;c!==null&&(A.alternate=null,s4(c)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(c=A.stateNode,c!==null&&Uy(c)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Pn=null,as=!1;function WA(A,c,p){for(p=p.child;p!==null;)a4(A,c,p),p=p.sibling}function a4(A,c,p){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Te,p)}catch{}switch(p.tag){case 26:vi||qo(p,c),WA(A,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:vi||qo(p,c);var m=Pn,B=as;sc(p.type)&&(Pn=p.stateNode,as=!1),WA(A,c,p),d0(p.stateNode),Pn=m,as=B;break;case 5:vi||qo(p,c);case 6:if(m=Pn,B=as,Pn=null,WA(A,c,p),Pn=m,as=B,Pn!==null)if(as)try{(Pn.nodeType===9?Pn.body:Pn.nodeName==="HTML"?Pn.ownerDocument.body:Pn).removeChild(p.stateNode)}catch(S){$t(p,c,S)}else try{Pn.removeChild(p.stateNode)}catch(S){$t(p,c,S)}break;case 18:Pn!==null&&(as?(A=Pn,J4(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,p.stateNode),lg(A)):J4(Pn,p.stateNode));break;case 4:m=Pn,B=as,Pn=p.stateNode.containerInfo,as=!0,WA(A,c,p),Pn=m,as=B;break;case 0:case 11:case 14:case 15:Ju(2,p,c),vi||Ju(4,p,c),WA(A,c,p);break;case 1:vi||(qo(p,c),m=p.stateNode,typeof m.componentWillUnmount=="function"&&ZH(p,c,m)),WA(A,c,p);break;case 21:WA(A,c,p);break;case 22:vi=(m=vi)||p.memoizedState!==null,WA(A,c,p),vi=m;break;default:WA(A,c,p)}}function o4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{lg(A)}catch(p){$t(c,c.return,p)}}}function A4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{lg(A)}catch(p){$t(c,c.return,p)}}function Wte(A){switch(A.tag){case 31:case 13:case 19:var c=A.stateNode;return c===null&&(c=A.stateNode=new i4),c;case 22:return A=A.stateNode,c=A._retryCache,c===null&&(c=A._retryCache=new i4),c;default:throw Error(i(435,A.tag))}}function AS(A,c){var p=Wte(A);c.forEach(function(m){if(!p.has(m)){p.add(m);var B=rne.bind(null,A,m);m.then(B,B)}})}function os(A,c){var p=c.deletions;if(p!==null)for(var m=0;m<p.length;m++){var B=p[m],S=A,N=c,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(sc(O.type)){Pn=O.stateNode,as=!1;break e}break;case 5:Pn=O.stateNode,as=!1;break e;case 3:case 4:Pn=O.stateNode.containerInfo,as=!0;break e}O=O.return}if(Pn===null)throw Error(i(160));a4(S,N,B),Pn=null,as=!1,S=B.alternate,S!==null&&(S.return=null),B.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)l4(c,A),c=c.sibling}var lo=null;function l4(A,c){var p=A.alternate,m=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:os(c,A),As(A),m&4&&(Ju(3,A,A.return),n0(3,A),Ju(5,A,A.return));break;case 1:os(c,A),As(A),m&512&&(vi||p===null||qo(p,p.return)),m&64&&jA&&(A=A.updateQueue,A!==null&&(m=A.callbacks,m!==null&&(p=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=p===null?m:p.concat(m))));break;case 26:var B=lo;if(os(c,A),As(A),m&512&&(vi||p===null||qo(p,p.return)),m&4){var S=p!==null?p.memoizedState:null;if(m=A.memoizedState,p===null)if(m===null)if(A.stateNode===null){e:{m=A.type,p=A.memoizedProps,B=B.ownerDocument||B;t:switch(m){case"title":S=B.getElementsByTagName("title")[0],(!S||S[tf]||S[Ti]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=B.createElement(m),B.head.insertBefore(S,B.querySelector("head > title"))),Ar(S,m,p),S[Ti]=A,hi(S),m=S;break e;case"link":var N=lV("link","href",B).get(m+(p.href||""));if(N){for(var O=0;O<N.length;O++)if(S=N[O],S.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&S.getAttribute("rel")===(p.rel==null?null:p.rel)&&S.getAttribute("title")===(p.title==null?null:p.title)&&S.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){N.splice(O,1);break t}}S=B.createElement(m),Ar(S,m,p),B.head.appendChild(S);break;case"meta":if(N=lV("meta","content",B).get(m+(p.content||""))){for(O=0;O<N.length;O++)if(S=N[O],S.getAttribute("content")===(p.content==null?null:""+p.content)&&S.getAttribute("name")===(p.name==null?null:p.name)&&S.getAttribute("property")===(p.property==null?null:p.property)&&S.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&S.getAttribute("charset")===(p.charSet==null?null:p.charSet)){N.splice(O,1);break t}}S=B.createElement(m),Ar(S,m,p),B.head.appendChild(S);break;default:throw Error(i(468,m))}S[Ti]=A,hi(S),m=S}A.stateNode=m}else uV(B,A.type,A.stateNode);else A.stateNode=AV(B,m,A.memoizedProps);else S!==m?(S===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):S.count--,m===null?uV(B,A.type,A.stateNode):AV(B,m,A.memoizedProps)):m===null&&A.stateNode!==null&&aU(A,A.memoizedProps,p.memoizedProps)}break;case 27:os(c,A),As(A),m&512&&(vi||p===null||qo(p,p.return)),p!==null&&m&4&&aU(A,A.memoizedProps,p.memoizedProps);break;case 5:if(os(c,A),As(A),m&512&&(vi||p===null||qo(p,p.return)),A.flags&32){B=A.stateNode;try{Mp(B,"")}catch(He){$t(A,A.return,He)}}m&4&&A.stateNode!=null&&(B=A.memoizedProps,aU(A,B,p!==null?p.memoizedProps:B)),m&1024&&(lU=!0);break;case 6:if(os(c,A),As(A),m&4){if(A.stateNode===null)throw Error(i(162));m=A.memoizedProps,p=A.stateNode;try{p.nodeValue=m}catch(He){$t(A,A.return,He)}}break;case 3:if(ES=null,B=lo,lo=CS(c.containerInfo),os(c,A),lo=B,As(A),m&4&&p!==null&&p.memoizedState.isDehydrated)try{lg(c.containerInfo)}catch(He){$t(A,A.return,He)}lU&&(lU=!1,u4(A));break;case 4:m=lo,lo=CS(A.stateNode.containerInfo),os(c,A),As(A),lo=m;break;case 12:os(c,A),As(A);break;case 31:os(c,A),As(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,AS(A,m)));break;case 13:os(c,A),As(A),A.child.flags&8192&&A.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(uS=Z()),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,AS(A,m)));break;case 22:B=A.memoizedState!==null;var j=p!==null&&p.memoizedState!==null,te=jA,de=vi;if(jA=te||B,vi=de||j,os(c,A),vi=de,jA=te,As(A),m&8192)e:for(c=A.stateNode,c._visibility=B?c._visibility&-2:c._visibility|1,B&&(p===null||j||jA||vi||vf(A)),p=null,c=A;;){if(c.tag===5||c.tag===26){if(p===null){j=p=c;try{if(S=j.stateNode,B)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=j.stateNode;var pe=j.memoizedProps.style,re=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;O.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(He){$t(j,j.return,He)}}}else if(c.tag===6){if(p===null){j=c;try{j.stateNode.nodeValue=B?"":j.memoizedProps}catch(He){$t(j,j.return,He)}}}else if(c.tag===18){if(p===null){j=c;try{var oe=j.stateNode;B?Z4(oe,!0):Z4(j.stateNode,!1)}catch(He){$t(j,j.return,He)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===A)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break e;for(;c.sibling===null;){if(c.return===null||c.return===A)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=A.updateQueue,m!==null&&(p=m.retryQueue,p!==null&&(m.retryQueue=null,AS(A,p))));break;case 19:os(c,A),As(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,AS(A,m)));break;case 30:break;case 21:break;default:os(c,A),As(A)}}function As(A){var c=A.flags;if(c&2){try{for(var p,m=A.return;m!==null;){if(t4(m)){p=m;break}m=m.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var B=p.stateNode,S=oU(A);oS(A,S,B);break;case 5:var N=p.stateNode;p.flags&32&&(Mp(N,""),p.flags&=-33);var O=oU(A);oS(A,O,N);break;case 3:case 4:var j=p.stateNode.containerInfo,te=oU(A);AU(A,te,j);break;default:throw Error(i(161))}}catch(de){$t(A,A.return,de)}A.flags&=-3}c&4096&&(A.flags&=-4097)}function u4(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var c=A;u4(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),A=A.sibling}}function YA(A,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)r4(A,c.alternate,c),c=c.sibling}function vf(A){for(A=A.child;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 14:case 15:Ju(4,c,c.return),vf(c);break;case 1:qo(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&ZH(c,c.return,p),vf(c);break;case 27:d0(c.stateNode);case 26:case 5:qo(c,c.return),vf(c);break;case 22:c.memoizedState===null&&vf(c);break;case 30:vf(c);break;default:vf(c)}A=A.sibling}}function XA(A,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,B=A,S=c,N=S.flags;switch(S.tag){case 0:case 11:case 15:XA(B,S,p),n0(4,S);break;case 1:if(XA(B,S,p),m=S,B=m.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(te){$t(m,m.return,te)}if(m=S,B=m.updateQueue,B!==null){var O=m.stateNode;try{var j=B.shared.hiddenCallbacks;if(j!==null)for(B.shared.hiddenCallbacks=null,B=0;B<j.length;B++)H2(j[B],O)}catch(te){$t(m,m.return,te)}}p&&N&64&&JH(S),i0(S,S.return);break;case 27:n4(S);case 26:case 5:XA(B,S,p),p&&m===null&&N&4&&e4(S),i0(S,S.return);break;case 12:XA(B,S,p);break;case 31:XA(B,S,p),p&&N&4&&o4(B,S);break;case 13:XA(B,S,p),p&&N&4&&A4(B,S);break;case 22:S.memoizedState===null&&XA(B,S,p),i0(S,S.return);break;case 30:break;default:XA(B,S,p)}c=c.sibling}}function uU(A,c){var p=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),A=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(A=c.memoizedState.cachePool.pool),A!==p&&(A!=null&&A.refCount++,p!=null&&Ky(p))}function cU(A,c){A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&Ky(A))}function uo(A,c,p,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)c4(A,c,p,m),c=c.sibling}function c4(A,c,p,m){var B=c.flags;switch(c.tag){case 0:case 11:case 15:uo(A,c,p,m),B&2048&&n0(9,c);break;case 1:uo(A,c,p,m);break;case 3:uo(A,c,p,m),B&2048&&(A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&Ky(A)));break;case 12:if(B&2048){uo(A,c,p,m),A=c.stateNode;try{var S=c.memoizedProps,N=S.id,O=S.onPostCommit;typeof O=="function"&&O(N,c.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(j){$t(c,c.return,j)}}else uo(A,c,p,m);break;case 31:uo(A,c,p,m);break;case 13:uo(A,c,p,m);break;case 23:break;case 22:S=c.stateNode,N=c.alternate,c.memoizedState!==null?S._visibility&2?uo(A,c,p,m):r0(A,c):S._visibility&2?uo(A,c,p,m):(S._visibility|=2,Jp(A,c,p,m,(c.subtreeFlags&10256)!==0||!1)),B&2048&&uU(N,c);break;case 24:uo(A,c,p,m),B&2048&&cU(c.alternate,c);break;default:uo(A,c,p,m)}}function Jp(A,c,p,m,B){for(B=B&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var S=A,N=c,O=p,j=m,te=N.flags;switch(N.tag){case 0:case 11:case 15:Jp(S,N,O,j,B),n0(8,N);break;case 23:break;case 22:var de=N.stateNode;N.memoizedState!==null?de._visibility&2?Jp(S,N,O,j,B):r0(S,N):(de._visibility|=2,Jp(S,N,O,j,B)),B&&te&2048&&uU(N.alternate,N);break;case 24:Jp(S,N,O,j,B),B&&te&2048&&cU(N.alternate,N);break;default:Jp(S,N,O,j,B)}c=c.sibling}}function r0(A,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=A,m=c,B=m.flags;switch(m.tag){case 22:r0(p,m),B&2048&&uU(m.alternate,m);break;case 24:r0(p,m),B&2048&&cU(m.alternate,m);break;default:r0(p,m)}c=c.sibling}}var s0=8192;function Zp(A,c,p){if(A.subtreeFlags&s0)for(A=A.child;A!==null;)d4(A,c,p),A=A.sibling}function d4(A,c,p){switch(A.tag){case 26:Zp(A,c,p),A.flags&s0&&A.memoizedState!==null&&Dne(p,lo,A.memoizedState,A.memoizedProps);break;case 5:Zp(A,c,p);break;case 3:case 4:var m=lo;lo=CS(A.stateNode.containerInfo),Zp(A,c,p),lo=m;break;case 22:A.memoizedState===null&&(m=A.alternate,m!==null&&m.memoizedState!==null?(m=s0,s0=16777216,Zp(A,c,p),s0=m):Zp(A,c,p));break;default:Zp(A,c,p)}}function f4(A){var c=A.alternate;if(c!==null&&(A=c.child,A!==null)){c.child=null;do c=A.sibling,A.sibling=null,A=c;while(A!==null)}}function a0(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];Vi=m,p4(m,A)}f4(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)h4(A),A=A.sibling}function h4(A){switch(A.tag){case 0:case 11:case 15:a0(A),A.flags&2048&&Ju(9,A,A.return);break;case 3:a0(A);break;case 12:a0(A);break;case 22:var c=A.stateNode;A.memoizedState!==null&&c._visibility&2&&(A.return===null||A.return.tag!==13)?(c._visibility&=-3,lS(A)):a0(A);break;default:a0(A)}}function lS(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];Vi=m,p4(m,A)}f4(A)}for(A=A.child;A!==null;){switch(c=A,c.tag){case 0:case 11:case 15:Ju(8,c,c.return),lS(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,lS(c));break;default:lS(c)}A=A.sibling}}function p4(A,c){for(;Vi!==null;){var p=Vi;switch(p.tag){case 0:case 11:case 15:Ju(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var m=p.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ky(p.memoizedState.cache)}if(m=p.child,m!==null)m.return=p,Vi=m;else e:for(p=A;Vi!==null;){m=Vi;var B=m.sibling,S=m.return;if(s4(m),m===p){Vi=null;break e}if(B!==null){B.return=S,Vi=B;break e}Vi=S}}}var Yte={getCacheForType:function(A){var c=ar(pi),p=c.data.get(A);return p===void 0&&(p=A(),c.data.set(A,p)),p},cacheSignal:function(){return ar(pi).controller.signal}},Xte=typeof WeakMap=="function"?WeakMap:Map,Vt=0,hn=null,Bt=null,St=0,qt=0,Ps=null,Zu=!1,eg=!1,dU=!1,JA=0,$n=0,ec=0,yf=0,fU=0,Rs=0,tg=0,o0=null,ls=null,hU=!1,uS=0,g4=0,cS=1/0,dS=null,tc=null,Ii=0,nc=null,ng=null,ZA=0,pU=0,gU=null,m4=null,A0=0,mU=null;function Ds(){return(Vt&2)!==0&&St!==0?St&-St:G.T!==null?BU():yE()}function v4(){if(Rs===0)if((St&536870912)===0||It){var A=ni;ni<<=1,(ni&3932160)===0&&(ni=262144),Rs=A}else Rs=536870912;return A=Us.current,A!==null&&(A.flags|=32),Rs}function us(A,c,p){(A===hn&&(qt===2||qt===9)||A.cancelPendingCommit!==null)&&(ig(A,0),ic(A,St,Rs,!1)),Zd(A,p),((Vt&2)===0||A!==hn)&&(A===hn&&((Vt&2)===0&&(yf|=p),$n===4&&ic(A,St,Rs,!1)),$o(A))}function y4(A,c,p){if((Vt&6)!==0)throw Error(i(327));var m=!p&&(c&127)===0&&(c&A.expiredLanes)===0||ku(A,c),B=m?ene(A,c):yU(A,c,!0),S=m;do{if(B===0){eg&&!m&&ic(A,c,0,!1);break}else{if(p=A.current.alternate,S&&!Jte(p)){B=yU(A,c,!1),S=!1;continue}if(B===2){if(S=c,A.errorRecoveryDisabledLanes&S)var N=0;else N=A.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){c=N;e:{var O=A;B=o0;var j=O.current.memoizedState.isDehydrated;if(j&&(ig(O,N).flags|=256),N=yU(O,N,!1),N!==2){if(dU&&!j){O.errorRecoveryDisabledLanes|=S,yf|=S,B=4;break e}S=ls,ls=B,S!==null&&(ls===null?ls=S:ls.push.apply(ls,S))}B=N}if(S=!1,B!==2)continue}}if(B===1){ig(A,0),ic(A,c,0,!0);break}e:{switch(m=A,S=B,S){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:ic(m,c,Rs,!Zu);break e;case 2:ls=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(B=uS+300-Z(),10<B)){if(ic(m,c,Rs,!Zu),rs(m,0,!0)!==0)break e;ZA=c,m.timeoutHandle=Y4(w4.bind(null,m,p,ls,dS,hU,c,Rs,yf,tg,Zu,S,"Throttled",-0,0),B);break e}w4(m,p,ls,dS,hU,c,Rs,yf,tg,Zu,S,null,-0,0)}}break}while(!0);$o(A)}function w4(A,c,p,m,B,S,N,O,j,te,de,pe,re,oe){if(A.timeoutHandle=-1,pe=c.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:QA},d4(c,S,pe);var He=(S&62914560)===S?uS-Z():(S&4194048)===S?g4-Z():0;if(He=Nne(pe,He),He!==null){ZA=S,A.cancelPendingCommit=He(T4.bind(null,A,c,S,p,m,B,N,O,j,de,pe,null,re,oe)),ic(A,S,N,!te);return}}T4(A,c,S,p,m,B,N,O,j)}function Jte(A){for(var c=A;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var m=0;m<p.length;m++){var B=p[m],S=B.getSnapshot;B=B.value;try{if(!Is(S(),B))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ic(A,c,p,m){c&=~fU,c&=~yf,A.suspendedLanes|=c,A.pingedLanes&=~c,m&&(A.warmLanes|=c),m=A.expirationTimes;for(var B=c;0<B;){var S=31-Se(B),N=1<<S;m[S]=-1,B&=~N}p!==0&&gE(A,p,c)}function fS(){return(Vt&6)===0?(l0(0),!1):!0}function vU(){if(Bt!==null){if(qt===0)var A=Bt.return;else A=Bt,VA=uf=null,RF(A),$p=null,zy=0,A=Bt;for(;A!==null;)XH(A.alternate,A),A=A.return;Bt=null}}function ig(A,c){var p=A.timeoutHandle;p!==-1&&(A.timeoutHandle=-1,vne(p)),p=A.cancelPendingCommit,p!==null&&(A.cancelPendingCommit=null,p()),ZA=0,vU(),hn=A,Bt=p=OA(A.current,null),St=c,qt=0,Ps=null,Zu=!1,eg=ku(A,c),dU=!1,tg=Rs=fU=yf=ec=$n=0,ls=o0=null,hU=!1,(c&8)!==0&&(c|=c&32);var m=A.entangledLanes;if(m!==0)for(A=A.entanglements,m&=c;0<m;){var B=31-Se(m),S=1<<B;c|=A[B],m&=~S}return JA=c,RE(),p}function b4(A,c){ft=null,G.H=Zy,c===qp||c===VE?(c=L2(),qt=3):c===CF?(c=L2(),qt=4):qt=c===YF?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ps=c,Bt===null&&($n=1,nS(A,ya(c,A.current)))}function C4(){var A=Us.current;return A===null?!0:(St&4194048)===St?Ba===null:(St&62914560)===St||(St&536870912)!==0?A===Ba:!1}function B4(){var A=G.H;return G.H=Zy,A===null?Zy:A}function E4(){var A=G.A;return G.A=Yte,A}function hS(){$n=4,Zu||(St&4194048)!==St&&Us.current!==null||(eg=!0),(ec&134217727)===0&&(yf&134217727)===0||hn===null||ic(hn,St,Rs,!1)}function yU(A,c,p){var m=Vt;Vt|=2;var B=B4(),S=E4();(hn!==A||St!==c)&&(dS=null,ig(A,c)),c=!1;var N=$n;e:do try{if(qt!==0&&Bt!==null){var O=Bt,j=Ps;switch(qt){case 8:vU(),N=6;break e;case 3:case 2:case 9:case 6:Us.current===null&&(c=!0);var te=qt;if(qt=0,Ps=null,rg(A,O,j,te),p&&eg){N=0;break e}break;default:te=qt,qt=0,Ps=null,rg(A,O,j,te)}}Zte(),N=$n;break}catch(de){b4(A,de)}while(!0);return c&&A.shellSuspendCounter++,VA=uf=null,Vt=m,G.H=B,G.A=S,Bt===null&&(hn=null,St=0,RE()),N}function Zte(){for(;Bt!==null;)S4(Bt)}function ene(A,c){var p=Vt;Vt|=2;var m=B4(),B=E4();hn!==A||St!==c?(dS=null,cS=Z()+500,ig(A,c)):eg=ku(A,c);e:do try{if(qt!==0&&Bt!==null){c=Bt;var S=Ps;t:switch(qt){case 1:qt=0,Ps=null,rg(A,c,S,1);break;case 2:case 9:if(D2(S)){qt=0,Ps=null,x4(c);break}c=function(){qt!==2&&qt!==9||hn!==A||(qt=7),$o(A)},S.then(c,c);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:D2(S)?(qt=0,Ps=null,x4(c)):(qt=0,Ps=null,rg(A,c,S,7));break;case 5:var N=null;switch(Bt.tag){case 26:N=Bt.memoizedState;case 5:case 27:var O=Bt;if(N?cV(N):O.stateNode.complete){qt=0,Ps=null;var j=O.sibling;if(j!==null)Bt=j;else{var te=O.return;te!==null?(Bt=te,pS(te)):Bt=null}break t}}qt=0,Ps=null,rg(A,c,S,5);break;case 6:qt=0,Ps=null,rg(A,c,S,6);break;case 8:vU(),$n=6;break e;default:throw Error(i(462))}}tne();break}catch(de){b4(A,de)}while(!0);return VA=uf=null,G.H=m,G.A=B,Vt=p,Bt!==null?0:(hn=null,St=0,RE(),$n)}function tne(){for(;Bt!==null&&!pa();)S4(Bt)}function S4(A){var c=WH(A.alternate,A,JA);A.memoizedProps=A.pendingProps,c===null?pS(A):Bt=c}function x4(A){var c=A,p=c.alternate;switch(c.tag){case 15:case 0:c=KH(p,c,c.pendingProps,c.type,void 0,St);break;case 11:c=KH(p,c,c.pendingProps,c.type.render,c.ref,St);break;case 5:RF(c);default:XH(p,c),c=Bt=E2(c,JA),c=WH(p,c,JA)}A.memoizedProps=A.pendingProps,c===null?pS(A):Bt=c}function rg(A,c,p,m){VA=uf=null,RF(c),$p=null,zy=0;var B=c.return;try{if(Kte(A,B,c,p,St)){$n=1,nS(A,ya(p,A.current)),Bt=null;return}}catch(S){if(B!==null)throw Bt=B,S;$n=1,nS(A,ya(p,A.current)),Bt=null;return}c.flags&32768?(It||m===1?A=!0:eg||(St&536870912)!==0?A=!1:(Zu=A=!0,(m===2||m===9||m===3||m===6)&&(m=Us.current,m!==null&&m.tag===13&&(m.flags|=16384))),_4(c,A)):pS(c)}function pS(A){var c=A;do{if((c.flags&32768)!==0){_4(c,Zu);return}A=c.return;var p=qte(c.alternate,c,JA);if(p!==null){Bt=p;return}if(c=c.sibling,c!==null){Bt=c;return}Bt=c=A}while(c!==null);$n===0&&($n=5)}function _4(A,c){do{var p=$te(A.alternate,A);if(p!==null){p.flags&=32767,Bt=p;return}if(p=A.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(A=A.sibling,A!==null)){Bt=A;return}Bt=A=p}while(A!==null);$n=6,Bt=null}function T4(A,c,p,m,B,S,N,O,j){A.cancelPendingCommit=null;do gS();while(Ii!==0);if((Vt&6)!==0)throw Error(i(327));if(c!==null){if(c===A.current)throw Error(i(177));if(S=c.lanes|c.childLanes,S|=oF,QI(A,p,S,N,O,j),A===hn&&(Bt=hn=null,St=0),ng=c,nc=A,ZA=p,pU=S,gU=B,m4=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,sne(qe,function(){return P4(),null})):(A.callbackNode=null,A.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,B=$.p,$.p=2,N=Vt,Vt|=4;try{jte(A,c,p)}finally{Vt=N,$.p=B,G.T=m}}Ii=1,I4(),F4(),U4()}}function I4(){if(Ii===1){Ii=0;var A=nc,c=ng,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=G.T,G.T=null;var m=$.p;$.p=2;var B=Vt;Vt|=4;try{l4(c,A);var S=UU,N=p2(A.containerInfo),O=S.focusedElem,j=S.selectionRange;if(N!==O&&O&&O.ownerDocument&&h2(O.ownerDocument.documentElement,O)){if(j!==null&&nF(O)){var te=j.start,de=j.end;if(de===void 0&&(de=te),"selectionStart"in O)O.selectionStart=te,O.selectionEnd=Math.min(de,O.value.length);else{var pe=O.ownerDocument||document,re=pe&&pe.defaultView||window;if(re.getSelection){var oe=re.getSelection(),He=O.textContent.length,nt=Math.min(j.start,He),nn=j.end===void 0?nt:Math.min(j.end,He);!oe.extend&&nt>nn&&(N=nn,nn=nt,nt=N);var Y=f2(O,nt),W=f2(O,nn);if(Y&&W&&(oe.rangeCount!==1||oe.anchorNode!==Y.node||oe.anchorOffset!==Y.offset||oe.focusNode!==W.node||oe.focusOffset!==W.offset)){var ee=pe.createRange();ee.setStart(Y.node,Y.offset),oe.removeAllRanges(),nt>nn?(oe.addRange(ee),oe.extend(W.node,W.offset)):(ee.setEnd(W.node,W.offset),oe.addRange(ee))}}}}for(pe=[],oe=O;oe=oe.parentNode;)oe.nodeType===1&&pe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<pe.length;O++){var fe=pe[O];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}TS=!!FU,UU=FU=null}finally{Vt=B,$.p=m,G.T=p}}A.current=c,Ii=2}}function F4(){if(Ii===2){Ii=0;var A=nc,c=ng,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=G.T,G.T=null;var m=$.p;$.p=2;var B=Vt;Vt|=4;try{r4(A,c.alternate,c)}finally{Vt=B,$.p=m,G.T=p}}Ii=3}}function U4(){if(Ii===4||Ii===3){Ii=0,_e();var A=nc,c=ng,p=ZA,m=m4;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ii=5:(Ii=0,ng=nc=null,M4(A,A.pendingLanes));var B=A.pendingLanes;if(B===0&&(tc=null),Iy(p),c=c.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Te,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=G.T,B=$.p,$.p=2,G.T=null;try{for(var S=A.onRecoverableError,N=0;N<m.length;N++){var O=m[N];S(O.value,{componentStack:O.stack})}}finally{G.T=c,$.p=B}}(ZA&3)!==0&&gS(),$o(A),B=A.pendingLanes,(p&261930)!==0&&(B&42)!==0?A===mU?A0++:(A0=0,mU=A):A0=0,l0(0)}}function M4(A,c){(A.pooledCacheLanes&=c)===0&&(c=A.pooledCache,c!=null&&(A.pooledCache=null,Ky(c)))}function gS(){return I4(),F4(),U4(),P4()}function P4(){if(Ii!==5)return!1;var A=nc,c=pU;pU=0;var p=Iy(ZA),m=G.T,B=$.p;try{$.p=32>p?32:p,G.T=null,p=gU,gU=null;var S=nc,N=ZA;if(Ii=0,ng=nc=null,ZA=0,(Vt&6)!==0)throw Error(i(331));var O=Vt;if(Vt|=4,h4(S.current),c4(S,S.current,N,p),Vt=O,l0(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Te,S)}catch{}return!0}finally{$.p=B,G.T=m,M4(A,c)}}function R4(A,c,p){c=ya(p,c),c=WF(A.stateNode,c,2),A=Wu(A,c,2),A!==null&&(Zd(A,2),$o(A))}function $t(A,c,p){if(A.tag===3)R4(A,A,p);else for(;c!==null;){if(c.tag===3){R4(c,A,p);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(tc===null||!tc.has(m))){A=ya(p,A),p=DH(2),m=Wu(c,p,2),m!==null&&(NH(p,m,c,A),Zd(m,2),$o(m));break}}c=c.return}}function wU(A,c,p){var m=A.pingCache;if(m===null){m=A.pingCache=new Xte;var B=new Set;m.set(c,B)}else B=m.get(c),B===void 0&&(B=new Set,m.set(c,B));B.has(p)||(dU=!0,B.add(p),A=nne.bind(null,A,c,p),c.then(A,A))}function nne(A,c,p){var m=A.pingCache;m!==null&&m.delete(c),A.pingedLanes|=A.suspendedLanes&p,A.warmLanes&=~p,hn===A&&(St&p)===p&&($n===4||$n===3&&(St&62914560)===St&&300>Z()-uS?(Vt&2)===0&&ig(A,0):fU|=p,tg===St&&(tg=0)),$o(A)}function D4(A,c){c===0&&(c=_y()),A=of(A,c),A!==null&&(Zd(A,c),$o(A))}function ine(A){var c=A.memoizedState,p=0;c!==null&&(p=c.retryLane),D4(A,p)}function rne(A,c){var p=0;switch(A.tag){case 31:case 13:var m=A.stateNode,B=A.memoizedState;B!==null&&(p=B.retryLane);break;case 19:m=A.stateNode;break;case 22:m=A.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(c),D4(A,p)}function sne(A,c){return _i(A,c)}var mS=null,sg=null,bU=!1,vS=!1,CU=!1,rc=0;function $o(A){A!==sg&&A.next===null&&(sg===null?mS=sg=A:sg=sg.next=A),vS=!0,bU||(bU=!0,one())}function l0(A,c){if(!CU&&vS){CU=!0;do for(var p=!1,m=mS;m!==null;){if(A!==0){var B=m.pendingLanes;if(B===0)var S=0;else{var N=m.suspendedLanes,O=m.pingedLanes;S=(1<<31-Se(42|A)+1)-1,S&=B&~(N&~O),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(p=!0,k4(m,S))}else S=St,S=rs(m,m===hn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||ku(m,S)||(p=!0,k4(m,S));m=m.next}while(p);CU=!1}}function ane(){N4()}function N4(){vS=bU=!1;var A=0;rc!==0&&mne()&&(A=rc);for(var c=Z(),p=null,m=mS;m!==null;){var B=m.next,S=L4(m,c);S===0?(m.next=null,p===null?mS=B:p.next=B,B===null&&(sg=p)):(p=m,(A!==0||(S&3)!==0)&&(vS=!0)),m=B}Ii!==0&&Ii!==5||l0(A),rc!==0&&(rc=0)}function L4(A,c){for(var p=A.suspendedLanes,m=A.pingedLanes,B=A.expirationTimes,S=A.pendingLanes&-62914561;0<S;){var N=31-Se(S),O=1<<N,j=B[N];j===-1?((O&p)===0||(O&m)!==0)&&(B[N]=pE(O,c)):j<=c&&(A.expiredLanes|=O),S&=~O}if(c=hn,p=St,p=rs(A,A===c?p:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m=A.callbackNode,p===0||A===c&&(qt===2||qt===9)||A.cancelPendingCommit!==null)return m!==null&&m!==null&&Zt(m),A.callbackNode=null,A.callbackPriority=0;if((p&3)===0||ku(A,p)){if(c=p&-p,c===A.callbackPriority)return c;switch(m!==null&&Zt(m),Iy(p)){case 2:case 8:p=bt;break;case 32:p=qe;break;case 268435456:p=we;break;default:p=qe}return m=Q4.bind(null,A),p=_i(p,m),A.callbackPriority=c,A.callbackNode=p,c}return m!==null&&m!==null&&Zt(m),A.callbackPriority=2,A.callbackNode=null,2}function Q4(A,c){if(Ii!==0&&Ii!==5)return A.callbackNode=null,A.callbackPriority=0,null;var p=A.callbackNode;if(gS()&&A.callbackNode!==p)return null;var m=St;return m=rs(A,A===hn?m:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m===0?null:(y4(A,m,c),L4(A,Z()),A.callbackNode!=null&&A.callbackNode===p?Q4.bind(null,A):null)}function k4(A,c){if(gS())return null;y4(A,c,!0)}function one(){yne(function(){(Vt&6)!==0?_i(Re,ane):N4()})}function BU(){if(rc===0){var A=Gp;A===0&&(A=Sr,Sr<<=1,(Sr&261888)===0&&(Sr=256)),rc=A}return rc}function O4(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:xE(""+A)}function H4(A,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,A.id&&p.setAttribute("form",A.id),c.parentNode.insertBefore(p,c),A=new FormData(A),p.parentNode.removeChild(p),A}function Ane(A,c,p,m,B){if(c==="submit"&&p&&p.stateNode===B){var S=O4((B[xr]||null).action),N=m.submitter;N&&(c=(c=N[xr]||null)?O4(c.formAction):N.getAttribute("formAction"),c!==null&&(S=c,N=null));var O=new FE("action","action",null,m,B);A.push({event:O,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(rc!==0){var j=N?H4(B,N):new FormData(B);KF(p,{pending:!0,data:j,method:B.method,action:S},null,j)}}else typeof S=="function"&&(O.preventDefault(),j=N?H4(B,N):new FormData(B),KF(p,{pending:!0,data:j,method:B.method,action:S},S,j))},currentTarget:B}]})}}for(var EU=0;EU<aF.length;EU++){var SU=aF[EU],lne=SU.toLowerCase(),une=SU[0].toUpperCase()+SU.slice(1);Ao(lne,"on"+une)}Ao(v2,"onAnimationEnd"),Ao(y2,"onAnimationIteration"),Ao(w2,"onAnimationStart"),Ao("dblclick","onDoubleClick"),Ao("focusin","onFocus"),Ao("focusout","onBlur"),Ao(xte,"onTransitionRun"),Ao(_te,"onTransitionStart"),Ao(Tte,"onTransitionCancel"),Ao(b2,"onTransitionEnd"),De("onMouseEnter",["mouseout","mouseover"]),De("onMouseLeave",["mouseout","mouseover"]),De("onPointerEnter",["pointerout","pointerover"]),De("onPointerLeave",["pointerout","pointerover"]),he("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),he("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),he("onBeforeInput",["compositionend","keypress","textInput","paste"]),he("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),he("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),he("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var u0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cne=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(u0));function V4(A,c){c=(c&4)!==0;for(var p=0;p<A.length;p++){var m=A[p],B=m.event;m=m.listeners;e:{var S=void 0;if(c)for(var N=m.length-1;0<=N;N--){var O=m[N],j=O.instance,te=O.currentTarget;if(O=O.listener,j!==S&&B.isPropagationStopped())break e;S=O,B.currentTarget=te;try{S(B)}catch(de){PE(de)}B.currentTarget=null,S=j}else for(N=0;N<m.length;N++){if(O=m[N],j=O.instance,te=O.currentTarget,O=O.listener,j!==S&&B.isPropagationStopped())break e;S=O,B.currentTarget=te;try{S(B)}catch(de){PE(de)}B.currentTarget=null,S=j}}}}function Et(A,c){var p=c[Fy];p===void 0&&(p=c[Fy]=new Set);var m=A+"__bubble";p.has(m)||(K4(c,A,2,!1),p.add(m))}function xU(A,c,p){var m=0;c&&(m|=4),K4(p,A,m,c)}var yS="_reactListening"+Math.random().toString(36).slice(2);function _U(A){if(!A[yS]){A[yS]=!0,BE.forEach(function(p){p!=="selectionchange"&&(cne.has(p)||xU(p,!1,A),xU(p,!0,A))});var c=A.nodeType===9?A:A.ownerDocument;c===null||c[yS]||(c[yS]=!0,xU("selectionchange",!1,c))}}function K4(A,c,p,m){switch(vV(c)){case 2:var B=kne;break;case 8:B=One;break;default:B=VU}p=B.bind(null,c,p,A),B=void 0,!$I||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(B=!0),m?B!==void 0?A.addEventListener(c,p,{capture:!0,passive:B}):A.addEventListener(c,p,!0):B!==void 0?A.addEventListener(c,p,{passive:B}):A.addEventListener(c,p,!1)}function TU(A,c,p,m,B){var S=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var O=m.stateNode.containerInfo;if(O===B)break;if(N===4)for(N=m.return;N!==null;){var j=N.tag;if((j===3||j===4)&&N.stateNode.containerInfo===B)return;N=N.return}for(;O!==null;){if(N=Ko(O),N===null)return;if(j=N.tag,j===5||j===6||j===26||j===27){m=S=N;continue e}O=O.parentNode}}m=m.return}jO(function(){var te=S,de=zI(p),pe=[];e:{var re=C2.get(A);if(re!==void 0){var oe=FE,He=A;switch(A){case"keypress":if(TE(p)===0)break e;case"keydown":case"keyup":oe=rte;break;case"focusin":He="focus",oe=XI;break;case"focusout":He="blur",oe=XI;break;case"beforeblur":case"afterblur":oe=XI;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=XO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=qee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=ote;break;case v2:case y2:case w2:oe=Wee;break;case b2:oe=lte;break;case"scroll":case"scrollend":oe=Gee;break;case"wheel":oe=cte;break;case"copy":case"cut":case"paste":oe=Xee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=ZO;break;case"toggle":case"beforetoggle":oe=fte}var nt=(c&4)!==0,nn=!nt&&(A==="scroll"||A==="scrollend"),Y=nt?re!==null?re+"Capture":null:re;nt=[];for(var W=te,ee;W!==null;){var fe=W;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||Y===null||(fe=My(W,Y),fe!=null&&nt.push(c0(W,fe,ee))),nn)break;W=W.return}0<nt.length&&(re=new oe(re,He,null,p,de),pe.push({event:re,listeners:nt}))}}if((c&7)===0){e:{if(re=A==="mouseover"||A==="pointerover",oe=A==="mouseout"||A==="pointerout",re&&p!==GI&&(He=p.relatedTarget||p.fromElement)&&(Ko(He)||He[Ou]))break e;if((oe||re)&&(re=de.window===de?de:(re=de.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(He=p.relatedTarget||p.toElement,oe=te,He=He?Ko(He):null,He!==null&&(nn=s(He),nt=He.tag,He!==nn||nt!==5&&nt!==27&&nt!==6)&&(He=null)):(oe=null,He=te),oe!==He)){if(nt=XO,fe="onMouseLeave",Y="onMouseEnter",W="mouse",(A==="pointerout"||A==="pointerover")&&(nt=ZO,fe="onPointerLeave",Y="onPointerEnter",W="pointer"),nn=oe==null?re:nf(oe),ee=He==null?re:nf(He),re=new nt(fe,W+"leave",oe,p,de),re.target=nn,re.relatedTarget=ee,fe=null,Ko(de)===te&&(nt=new nt(Y,W+"enter",He,p,de),nt.target=ee,nt.relatedTarget=nn,fe=nt),nn=fe,oe&&He)t:{for(nt=dne,Y=oe,W=He,ee=0,fe=Y;fe;fe=nt(fe))ee++;fe=0;for(var et=W;et;et=nt(et))fe++;for(;0<ee-fe;)Y=nt(Y),ee--;for(;0<fe-ee;)W=nt(W),fe--;for(;ee--;){if(Y===W||W!==null&&Y===W.alternate){nt=Y;break t}Y=nt(Y),W=nt(W)}nt=null}else nt=null;oe!==null&&G4(pe,re,oe,nt,!1),He!==null&&nn!==null&&G4(pe,nn,He,nt,!0)}}e:{if(re=te?nf(te):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var Lt=o2;else if(s2(re))if(A2)Lt=Bte;else{Lt=bte;var $e=wte}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&KI(te.elementType)&&(Lt=o2):Lt=Cte;if(Lt&&(Lt=Lt(A,te))){a2(pe,Lt,p,de);break e}$e&&$e(A,re,te),A==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&VI(re,"number",re.value)}switch($e=te?nf(te):window,A){case"focusin":(s2($e)||$e.contentEditable==="true")&&(Np=$e,iF=te,Oy=null);break;case"focusout":Oy=iF=Np=null;break;case"mousedown":rF=!0;break;case"contextmenu":case"mouseup":case"dragend":rF=!1,g2(pe,p,de);break;case"selectionchange":if(Ste)break;case"keydown":case"keyup":g2(pe,p,de)}var gt;if(ZI)e:{switch(A){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else Dp?i2(A,p)&&(xt="onCompositionEnd"):A==="keydown"&&p.keyCode===229&&(xt="onCompositionStart");xt&&(e2&&p.locale!=="ko"&&(Dp||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Dp&&(gt=WO()):(Vu=de,jI="value"in Vu?Vu.value:Vu.textContent,Dp=!0)),$e=wS(te,xt),0<$e.length&&(xt=new JO(xt,A,null,p,de),pe.push({event:xt,listeners:$e}),gt?xt.data=gt:(gt=r2(p),gt!==null&&(xt.data=gt)))),(gt=pte?gte(A,p):mte(A,p))&&(xt=wS(te,"onBeforeInput"),0<xt.length&&($e=new JO("onBeforeInput","beforeinput",null,p,de),pe.push({event:$e,listeners:xt}),$e.data=gt)),Ane(pe,A,te,p,de)}V4(pe,c)})}function c0(A,c,p){return{instance:A,listener:c,currentTarget:p}}function wS(A,c){for(var p=c+"Capture",m=[];A!==null;){var B=A,S=B.stateNode;if(B=B.tag,B!==5&&B!==26&&B!==27||S===null||(B=My(A,p),B!=null&&m.unshift(c0(A,B,S)),B=My(A,c),B!=null&&m.push(c0(A,B,S))),A.tag===3)return m;A=A.return}return[]}function dne(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function G4(A,c,p,m,B){for(var S=c._reactName,N=[];p!==null&&p!==m;){var O=p,j=O.alternate,te=O.stateNode;if(O=O.tag,j!==null&&j===m)break;O!==5&&O!==26&&O!==27||te===null||(j=te,B?(te=My(p,S),te!=null&&N.unshift(c0(p,te,j))):B||(te=My(p,S),te!=null&&N.push(c0(p,te,j)))),p=p.return}N.length!==0&&A.push({event:c,listeners:N})}var fne=/\r\n?/g,hne=/\u0000|\uFFFD/g;function z4(A){return(typeof A=="string"?A:""+A).replace(fne,`
`).replace(hne,"")}function q4(A,c){return c=z4(c),z4(A)===c}function tn(A,c,p,m,B,S){switch(p){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Mp(A,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Mp(A,""+m);break;case"className":fn(A,"class",m);break;case"tabIndex":fn(A,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(A,p,m);break;case"style":qO(A,m,S);break;case"data":if(c!=="object"){fn(A,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||p!=="href")){A.removeAttribute(p);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=xE(""+m),A.setAttribute(p,m);break;case"action":case"formAction":if(typeof m=="function"){A.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(p==="formAction"?(c!=="input"&&tn(A,c,"name",B.name,B,null),tn(A,c,"formEncType",B.formEncType,B,null),tn(A,c,"formMethod",B.formMethod,B,null),tn(A,c,"formTarget",B.formTarget,B,null)):(tn(A,c,"encType",B.encType,B,null),tn(A,c,"method",B.method,B,null),tn(A,c,"target",B.target,B,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=xE(""+m),A.setAttribute(p,m);break;case"onClick":m!=null&&(A.onclick=QA);break;case"onScroll":m!=null&&Et("scroll",A);break;case"onScrollEnd":m!=null&&Et("scrollend",A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(p=m.__html,p!=null){if(B.children!=null)throw Error(i(60));A.innerHTML=p}}break;case"multiple":A.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":A.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){A.removeAttribute("xlink:href");break}p=xE(""+m),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""+m):A.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""):A.removeAttribute(p);break;case"capture":case"download":m===!0?A.setAttribute(p,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,m):A.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?A.setAttribute(p,m):A.removeAttribute(p);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?A.removeAttribute(p):A.setAttribute(p,m);break;case"popover":Et("beforetoggle",A),Et("toggle",A),ii(A,"popover",m);break;case"xlinkActuate":rr(A,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":rr(A,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":rr(A,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":rr(A,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":rr(A,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":rr(A,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":rr(A,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":rr(A,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":rr(A,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ii(A,"is",m);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Vee.get(p)||p,ii(A,p,m))}}function IU(A,c,p,m,B,S){switch(p){case"style":qO(A,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(p=m.__html,p!=null){if(B.children!=null)throw Error(i(60));A.innerHTML=p}}break;case"children":typeof m=="string"?Mp(A,m):(typeof m=="number"||typeof m=="bigint")&&Mp(A,""+m);break;case"onScroll":m!=null&&Et("scroll",A);break;case"onScrollEnd":m!=null&&Et("scrollend",A);break;case"onClick":m!=null&&(A.onclick=QA);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!EE.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(B=p.endsWith("Capture"),c=p.slice(2,B?p.length-7:void 0),S=A[xr]||null,S=S!=null?S[p]:null,typeof S=="function"&&A.removeEventListener(c,S,B),typeof m=="function")){typeof S!="function"&&S!==null&&(p in A?A[p]=null:A.hasAttribute(p)&&A.removeAttribute(p)),A.addEventListener(c,m,B);break e}p in A?A[p]=m:m===!0?A.setAttribute(p,""):ii(A,p,m)}}}function Ar(A,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",A),Et("load",A);var m=!1,B=!1,S;for(S in p)if(p.hasOwnProperty(S)){var N=p[S];if(N!=null)switch(S){case"src":m=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:tn(A,c,S,N,p,null)}}B&&tn(A,c,"srcSet",p.srcSet,p,null),m&&tn(A,c,"src",p.src,p,null);return;case"input":Et("invalid",A);var O=S=N=B=null,j=null,te=null;for(m in p)if(p.hasOwnProperty(m)){var de=p[m];if(de!=null)switch(m){case"name":B=de;break;case"type":N=de;break;case"checked":j=de;break;case"defaultChecked":te=de;break;case"value":S=de;break;case"defaultValue":O=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,c));break;default:tn(A,c,m,de,p,null)}}VO(A,S,O,j,te,N,B,!1);return;case"select":Et("invalid",A),m=N=S=null;for(B in p)if(p.hasOwnProperty(B)&&(O=p[B],O!=null))switch(B){case"value":S=O;break;case"defaultValue":N=O;break;case"multiple":m=O;default:tn(A,c,B,O,p,null)}c=S,p=N,A.multiple=!!m,c!=null?Up(A,!!m,c,!1):p!=null&&Up(A,!!m,p,!0);return;case"textarea":Et("invalid",A),S=B=m=null;for(N in p)if(p.hasOwnProperty(N)&&(O=p[N],O!=null))switch(N){case"value":m=O;break;case"defaultValue":B=O;break;case"children":S=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:tn(A,c,N,O,p,null)}GO(A,m,B,S);return;case"option":for(j in p)if(p.hasOwnProperty(j)&&(m=p[j],m!=null))switch(j){case"selected":A.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:tn(A,c,j,m,p,null)}return;case"dialog":Et("beforetoggle",A),Et("toggle",A),Et("cancel",A),Et("close",A);break;case"iframe":case"object":Et("load",A);break;case"video":case"audio":for(m=0;m<u0.length;m++)Et(u0[m],A);break;case"image":Et("error",A),Et("load",A);break;case"details":Et("toggle",A);break;case"embed":case"source":case"link":Et("error",A),Et("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in p)if(p.hasOwnProperty(te)&&(m=p[te],m!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:tn(A,c,te,m,p,null)}return;default:if(KI(c)){for(de in p)p.hasOwnProperty(de)&&(m=p[de],m!==void 0&&IU(A,c,de,m,p,void 0));return}}for(O in p)p.hasOwnProperty(O)&&(m=p[O],m!=null&&tn(A,c,O,m,p,null))}function pne(A,c,p,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,S=null,N=null,O=null,j=null,te=null,de=null;for(oe in p){var pe=p[oe];if(p.hasOwnProperty(oe)&&pe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":j=pe;default:m.hasOwnProperty(oe)||tn(A,c,oe,null,m,pe)}}for(var re in m){var oe=m[re];if(pe=p[re],m.hasOwnProperty(re)&&(oe!=null||pe!=null))switch(re){case"type":S=oe;break;case"name":B=oe;break;case"checked":te=oe;break;case"defaultChecked":de=oe;break;case"value":N=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,c));break;default:oe!==pe&&tn(A,c,re,oe,m,pe)}}HI(A,N,O,j,te,de,S,B);return;case"select":oe=N=O=re=null;for(S in p)if(j=p[S],p.hasOwnProperty(S)&&j!=null)switch(S){case"value":break;case"multiple":oe=j;default:m.hasOwnProperty(S)||tn(A,c,S,null,m,j)}for(B in m)if(S=m[B],j=p[B],m.hasOwnProperty(B)&&(S!=null||j!=null))switch(B){case"value":re=S;break;case"defaultValue":O=S;break;case"multiple":N=S;default:S!==j&&tn(A,c,B,S,m,j)}c=O,p=N,m=oe,re!=null?Up(A,!!p,re,!1):!!m!=!!p&&(c!=null?Up(A,!!p,c,!0):Up(A,!!p,p?[]:"",!1));return;case"textarea":oe=re=null;for(O in p)if(B=p[O],p.hasOwnProperty(O)&&B!=null&&!m.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:tn(A,c,O,null,m,B)}for(N in m)if(B=m[N],S=p[N],m.hasOwnProperty(N)&&(B!=null||S!=null))switch(N){case"value":re=B;break;case"defaultValue":oe=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:B!==S&&tn(A,c,N,B,m,S)}KO(A,re,oe);return;case"option":for(var He in p)if(re=p[He],p.hasOwnProperty(He)&&re!=null&&!m.hasOwnProperty(He))switch(He){case"selected":A.selected=!1;break;default:tn(A,c,He,null,m,re)}for(j in m)if(re=m[j],oe=p[j],m.hasOwnProperty(j)&&re!==oe&&(re!=null||oe!=null))switch(j){case"selected":A.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:tn(A,c,j,re,m,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in p)re=p[nt],p.hasOwnProperty(nt)&&re!=null&&!m.hasOwnProperty(nt)&&tn(A,c,nt,null,m,re);for(te in m)if(re=m[te],oe=p[te],m.hasOwnProperty(te)&&re!==oe&&(re!=null||oe!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,c));break;default:tn(A,c,te,re,m,oe)}return;default:if(KI(c)){for(var nn in p)re=p[nn],p.hasOwnProperty(nn)&&re!==void 0&&!m.hasOwnProperty(nn)&&IU(A,c,nn,void 0,m,re);for(de in m)re=m[de],oe=p[de],!m.hasOwnProperty(de)||re===oe||re===void 0&&oe===void 0||IU(A,c,de,re,m,oe);return}}for(var Y in p)re=p[Y],p.hasOwnProperty(Y)&&re!=null&&!m.hasOwnProperty(Y)&&tn(A,c,Y,null,m,re);for(pe in m)re=m[pe],oe=p[pe],!m.hasOwnProperty(pe)||re===oe||re==null&&oe==null||tn(A,c,pe,re,m,oe)}function $4(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gne(){if(typeof performance.getEntriesByType=="function"){for(var A=0,c=0,p=performance.getEntriesByType("resource"),m=0;m<p.length;m++){var B=p[m],S=B.transferSize,N=B.initiatorType,O=B.duration;if(S&&O&&$4(N)){for(N=0,O=B.responseEnd,m+=1;m<p.length;m++){var j=p[m],te=j.startTime;if(te>O)break;var de=j.transferSize,pe=j.initiatorType;de&&$4(pe)&&(j=j.responseEnd,N+=de*(j<O?1:(O-te)/(j-te)))}if(--m,c+=8*(S+N)/(B.duration/1e3),A++,10<A)break}}if(0<A)return c/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var FU=null,UU=null;function bS(A){return A.nodeType===9?A:A.ownerDocument}function j4(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W4(A,c){if(A===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&c==="foreignObject"?0:A}function MU(A,c){return A==="textarea"||A==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var PU=null;function mne(){var A=window.event;return A&&A.type==="popstate"?A===PU?!1:(PU=A,!0):(PU=null,!1)}var Y4=typeof setTimeout=="function"?setTimeout:void 0,vne=typeof clearTimeout=="function"?clearTimeout:void 0,X4=typeof Promise=="function"?Promise:void 0,yne=typeof queueMicrotask=="function"?queueMicrotask:typeof X4<"u"?function(A){return X4.resolve(null).then(A).catch(wne)}:Y4;function wne(A){setTimeout(function(){throw A})}function sc(A){return A==="head"}function J4(A,c){var p=c,m=0;do{var B=p.nextSibling;if(A.removeChild(p),B&&B.nodeType===8)if(p=B.data,p==="/$"||p==="/&"){if(m===0){A.removeChild(B),lg(c);return}m--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")m++;else if(p==="html")d0(A.ownerDocument.documentElement);else if(p==="head"){p=A.ownerDocument.head,d0(p);for(var S=p.firstChild;S;){var N=S.nextSibling,O=S.nodeName;S[tf]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&S.rel.toLowerCase()==="stylesheet"||p.removeChild(S),S=N}}else p==="body"&&d0(A.ownerDocument.body);p=B}while(p);lg(c)}function Z4(A,c){var p=A;A=0;do{var m=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),m&&m.nodeType===8)if(p=m.data,p==="/$"){if(A===0)break;A--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||A++;p=m}while(p)}function RU(A){var c=A.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":RU(p),Uy(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}A.removeChild(p)}}function bne(A,c,p,m){for(;A.nodeType===1;){var B=p;if(A.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(m){if(!A[tf])switch(c){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(S=A.getAttribute("rel"),S==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(S!==B.rel||A.getAttribute("href")!==(B.href==null||B.href===""?null:B.href)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||A.getAttribute("title")!==(B.title==null?null:B.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(S=A.getAttribute("src"),(S!==(B.src==null?null:B.src)||A.getAttribute("type")!==(B.type==null?null:B.type)||A.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&S&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(c==="input"&&A.type==="hidden"){var S=B.name==null?null:""+B.name;if(B.type==="hidden"&&A.getAttribute("name")===S)return A}else return A;if(A=Ea(A.nextSibling),A===null)break}return null}function Cne(A,c,p){if(c==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!p||(A=Ea(A.nextSibling),A===null))return null;return A}function eV(A,c){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!c||(A=Ea(A.nextSibling),A===null))return null;return A}function DU(A){return A.data==="$?"||A.data==="$~"}function NU(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function Bne(A,c){var p=A.ownerDocument;if(A.data==="$~")A._reactRetry=c;else if(A.data!=="$?"||p.readyState!=="loading")c();else{var m=function(){c(),p.removeEventListener("DOMContentLoaded",m)};p.addEventListener("DOMContentLoaded",m),A._reactRetry=m}}function Ea(A){for(;A!=null;A=A.nextSibling){var c=A.nodeType;if(c===1||c===3)break;if(c===8){if(c=A.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return A}var LU=null;function tV(A){A=A.nextSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="/$"||p==="/&"){if(c===0)return Ea(A.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}A=A.nextSibling}return null}function nV(A){A=A.previousSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return A;c--}else p!=="/$"&&p!=="/&"||c++}A=A.previousSibling}return null}function iV(A,c,p){switch(c=bS(p),A){case"html":if(A=c.documentElement,!A)throw Error(i(452));return A;case"head":if(A=c.head,!A)throw Error(i(453));return A;case"body":if(A=c.body,!A)throw Error(i(454));return A;default:throw Error(i(451))}}function d0(A){for(var c=A.attributes;c.length;)A.removeAttributeNode(c[0]);Uy(A)}var Sa=new Map,rV=new Set;function CS(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var el=$.d;$.d={f:Ene,r:Sne,D:xne,C:_ne,L:Tne,m:Ine,X:Une,S:Fne,M:Mne};function Ene(){var A=el.f(),c=fS();return A||c}function Sne(A){var c=Hu(A);c!==null&&c.tag===5&&c.type==="form"?bH(c):el.r(A)}var ag=typeof document>"u"?null:document;function sV(A,c,p){var m=ag;if(m&&typeof c=="string"&&c){var B=ma(c);B='link[rel="'+A+'"][href="'+B+'"]',typeof p=="string"&&(B+='[crossorigin="'+p+'"]'),rV.has(B)||(rV.add(B),A={rel:A,crossOrigin:p,href:c},m.querySelector(B)===null&&(c=m.createElement("link"),Ar(c,"link",A),hi(c),m.head.appendChild(c)))}}function xne(A){el.D(A),sV("dns-prefetch",A,null)}function _ne(A,c){el.C(A,c),sV("preconnect",A,c)}function Tne(A,c,p){el.L(A,c,p);var m=ag;if(m&&A&&c){var B='link[rel="preload"][as="'+ma(c)+'"]';c==="image"&&p&&p.imageSrcSet?(B+='[imagesrcset="'+ma(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(B+='[imagesizes="'+ma(p.imageSizes)+'"]')):B+='[href="'+ma(A)+'"]';var S=B;switch(c){case"style":S=og(A);break;case"script":S=Ag(A)}Sa.has(S)||(A=h({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:A,as:c},p),Sa.set(S,A),m.querySelector(B)!==null||c==="style"&&m.querySelector(f0(S))||c==="script"&&m.querySelector(h0(S))||(c=m.createElement("link"),Ar(c,"link",A),hi(c),m.head.appendChild(c)))}}function Ine(A,c){el.m(A,c);var p=ag;if(p&&A){var m=c&&typeof c.as=="string"?c.as:"script",B='link[rel="modulepreload"][as="'+ma(m)+'"][href="'+ma(A)+'"]',S=B;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ag(A)}if(!Sa.has(S)&&(A=h({rel:"modulepreload",href:A},c),Sa.set(S,A),p.querySelector(B)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(h0(S)))return}m=p.createElement("link"),Ar(m,"link",A),hi(m),p.head.appendChild(m)}}}function Fne(A,c,p){el.S(A,c,p);var m=ag;if(m&&A){var B=LA(m).hoistableStyles,S=og(A);c=c||"default";var N=B.get(S);if(!N){var O={loading:0,preload:null};if(N=m.querySelector(f0(S)))O.loading=5;else{A=h({rel:"stylesheet",href:A,"data-precedence":c},p),(p=Sa.get(S))&&QU(A,p);var j=N=m.createElement("link");hi(j),Ar(j,"link",A),j._p=new Promise(function(te,de){j.onload=te,j.onerror=de}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,BS(N,c,m)}N={type:"stylesheet",instance:N,count:1,state:O},B.set(S,N)}}}function Une(A,c){el.X(A,c);var p=ag;if(p&&A){var m=LA(p).hoistableScripts,B=Ag(A),S=m.get(B);S||(S=p.querySelector(h0(B)),S||(A=h({src:A,async:!0},c),(c=Sa.get(B))&&kU(A,c),S=p.createElement("script"),hi(S),Ar(S,"link",A),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(B,S))}}function Mne(A,c){el.M(A,c);var p=ag;if(p&&A){var m=LA(p).hoistableScripts,B=Ag(A),S=m.get(B);S||(S=p.querySelector(h0(B)),S||(A=h({src:A,async:!0,type:"module"},c),(c=Sa.get(B))&&kU(A,c),S=p.createElement("script"),hi(S),Ar(S,"link",A),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(B,S))}}function aV(A,c,p,m){var B=(B=Fe.current)?CS(B):null;if(!B)throw Error(i(446));switch(A){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=og(p.href),p=LA(B).hoistableStyles,m=p.get(c),m||(m={type:"style",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){A=og(p.href);var S=LA(B).hoistableStyles,N=S.get(A);if(N||(B=B.ownerDocument||B,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(A,N),(S=B.querySelector(f0(A)))&&!S._p&&(N.instance=S,N.state.loading=5),Sa.has(A)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Sa.set(A,p),S||Pne(B,A,p,N.state))),c&&m===null)throw Error(i(528,""));return N}if(c&&m!==null)throw Error(i(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Ag(p),p=LA(B).hoistableScripts,m=p.get(c),m||(m={type:"script",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,A))}}function og(A){return'href="'+ma(A)+'"'}function f0(A){return'link[rel="stylesheet"]['+A+"]"}function oV(A){return h({},A,{"data-precedence":A.precedence,precedence:null})}function Pne(A,c,p,m){A.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=A.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),Ar(c,"link",p),hi(c),A.head.appendChild(c))}function Ag(A){return'[src="'+ma(A)+'"]'}function h0(A){return"script[async]"+A}function AV(A,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var m=A.querySelector('style[data-href~="'+ma(p.href)+'"]');if(m)return c.instance=m,hi(m),m;var B=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return m=(A.ownerDocument||A).createElement("style"),hi(m),Ar(m,"style",B),BS(m,p.precedence,A),c.instance=m;case"stylesheet":B=og(p.href);var S=A.querySelector(f0(B));if(S)return c.state.loading|=4,c.instance=S,hi(S),S;m=oV(p),(B=Sa.get(B))&&QU(m,B),S=(A.ownerDocument||A).createElement("link"),hi(S);var N=S;return N._p=new Promise(function(O,j){N.onload=O,N.onerror=j}),Ar(S,"link",m),c.state.loading|=4,BS(S,p.precedence,A),c.instance=S;case"script":return S=Ag(p.src),(B=A.querySelector(h0(S)))?(c.instance=B,hi(B),B):(m=p,(B=Sa.get(S))&&(m=h({},p),kU(m,B)),A=A.ownerDocument||A,B=A.createElement("script"),hi(B),Ar(B,"link",m),A.head.appendChild(B),c.instance=B);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,BS(m,p.precedence,A));return c.instance}function BS(A,c,p){for(var m=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=m.length?m[m.length-1]:null,S=B,N=0;N<m.length;N++){var O=m[N];if(O.dataset.precedence===c)S=O;else if(S!==B)break}S?S.parentNode.insertBefore(A,S.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(A,c.firstChild))}function QU(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.title==null&&(A.title=c.title)}function kU(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.integrity==null&&(A.integrity=c.integrity)}var ES=null;function lV(A,c,p){if(ES===null){var m=new Map,B=ES=new Map;B.set(p,m)}else B=ES,m=B.get(p),m||(m=new Map,B.set(p,m));if(m.has(A))return m;for(m.set(A,null),p=p.getElementsByTagName(A),B=0;B<p.length;B++){var S=p[B];if(!(S[tf]||S[Ti]||A==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(c)||"";N=A+N;var O=m.get(N);O?O.push(S):m.set(N,[S])}}return m}function uV(A,c,p){A=A.ownerDocument||A,A.head.insertBefore(p,c==="title"?A.querySelector("head > title"):null)}function Rne(A,c,p){if(p===1||c.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return A=c.disabled,typeof c.precedence=="string"&&A==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function cV(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function Dne(A,c,p,m){if(p.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var B=og(m.href),S=c.querySelector(f0(B));if(S){c=S._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(A.count++,A=SS.bind(A),c.then(A,A)),p.state.loading|=4,p.instance=S,hi(S);return}S=c.ownerDocument||c,m=oV(m),(B=Sa.get(B))&&QU(m,B),S=S.createElement("link"),hi(S);var N=S;N._p=new Promise(function(O,j){N.onload=O,N.onerror=j}),Ar(S,"link",m),p.instance=S}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(A.count++,p=SS.bind(A),c.addEventListener("load",p),c.addEventListener("error",p))}}var OU=0;function Nne(A,c){return A.stylesheets&&A.count===0&&_S(A,A.stylesheets),0<A.count||0<A.imgCount?function(p){var m=setTimeout(function(){if(A.stylesheets&&_S(A,A.stylesheets),A.unsuspend){var S=A.unsuspend;A.unsuspend=null,S()}},6e4+c);0<A.imgBytes&&OU===0&&(OU=62500*gne());var B=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&_S(A,A.stylesheets),A.unsuspend)){var S=A.unsuspend;A.unsuspend=null,S()}},(A.imgBytes>OU?50:800)+c);return A.unsuspend=p,function(){A.unsuspend=null,clearTimeout(m),clearTimeout(B)}}:null}function SS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_S(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var xS=null;function _S(A,c){A.stylesheets=null,A.unsuspend!==null&&(A.count++,xS=new Map,c.forEach(Lne,A),xS=null,SS.call(A))}function Lne(A,c){if(!(c.state.loading&4)){var p=xS.get(A);if(p)var m=p.get(null);else{p=new Map,xS.set(A,p);for(var B=A.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<B.length;S++){var N=B[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(p.set(N.dataset.precedence,N),m=N)}m&&p.set(null,m)}B=c.instance,N=B.getAttribute("data-precedence"),S=p.get(N)||m,S===m&&p.set(null,B),p.set(N,B),this.count++,m=SS.bind(this),B.addEventListener("load",m),B.addEventListener("error",m),S?S.parentNode.insertBefore(B,S.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(B,A.firstChild)),c.state.loading|=4}}var p0={$$typeof:T,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Qne(A,c,p,m,B,S,N,O,j){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ty(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ty(0),this.hiddenUpdates=Ty(null),this.identifierPrefix=m,this.onUncaughtError=B,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function dV(A,c,p,m,B,S,N,O,j,te,de,pe){return A=new Qne(A,c,p,N,j,te,de,pe,O),c=1,S===!0&&(c|=24),S=Fs(3,null,null,c),A.current=S,S.stateNode=A,c=yF(),c.refCount++,A.pooledCache=c,c.refCount++,S.memoizedState={element:m,isDehydrated:p,cache:c},BF(S),A}function fV(A){return A?(A=kp,A):kp}function hV(A,c,p,m,B,S){B=fV(B),m.context===null?m.context=B:m.pendingContext=B,m=ju(c),m.payload={element:p},S=S===void 0?null:S,S!==null&&(m.callback=S),p=Wu(A,m,c),p!==null&&(us(p,A,c),$y(p,A,c))}function pV(A,c){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var p=A.retryLane;A.retryLane=p!==0&&p<c?p:c}}function HU(A,c){pV(A,c),(A=A.alternate)&&pV(A,c)}function gV(A){if(A.tag===13||A.tag===31){var c=of(A,67108864);c!==null&&us(c,A,67108864),HU(A,67108864)}}function mV(A){if(A.tag===13||A.tag===31){var c=Ds();c=ef(c);var p=of(A,c);p!==null&&us(p,A,c),HU(A,c)}}var TS=!0;function kne(A,c,p,m){var B=G.T;G.T=null;var S=$.p;try{$.p=2,VU(A,c,p,m)}finally{$.p=S,G.T=B}}function One(A,c,p,m){var B=G.T;G.T=null;var S=$.p;try{$.p=8,VU(A,c,p,m)}finally{$.p=S,G.T=B}}function VU(A,c,p,m){if(TS){var B=KU(m);if(B===null)TU(A,c,m,IS,p),yV(A,m);else if(Vne(B,A,c,p,m))m.stopPropagation();else if(yV(A,m),c&4&&-1<Hne.indexOf(A)){for(;B!==null;){var S=Hu(B);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=ga(S.pendingLanes);if(N!==0){var O=S;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var j=1<<31-Se(N);O.entanglements[1]|=j,N&=~j}$o(S),(Vt&6)===0&&(cS=Z()+500,l0(0))}}break;case 31:case 13:O=of(S,2),O!==null&&us(O,S,2),fS(),HU(S,2)}if(S=KU(m),S===null&&TU(A,c,m,IS,p),S===B)break;B=S}B!==null&&m.stopPropagation()}else TU(A,c,m,null,p)}}function KU(A){return A=zI(A),GU(A)}var IS=null;function GU(A){if(IS=null,A=Ko(A),A!==null){var c=s(A);if(c===null)A=null;else{var p=c.tag;if(p===13){if(A=a(c),A!==null)return A;A=null}else if(p===31){if(A=o(c),A!==null)return A;A=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;A=null}else c!==A&&(A=null)}}return IS=A,null}function vV(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case Re:return 2;case bt:return 8;case qe:case ce:return 32;case we:return 268435456;default:return 32}default:return 32}}var zU=!1,ac=null,oc=null,Ac=null,g0=new Map,m0=new Map,lc=[],Hne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yV(A,c){switch(A){case"focusin":case"focusout":ac=null;break;case"dragenter":case"dragleave":oc=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":g0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":m0.delete(c.pointerId)}}function v0(A,c,p,m,B,S){return A===null||A.nativeEvent!==S?(A={blockedOn:c,domEventName:p,eventSystemFlags:m,nativeEvent:S,targetContainers:[B]},c!==null&&(c=Hu(c),c!==null&&gV(c)),A):(A.eventSystemFlags|=m,c=A.targetContainers,B!==null&&c.indexOf(B)===-1&&c.push(B),A)}function Vne(A,c,p,m,B){switch(c){case"focusin":return ac=v0(ac,A,c,p,m,B),!0;case"dragenter":return oc=v0(oc,A,c,p,m,B),!0;case"mouseover":return Ac=v0(Ac,A,c,p,m,B),!0;case"pointerover":var S=B.pointerId;return g0.set(S,v0(g0.get(S)||null,A,c,p,m,B)),!0;case"gotpointercapture":return S=B.pointerId,m0.set(S,v0(m0.get(S)||null,A,c,p,m,B)),!0}return!1}function wV(A){var c=Ko(A.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){A.blockedOn=c,wE(A.priority,function(){mV(p)});return}}else if(c===31){if(c=o(p),c!==null){A.blockedOn=c,wE(A.priority,function(){mV(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){A.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}A.blockedOn=null}function FS(A){if(A.blockedOn!==null)return!1;for(var c=A.targetContainers;0<c.length;){var p=KU(A.nativeEvent);if(p===null){p=A.nativeEvent;var m=new p.constructor(p.type,p);GI=m,p.target.dispatchEvent(m),GI=null}else return c=Hu(p),c!==null&&gV(c),A.blockedOn=p,!1;c.shift()}return!0}function bV(A,c,p){FS(A)&&p.delete(c)}function Kne(){zU=!1,ac!==null&&FS(ac)&&(ac=null),oc!==null&&FS(oc)&&(oc=null),Ac!==null&&FS(Ac)&&(Ac=null),g0.forEach(bV),m0.forEach(bV)}function US(A,c){A.blockedOn===c&&(A.blockedOn=null,zU||(zU=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Kne)))}var MS=null;function CV(A){MS!==A&&(MS=A,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){MS===A&&(MS=null);for(var c=0;c<A.length;c+=3){var p=A[c],m=A[c+1],B=A[c+2];if(typeof m!="function"){if(GU(m||p)===null)continue;break}var S=Hu(p);S!==null&&(A.splice(c,3),c-=3,KF(S,{pending:!0,data:B,method:p.method,action:m},m,B))}}))}function lg(A){function c(j){return US(j,A)}ac!==null&&US(ac,A),oc!==null&&US(oc,A),Ac!==null&&US(Ac,A),g0.forEach(c),m0.forEach(c);for(var p=0;p<lc.length;p++){var m=lc[p];m.blockedOn===A&&(m.blockedOn=null)}for(;0<lc.length&&(p=lc[0],p.blockedOn===null);)wV(p),p.blockedOn===null&&lc.shift();if(p=(A.ownerDocument||A).$$reactFormReplay,p!=null)for(m=0;m<p.length;m+=3){var B=p[m],S=p[m+1],N=B[xr]||null;if(typeof S=="function")N||CV(p);else if(N){var O=null;if(S&&S.hasAttribute("formAction")){if(B=S,N=S[xr]||null)O=N.formAction;else if(GU(B)!==null)continue}else O=N.action;typeof O=="function"?p[m+1]=O:(p.splice(m,3),m-=3),CV(p)}}}function BV(){function A(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(N){return B=N})},focusReset:"manual",scroll:"manual"})}function c(){B!==null&&(B(),B=null),m||setTimeout(p,20)}function p(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,B=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){m=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),B!==null&&(B(),B=null)}}}function qU(A){this._internalRoot=A}PS.prototype.render=qU.prototype.render=function(A){var c=this._internalRoot;if(c===null)throw Error(i(409));var p=c.current,m=Ds();hV(p,m,A,c,null,null)},PS.prototype.unmount=qU.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var c=A.containerInfo;hV(A.current,2,null,A,null,null),fS(),c[Ou]=null}};function PS(A){this._internalRoot=A}PS.prototype.unstable_scheduleHydration=function(A){if(A){var c=yE();A={blockedOn:null,target:A,priority:c};for(var p=0;p<lc.length&&c!==0&&c<lc[p].priority;p++);lc.splice(p,0,A),p===0&&wV(A)}};var EV=e.version;if(EV!=="19.2.1")throw Error(i(527,EV,"19.2.1"));$.findDOMNode=function(A){var c=A._reactInternals;if(c===void 0)throw typeof A.render=="function"?Error(i(188)):(A=Object.keys(A).join(","),Error(i(268,A)));return A=u(c),A=A!==null?d(A):null,A=A===null?null:A.stateNode,A};var Gne={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var RS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!RS.isDisabled&&RS.supportsFiber)try{Te=RS.inject(Gne),Ge=RS}catch{}}return w0.createRoot=function(A,c){if(!r(A))throw Error(i(299));var p=!1,m="",B=UH,S=MH,N=PH;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(B=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=dV(A,1,!1,null,null,p,m,null,B,S,N,BV),A[Ou]=c.current,_U(A),new qU(c)},w0.hydrateRoot=function(A,c,p){if(!r(A))throw Error(i(299));var m=!1,B="",S=UH,N=MH,O=PH,j=null;return p!=null&&(p.unstable_strictMode===!0&&(m=!0),p.identifierPrefix!==void 0&&(B=p.identifierPrefix),p.onUncaughtError!==void 0&&(S=p.onUncaughtError),p.onCaughtError!==void 0&&(N=p.onCaughtError),p.onRecoverableError!==void 0&&(O=p.onRecoverableError),p.formState!==void 0&&(j=p.formState)),c=dV(A,1,!0,c,p??null,m,B,j,S,N,O,BV),c.context=fV(null),p=c.current,m=Ds(),m=ef(m),B=ju(m),B.callback=null,Wu(p,B,m),p=m,c.current.lanes=p,Zd(c,p),$o(c),A[Ou]=c.current,_U(A),new PS(c)},w0.version="19.2.1",w0}var DV;function iie(){if(DV)return YU.exports;DV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),YU.exports=nie(),YU.exports}var rie=iie();const sie=RA(rie);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var NV="popstate";function aie(n={}){function e(r,s){let{pathname:a="/",search:o="",hash:l=""}=Ep(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),BR("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let a=r.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:Nw(s))}function i(r,s){to(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Aie(e,t,i,n)}function Kn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function to(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oie(){return Math.random().toString(36).substring(2,10)}function LV(n,e){return{usr:n.state,key:n.key,idx:e}}function BR(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ep(e):e,state:t,key:e&&e.key||i||oie()}}function Nw({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ep(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Aie(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let E=d(),x=E==null?null:E-u;u=E,l&&l({action:o,location:C.location,delta:x})}function g(E,x){o="PUSH";let I=BR(C.location,E,x);t&&t(I,E),u=d()+1;let T=LV(I,u),R=C.createHref(I);try{a.pushState(T,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(R)}s&&l&&l({action:o,location:C.location,delta:1})}function v(E,x){o="REPLACE";let I=BR(C.location,E,x);t&&t(I,E),u=d();let T=LV(I,u),R=C.createHref(I);a.replaceState(T,"",R),s&&l&&l({action:o,location:C.location,delta:0})}function b(E){return lie(E)}let C={get action(){return o},get location(){return n(r,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(NV,h),l=E,()=>{r.removeEventListener(NV,h),l=null}},createHref(E){return e(r,E)},createURL:b,encodeLocation(E){let x=b(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:v,go(E){return a.go(E)}};return C}function lie(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Kn(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Nw(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function D$(n,e,t="/"){return uie(n,e,t,!1)}function uie(n,e,t,i){let r=typeof e=="string"?Ep(e):e,s=gu(r.pathname||"/",t);if(s==null)return null;let a=N$(n);cie(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Cie(s);o=wie(a[l],u,i)}return o}function N$(n,e=[],t=[],i="",r=!1){let s=(a,o,l=r,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&l)return;Kn(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let h=lu([i,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(Kn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),N$(a.children,e,g,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:vie(h,a.index),routesMeta:g})};return n.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of L$(a.path))s(a,o,!0,u)}),e}function L$(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=L$(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function cie(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yie(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var die=/^:[\w-]+$/,fie=3,hie=2,pie=1,gie=10,mie=-2,QV=n=>n==="*";function vie(n,e){let t=n.split("/"),i=t.length;return t.some(QV)&&(i+=mie),e&&(i+=hie),t.filter(r=>!QV(r)).reduce((r,s)=>r+(die.test(s)?fie:s===""?pie:gie),i)}function yie(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function wie(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=z_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!h&&u&&t&&!i[i.length-1].route.index&&(h=z_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:lu([s,h.pathname]),pathnameBase:_ie(lu([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=lu([s,h.pathnameBase]))}return a}function z_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=bie(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:d,isOptional:h},g)=>{if(d==="*"){let b=o[g]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=o[g];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function bie(n,e=!1,t=!0){to(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Cie(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return to(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function gu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var Bie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eie=n=>Bie.test(n);function Sie(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Ep(n):n,s;if(t)if(Eie(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),to(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=kV(t.substring(1),"/"):s=kV(t,e)}else s=e;return{pathname:s,search:Tie(i),hash:Iie(r)}}function kV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function eM(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xie(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Q$(n){let e=xie(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function k$(n,e,t,i=!1){let r;typeof n=="string"?r=Ep(n):(r={...n},Kn(!r.pathname||!r.pathname.includes("?"),eM("?","pathname","search",r)),Kn(!r.pathname||!r.pathname.includes("#"),eM("#","pathname","hash",r)),Kn(!r.search||!r.search.includes("#"),eM("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;r.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=Sie(r,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var lu=n=>n.join("/").replace(/\/\/+/g,"/"),_ie=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Tie=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Iie=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Fie(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Uie(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var O$=["POST","PUT","PATCH","DELETE"];new Set(O$);var Mie=["GET",...O$];new Set(Mie);var hy=U.createContext(null);hy.displayName="DataRouter";var U1=U.createContext(null);U1.displayName="DataRouterState";U.createContext(!1);var H$=U.createContext({isTransitioning:!1});H$.displayName="ViewTransition";var Pie=U.createContext(new Map);Pie.displayName="Fetchers";var Rie=U.createContext(null);Rie.displayName="Await";var Lo=U.createContext(null);Lo.displayName="Navigation";var DB=U.createContext(null);DB.displayName="Location";var Fu=U.createContext({outlet:null,matches:[],isDataRoute:!1});Fu.displayName="Route";var bQ=U.createContext(null);bQ.displayName="RouteError";function Die(n,{relative:e}={}){Kn(NB(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=U.useContext(Lo),{hash:r,pathname:s,search:a}=LB(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:lu([t,s])),i.createHref({pathname:o,search:a,hash:r})}function NB(){return U.useContext(DB)!=null}function qd(){return Kn(NB(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(DB).location}var V$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K$(n){U.useContext(Lo).static||U.useLayoutEffect(n)}function G$(){let{isDataRoute:n}=U.useContext(Fu);return n?jie():Nie()}function Nie(){Kn(NB(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(hy),{basename:e,navigator:t}=U.useContext(Lo),{matches:i}=U.useContext(Fu),{pathname:r}=qd(),s=JSON.stringify(Q$(i)),a=U.useRef(!1);return K$(()=>{a.current=!0}),U.useCallback((l,u={})=>{if(to(a.current,V$),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=k$(l,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:lu([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,r,n])}U.createContext(null);function LB(n,{relative:e}={}){let{matches:t}=U.useContext(Fu),{pathname:i}=qd(),r=JSON.stringify(Q$(t));return U.useMemo(()=>k$(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function Lie(n,e){return z$(n,e)}function z$(n,e,t,i,r){var I;Kn(NB(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=U.useContext(Lo),{matches:a}=U.useContext(Fu),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let T=h&&h.path||"";q$(u,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=qd(),v;if(e){let T=typeof e=="string"?Ep(e):e;Kn(d==="/"||((I=T.pathname)==null?void 0:I.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=g;let b=v.pathname||"/",C=b;if(d!=="/"){let T=d.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=D$(n,{pathname:C});to(h||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),to(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Vie(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:lu([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:lu([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,t,i,r);return e&&x?U.createElement(DB.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function Qie(){let n=$ie(),e=Fie(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:s},"ErrorBoundary")," or"," ",U.createElement("code",{style:s},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:r},t):null,a)}var kie=U.createElement(Qie,null),Oie=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?U.createElement(Fu.Provider,{value:this.props.routeContext},U.createElement(bQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hie({routeContext:n,match:e,children:t}){let i=U.useContext(hy);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Fu.Provider,{value:n},t)}function Vie(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Kn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:g,errors:v}=t,b=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||b){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=t&&i?(d,h)=>{var g,v;i(d,{location:t.location,params:((v=(g=t.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:Uie(t.matches),errorInfo:h})}:void 0;return s.reduceRight((d,h,g)=>{let v,b=!1,C=null,E=null;t&&(v=a&&h.route.id?a[h.route.id]:void 0,C=h.route.errorElement||kie,o&&(l<0&&g===0?(q$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):l===g&&(b=!0,E=h.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),I=()=>{let T;return v?T=C:b?T=E:h.route.Component?T=U.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,U.createElement(Hie,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?U.createElement(Oie,{location:t.location,revalidation:t.revalidation,component:C,error:v,children:I(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:u}):I()},null)}function CQ(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kie(n){let e=U.useContext(hy);return Kn(e,CQ(n)),e}function Gie(n){let e=U.useContext(U1);return Kn(e,CQ(n)),e}function zie(n){let e=U.useContext(Fu);return Kn(e,CQ(n)),e}function BQ(n){let e=zie(n),t=e.matches[e.matches.length-1];return Kn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qie(){return BQ("useRouteId")}function $ie(){var i;let n=U.useContext(bQ),e=Gie("useRouteError"),t=BQ("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function jie(){let{router:n}=Kie("useNavigate"),e=BQ("useNavigate"),t=U.useRef(!1);return K$(()=>{t.current=!0}),U.useCallback(async(r,s={})=>{to(t.current,V$),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var OV={};function q$(n,e,t){!e&&!OV[n]&&(OV[n]=!0,to(!1,t))}U.memo(Wie);function Wie({routes:n,future:e,state:t,unstable_onError:i}){return z$(n,void 0,t,i,e)}function ER(n){Kn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yie({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){Kn(!NB(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=U.useMemo(()=>({basename:o,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[o,r,s,a]);typeof t=="string"&&(t=Ep(t));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:v="default"}=t,b=U.useMemo(()=>{let C=gu(u,o);return C==null?null:{location:{pathname:C,search:d,hash:h,state:g,key:v},navigationType:i}},[o,u,d,h,g,v,i]);return to(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:U.createElement(Lo.Provider,{value:l},U.createElement(DB.Provider,{children:e,value:b}))}function Xie({children:n,location:e}){return Lie(SR(n),e)}function SR(n,e=[]){let t=[];return U.Children.forEach(n,(i,r)=>{if(!U.isValidElement(i))return;let s=[...e,r];if(i.type===U.Fragment){t.push.apply(t,SR(i.props.children,s));return}Kn(i.type===ER,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=SR(i.props.children,s)),t.push(a)}),t}var Qx="get",kx="application/x-www-form-urlencoded";function M1(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Jie(n){return M1(n)&&n.tagName.toLowerCase()==="button"}function Zie(n){return M1(n)&&n.tagName.toLowerCase()==="form"}function ere(n){return M1(n)&&n.tagName.toLowerCase()==="input"}function tre(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function nre(n,e){return n.button===0&&(!e||e==="_self")&&!tre(n)}var DS=null;function ire(){if(DS===null)try{new FormData(document.createElement("form"),0),DS=!1}catch{DS=!0}return DS}var rre=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tM(n){return n!=null&&!rre.has(n)?(to(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kx}"`),null):n}function sre(n,e){let t,i,r,s,a;if(Zie(n)){let o=n.getAttribute("action");i=o?gu(o,e):null,t=n.getAttribute("method")||Qx,r=tM(n.getAttribute("enctype"))||kx,s=new FormData(n)}else if(Jie(n)||ere(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?gu(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Qx,r=tM(n.getAttribute("formenctype"))||tM(o.getAttribute("enctype"))||kx,s=new FormData(o,n),!ire()){let{name:u,type:d,value:h}=n;if(d==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,h)}}else{if(M1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Qx,i=null,r=kx,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function EQ(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function are(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&gu(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function ore(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Are(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function lre(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await ore(s,t);return a.links?a.links():[]}return[]}));return fre(i.flat(1).filter(Are).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function HV(n,e,t,i,r,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>{var d;return t[u].pathname!==l.pathname||((d=t[u].route.path)==null?void 0:d.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function ure(n,e,{includeHydrateFallback:t}={}){return cre(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function cre(n){return[...new Set(n)]}function dre(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function fre(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(dre(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function $$(){let n=U.useContext(hy);return EQ(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hre(){let n=U.useContext(U1);return EQ(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var SQ=U.createContext(void 0);SQ.displayName="FrameworkContext";function j$(){let n=U.useContext(SQ);return EQ(n,"You must render this element inside a <HydratedRouter> element"),n}function pre(n,e){let t=U.useContext(SQ),[i,r]=U.useState(!1),[s,a]=U.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,g=U.useRef(null);U.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let C=x=>{x.forEach(I=>{a(I.isIntersecting)})},E=new IntersectionObserver(C,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[n]),U.useEffect(()=>{if(i){let C=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(C)}}},[i]);let v=()=>{r(!0)},b=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:b0(o,v),onBlur:b0(l,b),onMouseEnter:b0(u,v),onMouseLeave:b0(d,b),onTouchStart:b0(h,v)}]:[!1,g,{}]}function b0(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function gre({page:n,...e}){let{router:t}=$$(),i=U.useMemo(()=>D$(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?U.createElement(vre,{page:n,matches:i,...e}):null}function mre(n){let{manifest:e,routeModules:t}=j$(),[i,r]=U.useState([]);return U.useEffect(()=>{let s=!1;return lre(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function vre({page:n,matches:e,...t}){let i=qd(),{manifest:r,routeModules:s}=j$(),{basename:a}=$$(),{loaderData:o,matches:l}=hre(),u=U.useMemo(()=>HV(n,e,l,r,i,"data"),[n,e,l,r,i]),d=U.useMemo(()=>HV(n,e,l,r,i,"assets"),[n,e,l,r,i]),h=U.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let b=new Set,C=!1;if(e.forEach(x=>{var T;let I=r.routes[x.route.id];!I||!I.hasLoader||(!u.some(R=>R.route.id===x.route.id)&&x.route.id in o&&((T=s[x.route.id])!=null&&T.shouldRevalidate)||I.hasClientLoader?C=!0:b.add(x.route.id))}),b.size===0)return[];let E=are(n,a,"data");return C&&b.size>0&&E.searchParams.set("_routes",e.filter(x=>b.has(x.route.id)).map(x=>x.route.id).join(",")),[E.pathname+E.search]},[a,o,i,r,u,e,n,s]),g=U.useMemo(()=>ure(d,r),[d,r]),v=mre(d);return U.createElement(U.Fragment,null,h.map(b=>U.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),g.map(b=>U.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),v.map(({key:b,link:C})=>U.createElement("link",{key:b,nonce:t.nonce,...C})))}function yre(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var W$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W$&&(window.__reactRouterVersion="7.10.1")}catch{}function wre({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=U.useRef();r.current==null&&(r.current=aie({window:i,v5Compat:!0}));let s=r.current,[a,o]=U.useState({action:s.action,location:s.location}),l=U.useCallback(u=>{t===!1?o(u):U.startTransition(()=>o(u))},[t]);return U.useLayoutEffect(()=>s.listen(l),[s,l]),U.createElement(Yie,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t===!0})}var Y$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q_=U.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...g},v){let{basename:b,unstable_useTransitions:C}=U.useContext(Lo),E=typeof u=="string"&&Y$.test(u),x,I=!1;if(typeof u=="string"&&E&&(x=u,W$))try{let K=new URL(window.location.href),V=u.startsWith("//")?new URL(K.protocol+u):new URL(u),q=gu(V.pathname,b);V.origin===K.origin&&q!=null?u=q+V.search+V.hash:I=!0}catch{to(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Die(u,{relative:r}),[R,P,D]=pre(i,g),Q=Ere(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:r,viewTransition:h,unstable_useTransitions:C});function H(K){e&&e(K),K.defaultPrevented||Q(K)}let k=U.createElement("a",{...g,...D,href:x||T,onClick:I||s?e:H,ref:yre(v,P),target:l,"data-discover":!E&&t==="render"?"true":void 0});return R&&!E?U.createElement(U.Fragment,null,k,U.createElement(gre,{page:T})):k});q_.displayName="Link";var bre=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let h=LB(a,{relative:u.relative}),g=qd(),v=U.useContext(U1),{navigator:b,basename:C}=U.useContext(Lo),E=v!=null&&Ire(h)&&o===!0,x=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,I=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(I=I.toLowerCase(),T=T?T.toLowerCase():null,x=x.toLowerCase()),T&&C&&(T=gu(T,C)||T);const R=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let P=I===x||!r&&I.startsWith(x)&&I.charAt(R)==="/",D=T!=null&&(T===x||!r&&T.startsWith(x)&&T.charAt(x.length)==="/"),Q={isActive:P,isPending:D,isTransitioning:E},H=P?e:void 0,k;typeof i=="function"?k=i(Q):k=[i,P?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let K=typeof s=="function"?s(Q):s;return U.createElement(q_,{...u,"aria-current":H,className:k,ref:d,style:K,to:a,viewTransition:o},typeof l=="function"?l(Q):l)});bre.displayName="NavLink";var Cre=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=Qx,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...g},v)=>{let{unstable_useTransitions:b}=U.useContext(Lo),C=_re(),E=Tre(o,{relative:u}),x=a.toLowerCase()==="get"?"get":"post",I=typeof o=="string"&&Y$.test(o),T=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let P=R.nativeEvent.submitter,D=(P==null?void 0:P.getAttribute("formmethod"))||a,Q=()=>C(P||R.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:r,state:s,relative:u,preventScrollReset:d,viewTransition:h});b&&t!==!1?U.startTransition(()=>Q()):Q()};return U.createElement("form",{ref:v,method:x,action:E,onSubmit:i?l:T,...g,"data-discover":!I&&n==="render"?"true":void 0})});Cre.displayName="Form";function Bre(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X$(n){let e=U.useContext(hy);return Kn(e,Bre(n)),e}function Ere(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_useTransitions:o}={}){let l=G$(),u=qd(),d=LB(n,{relative:s});return U.useCallback(h=>{if(nre(h,e)){h.preventDefault();let g=t!==void 0?t:Nw(u)===Nw(d),v=()=>l(n,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:a});o?U.startTransition(()=>v()):v()}},[u,l,d,t,i,e,n,r,s,a,o])}var Sre=0,xre=()=>`__${String(++Sre)}__`;function _re(){let{router:n}=X$("useSubmit"),{basename:e}=U.useContext(Lo),t=qie(),i=n.fetch,r=n.navigate;return U.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=sre(s,e);if(a.navigate===!1){let g=a.fetcherKey||xre();await i(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await r(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,t])}function Tre(n,{relative:e}={}){let{basename:t}=U.useContext(Lo),i=U.useContext(Fu);Kn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...LB(n||".",{relative:e})},a=qd();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:lu([t,s.pathname])),Nw(s)}function Ire(n,{relative:e}={}){let t=U.useContext(H$);Kn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=X$("useViewTransitionState"),r=LB(n,{relative:e});if(!t.isTransitioning)return!1;let s=gu(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=gu(t.nextLocation.pathname,i)||t.nextLocation.pathname;return z_(r.pathname,a)!=null||z_(r.pathname,s)!=null}var J$=R$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fre,Ure;function Mre(){return{geminiUrl:Fre,vertexUrl:Ure}}function Pre(n,e,t,i){var r,s;if(!(n!=null&&n.baseUrl)){const a=Mre();return e?(r=a.vertexUrl)!==null&&r!==void 0?r:t:(s=a.geminiUrl)!==null&&s!==void 0?s:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uu{}function Ue(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function w(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[o])){const l=n[o];if(Array.isArray(t))for(let u=0;u<l.length;u++){const d=l[u];w(d,e.slice(s+1),t[u])}else for(const u of l)w(u,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in n||(n[o]=[{}]);const l=n[o];w(l[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const i=e[e.length-1],r=n[i];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;const r=e[i];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in n){const a=n[s];return Array.isArray(a)?a.map(o=>y(o,e.slice(i+1),t)):t}else return t}else n=n[r]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function Rre(n,e){for(const[t,i]of Object.entries(e)){const r=t.split("."),s=i.split("."),a=new Set;let o=-1;for(let l=0;l<r.length;l++)if(r[l]==="*"){o=l;break}if(o!==-1&&s.length>o)for(let l=o;l<s.length;l++){const u=s[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}xR(n,r,s,0,a)}}function xR(n,e,t,i,r){if(i>=e.length||typeof n!="object"||n===null)return;const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2),o=n;if(a in o&&Array.isArray(o[a]))for(const l of o[a])xR(l,e,t,i+1,r)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,o=Object.keys(a).filter(u=>!u.startsWith("_")&&!r.has(u)),l={};for(const u of o)l[u]=a[u];for(const[u,d]of Object.entries(l)){const h=[];for(const g of t.slice(i))g==="*"?h.push(u):h.push(g);w(a,h,d)}for(const u of o)delete a[u]}}else{const a=n;s in a&&xR(a[s],e,t,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xQ(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dre(n){const e={},t=y(n,["operationName"]);t!=null&&w(e,["operationName"],t);const i=y(n,["resourceName"]);return i!=null&&w(e,["_url","resourceName"],i),e}function Nre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],Qre(a)),e}function Lre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],kre(a)),e}function Qre(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Ore(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function kre(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Hre(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function Ore(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],$re(t)),e}function Hre(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],jre(t)),e}function Vre(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function Kre(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function Gre(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],zre(a)),e}function zre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function Z$(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],qre(a)),e}function qre(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function $re(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["encodedVideo"]);i!=null&&w(e,["videoBytes"],xQ(i));const r=y(n,["encoding"]);return r!=null&&w(e,["mimeType"],r),e}function jre(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["videoBytes"],xQ(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var VV;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(VV||(VV={}));var KV;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(KV||(KV={}));var GV;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(GV||(GV={}));var Md;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Md||(Md={}));var zV;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(zV||(zV={}));var qV;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(qV||(qV={}));var $V;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})($V||($V={}));var jV;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(jV||(jV={}));var WV;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(WV||(WV={}));var YV;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(YV||(YV={}));var XV;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(XV||(XV={}));var JV;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(JV||(JV={}));var ZV;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(ZV||(ZV={}));var e3;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(e3||(e3={}));var t3;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(t3||(t3={}));var n3;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(n3||(n3={}));var i3;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(i3||(i3={}));var r3;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(r3||(r3={}));var s3;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(s3||(s3={}));var $_;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})($_||($_={}));var a3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(a3||(a3={}));var o3;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(o3||(o3={}));var A3;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(A3||(A3={}));var _R;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_R||(_R={}));var l3;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(l3||(l3={}));var u3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(u3||(u3={}));var c3;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(c3||(c3={}));var d3;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(d3||(d3={}));var f3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(f3||(f3={}));var h3;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(h3||(h3={}));var p3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(p3||(p3={}));var g3;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(g3||(g3={}));var m3;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(m3||(m3={}));var v3;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(v3||(v3={}));var y3;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(y3||(y3={}));var w3;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(w3||(w3={}));var b3;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(b3||(b3={}));var C3;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(C3||(C3={}));var B3;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(B3||(B3={}));var E3;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(E3||(E3={}));var S3;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(S3||(S3={}));var x3;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(x3||(x3={}));var _3;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(_3||(_3={}));var T3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(T3||(T3={}));var I3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(I3||(I3={}));var F3;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(F3||(F3={}));var U3;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(U3||(U3={}));var M3;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(M3||(M3={}));var P3;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(P3||(P3={}));var R3;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(R3||(R3={}));var D3;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(D3||(D3={}));var N3;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(N3||(N3={}));var L3;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(L3||(L3={}));var Q3;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Q3||(Q3={}));var Dg;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Dg||(Dg={}));class TR{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class C0{get text(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const g of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[v,b]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(b!==null||b!==void 0)&&h.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="inlineData"&&(v!==null||v!==void 0)&&d.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,i,r,s,a,o,l;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,t,i,r,s,a,o,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,i,r,s,a,o,l,u;if(((r=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class k3{}class O3{}class Wre{}class Yre{}class Xre{}class Jre{}class H3{}class V3{}class K3{}class Zre{}class j_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new j_;let r;const s=e;return t?r=Lre(s):r=Nre(s),Object.assign(i,r),i}}class G3{}class z3{}class q3{}class $3{}class ese{}class tse{}class nse{}class _Q{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new _Q,s=Gre(e);return Object.assign(i,s),i}}class ise{}class rse{}class sse{}class j3{}class ase{get text(){var e,t,i;let r="",s=!1;const a=[];for(const o of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[l,u]of Object.entries(o))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,r+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,t,i;let r="";const s=[];for(const a of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(r+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class ose{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class TQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const i=new TQ,s=Z$(e);return Object.assign(i,s),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ot(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function e6(n,e){const t=Ot(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function t6(n){return Array.isArray(n)?n.map(e=>W_(e)):[W_(n)]}function W_(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function n6(n){const e=W_(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function i6(n){const e=W_(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function W3(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function r6(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>W3(e)):[W3(n)]}function IR(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Y3(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function X3(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function kr(n){if(n==null)throw new Error("ContentUnion is required");return IR(n)?n:{role:"user",parts:r6(n)}}function IQ(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=kr(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=kr(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>kr(t)):[kr(e)]}function Za(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Y3(n)||X3(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[kr(n)]}const e=[],t=[],i=IR(n[0]);for(const r of n){const s=IR(r);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(r);else{if(Y3(r)||X3(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return i||e.push({role:"user",parts:r6(t)}),e}function Ase(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Md).includes(t[0].toUpperCase())?t[0].toUpperCase():Md.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Md).includes(i.toUpperCase())?i.toUpperCase():Md.TYPE_UNSPECIFIED})}}function zg(n){const e={},t=["items"],i=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&Ase(n.type,e);for(const[a,o]of Object.entries(n))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Md).includes(o.toUpperCase())?o.toUpperCase():Md.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=zg(o);else if(i.includes(a)){const l=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}l.push(zg(u))}e[a]=l}else if(r.includes(a)){const l={};for(const[u,d]of Object.entries(o))l[u]=zg(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function FQ(n){return zg(n)}function UQ(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function MQ(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function py(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=zg(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=zg(e.response));return n}function gy(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function lse(n,e,t,i=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function Mu(n,e){if(typeof e!="string")throw new Error("name must be a string");return lse(n,e,"cachedContents")}function s6(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function $d(n){return xQ(n)}function use(n){return n!=null&&typeof n=="object"&&"name"in n}function cse(n){return n!=null&&typeof n=="object"&&"video"in n}function dse(n){return n!=null&&typeof n=="object"&&"uri"in n}function a6(n){var e;let t;if(use(n)&&(t=n.name),!(dse(n)&&(t=n.uri,t===void 0))&&!(cse(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function o6(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function A6(n){for(const e of["models","tunedModels","publisherModels"])if(fse(n,e))return n[e];return[]}function fse(n,e){return n!==null&&typeof n=="object"&&e in n}function hse(n,e={}){const t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function pse(n,e={}){const t=[],i=new Set;for(const r of n){const s=r.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const a=hse(r,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function l6(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function gse(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function u6(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let s=!1;for(const a of r){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function my(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function c6(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mse(n){const e={},t=y(n,["responsesFile"]);t!=null&&w(e,["fileName"],t);const i=y(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Xse(a))),w(e,["inlinedResponses"],s)}const r=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["inlinedEmbedContentResponses"],s)}return e}function vse(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&w(e,["format"],t);const i=y(n,["gcsDestination","outputUriPrefix"]);i!=null&&w(e,["gcsUri"],i);const r=y(n,["bigqueryDestination","outputUri"]);return r!=null&&w(e,["bigqueryUri"],r),e}function yse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["predictionsFormat"],t);const i=y(n,["gcsUri"]);i!=null&&w(e,["gcsDestination","outputUriPrefix"],i);const r=y(n,["bigqueryUri"]);if(r!=null&&w(e,["bigqueryDestination","outputUri"],r),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ox(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata","displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["metadata","state"]);r!=null&&w(e,["state"],c6(r));const s=y(n,["metadata","createTime"]);s!=null&&w(e,["createTime"],s);const a=y(n,["metadata","endTime"]);a!=null&&w(e,["endTime"],a);const o=y(n,["metadata","updateTime"]);o!=null&&w(e,["updateTime"],o);const l=y(n,["metadata","model"]);l!=null&&w(e,["model"],l);const u=y(n,["metadata","output"]);return u!=null&&w(e,["dest"],mse(u6(u))),e}function FR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["state"]);r!=null&&w(e,["state"],c6(r));const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["createTime"]);a!=null&&w(e,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(e,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(e,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(e,["updateTime"],u);const d=y(n,["model"]);d!=null&&w(e,["model"],d);const h=y(n,["inputConfig"]);h!=null&&w(e,["src"],wse(h));const g=y(n,["outputConfig"]);g!=null&&w(e,["dest"],vse(u6(g)));const v=y(n,["completionStats"]);return v!=null&&w(e,["completionStats"],v),e}function wse(n){const e={},t=y(n,["instancesFormat"]);t!=null&&w(e,["format"],t);const i=y(n,["gcsSource","uris"]);i!=null&&w(e,["gcsUri"],i);const r=y(n,["bigquerySource","inputUri"]);return r!=null&&w(e,["bigqueryUri"],r),e}function bse(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=y(e,["fileName"]);i!=null&&w(t,["fileName"],i);const r=y(e,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Yse(n,a))),w(t,["requests","requests"],s)}return t}function Cse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["instancesFormat"],t);const i=y(n,["gcsUri"]);i!=null&&w(e,["gcsSource","uris"],i);const r=y(n,["bigqueryUri"]);if(r!=null&&w(e,["bigquerySource","inputUri"],r),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Bse(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Ese(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],my(n,i)),t}function Sse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],my(n,i)),t}function xse(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const i=y(n,["citationMetadata"]);i!=null&&w(e,["citationMetadata"],_se(i));const r=y(n,["tokenCount"]);r!=null&&w(e,["tokenCount"],r);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function _se(n){const e={},t=y(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["citations"],i)}return e}function d6(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>rae(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function Tse(n,e){const t={},i=y(n,["displayName"]);if(e!==void 0&&i!=null&&w(e,["batch","displayName"],i),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Ise(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["dest"]);return e!==void 0&&r!=null&&w(e,["outputConfig"],yse(gse(r))),t}function J3(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["src"]);r!=null&&w(t,["batch","inputConfig"],bse(n,l6(n,r)));const s=y(e,["config"]);return s!=null&&Tse(s,t),t}function Fse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],Ot(n,i));const r=y(e,["src"]);r!=null&&w(t,["inputConfig"],Cse(l6(n,r)));const s=y(e,["config"]);return s!=null&&Ise(s,t),t}function Use(n,e){const t={},i=y(n,["displayName"]);return e!==void 0&&i!=null&&w(e,["batch","displayName"],i),t}function Mse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["src"]);r!=null&&w(t,["batch","inputConfig"],kse(n,r));const s=y(e,["config"]);return s!=null&&Use(s,t),t}function Pse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],my(n,i)),t}function Rse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],my(n,i)),t}function Dse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Nse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Lse(n,e){const t={},i=y(e,["contents"]);if(i!=null){let s=IQ(n,i);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["requests[]","request","content"],s)}const r=y(e,["config"]);return r!=null&&(w(t,["_self"],Qse(r,t)),Rre(t,{"requests[].*":"requests[].request.*"})),t}function Qse(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["requests[]","taskType"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["requests[]","title"],r);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function kse(n,e){const t={},i=y(e,["fileName"]);i!=null&&w(t,["file_name"],i);const r=y(e,["inlinedRequests"]);return r!=null&&w(t,["requests"],Lse(n,r)),t}function Ose(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Hse(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Vse(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Kse(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],d6(kr(r)));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(i,["seed"],C);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],FQ(x));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(i,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let q=T;Array.isArray(q)&&(q=q.map(X=>sae(X))),w(t,["safetySettings"],q)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let q=gy(R);Array.isArray(q)&&(q=q.map(X=>oae(py(X)))),w(t,["tools"],q)}const P=y(e,["toolConfig"]);if(t!==void 0&&P!=null&&w(t,["toolConfig"],aae(P)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Mu(n,D));const Q=y(e,["responseModalities"]);Q!=null&&w(i,["responseModalities"],Q);const H=y(e,["mediaResolution"]);H!=null&&w(i,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(i,["speechConfig"],UQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(i,["thinkingConfig"],K);const V=y(e,["imageConfig"]);return V!=null&&w(i,["imageConfig"],Wse(V)),i}function Gse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>xse(u))),w(e,["candidates"],l)}const r=y(n,["modelVersion"]);r!=null&&w(e,["modelVersion"],r);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function zse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],my(n,i)),t}function qse(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],my(n,i)),t}function $se(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function jse(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Wse(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);if(i!=null&&w(e,["imageSize"],i),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Yse(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["request","model"],Ot(n,i));const r=y(e,["contents"]);if(r!=null){let o=Za(r);Array.isArray(o)&&(o=o.map(l=>d6(l))),w(t,["request","contents"],o)}const s=y(e,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(e,["config"]);return a!=null&&w(t,["request","generationConfig"],Kse(n,a,y(t,["request"],{}))),t}function Xse(n){const e={},t=y(n,["response"]);t!=null&&w(e,["response"],Gse(t));const i=y(n,["error"]);return i!=null&&w(e,["error"],i),e}function Jse(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);if(e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Zse(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);e!==void 0&&r!=null&&w(e,["_query","pageToken"],r);const s=y(n,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),t}function eae(n){const e={},t=y(n,["config"]);return t!=null&&Jse(t,e),e}function tae(n){const e={},t=y(n,["config"]);return t!=null&&Zse(t,e),e}function nae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Ox(a))),w(e,["batchJobs"],s)}return e}function iae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>FR(a))),w(e,["batchJobs"],s)}return e}function rae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Ose(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Hse(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Bse(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function sae(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(n,["threshold"]);return i!=null&&w(e,["threshold"],i),e}function aae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Vse(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function oae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],$se(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],jse(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mu;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(mu||(mu={}));class Sp{constructor(e,t,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,r)}init(e,t,i){var r,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!i||Object.keys(i).length===0?a={config:{}}:typeof i=="object"?a=Object.assign({},i):a=i,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(r=a.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aae extends Uu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Sp(mu.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=J3(this.apiClient,e),i=t._url,r=Ue("{model}:batchGenerateContent",i),o=t.batch.inputConfig.requests,l=o.requests,u=[];for(const d of l){const h=Object.assign({},d);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=g,h.request=v}u.push(h)}return o.requests=u,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const i=t?Object.assign({},t):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${r}`;else if(a)i.dest=`${a}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Fse(this.apiClient,e);return o=Ue("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>FR(d))}else{const u=J3(this.apiClient,e);return o=Ue("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Ox(d))}}async createEmbeddingsInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Mse(this.apiClient,e);return s=Ue("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>Ox(l))}}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=qse(this.apiClient,e);return o=Ue("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>FR(d))}else{const u=zse(this.apiClient,e);return o=Ue("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Ox(d))}}async cancel(e){var t,i,r,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=Sse(this.apiClient,e);a=Ue("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const l=Ese(this.apiClient,e);a=Ue("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=tae(e);return o=Ue("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=iae(d),g=new j3;return Object.assign(g,h),g})}else{const u=eae(e);return o=Ue("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=nae(d),g=new j3;return Object.assign(g,h),g})}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Rse(this.apiClient,e);return o=Ue("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Nse(d))}else{const u=Pse(this.apiClient,e);return o=Ue("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Dse(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lae(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Z3(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>Mae(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function uae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);e!==void 0&&r!=null&&w(e,["expireTime"],r);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let d=Za(a);Array.isArray(d)&&(d=d.map(h=>Z3(h))),w(e,["contents"],d)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],Z3(kr(o)));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Rae(h))),w(e,["tools"],d)}const u=y(n,["toolConfig"]);if(e!==void 0&&u!=null&&w(e,["toolConfig"],Pae(u)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function cae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);e!==void 0&&r!=null&&w(e,["expireTime"],r);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let h=Za(a);Array.isArray(h)&&(h=h.map(g=>g)),w(e,["contents"],h)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],kr(o));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>Dae(g))),w(e,["tools"],h)}const u=y(n,["toolConfig"]);e!==void 0&&u!=null&&w(e,["toolConfig"],u);const d=y(n,["kmsKeyName"]);return e!==void 0&&d!=null&&w(e,["encryption_spec","kmsKeyName"],d),t}function dae(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],e6(n,i));const r=y(e,["config"]);return r!=null&&uae(r,t),t}function fae(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["model"],e6(n,i));const r=y(e,["config"]);return r!=null&&cae(r,t),t}function hae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Mu(n,i)),t}function pae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Mu(n,i)),t}function gae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function mae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function vae(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function yae(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wae(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bae(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function Cae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Mu(n,i)),t}function Bae(n,e){const t={},i=y(e,["name"]);return i!=null&&w(t,["_url","name"],Mu(n,i)),t}function Eae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Sae(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function xae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function _ae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Tae(n){const e={},t=y(n,["config"]);return t!=null&&xae(t,e),e}function Iae(n){const e={},t=y(n,["config"]);return t!=null&&_ae(t,e),e}function Fae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Uae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Mae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],vae(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],yae(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],lae(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Pae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],wae(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function Rae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Eae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Sae(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Dae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>bae(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Nae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);return e!==void 0&&r!=null&&w(e,["expireTime"],r),t}function Lae(n,e){const t={},i=y(n,["ttl"]);e!==void 0&&i!=null&&w(e,["ttl"],i);const r=y(n,["expireTime"]);return e!==void 0&&r!=null&&w(e,["expireTime"],r),t}function Qae(n,e){const t={},i=y(e,["name"]);i!=null&&w(t,["_url","name"],Mu(n,i));const r=y(e,["config"]);return r!=null&&Nae(r,t),t}function kae(n,e){const t={},i=y(e,["name"]);i!=null&&w(t,["_url","name"],Mu(n,i));const r=y(e,["config"]);return r!=null&&Lae(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oae extends Uu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Sp(mu.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=fae(this.apiClient,e);return o=Ue("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=dae(this.apiClient,e);return o=Ue("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Bae(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Cae(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=pae(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=mae(d),g=new q3;return Object.assign(g,h),g})}else{const u=hae(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=gae(d),g=new q3;return Object.assign(g,h),g})}}async update(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=kae(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Qae(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Iae(e);return o=Ue("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Uae(d),g=new $3;return Object.assign(g,h),g})}else{const u=Tae(e);return o=Ue("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Fae(d),g=new $3;return Object.assign(g,h),g})}}}function eK(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function In(n){return this instanceof In?(this.v=n,this):new In(n)}function qg(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(v){return function(b){return Promise.resolve(b).then(v,h)}}function o(v,b){i[v]&&(r[v]=function(C){return new Promise(function(E,x){s.push([v,C,E,x])>1||l(v,C)})},b&&(r[v]=b(r[v])))}function l(v,b){try{u(i[v](b))}catch(C){g(s[0][3],C)}}function u(v){v.value instanceof In?Promise.resolve(v.value.v).then(d,h):g(s[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function g(v,b){v(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function xw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof eK=="function"?eK(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(a){return new Promise(function(o,l){a=n[s](a),r(o,l,a.done,a.value)})}}function r(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hae(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:f6(t)}function f6(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Vae(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function tK(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const r=[];let s=!0;for(;i<t&&n[i].role==="model";)r.push(n[i]),s&&!f6(n[i])&&(s=!1),i++;s?e.push(...r):e.pop()}return e}class Kae{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Gae(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Gae{constructor(e,t,i,r={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),Vae(s)}async sendMessage(e){var t;await this.sendPromise;const i=kr(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await r,u=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(h))!==null&&o!==void 0?o:[]);const v=u?[u]:[];this.recordHistory(i,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const i=kr(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,i)}getHistory(e=!1){const t=e?tK(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,r;return qg(this,arguments,function*(){var a,o,l,u;const d=[];try{for(var h=!0,g=xw(e),v;v=yield In(g.next()),a=v.done,!a;h=!0){u=v.value,h=!1;const b=u;if(Hae(b)){const C=(r=(i=b.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;C!==void 0&&d.push(C)}yield yield In(b)}}catch(b){o={error:b}}finally{try{!h&&!a&&(l=g.return)&&(yield In(l.call(g)))}finally{if(o)throw o.error}}this.recordHistory(t,d)})}recordHistory(e,t,i){let r=[];t.length>0&&t.every(s=>s.role!==void 0)?r=t:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...tK(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P1 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,P1.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zae(n){const e={},t=y(n,["file"]);return t!=null&&w(e,["file"],t),e}function qae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function $ae(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],a6(t)),e}function jae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Wae(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],a6(t)),e}function Yae(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function Xae(n){const e={},t=y(n,["config"]);return t!=null&&Yae(t,e),e}function Jae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zae extends Uu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Sp(mu.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Xae(e);return s=Ue("files",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Jae(l),d=new ise;return Object.assign(d,u),d})}}async createInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=zae(e);return s=Ue("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=qae(l),d=new rse;return Object.assign(d,u),d})}}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Wae(e);return s=Ue("files/{file}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=$ae(e);return s=Ue("files/{file}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=jae(l),d=new sse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hx(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function eoe(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>goe(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function toe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function noe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ioe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function roe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const i=y(n,["responseJsonSchema"]);i!=null&&w(e,["responseJsonSchema"],i);const r=y(n,["audioTimestamp"]);r!=null&&w(e,["audioTimestamp"],r);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const C=y(n,["responseSchema"]);C!=null&&w(e,["responseSchema"],C);const E=y(n,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const x=y(n,["seed"]);x!=null&&w(e,["seed"],x);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],h6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const P=y(n,["thinkingConfig"]);P!=null&&w(e,["thinkingConfig"],P);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const Q=y(n,["topP"]);if(Q!=null&&w(e,["topP"],Q),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function soe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function aoe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function ooe(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],i);const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],MQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],eoe(kr(b)));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=gy(C);Array.isArray(D)&&(D=D.map(Q=>voe(py(Q)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],moe(E));const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const P=y(n,["proactivity"]);return e!==void 0&&P!=null&&w(e,["setup","proactivity"],P),t}function Aoe(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],roe(i));const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],h6(MQ(h)));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],kr(b));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=gy(C);Array.isArray(D)&&(D=D.map(Q=>yoe(py(Q)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],E);const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const P=y(n,["proactivity"]);return e!==void 0&&P!=null&&w(e,["setup","proactivity"],P),t}function loe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Ot(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],ooe(r,t)),t}function uoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Ot(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],Aoe(r,t)),t}function coe(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&w(e,["musicGenerationConfig"],t),e}function doe(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["weightedPrompts"],i)}return e}function foe(n){const e={},t=y(n,["media"]);if(t!=null){let u=t6(t);Array.isArray(u)&&(u=u.map(d=>Hx(d))),w(e,["mediaChunks"],u)}const i=y(n,["audio"]);i!=null&&w(e,["audio"],Hx(i6(i)));const r=y(n,["audioStreamEnd"]);r!=null&&w(e,["audioStreamEnd"],r);const s=y(n,["video"]);s!=null&&w(e,["video"],Hx(n6(s)));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function hoe(n){const e={},t=y(n,["media"]);if(t!=null){let u=t6(t);Array.isArray(u)&&(u=u.map(d=>d)),w(e,["mediaChunks"],u)}const i=y(n,["audio"]);i!=null&&w(e,["audio"],i6(i));const r=y(n,["audioStreamEnd"]);r!=null&&w(e,["audioStreamEnd"],r);const s=y(n,["video"]);s!=null&&w(e,["video"],n6(s));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function poe(n){const e={},t=y(n,["setupComplete"]);t!=null&&w(e,["setupComplete"],t);const i=y(n,["serverContent"]);i!=null&&w(e,["serverContent"],i);const r=y(n,["toolCall"]);r!=null&&w(e,["toolCall"],r);const s=y(n,["toolCallCancellation"]);s!=null&&w(e,["toolCallCancellation"],s);const a=y(n,["usageMetadata"]);a!=null&&w(e,["usageMetadata"],woe(a));const o=y(n,["goAway"]);o!=null&&w(e,["goAway"],o);const l=y(n,["sessionResumptionUpdate"]);return l!=null&&w(e,["sessionResumptionUpdate"],l),e}function goe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],toe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],noe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Hx(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function moe(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function h6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const i=y(n,["voiceConfig"]);if(i!=null&&w(e,["voiceConfig"],i),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function voe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],soe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],aoe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function yoe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>ioe(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function woe(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&w(e,["promptTokenCount"],t);const i=y(n,["cachedContentTokenCount"]);i!=null&&w(e,["cachedContentTokenCount"],i);const r=y(n,["candidatesTokenCount"]);r!=null&&w(e,["responseTokenCount"],r);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&w(e,["toolUsePromptTokenCount"],s);const a=y(n,["thoughtsTokenCount"]);a!=null&&w(e,["thoughtsTokenCount"],a);const o=y(n,["totalTokenCount"]);o!=null&&w(e,["totalTokenCount"],o);const l=y(n,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["promptTokensDetails"],v)}const u=y(n,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["cacheTokensDetails"],v)}const d=y(n,["candidatesTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["responseTokensDetails"],v)}const h=y(n,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["toolUsePromptTokensDetails"],v)}const g=y(n,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function boe(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Coe(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const i=y(n,["citationMetadata"]);i!=null&&w(e,["citationMetadata"],Boe(i));const r=y(n,["tokenCount"]);r!=null&&w(e,["tokenCount"],r);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Boe(n){const e={},t=y(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>r)),w(e,["citations"],i)}return e}function Eoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["contents"]);if(r!=null){let s=Za(r);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["contents"],s)}return t}function Soe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(e,["tokensInfo"],r)}return e}function xoe(n){const e={},t=y(n,["values"]);t!=null&&w(e,["values"],t);const i=y(n,["statistics"]);return i!=null&&w(e,["statistics"],_oe(i)),e}function _oe(n){const e={},t=y(n,["truncated"]);t!=null&&w(e,["truncated"],t);const i=y(n,["token_count"]);return i!=null&&w(e,["tokenCount"],i),e}function R1(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>NAe(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function Toe(n){const e={},t=y(n,["controlType"]);t!=null&&w(e,["controlType"],t);const i=y(n,["enableControlImageComputation"]);return i!=null&&w(e,["computeControl"],i),e}function Ioe(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Foe(n,e){const t={},i=y(n,["systemInstruction"]);e!==void 0&&i!=null&&w(e,["systemInstruction"],kr(i));const r=y(n,["tools"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>y6(o))),w(e,["tools"],a)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&w(e,["generationConfig"],bAe(s)),t}function Uoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["contents"]);if(r!=null){let a=Za(r);Array.isArray(a)&&(a=a.map(o=>R1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Ioe(s),t}function Moe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["contents"]);if(r!=null){let a=Za(r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Foe(s,t),t}function Poe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["totalTokens"]);i!=null&&w(e,["totalTokens"],i);const r=y(n,["cachedContentTokenCount"]);return r!=null&&w(e,["cachedContentTokenCount"],r),e}function Roe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["totalTokens"]);return i!=null&&w(e,["totalTokens"],i),e}function Doe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Ot(n,i)),t}function Noe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Ot(n,i)),t}function Loe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Qoe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function koe(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["negativePrompt"]);e!==void 0&&r!=null&&w(e,["parameters","negativePrompt"],r);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const C=y(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","compressionQuality"],C);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const x=y(n,["labels"]);e!==void 0&&x!=null&&w(e,["labels"],x);const I=y(n,["editMode"]);e!==void 0&&I!=null&&w(e,["parameters","editMode"],I);const T=y(n,["baseSteps"]);return e!==void 0&&T!=null&&w(e,["parameters","editConfig","baseSteps"],T),t}function Ooe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>VAe(l))),w(t,["instances[0]","referenceImages"],o)}const a=y(e,["config"]);return a!=null&&koe(a,t),t}function Hoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>D1(s))),w(e,["generatedImages"],r)}return e}function Voe(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["requests[]","taskType"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["requests[]","title"],r);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Koe(n,e){const t={},i=y(n,["taskType"]);e!==void 0&&i!=null&&w(e,["instances[]","task_type"],i);const r=y(n,["title"]);e!==void 0&&r!=null&&w(e,["instances[]","title"],r);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&w(e,["parameters","outputDimensionality"],s);const a=y(n,["mimeType"]);e!==void 0&&a!=null&&w(e,["instances[]","mimeType"],a);const o=y(n,["autoTruncate"]);return e!==void 0&&o!=null&&w(e,["parameters","autoTruncate"],o),t}function Goe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["contents"]);if(r!=null){let o=IQ(n,r);Array.isArray(o)&&(o=o.map(l=>l)),w(t,["requests[]","content"],o)}const s=y(e,["config"]);s!=null&&Voe(s,t);const a=y(e,["model"]);return a!==void 0&&w(t,["requests[]","model"],Ot(n,a)),t}function zoe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["contents"]);if(r!=null){let a=IQ(n,r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&Koe(s,t),t}function qoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["embeddings"],s)}const r=y(n,["metadata"]);return r!=null&&w(e,["metadata"],r),e}function $oe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>xoe(a))),w(e,["embeddings"],s)}const r=y(n,["metadata"]);return r!=null&&w(e,["metadata"],r),e}function joe(n){const e={},t=y(n,["endpoint"]);t!=null&&w(e,["name"],t);const i=y(n,["deployedModelId"]);return i!=null&&w(e,["deployedModelId"],i),e}function Woe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Yoe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xoe(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const i=y(n,["allowedFunctionNames"]);if(i!=null&&w(e,["allowedFunctionNames"],i),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Joe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const i=y(n,["name"]);i!=null&&w(e,["name"],i);const r=y(n,["parameters"]);r!=null&&w(e,["parameters"],r);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function Zoe(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],R1(kr(r)));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(i,["seed"],C);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],FQ(x));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(i,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let q=T;Array.isArray(q)&&(q=q.map(X=>KAe(X))),w(t,["safetySettings"],q)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let q=gy(R);Array.isArray(q)&&(q=q.map(X=>YAe(py(X)))),w(t,["tools"],q)}const P=y(e,["toolConfig"]);if(t!==void 0&&P!=null&&w(t,["toolConfig"],WAe(P)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Mu(n,D));const Q=y(e,["responseModalities"]);Q!=null&&w(i,["responseModalities"],Q);const H=y(e,["mediaResolution"]);H!=null&&w(i,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(i,["speechConfig"],UQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=y(e,["thinkingConfig"]);K!=null&&w(i,["thinkingConfig"],K);const V=y(e,["imageConfig"]);return V!=null&&w(i,["imageConfig"],xAe(V)),i}function eAe(n,e,t){const i={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],kr(r));const s=y(e,["temperature"]);s!=null&&w(i,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(i,["topP"],a);const o=y(e,["topK"]);o!=null&&w(i,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(i,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(i,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(i,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(i,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(i,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(i,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(i,["seed"],C);const E=y(e,["responseMimeType"]);E!=null&&w(i,["responseMimeType"],E);const x=y(e,["responseSchema"]);x!=null&&w(i,["responseSchema"],FQ(x));const I=y(e,["responseJsonSchema"]);I!=null&&w(i,["responseJsonSchema"],I);const T=y(e,["routingConfig"]);T!=null&&w(i,["routingConfig"],T);const R=y(e,["modelSelectionConfig"]);R!=null&&w(i,["modelConfig"],R);const P=y(e,["safetySettings"]);if(t!==void 0&&P!=null){let G=P;Array.isArray(G)&&(G=G.map($=>$)),w(t,["safetySettings"],G)}const D=y(e,["tools"]);if(t!==void 0&&D!=null){let G=gy(D);Array.isArray(G)&&(G=G.map($=>y6(py($)))),w(t,["tools"],G)}const Q=y(e,["toolConfig"]);t!==void 0&&Q!=null&&w(t,["toolConfig"],Q);const H=y(e,["labels"]);t!==void 0&&H!=null&&w(t,["labels"],H);const k=y(e,["cachedContent"]);t!==void 0&&k!=null&&w(t,["cachedContent"],Mu(n,k));const K=y(e,["responseModalities"]);K!=null&&w(i,["responseModalities"],K);const V=y(e,["mediaResolution"]);V!=null&&w(i,["mediaResolution"],V);const q=y(e,["speechConfig"]);q!=null&&w(i,["speechConfig"],v6(UQ(q)));const X=y(e,["audioTimestamp"]);X!=null&&w(i,["audioTimestamp"],X);const ne=y(e,["thinkingConfig"]);ne!=null&&w(i,["thinkingConfig"],ne);const ge=y(e,["imageConfig"]);return ge!=null&&w(i,["imageConfig"],_Ae(ge)),i}function nK(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["contents"]);if(r!=null){let a=Za(r);Array.isArray(a)&&(a=a.map(o=>R1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],Zoe(n,s,t)),t}function iK(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["contents"]);if(r!=null){let a=Za(r);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],eAe(n,s,t)),t}function rK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Coe(u))),w(e,["candidates"],l)}const r=y(n,["modelVersion"]);r!=null&&w(e,["modelVersion"],r);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function sK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),w(e,["candidates"],u)}const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const s=y(n,["modelVersion"]);s!=null&&w(e,["modelVersion"],s);const a=y(n,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const o=y(n,["responseId"]);o!=null&&w(e,["responseId"],o);const l=y(n,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function tAe(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=y(n,["numberOfImages"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["aspectRatio"]);e!==void 0&&r!=null&&w(e,["parameters","aspectRatio"],r);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&w(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&w(e,["parameters","safetySetting"],a);const o=y(n,["personGeneration"]);e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o);const l=y(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&w(e,["parameters","includeSafetyAttributes"],l);const u=y(n,["includeRaiReason"]);e!==void 0&&u!=null&&w(e,["parameters","includeRaiReason"],u);const d=y(n,["language"]);e!==void 0&&d!=null&&w(e,["parameters","language"],d);const h=y(n,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const g=y(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(n,["imageSize"]);if(e!==void 0&&v!=null&&w(e,["parameters","sampleImageSize"],v),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function nAe(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["negativePrompt"]);e!==void 0&&r!=null&&w(e,["parameters","negativePrompt"],r);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const C=y(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","compressionQuality"],C);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&w(e,["parameters","addWatermark"],E);const x=y(n,["labels"]);e!==void 0&&x!=null&&w(e,["labels"],x);const I=y(n,["imageSize"]);e!==void 0&&I!=null&&w(e,["parameters","sampleImageSize"],I);const T=y(n,["enhancePrompt"]);return e!==void 0&&T!=null&&w(e,["parameters","enhancePrompt"],T),t}function iAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["config"]);return s!=null&&tAe(s,t),t}function rAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["config"]);return s!=null&&nAe(s,t),t}function sAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>mAe(a))),w(e,["generatedImages"],s)}const r=y(n,["positivePromptSafetyAttributes"]);return r!=null&&w(e,["positivePromptSafetyAttributes"],g6(r)),e}function aAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>D1(a))),w(e,["generatedImages"],s)}const r=y(n,["positivePromptSafetyAttributes"]);return r!=null&&w(e,["positivePromptSafetyAttributes"],m6(r)),e}function oAe(n,e){const t={},i=y(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=y(n,["durationSeconds"]);if(e!==void 0&&r!=null&&w(e,["parameters","durationSeconds"],r),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const a=y(n,["resolution"]);e!==void 0&&a!=null&&w(e,["parameters","resolution"],a);const o=y(n,["personGeneration"]);if(e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=y(n,["negativePrompt"]);e!==void 0&&l!=null&&w(e,["parameters","negativePrompt"],l);const u=y(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&w(e,["parameters","enhancePrompt"],u),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=y(n,["lastFrame"]);e!==void 0&&d!=null&&w(e,["instances[0]","lastFrame"],N1(d));const h=y(n,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>lle(v))),w(e,["instances[0]","referenceImages"],g)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function AAe(n,e){const t={},i=y(n,["numberOfVideos"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const s=y(n,["fps"]);e!==void 0&&s!=null&&w(e,["parameters","fps"],s);const a=y(n,["durationSeconds"]);e!==void 0&&a!=null&&w(e,["parameters","durationSeconds"],a);const o=y(n,["seed"]);e!==void 0&&o!=null&&w(e,["parameters","seed"],o);const l=y(n,["aspectRatio"]);e!==void 0&&l!=null&&w(e,["parameters","aspectRatio"],l);const u=y(n,["resolution"]);e!==void 0&&u!=null&&w(e,["parameters","resolution"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["pubsubTopic"]);e!==void 0&&h!=null&&w(e,["parameters","pubsubTopic"],h);const g=y(n,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const v=y(n,["enhancePrompt"]);e!==void 0&&v!=null&&w(e,["parameters","enhancePrompt"],v);const b=y(n,["generateAudio"]);e!==void 0&&b!=null&&w(e,["parameters","generateAudio"],b);const C=y(n,["lastFrame"]);e!==void 0&&C!=null&&w(e,["instances[0]","lastFrame"],Qo(C));const E=y(n,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(R=>ule(R))),w(e,["instances[0]","referenceImages"],T)}const x=y(n,["mask"]);e!==void 0&&x!=null&&w(e,["instances[0]","mask"],Ale(x));const I=y(n,["compressionQuality"]);return e!==void 0&&I!=null&&w(e,["parameters","compressionQuality"],I),t}function lAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],fAe(a)),e}function uAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],hAe(a)),e}function cAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],N1(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],w6(a));const o=y(e,["source"]);o!=null&&pAe(o,t);const l=y(e,["config"]);return l!=null&&oAe(l,t),t}function dAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["prompt"]);r!=null&&w(t,["instances[0]","prompt"],r);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],Qo(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],b6(a));const o=y(e,["source"]);o!=null&&gAe(o,t);const l=y(e,["config"]);return l!=null&&AAe(l,t),t}function fAe(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>yAe(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function hAe(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>wAe(a))),w(e,["generatedVideos"],s)}const i=y(n,["raiMediaFilteredCount"]);i!=null&&w(e,["raiMediaFilteredCount"],i);const r=y(n,["raiMediaFilteredReasons"]);return r!=null&&w(e,["raiMediaFilteredReasons"],r),e}function pAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],N1(r));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],w6(s)),t}function gAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],Qo(r));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],b6(s)),t}function mAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],TAe(t));const i=y(n,["raiFilteredReason"]);i!=null&&w(e,["raiFilteredReason"],i);const r=y(n,["_self"]);return r!=null&&w(e,["safetyAttributes"],g6(r)),e}function D1(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],p6(t));const i=y(n,["raiFilteredReason"]);i!=null&&w(e,["raiFilteredReason"],i);const r=y(n,["_self"]);r!=null&&w(e,["safetyAttributes"],m6(r));const s=y(n,["prompt"]);return s!=null&&w(e,["enhancedPrompt"],s),e}function vAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["mask"],p6(t));const i=y(n,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(e,["labels"],r)}return e}function yAe(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],ale(t)),e}function wAe(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],ole(t)),e}function bAe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const i=y(n,["responseJsonSchema"]);i!=null&&w(e,["responseJsonSchema"],i);const r=y(n,["audioTimestamp"]);r!=null&&w(e,["audioTimestamp"],r);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const C=y(n,["responseSchema"]);C!=null&&w(e,["responseSchema"],C);const E=y(n,["routingConfig"]);E!=null&&w(e,["routingConfig"],E);const x=y(n,["seed"]);x!=null&&w(e,["seed"],x);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],v6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const P=y(n,["thinkingConfig"]);P!=null&&w(e,["thinkingConfig"],P);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const Q=y(n,["topP"]);if(Q!=null&&w(e,["topP"],Q),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function CAe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Ot(n,i)),t}function BAe(n,e){const t={},i=y(e,["model"]);return i!=null&&w(t,["_url","name"],Ot(n,i)),t}function EAe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function SAe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function xAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);if(i!=null&&w(e,["imageSize"],i),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function _Ae(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const i=y(n,["imageSize"]);i!=null&&w(e,["imageSize"],i);const r=y(n,["outputMimeType"]);r!=null&&w(e,["imageOutputOptions","mimeType"],r);const s=y(n,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function TAe(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&w(e,["imageBytes"],$d(t));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function p6(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["imageBytes"],$d(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function N1(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&w(e,["bytesBase64Encoded"],$d(t));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function Qo(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["imageBytes"]);i!=null&&w(e,["bytesBase64Encoded"],$d(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function IAe(n,e,t){const i={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],o6(n,o)),i}function FAe(n,e,t){const i={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],o6(n,o)),i}function UAe(n,e){const t={},i=y(e,["config"]);return i!=null&&IAe(n,i,t),t}function MAe(n,e){const t={},i=y(e,["config"]);return i!=null&&FAe(n,i,t),t}function PAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["_self"]);if(r!=null){let s=A6(r);Array.isArray(s)&&(s=s.map(a=>UR(a))),w(e,["models"],s)}return e}function RAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["_self"]);if(r!=null){let s=A6(r);Array.isArray(s)&&(s=s.map(a=>MR(a))),w(e,["models"],s)}return e}function DAe(n){const e={},t=y(n,["maskMode"]);t!=null&&w(e,["maskMode"],t);const i=y(n,["segmentationClasses"]);i!=null&&w(e,["maskClasses"],i);const r=y(n,["maskDilation"]);return r!=null&&w(e,["dilation"],r),e}function UR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);r!=null&&w(e,["description"],r);const s=y(n,["version"]);s!=null&&w(e,["version"],s);const a=y(n,["_self"]);a!=null&&w(e,["tunedModelInfo"],XAe(a));const o=y(n,["inputTokenLimit"]);o!=null&&w(e,["inputTokenLimit"],o);const l=y(n,["outputTokenLimit"]);l!=null&&w(e,["outputTokenLimit"],l);const u=y(n,["supportedGenerationMethods"]);u!=null&&w(e,["supportedActions"],u);const d=y(n,["temperature"]);d!=null&&w(e,["temperature"],d);const h=y(n,["maxTemperature"]);h!=null&&w(e,["maxTemperature"],h);const g=y(n,["topP"]);g!=null&&w(e,["topP"],g);const v=y(n,["topK"]);v!=null&&w(e,["topK"],v);const b=y(n,["thinking"]);return b!=null&&w(e,["thinking"],b),e}function MR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["displayName"]);i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);r!=null&&w(e,["description"],r);const s=y(n,["versionId"]);s!=null&&w(e,["version"],s);const a=y(n,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>joe(g))),w(e,["endpoints"],h)}const o=y(n,["labels"]);o!=null&&w(e,["labels"],o);const l=y(n,["_self"]);l!=null&&w(e,["tunedModelInfo"],JAe(l));const u=y(n,["defaultCheckpointId"]);u!=null&&w(e,["defaultCheckpointId"],u);const d=y(n,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),w(e,["checkpoints"],h)}return e}function NAe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Woe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Yoe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],boe(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function LAe(n){const e={},t=y(n,["productImage"]);return t!=null&&w(e,["image"],Qo(t)),e}function QAe(n,e){const t={},i=y(n,["numberOfImages"]);e!==void 0&&i!=null&&w(e,["parameters","sampleCount"],i);const r=y(n,["baseSteps"]);e!==void 0&&r!=null&&w(e,["parameters","baseSteps"],r);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&w(e,["parameters","storageUri"],s);const a=y(n,["seed"]);e!==void 0&&a!=null&&w(e,["parameters","seed"],a);const o=y(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&w(e,["parameters","safetySetting"],o);const l=y(n,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const u=y(n,["addWatermark"]);e!==void 0&&u!=null&&w(e,["parameters","addWatermark"],u);const d=y(n,["outputMimeType"]);e!==void 0&&d!=null&&w(e,["parameters","outputOptions","mimeType"],d);const h=y(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","compressionQuality"],h);const g=y(n,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const v=y(n,["labels"]);return e!==void 0&&v!=null&&w(e,["labels"],v),t}function kAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["source"]);r!=null&&HAe(r,t);const s=y(e,["config"]);return s!=null&&QAe(s,t),t}function OAe(n){const e={},t=y(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>D1(r))),w(e,["generatedImages"],i)}return e}function HAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["personImage"]);e!==void 0&&r!=null&&w(e,["instances[0]","personImage","image"],Qo(r));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>LAe(o))),w(e,["instances[0]","productImages"],a)}return t}function VAe(n){const e={},t=y(n,["referenceImage"]);t!=null&&w(e,["referenceImage"],Qo(t));const i=y(n,["referenceId"]);i!=null&&w(e,["referenceId"],i);const r=y(n,["referenceType"]);r!=null&&w(e,["referenceType"],r);const s=y(n,["maskImageConfig"]);s!=null&&w(e,["maskImageConfig"],DAe(s));const a=y(n,["controlImageConfig"]);a!=null&&w(e,["controlImageConfig"],Toe(a));const o=y(n,["styleImageConfig"]);o!=null&&w(e,["styleImageConfig"],o);const l=y(n,["subjectImageConfig"]);return l!=null&&w(e,["subjectImageConfig"],l),e}function g6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const i=y(n,["safetyAttributes","scores"]);i!=null&&w(e,["scores"],i);const r=y(n,["contentType"]);return r!=null&&w(e,["contentType"],r),e}function m6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const i=y(n,["safetyAttributes","scores"]);i!=null&&w(e,["scores"],i);const r=y(n,["contentType"]);return r!=null&&w(e,["contentType"],r),e}function KAe(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(n,["threshold"]);return i!=null&&w(e,["threshold"],i),e}function GAe(n){const e={},t=y(n,["image"]);return t!=null&&w(e,["image"],Qo(t)),e}function zAe(n,e){const t={},i=y(n,["mode"]);e!==void 0&&i!=null&&w(e,["parameters","mode"],i);const r=y(n,["maxPredictions"]);e!==void 0&&r!=null&&w(e,["parameters","maxPredictions"],r);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&w(e,["parameters","confidenceThreshold"],s);const a=y(n,["maskDilation"]);e!==void 0&&a!=null&&w(e,["parameters","maskDilation"],a);const o=y(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&w(e,["parameters","binaryColorThreshold"],o);const l=y(n,["labels"]);return e!==void 0&&l!=null&&w(e,["labels"],l),t}function qAe(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["source"]);r!=null&&jAe(r,t);const s=y(e,["config"]);return s!=null&&zAe(s,t),t}function $Ae(n){const e={},t=y(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>vAe(r))),w(e,["generatedMasks"],i)}return e}function jAe(n,e){const t={},i=y(n,["prompt"]);e!==void 0&&i!=null&&w(e,["instances[0]","prompt"],i);const r=y(n,["image"]);e!==void 0&&r!=null&&w(e,["instances[0]","image"],Qo(r));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&w(e,["instances[0]","scribble"],GAe(s)),t}function v6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const i=y(n,["voiceConfig"]);if(i!=null&&w(e,["voiceConfig"],i),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function WAe(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Xoe(t));const i=y(n,["retrievalConfig"]);return i!=null&&w(e,["retrievalConfig"],i),e}function YAe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],EAe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],SAe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function y6(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>Joe(g))),w(e,["functionDeclarations"],h)}const i=y(n,["retrieval"]);i!=null&&w(e,["retrieval"],i);const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function XAe(n){const e={},t=y(n,["baseModel"]);t!=null&&w(e,["baseModel"],t);const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const r=y(n,["updateTime"]);return r!=null&&w(e,["updateTime"],r),e}function JAe(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&w(e,["baseModel"],t);const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const r=y(n,["updateTime"]);return r!=null&&w(e,["updateTime"],r),e}function ZAe(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);e!==void 0&&r!=null&&w(e,["description"],r);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function ele(n,e){const t={},i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const r=y(n,["description"]);e!==void 0&&r!=null&&w(e,["description"],r);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function tle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","name"],Ot(n,i));const r=y(e,["config"]);return r!=null&&ZAe(r,t),t}function nle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["config"]);return r!=null&&ele(r,t),t}function ile(n,e){const t={},i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const r=y(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&w(e,["parameters","safetySetting"],r);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&w(e,["parameters","personGeneration"],s);const a=y(n,["includeRaiReason"]);e!==void 0&&a!=null&&w(e,["parameters","includeRaiReason"],a);const o=y(n,["outputMimeType"]);e!==void 0&&o!=null&&w(e,["parameters","outputOptions","mimeType"],o);const l=y(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","compressionQuality"],l);const u=y(n,["enhanceInputImage"]);e!==void 0&&u!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=y(n,["imagePreservationFactor"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const v=y(n,["mode"]);return e!==void 0&&v!=null&&w(e,["parameters","mode"],v),t}function rle(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["_url","model"],Ot(n,i));const r=y(e,["image"]);r!=null&&w(t,["instances[0]","image"],Qo(r));const s=y(e,["upscaleFactor"]);s!=null&&w(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&ile(a,t),t}function sle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>D1(s))),w(e,["generatedImages"],r)}return e}function ale(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["encodedVideo"]);i!=null&&w(e,["videoBytes"],$d(i));const r=y(n,["encoding"]);return r!=null&&w(e,["mimeType"],r),e}function ole(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const i=y(n,["bytesBase64Encoded"]);i!=null&&w(e,["videoBytes"],$d(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Ale(n){const e={},t=y(n,["image"]);t!=null&&w(e,["_self"],Qo(t));const i=y(n,["maskMode"]);return i!=null&&w(e,["maskMode"],i),e}function lle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],N1(t));const i=y(n,["referenceType"]);return i!=null&&w(e,["referenceType"],i),e}function ule(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],Qo(t));const i=y(n,["referenceType"]);return i!=null&&w(e,["referenceType"],i),e}function w6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const i=y(n,["videoBytes"]);i!=null&&w(e,["encodedVideo"],$d(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["encoding"],r),e}function b6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["gcsUri"],t);const i=y(n,["videoBytes"]);i!=null&&w(e,["bytesBase64Encoded"],$d(i));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cle(n,e){const t={},i=y(n,["displayName"]);return e!==void 0&&i!=null&&w(e,["displayName"],i),t}function dle(n){const e={},t=y(n,["config"]);return t!=null&&cle(t,e),e}function fle(n,e){const t={},i=y(n,["force"]);return e!==void 0&&i!=null&&w(e,["_query","force"],i),t}function hle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const i=y(n,["config"]);return i!=null&&fle(i,e),e}function ple(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function gle(n,e){const t={},i=y(n,["customMetadata"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["customMetadata"],s)}const r=y(n,["chunkingConfig"]);return e!==void 0&&r!=null&&w(e,["chunkingConfig"],r),t}function mle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const i=y(n,["metadata"]);i!=null&&w(e,["metadata"],i);const r=y(n,["done"]);r!=null&&w(e,["done"],r);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],yle(a)),e}function vle(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const i=y(n,["fileName"]);i!=null&&w(e,["fileName"],i);const r=y(n,["config"]);return r!=null&&gle(r,e),e}function yle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["parent"]);i!=null&&w(e,["parent"],i);const r=y(n,["documentName"]);return r!=null&&w(e,["documentName"],r),e}function wle(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function ble(n){const e={},t=y(n,["config"]);return t!=null&&wle(t,e),e}function Cle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["fileSearchStores"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["fileSearchStores"],s)}return e}function C6(n,e){const t={},i=y(n,["mimeType"]);e!==void 0&&i!=null&&w(e,["mimeType"],i);const r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["customMetadata"],o)}const a=y(n,["chunkingConfig"]);return e!==void 0&&a!=null&&w(e,["chunkingConfig"],a),t}function Ble(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const i=y(n,["config"]);return i!=null&&C6(i,e),e}function Ele(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sle="Content-Type",xle="X-Server-Timeout",_le="User-Agent",PR="x-goog-api-client",Tle="1.31.0",Ile=`google-genai-sdk/${Tle}`,Fle="v1beta1",Ule="v1beta",aK=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Mle{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Fle,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Ule,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const r=[this.getRequestUrlInternal(t)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))r.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(t))typeof s=="object"?i[r]=Object.assign(Object.assign({},i[r]),s):s!==void 0&&(i[r]=s);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i,r){if(t&&t.timeout||r){const s=new AbortController,a=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>s.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),e.signal=a}return t&&t.extraBody!==null&&Ple(e,t.extraBody),e.headers=await this.getHeadersInternal(t,i),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await oK(r),new TR(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async r=>(await oK(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return qg(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield In(r.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(l,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),v=g.status,b=g.code,C=`got status: ${v}. ${JSON.stringify(h)}`;if(b>=400&&b<600)throw new P1({message:C,status:b})}}catch(h){if(h.name==="ApiError")throw h}a+=u;let d=a.match(aK);for(;d;){const h=d[1];try{const g=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield In(new TR(g)),a=a.slice(d[0].length),d=a.match(aK)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=Ile+" "+this.clientOptions.userAgentExtra;return e[_le]=t,e[PR]=t,e[Sle]="application/json",e}async getHeadersInternal(e,t){const i=new Headers;if(e&&e.headers){for(const[r,s]of Object.entries(e.headers))i.append(r,s);e.timeout&&e.timeout>0&&i.append(xle,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}async uploadFile(e,t){var i;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);r.sizeBytes=String(a.size);const o=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=o;const l={file:r},u=this.getFileName(e),d=Ue("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(d,r.sizeBytes,r.mimeType,u,l,t==null?void 0:t.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,i){var r;const s=this.clientOptions.uploader,a=await s.stat(t),o=String(a.size),l=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(t),h={};i!=null&&C6(i,h);const g=await this.fetchUploadUrl(u,o,l,d,h,i==null?void 0:i.httpOptions);return s.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,i,r,s,a){var o;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function oK(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(i);throw t>=400&&t<600?new P1({message:r,status:t}):new Error(r)}}function Ple(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=o[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[l]=i(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[l]=u)}return o}const r=i(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rle="mcp_used/unknown";let Dle=!1;function B6(n){for(const e of n)if(Nle(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Dle}function E6(n){var e;const t=(e=n[PR])!==null&&e!==void 0?e:"";n[PR]=(t+` ${Rle}`).trimStart()}function Nle(n){return n!==null&&typeof n=="object"&&n instanceof PQ}function Lle(n,e=100){return qg(this,arguments,function*(){let i,r=0;for(;r<e;){const s=yield In(n.listTools({cursor:i}));for(const a of s.tools)yield yield In(a),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class PQ{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new PQ(e,t)}async initialize(){var e,t,i,r;if(this.mcpTools.length>0)return;const s={},a=[];for(const d of this.mcpClients)try{for(var o=!0,l=(t=void 0,xw(Lle(d))),u;u=await l.next(),e=u.done,!e;o=!0){r=u.value,o=!1;const h=r;a.push(h);const g=h.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=d}}catch(h){t={error:h}}finally{try{!o&&!e&&(i=l.return)&&await i.call(l)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),pse(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await r.callTool({name:i.name,arguments:i.args},void 0,s);t.push({functionResponse:{name:i.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Qle(n,e,t){const i=new ose;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(i,r),e(i)}class kle{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=Vle(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(T=>{u=T}),h=e.callbacks,g=function(){u({})},v=this.apiClient,b={onopen:g,onmessage:T=>{Qle(v,h.onmessage,T)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(T){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(T){}},C=this.webSocketFactory.create(l,Hle(a),b);C.connect(),await d;const I={setup:{model:Ot(this.apiClient,e.model)}};return C.send(JSON.stringify(I)),new Ole(C,this.apiClient)}}class Ole{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=doe(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=coe(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Dg.PLAY)}pause(){this.sendPlaybackControl(Dg.PAUSE)}stop(){this.sendPlaybackControl(Dg.STOP)}resetContext(){this.sendPlaybackControl(Dg.RESET_CONTEXT)}close(){this.conn.close()}}function Hle(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function Vle(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kle="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Gle(n,e,t){const i=new ase;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const s=JSON.parse(r);if(n.isVertexAI()){const a=poe(s);Object.assign(i,a)}else Object.assign(i,s);e(i)}class zle{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new kle(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,r,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&B6(e.config.tools)&&E6(h);const g=Wle(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const k=this.apiClient.getApiKey();let K="BidiGenerateContent",V="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",V="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${K}?${V}=${k}`}let v=()=>{};const b=new Promise(k=>{v=k}),C=e.callbacks,E=function(){var k;(k=C==null?void 0:C.onopen)===null||k===void 0||k.call(C),v({})},x=this.apiClient,I={onopen:E,onmessage:k=>{Gle(x,C.onmessage,k)},onerror:(t=C==null?void 0:C.onerror)!==null&&t!==void 0?t:function(k){},onclose:(i=C==null?void 0:C.onclose)!==null&&i!==void 0?i:function(k){}},T=this.webSocketFactory.create(d,jle(g),I);T.connect(),await b;let R=Ot(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const k=this.apiClient.getProject(),K=this.apiClient.getLocation();R=`projects/${k}/locations/${K}/`+R}let P={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[$_.AUDIO]}:e.config.responseModalities=[$_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],Q=[];for(const k of D)if(this.isCallableTool(k)){const K=k;Q.push(await K.tool())}else Q.push(k);Q.length>0&&(e.config.tools=Q);const H={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?P=uoe(this.apiClient,H):P=loe(this.apiClient,H),delete P.config,T.send(JSON.stringify(P)),new $le(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const qle={turnComplete:!0};class $le{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Za(t.turns),e.isVertexAI()||(i=i.map(r=>R1(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Kle)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},qle),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:hoe(e)}:t={realtimeInput:foe(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function jle(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function Wle(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AK=10;function lK(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if($g(a)){r=!0;break}if(!r)return!0;const s=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function $g(n){return"callTool"in n&&typeof n.callTool=="function"}function Yle(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>$g(r)))!==null&&i!==void 0?i:!1}function uK(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,r)=>{if($g(i))return;const s=i;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(r)}),t}function cK(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xle extends Uu{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,r,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!Yle(t)||lK(t.config))return await this.generateContentInternal(l);const u=uK(t);if(u.length>0){const C=u.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let d,h;const g=Za(l.contents),v=(s=(r=(i=l.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:AK;let b=0;for(;b<v&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const C=d.candidates[0].content,E=[];for(const x of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if($g(x)){const T=await x.callTool(d.functionCalls);E.push(...T)}b++,h={role:"user",parts:E},l.contents=Za(l.contents),l.contents.push(C),l.contents.push(h),cK(l.config)&&(g.push(C),g.push(h))}return cK(l.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async t=>{var i,r,s,a,o;if(this.maybeMoveToResponseJsonSchem(t),lK(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const l=uK(t);if(l.length>0){const h=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(r=(i=t==null?void 0:t.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(o=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var r;let s;const a=[];if(i!=null&&i.generatedImages)for(const l of i.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((r=l==null?void 0:l.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:i.sdkHttpResponse},o}),this.list=async t=>{var i;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((i=a.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Sp(mu.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var i,r,s,a,o,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(s=t.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,i,r;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>$g(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&B6(e.config.tools)){const l=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),E6(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var t,i,r;const s=new Map;for(const a of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if($g(a)){const o=a,l=await o.tool();for(const u of(r=l.functionDeclarations)!==null&&r!==void 0?r:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,o)}}return s}async processAfcStream(e){var t,i,r;const s=(r=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:AK;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(u,d,h){var g,v;return qg(this,arguments,function*(){for(var b,C,E,x;o<s;){a&&(o++,a=!1);const P=yield In(u.processParamsMaybeAddMcpUsage(h)),D=yield In(u.generateContentStreamInternal(P)),Q=[],H=[];try{for(var I=!0,T=(C=void 0,xw(D)),R;R=yield In(T.next()),b=R.done,!b;I=!0){x=R.value,I=!1;const k=x;if(yield yield In(k),k.candidates&&(!((g=k.candidates[0])===null||g===void 0)&&g.content)){H.push(k.candidates[0].content);for(const K of(v=k.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(o<s&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(K.functionCall.name)){const V=yield In(d.get(K.functionCall.name).callTool([K.functionCall]));Q.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(k){C={error:k}}finally{try{!I&&!b&&(E=T.return)&&(yield In(E.call(T)))}finally{if(C)throw C.error}}if(Q.length>0){a=!0;const k=new C0;k.candidates=[{content:{role:"user",parts:Q}}],yield yield In(k);const K=[];K.push(...H),K.push({role:"user",parts:Q});const V=Za(h.contents).concat(K);h.contents=V}else break}})})(this,l,e)}async generateContentInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=iK(this.apiClient,e);return o=Ue("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=sK(d),g=new C0;return Object.assign(g,h),g})}else{const u=nK(this.apiClient,e);return o=Ue("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=rK(d),g=new C0;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=iK(this.apiClient,e);return o=Ue("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(h){return qg(this,arguments,function*(){var g,v,b,C;try{for(var E=!0,x=xw(h),I;I=yield In(x.next()),g=I.done,!g;E=!0){C=I.value,E=!1;const T=C,R=sK(yield In(T.json()));R.sdkHttpResponse={headers:T.headers};const P=new C0;Object.assign(P,R),yield yield In(P)}}catch(T){v={error:T}}finally{try{!E&&!g&&(b=x.return)&&(yield In(b.call(x)))}finally{if(v)throw v.error}}})})}else{const u=nK(this.apiClient,e);return o=Ue("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(h){return qg(this,arguments,function*(){var g,v,b,C;try{for(var E=!0,x=xw(h),I;I=yield In(x.next()),g=I.done,!g;E=!0){C=I.value,E=!1;const T=C,R=rK(yield In(T.json()));R.sdkHttpResponse={headers:T.headers};const P=new C0;Object.assign(P,R),yield yield In(P)}}catch(T){v={error:T}}finally{try{!E&&!g&&(b=x.return)&&(yield In(b.call(x)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=zoe(this.apiClient,e);return o=Ue("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=$oe(d),g=new k3;return Object.assign(g,h),g})}else{const u=Goe(this.apiClient,e);return o=Ue("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=qoe(d),g=new k3;return Object.assign(g,h),g})}}async generateImagesInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=rAe(this.apiClient,e);return o=Ue("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=aAe(d),g=new O3;return Object.assign(g,h),g})}else{const u=iAe(this.apiClient,e);return o=Ue("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=sAe(d),g=new O3;return Object.assign(g,h),g})}}async editImageInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Ooe(this.apiClient,e);return s=Ue("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Hoe(l),d=new Wre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=rle(this.apiClient,e);return s=Ue("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=sle(l),d=new Yre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=kAe(this.apiClient,e);return s=Ue("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=OAe(l),d=new Xre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=qAe(this.apiClient,e);return s=Ue("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=$Ae(l),d=new Jre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=BAe(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>MR(d))}else{const u=CAe(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>UR(d))}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=MAe(this.apiClient,e);return o=Ue("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=RAe(d),g=new H3;return Object.assign(g,h),g})}else{const u=UAe(this.apiClient,e);return o=Ue("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=PAe(d),g=new H3;return Object.assign(g,h),g})}}async update(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=nle(this.apiClient,e);return o=Ue("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>MR(d))}else{const u=tle(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>UR(d))}}async delete(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Noe(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Qoe(d),g=new V3;return Object.assign(g,h),g})}else{const u=Doe(this.apiClient,e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Loe(d),g=new V3;return Object.assign(g,h),g})}}async countTokens(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Moe(this.apiClient,e);return o=Ue("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Roe(d),g=new K3;return Object.assign(g,h),g})}else{const u=Uoe(this.apiClient,e);return o=Ue("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Poe(d),g=new K3;return Object.assign(g,h),g})}}async computeTokens(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Eoe(this.apiClient,e);return s=Ue("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>{const u=Soe(l),d=new Zre;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=dAe(this.apiClient,e);return o=Ue("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const h=uAe(d),g=new j_;return Object.assign(g,h),g})}else{const u=cAe(this.apiClient,e);return o=Ue("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const h=lAe(d),g=new j_;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jle extends Uu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Kre(e);return o=Ue("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a}else{const u=Vre(e);return o=Ue("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Dre(e);return s=Ue("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zle(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function eue(n){const e={},t=y(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>lue(s))),w(e,["parts"],r)}const i=y(n,["role"]);return i!=null&&w(e,["role"],i),e}function tue(n,e,t){const i={},r=y(e,["expireTime"]);t!==void 0&&r!=null&&w(t,["expireTime"],r);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&w(t,["newSessionExpireTime"],s);const a=y(e,["uses"]);t!==void 0&&a!=null&&w(t,["uses"],a);const o=y(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&w(t,["bidiGenerateContentSetup"],Aue(n,o));const l=y(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&w(t,["fieldMask"],l),i}function nue(n,e){const t={},i=y(e,["config"]);return i!=null&&w(t,["config"],tue(n,i,t)),t}function iue(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function rue(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const i=y(n,["args"]);i!=null&&w(e,["args"],i);const r=y(n,["name"]);if(r!=null&&w(e,["name"],r),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sue(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function aue(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function oue(n,e){const t={},i=y(n,["generationConfig"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig"],i);const r=y(n,["responseModalities"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig","responseModalities"],r);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],MQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],eue(kr(b)));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=gy(C);Array.isArray(D)&&(D=D.map(Q=>cue(py(Q)))),w(e,["setup","tools"],D)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&w(e,["setup","sessionResumption"],uue(E));const x=y(n,["inputAudioTranscription"]);e!==void 0&&x!=null&&w(e,["setup","inputAudioTranscription"],x);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const P=y(n,["proactivity"]);return e!==void 0&&P!=null&&w(e,["setup","proactivity"],P),t}function Aue(n,e){const t={},i=y(e,["model"]);i!=null&&w(t,["setup","model"],Ot(n,i));const r=y(e,["config"]);return r!=null&&w(t,["config"],oue(r,t)),t}function lue(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const i=y(n,["codeExecutionResult"]);i!=null&&w(e,["codeExecutionResult"],i);const r=y(n,["executableCode"]);r!=null&&w(e,["executableCode"],r);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],iue(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],rue(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Zle(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function uue(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function cue(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const r=y(n,["computerUse"]);r!=null&&w(e,["computerUse"],r);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],sue(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],aue(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function due(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(s=>`${t}.${s}`);e.push(...r)}else e.push(t)}return e.join(",")}function fue(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const s=due(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];r.length>0&&(o=r.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class hue extends Uu{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=nue(this.apiClient,e);s=Ue("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=fue(o,e.config);return r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pue(n,e){const t={},i=y(n,["force"]);return e!==void 0&&i!=null&&w(e,["_query","force"],i),t}function gue(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const i=y(n,["config"]);return i!=null&&pue(i,e),e}function mue(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function vue(n,e){const t={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const r=y(n,["pageToken"]);return e!==void 0&&r!=null&&w(e,["_query","pageToken"],r),t}function yue(n){const e={},t=y(n,["parent"]);t!=null&&w(e,["_url","parent"],t);const i=y(n,["config"]);return i!=null&&vue(i,e),e}function wue(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const i=y(n,["nextPageToken"]);i!=null&&w(e,["nextPageToken"],i);const r=y(n,["documents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bue extends Uu{constructor(e){super(),this.apiClient=e,this.list=async t=>new Sp(mu.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),await this.listInternal(t),t)}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=mue(e);return s=Ue("{name}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gue(e);r=Ue("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=yue(e);return s=Ue("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=wue(l),d=new ese;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cue extends Uu{constructor(e,t=new bue(e)){super(),this.apiClient=e,this.documents=t,this.list=async(i={})=>new Sp(mu.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=dle(e);return s=Ue("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async get(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ple(e);return s=Ue("{name}",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var t,i;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=hle(e);r=Ue("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ble(e);return s=Ue("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Cle(l),d=new tse;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ble(e);return s=Ue("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Ele(l),d=new nse;return Object.assign(d,u),d})}}async importFile(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=vle(e);return s=Ue("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=mle(l),d=new _Q;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Eue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Sue(n,e){const t={},i=y(n,["sdkHttpResponse"]);return i!=null&&w(t,["sdkHttpResponse"],i),t}function xue(n,e){const t={},i=y(n,["sdkHttpResponse"]);return i!=null&&w(t,["sdkHttpResponse"],i),t}function _ue(n,e,t){const i={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=y(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&w(e,["displayName"],r),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&w(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(n,["learningRateMultiplier"]);if(a!=null&&w(i,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=y(n,["batchSize"]);e!==void 0&&o!=null&&w(e,["tuningTask","hyperparameters","batchSize"],o);const l=y(n,["learningRate"]);if(e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","learningRate"],l),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function Tue(n,e,t){const i={};let r=y(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec"],dK(v))}else if(r==="PREFERENCE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec"],dK(v))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&w(e,["tunedModelDisplayName"],s);const a=y(n,["description"]);e!==void 0&&a!=null&&w(e,["description"],a);let o=y(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(o==="PREFERENCE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=y(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let u=y(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let d=y(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),i}function Iue(n,e){const t={},i=y(n,["baseModel"]);i!=null&&w(t,["baseModel"],i);const r=y(n,["preTunedModel"]);r!=null&&w(t,["preTunedModel"],r);const s=y(n,["trainingDataset"]);s!=null&&Oue(s);const a=y(n,["config"]);return a!=null&&_ue(a,t),t}function Fue(n,e){const t={},i=y(n,["baseModel"]);i!=null&&w(t,["baseModel"],i);const r=y(n,["preTunedModel"]);r!=null&&w(t,["preTunedModel"],r);const s=y(n,["trainingDataset"]);s!=null&&Hue(s,t,e);const a=y(n,["config"]);return a!=null&&Tue(a,t,e),t}function Uue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Mue(n,e){const t={},i=y(n,["name"]);return i!=null&&w(t,["_url","name"],i),t}function Pue(n,e,t){const i={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),i}function Rue(n,e,t){const i={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),i}function Due(n,e){const t={},i=y(n,["config"]);return i!=null&&Pue(i,t),t}function Nue(n,e){const t={},i=y(n,["config"]);return i!=null&&Rue(i,t),t}function Lue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const s=y(n,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>S6(o))),w(t,["tuningJobs"],a)}return t}function Que(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const s=y(n,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>RR(o))),w(t,["tuningJobs"],a)}return t}function kue(n,e){const t={},i=y(n,["name"]);i!=null&&w(t,["model"],i);const r=y(n,["name"]);return r!=null&&w(t,["endpoint"],r),t}function Oue(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=y(n,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),w(t,["examples","examples"],r)}return t}function Hue(n,e,t){const i={};let r=y(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(r==="PREFERENCE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function S6(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["state"]);s!=null&&w(t,["state"],s6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["tuningTask","startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["tuningTask","completeTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["description"]);d!=null&&w(t,["description"],d);const h=y(n,["baseModel"]);h!=null&&w(t,["baseModel"],h);const g=y(n,["_self"]);return g!=null&&w(t,["tunedModel"],kue(g)),t}function RR(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["state"]);s!=null&&w(t,["state"],s6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["error"]);d!=null&&w(t,["error"],d);const h=y(n,["description"]);h!=null&&w(t,["description"],h);const g=y(n,["baseModel"]);g!=null&&w(t,["baseModel"],g);const v=y(n,["tunedModel"]);v!=null&&w(t,["tunedModel"],v);const b=y(n,["preTunedModel"]);b!=null&&w(t,["preTunedModel"],b);const C=y(n,["supervisedTuningSpec"]);C!=null&&w(t,["supervisedTuningSpec"],C);const E=y(n,["preferenceOptimizationSpec"]);E!=null&&w(t,["preferenceOptimizationSpec"],E);const x=y(n,["tuningDataStats"]);x!=null&&w(t,["tuningDataStats"],x);const I=y(n,["encryptionSpec"]);I!=null&&w(t,["encryptionSpec"],I);const T=y(n,["partnerModelTuningSpec"]);T!=null&&w(t,["partnerModelTuningSpec"],T);const R=y(n,["customBaseModel"]);R!=null&&w(t,["customBaseModel"],R);const P=y(n,["experiment"]);P!=null&&w(t,["experiment"],P);const D=y(n,["labels"]);D!=null&&w(t,["labels"],D);const Q=y(n,["outputUri"]);Q!=null&&w(t,["outputUri"],Q);const H=y(n,["pipelineJob"]);H!=null&&w(t,["pipelineJob"],H);const k=y(n,["serviceAccount"]);k!=null&&w(t,["serviceAccount"],k);const K=y(n,["tunedModelDisplayName"]);K!=null&&w(t,["tunedModelDisplayName"],K);const V=y(n,["veoTuningSpec"]);return V!=null&&w(t,["veoTuningSpec"],V),t}function Vue(n,e){const t={},i=y(n,["sdkHttpResponse"]);i!=null&&w(t,["sdkHttpResponse"],i);const r=y(n,["name"]);r!=null&&w(t,["name"],r);const s=y(n,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(n,["done"]);a!=null&&w(t,["done"],a);const o=y(n,["error"]);return o!=null&&w(t,["error"],o),t}function dK(n,e){const t={},i=y(n,["gcsUri"]);i!=null&&w(t,["validationDatasetUri"],i);const r=y(n,["vertexDatasetResource"]);return r!=null&&w(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kue extends Uu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Sp(mu.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:r});return s.baseModel=void 0,await this.tuneInternal(s)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),s=await this.tuneMldevInternal(r);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:_R.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Mue(e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>RR(d))}else{const u=Uue(e);return o=Ue("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>S6(d))}}async listInternal(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Nue(e);return o=Ue("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Que(d),g=new G3;return Object.assign(g,h),g})}else{const u=Due(e);return o=Ue("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Lue(d),g=new G3;return Object.assign(g,h),g})}}async cancel(e){var t,i,r,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Eue(e);return o=Ue("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=xue(d),g=new z3;return Object.assign(g,h),g})}else{const u=Bue(e);return o=Ue("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Sue(d),g=new z3;return Object.assign(g,h),g})}}async tuneInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const o=Fue(e,e);return s=Ue("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>RR(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Iue(e);return s=Ue("tunedModels",o._url),a=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),r.then(l=>Vue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gue{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zue=1024*1024*8,que=3,$ue=1e3,jue=2,Y_="x-goog-upload-status";async function Wue(n,e,t){var i;const r=await x6(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[Y_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Yue(n,e,t){var i;const r=await x6(n,e,t),s=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[Y_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=Z$(s),o=new TQ;return Object.assign(o,a),o}async function x6(n,e,t){var i,r;let s=0,a=0,o=new TR(new Response),l="upload";for(s=n.size;a<s;){const u=Math.min(zue,s-a),d=n.slice(a,a+u);a+u>=s&&(l+=", finalize");let h=0,g=$ue;for(;h<que&&(o=await t.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((i=o==null?void 0:o.headers)===null||i===void 0)&&i[Y_]));)h++,await Jue(g),g=g*jue;if(a+=u,((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[Y_])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function Xue(n){return{size:n.size,type:n.type}}function Jue(n){return new Promise(e=>setTimeout(e,n))}class Zue{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Wue(e,t,i)}async uploadToFileSearchStore(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Yue(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Xue(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ece{create(e,t,i){return new tce(e,t,i)}}class tce{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fK="x-goog-api-key";class nce{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(fK)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(fK,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ice="gl-node/";class rce{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=Pre(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new nce(this.apiKey);this.apiClient=new Mle({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ice+"web",uploader:new Zue,downloader:new Gue}),this.models=new Xle(this.apiClient),this.live=new zle(this.apiClient,r,new ece),this.batches=new Aae(this.apiClient),this.chats=new Kae(this.models,this.apiClient),this.caches=new Oae(this.apiClient),this.files=new Zae(this.apiClient),this.operations=new Jle(this.apiClient),this.authTokens=new hue(this.apiClient),this.tunings=new Kue(this.apiClient),this.fileSearchStores=new Cue(this.apiClient)}}const sce="PLACEHOLDER_API_KEY",ace=new rce({apiKey:sce}),oce="gemini-2.5-flash",_6=async(n,e)=>{try{const t=`
      Context: The user is reading an educational text.
      Target Text: "${n}"
      ${e?`Surrounding Context: ${e}`:""}
      
      Task: Provide a concise, easy-to-understand explanation of the target text or concept. 
      Limit the response to 3 sentences. Tone: Academic but accessible.
    `;return(await ace.models.generateContent({model:oce,contents:t})).text||"Could not generate explanation."}catch(t){return console.error("AI Error:",t),"Error connecting to AI service."}},Yr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),DR=[.001,0,0,.001,0,0],nM=1.35,ia={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},wc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Lw="pdfjs_internal_editor_",dt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ft={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Ace={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},NR={TRIANGLES:1,LATTICE:2},lr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Vx={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},wi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},bg={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},L1={ERRORS:0,WARNINGS:1,INFOS:5},Qw={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},B0={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},lce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Q1=L1.WARNINGS;function uce(n){Number.isInteger(n)&&(Q1=n)}function cce(){return Q1}function k1(n){Q1>=L1.INFOS&&console.info(`Info: ${n}`)}function At(n){Q1>=L1.WARNINGS&&console.warn(`Warning: ${n}`)}function yn(n){throw new Error(n)}function Ut(n,e){n||yn(e)}function dce(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function T6(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=mce(n)}catch{}}const i=e?URL.parse(n,e):URL.parse(n);return dce(i)?i:null}function I6(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&T6(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function lt(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const xp=(function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class hK extends xp{constructor(e,t){super(e,"PasswordException"),this.code=t}}class iM extends xp{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}let LR=class extends xp{constructor(e){super(e,"InvalidPDFException")}},X_=class extends xp{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}};class fce extends xp{constructor(e){super(e,"FormatError")}}let kd=class extends xp{constructor(e){super(e,"AbortException")}};function F6(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&yn("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),a=n.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function QB(n){typeof n!="string"&&yn("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function hce(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function pce(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function gce(){try{return new Function(""),!0}catch{return!1}}class Er{static get isLittleEndian(){return lt(this,"isLittleEndian",pce())}static get isEvalSupported(){return lt(this,"isEvalSupported",gce())}static get isOffscreenCanvasSupported(){return lt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return lt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return lt(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return lt(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return lt(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return lt(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const rM=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var fu,bR,Kx,QR;let Ve=(bR=class{static makeHexColor(e,t,i){return`#${rM[e]}${rM[t]}${rM[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[i+d],g=e[i+d+1];e[i+d]=h*r+g*a+l,e[i+d+1]=h*s+g*o+u}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],d=e[0],h=e[1],g=e[2],v=e[3];let b=r*d+l,C=b,E=r*g+l,x=E,I=o*h+u,T=I,R=o*v+u,P=R;if(s!==0||a!==0){const D=s*d,Q=s*g,H=a*h,k=a*v;b+=H,x+=H,E+=k,C+=k,I+=D,P+=D,R+=Q,T+=Q}i[0]=Math.min(i[0],b,E,C,x),i[1]=Math.min(i[1],I,R,T,P),i[2]=Math.max(i[2],b,E,C,x),i[3]=Math.max(i[3],I,R,T,P)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],a=e[3],o=i**2+r**2,l=i*s+r*a,u=s**2+a**2,d=(o+u)/2,h=Math.sqrt(d**2-(o*u-l**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[i,s,r,a]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static bezierBoundingBox(e,t,i,r,s,a,o,l,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l),M(this,fu,QR).call(this,e,i,s,o,t,r,a,l,3*(-e+3*(i-s)+o),6*(e-2*i+s),3*(i-e),u),M(this,fu,QR).call(this,e,i,s,o,t,r,a,l,3*(-t+3*(r-a)+l),6*(t-2*r+a),3*(r-t),u)}},fu=new WeakSet,Kx=function(e,t,i,r,s,a,o,l,u,d){if(u<=0||u>=1)return;const h=1-u,g=u*u,v=g*u,b=h*(h*(h*e+3*u*t)+3*g*i)+v*r,C=h*(h*(h*s+3*u*a)+3*g*o)+v*l;d[0]=Math.min(d[0],b),d[1]=Math.min(d[1],C),d[2]=Math.max(d[2],b),d[3]=Math.max(d[3],C)},QR=function(e,t,i,r,s,a,o,l,u,d,h,g){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&M(this,fu,Kx).call(this,e,t,i,r,s,a,o,l,-h/d,g);return}const v=d**2-4*h*u;if(v<0)return;const b=Math.sqrt(v),C=2*u;M(this,fu,Kx).call(this,e,t,i,r,s,a,o,l,(-d+b)/C,g),M(this,fu,Kx).call(this,e,t,i,r,s,a,o,l,(-d-b)/C,g)},F(bR,fu),bR);function mce(n){return decodeURIComponent(escape(n))}let sM=null,pK=null;function vce(n){return sM||(sM=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,pK=new Map([["","t"]])),n.replaceAll(sM,(e,t,i)=>t?t.normalize("NFKC"):pK.get(i))}function U6(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),F6(n)}const Ng="pdfjs_internal_id_";function yce(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const a=s.length;let o=!0;switch(r.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Xr(n,e,t){return Math.min(Math.max(n,e),t)}function M6(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(F6(n))}function wce(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):QB(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class kw{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(kw.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}let P6=class{static setupStorage(e,t,i,r,s){const a=r.getValue(t,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?e.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{r.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,t,i)}static render(e){var h,g;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:i});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=v}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const v=document.createTextNode(r.value);a.append(v),o&&kw.shouldBuildText(r.name)&&u.push(v)}return{textDivs:u}}const d=[[r,-1,a]];for(;d.length>0;){const[v,b,C]=d.at(-1);if(b+1===v.children.length){d.pop();continue}const E=v.children[++d.at(-1)[1]];if(E===null)continue;const{name:x}=E;if(x==="#text"){const T=document.createTextNode(E.value);u.push(T),C.append(T);continue}const I=(h=E==null?void 0:E.attributes)!=null&&h.xmlns?document.createElementNS(E.attributes.xmlns,x):document.createElement(x);if(C.append(I),E.attributes&&this.setAttributes({html:I,element:E,storage:t,intent:s,linkService:i}),((g=E.children)==null?void 0:g.length)>0)d.push([E,-1,I]);else if(E.value){const T=document.createTextNode(E.value);o&&kw.shouldBuildText(x)&&u.push(T),I.append(T)}}for(const v of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}};const il="http://www.w3.org/2000/svg";var SA;let Yv=(SA=class{},me(SA,"CSS",96),me(SA,"PDF",72),me(SA,"PDF_TO_CSS_UNITS",SA.CSS/SA.PDF),SA);async function kB(n,e="text"){if(K0(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class OB{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=a,i*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,g,v;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,g=0,v=1;break;case 90:d=0,h=1,g=1,v=0;break;case 270:d=0,h=-1,g=-1,v=0;break;case 0:d=1,h=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,v=-v);let b,C,E,x;d===0?(b=Math.abs(u-e[1])*i+s,C=Math.abs(l-e[0])*i+a,E=(e[3]-e[1])*i,x=(e[2]-e[0])*i):(b=Math.abs(l-e[0])*i+s,C=Math.abs(u-e[1])*i+a,E=(e[2]-e[0])*i,x=(e[3]-e[1])*i),this.transform=[d*i,h*i,g*i,v*i,b-d*i*l-g*i*u,C-h*i*l-v*i*u],this.width=E,this.height=x}get rawDims(){const e=this.viewBox;return lt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new OB({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return Ve.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];Ve.applyTransform(t,this.transform);const i=[e[2],e[3]];return Ve.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return Ve.applyInverseTransform(i,this.transform),i}}let RQ=class extends xp{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function O1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function DQ(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function bce(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Cce(n,e="document.pdf"){if(typeof n!="string")return e;if(O1(n))return At('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=i.pathname.split("/").at(-1);if(s.test(a))return r(a);if(i.searchParams.size>0){const o=Array.from(i.searchParams.values()).reverse();for(const u of o)if(s.test(u))return r(u);const l=Array.from(i.searchParams.keys()).reverse();for(const u of l)if(s.test(u))return r(u)}if(i.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(l)return r(l[0])}return e}class gK{constructor(){me(this,"started",Object.create(null));me(this,"times",[])}time(e){e in this.started&&At(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||At(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function K0(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function no(n){n.preventDefault()}function ti(n){n.preventDefault(),n.stopPropagation()}function Bce(n){console.log("Deprecated API usage: "+n)}var CR,ob;let kR=(CR=class{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;f(this,ob)||_(this,ob,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,ob).exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(i,r,s,a,o,l))}},ob=new WeakMap,F(CR,ob),CR);function Ece(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new OB({viewBox:s,userUnit:1,scale:e,rotation:t})}function HB(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(At(`Not a valid color format: "${n}"`),[0,0,0])}function Sce(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,HB(i))}e.remove()}function Vn(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform();return[e,t,i,r,s,a]}function jo(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform().invertSelf();return[e,t,i,r,s,a]}function gp(n,e,t=!1,i=!0){if(e instanceof OB){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=n,o=Er.isCSSRoundSupported,l=`var(--total-scale-factor) * ${r}px`,u=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}i&&n.setAttribute("data-main-rotation",e.rotation)}let mp=class OR{constructor(){const{pixelRatio:e}=OR;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let a=1/0,o=1/0,l=1/0;i=OR.capPixels(i,s),i>0&&(a=Math.sqrt(i/(e*t))),r!==-1&&(o=r/e,l=r/t);const u=Math.min(a,o,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}};const HR=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class xce{static get isDarkMode(){var e;return lt(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}let _ce=class{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),lt(this,"commentForegroundColor",HB(i))}};function Tce(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function mK(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),a=Math.min(t,i,r),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((i-r)/l+(i<r?6:0))*60;break;case i:e[0]=((r-t)/l+2)*60;break;case r:e[0]=((t-i)/l+4)*60;break}}e[2]=o}function VR(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,a=s*(1-Math.abs(t/60%2-1)),o=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function vK(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function yK(n,e,t){VR(n,t),t.map(vK);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];VR(e,t),t.map(vK);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const wK=new Map;function Ice(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=wK.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),a=r.subarray(3,6);mK(n,a);const o=r.subarray(6,9);mK(e,o);const l=o[2]<.5,u=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),yK(a,o,s)<u){let d,h;l?(d=a[2],h=1):(d=0,h=a[2]);const g=.005;for(;h-d>g;){const v=a[2]=(d+h)/2;l===yK(a,o,s)<u?d=v:h=v}a[2]=l?h:d}return VR(a,s),i=Ve.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),wK.set(t,i),i}function R6({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const u=a[o];s.append(document.createTextNode(u)),o<l-1&&s.append(document.createElement("br"))}r.append(s)}else P6.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),i.append(r)}function D6(n){const e=new Path2D;if(!n)return e;for(let t=0,i=n.length;t<i;)switch(n[t++]){case B0.moveTo:e.moveTo(n[t++],n[t++]);break;case B0.lineTo:e.lineTo(n[t++],n[t++]);break;case B0.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case B0.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case B0.closePath:e.closePath();break;default:At(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var Cc,Bc,Ma,Pa,Ab,Ec,em,tm,lb,A1,N6,br,L6,Q6,Cg,G0;const ol=class ol{constructor(e){F(this,br);F(this,Cc,null);F(this,Bc,null);F(this,Ma);F(this,Pa,null);F(this,Ab,null);F(this,Ec,null);F(this,em,null);F(this,tm,null);_(this,Ma,e),f(ol,lb)||_(ol,lb,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=_(this,Cc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,Ma)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",no,{signal:t}),e.addEventListener("pointerdown",M(ol,A1,N6),{signal:t}));const i=_(this,Pa,document.createElement("div"));i.className="buttons",e.append(i);const r=f(this,Ma).toolbarPosition;if(r){const{style:s}=e,a=f(this,Ma)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return f(this,Cc)}hide(){var e;f(this,Cc).classList.add("hidden"),(e=f(this,Bc))==null||e.hideDropdown()}show(){var e,t;f(this,Cc).classList.remove("hidden"),(e=f(this,Ab))==null||e.shown(),(t=f(this,Ec))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=f(this,Ma),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",f(ol,lb)[e]),M(this,br,Cg).call(this,i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),f(this,Pa).append(i)}async addAltText(e){const t=await e.render();M(this,br,Cg).call(this,t),f(this,Pa).append(t,f(this,br,G0)),_(this,Ab,e)}addComment(e,t=null){if(f(this,Ec))return;const i=e.renderForToolbar();if(!i)return;M(this,br,Cg).call(this,i);const r=_(this,em,f(this,br,G0));t?(f(this,Pa).insertBefore(i,t),f(this,Pa).insertBefore(r,t)):f(this,Pa).append(i,r),_(this,Ec,e),e.toolbar=this}addColorPicker(e){if(f(this,Bc))return;_(this,Bc,e);const t=e.renderButton();M(this,br,Cg).call(this,t),f(this,Pa).append(t,f(this,br,G0))}async addEditSignatureButton(e){const t=_(this,tm,await e.renderEditButton(f(this,Ma)));M(this,br,Cg).call(this,t),f(this,Pa).append(t,f(this,br,G0))}removeButton(e){var t,i;switch(e){case"comment":(t=f(this,Ec))==null||t.removeToolbarCommentButton(),_(this,Ec,null),(i=f(this,em))==null||i.remove(),_(this,em,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,i){if(!t&&e==="comment")return;const r=f(this,Pa).querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){f(this,tm)&&(f(this,tm).title=e)}remove(){var e;f(this,Cc).remove(),(e=f(this,Bc))==null||e.destroy(),_(this,Bc,null)}};Cc=new WeakMap,Bc=new WeakMap,Ma=new WeakMap,Pa=new WeakMap,Ab=new WeakMap,Ec=new WeakMap,em=new WeakMap,tm=new WeakMap,lb=new WeakMap,A1=new WeakSet,N6=function(e){e.stopPropagation()},br=new WeakSet,L6=function(e){f(this,Ma)._focusEventsAllowed=!1,ti(e)},Q6=function(e){f(this,Ma)._focusEventsAllowed=!0,ti(e)},Cg=function(e){const t=f(this,Ma)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",M(this,br,L6).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",M(this,br,Q6).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",no,{signal:t}),!0)},G0=function(){const e=document.createElement("div");return e.className="divider",e},F(ol,A1),F(ol,lb,null);let KR=ol;var ub,Nf,cl,_u,k6,O6,GR;class Fce{constructor(e){F(this,_u);F(this,ub,null);F(this,Nf,null);F(this,cl);_(this,cl,e)}show(e,t,i){const[r,s]=M(this,_u,O6).call(this,t,i),{style:a}=f(this,Nf)||_(this,Nf,M(this,_u,k6).call(this));e.append(f(this,Nf)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,Nf).remove()}}ub=new WeakMap,Nf=new WeakMap,cl=new WeakMap,_u=new WeakSet,k6=function(){const e=_(this,Nf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,cl)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",no,{signal:t});const i=_(this,ub,document.createElement("div"));return i.className="buttons",e.append(i),f(this,cl).hasCommentManager()&&M(this,_u,GR).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{f(this,cl).commentSelection("floating_button")}),M(this,_u,GR).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{f(this,cl).highlightSelection("floating_button")}),e},O6=function(e,t){let i=0,r=0;for(const s of e){const a=s.y+s.height;if(a<i)continue;const o=s.x+(t?s.width:0);if(a>i){r=o,i=a;continue}t?o>r&&(r=o):o<r&&(r=o)}return[t?1-r:r,i]},GR=function(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",i);const o=f(this,cl)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",no,{signal:o}),s.addEventListener("click",r,{signal:o})),f(this,ub).append(s)};function H6(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var Lf,Qf,nm,kf;const sn=class sn{static initializeAndAddPointerId(e){(f(sn,Qf)||_(sn,Qf,new Set)).add(e)}static setPointer(e,t){f(sn,Lf)||_(sn,Lf,t),f(sn,kf)??_(sn,kf,e)}static setTimeStamp(e){_(sn,nm,e)}static isSamePointerId(e){return f(sn,Lf)===e}static isSamePointerIdOrRemove(e){var t;return f(sn,Lf)===e?!0:((t=f(sn,Qf))==null||t.delete(e),!1)}static isSamePointerType(e){return f(sn,kf)===e}static isInitializedAndDifferentPointerType(e){return f(sn,kf)!==null&&!sn.isSamePointerType(e)}static isSameTimeStamp(e){return f(sn,nm)===e}static isUsingMultiplePointers(){var e;return((e=f(sn,Qf))==null?void 0:e.size)>=1}static clearPointerType(){_(sn,kf,null)}static clearPointerIds(){_(sn,Lf,NaN),_(sn,Qf,null)}static clearTimeStamp(){_(sn,nm,NaN)}};Lf=new WeakMap,Qf=new WeakMap,nm=new WeakMap,kf=new WeakMap,F(sn,Lf,NaN),F(sn,Qf,null),F(sn,nm,NaN),F(sn,kf,null);let Ir=sn;var l1;class Uce{constructor(){F(this,l1,0)}get id(){return`${Lw}${ai(this,l1)._++}`}}l1=new WeakMap;var im,cb,Fr,rm,Gx;const NO=class NO{constructor(){F(this,rm);F(this,im,U6());F(this,cb,0);F(this,Fr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return lt(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return M(this,rm,Gx).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return M(this,rm,Gx).call(this,e,e)}async getFromBlob(e,t){const i=await t;return M(this,rm,Gx).call(this,e,i)}async getFromId(e){f(this,Fr)||_(this,Fr,new Map);const t=f(this,Fr).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,Fr)||_(this,Fr,new Map);let i=f(this,Fr).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${f(this,im)}_${ai(this,cb)._++}`,refCounter:1,isSvg:!1},f(this,Fr).set(e,i),f(this,Fr).set(i.id,i),i}getSvgUrl(e){const t=f(this,Fr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;f(this,Fr)||_(this,Fr,new Map);const t=f(this,Fr).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,im)}_`)}};im=new WeakMap,cb=new WeakMap,Fr=new WeakMap,rm=new WeakSet,Gx=async function(e,t){f(this,Fr)||_(this,Fr,new Map);let i=f(this,Fr).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${f(this,im)}_${ai(this,cb)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await kB(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=NO._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,u()},a.onload=async()=>{const h=i.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){At(r),i=null}return f(this,Fr).set(e,i),i&&f(this,Fr).set(i.id,i),i};let zR=NO;var li,Sc,db,Hn;class Mce{constructor(e=128){F(this,li,[]);F(this,Sc,!1);F(this,db);F(this,Hn,-1);_(this,db,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&e(),f(this,Sc))return;const l={cmd:e,undo:t,post:i,type:s};if(f(this,Hn)===-1){f(this,li).length>0&&(f(this,li).length=0),_(this,Hn,0),f(this,li).push(l);return}if(a&&f(this,li)[f(this,Hn)].type===s){o&&(l.undo=f(this,li)[f(this,Hn)].undo),f(this,li)[f(this,Hn)]=l;return}const u=f(this,Hn)+1;u===f(this,db)?f(this,li).splice(0,1):(_(this,Hn,u),u<f(this,li).length&&f(this,li).splice(u)),f(this,li).push(l)}undo(){if(f(this,Hn)===-1)return;_(this,Sc,!0);const{undo:e,post:t}=f(this,li)[f(this,Hn)];e(),t==null||t(),_(this,Sc,!1),_(this,Hn,f(this,Hn)-1)}redo(){if(f(this,Hn)<f(this,li).length-1){_(this,Hn,f(this,Hn)+1),_(this,Sc,!0);const{cmd:e,post:t}=f(this,li)[f(this,Hn)];e(),t==null||t(),_(this,Sc,!1)}}hasSomethingToUndo(){return f(this,Hn)!==-1}hasSomethingToRedo(){return f(this,Hn)<f(this,li).length-1}cleanType(e){if(f(this,Hn)!==-1){for(let t=f(this,Hn);t>=0;t--)if(f(this,li)[t].type!==e){f(this,li).splice(t+1,f(this,Hn)-t),_(this,Hn,t);return}f(this,li).length=0,_(this,Hn,-1)}}destroy(){_(this,li,null)}}li=new WeakMap,Sc=new WeakMap,db=new WeakMap,Hn=new WeakMap;var u1,V6;class VB{constructor(e){F(this,u1);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Er.platform;for(const[i,r,s={}]of e)for(const a of i){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(M(this,u1,V6).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=i;o&&!o(e,t)||(r.bind(e,...a,t)(),s||ti(t))}}u1=new WeakSet,V6=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const c1=class c1{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Sce(e),lt(this,"_colors",e)}convert(e){const t=HB(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,a)=>s===t[a]))return c1._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?Ve.makeHexColor(...t):e}};me(c1,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let qR=c1;var sm,Qs,am,jn,Fi,om,Ra,Am,Da,Ur,xc,_c,lm,Tc,Zo,Na,Of,fb,hb,um,pb,eA,Ic,cm,Fc,tA,d1,Uc,dm,gb,Mc,Hf,fm,Pc,mb,bi,jt,dl,Rc,Dc,vb,hm,yb,Nc,nA,fl,wb,bb,La,au,Ie,zx,$R,K6,G6,z0,z6,q6,$6,jR,j6,W6,Y6,X6,Kr,rl,J6,Z6,WR,ej,q0,YR;let Ow=(au=class{constructor(e,t,i,r,s,a,o,l,u,d,h,g,v,b,C,E){F(this,Ie);F(this,sm,new AbortController);F(this,Qs,null);F(this,am,null);F(this,jn,new Map);F(this,Fi,new Map);F(this,om,null);F(this,Ra,null);F(this,Am,null);F(this,Da,new Mce);F(this,Ur,null);F(this,xc,null);F(this,_c,null);F(this,lm,0);F(this,Tc,new Set);F(this,Zo,null);F(this,Na,null);F(this,Of,new Set);me(this,"_editorUndoBar",null);F(this,fb,!1);F(this,hb,!1);F(this,um,!1);F(this,pb,null);F(this,eA,null);F(this,Ic,null);F(this,cm,null);F(this,Fc,!1);F(this,tA,null);F(this,d1,new Uce);F(this,Uc,!1);F(this,dm,!1);F(this,gb,!1);F(this,Mc,null);F(this,Hf,null);F(this,fm,null);F(this,Pc,null);F(this,mb,null);F(this,bi,dt.NONE);F(this,jt,new Set);F(this,dl,null);F(this,Rc,null);F(this,Dc,null);F(this,vb,null);F(this,hm,null);F(this,yb,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});F(this,Nc,[0,0]);F(this,nA,null);F(this,fl,null);F(this,wb,null);F(this,bb,null);F(this,La,null);const x=this._signal=f(this,sm).signal;_(this,fl,e),_(this,wb,t),_(this,bb,i),_(this,om,r),_(this,Ur,s),_(this,Rc,a),_(this,hm,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:x}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),o._on("setpreference",this.onSetPreference.bind(this),{signal:x}),o._on("switchannotationeditorparams",I=>this.updateParams(I.type,I.value),{signal:x}),window.addEventListener("pointerdown",()=>{_(this,dm,!0)},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{_(this,dm,!1)},{capture:!0,signal:x}),M(this,Ie,z6).call(this),M(this,Ie,X6).call(this),M(this,Ie,jR).call(this),_(this,Ra,l.annotationStorage),_(this,pb,l.filterFactory),_(this,Dc,u),_(this,cm,d||null),_(this,fb,h),_(this,hb,g),_(this,um,v),_(this,mb,b||null),this.viewParameters={realScale:Yv.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=C||null,this._supportsPinchToZoom=E!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=au.prototype,t=a=>f(a,fl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return lt(this,"_keyboardManager",new VB([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,fl).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,fl).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i,r,s,a,o,l,u;(e=f(this,La))==null||e.resolve(),_(this,La,null),(t=f(this,sm))==null||t.abort(),_(this,sm,null),this._signal=null;for(const d of f(this,Fi).values())d.destroy();f(this,Fi).clear(),f(this,jn).clear(),f(this,Of).clear(),(i=f(this,Pc))==null||i.clear(),_(this,Qs,null),f(this,jt).clear(),f(this,Da).destroy(),(r=f(this,om))==null||r.destroy(),(s=f(this,Ur))==null||s.destroy(),(a=f(this,Rc))==null||a.destroy(),(o=f(this,tA))==null||o.hide(),_(this,tA,null),(l=f(this,fm))==null||l.destroy(),_(this,fm,null),_(this,am,null),f(this,eA)&&(clearTimeout(f(this,eA)),_(this,eA,null)),f(this,nA)&&(clearTimeout(f(this,nA)),_(this,nA,null)),(u=this._editorUndoBar)==null||u.destroy(),_(this,hm,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,mb)}get useNewAltTextFlow(){return f(this,hb)}get useNewAltTextWhenAddingImage(){return f(this,um)}get hcmFilter(){return lt(this,"hcmFilter",f(this,Dc)?f(this,pb).addHCMFilter(f(this,Dc).foreground,f(this,Dc).background):"none")}get direction(){return lt(this,"direction",getComputedStyle(f(this,fl)).direction)}get _highlightColors(){return lt(this,"_highlightColors",f(this,cm)?new Map(f(this,cm).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return lt(this,"highlightColors",null);const t=new Map,i=!!f(this,Dc);for(const[r,s]of e){const a=r.endsWith("_HCM");if(i&&a){t.set(r.replace("_HCM",""),s);continue}!i&&!a&&t.set(r,s)}return lt(this,"highlightColors",t)}get highlightColorNames(){return lt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),_(this,_c,e)}setMainHighlightColorPicker(e){_(this,fm,e)}editAltText(e,t=!1){var i;(i=f(this,om))==null||i.editAltText(this,e,t)}hasCommentManager(){return!!f(this,Ur)}editComment(e,t,i,r){var s;(s=f(this,Ur))==null||s.showDialog(this,e,t,i,r)}selectComment(e,t){const i=f(this,Fi).get(e),r=i==null?void 0:i.getEditorByUID(t);r==null||r.toggleComment(!0,!0)}updateComment(e){var t;(t=f(this,Ur))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=f(this,Ur))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=f(this,Ur))==null||t.removeComments([e.uid])}toggleComment(e,t,i=void 0){var r;(r=f(this,Ur))==null||r.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){var i;return e&&((i=f(this,Ur))==null?void 0:i.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=f(this,Ur))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(f(this,Fi).has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){var t;(t=f(this,Rc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return f(this,Rc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":_(this,um,t);break}}onPageChanging({pageNumber:e}){_(this,lm,e-1)}focusMainContainer(){f(this,fl).focus()}findParent(e,t){for(const i of f(this,Fi).values()){const{x:r,y:s,width:a,height:o}=i.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=s&&t<=s+o)return i}return null}disableUserSelect(e=!1){f(this,wb).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,Of).add(e)}removeShouldRescale(e){f(this,Of).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Yv.PDF_TO_CSS_UNITS;for(const i of f(this,Of))i.onScaleChanging();(t=f(this,_c))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o}=i,l=i.toString(),d=M(this,Ie,zx).call(this,i).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;i.empty();const g=M(this,Ie,$R).call(this,d),v=f(this,bi)===dt.NONE,b=()=>{const C=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o,text:l});v&&this.showAllEditors("highlight",!0,!0),t&&(C==null||C.editComment())};if(v){this.switchToMode(dt.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!f(this,Ra))return null;const t=`${Lw}${e}`,i=f(this,Ra).getRawValue(t);return i&&f(this,Ra).remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&f(this,Ra)&&!f(this,Ra).has(e.id)&&f(this,Ra).setValue(e.id,e)}a11yAlert(e,t=null){const i=f(this,bb);i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,f(this,Fc)&&(_(this,Fc,!1),M(this,Ie,z0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,jt))if(t.div.contains(e)){_(this,Hf,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,Hf))return;const[e,t]=f(this,Hf);_(this,Hf,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){M(this,Ie,jR).call(this),this.setEditingState(!0)}removeEditListeners(){M(this,Ie,j6).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of f(this,Na))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of f(this,Na))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=f(this,Qs))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of f(this,jt)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of f(this,Na))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){At(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const u=await r.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)M(this,Ie,WR).call(this,l);M(this,Ie,YR).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){At(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,bi)!==dt.NONE&&!this.isEditorHandlingKeyboard&&au._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,Fc)&&(_(this,Fc,!1),M(this,Ie,z0).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(M(this,Ie,q6).call(this),M(this,Ie,W6).call(this),M(this,Ie,Kr).call(this,{isEditing:f(this,bi)!==dt.NONE,isEmpty:M(this,Ie,q0).call(this),hasSomethingToUndo:f(this,Da).hasSomethingToUndo(),hasSomethingToRedo:f(this,Da).hasSomethingToRedo(),hasSelectedEditor:!1})):(M(this,Ie,$6).call(this),M(this,Ie,Y6).call(this),M(this,Ie,Kr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,Na)){_(this,Na,e);for(const t of f(this,Na))M(this,Ie,rl).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,d1).id}get currentLayer(){return f(this,Fi).get(f(this,lm))}getLayer(e){return f(this,Fi).get(e)}get currentPageIndex(){return f(this,lm)}addLayer(e){f(this,Fi).set(e.pageIndex,e),f(this,Uc)?e.enable():e.disable()}removeLayer(e){f(this,Fi).delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1){var a,o,l,u,d,h;if(f(this,bi)!==e&&!(f(this,La)&&(await f(this,La).promise,!f(this,La)))){if(_(this,La,Promise.withResolvers()),(a=f(this,_c))==null||a.commitOrRemove(),f(this,bi)===dt.POPUP&&((o=f(this,Ur))==null||o.hideSidebar()),(l=f(this,Ur))==null||l.destroyPopup(),_(this,bi,e),e===dt.NONE){this.setEditingState(!1),M(this,Ie,Z6).call(this);for(const g of f(this,jn).values())g.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),f(this,La).resolve();return}for(const g of f(this,jn).values())g.addStandaloneCommentButton();e===dt.SIGNATURE&&await((d=f(this,Rc))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await M(this,Ie,J6).call(this),this.unselectAll();for(const g of f(this,Fi).values())g.updateMode(e);if(e===dt.POPUP){f(this,am)||_(this,am,await f(this,hm).getAnnotationsByType(new Set(f(this,Na).map(b=>b._editorType))));const g=new Set,v=[];for(const b of f(this,jn).values()){const{annotationElementId:C,hasComment:E,deleted:x}=b;C&&g.add(C),E&&!x&&v.push(b.getData())}for(const b of f(this,am)){const{id:C,popupRef:E,contentsObj:x}=b;E&&(x!=null&&x.str)&&!g.has(C)&&!f(this,Tc).has(C)&&v.push(b)}(h=f(this,Ur))==null||h.showSidebar(v)}if(!t){i&&this.addNewEditorFromKeyboard(),f(this,La).resolve();return}for(const g of f(this,jn).values())g.uid===t?(this.setSelected(g),s?g.editComment():r?g.enterInEditMode():g.focus()):g.unselect();f(this,La).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==f(this,bi)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(f(this,Na)){switch(e){case Ft.CREATE:this.currentLayer.addNewEditor(t);return;case Ft.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,vb)||_(this,vb,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of f(this,jt))i.updateParams(e,t);else for(const i of f(this,Na))i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const a of f(this,jn).values())a.editorType===e&&a.show(t);(((s=f(this,vb))==null?void 0:s.get(Ft.HIGHLIGHT_SHOW_ALL))??!0)!==t&&M(this,Ie,rl).call(this,[[Ft.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,gb)!==e){_(this,gb,e);for(const t of f(this,Fi).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of f(this,jn).values())t.pageIndex===e&&(yield t)}getEditor(e){return f(this,jn).get(e)}addEditor(e){f(this,jn).set(e.id,e)}removeEditor(e){var t,i;e.div.contains(document.activeElement)&&(f(this,eA)&&clearTimeout(f(this,eA)),_(this,eA,setTimeout(()=>{this.focusMainContainer(),_(this,eA,null)},0))),f(this,jn).delete(e.id),e.annotationElementId&&((t=f(this,Pc))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!f(this,Tc).has(e.annotationElementId))&&((i=f(this,Ra))==null||i.remove(e.id))}addDeletedAnnotationElement(e){f(this,Tc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,Tc).has(e)}removeDeletedAnnotationElement(e){f(this,Tc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,Qs)!==e&&(_(this,Qs,e),e&&M(this,Ie,rl).call(this,e.propertiesToUpdate))}updateUI(e){f(this,Ie,ej)===e&&M(this,Ie,rl).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){M(this,Ie,rl).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(f(this,jt).has(e)){f(this,jt).delete(e),e.unselect(),M(this,Ie,Kr).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,jt).add(e),e.select(),M(this,Ie,rl).call(this,e.propertiesToUpdate),M(this,Ie,Kr).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=f(this,_c))==null||t.commitOrRemove();for(const i of f(this,jt))i!==e&&i.unselect();f(this,jt).clear(),f(this,jt).add(e),e.select(),M(this,Ie,rl).call(this,e.propertiesToUpdate),M(this,Ie,Kr).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,jt).has(e)}get firstSelectedEditor(){return f(this,jt).values().next().value}unselect(e){e.unselect(),f(this,jt).delete(e),M(this,Ie,Kr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,jt).size!==0}get isEnterHandled(){return f(this,jt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;f(this,Da).undo(),M(this,Ie,Kr).call(this,{hasSomethingToUndo:f(this,Da).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:M(this,Ie,q0).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){f(this,Da).redo(),M(this,Ie,Kr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,Da).hasSomethingToRedo(),isEmpty:M(this,Ie,q0).call(this)})}addCommands(e){f(this,Da).add(e),M(this,Ie,Kr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:M(this,Ie,q0).call(this)})}cleanUndoStack(e){f(this,Da).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...f(this,jt)],i=()=>{var a;(a=this._editorUndoBar)==null||a.show(r,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},r=()=>{for(const a of t)M(this,Ie,WR).call(this,a)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=f(this,Qs))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,Qs)||this.hasSelection}selectAll(){for(const e of f(this,jt))e.commit();M(this,Ie,YR).call(this,f(this,jn).values())}unselectAll(){var e;if(!(f(this,Qs)&&(f(this,Qs).commitOrRemove(),f(this,bi)!==dt.NONE))&&!((e=f(this,_c))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of f(this,jt))t.unselect();f(this,jt).clear(),M(this,Ie,Kr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;f(this,Nc)[0]+=e,f(this,Nc)[1]+=t;const[r,s]=f(this,Nc),a=[...f(this,jt)],o=1e3;f(this,nA)&&clearTimeout(f(this,nA)),_(this,nA,setTimeout(()=>{_(this,nA,null),f(this,Nc)[0]=f(this,Nc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)f(this,jn).has(l.id)&&(l.translateInPage(r,s),l.translationDone())},undo:()=>{for(const l of a)f(this,jn).has(l.id)&&(l.translateInPage(-r,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,Zo,new Map);for(const e of f(this,jt))f(this,Zo).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,Zo))return!1;this.disableUserSelect(!1);const e=f(this,Zo);_(this,Zo,null);let t=!1;for(const[{x:r,y:s,pageIndex:a},o]of e)o.newX=r,o.newY=s,o.newPageIndex=a,t||(t=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const i=(r,s,a,o)=>{if(f(this,jn).has(r.id)){const l=f(this,Fi).get(o);l?r._setParentAndPosition(l,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of e)i(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of e)i(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,Zo))for(const i of f(this,Zo).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,jt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,Qs)===e}getActive(){return f(this,Qs)}getMode(){return f(this,bi)}isEditingMode(){return f(this,bi)!==dt.NONE}get imageManager(){return lt(this,"imageManager",new zR)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,g)=>({x:(d-r)/a,y:1-(u+h-i)/s,width:g/a,height:h/s});break;case"180":o=(u,d,h,g)=>({x:1-(u+h-i)/s,y:1-(d+g-r)/a,width:h/s,height:g/a});break;case"270":o=(u,d,h,g)=>({x:1-(d+g-r)/a,y:(u-i)/s,width:g/a,height:h/s});break;default:o=(u,d,h,g)=>({x:(u-i)/s,y:(d-r)/a,width:h/s,height:g/a});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:g,y:v,width:b,height:C}of h.getClientRects())b===0||C===0||l.push(o(g,v,b,C))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,Am)||_(this,Am,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,Am))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=f(this,Am))==null?void 0:r.get(e.data.id);if(!t)return;const i=f(this,Ra).getRawValue(t);i&&(f(this,bi)===dt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){var s;const r=(s=f(this,Pc))==null?void 0:s.get(e);r&&(r.setCanvas(t,i),f(this,Pc).delete(e))}addMissingCanvas(e,t){(f(this,Pc)||_(this,Pc,new Map)).set(e,t)}},sm=new WeakMap,Qs=new WeakMap,am=new WeakMap,jn=new WeakMap,Fi=new WeakMap,om=new WeakMap,Ra=new WeakMap,Am=new WeakMap,Da=new WeakMap,Ur=new WeakMap,xc=new WeakMap,_c=new WeakMap,lm=new WeakMap,Tc=new WeakMap,Zo=new WeakMap,Na=new WeakMap,Of=new WeakMap,fb=new WeakMap,hb=new WeakMap,um=new WeakMap,pb=new WeakMap,eA=new WeakMap,Ic=new WeakMap,cm=new WeakMap,Fc=new WeakMap,tA=new WeakMap,d1=new WeakMap,Uc=new WeakMap,dm=new WeakMap,gb=new WeakMap,Mc=new WeakMap,Hf=new WeakMap,fm=new WeakMap,Pc=new WeakMap,mb=new WeakMap,bi=new WeakMap,jt=new WeakMap,dl=new WeakMap,Rc=new WeakMap,Dc=new WeakMap,vb=new WeakMap,hm=new WeakMap,yb=new WeakMap,Nc=new WeakMap,nA=new WeakMap,fl=new WeakMap,wb=new WeakMap,bb=new WeakMap,La=new WeakMap,Ie=new WeakSet,zx=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},$R=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of f(this,Fi).values())if(i.hasTextLayer(e))return i;return null},K6=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=M(this,Ie,zx).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(f(this,tA)||_(this,tA,new Fce(this)),f(this,tA).show(i,r,this.direction==="ltr"))},G6=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){f(this,dl)&&((s=f(this,tA))==null||s.hide(),_(this,dl,null),M(this,Ie,Kr).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,dl))return;const r=M(this,Ie,zx).call(this,e).closest(".textLayer");if(!r){f(this,dl)&&((a=f(this,tA))==null||a.hide(),_(this,dl,null),M(this,Ie,Kr).call(this,{hasSelectedText:!1}));return}if((o=f(this,tA))==null||o.hide(),_(this,dl,t),M(this,Ie,Kr).call(this,{hasSelectedText:!0}),!(f(this,bi)!==dt.HIGHLIGHT&&f(this,bi)!==dt.NONE)&&(f(this,bi)===dt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,Fc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=f(this,bi)===dt.HIGHLIGHT?M(this,Ie,$R).call(this,r):null;if(l==null||l.toggleDrawing(),f(this,dm)){const u=new AbortController,d=this.combinedSignal(u),h=g=>{g.type==="pointerup"&&g.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),g.type==="pointerup"&&M(this,Ie,z0).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else l==null||l.toggleDrawing(!0),M(this,Ie,z0).call(this,"main_toolbar")}},z0=function(e=""){f(this,bi)===dt.HIGHLIGHT?this.highlightSelection(e):f(this,fb)&&M(this,Ie,K6).call(this)},z6=function(){document.addEventListener("selectionchange",M(this,Ie,G6).bind(this),{signal:this._signal})},q6=function(){if(f(this,Ic))return;_(this,Ic,new AbortController);const e=this.combinedSignal(f(this,Ic));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},$6=function(){var e;(e=f(this,Ic))==null||e.abort(),_(this,Ic,null)},jR=function(){if(f(this,Mc))return;_(this,Mc,new AbortController);const e=this.combinedSignal(f(this,Mc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},j6=function(){var e;(e=f(this,Mc))==null||e.abort(),_(this,Mc,null)},W6=function(){if(f(this,xc))return;_(this,xc,new AbortController);const e=this.combinedSignal(f(this,xc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Y6=function(){var e;(e=f(this,xc))==null||e.abort(),_(this,xc,null)},X6=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Kr=function(e){Object.entries(e).some(([i,r])=>f(this,yb)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,yb),e)}),f(this,bi)===dt.HIGHLIGHT&&e.hasSelectedEditor===!1&&M(this,Ie,rl).call(this,[[Ft.HIGHLIGHT_FREE,!0]]))},rl=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},J6=async function(){if(!f(this,Uc)){_(this,Uc,!0);const e=[];for(const t of f(this,Fi).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,jn).values())t.enable()}},Z6=function(){if(this.unselectAll(),f(this,Uc)){_(this,Uc,!1);for(const e of f(this,Fi).values())e.disable();for(const e of f(this,jn).values())e.disable()}},WR=function(e){const t=f(this,Fi).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},ej=function(){let e=null;for(e of f(this,jt));return e},q0=function(){if(f(this,jn).size===0)return!0;if(f(this,jn).size===1)for(const e of f(this,jn).values())return e.isEmpty();return!1},YR=function(e){for(const t of f(this,jt))t.unselect();f(this,jt).clear();for(const t of e)t.isEmpty()||(f(this,jt).add(t),t.select());M(this,Ie,Kr).call(this,{hasSelectedEditor:this.hasSelection})},me(au,"TRANSLATE_SMALL",1),me(au,"TRANSLATE_BIG",10),au);var qi,iA,po,pm,rA,ks,gm,sA,fs,hl,Vf,aA,Lc,Mo,$0,qx;const Gr=class Gr{constructor(e){F(this,Mo);F(this,qi,null);F(this,iA,!1);F(this,po,null);F(this,pm,null);F(this,rA,null);F(this,ks,null);F(this,gm,!1);F(this,sA,null);F(this,fs,null);F(this,hl,null);F(this,Vf,null);F(this,aA,!1);_(this,fs,e),_(this,aA,e._uiManager.useNewAltTextFlow),f(Gr,Lc)||_(Gr,Lc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Gr._l10n??(Gr._l10n=e)}async render(){const e=_(this,po,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=_(this,pm,document.createElement("span"));e.append(t),f(this,aA)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(Gr,Lc).missing),t.setAttribute("data-l10n-id",f(Gr,Lc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=f(this,fs)._uiManager._signal;e.addEventListener("contextmenu",no,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),f(this,fs)._uiManager.editAltText(f(this,fs)),f(this,aA)&&f(this,fs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,Mo,$0)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,gm,!0),r(s))},{signal:i}),await M(this,Mo,qx).call(this),e}finish(){f(this,po)&&(f(this,po).focus({focusVisible:f(this,gm)}),_(this,gm,!1))}isEmpty(){return f(this,aA)?f(this,qi)===null:!f(this,qi)&&!f(this,iA)}hasData(){return f(this,aA)?f(this,qi)!==null||!!f(this,hl):this.isEmpty()}get guessedText(){return f(this,hl)}async setGuessedText(e){f(this,qi)===null&&(_(this,hl,e),_(this,Vf,await Gr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),M(this,Mo,qx).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,aA)||f(this,qi)){(t=f(this,sA))==null||t.remove(),_(this,sA,null);return}if(!f(this,sA)){const i=_(this,sA,document.createElement("div"));i.className="noAltTextBadge",f(this,fs).div.append(i)}f(this,sA).classList.toggle("hidden",!e)}serialize(e){let t=f(this,qi);return!e&&f(this,hl)===t&&(t=f(this,Vf)),{altText:t,decorative:f(this,iA),guessedText:f(this,hl),textWithDisclaimer:f(this,Vf)}}get data(){return{altText:f(this,qi),decorative:f(this,iA)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(_(this,hl,i),_(this,Vf,r)),!(f(this,qi)===e&&f(this,iA)===t)&&(s||(_(this,qi,e),_(this,iA,t)),M(this,Mo,qx).call(this))}toggle(e=!1){f(this,po)&&(!e&&f(this,ks)&&(clearTimeout(f(this,ks)),_(this,ks,null)),f(this,po).disabled=!e)}shown(){f(this,fs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,Mo,$0)}})}destroy(){var e,t;(e=f(this,po))==null||e.remove(),_(this,po,null),_(this,pm,null),_(this,rA,null),(t=f(this,sA))==null||t.remove(),_(this,sA,null)}};qi=new WeakMap,iA=new WeakMap,po=new WeakMap,pm=new WeakMap,rA=new WeakMap,ks=new WeakMap,gm=new WeakMap,sA=new WeakMap,fs=new WeakMap,hl=new WeakMap,Vf=new WeakMap,aA=new WeakMap,Lc=new WeakMap,Mo=new WeakSet,$0=function(){return f(this,qi)&&"added"||f(this,qi)===null&&this.guessedText&&"review"||"missing"},qx=async function(){var r,s,a;const e=f(this,po);if(!e)return;if(f(this,aA)){if(e.classList.toggle("done",!!f(this,qi)),e.setAttribute("data-l10n-id",f(Gr,Lc)[f(this,Mo,$0)]),(r=f(this,pm))==null||r.setAttribute("data-l10n-id",f(Gr,Lc)[`${f(this,Mo,$0)}-label`]),!f(this,qi)){(s=f(this,rA))==null||s.remove();return}}else{if(!f(this,qi)&&!f(this,iA)){e.classList.remove("done"),(a=f(this,rA))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,rA);if(!t){_(this,rA,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,fs).id}`;const o=100,l=f(this,fs)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(f(this,ks)),_(this,ks,null)},{once:!0}),e.addEventListener("mouseenter",()=>{_(this,ks,setTimeout(()=>{_(this,ks,null),f(this,rA).classList.add("show"),f(this,fs)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;f(this,ks)&&(clearTimeout(f(this,ks)),_(this,ks,null)),(u=f(this,rA))==null||u.classList.remove("show")},{signal:l})}f(this,iA)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,qi)),t.parentNode||e.append(t);const i=f(this,fs).getElementForAltText();i==null||i.setAttribute("aria-describedby",t.id)},F(Gr,Lc,null),me(Gr,"_l10n",null);let J_=Gr;var ur,Qa,Kf,Cn,Cb,Gf,go,zf,qf,$f,Bb,XR;class NS{constructor(e){F(this,Bb);F(this,ur,null);F(this,Qa,null);F(this,Kf,!1);F(this,Cn,null);F(this,Cb,null);F(this,Gf,null);F(this,go,null);F(this,zf,null);F(this,qf,!1);F(this,$f,null);_(this,Cn,e)}renderForToolbar(){const e=_(this,Qa,document.createElement("button"));return e.className="comment",M(this,Bb,XR).call(this,e,!1)}renderForStandalone(){const e=_(this,ur,document.createElement("button"));e.className="annotationCommentButton";const t=f(this,Cn).commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(f(this,Cn)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=f(this,Cn).commentButtonColor;r&&(i.backgroundColor=r)}return M(this,Bb,XR).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=f(this,ur)??f(this,Qa))==null||e.focus()},0)}onUpdatedColor(){if(!f(this,ur))return;const e=f(this,Cn).commentButtonColor;e&&(f(this,ur).style.backgroundColor=e),f(this,Cn)._uiManager.updatePopupColor(f(this,Cn))}get commentButtonWidth(){var e;return(((e=f(this,ur))==null?void 0:e.getBoundingClientRect().width)??0)/f(this,Cn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(f(this,$f))return f(this,$f);if(!f(this,ur))return null;const{x:e,y:t,height:i}=f(this,ur).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=f(this,Cn).parent.boundingClientRect;return[(e-r)/a,(t+i-s)/o]}set commentPopupPositionInLayer(e){_(this,$f,e)}hasDefaultPopupPosition(){return f(this,$f)===null}removeStandaloneCommentButton(){var e;(e=f(this,ur))==null||e.remove(),_(this,ur,null)}removeToolbarCommentButton(){var e;(e=f(this,Qa))==null||e.remove(),_(this,Qa,null)}setCommentButtonStates({selected:e,hasPopup:t}){f(this,ur)&&(f(this,ur).classList.toggle("selected",e),f(this,ur).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=f(this,Cn).commentButtonPosition;const{width:d,height:h,x:g,y:v}=f(this,Cn);i=g+i*d,r=v+r*h}const s=f(this,Cn).parent.boundingClientRect,{x:a,y:o,width:l,height:u}=s;f(this,Cn)._uiManager.editComment(f(this,Cn),a+i*l,o+r*u,{...e,parentDimensions:s})}finish(){f(this,Qa)&&(f(this,Qa).focus({focusVisible:f(this,Kf)}),_(this,Kf,!1))}isDeleted(){return f(this,qf)||f(this,go)===""}isEmpty(){return f(this,go)===null}hasBeenEdited(){return this.isDeleted()||f(this,go)!==f(this,Cb)}serialize(){return this.data}get data(){return{text:f(this,go),richText:f(this,Gf),date:f(this,zf),deleted:this.isDeleted()}}set data(e){if(e!==f(this,go)&&_(this,Gf,null),e===null){_(this,go,""),_(this,qf,!0);return}_(this,go,e),_(this,zf,new Date),_(this,qf,!1)}setInitialText(e,t=null){_(this,Cb,e),this.data=e,_(this,zf,null),_(this,Gf,t)}shown(){}destroy(){var e,t;(e=f(this,Qa))==null||e.remove(),_(this,Qa,null),(t=f(this,ur))==null||t.remove(),_(this,ur,null),_(this,go,""),_(this,Gf,null),_(this,zf,null),_(this,Cn,null),_(this,Kf,!1),_(this,qf,!1)}}ur=new WeakMap,Qa=new WeakMap,Kf=new WeakMap,Cn=new WeakMap,Cb=new WeakMap,Gf=new WeakMap,go=new WeakMap,zf=new WeakMap,qf=new WeakMap,$f=new WeakMap,Bb=new WeakSet,XR=function(e,t){if(!f(this,Cn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[f(this,Cn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=f(this,Cn)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",no,{signal:i}),t&&(e.addEventListener("focusin",s=>{f(this,Cn)._focusEventsAllowed=!1,ti(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{f(this,Cn)._focusEventsAllowed=!0,ti(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===f(this,Qa)?this.edit():f(this,Cn).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,Kf,!0),r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{f(this,Cn).toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{f(this,Cn).toggleComment(!1,!1)},{signal:i}),e};var mm,jf,Eb,Sb,xb,_b,Tb,pl,Wf,gl,Yf,ml,zd,nj,ij,rj,vm;let tj=(vm=class{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){F(this,zd);F(this,mm);F(this,jf,!1);F(this,Eb,null);F(this,Sb);F(this,xb);F(this,_b);F(this,Tb);F(this,pl,null);F(this,Wf);F(this,gl,null);F(this,Yf);F(this,ml,null);_(this,mm,e),_(this,Eb,i),_(this,Sb,t),_(this,xb,r),_(this,_b,s),_(this,Tb,a),_(this,Yf,new AbortController),_(this,Wf,AbortSignal.any([o,f(this,Yf).signal])),e.addEventListener("touchstart",M(this,zd,nj).bind(this),{passive:!1,signal:f(this,Wf)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/mp.pixelRatio}destroy(){var e,t;(e=f(this,Yf))==null||e.abort(),_(this,Yf,null),(t=f(this,pl))==null||t.abort(),_(this,pl,null)}},mm=new WeakMap,jf=new WeakMap,Eb=new WeakMap,Sb=new WeakMap,xb=new WeakMap,_b=new WeakMap,Tb=new WeakMap,pl=new WeakMap,Wf=new WeakMap,gl=new WeakMap,Yf=new WeakMap,ml=new WeakMap,zd=new WeakSet,nj=function(e){var r,s,a;if((r=f(this,Sb))!=null&&r.call(this))return;if(e.touches.length===1){if(f(this,pl))return;const o=_(this,pl,new AbortController),l=AbortSignal.any([f(this,Wf),o.signal]),u=f(this,mm),d={capture:!0,signal:l,passive:!1},h=g=>{var v;g.pointerType==="touch"&&((v=f(this,pl))==null||v.abort(),_(this,pl,null))};u.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(ti(g),h(g))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!f(this,ml)){_(this,ml,new AbortController);const o=AbortSignal.any([f(this,Wf),f(this,ml).signal]),l=f(this,mm),u={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",M(this,zd,ij).bind(this),u);const d=M(this,zd,rj).bind(this);l.addEventListener("touchend",d,u),l.addEventListener("touchcancel",d,u),u.capture=!0,l.addEventListener("pointerdown",ti,u),l.addEventListener("pointermove",ti,u),l.addEventListener("pointercancel",ti,u),l.addEventListener("pointerup",ti,u),(s=f(this,xb))==null||s.call(this)}if(ti(e),e.touches.length!==2||(a=f(this,Eb))!=null&&a.call(this)){_(this,gl,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),_(this,gl,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},ij=function(e){var R;if(!f(this,gl)||e.touches.length!==2)return;ti(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:a,screenY:o}=i,l=f(this,gl),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:g}=l,v=h-u,b=g-d,C=a-r,E=o-s,x=Math.hypot(C,E)||1,I=Math.hypot(v,b)||1;if(!f(this,jf)&&Math.abs(I-x)<=vm.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!f(this,jf)){_(this,jf,!0);return}const T=[(r+a)/2,(s+o)/2];(R=f(this,_b))==null||R.call(this,T,I,x)},rj=function(e){var t;e.touches.length>=2||(f(this,ml)&&(f(this,ml).abort(),_(this,ml,null),(t=f(this,Tb))==null||t.call(this)),f(this,gl)&&(ti(e),_(this,gl,null),_(this,jf,!1)))},vm);var Xf,mo,Dn,pn,vl,ym,Qc,Ib,cr,Jf,yl,ka,kc,Fb,Zf,Os,Ub,eh,wl,oA,wm,bm,Oa,th,Mb,f1,rt,JR,Pb,ZR,$x,sj,aj,eD,jx,tD,oj,Aj,lj,nD,uj,iD,cj,dj,fj,rD,j0;const ct=class ct{constructor(e){F(this,rt);F(this,Xf,null);F(this,mo,null);F(this,Dn,null);F(this,pn,null);F(this,vl,null);F(this,ym,!1);F(this,Qc,null);F(this,Ib,"");F(this,cr,null);F(this,Jf,null);F(this,yl,null);F(this,ka,null);F(this,kc,null);F(this,Fb,"");F(this,Zf,!1);F(this,Os,null);F(this,Ub,!1);F(this,eh,!1);F(this,wl,!1);F(this,oA,null);F(this,wm,0);F(this,bm,0);F(this,Oa,null);F(this,th,null);me(this,"isSelected",!1);me(this,"_isCopy",!1);me(this,"_editToolbar",null);me(this,"_initialOptions",Object.create(null));me(this,"_initialData",null);me(this,"_isVisible",!0);me(this,"_uiManager",null);me(this,"_focusEventsAllowed",!0);F(this,Mb,!1);F(this,f1,ct._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ct.prototype._resizeWithKeyboard,t=Ow.TRANSLATE_SMALL,i=Ow.TRANSLATE_BIG;return lt(this,"_resizerKeyboardManager",new VB([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],ct.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return lt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Pce({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ct._l10n??(ct._l10n=e),ct._l10nResizer||(ct._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ct._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ct._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){yn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,Mb)}set _isDraggable(e){var t;_(this,Mb,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,f1)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(M(this,rt,j0).call(this),(t=f(this,ka))==null||t.remove(),_(this,ka,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,Zf)?_(this,Zf,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}translate(e,t){M(this,rt,JR).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,Os)||_(this,Os,[this.x,this.y,this.width,this.height]),M(this,rt,JR).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){f(this,Os)||_(this,Os,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:d}=i;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!f(this,Os)&&(f(this,Os)[0]!==this.x||f(this,Os)[1]!==this.y)}get _hasBeenResized(){return!!f(this,Os)&&(f(this,Os)[2]!==this.width||f(this,Os)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=ct,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=i,l*=r,s*=i,a*=r,this._mustFixPosition)switch(e){case 0:s=Xr(s,0,i-o),a=Xr(a,0,r-l);break;case 90:s=Xr(s,0,i-l),a=Xr(a,o,r);break;case 180:s=Xr(s,o,i),a=Xr(a,l,r);break;case 270:s=Xr(s,l,i),a=Xr(a,0,r-o);break}this.x=s/=i,this.y=a/=r;const[u,d]=this.getBaseTranslation();s+=u,a+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return M(i=ct,Pb,ZR).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return M(i=ct,Pb,ZR).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=f(this,Dn))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||f(this,eh))return this._editToolbar;this._editToolbar=new KR(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=f(this,Dn))==null||t.destroy()}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return f(this,Dn)||(J_.initialize(ct._l10n),_(this,Dn,new J_(this)),f(this,Xf)&&(f(this,Dn).data=f(this,Xf),_(this,Xf,null))),f(this,Dn)}get altTextData(){var e;return(e=f(this,Dn))==null?void 0:e.data}set altTextData(e){f(this,Dn)&&(f(this,Dn).data=e)}get guessedAltText(){var e;return(e=f(this,Dn))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,Dn))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,Dn))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,Dn)&&!f(this,Dn).isEmpty()}hasAltTextData(){var e;return((e=f(this,Dn))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=f(this,pn))==null||e.focusButton()}addCommentButton(){return this.canAddComment?f(this,pn)||_(this,pn,new NS(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(f(this,vl)){this._uiManager.isEditingMode()&&f(this,vl).classList.remove("hidden");return}this.hasComment&&(_(this,vl,f(this,pn).renderForStandalone()),this.div.append(f(this,vl)))}}removeStandaloneCommentButton(){f(this,pn).removeStandaloneCommentButton(),_(this,vl,null)}hideStandaloneCommentButton(){var e;(e=f(this,vl))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:i,deleted:r}}=f(this,pn);return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){f(this,pn)||_(this,pn,new NS(this)),f(this,pn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(f(this,pn)||_(this,pn,new NS(this)),f(this,pn).setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=f(this,pn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=f(this,pn))==null?void 0:e.isDeleted()}get hasComment(){return!!f(this,pn)&&!f(this,pn).isEmpty()&&!f(this,pn).isDeleted()}async editComment(e){f(this,pn)||_(this,pn,new NS(this)),f(this,pn).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){f(this,pn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=r-100,u=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,u,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){f(this,pn).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=f(this,ym)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),M(this,rt,iD).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),H6(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,th)||_(this,th,new tj({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:M(this,rt,oj).bind(this),onPinching:M(this,rt,Aj).bind(this),onPinchEnd:M(this,rt,lj).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=Er.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(_(this,Zf,!0),this._isDraggable){M(this,rt,uj).call(this,e);return}M(this,rt,nD).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,oA)&&clearTimeout(f(this,oA)),_(this,oA,setTimeout(()=>{var e;_(this,oA,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/r,d=t/r,h=this.x*s,g=this.y*a,v=this.width*s,b=this.height*a;switch(i){case 0:return[h+u+o,a-g-d-b+l,h+u+v+o,a-g-d+l];case 90:return[h+d+o,a-g+u+l,h+d+b+o,a-g+u+v+l];case 180:return[h-u-v+o,a-g+d+l,h-u+o,a-g+d+b+l];case 270:return[h-d-b+o,a-g-u-v+l,h-d+o,a-g-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,a]=e,o=s-i,l=a-r;switch(this.rotation){case 0:return[i,t-a,o,l];case 90:return[i,t-r,l,o];case 180:return[s,t-r,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ct._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=f(this,pn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:u,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:u,modificationDate:i||d,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),_(this,eh,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),_(this,eh,!1),!0):!1}isInEditMode(){return f(this,eh)}shouldGetKeyboardEvents(){return f(this,wl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&r>0&&e<s&&i>0}rebuild(){M(this,rt,iD).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,_(r,Xf,e.accessibilityData),r._isCopy=e.isCopy||!1;const[s,a]=r.pageDimensions,[o,l,u,d]=r.getRectInCurrentCoords(e.rect,a);return r.x=o/s,r.y=l/a,r.width=u/s,r.height=d/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,i;if((e=f(this,kc))==null||e.abort(),_(this,kc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),f(this,oA)&&(clearTimeout(f(this,oA)),_(this,oA,null)),M(this,rt,j0).call(this),this.removeEditToolbar(),f(this,Oa)){for(const r of f(this,Oa).values())clearTimeout(r);_(this,Oa,null)}this.parent=null,(t=f(this,th))==null||t.destroy(),_(this,th,null),(i=f(this,ka))==null||i.remove(),_(this,ka,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(M(this,rt,sj).call(this),f(this,cr).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,a]=this.getPDFRect();return[ct._round(i+(s-i)*e),ct._round(r+(a-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return f(this,pn).commentPopupPositionInLayer}set commentPopupPosition(e){f(this,pn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return f(this,pn).hasDefaultPopupPosition()}get commentButtonWidth(){return f(this,pn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=f(this,pn))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),_(this,yl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,cr).children;if(!f(this,mo)){_(this,mo,Array.from(t));const a=M(this,rt,cj).bind(this),o=M(this,rt,dj).bind(this),l=this._uiManager._signal;for(const u of f(this,mo)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",M(this,rt,fj).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",ct._l10nResizer[d])}}const i=f(this,mo)[0];let r=0;for(const a of t){if(a===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(f(this,mo).length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)f(this,cr).append(f(this,cr).firstElementChild);else if(s>r)for(let o=0;o<s-r;o++)f(this,cr).firstElementChild.before(f(this,cr).lastElementChild);let a=0;for(const o of t){const u=f(this,mo)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",ct._l10nResizer[u])}}M(this,rt,rD).call(this,0),_(this,wl,!0),f(this,cr).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,wl)&&M(this,rt,tD).call(this,f(this,Fb),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){M(this,rt,j0).call(this),this.div.focus()}select(){var e,t,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(i=f(this,Dn))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,i,r,s;this.isSelected&&(this.isSelected=!1,(e=f(this,cr))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=f(this,Dn))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,Ub)}set isEditing(e){_(this,Ub,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,Oa)||_(this,Oa,new Map);const{action:i}=e;let r=f(this,Oa).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),f(this,Oa).delete(i),f(this,Oa).size===0&&_(this,Oa,null)},ct._telemetryTimeout),f(this,Oa).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),_(this,ym,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,ym,!0)}updateFakeAnnotationElement(e){if(!f(this,ka)&&!this.deleted){_(this,ka,e.addFakeAnnotation(this));return}if(this.deleted){f(this,ka).remove(),_(this,ka,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&f(this,ka).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Xf=new WeakMap,mo=new WeakMap,Dn=new WeakMap,pn=new WeakMap,vl=new WeakMap,ym=new WeakMap,Qc=new WeakMap,Ib=new WeakMap,cr=new WeakMap,Jf=new WeakMap,yl=new WeakMap,ka=new WeakMap,kc=new WeakMap,Fb=new WeakMap,Zf=new WeakMap,Os=new WeakMap,Ub=new WeakMap,eh=new WeakMap,wl=new WeakMap,oA=new WeakMap,wm=new WeakMap,bm=new WeakMap,Oa=new WeakMap,th=new WeakMap,Mb=new WeakMap,f1=new WeakMap,rt=new WeakSet,JR=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Pb=new WeakSet,ZR=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},$x=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},sj=function(){if(f(this,cr))return;_(this,cr,document.createElement("div")),f(this,cr).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");f(this,cr).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",M(this,rt,aj).bind(this,i),{signal:t}),r.addEventListener("contextmenu",no,{signal:t}),r.tabIndex=-1}this.div.prepend(f(this,cr))},aj=function(e,t){var d;t.preventDefault();const{isMac:i}=Er.platform;if(t.button!==0||t.ctrlKey&&i)return;(d=f(this,Dn))==null||d.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,_(this,Jf,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",M(this,rt,tD).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",ti,{passive:!1,signal:a}),window.addEventListener("contextmenu",no,{signal:a}),_(this,yl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=f(this,Dn))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=l,M(this,rt,jx).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},eD=function(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},jx=function(){if(!f(this,yl))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=f(this,yl);_(this,yl,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===i&&l===r||this.addCommands({cmd:M(this,rt,eD).bind(this,s,a,o,l),undo:M(this,rt,eD).bind(this,e,t,i,r),mustExec:!0})},tD=function(e,t){const[i,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=ct.MIN_SIZE/i,d=ct.MIN_SIZE/r,h=M(this,rt,$x).call(this,this.rotation),g=(G,$)=>[h[0]*G+h[2]*$,h[1]*G+h[3]*$],v=M(this,rt,$x).call(this,360-this.rotation),b=(G,$)=>[v[0]*G+v[2]*$,v[1]*G+v[3]*$];let C,E,x=!1,I=!1;switch(e){case"topLeft":x=!0,C=(G,$)=>[0,0],E=(G,$)=>[G,$];break;case"topMiddle":C=(G,$)=>[G/2,0],E=(G,$)=>[G/2,$];break;case"topRight":x=!0,C=(G,$)=>[G,0],E=(G,$)=>[0,$];break;case"middleRight":I=!0,C=(G,$)=>[G,$/2],E=(G,$)=>[0,$/2];break;case"bottomRight":x=!0,C=(G,$)=>[G,$],E=(G,$)=>[0,0];break;case"bottomMiddle":C=(G,$)=>[G/2,$],E=(G,$)=>[G/2,0];break;case"bottomLeft":x=!0,C=(G,$)=>[0,$],E=(G,$)=>[G,0];break;case"middleLeft":I=!0,C=(G,$)=>[0,$/2],E=(G,$)=>[G,$/2];break}const T=C(o,l),R=E(o,l);let P=g(...R);const D=ct._round(s+P[0]),Q=ct._round(a+P[1]);let H=1,k=1,K,V;if(t.fromKeyboard)({deltaX:K,deltaY:V}=t);else{const{screenX:G,screenY:$}=t,[ie,se]=f(this,Jf);[K,V]=this.screenToPageTranslation(G-ie,$-se),f(this,Jf)[0]=G,f(this,Jf)[1]=$}if([K,V]=b(K/i,V/r),x){const G=Math.hypot(o,l);H=k=Math.max(Math.min(Math.hypot(R[0]-T[0]-K,R[1]-T[1]-V)/G,1/o,1/l),u/o,d/l)}else I?H=Xr(Math.abs(R[0]-T[0]-K),u,1)/o:k=Xr(Math.abs(R[1]-T[1]-V),d,1)/l;const q=ct._round(o*H),X=ct._round(l*k);P=g(...E(q,X));const ne=D-P[0],ge=Q-P[1];f(this,Os)||_(this,Os,[this.x,this.y,this.width,this.height]),this.width=q,this.height=X,this.x=ne,this.y=ge,this.setDims(),this.fixAndSetPosition(),this._onResizing()},oj=function(){var e;_(this,yl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=f(this,Dn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},Aj=function(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const a=M(this,rt,$x).call(this,this.rotation),o=(D,Q)=>[a[0]*D+a[2]*Q,a[1]*D+a[3]*Q],[l,u]=this.parentDimensions,d=this.x,h=this.y,g=this.width,v=this.height,b=ct.MIN_SIZE/l,C=ct.MIN_SIZE/u;s=Math.max(Math.min(s,1/g,1/v),b/g,C/v);const E=ct._round(g*s),x=ct._round(v*s);if(E===g&&x===v)return;f(this,Os)||_(this,Os,[d,h,g,v]);const I=o(g/2,v/2),T=ct._round(d+I[0]),R=ct._round(h+I[1]),P=o(E/2,x/2);this.x=T-P[0],this.y=R-P[1],this.width=E,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()},lj=function(){var e;(e=f(this,Dn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),M(this,rt,jx).call(this)},nD=function(e){const{isMac:t}=Er.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},uj=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:s},o=u=>{r.abort(),_(this,Qc,null),_(this,Zf,!1),this._uiManager.endDragSession()||M(this,rt,nD).call(this,u),i&&this._onStopDragging()};t&&(_(this,wm,e.clientX),_(this,bm,e.clientY),_(this,Qc,e.pointerId),_(this,Ib,e.pointerType),window.addEventListener("pointermove",u=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:g}=u;if(g!==f(this,Qc)){ti(u);return}const[v,b]=this.screenToPageTranslation(d-f(this,wm),h-f(this,bm));_(this,wm,d),_(this,bm,h),this._uiManager.dragSelectedEditors(v,b)},a),window.addEventListener("touchmove",ti,a),window.addEventListener("pointerdown",u=>{u.pointerType===f(this,Ib)&&(f(this,th)||u.isPrimary)&&o(u),ti(u)},a));const l=u=>{if(!f(this,Qc)||f(this,Qc)===u.pointerId){o(u);return}ti(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},iD=function(){if(f(this,kc)||!this.div)return;_(this,kc,new AbortController);const e=this._uiManager.combinedSignal(f(this,kc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},cj=function(e){ct._resizerKeyboardManager.exec(this,e)},dj=function(e){var t;f(this,wl)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,cr)&&M(this,rt,j0).call(this)},fj=function(e){_(this,Fb,f(this,wl)?e:"")},rD=function(e){if(f(this,mo))for(const t of f(this,mo))t.tabIndex=e},j0=function(){_(this,wl,!1),M(this,rt,rD).call(this,-1),M(this,rt,jx).call(this)},F(ct,Pb),me(ct,"_l10n",null),me(ct,"_l10nResizer",null),me(ct,"_borderLineWidth",-1),me(ct,"_colorManager",new qR),me(ct,"_zIndex",1),me(ct,"_telemetryTimeout",1e3);let Sn=ct;class Pce extends Sn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const bK=3285377520,xa=4294901760,Wo=65535;class hj{constructor(e){this.h1=e?e&4294967295:bK,this.h2=e?e&4294967295:bK}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let C=0,E=e.length;C<E;C++){const x=e.charCodeAt(C);x<=255?t[i++]=x:(t[i++]=x>>>8,t[i++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,a=new Uint32Array(t.buffer,0,r);let o=0,l=0,u=this.h1,d=this.h2;const h=3432918353,g=461845907,v=h&Wo,b=g&Wo;for(let C=0;C<r;C++)C&1?(o=a[C],o=o*h&xa|o*v&Wo,o=o<<15|o>>>17,o=o*g&xa|o*b&Wo,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[C],l=l*h&xa|l*v&Wo,l=l<<15|l>>>17,l=l*g&xa|l*b&Wo,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[r*4+2]<<16;case 2:o^=t[r*4+1]<<8;case 1:o^=t[r*4],o=o*h&xa|o*v&Wo,o=o<<15|o>>>17,o=o*g&xa|o*b&Wo,r&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&xa|e*36045&Wo,t=t*4283543511&xa|((t<<16|e>>>16)*2950163797&xa)>>>16,e^=t>>>1,e=e*444984403&xa|e*60499&Wo,t=t*3301882366&xa|((t<<16|e>>>16)*3120437893&xa)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const sD=Object.freeze({map:null,hash:"",transfer:void 0});var nh,ih,bl,dr,h1,pj;class NQ{constructor(){F(this,h1);F(this,nh,!1);F(this,ih,null);F(this,bl,null);F(this,dr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=f(this,dr).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return f(this,dr).get(e)}remove(e){const t=f(this,dr).get(e);if(t!==void 0&&(t instanceof Sn&&f(this,bl).delete(t.annotationElementId),f(this,dr).delete(e),f(this,dr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of f(this,dr).values())if(i instanceof Sn)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=f(this,dr).get(e);let r=!1;if(i!==void 0)for(const[s,a]of Object.entries(t))i[s]!==a&&(r=!0,i[s]=a);else r=!0,f(this,dr).set(e,t);r&&M(this,h1,pj).call(this),t instanceof Sn&&((f(this,bl)||_(this,bl,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return f(this,dr).has(e)}get size(){return f(this,dr).size}resetModified(){f(this,nh)&&(_(this,nh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new gj(this)}get serializable(){if(f(this,dr).size===0)return sD;const e=new Map,t=new hj,i=[],r=Object.create(null);let s=!1;for(const[a,o]of f(this,dr)){const l=o instanceof Sn?o.serialize(!1,r):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&i.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:sD}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of f(this,dr).values()){if(!(s instanceof Sn)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(a)){if(u==="type")continue;let h=l.get(u);h||(h=new Map,l.set(u,h));const g=h.get(d)??0;h.set(d,g+1)}}if((r>0||i>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){_(this,ih,null)}updateEditor(e,t){var r;const i=(r=f(this,bl))==null?void 0:r.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=f(this,bl))==null?void 0:t.get(e))||null}get modifiedIds(){if(f(this,ih))return f(this,ih);const e=[];if(f(this,bl))for(const t of f(this,bl).values())t.serialize()&&e.push(t.annotationElementId);return _(this,ih,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return f(this,dr).entries()}}nh=new WeakMap,ih=new WeakMap,bl=new WeakMap,dr=new WeakMap,h1=new WeakSet,pj=function(){f(this,nh)||(_(this,nh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Rb;class gj extends NQ{constructor(t){super();F(this,Rb);const{map:i,hash:r,transfer:s}=t.serializable,a=structuredClone(i,s?{transfer:s}:null);_(this,Rb,{map:a,hash:r,transfer:s})}get print(){yn("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,Rb)}get modifiedIds(){return lt(this,"modifiedIds",{ids:new Set,hash:""})}}Rb=new WeakMap;var Cm;class Rce{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){F(this,Cm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,Cm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||f(this,Cm).has(e.loadedName))){if(Ut(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:a}=e,o=new FontFace(r,s,a);this.addNativeFontFace(o);try{await o.load(),f(this,Cm).add(r),i==null||i(e)}catch{At(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}yn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw At(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return lt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return lt(this,"isSyncFontLoadingSupported",Yr||Er.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ut(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return lt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(R,P){return R.charCodeAt(P)<<24|R.charCodeAt(P+1)<<16|R.charCodeAt(P+2)<<8|R.charCodeAt(P+3)&255}function r(R,P,D,Q){const H=R.substring(0,P),k=R.substring(P+D);return H+Q+k}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(R,P){if(++u>30){At("Load test font never loaded."),P();return}if(l.font="30px "+R,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(d.bind(null,R,P))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,h.length,h);const b=16,C=1482184792;let E=i(g,b);for(s=0,a=h.length-3;s<a;s+=4)E=E-C+i(h,s)|0;s<h.length&&(E=E-C+i(h+"XXX",s)|0),g=r(g,b,4,hce(E));const x=`url(data:font/opentype;base64,${btoa(g)});`,I=`@font-face {font-family:"${h}";src:${x}}`;this.insertRule(I);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const R of[e.loadedName,h]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=R,T.append(P)}this._document.body.append(T),d(h,()=>{T.remove(),t.complete()})}}Cm=new WeakMap;var an;class Dce{constructor(e,t=null,i,r){F(this,an);this.compiledGlyphs=Object.create(null),_(this,an,e),this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${M6(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(a){At(`getPathGenerator - ignoring character: "${a}".`)}const s=D6(r);return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return f(this,an).black}get bold(){return f(this,an).bold}get disableFontFace(){return f(this,an).disableFontFace??!1}set disableFontFace(e){lt(this,"disableFontFace",!!e)}get fontExtraProperties(){return f(this,an).fontExtraProperties??!1}get isInvalidPDFjsFont(){return f(this,an).isInvalidPDFjsFont}get isType3Font(){return f(this,an).isType3Font}get italic(){return f(this,an).italic}get missingFile(){return f(this,an).missingFile}get remeasure(){return f(this,an).remeasure}get vertical(){return f(this,an).vertical}get ascent(){return f(this,an).ascent}get defaultWidth(){return f(this,an).defaultWidth}get descent(){return f(this,an).descent}get bbox(){return f(this,an).bbox}set bbox(e){lt(this,"bbox",e)}get fontMatrix(){return f(this,an).fontMatrix}get fallbackName(){return f(this,an).fallbackName}get loadedName(){return f(this,an).loadedName}get mimetype(){return f(this,an).mimetype}get name(){return f(this,an).name}get data(){return f(this,an).data}clearData(){f(this,an).clearData()}get cssFontInfo(){return f(this,an).cssFontInfo}get systemFontInfo(){return f(this,an).systemFontInfo}get defaultVMetrics(){return f(this,an).defaultVMetrics}}an=new WeakMap;var Bm,Em,Db,Sm,Wx;const Hg=class Hg{constructor(e){F(this,Sm);F(this,Bm);F(this,Em);F(this,Db);_(this,Bm,e),_(this,Em,new DataView(f(this,Bm))),_(this,Db,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const u of Hg.strings){const d=t.encode(e[u]);i[u]=d,r+=4+d.length}const s=new ArrayBuffer(r),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const u of Hg.strings){const d=i[u],h=d.length;o.setUint32(l,h),a.set(d,l+4),l+=4+h}return Ut(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return M(this,Sm,Wx).call(this,0)}get fontWeight(){return M(this,Sm,Wx).call(this,1)}get italicAngle(){return M(this,Sm,Wx).call(this,2)}};Bm=new WeakMap,Em=new WeakMap,Db=new WeakMap,Sm=new WeakSet,Wx=function(e){Ut(e<Hg.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=f(this,Em).getUint32(t)+4;const i=f(this,Em).getUint32(t);return f(this,Db).decode(new Uint8Array(f(this,Bm),t+4,i))},me(Hg,"strings",["fontFamily","fontWeight","italicAngle"]);let Z_=Hg;var Oc,AA,rh,sh,W0;const Vg=class Vg{constructor(e){F(this,sh);F(this,Oc);F(this,AA);F(this,rh);_(this,Oc,e),_(this,AA,new DataView(f(this,Oc))),_(this,rh,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const g of Vg.strings){const v=t.encode(e[g]);i[g]=v,r+=4+v.length}r+=4;let s,a,o=1+r;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,r=0;for(const g of Vg.strings){const v=i[g],b=v.length;r+=4+b,d.setUint32(h,b),u.set(v,h+4),h+=4+b}return d.setUint32(h-r-4,r),e.style&&(d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),u.set(a,h+4),h+=4+a.length),Ut(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return f(this,AA).getUint8(0)!==0}get css(){return M(this,sh,W0).call(this,0)}get loadedName(){return M(this,sh,W0).call(this,1)}get baseFontName(){return M(this,sh,W0).call(this,2)}get src(){return M(this,sh,W0).call(this,3)}get style(){let e=1;e+=4+f(this,AA).getUint32(e);const t=f(this,AA).getUint32(e),i=f(this,rh).decode(new Uint8Array(f(this,Oc),e+4,t));e+=4+t;const r=f(this,AA).getUint32(e),s=f(this,rh).decode(new Uint8Array(f(this,Oc),e+4,r));return{style:i,weight:s}}};Oc=new WeakMap,AA=new WeakMap,rh=new WeakMap,sh=new WeakSet,W0=function(e){Ut(e<Vg.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=f(this,AA).getUint32(t)+4;const i=f(this,AA).getUint32(t);return f(this,rh).decode(new Uint8Array(f(this,Oc),t+4,i))},me(Vg,"strings",["css","loadedName","baseFontName","src"]);let eT=Vg;var xm,_m,Tm,Im,Hs,lA,Nb,on,ei,fo,Yx,Y0;const ht=class ht{constructor({data:e,extra:t}){F(this,ei);F(this,lA);F(this,Nb);F(this,on);_(this,lA,e),_(this,Nb,new TextDecoder),_(this,on,new DataView(f(this,lA))),t&&Object.assign(this,t)}get black(){return M(this,ei,fo).call(this,0)}get bold(){return M(this,ei,fo).call(this,1)}get disableFontFace(){return M(this,ei,fo).call(this,2)}get fontExtraProperties(){return M(this,ei,fo).call(this,3)}get isInvalidPDFjsFont(){return M(this,ei,fo).call(this,4)}get isType3Font(){return M(this,ei,fo).call(this,5)}get italic(){return M(this,ei,fo).call(this,6)}get missingFile(){return M(this,ei,fo).call(this,7)}get remeasure(){return M(this,ei,fo).call(this,8)}get vertical(){return M(this,ei,fo).call(this,9)}get ascent(){return M(this,ei,Yx).call(this,0)}get defaultWidth(){return M(this,ei,Yx).call(this,1)}get descent(){return M(this,ei,Yx).call(this,2)}get bbox(){let e=f(ht,_m);if(f(this,on).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(f(this,on).getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=f(ht,Tm);if(f(this,on).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(f(this,on).getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=f(ht,Im);if(f(this,on).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(f(this,on).getInt16(e,!0)),e+=2;return i}get fallbackName(){return M(this,ei,Y0).call(this,0)}get loadedName(){return M(this,ei,Y0).call(this,1)}get mimetype(){return M(this,ei,Y0).call(this,2)}get name(){return M(this,ei,Y0).call(this,3)}get data(){let e=f(ht,Hs);const t=f(this,on).getUint32(e);e+=4+t;const i=f(this,on).getUint32(e);e+=4+i;const r=f(this,on).getUint32(e);e+=4+r;const s=f(this,on).getUint32(e);if(s!==0)return new Uint8Array(f(this,lA),e+4,s)}clearData(){let e=f(ht,Hs);const t=f(this,on).getUint32(e);e+=4+t;const i=f(this,on).getUint32(e);e+=4+i;const r=f(this,on).getUint32(e);e+=4+r;const s=f(this,on).getUint32(e);new Uint8Array(f(this,lA),e+4,s).fill(0),f(this,on).setUint32(e,0)}get cssFontInfo(){let e=f(ht,Hs);const t=f(this,on).getUint32(e);e+=4+t;const i=f(this,on).getUint32(e);e+=4+i;const r=f(this,on).getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(f(this,lA),e+4,r)),new Z_(s.buffer)}get systemFontInfo(){let e=f(ht,Hs);const t=f(this,on).getUint32(e);e+=4+t;const i=f(this,on).getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(f(this,lA),e+4,i)),new eT(r.buffer)}static write(e){const t=e.systemFontInfo?eT.write(e.systemFontInfo):null,i=e.cssFontInfo?Z_.write(e.cssFontInfo):null,r=new TextEncoder,s={};let a=0;for(const C of ht.strings)s[C]=r.encode(e[C]),a+=4+s[C].length;const o=f(ht,Hs)+4+a+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;const g=ht.bools.length;let v=0,b=0;for(let C=0;C<g;C++){const E=e[ht.bools[C]];v|=(E===void 0?0:E?2:1)<<b,b+=2,(b===8||C===g-1)&&(d.setUint8(h++,v),v=0,b=0)}Ut(h===f(ht,xm),"FontInfo.write: Boolean properties offset mismatch");for(const C of ht.numbers)d.setFloat64(h,e[C]),h+=8;if(Ut(h===f(ht,_m),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const C of e.bbox)d.setInt16(h,C,!0),h+=2}else d.setUint8(h++,0),h+=8;if(Ut(h===f(ht,Tm),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const C of e.fontMatrix)d.setFloat64(h,C,!0),h+=8}else d.setUint8(h++,0),h+=48;if(Ut(h===f(ht,Im),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const C of e.defaultVMetrics)d.setInt16(h,C,!0),h+=2}else d.setUint8(h++,0),h+=6;Ut(h===f(ht,Hs),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(f(ht,Hs),0),h+=4;for(const C of ht.strings){const E=s[C],x=E.length;d.setUint32(h,x),u.set(E,h+4),h+=4+x}if(d.setUint32(f(ht,Hs),h-f(ht,Hs)-4),!t)d.setUint32(h,0),h+=4;else{const C=t.byteLength;d.setUint32(h,C),Ut(h+4+C<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+C}if(!i)d.setUint32(h,0),h+=4;else{const C=i.byteLength;d.setUint32(h,C),Ut(h+4+C<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(i),h+4),h+=4+C}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),Ut(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};xm=new WeakMap,_m=new WeakMap,Tm=new WeakMap,Im=new WeakMap,Hs=new WeakMap,lA=new WeakMap,Nb=new WeakMap,on=new WeakMap,ei=new WeakSet,fo=function(e){Ut(e<ht.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=f(this,on).getUint8(t)>>i&3;return r===0?void 0:r===2},Yx=function(e){return Ut(e<ht.numbers.length,"Invalid number index"),f(this,on).getFloat64(f(ht,xm)+e*8)},Y0=function(e){Ut(e<ht.strings.length,"Invalid string index");let t=f(ht,Hs)+4;for(let s=0;s<e;s++)t+=f(this,on).getUint32(t)+4;const i=f(this,on).getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(f(this,lA),t+4,i)),f(this,Nb).decode(r)},me(ht,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),me(ht,"numbers",["ascent","defaultWidth","descent"]),me(ht,"strings",["fallbackName","loadedName","mimetype","name"]),F(ht,xm,Math.ceil(ht.bools.length*2/8)),F(ht,_m,f(ht,xm)+ht.numbers.length*8),F(ht,Tm,f(ht,_m)+1+8),F(ht,Im,f(ht,Tm)+1+48),F(ht,Hs,f(ht,Im)+1+6);let aD=ht;var Lb,Qb,kb,Ob,Hb,Vb,Kb,Gb;const bn=class bn{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,i=null,r=[],s=[],a=[],o=[],l=null,u=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,i=e[2],a=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],r=e[2],s=e[3],o=e[4]||[],i=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(r.length/2),h=Math.floor(s.length/3),g=a.length,v=o.length;let b=0;for(const P of o)b+=1,b=Math.ceil(b/4)*4,b+=4+P.coords.length*4,b+=4+P.colors.length*4,P.verticesPerRow!==void 0&&(b+=4);const C=20+d*8+h*3+g*8+(i?16:0)+(u?3:0)+b,E=new ArrayBuffer(C),x=new DataView(E),I=new Uint8Array(E);x.setUint8(f(bn,Lb),t),x.setUint8(f(bn,Qb),i?1:0),x.setUint8(f(bn,kb),u?1:0),x.setUint8(f(bn,Ob),l),x.setUint32(f(bn,Hb),d,!0),x.setUint32(f(bn,Vb),h,!0),x.setUint32(f(bn,Kb),g,!0),x.setUint32(f(bn,Gb),v,!0);let T=20;new Float32Array(E,T,d*2).set(r),T+=d*8,I.set(s,T),T+=h*3;for(const[P,D]of a)x.setFloat32(T,P,!0),T+=4,x.setUint32(T,parseInt(D.slice(1),16),!0),T+=4;if(i)for(const P of i)x.setFloat32(T,P,!0),T+=4;u&&(I.set(u,T),T+=3);for(let P=0;P<o.length;P++){const D=o[P];x.setUint8(T,D.type),T+=1,T=Math.ceil(T/4)*4,x.setUint32(T,D.coords.length,!0),T+=4,new Int32Array(E,T,D.coords.length).set(D.coords),T+=D.coords.length*4,x.setUint32(T,D.colors.length,!0),T+=4,new Int32Array(E,T,D.colors.length).set(D.colors),T+=D.colors.length*4,D.verticesPerRow!==void 0&&(x.setUint32(T,D.verticesPerRow,!0),T+=4)}return E}getIR(){const e=this.view,t=this.data[f(bn,Lb)],i=!!this.data[f(bn,Qb)],r=!!this.data[f(bn,kb)],s=e.getUint32(f(bn,Hb),!0),a=e.getUint32(f(bn,Vb),!0),o=e.getUint32(f(bn,Kb),!0),l=e.getUint32(f(bn,Gb),!0);let u=20;const d=new Float32Array(this.buffer,u,s*2);u+=s*8;const h=new Uint8Array(this.buffer,u,a*3);u+=a*3;const g=[];for(let E=0;E<o;++E){const x=e.getFloat32(u,!0);u+=4;const I=e.getUint32(u,!0);u+=4,g.push([x,`#${I.toString(16).padStart(6,"0")}`])}let v=null;if(i){v=[];for(let E=0;E<4;++E)v.push(e.getFloat32(u,!0)),u+=4}let b=null;r&&(b=new Uint8Array(this.buffer,u,3),u+=3);const C=[];for(let E=0;E<l;++E){const x=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const I=e.getUint32(u,!0);u+=4;const T=new Int32Array(this.buffer,u,I);u+=I*4;const R=e.getUint32(u,!0);u+=4;const P=new Int32Array(this.buffer,u,R);u+=R*4;const D={type:x,coords:T,colors:P};x===NR.LATTICE&&(D.verticesPerRow=e.getUint32(u,!0),u+=4),C.push(D)}if(t===1)return["RadialAxial","axial",v,g,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",v,g,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(t===3){const E=this.data[f(bn,Ob)];let x=null;if(d.length>0){let I=d[0],T=d[0],R=d[1],P=d[1];for(let D=0;D<d.length;D+=2){const Q=d[D],H=d[D+1];I=I>Q?Q:I,R=R>H?H:R,T=T<Q?Q:T,P=P<H?H:P}x=[I,R,T,P]}return["Mesh",E,d,h,C,x,v,b]}throw new Error(`Unsupported pattern kind: ${t}`)}};Lb=new WeakMap,Qb=new WeakMap,kb=new WeakMap,Ob=new WeakMap,Hb=new WeakMap,Vb=new WeakMap,Kb=new WeakMap,Gb=new WeakMap,F(bn,Lb,0),F(bn,Qb,1),F(bn,kb,2),F(bn,Ob,3),F(bn,Hb,4),F(bn,Vb,8),F(bn,Kb,12),F(bn,Gb,16);let oD=bn;function Nce(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Yr)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Lce(n){if(Yr&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return QB(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function LS(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const AD=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,Qce=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",kce=yce.bind(null,AD,Qce);var Cl,p1;class Oce{constructor(){F(this,Cl,new Map);F(this,p1,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};f(this,p1).then(()=>{for(const[r]of f(this,Cl))r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){At("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}f(this,Cl).set(t,r)}removeEventListener(e,t){const i=f(this,Cl).get(t);i==null||i(),f(this,Cl).delete(t)}terminate(){for(const[,e]of f(this,Cl))e==null||e();f(this,Cl).clear()}}Cl=new WeakMap,p1=new WeakMap;const QS={DATA:1,ERROR:2},yi={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function CK(){}function cs(n){if(n instanceof kd||n instanceof LR||n instanceof hK||n instanceof X_||n instanceof iM)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||yn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new kd(n.message);case"InvalidPDFException":return new LR(n.message);case"PasswordException":return new hK(n.message,n.code);case"ResponseException":return new X_(n.message,n.status,n.missing);case"UnknownErrorException":return new iM(n.message,n.details)}return new iM(n.message,n.toString())}var Fm,eo,mj,vj,yj,Xx;class X0{constructor(e,t,i){F(this,eo);F(this,Fm,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",M(this,eo,mj).bind(this),{signal:f(this,Fm).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:yi.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Ut(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:yi.CANCEL,streamId:s,reason:cs(u)}),d.promise}},i)}destroy(){var e;(e=f(this,Fm))==null||e.abort(),_(this,Fm,null)}}Fm=new WeakMap,eo=new WeakSet,mj=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){M(this,eo,yj).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===QS.DATA)r.resolve(e.data);else if(e.callback===QS.ERROR)r.reject(cs(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:i,targetName:r,callback:QS.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:i,targetName:r,callback:QS.ERROR,callbackId:e.callbackId,reason:cs(a)})});return}if(e.streamId){M(this,eo,vj).call(this,e);return}t(e.data)},vj=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:yi.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:yi.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Ut(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:yi.ERROR,streamId:t,reason:cs(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:yi.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:yi.START_COMPLETE,streamId:t,reason:cs(u)})})},yj=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case yi.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(cs(e.reason));break;case yi.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(cs(e.reason));break;case yi.PULL:if(!o){s.postMessage({sourceName:i,targetName:r,stream:yi.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||CK).then(function(){s.postMessage({sourceName:i,targetName:r,stream:yi.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:yi.PULL_COMPLETE,streamId:t,reason:cs(u)})});break;case yi.ENQUEUE:if(Ut(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case yi.CLOSE:if(Ut(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),M(this,eo,Xx).call(this,a,t);break;case yi.ERROR:Ut(a,"error should have stream controller"),a.controller.error(cs(e.reason)),M(this,eo,Xx).call(this,a,t);break;case yi.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(cs(e.reason)),M(this,eo,Xx).call(this,a,t);break;case yi.CANCEL:if(!o)break;const l=cs(e.reason);Promise.try(o.onCancel||CK,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:yi.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:yi.CANCEL_COMPLETE,streamId:t,reason:cs(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Xx=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var zb;class wj{constructor({enableHWA:e=!1}){F(this,zb,!1);_(this,zb,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!f(this,zb)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){yn("Abstract method `_createCanvas` called.")}}zb=new WeakMap;class Hce extends wj{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class bj{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){yn("Abstract method `_fetch` called.")}}class BK extends bj{async _fetch(e){const t=await kB(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):QB(t)}}class Cj{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var ah,Um,Bl,El,Mr,oh,Ah,Le,Tr,J0,Bg,Jx,Eg,Bj,lD,Sg,Z0,ew,uD,tw;class Vce extends Cj{constructor({docId:t,ownerDocument:i=globalThis.document}){super();F(this,Le);F(this,ah);F(this,Um);F(this,Bl);F(this,El);F(this,Mr);F(this,oh);F(this,Ah,0);_(this,El,t),_(this,Mr,i)}addFilter(t){if(!t)return"none";let i=f(this,Le,Tr).get(t);if(i)return i;const[r,s,a]=M(this,Le,Jx).call(this,t),o=t.length===1?r:`${r}${s}${a}`;if(i=f(this,Le,Tr).get(o),i)return f(this,Le,Tr).set(t,i),i;const l=`g_${f(this,El)}_transfer_map_${ai(this,Ah)._++}`,u=M(this,Le,Eg).call(this,l);f(this,Le,Tr).set(t,u),f(this,Le,Tr).set(o,u);const d=M(this,Le,Sg).call(this,l);return M(this,Le,ew).call(this,r,s,a,d),u}addHCMFilter(t,i){var b;const r=`${t}-${i}`,s="base";let a=f(this,Le,J0).get(s);if((a==null?void 0:a.key)===r||(a?((b=a.filter)==null||b.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},f(this,Le,J0).set(s,a)),!t||!i))return a.url;const o=M(this,Le,tw).call(this,t);t=Ve.makeHexColor(...o);const l=M(this,Le,tw).call(this,i);if(i=Ve.makeHexColor(...l),f(this,Le,Bg).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return a.url;const u=new Array(256);for(let C=0;C<=255;C++){const E=C/255;u[C]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const d=u.join(","),h=`g_${f(this,El)}_hcm_filter`,g=a.filter=M(this,Le,Sg).call(this,h);M(this,Le,ew).call(this,d,d,d,g),M(this,Le,lD).call(this,g);const v=(C,E)=>{const x=o[C]/255,I=l[C]/255,T=new Array(E+1);for(let R=0;R<=E;R++)T[R]=x+R/E*(I-x);return T.join(",")};return M(this,Le,ew).call(this,v(0,5),v(1,5),v(2,5),g),a.url=M(this,Le,Eg).call(this,h),a.url}addAlphaFilter(t){let i=f(this,Le,Tr).get(t);if(i)return i;const[r]=M(this,Le,Jx).call(this,[t]),s=`alpha_${r}`;if(i=f(this,Le,Tr).get(s),i)return f(this,Le,Tr).set(t,i),i;const a=`g_${f(this,El)}_alpha_map_${ai(this,Ah)._++}`,o=M(this,Le,Eg).call(this,a);f(this,Le,Tr).set(t,o),f(this,Le,Tr).set(s,o);const l=M(this,Le,Sg).call(this,a);return M(this,Le,uD).call(this,r,l),o}addLuminosityFilter(t){let i=f(this,Le,Tr).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=M(this,Le,Jx).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=f(this,Le,Tr).get(s),i)return f(this,Le,Tr).set(t,i),i;const a=`g_${f(this,El)}_luminosity_map_${ai(this,Ah)._++}`,o=M(this,Le,Eg).call(this,a);f(this,Le,Tr).set(t,o),f(this,Le,Tr).set(s,o);const l=M(this,Le,Sg).call(this,a);return M(this,Le,Bj).call(this,l),t&&M(this,Le,uD).call(this,r,l),o}addHighlightHCMFilter(t,i,r,s,a){var I;const o=`${i}-${r}-${s}-${a}`;let l=f(this,Le,J0).get(t);if((l==null?void 0:l.key)===o||(l?((I=l.filter)==null||I.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},f(this,Le,J0).set(t,l)),!i||!r))return l.url;const[u,d]=[i,r].map(M(this,Le,tw).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,b]=[s,a].map(M(this,Le,tw).bind(this));g<h&&([h,g,v,b]=[g,h,b,v]),f(this,Le,Bg).style.color="";const C=(T,R,P)=>{const D=new Array(256),Q=(g-h)/P,H=T/255,k=(R-T)/(255*P);let K=0;for(let V=0;V<=P;V++){const q=Math.round(h+V*Q),X=H+V*k;for(let ne=K;ne<=q;ne++)D[ne]=X;K=q+1}for(let V=K;V<256;V++)D[V]=D[K-1];return D.join(",")},E=`g_${f(this,El)}_hcm_${t}_filter`,x=l.filter=M(this,Le,Sg).call(this,E);return M(this,Le,lD).call(this,x),M(this,Le,ew).call(this,C(v[0],b[0],5),C(v[1],b[1],5),C(v[2],b[2],5),x),l.url=M(this,Le,Eg).call(this,E),l.url}destroy(t=!1){var i,r,s,a;t&&((i=f(this,oh))!=null&&i.size)||((r=f(this,Bl))==null||r.parentNode.parentNode.remove(),_(this,Bl,null),(s=f(this,Um))==null||s.clear(),_(this,Um,null),(a=f(this,oh))==null||a.clear(),_(this,oh,null),_(this,Ah,0))}}ah=new WeakMap,Um=new WeakMap,Bl=new WeakMap,El=new WeakMap,Mr=new WeakMap,oh=new WeakMap,Ah=new WeakMap,Le=new WeakSet,Tr=function(){return f(this,Um)||_(this,Um,new Map)},J0=function(){return f(this,oh)||_(this,oh,new Map)},Bg=function(){if(!f(this,Bl)){const t=f(this,Mr).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=f(this,Mr).createElementNS(il,"svg");r.setAttribute("width",0),r.setAttribute("height",0),_(this,Bl,f(this,Mr).createElementNS(il,"defs")),t.append(r),r.append(f(this,Bl)),f(this,Mr).body.append(t)}return f(this,Bl)},Jx=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let g=0;g<256;g++)d[g]=u[g]/255;const h=d.join(",");return[h,h,h]}const[i,r,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=i[u]/255,o[u]=r[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},Eg=function(t){if(f(this,ah)===void 0){_(this,ah,"");const i=f(this,Mr).URL;i!==f(this,Mr).baseURI&&(O1(i)?At('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,ah,I6(i,"")))}return`url(${f(this,ah)}#${t})`},Bj=function(t){const i=f(this,Mr).createElementNS(il,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},lD=function(t){const i=f(this,Mr).createElementNS(il,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},Sg=function(t){const i=f(this,Mr).createElementNS(il,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),f(this,Le,Bg).append(i),i},Z0=function(t,i,r){const s=f(this,Mr).createElementNS(il,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},ew=function(t,i,r,s){const a=f(this,Mr).createElementNS(il,"feComponentTransfer");s.append(a),M(this,Le,Z0).call(this,a,"feFuncR",t),M(this,Le,Z0).call(this,a,"feFuncG",i),M(this,Le,Z0).call(this,a,"feFuncB",r)},uD=function(t,i){const r=f(this,Mr).createElementNS(il,"feComponentTransfer");i.append(r),M(this,Le,Z0).call(this,r,"feFuncA",t)},tw=function(t){return f(this,Le,Bg).style.color=t,HB(getComputedStyle(f(this,Le,Bg)).getPropertyValue("color"))};class Ej{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){yn("Abstract method `_fetch` called.")}}class EK extends Ej{async _fetch(e){const t=await kB(e,"arraybuffer");return new Uint8Array(t)}}class Sj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){yn("Abstract method `_fetch` called.")}}class SK extends Sj{async _fetch(e){const t=await kB(e,"arraybuffer");return new Uint8Array(t)}}Yr&&At("Please use the `legacy` build in Node.js environments.");async function LQ(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class Kce extends Cj{}class Gce extends wj{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class zce extends bj{async _fetch(e){return LQ(e)}}class qce extends Ej{async _fetch(e){return LQ(e)}}class $ce extends Sj{async _fetch(e){return LQ(e)}}const ug="__forcedDependency",{floor:xK,ceil:_K}=Math;function kS(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const cD=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Mm,Hc;class jce{constructor(e,t){F(this,Mm);F(this,Hc);_(this,Mm,e),_(this,Hc,t)}get length(){return f(this,Mm).length}isEmpty(e){return f(this,Mm)[e]===cD}minX(e){return f(this,Hc)[e*4+0]/256}minY(e){return f(this,Hc)[e*4+1]/256}maxX(e){return(f(this,Hc)[e*4+2]+1)/256}maxY(e){return(f(this,Hc)[e*4+3]+1)/256}}Mm=new WeakMap,Hc=new WeakMap;const OS=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var hs,ps,lh,vo,uh,Sl,Wt,An,xl,gs,qb,Pm,ch,dh,_l,Pr,uA,$b,dD;class Wce{constructor(e,t,i=!1){F(this,$b);F(this,hs,{__proto__:null});F(this,ps,{__proto__:null,transform:[],moveText:[],sameLineText:[],[ug]:[]});F(this,lh,new Map);F(this,vo,[]);F(this,uh,[]);F(this,Sl,[[1,0,0,1,0,0]]);F(this,Wt,[-1/0,-1/0,1/0,1/0]);F(this,An,new Float64Array([1/0,1/0,-1/0,-1/0]));F(this,xl,-1);F(this,gs,new Set);F(this,qb,new Map);F(this,Pm,new Map);F(this,ch);F(this,dh);F(this,_l);F(this,Pr);F(this,uA);_(this,ch,e.width),_(this,dh,e.height),M(this,$b,dD).call(this,t),i&&_(this,uA,new Map)}growOperationsCount(e){e>=f(this,Pr).length&&M(this,$b,dD).call(this,e,f(this,Pr))}save(e){return _(this,hs,{__proto__:f(this,hs)}),_(this,ps,{__proto__:f(this,ps),transform:{__proto__:f(this,ps).transform},moveText:{__proto__:f(this,ps).moveText},sameLineText:{__proto__:f(this,ps).sameLineText},[ug]:{__proto__:f(this,ps)[ug]}}),_(this,Wt,{__proto__:f(this,Wt)}),f(this,vo).push(e),this}restore(e){var r;const t=Object.getPrototypeOf(f(this,hs));if(t===null)return this;_(this,hs,t),_(this,ps,Object.getPrototypeOf(f(this,ps))),_(this,Wt,Object.getPrototypeOf(f(this,Wt)));const i=f(this,vo).pop();return i!==void 0&&((r=OS(f(this,uA),e))==null||r.dependencies.add(i),f(this,Pr)[e]=f(this,Pr)[i]),this}recordOpenMarker(e){return f(this,vo).push(e),this}getOpenMarker(){return f(this,vo).length===0?null:f(this,vo).at(-1)}recordCloseMarker(e){var i;const t=f(this,vo).pop();return t!==void 0&&((i=OS(f(this,uA),e))==null||i.dependencies.add(t),f(this,Pr)[e]=f(this,Pr)[t]),this}beginMarkedContent(e){return f(this,uh).push(e),this}endMarkedContent(e){var i;const t=f(this,uh).pop();return t!==void 0&&((i=OS(f(this,uA),e))==null||i.dependencies.add(t),f(this,Pr)[e]=f(this,Pr)[t]),this}pushBaseTransform(e){return f(this,Sl).push(Ve.multiplyByDOMMatrix(f(this,Sl).at(-1),e.getTransform())),this}popBaseTransform(){return f(this,Sl).length>1&&f(this,Sl).pop(),this}recordSimpleData(e,t){return f(this,hs)[e]=t,this}recordIncrementalData(e,t){return f(this,ps)[e].push(t),this}resetIncrementalData(e,t){return f(this,ps)[e].length=0,this}recordNamedData(e,t){return f(this,lh).set(e,t),this}recordSimpleDataFromNamed(e,t,i){f(this,hs)[e]=f(this,lh).get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(ug,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in f(this,hs)&&this.recordFutureForcedDependency(t,f(this,hs)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of f(this,gs))this.recordFutureForcedDependency(ug,e);return this}resetBBox(e){return f(this,xl)!==e&&(_(this,xl,e),f(this,An)[0]=1/0,f(this,An)[1]=1/0,f(this,An)[2]=-1/0,f(this,An)[3]=-1/0),this}recordClipBox(e,t,i,r,s,a){const o=Ve.multiplyByDOMMatrix(f(this,Sl).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Ve.axialAlignedBoundingBox([i,s,r,a],o,l);const u=Ve.intersect(f(this,Wt),l);return u?(f(this,Wt)[0]=u[0],f(this,Wt)[1]=u[1],f(this,Wt)[2]=u[2],f(this,Wt)[3]=u[3]):(f(this,Wt)[0]=f(this,Wt)[1]=1/0,f(this,Wt)[2]=f(this,Wt)[3]=-1/0),this}recordBBox(e,t,i,r,s,a){const o=f(this,Wt);if(o[0]===1/0)return this;const l=Ve.multiplyByDOMMatrix(f(this,Sl).at(-1),t.getTransform());if(o[0]===-1/0)return Ve.axialAlignedBoundingBox([i,s,r,a],l,f(this,An)),this;const u=[1/0,1/0,-1/0,-1/0];return Ve.axialAlignedBoundingBox([i,s,r,a],l,u),f(this,An)[0]=Math.min(f(this,An)[0],Math.max(u[0],o[0])),f(this,An)[1]=Math.min(f(this,An)[1],Math.max(u[1],o[1])),f(this,An)[2]=Math.max(f(this,An)[2],Math.min(u[2],o[2])),f(this,An)[3]=Math.max(f(this,An)[3],Math.min(u[3],o[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,a=0,o){const l=i.bbox;let u,d;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&f(this,Pm).get(i),u!==!1&&(d=[0,0,0,0],Ve.axialAlignedBoundingBox(l,i.fontMatrix,d),(r!==1||s!==0||a!==0)&&Ve.scaleMinMax([r,0,0,-r,s,a],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return l&&d&&u===void 0&&(u=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=a-h.actualBoundingBoxAscent&&d[3]>=a+h.actualBoundingBoxDescent,f(this,Pm).set(i,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return f(this,An)[0]=Math.max(0,f(this,Wt)[0]),f(this,An)[1]=Math.max(0,f(this,Wt)[1]),f(this,An)[2]=Math.min(f(this,ch),f(this,Wt)[2]),f(this,An)[3]=Math.min(f(this,dh),f(this,Wt)[3]),this}getSimpleIndex(e){return f(this,hs)[e]}recordDependencies(e,t){const i=f(this,gs),r=f(this,hs),s=f(this,ps);for(const a of t)a in f(this,hs)?i.add(r[a]):a in s&&s[a].forEach(i.add,i);return this}recordNamedDependency(e,t){return f(this,lh).has(t)&&f(this,gs).add(f(this,lh).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[ug]),f(this,uA)){const i=OS(f(this,uA),e),{dependencies:r}=i;f(this,gs).forEach(r.add,r),f(this,vo).forEach(r.add,r),f(this,uh).forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(f(this,xl)===e){const i=xK(f(this,An)[0]*256/f(this,ch)),r=xK(f(this,An)[1]*256/f(this,dh)),s=_K(f(this,An)[2]*256/f(this,ch)),a=_K(f(this,An)[3]*256/f(this,dh));kS(f(this,_l),e,i,r,s,a);for(const o of f(this,gs))o!==e&&kS(f(this,_l),o,i,r,s,a);for(const o of f(this,vo))o!==e&&kS(f(this,_l),o,i,r,s,a);for(const o of f(this,uh))o!==e&&kS(f(this,_l),o,i,r,s,a);t||(f(this,gs).clear(),_(this,xl,-1))}return this}recordShowTextOperation(e,t=!1){const i=Array.from(f(this,gs));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return f(this,xl)===e&&(_(this,xl,-1),f(this,Wt)[0]=Math.max(f(this,Wt)[0],f(this,An)[0]),f(this,Wt)[1]=Math.max(f(this,Wt)[1],f(this,An)[1]),f(this,Wt)[2]=Math.min(f(this,Wt)[2],f(this,An)[2]),f(this,Wt)[3]=Math.min(f(this,Wt)[3],f(this,An)[3]),t||f(this,gs).clear()),this}_takePendingDependencies(){const e=f(this,gs);return _(this,gs,new Set),e}_extractOperation(e){const t=f(this,qb).get(e);return f(this,qb).delete(e),t}_pushPendingDependencies(e){for(const t of e)f(this,gs).add(t)}take(){return f(this,Pm).clear(),new jce(f(this,Pr),f(this,_l))}takeDebugMetadata(){return f(this,uA)}}hs=new WeakMap,ps=new WeakMap,lh=new WeakMap,vo=new WeakMap,uh=new WeakMap,Sl=new WeakMap,Wt=new WeakMap,An=new WeakMap,xl=new WeakMap,gs=new WeakMap,qb=new WeakMap,Pm=new WeakMap,ch=new WeakMap,dh=new WeakMap,_l=new WeakMap,Pr=new WeakMap,uA=new WeakMap,$b=new WeakSet,dD=function(e,t){const i=new ArrayBuffer(e*4);_(this,_l,new Uint8ClampedArray(i)),_(this,Pr,new Uint32Array(i)),t&&t.length>0?(f(this,Pr).set(t),f(this,Pr).fill(cD,t.length)):f(this,Pr).fill(cD)};var gn,Wn,yo,Rm,Dm;const LO=class LO{constructor(e,t,i){F(this,gn);F(this,Wn);F(this,yo);F(this,Rm,0);F(this,Dm,0);if(e instanceof LO&&f(e,yo)===!!i)return e;_(this,gn,e),_(this,Wn,t),_(this,yo,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(e){return ai(this,Dm)._++,f(this,gn).save(f(this,Wn)),this}restore(e){return f(this,Dm)>0&&(f(this,gn).restore(f(this,Wn)),ai(this,Dm)._--),this}recordOpenMarker(e){return ai(this,Rm)._++,this}getOpenMarker(){return f(this,Rm)>0?f(this,Wn):f(this,gn).getOpenMarker()}recordCloseMarker(e){return ai(this,Rm)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return f(this,gn).pushBaseTransform(e),this}popBaseTransform(){return f(this,gn).popBaseTransform(),this}recordSimpleData(e,t){return f(this,gn).recordSimpleData(e,f(this,Wn)),this}recordIncrementalData(e,t){return f(this,gn).recordIncrementalData(e,f(this,Wn)),this}resetIncrementalData(e,t){return f(this,gn).resetIncrementalData(e,f(this,Wn)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return f(this,gn).recordSimpleDataFromNamed(e,t,f(this,Wn)),this}recordFutureForcedDependency(e,t){return f(this,gn).recordFutureForcedDependency(e,f(this,Wn)),this}inheritSimpleDataAsFutureForcedDependencies(e){return f(this,gn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return f(this,gn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return f(this,yo)||f(this,gn).resetBBox(f(this,Wn)),this}recordClipBox(e,t,i,r,s,a){return f(this,yo)||f(this,gn).recordClipBox(f(this,Wn),t,i,r,s,a),this}recordBBox(e,t,i,r,s,a){return f(this,yo)||f(this,gn).recordBBox(f(this,Wn),t,i,r,s,a),this}recordCharacterBBox(e,t,i,r,s,a,o){return f(this,yo)||f(this,gn).recordCharacterBBox(f(this,Wn),t,i,r,s,a,o),this}recordFullPageBBox(e){return f(this,yo)||f(this,gn).recordFullPageBBox(f(this,Wn)),this}getSimpleIndex(e){return f(this,gn).getSimpleIndex(e)}recordDependencies(e,t){return f(this,gn).recordDependencies(f(this,Wn),t),this}recordNamedDependency(e,t){return f(this,gn).recordNamedDependency(f(this,Wn),t),this}recordOperation(e){return f(this,gn).recordOperation(f(this,Wn),!0),this}recordShowTextOperation(e){return f(this,gn).recordShowTextOperation(f(this,Wn),!0),this}bboxToClipBoxDropOperation(e){return f(this,yo)||f(this,gn).bboxToClipBoxDropOperation(f(this,Wn),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};gn=new WeakMap,Wn=new WeakMap,yo=new WeakMap,Rm=new WeakMap,Dm=new WeakMap;let tT=LO;const _a={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},vr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function fD(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class QQ{isModifyingCurrentTransform(){return!1}getPattern(){yn("Abstract method `getPattern` called.")}}class Yce extends QQ{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===vr.STROKE||r===vr.FILL){const a=t.current.getClippedPathBoundingBox(r,Vn(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),i=Ve.transform(i,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),fD(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(i);s.setTransform(h)}else fD(e,this._bbox),s=this._createGradient(e);return s}}function aM(n,e,t,i,r,s,a,o){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let g;l[t+1]>l[i+1]&&(g=t,t=i,i=g,g=s,s=a,a=g),l[i+1]>l[r+1]&&(g=i,i=r,r=g,g=a,a=o,o=g),l[t+1]>l[i+1]&&(g=t,t=i,i=g,g=s,s=a,a=g);const v=(l[t]+e.offsetX)*e.scaleX,b=(l[t+1]+e.offsetY)*e.scaleY,C=(l[i]+e.offsetX)*e.scaleX,E=(l[i+1]+e.offsetY)*e.scaleY,x=(l[r]+e.offsetX)*e.scaleX,I=(l[r+1]+e.offsetY)*e.scaleY;if(b>=I)return;const T=u[s],R=u[s+1],P=u[s+2],D=u[a],Q=u[a+1],H=u[a+2],k=u[o],K=u[o+1],V=u[o+2],q=Math.round(b),X=Math.round(I);let ne,ge,G,$,ie,se,be,z;for(let J=q;J<=X;J++){if(J<E){const Ce=J<b?0:(b-J)/(b-E);ne=v-(v-C)*Ce,ge=T-(T-D)*Ce,G=R-(R-Q)*Ce,$=P-(P-H)*Ce}else{let Ce;J>I?Ce=1:E===I?Ce=0:Ce=(E-J)/(E-I),ne=C-(C-x)*Ce,ge=D-(D-k)*Ce,G=Q-(Q-K)*Ce,$=H-(H-V)*Ce}let le;J<b?le=0:J>I?le=1:le=(b-J)/(b-I),ie=v-(v-x)*le,se=T-(T-k)*le,be=R-(R-K)*le,z=P-(P-V)*le;const ve=Math.round(Math.min(ne,ie)),Ee=Math.round(Math.max(ne,ie));let Fe=h*J+ve*4;for(let Ce=ve;Ce<=Ee;Ce++)le=(ne-Ce)/(ne-ie),le<0?le=0:le>1&&(le=1),d[Fe++]=ge-(ge-se)*le|0,d[Fe++]=G-(G-be)*le|0,d[Fe++]=$-($-z)*le|0,d[Fe++]=255}}function Xce(n,e,t){const i=e.coords,r=e.colors;let s,a;switch(e.type){case NR.LATTICE:const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,u=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<u;h++,d++)aM(n,t,i[d],i[d+1],i[d+o],r[d],r[d+1],r[d+o]),aM(n,t,i[d+o+1],i[d+1],i[d+o],r[d+o+1],r[d+1],r[d+o])}break;case NR.TRIANGLES:for(s=0,a=i.length;s<a;s+=3)aM(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class Jce extends QQ{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),v=u/h,b=d/g,C={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/v,scaleY:1/b},E=h+4,x=g+4,I=i.getCanvas("mesh",E,x),T=I.context,R=T.createImageData(h,g);if(t){const D=R.data;for(let Q=0,H=D.length;Q<H;Q+=4)D[Q]=t[0],D[Q+1]=t[1],D[Q+2]=t[2],D[Q+3]=255}for(const D of this._figures)Xce(R,D,C);return T.putImageData(R,2,2),{canvas:I.canvas,offsetX:o-2*v,offsetY:l-2*b,scaleX:v,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){fD(e,this._bbox);const s=new Float32Array(2);if(r===vr.SHADING)Ve.singularValueDecompose2dScale(Vn(e),s);else if(this.matrix){Ve.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Ve.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else Ve.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,r===vr.SHADING?null:this._background,t.cachedCanvases);return r!==vr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class Zce extends QQ{getPattern(){return"hotpink"}}function ede(n){switch(n[0]){case"RadialAxial":return new Yce(n);case"Mesh":return new Jce(n);case"Dummy":return new Zce}throw new Error(`Unknown IR type: ${n[0]}`)}const TK={COLORED:1,UNCOLORED:2},g1=class g1{constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){var se,be;const{bbox:i,operatorList:r,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),k1("TilingType: "+a);const h=i[0],g=i[1],v=i[2],b=i[3],C=v-h,E=b-g,x=new Float32Array(2);Ve.singularValueDecompose2dScale(this.matrix,x);const[I,T]=x;Ve.singularValueDecompose2dScale(this.baseTransform,x);const R=I*x[0],P=T*x[1];let D=C,Q=E,H=!1,k=!1;const K=Math.ceil(u*R),V=Math.ceil(d*P),q=Math.ceil(C*R),X=Math.ceil(E*P);K>=q?D=u:H=!0,V>=X?Q=d:k=!0;const ne=this.getSizeAndScale(D,this.ctx.canvas.width,R),ge=this.getSizeAndScale(Q,this.ctx.canvas.height,P),G=e.cachedCanvases.getCanvas("pattern",ne.size,ge.size),$=G.context,ie=l.createCanvasGraphics($,t);if(ie.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ie,s,o),$.translate(-ne.scale*h,-ge.scale*g),ie.transform(0,ne.scale,0,0,ge.scale,0,0),$.save(),(se=ie.dependencyTracker)==null||se.save(),this.clipBbox(ie,h,g,v,b),ie.baseTransform=Vn(ie.ctx),ie.executeOperatorList(r),ie.endDrawing(),(be=ie.dependencyTracker)==null||be.restore(),$.restore(),H||k){const z=G.canvas;H&&(D=u),k&&(Q=d);const J=this.getSizeAndScale(D,this.ctx.canvas.width,R),le=this.getSizeAndScale(Q,this.ctx.canvas.height,P),ve=J.size,Ee=le.size,Fe=e.cachedCanvases.getCanvas("pattern-workaround",ve,Ee),Ce=Fe.context,ut=H?Math.floor(C/u):0,ae=k?Math.floor(E/d):0;for(let Ke=0;Ke<=ut;Ke++)for(let Ye=0;Ye<=ae;Ye++)Ce.drawImage(z,ve*Ke,Ee*Ye,ve,Ee,0,0,ve,Ee);return{canvas:Fe.canvas,scaleX:J.scale,scaleY:le.scale,offsetX:h,offsetY:g}}return{canvas:G.canvas,scaleX:ne.scale,scaleY:ge.scale,offsetX:h,offsetY:g}}getSizeAndScale(e,t,i){const r=Math.max(g1.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const a=r-t,o=s-i;e.ctx.rect(t,i,a,o),Ve.axialAlignedBoundingBox([t,i,r,s],Vn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case TK.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;r.fillStyle=s.fillColor=a,r.strokeStyle=s.strokeColor=o;break;case TK.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new fce(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let a=i;r!==vr.SHADING&&(a=Ve.transform(a,t.baseTransform),this.matrix&&(a=Ve.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};me(g1,"MAX_PATTERN_SIZE",3e3);let hD=g1;function tde({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Er.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],d=i>>3,h=i&7,g=n.length;t=new Uint32Array(t.buffer);let v=0;for(let b=0;b<r;b++){for(const E=e+d;e<E;e++){const x=e<g?n[e]:255;t[v++]=x&128?u:l,t[v++]=x&64?u:l,t[v++]=x&32?u:l,t[v++]=x&16?u:l,t[v++]=x&8?u:l,t[v++]=x&4?u:l,t[v++]=x&2?u:l,t[v++]=x&1?u:l}if(h===0)continue;const C=e<g?n[e++]:255;for(let E=0;E<h;E++)t[v++]=C&1<<7-E?u:l}return{srcPos:e,destPos:v}}const IK=16,FK=100,nde=15,UK=10,Cs=16,oM=new DOMMatrix,ra=new Float32Array(2),Lg=new Float32Array([1/0,1/0,-1/0,-1/0]);function ide(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,a,o){e.transform(t,i,r,s,a,o),this.__originalTransform(t,i,r,s,a,o)},n.setTransform=function(t,i,r,s,a,o){e.setTransform(t,i,r,s,a,o),this.__originalSetTransform(t,i,r,s,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,a,o){e.bezierCurveTo(t,i,r,s,a,o),this.__originalBezierCurveTo(t,i,r,s,a,o)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class rde{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function HS(n,e,t,i,r,s,a,o,l,u){const[d,h,g,v,b,C]=Vn(n);if(h===0&&g===0){const I=a*d+b,T=Math.round(I),R=o*v+C,P=Math.round(R),D=(a+l)*d+b,Q=Math.abs(Math.round(D)-T)||1,H=(o+u)*v+C,k=Math.abs(Math.round(H)-P)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(v),T,P),n.drawImage(e,t,i,r,s,0,0,Q,k),n.setTransform(d,h,g,v,b,C),[Q,k]}if(d===0&&v===0){const I=o*g+b,T=Math.round(I),R=a*h+C,P=Math.round(R),D=(o+u)*g+b,Q=Math.abs(Math.round(D)-T)||1,H=(a+l)*h+C,k=Math.abs(Math.round(H)-P)||1;return n.setTransform(0,Math.sign(h),Math.sign(g),0,T,P),n.drawImage(e,t,i,r,s,0,0,k,Q),n.setTransform(d,h,g,v,b,C),[k,Q]}n.drawImage(e,t,i,r,s,a,o,l,u);const E=Math.hypot(d,h),x=Math.hypot(g,v);return[E*l,x*u]}class MK{constructor(e,t,i){me(this,"alphaIsShape",!1);me(this,"fontSize",0);me(this,"fontSizeScale",1);me(this,"textMatrix",null);me(this,"textMatrixScale",1);me(this,"fontMatrix",DR);me(this,"leading",0);me(this,"x",0);me(this,"y",0);me(this,"lineX",0);me(this,"lineY",0);me(this,"charSpacing",0);me(this,"wordSpacing",0);me(this,"textHScale",1);me(this,"textRenderingMode",lr.FILL);me(this,"textRise",0);me(this,"fillColor","#000000");me(this,"strokeColor","#000000");me(this,"patternFill",!1);me(this,"patternStroke",!1);me(this,"fillAlpha",1);me(this,"strokeAlpha",1);me(this,"lineWidth",1);me(this,"activeSMask",null);me(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Lg.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=vr.FILL,t=null){const i=this.minMax.slice();if(e===vr.STROKE){t||yn("Stroke bounding box must include transform."),Ve.singularValueDecompose2dScale(t,ra);const r=ra[0]*this.lineWidth/2,s=ra[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=Ve.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Lg,0)}getClippedPathBoundingBox(e=vr.FILL,t=null){return Ve.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function PK(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%Cs,s=(t-r)/Cs,a=r===0?s:s+1,o=n.createImageData(i,Cs);let l=0,u;const d=e.data,h=o.data;let g,v,b,C;if(e.kind===Vx.GRAYSCALE_1BPP){const E=d.byteLength,x=new Uint32Array(h.buffer,0,h.byteLength>>2),I=x.length,T=i+7>>3,R=4294967295,P=Er.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(b=g<s?Cs:r,u=0,v=0;v<b;v++){const D=E-l;let Q=0;const H=D>T?i:D*8-7,k=H&-8;let K=0,V=0;for(;Q<k;Q+=8)V=d[l++],x[u++]=V&128?R:P,x[u++]=V&64?R:P,x[u++]=V&32?R:P,x[u++]=V&16?R:P,x[u++]=V&8?R:P,x[u++]=V&4?R:P,x[u++]=V&2?R:P,x[u++]=V&1?R:P;for(;Q<H;Q++)K===0&&(V=d[l++],K=128),x[u++]=V&K?R:P,K>>=1}for(;u<I;)x[u++]=0;n.putImageData(o,0,g*Cs)}}else if(e.kind===Vx.RGBA_32BPP){for(v=0,C=i*Cs*4,g=0;g<s;g++)h.set(d.subarray(l,l+C)),l+=C,n.putImageData(o,0,v),v+=Cs;g<a&&(C=i*r*4,h.set(d.subarray(l,l+C)),n.putImageData(o,0,v))}else if(e.kind===Vx.RGB_24BPP)for(b=Cs,C=i*b,g=0;g<a;g++){for(g>=s&&(b=r,C=i*b),u=0,v=C;v--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(o,0,g*Cs)}else throw new Error(`bad image kind: ${e.kind}`)}function RK(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%Cs,s=(t-r)/Cs,a=r===0?s:s+1,o=n.createImageData(i,Cs);let l=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const g=h<s?Cs:r;({srcPos:l}=tde({src:u,srcPos:l,dest:d,width:i,height:g,nonBlackColor:0})),n.putImageData(o,0,h*Cs)}}function E0(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function VS(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function DK(n,e){if(e)return!0;Ve.singularValueDecompose2dScale(n,ra);const t=Math.fround(mp.pixelRatio*Yv.PDF_TO_CSS_UNITS);return ra[0]<=t&&ra[1]<=t}const sde=["butt","round","square"],ade=["miter","round","bevel"],ode={},NK={};var No,pD,gD,mD;const QO=class QO{constructor(e,t,i,r,s,{optionalContentConfig:a,markedContentStack:o=null},l,u,d){F(this,No);this.ctx=e,this.current=new MK(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new rde(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,i=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Vn(this.compositeCtx))}this.ctx.save(),VS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Vn(this.ctx)}executeOperatorList(e,t,i,r,s){var x;const a=e.argsArray,o=e.fnArray;let l=t||0;const u=a.length;if(u===l)return l;const d=u-l>UK&&typeof i=="function",h=d?Date.now()+nde:0;let g=0;const v=this.commonObjs,b=this.objs;let C,E;for(;;){if(r!==void 0&&l===r.nextBreakPoint)return r.breakIt(l,i),l;if(!s||s(l))if(C=o[l],E=a[l]??null,C!==Qw.dependency)E===null?this[C](l):this[C](l,...E);else for(const I of E){(x=this.dependencyTracker)==null||x.recordNamedData(I,l);const T=I.startsWith("g_")?v:b;if(!T.has(I))return T.get(I,i),l}if(l++,l===u)return l;if(d&&++g>UK){if(Date.now()>h)return i(),l;g=0}}}endDrawing(){M(this,No,pD).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),M(this,No,gD).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=i,l=r,u="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let g=o,v=l;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/v),d=this.cachedCanvases.getCanvas(u,g,v),h=d.context,h.clearRect(0,0,g,v),h.drawImage(e,0,0,o,l,0,0,g,v),e=d.canvas,o=g,l=v,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var K,V;const i=this.ctx,{width:r,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=Vn(i);let u,d,h,g;if((t.bitmap||t.data)&&t.count>1){const q=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),u=this._cachedBitmapsMap.get(q),u||(u=new Map,this._cachedBitmapsMap.set(q,u));const X=u.get(d);if(X&&!o){const ne=Math.round(Math.min(l[0],l[2])+l[4]),ge=Math.round(Math.min(l[1],l[3])+l[5]);return(K=this.dependencyTracker)==null||K.recordDependencies(e,_a.transformAndFill),{canvas:X,offsetX:ne,offsetY:ge}}h=X}h||(g=this.cachedCanvases.getCanvas("maskCanvas",r,s),RK(g.context,t));let v=Ve.transform(l,[1/r,0,0,-1/s,0,0]);v=Ve.transform(v,[1,0,0,1,0,-s]);const b=Lg.slice();Ve.axialAlignedBoundingBox([0,0,r,s],v,b);const[C,E,x,I]=b,T=Math.round(x-C)||1,R=Math.round(I-E)||1,P=this.cachedCanvases.getCanvas("fillCanvas",T,R),D=P.context,Q=C,H=E;D.translate(-Q,-H),D.transform(...v),h||(h=this._scaleImage(g.canvas,jo(D)),h=h.img,u&&o&&u.set(d,h)),D.imageSmoothingEnabled=DK(Vn(D),t.interpolate),HS(D,h,0,0,h.width,h.height,0,0,r,s),D.globalCompositeOperation="source-in";const k=Ve.transform(jo(D),[1,0,0,1,-Q,-H]);return D.fillStyle=o?a.getPattern(i,this,k,vr.FILL,e):a,D.fillRect(0,0,r,s),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,P.canvas)),(V=this.dependencyTracker)==null||V.recordDependencies(e,_a.transformAndFill),{canvas:P.canvas,offsetX:Math.round(Q),offsetY:Math.round(H)}}setLineWidth(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",e),this.ctx.lineCap=sde[t]}setLineJoin(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",e),this.ctx.lineJoin=ade[t]}setMiterLimit(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var i,r,s,a,o;for(const[l,u]of t)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),E0(this.suspendedCtx,a),ide(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),E0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],a=r[1],o=r[2]-s,l=r[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,i,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,a,o,l,u,d,h){let g=e.canvas,v=l-d,b=u-h;if(a)if(v<0||b<0||v+i>g.width||b+r>g.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,r),x=E.context;x.drawImage(g,-v,-b),x.globalCompositeOperation="destination-atop",x.fillStyle=a,x.fillRect(0,0,i,r),x.globalCompositeOperation="source-over",g=E.canvas,v=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(v,b,i,r),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(v,b,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const C=new Path2D;C.rect(l,u,i,r),t.clip(C),t.globalCompositeOperation="destination-in",t.drawImage(g,v,b,i,r,l,u,i,r),t.restore()}save(e){var i;this.inSMaskMode&&E0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(i=this.dependencyTracker)==null||i.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&E0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||(s=i[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===Qw.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-a,r[2]+a,r[1]-a,r[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=i[0]=D6(s)),Ve.axialAlignedBoundingBox(r,Vn(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){var a;const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,jo(r),vr.STROKE,e),o){const l=new Path2D;l.addPath(t,r.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,_a.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(vr.STROKE,Vn(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){var u,d,h;const r=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const g=s.isModifyingCurrentTransform()?r.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),r.save(),r.fillStyle=s.getPattern(r,this,jo(r),vr.FILL,e),g){const v=new Path2D;v.addPath(t,r.getTransform().invertSelf().multiplySelf(g)),t=v}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,_a.fill),o&&(r.restore(),(h=this.dependencyTracker)==null||h.restore(e)),i&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var i;this.ctx.fill(t),(i=this.dependencyTracker)==null||i.recordDependencies(e,_a.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=ode}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=NK}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:u,path:d}of t)d&&r.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(u,-u));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){var h,g;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||DR,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&At("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const a=r.loadedName||"sans-serif",o=((g=r.systemFontInfo)==null?void 0:g.css)||`"${a}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const u=r.italic?"italic":"normal";let d=i;i<IK?d=IK:i>FK&&(d=FK),this.current.fontSizeScale=i/d,this.ctx.font=`${u} ${l} ${d}px ${o}`}setTextRenderingMode(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,i,r,s,a){var x,I,T,R;const o=this.ctx,l=this.current,u=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,g=d&lr.FILL_STROKE_MASK,v=!!(d&lr.ADD_TO_PATH_FLAG),b=l.patternFill&&!u.missingFile,C=l.patternStroke&&!u.missingFile;let E;if((u.disableFontFace||v||b||C)&&!u.missingFile&&(E=u.getPathGenerator(this.commonObjs,t)),E&&(u.disableFontFace||b||C)){o.save(),o.translate(i,r),o.scale(h,-h),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,u);let P;if(g===lr.FILL||g===lr.FILL_STROKE)if(s){P=o.getTransform(),o.setTransform(...s);const D=M(this,No,mD).call(this,E,P,s);o.fill(D)}else o.fill(E);if(g===lr.STROKE||g===lr.FILL_STROKE)if(a){P||(P=o.getTransform()),o.setTransform(...a);const{a:D,b:Q,c:H,d:k}=P,K=Ve.inverseTransform(a),V=Ve.transform([D,Q,H,k,0,0],K);Ve.singularValueDecompose2dScale(V,ra),o.lineWidth*=Math.max(ra[0],ra[1])/h,o.stroke(M(this,No,mD).call(this,E,P,a))}else o.lineWidth/=h,o.stroke(E);o.restore()}else(g===lr.FILL||g===lr.FILL_STROKE)&&(o.fillText(t,i,r),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(t))),(g===lr.STROKE||g===lr.FILL_STROKE)&&(this.dependencyTracker&&((T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(t)).recordDependencies(e,_a.stroke)),o.strokeText(t,i,r));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Vn(o),x:i,y:r,fontSize:h,path:E}),(R=this.dependencyTracker)==null||R.recordCharacterBBox(e,o,u,h,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return lt(this,"isFontSubpixelAAEnabled",i)}showText(e,t){var H,k,K,V;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,_a.showText).resetBBox(e),this.current.textRenderingMode&lr.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),(H=this.dependencyTracker)==null||H.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){(k=this.dependencyTracker)==null||k.recordOperation(e);return}const a=this.ctx,o=i.fontSizeScale,l=i.charSpacing,u=i.wordSpacing,d=i.fontDirection,h=i.textHScale*d,g=t.length,v=r.vertical,b=v?1:-1,C=r.defaultVMetrics,E=s*i.fontMatrix[0],x=i.textRenderingMode===lr.FILL&&!r.disableFontFace&&!i.patternFill;a.save(),i.textMatrix&&a.transform(...i.textMatrix),a.translate(i.x,i.y+i.textRise),d>0?a.scale(h,-1):a.scale(h,1);let I,T;if(i.patternFill){a.save();const q=i.fillColor.getPattern(a,this,jo(a),vr.FILL,e);I=Vn(a),a.restore(),a.fillStyle=q}if(i.patternStroke){a.save();const q=i.strokeColor.getPattern(a,this,jo(a),vr.STROKE,e);T=Vn(a),a.restore(),a.strokeStyle=q}let R=i.lineWidth;const P=i.textMatrixScale;if(P===0||R===0){const q=i.textRenderingMode&lr.FILL_STROKE_MASK;(q===lr.STROKE||q===lr.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=P;if(o!==1&&(a.scale(o,o),R/=o),a.lineWidth=R,r.isInvalidPDFjsFont){const q=[];let X=0;for(const ge of t)q.push(ge.unicode),X+=ge.width;const ne=q.join("");if(a.fillText(ne,0,0),this.dependencyTracker!==null){const ge=a.measureText(ne);this.dependencyTracker.recordBBox(e,this.ctx,-ge.actualBoundingBoxLeft,ge.actualBoundingBoxRight,-ge.actualBoundingBoxAscent,ge.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=X*E*h,a.restore(),this.compose();return}let D=0,Q;for(Q=0;Q<g;++Q){const q=t[Q];if(typeof q=="number"){D+=b*q*s/1e3;continue}let X=!1;const ne=(q.isSpace?u:0)+l,ge=q.fontChar,G=q.accent;let $,ie,se=q.width;if(v){const J=q.vmetric||C,le=-(q.vmetric?J[1]:se*.5)*E,ve=J[2]*E;se=J?-J[0]:se,$=le/o,ie=(D+ve)/o}else $=D/o,ie=0;let be;if(r.remeasure&&se>0){be=a.measureText(ge);const J=be.width*1e3/s*o;if(se<J&&this.isFontSubpixelAAEnabled){const le=se/J;X=!0,a.save(),a.scale(le,1),$/=le}else se!==J&&($+=(se-J)/2e3*s/o)}if(this.contentVisible&&(q.isInFont||r.missingFile)){if(x&&!G)a.fillText(ge,$,ie),(K=this.dependencyTracker)==null||K.recordCharacterBBox(e,a,be?{bbox:null}:r,s/o,$,ie,()=>be??a.measureText(ge));else if(this.paintChar(e,ge,$,ie,I,T),G){const J=$+s*G.offset.x/o,le=ie-s*G.offset.y/o;this.paintChar(e,G.fontChar,J,le,I,T)}}const z=v?se*E-ne*d:se*E+ne*d;D+=z,X&&a.restore()}v?i.y-=D:i.x+=D*h,a.restore(),this.compose(),(V=this.dependencyTracker)==null||V.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,a=r.fontSize,o=r.fontDirection,l=s.vertical?1:-1,u=r.charSpacing,d=r.wordSpacing,h=r.textHScale*o,g=r.fontMatrix||DR,v=t.length,b=r.textRenderingMode===lr.INVISIBLE;let C,E,x,I;if(b||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(h,o);const T=this.dependencyTracker;for(this.dependencyTracker=T?new tT(T,e):null,C=0;C<v;++C){if(E=t[C],typeof E=="number"){I=l*E*a/1e3,this.ctx.translate(I,0),r.x+=I*h;continue}const R=(E.isSpace?d:0)+u,P=s.charProcOperatorList[E.operatorListId];P?this.contentVisible&&(this.save(),i.scale(a,a),i.transform(...g),this.executeOperatorList(P),this.restore()):At(`Type3 character "${E.operatorListId}" is not available.`);const D=[E.width,0];Ve.applyTransform(D,g),x=D[0]*a+R,i.translate(x,0),r.x+=x*h}i.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,a,o){var u;const l=new Path2D;l.rect(r,s,a-r,o-s),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,r,a,s,o).recordClipBox(e,this.ctx,r,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||Vn(this.ctx),s={createCanvasGraphics:(a,o)=>new QO(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new tT(this.dependencyTracker,o,!0):null)};i=new hD(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=ede(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){var a;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,jo(i),vr.SHADING,e);const s=jo(i);if(s){const{width:o,height:l}=i.canvas,u=Lg.slice();Ve.axialAlignedBoundingBox([0,0,o,l],s,u);const[d,h,g,v]=u;this.ctx.fillRect(d,h,g-d,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,_a.transform).recordDependencies(e,_a.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){yn("Should not call beginInlineImage")}beginImageData(){yn("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Vn(this.ctx),i)){Ve.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[s,a,o,l]=i,u=new Path2D;u.rect(s,a,o-s,l-a),this.ctx.clip(u),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var T;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||k1("TODO: Support non-isolated groups."),t.knockout&&At("Knockout groups not supported.");const r=Vn(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Lg.slice();Ve.axialAlignedBoundingBox(t.bbox,Vn(i),s);const a=[0,0,i.canvas.width,i.canvas.height];s=Ve.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,u,d),v=g.context;v.translate(-o,-l),v.transform(...r);let b=new Path2D;const[C,E,x,I]=t.bbox;if(b.rect(C,E,x-C,I-E),t.matrix){const R=new Path2D;R.addPath(b,new DOMMatrix(t.matrix)),b=R}v.clip(b),t.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(o,l),i.save()),E0(i,v),this.ctx=v,(T=this.dependencyTracker)==null||T.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Vn(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=Lg.slice();Ve.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],a,o),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,i,r,s,a){if(M(this,No,pD).call(this),VS(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const o=i[2]-i[0],l=i[3]-i[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=o,i[3]=l,Ve.singularValueDecompose2dScale(Vn(this.ctx),ra);const{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(ra[0],0,0,-ra[1],0,l*ra[1]),VS(this.ctx)}else{VS(this.ctx),this.endPath(e);const u=new Path2D;u.rect(i[0],i[1],o,l),this.ctx.clip(u)}}this.current=new MK(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),M(this,No,gD).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,a,o){var h,g,v;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const u=Vn(l);l.transform(i,r,s,a,0,0);const d=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let b=0,C=o.length;b<C;b+=2){const E=Ve.transform(u,[i,r,s,a,o[b],o[b+1]]);l.drawImage(d.canvas,E[4],E[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,E[4],E[4]+d.canvas.width,E[5],E[5]+d.canvas.height)}l.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,_a.transformAndFill);for(const u of t){const{data:d,width:h,height:g,transform:v}=u,b=this.cachedCanvases.getCanvas("maskCanvas",h,g),C=b.context;C.save();const E=this.getObject(e,d,u);RK(C,E),C.globalCompositeOperation="source-in",C.fillStyle=s?r.getPattern(C,this,jo(i),vr.FILL,e):r,C.fillRect(0,0,h,g),C.restore(),i.save(),i.transform(...v),i.scale(1,-1),HS(i,b.canvas,0,0,h,g,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,h,0,g),i.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){At("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){At("Dependent image isn't ready yet");return}const o=a.width,l=a.height,u=[];for(let d=0,h=s.length;d<h;d+=2)u.push({transform:[i,0,0,r,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/i,-1/r);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",i,r).context;PK(h,t),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,jo(s));s.imageSmoothingEnabled=DK(Vn(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,_a.imageXObject).recordOperation(e),HS(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){var a,o,l;if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,d=t.height,g=this.cachedCanvases.getCanvas("inlineImage",u,d).context;PK(g,t),s=this.applyTransferMapsToCanvas(g)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const u of i)r.save(),r.transform(...u.transform),r.scale(1,-1),HS(r,s,u.x,u.y,u.w,u.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,1,-1,0),r.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,_a.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){var a,o;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===NK?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Vn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let a,o;if(i===0&&r===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/u;else{const d=l*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*s-i*r),u=Math.hypot(t,i),d=Math.hypot(r,s);if(e===0)a=d/l,o=u/l;else{const h=e*l;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,a]=this.getScaleForStroking();if(s===a){i.lineWidth=(r||1)*s,i.stroke(e);return}const o=i.getLineDash();t&&i.save(),i.scale(s,a),oM.a=1/s,oM.d=1/a;const l=new Path2D;if(l.addPath(e,oM),o.length>0){const u=Math.max(s,a);i.setLineDash(o.map(d=>d/u)),i.lineDashOffset/=u}i.lineWidth=r||1,i.stroke(l),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};No=new WeakSet,pD=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},gD=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},mD=function(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r};let jg=QO;for(const n in Qw)jg.prototype[n]!==void 0&&(jg.prototype[Qw[n]]=jg.prototype[n]);var Lx,jb,Wb;let nu=(Lx=class{static get workerPort(){return f(this,jb)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");_(this,jb,e)}static get workerSrc(){return f(this,Wb)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");_(this,Wb,e)}},jb=new WeakMap,Wb=new WeakMap,F(Lx,jb,null),F(Lx,Wb,""),Lx);var Nm,Yb;class Ade{constructor({parsedData:e,rawData:t}){F(this,Nm);F(this,Yb);_(this,Nm,e),_(this,Yb,t)}getRaw(){return f(this,Yb)}get(e){return f(this,Nm).get(e)??null}[Symbol.iterator](){return f(this,Nm).entries()}}Nm=new WeakMap,Yb=new WeakMap;const xg=Symbol("INTERNAL");var Xb,Jb,Zb,Lm;class lde{constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){F(this,Xb,!1);F(this,Jb,!1);F(this,Zb,!1);F(this,Lm,!0);_(this,Xb,!!(e&ia.DISPLAY)),_(this,Jb,!!(e&ia.PRINT)),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(f(this,Zb))return f(this,Lm);if(!f(this,Lm))return!1;const{print:e,view:t}=this.usage;return f(this,Xb)?(t==null?void 0:t.viewState)!=="OFF":f(this,Jb)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==xg&&yn("Internal method `_setVisible` called."),_(this,Zb,i),_(this,Lm,t)}}Xb=new WeakMap,Jb=new WeakMap,Zb=new WeakMap,Lm=new WeakMap;var Vc,ln,Qm,km,eC,vD;class ude{constructor(e,t=ia.DISPLAY){F(this,eC);F(this,Vc,null);F(this,ln,new Map);F(this,Qm,null);F(this,km,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,_(this,km,e.order);for(const i of e.groups)f(this,ln).set(i.id,new lde(t,i));if(e.baseState==="OFF")for(const i of f(this,ln).values())i._setVisible(xg,!1);for(const i of e.on)f(this,ln).get(i)._setVisible(xg,!0);for(const i of e.off)f(this,ln).get(i)._setVisible(xg,!1);_(this,Qm,this.getHash())}}isVisible(e){if(f(this,ln).size===0)return!0;if(!e)return k1("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,ln).has(e.id)?f(this,ln).get(e.id).visible:(At(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return M(this,eC,vD).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,ln).has(t))return At(`Optional content group not found: ${t}`),!0;if(f(this,ln).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,ln).has(t))return At(`Optional content group not found: ${t}`),!0;if(!f(this,ln).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,ln).has(t))return At(`Optional content group not found: ${t}`),!0;if(!f(this,ln).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,ln).has(t))return At(`Optional content group not found: ${t}`),!0;if(f(this,ln).get(t).visible)return!1}return!0}return At(`Unknown optional content policy ${e.policy}.`),!0}return At(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var s;const r=f(this,ln).get(e);if(!r){At(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const a of r.rbGroups)for(const o of a)o!==e&&((s=f(this,ln).get(o))==null||s._setVisible(xg,!1,!0));r._setVisible(xg,!!t,!0),_(this,Vc,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=f(this,ln).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}_(this,Vc,null)}get hasInitialVisibility(){return f(this,Qm)===null||this.getHash()===f(this,Qm)}getOrder(){return f(this,ln).size?f(this,km)?f(this,km).slice():[...f(this,ln).keys()]:null}getGroup(e){return f(this,ln).get(e)||null}getHash(){if(f(this,Vc)!==null)return f(this,Vc);const e=new hj;for(const[t,i]of f(this,ln))e.update(`${t}:${i.visible}`);return _(this,Vc,e.hexdigest())}[Symbol.iterator](){return f(this,ln).entries()}}Vc=new WeakMap,ln=new WeakMap,Qm=new WeakMap,km=new WeakMap,eC=new WeakSet,vD=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let a;if(Array.isArray(s))a=M(this,eC,vD).call(this,s);else if(f(this,ln).has(s))a=f(this,ln).get(s).visible;else return At(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class cde{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Ut(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});Ut(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ut(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new dde(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new fde(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class dde{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=DQ(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fde{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hde(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=a(n),t){const d=u(t);return s(d)}if(t=i("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),s(d)}function i(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const g=new TextDecoder(d,{fatal:!0}),v=QB(h);h=g.decode(v),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function a(d){const h=[];let g;const v=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(d))!==null;){let[,C,E,x]=g;if(C=parseInt(C,10),C in h){if(C===0)break;continue}h[C]=[E,x]}const b=[];for(let C=0;C<h.length&&C in h;++C){let[E,x]=h[C];x=o(x),E&&(x=unescape(x),C===0&&(x=l(x))),b.push(x)}return b.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let g=0;g<h.length;++g){const v=h[g].indexOf('"');v!==-1&&(h[g]=h[g].slice(0,v),h.length=g+1),h[g]=h[g].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const g=d.slice(0,h),b=d.slice(h+1).replace(/^[^']*'/,"");return r(g,b)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,g,v,b){if(v==="q"||v==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,E){return String.fromCharCode(parseInt(E,16))}),r(g,b);try{b=atob(b)}catch{}return r(g,b)})}return""}function xj(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function H1(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function _j({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Tj(n){const e=n.get("Content-Disposition");if(e){let t=hde(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(DQ(t))return t}return null}function KB(n,e){return new X_(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Ij(n){return n===200||n===206}function Fj(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Uj(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(At(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class pde{constructor(e){me(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=xj(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ut(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new mde(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class gde{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,Fj(i,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=H1(s.url),!Ij(s.status))throw KB(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=_j({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=Tj(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new kd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Uj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class mde{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);const a=r.url;fetch(a,Fj(s,this._withCredentials,this._abortController)).then(o=>{const l=H1(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!Ij(o.status))throw KB(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:Uj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const AM=200,lM=206;function vde(n){const e=n.response;return typeof e!="string"?e:QB(e).buffer}class yde{constructor({url:e,httpHeaders:t,withCredentials:i}){me(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=xj(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=lM):r.expectedStatus=AM,t.responseType="arraybuffer",Ut(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||AM;if(!(s===AM&&i.expectedStatus===lM)&&s!==i.expectedStatus){i.onError(r.status);return}const o=vde(r);if(s===lM){const l=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?i.onDone({begin:parseInt(u[1],10),chunk:o}):(At('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class wde{constructor(e){this._source=e,this._manager=new yde(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ut(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new bde(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new Cde(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class bde{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=H1(t.responseURL);const i=t.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=_j({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Tj(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=KB(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Cde{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=H1((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=KB(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Bde=/^[a-z][a-z0-9\-+.]+:/i;function Ede(n){if(Bde.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Sde{constructor(e){this.source=e,this.url=Ede(e.url),Ut(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ut(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new xde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new _de(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class xde{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=KB(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new kd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _de{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const S0=Symbol("INITIAL_DATA");var Vs,tC,yD;class Mj{constructor(){F(this,tC);F(this,Vs,Object.create(null))}get(e,t=null){if(t){const r=M(this,tC,yD).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=f(this,Vs)[e];if(!i||i.data===S0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=f(this,Vs)[e];return!!t&&t.data!==S0}delete(e){const t=f(this,Vs)[e];return!t||t.data===S0?!1:(delete f(this,Vs)[e],!0)}resolve(e,t=null){const i=M(this,tC,yD).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in f(this,Vs)){const{data:i}=f(this,Vs)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}_(this,Vs,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,Vs)){const{data:t}=f(this,Vs)[e];t!==S0&&(yield[e,t])}}}Vs=new WeakMap,tC=new WeakSet,yD=function(e){var t;return(t=f(this,Vs))[e]||(t[e]={...Promise.withResolvers(),data:S0})};const Tde=1e5,LK=30;var M$,Kc,ms,nC,iC,fh,Tl,rC,sC,hh,Om,Hm,Gc,Vm,aC,Km,ph,oC,AC,Zn,Gm,gh,lC,zc,zm,Tu,Pj,Rj,bD,ca,Zx,CD,Dj,Nj;let wD=(Zn=class{constructor({textContentSource:e,container:t,viewport:i}){F(this,Tu);F(this,Kc,Promise.withResolvers());F(this,ms,null);F(this,nC,!1);F(this,iC,!!((M$=globalThis.FontInspector)!=null&&M$.enabled));F(this,fh,null);F(this,Tl,null);F(this,rC,0);F(this,sC,0);F(this,hh,null);F(this,Om,null);F(this,Hm,0);F(this,Gc,0);F(this,Vm,Object.create(null));F(this,aC,[]);F(this,Km,null);F(this,ph,[]);F(this,oC,new WeakMap);F(this,AC,null);var l;if(e instanceof ReadableStream)_(this,Km,e);else if(typeof e=="object")_(this,Km,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,ms,_(this,Om,t)),_(this,Gc,i.scale*mp.pixelRatio),_(this,Hm,i.rotation),_(this,Tl,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;_(this,AC,[1,0,0,-1,-a,o+s]),_(this,sC,r),_(this,rC,s),M(l=Zn,ca,Dj).call(l),gp(t,i),f(this,Kc).promise.finally(()=>{f(Zn,zm).delete(this),_(this,Tl,null),_(this,Vm,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Er.platform;return lt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,hh).read().then(({value:t,done:i})=>{if(i){f(this,Kc).resolve();return}f(this,fh)??_(this,fh,t.lang),Object.assign(f(this,Vm),t.styles),M(this,Tu,Pj).call(this,t.items),e()},f(this,Kc).reject)};return _(this,hh,f(this,Km).getReader()),f(Zn,zm).add(this),e(),f(this,Kc).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*mp.pixelRatio,r=e.rotation;if(r!==f(this,Hm)&&(t==null||t(),_(this,Hm,r),gp(f(this,Om),{rotation:r})),i!==f(this,Gc)){t==null||t(),_(this,Gc,i);const a={div:null,properties:null,ctx:M(s=Zn,ca,Zx).call(s,f(this,fh))};for(const o of f(this,ph))a.properties=f(this,oC).get(o),a.div=o,M(this,Tu,bD).call(this,a)}}cancel(){var t;const e=new kd("TextLayer task cancelled.");(t=f(this,hh))==null||t.cancel(e).catch(()=>{}),_(this,hh,null),f(this,Kc).reject(e)}get textDivs(){return f(this,ph)}get textContentItemsStr(){return f(this,aC)}static cleanup(){if(!(f(this,zm).size>0)){f(this,Gm).clear();for(const{canvas:e}of f(this,gh).values())e.remove();f(this,gh).clear()}}},Kc=new WeakMap,ms=new WeakMap,nC=new WeakMap,iC=new WeakMap,fh=new WeakMap,Tl=new WeakMap,rC=new WeakMap,sC=new WeakMap,hh=new WeakMap,Om=new WeakMap,Hm=new WeakMap,Gc=new WeakMap,Vm=new WeakMap,aC=new WeakMap,Km=new WeakMap,ph=new WeakMap,oC=new WeakMap,AC=new WeakMap,Gm=new WeakMap,gh=new WeakMap,lC=new WeakMap,zc=new WeakMap,zm=new WeakMap,Tu=new WeakSet,Pj=function(e){var r,s;if(f(this,nC))return;(s=f(this,Tl)).ctx??(s.ctx=M(r=Zn,ca,Zx).call(r,f(this,fh)));const t=f(this,ph),i=f(this,aC);for(const a of e){if(t.length>Tde){At("Ignoring additional textDivs for performance reasons."),_(this,nC,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=f(this,ms);_(this,ms,document.createElement("span")),f(this,ms).classList.add("markedContent"),a.id&&f(this,ms).setAttribute("id",`${a.id}`),o.append(f(this,ms))}else a.type==="endMarkedContent"&&_(this,ms,f(this,ms).parentNode);continue}i.push(a.str),M(this,Tu,Rj).call(this,a)}},Rj=function(e){var C;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,ph).push(t);const r=Ve.transform(f(this,AC),e.transform);let s=Math.atan2(r[1],r[0]);const a=f(this,Vm)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=f(this,iC)&&a.fontSubstitution||a.fontFamily;o=Zn.fontFamilyMap.get(o)||o;const l=Math.hypot(r[2],r[3]),u=l*M(C=Zn,ca,Nj).call(C,o,a,f(this,fh));let d,h;s===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(s),h=r[5]-u*Math.cos(s));const g="calc(var(--total-scale-factor) *",v=t.style;f(this,ms)===f(this,Om)?(v.left=`${(100*d/f(this,sC)).toFixed(2)}%`,v.top=`${(100*h/f(this,rC)).toFixed(2)}%`):(v.left=`${g}${d.toFixed(2)}px)`,v.top=`${g}${h.toFixed(2)}px)`),v.fontSize=`${g}${(f(Zn,zc)*l).toFixed(2)}px)`,v.fontFamily=o,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,iC)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);E!==x&&Math.max(E,x)/Math.min(E,x)>1.5&&(b=!0)}if(b&&(i.canvasWidth=a.vertical?e.height:e.width),f(this,oC).set(t,i),f(this,Tl).div=t,f(this,Tl).properties=i,M(this,Tu,bD).call(this,f(this,Tl)),i.hasText&&f(this,ms).append(t),i.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),f(this,ms).append(E)}},bD=function(e){var o;const{div:t,properties:i,ctx:r}=e,{style:s}=t;let a="";if(f(Zn,zc)>1&&(a=`scale(${1/f(Zn,zc)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:d}=i;M(o=Zn,ca,CD).call(o,r,d*f(this,Gc),l);const{width:h}=r.measureText(t.textContent);h>0&&(a=`scaleX(${u*f(this,Gc)/h}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(s.transform=a)},ca=new WeakSet,Zx=function(e=null){let t=f(this,gh).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,gh).set(e,t),f(this,lC).set(t,{size:0,family:""})}return t},CD=function(e,t,i){const r=f(this,lC).get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)},Dj=function(){if(f(this,zc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),_(this,zc,e.getBoundingClientRect().height),e.remove()},Nj=function(e,t,i){const r=f(this,Gm).get(e);if(r)return r;const s=M(this,ca,Zx).call(this,i);s.canvas.width=s.canvas.height=LK,M(this,ca,CD).call(this,s,LK,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return o?u=o/(o+l):(Er.platform.isFirefox&&At("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),f(this,Gm).set(e,u),u},F(Zn,ca),F(Zn,Gm,new Map),F(Zn,gh,new Map),F(Zn,lC,new WeakMap),F(Zn,zc,null),F(Zn,zm,new Set),Zn);const Ide=100;function kQ(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new BD,{docId:t}=e,i=n.url?Nce(n.url):null,r=n.data?Lce(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof Lj?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof ED?n.worker:null;const h=n.verbosity,g=typeof n.docBaseUrl=="string"&&!O1(n.docBaseUrl)?n.docBaseUrl:null,v=LS(n.cMapUrl),b=n.cMapPacked!==!1,C=n.CMapReaderFactory||(Yr?zce:BK),E=LS(n.iccUrl),x=LS(n.standardFontDataUrl),I=n.StandardFontDataFactory||(Yr?qce:EK),T=LS(n.wasmUrl),R=n.WasmFactory||(Yr?$ce:SK),P=n.stopAtErrors!==!0,D=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,Q=n.isEvalSupported!==!1,H=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Yr,k=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Yr&&(Er.platform.isFirefox||!globalThis.chrome),K=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,V=typeof n.disableFontFace=="boolean"?n.disableFontFace:Yr,q=n.fontExtraProperties===!0,X=n.enableXfa===!0,ne=n.ownerDocument||globalThis.document,ge=n.disableRange===!0,G=n.disableStream===!0,$=n.disableAutoFetch===!0,ie=n.pdfBug===!0,se=n.CanvasFactory||(Yr?Gce:Hce),be=n.FilterFactory||(Yr?Kce:Vce),z=n.enableHWA===!0,J=n.useWasm!==!1,le=l?l.length:n.length??NaN,ve=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Yr&&!V,Ee=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(C===BK&&I===EK&&R===SK&&v&&x&&T&&K0(v,document.baseURI)&&K0(x,document.baseURI)&&K0(T,document.baseURI)),Fe=null;uce(h);const Ce={canvasFactory:new se({ownerDocument:ne,enableHWA:z}),filterFactory:new be({docId:t,ownerDocument:ne}),cMapReaderFactory:Ee?null:new C({baseUrl:v,isCompressed:b}),standardFontDataFactory:Ee?null:new I({baseUrl:x}),wasmFactory:Ee?null:new R({baseUrl:T})};d||(d=ED.create({verbosity:h,port:nu.workerPort}),e._worker=d);const ut={docId:t,apiVersion:"5.4.449",data:r,password:o,disableAutoFetch:$,rangeChunkSize:u,length:le,docBaseUrl:g,enableXfa:X,evaluatorOptions:{maxImageSize:D,disableFontFace:V,ignoreErrors:P,isEvalSupported:Q,isOffscreenCanvasSupported:H,isImageDecoderSupported:k,canvasMaxAreaInBytes:K,fontExtraProperties:q,useSystemFonts:ve,useWasm:J,useWorkerFetch:Ee,cMapUrl:v,iccUrl:E,standardFontDataUrl:x,wasmUrl:T}},ae={ownerDocument:ne,pdfBug:ie,styleElement:Fe,loadingParams:{disableAutoFetch:$,enableXfa:X}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Ke=d.messageHandler.sendWithPromise("GetDocRequest",ut,r?[r.buffer]:null);let Ye;if(l)Ye=new cde(l,{disableRange:ge,disableStream:G});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const ye=K0(i)?pde:Yr?Sde:wde;Ye=new ye({url:i,length:le,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:ge,disableStream:G})}return Ke.then(ye=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Pt=new X0(t,ye,d.port),Je=new Mde(Pt,e,Ye,ae,Ce,z);e._transport=Je,Pt.send("Ready",null)})}).catch(e._capability.reject),e}var m1;const v1=class v1{constructor(){me(this,"_capability",Promise.withResolvers());me(this,"_transport",null);me(this,"_worker",null);me(this,"docId",`d${ai(v1,m1)._++}`);me(this,"destroyed",!1);me(this,"onPassword",null);me(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,i,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};m1=new WeakMap,F(v1,m1,0);let BD=v1;var mh,uC,cC,dC,fC,P$;let Lj=(P$=class{constructor(e,t,i=!1,r=null){F(this,mh,Promise.withResolvers());F(this,uC,[]);F(this,cC,[]);F(this,dC,[]);F(this,fC,[]);this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){f(this,fC).push(e)}addProgressListener(e){f(this,dC).push(e)}addProgressiveReadListener(e){f(this,cC).push(e)}addProgressiveDoneListener(e){f(this,uC).push(e)}onDataRange(e,t){for(const i of f(this,fC))i(e,t)}onDataProgress(e,t){f(this,mh).promise.then(()=>{for(const i of f(this,dC))i(e,t)})}onDataProgressiveRead(e){f(this,mh).promise.then(()=>{for(const t of f(this,cC))t(e)})}onDataProgressiveDone(){f(this,mh).promise.then(()=>{for(const e of f(this,uC))e()})}transportReady(){f(this,mh).resolve()}requestDataRange(e,t){yn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},mh=new WeakMap,uC=new WeakMap,cC=new WeakMap,dC=new WeakMap,fC=new WeakMap,P$);class Fde{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return lt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Il,vh,nw;class Ude{constructor(e,t,i,r=!1){F(this,vh);F(this,Il,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new gK:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new Mj,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new OB({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return lt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=wc.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:b=null}){var k,K,V;(k=this._stats)==null||k.time("Overall");const C=this._transport.getRenderingIntent(r,s,h,g),{renderingIntent:E,cacheKey:x}=C;_(this,Il,!1),l||(l=this._transport.getOptionalContentConfig(E));let I=this._intentStates.get(x);I||(I=Object.create(null),this._intentStates.set(x,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);const T=!!(E&ia.PRINT);I.displayReadyCapability||(I.displayReadyCapability=Promise.withResolvers(),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(K=this._stats)==null||K.time("Page Request"),this._pumpOperatorList(C));const R=!!(this._pdfBug&&((V=globalThis.StepperManager)!=null&&V.enabled)),P=!this.recordedBBoxes&&(v||R),D=q=>{var X,ne;if(I.renderTasks.delete(Q),P){const ge=(X=Q.gfx)==null?void 0:X.dependencyTracker.take();ge&&(Q.stepper&&Q.stepper.setOperatorBBoxes(ge,Q.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=ge))}T&&_(this,Il,!0),M(this,vh,nw).call(this),q?(Q.capability.reject(q),this._abortOperatorList({intentState:I,reason:q instanceof Error?q:new Error(q)})):Q.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(ne=globalThis.Stats)!=null&&ne.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Q=new SD({callback:D,params:{canvas:t,canvasContext:e,dependencyTracker:P?new Wce(t,I.operatorList.length,R):null,viewport:i,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:b});(I.renderTasks||(I.renderTasks=new Set)).add(Q);const H=Q.task;return Promise.all([I.displayReadyCapability.promise,l]).then(([q,X])=>{var ne;if(this.destroyed){D();return}if((ne=this._stats)==null||ne.time("Rendering"),!(X.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Q.initializeGraphics({transparency:q,optionalContentConfig:X}),Q.operatorListChanged()}).catch(D),H}getOperatorList({intent:e="display",annotationMode:t=wc.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,i,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>kw.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){a.read().then(function({value:l,done:u}){if(u){i(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},r)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),_(this,Il,!1),Promise.all(e)}cleanup(e=!1){_(this,Il,!0);const t=M(this,vh,nw).call(this);return e&&t&&this._stats&&(this._stats=new gK),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&M(this,vh,nw).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:a}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},a).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:g})=>{if(g){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();M(this,vh,nw).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof RQ){let r=Ide;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new kd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Il=new WeakMap,vh=new WeakSet,nw=function(){if(!f(this,Il)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,Il,!1),!0};var qc,wo,Fl,yh,mn,y1,wh,bh,es,e_,Qj,kj,iw,qm,t_;let ED=(mn=class{constructor({name:e=null,port:t=null,verbosity:i=cce()}={}){F(this,es);F(this,qc,Promise.withResolvers());F(this,wo,null);F(this,Fl,null);F(this,yh,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(f(mn,bh).has(t))throw new Error("Cannot use more than one PDFWorker per port.");f(mn,bh).set(t,this),M(this,es,Qj).call(this,t)}else M(this,es,kj).call(this)}get promise(){return f(this,qc).promise}get port(){return f(this,Fl)}get messageHandler(){return f(this,wo)}destroy(){var e,t;this.destroyed=!0,(e=f(this,yh))==null||e.terminate(),_(this,yh,null),f(mn,bh).delete(f(this,Fl)),_(this,Fl,null),(t=f(this,wo))==null||t.destroy(),_(this,wo,null)}static create(e){const t=f(this,bh).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new mn(e)}static get workerSrc(){if(nu.workerSrc)return nu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return lt(this,"_setupFakeWorkerGlobal",(async()=>f(this,qm,t_)?f(this,qm,t_):(await import(this.workerSrc)).WorkerMessageHandler)())}},qc=new WeakMap,wo=new WeakMap,Fl=new WeakMap,yh=new WeakMap,y1=new WeakMap,wh=new WeakMap,bh=new WeakMap,es=new WeakSet,e_=function(){f(this,qc).resolve(),f(this,wo).send("configure",{verbosity:this.verbosity})},Qj=function(e){_(this,Fl,e),_(this,wo,new X0("main","worker",e)),f(this,wo).on("ready",()=>{}),M(this,es,e_).call(this)},kj=function(){if(f(mn,wh)||f(mn,qm,t_)){M(this,es,iw).call(this);return}let{workerSrc:e}=mn;try{mn._isSameOrigin(window.location,e)||(e=mn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new X0("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?f(this,qc).reject(new Error("Worker was destroyed")):M(this,es,iw).call(this)},s=new AbortController;t.addEventListener("error",()=>{f(this,yh)||r()},{signal:s.signal}),i.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}_(this,wo,i),_(this,Fl,t),_(this,yh,t),M(this,es,e_).call(this)}),i.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{M(this,es,iw).call(this)}});const a=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{k1("The worker has been disabled.")}M(this,es,iw).call(this)},iw=function(){f(mn,wh)||(At("Setting up fake worker."),_(mn,wh,!0)),mn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){f(this,qc).reject(new Error("Worker was destroyed"));return}const t=new Oce;_(this,Fl,t);const i=`fake${ai(mn,y1)._++}`,r=new X0(i+"_worker",i,t);e.setup(r,t),_(this,wo,new X0(i,i+"_worker",t)),M(this,es,e_).call(this)}).catch(e=>{f(this,qc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},qm=new WeakSet,t_=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},F(mn,qm),F(mn,y1,0),F(mn,wh,!1),F(mn,bh,new WeakMap),Yr&&(_(mn,wh,!0),nu.workerSrc||(nu.workerSrc="./pdf.worker.mjs")),mn._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},mn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},mn.fromPort=e=>{if(Bce("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return mn.create(e)},mn);var Ul,cA,$m,jm,Ml,Ch,rw;class Mde{constructor(e,t,i,r,s,a){F(this,Ch);F(this,Ul,new Map);F(this,cA,new Map);F(this,$m,new Map);F(this,jm,new Map);F(this,Ml,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Mj,this.fontLoader=new Rce({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return lt(this,"annotationStorage",new NQ)}getRenderingIntent(e,t=wc.ENABLE,i=null,r=!1,s=!1){let a=ia.DISPLAY,o=sD;switch(e){case"any":a=ia.ANY;break;case"display":break;case"print":a=ia.PRINT;break;default:At(`getRenderingIntent - invalid intent: ${e}`)}const l=a&ia.PRINT&&i instanceof gj?i:this.annotationStorage;switch(t){case wc.DISABLE:a+=ia.ANNOTATIONS_DISABLE;break;case wc.ENABLE:break;case wc.ENABLE_FORMS:a+=ia.ANNOTATIONS_FORMS;break;case wc.ENABLE_STORAGE:a+=ia.ANNOTATIONS_STORAGE,o=l.serializable;break;default:At(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=ia.IS_EDITING),s&&(a+=ia.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=f(this,Ml))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of f(this,cA).values())e.push(r._destroy());f(this,cA).clear(),f(this,$m).clear(),f(this,jm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,Ul).clear(),this.filterFactory.destroy(),wD.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new kd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Ut(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}Ut(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(i,r)=>{Ut(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}Ut(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new Fde(i,this))}),e.on("DocException",i=>{t._capability.reject(cs(i))}),e.on("PasswordRequest",i=>{_(this,Ml,Promise.withResolvers());try{if(!t.onPassword)throw cs(i);const r=s=>{s instanceof Error?f(this,Ml).reject(s):f(this,Ml).resolve({password:s})};t.onPassword(r,i.code)}catch(r){f(this,Ml).reject(r)}return f(this,Ml).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;f(this,cA).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const g=s.error;At(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}const o=new aD(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(g,v)=>globalThis.FontInspector.fontAdded(g,v):null,u=new Dce(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:d}=s;Ut(d,"The imageRef must be defined.");for(const g of f(this,cA).values())for(const[,v]of g.objs)if((v==null?void 0:v.ref)===d)return v.dataLen?(this.commonObjs.resolve(i,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const h=new oD(s);this.commonObjs.resolve(i,h.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,a])=>{var l;if(this.destroyed)return;const o=f(this,cA).get(r);if(!o.objs.has(i)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&At("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=f(this,$m).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&f(this,jm).set(s.refStr,e);const a=new Ude(t,s,this,this._params.pdfBug);return f(this,cA).set(t,a),a});return f(this,$m).set(t,r),r}getPageIndex(e){return AD(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return M(this,Ch,rw).call(this,"GetFieldObjects")}hasJSActions(){return M(this,Ch,rw).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return M(this,Ch,rw).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return M(this,Ch,rw).call(this,"GetOptionalContentConfig").then(t=>new ude(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,Ul).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,a;return{info:r[0],metadata:r[1]?new Ade(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:r[2]}});return f(this,Ul).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,cA).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,Ul).clear(),this.filterFactory.destroy(!0),wD.cleanup()}}cachedPageNumber(e){if(!AD(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,jm).get(t)??null}}Ul=new WeakMap,cA=new WeakMap,$m=new WeakMap,jm=new WeakMap,Ml=new WeakMap,Ch=new WeakSet,rw=function(e,t=null){const i=f(this,Ul).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return f(this,Ul).set(e,r),r};var $c;class Pde{constructor(e){F(this,$c,null);me(this,"onContinue",null);me(this,"onError",null);_(this,$c,e)}get promise(){return f(this,$c).capability.promise}cancel(e=0){f(this,$c).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,$c).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,$c);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}$c=new WeakMap;var jc,Bh;const Ff=class Ff{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:b=null}){F(this,jc,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Pde(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=v,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(f(Ff,Bh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(Ff,Bh).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new jg(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var i,r,s;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),f(this,jc)&&(window.cancelAnimationFrame(f(this,jc)),_(this,jc,null)),f(Ff,Bh).delete(this._canvas),e||(e=new RQ(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(r=this.task).onError)==null||s.call(r,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,jc,window.requestAnimationFrame(()=>{_(this,jc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(Ff,Bh).delete(this._canvas),this.callback())))}};jc=new WeakMap,Bh=new WeakMap,F(Ff,Bh,new WeakSet);let SD=Ff;const Oj="5.4.449",Rde="f44e5f0e6";var Ks,Eh,Wm,Ui,hC,Ym,Pl,pC,Wc,bo,gr,gC,un,xD,_D,TD,bf,Vj,cc;let Hj=(gr=class{constructor({editor:e=null,uiManager:t=null}){F(this,un);F(this,Ks,null);F(this,Eh,null);F(this,Wm);F(this,Ui,null);F(this,hC,!1);F(this,Ym,!1);F(this,Pl,null);F(this,pC);F(this,Wc,null);F(this,bo,null);var i,r;e?(_(this,Ym,!1),_(this,Pl,e)):_(this,Ym,!0),_(this,bo,(e==null?void 0:e._uiManager)||t),_(this,pC,f(this,bo)._eventBus),_(this,Wm,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((r=f(this,bo))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),f(gr,gC)||_(gr,gC,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return lt(this,"_keyboardManager",new VB([[["Escape","mac+Escape"],gr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],gr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],gr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],gr.prototype._moveToPrevious],[["Home","mac+Home"],gr.prototype._moveToBeginning],[["End","mac+End"],gr.prototype._moveToEnd]]))}renderButton(){const e=_(this,Ks,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",f(this,Pl)&&(e.ariaControls=`${f(this,Pl).id}_colorpicker_dropdown`);const t=f(this,bo)._signal;e.addEventListener("click",M(this,un,bf).bind(this),{signal:t}),e.addEventListener("keydown",M(this,un,TD).bind(this),{signal:t});const i=_(this,Eh,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=f(this,Wm),e.append(i),e}renderMainDropdown(){const e=_(this,Ui,M(this,un,xD).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===f(this,Ks)){M(this,un,bf).call(this,e);return}const t=e.target.getAttribute("data-color");t&&M(this,un,_D).call(this,t,e)}_moveToNext(e){var t,i;if(!f(this,un,cc)){M(this,un,bf).call(this,e);return}if(e.target===f(this,Ks)){(t=f(this,Ui).firstElementChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=f(this,Ui))==null?void 0:t.firstElementChild)||e.target===f(this,Ks)){f(this,un,cc)&&this._hideDropdownFromKeyboard();return}f(this,un,cc)||M(this,un,bf).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!f(this,un,cc)){M(this,un,bf).call(this,e);return}(t=f(this,Ui).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,un,cc)){M(this,un,bf).call(this,e);return}(t=f(this,Ui).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,Ui))==null||e.classList.add("hidden"),f(this,Ks).ariaExpanded="false",(t=f(this,Wc))==null||t.abort(),_(this,Wc,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,Ym)){if(!f(this,un,cc)){(e=f(this,Pl))==null||e.unselect();return}this.hideDropdown(),f(this,Ks).focus({preventScroll:!0,focusVisible:f(this,hC)})}}updateColor(e){if(f(this,Eh)&&(f(this,Eh).style.backgroundColor=e),!f(this,Ui))return;const t=f(this,bo).highlightColors.values();for(const i of f(this,Ui).children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=f(this,Ks))==null||e.remove(),_(this,Ks,null),_(this,Eh,null),(t=f(this,Ui))==null||t.remove(),_(this,Ui,null)}},Ks=new WeakMap,Eh=new WeakMap,Wm=new WeakMap,Ui=new WeakMap,hC=new WeakMap,Ym=new WeakMap,Pl=new WeakMap,pC=new WeakMap,Wc=new WeakMap,bo=new WeakMap,gC=new WeakMap,un=new WeakSet,xD=function(){const e=document.createElement("div"),t=f(this,bo)._signal;e.addEventListener("contextmenu",no,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),f(this,Pl)&&(e.id=`${f(this,Pl).id}_colorpicker_dropdown`);for(const[i,r]of f(this,bo).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",f(gr,gC)[i]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.ariaSelected=r===f(this,Wm),s.addEventListener("click",M(this,un,_D).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",M(this,un,TD).bind(this),{signal:t}),e},_D=function(e,t){t.stopPropagation(),f(this,pC).dispatch("switchannotationeditorparams",{source:this,type:Ft.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},TD=function(e){gr._keyboardManager.exec(this,e)},bf=function(e){if(f(this,un,cc)){this.hideDropdown();return}if(_(this,hC,e.detail===0),f(this,Wc)||(_(this,Wc,new AbortController),window.addEventListener("pointerdown",M(this,un,Vj).bind(this),{signal:f(this,bo).combinedSignal(f(this,Wc))})),f(this,Ks).ariaExpanded="true",f(this,Ui)){f(this,Ui).classList.remove("hidden");return}const t=_(this,Ui,M(this,un,xD).call(this));f(this,Ks).append(t)},Vj=function(e){var t;(t=f(this,Ui))!=null&&t.contains(e.target)||this.hideDropdown()},cc=function(){return f(this,Ui)&&!f(this,Ui).classList.contains("hidden")},F(gr,gC,null),gr);var dA,mC,Xm,vC;const Uf=class Uf{constructor(e){F(this,dA,null);F(this,mC,null);F(this,Xm,null);_(this,mC,e),_(this,Xm,e._uiManager),f(Uf,vC)||_(Uf,vC,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(f(this,dA))return f(this,dA);const{editorType:e,colorType:t,color:i}=f(this,mC),r=_(this,dA,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",f(Uf,vC)[e]),r.addEventListener("input",()=>{f(this,Xm).updateParams(t,r.value)},{signal:f(this,Xm)._signal}),r}update(e){f(this,dA)&&(f(this,dA).value=e)}destroy(){var e;(e=f(this,dA))==null||e.remove(),_(this,dA,null)}hideDropdown(){}};dA=new WeakMap,mC=new WeakMap,Xm=new WeakMap,vC=new WeakMap,F(Uf,vC,null);let nT=Uf;function QK(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function x0(n){return Math.max(0,Math.min(255,255*n))}class kK{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=x0(e),[e,e,e]}static G_HTML([e]){const t=QK(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(x0)}static RGB_HTML(e){return`#${e.map(QK).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[x0(1-Math.min(1,e+r)),x0(1-Math.min(1,i+r)),x0(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,a=1-i,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}}class Dde{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){yn("Abstract method `_createSVG` called.")}}let iT=class extends Dde{_createSVG(e){return document.createElementNS(il,e)}};const Nde=9,vp=new WeakSet,Lde=new Date().getTimezoneOffset()*60*1e3;class uM{static create(e){switch(e.data.annotationType){case wi.LINK:return new OQ(e);case wi.TEXT:return new kde(e);case wi.WIDGET:switch(e.data.fieldType){case"Tx":return new Ode(e);case"Btn":return e.data.radioButton?new zj(e):e.data.checkBox?new Vde(e):new Kde(e);case"Ch":return new Gde(e);case"Sig":return new Hde(e)}return new _p(e);case wi.POPUP:return new FD(e);case wi.FREETEXT:return new Yj(e);case wi.LINE:return new qde(e);case wi.SQUARE:return new $de(e);case wi.CIRCLE:return new jde(e);case wi.POLYLINE:return new Xj(e);case wi.CARET:return new Yde(e);case wi.INK:return new HQ(e);case wi.POLYGON:return new Wde(e);case wi.HIGHLIGHT:return new Jj(e);case wi.UNDERLINE:return new Xde(e);case wi.SQUIGGLY:return new Jde(e);case wi.STRIKEOUT:return new Zde(e);case wi.STAMP:return new Zj(e);case wi.FILEATTACHMENT:return new efe(e);default:return new Gn(e)}}}var Sh,Jm,Ha,yC,ID;const kO=class kO{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){F(this,yC);F(this,Sh,null);F(this,Jm,!1);F(this,Ha,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return kO._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:e}=this,t=(i=this.annotationStorage)==null?void 0:i.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((i==null?void 0:i.length)>=1){for(const l of i)for(let u=0,d=l.length;u<d;u+=2)l[u+1]>a?(a=l[u+1],s=l[u]):l[u+1]===a&&(s=Math.max(s,l[u]));if(s!==1/0)return[s,a]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-a)/r,e}get commentText(){var t,i,r;const{data:e}=this;return((i=(t=this.annotationStorage.getRawValue(`${Lw}${e.id}`))==null?void 0:t.popup)==null?void 0:i.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${Lw}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=f(this,Ha))==null?void 0:e.popup)||this.popup)==null||t.remove(),_(this,Ha,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(f(this,Sh)||_(this,Sh,{rect:this.data.rect.slice(0)}));const{rect:t,popup:i}=e;t&&M(this,yC,ID).call(this,t);let r=((s=f(this,Ha))==null?void 0:s.popup)||this.popup;!r&&(i!=null&&i.text)&&(this._createPopup(i),r=f(this,Ha).popup),r&&(r.updateEdited(e),i!=null&&i.deleted&&(r.remove(),_(this,Ha,null),this.popup=null))}resetEdited(){var e;f(this,Sh)&&(M(this,yC,ID).call(this,f(this,Sh).rect),(e=f(this,Ha))==null||e.popup.resetEdited(),_(this,Sh,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof _p)&&!(this instanceof OQ)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof FD){const{rotation:C}=t;return!t.hasOwnCanvas&&C!==0&&this.setRotation(C,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const C=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(C>0||E>0){const I=`calc(${C}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;a.borderRadius=I}else if(this instanceof zj){const I=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=I}switch(t.borderStyle.style){case bg.SOLID:a.borderStyle="solid";break;case bg.DASHED:a.borderStyle="dashed";break;case bg.BEVELED:At("Unimplemented border style: beveled");break;case bg.INSET:At("Unimplemented border style: inset");break;case bg.UNDERLINE:a.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(_(this,Jm,!0),a.borderColor=Ve.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const u=Ve.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:h,pageX:g,pageY:v}=r.rawDims;a.left=`${100*(u[0]-g)/d}%`,a.top=`${100*(u[1]-v)/h}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*a/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],a=s[0],o=s.slice(1);r.target.style[i]=kK[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:kK[`${a}_rgb`](o)})};return lt(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const a=i[r];if(a){const o={detail:{[r]:s},target:e};a(o),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(C=>Math.fround(C));if(e.length===8){const[C,E,x,I]=e.subarray(2,6);if(r===C&&s===E&&t===x&&i===I)return}const{style:a}=this.container;let o;if(f(this,Jm)){const{borderColor:C,borderWidth:E}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const l=r-t,u=s-i,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const g=d.createElement("defs");h.append(g);const v=d.createElement("clipPath"),b=`clippath_${this.data.id}`;v.setAttribute("id",b),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let C=2,E=e.length;C<E;C+=8){const x=e[C],I=e[C+1],T=e[C+2],R=e[C+3],P=d.createElement("rect"),D=(T-t)/l,Q=(s-I)/u,H=(x-T)/l,k=(I-R)/u;P.setAttribute("x",D),P.setAttribute("y",Q),P.setAttribute("width",H),P.setAttribute("height",k),v.append(P),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${Q}" width="${H}" height="${k}"/>`)}f(this,Jm)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate),_(this,Ha,new FD({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(f(this,Ha)||this.popup||this.data.popupRef)}get extraPopupElement(){return f(this,Ha)}render(){yn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!vp.has(u)){At(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:l,domElement:u})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==t&&vp.has(r)&&i.push({id:a,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Sh=new WeakMap,Jm=new WeakMap,Ha=new WeakMap,yC=new WeakSet,ID=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;i==null||i.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(r)};let Gn=kO;class Qde extends Gn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var aa,Cf,Kj,Gj;class OQ extends Gn{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});F(this,aa);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),s=!0):t.attachment?(M(this,aa,Kj).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(M(this,aa,Gj).call(this,r,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=r,this.container.append(r)),this.container}_bindLink(t,i,r=""){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&M(this,aa,Cf).call(this),r&&(t.title=r)}_bindNamedAction(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),r&&(t.title=r),M(this,aa,Cf).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const a=r.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}i.overlaidText&&(t.title=i.overlaidText),t.onclick||(t.onclick=()=>!1),M(this,aa,Cf).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),M(this,aa,Cf).call(this),!this._fieldObjects){At('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:s,refs:a,include:o}=i,l=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const v of s){const b=this._fieldObjects[v]||[];for(const{id:C}of b)g.add(C)}for(const v of Object.values(this._fieldObjects))for(const b of v)g.has(b.id)===o&&l.push(b)}else for(const g of Object.values(this._fieldObjects))l.push(...g);const u=this.annotationStorage,d=[];for(const g of l){const{id:v}=g;switch(d.push(v),g.type){case"text":{const C=g.defaultValue||"";u.setValue(v,{value:C});break}case"checkbox":case"radiobutton":{const C=g.defaultValue===g.exportValues;u.setValue(v,{value:C});break}case"combobox":case"listbox":{const C=g.defaultValue||"";u.setValue(v,{value:C});break}default:continue}const b=document.querySelector(`[data-element-id="${v}"]`);if(b){if(!vp.has(b)){At(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}aa=new WeakSet,Cf=function(){this.container.setAttribute("data-internal-link","")},Kj=function(t,i,r="",s=null){t.href=this.linkService.getAnchorUrl(""),i.description?t.title=i.description:r&&(t.title=r),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,s),!1},M(this,aa,Cf).call(this)},Gj=function(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),r&&(t.title=r),M(this,aa,Cf).call(this)};class kde extends Gn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class _p extends Gn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Er.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(i,a=>{var o;if(i==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}}))})}_setEventListeners(e,t,i,r){var s,a,o;for(const[l,u]of i)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,r),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ve.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Nde,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(nM*r))||1,h=u/d;a=Math.min(r,l(h/nM))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,l(u/nM))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Ve.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Ode extends _p{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=i),s.setValue(a.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),vp.add(i),this.contentElement=i,i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:g,timeStep:v}=this.data,b=!!g&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",E=>{e.setValue(t,{value:E.target.value}),this.setPropertyOnSiblings(i,"value",E.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",E=>{const x=this.data.defaultFieldValue??"";i.value=d.userValue=x,d.formattedValue=null});let C=E=>{const{formattedValue:x}=d;x!=null&&(E.target.value=x),E.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",x=>{var T;if(d.focused)return;const{target:I}=x;if(b&&(I.type=g,v&&(I.step=v)),d.userValue){const R=d.userValue;if(b)if(g==="time"){const P=new Date(R),D=[P.getHours(),P.getMinutes(),P.getSeconds()];I.value=D.map(Q=>Q.toString().padStart(2,"0")).join(":")}else I.value=new Date(R-Lde).toISOString().split(g==="date"?"T":".",1)[0];else I.value=R}d.lastCommittedValue=I.value,d.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const I={value(T){d.userValue=T.detail.value??"",b||e.setValue(t,{value:d.userValue.toString()}),T.target.value=d.userValue},formattedValue(T){const{formattedValue:R}=T.detail;d.formattedValue=R,R!=null&&T.target!==document.activeElement&&(T.target.value=R);const P={formattedValue:R};b&&(P.value=R),e.setValue(t,P)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var Q;const{charLimit:R}=T.detail,{target:P}=T;if(R===0){P.removeAttribute("maxLength");return}P.setAttribute("maxLength",R);let D=d.userValue;!D||D.length<=R||(D=D.slice(0,R),P.value=d.userValue=D,e.setValue(t,{value:D}),(Q=this.linkService.eventBus)==null||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:P.selectionStart,selEnd:P.selectionEnd}}))}};this._dispatchEventFromSandbox(I,x)}),i.addEventListener("keydown",x=>{var R;d.commitKey=1;let I=-1;if(x.key==="Escape"?I=0:x.key==="Enter"&&!this.data.multiLine?I=2:x.key==="Tab"&&(d.commitKey=3),I===-1)return;const{value:T}=x.target;d.lastCommittedValue!==T&&(d.lastCommittedValue=T,d.userValue=T,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:I,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const E=C;C=null,i.addEventListener("blur",x=>{var R,P;if(!d.focused||!x.relatedTarget)return;(R=this.data.actions)!=null&&R.Blur||(d.focused=!1);const{target:I}=x;let{value:T}=I;if(b){if(T&&g==="time"){const D=T.split(":").map(Q=>parseInt(Q,10));T=new Date(2e3,0,1,D[0],D[1],D[2]||0).valueOf(),I.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();I.type="text"}d.userValue=T,d.lastCommittedValue!==T&&((P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:d.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),E(x)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",x=>{var k;d.lastCommittedValue=null;const{data:I,target:T}=x,{value:R,selectionStart:P,selectionEnd:D}=T;let Q=P,H=D;switch(x.inputType){case"deleteWordBackward":{const K=R.substring(0,P).match(/\w*[^\w]*$/);K&&(Q-=K[0].length);break}case"deleteWordForward":{const K=R.substring(P).match(/^[^\w]*\w*/);K&&(H+=K[0].length);break}case"deleteContentBackward":P===D&&(Q-=1);break;case"deleteContentForward":P===D&&(H+=1);break}x.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,change:I||"",willCommit:!1,selStart:Q,selEnd:H}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(C&&i.addEventListener("blur",C),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Hde extends _p{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Vde extends _p{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return vp.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class zj extends _p{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,i))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(vp.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const g=d&&h.id===i;h.domElement&&(h.domElement.checked=g),e.setValue(h.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Kde extends OQ{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class Gde extends _p{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");vp.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,i.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),a=()=>{d.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:g,multiple:v}=r;return v?Array.prototype.filter.call(g,b=>b.selected).map(b=>b[h]):g.selectedIndex===-1?null:g[g.selectedIndex][h]};let l=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(g){a==null||a();const v=g.detail.value,b=new Set(Array.isArray(v)?v:[v]);for(const C of r.options)C.selected=b.has(C.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(g){r.multiple=!0},remove(g){const v=r.options,b=g.detail.remove;v[b].selected=!1,r.remove(b),v.length>0&&Array.prototype.findIndex.call(v,E=>E.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},clear(g){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(g){const{index:v,displayValue:b,exportValue:C}=g.detail.insert,E=r.children[v],x=document.createElement("option");x.textContent=b,x.value=C,E?E.before(x):r.append(x),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},items(g){const{items:v}=g.detail;for(;r.length!==0;)r.remove(0);for(const b of v){const{displayValue:C,exportValue:E}=b,x=document.createElement("option");x.textContent=C,x.value=E,r.append(x)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},indices(g){const v=new Set(g.detail.indices);for(const b of g.target.options)b.selected=v.has(b.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var v;const h=o(!0),g=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var wC,UD;class FD extends Gn{constructor(t){const{data:i,elements:r,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&Gn._hasPopupData(i)});F(this,wC);if(this.elements=r,a&&Gn._hasPopupData(i)){const o=this.popup=M(this,wC,UD).call(this);for(const l of r)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const i=this.popup=M(this,wC,UD).call(this),r=[];for(const s of this.elements)s.popup=i,s.container.ariaHasPopup="dialog",r.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(s=>`${Ng}${s}`).join(",")),this.container}}wC=new WeakSet,UD=function(){return new zde({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Gs,Yc,w1,b1,Zm,ev,Yn,fA,Xc,xh,tv,nv,hA,zs,Rl,Dl,Xn,Nl,Jc,bC,Ll,iv,_h,Zc,$i,ed,yt,n_,MD,PD,RD,i_,DD,qj,$j,jj,Wj,r_,s_,ND;class zde{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:d,open:h,commentManager:g=null}){F(this,yt);F(this,Gs,null);F(this,Yc,M(this,yt,jj).bind(this));F(this,w1,M(this,yt,ND).bind(this));F(this,b1,M(this,yt,s_).bind(this));F(this,Zm,M(this,yt,r_).bind(this));F(this,ev,null);F(this,Yn,null);F(this,fA,null);F(this,Xc,null);F(this,xh,null);F(this,tv,null);F(this,nv,null);F(this,hA,!1);F(this,zs,null);F(this,Rl,null);F(this,Dl,null);F(this,Xn,null);F(this,Nl,null);F(this,Jc,null);F(this,bC,null);F(this,Ll,null);F(this,iv,null);F(this,_h,null);F(this,Zc,!1);F(this,$i,null);F(this,ed,null);_(this,Yn,e),_(this,iv,r),_(this,fA,a),_(this,Ll,o),_(this,tv,l),_(this,ev,t),_(this,bC,u),_(this,nv,d),_(this,xh,i),_(this,Gs,g),_(this,$i,i[0]),_(this,Xc,kR.toDateObject(s)),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup()),g||(M(this,yt,n_).call(this),f(this,Yn).hidden=!0,h&&M(this,yt,r_).call(this))}renderCommentButton(){if(f(this,Xn)){f(this,Xn).parentNode||f(this,$i).container.after(f(this,Xn));return}if(f(this,Nl)||M(this,yt,MD).call(this),!f(this,Nl))return;const{signal:e}=_(this,Rl,new AbortController),t=f(this,$i).hasOwnCommentButton,i=()=>{f(this,Gs).toggleCommentPopup(this,!0,void 0,!t)},r=()=>{f(this,Gs).toggleCommentPopup(this,!1,!0,!t)},s=()=>{f(this,Gs).toggleCommentPopup(this,!1,!1)};if(t){_(this,Xn,f(this,$i).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",f(this,Yc),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=_(this,Xn,document.createElement("button"));a.className="annotationCommentButton";const o=f(this,$i).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),M(this,yt,RD).call(this),M(this,yt,PD).call(this),a.addEventListener("keydown",f(this,Yc),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=f(this,$i).commentData;return e?f(this,tv)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=f(this,Xn))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=f(this,$i).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return f(this,Xn)}get comment(){return f(this,ed)||_(this,ed,f(this,$i).commentText),f(this,ed)}set comment(e){e!==this.comment&&(f(this,$i).commentText=_(this,ed,e))}focus(){var e;(e=f(this,$i).container)==null||e.focus()}get parentBoundingClientRect(){return f(this,$i).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){f(this,Xn)&&(f(this,Xn).classList.toggle("selected",e),f(this,Xn).ariaExpanded=t)}setSelectedCommentButton(e){f(this,Xn).classList.toggle("selected",e)}get commentPopupPosition(){if(f(this,Jc))return f(this,Jc);const{x:e,y:t,height:i}=f(this,Xn).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=f(this,$i).layer.getBoundingClientRect();return[(e-r)/a,(t+i-s)/o]}set commentPopupPosition(e){_(this,Jc,e)}hasDefaultPopupPosition(){return f(this,Jc)===null}get commentButtonPosition(){return f(this,Nl)}get commentButtonWidth(){return f(this,Xn).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=f(this,Jc)||this.commentButtonPosition.map(u=>u/100),r=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=r;f(this,Gs).showDialog(null,this,s+t*o,a+i*l,{...e,parentDimensions:r})}render(){var i,r;if(f(this,zs))return;const e=_(this,zs,document.createElement("div"));if(e.className="popup",f(this,ev)){const s=e.style.outlineColor=Ve.makeHexColor(...f(this,ev));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(i=f(this,iv))!=null&&i.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=f(this,iv)}if(e.append(t),f(this,Xc)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,Xc).valueOf()})),s.dateTime=f(this,Xc).toISOString(),t.append(s)}R6({html:f(this,yt,i_)||f(this,fA).str,dir:(r=f(this,fA))==null?void 0:r.dir,className:"popupContent"},e),f(this,Yn).append(e)}updateEdited({rect:e,popup:t,deleted:i}){var r;if(f(this,Gs)){i?(this.remove(),_(this,ed,null)):t&&(t.deleted?this.remove():(M(this,yt,RD).call(this),_(this,ed,t.text))),e&&(_(this,Nl,null),M(this,yt,MD).call(this),M(this,yt,PD).call(this));return}if(i||t!=null&&t.deleted){this.remove();return}M(this,yt,n_).call(this),f(this,_h)||_(this,_h,{contentsObj:f(this,fA),richText:f(this,Ll)}),e&&_(this,Dl,null),t&&t.text&&(_(this,Ll,M(this,yt,$j).call(this,t.text)),_(this,Xc,kR.toDateObject(t.date)),_(this,fA,null)),(r=f(this,zs))==null||r.remove(),_(this,zs,null)}resetEdited(){var e;f(this,_h)&&({contentsObj:ai(this,fA)._,richText:ai(this,Ll)._}=f(this,_h),_(this,_h,null),(e=f(this,zs))==null||e.remove(),_(this,zs,null),_(this,Dl,null))}remove(){var e,t,i;if((e=f(this,Rl))==null||e.abort(),_(this,Rl,null),(t=f(this,zs))==null||t.remove(),_(this,zs,null),_(this,Zc,!1),_(this,hA,!1),(i=f(this,Xn))==null||i.remove(),_(this,Xn,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){_(this,Zc,this.isVisible),f(this,Zc)&&(f(this,Yn).hidden=!0)}maybeShow(){f(this,Gs)||(M(this,yt,n_).call(this),f(this,Zc)&&(f(this,zs)||M(this,yt,s_).call(this),_(this,Zc,!1),f(this,Yn).hidden=!1))}get isVisible(){return f(this,Gs)?!1:f(this,Yn).hidden===!1}}Gs=new WeakMap,Yc=new WeakMap,w1=new WeakMap,b1=new WeakMap,Zm=new WeakMap,ev=new WeakMap,Yn=new WeakMap,fA=new WeakMap,Xc=new WeakMap,xh=new WeakMap,tv=new WeakMap,nv=new WeakMap,hA=new WeakMap,zs=new WeakMap,Rl=new WeakMap,Dl=new WeakMap,Xn=new WeakMap,Nl=new WeakMap,Jc=new WeakMap,bC=new WeakMap,Ll=new WeakMap,iv=new WeakMap,_h=new WeakMap,Zc=new WeakMap,$i=new WeakMap,ed=new WeakMap,yt=new WeakSet,n_=function(){var t;if(f(this,Rl))return;_(this,Rl,new AbortController);const{signal:e}=f(this,Rl);for(const i of this.trigger)i.addEventListener("click",f(this,Zm),{signal:e}),i.addEventListener("pointerenter",f(this,b1),{signal:e}),i.addEventListener("pointerleave",f(this,w1),{signal:e}),i.classList.add("popupTriggerArea");for(const i of f(this,xh))(t=i.container)==null||t.addEventListener("keydown",f(this,Yc),{signal:e})},MD=function(){const e=f(this,xh).find(t=>t.hasCommentButton);e&&_(this,Nl,e._normalizePoint(e.commentButtonPosition))},PD=function(){if(f(this,$i).extraPopupElement&&!f(this,$i).editor)return;f(this,Xn)||this.renderCommentButton();const[e,t]=f(this,Nl),{style:i}=f(this,Xn);i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`},RD=function(){f(this,$i).extraPopupElement||(f(this,Xn)||this.renderCommentButton(),f(this,Xn).style.backgroundColor=this.commentButtonColor||"")},i_=function(){const e=f(this,Ll),t=f(this,fA);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,Ll).html||null},DD=function(){var e,t,i;return((i=(t=(e=f(this,yt,i_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},qj=function(){var e,t,i;return((i=(t=(e=f(this,yt,i_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},$j=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:f(this,yt,qj),fontSize:f(this,yt,DD)?`calc(${f(this,yt,DD)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},jj=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,hA))&&M(this,yt,r_).call(this)},Wj=function(){if(f(this,Dl)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=f(this,tv);let a=!!f(this,nv),o=a?f(this,nv):f(this,bC);for(const b of f(this,xh))if(!o||Ve.intersect(b.data.rect,o)!==null){o=b.data.rect,a=!0;break}const l=Ve.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,g=l[1];_(this,Dl,[100*(h-r)/t,100*(g-s)/i]);const{style:v}=f(this,Yn);v.left=`${f(this,Dl)[0]}%`,v.top=`${f(this,Dl)[1]}%`},r_=function(){if(f(this,Gs)){f(this,Gs).toggleCommentPopup(this,!1);return}_(this,hA,!f(this,hA)),f(this,hA)?(M(this,yt,s_).call(this),f(this,Yn).addEventListener("click",f(this,Zm)),f(this,Yn).addEventListener("keydown",f(this,Yc))):(M(this,yt,ND).call(this),f(this,Yn).removeEventListener("click",f(this,Zm)),f(this,Yn).removeEventListener("keydown",f(this,Yc)))},s_=function(){f(this,zs)||this.render(),this.isVisible?f(this,hA)&&f(this,Yn).classList.add("focused"):(M(this,yt,Wj).call(this),f(this,Yn).hidden=!1,f(this,Yn).style.zIndex=parseInt(f(this,Yn).style.zIndex)+1e3)},ND=function(){f(this,Yn).classList.remove("focused"),!(f(this,hA)||!this.isVisible)&&(f(this,Yn).hidden=!0,f(this,Yn).style.zIndex=parseInt(f(this,Yn).style.zIndex)-1e3)};class Yj extends Gn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=dt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var CC;class qde extends Gn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,CC,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=_(this,CC,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,CC)}addHighlightArea(){this.container.classList.add("highlightArea")}}CC=new WeakMap;var BC;class $de extends Gn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,BC,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=_(this,BC,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",i-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,BC)}addHighlightArea(){this.container.classList.add("highlightArea")}}BC=new WeakMap;var EC;class jde extends Gn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,EC,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=_(this,EC,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",r/2),o.setAttribute("rx",i/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,EC)}addHighlightArea(){this.container.classList.add("highlightArea")}}EC=new WeakMap;var SC;class Xj extends Gn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,SC,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s},width:a,height:o}=this;if(!i)return this.container;const l=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,g=i.length;h<g;h+=2){const v=i[h]-t[0],b=t[3]-i[h+1];u.push(`${v},${b}`)}u=u.join(" ");const d=_(this,SC,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,SC)}addHighlightArea(){this.container.classList.add("highlightArea")}}SC=new WeakMap;class Wde extends Xj{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yde extends Gn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var xC,Th,_C,LD;class HQ extends Gn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});F(this,_C);F(this,xC,null);F(this,Th,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?dt.HIGHLIGHT:dt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:r,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=M(this,_C,LD).call(this,i,t),d=this.svgFactory.create(l,u,!0),h=_(this,xC,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let g=0,v=r.length;g<v;g++){const b=this.svgFactory.createElement(this.svgElementName);f(this,Th).push(b),b.setAttribute("points",r[g].join(",")),h.append(b)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:r,rect:s}=t,a=f(this,xC);if(i>=0&&a.setAttribute("stroke-width",i||1),r)for(let o=0,l=f(this,Th).length;o<l;o++)f(this,Th)[o].setAttribute("points",r[o].join(","));if(s){const{transform:o,width:l,height:u}=M(this,_C,LD).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return f(this,Th)}addHighlightArea(){this.container.classList.add("highlightArea")}}xC=new WeakMap,Th=new WeakMap,_C=new WeakSet,LD=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class Jj extends Gn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=dt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Xde extends Gn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Jde extends Gn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Zde extends Gn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Zj extends Gn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=dt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var TC,IC,QD;class efe extends Gn{constructor(t){var r;super(t,{isRenderable:!0});F(this,IC);F(this,TC,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",M(this,IC,QD).bind(this)),_(this,TC,r);const{isMac:s}=Er.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&M(this,IC,QD).call(this)}),!i.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return f(this,TC)}addHighlightArea(){this.container.classList.add("highlightArea")}}TC=new WeakMap,IC=new WeakSet,QD=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Ih,Fh,rv,td,FC,Uh,qs,UC,hu,a_,kD,sv;let tfe=(sv=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:u,annotationStorage:d}){F(this,hu);F(this,Ih,null);F(this,Fh,null);F(this,rv,null);F(this,td,new Map);F(this,FC,null);F(this,Uh,null);F(this,qs,[]);F(this,UC,!1);this.div=e,_(this,Ih,t),_(this,Fh,i),_(this,FC,o||null),_(this,Uh,u||null),_(this,rv,d||new NQ),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=l||null}hasEditableAnnotations(){return f(this,td).size>0}async render(e){var o;const{annotations:t}=e,i=this.div;gp(i,this.viewport);const r=new Map,s=[],a={data:null,layer:i,linkService:f(this,Uh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new iT,annotationStorage:f(this,rv),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===wi.POPUP;if(u){const g=r.get(l.id);if(!g)continue;if(!this._commentManager){s.push(l);continue}a.elements=g}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=uM.create(a);if(!d.isRenderable)continue;if(!u&&(f(this,qs).push(d),l.popupRef)){const g=r.get(l.popupRef);g?g.push(d):r.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(f(this,td).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}await M(this,hu,a_).call(this);for(const l of s){const u=a.elements=r.get(l.id);a.data=l;const d=uM.create(a);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${Ng}${l.id}`,l.hidden&&(h.style.visibility="hidden"),u.at(-1).container.after(h)}M(this,hu,kD).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:f(this,Uh),svgFactory:new iT,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=sv._defaultBorderStyle),t.data=i;const r=uM.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${Ng}${i.id}`,f(this,qs).push(r))}await M(this,hu,a_).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,gp(t,{rotation:e.rotation}),M(this,hu,kD).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,td).values())}getEditableAnnotation(e){return f(this,td).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:i,rotation:r}=e,s=new Qde({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:f(this,Uh),annotationStorage:f(this,rv)});return s.render(),s.contentElement.id=`${Ng}${i}`,s.createOrUpdatePopup(),f(this,qs).push(s),s}removeAnnotation(e){var r;const t=f(this,qs).findIndex(s=>s.data.id===e);if(t<0)return;const[i]=f(this,qs).splice(t,1);(r=f(this,Ih))==null||r.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);M(this,hu,a_).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return lt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:bg.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Ih=new WeakMap,Fh=new WeakMap,rv=new WeakMap,td=new WeakMap,FC=new WeakMap,Uh=new WeakMap,qs=new WeakMap,UC=new WeakMap,hu=new WeakSet,a_=async function(){var i,r,s;if(f(this,qs).length===0)return;this.div.replaceChildren();const e=[];if(!f(this,UC)){_(this,UC,!0);for(const{contentElement:a,data:{id:o}}of f(this,qs)){const l=a.id=`${Ng}${o}`;e.push((i=f(this,FC))==null?void 0:i.getAriaAttributes(l).then(u=>{if(u)for(const[d,h]of u)a.setAttribute(d,h)}))}}f(this,qs).sort(({data:{rect:[a,o,l,u]}},{data:{rect:[d,h,g,v]}})=>{if(a===l&&o===u)return 1;if(d===g&&h===v)return-1;const b=u,C=o,E=(o+u)/2,x=v,I=h,T=(h+v)/2;if(E>=x&&T<=C)return-1;if(T>=b&&E<=I)return 1;const R=(a+l)/2,P=(d+g)/2;return R-P});const t=document.createDocumentFragment();for(const a of f(this,qs))t.append(a.container),this._commentManager?(s=((r=a.extraPopupElement)==null?void 0:r.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&t.append(a.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),f(this,Ih))for(const a of f(this,qs))f(this,Ih).addPointerInTextLayer(a.contentElement,!1)},kD=function(){var t;if(!f(this,Fh))return;const e=this.div;for(const[i,r]of f(this,Fh)){const s=e.querySelector(`[data-annotation-id="${i}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):s.append(r);const o=f(this,td).get(i);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(i,s.id,r),o._hasNoCanvas=!1):o.canvas=r)}f(this,Fh).clear()},sv);const KS=/\r\n?|\n/g;var $s,MC,Mh,js,xi,eW,tW,nW,o_,pu,A_,l_,iW,HD,rW;const Tn=class Tn extends Sn{constructor(t){super({...t,name:"freeTextEditor"});F(this,xi);F(this,$s,"");F(this,MC,`${this.id}-editor`);F(this,Mh,null);F(this,js);me(this,"_colorPicker",null);this.color=t.color||Tn._defaultColor||Sn._defaultLineColor,_(this,js,t.fontSize||Tn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=Tn.prototype,i=a=>a.isEmpty(),r=Ow.TRANSLATE_SMALL,s=Ow.TRANSLATE_BIG;return lt(this,"_keyboardManager",new VB([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){Sn.initialize(t,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case Ft.FREETEXT_SIZE:Tn._defaultFontSize=i;break;case Ft.FREETEXT_COLOR:Tn._defaultColor=i;break}}updateParams(t,i){switch(t){case Ft.FREETEXT_SIZE:M(this,xi,eW).call(this,i);break;case Ft.FREETEXT_COLOR:M(this,xi,tW).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Ft.FREETEXT_SIZE,Tn._defaultFontSize],[Ft.FREETEXT_COLOR,Tn._defaultColor||Sn._defaultLineColor]]}get propertiesToUpdate(){return[[Ft.FREETEXT_SIZE,f(this,js)],[Ft.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new nT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ft.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Tn._internalPadding*t,-(Tn._internalPadding+f(this,js))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Mh,new AbortController);const t=this._uiManager.combinedSignal(f(this,Mh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,MC)),this._isDraggable=!0,(t=f(this,Mh))==null||t.abort(),_(this,Mh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,$s),i=_(this,$s,M(this,xi,nW).call(this).trimEnd());if(t===i)return;const r=s=>{if(_(this,$s,s),!s){this.remove();return}M(this,xi,l_).call(this),this._uiManager.rebuild(this),M(this,xi,o_).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),M(this,xi,o_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Tn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,i;(this._isCopy||this.annotationElementId)&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,MC)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${f(this,js)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[g,v]=this.pageTranslation;let b,C;switch(this.rotation){case 0:b=t+(o[0]-g)/d,C=i+this.height-(o[1]-v)/h;break;case 90:b=t+(o[0]-g)/d,C=i-(o[1]-v)/h,[l,u]=[u,-l];break;case 180:b=t-this.width+(o[0]-g)/d,C=i-(o[1]-v)/h,[l,u]=[-l,-u];break;case 270:b=t+(o[0]-g-this.height*h)/d,C=i+(o[1]-v-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(b*s,C*a,l,u)}else this._moveAfterPaste(t,i);M(this,xi,l_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,C,E;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=M(b=Tn,pu,HD).call(b,i.getData("text")||"").replaceAll(KS,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(KS,"")),x!==this.editorDiv){let I=d;for(const T of this.editorDiv.childNodes){if(T===x){I=h;continue}I.push(M(C=Tn,pu,A_).call(C,T))}}d.push(l.nodeValue.slice(0,u).replaceAll(KS,""))}else if(l===this.editorDiv){let x=d,I=0;for(const T of this.editorDiv.childNodes)I++===u&&(x=h),x.push(M(E=Tn,pu,A_).call(E,T))}_(this,$s,`${d.join(`
`)}${s}${h.join(`
`)}`),M(this,xi,l_).call(this);const g=new Range;let v=Math.sumPrecise(d.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const I=x.nodeValue.length;if(v<=I){g.setStart(x,v),g.setEnd(x,v);break}v-=I}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Tn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,i,r){var o;let s=null;if(t instanceof Yj){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:g,popupRef:v,richText:b,contentsObj:C,creationDate:E,modificationDate:x},textContent:I,textPosition:T,parent:{page:{pageNumber:R}}}=t;if(!I||I.length===0)return null;s=t={annotationType:dt.FREETEXT,color:Array.from(u),fontSize:l,value:I.join(`
`),position:T,pageIndex:R-1,rect:d.slice(0),rotation:h,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(C==null?void 0:C.str)||null,richText:b,creationDate:E,modificationDate:x}}const a=await super.deserialize(t,i,r);return _(a,js,t.fontSize),a.color=Ve.makeHexColor(...t.color),_(a,$s,M(o=Tn,pu,HD).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Sn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:i,fontSize:f(this,js),value:M(this,xi,iW).call(this)});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!M(this,xi,rW).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(!i)return null;const{style:r}=i;r.fontSize=`calc(${f(this,js)}px * var(--total-scale-factor))`,r.color=this.color,i.replaceChildren();for(const s of f(this,$s).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),i.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:f(this,$s)}}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};$s=new WeakMap,MC=new WeakMap,Mh=new WeakMap,js=new WeakMap,xi=new WeakSet,eW=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-f(this,js))*this.parentScale),_(this,js,s),M(this,xi,o_).call(this)},r=f(this,js);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},tW=function(t){const i=s=>{this.color=s,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},nW=function(){var r;const t=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(M(r=Tn,pu,A_).call(r,s)),i=s);return t.join(`
`)},o_=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},pu=new WeakSet,A_=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(KS,"")},l_=function(){if(this.editorDiv.replaceChildren(),!!f(this,$s))for(const t of f(this,$s).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},iW=function(){return f(this,$s).replaceAll(""," ")},HD=function(t){return t.replaceAll(" ","")},rW=function(t){const{value:i,fontSize:r,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},F(Tn,pu),me(Tn,"_freeTextDefaultContent",""),me(Tn,"_internalPadding",0),me(Tn,"_defaultColor",null),me(Tn,"_defaultFontSize",10),me(Tn,"_type","freetext"),me(Tn,"_editorType",dt.FREETEXT);let OD=Tn;class Qe{toSVGPath(){yn("Abstract method `toSVGPath` must be implemented.")}get box(){yn("Abstract getter `box` must be implemented.")}serialize(e,t){yn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*r,a[o+1]=i+e[o+1]*s;return a}static _rescaleAndSwap(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*r,a[o+1]=i+e[o]*s;return a}static _translate(e,t,i,r){r||(r=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,a){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+a)/6,(i+s)/2,(r+a)/2]}}me(Qe,"PRECISION",1e-4);var Ws,Co,av,ov,pA,wt,Ph,Rh,PC,RC,Av,lv,nd,DC,C1,B1,Ni,sw,sW,aW,oW,AW,lW,uW;const Al=class Al{constructor({x:e,y:t},i,r,s,a,o=0){F(this,Ni);F(this,Ws);F(this,Co,[]);F(this,av);F(this,ov);F(this,pA,[]);F(this,wt,new Float32Array(18));F(this,Ph);F(this,Rh);F(this,PC);F(this,RC);F(this,Av);F(this,lv);F(this,nd,[]);_(this,Ws,i),_(this,lv,s*r),_(this,ov,a),f(this,wt).set([NaN,NaN,NaN,NaN,e,t],6),_(this,av,o),_(this,RC,f(Al,DC)*r),_(this,PC,f(Al,B1)*r),_(this,Av,r),f(this,nd).push(e,t)}isEmpty(){return isNaN(f(this,wt)[8])}add({x:e,y:t}){var k;_(this,Ph,e),_(this,Rh,t);const[i,r,s,a]=f(this,Ws);let[o,l,u,d]=f(this,wt).subarray(8,12);const h=e-u,g=t-d,v=Math.hypot(h,g);if(v<f(this,PC))return!1;const b=v-f(this,RC),C=b/v,E=C*h,x=C*g;let I=o,T=l;o=u,l=d,u+=E,d+=x,(k=f(this,nd))==null||k.push(e,t);const R=-x/b,P=E/b,D=R*f(this,lv),Q=P*f(this,lv);return f(this,wt).set(f(this,wt).subarray(2,8),0),f(this,wt).set([u+D,d+Q],4),f(this,wt).set(f(this,wt).subarray(14,18),12),f(this,wt).set([u-D,d-Q],16),isNaN(f(this,wt)[6])?(f(this,pA).length===0&&(f(this,wt).set([o+D,l+Q],2),f(this,pA).push(NaN,NaN,NaN,NaN,(o+D-i)/s,(l+Q-r)/a),f(this,wt).set([o-D,l-Q],14),f(this,Co).push(NaN,NaN,NaN,NaN,(o-D-i)/s,(l-Q-r)/a)),f(this,wt).set([I,T,o,l,u,d],6),!this.isEmpty()):(f(this,wt).set([I,T,o,l,u,d],6),Math.abs(Math.atan2(T-l,I-o)-Math.atan2(x,E))<Math.PI/2?([o,l,u,d]=f(this,wt).subarray(2,6),f(this,pA).push(NaN,NaN,NaN,NaN,((o+u)/2-i)/s,((l+d)/2-r)/a),[o,l,I,T]=f(this,wt).subarray(14,18),f(this,Co).push(NaN,NaN,NaN,NaN,((I+o)/2-i)/s,((T+l)/2-r)/a),!0):([I,T,o,l,u,d]=f(this,wt).subarray(0,6),f(this,pA).push(((I+5*o)/6-i)/s,((T+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+d)/6-r)/a,((o+u)/2-i)/s,((l+d)/2-r)/a),[u,d,o,l,I,T]=f(this,wt).subarray(12,18),f(this,Co).push(((I+5*o)/6-i)/s,((T+5*l)/6-r)/a,((5*o+u)/6-i)/s,((5*l+d)/6-r)/a,((o+u)/2-i)/s,((l+d)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,pA),t=f(this,Co);if(isNaN(f(this,wt)[6])&&!this.isEmpty())return M(this,Ni,sW).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);M(this,Ni,oW).call(this,i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return M(this,Ni,aW).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,r,s,a){return new cW(e,t,i,r,s,a)}getOutlines(){var h;const e=f(this,pA),t=f(this,Co),i=f(this,wt),[r,s,a,o]=f(this,Ws),l=new Float32Array((((h=f(this,nd))==null?void 0:h.length)??0)+2);for(let g=0,v=l.length-2;g<v;g+=2)l[g]=(f(this,nd)[g]-r)/a,l[g+1]=(f(this,nd)[g+1]-s)/o;if(l[l.length-2]=(f(this,Ph)-r)/a,l[l.length-1]=(f(this,Rh)-s)/o,isNaN(i[6])&&!this.isEmpty())return M(this,Ni,AW).call(this,l);const u=new Float32Array(f(this,pA).length+24+f(this,Co).length);let d=e.length;for(let g=0;g<d;g+=2){if(isNaN(e[g])){u[g]=u[g+1]=NaN;continue}u[g]=e[g],u[g+1]=e[g+1]}d=M(this,Ni,uW).call(this,u,d);for(let g=t.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(t[g+v])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[g+v],u[d+1]=t[g+v+1],d+=2}return M(this,Ni,lW).call(this,u,d),this.newFreeDrawOutline(u,l,f(this,Ws),f(this,Av),f(this,av),f(this,ov))}};Ws=new WeakMap,Co=new WeakMap,av=new WeakMap,ov=new WeakMap,pA=new WeakMap,wt=new WeakMap,Ph=new WeakMap,Rh=new WeakMap,PC=new WeakMap,RC=new WeakMap,Av=new WeakMap,lv=new WeakMap,nd=new WeakMap,DC=new WeakMap,C1=new WeakMap,B1=new WeakMap,Ni=new WeakSet,sw=function(){const e=f(this,wt).subarray(4,6),t=f(this,wt).subarray(16,18),[i,r,s,a]=f(this,Ws);return[(f(this,Ph)+(e[0]-t[0])/2-i)/s,(f(this,Rh)+(e[1]-t[1])/2-r)/a,(f(this,Ph)+(t[0]-e[0])/2-i)/s,(f(this,Rh)+(t[1]-e[1])/2-r)/a]},sW=function(){const[e,t,i,r]=f(this,Ws),[s,a,o,l]=M(this,Ni,sw).call(this);return`M${(f(this,wt)[2]-e)/i} ${(f(this,wt)[3]-t)/r} L${(f(this,wt)[4]-e)/i} ${(f(this,wt)[5]-t)/r} L${s} ${a} L${o} ${l} L${(f(this,wt)[16]-e)/i} ${(f(this,wt)[17]-t)/r} L${(f(this,wt)[14]-e)/i} ${(f(this,wt)[15]-t)/r} Z`},aW=function(e){const t=f(this,Co);e.push(`L${t[4]} ${t[5]} Z`)},oW=function(e){const[t,i,r,s]=f(this,Ws),a=f(this,wt).subarray(4,6),o=f(this,wt).subarray(16,18),[l,u,d,h]=M(this,Ni,sw).call(this);e.push(`L${(a[0]-t)/r} ${(a[1]-i)/s} L${l} ${u} L${d} ${h} L${(o[0]-t)/r} ${(o[1]-i)/s}`)},AW=function(e){const t=f(this,wt),[i,r,s,a]=f(this,Ws),[o,l,u,d]=M(this,Ni,sw).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/a],0),this.newFreeDrawOutline(h,e,f(this,Ws),f(this,Av),f(this,av),f(this,ov))},lW=function(e,t){const i=f(this,Co);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},uW=function(e,t){const i=f(this,wt).subarray(4,6),r=f(this,wt).subarray(16,18),[s,a,o,l]=f(this,Ws),[u,d,h,g]=M(this,Ni,sw).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,g,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l],t),t+=24},F(Al,DC,8),F(Al,C1,2),F(Al,B1,f(Al,DC)+f(Al,C1));let rT=Al;var uv,Dh,Ql,NC,Ys,LC,ui,E1,dW;class cW extends Qe{constructor(t,i,r,s,a,o){super();F(this,E1);F(this,uv);F(this,Dh,new Float32Array(4));F(this,Ql);F(this,NC);F(this,Ys);F(this,LC);F(this,ui);_(this,ui,t),_(this,Ys,i),_(this,uv,r),_(this,LC,s),_(this,Ql,a),_(this,NC,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],M(this,E1,dW).call(this,o);const[l,u,d,h]=f(this,Dh);for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-l)/d,t[g+1]=(t[g+1]-u)/h;for(let g=0,v=i.length;g<v;g+=2)i[g]=(i[g]-l)/d,i[g+1]=(i[g+1]-u)/h}toSVGPath(){const t=[`M${f(this,ui)[4]} ${f(this,ui)[5]}`];for(let i=6,r=f(this,ui).length;i<r;i+=6){if(isNaN(f(this,ui)[i])){t.push(`L${f(this,ui)[i+4]} ${f(this,ui)[i+5]}`);continue}t.push(`C${f(this,ui)[i]} ${f(this,ui)[i+1]} ${f(this,ui)[i+2]} ${f(this,ui)[i+3]} ${f(this,ui)[i+4]} ${f(this,ui)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],a){const o=r-t,l=s-i;let u,d;switch(a){case 0:u=Qe._rescale(f(this,ui),t,s,o,-l),d=Qe._rescale(f(this,Ys),t,s,o,-l);break;case 90:u=Qe._rescaleAndSwap(f(this,ui),t,i,o,l),d=Qe._rescaleAndSwap(f(this,Ys),t,i,o,l);break;case 180:u=Qe._rescale(f(this,ui),r,i,-o,l),d=Qe._rescale(f(this,Ys),r,i,-o,l);break;case 270:u=Qe._rescaleAndSwap(f(this,ui),r,s,-o,-l),d=Qe._rescaleAndSwap(f(this,Ys),r,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return f(this,Dh)}newOutliner(t,i,r,s,a,o=0){return new rT(t,i,r,s,a,o)}getNewOutline(t,i){const[r,s,a,o]=f(this,Dh),[l,u,d,h]=f(this,uv),g=a*d,v=o*h,b=r*d+l,C=s*h+u,E=this.newOutliner({x:f(this,Ys)[0]*g+b,y:f(this,Ys)[1]*v+C},f(this,uv),f(this,LC),t,f(this,NC),i??f(this,Ql));for(let x=2;x<f(this,Ys).length;x+=2)E.add({x:f(this,Ys)[x]*g+b,y:f(this,Ys)[x+1]*v+C});return E.getOutlines()}}uv=new WeakMap,Dh=new WeakMap,Ql=new WeakMap,NC=new WeakMap,Ys=new WeakMap,LC=new WeakMap,ui=new WeakMap,E1=new WeakSet,dW=function(t){const i=f(this,ui);let r=i[4],s=i[5];const a=[r,s,r,s];let o=r,l=s,u=r,d=s;const h=t?Math.max:Math.min,g=new Float32Array(4);for(let b=6,C=i.length;b<C;b+=6){const E=i[b+4],x=i[b+5];isNaN(i[b])?(Ve.pointBoundingBox(E,x,a),l>x?(o=E,l=x):l===x&&(o=h(o,E)),d<x?(u=E,d=x):d===x&&(u=h(u,E))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,Ve.bezierBoundingBox(r,s,...i.slice(b,b+6),g),Ve.rectBoundingBox(g[0],g[1],g[2],g[3],a),l>g[1]?(o=g[0],l=g[1]):l===g[1]&&(o=h(o,g[0])),d<g[3]?(u=g[2],d=g[3]):d===g[3]&&(u=h(u,g[2]))),r=E,s=x}const v=f(this,Dh);v[0]=a[0]-f(this,Ql),v[1]=a[1]-f(this,Ql),v[2]=a[2]-a[0]+2*f(this,Ql),v[3]=a[3]-a[1]+2*f(this,Ql),this.firstPoint=[o,l],this.lastPoint=[u,d]};var QC,kC,OC,id,Bo,ts,fW,u_,hW,pW,KD;class VD{constructor(e,t=0,i=0,r=!0){F(this,ts);F(this,QC);F(this,kC);F(this,OC);F(this,id,[]);F(this,Bo,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:C,y:E,width:x,height:I}of e){const T=Math.floor((C-t)/a)*a,R=Math.ceil((C+x+t)/a)*a,P=Math.floor((E-t)/a)*a,D=Math.ceil((E+I+t)/a)*a,Q=[T,P,D,!0],H=[R,P,D,!1];f(this,id).push(Q,H),Ve.rectBoundingBox(T,P,R,D,s)}const o=s[2]-s[0]+2*i,l=s[3]-s[1]+2*i,u=s[0]-i,d=s[1]-i;let h=r?-1/0:1/0,g=1/0;const v=f(this,id).at(r?-1:-2),b=[v[0],v[2]];for(const C of f(this,id)){const[E,x,I,T]=C;!T&&r?x<g?(g=x,h=E):x===g&&(h=Math.max(h,E)):T&&!r&&(x<g?(g=x,h=E):x===g&&(h=Math.min(h,E))),C[0]=(E-u)/o,C[1]=(x-d)/l,C[2]=(I-d)/l}_(this,QC,new Float32Array([u,d,o,l])),_(this,kC,[h,g]),_(this,OC,b)}getOutlines(){f(this,id).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of f(this,id))t[3]?(e.push(...M(this,ts,KD).call(this,t)),M(this,ts,hW).call(this,t)):(M(this,ts,pW).call(this,t),e.push(...M(this,ts,KD).call(this,t)));return M(this,ts,fW).call(this,e)}}QC=new WeakMap,kC=new WeakMap,OC=new WeakMap,id=new WeakMap,Bo=new WeakMap,ts=new WeakSet,fW=function(e){const t=[],i=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),i.add(l),i.add(u)}const r=[];let s;for(;i.size>0;){const a=i.values().next().value;let[o,l,u,d,h]=a;i.delete(a);let g=o,v=l;for(s=[o,u],r.push(s);;){let b;if(i.has(d))b=d;else if(i.has(h))b=h;else break;i.delete(b),[o,l,u,d,h]=b,g!==o&&(s.push(g,v,o,v===l?l:u),g=o),v=v===l?u:l}s.push(g,v)}return new nfe(r,f(this,QC),f(this,kC),f(this,OC))},u_=function(e){const t=f(this,Bo);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,a=t[s][0];if(a===e)return s;a<e?i=s+1:r=s-1}return r+1},hW=function([,e,t]){const i=M(this,ts,u_).call(this,e);f(this,Bo).splice(i,0,[e,t])},pW=function([,e,t]){const i=M(this,ts,u_).call(this,e);for(let r=i;r<f(this,Bo).length;r++){const[s,a]=f(this,Bo)[r];if(s!==e)break;if(s===e&&a===t){f(this,Bo).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,a]=f(this,Bo)[r];if(s!==e)break;if(s===e&&a===t){f(this,Bo).splice(r,1);return}}},KD=function(e){const[t,i,r]=e,s=[[t,i,r]],a=M(this,ts,u_).call(this,r);for(let o=0;o<a;o++){const[l,u]=f(this,Bo)[o];for(let d=0,h=s.length;d<h;d++){const[,g,v]=s[d];if(!(u<=g||v<=l)){if(g>=l){if(v>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,v>u&&s.push([t,u,v])}}}return s};var HC,cv;class nfe extends Qe{constructor(t,i,r,s){super();F(this,HC);F(this,cv);_(this,cv,t),_(this,HC,i),this.firstPoint=r,this.lastPoint=s}toSVGPath(){const t=[];for(const i of f(this,cv)){let[r,s]=i;t.push(`M${r} ${s}`);for(let a=2;a<i.length;a+=2){const o=i[a],l=i[a+1];o===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],a){const o=[],l=r-t,u=s-i;for(const d of f(this,cv)){const h=new Array(d.length);for(let g=0;g<d.length;g+=2)h[g]=t+d[g]*l,h[g+1]=s-d[g+1]*u;o.push(h)}return o}get box(){return f(this,HC)}get classNamesForOutlining(){return["highlightOutline"]}}HC=new WeakMap,cv=new WeakMap;class GD extends rT{newFreeDrawOutline(e,t,i,r,s,a){return new ife(e,t,i,r,s,a)}}class ife extends cW{newOutliner(e,t,i,r,s,a=0){return new GD(e,t,i,r,s,a)}}var dv,VC,kl,Nh,KC,vs,GC,zC,Lh,Xs,Js,fr,fv,hv,Rr,pv,Va,qC,mt,zD,c_,gW,mW,vW,qD,Bf,Wa,_g,yW,d_,f_,wW,bW,CW,BW,EW;const Kt=class Kt extends Sn{constructor(t){super({...t,name:"highlightEditor"});F(this,mt);F(this,dv,null);F(this,VC,0);F(this,kl);F(this,Nh,null);F(this,KC,null);F(this,vs,null);F(this,GC,null);F(this,zC,0);F(this,Lh,null);F(this,Xs,null);F(this,Js,null);F(this,fr,!1);F(this,fv,null);F(this,hv,null);F(this,Rr,null);F(this,pv,"");F(this,Va);F(this,qC,"");this.color=t.color||Kt._defaultColor,_(this,Va,t.thickness||Kt._defaultThickness),this.opacity=t.opacity||Kt._defaultOpacity,_(this,kl,t.boxes||null),_(this,qC,t.methodOfCreation||""),_(this,pv,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(_(this,fr,!0),M(this,mt,c_).call(this,t),M(this,mt,Bf).call(this)):f(this,kl)&&(_(this,dv,t.anchorNode),_(this,VC,t.anchorOffset),_(this,GC,t.focusNode),_(this,zC,t.focusOffset),M(this,mt,zD).call(this),M(this,mt,Bf).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Kt.prototype;return lt(this,"_keyboardManager",new VB([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,fr)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:f(this,Va),methodOfCreation:f(this,qC)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;Sn.initialize(t,i),Kt._defaultColor||(Kt._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case Ft.HIGHLIGHT_COLOR:Kt._defaultColor=i;break;case Ft.HIGHLIGHT_THICKNESS:Kt._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return f(this,hv)}get commentButtonPosition(){return f(this,fv)}updateParams(t,i){switch(t){case Ft.HIGHLIGHT_COLOR:M(this,mt,gW).call(this,i);break;case Ft.HIGHLIGHT_THICKNESS:M(this,mt,mW).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Ft.HIGHLIGHT_COLOR,Kt._defaultColor],[Ft.HIGHLIGHT_THICKNESS,Kt._defaultThickness]]}get propertiesToUpdate(){return[[Ft.HIGHLIGHT_COLOR,this.color||Kt._defaultColor],[Ft.HIGHLIGHT_THICKNESS,f(this,Va)||Kt._defaultThickness],[Ft.HIGHLIGHT_FREE,f(this,fr)]]}onUpdatedColor(){var t,i;(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Js),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=f(this,KC))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",_(this,KC,new Hj({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(M(this,mt,f_).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,M(this,mt,f_).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){M(this,mt,qD).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(M(this,mt,Bf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?M(this,mt,qD).call(this):t&&(M(this,mt,Bf).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,a,o;const{drawLayer:i}=this.parent;let r;f(this,fr)?(t=(t-this.rotation+360)%360,r=M(s=Kt,Wa,_g).call(s,f(this,Xs).box,t)):r=M(a=Kt,Wa,_g).call(a,[this.x,this.y,this.width,this.height],t),i.updateProperties(f(this,Js),{bbox:r,root:{"data-main-rotation":t}}),i.updateProperties(f(this,Rr),{bbox:M(o=Kt,Wa,_g).call(o,f(this,vs).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();f(this,pv)&&(t.setAttribute("aria-label",f(this,pv)),t.setAttribute("role","mark")),f(this,fr)?t.classList.add("free"):this.div.addEventListener("keydown",M(this,mt,yW).bind(this),{signal:this._uiManager._signal});const i=_(this,Lh,document.createElement("div"));return t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=f(this,Nh),this.setDims(),H6(this,f(this,Lh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Rr),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Rr),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:M(this,mt,d_).call(this,!0);break;case 1:case 3:M(this,mt,d_).call(this,!1);break}}select(){var t;super.select(),f(this,Rr)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,Rr),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),f(this,Rr)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,Rr),{rootClass:{selected:!1}}),f(this,fr)||M(this,mt,d_).call(this,!1))}get _mustFixPosition(){return!f(this,fr)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(f(this,Js),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(f(this,Rr),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:r,x:s,y:a}){const{x:o,y:l,width:u,height:d}=r.getBoundingClientRect(),h=new AbortController,g=t.combinedSignal(h),v=b=>{h.abort(),M(this,Wa,BW).call(this,t,b)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",ti,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",no,{signal:g}),r.addEventListener("pointermove",M(this,Wa,CW).bind(this,t),{signal:g}),this._freeHighlight=new GD({x:s,y:a},[o,l,u,d],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,r){var C,E,x,I;let s=null;if(t instanceof Jj){const{data:{quadPoints:T,rect:R,rotation:P,id:D,color:Q,opacity:H,popupRef:k,richText:K,contentsObj:V,creationDate:q,modificationDate:X},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:dt.HIGHLIGHT,color:Array.from(Q),opacity:H,quadPoints:T,boxes:null,pageIndex:ne-1,rect:R.slice(0),rotation:P,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:K,comment:(V==null?void 0:V.str)||null,creationDate:q,modificationDate:X}}else if(t instanceof HQ){const{data:{inkLists:T,rect:R,rotation:P,id:D,color:Q,borderStyle:{rawWidth:H},popupRef:k,richText:K,contentsObj:V,creationDate:q,modificationDate:X},parent:{page:{pageNumber:ne}}}=t;s=t={annotationType:dt.HIGHLIGHT,color:Array.from(Q),thickness:H,inkLists:T,boxes:null,pageIndex:ne-1,rect:R.slice(0),rotation:P,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:K,comment:(V==null?void 0:V.str)||null,creationDate:q,modificationDate:X}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=t,d=await super.deserialize(t,i,r);d.color=Ve.makeHexColor(...a),d.opacity=u||1,l&&_(d,Va,t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,g]=d.pageDimensions,[v,b]=d.pageTranslation;if(o){const T=_(d,kl,[]);for(let R=0;R<o.length;R+=8)T.push({x:(o[R]-v)/h,y:1-(o[R+1]-b)/g,width:(o[R+2]-o[R])/h,height:(o[R+1]-o[R+5])/g});M(C=d,mt,zD).call(C),M(E=d,mt,Bf).call(E),d.rotate(d.rotation)}else if(l){_(d,fr,!0);const T=l[0],R={x:T[0]-v,y:g-(T[1]-b)},P=new GD(R,[0,0,h,g],1,f(d,Va)/2,!0,.001);for(let H=0,k=T.length;H<k;H+=2)R.x=T[H]-v,R.y=g-(T[H+1]-b),P.add(R);const{id:D,clipPathId:Q}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:P.toSVGPath()}},!0,!0);M(x=d,mt,c_).call(x,{highlightOutlines:P.getOutlines(),highlightId:D,clipPathId:Q}),M(I=d,mt,Bf).call(I),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=Sn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:i,opacity:this.opacity,thickness:f(this,Va),quadPoints:M(this,mt,wW).call(this),outlines:M(this,mt,bW).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!M(this,mt,EW).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};dv=new WeakMap,VC=new WeakMap,kl=new WeakMap,Nh=new WeakMap,KC=new WeakMap,vs=new WeakMap,GC=new WeakMap,zC=new WeakMap,Lh=new WeakMap,Xs=new WeakMap,Js=new WeakMap,fr=new WeakMap,fv=new WeakMap,hv=new WeakMap,Rr=new WeakMap,pv=new WeakMap,Va=new WeakMap,qC=new WeakMap,mt=new WeakSet,zD=function(){const t=new VD(f(this,kl),.001);_(this,Xs,t.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,Xs).box;const i=new VD(f(this,kl),.0025,.001,this._uiManager.direction==="ltr");_(this,vs,i.getOutlines());const{firstPoint:r}=f(this,Xs);_(this,fv,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:s}=f(this,vs);_(this,hv,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},c_=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var g,v;if(_(this,Xs,t),_(this,vs,t.getNewOutline(f(this,Va)/2+1.5,.0025)),i>=0)_(this,Js,i),_(this,Nh,r),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),_(this,Rr,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,vs).box,path:{d:f(this,vs).toSVGPath()}},!0));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,Js),{bbox:M(g=Kt,Wa,_g).call(g,f(this,Xs).box,(b-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,Rr),{bbox:M(v=Kt,Wa,_g).call(v,f(this,vs).box,b),path:{d:f(this,vs).toSVGPath()}})}const[a,o,l,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[b,C]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*C/b,this.height=u*b/C;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[b,C]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*C/b,this.height=u*b/C;break}}const{firstPoint:d}=t;_(this,fv,[(d[0]-a)/l,(d[1]-o)/u]);const{lastPoint:h}=f(this,vs);_(this,hv,[(h[0]-a)/l,(h[1]-o)/u])},gW=function(t){const i=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},r=this.color,s=this.opacity;this.addCommands({cmd:i.bind(this,t,Kt._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},mW=function(t){const i=f(this,Va),r=s=>{_(this,Va,s),M(this,mt,vW).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ft.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},vW=function(t){f(this,fr)&&(M(this,mt,c_).call(this,{highlightOutlines:f(this,Xs).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},qD=function(){f(this,Js)===null||!this.parent||(this.parent.drawLayer.remove(f(this,Js)),_(this,Js,null),this.parent.drawLayer.remove(f(this,Rr)),_(this,Rr,null))},Bf=function(t=this.parent){f(this,Js)===null&&({id:ai(this,Js)._,clipPathId:ai(this,Nh)._}=t.drawLayer.draw({bbox:f(this,Xs).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:f(this,fr)},path:{d:f(this,Xs).toSVGPath()}},!1,!0),_(this,Rr,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,fr)},bbox:f(this,vs).box,path:{d:f(this,vs).toSVGPath()}},f(this,fr))),f(this,Lh)&&(f(this,Lh).style.clipPath=f(this,Nh)))},Wa=new WeakSet,_g=function([t,i,r,s],a){switch(a){case 90:return[1-i-s,t,s,r];case 180:return[1-t-r,1-i-s,r,s];case 270:return[i,1-t-r,s,r]}return[t,i,r,s]},yW=function(t){Kt._keyboardManager.exec(this,t)},d_=function(t){if(!f(this,dv))return;const i=window.getSelection();t?i.setPosition(f(this,dv),f(this,VC)):i.setPosition(f(this,GC),f(this,zC))},f_=function(){return f(this,fr)?this.rotation:0},wW=function(){if(f(this,fr))return null;const[t,i]=this.pageDimensions,[r,s]=this.pageTranslation,a=f(this,kl),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:d,width:h,height:g}of a){const v=u*t+r,b=(1-d)*i+s;o[l]=o[l+4]=v,o[l+1]=o[l+3]=b,o[l+2]=o[l+6]=v+h*t,o[l+5]=o[l+7]=b-g*i,l+=8}return o},bW=function(t){return f(this,Xs).serialize(t,M(this,mt,f_).call(this))},CW=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},BW=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},EW=function(t){const{color:i}=this._initialData;return this.hasEditedComment||t.color.some((r,s)=>r!==i[s])},F(Kt,Wa),me(Kt,"_defaultColor",null),me(Kt,"_defaultOpacity",1),me(Kt,"_defaultThickness",12),me(Kt,"_type","highlight"),me(Kt,"_editorType",dt.HIGHLIGHT),me(Kt,"_freeHighlightId",-1),me(Kt,"_freeHighlight",null),me(Kt,"_freeHighlightClipId","");let sT=Kt;var Qh;class SW{constructor(){F(this,Qh,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){f(this,Qh)[e]=t}toSVGProperties(){const e=f(this,Qh);return _(this,Qh,Object.create(null)),{root:e}}reset(){_(this,Qh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){yn("Not implemented")}}Qh=new WeakMap;var Zs,gv,ji,kh,Oh,Rt,$D,jD,WD,aw,xW,h_,ow,Tg;const _t=class _t extends Sn{constructor(t){super(t);F(this,Rt);F(this,Zs,null);F(this,gv);me(this,"_colorPicker",null);me(this,"_drawId",null);_(this,gv,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(M(this,Rt,$D).call(this,t),M(this,Rt,aw).call(this))}static _mergeSVGProperties(t,i){const r=new Set(Object.keys(t));for(const[s,a]of Object.entries(i))r.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){yn("Not implemented")}static get typesMap(){yn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(f(_t,ji).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)t.push([r,i[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)t.push([r,i[s]]);return t}_updateProperty(t,i,r){const s=this._drawingOptions,a=s[i],o=l=>{var d;s.updateProperty(i,l);const u=f(this,Zs).updateProperty(i,l);u&&M(this,Rt,ow).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,_t._mergeSVGProperties(f(this,Zs).getPathResizingSVGProperties(M(this,Rt,h_).call(this)),{bbox:M(this,Rt,Tg).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,_t._mergeSVGProperties(f(this,Zs).getPathResizedSVGProperties(M(this,Rt,h_).call(this)),{bbox:M(this,Rt,Tg).call(this)}))}_onTranslating(t,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:M(this,Rt,Tg).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,_t._mergeSVGProperties(f(this,Zs).getPathTranslatedSVGProperties(M(this,Rt,h_).call(this),this.parentDimensions),{bbox:M(this,Rt,Tg).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,gv)&&(_(this,gv,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){M(this,Rt,WD).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(M(this,Rt,aw).call(this),M(this,Rt,ow).call(this,f(this,Zs).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),M(this,Rt,WD).call(this)):t&&(this._uiManager.addShouldRescale(this),M(this,Rt,aw).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,_t._mergeSVGProperties({bbox:M(this,Rt,Tg).call(this)},f(this,Zs).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&M(this,Rt,ow).call(this,f(this,Zs).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,i;this._isCopy&&(t=this.x,i=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");return r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,i),r}static createDrawerInstance(t,i,r,s,a){yn("Not implemented")}static startDrawing(t,i,r,s){var E;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:d}=s;if(Ir.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=t,{width:g,height:v}=a.getBoundingClientRect(),b=_(_t,kh,new AbortController),C=t.combinedSignal(b);if(Ir.setPointer(d,u),window.addEventListener("pointerup",x=>{Ir.isSamePointerIdOrRemove(x.pointerId)&&this._endDraw(x)},{signal:C}),window.addEventListener("pointercancel",x=>{Ir.isSamePointerIdOrRemove(x.pointerId)&&this._currentParent.endDrawingSession()},{signal:C}),window.addEventListener("pointerdown",x=>{Ir.isSamePointerType(x.pointerType)&&(Ir.initializeAndAddPointerId(x.pointerId),f(_t,ji).isCancellable()&&(f(_t,ji).removeLastElement(),f(_t,ji).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:C}),window.addEventListener("contextmenu",no,{signal:C}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:C}),a.addEventListener("touchmove",x=>{Ir.isSameTimeStamp(x.timeStamp)&&ti(x)},{signal:C}),t.toggleDrawing(),(E=i._editorUndoBar)==null||E.hide(),f(_t,ji)){t.drawLayer.updateProperties(this._currentDrawId,f(_t,ji).startNew(o,l,g,v,h));return}i.updateUIForDefaultProperties(this),_(_t,ji,this.createDrawerInstance(o,l,g,v,h)),_(_t,Oh,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(f(_t,Oh).toSVGProperties(),f(_t,ji).defaultSVGProperties),!0,!1)}static _drawMove(t){if(Ir.isSameTimeStamp(t.timeStamp),!f(_t,ji))return;const{offsetX:i,offsetY:r,pointerId:s}=t;if(Ir.isSamePointerId(s)){if(Ir.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(_t,ji).add(i,r)),Ir.setTimeStamp(t.timeStamp),ti(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,_(_t,ji,null),_(_t,Oh,null),Ir.clearPointerType(),Ir.clearTimeStamp()),f(_t,kh)&&(f(_t,kh).abort(),_(_t,kh,null),Ir.clearPointerIds())}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,f(_t,ji).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=f(_t,ji),s=this._currentDrawId,a=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:Ft.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(Ft.DRAW_STEP),!f(_t,ji).isEmpty()){const{pageDimensions:[r,s],scale:a}=i,o=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(_t,ji).getOutlines(r*a,s*a,a,this._INNER_MARGIN),drawingOptions:f(_t,Oh),mustBeCommitted:!t});return this._cleanup(!0),o}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,r,s,a,o){yn("Not implemented")}static async deserialize(t,i,r){var h,g;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=i.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),d=await super.deserialize(t,i,r);return d.createDrawingOptions(t),M(h=d,Rt,$D).call(h,{drawOutlines:u}),M(g=d,Rt,aw).call(g),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[i,r]=this.pageTranslation,[s,a]=this.pageDimensions;return f(this,Zs).serialize([i,r,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Zs=new WeakMap,gv=new WeakMap,ji=new WeakMap,kh=new WeakMap,Oh=new WeakMap,Rt=new WeakSet,$D=function({drawOutlines:t,drawId:i,drawingOptions:r}){_(this,Zs,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=M(this,Rt,jD).call(this,t,this.parent),M(this,Rt,ow).call(this,t.box)},jD=function(t,i){const{id:r}=i.drawLayer.draw(_t._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},WD=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},aw=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=M(this,Rt,jD).call(this,f(this,Zs),t)}},xW=function([t,i,r,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[i,1-t,r*(o/a),s*(a/o)];case 180:return[1-t,1-i,r,s];case 270:return[1-i,t,r*(o/a),s*(a/o)];default:return[t,i,r,s]}},h_=function(){const{x:t,y:i,width:r,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-i,t,r*(a/o),s*(o/a)];case 180:return[1-t,1-i,r,s];case 270:return[i,1-t,r*(a/o),s*(o/a)];default:return[t,i,r,s]}},ow=function(t){[this.x,this.y,this.width,this.height]=M(this,Rt,xW).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Tg=function(){const{x:t,y:i,width:r,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-i-s,t,s,r];case 2:return[1-t-r,1-i-s,r,s];case 3:return[i,1-t-r,s,r];case 4:return[t,i-r*(l/u),s*(u/l),r*(l/u)];case 5:return[1-i,t,r*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-i,s*(u/l),r*(l/u)];case 7:return[i-r*(l/u),1-t-s*(u/l),r*(l/u),s*(u/l)];case 8:return[t-r,i-s,r,s];case 9:return[1-i,t-r,s,r];case 10:return[1-t,1-i,r,s];case 11:return[i-s,1-t,s,r];case 12:return[t-s*(u/l),i,s*(u/l),r*(l/u)];case 13:return[1-i-r*(l/u),t-s*(u/l),r*(l/u),s*(u/l)];case 14:return[1-t,1-i-r*(l/u),s*(u/l),r*(l/u)];case 15:return[i,1-t,r*(l/u),s*(u/l)];default:return[t,i,r,s]}},me(_t,"_currentDrawId",-1),me(_t,"_currentParent",null),F(_t,ji,null),F(_t,kh,null),F(_t,Oh,null),me(_t,"_INNER_MARGIN",3);let aT=_t;var gA,Wi,Yi,Hh,mv,zr,hr,Ka,Vh,Kh,Gh,vv,p_;class rfe{constructor(e,t,i,r,s,a){F(this,vv);F(this,gA,new Float64Array(6));F(this,Wi);F(this,Yi);F(this,Hh);F(this,mv);F(this,zr);F(this,hr,"");F(this,Ka,0);F(this,Vh,new GB);F(this,Kh);F(this,Gh);_(this,Kh,i),_(this,Gh,r),_(this,Hh,s),_(this,mv,a),[e,t]=M(this,vv,p_).call(this,e,t);const o=_(this,Wi,[NaN,NaN,NaN,NaN,e,t]);_(this,zr,[e,t]),_(this,Yi,[{line:o,points:f(this,zr)}]),f(this,gA).set(o,0)}updateProperty(e,t){e==="stroke-width"&&_(this,mv,t)}isEmpty(){return!f(this,Yi)||f(this,Yi).length===0}isCancellable(){return f(this,zr).length<=10}add(e,t){[e,t]=M(this,vv,p_).call(this,e,t);const[i,r,s,a]=f(this,gA).subarray(2,6),o=e-s,l=t-a;return Math.hypot(f(this,Kh)*o,f(this,Gh)*l)<=2?null:(f(this,zr).push(e,t),isNaN(i)?(f(this,gA).set([s,a,e,t],2),f(this,Wi).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(f(this,gA)[0])&&f(this,Wi).splice(6,6),f(this,gA).set([i,r,s,a,e,t],0),f(this,Wi).push(...Qe.createBezierPoints(i,r,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(f(this,zr).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){_(this,Kh,i),_(this,Gh,r),_(this,Hh,s),[e,t]=M(this,vv,p_).call(this,e,t);const a=_(this,Wi,[NaN,NaN,NaN,NaN,e,t]);_(this,zr,[e,t]);const o=f(this,Yi).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),f(this,Yi).push({line:a,points:f(this,zr)}),f(this,gA).set(a,0),_(this,Ka,0),this.toSVGPath(),null}getLastElement(){return f(this,Yi).at(-1)}setLastElement(e){return f(this,Yi)?(f(this,Yi).push(e),_(this,Wi,e.line),_(this,zr,e.points),_(this,Ka,0),{path:{d:this.toSVGPath()}}):f(this,Vh).setLastElement(e)}removeLastElement(){if(!f(this,Yi))return f(this,Vh).removeLastElement();f(this,Yi).pop(),_(this,hr,"");for(let e=0,t=f(this,Yi).length;e<t;e++){const{line:i,points:r}=f(this,Yi)[e];_(this,Wi,i),_(this,zr,r),_(this,Ka,0),this.toSVGPath()}return{path:{d:f(this,hr)}}}toSVGPath(){const e=Qe.svgRound(f(this,Wi)[4]),t=Qe.svgRound(f(this,Wi)[5]);if(f(this,zr).length===2)return _(this,hr,`${f(this,hr)} M ${e} ${t} Z`),f(this,hr);if(f(this,zr).length<=6){const r=f(this,hr).lastIndexOf("M");_(this,hr,`${f(this,hr).slice(0,r)} M ${e} ${t}`),_(this,Ka,6)}if(f(this,zr).length===4){const r=Qe.svgRound(f(this,Wi)[10]),s=Qe.svgRound(f(this,Wi)[11]);return _(this,hr,`${f(this,hr)} L ${r} ${s}`),_(this,Ka,12),f(this,hr)}const i=[];f(this,Ka)===0&&(i.push(`M ${e} ${t}`),_(this,Ka,6));for(let r=f(this,Ka),s=f(this,Wi).length;r<s;r+=6){const[a,o,l,u,d,h]=f(this,Wi).slice(r,r+6).map(Qe.svgRound);i.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}return _(this,hr,f(this,hr)+i.join(" ")),_(this,Ka,f(this,Wi).length),f(this,hr)}getOutlines(e,t,i,r){const s=f(this,Yi).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),f(this,Vh).build(f(this,Yi),e,t,i,f(this,Hh),f(this,mv),r),_(this,gA,null),_(this,Wi,null),_(this,Yi,null),_(this,hr,null),f(this,Vh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}gA=new WeakMap,Wi=new WeakMap,Yi=new WeakMap,Hh=new WeakMap,mv=new WeakMap,zr=new WeakMap,hr=new WeakMap,Ka=new WeakMap,Vh=new WeakMap,Kh=new WeakMap,Gh=new WeakMap,vv=new WeakSet,p_=function(e,t){return Qe._normalizePoint(e,t,f(this,Kh),f(this,Gh),f(this,Hh))};var qr,$C,jC,ea,mA,vA,yv,wv,zh,wr,sl,_W,TW,IW;class GB extends Qe{constructor(){super(...arguments);F(this,wr);F(this,qr);F(this,$C,0);F(this,jC);F(this,ea);F(this,mA);F(this,vA);F(this,yv);F(this,wv);F(this,zh)}build(t,i,r,s,a,o,l){_(this,mA,i),_(this,vA,r),_(this,yv,s),_(this,wv,a),_(this,zh,o),_(this,jC,l??0),_(this,ea,t),M(this,wr,TW).call(this)}get thickness(){return f(this,zh)}setLastElement(t){return f(this,ea).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,ea).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of f(this,ea)){if(t.push(`M${Qe.svgRound(i[4])} ${Qe.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12&&isNaN(i[6])){t.push(`L${Qe.svgRound(i[10])} ${Qe.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[a,o,l,u,d,h]=i.subarray(r,r+6).map(Qe.svgRound);t.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,i,r,s],a){const o=[],l=[],[u,d,h,g]=M(this,wr,_W).call(this);let v,b,C,E,x,I,T,R,P;switch(f(this,wv)){case 0:P=Qe._rescale,v=t,b=i+s,C=r,E=-s,x=t+u*r,I=i+(1-d-g)*s,T=t+(u+h)*r,R=i+(1-d)*s;break;case 90:P=Qe._rescaleAndSwap,v=t,b=i,C=r,E=s,x=t+d*r,I=i+u*s,T=t+(d+g)*r,R=i+(u+h)*s;break;case 180:P=Qe._rescale,v=t+r,b=i,C=-r,E=s,x=t+(1-u-h)*r,I=i+d*s,T=t+(1-u)*r,R=i+(d+g)*s;break;case 270:P=Qe._rescaleAndSwap,v=t+r,b=i+s,C=-r,E=-s,x=t+(1-d-g)*r,I=i+(1-u-h)*s,T=t+(1-d)*r,R=i+(1-u)*s;break}for(const{line:D,points:Q}of f(this,ea))o.push(P(D,v,b,C,E,a?new Array(D.length):null)),l.push(P(Q,v,b,C,E,a?new Array(Q.length):null));return{lines:o,points:l,rect:[x,I,T,R]}}static deserialize(t,i,r,s,a,{paths:{lines:o,points:l},rotation:u,thickness:d}){const h=[];let g,v,b,C,E;switch(u){case 0:E=Qe._rescale,g=-t/r,v=i/s+1,b=1/r,C=-1/s;break;case 90:E=Qe._rescaleAndSwap,g=-i/s,v=-t/r,b=1/s,C=1/r;break;case 180:E=Qe._rescale,g=t/r+1,v=-i/s,b=-1/r,C=1/s;break;case 270:E=Qe._rescaleAndSwap,g=i/s+1,v=t/r+1,b=-1/s,C=-1/r;break}if(!o){o=[];for(const I of l){const T=I.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1],NaN,NaN,NaN,NaN,I[2],I[3]]));continue}const R=new Float32Array(3*(T-2));o.push(R);let[P,D,Q,H]=I.subarray(0,4);R.set([NaN,NaN,NaN,NaN,P,D],0);for(let k=4;k<T;k+=2){const K=I[k],V=I[k+1];R.set(Qe.createBezierPoints(P,D,Q,H,K,V),(k-2)*3),[P,D,Q,H]=[Q,H,K,V]}}}for(let I=0,T=o.length;I<T;I++)h.push({line:E(o[I].map(R=>R??NaN),g,v,b,C),points:E(l[I].map(R=>R??NaN),g,v,b,C)});const x=new this.prototype.constructor;return x.build(h,r,s,1,u,d,a),x}get box(){return f(this,qr)}updateProperty(t,i){return t==="stroke-width"?M(this,wr,IW).call(this,i):null}updateParentDimensions([t,i],r){const[s,a]=M(this,wr,sl).call(this);_(this,mA,t),_(this,vA,i),_(this,yv,r);const[o,l]=M(this,wr,sl).call(this),u=o-s,d=l-a,h=f(this,qr);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return _(this,$C,t),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,qr).map(Qe.svgRound).join(" ")}get defaultProperties(){const[t,i]=f(this,qr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=f(this,qr);let r=0,s=0,a=0,o=0,l=0,u=0;switch(f(this,$C)){case 90:s=i/t,a=-t/i,l=t;break;case 180:r=-1,o=-1,l=t,u=i;break;case 270:s=-i/t,a=t/i,u=i;break;default:return""}return`matrix(${r} ${s} ${a} ${o} ${Qe.svgRound(l)} ${Qe.svgRound(u)})`}getPathResizingSVGProperties([t,i,r,s]){const[a,o]=M(this,wr,sl).call(this),[l,u,d,h]=f(this,qr);if(Math.abs(d-a)<=Qe.PRECISION||Math.abs(h-o)<=Qe.PRECISION){const E=t+r/2-(l+d/2),x=i+s/2-(u+h/2);return{path:{"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`,transform:`${this.rotationTransform} translate(${E} ${x})`}}}const g=(r-2*a)/(d-2*a),v=(s-2*o)/(h-2*o),b=d/r,C=h/s;return{path:{"transform-origin":`${Qe.svgRound(l)} ${Qe.svgRound(u)}`,transform:`${this.rotationTransform} scale(${b} ${C}) translate(${Qe.svgRound(a)} ${Qe.svgRound(o)}) scale(${g} ${v}) translate(${Qe.svgRound(-a)} ${Qe.svgRound(-o)})`}}}getPathResizedSVGProperties([t,i,r,s]){const[a,o]=M(this,wr,sl).call(this),l=f(this,qr),[u,d,h,g]=l;if(l[0]=t,l[1]=i,l[2]=r,l[3]=s,Math.abs(h-a)<=Qe.PRECISION||Math.abs(g-o)<=Qe.PRECISION){const x=t+r/2-(u+h/2),I=i+s/2-(d+g/2);for(const{line:T,points:R}of f(this,ea))Qe._translate(T,x,I,T),Qe._translate(R,x,I,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(r-2*a)/(h-2*a),b=(s-2*o)/(g-2*o),C=-v*(u+a)+t+a,E=-b*(d+o)+i+o;if(v!==1||b!==1||C!==0||E!==0)for(const{line:x,points:I}of f(this,ea))Qe._rescale(x,C,E,v,b,x),Qe._rescale(I,C,E,v,b,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],r){const[s,a]=r,o=f(this,qr),l=t-o[0],u=i-o[1];if(f(this,mA)===s&&f(this,vA)===a)for(const{line:d,points:h}of f(this,ea))Qe._translate(d,l,u,d),Qe._translate(h,l,u,h);else{const d=f(this,mA)/s,h=f(this,vA)/a;_(this,mA,s),_(this,vA,a);for(const{line:g,points:v}of f(this,ea))Qe._rescale(g,l,u,d,h,g),Qe._rescale(v,l,u,d,h,v);o[2]*=d,o[3]*=h}return o[0]=t,o[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Qe.svgRound(t)} ${Qe.svgRound(i)}`}}}get defaultSVGProperties(){const t=f(this,qr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Qe.svgRound(t[0])} ${Qe.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}qr=new WeakMap,$C=new WeakMap,jC=new WeakMap,ea=new WeakMap,mA=new WeakMap,vA=new WeakMap,yv=new WeakMap,wv=new WeakMap,zh=new WeakMap,wr=new WeakSet,sl=function(t=f(this,zh)){const i=f(this,jC)+t/2*f(this,yv);return f(this,wv)%180===0?[i/f(this,mA),i/f(this,vA)]:[i/f(this,vA),i/f(this,mA)]},_W=function(){const[t,i,r,s]=f(this,qr),[a,o]=M(this,wr,sl).call(this,0);return[t+a,i+o,r-2*a,s-2*o]},TW=function(){const t=_(this,qr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of f(this,ea)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6)Ve.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[d,h,g,v,b,C]=s.subarray(l,l+6);Ve.bezierBoundingBox(a,o,d,h,g,v,b,C,t),a=b,o=C}}const[i,r]=M(this,wr,sl).call(this);t[0]=Xr(t[0]-i,0,1),t[1]=Xr(t[1]-r,0,1),t[2]=Xr(t[2]+i,0,1),t[3]=Xr(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},IW=function(t){const[i,r]=M(this,wr,sl).call(this);_(this,zh,t);const[s,a]=M(this,wr,sl).call(this),[o,l]=[s-i,a-r],u=f(this,qr);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};class V1 extends SW{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Sn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new V1(this._viewParameters);return e.updateAll(this),e}}var S1,FW;const Kg=class Kg extends aT{constructor(t){super({...t,name:"inkEditor"});F(this,S1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,i){Sn.initialize(t,i),this._defaultDrawingOptions=new V1(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return lt(this,"typesMap",new Map([[Ft.INK_THICKNESS,"stroke-width"],[Ft.INK_COLOR,"stroke"],[Ft.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,r,s,a){return new rfe(t,i,r,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,r,s,a,o){return GB.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){let s=null;if(t instanceof HQ){const{data:{inkLists:o,rect:l,rotation:u,id:d,color:h,opacity:g,borderStyle:{rawWidth:v},popupRef:b,richText:C,contentsObj:E,creationDate:x,modificationDate:I},parent:{page:{pageNumber:T}}}=t;s=t={annotationType:dt.INK,color:Array.from(h),thickness:v,opacity:g,paths:{points:o},boxes:null,pageIndex:T-1,rect:l.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:b,richText:C,comment:(E==null?void 0:E.str)||null,creationDate:x,modificationDate:I}}const a=await super.deserialize(t,i,r);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new nT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ft.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:r}){this._drawingOptions=Kg.getDefaultDrawingOptions({stroke:Ve.makeHexColor(...t),"stroke-width":i,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:Sn._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:i,points:r}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!M(this,S1,FW).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:i,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};S1=new WeakSet,FW=function(t){const{color:i,thickness:r,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==i[l])||t.thickness!==r||t.opacity!==s||t.pageIndex!==a},me(Kg,"_type","ink"),me(Kg,"_editorType",dt.INK),me(Kg,"_defaultDrawingOptions",null);let YD=Kg;class XD extends GB{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const GS=8,_0=3;var V0,qh,zt,JD,Eo,UW,MW,ZD,g_,PW,RW,DW,eN,tN,NW;let Ig=(V0=class{static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,a,o,l){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,g=d.font=`${i} ${r} ${h}px ${t}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:b,actualBoundingBoxAscent:C,actualBoundingBoxDescent:E,fontBoundingBoxAscent:x,fontBoundingBoxDescent:I,width:T}=d.measureText(e),R=1.5,P=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||0,T)*R),D=Math.ceil(Math.max(Math.abs(C)+Math.abs(E)||h,Math.abs(x)+Math.abs(I)||h)*R);u=new OffscreenCanvas(P,D),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,P,D),d.fillStyle="black",d.fillText(e,P*(R-1)/2,D*(3-R)/2);const Q=M(this,zt,eN).call(this,d.getImageData(0,0,P,D).data),H=M(this,zt,DW).call(this,Q),k=M(this,zt,tN).call(this,H),K=M(this,zt,ZD).call(this,Q,P,D,k);return this.processDrawnLines({lines:{curves:K,width:P,height:D},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[a,o,l]=M(this,zt,NW).call(this,e),[u,d]=M(this,zt,RW).call(this,a,o,l,Math.hypot(o,l)*f(this,qh).sigmaSFactor,f(this,qh).sigmaR,f(this,qh).kernelSize),h=M(this,zt,tN).call(this,d),g=M(this,zt,ZD).call(this,u,o,l,h);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:a,areContours:o}){r%180!==0&&([t,i]=[i,t]);const{curves:l,width:u,height:d}=e,h=e.thickness??0,g=[],v=Math.min(t/u,i/d),b=v/t,C=v/i,E=[];for(const{points:I}of l){const T=a?M(this,zt,PW).call(this,I):I;if(!T)continue;E.push(T);const R=T.length,P=new Float32Array(R),D=new Float32Array(3*(R===2?2:R-2));if(g.push({line:D,points:P}),R===2){P[0]=T[0]*b,P[1]=T[1]*C,D.set([NaN,NaN,NaN,NaN,P[0],P[1]],0);continue}let[Q,H,k,K]=T;Q*=b,H*=C,k*=b,K*=C,P.set([Q,H,k,K],0),D.set([NaN,NaN,NaN,NaN,Q,H],0);for(let V=4;V<R;V+=2){const q=P[V]=T[V]*b,X=P[V+1]=T[V+1]*C;D.set(Qe.createBezierPoints(Q,H,k,K,q,X),(V-2)*3),[Q,H,k,K]=[k,K,q,X]}}if(g.length===0)return null;const x=o?new XD:new GB;return x.build(g,t,i,1,r,o?0:h,s),{outline:x,newCurves:E,areContours:o,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let a=1/0,o=-1/0,l=0;for(const T of e){l+=T.length;for(let R=2,P=T.length;R<P;R++){const D=T[R]-T[R-2];a=Math.min(a,D),o=Math.max(o,D)}}let u;a>=-128&&o<=127?u=Int8Array:a>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=GS+_0*d,g=new Uint32Array(h);let v=0;g[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*u.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=r,g[v++]=s,g[v++]=t?0:1,g[v++]=Math.max(0,Math.floor(i??0)),g[v++]=d,g[v++]=u.BYTES_PER_ELEMENT;for(const T of e)g[v++]=T.length-2,g[v++]=T[0],g[v++]=T[1];const b=new CompressionStream("deflate-raw"),C=b.writable.getWriter();await C.ready,C.write(g);const E=u.prototype.constructor;for(const T of e){const R=new E(T.length-2);for(let P=2,D=T.length;P<D;P++)R[P-2]=T[P]-T[P-2];C.write(R)}C.close();const x=await new Response(b.readable).arrayBuffer(),I=new Uint8Array(x);return M6(I)}static async decompressSignature(e){try{const t=wce(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const T of i)a||(a=new Uint8Array(new Uint32Array(T.buffer,0,4)[0])),a.set(T,o),o+=T.length;const l=new Uint32Array(a.buffer,0,a.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=l[2],h=l[3],g=l[4]===0,v=l[5],b=l[6],C=l[7],E=[],x=(GS+_0*b)*Uint32Array.BYTES_PER_ELEMENT;let I;switch(C){case Int8Array.BYTES_PER_ELEMENT:I=new Int8Array(a.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:I=new Int16Array(a.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:I=new Int32Array(a.buffer,x);break}o=0;for(let T=0;T<b;T++){const R=l[_0*T+GS],P=new Float32Array(R+2);E.push(P);for(let D=0;D<_0-1;D++)P[D]=l[_0*T+GS+D+1];for(let D=0;D<R;D++)P[D+2]=P[D]+I[o++]}return{areContours:g,thickness:v,outlines:E,width:d,height:h}}catch(t){return At(`decompressSignature: ${t}`),null}}},qh=new WeakMap,zt=new WeakSet,JD=function(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r},Eo=new WeakMap,UW=function(e,t,i,r,s,a,o){const l=M(this,zt,JD).call(this,i,r,s,a);for(let u=0;u<8;u++){const d=(-u+l-o+16)%8,h=f(this,Eo)[2*d],g=f(this,Eo)[2*d+1];if(e[(i+h)*t+(r+g)]!==0)return d}return-1},MW=function(e,t,i,r,s,a,o){const l=M(this,zt,JD).call(this,i,r,s,a);for(let u=0;u<8;u++){const d=(u+l+o+16)%8,h=f(this,Eo)[2*d],g=f(this,Eo)[2*d+1];if(e[(i+h)*t+(r+g)]!==0)return d}return-1},ZD=function(e,t,i,r){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=r?1:0;for(let d=1;d<i-1;d++)a[d*t]=a[d*t+t-1]=0;for(let d=0;d<t;d++)a[d]=a[t*i-1-d]=0;let o=1,l;const u=[];for(let d=1;d<i-1;d++){l=1;for(let h=1;h<t-1;h++){const g=d*t+h,v=a[g];if(v===0)continue;let b=d,C=h;if(v===1&&a[g-1]===0)o+=1,C-=1;else if(v>=1&&a[g+1]===0)o+=1,C+=1,v>1&&(l=v);else{v!==1&&(l=Math.abs(v));continue}const E=[h,d],x=C===h+1,I={isHole:x,points:E,id:o,parent:0};u.push(I);let T;for(const V of u)if(V.id===l){T=V;break}T?T.isHole?I.parent=x?T.parent:l:I.parent=x?l:T.parent:I.parent=x?l:0;const R=M(this,zt,UW).call(this,a,t,d,h,b,C,0);if(R===-1){a[g]=-o,a[g]!==1&&(l=Math.abs(a[g]));continue}let P=f(this,Eo)[2*R],D=f(this,Eo)[2*R+1];const Q=d+P,H=h+D;b=Q,C=H;let k=d,K=h;for(;;){const V=M(this,zt,MW).call(this,a,t,k,K,b,C,1);P=f(this,Eo)[2*V],D=f(this,Eo)[2*V+1];const q=k+P,X=K+D;E.push(X,q);const ne=k*t+K;if(a[ne+1]===0?a[ne]=-o:a[ne]===1&&(a[ne]=o),q===d&&X===h&&k===Q&&K===H){a[g]!==1&&(l=Math.abs(a[g]));break}else b=k,C=K,k=q,K=X}}}return u},g_=function(e,t,i,r){if(i-t<=4){for(let Q=t;Q<i-2;Q+=2)r.push(e[Q],e[Q+1]);return}const s=e[t],a=e[t+1],o=e[i-4]-s,l=e[i-3]-a,u=Math.hypot(o,l),d=o/u,h=l/u,g=d*a-h*s,v=l/o,b=1/u,C=Math.atan(v),E=Math.cos(C),x=Math.sin(C),I=b*(Math.abs(E)+Math.abs(x)),T=b*(1-I+I**2),R=Math.max(Math.atan(Math.abs(x+E)*T),Math.atan(Math.abs(x-E)*T));let P=0,D=t;for(let Q=t+2;Q<i-2;Q+=2){const H=Math.abs(g-d*e[Q+1]+h*e[Q]);H>P&&(D=Q,P=H)}P>(u*R)**2?(M(this,zt,g_).call(this,e,t,D+2,r),M(this,zt,g_).call(this,e,D,i,r)):r.push(s,a)},PW=function(e){const t=[],i=e.length;return M(this,zt,g_).call(this,e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t},RW=function(e,t,i,r,s,a){const o=new Float32Array(a**2),l=-2*r**2,u=a>>1;for(let C=0;C<a;C++){const E=(C-u)**2;for(let x=0;x<a;x++)o[C*a+x]=Math.exp((E+(x-u)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let C=0;C<256;C++)d[C]=Math.exp(C**2/h);const g=e.length,v=new Uint8Array(g),b=new Uint32Array(256);for(let C=0;C<i;C++)for(let E=0;E<t;E++){const x=C*t+E,I=e[x];let T=0,R=0;for(let D=0;D<a;D++){const Q=C+D-u;if(!(Q<0||Q>=i))for(let H=0;H<a;H++){const k=E+H-u;if(k<0||k>=t)continue;const K=e[Q*t+k],V=o[D*a+H]*d[Math.abs(K-I)];T+=K*V,R+=V}}const P=v[x]=Math.round(T/R);b[P]++}return[v,b]},DW=function(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t},eN=function(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let o=0,l=i.length;o<l;o++){const u=i[o]=e[o<<2];r=Math.max(r,u),s=Math.min(s,u)}const a=255/(r-s);for(let o=0,l=i.length;o<l;o++)i[o]=(i[o]-s)*a;return i},tN=function(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>i&&(t-a>r&&(r=t-a,o=t-1),i=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},NW=function(e){const t=e,{width:i,height:r}=e,{maxDim:s}=f(this,qh);let a=i,o=r;if(i>s||r>s){let g=i,v=r,b=Math.log2(Math.max(i,r)/s);const C=Math.floor(b);b=b===C?C-1:C;for(let x=0;x<b;x++){a=Math.ceil(g/2),o=Math.ceil(v/2);const I=new OffscreenCanvas(a,o);I.getContext("2d").drawImage(e,0,0,g,v,0,0,a,o),g=a,v=o,e!==t&&e.close(),e=I.transferToImageBitmap()}const E=Math.min(s/a,s/o);a=Math.round(a*E),o=Math.round(o*E)}const u=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,a,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=u.getImageData(0,0,a,o).data;return[M(this,zt,eN).call(this,d),a,o]},F(V0,zt),F(V0,qh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),F(V0,Eo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])),V0);class VQ extends SW{constructor(){super(),super.updateProperties({fill:Sn._defaultLineColor,"stroke-width":0})}clone(){const e=new VQ;return e.updateAll(this),e}}class KQ extends V1{constructor(e){super(e),super.updateProperties({stroke:Sn._defaultLineColor,"stroke-width":1})}clone(){const e=new KQ(this._viewParameters);return e.updateAll(this),e}}var rd,yA,sd,$h;const Ls=class Ls extends aT{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});F(this,rd,!1);F(this,yA,null);F(this,sd,null);F(this,$h,null);this._willKeepAspectRatio=!0,_(this,sd,t.signatureData||null),_(this,yA,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,i){Sn.initialize(t,i),this._defaultDrawingOptions=new VQ,this._defaultDrawnSignatureOptions=new KQ(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return lt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,yA)}}static computeTelemetryFinalData(t){const i=t.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,i=this.y),super.render(),this._drawId===null)if(f(this,sd)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:u,heightInPage:d}=f(this,sd),{rawDims:{pageWidth:h,pageHeight:g},rotation:v}=this.parent.viewport,b=Ig.processDrawnLines({lines:s,pageWidth:h,pageHeight:g,rotation:v,innerMargin:Ls._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(b,d,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:f(this,yA)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,i)),this.div}setUuid(t){_(this,$h,t),this.addEditToolbar()}getUuid(){return f(this,$h)}get description(){return f(this,yA)}set description(t){_(this,yA,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:i,thickness:r,width:s,height:a}=f(this,sd),o=Math.max(s,a),l=Ig.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:r,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,i,r,s){const{x:a,y:o}=this,{outline:l}=_(this,sd,t);_(this,rd,l instanceof XD),this.description=r;let u;f(this,rd)?u=Ls.getDefaultDrawingOptions():(u=Ls._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,d]=this.pageDimensions;let h=i/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Ig.process(t,i,r,s,Ls._INNER_MARGIN)}getFromText(t,i){const{rawDims:{pageWidth:r,pageHeight:s},rotation:a}=this.parent.viewport;return Ig.extractContoursFromText(t,i,r,s,a,Ls._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return Ig.processDrawnLines({lines:t,pageWidth:i,pageHeight:r,rotation:s,innerMargin:Ls._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:i}){t?this._drawingOptions=Ls.getDefaultDrawingOptions():(this._drawingOptions=Ls._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:f(this,rd),color:[0,0,0],thickness:f(this,rd)?0:s});return this.addComment(a),t?(a.paths={lines:i,points:r},a.uuid=f(this,$h),a.isCopy=!0):a.lines=i,f(this,yA)&&(a.accessibilityData={type:"Figure",alt:f(this,yA)}),a}static deserializeDraw(t,i,r,s,a,o){return o.areContours?XD.deserialize(t,i,r,s,a,o):GB.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){var a;const s=await super.deserialize(t,i,r);return _(s,rd,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",_(s,$h,t.uuid),s}};rd=new WeakMap,yA=new WeakMap,sd=new WeakMap,$h=new WeakMap,me(Ls,"_type","signature"),me(Ls,"_editorType",dt.SIGNATURE),me(Ls,"_defaultDrawingOptions",null);let nN=Ls;var Nn,Xi,ad,Ol,od,bv,Hl,jh,wA,ta,Cv,Dt,Aw,lw,m_,v_,y_,rN,w_,LW;class iN extends Sn{constructor(t){super({...t,name:"stampEditor"});F(this,Dt);F(this,Nn,null);F(this,Xi,null);F(this,ad,null);F(this,Ol,null);F(this,od,null);F(this,bv,"");F(this,Hl,null);F(this,jh,!1);F(this,wA,null);F(this,ta,!1);F(this,Cv,!1);_(this,Ol,t.bitmapUrl),_(this,od,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,i){Sn.initialize(t,i)}static isHandlingMimeForPasting(t){return HR.includes(t)}static paste(t,i){i.pasteEditor({mode:dt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;f(this,Xi)&&(_(this,Nn,null),this._uiManager.imageManager.deleteId(f(this,Xi)),(t=f(this,Hl))==null||t.remove(),_(this,Hl,null),f(this,wA)&&(clearTimeout(f(this,wA)),_(this,wA,null))),super.remove()}rebuild(){if(!this.parent){f(this,Xi)&&M(this,Dt,m_).call(this);return}super.rebuild(),this.div!==null&&(f(this,Xi)&&f(this,Hl)===null&&M(this,Dt,m_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(f(this,ad)||f(this,Nn)||f(this,Ol)||f(this,od)||f(this,Xi)||f(this,jh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;return this._isCopy&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),f(this,jh)||(f(this,Nn)?M(this,Dt,v_).call(this):M(this,Dt,m_).call(this)),this._isCopy&&this._moveAfterPaste(t,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,i){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(_(this,Xi,r),s&&_(this,Nn,s),_(this,jh,!1),M(this,Dt,v_).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,wA)!==null&&clearTimeout(f(this,wA)),_(this,wA,setTimeout(()=>{_(this,wA,null),M(this,Dt,rN).call(this)},200))}copyCanvas(t,i,r=!1){t||(t=224);const{width:s,height:a}=f(this,Nn),o=new mp;let l=f(this,Nn),u=s,d=a,h=null;if(i){if(s>i||a>i){const Q=Math.min(i/s,i/a);u=Math.floor(s*Q),d=Math.floor(a*Q)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*o.sx),b=h.height=Math.ceil(d*o.sy);f(this,ta)||(l=M(this,Dt,y_).call(this,v,b));const C=h.getContext("2d");C.filter=this._uiManager.hcmFilter;let E="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":xce.isDarkMode&&(E="#8f8f9d",x="#42414d");const I=15,T=I*o.sx,R=I*o.sy,P=new OffscreenCanvas(T*2,R*2),D=P.getContext("2d");D.fillStyle=E,D.fillRect(0,0,T*2,R*2),D.fillStyle=x,D.fillRect(0,0,T,R),D.fillRect(T,R,T,R),C.fillStyle=C.createPattern(P,"repeat"),C.fillRect(0,0,v,b),C.drawImage(l,0,0,l.width,l.height,0,0,v,b)}let g=null;if(r){let v,b;if(o.symmetric&&l.width<t&&l.height<t)v=l.width,b=l.height;else if(l=f(this,Nn),s>t||a>t){const x=Math.min(t/s,t/a);v=Math.floor(s*x),b=Math.floor(a*x),f(this,ta)||(l=M(this,Dt,y_).call(this,v,b))}const E=new OffscreenCanvas(v,b).getContext("2d",{willReadFrequently:!0});E.drawImage(l,0,0,l.width,l.height,0,0,v,b),g={width:v,height:b,data:E.getImageData(0,0,v,b).data}}return{canvas:h,width:u,height:d,imageData:g}}static async deserialize(t,i,r){var E;let s=null,a=!1;if(t instanceof Zj){const{data:{rect:x,rotation:I,id:T,structParent:R,popupRef:P,richText:D,contentsObj:Q,creationDate:H,modificationDate:k},container:K,parent:{page:{pageNumber:V}},canvas:q}=t;let X,ne;q?(delete t.canvas,{id:X,bitmap:ne}=r.imageManager.getFromCanvas(K.id,q),q.remove()):(a=!0,t._hasNoCanvas=!0);const ge=((E=await i._structTree.getAriaAttributes(`${Ng}${T}`))==null?void 0:E.get("aria-label"))||"";s=t={annotationType:dt.STAMP,bitmapId:X,bitmap:ne,pageIndex:V-1,rect:x.slice(0),rotation:I,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:ge},isSvg:!1,structParent:R,popupRef:P,richText:D,comment:(Q==null?void 0:Q.str)||null,creationDate:H,modificationDate:k}}const o=await super.deserialize(t,i,r),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:g,accessibilityData:v}=t;a?(r.addMissingCanvas(t.id,o),_(o,jh,!0)):h&&r.imageManager.isValidId(h)?(_(o,Xi,h),u&&_(o,Nn,u)):_(o,Ol,d),_(o,ta,g);const[b,C]=o.pageDimensions;return o.width=(l[2]-l[0])/b,o.height=(l[3]-l[1])/C,v&&(o.altTextData=v),o._initialData=s,t.comment&&o.setCommentData(t),_(o,Cv,!!s),o}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:f(this,Xi),isSvg:f(this,ta)});if(this.addComment(r),t)return r.bitmapUrl=M(this,Dt,w_).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=M(this,Dt,LW).call(this,r);return l.isSame?null:(l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(i===null)return r;i.stamps||(i.stamps=new Map);const o=f(this,ta)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(f(this,Xi)))i.stamps.set(f(this,Xi),{area:o,serialized:r}),r.bitmap=M(this,Dt,w_).call(this,!1);else if(f(this,ta)){const l=i.stamps.get(f(this,Xi));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=M(this,Dt,w_).call(this,!1))}return r}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Nn=new WeakMap,Xi=new WeakMap,ad=new WeakMap,Ol=new WeakMap,od=new WeakMap,bv=new WeakMap,Hl=new WeakMap,jh=new WeakMap,wA=new WeakMap,ta=new WeakMap,Cv=new WeakMap,Dt=new WeakSet,Aw=function(t,i=!1){if(!t){this.remove();return}_(this,Nn,t.bitmap),i||(_(this,Xi,t.id),_(this,ta,t.isSvg)),t.file&&_(this,bv,t.file.name),M(this,Dt,v_).call(this)},lw=function(){if(_(this,ad,null),this._uiManager.enableWaiting(!1),!!f(this,Hl)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Nn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Nn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},m_=function(){if(f(this,Xi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,Xi)).then(r=>M(this,Dt,Aw).call(this,r,!0)).finally(()=>M(this,Dt,lw).call(this));return}if(f(this,Ol)){const r=f(this,Ol);_(this,Ol,null),this._uiManager.enableWaiting(!0),_(this,ad,this._uiManager.imageManager.getFromUrl(r).then(s=>M(this,Dt,Aw).call(this,s)).finally(()=>M(this,Dt,lw).call(this)));return}if(f(this,od)){const r=f(this,od);_(this,od,null),this._uiManager.enableWaiting(!0),_(this,ad,this._uiManager.imageManager.getFromFile(r).then(s=>M(this,Dt,Aw).call(this,s)).finally(()=>M(this,Dt,lw).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=HR.join(",");const i=this._uiManager._signal;_(this,ad,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),M(this,Dt,Aw).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>M(this,Dt,lw).call(this))),t.click()},v_=function(){var u;const{div:t}=this;let{width:i,height:r}=f(this,Nn);const[s,a]=this.pageDimensions,o=.75;if(this.width)i=this.width*s,r=this.height*a;else if(i>o*s||r>o*a){const d=Math.min(o*s/i,o*a/r);i*=d,r*=d}this._uiManager.enableWaiting(!1);const l=_(this,Hl,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=i/s,this.height=r/a,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),M(this,Dt,rN).call(this),f(this,Cv)||(this.parent.addUndoableEditor(this),_(this,Cv,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,bv)&&this.div.setAttribute("aria-description",f(this,bv)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},y_=function(t,i){const{width:r,height:s}=f(this,Nn);let a=r,o=s,l=f(this,Nn);for(;a>2*t||o>2*i;){const u=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,u,d,0,0,a,o),l=h.transferToImageBitmap()}return l},rN=function(){const[t,i]=this.parentDimensions,{width:r,height:s}=this,a=new mp,o=Math.ceil(r*t*a.sx),l=Math.ceil(s*i*a.sy),u=f(this,Hl);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const d=f(this,ta)?f(this,Nn):M(this,Dt,y_).call(this,o,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,l)},w_=function(t){if(t){if(f(this,ta)){const s=this._uiManager.imageManager.getSvgUrl(f(this,Xi));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=f(this,Nn),i.getContext("2d").drawImage(f(this,Nn),0,0),i.toDataURL()}if(f(this,ta)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Yv.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*Yv.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(f(this,Nn),0,0,f(this,Nn).width,f(this,Nn).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(f(this,Nn))},LW=function(t){var o;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=t.pageIndex===i,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},me(iN,"_type","stamp"),me(iN,"_editorType",dt.STAMP);var Wh,Bv,Ad,ld,Vl,ys,ud,Ev,Sv,So,Kl,Ji,Gl,cd,xv,je,Ss,dd,vn,sN,QW,Xo,aN,oN,b_;let sfe=(Ss=class{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:d}){F(this,vn);F(this,Wh);F(this,Bv,!1);F(this,Ad,null);F(this,ld,null);F(this,Vl,null);F(this,ys,new Map);F(this,ud,!1);F(this,Ev,!1);F(this,Sv,!1);F(this,So,null);F(this,Kl,null);F(this,Ji,null);F(this,Gl,null);F(this,cd,null);F(this,xv,-1);F(this,je);const h=[...f(Ss,dd).values()];if(!Ss._initialized){Ss._initialized=!0;for(const g of h)g.initialize(d,e)}e.registerEditorTypes(h),_(this,je,e),this.pageIndex=t,this.div=i,_(this,Wh,s),_(this,Ad,a),this.viewport=u,_(this,Ji,l),this.drawLayer=o,this._structTree=r,f(this,je).addLayer(this)}get isEmpty(){return f(this,ys).size===0}get isInvisible(){return this.isEmpty&&f(this,je).getMode()===dt.NONE}updateToolbar(e){f(this,je).updateToolbar(e)}updateMode(e=f(this,je).getMode()){switch(M(this,vn,b_).call(this),e){case dt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case dt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case dt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===dt.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of f(Ss,dd).values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,Ji))==null?void 0:t.div)}setEditingState(e){f(this,je).setEditingState(e)}addCommands(e){f(this,je).addCommands(e)}cleanUndoStack(e){f(this,je).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,Ad))==null||t.togglePointerEvents(e)}async enable(){var i;_(this,Sv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=f(this,cd))==null||i.abort(),_(this,cd,null);const e=new Set;for(const r of f(this,vn,sN))r.enableEditing(),r.show(!0),r.annotationElementId&&(f(this,je).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=f(this,Ad);if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),f(this,je).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}_(this,Sv,!1),f(this,je)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(_(this,Ev,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),f(this,Ji)&&!f(this,cd)){_(this,cd,new AbortController);const s=f(this,je).combinedSignal(f(this,cd));f(this,Ji).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:u,timeStamp:d}=a,h=f(this,xv);if(d-h>500){_(this,xv,d);return}_(this,xv,-1);const{classList:g}=this.div;g.toggle("getElements",!0);const v=document.elementsFromPoint(l,u);if(g.toggle("getElements",!1),!this.div.contains(v[0]))return;let b;const C=new RegExp(`^${Lw}[0-9]+$`);for(const x of v)if(C.test(x.id)){b=x.id;break}if(!b)return;const E=f(this,ys).get(b);(E==null?void 0:E.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),E.dblclick(a))},{signal:s,capture:!0})}const e=f(this,Ad),t=[];if(e){const s=new Map,a=new Map;for(const l of f(this,vn,sN)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(f(this,je).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=a.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=s.get(u),d&&(f(this,je).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}M(this,vn,b_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of f(Ss,dd).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),_(this,Ev,!1)}getEditableAnnotation(e){var t;return((t=f(this,Ad))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,je).getActive()!==e&&f(this,je).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,Ji))!=null&&e.div&&!f(this,Gl)){_(this,Gl,new AbortController);const t=f(this,je).combinedSignal(f(this,Gl));f(this,Ji).div.addEventListener("pointerdown",M(this,vn,QW).bind(this),{signal:t}),f(this,Ji).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,Ji))!=null&&e.div&&f(this,Gl)&&(f(this,Gl).abort(),_(this,Gl,null),f(this,Ji).div.classList.remove("highlighting"))}enableClick(){if(f(this,ld))return;_(this,ld,new AbortController);const e=f(this,je).combinedSignal(f(this,ld));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=f(this,ld))==null||e.abort(),_(this,ld,null)}attach(e){f(this,ys).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,je).isDeletedAnnotationElement(t)&&f(this,je).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,ys).delete(e.id),(t=f(this,Wh))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,Ev)&&e.annotationElementId&&f(this,je).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,je).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,je).addDeletedAnnotationElement(e),Sn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,je).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!f(this,Sv)),f(this,je).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,Vl)&&(e._focusEventsAllowed=!1,_(this,Vl,setTimeout(()=>{_(this,Vl,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,je)._signal}),t.focus())},0))),e._structTreeParentId=(i=f(this,Wh))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of f(this,ys).values())if(t.uid===e)return t;return null}getNextId(){return f(this,je).getId()}combinedSignal(e){return f(this,je).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,vn,Xo))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await f(this,je).updateMode(e.mode);const{offsetX:i,offsetY:r}=M(this,vn,oN).call(this),s=this.getNextId(),a=M(this,vn,aN).call(this,{parent:this,id:s,x:i,y:r,uiManager:f(this,je),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=f(Ss,dd).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,je)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=M(this,vn,aN).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:f(this,je),isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(M(this,vn,oN).call(this),!0,e)}setSelected(e){f(this,je).setSelected(e)}toggleSelected(e){f(this,je).toggleSelected(e)}unselect(e){f(this,je).unselect(e)}pointerup(e){var r;const{isMac:t}=Er.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!f(this,ud)||(_(this,ud,!1),(r=f(this,vn,Xo))!=null&&r.isDrawer&&f(this,vn,Xo).supportMultipleDrawings))return;if(!f(this,Bv)){_(this,Bv,!0);return}const i=f(this,je).getMode();if(i===dt.STAMP||i===dt.SIGNATURE){f(this,je).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(f(this,je).getMode()===dt.HIGHLIGHT&&this.enableTextSelection(),f(this,ud)){_(this,ud,!1);return}const{isMac:t}=Er.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(_(this,ud,!0),(r=f(this,vn,Xo))!=null&&r.isDrawer){this.startDrawingSession(e);return}const i=f(this,je).getActive();_(this,Bv,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),f(this,So)){f(this,vn,Xo).startDrawing(this,f(this,je),!1,e);return}f(this,je).setCurrentDrawingSession(this),_(this,So,new AbortController);const t=f(this,je).combinedSignal(f(this,So));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(_(this,Kl,null),this.commitOrRemove())},{signal:t}),f(this,vn,Xo).startDrawing(this,f(this,je),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&_(this,Kl,t);return}f(this,Kl)&&setTimeout(()=>{var t;(t=f(this,Kl))==null||t.focus(),_(this,Kl,null)},0)}endDrawingSession(e=!1){return f(this,So)?(f(this,je).setCurrentDrawingSession(null),f(this,So).abort(),_(this,So,null),_(this,Kl,null),f(this,vn,Xo).endDrawing(e)):null}findNewParent(e,t,i){const r=f(this,je).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return f(this,So)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,So)&&f(this,vn,Xo).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=f(this,je).getActive())==null?void 0:e.parent)===this&&(f(this,je).commitOrRemove(),f(this,je).setActiveEditor(null)),f(this,Vl)&&(clearTimeout(f(this,Vl)),_(this,Vl,null));for(const i of f(this,ys).values())(t=f(this,Wh))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,f(this,ys).clear(),f(this,je).removeLayer(this)}render({viewport:e}){this.viewport=e,gp(this.div,e);for(const t of f(this,je).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,je).commitOrRemove(),M(this,vn,b_).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,gp(this.div,{rotation:i}),t!==i)for(const r of f(this,ys).values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,je).viewParameters.realScale}},Wh=new WeakMap,Bv=new WeakMap,Ad=new WeakMap,ld=new WeakMap,Vl=new WeakMap,ys=new WeakMap,ud=new WeakMap,Ev=new WeakMap,Sv=new WeakMap,So=new WeakMap,Kl=new WeakMap,Ji=new WeakMap,Gl=new WeakMap,cd=new WeakMap,xv=new WeakMap,je=new WeakMap,dd=new WeakMap,vn=new WeakSet,sN=function(){return f(this,ys).size!==0?f(this,ys).values():f(this,je).getEditors(this.pageIndex)},QW=function(e){f(this,je).unselectAll();const{target:t}=e;if(t===f(this,Ji).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,Ji).div.contains(t)){const{isMac:i}=Er.platform;if(e.button!==0||e.ctrlKey&&i)return;f(this,je).showAllEditors("highlight",!0,!0),f(this,Ji).div.classList.add("free"),this.toggleDrawing(),sT.startHighlighting(this,f(this,je).direction==="ltr",{target:f(this,Ji).div,x:e.x,y:e.y}),f(this,Ji).div.addEventListener("pointerup",()=>{f(this,Ji).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,je)._signal}),e.preventDefault()}},Xo=function(){return f(Ss,dd).get(f(this,je).getMode())},aN=function(e){const t=f(this,vn,Xo);return t?new t.prototype.constructor(e):null},oN=function(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+r),u=(s+o)/2-e,d=(a+l)/2-t,[h,g]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:g}},b_=function(){for(const e of f(this,ys).values())e.isEmpty()&&e.remove()},me(Ss,"_initialized",!1),F(Ss,dd,new Map([OD,YD,iN,sT,nN].map(e=>[e._editorType,e]))),Ss);var xo,$r,Yh,Jn,WC,x1,kW,MA,AN,OW,lN;let afe=(Jn=class{constructor({pageIndex:e}){F(this,MA);F(this,xo,null);F(this,$r,new Map);F(this,Yh,new Map);this.pageIndex=e}setParent(e){if(!f(this,xo)){_(this,xo,e);return}if(f(this,xo)!==e){if(f(this,$r).size>0)for(const t of f(this,$r).values())t.remove(),e.append(t);_(this,xo,e)}}static get _svgFactory(){return lt(this,"_svgFactory",new iT)}draw(e,t=!1,i=!1){const r=ai(Jn,WC)._++,s=M(this,MA,AN).call(this),a=Jn._svgFactory.createElement("defs");s.append(a);const o=Jn._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&f(this,Yh).set(r,o);const u=i?M(this,MA,OW).call(this,a,l):null,d=Jn._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),f(this,$r).set(r,s),{id:r,clipPathId:`url(#${u})`}}drawOutline(e,t){const i=ai(Jn,WC)._++,r=M(this,MA,AN).call(this),s=Jn._svgFactory.createElement("defs");r.append(s);const a=Jn._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=Jn._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${i}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const g=Jn._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=Jn._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${o}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const u=Jn._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return r.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(r,e),f(this,$r).set(i,r),i}finalizeDraw(e,t){f(this,Yh).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:i,bbox:r,rootClass:s,path:a}=t,o=typeof e=="number"?f(this,$r).get(e):e;if(o){if(i&&M(this,MA,lN).call(this,o,i),r&&M(l=Jn,x1,kW).call(l,o,r),s){const{classList:u}=o;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(a){const d=o.firstElementChild.firstElementChild;M(this,MA,lN).call(this,d,a)}}}updateParent(e,t){if(t===this)return;const i=f(this,$r).get(e);i&&(f(t,xo).append(i),f(this,$r).delete(e),f(t,$r).set(e,i))}remove(e){f(this,Yh).delete(e),f(this,xo)!==null&&(f(this,$r).get(e).remove(),f(this,$r).delete(e))}destroy(){_(this,xo,null);for(const e of f(this,$r).values())e.remove();f(this,$r).clear(),f(this,Yh).clear()}},xo=new WeakMap,$r=new WeakMap,Yh=new WeakMap,WC=new WeakMap,x1=new WeakSet,kW=function(e,[t,i,r,s]){const{style:a}=e;a.top=`${100*i}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*s}%`},MA=new WeakSet,AN=function(){const e=Jn._svgFactory.create(1,1,!0);return f(this,xo).append(e),e.setAttribute("aria-hidden",!0),e},OW=function(e,t){const i=Jn._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=Jn._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},lN=function(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)},F(Jn,x1),F(Jn,WC,0),Jn);globalThis._pdfjsTestingUtils={HighlightOutliner:VD};globalThis.pdfjsLib={AbortException:kd,AnnotationEditorLayer:sfe,AnnotationEditorParamsType:Ft,AnnotationEditorType:dt,AnnotationEditorUIManager:Ow,AnnotationLayer:tfe,AnnotationMode:wc,AnnotationType:wi,applyOpacity:Tce,build:Rde,ColorPicker:Hj,createValidAbsoluteUrl:T6,CSSConstants:_ce,DOMSVGFactory:iT,DrawLayer:afe,FeatureTest:Er,fetchData:kB,findContrastColor:Ice,getDocument:kQ,getFilenameFromUrl:bce,getPdfFilenameFromUrl:Cce,getRGB:HB,getUuid:U6,getXfaPageViewport:Ece,GlobalWorkerOptions:nu,ImageKind:Vx,InvalidPDFException:LR,isDataScheme:O1,isPdfFile:DQ,isValidExplicitDest:kce,MathClamp:Xr,noContextMenu:no,normalizeUnicode:vce,OPS:Qw,OutputScale:mp,PasswordResponses:lce,PDFDataRangeTransport:Lj,PDFDateString:kR,PDFWorker:ED,PermissionFlag:Ace,PixelsPerInch:Yv,RenderingCancelledException:RQ,renderRichText:R6,ResponseException:X_,setLayerDimensions:gp,shadow:lt,SignatureExtractor:Ig,stopEvent:ti,SupportedImageMimeTypes:HR,TextLayer:wD,TouchManager:tj,updateUrlHash:I6,Util:Ve,VerbosityLevel:L1,version:Oj,XfaLayer:P6};nu.workerSrc="https://aistudiocdn.com/pdfjs-dist@4.4.168/build/pdf.worker.mjs";const ofe=async n=>{try{const e=await n.arrayBuffer(),t=await kQ({data:e}).promise;let i="",r=[],s="";const a=t.numPages;if(a===0)throw new Error("PDF has zero pages.");for(let l=1;l<=a;l++){const h=(await(await t.getPage(l)).getTextContent()).items.map(v=>v.str).join(" ");i+=h+" ",h.trim().length>0&&r.push({id:`chunk-page-${l}`,text:h,pageNumber:l});const g=h.split("  ");s+=`<div class="pdf-page" id="page-${l}" style="margin-bottom: 2rem; border-bottom: 1px dashed #e2e8f0; padding-bottom: 1rem;">`,s+=`<span class="text-xs text-slate-400 block mb-2 font-mono">Page ${l}</span>`,h.trim().length===0?s+=`<div class="p-4 bg-slate-100 dark:bg-slate-800 rounded text-slate-500 text-sm italic text-center">[Page ${l}: No text content detected. This might be a scanned image.]</div>`:g.forEach(v=>{v.trim().length>0&&(v.length<50&&!v.endsWith(".")?s+=`<h3 class="font-bold text-lg mt-4 mb-2 text-slate-800 dark:text-slate-200">${v}</h3>`:s+=`<p class="mb-2 leading-relaxed text-slate-700 dark:text-slate-300">${v}</p>`)}),s+="</div>"}return s.trim()||(s="<div class='p-8 text-center text-slate-500'>Could not extract text from this PDF. It might contain only images or be protected.</div>"),{chapters:[{id:"pdf-upload",title:n.name.replace(".pdf",""),content:s}],chunks:r}}catch(e){throw console.error("PDF Processing Error:",e),e}},Afe=(n,e)=>{const t=n.toLowerCase().split(" ").filter(s=>s.length>3);return t.length===0?"":e.map(s=>{let a=0;const o=s.text.toLowerCase();return t.forEach(l=>{o.includes(l)&&a++}),{...s,score:a}}).sort((s,a)=>a.score-s.score).filter(s=>s.score>0).slice(0,3).map(s=>s.text).join(`

`)},lfe=()=>{var t,i,r;const n=typeof import.meta<"u"&&((i=(t=import.meta)==null?void 0:t.env)==null?void 0:i.VITE_API_KEY),e=typeof process<"u"&&((r=process==null?void 0:process.env)==null?void 0:r.API_KEY);return(n||e||"").trim()},ufe="models/gemini-2.5-flash-preview-tts",cfe=`https://generativelanguage.googleapis.com/v1beta/${ufe}:generateContent`,dfe=async(n,e)=>{var g,v,b,C,E,x;const t=lfe();if(!t)throw new Error("API key is missing. Set VITE_API_KEY or API_KEY.");const i={contents:[{role:"user",parts:[{text:n}]}],generationConfig:{responseMimeType:"audio/mp3"}};e!=null&&e.voiceName&&(i.generationConfig.voiceConfig={prebuiltVoiceConfig:{voiceName:e.voiceName}});const r=await fetch(`${cfe}?key=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!r.ok){const I=await r.text();throw new Error(`Gemini TTS request failed: ${r.status} ${I}`)}const s=await r.json(),a=((C=(b=(v=(g=s==null?void 0:s.candidates)==null?void 0:g[0])==null?void 0:v.content)==null?void 0:b.parts)==null?void 0:C.find(I=>{var T;return(T=I.inlineData)==null?void 0:T.data}))||null,o=(E=a==null?void 0:a.inlineData)==null?void 0:E.data,l=((x=a==null?void 0:a.inlineData)==null?void 0:x.mimeType)||"audio/mp3";if(!o)throw new Error("Gemini TTS response missing audio data.");const u=Uint8Array.from(atob(o),I=>I.charCodeAt(0)),d=new Blob([u],{type:l});return{audioUrl:URL.createObjectURL(d),mimeType:l}},ffe=`<?xml version="1.0" encoding="utf-8"?>\r
<!DOCTYPE html>\r
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" lang="ko" xml:lang="ko">\r
<head>\r
  <title>QT-24051615050790777</title>\r
  <meta charset="utf-8"/>\r
</head>\r
\r
<body>\r
  <h1>QT-24051615050790777</h1>\r
  <nav epub:type="toc" id="toc">\r
    <h2></h2>\r
    <ol>\r
    <li><a href="p0005_s.xhtml"> :    </a></li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0016_s.xhtml">1     \r
</a>\r
      <ol>\r
      <li><a href="p0019_s.xhtml">1    </a>\r
        <ol>\r
        <li><a href="p0020_s.xhtml">1.    \r
</a></li>\r
        <li><a href="p0028_s.xhtml">2.   \r
</a></li>\r
        <li><a href="p0036_s.xhtml">3.    \r
</a></li>\r
        <li><a href="p0043_s.xhtml">4.  :     \r
</a></li>\r
        <li><a href="p0048_s.xhtml">  \r
</a></li>\r
        </ol>\r
      </li>\r
      <li><a href="p0051_s.xhtml">2    \r
</a>\r
        <ol>\r
        <li><a href="p0052_s.xhtml">1.    \r
</a></li>\r
        <li><a href="p0060_s.xhtml">2.     \r
</a></li>\r
        <li><a href="p0066_s.xhtml">3.   \r
</a></li>\r
        <li><a href="p0073_s.xhtml">4.  :     \r
</a></li>\r
        <li><a href="p0081_s.xhtml">  \r
</a></li>\r
        </ol>\r
      </li>\r
      <li><a href="p0083_s.xhtml">3   \r
</a>\r
        <ol>\r
        <li><a href="p0084_s.xhtml">1.     </a></li>\r
        <li><a href="p0091_s.xhtml">2.    \r
</a></li>\r
        <li><a href="p0097_s.xhtml">3.    \r
</a></li>\r
        <li><a href="p0106_s.xhtml">4.  :   \r
</a></li>\r
        <li><a href="p0121_s.xhtml">  \r
</a></li>\r
        </ol>\r
      </li>\r
      <li><a href="p0123_s.xhtml">4   \r
</a>\r
        <ol>\r
        <li><a href="p0124_s.xhtml">1.     \r
</a></li>\r
        <li><a href="p0137_s.xhtml">2.    \r
</a></li>\r
        <li><a href="p0147_s.xhtml">3.    \r
</a></li>\r
        <li><a href="p0155_s.xhtml">4.   \r
</a></li>\r
        <li><a href="p0166_s.xhtml">5.  :    \r
</a></li>\r
        <li><a href="p0175_s.xhtml">  \r
</a></li>\r
        </ol>\r
      </li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0176_s.xhtml">2     \r
</a>\r
      <ol>\r
      <li><a href="p0179_s.xhtml">5   
</a>\r
        <ol>\r
        <li><a href="p0180_s.xhtml">1.    \r
</a></li>\r
        <li><a href="p0187_s.xhtml">2.   \r
</a></li>\r
        <li><a href="p0195_s.xhtml">3.    
</a></li>\r
        <li><a href="p0204_s.xhtml">4.     \r
</a></li>\r
        <li><a href="p0212_s.xhtml">5.  :    \r
</a></li>\r
        <li><a href="p0216_s.xhtml">  \r
</a></li>\r
        </ol>\r
      </li>\r
      <li><a href="p0219_s.xhtml">6   \r
</a>\r
        <ol>\r
        <li><a href="p0220_s.xhtml">1.    \r
</a></li>\r
        <li><a href="p0230_s.xhtml">2.      \r
</a></li>\r
        <li><a href="p0238_s.xhtml">3.     \r
</a></li>\r
        <li><a href="p0241_s.xhtml">4.  :   \r
</a></li>\r
        <li><a href="p0248_s.xhtml">  \r
</a></li>\r
        </ol>\r
      </li>\r
      <li><a href="p0251_s.xhtml">7  \r
</a>\r
        <ol>\r
        <li><a href="p0252_s.xhtml">1.   \r
</a></li>\r
        <li><a href="p0261_s.xhtml">2.   \r
</a></li>\r
        <li><a href="p0270_s.xhtml">3.    \r
</a></li>\r
        <li><a href="p0277_s.xhtml">4.  :   \r
</a></li>\r
        <li><a href="p0281_s.xhtml">  \r
</a></li>\r
        </ol>\r
      </li>\r
      <li><a href="p0283_s.xhtml">8   \r
</a>\r
        <ol>\r
        <li><a href="p0284_s.xhtml">1.    \r
</a></li>\r
        <li><a href="p0293_s.xhtml">2.    \r
</a></li>\r
        <li><a href="p0300_s.xhtml">3.      \r
</a></li>\r
        <li><a href="p0305_s.xhtml">4.  :   \r
</a></li>\r
        <li><a href="p0307_s.xhtml">  \r
</a></li>\r
        </ol>\r
      </li>\r
      <li><a href="p0309_s.xhtml"> :      \r
</a></li>\r
      <li><a href="p0313_s.xhtml">\r
</a></li>\r
      <li><a href="p0321_s.xhtml"></a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
\r
  </nav>\r
</body>\r
</html>\r
`,hfe=[{id:"ch1",title:"Chapter 1: The Dawn of AI",content:`
      <h2>1.1 Introduction to Artificial Intelligence</h2>
      <p>Artificial Intelligence (AI) is intelligence demonstrated by machines, as opposed to the natural intelligence displayed by humans or animals. Leading AI textbooks define the field as the study of "intelligent agents": any system that perceives its environment and takes actions that maximize its chances of achieving its goals.</p>
      <p>The history of AI began in antiquity, with myths, stories, and rumors of artificial beings endowed with intelligence or consciousness by master craftsmen. The seeds of modern AI were planted by philosophers who attempted to describe the process of human thinking as the mechanical manipulation of symbols.</p>
      <h3>1.2 The Turing Test</h3>
      <p>The Turing test, developed by Alan Turing in 1950, is a test of a machine's ability to exhibit intelligent behavior equivalent to, or indistinguishable from, that of a human. Turing proposed that a human evaluator would judge natural language conversations between a human and a machine designed to generate human-like responses.</p>
    `},{id:"ch2",title:"Chapter 2: Machine Learning Basics",content:`
      <h2>2.1 What is Machine Learning?</h2>
      <p>Machine Learning (ML) is a subset of artificial intelligence that focuses on building systems that learn, or improve performance, based on the data they consume. Artificial Intelligence is a broad term that refers to systems or machines that mimic human intelligence. Machine Learning is how they achieve that intelligence.</p>
      <p>There are three main types of machine learning: supervised learning, unsupervised learning, and reinforcement learning. In supervised learning, the algorithm is trained on labeled data.</p>
      <h3>2.2 Neural Networks</h3>
      <p>Neural networks, also known as artificial neural networks (ANNs) or simulated neural networks (SNNs), are a subset of machine learning and are at the heart of deep learning algorithms. Their name and structure are inspired by the human brain, mimicking the way that biological neurons signal to one another.</p>
    `},{id:"ch3",title:"Chapter 3: Ethics in Technology",content:`
      <h2>3.1 The Importance of Ethics</h2>
      <p>As technology becomes more integrated into our daily lives, the ethical implications of its use become increasingly important. Issues such as privacy, bias in algorithms, and the displacement of jobs are central discussions in the tech world today.</p>
      <p>Algorithmic bias describes systematic and repeatable errors in a computer system that create unfair outcomes, such as privileging one arbitrary group of users over others.</p>
    `}],pfe=n=>{if(typeof window>"u")return{chapters:[],pageMap:{}};try{const t=new DOMParser().parseFromString(n,"application/xhtml+xml"),i=t.querySelector("nav#toc")||t.querySelector('nav[epub\\:type="toc"]');if(!i)return{chapters:[],pageMap:{}};const r=new Set,s=Array.from(i.querySelectorAll("a")),a={};return{chapters:s.map((l,u)=>{const d=(l.textContent||"").replace(/\s+/g," ").trim();if(!d)return null;const h=l.getAttribute("href")||`toc-${u+1}`,v=h.replace(/[^a-zA-Z0-9_-]+/g,"-").replace(/^-+|-+$/g,"")||`toc-${u+1}`;let b=v,C=1;for(;r.has(b);)b=`${v}-${C++}`;r.add(b);const E=h.match(/p0*([0-9]+)_/i)||h.match(/p0*([0-9]+)/i);if(E&&E[1]){const x=parseInt(E[1],10);Number.isFinite(x)&&(a[b]=x)}return{id:b,title:d,content:""}}).filter(Boolean),pageMap:a}}catch(e){return console.error("Failed to parse nav.xhtml",e),{chapters:[],pageMap:{}}}},HW=U.createContext(void 0),gfe=({children:n})=>{const[e,t]=U.useState(hfe),[i,r]=U.useState(null),[s,a]=U.useState([]),[o,l]=U.useState(!1),[u,d]=U.useState(0),[h,g]=U.useState("medium"),[v,b]=U.useState("light"),[C,E]=U.useState("single"),[x,I]=U.useState(!0),[T,R]=U.useState(()=>{if(typeof window>"u")return[];try{const he=localStorage.getItem("pdfBookmarks");if(!he)return[];const De=JSON.parse(he);if(Array.isArray(De))return De.map(Oe=>Oe&&typeof Oe=="object"&&"page"in Oe?Oe:typeof Oe=="number"?{id:`migrated-${Oe}`,page:Oe,label:`Page ${Oe}`,createdAt:Date.now()}:null).filter(Boolean)}catch(he){console.error("Failed to parse stored pdfBookmarks",he)}return[]}),[P,D]=U.useState([]),[Q,H]=U.useState(null),[k,K]=U.useState("idle"),[V,q]=U.useState("#ef4444"),[X,ne]=U.useState(3),[ge,G]=U.useState(1),[$,ie]=U.useState({}),[se,be]=U.useState([]),[z,J]=U.useState(!1),[le,ve]=U.useState(null),[Ee,Fe]=U.useState([]),[Ce,ut]=U.useState(!0),[ae,Ke]=U.useState("ai"),[Ye,ye]=U.useState(""),[Pt,Je]=U.useState(!1),[Jt,Nt]=U.useState(null),[Mn,st]=U.useState({voice:"Kore",speed:1,continuous:!0}),[kn,_i]=U.useState({}),Zt=U.useRef(null),pa=U.useRef(null),_e=U.useRef(!1),Z=he=>{st(De=>({...De,...he}))},Be=he=>{const De=he.trim();if(!De)return[];const Oe=De.match(/[^.!?]+[.!?]?/g);return Oe&&Oe.length>0?Oe.map(ze=>ze.trim()).filter(Boolean):[De]},Re=he=>he.replace(/<script[^>]*>.*?<\/script>/gi,"").replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim(),bt=()=>{var Oe;if(Ge.length>0){const ze=[...Ge].sort((fn,rr)=>fn.page-rr.page),Ct=Se||((Oe=ze[0])==null?void 0:Oe.page)||1,On=[];let ii=0;return ze.forEach(fn=>{const rr=Re(fn.text||""),Hr=Be(rr);fn.page<Ct&&(ii+=Hr.length),On.push(...Hr)}),{sentences:On,defaultStartIndex:ii}}const he=Re(rs.content);return{sentences:Be(he),defaultStartIndex:0}},qe=()=>{Zt.current&&(Zt.current.pause(),Zt.current.src="",Zt.current=null),pa.current&&(URL.revokeObjectURL(pa.current),pa.current=null)},ce=async he=>{if(_e.current)return;if(Zt.current&&Zt.current.paused&&!Zt.current.ended){await Zt.current.play().catch(()=>{}),Je(!0);return}qe();const{sentences:De,defaultStartIndex:Oe}=bt();if(De.length===0){alert("  .");return}const ze=typeof he=="number"&&he>=0&&he<De.length?he:Math.min(Oe,De.length-1),On=De.slice(ze).join(" ").slice(0,8e3);if(!On){alert("  .");return}try{_e.current=!0,Je(!0),Nt(ze);const{audioUrl:ii}=await dfe(On,{voiceName:Mn.voice}),fn=new Audio(ii);fn.playbackRate=Mn.speed,pa.current=ii,Zt.current=fn,fn.onended=()=>{Je(!1),Nt(null),qe()},fn.onerror=()=>{Je(!1),Nt(null),qe()},await fn.play().catch(rr=>{console.error("Audio playback failed",rr),Je(!1)})}catch(ii){console.error("Gemini TTS failed",ii),alert("TTS    ."),Je(!1),Nt(null)}finally{_e.current=!1}},we=()=>{Zt.current&&Zt.current.pause(),Je(!1)},xe=()=>{qe(),Je(!1),Nt(null)},[Pe,Te]=U.useState({totalReadingTime:0,sessions:1,chapterVisits:{},aiInteractionCount:0,highlightCount:0}),[Ge,Xe]=U.useState([]),[Se,dn]=U.useState(1),[zn,Hi]=U.useState(null),[Sr,ni]=U.useState(null),[Ho,ga]=U.useState(null),rs=e[u];U.useEffect(()=>{window.innerWidth<1024&&ut(!1)},[]),U.useEffect(()=>{const he=setInterval(()=>{document.visibilityState==="visible"&&ku()},5e3);return()=>clearInterval(he)},[]),U.useEffect(()=>{Te(he=>({...he,chapterVisits:{...he.chapterVisits,[rs.id]:(he.chapterVisits[rs.id]||0)+1}}))},[rs.id]),U.useEffect(()=>{try{localStorage.setItem("pdfBookmarks",JSON.stringify(T))}catch(he){console.error("Failed to persist pdfBookmarks",he)}},[T]),U.useEffect(()=>{const{chapters:he,pageMap:De}=pfe(ffe);he.length>0&&(t(he),_i(De),d(0))},[]);const ku=()=>{Te(he=>({...he,totalReadingTime:he.totalReadingTime+5}))},pE=()=>{Te(he=>({...he,aiInteractionCount:he.aiInteractionCount+1}))},_y=Sw.useCallback(he=>{if(e.length===0||Object.keys(kn).length===0)return-1;let De=-1,Oe=Number.NEGATIVE_INFINITY,ze=-1,Ct=Number.POSITIVE_INFINITY;return e.forEach((On,ii)=>{const fn=kn[On.id];fn&&(fn<=he&&fn>Oe&&(Oe=fn,De=ii),fn<Ct&&(Ct=fn,ze=ii))}),De!==-1?De:ze},[e,kn]);U.useEffect(()=>{const he=_y(Se);he!==-1&&he!==u&&d(he)},[Se,_y,u]);const Ty=()=>{b(he=>he==="light"?"dark":"light"),v==="light"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Zd=()=>I(he=>!he),QI=(he,De)=>{!he||he<1||R(Oe=>Oe.some(Ct=>Ct.page===he)?Oe:[{id:Date.now().toString(),page:he,label:De||`Page ${he}`,createdAt:Date.now()},...Oe])},gE=he=>{R(De=>De.filter(Oe=>Oe.id!==he))},mE=()=>{u<e.length-1&&ef(u+1)},vE=()=>{u>0&&ef(u-1)},ef=he=>{if(he>=0&&he<e.length){d(he);const De=e[he],Oe=kn[De.id];Oe&&LA(Oe)}},Iy=async he=>{l(!0);try{const De=await ofe(he);De.chapters.length>0?(t(De.chapters),d(0),a(De.chunks),r(null),ut(!0),Ke("ai"),alert(`"${he.name}"()   .`)):alert("Processed PDF but found no readable content.")}catch(De){console.error("PDF Load Failed",De),alert("Failed to load PDF. Please ensure it is a valid PDF file.")}finally{l(!1)}},yE=(he,De,Oe)=>{const ze=Oe||rs.id,Ct={id:Date.now().toString(),chapterId:ze,text:he,color:"yellow",note:De,createdAt:Date.now()};return D(On=>[Ct,...On]),Te(On=>({...On,highlightCount:On.highlightCount+1})),Ct.id},wE=(he,De)=>{D(Oe=>Oe.map(ze=>ze.id===he?{...ze,note:De}:ze))},Vo=he=>{D(De=>De.filter(Oe=>Oe.id!==he))},Ti=he=>{I(!0),H(he),setTimeout(()=>H(null),2e3)},xr=(he,De)=>{ie(Oe=>({...Oe,[he]:[...Oe[he]||[],De]}))},Ou=(he,De)=>{ie(Oe=>({...Oe,[he]:(Oe[he]||[]).filter(ze=>ze.id!==De)}))},Fy=he=>($[he]||[]).length>0,bE=(he,De)=>{const Oe={id:Date.now().toString(),title:he||"Untitled Note",content:De,chapterId:rs.id,chapterTitle:rs.title,createdAt:Date.now(),updatedAt:Date.now()};be(ze=>[Oe,...ze])},kI=(he,De,Oe)=>{be(ze=>ze.map(Ct=>Ct.id===he?{...Ct,title:De,content:Oe,updatedAt:Date.now()}:Ct))},CE=he=>{be(De=>De.filter(Oe=>Oe.id!==he))},tf=he=>{let De=he.content.replace(/<[^>]+>/g,"");const Oe=new Blob([`# ${he.title}

${De}`],{type:"text/markdown"}),ze=URL.createObjectURL(Oe),Ct=document.createElement("a");Ct.href=ze,Ct.download=`${he.title.replace(/\s+/g,"_")}.md`,Ct.click(),URL.revokeObjectURL(ze)},Uy=async he=>{const De=await he.text();let Oe=he.name.replace(".md","").replace(".json",""),ze=De.replace(/\n/g,"<br>");bE(Oe,ze)},Ko=(he,De)=>{const Oe={id:Date.now().toString(),role:he,text:De,timestamp:Date.now()};Fe(ze=>[...ze,Oe])},Hu=async he=>{ut(!0),Ke("ai");const De=`Explain: "${he}"`;Ko("user",De),pE();let Oe=rs.content.substring(0,2e3);if(s.length>0){const Ct=Afe(he,s);Ct&&(Oe=Ct)}const ze=await _6(he,Oe);Ko("model",ze)},nf=he=>{if(!he||he.length<2)return[];const De=[],Oe=he.toLowerCase();return e.forEach(ze=>{const Ct=ze.content.replace(/<[^>]+>/g," "),On=Ct.toLowerCase().indexOf(Oe);if(On!==-1){const ii=Math.max(0,On-40),fn=Math.min(Ct.length,On+40+he.length),rr=(ii>0?"...":"")+Ct.substring(ii,fn)+(fn<Ct.length?"...":"");De.push({id:`ch-${ze.id}-${On}`,type:"chapter",title:ze.title,contentSnippet:rr,chapterId:ze.id,matchIndex:On})}}),P.forEach(ze=>{(ze.text.toLowerCase().includes(Oe)||ze.note&&ze.note.toLowerCase().includes(Oe))&&De.push({id:`hl-${ze.id}`,type:"highlight",title:"Highlight",contentSnippet:ze.note?`${ze.text} - ${ze.note}`:ze.text,chapterId:ze.chapterId})}),se.forEach(ze=>{const Ct=ze.content.replace(/<[^>]+>/g," ");(ze.title.toLowerCase().includes(Oe)||Ct.toLowerCase().includes(Oe))&&De.push({id:`note-${ze.id}`,type:"note",title:ze.title,contentSnippet:Ct.substring(0,80)+"...",chapterId:ze.chapterId})}),Ge.forEach(ze=>{const Ct=ze.text.toLowerCase().indexOf(Oe);if(Ct!==-1){const On=Math.max(0,Ct-40),ii=Math.min(ze.text.length,Ct+40+he.length),fn=(On>0?"...":"")+ze.text.substring(On,ii)+(ii<ze.text.length?"...":"");De.push({id:`pdf-${ze.page}-${Ct}`,type:"pdf",title:`PDF p.${ze.page}`,contentSnippet:fn,pageNumber:ze.page})}}),De},LA=he=>{dn(he),zn?zn(he):ni(he)},hi=Sw.useCallback(he=>{Hi(()=>he),Sr!==null&&(he(Sr),ni(null))},[Sr]),BE=Sw.useCallback(he=>{Xe(he)},[]),EE=()=>{console.log("Saving progress..."),alert("Progress Saved! (Simulated)")};return L.jsx(HW.Provider,{value:{chapters:e,referenceDocument:i,currentChapterIndex:u,currentChapter:rs,goToNextChapter:mE,goToPrevChapter:vE,goToChapter:ef,uploadBook:Iy,isProcessing:o,fontSize:h,setFontSize:g,viewMode:C,setViewMode:E,theme:v,toggleTheme:Ty,showAnnotations:x,toggleAnnotations:Zd,bookmarks:T,addPdfBookmark:QI,removePdfBookmark:gE,highlights:P,addHighlight:yE,updateHighlight:wE,removeHighlight:Vo,activeHighlightId:Q,focusHighlight:Ti,drawingMode:k,setDrawingMode:K,penColor:V,setPenColor:q,penWidth:X,setPenWidth:ne,penOpacity:ge,setPenOpacity:G,chapterStrokes:$,addStroke:xr,removeStroke:Ou,hasStrokes:Fy,generalNotes:se,addGeneralNote:bE,updateGeneralNote:kI,removeGeneralNote:CE,importNotes:Uy,exportNoteAsMarkdown:tf,isCaptureMode:z,setCaptureMode:J,capturedImage:le,setCapturedImage:ve,aiChatHistory:Ee,addChatMessage:Ko,triggerSmartExplain:Hu,isToolsOpen:Ce,setToolsOpen:ut,activeToolTab:ae,setActiveToolTab:Ke,searchQuery:Ye,setSearchQuery:ye,performSearch:nf,isTtsPlaying:Pt,currentTtsSegmentIndex:Jt,ttsConfig:Mn,setTtsConfig:Z,startTts:ce,stopTts:xe,pauseTts:we,stats:Pe,incrementAiCount:pE,updateReadingTime:ku,saveProgress:EE,pdfTextPages:Ge,setPdfTextPages:BE,goToPdfPage:LA,registerPdfNavigator:hi,pdfSearchHighlight:Ho,setPdfSearchHighlight:ga,currentPdfPage:Se,setCurrentPdfPage:dn},children:n})},jd=()=>{const n=U.useContext(HW);if(n===void 0)throw new Error("useBook must be used within a BookProvider");return n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vfe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),OK=n=>{const e=vfe(n);return e.charAt(0).toUpperCase()+e.slice(1)},VW=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),yfe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>U.createElement("svg",{ref:l,...wfe,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:VW("lucide",r),...!s&&!yfe(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>U.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(n,e)=>{const t=U.forwardRef(({className:i,...r},s)=>U.createElement(bfe,{ref:s,iconNode:e,className:VW(`lucide-${mfe(OK(n))}`,`lucide-${n}`,i),...r}));return t.displayName=OK(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Bfe=at("bold",Cfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Sfe=at("book-open",Efe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],uN=at("book",xfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],Tfe=at("bookmark-check",_fe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],Ffe=at("bookmark-plus",Ife);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],C_=at("bookmark",Ufe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],HK=at("bot",Mfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Rfe=at("camera",Pfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Nfe=at("chevron-left",Dfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Qfe=at("chevron-right",Lfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ofe=at("clock",kfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Vfe=at("columns-2",Hfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Gfe=at("ellipsis-vertical",Kfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],qfe=at("eraser",zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jfe=at("eye",$fe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],VK=at("file-text",Wfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],cN=at("file-up",Yfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],KK=at("funnel",Xfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],B_=at("highlighter",Jfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ehe=at("list",Zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],GK=at("loader-circle",the);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ihe=at("log-out",nhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],she=at("message-circle-question-mark",rhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],cM=at("message-square",ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ahe=at("minus",ohe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],uhe=at("panel-left",lhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],dhe=at("panel-right",che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],hhe=at("pause",fhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ghe=at("pen-line",phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],KW=at("pen-tool",mhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vhe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yhe=at("pen",vhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],bhe=at("play",whe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dN=at("plus",Che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Ehe=at("printer",Bhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const She=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],GW=at("save",She);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dM=at("search",xhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],The=at("settings-2",_he);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Fhe=at("square",Ihe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uhe=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Mhe=at("sticky-note",Uhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Rhe=at("table",Phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fN=at("trash-2",Dhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nhe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Lhe=at("type",Nhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],khe=at("upload",Qhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ohe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Hhe=at("volume-2",Ohe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vhe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hN=at("x",Vhe),zW=({toggleSidebar:n,isSidebarOpen:e})=>{const{fontSize:t,setFontSize:i,viewMode:r,setViewMode:s,drawingMode:a,setDrawingMode:o,penColor:l,setPenColor:u,penWidth:d,setPenWidth:h,penOpacity:g,setPenOpacity:v,saveProgress:b,showAnnotations:C,toggleAnnotations:E,isToolsOpen:x,setToolsOpen:I,bookmarks:T,addPdfBookmark:R,removePdfBookmark:P,currentPdfPage:D,uploadBook:Q,isProcessing:H,isTtsPlaying:k,startTts:K,stopTts:V,pauseTts:q,ttsConfig:X,setTtsConfig:ne,setActiveToolTab:ge}=jd(),G=qd(),$=G$(),ie=G.pathname==="/",[se,be]=U.useState(!1),[z,J]=U.useState(!1),[le,ve]=U.useState(!1),[Ee,Fe]=U.useState(!1),Ce=U.useRef(null),ut=T.find(st=>st.page===D),ae=!!ut,Ke=()=>{confirm("Are you sure you want to close the viewer?")&&$("/report")},Ye=()=>{var st;(st=Ce.current)==null||st.click()},ye=st=>{st.target.files&&st.target.files[0]&&Q(st.target.files[0])},Pt=()=>{D&&(ut?P(ut.id):R(D,`PDF p.${D}`))},Je=st=>{const kn=["small","medium","large","xlarge"],_i=kn.indexOf(t);let Zt=st==="up"?_i+1:_i-1;Zt<0&&(Zt=0),Zt>=kn.length&&(Zt=kn.length-1),i(kn[Zt])},Jt=["Kore","Puck","Charon","Fenrir","Zephyr"],Nt=[.75,1,1.2,1.5,2],Mn=["#000000","#ef4444","#3b82f6","#22c55e","#eab308"];return L.jsx("header",{className:"header",children:L.jsxs("div",{className:"header_inner",children:[L.jsxs("div",{className:"header_main",children:[ie&&L.jsx("button",{onClick:n,className:`left_toggle ${e?"open":"off"}`,title:"Table of Contents",children:L.jsx(uhe,{size:20})}),L.jsxs("div",{className:"logo_wrap",children:[L.jsx("div",{className:"icon",children:L.jsx(uN,{})}),L.jsx("span",{className:"logo_text",children:"CampusBook"})]})]}),L.jsxs("div",{className:"header_nav",children:[L.jsxs("div",{className:"mode_select",children:[L.jsx(q_,{to:"/",className:`reader ${ie?"on":"off"}`,children:"Reader"}),L.jsx(q_,{to:"/report",className:`report ${ie?"off":"on"}`,children:"Report"})]}),L.jsx("div",{className:"separate_bar"}),L.jsxs("button",{onClick:Ye,disabled:H,className:"add_file",title:"Add Reference Material (PDF)",children:[H?L.jsx(GK,{size:16,className:"animate-spin"}):L.jsx(cN,{size:16}),L.jsx("span",{children:"Add Reference"}),L.jsx("input",{type:"file",ref:Ce,className:"hidden",accept:"application/pdf",onChange:ye})]})]}),L.jsxs("div",{className:"header_tools",children:[ie&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"relative",children:[L.jsx("button",{onClick:()=>ve(!le),className:`p-2 rounded-lg transition-all ${k?"text-blue-600 bg-blue-50":"text-slate-500 hover:bg-slate-100"}`,title:"AI Voice",children:L.jsx(Hhe,{size:20})}),le&&L.jsxs("div",{className:"absolute top-full right-0 mt-2 w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border p-5 z-[70]",children:[L.jsxs("div",{className:"flex justify-between items-center mb-4",children:[L.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:"AI Reading Assistant"}),L.jsx("button",{onClick:()=>ve(!1),className:"text-slate-400",children:L.jsx(hN,{size:14})})]}),L.jsxs("div",{className:"flex justify-center gap-4 mb-5 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[L.jsx("button",{onClick:V,className:"p-2.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full text-slate-500",children:L.jsx(Fhe,{size:16,fill:"currentColor"})}),L.jsx("button",{onClick:()=>k?q():K(),className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-lg hover:scale-105 active:scale-95 transition-transform",children:k?L.jsx(hhe,{size:24,fill:"white"}):L.jsx(bhe,{size:24,className:"ml-1",fill:"white"})})]}),L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Voice Tone"}),L.jsx("div",{className:"grid grid-cols-3 gap-1",children:Jt.map(st=>L.jsx("button",{onClick:()=>ne({voice:st}),className:`px-2 py-1 rounded text-[10px] border transition-all ${X.voice===st?"bg-blue-600 border-blue-600 text-white":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:st},st))})]}),L.jsxs("div",{children:[L.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Speed"}),L.jsx("div",{className:"flex justify-between gap-1",children:Nt.map(st=>L.jsxs("button",{onClick:()=>ne({speed:st}),className:`flex-1 py-1 rounded text-[10px] border transition-all ${X.speed===st?"bg-blue-600 border-blue-600 text-white font-bold":"bg-slate-100 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:[st,"x"]},st))})]})]})]})]}),L.jsx("button",{onClick:Pt,className:`bookmark_icon_btn ${ae?"on":"off"}`,title:ae?"Remove bookmark for this page":"Bookmark this page",children:ae?L.jsx(Tfe,{size:20}):L.jsx(Ffe,{size:20})}),L.jsxs("div",{className:"draw_icon_wrap",children:[L.jsxs("div",{className:"draw_icon_inner",children:[L.jsx("button",{onClick:()=>o(a==="pen"?"idle":"pen"),className:`pen_tool ${a==="pen"?"on":"off"}`,title:"Pen Tool",children:L.jsx(yhe,{size:18})}),a==="pen"&&L.jsx("button",{onClick:()=>be(!se),className:"detail_select",title:"Pen Settings",children:L.jsx(The,{size:12})}),L.jsx("button",{onClick:()=>{o(a==="eraser"?"idle":"eraser"),be(!1)},className:`eraser_tool ${a==="eraser"?"on":"off"}`,title:"Eraser",children:L.jsx(qfe,{size:18})})]}),se&&a==="pen"&&L.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[L.jsxs("div",{className:"flex justify-between items-center mb-3",children:[L.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Pen Settings"}),L.jsx("button",{onClick:()=>be(!1),className:"text-slate-400 hover:text-slate-600",children:L.jsx(hN,{size:14})})]}),L.jsx("div",{className:"flex justify-between mb-4",children:Mn.map(st=>L.jsx("button",{onClick:()=>u(st),className:`w-6 h-6 rounded-full transition-transform hover:scale-110 border border-slate-200 dark:border-slate-700 ${l===st?"ring-2 ring-offset-2 ring-blue-500 scale-110":""}`,style:{backgroundColor:st}},st))}),L.jsxs("div",{className:"mb-3",children:[L.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[L.jsx("span",{children:"Thickness"}),L.jsxs("span",{children:[d,"px"]})]}),L.jsx("input",{type:"range",min:"1",max:"15",step:"1",value:d,onChange:st=>h(parseInt(st.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),L.jsxs("div",{children:[L.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[L.jsx("span",{children:"Opacity"}),L.jsxs("span",{children:[Math.round(g*100),"%"]})]}),L.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:g,onChange:st=>v(parseFloat(st.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]})]}),L.jsxs("div",{className:"relative",children:[L.jsx("button",{onClick:()=>J(!z),className:"appearance",title:"Appearance",children:L.jsx(Lhe,{size:20})}),z&&L.jsxs("div",{className:"absolute top-full right-0 mt-2 w-60 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[L.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"View Settings"}),L.jsxs("div",{className:"flex items-center justify-between mb-4 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[L.jsx("button",{onClick:()=>Je("down"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:L.jsx(Ahe,{size:14})}),L.jsx("span",{className:"text-sm font-medium",children:t==="medium"?"100%":t==="small"?"85%":t==="large"?"115%":"130%"}),L.jsx("button",{onClick:()=>Je("up"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:L.jsx(dN,{size:14})})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("button",{onClick:()=>s(r==="single"?"double":"single"),className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[L.jsxs("span",{className:"flex items-center gap-2",children:[L.jsx(Vfe,{size:16})," Two-Page View"]}),L.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${r==="double"?"bg-blue-500":"bg-slate-300"}`,children:L.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${r==="double"?"translate-x-4":""}`})})]}),L.jsxs("button",{onClick:E,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[L.jsxs("span",{className:"flex items-center gap-2",children:[L.jsx(jfe,{size:16})," Annotations"]}),L.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${C?"bg-blue-500":"bg-slate-300"}`,children:L.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${C?"translate-x-4":""}`})})]}),L.jsxs("button",{onClick:Pt,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[L.jsxs("span",{className:"flex items-center gap-2",children:[L.jsx(C_,{size:16})," Bookmark Page"]}),L.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${ae?"bg-blue-500":"bg-slate-300"}`,children:L.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${ae?"translate-x-4":""}`})})]})]})]})]}),L.jsx("button",{onClick:()=>I(!x),className:`toggle_ai_notes ${x?"on":"off"}`,title:"Toggle AI & Notes",children:L.jsx(dhe,{size:20})})]}),L.jsxs("div",{className:"relative ml-1",children:[L.jsx("button",{onClick:()=>Fe(!Ee),className:"more",children:L.jsx(Gfe,{size:20})}),Ee&&L.jsxs("div",{className:"more_list",children:[L.jsxs("button",{onClick:Ye,className:"",children:[H?L.jsx(GK,{size:14,className:"animate-spin"}):L.jsx(cN,{size:14})," ","Add Reference PDF"]}),L.jsx("input",{type:"file",ref:Ce,className:"hidden",accept:"application/pdf",onChange:ye}),L.jsxs("button",{onClick:b,className:"",children:[L.jsx(GW,{size:14})," Save Progress"]}),L.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800 my-1"}),L.jsxs("button",{onClick:Ke,className:"exit_viewer",children:[L.jsx(ihe,{size:14})," Exit Viewer"]})]})]})]})]})})},{AbortException:Khe,AnnotationEditorLayer:Ghe,AnnotationEditorParamsType:eQe,AnnotationEditorType:ds,AnnotationEditorUIManager:zhe,AnnotationLayer:qhe,AnnotationMode:xA,AnnotationType:qW,applyOpacity:tQe,build:nQe,ColorPicker:iQe,createValidAbsoluteUrl:$W,CSSConstants:rQe,DOMSVGFactory:sQe,DrawLayer:$he,FeatureTest:jW,fetchData:zK,findContrastColor:aQe,getDocument:oQe,getFilenameFromUrl:AQe,getPdfFilenameFromUrl:jhe,getRGB:lQe,getUuid:uQe,getXfaPageViewport:cQe,GlobalWorkerOptions:dQe,ImageKind:fQe,InvalidPDFException:hQe,isDataScheme:pQe,isPdfFile:Whe,isValidExplicitDest:Yhe,MathClamp:GQ,noContextMenu:gQe,normalizeUnicode:Xhe,OPS:mQe,OutputScale:E_,PasswordResponses:vQe,PDFDataRangeTransport:yQe,PDFDateString:wQe,PDFWorker:bQe,PermissionFlag:cg,PixelsPerInch:ll,RenderingCancelledException:pN,renderRichText:CQe,ResponseException:BQe,setLayerDimensions:WW,shadow:Hw,SignatureExtractor:EQe,stopEvent:gN,SupportedImageMimeTypes:SQe,TextLayer:Jhe,TouchManager:xQe,updateUrlHash:Zhe,Util:zQ,VerbosityLevel:_Qe,version:qK,XfaLayer:fM}=globalThis.pdfjsLib,epe="auto",YW=1,$K=1.1,tpe=.1,npe=10,hM=0,ipe=1.25,jK=40,WK=5,kt={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},Wg={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},EA={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},Mt={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},Lr={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function XW(n,e,t=!1){let i=n.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let r=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(r+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;if(e&&(e.top!==void 0&&(r+=e.top),e.left!==void 0)){if(t){const a=n.getBoundingClientRect().width,o=GQ((i.clientWidth-a)/2,20,400);s+=e.left-o}else s+=e.left;i.scrollLeft=s}i.scrollTop=r}function rpe(n,e,t=void 0){const i=function(a){s||(s=window.requestAnimationFrame(function(){s=null;const l=n.scrollLeft,u=r.lastX;l!==u&&(r.right=l>u),r.lastX=l;const d=n.scrollTop,h=r.lastY;d!==h&&(r.down=d>h),r.lastY=d,e(r)}))},r={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i};let s=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:t}),t==null||t.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),r}function K1(n){const e=new Map;for(const[t,i]of new URLSearchParams(n))e.set(t.toLowerCase(),i);return e}const YK=/[\x00-\x1F]/g;function _w(n,e=!1){return YK.test(n)?e?n.replaceAll(YK,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function Vw(n,e,t=0){let i=t,r=n.length-1;if(r<0||!e(n[r]))return n.length;if(e(n[i]))return i;for(;i<r;){const s=i+r>>1,a=n[s];e(a)?r=s:i=s+1}return i}function XK(n){if(Math.floor(n)===n)return[n,1];const e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const i=n>1?e:n;let r=0,s=1,a=1,o=1;for(;;){const u=r+a,d=s+o;if(d>t)break;i<=u/d?(a=u,o=d):(r=u,s=d)}let l;return i-r/s<a/o-i?l=i===n?[r,s]:[s,r]:l=i===n?[a,o]:[o,a],l}function zS(n,e){return n-n%e}function spe(n,e,t){if(n<2)return n;let i=e[n].div,r=i.offsetTop+i.clientTop;r>=t&&(i=e[n-1].div,r=i.offsetTop+i.clientTop);for(let s=n-2;s>=0&&(i=e[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=r));--s)n=s;return n}function ape({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:r=!1}){const s=n.scrollTop,a=s+n.clientHeight,o=n.scrollLeft,l=o+n.clientWidth;function u(I){const T=I.div;return T.offsetTop+T.clientTop+T.clientHeight>s}function d(I){const T=I.div,R=T.offsetLeft+T.clientLeft,P=R+T.clientWidth;return r?R<l:P>o}const h=[],g=new Set,v=e.length;let b=Vw(e,i?d:u);b>0&&b<v&&!i&&(b=spe(b,e,s));let C=i?l:-1;for(let I=b;I<v;I++){const T=e[I],R=T.div,P=R.offsetLeft+R.clientLeft,D=R.offsetTop+R.clientTop,Q=R.clientWidth,H=R.clientHeight,k=P+Q,K=D+H;if(C===-1)K>=a&&(C=K);else if((i?P:D)>C)break;if(K<=s||D>=a||k<=o||P>=l)continue;const V=Math.max(0,s-D),q=Math.max(0,o-P),X=V+Math.max(0,K-a),ne=q+Math.max(0,k-l),ge=(H-X)/H,G=(Q-ne)/Q,$=ge*G*100|0;h.push({id:T.id,x:P,y:D,visibleArea:$===100?null:{minX:q,minY:V,maxX:Math.min(k,l)-P,maxY:Math.min(K,a)-D},view:T,percent:$,widthPercent:G*100|0}),g.add(T.id)}const E=h[0],x=h.at(-1);return t&&h.sort(function(I,T){const R=I.percent-T.percent;return Math.abs(R)>.001?-R:I.id-T.id}),{first:E,last:x,views:h,ids:g}}function JW(n){return Number.isInteger(n)&&n%90===0}function ope(n){return Number.isInteger(n)&&Object.values(Mt).includes(n)&&n!==Mt.UNKNOWN}function Ape(n){return Number.isInteger(n)&&Object.values(Lr).includes(n)&&n!==Lr.UNKNOWN}function JK(n){return n.width<=n.height}new Promise(function(n){window.requestAnimationFrame(n)});const lpe=document.documentElement.style;var fd,Xh,hd,_v,Jh;class upe{constructor(e){F(this,fd,null);F(this,Xh,null);F(this,hd,0);F(this,_v,null);F(this,Jh,!0);_(this,fd,e.classList),_(this,_v,e.style)}get percent(){return f(this,hd)}set percent(e){if(_(this,hd,GQ(e,0,100)),isNaN(e)){f(this,fd).add("indeterminate");return}f(this,fd).remove("indeterminate"),f(this,_v).setProperty("--progressBar-percent",`${f(this,hd)}%`)}setWidth(e){if(!e)return;const i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&f(this,_v).setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){f(this,hd)===100||isNaN(f(this,hd))||(f(this,Xh)&&clearTimeout(f(this,Xh)),this.show(),_(this,Xh,setTimeout(()=>{_(this,Xh,null),this.hide()},e)))}hide(){f(this,Jh)&&(_(this,Jh,!1),f(this,fd).add("hidden"))}show(){f(this,Jh)||(_(this,Jh,!0),f(this,fd).remove("hidden"))}}fd=new WeakMap,Xh=new WeakMap,hd=new WeakMap,_v=new WeakMap,Jh=new WeakMap;function cpe(n){let e=Mt.VERTICAL,t=Lr.NONE;switch(n){case"SinglePage":e=Mt.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=Mt.PAGE;case"TwoColumnLeft":t=Lr.ODD;break;case"TwoPageRight":e=Mt.PAGE;case"TwoColumnRight":t=Lr.EVEN;break}return{scrollMode:e,spreadMode:t}}const qS=(function(){const n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e})(),co={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function dpe(n){return n<11904}function fpe(n){return(n&65408)===0}function hpe(n){return n>=97&&n<=122||n>=65&&n<=90}function ppe(n){return n>=48&&n<=57}function gpe(n){return n===32||n===9||n===13||n===10}function mpe(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function vpe(n){return n>=12448&&n<=12543}function ype(n){return n>=12352&&n<=12447}function wpe(n){return n>=65376&&n<=65439}function bpe(n){return(n&65408)===3584}function $S(n){return dpe(n)?fpe(n)?gpe(n)?co.SPACE:hpe(n)||ppe(n)||n===95?co.ALPHA_LETTER:co.PUNCT:bpe(n)?co.THAI_LETTER:n===160?co.SPACE:co.ALPHA_LETTER:mpe(n)?co.HAN_LETTER:vpe(n)?co.KATAKANA_LETTER:ype(n)?co.HIRAGANA_LETTER:wpe(n)?co.HALFWIDTH_KATAKANA_LETTER:co.ALPHA_LETTER}let Cpe;function Bpe(){return Cpe}const dc={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},Epe=250,Spe=-50,ZK={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},eG=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let tG;const xpe=new RegExp("\\p{M}+","gu"),_pe=new RegExp("([*+^${}()|[\\]\\\\])|(\\p{P}+)|(\\s+)|(\\p{M})|(\\p{L})","gu"),Tpe=new RegExp("([^\\p{M}])\\p{M}*$","u"),Ipe=new RegExp("^\\p{M}*([^\\p{M}])","u"),Fpe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,nG=new Map,Upe="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",iG=new Map;let pM=null,gM=null;function S_(n,e={}){const t=[];let i;for(;(i=Fpe.exec(n))!==null;){let{index:I}=i;for(const T of i[0]){let R=nG.get(T);R||(R=T.normalize("NFD").length,nG.set(T,R)),t.push([R,I++])}}const r=t.length>0,s=e.ignoreDashEOL??!1;let a;if(!r&&pM)a=pM;else if(r&&gM)a=gM;else{const I=Object.keys(ZK).join(""),T=Bpe(),Q=[`[${I}]`,`[${T}]`,"(?:|)\\n","\\p{M}+(?:-\\n)?","\\p{Ll}-\\n(?=\\p{Ll})|\\p{Lu}-\\n(?=\\p{L})","\\S-\\n","(?:\\p{Ideographic}|[-])\\n","\\n",r?Upe:"\\u0000"];a=new RegExp(Q.map(H=>`(${H})`).join("|"),"gum"),r?gM=a:pM=a}const o=[];for(;(i=xpe.exec(n))!==null;)o.push([i[0].length,i.index]);let l=n.normalize("NFD");const u=[0,0];let d=0,h=0,g=0,v=0,b=0,C=!1;l=l.replace(a,(I,T,R,P,D,Q,H,k,K,V,q)=>{var X,ne,ge;if(q-=v,T){const G=ZK[T],$=G.length;for(let ie=1;ie<$;ie++)u.push(q-g+ie,g-ie);return g-=$-1,G}if(R){let G=iG.get(R);G||(G=R.normalize("NFKC"),iG.set(R,G));const $=G.length;for(let ie=1;ie<$;ie++)u.push(q-g+ie,g-ie);return g-=$-1,G}if(P)return C=!0,q+b===((X=o[d])==null?void 0:X[1])?++d:(u.push(q-1-g+1,g-1),g-=1,v+=1),u.push(q-g+1,g),v+=1,b+=1,P.charAt(0);if(D){const G=D.endsWith(`
`),$=G?D.length-2:D.length;C=!0;let ie=$;q+b===((ne=o[d])==null?void 0:ne[1])&&(ie-=o[d][0],++d);for(let se=1;se<=ie;se++)u.push(q-1-g+se,g-se);return g-=ie,v+=ie,G?(q+=$-1,u.push(q-g+1,1+g),g+=1,v+=1,b+=1,D.slice(0,$)):D}if(Q){if(s)return v+=1,b+=1,Q.slice(0,-1);const G=Q.length-2;return u.push(q-g+G,1+g),g+=1,v+=1,b+=1,Q.slice(0,-2)}if(H)return v+=1,b+=1,H.slice(0,-1);if(k){const G=k.length-1;return u.push(q-g+G,g),v+=1,b+=1,k.slice(0,-1)}if(K)return u.push(q-g+1,g-1),g-=1,v+=1,b+=1," ";if(q+b===((ge=t[h])==null?void 0:ge[1])){const G=t[h][0]-1;++h;for(let $=1;$<=G;$++)u.push(q-(g-$),g-$);g-=G,v+=G}return V}),u.push(l.length,g);const E=new Uint32Array(u.length>>1),x=new Int32Array(u.length>>1);for(let I=0,T=u.length;I<T;I+=2)E[I>>1]=u[I],x[I>>1]=u[I+1];return[l,[E,x],C]}function ZW(n,e,t){if(!n)return[e,t];const[i,r]=n,s=e,a=e+t-1;let o=Vw(i,g=>g>=s);i[o]>s&&--o;let l=Vw(i,g=>g>=a,o);i[l]>a&&--l;const u=s+r[o],h=a+r[l]+1-u;return[u,h]}var Mi,Tv,Zh,We,eY,mN,vN,tY,nY,yN,iY,rY,x_,uw,Fg,sY,wN,bN,__,aY,CN,BN,cw;class Mpe{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){F(this,We);F(this,Mi,null);F(this,Tv,!0);F(this,Zh,0);this._linkService=e,this._eventBus=t,_(this,Tv,i),this.onIsPageVisible=null,M(this,We,mN).call(this),t._on("find",M(this,We,eY).bind(this)),t._on("findbarclose",M(this,We,aY).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return f(this,Mi)}setDocument(e){this._pdfDocument&&M(this,We,mN).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:r=-1}){if(!this._scrollMatches||!e)return;if(r===-1||r!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1,XW(e,{top:Spe,left:t},!0)}match(e,t,i){const r=this._hasDiacritics[i];let s=!1;if(typeof e=="string"?[s,e]=M(this,We,yN).call(this,e,r):e=e.sort().reverse().map(h=>{const[g,v]=M(this,We,yN).call(this,h,r);return s||(s=g),`(${v})`}).join("|"),!e)return;const{caseSensitive:a,entireWord:o}=f(this,Mi),l=`g${s?"u":""}${a?"":"i"}`;e=new RegExp(e,l);const u=[];let d;for(;(d=e.exec(t))!==null;)o&&!M(this,We,nY).call(this,t,d.index,d[0].length)||u.push({index:d.index,length:d[0].length});return u}}Mi=new WeakMap,Tv=new WeakMap,Zh=new WeakMap,We=new WeakSet,eY=function(e){if(!e)return;const t=this._pdfDocument,{type:i}=e;(f(this,Mi)===null||M(this,We,tY).call(this,e))&&(this._dirtyMatch=!0),_(this,Mi,e),i!=="highlightallchange"&&M(this,We,cw).call(this,dc.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;M(this,We,rY).call(this);const r=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?M(this,We,Fg).call(this):i==="again"?(M(this,We,Fg).call(this),r&&f(this,Mi).highlightAll&&M(this,We,uw).call(this)):i==="highlightallchange"?(s?M(this,We,Fg).call(this):this._highlightMatches=!0,M(this,We,uw).call(this)):M(this,We,Fg).call(this):this._findTimeout=setTimeout(()=>{M(this,We,Fg).call(this),this._findTimeout=null},Epe)})},mN=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],_(this,Zh,0),_(this,Mi,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},vN=function(){const{query:e}=f(this,Mi);return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=S_(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>S_(t)[0])},tY=function(e){var a;const t=e.query,i=f(this,Mi).query,r=typeof t;if(r!==typeof i)return!0;if(r==="string"){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":const o=this._selected.pageIdx+1,l=this._linkService;return o>=1&&o<=l.pagesCount&&o!==l.page&&!(((a=this.onIsPageVisible)==null?void 0:a.call(this,o))??!0);case"highlightallchange":return!1}return!0},nY=function(e,t,i){let r=e.slice(0,t).match(Tpe);if(r){const s=e.charCodeAt(t),a=r[1].charCodeAt(0);if($S(s)===$S(a))return!1}if(r=e.slice(t+i).match(Ipe),r){const s=e.charCodeAt(t+i-1),a=r[1].charCodeAt(0);if($S(s)===$S(a))return!1}return!0},yN=function(e,t){const{matchDiacritics:i}=f(this,Mi);let r=!1;const s=(o,l)=>o===e?l:e.startsWith(o)?`${l}[ ]*`:e.endsWith(o)?`[ ]*${l}`:`[ ]*${l}[ ]*`;e=e.replaceAll(_pe,(o,l,u,d,h,g)=>l?s(l,`\\${l}`):u?s(u,u.replaceAll(/[.?]/g,"\\$&")):d?"[ ]+":i?h||g:h?eG.has(h.charCodeAt(0))?h:"":t?(r=!0,`${g}\\p{M}*`):g);const a="[ ]*";return e.endsWith(a)&&(e=e.slice(0,e.length-a.length)),i&&t&&(tG||(tG=String.fromCharCode(...eG)),r=!0,e=`${e}(?=[${tG}]|[^\\p{M}]|$)`),[r,e]},iY=function(e){if(!f(this,Mi))return;const t=f(this,We,vN);if(t.length===0)return;const i=this._pageContents[e],r=this.match(t,i,e),s=this._pageMatches[e]=[],a=this._pageMatchesLength[e]=[],o=this._pageDiffs[e];r==null||r.forEach(({index:u,length:d})=>{const[h,g]=ZW(o,u,d);g&&(s.push(h),a.push(g))}),f(this,Mi).highlightAll&&M(this,We,x_).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,M(this,We,wN).call(this));const l=s.length;this._matchesCountTotal+=l,f(this,Tv)?l>0&&M(this,We,BN).call(this):++ai(this,Zh)._===this._linkService.pagesCount&&M(this,We,BN).call(this)},rY=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0},i=this._pdfDocument;for(let r=0,s=this._linkService.pagesCount;r<s;r++){const{promise:a,resolve:o}=Promise.withResolvers();this._extractTextPromises[r]=a,e=e.then(async()=>{if(i!==this._pdfDocument){o();return}await i.getPage(r+1).then(l=>l.getTextContent(t)).then(l=>{const u=[];for(const d of l.items)u.push(d.str),d.hasEOL&&u.push(`
`);[this._pageContents[r],this._pageDiffs[r],this._hasDiacritics[r]]=S_(u.join("")),o()},l=>{console.error(`Unable to get text content for page ${r+1}`,l),this._pageContents[r]="",this._pageDiffs[r]=null,this._hasDiacritics[r]=!1,o()})})}},x_=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},uw=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Fg=function(){const e=f(this,Mi).findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,_(this,Zh,0),this._matchesCountTotal=0,M(this,We,uw).call(this);for(let a=0;a<i;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),M(this,We,iY).call(this,a)}))}if(f(this,We,vN).length===0){M(this,We,cw).call(this,dc.FOUND);return}if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=i,s.matchIdx!==null){const a=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<a||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,M(this,We,__).call(this,!0);return}M(this,We,bN).call(this,e)}M(this,We,wN).call(this)},sY=function(e){const t=this._offset,i=e.length,r=f(this,Mi).findPrevious;return i?(t.matchIdx=r?i-1:0,M(this,We,__).call(this,!0),!0):(M(this,We,bN).call(this,r),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(M(this,We,__).call(this,!1),!0):!1)},wN=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!M(this,We,sY).call(this,e))},bN=function(e){const t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)},__=function(e=!1){let t=dc.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,e){const r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?dc.WRAPPED:dc.FOUND,r!==-1&&r!==this._selected.pageIdx&&M(this,We,x_).call(this,r)}M(this,We,cw).call(this,t,f(this,Mi).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,M(this,We,x_).call(this,this._selected.pageIdx))},aY=function(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),M(this,We,cw).call(this,dc.FOUND),this._highlightMatches=!1,M(this,We,uw).call(this))})},CN=function(){var s;const{pageIdx:e,matchIdx:t}=this._selected;let i=0,r=this._matchesCountTotal;if(t!==-1){for(let a=0;a<e;a++)i+=((s=this._pageMatches[a])==null?void 0:s.length)||0;i+=t+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}},BN=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:M(this,We,CN).call(this)})},cw=function(e,t=!1){var i,r;!f(this,Tv)&&(f(this,Zh)!==this._linkService.pagesCount||e===dc.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:((i=f(this,Mi))==null?void 0:i.entireWord)??null,matchesCount:M(this,We,CN).call(this),rawQuery:((r=f(this,Mi))==null?void 0:r.query)??null})};const Ppe="noopener noreferrer nofollow",Ef={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class qQ{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:r=!1}={}){me(this,"externalLinkEnabled",!0);this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=r,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,i,r;if(typeof e=="string"?(t=e,i=await this.pdfDocument.getDestination(e)):(t=null,i=await e),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);return}const[s]=i;if(s&&typeof s=="object"){if(r=this.pdfDocument.cachedPageNumber(s),!r)try{r=await this.pdfDocument.getPageIndex(s)+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(r=s+1);if(!r||r<1||r>this.pagesCount){console.error(`goToDestination: "${r}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:r})),this.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom});const a=new AbortController;this.eventBus._on("textlayerrendered",o=>{o.pageNumber===r&&(o.source.textLayer.div.focus(),a.abort())},{signal:a.signal})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}goToXY(e,t,i,r={}){this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:[null,{name:"XYZ"},t,i],ignoreDestinationZoom:!0,...r})}addLinkAttributes(e,t,i=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const r=i?Ef.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let a="";switch(r){case Ef.NONE:break;case Ef.SELF:a="_self";break;case Ef.BLANK:a="_blank";break;case Ef.PARENT:a="_parent";break;case Ef.TOP:a="_top";break}e.target=a,e.rel=typeof s=="string"?s:Ppe}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const r=K1(e);if(r.has("search")){const s=r.get("search").replaceAll('"',""),a=r.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:a?s:s.match(/\S+/g)})}if(r.has("page")&&(t=r.get("page")|0||1),r.has("zoom")){const s=r.get("zoom").split(","),a=s[0],o=parseFloat(a);a.includes("Fit")?a==="Fit"||a==="FitB"?i=[null,{name:a}]:a==="FitH"||a==="FitBH"||a==="FitV"||a==="FitBV"?i=[null,{name:a},s.length>1?s[1]|0:null]:a==="FitR"?s.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:a},s[1]|0,s[2]|0,s[3]|0,s[4]|0]:console.error(`PDFLinkService.setHash: "${a}" is not a valid zoom value.`):i=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,o?o/100:a]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),r.has("nameddest")&&this.goToDestination(r.get("nameddest"));return}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||Yhe(i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,i;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(i=this.pdfHistory)==null||i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,i=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))}}class $Q extends qQ{setDocument(e,t=null){}}var pd,YC,XC,JC,gd,ZC,Iu,AY,EN,lY;class oY{constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:r=null,imageResourcesPath:s="",renderForms:a=!0,enableComment:o=!1,commentManager:l=null,enableScripting:u=!1,hasJSActionsPromise:d=null,fieldObjectsPromise:h=null,annotationCanvasMap:g=null,accessibilityManager:v=null,annotationEditorUIManager:b=null,onAppend:C=null}){F(this,Iu);F(this,pd,null);F(this,YC,null);F(this,XC,!1);F(this,JC,null);F(this,gd,null);F(this,ZC,!1);this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=a,this.annotationStorage=r,this.enableComment=o,_(this,YC,l),this.enableScripting=u,this._hasJSActionsPromise=d||Promise.resolve(!1),this._fieldObjectsPromise=h||Promise.resolve(null),this._annotationCanvasMap=g,this._accessibilityManager=v,this._annotationEditorUIManager=b,_(this,JC,C),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render({viewport:e,intent:t="display",structTreeLayer:i=null}){var l,u;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[r,s,a]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const o=this.div=document.createElement("div");if(o.className="annotationLayer",(l=f(this,JC))==null||l.call(this,o),M(this,Iu,AY).call(this,e,i),r.length===0){_(this,pd,r),WW(this.div,e);return}await this.annotationLayer.render({annotations:r,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,downloadManager:this.downloadManager,enableComment:this.enableComment,enableScripting:this.enableScripting,hasJSActions:s,fieldObjects:a}),_(this,pd,r),this.linkService.isInPresentationMode&&M(this,Iu,EN).call(this,Wg.FULLSCREEN),f(this,gd)||(_(this,gd,new AbortController),(u=this._eventBus)==null||u._on("presentationmodechanged",d=>{M(this,Iu,EN).call(this,d.state)},{signal:f(this,gd).signal}))}cancel(){var e;this._cancelled=!0,(e=f(this,gd))==null||e.abort(),_(this,gd,null)}hide(e=!1){_(this,XC,!e),this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){var e;return!!((e=this.annotationLayer)!=null&&e.hasEditableAnnotations())}async injectLinkAnnotations(e){if(f(this,pd)===null)throw new Error("`render` method must be called before `injectLinkAnnotations`.");if(this._cancelled||f(this,ZC))return;_(this,ZC,!0);const t=f(this,pd).length?M(this,Iu,lY).call(this,e):e;t.length&&(await this.annotationLayer.addLinkAnnotations(t),f(this,XC)||(this.div.hidden=!1))}}pd=new WeakMap,YC=new WeakMap,XC=new WeakMap,JC=new WeakMap,gd=new WeakMap,ZC=new WeakMap,Iu=new WeakSet,AY=function(e,t){this.annotationLayer=new qhe({div:this.div,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,annotationStorage:this.annotationStorage,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t,commentManager:f(this,YC),linkService:this.linkService})},EN=function(e){if(!this.div)return;let t=!1;switch(e){case Wg.FULLSCREEN:t=!0;break;case Wg.NORMAL:break;default:return}for(const i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)},lY=function(e){function t(s){if(!s.quadPoints)return[s.rect];const a=[];for(let o=2,l=s.quadPoints.length;o<l;o+=8){const u=s.quadPoints[o],d=s.quadPoints[o+1],h=s.quadPoints[o+2],g=s.quadPoints[o+3];a.push([h,g,u,d])}return a}function i(s,a){const o=[],l=t(s),u=t(a);for(const d of l)for(const h of u){const g=zQ.intersect(d,h);g&&o.push(g)}return o}function r(s){let a=0;for(const o of s)a+=Math.abs((o[2]-o[0])*(o[3]-o[1]));return a}return e.filter(s=>{let a;for(const o of f(this,pd)){if(o.annotationType!==qW.LINK||!o.url)continue;const l=i(o,s);if(l.length!==0&&(a??(a=r(t(s))),r(l)/a>.5))return!1}return!0})};function rG(n,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var wQ;class Rpe{constructor(){F(this,wQ,new WeakMap)}downloadData(e,t,i){const r=URL.createObjectURL(new Blob([e],{type:i}));rG(r,t)}openOrDownloadData(e,t,i=null){const s=Whe(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,i){let r;if(e)r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!$W(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}r=t+"#pdfjs.action=download"}rG(r,i)}}wQ=new WeakMap;const sG={EVENT:"event",TIMEOUT:"timeout"};async function Dpe({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:i,resolve:r}=Promise.withResolvers(),s=new AbortController;function a(u){s.abort(),clearTimeout(l),r(u)}const o=n instanceof jQ?"_on":"addEventListener";n[o](e,a.bind(null,sG.EVENT),{signal:s.signal});const l=setTimeout(a.bind(null,sG.TIMEOUT),t);return i}var Iv;class jQ{constructor(){F(this,Iv,Object.create(null))}on(e,t,i=null){this._on(e,t,{external:!0,once:i==null?void 0:i.once,signal:i==null?void 0:i.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){const i=f(this,Iv)[e];if(!i||i.length===0)return;let r;for(const{listener:s,external:a,once:o}of i.slice(0)){if(o&&this._off(e,s),a){(r||(r=[])).push(s);continue}s(t)}if(r){for(const s of r)s(t);r=null}}_on(e,t,i=null){var a;let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:o}=i;if(o.aborted){console.error("Cannot use an `aborted` signal.");return}const l=()=>this._off(e,t);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}((a=f(this,Iv))[e]||(a[e]=[])).push({listener:t,external:(i==null?void 0:i.external)===!0,once:(i==null?void 0:i.once)===!0,rmAbort:r})}_off(e,t,i=null){var s;const r=f(this,Iv)[e];if(r)for(let a=0,o=r.length;a<o;a++){const l=r[a];if(l.listener===t){(s=l.rmAbort)==null||s.call(l),r.splice(a,1);return}}}}Iv=new WeakMap;class Yg{constructor(e){this.value=e}valueOf(){return this.value}}class Ei extends Yg{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class uu extends Yg{constructor(e,t={}){super(e),this.opts=t}toString(e){if(e)try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return this.value.toString(10)}}class Od extends Yg{static supportsValue(e){if(typeof e=="number"||e instanceof Date)return!0;if(e instanceof Yg)return Od.supportsValue(e.valueOf());if("Temporal"in globalThis){const t=globalThis.Temporal;if(e instanceof t.Instant||e instanceof t.PlainDateTime||e instanceof t.PlainDate||e instanceof t.PlainMonthDay||e instanceof t.PlainTime||e instanceof t.PlainYearMonth)return!0}return!1}constructor(e,t={}){e instanceof Od?(t={...e.opts,...t},e=e.value):e instanceof Yg&&(e=e.valueOf()),typeof e=="object"&&"calendarId"in e&&t.calendar===void 0&&(t={...t,calendar:e.calendarId}),super(e),this.opts=t}[Symbol.toPrimitive](e){return e==="string"?this.toString():this.toNumber()}toNumber(){const e=this.value;if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();if("epochMilliseconds"in e)return e.epochMilliseconds;if("toZonedDateTime"in e)return e.toZonedDateTime("UTC").epochMilliseconds;throw new TypeError("Unwrapping a non-number value as a number")}toString(e){if(e)try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return typeof this.value=="number"||this.value instanceof Date?new Date(this.value).toISOString():this.value.toString()}}const aG=100,Npe="",Lpe="";function Qpe(n,e,t){if(t===e||t instanceof uu&&e instanceof uu&&t.value===e.value)return!0;if(e instanceof uu&&typeof t=="string"){let i=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===i)return!0}return!1}function oG(n,e,t){return e[t]?Xv(n,e[t].value):(n.reportError(new RangeError("No default")),new Ei)}function SN(n,e){const t=[],i=Object.create(null);for(const r of e)r.type==="narg"?i[r.name]=Kw(n,r.value):t.push(Kw(n,r));return{positional:t,named:i}}function Kw(n,e){switch(e.type){case"str":return e.value;case"num":return new uu(e.value,{minimumFractionDigits:e.precision});case"var":return kpe(n,e);case"mesg":return Ope(n,e);case"term":return Hpe(n,e);case"func":return Vpe(n,e);case"select":return Kpe(n,e);default:return new Ei}}function kpe(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new Ei(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new Ei(`$${e}`);if(t instanceof Yg)return t;switch(typeof t){case"string":return t;case"number":return new uu(t);case"object":if(Od.supportsValue(t))return new Od(t);default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new Ei(`$${e}`)}}function Ope(n,{name:e,attr:t}){const i=n.bundle._messages.get(e);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new Ei(e);if(t){const r=i.attributes[t];return r?Xv(n,r):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ei(`${e}.${t}`))}return i.value?Xv(n,i.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new Ei(e))}function Hpe(n,{name:e,attr:t,args:i}){const r=`-${e}`,s=n.bundle._terms.get(r);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${r}`)),new Ei(r);if(t){const o=s.attributes[t];if(o){n.params=SN(n,i).named;const l=Xv(n,o);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Ei(`${r}.${t}`)}n.params=SN(n,i).named;const a=Xv(n,s.value);return n.params=null,a}function Vpe(n,{name:e,args:t}){let i=n.bundle._functions[e];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new Ei(`${e}()`);if(typeof i!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new Ei(`${e}()`);try{let r=SN(n,t);return i(r.positional,r.named)}catch(r){return n.reportError(r),new Ei(`${e}()`)}}function Kpe(n,{selector:e,variants:t,star:i}){let r=Kw(n,e);if(r instanceof Ei)return oG(n,t,i);for(const s of t){const a=Kw(n,s.key);if(Qpe(n,r,a))return Xv(n,s.value)}return oG(n,t,i)}function uY(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new Ei;n.dirty.add(e);const t=[],i=n.bundle._useIsolating&&e.length>1;for(const r of e){if(typeof r=="string"){t.push(n.bundle._transform(r));continue}if(n.placeables++,n.placeables>aG)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${aG}`);i&&t.push(Npe),t.push(Kw(n,r).toString(n)),i&&t.push(Lpe)}return n.dirty.delete(e),t.join("")}function Xv(n,e){return typeof e=="string"?n.bundle._transform(e):uY(n,e)}class Gpe{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let r=JSON.stringify(t);return i[r]||(i[r]=new e(this.bundle.locales,t)),i[r]}}function xN(n,e){const t=Object.create(null);for(const[i,r]of Object.entries(n))e.includes(i)&&(t[i]=r.valueOf());return t}const AG=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function zpe(n,e){let t=n[0];if(t instanceof Ei)return new Ei(`NUMBER(${t.valueOf()})`);if(t instanceof uu)return new uu(t.valueOf(),{...t.opts,...xN(e,AG)});if(t instanceof Od)return new uu(t.toNumber(),{...xN(e,AG)});throw new TypeError("Invalid argument to NUMBER")}const qpe=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function $pe(n,e){let t=n[0];if(t instanceof Ei)return new Ei(`DATETIME(${t.valueOf()})`);if(t instanceof Od||t instanceof uu)return new Od(t,xN(e,qpe));throw new TypeError("Invalid argument to DATETIME")}const lG=new Map;function jpe(n){const e=Array.isArray(n)?n.join(" "):n;let t=lG.get(e);return t===void 0&&(t=new Map,lG.set(e,t)),t}class Wpe{constructor(e,{functions:t,useIsolating:i=!0,transform:r=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:zpe,DATETIME:$pe,...t},this._useIsolating=i,this._transform=r,this._intls=jpe(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const i=[];for(let r=0;r<e.body.length;r++){let s=e.body[r];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(e,t=null,i=null){if(typeof e=="string")return this._transform(e);let r=new Gpe(this,i,t);try{return uY(r,e).toString(r)}catch(s){if(r.errors&&s instanceof Error)return r.errors.push(s),new Ei().toString(r);throw s}}}const mM=/^(-?[a-zA-Z][\w-]*) *= */gm,uG=/\.([a-zA-Z][\w-]*) *= */y,Ype=/\*?\[/y,vM=/(-?[0-9]+(?:\.([0-9]+))?)/y,Xpe=/([a-zA-Z][\w-]*)/y,cG=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,Jpe=/^[A-Z][A-Z0-9_-]*$/,jS=/([^{}\n\r]+)/y,Zpe=/([^\\"\n\r]*)/y,dG=/\\([\\"])/y,fG=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,ege=/^\n+/,hG=/ +$/,tge=/ *\r?\n/g,nge=/( *)$/,ige=/{\s*/y,pG=/\s*}/y,rge=/\[\s*/y,sge=/\s*] */y,age=/\s*\(\s*/y,oge=/\s*->\s*/y,Age=/\s*:\s*/y,lge=/\s*,?\s*/y,uge=/\s+/y;class cge{constructor(e){this.body=[],mM.lastIndex=0;let t=0;for(;;){let k=mM.exec(e);if(k===null)break;t=mM.lastIndex;try{this.body.push(l(k[1]))}catch(K){if(K instanceof SyntaxError)continue;throw K}}function i(k){return k.lastIndex=t,k.test(e)}function r(k,K){if(e[t]===k)return t++,!0;if(K)throw new K(`Expected ${k}`);return!1}function s(k,K){if(i(k))return t=k.lastIndex,!0;if(K)throw new K(`Expected ${k.toString()}`);return!1}function a(k){k.lastIndex=t;let K=k.exec(e);if(K===null)throw new SyntaxError(`Expected ${k.toString()}`);return t=k.lastIndex,K}function o(k){return a(k)[1]}function l(k){let K=d(),V=u();if(K===null&&Object.keys(V).length===0)throw new SyntaxError("Expected message value or attributes");return{id:k,value:K,attributes:V}}function u(){let k=Object.create(null);for(;i(uG);){let K=o(uG),V=d();if(V===null)throw new SyntaxError("Expected attribute value");k[K]=V}return k}function d(){let k;if(i(jS)&&(k=o(jS)),e[t]==="{"||e[t]==="}")return h(k?[k]:[],1/0);let K=D();return K?k?h([k,K],K.length):(K.value=Q(K.value,ege),h([K],K.length)):k?Q(k,hG):null}function h(k=[],K){for(;;){if(i(jS)){k.push(o(jS));continue}if(e[t]==="{"){k.push(g());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let ne=D();if(ne){k.push(ne),K=Math.min(K,ne.length);continue}break}let V=k.length-1,q=k[V];typeof q=="string"&&(k[V]=Q(q,hG));let X=[];for(let ne of k)ne instanceof gG&&(ne=ne.value.slice(0,ne.value.length-K)),ne&&X.push(ne);return X}function g(){s(ige,SyntaxError);let k=v();if(s(pG))return k;if(s(oge)){let K=E();return s(pG,SyntaxError),{type:"select",selector:k,...K}}throw new SyntaxError("Unclosed placeable")}function v(){if(e[t]==="{")return g();if(i(cG)){let[,k,K,V=null]=a(cG);if(k==="$")return{type:"var",name:K};if(s(age)){let q=b();if(k==="-")return{type:"term",name:K,attr:V,args:q};if(Jpe.test(K))return{type:"func",name:K,args:q};throw new SyntaxError("Function names must be all upper-case")}return k==="-"?{type:"term",name:K,attr:V,args:[]}:{type:"mesg",name:K,attr:V}}return I()}function b(){let k=[];for(;;){switch(e[t]){case")":return t++,k;case void 0:throw new SyntaxError("Unclosed argument list")}k.push(C()),s(lge)}}function C(){let k=v();return k.type!=="mesg"?k:s(Age)?{type:"narg",name:k.name,value:I()}:k}function E(){let k=[],K=0,V;for(;i(Ype);){r("*")&&(V=K);let q=x(),X=d();if(X===null)throw new SyntaxError("Expected variant value");k[K++]={key:q,value:X}}if(K===0)return null;if(V===void 0)throw new SyntaxError("Expected default variant");return{variants:k,star:V}}function x(){s(rge,SyntaxError);let k;return i(vM)?k=T():k={type:"str",value:o(Xpe)},s(sge,SyntaxError),k}function I(){if(i(vM))return T();if(e[t]==='"')return R();throw new SyntaxError("Invalid expression")}function T(){let[,k,K=""]=a(vM),V=K.length;return{type:"num",value:parseFloat(k),precision:V}}function R(){r('"',SyntaxError);let k="";for(;;){if(k+=o(Zpe),e[t]==="\\"){k+=P();continue}if(r('"'))return{type:"str",value:k};throw new SyntaxError("Unclosed string literal")}}function P(){if(i(dG))return o(dG);if(i(fG)){let[,k,K]=a(fG),V=parseInt(k||K,16);return V<=55295||57344<=V?String.fromCodePoint(V):""}throw new SyntaxError("Unknown escape sequence")}function D(){let k=t;switch(s(uge),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return H(e.slice(k,t))}return e[t-1]===" "?H(e.slice(k,t)):!1}function Q(k,K){return k.replace(K,"")}function H(k){let K=k.replace(tge,`
`),V=nge.exec(k)[1].length;return new gG(K,V)}}}class gG{constructor(e,t){this.value=e,this.length=t}}const dge=/<|&#?\w+;/,fge={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},hge={"http://www.w3.org/1999/xhtml":{global:["title","aria-description","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function pge(n,e){const{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!dge.test(t))n.textContent=t;else{const i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,gge(i.content,n)}cY(e,n)}function gge(n,e){for(const t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const i=vge(e,t);n.replaceChild(i,t);continue}if(wge(t)){const i=yge(t);n.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(_N(t),t)}e.textContent="",e.appendChild(n)}function mge(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function cY(n,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(const i of Array.from(e.attributes))mG(i.name,e,t)&&!mge(n.attributes,i.name)&&e.removeAttribute(i.name);if(n.attributes)for(const i of Array.from(n.attributes))mG(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function vge(n,e){const t=e.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${t}"]`);if(!i)return console.warn(`An element named "${t}" wasn't found in the source.`),_N(e);if(i.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),_N(e);n.removeChild(i);const r=i.cloneNode(!1);return dY(e,r)}function yge(n){const e=n.ownerDocument.createElement(n.localName);return dY(n,e)}function _N(n){return n.ownerDocument.createTextNode(n.textContent)}function wge(n){const e=fge[n.namespaceURI];return e&&e.includes(n.localName)}function mG(n,e,t=null){if(t&&t.includes(n))return!0;const i=hge[e.namespaceURI];if(!i)return!1;const r=n.toLowerCase(),s=e.localName;if(i.global.includes(r))return!0;if(!i[s])return!1;if(i[s].includes(r))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&r==="value"){const a=e.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function dY(n,e){return e.textContent=n.textContent,cY(n,e),e}class bge extends Array{static from(e){return e instanceof this?e:new this(e)}}class Cge extends bge{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const i=this[this.length-1];if(i&&(await i).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class Bge{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const i=[];let r=!1;for await(const s of this.bundles){r=!0;const a=xge(t,s,e,i);if(a.size===0)break;if(typeof console<"u"){const o=s.locales[0],l=Array.from(a).join(", ");console.warn(`[fluent] Missing translations in ${o}: ${l}`)}}return!r&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i}formatMessages(e){return this.formatWithFallback(e,Sge)}formatValues(e){return this.formatWithFallback(e,Ege)}async formatValue(e,t){const[i]=await this.formatValues([{id:e,args:t}]);return i}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=Cge.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function Ege(n,e,t,i){return t.value?n.formatPattern(t.value,i,e):null}function Sge(n,e,t,i){const r={value:null,attributes:null};t.value&&(r.value=n.formatPattern(t.value,i,e));let s=Object.keys(t.attributes);if(s.length>0){r.attributes=new Array(s.length);for(let[a,o]of s.entries()){let l=n.formatPattern(t.attributes[o],i,e);r.attributes[a]={name:o,value:l}}}return r}function xge(n,e,t,i){const r=[],s=new Set;return t.forEach(({id:a,args:o},l)=>{if(i[l]!==void 0)return;let u=e.getMessage(a);if(u){if(r.length=0,i[l]=n(e,r,u,o),r.length>0&&typeof console<"u"){const d=e.locales[0],h=r.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${h}.`)}}else s.add(a)}),s}const Sf="data-l10n-id",T0="data-l10n-args",_ge=`[${Sf}]`;class Tge extends Bge{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[Sf,T0]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(Sf,t),i?e.setAttribute(T0,JSON.stringify(i)):e.removeAttribute(T0),e}getAttributes(e){return{id:e.getAttribute(Sf),args:JSON.parse(e.getAttribute(T0)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(const r of this.getTranslatables(i))this.pendingElements.add(r);else i.hasAttribute(Sf)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),i=await this.formatMessages(t);return this.applyTranslations(e,i)}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)t[i]!==void 0&&pge(e[i],t[i]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(_ge));return typeof e.hasAttribute=="function"&&e.hasAttribute(Sf)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(Sf),args:JSON.parse(e.getAttribute(T0)||null)}}}var eB,md,Fv,ws,cy,fY,hY;const Dw=class Dw{constructor({lang:e,isRTL:t},i=null){F(this,eB);F(this,md);F(this,Fv);F(this,ws);var r,s;_(this,Fv,M(r=Dw,cy,fY).call(r,e)),_(this,ws,i),_(this,eB,t??M(s=Dw,cy,hY).call(s,f(this,Fv))?"rtl":"ltr")}_setL10n(e){_(this,ws,e)}getLanguage(){return f(this,Fv)}getDirection(){return f(this,eB)}async get(e,t=null,i){var s;return Array.isArray(e)?(e=e.map(o=>({id:o})),(await f(this,ws).formatMessages(e)).map(o=>o.value)):((s=(await f(this,ws).formatMessages([{id:e,args:t}]))[0])==null?void 0:s.value)||i}async translate(e){(f(this,md)||_(this,md,new Set)).add(e);try{f(this,ws).connectRoot(e),await f(this,ws).translateRoots()}catch{}}async translateOnce(e){try{await f(this,ws).translateElements([e])}catch(t){console.error("translateOnce:",t)}}async destroy(){if(f(this,md)){for(const e of f(this,md))f(this,ws).disconnectRoot(e);f(this,md).clear(),_(this,md,null)}f(this,ws).pauseObserving()}pause(){f(this,ws).pauseObserving()}resume(){f(this,ws).resumeObserving()}};eB=new WeakMap,md=new WeakMap,Fv=new WeakMap,ws=new WeakMap,cy=new WeakSet,fY=function(e){return e=(e==null?void 0:e.toLowerCase())||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e},hY=function(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)},F(Dw,cy);let TN=Dw;function Ige(){const{isAndroid:n,isLinux:e,isMac:t,isWindows:i}=jW.platform;return e?"linux":i?"windows":t?"macos":n?"android":"other"}function vG(n,e){const t=new cge(e),i=new Wpe(n,{functions:{PLATFORM:Ige}}),r=i.addResource(t);return r.length&&console.error("L10n errors",r),i}var fa,pY,gY,mY,vY,IN;const Mf=class Mf extends TN{constructor(e){super({lang:e});const t=e?M(Mf,fa,pY).bind(Mf,"en-us",this.getLanguage()):M(Mf,fa,vY).bind(Mf,this.getLanguage());this._setL10n(new Tge([],t))}};fa=new WeakSet,pY=async function*(e,t){const{baseURL:i,paths:r}=await M(this,fa,mY).call(this),s=[t];if(e!==t){const o=t.split("-",1)[0];o!==t&&s.push(o),s.push(e)}const a=s.map(o=>[o,M(this,fa,gY).call(this,o,i,r)]);for(const[o,l]of a){const u=await l;u?yield u:o==="en-us"&&(yield M(this,fa,IN).call(this,o))}},gY=async function(e,t,i){const r=i[e];if(!r)return null;const s=new URL(r,t),a=await zK(s,"text");return vG(e,a)},mY=async function(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=await zK(e,"json");return{baseURL:e.substring(0,e.lastIndexOf("/")+1)||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},vY=async function*(e){yield M(this,fa,IN).call(this,e)},IN=async function(e){return vG(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties
pdfjs-document-properties-button-label = Document Properties
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width }  { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width }  { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-color-picker-free-text-input =
    .title = Change text color
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-color-picker-ink-input =
    .title = Change drawing color
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-comment-floating-button =
    .title = Comment
    .aria-label = Comment
pdfjs-comment-floating-button-label = Comment
pdfjs-editor-comment-button =
    .title = Comment
    .aria-label = Comment
pdfjs-editor-comment-button-label = Comment
pdfjs-editor-signature-button =
    .title = Add signature
pdfjs-editor-signature-button-label = Add signature
pdfjs-editor-highlight-editor =
    .aria-label = Highlight editor
pdfjs-editor-ink-editor =
    .aria-label = Drawing editor
pdfjs-editor-signature-editor1 =
    .aria-description = Signature editor: { $description }
pdfjs-editor-stamp-editor =
    .aria-label = Image editor
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-remove-signature-button =
    .title = Remove signature
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-editor-add-signature-container =
    .aria-label = Signature controls and saved signatures
pdfjs-editor-signature-add-signature-button =
    .title = Add new signature
pdfjs-editor-signature-add-signature-button-label = Add new signature
pdfjs-editor-add-saved-signature-button =
    .title = Saved signature: { $description }
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing
pdfjs-editor-comments-sidebar-title =
    { $count ->
        [one] Comment
       *[other] Comments
    }
pdfjs-editor-comments-sidebar-close-button =
    .title = Close the sidebar
    .aria-label = Close the sidebar
pdfjs-editor-comments-sidebar-close-button-label = Close the sidebar
pdfjs-editor-comments-sidebar-no-comments1 = See something noteworthy? Highlight it and leave a comment.
pdfjs-editor-comments-sidebar-no-comments-link = Learn more
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people cant see the image or when it doesnt load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, A young man sits down at a table to eat a meal
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner  resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle  resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner  resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right  resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner  resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle  resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner  resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left  resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here
pdfjs-editor-new-alt-text-description = Short description for people who cant see the image or when the image doesnt load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldnt create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who cant see the image or when the image doesnt load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close
pdfjs-editor-highlight-added-alert = Highlight added
pdfjs-editor-freetext-added-alert = Text added
pdfjs-editor-ink-added-alert = Drawing added
pdfjs-editor-stamp-added-alert = Image added
pdfjs-editor-signature-added-alert = Signature added
pdfjs-editor-undo-bar-message-highlight = Highlight removed
pdfjs-editor-undo-bar-message-freetext = Text removed
pdfjs-editor-undo-bar-message-ink = Drawing removed
pdfjs-editor-undo-bar-message-stamp = Image removed
pdfjs-editor-undo-bar-message-signature = Signature removed
pdfjs-editor-undo-bar-message-multiple =
    { $count ->
        [one] { $count } annotation removed
       *[other] { $count } annotations removed
    }
pdfjs-editor-undo-bar-undo-button =
    .title = Undo
pdfjs-editor-undo-bar-undo-button-label = Undo
pdfjs-editor-undo-bar-close-button =
    .title = Close
pdfjs-editor-undo-bar-close-button-label = Close
pdfjs-editor-add-signature-dialog-label = This modal allows the user to create a signature to add to a PDF document. The user can edit the name (which also serves as the alt text), and optionally save the signature for repeated use.
pdfjs-editor-add-signature-dialog-title = Add a signature
pdfjs-editor-add-signature-type-button = Type
    .title = Type
pdfjs-editor-add-signature-draw-button = Draw
    .title = Draw
pdfjs-editor-add-signature-image-button = Image
    .title = Image
pdfjs-editor-add-signature-type-input =
    .aria-label = Type your signature
    .placeholder = Type your signature
pdfjs-editor-add-signature-draw-placeholder = Draw your signature
pdfjs-editor-add-signature-draw-thickness-range-label = Thickness
pdfjs-editor-add-signature-draw-thickness-range =
    .title = Drawing thickness: { $thickness }
pdfjs-editor-add-signature-image-placeholder = Drag a file here to upload
pdfjs-editor-add-signature-image-browse-link =
    { PLATFORM() ->
        [macos] Or choose image files
       *[other] Or browse image files
    }
pdfjs-editor-add-signature-description-label = Description (alt text)
pdfjs-editor-add-signature-description-input =
    .title = Description (alt text)
pdfjs-editor-add-signature-description-default-when-drawing = Signature
pdfjs-editor-add-signature-clear-button-label = Clear signature
pdfjs-editor-add-signature-clear-button =
    .title = Clear signature
pdfjs-editor-add-signature-save-checkbox = Save signature
pdfjs-editor-add-signature-save-warning-message = Youve reached the limit of 5 saved signatures. Remove one to save more.
pdfjs-editor-add-signature-image-upload-error-title = Couldnt upload image
pdfjs-editor-add-signature-image-upload-error-description = Check your network connection or try another image.
pdfjs-editor-add-signature-image-no-data-error-title = Cant convert this image into a signature
pdfjs-editor-add-signature-image-no-data-error-description = Please try uploading a different image.
pdfjs-editor-add-signature-error-close-button = Close
pdfjs-editor-add-signature-cancel-button = Cancel
pdfjs-editor-add-signature-add-button = Add
pdfjs-editor-delete-signature-button1 =
    .title = Remove saved signature
pdfjs-editor-delete-signature-button-label1 = Remove saved signature
pdfjs-editor-add-signature-edit-button-label = Edit description
pdfjs-editor-edit-signature-dialog-title = Edit description
pdfjs-editor-edit-signature-update-button = Update
pdfjs-show-comment-button =
    .title = Show comment
pdfjs-editor-edit-comment-popup-button-label = Edit comment
pdfjs-editor-edit-comment-popup-button =
    .title = Edit comment
pdfjs-editor-delete-comment-popup-button-label = Remove comment
pdfjs-editor-delete-comment-popup-button =
    .title = Remove comment
pdfjs-editor-edit-comment-dialog-title-when-editing = Edit comment
pdfjs-editor-edit-comment-dialog-save-button-when-editing = Update
pdfjs-editor-edit-comment-dialog-title-when-adding = Add comment
pdfjs-editor-edit-comment-dialog-save-button-when-adding = Add
pdfjs-editor-edit-comment-dialog-text-input =
    .placeholder = Start typing
pdfjs-editor-edit-comment-dialog-cancel-button = Cancel
pdfjs-editor-add-comment-button =
    .title = Add comment`)},F(Mf,fa);let Jv=Mf;const Fge=1e3,Uge=50,Mge=1e3;function yM(){return document.location.hash}var vd,pt,al,T_,I_,dw,F_,FN,yY,wY,UN,bY,CY;class Pge{constructor({linkService:e,eventBus:t}){F(this,pt);F(this,vd,null);this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const r=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=i===!0,this._initialized=!0,M(this,pt,bY).call(this);const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=yM(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!M(this,pt,dw).call(this,s,!0)||t){const{hash:o,page:l,rotation:u}=M(this,pt,FN).call(this,!0);if(!o||r||t){M(this,pt,al).call(this,null,!0);return}M(this,pt,al).call(this,{hash:o,page:l,rotation:u},!0);return}const a=s.destination;M(this,pt,F_).call(this,a,s.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(M(this,pt,UN).call(this),this._initialized=!1,M(this,pt,CY).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!M(this,pt,I_).call(this,i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const r=e||JSON.stringify(t);if(!r)return;let s=!1;if(this._destination&&(Rge(this._destination.hash,r)||Dge(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(M(this,pt,al).call(this,{dest:t,hash:r,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!M(this,pt,I_).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(M(this,pt,al).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||M(this,pt,T_).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;M(this,pt,dw).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;M(this,pt,dw).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}vd=new WeakMap,pt=new WeakSet,al=function(e,t=!1){const i=t||!this._destination,r={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};M(this,pt,F_).call(this,e,r.uid);let s;if(this._updateUrl&&(e!=null&&e.hash)){const{href:a,protocol:o}=document.location;o!=="file:"&&(s=Zhe(a,e.hash))}i?window.history.replaceState(r,"",s):window.history.pushState(r,"",s)},T_=function(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){M(this,pt,al).call(this,t);return}if(this._destination.temporary){M(this,pt,al).call(this,t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=Uge)return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}M(this,pt,al).call(this,t,i)},I_=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},dw=function(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;const[i]=performance.getEntriesByType("navigation");if((i==null?void 0:i.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")},F_=function(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&(e!=null&&e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},FN=function(e=!1){const t=unescape(yM()).substring(1),i=K1(t),r=i.get("nameddest")||"";let s=i.get("page")|0;return(!M(this,pt,I_).call(this,s)||e&&r.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}},yY=function({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||M(this,pt,T_).call(this,!0),this._updateViewareaTimeout=null},Mge))},wY=function({state:e}){const t=yM(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:a,rotation:o}=M(this,pt,FN).call(this);M(this,pt,al).call(this,{hash:s,page:a,rotation:o},!0);return}if(!M(this,pt,dw).call(this,e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,Dpe({target:window,name:"hashchange",delay:Fge}).then(()=>{this._blockHashChange--}));const r=e.destination;M(this,pt,F_).call(this,r,e.uid,!0),JW(r.rotation)&&(this.linkService.rotation=r.rotation),r.dest?this.linkService.goToDestination(r.dest):r.hash?this.linkService.setHash(r.hash):r.page&&(this.linkService.page=r.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},UN=function(){(!this._destination||this._destination.temporary)&&M(this,pt,T_).call(this)},bY=function(){if(f(this,vd))return;_(this,vd,new AbortController);const{signal:e}=f(this,vd);this.eventBus._on("updateviewarea",M(this,pt,yY).bind(this),{signal:e}),window.addEventListener("popstate",M(this,pt,wY).bind(this),{signal:e}),window.addEventListener("pagehide",M(this,pt,UN).bind(this),{signal:e})},CY=function(){var e;(e=f(this,vd))==null||e.abort(),_(this,vd,null)};function Rge(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||K1(n).get("nameddest")===e}function Dge(n,e){function t(i,r){if(typeof i!=typeof r||Array.isArray(i)||Array.isArray(r))return!1;if(i!==null&&typeof i=="object"&&r!==null){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const s in i)if(!t(i[s],r[s]))return!1;return!0}return i===r||Number.isNaN(i)&&Number.isNaN(r)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}var tB,nB,iB,rB,sB,Uv;class Nge{constructor(e){F(this,tB,null);F(this,nB,null);F(this,iB,null);F(this,rB,null);F(this,sB,null);F(this,Uv);this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new Jv),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,_(this,Uv,e.uiManager),_(this,tB,e.annotationLayer||null),_(this,sB,e.textLayer||null),_(this,nB,e.drawLayer||null),_(this,iB,e.onAppend||null),_(this,rB,e.structTreeLayer||null)}async render({viewport:e,intent:t="display"}){var a;if(t!=="display"||this._cancelled)return;const i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}const r=this.div=document.createElement("div");r.className="annotationEditorLayer",r.hidden=!0,r.dir=f(this,Uv).direction,(a=f(this,iB))==null||a.call(this,r),this.annotationEditorLayer=new Ghe({uiManager:f(this,Uv),div:r,structTreeLayer:f(this,rB),accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:f(this,tB),textLayer:f(this,sB),drawLayer:f(this,nB)});const s={viewport:i,div:r,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.annotationEditorLayer.pause(!0),this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1,this.annotationEditorLayer.pause(!1))}}tB=new WeakMap,nB=new WeakMap,iB=new WeakMap,rB=new WeakMap,sB=new WeakMap,Uv=new WeakMap;{var MN=new Map;const{maxTouchPoints:n,platform:e,userAgent:t}=navigator,i=/Android/.test(t),r=/\b(iPad|iPhone|iPod)(?=;)/.test(t)||e==="MacIntel"&&n>1;(function(){(r||i)&&MN.set("maxCanvasPixels",5242880)})(),(function(){i&&MN.set("useSystemFonts",!1)})()}const ue={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},PN={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},iu={allowedGlobalEvents:{value:null,kind:ue.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:ue.BROWSER+ue.API},isInAutomation:{value:!1,kind:ue.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:ue.BROWSER},maxCanvasDim:{value:32767,kind:ue.BROWSER+ue.VIEWER},nimbusDataStr:{value:"",kind:ue.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:ue.BROWSER},supportsDocumentFonts:{value:!0,kind:ue.BROWSER},supportsIntegratedFind:{value:!1,kind:ue.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:ue.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:ue.BROWSER},supportsPinchToZoom:{value:!0,kind:ue.BROWSER},supportsPrinting:{value:!0,kind:ue.BROWSER},toolbarDensity:{value:0,kind:ue.BROWSER+ue.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:ue.VIEWER+ue.PREFERENCE},annotationEditorMode:{value:0,kind:ue.VIEWER+ue.PREFERENCE},annotationMode:{value:2,kind:ue.VIEWER+ue.PREFERENCE},capCanvasAreaFactor:{value:200,kind:ue.VIEWER+ue.PREFERENCE},commentLearnMoreUrl:{value:"",kind:ue.VIEWER+ue.PREFERENCE},cursorToolOnLoad:{value:0,kind:ue.VIEWER+ue.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:ue.VIEWER},defaultZoomDelay:{value:400,kind:ue.VIEWER+ue.PREFERENCE},defaultZoomValue:{value:"",kind:ue.VIEWER+ue.PREFERENCE},disableHistory:{value:!1,kind:ue.VIEWER},disablePageLabels:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableAltText:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:ue.VIEWER+ue.PREFERENCE+ue.EVENT_DISPATCH},enableAutoLinking:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableComment:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableDetailCanvas:{value:!0,kind:ue.VIEWER},enableGuessAltText:{value:!0,kind:ue.VIEWER+ue.PREFERENCE+ue.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableOptimizedPartialRendering:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enablePermissions:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableScripting:{value:!0,kind:ue.VIEWER+ue.PREFERENCE},enableSignatureEditor:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:ue.VIEWER},externalLinkTarget:{value:0,kind:ue.VIEWER+ue.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F,yellow_HCM=#FFFFCC,green_HCM=#53FFBC,blue_HCM=#80EBFF,pink_HCM=#F6B8FF,red_HCM=#C50043",kind:ue.VIEWER+ue.PREFERENCE},historyUpdateUrl:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},imageResourcesPath:{value:"./images/",kind:ue.VIEWER},maxCanvasPixels:{value:2**25,kind:ue.VIEWER},minDurationToUpdateCanvas:{value:500,kind:ue.VIEWER},forcePageColors:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:ue.VIEWER+ue.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:ue.VIEWER+ue.PREFERENCE},pdfBugEnabled:{value:!1,kind:ue.VIEWER+ue.PREFERENCE},printResolution:{value:150,kind:ue.VIEWER},sidebarViewOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},scrollModeOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},spreadModeOnLoad:{value:-1,kind:ue.VIEWER+ue.PREFERENCE},textLayerMode:{value:1,kind:ue.VIEWER+ue.PREFERENCE},viewerCssTheme:{value:0,kind:ue.VIEWER+ue.PREFERENCE},viewOnLoad:{value:0,kind:ue.VIEWER+ue.PREFERENCE},cMapPacked:{value:!0,kind:ue.API},cMapUrl:{value:"../web/cmaps/",kind:ue.API},disableAutoFetch:{value:!1,kind:ue.API+ue.PREFERENCE},disableFontFace:{value:!1,kind:ue.API+ue.PREFERENCE},disableRange:{value:!1,kind:ue.API+ue.PREFERENCE},disableStream:{value:!1,kind:ue.API+ue.PREFERENCE},docBaseUrl:{value:"",kind:ue.API},enableHWA:{value:!0,kind:ue.API+ue.VIEWER+ue.PREFERENCE},enableXfa:{value:!0,kind:ue.API+ue.PREFERENCE},fontExtraProperties:{value:!1,kind:ue.API},iccUrl:{value:"../web/iccs/",kind:ue.API},isEvalSupported:{value:!0,kind:ue.API},isOffscreenCanvasSupported:{value:!0,kind:ue.API},maxImageSize:{value:-1,kind:ue.API},pdfBug:{value:!1,kind:ue.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:ue.API},useSystemFonts:{value:void 0,kind:ue.API,type:PN.BOOLEAN+PN.UNDEFINED},verbosity:{value:1,kind:ue.API},wasmUrl:{value:"../web/wasm/",kind:ue.API},workerPort:{value:null,kind:ue.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:ue.WORKER}};iu.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:ue.VIEWER},iu.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:ue.VIEWER},iu.enableFakeMLManager={value:!0,kind:ue.VIEWER};iu.disablePreferences={value:!1,kind:ue.VIEWER};var yd;const Jo=class Jo{static get(e){return f(this,yd).get(e)}static getAll(e=null,t=!1){const i=Object.create(null);for(const r in iu){const s=iu[r];e&&!(e&s.kind)||(i[r]=t?s.value:f(this,yd).get(r))}return i}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||(this._hasInvokedSet=!0);let i;for(const r in e){const s=iu[r],a=e[r];if(!s||!(typeof a==typeof s.value||PN[(typeof a).toUpperCase()]&s.type))continue;const{kind:o}=s;t&&!(o&ue.BROWSER||o&ue.PREFERENCE)||(this.eventBus&&o&ue.EVENT_DISPATCH&&(i||(i=new Map)).set(r,a),f(this,yd).set(r,a))}if(i)for(const[r,s]of i)this.eventBus.dispatch(r.toLowerCase(),{source:this,value:s})}};yd=new WeakMap,me(Jo,"eventBus"),F(Jo,yd,new Map),(()=>{for(const e in iu)f(Jo,yd).set(e,iu[e].value);for(const[e,t]of MN)f(Jo,yd).set(e,t);Jo._hasInvokedSet=!1,Jo._checkDisablePreferences=()=>Jo.get("disablePreferences")?!0:(Jo._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();let Tw=Jo;function yG({width:n,height:e,left:t,top:i},r){if(n===0||e===0)return null;const s=r.textLayer.div.getBoundingClientRect(),a=r.getPagePoint(t-s.left,i-s.top),o=r.getPagePoint(t-s.left+n,i-s.top+e);return zQ.normalizeRect([a[0],a[1],o[0],o[1]])}function Lge(n,e){const t=n.getClientRects();if(t.length===1)return{rect:yG(t[0],e)};const i=[1/0,1/0,-1/0,-1/0],r=[];let s=0;for(const a of t){const o=yG(a,e);o!==null&&(r[s]=r[s+4]=o[0],r[s+1]=r[s+3]=o[3],r[s+2]=r[s+6]=o[2],r[s+5]=r[s+7]=o[1],zQ.rectBoundingBox(...o,i),s+=8)}return{quadPoints:r,rect:i}}function wG(n,e){let t=n;do{if(t.nodeType===Node.TEXT_NODE){const i=t.textContent.length;if(e<=i)return[t,e];e-=i}else if(t.firstChild){t=t.firstChild;continue}for(;!t.nextSibling&&t!==n;)t=t.parentNode;t!==n&&(t=t.nextSibling)}while(t!==n);throw new Error("Offset is bigger than container's contents length.")}function Qge({url:n,index:e,length:t},i,r){const s=i._textHighlighter,[{begin:a,end:o}]=s._convertMatches([e],[t]),l=new Range;return l.setStart(...wG(s.textDivs[a.divIdx],a.offset)),l.setEnd(...wG(s.textDivs[o.divIdx],o.offset)),{id:`inferred_link_${r}`,unsafeUrl:n,url:n,annotationType:qW.LINK,rotation:0,...Lge(l,i),borderStyle:null}}var _1,aB;class RN{static findLinks(e){f(this,aB)??_(this,aB,new RegExp("\\b(?:https?:\\/\\/|mailto:|www\\.)(?:[\\S--[\\p{P}<>]]|\\/|[\\S--[\\[\\]]]+[\\S--[\\p{P}<>]])+|\\b[\\S--[@\\p{Ps}\\p{Pe}<>]]+@([\\S--[\\p{P}<>]]+(?:\\.[\\S--[\\p{P}<>]]+)+)","gmv"));const[t,i]=S_(e,{ignoreDashEOL:!0}),r=t.matchAll(f(this,aB)),s=[];for(const a of r){const[o,l]=a;let u;if(o.startsWith("www.")||o.startsWith("http://")||o.startsWith("https://"))u=o;else if(URL.canParse(`http://${l}`))u=o.startsWith("mailto:")?o:`mailto:${o}`;else continue;const d=$W(u,null,{addDefaultProtocol:!0});if(d){const[h,g]=ZW(i,a.index,o.length);s.push({url:d.href,index:h,length:g})}}return s}static processLinks(e){return this.findLinks(e._textHighlighter.textContentItemsStr.join(`
`)).map(t=>Qge(t,e,ai(this,_1)._++))}}_1=new WeakMap,aB=new WeakMap,F(RN,_1,0),F(RN,aB);var wd,Mv,Pv,Rv,zl,bd,ql,T1,oB,DN;class BY{constructor(e){F(this,oB);F(this,wd,null);F(this,Mv,0);F(this,Pv,null);F(this,Rv,kt.INITIAL);F(this,zl,null);F(this,bd,0);F(this,ql,null);me(this,"canvas",null);me(this,"div",null);me(this,"enableOptimizedPartialRendering",!1);me(this,"eventBus",null);me(this,"id",null);me(this,"pageColors",null);me(this,"recordedBBoxes",null);me(this,"renderingQueue",null);me(this,"renderTask",null);me(this,"resume",null);F(this,T1,e=>{var t;if((t=f(this,zl))==null||t.call(this,!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=kt.PAUSED,this.resume=()=>{this.renderingState=kt.RUNNING,e()};return}e()});this.eventBus=e.eventBus,this.id=e.id,this.pageColors=e.pageColors||null,this.renderingQueue=e.renderingQueue,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,_(this,Mv,e.minDurationToUpdateCanvas??500)}get renderingState(){return f(this,Rv)}set renderingState(e){var t;if(e!==f(this,Rv))switch(_(this,Rv,e),f(this,wd)&&(clearTimeout(f(this,wd)),_(this,wd,null)),e){case kt.PAUSED:this.div.classList.remove("loading"),_(this,bd,0),(t=f(this,zl))==null||t.call(this,!1);break;case kt.RUNNING:this.div.classList.add("loadingIcon"),_(this,wd,setTimeout(()=>{this.div.classList.add("loading"),_(this,wd,null)},0)),_(this,bd,Date.now());break;case kt.INITIAL:case kt.FINISHED:this.div.classList.remove("loadingIcon","loading"),_(this,bd,0);break}}_createCanvas(e,t=!1){const{pageColors:i}=this,r=!!(i!=null&&i.background&&(i!=null&&i.foreground)),s=this.canvas,a=!s&&!r&&!t;let o=this.canvas=document.createElement("canvas");return _(this,zl,l=>{if(a){let u=f(this,ql);if(!l&&f(this,Mv)>0){if(Date.now()-f(this,bd)<f(this,Mv))return;u||(u=_(this,ql,o),o=this.canvas=o.cloneNode(!1),e(o))}if(u){o.getContext("2d",{alpha:!1}).drawImage(u,0,0),l?M(this,oB,DN).call(this):_(this,bd,Date.now());return}e(o),_(this,zl,null);return}l&&(s?(s.replaceWith(o),s.width=s.height=0):e(o))}),{canvas:o,prevCanvas:s}}_resetCanvas(){const{canvas:e}=this;e&&(e.remove(),e.width=e.height=0,this.canvas=null,M(this,oB,DN).call(this))}async _drawCanvas(e,t,i){var a,o;const r=this.renderTask=this.pdfPage.render(e);r.onContinue=f(this,T1),r.onError=l=>{l instanceof pN&&(t(),_(this,Pv,null))};let s=null;try{await r.promise,(a=f(this,zl))==null||a.call(this,!0)}catch(l){if(l instanceof pN)return;s=l,(o=f(this,zl))==null||o.call(this,!0)}finally{_(this,Pv,s),r===this.renderTask&&(this.renderTask=null,this.enableOptimizedPartialRendering&&(this.recordedBBoxes??(this.recordedBBoxes=r.recordedBBoxes)))}if(this.renderingState=kt.FINISHED,i(r),s)throw s}cancelRendering({cancelExtraDelay:e=0}={}){this.renderTask&&(this.renderTask.cancel(e),this.renderTask=null),this.resume=null}dispatchPageRender(){this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id})}dispatchPageRendered(e,t){this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:e,isDetailView:t,timestamp:performance.now(),error:f(this,Pv)})}}wd=new WeakMap,Mv=new WeakMap,Pv=new WeakMap,Rv=new WeakMap,zl=new WeakMap,bd=new WeakMap,ql=new WeakMap,T1=new WeakMap,oB=new WeakSet,DN=function(){f(this,ql)&&(f(this,ql).width=f(this,ql).height=0,_(this,ql,null))};var bA;class kge{constructor(e){F(this,bA,null);this.pageIndex=e.pageIndex}async render({intent:e="display"}){e!=="display"||f(this,bA)||this._cancelled||_(this,bA,new $he({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,f(this,bA)&&(f(this,bA).destroy(),_(this,bA,null))}setParent(e){var t;(t=f(this,bA))==null||t.setParent(e)}getDrawLayer(){return f(this,bA)}}bA=new WeakMap;var Ga,I1,EY;class Oge extends BY{constructor({pageView:t}){super(t);F(this,I1);F(this,Ga,null);me(this,"renderingCancelled",!1);this.pageView=t,this.renderingId="detail"+this.id,this.div=t.div}setPdfPage(t){this.pageView.setPdfPage(t)}get pdfPage(){return this.pageView.pdfPage}get renderingState(){return super.renderingState}set renderingState(t){this.renderingCancelled=!1,super.renderingState=t}reset({keepCanvas:t=!1}={}){const i=this.renderingCancelled||this.renderingState===kt.RUNNING||this.renderingState===kt.PAUSED;this.cancelRendering(),this.renderingState=kt.INITIAL,this.renderingCancelled=i,t||this._resetCanvas()}update({visibleArea:t=null,underlyingViewUpdated:i=!1}={}){if(i){this.cancelRendering(),this.renderingState=kt.INITIAL;return}if(!M(this,I1,EY).call(this,t))return;const{viewport:r,maxCanvasPixels:s,capCanvasAreaFactor:a}=this.pageView,o=t.maxX-t.minX,l=t.maxY-t.minY,u=o*l*E_.pixelRatio**2,h=(Math.sqrt(E_.capPixels(s,a)/u)-1)/2;let g=Math.min(1,h);g<0&&(g=0);const v=o*g,b=l*g,C=Math.max(0,t.minX-v),E=Math.min(r.width,t.maxX+v),x=Math.max(0,t.minY-b),I=Math.min(r.height,t.maxY+b),T=E-C,R=I-x;_(this,Ga,{minX:C,minY:x,width:T,height:R,scale:r.scale}),this.reset({keepCanvas:!0})}_getRenderingContext(t,i){const r=this.pageView._getRenderingContext(t,i,!1),s=this.pdfPage.recordedBBoxes;if(!s||!this.enableOptimizedPartialRendering)return r;const{viewport:{width:a,height:o}}=this.pageView,{width:l,height:u,minX:d,minY:h}=f(this,Ga),g=d/a,v=h/o,b=(d+l)/a,C=(h+u)/o;return{...r,operationsFilter(E){return s.isEmpty(E)?!1:s.minX(E)<=b&&s.maxX(E)>=g&&s.minY(E)<=C&&s.maxY(E)>=v}}}async draw(){if(this.pageView.detailView!==this)return;const t=this.pageView.renderingState===kt.FINISHED||this.renderingState===kt.FINISHED;this.renderingState!==kt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:i,pdfPage:r,viewport:s}=this.pageView;if(!r)throw this.renderingState=kt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=kt.RUNNING;const a=this.pageView._ensureCanvasWrapper(),{canvas:o,prevCanvas:l}=this._createCanvas(E=>{var x;((x=a.firstElementChild)==null?void 0:x.tagName)==="CANVAS"?a.firstElementChild.after(E):a.prepend(E)},t);o.ariaHidden=!0,this.enableOptimizedPartialRendering&&(o.className="detailView");const{width:u,height:d}=s,h=f(this,Ga),{pixelRatio:g}=E_,v=[g,0,0,g,-h.minX*g,-h.minY*g];o.width=h.width*g,o.height=h.height*g;const{style:b}=o;b.width=`${h.width*100/u}%`,b.height=`${h.height*100/d}%`,b.top=`${h.minY*100/d}%`,b.left=`${h.minX*100/u}%`;const C=this._drawCanvas(this._getRenderingContext(o,v),()=>{var E;(E=this.canvas)==null||E.remove(),this.canvas=l},()=>{this.dispatchPageRendered(!1,!0)});return i.setAttribute("data-loaded",!0),this.dispatchPageRender(),C}}Ga=new WeakMap,I1=new WeakSet,EY=function(t){if(!f(this,Ga))return!0;const i=f(this,Ga).minX,r=f(this,Ga).minY,s=f(this,Ga).width+i,a=f(this,Ga).height+r;if(t.minX<i||t.minY<r||t.maxX>s||t.maxY>a)return!0;const{width:o,height:l,scale:u}=this.pageView.viewport;if(f(this,Ga).scale!==u)return!0;const d=t.minX-i,h=s-t.maxX,g=t.minY-r,v=a-t.maxY,b=.5,C=(1+b)/b;return i>0&&h/d>C||s<o&&d/h>C||r>0&&v/g>C||a<l&&g/v>C};const bG={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},SY=new Set(["math","merror","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mprescripts","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics"]),oT="http://www.w3.org/1998/Math/MathML";class CG{static get sanitizer(){return Hw(this,"sanitizer",jW.isSanitizerSupported?new Sanitizer({elements:[...SY].map(e=>({name:e,namespace:oT})),replaceWithChildrenElements:[{name:"maction",namespace:oT}],attributes:["dir","displaystyle","mathbackground","mathcolor","mathsize","scriptlevel","encoding","display","linethickness","intent","arg","form","fence","separator","lspace","rspace","stretchy","symmetric","maxsize","minsize","largeop","movablelimits","width","height","depth","voffset","accent","accentunder","columnspan","rowspan"],comments:!1}):null)}}const Hge=/^H(\d+)$/;var Dv,_o,Nv,Lv,Qv,Cd,PA,NN,_Y,LN;class xY{constructor(e,t){F(this,PA);F(this,Dv);F(this,_o,null);F(this,Nv);F(this,Lv,new Map);F(this,Qv);F(this,Cd,null);_(this,Dv,e.getStructTree()),_(this,Qv,t)}async render(){var r;if(f(this,Nv))return f(this,Nv);const{promise:e,resolve:t,reject:i}=Promise.withResolvers();_(this,Nv,e);try{_(this,_o,M(this,PA,LN).call(this,await f(this,Dv)))}catch(s){i(s)}return _(this,Dv,null),(r=f(this,_o))==null||r.classList.add("structTree"),t(f(this,_o)),e}async getAriaAttributes(e){try{return await this.render(),f(this,Lv).get(e)}catch{}return null}hide(){f(this,_o)&&!f(this,_o).hidden&&(f(this,_o).hidden=!0)}show(){var e;(e=f(this,_o))!=null&&e.hidden&&(f(this,_o).hidden=!1)}addElementsToTextLayer(){var e;if(f(this,Cd)){for(const[t,i]of f(this,Cd))(e=document.getElementById(t))==null||e.append(i);f(this,Cd).clear(),_(this,Cd,null)}}}Dv=new WeakMap,_o=new WeakMap,Nv=new WeakMap,Lv=new WeakMap,Qv=new WeakMap,Cd=new WeakMap,PA=new WeakSet,NN=function(e,t){const{alt:i,id:r,lang:s}=e;if(i!==void 0){let a=!1;const o=_w(i);for(const l of e.children)if(l.type==="annotation"){let u=f(this,Lv).get(l.id);u||(u=new Map,f(this,Lv).set(l.id,u)),u.set("aria-label",o),a=!0}a||t.setAttribute("aria-label",o)}r!==void 0&&t.setAttribute("aria-owns",r),s!==void 0&&t.setAttribute("lang",_w(s,!0))},_Y=function(e,t){const{alt:i,bbox:r,children:s}=e,a=s==null?void 0:s[0];if(!f(this,Qv)||!i||!r||(a==null?void 0:a.type)!=="content")return!1;const{id:o}=a;if(!o)return!1;t.setAttribute("aria-owns",o);const l=document.createElement("span");(f(this,Cd)||_(this,Cd,new Map)).set(o,l),l.setAttribute("role","img"),l.setAttribute("aria-label",_w(i));const{pageHeight:u,pageX:d,pageY:h}=f(this,Qv),g="calc(var(--total-scale-factor) *",{style:v}=l;return v.width=`${g}${r[2]-r[0]}px)`,v.height=`${g}${r[3]-r[1]}px)`,v.left=`${g}${r[0]-d}px)`,v.top=`${g}${u-r[3]+h}px)`,!0},LN=function(e){if(!e)return null;let t;if("role"in e){const{role:i}=e;t=SY.has(i)?document.createElementNS(oT,i):document.createElement("span");const r=i.match(Hge);if(r?(t.setAttribute("role","heading"),t.setAttribute("aria-level",r[1])):bG[i]&&t.setAttribute("role",bG[i]),i==="Figure"&&M(this,PA,_Y).call(this,e,t))return t;i==="Formula"&&(e.mathML&&CG.sanitizer&&t.setHTML(e.mathML,{sanitizer:CG.sanitizer}),!e.mathML&&e.children.length===1&&e.children[0].role!=="math"&&(t=document.createElementNS(oT,"math")))}if(t||(t=document.createElement("span")),M(this,PA,NN).call(this,e,t),e.children)if(e.children.length===1&&"id"in e.children[0])M(this,PA,NN).call(this,e.children[0],t);else for(const i of e.children)t.append(M(this,PA,LN).call(this,i));return t};var $l,za,jl,Bd,kv,U_,AB,kN;const Gg=class Gg{constructor(){F(this,AB);F(this,$l,!1);F(this,za,null);F(this,jl,new Map);F(this,Bd,new Map)}setTextMapping(e){_(this,za,e)}enable(){if(f(this,$l))throw new Error("TextAccessibilityManager is already enabled.");if(!f(this,za))throw new Error("Text divs and strings have not been set.");if(_(this,$l,!0),_(this,za,f(this,za).slice()),f(this,za).sort(M(Gg,kv,U_)),f(this,jl).size>0){const e=f(this,za);for(const[t,i]of f(this,jl)){if(!document.getElementById(t)){f(this,jl).delete(t);continue}M(this,AB,kN).call(this,t,e[i])}}for(const[e,t]of f(this,Bd))this.addPointerInTextLayer(e,t);f(this,Bd).clear()}disable(){f(this,$l)&&(f(this,Bd).clear(),_(this,za,null),_(this,$l,!1))}removePointerInTextLayer(e){if(!f(this,$l)){f(this,Bd).delete(e);return}const t=f(this,za);if(!t||t.length===0)return;const{id:i}=e,r=f(this,jl).get(i);if(r===void 0)return;const s=t[r];f(this,jl).delete(i);let a=s.getAttribute("aria-owns");a!=null&&a.includes(i)&&(a=a.split(" ").filter(o=>o!==i).join(" "),a?s.setAttribute("aria-owns",a):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return null;if(!f(this,$l))return f(this,Bd).set(e,t),null;t&&this.removePointerInTextLayer(e);const r=f(this,za);if(!r||r.length===0)return null;const s=Vw(r,u=>{var d;return M(d=Gg,kv,U_).call(d,e,u)<0}),a=Math.max(0,s-1),o=r[a];M(this,AB,kN).call(this,i,o),f(this,jl).set(i,a);const l=o.parentNode;return l!=null&&l.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,i,r){const s=this.addPointerInTextLayer(i,r);if(!e.hasChildNodes())return e.append(t),s;const a=Array.from(e.childNodes).filter(l=>l!==t);if(a.length===0)return s;const o=Vw(a,l=>{var u;return M(u=Gg,kv,U_).call(u,t,l)<0});return o===0?a[0].before(t):a[o-1].after(t),s}};$l=new WeakMap,za=new WeakMap,jl=new WeakMap,Bd=new WeakMap,kv=new WeakSet,U_=function(e,t){const i=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(r.width===0&&r.height===0)return-1;const s=i.y,a=i.y+i.height,o=i.y+i.height/2,l=r.y,u=r.y+r.height,d=r.y+r.height/2;if(o<=l&&d>=a)return-1;if(d<=s&&o>=u)return 1;const h=i.x+i.width/2,g=r.x+r.width/2;return h-g},AB=new WeakSet,kN=function(e,t){const i=t.getAttribute("aria-owns");i!=null&&i.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")},F(Gg,kv);let QN=Gg;var Ed;class Vge{constructor({findController:e,eventBus:t,pageIndex:i}){F(this,Ed,null);this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,f(this,Ed)||(_(this,Ed,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:f(this,Ed).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=f(this,Ed))==null||e.abort(),_(this,Ed,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:i}=this;let r=0,s=0;const a=i.length-1,o=[];for(let l=0,u=e.length;l<u;l++){let d=e[l];for(;r!==a&&d>=s+i[r].length;)s+=i[r].length,r++;r===i.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:r,offset:d-s}};for(d+=t[l];r!==a&&d>s+i[r].length;)s+=i[r].length,r++;h.end={divIdx:r,offset:d-s},o.push(h)}return o}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:i}=this,{textContentItemsStr:r,textDivs:s}=this,a=i===t.selected.pageIdx,o=t.selected.matchIdx,l=t.state.highlightAll;let u=null;const d={offset:void 0};function h(x,I){const T=x.divIdx;return s[T].textContent="",g(T,0,x.offset,I)}function g(x,I,T,R){let P=s[x];if(P.nodeType===Node.TEXT_NODE){const H=document.createElement("span");P.before(H),H.append(P),s[x]=H,P=H}const D=r[x].substring(I,T),Q=document.createTextNode(D);if(R){const H=document.createElement("span");if(H.className=`${R} appended`,H.append(Q),P.append(H),R.includes("selected")){const{left:k}=H.getClientRects()[0],K=P.getBoundingClientRect().left;return k-K}return 0}return P.append(Q),0}let v=o,b=v+1;if(l)v=0,b=e.length;else if(!a)return;let C=-1,E=-1;for(let x=v;x<b;x++){const I=e[x],T=I.begin;if(T.divIdx===C&&T.offset===E)continue;C=T.divIdx,E=T.offset;const R=I.end,P=a&&x===o,D=P?" selected":"";let Q=0;if(!u||T.divIdx!==u.divIdx?(u!==null&&g(u.divIdx,u.offset,d.offset),h(T)):g(u.divIdx,u.offset,T.offset),T.divIdx===R.divIdx)Q=g(T.divIdx,T.offset,R.offset,"highlight"+D);else{Q=g(T.divIdx,T.offset,d.offset,"highlight begin"+D);for(let H=T.divIdx+1,k=R.divIdx;H<k;H++)s[H].className="highlight middle"+D;h(R,"highlight end"+D)}u=R,P&&t.scrollMatchIntoView({element:s[T.divIdx],selectedLeft:Q,pageIndex:i,matchIndex:o})}u&&g(u.divIdx,u.offset,d.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:r}=this,{textContentItemsStr:s,textDivs:a}=this;let o=-1;for(const d of i){const h=Math.max(o,d.begin.divIdx);for(let g=h,v=d.end.divIdx;g<=v;g++){const b=a[g];b.textContent=s[g],b.className=""}o=d.end.divIdx+1}if(!(t!=null&&t.highlightMatches)||e)return;const l=t.pageMatches[r]||null,u=t.pageMatchesLength[r]||null;this.matches=this._convertMatches(l,u),this._renderMatches(this.matches)}}Ed=new WeakMap;var lB,uB,ep,CA,bs,Sd,F1,TY,dy,IY,FY;const yc=class yc{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:r=!1,onAppend:s=null}){F(this,F1);F(this,lB,!1);F(this,uB,null);F(this,ep,!1);F(this,CA,null);this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,_(this,lB,r===!0),_(this,uB,s),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render({viewport:e,textContentParams:t=null}){var a,o,l,u,d;if(f(this,ep)&&f(this,CA)){f(this,CA).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),_(this,CA,new Jhe({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:i,textContentItemsStr:r}=f(this,CA);(a=this.highlighter)==null||a.setTextMapping(i,r),(o=this.accessibilityManager)==null||o.setTextMapping(i),await f(this,CA).render(),_(this,ep,!0);const s=document.createElement("div");s.className="endOfContent",this.div.append(s),M(this,F1,TY).call(this,s),(l=f(this,uB))==null||l.call(this,this.div),(u=this.highlighter)==null||u.enable(),(d=this.accessibilityManager)==null||d.enable()}hide(){var e;!this.div.hidden&&f(this,ep)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&f(this,ep)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,i,r;(e=f(this,CA))==null||e.cancel(),_(this,CA,null),(t=this.highlighter)==null||t.disable(),(i=this.accessibilityManager)==null||i.disable(),M(r=yc,dy,IY).call(r,this.div)}};lB=new WeakMap,uB=new WeakMap,ep=new WeakMap,CA=new WeakMap,bs=new WeakMap,Sd=new WeakMap,F1=new WeakSet,TY=function(e){var i;const{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",r=>{if(!f(this,lB)){const s=document.getSelection();r.clipboardData.setData("text/plain",_w(Xhe(s.toString())))}gN(r)}),f(yc,bs).set(t,e),M(i=yc,dy,FY).call(i)},dy=new WeakSet,IY=function(e){var t;f(this,bs).delete(e),f(this,bs).size===0&&((t=f(this,Sd))==null||t.abort(),_(this,Sd,null))},FY=function(){if(f(this,Sd))return;_(this,Sd,new AbortController);const{signal:e}=f(this,Sd),t=(a,o)=>{o.append(a),a.style.width="",a.style.height="",o.classList.remove("selecting")};let i=!1;document.addEventListener("pointerdown",()=>{i=!0},{signal:e}),document.addEventListener("pointerup",()=>{i=!1,f(this,bs).forEach(t)},{signal:e}),window.addEventListener("blur",()=>{i=!1,f(this,bs).forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{i||f(this,bs).forEach(t)},{signal:e});var r,s;document.addEventListener("selectionchange",()=>{var v;const a=document.getSelection();if(a.rangeCount===0){f(this,bs).forEach(t);return}const o=new Set;for(let b=0;b<a.rangeCount;b++){const C=a.getRangeAt(b);for(const E of f(this,bs).keys())!o.has(E)&&C.intersectsNode(E)&&o.add(E)}for(const[b,C]of f(this,bs))o.has(b)?b.classList.add("selecting"):t(C,b);if(r??(r=getComputedStyle(f(this,bs).values().next().value).getPropertyValue("-moz-user-select")==="none"),r)return;const l=a.getRangeAt(0),u=s&&(l.compareBoundaryPoints(Range.END_TO_END,s)===0||l.compareBoundaryPoints(Range.START_TO_END,s)===0);let d=u?l.startContainer:l.endContainer;if(d.nodeType===Node.TEXT_NODE&&(d=d.parentNode),!u&&l.endOffset===0)do{for(;!d.previousSibling;)d=d.parentNode;d=d.previousSibling}while(!d.childNodes.length);const h=(v=d.parentElement)==null?void 0:v.closest(".textLayer"),g=f(this,bs).get(h);g&&(g.style.width=h.style.width,g.style.height=h.style.height,d.parentElement.insertBefore(g,u?d:d.nextSibling)),s=l.cloneRange()},{signal:e})},F(yc,dy),F(yc,bs,new Map),F(yc,Sd,null);let AT=yc;class UY{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:r=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=r,this.div=null,this._cancelled=!1}async render({viewport:e,intent:t="display"}){if(t==="print"){const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,fM.render(s)}const i=await this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};const r={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?fM.update(r):(this.div=document.createElement("div"),r.div=this.div,fM.render(r))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const Kge={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new $Q}},Gge=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var xd,_d,cB,dB,Ov,fB,Td,Wl,Hv,hB,pB,gB,Vv,mB,Yl,Id,vt,Ug,M_,fw,ON,HN,VN,KN,GN,PY,RY,DY,zN;class MY extends BY{constructor(t){var a,o;super(t);F(this,vt);F(this,xd,xA.ENABLE_FORMS);F(this,_d,null);F(this,cB,null);F(this,dB,!0);F(this,Ov,!1);F(this,fB,!1);F(this,Td,null);F(this,Wl,!1);F(this,Hv,null);F(this,hB,null);F(this,pB,1);F(this,gB,1);F(this,Vv,EA.ENABLE);F(this,mB,1);F(this,Yl,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});F(this,Id,[null,null,null,null]);const i=t.container,r=t.defaultViewport;this.renderingId="page"+this.id,_(this,Td,t.layerProperties||Kge),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||YW,this.viewport=r,this.pdfPageRotate=r.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,_(this,Vv,t.textLayerMode??EA.ENABLE),_(this,xd,t.annotationMode??xA.ENABLE_FORMS),this.imageResourcesPath=t.imageResourcesPath||"",this.enableDetailCanvas=t.enableDetailCanvas??!0,this.maxCanvasPixels=t.maxCanvasPixels??Tw.get("maxCanvasPixels"),this.maxCanvasDim=t.maxCanvasDim||Tw.get("maxCanvasDim"),this.capCanvasAreaFactor=t.capCanvasAreaFactor??Tw.get("capCanvasAreaFactor"),_(this,dB,t.enableAutoLinking!==!1),_(this,cB,t.commentManager||null),this.l10n=t.l10n,this.l10n||(this.l10n=new Jv),this._isStandalone=!((a=this.renderingQueue)!=null&&a.hasViewer()),this._container=i,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null,this.detailView=null;const s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,M(this,vt,M_).call(this),i==null||i.append(s),this._isStandalone){i==null||i.style.setProperty("--scale-factor",this.scale*ll.PDF_TO_CSS_UNITS),(o=this.pageColors)!=null&&o.background&&(i==null||i.style.setProperty("--page-bg-color",this.pageColors.background));const{optionalContentConfigPromise:l}=t;l&&l.then(u=>{l===this._optionalContentConfigPromise&&(f(this,Yl).initialOptionalContent=u.hasInitialVisibility)}),t.l10n||this.l10n.translate(this.div)}}setPdfPage(t){var r,s,a,o;this._isStandalone&&(((r=this.pageColors)==null?void 0:r.foreground)==="CanvasText"||((s=this.pageColors)==null?void 0:s.background)==="Canvas")&&((a=this._container)==null||a.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(o=this._container)==null||o.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=t,this.pdfPageRotate=t.rotate;const i=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*ll.PDF_TO_CSS_UNITS,rotation:i}),M(this,vt,M_).call(this),this.reset()}destroy(){var t;this.reset(),(t=this.pdfPage)==null||t.cleanup()}hasEditableAnnotations(){var t;return!!((t=this.annotationLayer)!=null&&t.hasEditableAnnotations())}get _textHighlighter(){return Hw(this,"_textHighlighter",new Vge({pageIndex:this.id-1,eventBus:this.eventBus,findController:f(this,Td).findController}))}_resetCanvas(){super._resetCanvas(),_(this,Hv,null)}reset({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1,keepCanvasWrapper:a=!1,preserveDetailViewState:o=!1}={}){var E,x,I,T,R,P,D;const l=((E=this.pdfPage)==null?void 0:E._pdfBug)??!1;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:r,keepTextLayer:s}),this.renderingState=kt.INITIAL;const u=this.div,d=u.childNodes,h=t&&((x=this.annotationLayer)==null?void 0:x.div)||null,g=i&&((I=this.annotationEditorLayer)==null?void 0:I.div)||null,v=r&&((T=this.xfaLayer)==null?void 0:T.div)||null,b=s&&((R=this.textLayer)==null?void 0:R.div)||null,C=a&&f(this,_d)||null;for(let Q=d.length-1;Q>=0;Q--){const H=d[Q];switch(H){case h:case g:case v:case b:case C:continue}if(l&&H.classList.contains("pdfBugGroupsLayer"))continue;H.remove();const k=f(this,Id).indexOf(H);k>=0&&(f(this,Id)[k]=null)}u.removeAttribute("data-loaded"),h&&this.annotationLayer.hide(),g&&this.annotationEditorLayer.hide(),v&&this.xfaLayer.hide(),b&&this.textLayer.hide(),(P=this.structTreeLayer)==null||P.hide(),!a&&f(this,_d)&&(_(this,_d,null),this._resetCanvas()),o||((D=this.detailView)==null||D.reset({keepCanvas:a}),a||(this.detailView=null))}toggleEditingMode(t){_(this,fB,t),this.hasEditableAnnotations()&&this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0})}updateVisibleArea(t){this.enableDetailCanvas&&(f(this,Wl)&&this.maxCanvasPixels>0&&t?(this.detailView??(this.detailView=new Oge({pageView:this,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering})),this.detailView.update({visibleArea:t})):this.detailView&&(this.detailView.reset(),this.detailView=null))}update({scale:t=0,rotation:i=null,optionalContentConfigPromise:r=null,drawingDelay:s=-1}){var o,l,u;this.scale=t||this.scale,typeof i=="number"&&(this.rotation=i),r instanceof Promise&&(this._optionalContentConfigPromise=r,r.then(d=>{r===this._optionalContentConfigPromise&&(f(this,Yl).initialOptionalContent=d.hasInitialVisibility)})),f(this,Yl).directDrawing=!0;const a=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*ll.PDF_TO_CSS_UNITS,rotation:a}),M(this,vt,M_).call(this),this._isStandalone&&((o=this._container)==null||o.style.setProperty("--scale-factor",this.viewport.scale)),M(this,vt,zN).call(this),this.canvas){const d=f(this,Ov)&&f(this,Wl),h=s>=0&&s<1e3;if(h||d){h&&!d&&this.renderingState!==kt.FINISHED&&(this.cancelRendering({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=kt.FINISHED,f(this,Yl).directDrawing=!1),this.cssTransform({redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h}),h||((l=this.detailView)==null||l.update({underlyingViewUpdated:!0}),this.dispatchPageRendered(!0,!1));return}}this.cssTransform({}),this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0,preserveDetailViewState:!0}),(u=this.detailView)==null||u.update({underlyingViewUpdated:!0})}cancelRendering({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1,cancelExtraDelay:a=0}={}){var o;super.cancelRendering({cancelExtraDelay:a}),this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!t||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!i||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!r||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(o=this._textHighlighter)==null||o.disable())}cssTransform({redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:r=!1,redrawTextLayer:s=!1,hideTextLayer:a=!1}){var u;const{canvas:o}=this;if(!o)return;const l=f(this,Hv);if(this.viewport!==l){const d=(360+this.viewport.rotation-l.rotation)%360;if(d===90||d===270){const{width:h,height:g}=this.viewport,v=g/h,b=h/g;o.style.transform=`rotate(${d}deg) scale(${v},${b})`}else o.style.transform=d===0?"":`rotate(${d}deg)`}t&&this.annotationLayer&&M(this,vt,ON).call(this),i&&this.annotationEditorLayer&&(this.drawLayer&&M(this,vt,VN).call(this),M(this,vt,HN).call(this)),r&&this.xfaLayer&&M(this,vt,KN).call(this),this.textLayer&&(a?(this.textLayer.hide(),(u=this.structTreeLayer)==null||u.hide()):s&&M(this,vt,GN).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,i){return this.viewport.convertToPdfPoint(t,i)}_ensureCanvasWrapper(){let t=f(this,_d);return t||(t=_(this,_d,document.createElement("div")),t.classList.add("canvasWrapper"),M(this,vt,Ug).call(this,t,"canvasWrapper")),t}_getRenderingContext(t,i,r){return{canvas:t,transform:i,viewport:this.viewport,annotationMode:f(this,xd),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors,isEditing:f(this,fB),recordOperations:r}}async draw(){this.renderingState!==kt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,l10n:i,pdfPage:r,viewport:s}=this;if(!r)throw this.renderingState=kt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=kt.RUNNING;const a=this._ensureCanvasWrapper();if(!this.textLayer&&f(this,Vv)!==EA.DISABLE&&!r.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new QN),this.textLayer=new AT({pdfPage:r,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:f(this,Vv)===EA.ENABLE_PERMISSIONS,onAppend:P=>{this.l10n.pause(),M(this,vt,Ug).call(this,P,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&f(this,xd)!==xA.DISABLE){const{annotationStorage:P,annotationEditorUIManager:D,downloadManager:Q,enableComment:H,enableScripting:k,fieldObjectsPromise:K,hasJSActionsPromise:V,linkService:q}=f(this,Td);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new oY({pdfPage:r,annotationStorage:P,imageResourcesPath:this.imageResourcesPath,renderForms:f(this,xd)===xA.ENABLE_FORMS,linkService:q,downloadManager:Q,enableComment:H,enableScripting:k,hasJSActionsPromise:V,fieldObjectsPromise:K,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:D,commentManager:f(this,cB),onAppend:X=>{M(this,vt,Ug).call(this,X,"annotationLayer")}})}const{width:o,height:l}=s;_(this,Hv,s);const{canvas:u,prevCanvas:d}=this._createCanvas(P=>{a.prepend(P)});u.setAttribute("role","presentation"),this.outputScale||M(this,vt,zN).call(this);const{outputScale:h}=this;_(this,Ov,f(this,Wl));const g=XK(h.sx),v=XK(h.sy),b=u.width=zS(qS(o*h.sx),g[0]),C=u.height=zS(qS(l*h.sy),v[0]),E=zS(qS(o),g[1]),x=zS(qS(l),v[1]);h.sx=b/E,h.sy=C/x,f(this,pB)!==g[1]&&(t.style.setProperty("--scale-round-x",`${g[1]}px`),_(this,pB,g[1])),f(this,gB)!==v[1]&&(t.style.setProperty("--scale-round-y",`${v[1]}px`),_(this,gB,v[1]));const I=this.enableOptimizedPartialRendering&&f(this,Ov)&&!this.recordedBBoxes,T=h.scaled?[h.sx,0,0,h.sy,0,0]:null,R=this._drawCanvas(this._getRenderingContext(u,T,I),()=>{d==null||d.remove(),this._resetCanvas()},P=>{f(this,Yl).regularAnnotations=!P.separateAnnots,this.dispatchPageRendered(!1,!1)}).then(async()=>{var Q;if(this.renderingState!==kt.FINISHED)return;this.structTreeLayer||(this.structTreeLayer=new xY(r,s.rawDims));const P=M(this,vt,GN).call(this);this.annotationLayer&&(await M(this,vt,ON).call(this),f(this,dB)&&this.annotationLayer&&this.textLayer&&await M(this,vt,DY).call(this,P));const{annotationEditorUIManager:D}=f(this,Td);D&&(this.drawLayer||(this.drawLayer=new kge({pageIndex:this.id})),await M(this,vt,VN).call(this),this.drawLayer.setParent(a),(this.annotationLayer||f(this,xd)===xA.DISABLE)&&(this.annotationEditorLayer||(this.annotationEditorLayer=new Nge({uiManager:D,pdfPage:r,l10n:i,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:(Q=this.annotationLayer)==null?void 0:Q.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:H=>{M(this,vt,Ug).call(this,H,"annotationEditorLayer")}})),M(this,vt,HN).call(this)))});if(r.isPureXfa){if(!this.xfaLayer){const{annotationStorage:P,linkService:D}=f(this,Td);this.xfaLayer=new UY({pdfPage:r,annotationStorage:P,linkService:D})}M(this,vt,KN).call(this)}return t.setAttribute("data-loaded",!0),this.dispatchPageRender(),R}setPageLabel(t){this.pageLabel=typeof t=="string"?t:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:t,initialOptionalContent:i,regularAnnotations:r}=f(this,Yl);return t&&i&&r?this.canvas:null}}xd=new WeakMap,_d=new WeakMap,cB=new WeakMap,dB=new WeakMap,Ov=new WeakMap,fB=new WeakMap,Td=new WeakMap,Wl=new WeakMap,Hv=new WeakMap,hB=new WeakMap,pB=new WeakMap,gB=new WeakMap,Vv=new WeakMap,mB=new WeakMap,Yl=new WeakMap,Id=new WeakMap,vt=new WeakSet,Ug=function(t,i){const r=Gge.get(i),s=f(this,Id)[r];if(f(this,Id)[r]=t,s){s.replaceWith(t);return}for(let a=r-1;a>=0;a--){const o=f(this,Id)[a];if(o){o.after(t);return}}this.div.prepend(t)},M_=function(){const{div:t,viewport:i}=this;if(i.userUnit!==f(this,mB)&&(i.userUnit!==1?t.style.setProperty("--user-unit",i.userUnit):t.style.removeProperty("--user-unit"),_(this,mB,i.userUnit)),this.pdfPage){if(f(this,hB)===i.rotation)return;_(this,hB,i.rotation)}WW(t,i,!0,!1)},fw=function(t,i){this.eventBus.dispatch(t,{source:this,pageNumber:this.id,error:i})},ON=async function(){let t=null;try{await this.annotationLayer.render({viewport:this.viewport,intent:"display",structTreeLayer:this.structTreeLayer})}catch(i){console.error("#renderAnnotationLayer:",i),t=i}finally{M(this,vt,fw).call(this,"annotationlayerrendered",t)}},HN=async function(){let t=null;try{await this.annotationEditorLayer.render({viewport:this.viewport,intent:"display"})}catch(i){console.error("#renderAnnotationEditorLayer:",i),t=i}finally{M(this,vt,fw).call(this,"annotationeditorlayerrendered",t)}},VN=async function(){try{await this.drawLayer.render({intent:"display"})}catch(t){console.error("#renderDrawLayer:",t)}},KN=async function(){var i;let t=null;try{const r=await this.xfaLayer.render({viewport:this.viewport,intent:"display"});r!=null&&r.textDivs&&this._textHighlighter&&M(this,vt,RY).call(this,r.textDivs)}catch(r){console.error("#renderXfaLayer:",r),t=r}finally{(i=this.xfaLayer)!=null&&i.div&&(this.l10n.pause(),M(this,vt,Ug).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),M(this,vt,fw).call(this,"xfalayerrendered",t)}},GN=async function(){if(!this.textLayer)return;let t=null;try{await this.textLayer.render({viewport:this.viewport})}catch(i){if(i instanceof Khe)return;console.error("#renderTextLayer:",i),t=i}M(this,vt,fw).call(this,"textlayerrendered",t),M(this,vt,PY).call(this)},PY=async function(){var i,r,s;if(!this.textLayer)return;const t=await((i=this.structTreeLayer)==null?void 0:i.render());t&&(this.l10n.pause(),(r=this.structTreeLayer)==null||r.addElementsToTextLayer(),this.canvas&&t.parentNode!==this.canvas&&this.canvas.append(t),this.l10n.resume()),(s=this.structTreeLayer)==null||s.show()},RY=async function(t){const i=await this.pdfPage.getTextContent(),r=[];for(const s of i.items)r.push(s.str);this._textHighlighter.setTextMapping(t,r),this._textHighlighter.enable()},DY=async function(t){try{if(await t,!this.annotationLayer)return;await this.annotationLayer.injectLinkAnnotations(RN.processLinks(this))}catch(i){console.error("#injectLinkAnnotations:",i)}},zN=function(){const{width:t,height:i}=this.viewport,r=this.outputScale=new E_;if(this.maxCanvasPixels===0){const s=1/this.scale;r.sx*=s,r.sy*=s,_(this,Wl,!0)}else if(_(this,Wl,r.limitCanvas(t,i,this.maxCanvasPixels,this.maxCanvasDim,this.capCanvasAreaFactor)),f(this,Wl)&&this.enableDetailCanvas){const s=this.enableOptimizedPartialRendering?4:2;r.sx/=s,r.sy/=s}};async function zge(n){const{info:i,metadata:r,contentDispositionFilename:s,contentLength:a}=await n.getMetadata();return{...i,baseURL:"",filesize:a||(await n.getDownloadInfo()).length,filename:s||jhe(""),metadata:r==null?void 0:r.getRaw(),authors:r==null?void 0:r.get("dc:creator"),numPages:n.numPages,URL:""}}class qge{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(i)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}var BA,tp,vB,np,ip,yB,jr,Xl,Kv,Pi,qa,er,NY,P_,qN,LY,hw;class $ge{constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){F(this,er);F(this,BA,null);F(this,tp,null);F(this,vB,null);F(this,np,null);F(this,ip,null);F(this,yB,null);F(this,jr,null);F(this,Xl,null);F(this,Kv,!1);F(this,Pi,null);F(this,qa,null);_(this,ip,e),_(this,yB,t),_(this,vB,i)}setViewer(e){_(this,Xl,e)}async setDocument(e){var o;if(f(this,jr)&&await M(this,er,hw).call(this),_(this,jr,e),!e)return;const[t,i,r]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!r){await M(this,er,hw).call(this);return}if(e!==f(this,jr))return;try{_(this,Pi,M(this,er,LY).call(this))}catch(l){console.error("setDocument:",l),await M(this,er,hw).call(this);return}const s=f(this,ip);_(this,np,new AbortController);const{signal:a}=f(this,np);s._on("updatefromsandbox",l=>{(l==null?void 0:l.source)===window&&M(this,er,NY).call(this,l.detail)},{signal:a}),s._on("dispatcheventinsandbox",l=>{var u;(u=f(this,Pi))==null||u.dispatchEventInSandbox(l.detail)},{signal:a}),s._on("pagechanging",({pageNumber:l,previous:u})=>{l!==u&&(M(this,er,qN).call(this,u),M(this,er,P_).call(this,l))},{signal:a}),s._on("pagerendered",({pageNumber:l})=>{this._pageOpenPending.has(l)&&l===f(this,Xl).currentPageNumber&&M(this,er,P_).call(this,l)},{signal:a}),s._on("pagesdestroy",async()=>{var l,u;await M(this,er,qN).call(this,f(this,Xl).currentPageNumber),await((l=f(this,Pi))==null?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(u=f(this,BA))==null||u.resolve()},{signal:a});try{const l=await f(this,vB).call(this,e);if(e!==f(this,jr))return;await f(this,Pi).createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:r}}),s.dispatch("sandboxcreated",{source:this})}catch(l){console.error("setDocument:",l),await M(this,er,hw).call(this);return}await((o=f(this,Pi))==null?void 0:o.dispatchEventInSandbox({id:"doc",name:"Open"})),await M(this,er,P_).call(this,f(this,Xl).currentPageNumber,!0),Promise.resolve().then(()=>{e===f(this,jr)&&_(this,Kv,!0)})}async dispatchWillSave(){var e;return(e=f(this,Pi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=f(this,Pi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(f(this,Pi)){await((e=f(this,qa))==null?void 0:e.promise),_(this,qa,Promise.withResolvers());try{await f(this,Pi).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw f(this,qa).resolve(),_(this,qa,null),t}await f(this,qa).promise}}async dispatchDidPrint(){var e;return(e=f(this,Pi))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=f(this,tp))==null?void 0:e.promise)||null}get ready(){return f(this,Kv)}get _pageOpenPending(){return Hw(this,"_pageOpenPending",new Set)}get _visitedPages(){return Hw(this,"_visitedPages",new Map)}}BA=new WeakMap,tp=new WeakMap,vB=new WeakMap,np=new WeakMap,ip=new WeakMap,yB=new WeakMap,jr=new WeakMap,Xl=new WeakMap,Kv=new WeakMap,Pi=new WeakMap,qa=new WeakMap,er=new WeakSet,NY=async function(e){var u,d;const t=f(this,Xl),i=t.isInPresentationMode||t.isChangingPresentationMode,{id:r,siblings:s,command:a,value:o}=e;if(!r){switch(a){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(!i){const h=cpe(o);t.spreadMode=h.spreadMode}break;case"page-num":t.currentPageNumber=o+1;break;case"print":await t.pagesPromise,f(this,ip).dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":i||(t.currentScaleValue=o);break;case"SaveAs":f(this,ip).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":(u=f(this,qa))==null||u.resolve(),_(this,qa,null);break}return}if(i&&e.focus)return;delete e.id,delete e.siblings;const l=s?[r,...s]:[r];for(const h of l){const g=document.querySelector(`[data-element-id="${h}"]`);g?g.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(d=f(this,jr))==null||d.annotationStorage.setValue(h,e)}},P_=async function(e,t=!1){const i=f(this,jr),r=this._visitedPages;if(t&&_(this,BA,Promise.withResolvers()),!f(this,BA))return;const s=f(this,Xl).getPageView(e-1);if((s==null?void 0:s.renderingState)!==kt.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const a=(async()=>{var l,u;const o=await(r.has(e)?null:(l=s.pdfPage)==null?void 0:l.getJSActions());i===f(this,jr)&&await((u=f(this,Pi))==null?void 0:u.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:o}))})();r.set(e,a)},qN=async function(e){var s;const t=f(this,jr),i=this._visitedPages;if(!f(this,BA)||this._pageOpenPending.has(e))return;const r=i.get(e);r&&(i.set(e,null),await r,t===f(this,jr)&&await((s=f(this,Pi))==null?void 0:s.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},LY=function(){if(_(this,tp,Promise.withResolvers()),f(this,Pi))throw new Error("#initScripting: Scripting already exists.");return f(this,yB).createScripting()},hw=async function(){var e,t,i,r;if(!f(this,Pi)){_(this,jr,null),(e=f(this,tp))==null||e.resolve();return}f(this,BA)&&(await Promise.race([f(this,BA).promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),_(this,BA,null)),_(this,jr,null);try{await f(this,Pi).destroySandbox()}catch{}(t=f(this,qa))==null||t.reject(new Error("Scripting destroyed.")),_(this,qa,null),(i=f(this,np))==null||i.abort(),_(this,np,null),this._pageOpenPending.clear(),this._visitedPages.clear(),_(this,Pi,null),_(this,Kv,!1),(r=f(this,tp))==null||r.resolve()};class jge extends $ge{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new qge(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>zge(t)),super(e)}}const Wge=3e4;class Yge{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),Wge)))}getHighestPriority(e,t,i,r=!1,s=!1){const a=e.views,o=a.length;if(o===0)return null;for(let g=0;g<o;g++){const v=a[g].view;if(!this.isViewFinished(v))return v}if(!s)for(let g=0;g<o;g++){const{detailView:v}=a[g].view;if(v&&!this.isViewFinished(v))return v}const l=e.first.id,u=e.last.id;if(u-l+1>o){const g=e.ids;for(let v=1,b=u-l;v<b;v++){const C=i?l+v:u-v;if(g.has(C))continue;const E=t[C-1];if(!this.isViewFinished(E))return E}}let d=i?u:l-2,h=t[d];return h&&!this.isViewFinished(h)||r&&(d+=i?1:-1,h=t[d],h&&!this.isViewFinished(h))?h:null}isViewFinished(e){return e.renderingState===kt.FINISHED}renderView(e){switch(e.renderingState){case kt.FINISHED:return!1;case kt.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case kt.RUNNING:this.highestPriorityPage=e.renderingId;break;case kt.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof pN||console.error("renderView:",t)});break}return!0}}const BG=10,WS={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function EG(n){return Object.values(ds).includes(n)&&n!==ds.DISABLE}var Jl,rp,wB,$N;class Xge{constructor(e){F(this,wB);F(this,Jl,new Set);F(this,rp,0);_(this,rp,e)}push(e){const t=f(this,Jl);t.has(e)&&t.delete(e),t.add(e),t.size>f(this,rp)&&M(this,wB,$N).call(this)}resize(e,t=null){_(this,rp,e);const i=f(this,Jl);if(t){const r=i.size;let s=1;for(const a of i)if(t.has(a.id)&&(i.delete(a),i.add(a)),++s>r)break}for(;i.size>f(this,rp);)M(this,wB,$N).call(this)}has(e){return f(this,Jl).has(e)}[Symbol.iterator](){return f(this,Jl).keys()}}Jl=new WeakMap,rp=new WeakMap,wB=new WeakSet,$N=function(){const e=f(this,Jl).keys().next().value;e==null||e.destroy(),f(this,Jl).delete(e)};var Zl,bB,CB,$a,na,sp,ap,BB,EB,SB,xB,_B,TB,IB,FB,Fd,UB,Gv,eu,To,op,Ap,zv,Ud,qv,MB,$v,lp,tu,jv,PB,Wv,RB,Ze,QY,kY,OY,pw,R_,HY,jN,VY,fc,WN,KY,GY,zY,YN,qY,XN,D_,JN;class WQ{constructor(e){F(this,Ze);F(this,Zl,null);F(this,bB,null);F(this,CB,null);F(this,$a,ds.NONE);F(this,na,null);F(this,sp,xA.ENABLE_FORMS);F(this,ap,null);F(this,BB,null);F(this,EB,null);F(this,SB,!1);F(this,xB,!1);F(this,_B,!1);F(this,TB,!1);F(this,IB,!1);F(this,FB,!0);F(this,Fd,null);F(this,UB,0);F(this,Gv,null);F(this,eu,!0);F(this,To,null);F(this,op,null);F(this,Ap,null);F(this,zv,!1);F(this,Ud,null);F(this,qv,!1);F(this,MB,0);F(this,$v,new ResizeObserver(M(this,Ze,qY).bind(this)));F(this,lp,null);F(this,tu,null);F(this,jv,null);F(this,PB,!0);F(this,Wv,EA.ENABLE);F(this,RB,null);var r,s;const t="5.4.449";if(qK!==t)throw new Error(`The API version "${qK}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,_(this,RB,e.viewerAlert||null),((r=this.container)==null?void 0:r.tagName)!=="DIV"||((s=this.viewer)==null?void 0:s.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");f(this,$v).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new $Q,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,_(this,bB,e.altTextManager||null),_(this,ap,e.commentManager||null),_(this,jv,e.signatureManager||null),_(this,EB,e.editorUndoBar||null),this.findController&&(this.findController.onIsPageVisible=a=>this._getVisiblePages().ids.has(a)),this._scriptingManager=e.scriptingManager||null,_(this,Wv,e.textLayerMode??EA.ENABLE),_(this,sp,e.annotationMode??xA.ENABLE_FORMS),_(this,$a,e.annotationEditorMode??ds.NONE),_(this,CB,e.annotationEditorHighlightColors||null),_(this,xB,e.enableHighlightFloatingButton===!0),_(this,TB,e.enableUpdatedAddImage===!0),_(this,IB,e.enableNewAltTextWhenAddingImage===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.maxCanvasDim=e.maxCanvasDim,this.capCanvasAreaFactor=e.capCanvasAreaFactor,this.enableDetailCanvas=e.enableDetailCanvas??!0,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,this.l10n=e.l10n,this.l10n||(this.l10n=new Jv),_(this,_B,e.enablePermissions||!1),this.pageColors=e.pageColors||null,_(this,Gv,e.mlManager||null),_(this,SB,e.enableHWA||!1),_(this,PB,e.supportsPinchToZoom!==!1),_(this,FB,e.enableAutoLinking!==!1),_(this,UB,e.minDurationToUpdateCanvas??500),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new Yge,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:i}=e;i==null||i.addEventListener("abort",()=>{f(this,$v).disconnect(),_(this,$v,null)},{once:!0}),this.scroll=rpe(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=Wg.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),M(this,Ze,YN).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:a,pdfPage:o})=>{const l=this._pages[a-1];f(this,Zl).has(l)||o==null||o.cleanup()}),e.l10n||this.l10n.translate(this.container)}get printingAllowed(){return f(this,eu)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(f(this,Zl))}get pageViewsReady(){return this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return f(this,sp)===xA.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var r;if(this._currentPageNumber===e)return t&&M(this,Ze,WN).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((r=this._pageLabels)==null?void 0:r[e-1])??null,previous:i}),t&&M(this,Ze,WN).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==hM?this._currentScale:YW}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&M(this,Ze,fc).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&M(this,Ze,fc).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!JW(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&M(this,Ze,fc).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return Hw(this,"_layerProperties",{get annotationEditorUIManager(){return f(e,na)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableComment(){return!!f(e,ap)},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let i=1,r=this.pdfDocument.numPages;i<=r;++i){if(f(this,qv))return null;t.length=0;const s=await this.pdfDocument.getPage(i),{items:a}=await s.getTextContent();for(const o of a)o.str&&t.push(o.str),o.hasEOL&&t.push(`
`);e.push(_w(t.join("")))}return e.join(`
`)}setDocument(e){var g,v,b;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(g=this.findController)==null||g.setDocument(null),(v=this._scriptingManager)==null||v.setDocument(null),(b=f(this,na))==null||b.destroy(),_(this,na,null),_(this,$a,ds.NONE),_(this,eu,!0)),this.pdfDocument=e,!e)return;const t=e.numPages,i=e.getPage(1),r=e.getOptionalContentConfig({intent:"display"}),s=f(this,_B)?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:o,viewer:l}=this;_(this,Fd,new AbortController);const{signal:u}=f(this,Fd);if(t>WS.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const C=this._scrollMode=Mt.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:C})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});const d=C=>{const E=this._pages[C.pageNumber-1];E&&f(this,Zl).push(E)};a._on("pagerender",d,{signal:u});const h=C=>{C.cssTransform||C.isDetailView||(this._onePageRenderedCapability.resolve({timestamp:C.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:u}),Promise.all([i,s]).then(([C,E])=>{var Q;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(C),this._optionalContentConfigPromise=r;const{annotationEditorMode:x,annotationMode:I,textLayerMode:T}=M(this,Ze,QY).call(this,E);if(T!==EA.DISABLE){const H=_(this,Ud,document.createElement("div"));H.id="hiddenCopyElement",l.before(H)}if(x!==ds.DISABLE){const H=x;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):EG(H)?(_(this,na,new zhe(this.container,l,f(this,RB),f(this,bB),f(this,ap),f(this,jv),a,e,o,f(this,CB),f(this,xB),f(this,TB),f(this,IB),f(this,Gv),f(this,EB),f(this,PB))),a.dispatch("annotationeditoruimanager",{source:this,uiManager:f(this,na)}),H!==ds.NONE&&(M(this,Ze,JN).call(this,H),f(this,na).updateMode(H))):console.error(`Invalid AnnotationEditor mode: ${H}`)}const R=this._scrollMode===Mt.PAGE?null:l,P=this.currentScale,D=C.getViewport({scale:P*ll.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",D.scale),o!=null&&o.background&&l.style.setProperty("--page-bg-color",o.background),((o==null?void 0:o.foreground)==="CanvasText"||(o==null?void 0:o.background)==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let H=1;H<=t;++H){const k=new MY({container:R,eventBus:a,id:H,scale:P,defaultViewport:D.clone(),optionalContentConfigPromise:r,renderingQueue:this.renderingQueue,textLayerMode:T,annotationMode:I,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,maxCanvasDim:this.maxCanvasDim,capCanvasAreaFactor:this.capCanvasAreaFactor,enableDetailCanvas:this.enableDetailCanvas,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering,pageColors:o,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:f(this,SB),enableAutoLinking:f(this,FB),minDurationToUpdateCanvas:f(this,UB),commentManager:f(this,ap)});this._pages.push(k)}(Q=this._pages[0])==null||Q.setPdfPage(C),this._scrollMode===Mt.PAGE?M(this,Ze,pw).call(this):this._spreadMode!==Lr.NONE&&this._updateSpreadMode(),a._on("annotationeditorlayerrendered",H=>{f(this,na)&&a.dispatch("annotationeditormodechanged",{source:this,mode:f(this,$a)})},{once:!0,signal:u}),M(this,Ze,kY).call(this,u).then(async()=>{var k,K;if(e!==this.pdfDocument)return;if((k=this.findController)==null||k.setDocument(e),(K=this._scriptingManager)==null||K.setDocument(e),f(this,Ud)&&document.addEventListener("copy",M(this,Ze,OY).bind(this,T),{signal:u}),e.loadingParams.disableAutoFetch||t>WS.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let H=t-1;if(H<=0){this._pagesCapability.resolve();return}for(let V=2;V<=t;++V){const q=e.getPage(V).then(X=>{const ne=this._pages[V-1];ne.pdfPage||ne.setPdfPage(X),--H===0&&this._pagesCapability.resolve()},X=>{console.error(`Unable to get page ${V} to initialize viewer`,X),--H===0&&this._pagesCapability.resolve()});V%WS.PAUSE_EAGER_PAGE_INIT===0&&await q}}),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:H})=>{e===this.pdfDocument&&H.Language&&(l.lang=H.Language)}),this.defaultRenderingQueue&&this.update()}).catch(C=>{console.error("Unable to initialize viewer",C),this._pagesCapability.reject(C)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let i=0,r=this._pages.length;i<r;i++)this._pages[i].setPageLabel(((t=this._pageLabels)==null?void 0:t[i])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=hM,this._currentScaleValue=null,this._pageLabels=null,_(this,Zl,new Xge(BG)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=Mt.VERTICAL,this._previousScrollMode=Mt.UNKNOWN,this._spreadMode=Lr.NONE,_(this,lp,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=f(this,Fd))==null||e.abort(),_(this,Fd,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=f(this,Ud))==null||t.remove(),_(this,Ud,null),M(this,Ze,XN).call(this),M(this,Ze,D_).call(this)}_scrollUpdate(){this.pagesCount!==0&&(f(this,To)&&clearTimeout(f(this,To)),_(this,To,setTimeout(()=>{_(this,To,null),this.update()},100)),this.update())}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:r=!1,center:s=null}){if(!this.pdfDocument)return;const a=Number.isInteger(e)&&this._pages[e-1];if(!a){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let o=0,l=0,u=0,d=0,h,g;const v=a.rotation%180!==0,b=(v?a.height:a.width)/a.scale/ll.PDF_TO_CSS_UNITS,C=(v?a.width:a.height)/a.scale/ll.PDF_TO_CSS_UNITS;let E=0;switch(t[1].name){case"XYZ":o=t[2],l=t[3],E=t[4],o=o!==null?o:0,l=l!==null?l:C;break;case"Fit":case"FitB":E="page-fit";break;case"FitH":case"FitBH":l=t[2],E="page-width",l===null&&this._location?(o=this._location.left,l=this._location.top):(typeof l!="number"||l<0)&&(l=C);break;case"FitV":case"FitBV":o=t[2],u=b,d=C,E="page-height";break;case"FitR":o=t[2],l=t[3],u=t[4]-o,d=t[5]-l;let R=jK,P=WK;this.removePageBorders&&(R=P=0),h=(this.container.clientWidth-R)/u/ll.PDF_TO_CSS_UNITS,g=(this.container.clientHeight-P)/d/ll.PDF_TO_CSS_UNITS,E=Math.min(Math.abs(h),Math.abs(g));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(r||(E&&E!==this._currentScale?this.currentScaleValue=E:this._currentScale===hM&&(this.currentScaleValue=epe)),E==="page-fit"&&!t[4]){M(this,Ze,R_).call(this,a);return}const x=[a.viewport.convertToViewportPoint(o,l),a.viewport.convertToViewportPoint(o+u,l+d)];let I=Math.min(x[0][0],x[1][0]),T=Math.min(x[0][1],x[1][1]);s?((s==="both"||s==="vertical")&&(T-=(this.container.clientHeight-Math.abs(x[1][1]-x[0][1]))/2),(s==="both"||s==="horizontal")&&(I-=(this.container.clientWidth-Math.abs(x[1][0]-x[0][0]))/2)):i||(I=Math.max(I,0),T=Math.max(T,0)),M(this,Ze,R_).call(this,a,{left:I,top:T})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,r=parseFloat(i)===t?Math.round(t*1e4)/100:i,s=e.id,a=this._pages[s-1],o=this.container,l=a.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),u=Math.round(l[0]),d=Math.round(l[1]);let h=`#page=${s}`;this.isInPresentationMode||(h+=`&zoom=${r},${u},${d}`),this._location={pageNumber:s,scale:r,top:d,left:u,rotation:this._pagesRotation,pdfOpenParams:h}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(i===0)return;const r=Math.max(BG,2*i+1);f(this,Zl).resize(r,e.ids);for(const{view:l,visibleArea:u}of t)l.updateVisibleArea(u);for(const l of f(this,Zl))e.ids.has(l.id)||l.updateVisibleArea(null);this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===Lr.NONE&&(this._scrollMode===Mt.PAGE||this._scrollMode===Mt.VERTICAL),a=this._currentPageNumber;let o=!1;for(const l of t){if(l.percent<100)break;if(l.id===a&&s){o=!0;break}}this._setCurrentPageNumber(o?a:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===Wg.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===Wg.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===Mt.PAGE?f(this,lp).pages:this._pages,t=this._scrollMode===Mt.HORIZONTAL,i=t&&this._isContainerRtl;return ape({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(const e of this._pages)e.renderingState!==kt.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),i=M(this,Ze,zY).call(this,t),r=this._spreadMode!==Lr.NONE&&this._scrollMode!==Mt.HORIZONTAL,s=f(this,tu)!==null||f(this,To)!==null&&t.views.some(o=>{var l;return(l=o.detailView)==null?void 0:l.renderingCancelled}),a=this.renderingQueue.getHighestPriority(t,this._pages,i,r,s);return a?(M(this,Ze,GY).call(this,a).then(()=>{this.renderingQueue.renderView(a)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const i=t.pdfPage.getViewport({scale:1}),r=JK(i);if(e===void 0)e=r;else if(this.enablePrintAutoRotate&&r!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!ope(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>WS.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===Mt.HORIZONTAL),i.classList.toggle("scrollWrapped",t===Mt.WRAPPED),!(!this.pdfDocument||!e)&&(t===Mt.PAGE?M(this,Ze,pw).call(this):this._previousScrollMode===Mt.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&M(this,Ze,fc).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!Ape(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===Mt.PAGE)M(this,Ze,pw).call(this);else if(t.textContent="",this._spreadMode===Lr.NONE)for(const r of this._pages)t.append(r.div);else{const r=this._spreadMode-1;let s=null;for(let a=0,o=i.length;a<o;++a)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):a%2===r&&(s=s.cloneNode(!1),t.append(s)),s.append(i[a].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&M(this,Ze,fc).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case Mt.WRAPPED:{const{views:i}=this._getVisiblePages(),r=new Map;for(const{id:s,y:a,percent:o,widthPercent:l}of i){if(o===0||l<100)continue;let u=r.get(a);u||r.set(a,u||(u=[])),u.push(s)}for(const s of r.values()){const a=s.indexOf(e);if(a===-1)continue;const o=s.length;if(o===1)break;if(t)for(let l=a-1,u=0;l>=u;l--){const d=s[l],h=s[l+1]-1;if(d<h)return e-h}else for(let l=a+1,u=o;l<u;l++){const d=s[l],h=s[l-1]+1;if(d>h)return h-e}if(t){const l=s[0];if(l<e)return e-l+1}else{const l=s[o-1];if(l>e)return l-e+1}break}break}case Mt.HORIZONTAL:break;case Mt.PAGE:case Mt.VERTICAL:{if(this._spreadMode===Lr.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:r}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:a,percent:o,widthPercent:l}of r)if(a===s){if(o>0&&l===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:r}){if(i===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(i){const a=i>0?$K:1/$K,o=i>0?Math.ceil:Math.floor;i=Math.abs(i);do s=o((s*a).toFixed(2)*10)/10;while(--i>0)}s=GQ(s,tpe,npe),M(this,Ze,fc).call(this,s,{noScroll:!1,drawingDelay:e,origin:r})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return f(this,BB)||_(this,BB,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return f(this,na)?f(this,$a):ds.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1,mustEnterInEditMode:r=!1,editComment:s=!1}){if(!f(this,na))throw new Error("The AnnotationEditor is not enabled.");if(f(this,$a)===e)return;if(!EG(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;M(this,Ze,JN).call(this,e);const{eventBus:a,pdfDocument:o}=this,l=async()=>{M(this,Ze,D_).call(this),_(this,$a,e),await f(this,na).updateMode(e,t,i,r,s),!(e!==f(this,$a)||o!==this.pdfDocument)&&a.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===ds.NONE||f(this,$a)===ds.NONE){const u=e!==ds.NONE;u||this.pdfDocument.annotationStorage.resetModifiedIds(),this.cleanup();for(const h of this._pages)h.toggleEditingMode(u);const d=M(this,Ze,KY).call(this);if(u&&d){M(this,Ze,D_).call(this),_(this,op,new AbortController);const h=AbortSignal.any([f(this,Fd).signal,f(this,op).signal]);a._on("pagerendered",({pageNumber:g})=>{d.delete(g),d.size===0&&_(this,Ap,setTimeout(l,0))},{signal:h});return}}l()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const i of this._pages)i.update(t);M(this,Ze,XN).call(this),e||this.update()}}}Zl=new WeakMap,bB=new WeakMap,CB=new WeakMap,$a=new WeakMap,na=new WeakMap,sp=new WeakMap,ap=new WeakMap,BB=new WeakMap,EB=new WeakMap,SB=new WeakMap,xB=new WeakMap,_B=new WeakMap,TB=new WeakMap,IB=new WeakMap,FB=new WeakMap,Fd=new WeakMap,UB=new WeakMap,Gv=new WeakMap,eu=new WeakMap,To=new WeakMap,op=new WeakMap,Ap=new WeakMap,zv=new WeakMap,Ud=new WeakMap,qv=new WeakMap,MB=new WeakMap,$v=new WeakMap,lp=new WeakMap,tu=new WeakMap,jv=new WeakMap,PB=new WeakMap,Wv=new WeakMap,RB=new WeakMap,Ze=new WeakSet,QY=function(e){const t={annotationEditorMode:f(this,$a),annotationMode:f(this,sp),textLayerMode:f(this,Wv)};return e?(_(this,eu,e.includes(cg.PRINT_HIGH_QUALITY)||e.includes(cg.PRINT)),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,eu)}),!e.includes(cg.COPY)&&f(this,Wv)===EA.ENABLE&&(t.textLayerMode=EA.ENABLE_PERMISSIONS),e.includes(cg.MODIFY_CONTENTS)||(t.annotationEditorMode=ds.DISABLE),!e.includes(cg.MODIFY_ANNOTATIONS)&&!e.includes(cg.FILL_INTERACTIVE_FORMS)&&f(this,sp)===xA.ENABLE_FORMS&&(t.annotationMode=xA.ENABLE),t):(_(this,eu,!0),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,eu)}),t)},kY=async function(e){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const t=Promise.withResolvers(),i=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:AbortSignal.any([e,i.signal])}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),i.abort()},OY=function(e,t){const i=document.getSelection(),{focusNode:r,anchorNode:s}=i;if(s&&r&&i.containsNode(f(this,Ud))){if(f(this,zv)||e===EA.ENABLE_PERMISSIONS){gN(t);return}_(this,zv,!0);const{classList:a}=this.viewer;a.add("copyAll");const o=new AbortController;window.addEventListener("keydown",l=>_(this,qv,l.key==="Escape"),{signal:o.signal}),this.getAllText().then(async l=>{l!==null&&await navigator.clipboard.writeText(l)}).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{_(this,zv,!1),_(this,qv,!1),o.abort(),a.remove("copyAll")}),gN(t)}},pw=function(){if(this._scrollMode!==Mt.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=f(this,lp),i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode===Lr.NONE&&!this.isInPresentationMode){const r=this._pages[e-1];i.append(r.div),t.pages.push(r)}else{const r=new Set,s=this._spreadMode-1;s===-1?r.add(e-1):e%2!==s?(r.add(e-1),r.add(e)):(r.add(e-2),r.add(e-1));const a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){const o=document.createElement("div");o.className="dummyPage",a.append(o)}for(const o of r){const l=this._pages[o];l&&(a.append(l.div),t.pages.push(l))}i.append(a)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},R_=function(e,t=null){const{div:i,id:r}=e;if(this._currentPageNumber!==r&&this._setCurrentPageNumber(r),this._scrollMode===Mt.PAGE&&(M(this,Ze,pw).call(this),this.update()),!t&&!this.isInPresentationMode){const s=i.offsetLeft+i.clientLeft,a=s+i.clientWidth,{scrollLeft:o,clientWidth:l}=this.container;(this._scrollMode===Mt.HORIZONTAL||s<o||a>o+l)&&(t={left:0,top:0})}XW(i,t),!this._currentScaleValue&&this._location&&(this._location=null)},HY=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},jN=function(e,t,{noScroll:i=!1,preset:r=!1,drawingDelay:s=-1,origin:a=null}){if(this._currentScaleValue=t.toString(),M(this,Ze,HY).call(this,e)){r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*ll.PDF_TO_CSS_UNITS);const o=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:o?s:-1}),o&&_(this,tu,setTimeout(()=>{_(this,tu,null),this.refresh()},s));const l=this._currentScale;if(this._currentScale=e,!i){let u=this._currentPageNumber,d;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(u=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:d,allowNegativeOffset:!0}),Array.isArray(a)){const h=e/l-1,[g,v]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-v)*h,this.container.scrollTop+=(a[1]-g)*h}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()},VY=function(){return this._spreadMode!==Lr.NONE&&this._scrollMode!==Mt.HORIZONTAL?2:1},fc=function(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,M(this,Ze,jN).call(this,i,e,t);else{const r=this._pages[this._currentPageNumber-1];if(!r)return;let s=jK,a=WK;this.isInPresentationMode?(s=a=4,this._spreadMode!==Lr.NONE&&(s*=2)):this.removePageBorders?s=a=0:this._scrollMode===Mt.HORIZONTAL&&([s,a]=[a,s]);const o=(this.container.clientWidth-s)/r.width*r.scale/f(this,Ze,VY),l=(this.container.clientHeight-a)/r.height*r.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=o;break;case"page-height":i=l;break;case"page-fit":i=Math.min(o,l);break;case"auto":const u=JK(r)?o:Math.min(l,o);i=Math.min(ipe,u);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,M(this,Ze,jN).call(this,i,e,t)}},WN=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&M(this,Ze,fc).call(this,this._currentScaleValue,{noScroll:!0}),M(this,Ze,R_).call(this,e)},KY=function(){const e=this._getVisiblePages(),t=[],{ids:i,views:r}=e;for(const s of r){const{view:a}=s;if(!a.hasEditableAnnotations()){i.delete(a.id);continue}t.push(s)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)},GY=async function(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}},zY=function(e){var t,i;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((i=e.last)==null?void 0:i.id)===this.pagesCount)return!1;switch(this._scrollMode){case Mt.PAGE:return f(this,lp).scrollDown;case Mt.HORIZONTAL:return this.scroll.right}return this.scroll.down},YN=function(e=this.container.clientHeight){e!==f(this,MB)&&(_(this,MB,e),lpe.setProperty("--viewer-container-height",`${e}px`))},qY=function(e){for(const t of e)if(t.target===this.container){M(this,Ze,YN).call(this,Math.floor(t.borderBoxSize[0].blockSize)),_(this,BB,null);break}},XN=function(){f(this,tu)!==null&&(clearTimeout(f(this,tu)),_(this,tu,null)),f(this,To)!==null&&(clearTimeout(f(this,To)),_(this,To,null))},D_=function(){var e;(e=f(this,op))==null||e.abort(),_(this,op,null),f(this,Ap)!==null&&(clearTimeout(f(this,Ap)),_(this,Ap,null))},JN=function(e){var t,i;switch(e){case ds.STAMP:(t=f(this,Gv))==null||t.loadModel("altText");break;case ds.SIGNATURE:(i=f(this,jv))==null||i.loadSignatures();break}};class Jge extends WQ{_resetView(){super._resetView(),this._scrollMode=Mt.PAGE,this._spreadMode=Lr.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}globalThis.pdfjsViewer={AnnotationLayerBuilder:oY,DownloadManager:Rpe,EventBus:jQ,FindState:dc,GenericL10n:Jv,LinkTarget:Ef,parseQueryString:K1,PDFFindController:Mpe,PDFHistory:Pge,PDFLinkService:qQ,PDFPageView:MY,PDFScriptingManager:jge,PDFSinglePageViewer:Jge,PDFViewer:WQ,ProgressBar:upe,RenderingStates:kt,ScrollMode:Mt,SimpleLinkService:$Q,SpreadMode:Lr,StructTreeLayerBuilder:xY,TextLayerBuilder:AT,XfaLayerBuilder:UY};nu.workerSrc=`https://unpkg.com/pdfjs-dist@${Oj}/build/pdf.worker.mjs`;const Zge=({file:n,onPageChange:e,onPagesCount:t,registerGoToPage:i})=>{const r=U.useRef(null),s=U.useRef(null),a=U.useRef(null),o=U.useRef(new Map),l=U.useRef(null),{addHighlight:u,highlights:d,activeHighlightId:h,triggerSmartExplain:g,setPdfTextPages:v,pdfSearchHighlight:b,drawingMode:C,penColor:E,penWidth:x,penOpacity:I,chapterStrokes:T,addStroke:R,removeStroke:P,showAnnotations:D}=jd(),Q=U.useRef(null),[H,k]=U.useState(!0),[K,V]=U.useState(null),[q,X]=U.useState(""),ne=U.useRef(null),[ge,G]=U.useState([]),[$,ie]=U.useState({text:"",top:0,left:0,show:!1}),se=U.useRef(!1),be=U.useRef([]),z=U.useRef(C),J=U.useRef(E),le=U.useRef(x),ve=U.useRef(I),Ee=U.useRef(T),Fe=U.useRef(D);U.useEffect(()=>{z.current=C},[C]),U.useEffect(()=>{J.current=E},[E]),U.useEffect(()=>{le.current=x},[x]),U.useEffect(()=>{ve.current=I},[I]),U.useEffect(()=>{Ee.current=T},[T]),U.useEffect(()=>{Fe.current=D},[D]),U.useEffect(()=>{G(ce=>ce.filter(we=>d.some(xe=>xe.id===we.id)))},[d]),U.useEffect(()=>{if(!s.current)return;const ce=()=>{var xe;(xe=s.current)==null||xe.querySelectorAll(".textLayer span").forEach(Pe=>{const Te=Pe;Te.dataset.origText!==void 0&&(Te.textContent=Te.dataset.origText,delete Te.dataset.origText)})};if(!b){ce();return}const we=()=>{var Xe;const xe=(Xe=s.current)==null?void 0:Xe.querySelector(`.page[data-page-number="${b.page}"]`),Pe=xe==null?void 0:xe.querySelector(".textLayer");if(!Pe)return!1;ce();const Te=b.term.trim();if(!Te)return!1;const Ge=new RegExp(Te.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");return Pe.querySelectorAll("span").forEach(Se=>{const dn=Se,zn=dn.textContent||"",Hi=zn.replace(Ge,Sr=>`<span class="pdf_search_hit">${Sr}</span>`);Hi!==zn&&(dn.dataset.origText===void 0&&(dn.dataset.origText=zn),dn.innerHTML=Hi)}),!0};if(!we()){const xe=setTimeout(we,250);return()=>clearTimeout(xe)}},[b]),U.useEffect(()=>{if(!h||!r.current)return;const ce=ge.find(Te=>Te.id===h);if(!ce||ce.rects.length===0)return;const we=ce.rects[0],xe=Math.max(0,we.top-40),Pe=Math.max(0,we.left-20);r.current.scrollTo({top:xe,left:Pe,behavior:"smooth"})},[h,ge]),U.useEffect(()=>()=>{ne.current&&clearTimeout(ne.current)},[]),U.useEffect(()=>{if(!r.current||!s.current)return;G([]),ie(Se=>({...Se,show:!1})),v([]),t==null||t(0),e==null||e(1),k(!0),V(null);const ce=new jQ,we=new qQ({eventBus:ce}),xe=new WQ({container:r.current,viewer:s.current,eventBus:ce,linkService:we,textLayerMode:2,annotationMode:2,removePageBorders:!0});Q.current=xe;const Pe=2.1,Te=()=>{Ye(),ye(),kn(),_i()};ce.on("pagesinit",()=>{xe.currentScale=Pe,Te()}),ce.on("pagechanging",Se=>{Se!=null&&Se.pageNumber&&(e==null||e(Se.pageNumber))}),ce.on("pagesloaded",Se=>{Se!=null&&Se.pagesCount&&(t==null||t(Se.pagesCount)),Te()}),ce.on("pagerendered",Te),i==null||i(Se=>{if(!Q.current||!Q.current.pdfDocument||!Q.current.pagesCount)return;const dn=Q.current.pdfDocument.numPages,zn=Math.min(Math.max(Se,1),dn);Q.current.currentPageNumber=zn,Q.current.scrollPageIntoView({pageNumber:zn})}),we.setViewer(xe);let Ge=!1,Xe=kQ(n);return Xe.promise.then(Se=>{if(Ge)return;k(!1),V(null),xe.setDocument(Se),we.setDocument(Se,null),t==null||t(Se.numPages),(async()=>{const zn=[];try{for(let Hi=1;Hi<=Se.numPages;Hi++){const Ho=(await(await Se.getPage(Hi)).getTextContent()).items.map(ga=>"str"in ga?ga.str:"").join(" ");zn.push({page:Hi,text:Ho})}Ge||v(zn)}catch(Hi){console.error("PDF text extraction failed",Hi)}})()}).catch(Se=>{if(!Ge){if((Se==null?void 0:Se.message)==="Worker was destroyed"){console.debug("[PdfViewer] worker destroyed (cleanup)");return}console.error("[PdfViewer] load error:",Se),V((Se==null?void 0:Se.message)||"PDF  "),k(!1)}}),()=>{var Se;Ge=!0,Xe.destroy(),Q.current=null,(Se=ce.off)==null||Se.call(ce,"pagerendered",Te),o.current.forEach(({layer:dn})=>dn.remove()),o.current.clear(),l.current=null}},[n,e,t,i,v]);const Ce=()=>{if(!a.current)return 1;const ce=getComputedStyle(a.current).getPropertyValue("--visual-scale"),we=parseFloat(ce);return Number.isFinite(we)?we:1},ut=ce=>{const xe=ce.target.closest(".page");if(!xe)return null;const Pe=Number(xe.dataset.pageNumber);return Pe?{pageEl:xe,pageNumber:Pe}:null},ae=ce=>s.current?s.current.querySelector(`.page[data-page-number="${ce}"]`):null,Ke=(ce,we,xe)=>{const Pe=ce.getBoundingClientRect(),Te=window.devicePixelRatio||1,Ge=Ce(),Xe=Pe.width/Ge,Se=Pe.height/Ge;!Xe||!Se||[we,xe].forEach(dn=>{dn.width=Xe*Te,dn.height=Se*Te,dn.style.width="100%",dn.style.height="100%";const zn=dn.getContext("2d");zn&&(zn.setTransform(1,0,0,1,0,0),zn.scale(Te,Te))})},Ye=()=>{var xe;if(!s.current)return;const ce=Array.from(s.current.querySelectorAll(".page")),we=new Set;ce.forEach(Pe=>{const Te=Number(Pe.dataset.pageNumber);if(!Te)return;we.add(Te);let Ge=Pe.querySelector(".pdf_pen_page_layer"),Xe=null,Se=null;Ge?(Xe=Ge.querySelector(".pdf_pen_page_canvas:not(.pdf_pen_page_canvas_live)"),Se=Ge.querySelector(".pdf_pen_page_canvas_live"),Se&&!Se.dataset.penBound&&(Se.addEventListener("pointerdown",Jt),Se.addEventListener("pointermove",Nt),Se.addEventListener("pointerup",Mn),Se.addEventListener("pointerleave",Mn),Se.dataset.penBound="1")):(Ge=document.createElement("div"),Ge.className="pdf_pen_page_layer",Xe=document.createElement("canvas"),Xe.className="pdf_pen_page_canvas",Xe.setAttribute("aria-hidden","true"),Se=document.createElement("canvas"),Se.className="pdf_pen_page_canvas pdf_pen_page_canvas_live",Se.addEventListener("pointerdown",Jt),Se.addEventListener("pointermove",Nt),Se.addEventListener("pointerup",Mn),Se.addEventListener("pointerleave",Mn),Se.dataset.penBound="1",Ge.appendChild(Xe),Ge.appendChild(Se),Pe.appendChild(Ge)),!(!Ge||!Xe||!Se)&&(o.current.set(Te,{layer:Ge,staticCanvas:Xe,liveCanvas:Se}),Ke(Pe,Xe,Se))});for(const[Pe,Te]of o.current.entries())we.has(Pe)||((xe=Te.layer)==null||xe.remove(),o.current.delete(Pe))},ye=()=>{const ce=z.current!=="idle";o.current.forEach(({liveCanvas:we})=>{we.style.pointerEvents=ce?"auto":"none",we.style.touchAction=ce?"none":"auto",we.style.cursor=ce?"crosshair":"default"})},Pt=(ce,we)=>ce.pageNumber===void 0?we===1:ce.pageNumber===we,Je=(ce,we)=>{const xe=we.getBoundingClientRect(),Pe=Ce(),Te=(ce.clientX-xe.left)/Pe,Ge=(ce.clientY-xe.top)/Pe;return{x:Te,y:Ge}},Jt=ce=>{if(z.current==="idle")return;const we=ut(ce);if(!we)return;const{pageEl:xe,pageNumber:Pe}=we;ce.target.setPointerCapture(ce.pointerId);const Te=Je(ce,xe);Te&&(l.current=Pe,se.current=!0,be.current=[Te],_i())},Nt=ce=>{var Te;if(z.current==="idle"||ce.buttons===0&&!se.current)return;const we=l.current||((Te=ut(ce))==null?void 0:Te.pageNumber)||null;if(!we)return;const xe=ae(we);if(!xe)return;ce.preventDefault();const Pe=Je(ce,xe);Pe&&(z.current==="pen"?(se.current=!0,l.current=we,be.current.length===0?be.current=[Pe]:be.current.push(Pe),_i()):z.current==="eraser"&&(Ee.current["pdf-main"]||[]).filter(Xe=>Pt(Xe,we)).forEach(Xe=>{Xe.points.some(dn=>Math.hypot(dn.x-Pe.x,dn.y-Pe.y)<16)&&P("pdf-main",Xe.id)}))},Mn=ce=>{var Pe;if(!se.current&&z.current!=="eraser")return;const we=ce.target;(Pe=we.hasPointerCapture)!=null&&Pe.call(we,ce.pointerId)&&we.releasePointerCapture(ce.pointerId);const xe=l.current;if(z.current==="pen"&&xe&&be.current.length>1){const Te={id:Date.now().toString(),points:be.current,color:J.current,width:le.current,opacity:ve.current,pageNumber:xe};R("pdf-main",Te)}se.current=!1,be.current=[],l.current=null,_i()},st=(ce,we,xe,Pe,Te)=>{if(!(we.length<2)){ce.beginPath(),ce.lineWidth=Pe,ce.strokeStyle=xe,ce.lineCap="round",ce.lineJoin="round",ce.globalAlpha=Te,ce.moveTo(we[0].x,we[0].y);for(let Ge=1;Ge<we.length-1;Ge++){const Xe={x:(we[Ge].x+we[Ge+1].x)/2,y:(we[Ge].y+we[Ge+1].y)/2};ce.quadraticCurveTo(we[Ge].x,we[Ge].y,Xe.x,Xe.y)}ce.lineTo(we[we.length-1].x,we[we.length-1].y),ce.stroke(),ce.globalAlpha=1}},kn=()=>{o.current.forEach(({staticCanvas:ce},we)=>{const xe=ce.getContext("2d");if(!xe||(xe.save(),xe.setTransform(1,0,0,1,0,0),xe.clearRect(0,0,ce.width,ce.height),xe.restore(),!Fe.current))return;(Ee.current["pdf-main"]||[]).filter(Te=>Pt(Te,we)).forEach(Te=>st(xe,Te.points,Te.color,Te.width||3,Te.opacity??1))})},_i=()=>{if(o.current.forEach(({liveCanvas:Pe})=>{const Te=Pe.getContext("2d");Te&&(Te.save(),Te.setTransform(1,0,0,1,0,0),Te.clearRect(0,0,Pe.width,Pe.height),Te.restore())}),z.current!=="pen"||be.current.length===0)return;const ce=l.current;if(!ce)return;const we=o.current.get(ce);if(!we)return;const xe=we.liveCanvas.getContext("2d");if(xe){if(be.current.length===1){const Pe=be.current[0];xe.beginPath(),xe.fillStyle=J.current,xe.globalAlpha=ve.current,xe.arc(Pe.x,Pe.y,le.current/2,0,Math.PI*2),xe.fill(),xe.globalAlpha=1;return}st(xe,be.current,J.current,le.current,ve.current)}};U.useEffect(()=>{Ye(),ye(),kn()},[C,D]),U.useEffect(()=>{kn()},[T]),U.useEffect(()=>{_i()},[C,E,x,I]),U.useEffect(()=>{const ce=new ResizeObserver(()=>{Ye(),kn(),_i()});return s.current&&ce.observe(s.current),r.current&&ce.observe(r.current),()=>ce.disconnect()},[]);const Zt=async()=>{var we;ne.current&&clearTimeout(ne.current);const ce=((we=window.getSelection())==null?void 0:we.toString())??"";if(!ce.trim()){X("fail"),ne.current=window.setTimeout(()=>X(""),1e3);return}try{navigator.clipboard&&navigator.clipboard.writeText?await navigator.clipboard.writeText(ce):document.execCommand("copy"),X("ok")}catch(xe){console.error("copy failed",xe),X("fail")}finally{ne.current=window.setTimeout(()=>X(""),1e3)}},pa=.5,_e=ce=>{const xe=ce.map(Te=>({...Te}));let Pe=!0;for(;Pe;){Pe=!1;for(let Te=0;Te<xe.length;Te++){for(let Ge=Te+1;Ge<xe.length;Ge++){const Xe=xe[Te],Se=xe[Ge],dn=Xe.left<=Se.left+Se.width+1.5&&Xe.left+Xe.width>=Se.left-1.5,zn=Xe.top<=Se.top+Se.height+1.5&&Xe.top+Xe.height>=Se.top-1.5;if(dn&&zn){const Hi=Math.min(Xe.left,Se.left),Sr=Math.min(Xe.top,Se.top),ni=Math.max(Xe.left+Xe.width,Se.left+Se.width),Ho=Math.max(Xe.top+Xe.height,Se.top+Se.height);xe[Te]={left:Hi,top:Sr,width:ni-Hi,height:Ho-Sr},xe.splice(Ge,1),Pe=!0;break}}if(Pe)break}}return xe},Z=()=>{const ce=window.getSelection();if(!ce||!ce.toString().trim()||!r.current){ie(Xe=>({...Xe,show:!1}));return}if(!(r.current.contains(ce.anchorNode)&&r.current.contains(ce.focusNode))){ie(Xe=>({...Xe,show:!1}));return}const Pe=ce.getRangeAt(0).getBoundingClientRect();let Te=Pe.top-50,Ge=Pe.left+Pe.width/2-80;Te<8&&(Te=Pe.bottom+8),Ge<8&&(Ge=8),Ge+180>window.innerWidth&&(Ge=window.innerWidth-200),ie({text:ce.toString(),top:Te,left:Ge,show:!0})},Be=()=>{C==="idle"&&setTimeout(Z,10)},Re=()=>{const ce=window.getSelection();if(!ce||!ce.toString().trim()||!r.current||!a.current){ie(ni=>({...ni,show:!1}));return}const we=ce.getRangeAt(0),xe=r.current.getBoundingClientRect(),Pe=r.current.scrollLeft,Te=r.current.scrollTop,Ge=getComputedStyle(a.current).getPropertyValue("--visual-scale"),Xe=parseFloat(Ge)||1,Se=.5,dn=1,zn=Array.from(we.getClientRects()).map(ni=>({left:(ni.left-xe.left)/Xe+Pe,top:(ni.top-xe.top)/Xe+Te-Se,width:ni.width/Xe,height:Math.max(ni.height/Xe-dn,1)})),Hi=u(ce.toString(),void 0,"reference-doc"),Sr=_e(zn);G(ni=>[...ni,{id:Hi,rects:Sr}]),ie(ni=>({...ni,show:!1})),ce.removeAllRanges()},bt=()=>{var ce;(ce=window.getSelection())==null||ce.removeAllRanges(),ie(we=>({...we,show:!1}))},qe=()=>{var ce;if(!$.text.trim()){ie(we=>({...we,show:!1}));return}g($.text),ie(we=>({...we,show:!1})),(ce=window.getSelection())==null||ce.removeAllRanges()};return L.jsxs("div",{className:"pdf_viewer",children:[H&&L.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_loading",children:L.jsx("span",{className:"pdf_viewer_overlay_message",children:"PDF  ..."})}),K&&L.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_error",children:L.jsxs("div",{className:"pdf_viewer_error",children:[L.jsx("div",{className:"pdf_viewer_error_title",children:"PDF  "}),L.jsx("div",{children:K})]})}),L.jsx("div",{className:"pdf_viewer_scale_wrapper",ref:a,style:{"--visual-scale":pa},children:L.jsxs("div",{ref:r,className:"pdf_viewer_container",onPointerUp:Be,children:[L.jsx("div",{ref:s,className:"pdfViewer pdf_viewer_content"}),L.jsx("div",{className:"pdf_highlight_layer",children:ge.flatMap(ce=>ce.rects.map((we,xe)=>L.jsx("div",{className:"pdf_highlight","data-highlight-id":ce.id,style:{left:we.left,top:we.top,width:we.width,height:we.height}},`${ce.id}-${xe}`)))})]})}),$.show&&L.jsxs("div",{className:"pdf_selection_menu",style:{top:$.top,left:$.left},children:[(q==="ok"||q==="fail")&&L.jsx("span",{className:`pdf_selection_menu_copy_status ${q==="ok"?"pdf_viewer_copy_status_ok":"pdf_viewer_copy_status_fail"}`,children:q==="ok"?"":" "}),L.jsx("button",{onClick:Re,children:"Highlight"}),L.jsx("div",{className:"pdf_selection_menu_copy_block",children:L.jsx("button",{onClick:Zt,children:"Copy"})}),L.jsx("button",{onClick:qe,children:"AI"}),L.jsx("button",{onClick:bt,children:"Cancel"})]})]})},eme=({pdfPageCount:n,pdfCurrentPage:e,onPdfGoToPage:t})=>{const{chapters:i,currentChapterIndex:r,goToNextChapter:s,goToPrevChapter:a,goToChapter:o}=jd(),l=!!t&&(n||0)>0,u=l?n||1:i.length,d=l?e||1:r+1,h=d-1,[g,v]=U.useState(d.toString());U.useEffect(()=>{v(d.toString())},[d]);const b=E=>{E.preventDefault();const x=parseInt(g);if(isNaN(x)||x<1||x>u){v(d.toString());return}l?t==null||t(x):o(x-1)},C=E=>{const x=parseInt(E.target.value);l?t==null||t(x+1):o(x)};return L.jsxs("div",{className:"navigation_inner",children:[L.jsxs("div",{className:"prograss_bar_wrap",children:[L.jsx("input",{type:"range",min:"0",max:Math.max(u-1,0),value:h,onChange:C,className:"prograss_max"}),L.jsx("div",{className:"prograss_range",style:{width:`${d/u*100}%`},children:L.jsx("div",{className:"prograss_pointer"})})]}),L.jsxs("div",{className:"navigation_bottom_box",children:[L.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.max(1,d-1)):a(),disabled:l?d<=1:r===0,className:`
            ${l?d<=1?"off":"on":r===0?"off":"on"}
          `,children:[L.jsx(Nfe,{size:18}),L.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),L.jsxs("div",{className:"chapter_page",children:[L.jsxs("form",{onSubmit:b,className:"",children:[L.jsx("span",{className:"text_xs",children:"Page"}),L.jsx("input",{type:"text",value:g,onChange:E=>v(E.target.value),className:""}),L.jsxs("span",{className:"slash",children:["/ ",u]})]}),L.jsx("span",{className:"chapter_name",children:l?"PDF":i[r].title.split(":")[1]||i[r].title})]}),L.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.min(u,d+1)):s(),disabled:l?d>=u:r===i.length-1,className:`
            ${l?d>=u?"off":"on":r===i.length-1?"off":"on"}
          `,children:[L.jsx("span",{className:"hidden sm:inline",children:"Next"}),L.jsx(Qfe,{size:18})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZN=function(n,e){return ZN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},ZN(n,e)};function ko(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ZN(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var eL=function(){return eL=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},eL.apply(this,arguments)};function Wr(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(i.next(d))}catch(h){a(h)}}function l(d){try{u(i.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):r(d.value).then(o,l)}u((i=i.apply(n,[])).next())})}function Dr(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function YS(n,e,t){if(arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||e)}var vu=(function(){function n(e,t,i,r){this.left=e,this.top=t,this.width=i,this.height=r}return n.prototype.add=function(e,t,i,r){return new n(this.left+e,this.top+t,this.width+i,this.height+r)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var i=Array.from(t).find(function(r){return r.width!==0});return i?new n(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),G1=function(n,e){return vu.fromClientRect(n,e.getBoundingClientRect())},tme=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),r=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new vu(0,0,i,r)},z1=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},ci=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},SG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var XS=0;XS<SG.length;XS++)nme[SG.charCodeAt(XS)]=XS;var xG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var JS=0;JS<xG.length;JS++)gw[xG.charCodeAt(JS)]=JS;var ime=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<t;i+=4)s=gw[n.charCodeAt(i)],a=gw[n.charCodeAt(i+1)],o=gw[n.charCodeAt(i+2)],l=gw[n.charCodeAt(i+3)],d[r++]=s<<2|a>>4,d[r++]=(a&15)<<4|o>>2,d[r++]=(o&3)<<6|l&63;return u},rme=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},sme=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},up=5,YQ=11,wM=2,ame=YQ-up,$Y=65536>>up,ome=1<<up,bM=ome-1,Ame=1024>>up,lme=$Y+Ame,ume=lme,cme=32,dme=ume+cme,fme=65536>>YQ,hme=1<<ame,pme=hme-1,_G=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},gme=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},mme=function(n,e){var t=ime(n),i=Array.isArray(t)?sme(t):new Uint32Array(t),r=Array.isArray(t)?rme(t):new Uint16Array(t),s=24,a=_G(r,s/2,i[4]/2),o=i[5]===2?_G(r,(s+i[4])/2):gme(i,Math.ceil((s+i[4])/4));return new vme(i[0],i[1],i[2],i[3],a,o)},vme=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>up],t=(t<<wM)+(e&bM),this.data[t];if(e<=65535)return t=this.index[$Y+(e-55296>>up)],t=(t<<wM)+(e&bM),this.data[t];if(e<this.highStart)return t=dme-fme+(e>>YQ),t=this.index[t],t+=e>>up&pme,t=this.index[t],t=(t<<wM)+(e&bM),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),TG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ZS=0;ZS<TG.length;ZS++)yme[TG.charCodeAt(ZS)]=ZS;var wme="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",IG=50,bme=1,jY=2,WY=3,Cme=4,Bme=5,FG=7,YY=8,UG=9,Pd=10,tL=11,MG=12,nL=13,Eme=14,mw=15,iL=16,ex=17,I0=18,Sme=19,PG=20,rL=21,F0=22,CM=23,dg=24,Ns=25,vw=26,yw=27,fg=28,xme=29,If=30,_me=31,tx=32,nx=33,sL=34,aL=35,oL=36,Gw=37,AL=38,N_=39,L_=40,BM=41,XY=42,Tme=43,Ime=[9001,65288],JY="!",Tt="",ix="",lL=mme(wme),tl=[If,oL],uL=[bme,jY,WY,Bme],ZY=[Pd,YY],RG=[yw,vw],Fme=uL.concat(ZY),DG=[AL,N_,L_,sL,aL],Ume=[mw,nL],Mme=function(n,e){e===void 0&&(e="strict");var t=[],i=[],r=[];return n.forEach(function(s,a){var o=lL.get(s);if(o>IG?(r.push(!0),o-=IG):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return i.push(a),t.push(iL);if(o===Cme||o===tL){if(a===0)return i.push(a),t.push(If);var l=t[a-1];return Fme.indexOf(l)===-1?(i.push(i[a-1]),t.push(l)):(i.push(a),t.push(If))}if(i.push(a),o===_me)return t.push(e==="strict"?rL:Gw);if(o===XY||o===xme)return t.push(If);if(o===Tme)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Gw):t.push(If);t.push(o)}),[i,t,r]},EM=function(n,e,t,i){var r=i[t];if(Array.isArray(n)?n.indexOf(r)!==-1:n===r)for(var s=t;s<=i.length;){s++;var a=i[s];if(a===e)return!0;if(a!==Pd)break}if(r===Pd)for(var s=t;s>0;){s--;var o=i[s];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var l=t;l<=i.length;){l++;var a=i[l];if(a===e)return!0;if(a!==Pd)break}if(o!==Pd)break}return!1},NG=function(n,e){for(var t=n;t>=0;){var i=e[t];if(i===Pd)t--;else return i}return 0},Pme=function(n,e,t,i,r){if(t[i]===0)return Tt;var s=i-1;if(Array.isArray(r)&&r[s]===!0)return Tt;var a=s-1,o=s+1,l=e[s],u=a>=0?e[a]:0,d=e[o];if(l===jY&&d===WY)return Tt;if(uL.indexOf(l)!==-1)return JY;if(uL.indexOf(d)!==-1||ZY.indexOf(d)!==-1)return Tt;if(NG(s,e)===YY)return ix;if(lL.get(n[s])===tL||(l===tx||l===nx)&&lL.get(n[o])===tL||l===FG||d===FG||l===UG||[Pd,nL,mw].indexOf(l)===-1&&d===UG||[ex,I0,Sme,dg,fg].indexOf(d)!==-1||NG(s,e)===F0||EM(CM,F0,s,e)||EM([ex,I0],rL,s,e)||EM(MG,MG,s,e))return Tt;if(l===Pd)return ix;if(l===CM||d===CM)return Tt;if(d===iL||l===iL)return ix;if([nL,mw,rL].indexOf(d)!==-1||l===Eme||u===oL&&Ume.indexOf(l)!==-1||l===fg&&d===oL||d===PG||tl.indexOf(d)!==-1&&l===Ns||tl.indexOf(l)!==-1&&d===Ns||l===yw&&[Gw,tx,nx].indexOf(d)!==-1||[Gw,tx,nx].indexOf(l)!==-1&&d===vw||tl.indexOf(l)!==-1&&RG.indexOf(d)!==-1||RG.indexOf(l)!==-1&&tl.indexOf(d)!==-1||[yw,vw].indexOf(l)!==-1&&(d===Ns||[F0,mw].indexOf(d)!==-1&&e[o+1]===Ns)||[F0,mw].indexOf(l)!==-1&&d===Ns||l===Ns&&[Ns,fg,dg].indexOf(d)!==-1)return Tt;if([Ns,fg,dg,ex,I0].indexOf(d)!==-1)for(var h=s;h>=0;){var g=e[h];if(g===Ns)return Tt;if([fg,dg].indexOf(g)!==-1)h--;else break}if([yw,vw].indexOf(d)!==-1)for(var h=[ex,I0].indexOf(l)!==-1?a:s;h>=0;){var g=e[h];if(g===Ns)return Tt;if([fg,dg].indexOf(g)!==-1)h--;else break}if(AL===l&&[AL,N_,sL,aL].indexOf(d)!==-1||[N_,sL].indexOf(l)!==-1&&[N_,L_].indexOf(d)!==-1||[L_,aL].indexOf(l)!==-1&&d===L_||DG.indexOf(l)!==-1&&[PG,vw].indexOf(d)!==-1||DG.indexOf(d)!==-1&&l===yw||tl.indexOf(l)!==-1&&tl.indexOf(d)!==-1||l===dg&&tl.indexOf(d)!==-1||tl.concat(Ns).indexOf(l)!==-1&&d===F0&&Ime.indexOf(n[o])===-1||tl.concat(Ns).indexOf(d)!==-1&&l===I0)return Tt;if(l===BM&&d===BM){for(var v=t[s],b=1;v>0&&(v--,e[v]===BM);)b++;if(b%2!==0)return Tt}return l===tx&&d===nx?Tt:ix},Rme=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Mme(n,e.lineBreak),i=t[0],r=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(o){return[Ns,If,XY].indexOf(o)!==-1?Gw:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&n[l]>=19968&&n[l]<=40959}):void 0;return[i,r,a]},Dme=(function(){function n(e,t,i,r){this.codePoints=e,this.required=t===JY,this.start=i,this.end=r}return n.prototype.slice=function(){return ci.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),Nme=function(n,e){var t=z1(n),i=Rme(t,e),r=i[0],s=i[1],a=i[2],o=t.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=Tt;u<o&&(d=Pme(t,s,r,++u,a))===Tt;);if(d!==Tt||u===o){var h=new Dme(t,d,l,u);return l=u,{value:h,done:!1}}return{done:!0,value:null}}}},Lme=1,Qme=2,zB=4,LG=8,lT=10,QG=47,Iw=92,kme=9,Ome=32,rx=34,U0=61,Hme=35,Vme=36,Kme=37,sx=39,ax=40,M0=41,Gme=95,Es=45,zme=33,qme=60,$me=62,jme=64,Wme=91,Yme=93,Xme=61,Jme=123,ox=63,Zme=125,kG=124,eve=126,tve=128,OG=65533,SM=42,Pf=43,nve=44,ive=58,rve=59,zw=46,sve=0,ave=8,ove=11,Ave=14,lve=31,uve=127,Yo=-1,eX=48,tX=97,nX=101,cve=102,dve=117,fve=122,iX=65,rX=69,sX=70,hve=85,pve=90,Qr=function(n){return n>=eX&&n<=57},gve=function(n){return n>=55296&&n<=57343},hg=function(n){return Qr(n)||n>=iX&&n<=sX||n>=tX&&n<=cve},mve=function(n){return n>=tX&&n<=fve},vve=function(n){return n>=iX&&n<=pve},yve=function(n){return mve(n)||vve(n)},wve=function(n){return n>=tve},Ax=function(n){return n===lT||n===kme||n===Ome},uT=function(n){return yve(n)||wve(n)||n===Gme},HG=function(n){return uT(n)||Qr(n)||n===Es},bve=function(n){return n>=sve&&n<=ave||n===ove||n>=Ave&&n<=lve||n===uve},gc=function(n,e){return n!==Iw?!1:e!==lT},lx=function(n,e,t){return n===Es?uT(e)||gc(e,t):uT(n)?!0:!!(n===Iw&&gc(n,e))},xM=function(n,e,t){return n===Pf||n===Es?Qr(e)?!0:e===zw&&Qr(t):Qr(n===zw?e:n)},Cve=function(n){var e=0,t=1;(n[e]===Pf||n[e]===Es)&&(n[e]===Es&&(t=-1),e++);for(var i=[];Qr(n[e]);)i.push(n[e++]);var r=i.length?parseInt(ci.apply(void 0,i),10):0;n[e]===zw&&e++;for(var s=[];Qr(n[e]);)s.push(n[e++]);var a=s.length,o=a?parseInt(ci.apply(void 0,s),10):0;(n[e]===rX||n[e]===nX)&&e++;var l=1;(n[e]===Pf||n[e]===Es)&&(n[e]===Es&&(l=-1),e++);for(var u=[];Qr(n[e]);)u.push(n[e++]);var d=u.length?parseInt(ci.apply(void 0,u),10):0;return t*(r+o*Math.pow(10,-a))*Math.pow(10,l*d)},Bve={type:2},Eve={type:3},Sve={type:4},xve={type:13},_ve={type:8},Tve={type:21},Ive={type:9},Fve={type:10},Uve={type:11},Mve={type:12},Pve={type:14},ux={type:23},Rve={type:1},Dve={type:25},Nve={type:24},Lve={type:26},Qve={type:27},kve={type:28},Ove={type:29},Hve={type:31},cL={type:32},aX=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(z1(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==cL;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case rx:return this.consumeStringToken(rx);case Hme:var t=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);if(HG(t)||gc(i,r)){var s=lx(t,i,r)?Qme:Lme,a=this.consumeName();return{type:5,value:a,flags:s}}break;case Vme:if(this.peekCodePoint(0)===U0)return this.consumeCodePoint(),xve;break;case sx:return this.consumeStringToken(sx);case ax:return Bve;case M0:return Eve;case SM:if(this.peekCodePoint(0)===U0)return this.consumeCodePoint(),Pve;break;case Pf:if(xM(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case nve:return Sve;case Es:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(xM(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(lx(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Es&&u===$me)return this.consumeCodePoint(),this.consumeCodePoint(),Nve;break;case zw:if(xM(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case QG:if(this.peekCodePoint(0)===SM)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===SM&&(d=this.consumeCodePoint(),d===QG))return this.consumeToken();if(d===Yo)return this.consumeToken()}break;case ive:return Lve;case rve:return Qve;case qme:if(this.peekCodePoint(0)===zme&&this.peekCodePoint(1)===Es&&this.peekCodePoint(2)===Es)return this.consumeCodePoint(),this.consumeCodePoint(),Dve;break;case jme:var h=this.peekCodePoint(0),g=this.peekCodePoint(1),v=this.peekCodePoint(2);if(lx(h,g,v)){var a=this.consumeName();return{type:7,value:a}}break;case Wme:return kve;case Iw:if(gc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Yme:return Ove;case Xme:if(this.peekCodePoint(0)===U0)return this.consumeCodePoint(),_ve;break;case Jme:return Uve;case Zme:return Mve;case dve:case hve:var b=this.peekCodePoint(0),C=this.peekCodePoint(1);return b===Pf&&(hg(C)||C===ox)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case kG:if(this.peekCodePoint(0)===U0)return this.consumeCodePoint(),Ive;if(this.peekCodePoint(0)===kG)return this.consumeCodePoint(),Tve;break;case eve:if(this.peekCodePoint(0)===U0)return this.consumeCodePoint(),Fve;break;case Yo:return cL}return Ax(e)?(this.consumeWhiteSpace(),Hve):Qr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):uT(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ci(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();hg(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var i=!1;t===ox&&e.length<6;)e.push(t),t=this.consumeCodePoint(),i=!0;if(i){var r=parseInt(ci.apply(void 0,e.map(function(l){return l===ox?eX:l})),16),s=parseInt(ci.apply(void 0,e.map(function(l){return l===ox?sX:l})),16);return{type:30,start:r,end:s}}var a=parseInt(ci.apply(void 0,e),16);if(this.peekCodePoint(0)===Es&&hg(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];hg(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(ci.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===ax?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ax?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Yo)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===sx||t===rx){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Yo||this.peekCodePoint(0)===M0)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),ux)}for(;;){var r=this.consumeCodePoint();if(r===Yo||r===M0)return{type:22,value:ci.apply(void 0,e)};if(Ax(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Yo||this.peekCodePoint(0)===M0?(this.consumeCodePoint(),{type:22,value:ci.apply(void 0,e)}):(this.consumeBadUrlRemnants(),ux);if(r===rx||r===sx||r===ax||bve(r))return this.consumeBadUrlRemnants(),ux;if(r===Iw)if(gc(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ux;else e.push(r)}},n.prototype.consumeWhiteSpace=function(){for(;Ax(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===M0||e===Yo)return;gc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,i="";e>0;){var r=Math.min(t,e);i+=ci.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),i},n.prototype.consumeStringToken=function(e){var t="",i=0;do{var r=this._value[i];if(r===Yo||r===void 0||r===e)return t+=this.consumeStringSlice(i),{type:0,value:t};if(r===lT)return this._value.splice(0,i),Rve;if(r===Iw){var s=this._value[i+1];s!==Yo&&s!==void 0&&(s===lT?(t+=this.consumeStringSlice(i),i=-1,this._value.shift()):gc(r,s)&&(t+=this.consumeStringSlice(i),t+=ci(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=zB,i=this.peekCodePoint(0);for((i===Pf||i===Es)&&e.push(this.consumeCodePoint());Qr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(i===zw&&Qr(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=LG;Qr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((i===rX||i===nX)&&((r===Pf||r===Es)&&Qr(s)||Qr(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=LG;Qr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Cve(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],i=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(lx(r,s,a)){var o=this.consumeName();return{type:15,number:t,flags:i,unit:o}}return r===Kme?(this.consumeCodePoint(),{type:16,number:t,flags:i}):{type:17,number:t,flags:i}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(hg(e)){for(var t=ci(e);hg(this.peekCodePoint(0))&&t.length<6;)t+=ci(this.consumeCodePoint());Ax(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(t,16);return i===0||gve(i)||i>1114111?OG:i}return e===Yo?OG:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(HG(t))e+=ci(t);else if(gc(t,this.peekCodePoint(0)))e+=ci(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),oX=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new aX;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},i=this.consumeToken();;){if(i.type===32||Kve(i,e))return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue()),i=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?cL:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),qB=function(n){return n.type===15},vy=function(n){return n.type===17},cn=function(n){return n.type===20},Vve=function(n){return n.type===0},dL=function(n,e){return cn(n)&&n.value===e},AX=function(n){return n.type!==31},Zv=function(n){return n.type!==31&&n.type!==4},DA=function(n){var e=[],t=[];return n.forEach(function(i){if(i.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}i.type!==31&&t.push(i)}),t.length&&e.push(t),e},Kve=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},Hd=function(n){return n.type===17||n.type===15},Bi=function(n){return n.type===16||Hd(n)},lX=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},Cr={type:17,number:0,flags:zB},XQ={type:16,number:50,flags:zB},Rd={type:16,number:100,flags:zB},ww=function(n,e,t){var i=n[0],r=n[1];return[En(i,e),En(typeof r<"u"?r:i,t)]},En=function(n,e){if(n.type===16)return n.number/100*e;if(qB(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},uX="deg",cX="grad",dX="rad",fX="turn",q1={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case uX:return Math.PI*e.number/180;case cX:return Math.PI/200*e.number;case dX:return e.number;case fX:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},hX=function(n){return n.type===15&&(n.unit===uX||n.unit===cX||n.unit===dX||n.unit===fX)},pX=function(n){var e=n.filter(cn).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Cr,Cr];case"to top":case"bottom":return Ya(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Cr,Rd];case"to right":case"left":return Ya(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Rd,Rd];case"to bottom":case"top":return Ya(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Rd,Cr];case"to left":case"right":return Ya(270)}return 0},Ya=function(n){return Math.PI*n/180},Nd={name:"color",parse:function(n,e){if(e.type===18){var t=Gve[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3);return Dd(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(e.value.length===4){var i=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return Dd(parseInt(i+i,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6);return Dd(parseInt(i,16),parseInt(r,16),parseInt(s,16),1)}if(e.value.length===8){var i=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return Dd(parseInt(i,16),parseInt(r,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=cu[e.value.toUpperCase()];if(typeof o<"u")return o}return cu.TRANSPARENT}},Ld=function(n){return(255&n)===0},Ki=function(n){var e=255&n,t=255&n>>8,i=255&n>>16,r=255&n>>24;return e<255?"rgba("+r+","+i+","+t+","+e/255+")":"rgb("+r+","+i+","+t+")"},Dd=function(n,e,t,i){return(n<<24|e<<16|t<<8|Math.round(i*255)<<0)>>>0},VG=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},KG=function(n,e){var t=e.filter(Zv);if(t.length===3){var i=t.map(VG),r=i[0],s=i[1],a=i[2];return Dd(r,s,a,1)}if(t.length===4){var o=t.map(VG),r=o[0],s=o[1],a=o[2],l=o[3];return Dd(r,s,a,l)}return 0};function _M(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var GG=function(n,e){var t=e.filter(Zv),i=t[0],r=t[1],s=t[2],a=t[3],o=(i.type===17?Ya(i.number):q1.parse(n,i))/(Math.PI*2),l=Bi(r)?r.number/100:0,u=Bi(s)?s.number/100:0,d=typeof a<"u"&&Bi(a)?En(a,1):1;if(l===0)return Dd(u*255,u*255,u*255,1);var h=u<=.5?u*(l+1):u+l-u*l,g=u*2-h,v=_M(g,h,o+1/3),b=_M(g,h,o),C=_M(g,h,o-1/3);return Dd(v*255,b*255,C*255,d)},Gve={hsl:GG,hsla:GG,rgb:KG,rgba:KG},Fw=function(n,e){return Nd.parse(n,oX.create(e).parseComponentValue())},cu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},zve={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(cn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},qve={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$1=function(n,e){var t=Nd.parse(n,e[0]),i=e[1];return i&&Bi(i)?{color:t,stop:i}:{color:t,stop:null}},zG=function(n,e){var t=n[0],i=n[n.length-1];t.stop===null&&(t.stop=Cr),i.stop===null&&(i.stop=Rd);for(var r=[],s=0,a=0;a<n.length;a++){var o=n[a].stop;if(o!==null){var l=En(o,e);l>s?r.push(l):r.push(s),s=l}else r.push(null)}for(var u=null,a=0;a<r.length;a++){var d=r[a];if(d===null)u===null&&(u=a);else if(u!==null){for(var h=a-u,g=r[u-1],v=(d-g)/(h+1),b=1;b<=h;b++)r[u+b-1]=v*b;u=null}}return n.map(function(C,E){var x=C.color;return{color:x,stop:Math.max(Math.min(1,r[E]/e),0)}})},$ve=function(n,e,t){var i=e/2,r=t/2,s=En(n[0],e)-i,a=r-En(n[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},jve=function(n,e,t){var i=typeof n=="number"?n:$ve(n,e,t),r=Math.abs(e*Math.sin(i))+Math.abs(t*Math.cos(i)),s=e/2,a=t/2,o=r/2,l=Math.sin(i-Math.PI/2)*o,u=Math.cos(i-Math.PI/2)*o;return[r,s-u,s+u,a-l,a+l]},ho=function(n,e){return Math.sqrt(n*n+e*e)},qG=function(n,e,t,i,r){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(a,o){var l=o[0],u=o[1],d=ho(t-l,i-u);return(r?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:o,optimumDistance:d}:a},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},Wve=function(n,e,t,i,r){var s=0,a=0;switch(n.size){case 0:n.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-i)),a=Math.min(Math.abs(t),Math.abs(t-r)));break;case 2:if(n.shape===0)s=a=Math.min(ho(e,t),ho(e,t-r),ho(e-i,t),ho(e-i,t-r));else if(n.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-r))/Math.min(Math.abs(e),Math.abs(e-i)),l=qG(i,r,e,t,!0),u=l[0],d=l[1];s=ho(u-e,(d-t)/o),a=o*s}break;case 1:n.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-r)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-i)),a=Math.max(Math.abs(t),Math.abs(t-r)));break;case 3:if(n.shape===0)s=a=Math.max(ho(e,t),ho(e,t-r),ho(e-i,t),ho(e-i,t-r));else if(n.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-r))/Math.max(Math.abs(e),Math.abs(e-i)),h=qG(i,r,e,t,!1),u=h[0],d=h[1];s=ho(u-e,(d-t)/o),a=o*s}break}return Array.isArray(n.size)&&(s=En(n.size[0],i),a=n.size.length===2?En(n.size[1],r):s),[s,a]},Yve=function(n,e){var t=Ya(180),i=[];return DA(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&a.value==="to"){t=pX(r);return}else if(hX(a)){t=q1.parse(n,a);return}}var o=$1(n,r);i.push(o)}),{angle:t,stops:i,type:1}},cx=function(n,e){var t=Ya(180),i=[];return DA(e).forEach(function(r,s){if(s===0){var a=r[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=pX(r);return}else if(hX(a)){t=(q1.parse(n,a)+Ya(270))%Ya(360);return}}var o=$1(n,r);i.push(o)}),{angle:t,stops:i,type:1}},Xve=function(n,e){var t=Ya(180),i=[],r=1,s=0,a=3,o=[];return DA(e).forEach(function(l,u){var d=l[0];if(u===0){if(cn(d)&&d.value==="linear"){r=1;return}else if(cn(d)&&d.value==="radial"){r=2;return}}if(d.type===18){if(d.name==="from"){var h=Nd.parse(n,d.values[0]);i.push({stop:Cr,color:h})}else if(d.name==="to"){var h=Nd.parse(n,d.values[0]);i.push({stop:Rd,color:h})}else if(d.name==="color-stop"){var g=d.values.filter(Zv);if(g.length===2){var h=Nd.parse(n,g[1]),v=g[0];vy(v)&&i.push({stop:{type:16,number:v.number*100,flags:v.flags},color:h})}}}}),r===1?{angle:(t+Ya(180))%Ya(360),stops:i,type:r}:{size:a,shape:s,stops:i,position:o,type:r}},gX="closest-side",mX="farthest-side",vX="closest-corner",yX="farthest-corner",wX="circle",bX="ellipse",CX="cover",BX="contain",Jve=function(n,e){var t=0,i=3,r=[],s=[];return DA(e).forEach(function(a,o){var l=!0;if(o===0){var u=!1;l=a.reduce(function(h,g){if(u)if(cn(g))switch(g.value){case"center":return s.push(XQ),h;case"top":case"left":return s.push(Cr),h;case"right":case"bottom":return s.push(Rd),h}else(Bi(g)||Hd(g))&&s.push(g);else if(cn(g))switch(g.value){case wX:return t=0,!1;case bX:return t=1,!1;case"at":return u=!0,!1;case gX:return i=0,!1;case CX:case mX:return i=1,!1;case BX:case vX:return i=2,!1;case yX:return i=3,!1}else if(Hd(g)||Bi(g))return Array.isArray(i)||(i=[]),i.push(g),!1;return h},l)}if(l){var d=$1(n,a);r.push(d)}}),{size:i,shape:t,stops:r,position:s,type:2}},dx=function(n,e){var t=0,i=3,r=[],s=[];return DA(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(d,h){if(cn(h))switch(h.value){case"center":return s.push(XQ),!1;case"top":case"left":return s.push(Cr),!1;case"right":case"bottom":return s.push(Rd),!1}else if(Bi(h)||Hd(h))return s.push(h),!1;return d},l):o===1&&(l=a.reduce(function(d,h){if(cn(h))switch(h.value){case wX:return t=0,!1;case bX:return t=1,!1;case BX:case gX:return i=0,!1;case mX:return i=1,!1;case vX:return i=2,!1;case CX:case yX:return i=3,!1}else if(Hd(h)||Bi(h))return Array.isArray(i)||(i=[]),i.push(h),!1;return d},l)),l){var u=$1(n,a);r.push(u)}}),{size:i,shape:t,stops:r,position:s,type:2}},Zve=function(n){return n.type===1},eye=function(n){return n.type===2},JQ={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var i=EX[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return i(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function tye(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!EX[n.name])}var EX={"linear-gradient":Yve,"-moz-linear-gradient":cx,"-ms-linear-gradient":cx,"-o-linear-gradient":cx,"-webkit-linear-gradient":cx,"radial-gradient":Jve,"-moz-radial-gradient":dx,"-ms-radial-gradient":dx,"-o-radial-gradient":dx,"-webkit-radial-gradient":dx,"-webkit-gradient":Xve},nye={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(i){return Zv(i)&&tye(i)}).map(function(i){return JQ.parse(n,i)})}},iye={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(cn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},rye={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return DA(e).map(function(t){return t.filter(Bi)}).map(lX)}},sye={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return DA(e).map(function(t){return t.filter(cn).map(function(i){return i.value}).join(" ")}).map(aye)}},aye=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Xg;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(Xg||(Xg={}));var oye={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return DA(e).map(function(t){return t.filter(Aye)})}},Aye=function(n){return cn(n)||Bi(n)},j1=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},lye=j1("top"),uye=j1("right"),cye=j1("bottom"),dye=j1("left"),W1=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return lX(t.filter(Bi))}}},fye=W1("top-left"),hye=W1("top-right"),pye=W1("bottom-right"),gye=W1("bottom-left"),Y1=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},mye=Y1("top"),vye=Y1("right"),yye=Y1("bottom"),wye=Y1("left"),X1=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return qB(t)?t.number:0}}},bye=X1("top"),Cye=X1("right"),Bye=X1("bottom"),Eye=X1("left"),Sye={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xye={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},_ye={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(cn).reduce(function(t,i){return t|Tye(i.value)},0)}},Tye=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Iye={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Fye={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},cT;(function(n){n.NORMAL="normal",n.STRICT="strict"})(cT||(cT={}));var Uye={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return cT.STRICT;case"normal":default:return cT.NORMAL}}},Mye={name:"line-height",initialValue:"normal",prefix:!1,type:4},$G=function(n,e){return cn(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:Bi(n)?En(n,e):e},Pye={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:JQ.parse(n,e)}},Rye={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},fL={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},J1=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},Dye=J1("top"),Nye=J1("right"),Lye=J1("bottom"),Qye=J1("left"),kye={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(cn).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Oye={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Z1=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Hye=Z1("top"),Vye=Z1("right"),Kye=Z1("bottom"),Gye=Z1("left"),zye={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},qye={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},$ye={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&dL(e[0],"none")?[]:DA(e).map(function(t){for(var i={color:cu.TRANSPARENT,offsetX:Cr,offsetY:Cr,blur:Cr},r=0,s=0;s<t.length;s++){var a=t[s];Hd(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:i.blur=a,r++):i.color=Nd.parse(n,a)}return i})}},jye={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Wye={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=Jye[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},Yye=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Xye=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],i=e[1];e[2],e[3];var r=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,i,r,s,a,o]:null},Jye={matrix:Yye,matrix3d:Xye},jG={type:16,number:50,flags:zB},Zye=[jG,jG],e0e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(Bi);return t.length!==2?Zye:[t[0],t[1]]}},t0e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Uw;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(Uw||(Uw={}));var n0e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return Uw.BREAK_ALL;case"keep-all":return Uw.KEEP_ALL;case"normal":default:return Uw.NORMAL}}},i0e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(vy(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},SX={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},r0e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return vy(e)?e.number:1}},s0e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},a0e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(cn).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},o0e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],i=[];return e.forEach(function(r){switch(r.type){case 20:case 0:t.push(r.value);break;case 17:t.push(r.number.toString());break;case 4:i.push(t.join(" ")),t.length=0;break}}),t.length&&i.push(t.join(" ")),i.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},A0e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},l0e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(vy(e))return e.number;if(cn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},u0e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(cn).map(function(t){return t.value})}},c0e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Di=function(n,e){return(n&e)!==0},d0e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},f0e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var i=[],r=e.filter(AX),s=0;s<r.length;s++){var a=r[s],o=r[s+1];if(a.type===20){var l=o&&vy(o)?o.number:1;i.push({counter:a.value,increment:l})}}return i}},h0e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],i=e.filter(AX),r=0;r<i.length;r++){var s=i[r],a=i[r+1];if(cn(s)&&s.value!=="none"){var o=a&&vy(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},p0e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(qB).map(function(t){return SX.parse(n,t)})}},g0e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var i=[],r=e.filter(Vve);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var a=r[s].value,o=r[s+1].value;i.push({open:a,close:o})}return i}},WG=function(n,e,t){if(!n)return"";var i=n[Math.min(e,n.length-1)];return i?t?i.open:i.close:""},m0e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&dL(e[0],"none")?[]:DA(e).map(function(t){for(var i={color:255,offsetX:Cr,offsetY:Cr,blur:Cr,spread:Cr,inset:!1},r=0,s=0;s<t.length;s++){var a=t[s];dL(a,"inset")?i.inset=!0:Hd(a)?(r===0?i.offsetX=a:r===1?i.offsetY=a:r===2?i.blur=a:i.spread=a,r++):i.color=Nd.parse(n,a)}return i})}},v0e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],i=[];return e.filter(cn).forEach(function(r){switch(r.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),t.forEach(function(r){i.indexOf(r)===-1&&i.push(r)}),i}},y0e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},w0e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return qB(e)?e.number:0}},b0e=(function(){function n(e,t){var i,r;this.animationDuration=Ne(e,p0e,t.animationDuration),this.backgroundClip=Ne(e,zve,t.backgroundClip),this.backgroundColor=Ne(e,qve,t.backgroundColor),this.backgroundImage=Ne(e,nye,t.backgroundImage),this.backgroundOrigin=Ne(e,iye,t.backgroundOrigin),this.backgroundPosition=Ne(e,rye,t.backgroundPosition),this.backgroundRepeat=Ne(e,sye,t.backgroundRepeat),this.backgroundSize=Ne(e,oye,t.backgroundSize),this.borderTopColor=Ne(e,lye,t.borderTopColor),this.borderRightColor=Ne(e,uye,t.borderRightColor),this.borderBottomColor=Ne(e,cye,t.borderBottomColor),this.borderLeftColor=Ne(e,dye,t.borderLeftColor),this.borderTopLeftRadius=Ne(e,fye,t.borderTopLeftRadius),this.borderTopRightRadius=Ne(e,hye,t.borderTopRightRadius),this.borderBottomRightRadius=Ne(e,pye,t.borderBottomRightRadius),this.borderBottomLeftRadius=Ne(e,gye,t.borderBottomLeftRadius),this.borderTopStyle=Ne(e,mye,t.borderTopStyle),this.borderRightStyle=Ne(e,vye,t.borderRightStyle),this.borderBottomStyle=Ne(e,yye,t.borderBottomStyle),this.borderLeftStyle=Ne(e,wye,t.borderLeftStyle),this.borderTopWidth=Ne(e,bye,t.borderTopWidth),this.borderRightWidth=Ne(e,Cye,t.borderRightWidth),this.borderBottomWidth=Ne(e,Bye,t.borderBottomWidth),this.borderLeftWidth=Ne(e,Eye,t.borderLeftWidth),this.boxShadow=Ne(e,m0e,t.boxShadow),this.color=Ne(e,Sye,t.color),this.direction=Ne(e,xye,t.direction),this.display=Ne(e,_ye,t.display),this.float=Ne(e,Iye,t.cssFloat),this.fontFamily=Ne(e,o0e,t.fontFamily),this.fontSize=Ne(e,A0e,t.fontSize),this.fontStyle=Ne(e,c0e,t.fontStyle),this.fontVariant=Ne(e,u0e,t.fontVariant),this.fontWeight=Ne(e,l0e,t.fontWeight),this.letterSpacing=Ne(e,Fye,t.letterSpacing),this.lineBreak=Ne(e,Uye,t.lineBreak),this.lineHeight=Ne(e,Mye,t.lineHeight),this.listStyleImage=Ne(e,Pye,t.listStyleImage),this.listStylePosition=Ne(e,Rye,t.listStylePosition),this.listStyleType=Ne(e,fL,t.listStyleType),this.marginTop=Ne(e,Dye,t.marginTop),this.marginRight=Ne(e,Nye,t.marginRight),this.marginBottom=Ne(e,Lye,t.marginBottom),this.marginLeft=Ne(e,Qye,t.marginLeft),this.opacity=Ne(e,r0e,t.opacity);var s=Ne(e,kye,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Ne(e,Oye,t.overflowWrap),this.paddingTop=Ne(e,Hye,t.paddingTop),this.paddingRight=Ne(e,Vye,t.paddingRight),this.paddingBottom=Ne(e,Kye,t.paddingBottom),this.paddingLeft=Ne(e,Gye,t.paddingLeft),this.paintOrder=Ne(e,v0e,t.paintOrder),this.position=Ne(e,qye,t.position),this.textAlign=Ne(e,zye,t.textAlign),this.textDecorationColor=Ne(e,s0e,(i=t.textDecorationColor)!==null&&i!==void 0?i:t.color),this.textDecorationLine=Ne(e,a0e,(r=t.textDecorationLine)!==null&&r!==void 0?r:t.textDecoration),this.textShadow=Ne(e,$ye,t.textShadow),this.textTransform=Ne(e,jye,t.textTransform),this.transform=Ne(e,Wye,t.transform),this.transformOrigin=Ne(e,e0e,t.transformOrigin),this.visibility=Ne(e,t0e,t.visibility),this.webkitTextStrokeColor=Ne(e,y0e,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ne(e,w0e,t.webkitTextStrokeWidth),this.wordBreak=Ne(e,n0e,t.wordBreak),this.zIndex=Ne(e,i0e,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Ld(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return Di(this.display,4)||Di(this.display,33554432)||Di(this.display,268435456)||Di(this.display,536870912)||Di(this.display,67108864)||Di(this.display,134217728)},n})(),C0e=(function(){function n(e,t){this.content=Ne(e,d0e,t.content),this.quotes=Ne(e,g0e,t.quotes)}return n})(),YG=(function(){function n(e,t){this.counterIncrement=Ne(e,f0e,t.counterIncrement),this.counterReset=Ne(e,h0e,t.counterReset)}return n})(),Ne=function(n,e,t){var i=new aX,r=t!==null&&typeof t<"u"?t.toString():e.initialValue;i.write(r);var s=new oX(i.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(n,cn(a)?a.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return q1.parse(n,s.parseComponentValue());case"color":return Nd.parse(n,s.parseComponentValue());case"image":return JQ.parse(n,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Hd(o)?o:Cr;case"length-percentage":var l=s.parseComponentValue();return Bi(l)?l:Cr;case"time":return SX.parse(n,s.parseComponentValue())}break}},B0e="data-html2canvas-debug",E0e=function(n){var e=n.getAttribute(B0e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},hL=function(n,e){var t=E0e(n);return t===1||e===t},NA=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,hL(t,3))debugger;this.styles=new b0e(e,window.getComputedStyle(t,null)),mL(t)&&(this.styles.animationDuration.some(function(i){return i>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=G1(this.context,t),hL(t,4)&&(this.flags|=16)}return n})(),S0e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",XG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fx=0;fx<XG.length;fx++)bw[XG.charCodeAt(fx)]=fx;var x0e=function(n){var e=n.length*.75,t=n.length,i,r=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<t;i+=4)s=bw[n.charCodeAt(i)],a=bw[n.charCodeAt(i+1)],o=bw[n.charCodeAt(i+2)],l=bw[n.charCodeAt(i+3)],d[r++]=s<<2|a>>4,d[r++]=(a&15)<<4|o>>2,d[r++]=(o&3)<<6|l&63;return u},_0e=function(n){for(var e=n.length,t=[],i=0;i<e;i+=2)t.push(n[i+1]<<8|n[i]);return t},T0e=function(n){for(var e=n.length,t=[],i=0;i<e;i+=4)t.push(n[i+3]<<24|n[i+2]<<16|n[i+1]<<8|n[i]);return t},cp=5,ZQ=11,TM=2,I0e=ZQ-cp,xX=65536>>cp,F0e=1<<cp,IM=F0e-1,U0e=1024>>cp,M0e=xX+U0e,P0e=M0e,R0e=32,D0e=P0e+R0e,N0e=65536>>ZQ,L0e=1<<I0e,Q0e=L0e-1,JG=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},k0e=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},O0e=function(n,e){var t=x0e(n),i=Array.isArray(t)?T0e(t):new Uint32Array(t),r=Array.isArray(t)?_0e(t):new Uint16Array(t),s=24,a=JG(r,s/2,i[4]/2),o=i[5]===2?JG(r,(s+i[4])/2):k0e(i,Math.ceil((s+i[4])/4));return new H0e(i[0],i[1],i[2],i[3],a,o)},H0e=(function(){function n(e,t,i,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=r,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>cp],t=(t<<TM)+(e&IM),this.data[t];if(e<=65535)return t=this.index[xX+(e-55296>>cp)],t=(t<<TM)+(e&IM),this.data[t];if(e<this.highStart)return t=D0e-N0e+(e>>ZQ),t=this.index[t],t+=e>>cp&Q0e,t=this.index[t],t=(t<<TM)+(e&IM),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),ZG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V0e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hx=0;hx<ZG.length;hx++)V0e[ZG.charCodeAt(hx)]=hx;var K0e=1,FM=2,UM=3,ez=4,tz=5,G0e=7,nz=8,MM=9,PM=10,iz=11,rz=12,sz=13,az=14,RM=15,z0e=function(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e},q0e=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var i=[],r=-1,s="";++r<t;){var a=n[r];a<=65535?i.push(a):(a-=65536,i.push((a>>10)+55296,a%1024+56320)),(r+1===t||i.length>16384)&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return s},$0e=O0e(S0e),Ua="",DM="",j0e=function(n){return $0e.get(n)},W0e=function(n,e,t){var i=t-2,r=e[i],s=e[t-1],a=e[t];if(s===FM&&a===UM)return Ua;if(s===FM||s===UM||s===ez||a===FM||a===UM||a===ez)return DM;if(s===nz&&[nz,MM,iz,rz].indexOf(a)!==-1||(s===iz||s===MM)&&(a===MM||a===PM)||(s===rz||s===PM)&&a===PM||a===sz||a===tz||a===G0e||s===K0e)return Ua;if(s===sz&&a===az){for(;r===tz;)r=e[--i];if(r===az)return Ua}if(s===RM&&a===RM){for(var o=0;r===RM;)o++,r=e[--i];if(o%2===0)return Ua}return DM},Y0e=function(n){var e=z0e(n),t=e.length,i=0,r=0,s=e.map(j0e);return{next:function(){if(i>=t)return{done:!0,value:null};for(var a=Ua;i<t&&(a=W0e(e,s,++i))===Ua;);if(a!==Ua||i===t){var o=q0e.apply(null,e.slice(r,i));return r=i,{value:o,done:!1}}return{done:!0,value:null}}}},X0e=function(n){for(var e=Y0e(n),t=[],i;!(i=e.next()).done;)i.value&&t.push(i.value.slice());return t},J0e=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var i=n.createElement("boundtest");i.style.height=e+"px",i.style.display="block",n.body.appendChild(i),t.selectNode(i);var r=t.getBoundingClientRect(),s=Math.round(r.height);if(n.body.removeChild(i),s===e)return!0}}return!1},Z0e=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=e.firstChild,r=z1(i.data).map(function(l){return ci(l)}),s=0,a={},o=r.every(function(l,u){t.setStart(i,s),t.setEnd(i,s+l.length);var d=t.getBoundingClientRect();s+=l.length;var h=d.x>a.x||d.y>a.y;return a=d,u===0?!0:h});return n.body.removeChild(e),o},ewe=function(){return typeof new Image().crossOrigin<"u"},twe=function(){return typeof new XMLHttpRequest().responseType=="string"},nwe=function(n){var e=new Image,t=n.createElement("canvas"),i=t.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},oz=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},iwe=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,t,t);var r=new Image,s=e.toDataURL();r.src=s;var a=pL(t,t,0,0,r);return i.fillStyle="red",i.fillRect(0,0,t,t),Az(a).then(function(o){i.drawImage(o,0,0);var l=i.getImageData(0,0,t,t).data;i.fillStyle="red",i.fillRect(0,0,t,t);var u=n.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",oz(l)?Az(pL(t,t,0,0,u)):Promise.reject(!1)}).then(function(o){return i.drawImage(o,0,0),oz(i.getImageData(0,0,t,t).data)}).catch(function(){return!1})},pL=function(n,e,t,i,r){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",i.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(r),a},Az=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},mr={get SUPPORT_RANGE_BOUNDS(){var n=J0e(document);return Object.defineProperty(mr,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=mr.SUPPORT_RANGE_BOUNDS&&Z0e(document);return Object.defineProperty(mr,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=nwe(document);return Object.defineProperty(mr,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?iwe(document):Promise.resolve(!1);return Object.defineProperty(mr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=ewe();return Object.defineProperty(mr,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=twe();return Object.defineProperty(mr,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(mr,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(mr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},Mw=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),rwe=function(n,e,t,i){var r=owe(e,t),s=[],a=0;return r.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(mr.SUPPORT_RANGE_BOUNDS){var l=lz(i,a,o.length).getClientRects();if(l.length>1){var u=ek(o),d=0;u.forEach(function(g){s.push(new Mw(g,vu.fromDOMRectList(n,lz(i,d+a,g.length).getClientRects()))),d+=g.length})}else s.push(new Mw(o,vu.fromDOMRectList(n,l)))}else{var h=i.splitText(o.length);s.push(new Mw(o,swe(n,i))),i=h}else mr.SUPPORT_RANGE_BOUNDS||(i=i.splitText(o.length));a+=o.length}),s},swe=function(n,e){var t=e.ownerDocument;if(t){var i=t.createElement("html2canvaswrapper");i.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(i,e);var s=G1(n,i);return i.firstChild&&r.replaceChild(i.firstChild,i),s}}return vu.EMPTY},lz=function(n,e,t){var i=n.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(n,e),r.setEnd(n,e+t),r},ek=function(n){if(mr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return X0e(n)},awe=function(n,e){if(mr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(i){return i.segment})}return lwe(n,e)},owe=function(n,e){return e.letterSpacing!==0?ek(n):awe(n,e)},Awe=[32,160,4961,65792,65793,4153,4241],lwe=function(n,e){for(var t=Nme(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),i=[],r,s=function(){if(r.value){var a=r.value.slice(),o=z1(a),l="";o.forEach(function(u){Awe.indexOf(u)===-1?l+=ci(u):(l.length&&i.push(l),i.push(ci(u)),l="")}),l.length&&i.push(l)}};!(r=t.next()).done;)s();return i},uwe=(function(){function n(e,t,i){this.text=cwe(t.data,i.textTransform),this.textBounds=rwe(e,this.text,i,t)}return n})(),cwe=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(dwe,fwe);case 2:return n.toUpperCase();default:return n}},dwe=/(^|\s|:|-|\(|\))([a-z])/g,fwe=function(n,e,t){return n.length>0?e+t.toUpperCase():n},_X=(function(n){ko(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.src=i.currentSrc||i.src,r.intrinsicWidth=i.naturalWidth,r.intrinsicHeight=i.naturalHeight,r.context.cache.addImage(r.src),r}return e})(NA),TX=(function(n){ko(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i,r.intrinsicWidth=i.width,r.intrinsicHeight=i.height,r}return e})(NA),IX=(function(n){ko(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=new XMLSerializer,a=G1(t,i);return i.setAttribute("width",a.width+"px"),i.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(i)),r.intrinsicWidth=i.width.baseVal.value,r.intrinsicHeight=i.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e})(NA),FX=(function(n){ko(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})(NA),gL=(function(n){ko(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.start=i.start,r.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,r}return e})(NA),hwe=[{type:15,flags:0,unit:"px",number:3}],pwe=[{type:16,flags:0,number:50}],gwe=function(n){return n.width>n.height?new vu(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new vu(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},mwe=function(n){var e=n.type===vwe?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},dT="checkbox",fT="radio",vwe="password",uz=707406591,tk=(function(n){ko(e,n);function e(t,i){var r=n.call(this,t,i)||this;switch(r.type=i.type.toLowerCase(),r.checked=i.checked,r.value=mwe(i),(r.type===dT||r.type===fT)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=gwe(r.bounds)),r.type){case dT:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=hwe;break;case fT:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=pwe;break}return r}return e})(NA),UX=(function(n){ko(e,n);function e(t,i){var r=n.call(this,t,i)||this,s=i.options[i.selectedIndex||0];return r.value=s&&s.text||"",r}return e})(NA),MX=(function(n){ko(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.value=i.value,r}return e})(NA),PX=(function(n){ko(e,n);function e(t,i){var r=n.call(this,t,i)||this;r.src=i.src,r.width=parseInt(i.width,10)||0,r.height=parseInt(i.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){r.tree=DX(t,i.contentWindow.document.documentElement);var s=i.contentWindow.document.documentElement?Fw(t,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):cu.TRANSPARENT,a=i.contentWindow.document.body?Fw(t,getComputedStyle(i.contentWindow.document.body).backgroundColor):cu.TRANSPARENT;r.backgroundColor=Ld(s)?Ld(a)?r.styles.backgroundColor:a:s}}catch{}return r}return e})(NA),ywe=["OL","UL","MENU"],Q_=function(n,e,t,i){for(var r=e.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,NX(r)&&r.data.trim().length>0)t.textNodes.push(new uwe(n,r,t.styles));else if(Qg(r))if(OX(r)&&r.assignedNodes)r.assignedNodes().forEach(function(o){return Q_(n,o,t,i)});else{var a=RX(n,r);a.styles.isVisible()&&(wwe(r,a,i)?a.flags|=4:bwe(a.styles)&&(a.flags|=2),ywe.indexOf(r.tagName)!==-1&&(a.flags|=8),t.elements.push(a),r.slot,r.shadowRoot?Q_(n,r.shadowRoot,a,i):!hT(r)&&!LX(r)&&!pT(r)&&Q_(n,r,a,i))}},RX=function(n,e){return vL(e)?new _X(n,e):QX(e)?new TX(n,e):LX(e)?new IX(n,e):Cwe(e)?new FX(n,e):Bwe(e)?new gL(n,e):Ewe(e)?new tk(n,e):pT(e)?new UX(n,e):hT(e)?new MX(n,e):kX(e)?new PX(n,e):new NA(n,e)},DX=function(n,e){var t=RX(n,e);return t.flags|=4,Q_(n,e,t,t),t},wwe=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||nk(n)&&t.styles.isTransparent()},bwe=function(n){return n.isPositioned()||n.isFloating()},NX=function(n){return n.nodeType===Node.TEXT_NODE},Qg=function(n){return n.nodeType===Node.ELEMENT_NODE},mL=function(n){return Qg(n)&&typeof n.style<"u"&&!k_(n)},k_=function(n){return typeof n.className=="object"},Cwe=function(n){return n.tagName==="LI"},Bwe=function(n){return n.tagName==="OL"},Ewe=function(n){return n.tagName==="INPUT"},Swe=function(n){return n.tagName==="HTML"},LX=function(n){return n.tagName==="svg"},nk=function(n){return n.tagName==="BODY"},QX=function(n){return n.tagName==="CANVAS"},cz=function(n){return n.tagName==="VIDEO"},vL=function(n){return n.tagName==="IMG"},kX=function(n){return n.tagName==="IFRAME"},dz=function(n){return n.tagName==="STYLE"},xwe=function(n){return n.tagName==="SCRIPT"},hT=function(n){return n.tagName==="TEXTAREA"},pT=function(n){return n.tagName==="SELECT"},OX=function(n){return n.tagName==="SLOT"},fz=function(n){return n.tagName.indexOf("-")>0},_we=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(i){return t.counters[i].pop()})},n.prototype.parse=function(e){var t=this,i=e.counterIncrement,r=e.counterReset,s=!0;i!==null&&i.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&r.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},n})(),hz={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},pz={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Twe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Iwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},pg=function(n,e,t,i,r,s){return n<e||n>t?qw(n,r,s.length>0):i.integers.reduce(function(a,o,l){for(;n>=o;)n-=o,a+=i.values[l];return a},"")+s},HX=function(n,e,t,i){var r="";do t||n--,r=i(n)+r,n/=e;while(n*e>=e);return r},oi=function(n,e,t,i,r){var s=t-e+1;return(n<0?"-":"")+(HX(Math.abs(n),s,i,function(a){return ci(Math.floor(a%s)+e)})+r)},wf=function(n,e,t){t===void 0&&(t=". ");var i=e.length;return HX(Math.abs(n),i,!1,function(r){return e[Math.floor(r%i)]})+t},Mg=1,hc=2,pc=4,Cw=8,nl=function(n,e,t,i,r,s){if(n<-9999||n>9999)return qw(n,4,r.length>0);var a=Math.abs(n),o=r;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var u=a%10;u===0&&Di(s,Mg)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&Di(s,hc)||u===1&&l===1&&Di(s,pc)&&n>100||u===1&&l>1&&Di(s,Cw)?o=e[u]+(l>0?t[l-1]:"")+o:u===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(n<0?i:"")+o},gz="",mz="",vz="",NM="",qw=function(n,e,t){var i=t?". ":"",r=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=oi(n,48,57,!0,i);return o.length<4?"0"+o:o;case 4:return wf(n,"",r);case 6:return pg(n,1,3999,hz,3,i).toLowerCase();case 7:return pg(n,1,3999,hz,3,i);case 8:return oi(n,945,969,!1,i);case 9:return oi(n,97,122,!1,i);case 10:return oi(n,65,90,!1,i);case 11:return oi(n,1632,1641,!0,i);case 12:case 49:return pg(n,1,9999,pz,3,i);case 35:return pg(n,1,9999,pz,3,i).toLowerCase();case 13:return oi(n,2534,2543,!0,i);case 14:case 30:return oi(n,6112,6121,!0,i);case 15:return wf(n,"",r);case 16:return wf(n,"",r);case 17:case 48:return nl(n,"",gz,"",r,hc|pc|Cw);case 47:return nl(n,"",mz,"",r,Mg|hc|pc|Cw);case 42:return nl(n,"",gz,"",r,hc|pc|Cw);case 41:return nl(n,"",mz,"",r,Mg|hc|pc|Cw);case 26:return nl(n,"","",vz,r,0);case 25:return nl(n,"","",vz,r,Mg|hc|pc);case 31:return nl(n,"","",NM,s,Mg|hc|pc);case 33:return nl(n,"","",NM,s,0);case 32:return nl(n,"","",NM,s,Mg|hc|pc);case 18:return oi(n,2406,2415,!0,i);case 20:return pg(n,1,19999,Iwe,3,i);case 21:return oi(n,2790,2799,!0,i);case 22:return oi(n,2662,2671,!0,i);case 22:return pg(n,1,10999,Twe,3,i);case 23:return wf(n,"");case 24:return wf(n,"");case 27:return oi(n,3302,3311,!0,i);case 28:return wf(n,"",r);case 29:return wf(n,"",r);case 34:return oi(n,3792,3801,!0,i);case 37:return oi(n,6160,6169,!0,i);case 38:return oi(n,4160,4169,!0,i);case 39:return oi(n,2918,2927,!0,i);case 40:return oi(n,1776,1785,!0,i);case 43:return oi(n,3046,3055,!0,i);case 44:return oi(n,3174,3183,!0,i);case 45:return oi(n,3664,3673,!0,i);case 46:return oi(n,3872,3881,!0,i);case 3:default:return oi(n,48,57,!0,i)}},VX="data-html2canvas-ignore",yz=(function(){function n(e,t,i){if(this.context=e,this.options=i,this.scrolledElements=[],this.referenceElement=t,this.counters=new _we,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var i=this,r=Fwe(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=r.contentWindow,l=o.document,u=Pwe(r).then(function(){return Wr(i,void 0,void 0,function(){var d,h;return Dr(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(Lwe),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Mwe(l)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return r})]:[2,r]}})})});return l.open(),l.write(Dwe(document.doctype)+"<html></html>"),Nwe(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},n.prototype.createElementClone=function(e){if(hL(e,2))debugger;if(QX(e))return this.createCanvasClone(e);if(cz(e))return this.createVideoClone(e);if(dz(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return vL(t)&&(vL(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),fz(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return LM(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var i=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),r=e.cloneNode(!1);return r.textContent=i,r}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var i=e.ownerDocument.createElement("img");try{return i.src=e.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var i=t.getContext("2d");try{return i&&(i.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||i.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},n.prototype.appendChildNode=function(e,t,i){(!Qg(t)||!xwe(t)&&!t.hasAttribute(VX)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Qg(t)||!dz(t))&&e.appendChild(this.cloneNode(t,i))},n.prototype.cloneChildNodes=function(e,t,i){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Qg(s)&&OX(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return r.appendChildNode(t,o,i)})}else this.appendChildNode(t,s,i)},n.prototype.cloneNode=function(e,t){if(NX(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var i=e.ownerDocument.defaultView;if(i&&Qg(e)&&(mL(e)||k_(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=i.getComputedStyle(e),a=i.getComputedStyle(e,":before"),o=i.getComputedStyle(e,":after");this.referenceElement===e&&mL(r)&&(this.clonedReferenceElement=r),nk(r)&&Owe(r);var l=this.counters.parse(new YG(this.context,s)),u=this.resolvePseudoContent(e,r,a,Pw.BEFORE);fz(e)&&(t=!0),cz(e)||this.cloneChildNodes(e,r,t),u&&r.insertBefore(u,r.firstChild);var d=this.resolvePseudoContent(e,r,o,Pw.AFTER);return d&&r.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||k_(e))&&!kX(e)||t)&&LM(s,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(hT(e)||pT(e))&&(hT(r)||pT(r))&&(r.value=e.value),r}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,i,r){var s=this;if(i){var a=i.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||i.display==="none")){this.counters.parse(new YG(this.context,i));var l=new C0e(this.context,i),u=o.createElement("html2canvaspseudoelement");LM(i,u),l.content.forEach(function(h){if(h.type===0)u.appendChild(o.createTextNode(h.value));else if(h.type===22){var g=o.createElement("img");g.src=h.value,g.style.opacity="1",u.appendChild(g)}else if(h.type===18){if(h.name==="attr"){var v=h.values.filter(cn);v.length&&u.appendChild(o.createTextNode(e.getAttribute(v[0].value)||""))}else if(h.name==="counter"){var b=h.values.filter(Zv),C=b[0],E=b[1];if(C&&cn(C)){var x=s.counters.getCounterValue(C.value),I=E&&cn(E)?fL.parse(s.context,E.value):3;u.appendChild(o.createTextNode(qw(x,I,!1)))}}else if(h.name==="counters"){var T=h.values.filter(Zv),C=T[0],R=T[1],E=T[2];if(C&&cn(C)){var P=s.counters.getCounterValues(C.value),D=E&&cn(E)?fL.parse(s.context,E.value):3,Q=R&&R.type===0?R.value:"",H=P.map(function(V){return qw(V,D,!1)}).join(Q);u.appendChild(o.createTextNode(H))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(o.createTextNode(WG(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(WG(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(h.value))}}),u.className=yL+" "+wL;var d=r===Pw.BEFORE?" "+yL:" "+wL;return k_(t)?t.className.baseValue+=d:t.className+=d,u}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),Pw;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(Pw||(Pw={}));var Fwe=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(VX,"true"),n.body.appendChild(t),t},Uwe=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},Mwe=function(n){return Promise.all([].slice.call(n.images,0).map(Uwe))},Pwe=function(n){return new Promise(function(e,t){var i=n.contentWindow;if(!i)return t("No window assigned for iframe");var r=i.document;i.onload=n.onload=function(){i.onload=n.onload=null;var s=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},Rwe=["all","d","content"],LM=function(n,e){for(var t=n.length-1;t>=0;t--){var i=n.item(t);Rwe.indexOf(i)===-1&&e.style.setProperty(i,n.getPropertyValue(i))}return e},Dwe=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},Nwe=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},Lwe=function(n){var e=n[0],t=n[1],i=n[2];e.scrollLeft=t,e.scrollTop=i},Qwe=":before",kwe=":after",yL="___html2canvas___pseudoelement_before",wL="___html2canvas___pseudoelement_after",wz=`{
    content: "" !important;
    display: none !important;
}`,Owe=function(n){Hwe(n,"."+yL+Qwe+wz+`
         .`+wL+kwe+wz)},Hwe=function(n,e){var t=n.ownerDocument;if(t){var i=t.createElement("style");i.textContent=e,n.appendChild(i)}},KX=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),Vwe=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(kM(e)||qwe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return Wr(this,void 0,void 0,function(){var t,i,r,s,a=this;return Dr(this,function(o){switch(o.label){case 0:return t=KX.isSameOrigin(e),i=!QM(e)&&this._options.useCORS===!0&&mr.SUPPORT_CORS_IMAGES&&!t,r=!QM(e)&&!t&&!kM(e)&&typeof this._options.proxy=="string"&&mr.SUPPORT_CORS_XHR&&!i,!t&&this._options.allowTaint===!1&&!QM(e)&&!kM(e)&&!r&&!i?[2]:(s=e,r?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,($we(s)||i)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,a){var o=mr.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(g){return a(g)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+r+" with status code "+l.status)},l.onerror=a;var u=i.indexOf("?")>-1?"&":"?";if(l.open("GET",""+i+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var d=t._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+r)}}l.send()})},n})(),Kwe=/^data:image\/svg\+xml/i,Gwe=/^data:image\/.*;base64,/i,zwe=/^data:image\/.*/i,qwe=function(n){return mr.SUPPORT_SVG_DRAWING||!jwe(n)},QM=function(n){return zwe.test(n)},$we=function(n){return Gwe.test(n)},kM=function(n){return n.substr(0,4)==="blob"},jwe=function(n){return n.substr(-3).toLowerCase()==="svg"||Kwe.test(n)},Me=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),gg=function(n,e,t){return new Me(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},px=(function(){function n(e,t,i,r){this.type=1,this.start=e,this.startControl=t,this.endControl=i,this.end=r}return n.prototype.subdivide=function(e,t){var i=gg(this.start,this.startControl,e),r=gg(this.startControl,this.endControl,e),s=gg(this.endControl,this.end,e),a=gg(i,r,e),o=gg(r,s,e),l=gg(a,o,e);return t?new n(this.start,i,a,l):new n(l,o,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),ja=function(n){return n.type===1},Wwe=(function(){function n(e){var t=e.styles,i=e.bounds,r=ww(t.borderTopLeftRadius,i.width,i.height),s=r[0],a=r[1],o=ww(t.borderTopRightRadius,i.width,i.height),l=o[0],u=o[1],d=ww(t.borderBottomRightRadius,i.width,i.height),h=d[0],g=d[1],v=ww(t.borderBottomLeftRadius,i.width,i.height),b=v[0],C=v[1],E=[];E.push((s+l)/i.width),E.push((b+h)/i.width),E.push((a+C)/i.height),E.push((u+g)/i.height);var x=Math.max.apply(Math,E);x>1&&(s/=x,a/=x,l/=x,u/=x,h/=x,g/=x,b/=x,C/=x);var I=i.width-l,T=i.height-g,R=i.width-h,P=i.height-C,D=t.borderTopWidth,Q=t.borderRightWidth,H=t.borderBottomWidth,k=t.borderLeftWidth,K=En(t.paddingTop,e.bounds.width),V=En(t.paddingRight,e.bounds.width),q=En(t.paddingBottom,e.bounds.width),X=En(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Rn(i.left+k/3,i.top+D/3,s-k/3,a-D/3,Gt.TOP_LEFT):new Me(i.left+k/3,i.top+D/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Rn(i.left+I,i.top+D/3,l-Q/3,u-D/3,Gt.TOP_RIGHT):new Me(i.left+i.width-Q/3,i.top+D/3),this.bottomRightBorderDoubleOuterBox=h>0||g>0?Rn(i.left+R,i.top+T,h-Q/3,g-H/3,Gt.BOTTOM_RIGHT):new Me(i.left+i.width-Q/3,i.top+i.height-H/3),this.bottomLeftBorderDoubleOuterBox=b>0||C>0?Rn(i.left+k/3,i.top+P,b-k/3,C-H/3,Gt.BOTTOM_LEFT):new Me(i.left+k/3,i.top+i.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Rn(i.left+k*2/3,i.top+D*2/3,s-k*2/3,a-D*2/3,Gt.TOP_LEFT):new Me(i.left+k*2/3,i.top+D*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Rn(i.left+I,i.top+D*2/3,l-Q*2/3,u-D*2/3,Gt.TOP_RIGHT):new Me(i.left+i.width-Q*2/3,i.top+D*2/3),this.bottomRightBorderDoubleInnerBox=h>0||g>0?Rn(i.left+R,i.top+T,h-Q*2/3,g-H*2/3,Gt.BOTTOM_RIGHT):new Me(i.left+i.width-Q*2/3,i.top+i.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||C>0?Rn(i.left+k*2/3,i.top+P,b-k*2/3,C-H*2/3,Gt.BOTTOM_LEFT):new Me(i.left+k*2/3,i.top+i.height-H*2/3),this.topLeftBorderStroke=s>0||a>0?Rn(i.left+k/2,i.top+D/2,s-k/2,a-D/2,Gt.TOP_LEFT):new Me(i.left+k/2,i.top+D/2),this.topRightBorderStroke=s>0||a>0?Rn(i.left+I,i.top+D/2,l-Q/2,u-D/2,Gt.TOP_RIGHT):new Me(i.left+i.width-Q/2,i.top+D/2),this.bottomRightBorderStroke=h>0||g>0?Rn(i.left+R,i.top+T,h-Q/2,g-H/2,Gt.BOTTOM_RIGHT):new Me(i.left+i.width-Q/2,i.top+i.height-H/2),this.bottomLeftBorderStroke=b>0||C>0?Rn(i.left+k/2,i.top+P,b-k/2,C-H/2,Gt.BOTTOM_LEFT):new Me(i.left+k/2,i.top+i.height-H/2),this.topLeftBorderBox=s>0||a>0?Rn(i.left,i.top,s,a,Gt.TOP_LEFT):new Me(i.left,i.top),this.topRightBorderBox=l>0||u>0?Rn(i.left+I,i.top,l,u,Gt.TOP_RIGHT):new Me(i.left+i.width,i.top),this.bottomRightBorderBox=h>0||g>0?Rn(i.left+R,i.top+T,h,g,Gt.BOTTOM_RIGHT):new Me(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=b>0||C>0?Rn(i.left,i.top+P,b,C,Gt.BOTTOM_LEFT):new Me(i.left,i.top+i.height),this.topLeftPaddingBox=s>0||a>0?Rn(i.left+k,i.top+D,Math.max(0,s-k),Math.max(0,a-D),Gt.TOP_LEFT):new Me(i.left+k,i.top+D),this.topRightPaddingBox=l>0||u>0?Rn(i.left+Math.min(I,i.width-Q),i.top+D,I>i.width+Q?0:Math.max(0,l-Q),Math.max(0,u-D),Gt.TOP_RIGHT):new Me(i.left+i.width-Q,i.top+D),this.bottomRightPaddingBox=h>0||g>0?Rn(i.left+Math.min(R,i.width-k),i.top+Math.min(T,i.height-H),Math.max(0,h-Q),Math.max(0,g-H),Gt.BOTTOM_RIGHT):new Me(i.left+i.width-Q,i.top+i.height-H),this.bottomLeftPaddingBox=b>0||C>0?Rn(i.left+k,i.top+Math.min(P,i.height-H),Math.max(0,b-k),Math.max(0,C-H),Gt.BOTTOM_LEFT):new Me(i.left+k,i.top+i.height-H),this.topLeftContentBox=s>0||a>0?Rn(i.left+k+X,i.top+D+K,Math.max(0,s-(k+X)),Math.max(0,a-(D+K)),Gt.TOP_LEFT):new Me(i.left+k+X,i.top+D+K),this.topRightContentBox=l>0||u>0?Rn(i.left+Math.min(I,i.width+k+X),i.top+D+K,I>i.width+k+X?0:l-k+X,u-(D+K),Gt.TOP_RIGHT):new Me(i.left+i.width-(Q+V),i.top+D+K),this.bottomRightContentBox=h>0||g>0?Rn(i.left+Math.min(R,i.width-(k+X)),i.top+Math.min(T,i.height+D+K),Math.max(0,h-(Q+V)),g-(H+q),Gt.BOTTOM_RIGHT):new Me(i.left+i.width-(Q+V),i.top+i.height-(H+q)),this.bottomLeftContentBox=b>0||C>0?Rn(i.left+k+X,i.top+P,Math.max(0,b-(k+X)),C-(H+q),Gt.BOTTOM_LEFT):new Me(i.left+k+X,i.top+i.height-(H+q))}return n})(),Gt;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Gt||(Gt={}));var Rn=function(n,e,t,i,r){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=i*s,l=n+t,u=e+i;switch(r){case Gt.TOP_LEFT:return new px(new Me(n,u),new Me(n,u-o),new Me(l-a,e),new Me(l,e));case Gt.TOP_RIGHT:return new px(new Me(n,e),new Me(n+a,e),new Me(l,u-o),new Me(l,u));case Gt.BOTTOM_RIGHT:return new px(new Me(l,e),new Me(l,e+o),new Me(n+a,u),new Me(n,u));case Gt.BOTTOM_LEFT:default:return new px(new Me(l,u),new Me(l-a,u),new Me(n,e+o),new Me(n,e))}},gT=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},Ywe=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},mT=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},Xwe=(function(){function n(e,t,i){this.offsetX=e,this.offsetY=t,this.matrix=i,this.type=0,this.target=6}return n})(),gx=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),Jwe=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),Zwe=function(n){return n.type===0},GX=function(n){return n.type===1},ebe=function(n){return n.type===2},bz=function(n,e){return n.length===e.length?n.some(function(t,i){return t===e[i]}):!1},tbe=function(n,e,t,i,r){return n.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+i,t);case 2:return s.add(e+i,t+r);case 3:return s.add(e,t+r)}return s})},zX=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),qX=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Wwe(this.container),this.container.styles.opacity<1&&this.effects.push(new Jwe(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Xwe(i,r,s))}if(this.container.styles.overflowX!==0){var a=gT(this.curves),o=mT(this.curves);bz(a,o)?this.effects.push(new gx(a,6)):(this.effects.push(new gx(a,2)),this.effects.push(new gx(o,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,r=this.effects.slice(0);i;){var s=i.effects.filter(function(l){return!GX(l)});if(t||i.container.styles.position!==0||!i.parent){if(r.unshift.apply(r,s),t=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var a=gT(i.curves),o=mT(i.curves);bz(a,o)||r.unshift(new gx(o,6))}}else r.unshift.apply(r,s);i=i.parent}return r.filter(function(l){return Di(l.target,e)})},n})(),bL=function(n,e,t,i){n.container.elements.forEach(function(r){var s=Di(r.flags,4),a=Di(r.flags,2),o=new qX(r,n);Di(r.styles.display,2048)&&i.push(o);var l=Di(r.flags,8)?[]:i;if(s||a){var u=s||r.styles.isPositioned()?t:e,d=new zX(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var h=r.styles.zIndex.order;if(h<0){var g=0;u.negativeZIndex.some(function(b,C){return h>b.element.container.styles.zIndex.order?(g=C,!1):g>0}),u.negativeZIndex.splice(g,0,d)}else if(h>0){var v=0;u.positiveZIndex.some(function(b,C){return h>=b.element.container.styles.zIndex.order?(v=C+1,!1):v>0}),u.positiveZIndex.splice(v,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else r.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);bL(o,d,s?d:t,l)}else r.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),bL(o,e,t,l);Di(r.flags,8)&&$X(r,l)})},$X=function(n,e){for(var t=n instanceof gL?n.start:1,i=n instanceof gL?n.reversed:!1,r=0;r<e.length;r++){var s=e[r];s.container instanceof FX&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=qw(t,s.container.styles.listStyleType,!0),t+=i?-1:1}},nbe=function(n){var e=new qX(n,null),t=new zX(e),i=[];return bL(e,t,t,i),$X(e.container,i),t},Cz=function(n,e){switch(e){case 0:return Xa(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return Xa(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return Xa(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return Xa(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},ibe=function(n,e){switch(e){case 0:return Xa(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return Xa(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return Xa(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return Xa(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},rbe=function(n,e){switch(e){case 0:return Xa(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return Xa(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return Xa(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return Xa(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},sbe=function(n,e){switch(e){case 0:return mx(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return mx(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return mx(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return mx(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},mx=function(n,e){var t=[];return ja(n)?t.push(n.subdivide(.5,!1)):t.push(n),ja(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Xa=function(n,e,t,i){var r=[];return ja(n)?r.push(n.subdivide(.5,!1)):r.push(n),ja(t)?r.push(t.subdivide(.5,!0)):r.push(t),ja(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),ja(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},jX=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},vT=function(n){var e=n.styles,t=n.bounds,i=En(e.paddingLeft,t.width),r=En(e.paddingRight,t.width),s=En(e.paddingTop,t.width),a=En(e.paddingBottom,t.width);return t.add(i+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+r),-(e.borderTopWidth+e.borderBottomWidth+s+a))},abe=function(n,e){return n===0?e.bounds:n===2?vT(e):jX(e)},obe=function(n,e){return n===0?e.bounds:n===2?vT(e):jX(e)},OM=function(n,e,t){var i=abe(Pg(n.styles.backgroundOrigin,e),n),r=obe(Pg(n.styles.backgroundClip,e),n),s=Abe(Pg(n.styles.backgroundSize,e),t,i),a=s[0],o=s[1],l=ww(Pg(n.styles.backgroundPosition,e),i.width-a,i.height-o),u=lbe(Pg(n.styles.backgroundRepeat,e),l,s,i,r),d=Math.round(i.left+l[0]),h=Math.round(i.top+l[1]);return[u,d,h,a,o]},mg=function(n){return cn(n)&&n.value===Xg.AUTO},vx=function(n){return typeof n=="number"},Abe=function(n,e,t){var i=e[0],r=e[1],s=e[2],a=n[0],o=n[1];if(!a)return[0,0];if(Bi(a)&&o&&Bi(o))return[En(a,t.width),En(o,t.height)];var l=vx(s);if(cn(a)&&(a.value===Xg.CONTAIN||a.value===Xg.COVER)){if(vx(s)){var u=t.width/t.height;return u<s!=(a.value===Xg.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var d=vx(i),h=vx(r),g=d||h;if(mg(a)&&(!o||mg(o))){if(d&&h)return[i,r];if(!l&&!g)return[t.width,t.height];if(g&&l){var v=d?i:r*s,b=h?r:i/s;return[v,b]}var C=d?i:t.width,E=h?r:t.height;return[C,E]}if(l){var x=0,I=0;return Bi(a)?x=En(a,t.width):Bi(o)&&(I=En(o,t.height)),mg(a)?x=I*s:(!o||mg(o))&&(I=x/s),[x,I]}var T=null,R=null;if(Bi(a)?T=En(a,t.width):o&&Bi(o)&&(R=En(o,t.height)),T!==null&&(!o||mg(o))&&(R=d&&h?T/i*r:t.height),R!==null&&mg(a)&&(T=d&&h?R/r*i:t.width),T!==null&&R!==null)return[T,R];throw new Error("Unable to calculate background-size for element")},Pg=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},lbe=function(n,e,t,i,r){var s=e[0],a=e[1],o=t[0],l=t[1];switch(n){case 2:return[new Me(Math.round(i.left),Math.round(i.top+a)),new Me(Math.round(i.left+i.width),Math.round(i.top+a)),new Me(Math.round(i.left+i.width),Math.round(l+i.top+a)),new Me(Math.round(i.left),Math.round(l+i.top+a))];case 3:return[new Me(Math.round(i.left+s),Math.round(i.top)),new Me(Math.round(i.left+s+o),Math.round(i.top)),new Me(Math.round(i.left+s+o),Math.round(i.height+i.top)),new Me(Math.round(i.left+s),Math.round(i.height+i.top))];case 1:return[new Me(Math.round(i.left+s),Math.round(i.top+a)),new Me(Math.round(i.left+s+o),Math.round(i.top+a)),new Me(Math.round(i.left+s+o),Math.round(i.top+a+l)),new Me(Math.round(i.left+s),Math.round(i.top+a+l))];default:return[new Me(Math.round(r.left),Math.round(r.top)),new Me(Math.round(r.left+r.width),Math.round(r.top)),new Me(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Me(Math.round(r.left),Math.round(r.height+r.top))]}},ube="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Bz="Hidden Text",cbe=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var i=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",a.appendChild(i),r.src=ube,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Bz)),i.appendChild(s),i.appendChild(r);var o=r.offsetTop-s.offsetTop+2;i.removeChild(s),i.appendChild(this._document.createTextNode(Bz)),i.style.lineHeight="normal",r.style.verticalAlign="super";var l=r.offsetTop-i.offsetTop+2;return a.removeChild(i),{baseline:o,middle:l}},n.prototype.getMetrics=function(e,t){var i=e+" "+t;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(e,t)),this._data[i]},n})(),WX=(function(){function n(e,t){this.context=e,this.options=t}return n})(),dbe=1e4,fbe=(function(n){ko(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r._activeEffects=[],r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),i.canvas||(r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px"),r.fontMetrics=new cbe(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),r}return e.prototype.applyEffects=function(t){for(var i=this;this._activeEffects.length;)this.popEffect();t.forEach(function(r){return i.applyEffect(r)})},e.prototype.applyEffect=function(t){this.ctx.save(),ebe(t)&&(this.ctx.globalAlpha=t.opacity),Zwe(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),GX(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Wr(this,void 0,void 0,function(){var i;return Dr(this,function(r){switch(r.label){case 0:return i=t.element.container.styles,i.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Wr(this,void 0,void 0,function(){return Dr(this,function(i){switch(i.label){case 0:if(Di(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,i,r){var s=this;if(i===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+r);else{var a=ek(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+r),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var i=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),r=vbe(t.fontFamily).join(", "),s=qB(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,i,t.fontWeight,s,r].join(" "),r,s]},e.prototype.renderTextNode=function(t,i){return Wr(this,void 0,void 0,function(){var r,s,a,o,l,u,d,h,g=this;return Dr(this,function(v){return r=this.createFontStyle(i),s=r[0],a=r[1],o=r[2],this.ctx.font=s,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),u=l.baseline,d=l.middle,h=i.paintOrder,t.textBounds.forEach(function(b){h.forEach(function(C){switch(C){case 0:g.ctx.fillStyle=Ki(i.color),g.renderTextWithLetterSpacing(b,i.letterSpacing,u);var E=i.textShadow;E.length&&b.text.trim().length&&(E.slice(0).reverse().forEach(function(x){g.ctx.shadowColor=Ki(x.color),g.ctx.shadowOffsetX=x.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=x.offsetY.number*g.options.scale,g.ctx.shadowBlur=x.blur.number,g.renderTextWithLetterSpacing(b,i.letterSpacing,u)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),i.textDecorationLine.length&&(g.ctx.fillStyle=Ki(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(x){switch(x){case 1:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+u),b.bounds.width,1);break;case 2:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:g.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+d),b.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&b.text.trim().length&&(g.ctx.strokeStyle=Ki(i.webkitTextStrokeColor),g.ctx.lineWidth=i.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+u)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,i,r){if(r&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=vT(t),a=mT(i);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Wr(this,void 0,void 0,function(){var i,r,s,a,o,l,I,I,u,d,h,g,R,v,b,P,C,E,x,I,T,R,P;return Dr(this,function(D){switch(D.label){case 0:this.applyEffects(t.getEffects(4)),i=t.container,r=t.curves,s=i.styles,a=0,o=i.textNodes,D.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:D.sent(),D.label=3;case 3:return a++,[3,1];case 4:if(!(i instanceof _X))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return I=D.sent(),this.renderReplacedElement(i,r,I),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof TX&&this.renderReplacedElement(i,r,i.canvas),!(i instanceof IX))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return I=D.sent(),this.renderReplacedElement(i,r,I),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof PX&&i.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,u.render(i.tree)]):[3,14];case 13:d=D.sent(),i.width&&i.height&&this.ctx.drawImage(d,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),D.label=14;case 14:if(i instanceof tk&&(h=Math.min(i.bounds.width,i.bounds.height),i.type===dT?i.checked&&(this.ctx.save(),this.path([new Me(i.bounds.left+h*.39363,i.bounds.top+h*.79),new Me(i.bounds.left+h*.16,i.bounds.top+h*.5549),new Me(i.bounds.left+h*.27347,i.bounds.top+h*.44071),new Me(i.bounds.left+h*.39694,i.bounds.top+h*.5649),new Me(i.bounds.left+h*.72983,i.bounds.top+h*.23),new Me(i.bounds.left+h*.84,i.bounds.top+h*.34085),new Me(i.bounds.left+h*.39363,i.bounds.top+h*.79)]),this.ctx.fillStyle=Ki(uz),this.ctx.fill(),this.ctx.restore()):i.type===fT&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+h/2,i.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ki(uz),this.ctx.fill(),this.ctx.restore())),hbe(i)&&i.value.length){switch(g=this.createFontStyle(s),R=g[0],v=g[1],b=this.fontMetrics.getMetrics(R,v).baseline,this.ctx.font=R,this.ctx.fillStyle=Ki(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=gbe(i.styles.textAlign),P=vT(i),C=0,i.styles.textAlign){case 1:C+=P.width/2;break;case 2:C+=P.width;break}E=P.add(C,0,0,-P.height/2+1),this.ctx.save(),this.path([new Me(P.left,P.top),new Me(P.left+P.width,P.top),new Me(P.left+P.width,P.top+P.height),new Me(P.left,P.top+P.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Mw(i.value,E),s.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Di(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(x=i.styles.listStyleImage,x.type!==0)return[3,18];I=void 0,T=x.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return I=D.sent(),this.ctx.drawImage(I,i.bounds.left-(I.width+10),i.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:t.listValue&&i.styles.listStyleType!==-1&&(R=this.createFontStyle(s)[0],this.ctx.font=R,this.ctx.fillStyle=Ki(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",P=new vu(i.bounds.left,i.bounds.top+En(i.styles.paddingTop,i.bounds.width),i.bounds.width,$G(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Mw(t.listValue,P),s.letterSpacing,$G(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Wr(this,void 0,void 0,function(){var i,r,x,s,a,x,o,l,x,u,d,x,h,g,x,v,b,x,C,E,x;return Dr(this,function(I){switch(I.label){case 0:if(Di(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:I.sent(),i=0,r=t.negativeZIndex,I.label=2;case 2:return i<r.length?(x=r[i],[4,this.renderStack(x)]):[3,5];case 3:I.sent(),I.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:I.sent(),s=0,a=t.nonInlineLevel,I.label=7;case 7:return s<a.length?(x=a[s],[4,this.renderNode(x)]):[3,10];case 8:I.sent(),I.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,I.label=11;case 11:return o<l.length?(x=l[o],[4,this.renderStack(x)]):[3,14];case 12:I.sent(),I.label=13;case 13:return o++,[3,11];case 14:u=0,d=t.nonPositionedInlineLevel,I.label=15;case 15:return u<d.length?(x=d[u],[4,this.renderStack(x)]):[3,18];case 16:I.sent(),I.label=17;case 17:return u++,[3,15];case 18:h=0,g=t.inlineLevel,I.label=19;case 19:return h<g.length?(x=g[h],[4,this.renderNode(x)]):[3,22];case 20:I.sent(),I.label=21;case 21:return h++,[3,19];case 22:v=0,b=t.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return v<b.length?(x=b[v],[4,this.renderStack(x)]):[3,26];case 24:I.sent(),I.label=25;case 25:return v++,[3,23];case 26:C=0,E=t.positiveZIndex,I.label=27;case 27:return C<E.length?(x=E[C],[4,this.renderStack(x)]):[3,30];case 28:I.sent(),I.label=29;case 29:return C++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var i=this;t.forEach(function(r,s){var a=ja(r)?r.start:r;s===0?i.ctx.moveTo(a.x,a.y):i.ctx.lineTo(a.x,a.y),ja(r)&&i.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(t,i,r,s){this.path(t),this.ctx.fillStyle=i,this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},e.prototype.resizeImage=function(t,i,r){var s;if(t.width===i&&t.height===r)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,i),o.height=Math.max(1,r);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,i,r),o},e.prototype.renderBackgroundImage=function(t){return Wr(this,void 0,void 0,function(){var i,r,s,a,o,l;return Dr(this,function(u){switch(u.label){case 0:i=t.styles.backgroundImage.length-1,r=function(d){var h,g,v,K,G,$,X,ne,H,b,K,G,$,X,ne,C,E,x,I,T,R,P,D,Q,H,k,K,V,q,X,ne,ge,G,$,ie,se,be,z,J,le,ve,Ee;return Dr(this,function(Fe){switch(Fe.label){case 0:if(d.type!==0)return[3,5];h=void 0,g=d.url,Fe.label=1;case 1:return Fe.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return h=Fe.sent(),[3,4];case 3:return Fe.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return h&&(v=OM(t,i,[h.width,h.height,h.width/h.height]),K=v[0],G=v[1],$=v[2],X=v[3],ne=v[4],H=s.ctx.createPattern(s.resizeImage(h,X,ne),"repeat"),s.renderRepeat(K,H,G,$)),[3,6];case 5:Zve(d)?(b=OM(t,i,[null,null,null]),K=b[0],G=b[1],$=b[2],X=b[3],ne=b[4],C=jve(d.angle,X,ne),E=C[0],x=C[1],I=C[2],T=C[3],R=C[4],P=document.createElement("canvas"),P.width=X,P.height=ne,D=P.getContext("2d"),Q=D.createLinearGradient(x,T,I,R),zG(d.stops,E).forEach(function(Ce){return Q.addColorStop(Ce.stop,Ki(Ce.color))}),D.fillStyle=Q,D.fillRect(0,0,X,ne),X>0&&ne>0&&(H=s.ctx.createPattern(P,"repeat"),s.renderRepeat(K,H,G,$))):eye(d)&&(k=OM(t,i,[null,null,null]),K=k[0],V=k[1],q=k[2],X=k[3],ne=k[4],ge=d.position.length===0?[XQ]:d.position,G=En(ge[0],X),$=En(ge[ge.length-1],ne),ie=Wve(d,G,$,X,ne),se=ie[0],be=ie[1],se>0&&be>0&&(z=s.ctx.createRadialGradient(V+G,q+$,0,V+G,q+$,se),zG(d.stops,se*2).forEach(function(Ce){return z.addColorStop(Ce.stop,Ki(Ce.color))}),s.path(K),s.ctx.fillStyle=z,se!==be?(J=t.bounds.left+.5*t.bounds.width,le=t.bounds.top+.5*t.bounds.height,ve=be/se,Ee=1/ve,s.ctx.save(),s.ctx.translate(J,le),s.ctx.transform(1,0,0,ve,0,0),s.ctx.translate(-J,-le),s.ctx.fillRect(V,Ee*(q-le)+le,X,ne*Ee),s.ctx.restore()):s.ctx.fill())),Fe.label=6;case 6:return i--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(l=o[a],[5,r(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,i,r){return Wr(this,void 0,void 0,function(){return Dr(this,function(s){return this.path(Cz(r,i)),this.ctx.fillStyle=Ki(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,i,r,s){return Wr(this,void 0,void 0,function(){var a,o;return Dr(this,function(l){switch(l.label){case 0:return i<3?[4,this.renderSolidBorder(t,r,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=ibe(s,r),this.path(a),this.ctx.fillStyle=Ki(t),this.ctx.fill(),o=rbe(s,r),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Wr(this,void 0,void 0,function(){var i,r,s,a,o,l,u,d,h=this;return Dr(this,function(g){switch(g.label){case 0:return this.applyEffects(t.getEffects(2)),i=t.container.styles,r=!Ld(i.backgroundColor)||i.backgroundImage.length,s=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],a=pbe(Pg(i.backgroundClip,0),t.curves),r||i.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Ld(i.backgroundColor)||(this.ctx.fillStyle=Ki(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(v){h.ctx.save();var b=gT(t.curves),C=v.inset?0:dbe,E=tbe(b,-C+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(h.path(b),h.ctx.clip(),h.mask(E)):(h.mask(b),h.ctx.clip(),h.path(E)),h.ctx.shadowOffsetX=v.offsetX.number+C,h.ctx.shadowOffsetY=v.offsetY.number,h.ctx.shadowColor=Ki(v.color),h.ctx.shadowBlur=v.blur.number,h.ctx.fillStyle=v.inset?Ki(v.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),g.label=2;case 2:o=0,l=0,u=s,g.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!Ld(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,3)];case 6:return g.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,t.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,t.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,i,r,s,a){return Wr(this,void 0,void 0,function(){var o,l,u,d,h,g,v,b,C,E,x,I,T,R,P,D,P,D;return Dr(this,function(Q){return this.ctx.save(),o=sbe(s,r),l=Cz(s,r),a===2&&(this.path(l),this.ctx.clip()),ja(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),ja(l[1])?(h=l[1].end.x,g=l[1].end.y):(h=l[1].x,g=l[1].y),r===0||r===2?v=Math.abs(u-h):v=Math.abs(d-g),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),b=i<3?i*3:i*2,C=i<3?i*2:i,a===3&&(b=i,C=i),E=!0,v<=b*2?E=!1:v<=b*2+C?(x=v/(2*b+C),b*=x,C*=x):(I=Math.floor((v+C)/(b+C)),T=(v-I*b)/(I-1),R=(v-(I+1)*b)/I,C=R<=0||Math.abs(C-T)<Math.abs(C-R)?T:R),E&&(a===3?this.ctx.setLineDash([0,b+C]):this.ctx.setLineDash([b,C])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=Ki(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(ja(l[0])&&(P=l[3],D=l[0],this.ctx.beginPath(),this.formatPath([new Me(P.end.x,P.end.y),new Me(D.start.x,D.start.y)]),this.ctx.stroke()),ja(l[1])&&(P=l[1],D=l[2],this.ctx.beginPath(),this.formatPath([new Me(P.end.x,P.end.y),new Me(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Wr(this,void 0,void 0,function(){var i;return Dr(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ki(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=nbe(t),[4,this.renderStack(i)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(WX),hbe=function(n){return n instanceof MX||n instanceof UX?!0:n instanceof tk&&n.type!==fT&&n.type!==dT},pbe=function(n,e){switch(n){case 0:return gT(e);case 2:return Ywe(e);case 1:default:return mT(e)}},gbe=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},mbe=["-apple-system","system-ui"],vbe=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return mbe.indexOf(e)===-1}):n},ybe=(function(n){ko(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.canvas=i.canvas?i.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=i,r.canvas.width=Math.floor(i.width*i.scale),r.canvas.height=Math.floor(i.height*i.scale),r.canvas.style.width=i.width+"px",r.canvas.style.height=i.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-i.x,-i.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),r}return e.prototype.render=function(t){return Wr(this,void 0,void 0,function(){var i,r;return Dr(this,function(s){switch(s.label){case 0:return i=pL(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,wbe(i)];case 1:return r=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ki(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(WX),wbe=function(n){return new Promise(function(e,t){var i=new Image;i.onload=function(){e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},bbe=(function(){function n(e){var t=e.id,i=e.enabled;this.id=t,this.enabled=i,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,YS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,YS([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,YS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,YS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),Cbe=(function(){function n(e,t){var i;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new bbe({id:this.instanceName,enabled:e.logging}),this.cache=(i=e.cache)!==null&&i!==void 0?i:new Vwe(this,e)}return n.instanceCount=1,n})(),Bbe=function(n,e){return e===void 0&&(e={}),Ebe(n,e)};typeof window<"u"&&KX.setContext(window);var Ebe=function(n,e){return Wr(void 0,void 0,void 0,function(){var t,i,r,s,a,o,l,u,d,h,g,v,b,C,E,x,I,T,R,P,Q,D,Q,H,k,K,V,q,X,ne,ge,G,$,ie,se,be,z,J,le,ve;return Dr(this,function(Ee){switch(Ee.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(i=t.defaultView,!i)throw new Error("Document is not attached to a Window");return r={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(K=e.useCORS)!==null&&K!==void 0?K:!1},s=eL({logging:(V=e.logging)!==null&&V!==void 0?V:!0,cache:e.cache},r),a={windowWidth:(q=e.windowWidth)!==null&&q!==void 0?q:i.innerWidth,windowHeight:(X=e.windowHeight)!==null&&X!==void 0?X:i.innerHeight,scrollX:(ne=e.scrollX)!==null&&ne!==void 0?ne:i.pageXOffset,scrollY:(ge=e.scrollY)!==null&&ge!==void 0?ge:i.pageYOffset},o=new vu(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new Cbe(s,o),u=(G=e.foreignObjectRendering)!==null&&G!==void 0?G:!1,d={allowTaint:($=e.allowTaint)!==null&&$!==void 0?$:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new yz(l,n,d),g=h.clonedReferenceElement,g?[4,h.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=Ee.sent(),b=nk(g)||Swe(g)?tme(g.ownerDocument):G1(l,g),C=b.width,E=b.height,x=b.left,I=b.top,T=Sbe(l,g,e.backgroundColor),R={canvas:e.canvas,backgroundColor:T,scale:(se=(ie=e.scale)!==null&&ie!==void 0?ie:i.devicePixelRatio)!==null&&se!==void 0?se:1,x:((be=e.x)!==null&&be!==void 0?be:0)+x,y:((z=e.y)!==null&&z!==void 0?z:0)+I,width:(J=e.width)!==null&&J!==void 0?J:Math.ceil(C),height:(le=e.height)!==null&&le!==void 0?le:Math.ceil(E)},u?(l.logger.debug("Document cloned, using foreign object rendering"),Q=new ybe(l,R),[4,Q.render(g)]):[3,3];case 2:return P=Ee.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+I+" with size "+C+"x"+E+" using computed rendering"),l.logger.debug("Starting DOM parsing"),D=DX(l,g),T===D.styles.backgroundColor&&(D.styles.backgroundColor=cu.TRANSPARENT),l.logger.debug("Starting renderer for element at "+R.x+","+R.y+" with size "+R.width+"x"+R.height),Q=new fbe(l,R),[4,Q.render(D)];case 4:P=Ee.sent(),Ee.label=5;case 5:return(!((ve=e.removeContainer)!==null&&ve!==void 0)||ve)&&(yz.destroy(v)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,P]}})})},Sbe=function(n,e,t){var i=e.ownerDocument,r=i.documentElement?Fw(n,getComputedStyle(i.documentElement).backgroundColor):cu.TRANSPARENT,s=i.body?Fw(n,getComputedStyle(i.body).backgroundColor):cu.TRANSPARENT,a=typeof t=="string"?Fw(n,t):t===null?cu.TRANSPARENT:4294967295;return e===i.documentElement?Ld(r)?Ld(s)?a:s:r:a};const xbe=({customChapter:n,variant:e="main"})=>{const{currentChapter:t,fontSize:i,viewMode:r,addHighlight:s,drawingMode:a,penColor:o,penWidth:l,penOpacity:u,chapterStrokes:d,addStroke:h,removeStroke:g,highlights:v,activeHighlightId:b,showAnnotations:C,triggerSmartExplain:E,isCaptureMode:x,setCaptureMode:I,setCapturedImage:T}=jd(),R=n||t,P=e==="main",D=U.useRef(null),Q=U.useRef(null),H=U.useRef(0),[k,K]=U.useState({text:"",top:0,left:0,show:!1}),[V,q]=U.useState({show:!1,text:""}),[X,ne]=U.useState(!1),[ge,G]=U.useState([]),[$,ie]=U.useState(null),[se,be]=U.useState(null);U.useEffect(()=>{if(!P)return;const _e=Z=>{Z.key==="Escape"&&x&&(I(!1),ie(null),be(null))};return window.addEventListener("keydown",_e),()=>window.removeEventListener("keydown",_e)},[x,I,P]);const z=U.useMemo(()=>{let _e=R.content;return C&&[...v.filter(Re=>Re.chapterId===R.id)].sort((Re,bt)=>bt.text.length-Re.text.length).forEach(Re=>{const bt=Re.text.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),qe=new RegExp(bt,"g"),ce=`<mark id="hl-${Re.id}" style="background-color: #fef08a !important; color: #0f172a !important;" class="rounded-sm cursor-pointer hover:brightness-95 transition-colors border-b-2 border-yellow-400" title="${Re.note||"Highlight"}">${Re.text}</mark>`;_e=_e.replace(qe,ce)}),_e},[R.content,R.id,v,C]);U.useEffect(()=>{if(b&&C){const _e=document.getElementById(`hl-${b}`);_e&&document.body.contains(_e)&&(_e.scrollIntoView({behavior:"smooth",block:"center"}),_e.classList.add("ring-4","ring-blue-500","ring-offset-2"),setTimeout(()=>{_e.classList.remove("ring-4","ring-blue-500","ring-offset-2")},2e3))}},[b,z,C]),U.useEffect(()=>{const _e=Z=>{const Be=Z.target;!Be.closest(`#selection-menu-${e}`)&&!Be.closest(`#memo-dialog-${e}`)&&K(Re=>({...Re,show:!1}))};return document.addEventListener("mousedown",_e),()=>document.removeEventListener("mousedown",_e)},[e]);const J=()=>{var Z,Be;const _e=window.getSelection();if(_e&&_e.toString().trim().length>0){if(!(((Z=D.current)==null?void 0:Z.contains(_e.anchorNode))||((Be=D.current)==null?void 0:Be.contains(_e.focusNode))))return;const qe=_e.getRangeAt(0).getBoundingClientRect();let ce=qe.top-60,we=qe.left+qe.width/2-100;ce<0&&(ce=qe.bottom+10),we<10&&(we=10),we+200>window.innerWidth&&(we=window.innerWidth-220),K({text:_e.toString(),top:ce,left:we,show:!0})}else K(Re=>({...Re,show:!1}))},le=_e=>{P&&x||a==="idle"&&setTimeout(J,10)},ve=()=>{var _e;s(k.text,void 0,R.id),K(Z=>({...Z,show:!1})),(_e=window.getSelection())==null||_e.removeAllRanges()},Ee=()=>{K(_e=>({..._e,show:!1})),q({show:!0,text:""})},Fe=()=>{var _e;V.text.trim()&&s(k.text,V.text,R.id),q({show:!1,text:""}),(_e=window.getSelection())==null||_e.removeAllRanges()},Ce=()=>{var _e;E(k.text),K(Z=>({...Z,show:!1})),(_e=window.getSelection())==null||_e.removeAllRanges()},ut=_e=>{if(!Q.current)return null;const Z=Q.current.getBoundingClientRect();if(Z.width===0||Z.height===0)return null;const Be=Q.current.width/Z.width,Re=Q.current.height/Z.height;return{x:(_e.clientX-Z.left)*Be,y:(_e.clientY-Z.top)*Re}},ae=_e=>{var Be;if(P&&x||a==="idle")return;_e.target.setPointerCapture(_e.pointerId);const Z=ut(_e);if(Z&&(ne(!0),G([Z]),D.current&&a==="pen")){const Re=Array.from(D.current.children);let bt=0;const qe=(Be=Q.current)==null?void 0:Be.getBoundingClientRect(),ce=_e.clientY-((qe==null?void 0:qe.top)||0);for(let we=0;we<Re.length;we++){const xe=Re[we];if(ce>=xe.offsetTop&&ce<=xe.offsetTop+xe.offsetHeight){bt=we;break}if(ce<xe.offsetTop){bt=Math.max(0,we-1);break}bt=we}H.current=bt}},Ke=_e=>{if(P&&x||!X||a==="idle")return;_e.preventDefault();const Z=ut(_e);if(Z){if(a==="pen")G(Be=>[...Be,Z]);else if(a==="eraser"){const Be=d[R.id]||[],Re=D.current?Array.from(D.current.children):[];Be.forEach(bt=>{let qe=bt.points;if(bt.anchorIndex!==void 0&&Re[bt.anchorIndex]){const we=Re[bt.anchorIndex].offsetTop;qe=bt.points.map(xe=>({x:xe.x,y:xe.y+we}))}qe.some(we=>Math.hypot(we.x-Z.x,we.y-Z.y)<20)&&g(R.id,bt.id)})}}},Ye=_e=>{if(!(P&&x)&&X){if(_e.target.releasePointerCapture(_e.pointerId),ne(!1),a==="pen"&&ge.length>1){let Z=ge,Be;if(D.current){Be=H.current;const bt=D.current.children;if(bt[Be]){const qe=bt[Be].offsetTop;Z=ge.map(ce=>({x:ce.x,y:ce.y-qe}))}}const Re={id:Date.now().toString(),points:Z,color:o,width:l,opacity:u,anchorIndex:Be};h(R.id,Re)}G([])}},ye=_e=>{if(!P||!x)return;const Z={x:_e.clientX,y:_e.clientY};ie(Z),be(Z)},Pt=_e=>{!P||!x||!$||be({x:_e.clientX,y:_e.clientY})},Je=async _e=>{if(!P||!x||!$||!se){ie(null),be(null);return}const Z=$,Be={x:_e.clientX,y:_e.clientY},Re={x:Math.min(Z.x,Be.x),y:Math.min(Z.y,Be.y),width:Math.abs(Be.x-Z.x),height:Math.abs(Be.y-Z.y)};if(ie(null),be(null),!(Re.width<10||Re.height<10))try{const bt=await Bbe(document.body,{x:Re.x+window.scrollX,y:Re.y+window.scrollY,width:Re.width,height:Re.height,useCORS:!0,scale:window.devicePixelRatio,ignoreElements:qe=>qe.classList.contains("capture-overlay-ui")});T(bt.toDataURL())}catch(bt){console.error(bt)}finally{I(!1)}};U.useEffect(()=>{const _e=Q.current;if(!_e||!D.current)return;const Z=()=>{if(!_e||!D.current)return;const Re=window.devicePixelRatio||1;_e.width=D.current.offsetWidth*Re,_e.height=D.current.offsetHeight*Re;const bt=_e.getContext("2d");bt&&bt.scale(Re,Re)};Z();const Be=new ResizeObserver(Z);return Be.observe(D.current),()=>Be.disconnect()},[R.id,r]),U.useEffect(()=>{const _e=Q.current;if(!_e||!D.current)return;const Z=_e.getContext("2d");if(!Z||(Z.save(),Z.setTransform(1,0,0,1,0,0),Z.clearRect(0,0,_e.width,_e.height),Z.restore(),!C&&!X))return;const Be=(qe,ce,we,xe)=>{if(!(qe.length<2)){Z.beginPath(),Z.lineWidth=we,Z.strokeStyle=ce,Z.lineCap="round",Z.lineJoin="round",Z.globalAlpha=xe,Z.moveTo(qe[0].x,qe[0].y);for(let Pe=1;Pe<qe.length-1;Pe++){const Te={x:(qe[Pe].x+qe[Pe+1].x)/2,y:(qe[Pe].y+qe[Pe+1].y)/2};Z.quadraticCurveTo(qe[Pe].x,qe[Pe].y,Te.x,Te.y)}Z.lineTo(qe[qe.length-1].x,qe[qe.length-1].y),Z.stroke(),Z.globalAlpha=1}},Re=Array.from(D.current.children);(d[R.id]||[]).forEach(qe=>{let ce=qe.points;if(qe.anchorIndex!==void 0&&Re[qe.anchorIndex]){const we=Re[qe.anchorIndex].offsetTop;ce=qe.points.map(xe=>({x:xe.x,y:xe.y+we}))}Be(ce,qe.color,qe.width||3,qe.opacity!==void 0?qe.opacity:1)}),X&&ge.length>1&&a==="pen"&&Be(ge,o,l,u)},[d,R.id,X,ge,o,l,u,a,C]);const Jt=()=>{switch(i){case"small":return"text-sm leading-6";case"large":return"text-xl leading-9";case"xlarge":return"text-2xl leading-10";default:return"text-lg leading-8"}},Nt=P&&x&&$&&se?{position:"fixed",left:Math.min($.x,se.x),top:Math.min($.y,se.y),width:Math.abs(se.x-$.x),height:Math.abs(se.y-$.y),border:"2px solid #3b82f6",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(59, 130, 246, 0.1)",zIndex:1e4,pointerEvents:"none"}:{},Mn={width:"100%",height:"100%",touchAction:a!=="idle"?"none":"auto"},st=`absolute inset-0 z-20 ${a!=="idle"?"cursor-crosshair pointer-events-auto":"pointer-events-none"}`,kn=e==="main"&&r==="double",_i=e==="main"?`relative w-full bg-white dark:bg-slate-950 shadow-lg min-h-[80vh] p-8 md:p-12 transition-all ${kn?"max-w-full":"max-w-3xl"}`:"relative w-full bg-white dark:bg-slate-900 p-4 min-h-[500px]",Zt=`prose prose-slate dark:prose-invert max-w-none select-text cursor-text transition-all duration-200 relative z-10 selection:bg-yellow-200 selection:text-black dark:selection:bg-yellow-700 dark:selection:text-white ${Jt()} ${kn?"columns-1 md:columns-2 gap-12 [column-fill:auto]":""}`,pa=e==="main"?"relative min-h-[50vh] pb-32 flex justify-center bg-slate-100 dark:bg-slate-900 pt-8":"relative w-full bg-slate-50 dark:bg-slate-950";return L.jsxs("div",{className:pa,onPointerUp:le,children:[P&&x&&L.jsx("div",{className:"fixed inset-0 z-[9999] cursor-crosshair capture-overlay-ui",onMouseDown:ye,onMouseMove:Pt,onMouseUp:Je,children:!$&&L.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg pointer-events-none",children:"Drag to capture (Esc to cancel)"})}),P&&x&&$&&se&&L.jsx("div",{style:Nt,className:"capture-overlay-ui"}),L.jsxs("div",{className:_i,children:[L.jsx("div",{ref:D,className:Zt,dangerouslySetInnerHTML:{__html:z},onContextMenu:_e=>_e.preventDefault()}),L.jsx("canvas",{ref:Q,className:st,style:Mn,onPointerDown:ae,onPointerMove:Ke,onPointerUp:Ye,onPointerLeave:Ye})]}),k.show&&!x&&L.jsxs("div",{id:`selection-menu-${e}`,className:"fixed z-50 flex items-center gap-2 bg-slate-800 text-white rounded-lg shadow-xl p-2 animate-fade-in",style:{top:k.top,left:k.left},children:[L.jsxs("button",{onClick:ve,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[L.jsx(B_,{size:14,className:"text-yellow-400"})," High"]}),L.jsx("div",{className:"w-px h-4 bg-slate-600"}),L.jsxs("button",{onClick:Ee,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[L.jsx(Mhe,{size:14,className:"text-green-400"})," Memo"]}),L.jsx("div",{className:"w-px h-4 bg-slate-600"}),L.jsxs("button",{onClick:Ce,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[L.jsx(she,{size:14,className:"text-blue-400"})," AI"]})]}),V.show&&L.jsx("div",{id:`memo-dialog-${e}`,className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/20 backdrop-blur-sm",children:L.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 w-80 animate-slide-up border border-slate-200 dark:border-slate-700",children:[L.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Add Note"}),L.jsx("textarea",{autoFocus:!0,value:V.text,onChange:_e=>q(Z=>({...Z,text:_e.target.value})),className:"w-full h-24 p-2 text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none dark:text-white",placeholder:"Type your thoughts..."}),L.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[L.jsx("button",{onClick:()=>q({show:!1,text:""}),className:"px-3 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),L.jsx("button",{onClick:Fe,className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 rounded-lg shadow-sm transition-colors",children:"Save"})]})]})})]})},P0=({text:n,query:e})=>{if(!e||!e.trim())return L.jsx(L.Fragment,{children:n});const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=new RegExp(`(${t})`,"gi"),r=n.split(i);return L.jsx("span",{children:r.map((s,a)=>i.test(s)?L.jsx("mark",{className:"bg-yellow-300 dark:bg-yellow-600/50 text-slate-900 dark:text-white rounded-[2px] px-0.5 font-medium",children:s},a):s)})},YX=({isOpen:n,onClose:e,side:t,title:i,children:r})=>L.jsxs(L.Fragment,{children:[L.jsx("div",{className:` ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),L.jsx("aside",{className:`h-full ${t==="left"?"left-0 border-r":"right-0 border-l"} ${n?"translate-x-0":t==="left"?"-translate-x-full md:translate-x-0":"translate-x-full md:translate-x-0"} w-80 md:w-full`,children:L.jsxs("div",{className:"h-full",children:[L.jsxs("div",{className:"hidden",children:[i&&L.jsx("h2",{className:"font-semibold text-slate-800 dark:text-slate-200",children:i}),L.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-500",children:L.jsx(hN,{size:18})})]}),L.jsx("div",{className:"flex-1 overflow-y-auto h-full",children:r})]})})]}),_be=({isOpen:n,onClose:e})=>{const{chapters:t,currentChapterIndex:i,goToChapter:r,hasStrokes:s,bookmarks:a,goToPdfPage:o,removePdfBookmark:l,currentPdfPage:u}=jd(),[d,h]=U.useState("contents"),g=U.useRef(null),v=U.useRef([]);return U.useEffect(()=>{if(d!=="contents")return;const b=v.current[i];if(!b)return;const C=g.current;if(!C){b.scrollIntoView({block:"center",behavior:"smooth"});return}const E=C.getBoundingClientRect(),x=b.getBoundingClientRect();x.top>=E.top&&x.bottom<=E.bottom||b.scrollIntoView({block:"center",behavior:"smooth"})},[i,d]),L.jsx(YX,{isOpen:n,onClose:e,side:"left",title:"Contents",children:L.jsxs("div",{className:"",children:[L.jsxs("div",{className:"chapter_favor_wrap",children:[L.jsxs("button",{onClick:()=>h("contents"),className:`chapter ${d==="contents"?"on":"off"}`,children:[L.jsx(ehe,{size:14})," Chapters"]}),L.jsxs("button",{onClick:()=>h("bookmarks"),className:`favor ${d==="bookmarks"?"on":"off"}`,children:[L.jsx(C_,{size:14})," Favorites"]})]}),L.jsxs("div",{className:"chapter_list",ref:g,children:[d==="contents"&&t.map((b,C)=>L.jsx("button",{ref:E=>{v.current[C]=E},onClick:()=>{r(C),window.innerWidth<768&&e()},className:` ${C===i?"on":"off"}`,children:L.jsxs("div",{className:"chapter_list_inner",children:[L.jsxs("div",{className:"",children:[L.jsx("span",{className:`text_xs ${C===i?"on":"off"}`,children:String(C+1).padStart(2,"0")}),L.jsx("span",{className:"line_clamp_1",children:b.title})]}),s(b.id)&&L.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-1 rounded-full",children:L.jsx(KW,{size:10})})]})},b.id)),d==="bookmarks"&&a.map(b=>L.jsxs("div",{className:`bookmark_item_row ${b.page===u?"active":""}`,children:[L.jsxs("button",{onClick:()=>{o(b.page),window.innerWidth<768&&e()},className:"bookmark_item_button",children:[L.jsxs("div",{className:"bookmark_page_badge",children:[L.jsx(C_,{size:14}),L.jsxs("span",{children:["Page ",b.page]})]}),L.jsxs("div",{className:"bookmark_item_text",children:[L.jsx("span",{className:"bookmark_label line_clamp_1",children:b.label||`Page ${b.page}`}),L.jsxs("span",{className:"bookmark_meta",children:["Saved ",new Date(b.createdAt).toLocaleDateString()]})]})]}),L.jsx("button",{onClick:C=>{C.stopPropagation(),l(b.id)},className:"bookmark_remove_btn",title:"Delete bookmark",children:L.jsx(fN,{size:14})})]},b.id)),d==="bookmarks"&&a.length===0&&L.jsxs("div",{className:"non_book_mark",children:[L.jsx(C_,{size:24,className:"mx-auto mb-2 text-slate-400"}),L.jsx("p",{className:"text_sm",children:"No bookmarks yet"}),L.jsx("p",{className:"text_sm",children:"Use the bookmark icon near Search to save a page."})]})]})]})})},Tbe=({isOpen:n,onClose:e})=>{const{highlights:t,removeHighlight:i,updateHighlight:r,currentChapter:s,incrementAiCount:a,generalNotes:o,addGeneralNote:l,updateGeneralNote:u,removeGeneralNote:d,importNotes:h,exportNoteAsMarkdown:g,focusHighlight:v,goToChapter:b,chapters:C,aiChatHistory:E,addChatMessage:x,activeToolTab:I,setActiveToolTab:T,setCaptureMode:R,capturedImage:P,setCapturedImage:D,referenceDocument:Q,uploadBook:H,searchQuery:k,setSearchQuery:K,performSearch:V,goToPdfPage:q,pdfSearchHighlight:X,setPdfSearchHighlight:ne}=jd(),[ge,G]=U.useState(""),[$,ie]=U.useState(!1),[se,be]=U.useState(null),[z,J]=U.useState(null),[le,ve]=U.useState(""),[Ee,Fe]=U.useState(""),Ce=U.useRef(null),ut=U.useRef(null);U.useEffect(()=>{se&&Ce.current&&Ce.current.innerHTML!==(se.content||"")&&(Ce.current.innerHTML=se.content||"")},[se==null?void 0:se.id]);const ae=()=>Ce.current?Ce.current.innerHTML:"",Ke=Z=>{if(I==="notebook"&&se){const Be=ae();be(Re=>Re?{...Re,content:Be}:null)}T(Z),Fe("")},Ye=Z=>{J(Z.id),ve(Z.note||"")},ye=Z=>{r(Z,le),J(null),ve("")},Pt=t.filter(Z=>Z.text.toLowerCase().includes(Ee.toLowerCase())||Z.note&&Z.note.toLowerCase().includes(Ee.toLowerCase())),Je=o.filter(Z=>Z.title.toLowerCase().includes(Ee.toLowerCase())||Z.content.toLowerCase().includes(Ee.toLowerCase()));U.useEffect(()=>{if(P&&se){const Z=`<div class="capture-img-container"><img src="${P}" style="max-width:100%; border:1px solid #ccc; border-radius:4px; margin: 10px 0; display: block;" /></div><p><br/></p>`,Be=(se.content||"")+Z;be(Re=>Re?{...Re,content:Be}:null),Ce.current&&(Ce.current.innerHTML=Be),D(null)}},[P,D]);const Jt=async Z=>{if(Z.preventDefault(),!ge.trim())return;const Be=ge;x("user",Be),G(""),ie(!0),a();const Re=await _6(Be,s.content.substring(0,1e3));x("model",Re),ie(!1)},Nt=()=>{if(se){const Z=ae();se.title&&(se.id?u(se.id,se.title,Z):l(se.title,Z),be(null))}},Mn=(Z,Be=void 0)=>{document.execCommand(Z,!1,Be),Ce.current&&Ce.current.focus()},st=(Z,Be,Re)=>{Z.preventDefault(),Mn(Be,Re)},kn=Z=>{Z.preventDefault();const Be=ae();be(Re=>Re?{...Re,content:Be}:null),setTimeout(()=>R(!0),50)},_i=Z=>{Z.preventDefault();const Be=window.getSelection();if(Be&&Be.rangeCount>0){const qe=Be.getRangeAt(0);Ce.current&&Ce.current.contains(qe.commonAncestorContainer)?ut.current=qe.cloneRange():ut.current=null}const Re=parseInt(prompt("Rows:","2")||"0"),bt=parseInt(prompt("Columns:","2")||"0");if(Ce.current&&(Ce.current.focus(),ut.current&&(Be==null||Be.removeAllRanges(),Be==null||Be.addRange(ut.current)),Re>0&&bt>0)){let qe='<table style="width:100%; border-collapse: collapse; margin: 10px 0; border: 1px solid #ccc;"><tbody>';for(let ce=0;ce<Re;ce++){qe+="<tr>";for(let we=0;we<bt;we++)qe+='<td style="border:1px solid #ccc; padding:8px; min-width: 50px;">Cell</td>';qe+="</tr>"}qe+="</tbody></table><p><br></p>",document.execCommand("insertHTML",!1,qe)}},Zt=Z=>{Z.target.files&&Z.target.files[0]&&H(Z.target.files[0])},pa=()=>{const Z=ae();be(Be=>Be?{...Be,content:Z}:null)},_e=()=>{if(!se)return;const Z=ae(),Be=window.open("","","height=600,width=800");Be&&(Be.document.write(`<html><head><title>${se.title}</title><style>body{font-family:sans-serif;padding:20px;}table{border-collapse:collapse;width:100%;}td,th{border:1px solid #ccc;padding:8px;}img{max-width:100%;}</style></head><body><h1>${se.title}</h1>${Z}</body></html>`),Be.document.close(),Be.print())};return I==="search"&&V(k),L.jsx(YX,{isOpen:n,onClose:e,side:"right",children:L.jsxs("div",{className:"h-full",children:[L.jsxs("div",{className:"right_panel_menu",children:[L.jsx("button",{onClick:()=>Ke("ai"),className:`ai ${I==="ai"?"on":"off"}`,title:"AI",children:L.jsx(cM,{size:14})}),L.jsx("button",{onClick:()=>Ke("notes"),className:`notes ${I==="notes"?"on":"off"}`,title:"Highlights",children:L.jsx(B_,{size:14})}),L.jsx("button",{onClick:()=>Ke("notebook"),className:`notebook ${I==="notebook"?"on":"off"}`,title:"Notebook",children:L.jsx(uN,{size:14})}),L.jsx("button",{onClick:()=>Ke("reference"),className:`reference ${I==="reference"?"on":"off"}`,title:"Reference PDF",children:L.jsx(VK,{size:14})}),L.jsx("button",{onClick:()=>Ke("search"),className:`search ${I==="search"?"on":"off"}`,title:"Search",children:L.jsx(dM,{size:14})})]}),L.jsxs("div",{className:"text_area",children:[I==="ai"&&L.jsxs("div",{className:"ai",children:[L.jsxs("div",{className:"ai_talk",children:[E.length===0&&L.jsxs("div",{className:"ai_talk_inner",children:[L.jsx("div",{className:"icon",children:L.jsx(cM,{className:"text-blue-500",size:24})}),L.jsx("p",{className:"text_sm",children:"AI Study Companion"})]}),E.map((Z,Be)=>L.jsx("div",{className:`txt ${Z.role==="user"?"ai_user_txt":"ai_txt"}`,children:L.jsx("div",{className:` ${Z.role==="user"?"on":"off"}`,children:Z.text})},Be)),$&&L.jsx("div",{className:"flex flex-col items-start",children:L.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl rounded-bl-none px-4 py-3 border border-slate-100 dark:border-slate-700",children:L.jsxs("div",{className:"flex space-x-1",children:[L.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),L.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-75"}),L.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-150"})]})})})]}),L.jsx("div",{className:"ai_user",children:L.jsxs("form",{onSubmit:Jt,className:"user_form",children:[L.jsx("input",{type:"text",value:ge,onChange:Z=>G(Z.target.value),placeholder:"Ask AI...",className:""}),L.jsx("button",{type:"submit",disabled:!ge.trim()||$,className:"enter",children:L.jsx(cM,{size:16})})]})})]}),I==="notes"&&L.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[L.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",placeholder:"Filter highlights...",value:Ee,onChange:Z=>Fe(Z.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),L.jsx(KK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})}),L.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[Pt.length===0&&L.jsxs("div",{className:"text-center py-10 opacity-50",children:[L.jsx(B_,{size:24,className:"mx-auto mb-2"}),L.jsx("p",{className:"text-sm",children:"No highlights"})]}),Pt.map(Z=>L.jsxs("div",{onClick:()=>{b(C.findIndex(Be=>Be.id===Z.chapterId)),v(Z.id)},className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 cursor-pointer hover:border-blue-300 transition-all",children:[L.jsxs("div",{className:"flex justify-between mb-2 text-xs text-slate-400",children:[L.jsx("span",{children:Z.chapterId==="reference-doc"?"Reference PDF":`Chapter ${C.findIndex(Be=>Be.id===Z.chapterId)+1}`}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("button",{onClick:Be=>{Be.stopPropagation(),Ye(Z)},title:"Edit Note",children:L.jsx(ghe,{size:12})}),L.jsx("button",{onClick:Be=>{Be.stopPropagation(),i(Z.id)},title:"Delete",children:L.jsx(fN,{size:12})})]})]}),L.jsxs("p",{className:"text-sm italic border-l-2 border-amber-400 pl-2 text-slate-600 dark:text-slate-300",children:['"',L.jsx(P0,{text:Z.text,query:Ee}),'"']}),z===Z.id?L.jsxs("div",{onClick:Be=>Be.stopPropagation(),className:"mt-2 animate-fade-in",children:[L.jsx("textarea",{className:"w-full p-2 text-xs border rounded bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:border-blue-500",value:le,onChange:Be=>ve(Be.target.value),autoFocus:!0,rows:3}),L.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[L.jsx("button",{onClick:()=>J(null),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cancel"}),L.jsx("button",{onClick:()=>ye(Z.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):Z.note?L.jsx("div",{className:"mt-2 text-xs bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded text-slate-700 dark:text-slate-300 border border-yellow-100 dark:border-yellow-800",children:L.jsx(P0,{text:Z.note,query:Ee})}):L.jsxs("button",{onClick:Be=>{Be.stopPropagation(),Ye(Z)},className:"mt-2 text-xs text-blue-500 flex items-center gap-1 hover:underline opacity-50 hover:opacity-100",children:[L.jsx(dN,{size:10})," Add Note"]})]},Z.id))]})]}),I==="notebook"&&L.jsx("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:se?L.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white dark:bg-slate-900 animate-fade-in",children:[L.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-900",children:[L.jsx("button",{onClick:()=>be(null),className:"text-xs font-medium text-slate-500",children:"Cancel"}),L.jsxs("button",{onClick:Nt,className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[L.jsx(GW,{size:14})," Save"]})]}),L.jsx("div",{className:"px-4 pt-4 pb-2",children:L.jsx("input",{type:"text",className:"w-full text-lg font-bold bg-transparent outline-none",value:se.title||"",onChange:Z=>{const Be=ae();be(Re=>Re?{...Re,title:Z.target.value,content:Be}:null)}})}),L.jsxs("div",{className:"px-2 py-1.5 flex flex-wrap gap-1 border-y bg-slate-50 dark:bg-slate-900/50",children:[L.jsx("button",{onMouseDown:Z=>st(Z,"bold"),className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(Bfe,{size:14})}),L.jsx("button",{onMouseDown:Z=>st(Z,"italic"),className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx("span",{className:"italic",children:"I"})}),L.jsx("button",{onMouseDown:Z=>st(Z,"hiliteColor","yellow"),className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(B_,{size:14})}),L.jsx("button",{onMouseDown:_i,className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(Rhe,{size:14})}),L.jsx("button",{onMouseDown:kn,className:"p-1.5 rounded hover:bg-slate-200 text-blue-600",children:L.jsx(Rfe,{size:14})}),L.jsx("button",{onClick:_e,className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(Ehe,{size:14})})]}),L.jsx("div",{ref:Ce,className:"flex-1 p-4 overflow-y-auto outline-none text-sm note-editor",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:pa},se.id)]}):L.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[L.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex flex-col gap-3 bg-slate-50 dark:bg-slate-900",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsxs("h3",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider",children:["My Notes (",o.length,")"]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsxs("label",{className:"cursor-pointer p-1.5 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",title:"Import Note",children:[L.jsx(khe,{size:14}),L.jsx("input",{type:"file",className:"hidden",accept:".md,.json,.txt",onChange:Zt})]}),L.jsxs("button",{onClick:()=>be({title:"",content:"",chapterId:s.id,chapterTitle:s.title}),className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded-md text-xs font-medium hover:bg-green-700 shadow-sm transition-all",children:[L.jsx(dN,{size:14})," New"]})]})]}),L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",placeholder:"Search notes...",value:Ee,onChange:Z=>Fe(Z.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),L.jsx(KK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})]}),L.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3",children:[Je.length===0&&L.jsxs("div",{className:"text-center py-10 opacity-50",children:[L.jsx(uN,{size:32,className:"mx-auto text-slate-300 mb-2"}),L.jsx("p",{className:"text-sm text-slate-400",children:"No notes found"})]}),Je.map(Z=>L.jsxs("div",{onClick:()=>be(Z),className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border cursor-pointer hover:border-green-300 transition-all",children:[L.jsxs("div",{className:"flex justify-between mb-1",children:[L.jsx("h4",{className:"font-semibold text-sm",children:L.jsx(P0,{text:Z.title,query:Ee})}),L.jsx("button",{onClick:Be=>{Be.stopPropagation(),d(Z.id)},children:L.jsx(fN,{size:12,"text-slate-300":!0})})]}),L.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:L.jsx(P0,{text:Z.content.replace(/<[^>]+>/g," "),query:Ee})})]},Z.id))]})]})}),I==="reference"&&L.jsx("div",{className:"absolute inset-0 flex flex-col bg-white dark:bg-slate-900",children:Q?L.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-950",children:L.jsx(xbe,{customChapter:Q,variant:"side"})}):L.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center opacity-60",children:[L.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:L.jsx(VK,{size:32,className:"text-slate-400"})}),L.jsx("h3",{className:"font-medium text-slate-800 dark:text-white mb-2",children:"No Reference Document"}),L.jsxs("p",{className:"text-sm text-slate-500 mb-6 max-w-[240px]",children:["Upload a ",L.jsx("strong",{children:"text-based PDF"})," (e.g., papers, e-books). ",L.jsx("br",{}),"Scanned image PDFs may not display correctly."]}),L.jsxs("label",{className:"cursor-pointer flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[L.jsx(cN,{size:16}),L.jsx("span",{children:"Upload PDF"}),L.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:Zt})]})]})}),I==="search"&&L.jsxs("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:[L.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800",children:L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",placeholder:"Search entire book & notes...",value:k,onChange:Z=>{K(Z.target.value),ne(null)},className:"w-full pl-9 pr-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white",autoFocus:!0}),L.jsx(dM,{size:16,className:"absolute left-3 top-2.5 text-slate-400"})]})}),L.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:k.length>1?I==="search"&&V(k).length>0?V(k).map(Z=>L.jsxs("div",{onClick:()=>{if(Z.type==="note"){const Be=o.find(Re=>`note-${Re.id}`===Z.id);Be&&(be(Be),T("notebook"))}else if(Z.type==="pdf")Z.pageNumber&&(q(Z.pageNumber),ne({page:Z.pageNumber,term:k}));else{const Be=C.findIndex(Re=>Re.id===Z.chapterId);Be!==-1&&(b(Be),Z.type==="highlight"&&v(Z.id.replace("hl-","")))}},className:"bg-white dark:bg-slate-900 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-800 cursor-pointer hover:border-blue-300 transition-all",children:[L.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[L.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-bold ${Z.type==="chapter"?"bg-blue-100 text-blue-600":Z.type==="highlight"?"bg-yellow-100 text-yellow-600":Z.type==="pdf"?"bg-indigo-100 text-indigo-600":"bg-green-100 text-green-600"}`,children:Z.type}),L.jsx("span",{className:"text-xs text-slate-500 font-medium truncate flex-1",children:Z.title})]}),L.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 line-clamp-2",children:L.jsx(P0,{text:Z.contentSnippet,query:k})})]},Z.id)):L.jsx("div",{className:"text-center py-10 opacity-50",children:L.jsxs("p",{className:"text-sm text-slate-500",children:['No results found for "',k,'"']})}):L.jsxs("div",{className:"text-center py-10 opacity-50",children:[L.jsx(dM,{size:24,className:"mx-auto mb-2 text-slate-300"}),L.jsx("p",{className:"text-sm text-slate-400",children:"Type at least 2 characters to search"})]})})]})]})]})})},Ibe=()=>{const[n,e]=U.useState(!0),{isToolsOpen:t,setToolsOpen:i,registerPdfNavigator:r,setCurrentPdfPage:s}=jd(),[a,o]=U.useState(0),[l,u]=U.useState(1),d=U.useRef(),h=U.useCallback(k=>{u(k),s(k)},[s]),g=U.useCallback(k=>{o(k)},[]),v=U.useCallback(k=>{d.current=k,r(k)},[r]),[b,C]=U.useState(300),[E,x]=U.useState(350),[I,T]=U.useState(!1),[R,P]=U.useState(!1),D=U.useRef(null);U.useEffect(()=>{const k=()=>{window.innerWidth<1024?(e(!1),i(!1)):(e(!0),i(!0))};return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[i]),U.useEffect(()=>{const k=V=>{if(!D.current)return;(I||R)&&V.preventDefault();const q=D.current.getBoundingClientRect();if(I){const X=V.clientX-q.left;X>200&&X<500&&C(X)}if(R){const X=q.right-V.clientX;X>280&&X<600&&x(X)}},K=()=>{T(!1),P(!1),document.body.style.cursor="default",document.body.style.userSelect="auto"};return(I||R)&&(document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",k),window.addEventListener("mouseup",K)),()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",K),document.body.style.cursor="default",document.body.style.userSelect="auto"}},[I,R]);const Q=()=>e(!n);return L.jsxs("div",{children:[L.jsx(zW,{toggleSidebar:Q,isSidebarOpen:n}),L.jsxs("div",{ref:D,className:"split_container",children:[L.jsxs("div",{className:`left_side_wrap ${n?"on":"off"}`,style:{width:n?window.innerWidth<768?"0px":`${b}px`:"0px"},children:[L.jsx("div",{className:"left_side_inner",children:L.jsx(_be,{isOpen:n,onClose:()=>e(!1)})}),n&&window.innerWidth>=768&&L.jsx("div",{className:"",onMouseDown:()=>T(!0),children:L.jsx("div",{className:""})})]}),L.jsxs("main",{className:"content_container",children:[L.jsx("div",{className:"cc_top",children:L.jsx(Zge,{file:"/campusbook-viewer-ai/pdf/test3.pdf",onPageChange:h,onPagesCount:g,registerGoToPage:v})}),L.jsx("div",{className:"cc_bottom",children:L.jsx(eme,{pdfPageCount:a,pdfCurrentPage:l,onPdfGoToPage:k=>{var K;return(K=d.current)==null?void 0:K.call(d,k)}})})]}),L.jsxs("div",{className:`right_panel_wrap ${t?"on":"off"}`,style:{width:t?window.innerWidth<768?"0px":`${E}px`:"0px"},children:[t&&window.innerWidth>=768&&L.jsx("div",{className:"separate",onMouseDown:()=>P(!0),children:L.jsx("div",{className:""})}),L.jsx("div",{className:"h-full w-full overflow-hidden",children:L.jsx(Tbe,{isOpen:t,onClose:()=>i(!1)})})]})]})]})};function XX(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=XX(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Un(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=XX(n))&&(i&&(i+=" "),i+=e);return i}var Fbe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ik(n){if(typeof n!="string")return!1;var e=Fbe;return e.includes(n)}var Ube=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Mbe=new Set(Ube);function JX(n){return typeof n!="string"?!1:Mbe.has(n)}function ZX(n){return typeof n=="string"&&n.startsWith("data-")}function Vd(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(JX(t)||ZX(t))&&(e[t]=n[t]);return e}function rk(n){if(n==null)return null;if(U.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return Vd(e)}return typeof n=="object"&&!Array.isArray(n)?Vd(n):null}function io(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(JX(t)||ZX(t)||ik(t))&&(e[t]=n[t]);return e}var Pbe=["children","width","height","viewBox","className","style","title","desc"];function CL(){return CL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},CL.apply(null,arguments)}function Rbe(n,e){if(n==null)return{};var t,i,r=Dbe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Dbe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var e9=U.forwardRef((n,e)=>{var{children:t,width:i,height:r,viewBox:s,className:a,style:o,title:l,desc:u}=n,d=Rbe(n,Pbe),h=s||{width:i,height:r,x:0,y:0},g=Un("recharts-surface",a);return U.createElement("svg",CL({},io(d),{className:g,width:i,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),U.createElement("title",null,l),U.createElement("desc",null,u),t)}),Nbe=["children","className"];function BL(){return BL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},BL.apply(null,arguments)}function Lbe(n,e){if(n==null)return{};var t,i,r=Qbe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Qbe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var yu=U.forwardRef((n,e)=>{var{children:t,className:i}=n,r=Lbe(n,Nbe),s=Un("recharts-layer",i);return U.createElement("g",BL({className:s},io(r),{ref:e}),t)}),kbe=U.createContext(null);function Bn(n){return function(){return n}}const t9=Math.cos,yT=Math.sin,Oo=Math.sqrt,wT=Math.PI,eI=2*wT,EL=Math.PI,SL=2*EL,xf=1e-6,Obe=SL-xf;function n9(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function Hbe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return n9;const t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class Vbe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?n9:Hbe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,a){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=i-e,u=r-t,d=a-e,h=o-t,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>xf)if(!(Math.abs(h*l-u*d)>xf)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let v=i-a,b=r-o,C=l*l+u*u,E=v*v+b*b,x=Math.sqrt(C),I=Math.sqrt(g),T=s*Math.tan((EL-Math.acos((C+g-E)/(2*x*I)))/2),R=T/I,P=T/x;Math.abs(R-1)>xf&&this._append`L${e+R*d},${t+R*h}`,this._append`A${s},${s},0,0,${+(h*v>d*b)},${this._x1=e+P*l},${this._y1=t+P*u}`}}arc(e,t,i,r,s,a){if(e=+e,t=+t,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),l=i*Math.sin(r),u=e+o,d=t+l,h=1^a,g=a?r-s:s-r;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>xf||Math.abs(this._y1-d)>xf)&&this._append`L${u},${d}`,i&&(g<0&&(g=g%SL+SL),g>Obe?this._append`A${i},${i},0,1,${h},${e-o},${t-l}A${i},${i},0,1,${h},${this._x1=u},${this._y1=d}`:g>xf&&this._append`A${i},${i},0,${+(g>=EL)},${h},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function sk(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new Vbe(e)}function ak(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function i9(n){this._context=n}i9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function tI(n){return new i9(n)}function r9(n){return n[0]}function s9(n){return n[1]}function a9(n,e){var t=Bn(!0),i=null,r=tI,s=null,a=sk(o);n=typeof n=="function"?n:n===void 0?r9:Bn(n),e=typeof e=="function"?e:e===void 0?s9:Bn(e);function o(l){var u,d=(l=ak(l)).length,h,g=!1,v;for(i==null&&(s=r(v=a())),u=0;u<=d;++u)!(u<d&&t(h=l[u],u,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(h,u,l),+e(h,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:Bn(+l),o):n},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Bn(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:Bn(!!l),o):t},o.curve=function(l){return arguments.length?(r=l,i!=null&&(s=r(i)),o):r},o.context=function(l){return arguments.length?(l==null?i=s=null:s=r(i=l),o):i},o}function yx(n,e,t){var i=null,r=Bn(!0),s=null,a=tI,o=null,l=sk(u);n=typeof n=="function"?n:n===void 0?r9:Bn(+n),e=typeof e=="function"?e:Bn(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?s9:Bn(+t);function u(h){var g,v,b,C=(h=ak(h)).length,E,x=!1,I,T=new Array(C),R=new Array(C);for(s==null&&(o=a(I=l())),g=0;g<=C;++g){if(!(g<C&&r(E=h[g],g,h))===x)if(x=!x)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=v;--b)o.point(T[b],R[b]);o.lineEnd(),o.areaEnd()}x&&(T[g]=+n(E,g,h),R[g]=+e(E,g,h),o.point(i?+i(E,g,h):T[g],t?+t(E,g,h):R[g]))}if(I)return o=null,I+""||null}function d(){return a9().defined(r).curve(a).context(s)}return u.x=function(h){return arguments.length?(n=typeof h=="function"?h:Bn(+h),i=null,u):n},u.x0=function(h){return arguments.length?(n=typeof h=="function"?h:Bn(+h),u):n},u.x1=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:Bn(+h),u):i},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Bn(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Bn(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:Bn(+h),u):t},u.lineX0=u.lineY0=function(){return d().x(n).y(e)},u.lineY1=function(){return d().x(n).y(t)},u.lineX1=function(){return d().x(i).y(e)},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:Bn(!!h),u):r},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class o9{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function Kbe(n){return new o9(n,!0)}function Gbe(n){return new o9(n,!1)}const ok={draw(n,e){const t=Oo(e/wT);n.moveTo(t,0),n.arc(0,0,t,0,eI)}},zbe={draw(n,e){const t=Oo(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},A9=Oo(1/3),qbe=A9*2,$be={draw(n,e){const t=Oo(e/qbe),i=t*A9;n.moveTo(0,-t),n.lineTo(i,0),n.lineTo(0,t),n.lineTo(-i,0),n.closePath()}},jbe={draw(n,e){const t=Oo(e),i=-t/2;n.rect(i,i,t,t)}},Wbe=.8908130915292852,l9=yT(wT/10)/yT(7*wT/10),Ybe=yT(eI/10)*l9,Xbe=-t9(eI/10)*l9,Jbe={draw(n,e){const t=Oo(e*Wbe),i=Ybe*t,r=Xbe*t;n.moveTo(0,-t),n.lineTo(i,r);for(let s=1;s<5;++s){const a=eI*s/5,o=t9(a),l=yT(a);n.lineTo(l*t,-o*t),n.lineTo(o*i-l*r,l*i+o*r)}n.closePath()}},HM=Oo(3),Zbe={draw(n,e){const t=-Oo(e/(HM*3));n.moveTo(0,t*2),n.lineTo(-HM*t,-t),n.lineTo(HM*t,-t),n.closePath()}},Ta=-.5,Ia=Oo(3)/2,xL=1/Oo(12),eCe=(xL/2+1)*3,tCe={draw(n,e){const t=Oo(e/eCe),i=t/2,r=t*xL,s=i,a=t*xL+t,o=-s,l=a;n.moveTo(i,r),n.lineTo(s,a),n.lineTo(o,l),n.lineTo(Ta*i-Ia*r,Ia*i+Ta*r),n.lineTo(Ta*s-Ia*a,Ia*s+Ta*a),n.lineTo(Ta*o-Ia*l,Ia*o+Ta*l),n.lineTo(Ta*i+Ia*r,Ta*r-Ia*i),n.lineTo(Ta*s+Ia*a,Ta*a-Ia*s),n.lineTo(Ta*o+Ia*l,Ta*l-Ia*o),n.closePath()}};function nCe(n,e){let t=null,i=sk(r);n=typeof n=="function"?n:Bn(n||ok),e=typeof e=="function"?e:Bn(e===void 0?64:+e);function r(){let s;if(t||(t=s=i()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return r.type=function(s){return arguments.length?(n=typeof s=="function"?s:Bn(s),r):n},r.size=function(s){return arguments.length?(e=typeof s=="function"?s:Bn(+s),r):e},r.context=function(s){return arguments.length?(t=s??null,r):t},r}function bT(){}function CT(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function u9(n){this._context=n}u9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:CT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:CT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function iCe(n){return new u9(n)}function c9(n){this._context=n}c9.prototype={areaStart:bT,areaEnd:bT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:CT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function rCe(n){return new c9(n)}function d9(n){this._context=n}d9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 3:this._point=4;default:CT(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function sCe(n){return new d9(n)}function f9(n){this._context=n}f9.prototype={areaStart:bT,areaEnd:bT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function aCe(n){return new f9(n)}function Ez(n){return n<0?-1:1}function Sz(n,e,t){var i=n._x1-n._x0,r=e-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),a=(t-n._y1)/(r||i<0&&-0),o=(s*r+a*i)/(i+r);return(Ez(s)+Ez(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function xz(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function VM(n,e,t){var i=n._x0,r=n._y0,s=n._x1,a=n._y1,o=(s-i)/3;n._context.bezierCurveTo(i+o,r+o*e,s-o,a-o*t,s,a)}function BT(n){this._context=n}BT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:VM(this,this._t0,xz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,VM(this,xz(this,t=Sz(this,n,e)),t);break;default:VM(this,this._t0,t=Sz(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function h9(n){this._context=new p9(n)}(h9.prototype=Object.create(BT.prototype)).point=function(n,e){BT.prototype.point.call(this,e,n)};function p9(n){this._context=n}p9.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,i,r,s){this._context.bezierCurveTo(e,n,i,t,s,r)}};function oCe(n){return new BT(n)}function ACe(n){return new h9(n)}function g9(n){this._context=n}g9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var i=_z(n),r=_z(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function _z(n){var e,t=n.length-1,i,r=new Array(t),s=new Array(t),a=new Array(t);for(r[0]=0,s[0]=2,a[0]=n[0]+2*n[1],e=1;e<t-1;++e)r[e]=1,s[e]=4,a[e]=4*n[e]+2*n[e+1];for(r[t-1]=2,s[t-1]=7,a[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)i=r[e]/s[e-1],s[e]-=i,a[e]-=i*a[e-1];for(r[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)r[e]=(a[e]-r[e+1])/s[e];for(s[t-1]=(n[t]+r[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-r[e+1];return[r,s]}function lCe(n){return new g9(n)}function nI(n,e){this._context=n,this._t=e}nI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function uCe(n){return new nI(n,.5)}function cCe(n){return new nI(n,0)}function dCe(n){return new nI(n,1)}function ey(n,e){if((a=n.length)>1)for(var t=1,i,r,s=n[e[0]],a,o=s.length;t<a;++t)for(r=s,s=n[e[t]],i=0;i<o;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function _L(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function fCe(n,e){return n[e]}function hCe(n){const e=[];return e.key=n,e}function pCe(){var n=Bn([]),e=_L,t=ey,i=fCe;function r(s){var a=Array.from(n.apply(this,arguments),hCe),o,l=a.length,u=-1,d;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+i(h,a[o].key,u,s)]).data=h;for(o=0,d=ak(e(a));o<l;++o)a[d[o]].index=o;return t(a,d),a}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:Bn(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:Bn(+s),r):i},r.order=function(s){return arguments.length?(e=s==null?_L:typeof s=="function"?s:Bn(Array.from(s)),r):e},r.offset=function(s){return arguments.length?(t=s??ey,r):t},r}function gCe(n,e){if((i=n.length)>0){for(var t,i,r=0,s=n[0].length,a;r<s;++r){for(a=t=0;t<i;++t)a+=n[t][r][1]||0;if(a)for(t=0;t<i;++t)n[t][r][1]/=a}ey(n,e)}}function mCe(n,e){if((r=n.length)>0){for(var t=0,i=n[e[0]],r,s=i.length;t<s;++t){for(var a=0,o=0;a<r;++a)o+=n[a][t][1]||0;i[t][1]+=i[t][0]=-o/2}ey(n,e)}}function vCe(n,e){if(!(!((a=n.length)>0)||!((s=(r=n[e[0]]).length)>0))){for(var t=0,i=1,r,s,a;i<s;++i){for(var o=0,l=0,u=0;o<a;++o){for(var d=n[e[o]],h=d[i][1]||0,g=d[i-1][1]||0,v=(h-g)/2,b=0;b<o;++b){var C=n[e[b]],E=C[i][1]||0,x=C[i-1][1]||0;v+=E-x}l+=h,u+=v*h}r[i-1][1]+=r[i-1][0]=t,l&&(t-=u/l)}r[i-1][1]+=r[i-1][0]=t,ey(n,e)}}var KM={},GM={},Tz;function yCe(){return Tz||(Tz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(GM)),GM}var zM={},Iz;function m9(){return Iz||(Iz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(zM)),zM}var qM={},Fz;function Ak(){return Fz||(Fz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var i;return typeof t=="string"||typeof t=="symbol"?t:Object.is((i=t==null?void 0:t.valueOf)==null?void 0:i.call(t),-0)?"-0":String(t)}n.toKey=e})(qM)),qM}var $M={},jM={},Uz;function wCe(){return Uz||(Uz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const i=String(t);return i==="0"&&Object.is(Number(t),-0)?"-0":i}n.toString=e})(jM)),jM}var Mz;function lk(){return Mz||(Mz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=wCe(),t=Ak();function i(r){if(Array.isArray(r))return r.map(t.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const s=[],a=r.length;if(a===0)return s;let o=0,l="",u="",d=!1;for(r.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const h=r[o];u?h==="\\"&&o+1<a?(o++,l+=r[o]):h===u?u="":l+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,s.push(l),l=""):l+=h:h==="["?(d=!0,l&&(s.push(l),l="")):h==="."?l&&(s.push(l),l=""):l+=h,o++}return l&&s.push(l),s}n.toPath=i})($M)),$M}var Pz;function uk(){return Pz||(Pz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=yCe(),t=m9(),i=Ak(),r=lk();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?t.isDeepKey(l)?s(o,r.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=i.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return u;d=d[l[h]]}return d===void 0?u:d}n.get=s})(KM)),KM}var WM,Rz;function bCe(){return Rz||(Rz=1,WM=uk().get),WM}var CCe=bCe();const ty=RA(CCe);var Aa=n=>n===0?0:n>0?1:-1,IA=n=>typeof n=="number"&&n!=+n,wu=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,it=n=>(typeof n=="number"||n instanceof Number)&&!IA(n),FA=n=>it(n)||typeof n=="string",BCe=0,$w=n=>{var e=++BCe;return"".concat(n||"").concat(e)},Ro=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!it(e)&&typeof e!="string")return i;var s;if(wu(e)){if(t==null)return i;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return IA(s)&&(s=i),r&&t!=null&&s>t&&(s=t),s},v9=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},i=0;i<e;i++)if(!t[n[i]])t[n[i]]=!0;else return!0;return!1};function yr(n,e,t){return it(n)&&it(e)?n+t*(e-n):e}function ECe(n,e,t){if(!(!n||!n.length))return n.find(i=>i&&(typeof e=="function"?e(i):ty(i,e))===t)}var tr=n=>n===null||typeof n>"u",$B=n=>tr(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function SCe(n){return n!=null}function jB(){}var xCe=["type","size","sizeType"];function TL(){return TL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},TL.apply(null,arguments)}function Dz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Nz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dz(Object(t),!0).forEach(function(i){_Ce(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Dz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function _Ce(n,e,t){return(e=TCe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TCe(n){var e=ICe(n,"string");return typeof e=="symbol"?e:e+""}function ICe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FCe(n,e){if(n==null)return{};var t,i,r=UCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function UCe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var y9={symbolCircle:ok,symbolCross:zbe,symbolDiamond:$be,symbolSquare:jbe,symbolStar:Jbe,symbolTriangle:Zbe,symbolWye:tCe},MCe=Math.PI/180,PCe=n=>{var e="symbol".concat($B(n));return y9[e]||ok},RCe=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*MCe;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},DCe=(n,e)=>{y9["symbol".concat($B(n))]=e},w9=n=>{var{type:e="circle",size:t=64,sizeType:i="area"}=n,r=FCe(n,xCe),s=Nz(Nz({},r),{},{type:e,size:t,sizeType:i}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=PCe(a),v=nCe().type(g).size(RCe(t,i,a)),b=v();if(b!==null)return b},{className:l,cx:u,cy:d}=s,h=io(s);return it(u)&&it(d)&&it(t)?U.createElement("path",TL({},h,{className:Un("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};w9.registerSymbol=DCe;var b9=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,NCe=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(U.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var i={};return Object.keys(t).forEach(r=>{ik(r)&&(i[r]=(s=>t[r](t,s)))}),i},LCe=(n,e,t)=>i=>(n(e,t,i),null),ck=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(r=>{var s=n[r];ik(r)&&typeof s=="function"&&(i||(i={}),i[r]=LCe(s,e,t))}),i};function Lz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function QCe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lz(Object(t),!0).forEach(function(i){kCe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lz(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function kCe(n,e,t){return(e=OCe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function OCe(n){var e=HCe(n,"string");return typeof e=="symbol"?e:e+""}function HCe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ao(n,e){var t=QCe({},n),i=e,r=Object.keys(e),s=r.reduce((a,o)=>(a[o]===void 0&&i[o]!==void 0&&(a[o]=i[o]),a),t);return s}var YM={},XM={},Qz;function VCe(){return Qz||(Qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){const r=new Map;for(let s=0;s<t.length;s++){const a=t[s],o=i(a);r.has(o)||r.set(o,a)}return Array.from(r.values())}n.uniqBy=e})(XM)),XM}var JM={},kz;function C9(){return kz||(kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(JM)),JM}var ZM={},eP={},tP={},Oz;function KCe(){return Oz||(Oz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(tP)),tP}var Hz;function dk(){return Hz||(Hz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=KCe();function t(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}n.isArrayLike=t})(eP)),eP}var nP={},Vz;function GCe(){return Vz||(Vz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(nP)),nP}var Kz;function zCe(){return Kz||(Kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=dk(),t=GCe();function i(r){return t.isObjectLike(r)&&e.isArrayLike(r)}n.isArrayLikeObject=i})(ZM)),ZM}var iP={},rP={},Gz;function qCe(){return Gz||(Gz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=uk();function t(i){return function(r){return e.get(r,i)}}n.property=t})(rP)),rP}var sP={},aP={},oP={},AP={},zz;function B9(){return zz||(zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(AP)),AP}var lP={},qz;function E9(){return qz||(qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(lP)),lP}var uP={},$z;function S9(){return $z||($z=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){return t===i||Number.isNaN(t)&&Number.isNaN(i)}n.eq=e})(uP)),uP}var jz;function $Ce(){return jz||(jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=B9(),t=E9(),i=S9();function r(d,h,g){return typeof g!="function"?r(d,h,()=>{}):s(d,h,function v(b,C,E,x,I,T){const R=g(b,C,E,x,I,T);return R!==void 0?!!R:s(b,C,v,T)},new Map)}function s(d,h,g,v){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,g,v);case"function":return Object.keys(h).length>0?s(d,{...h},g,v):i.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function a(d,h,g,v){if(h==null)return!0;if(Array.isArray(h))return l(d,h,g,v);if(h instanceof Map)return o(d,h,g,v);if(h instanceof Set)return u(d,h,g,v);const b=Object.keys(h);if(d==null)return b.length===0;if(b.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===d;v==null||v.set(h,d);try{for(let C=0;C<b.length;C++){const E=b[C];if(!t.isPrimitive(d)&&!(E in d)||h[E]===void 0&&d[E]!==void 0||h[E]===null&&d[E]!==null||!g(d[E],h[E],E,d,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function o(d,h,g,v){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[b,C]of h.entries()){const E=d.get(b);if(g(E,C,b,d,h,v)===!1)return!1}return!0}function l(d,h,g,v){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const b=new Set;for(let C=0;C<h.length;C++){const E=h[C];let x=!1;for(let I=0;I<d.length;I++){if(b.has(I))continue;const T=d[I];let R=!1;if(g(T,E,C,d,h,v)&&(R=!0),R){b.add(I),x=!0;break}}if(!x)return!1}return!0}function u(d,h,g,v){return h.size===0?!0:d instanceof Set?l([...d],[...h],g,v):!1}n.isMatchWith=r,n.isSetMatch=u})(oP)),oP}var Wz;function x9(){return Wz||(Wz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=$Ce();function t(i,r){return e.isMatchWith(i,r,()=>{})}n.isMatch=t})(aP)),aP}var cP={},dP={},fP={},Yz;function jCe(){return Yz||(Yz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(i=>Object.prototype.propertyIsEnumerable.call(t,i))}n.getSymbols=e})(fP)),fP}var hP={},Xz;function _9(){return Xz||(Xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(hP)),hP}var pP={},Jz;function T9(){return Jz||(Jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",i="[object Number]",r="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",b="[object Error]",C="[object DataView]",E="[object Uint8Array]",x="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]",R="[object BigUint64Array]",P="[object Int8Array]",D="[object Int16Array]",Q="[object Int32Array]",H="[object BigInt64Array]",k="[object Float32Array]",K="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=d,n.bigInt64ArrayTag=H,n.bigUint64ArrayTag=R,n.booleanTag=r,n.dataViewTag=C,n.dateTag=o,n.errorTag=b,n.float32ArrayTag=k,n.float64ArrayTag=K,n.functionTag=h,n.int16ArrayTag=D,n.int32ArrayTag=Q,n.int8ArrayTag=P,n.mapTag=l,n.numberTag=i,n.objectTag=v,n.regexpTag=e,n.setTag=u,n.stringTag=t,n.symbolTag=a,n.uint16ArrayTag=I,n.uint32ArrayTag=T,n.uint8ArrayTag=E,n.uint8ClampedArrayTag=x})(pP)),pP}var gP={},Zz;function WCe(){return Zz||(Zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(gP)),gP}var e5;function I9(){return e5||(e5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=jCe(),t=_9(),i=T9(),r=E9(),s=WCe();function a(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,g,v=new Map,b=void 0){const C=b==null?void 0:b(d,h,g,v);if(C!==void 0)return C;if(r.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const E=new Array(d.length);v.set(d,E);for(let x=0;x<d.length;x++)E[x]=o(d[x],x,g,v,b);return Object.hasOwn(d,"index")&&(E.index=d.index),Object.hasOwn(d,"input")&&(E.input=d.input),E}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const E=new RegExp(d.source,d.flags);return E.lastIndex=d.lastIndex,E}if(d instanceof Map){const E=new Map;v.set(d,E);for(const[x,I]of d)E.set(x,o(I,x,g,v,b));return E}if(d instanceof Set){const E=new Set;v.set(d,E);for(const x of d)E.add(o(x,void 0,g,v,b));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const E=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,E);for(let x=0;x<d.length;x++)E[x]=o(d[x],x,g,v,b);return E}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const E=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,E),l(E,d,g,v,b),E}if(typeof File<"u"&&d instanceof File){const E=new File([d],d.name,{type:d.type});return v.set(d,E),l(E,d,g,v,b),E}if(typeof Blob<"u"&&d instanceof Blob){const E=new Blob([d],{type:d.type});return v.set(d,E),l(E,d,g,v,b),E}if(d instanceof Error){const E=new d.constructor;return v.set(d,E),E.message=d.message,E.name=d.name,E.stack=d.stack,E.cause=d.cause,l(E,d,g,v,b),E}if(d instanceof Boolean){const E=new Boolean(d.valueOf());return v.set(d,E),l(E,d,g,v,b),E}if(d instanceof Number){const E=new Number(d.valueOf());return v.set(d,E),l(E,d,g,v,b),E}if(d instanceof String){const E=new String(d.valueOf());return v.set(d,E),l(E,d,g,v,b),E}if(typeof d=="object"&&u(d)){const E=Object.create(Object.getPrototypeOf(d));return v.set(d,E),l(E,d,g,v,b),E}return d}function l(d,h,g=d,v,b){const C=[...Object.keys(h),...e.getSymbols(h)];for(let E=0;E<C.length;E++){const x=C[E],I=Object.getOwnPropertyDescriptor(d,x);(I==null||I.writable)&&(d[x]=o(h[x],x,g,v,b))}}function u(d){switch(t.getTag(d)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=a,n.cloneDeepWithImpl=o,n.copyProperties=l})(dP)),dP}var t5;function YCe(){return t5||(t5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=I9();function t(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=t})(cP)),cP}var n5;function XCe(){return n5||(n5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=x9(),t=YCe();function i(r){return r=t.cloneDeep(r),s=>e.isMatch(s,r)}n.matches=i})(sP)),sP}var mP={},vP={},yP={},i5;function JCe(){return i5||(i5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=I9(),t=T9();function i(r,s){return e.cloneDeepWith(r,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new r.constructor(r==null?void 0:r.valueOf());return e.copyProperties(h,r),h}case t.argumentsTag:{const h={};return e.copyProperties(h,r),h.length=r.length,h[Symbol.iterator]=r[Symbol.iterator],h}default:return}})}n.cloneDeepWith=i})(yP)),yP}var r5;function ZCe(){return r5||(r5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=JCe();function t(i){return e.cloneDeepWith(i)}n.cloneDeep=t})(vP)),vP}var wP={},bP={},s5;function F9(){return s5||(s5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}n.isIndex=t})(bP)),bP}var CP={},a5;function eBe(){return a5||(a5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=_9();function t(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}n.isArguments=t})(CP)),CP}var o5;function tBe(){return o5||(o5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=m9(),t=F9(),i=eBe(),r=lk();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=r.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const h=l[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||i.isArguments(u))&&t.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}n.has=s})(wP)),wP}var A5;function nBe(){return A5||(A5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=x9(),t=Ak(),i=ZCe(),r=uk(),s=tBe();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return l=i.cloneDeep(l),function(u){const d=r.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}n.matchesProperty=a})(mP)),mP}var l5;function iBe(){return l5||(l5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=C9(),t=qCe(),i=XCe(),r=nBe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?r.matchesProperty(a[0],a[1]):i.matches(a);case"string":case"symbol":case"number":return t.property(a)}}n.iteratee=s})(iP)),iP}var u5;function rBe(){return u5||(u5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=VCe(),t=C9(),i=zCe(),r=iBe();function s(a,o=t.identity){return i.isArrayLikeObject(a)?e.uniqBy(Array.from(a),r.iteratee(o)):[]}n.uniqBy=s})(YM)),YM}var BP,c5;function sBe(){return c5||(c5=1,BP=rBe().uniqBy),BP}var aBe=sBe();const d5=RA(aBe);function oBe(n,e,t){return e===!0?d5(n,t):typeof e=="function"?d5(n,e):n}var EP={exports:{}},SP={},xP={exports:{}},_P={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f5;function ABe(){if(f5)return _P;f5=1;var n=fy();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(h,g){var v=g(),b=i({inst:{value:v,getSnapshot:g}}),C=b[0].inst,E=b[1];return s(function(){C.value=v,C.getSnapshot=g,l(C)&&E({inst:C})},[h,v,g]),r(function(){return l(C)&&E({inst:C}),h(function(){l(C)&&E({inst:C})})},[h]),a(v),v}function l(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!t(h,v)}catch{return!0}}function u(h,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return _P.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,_P}var h5;function lBe(){return h5||(h5=1,xP.exports=ABe()),xP.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5;function uBe(){if(p5)return SP;p5=1;var n=fy(),e=lBe();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return SP.useSyncExternalStoreWithSelector=function(u,d,h,g,v){var b=s(null);if(b.current===null){var C={hasValue:!1,value:null};b.current=C}else C=b.current;b=o(function(){function x(D){if(!I){if(I=!0,T=D,D=g(D),v!==void 0&&C.hasValue){var Q=C.value;if(v(Q,D))return R=Q}return R=D}if(Q=R,i(T,D))return Q;var H=g(D);return v!==void 0&&v(Q,H)?(T=D,Q):(T=D,R=H)}var I=!1,T,R,P=h===void 0?null:h;return[function(){return x(d())},P===null?void 0:function(){return x(P())}]},[d,h,g,v]);var E=r(u,b[0],b[1]);return a(function(){C.hasValue=!0,C.value=E},[E]),l(E),E},SP}var g5;function cBe(){return g5||(g5=1,EP.exports=uBe()),EP.exports}var dBe=cBe(),fk=U.createContext(null),fBe=n=>n,fi=()=>{var n=U.useContext(fk);return n?n.store.dispatch:fBe},O_=()=>{},hBe=()=>O_,pBe=(n,e)=>n===e;function tt(n){var e=U.useContext(fk);return dBe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:hBe,e?e.store.getState:O_,e?e.store.getState:O_,e?n:O_,pBe)}function gBe(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function mBe(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function vBe(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var m5=n=>Array.isArray(n)?n:[n];function yBe(n){const e=Array.isArray(n[0])?n[0]:n;return vBe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function wBe(n,e){const t=[],{length:i}=n;for(let r=0;r<i;r++)t.push(n[r].apply(null,e));return t}var bBe=class{constructor(n){this.value=n}deref(){return this.value}},CBe=typeof WeakRef<"u"?WeakRef:bBe,BBe=0,v5=1;function wx(){return{s:BBe,v:void 0,o:null,p:null}}function U9(n,e={}){let t=wx();const{resultEqualityCheck:i}=e;let r,s=0;function a(){var h;let o=t;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let C=o.o;C===null&&(o.o=C=new WeakMap);const E=C.get(b);E===void 0?(o=wx(),C.set(b,o)):o=E}else{let C=o.p;C===null&&(o.p=C=new Map);const E=C.get(b);E===void 0?(o=wx(),C.set(b,o)):o=E}}const u=o;let d;if(o.s===v5)d=o.v;else if(d=n.apply(null,arguments),s++,i){const g=((h=r==null?void 0:r.deref)==null?void 0:h.call(r))??r;g!=null&&i(g,d)&&(d=g,s!==0&&s--),r=typeof d=="object"&&d!==null||typeof d=="function"?new CBe(d):d}return u.s=v5,u.v=d,d}return a.clearCache=()=>{t=wx(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function EBe(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...r)=>{let s=0,a=0,o,l={},u=r.pop();typeof u=="object"&&(l=u,u=r.pop()),gBe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...t,...l},{memoize:h,memoizeOptions:g=[],argsMemoize:v=U9,argsMemoizeOptions:b=[]}=d,C=m5(g),E=m5(b),x=yBe(r),I=h(function(){return s++,u.apply(null,arguments)},...C),T=v(function(){a++;const P=wBe(x,arguments);return o=I.apply(null,P),o},...E);return Object.assign(T,{resultFunc:u,memoizedResultFunc:I,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(i,{withTypes:()=>i}),i}var Ae=EBe(U9),SBe=Object.assign((n,e=Ae)=>{mBe(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(s=>n[s]);return e(i,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>SBe}),TP={},IP={},FP={},y5;function xBe(){return y5||(y5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const t=(i,r,s)=>{if(i!==r){const a=e(i),o=e(r);if(a===o&&a===0){if(i<r)return s==="desc"?1:-1;if(i>r)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};n.compareValues=t})(FP)),FP}var UP={},MP={},w5;function M9(){return w5||(w5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(MP)),MP}var b5;function _Be(){return b5||(b5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=M9(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!t.test(s))||a!=null&&Object.hasOwn(a,s)}n.isKey=r})(UP)),UP}var C5;function TBe(){return C5||(C5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=xBe(),t=_Be(),i=lk();function r(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const u=(v,b)=>{let C=v;for(let E=0;E<b.length&&C!=null;++E)C=C[b[E]];return C},d=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:u(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?u(b,v):typeof b=="object"?b[v]:b,h=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||t.isKey(v)?v:{key:v,path:i.toPath(v)}));return s.map(v=>({original:v,criteria:h.map(b=>d(b,v))})).slice().sort((v,b)=>{for(let C=0;C<h.length;C++){const E=e.compareValues(v.criteria[C],b.criteria[C],o[C]);if(E!==0)return E}return 0}).map(v=>v.original)}n.orderBy=r})(IP)),IP}var PP={},B5;function IBe(){return B5||(B5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i=1){const r=[],s=Math.floor(i),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):r.push(d)}};return a(t,0),r}n.flatten=e})(PP)),PP}var RP={},E5;function P9(){return E5||(E5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=F9(),t=dk(),i=B9(),r=S9();function s(a,o,l){return i.isObject(l)&&(typeof o=="number"&&t.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?r.eq(l[o],a):!1}n.isIterateeCall=s})(RP)),RP}var S5;function FBe(){return S5||(S5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=TBe(),t=IBe(),i=P9();function r(s,...a){const o=a.length;return o>1&&i.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&i.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,t.flatten(a),["asc"])}n.sortBy=r})(TP)),TP}var DP,x5;function UBe(){return x5||(x5=1,DP=FBe().sortBy),DP}var MBe=UBe();const iI=RA(MBe);var R9=n=>n.legend.settings,PBe=n=>n.legend.size,RBe=n=>n.legend.payload;Ae([RBe,R9],(n,e)=>{var{itemSorter:t}=e,i=n.flat(1);return t?iI(i,t):i});var bx=1;function DBe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=U.useState({height:0,left:0,top:0,width:0}),i=U.useCallback(r=>{if(r!=null){var s=r.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>bx||Math.abs(a.left-e.left)>bx||Math.abs(a.top-e.top)>bx||Math.abs(a.width-e.width)>bx)&&t({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,i]}function pr(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var NBe=typeof Symbol=="function"&&Symbol.observable||"@@observable",_5=NBe,NP=()=>Math.random().toString(36).substring(7).split("").join("."),LBe={INIT:`@@redux/INIT${NP()}`,REPLACE:`@@redux/REPLACE${NP()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${NP()}`},ET=LBe;function hk(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function D9(n,e,t){if(typeof n!="function")throw new Error(pr(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(pr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(pr(1));return t(D9)(n,e)}let i=n,r=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((E,x)=>{a.set(x,E)}))}function d(){if(l)throw new Error(pr(3));return r}function h(E){if(typeof E!="function")throw new Error(pr(4));if(l)throw new Error(pr(5));let x=!0;u();const I=o++;return a.set(I,E),function(){if(x){if(l)throw new Error(pr(6));x=!1,u(),a.delete(I),s=null}}}function g(E){if(!hk(E))throw new Error(pr(7));if(typeof E.type>"u")throw new Error(pr(8));if(typeof E.type!="string")throw new Error(pr(17));if(l)throw new Error(pr(9));try{l=!0,r=i(r,E)}finally{l=!1}return(s=a).forEach(I=>{I()}),E}function v(E){if(typeof E!="function")throw new Error(pr(10));i=E,g({type:ET.REPLACE})}function b(){const E=h;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(pr(11));function I(){const R=x;R.next&&R.next(d())}return I(),{unsubscribe:E(I)}},[_5](){return this}}}return g({type:ET.INIT}),{dispatch:g,subscribe:h,getState:d,replaceReducer:v,[_5]:b}}function QBe(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:ET.INIT})>"u")throw new Error(pr(12));if(typeof t(void 0,{type:ET.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pr(13))})}function N9(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof n[a]=="function"&&(t[a]=n[a])}const i=Object.keys(t);let r;try{QBe(t)}catch(s){r=s}return function(a={},o){if(r)throw r;let l=!1;const u={};for(let d=0;d<i.length;d++){const h=i[d],g=t[h],v=a[h],b=g(v,o);if(typeof b>"u")throw o&&o.type,new Error(pr(14));u[h]=b,l=l||b!==v}return l=l||i.length!==Object.keys(a).length,l?u:a}}function ST(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function kBe(...n){return e=>(t,i)=>{const r=e(t,i);let s=()=>{throw new Error(pr(15))};const a={getState:r.getState,dispatch:(l,...u)=>s(l,...u)},o=n.map(l=>l(a));return s=ST(...o)(r.dispatch),{...r,dispatch:s}}}function L9(n){return hk(n)&&"type"in n&&typeof n.type=="string"}var Q9=Symbol.for("immer-nothing"),T5=Symbol.for("immer-draftable"),ns=Symbol.for("immer-state");function Io(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var la=Object,ny=la.getPrototypeOf,xT="constructor",rI="prototype",IL="configurable",_T="enumerable",H_="writable",jw="value",bu=n=>!!n&&!!n[ns];function Do(n){var e;return n?k9(n)||sI(n)||!!n[T5]||!!((e=n[xT])!=null&&e[T5])||aI(n)||oI(n):!1}var OBe=la[rI][xT].toString(),I5=new WeakMap;function k9(n){if(!n||!pk(n))return!1;const e=ny(n);if(e===null||e===la[rI])return!0;const t=la.hasOwnProperty.call(e,xT)&&e[xT];if(t===Object)return!0;if(!Rg(t))return!1;let i=I5.get(t);return i===void 0&&(i=Function.toString.call(t),I5.set(t,i)),i===OBe}function WB(n,e,t=!0){YB(n)===0?(t?Reflect.ownKeys(n):la.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function YB(n){const e=n[ns];return e?e.type_:sI(n)?1:aI(n)?2:oI(n)?3:0}var F5=(n,e,t=YB(n))=>t===2?n.has(e):la[rI].hasOwnProperty.call(n,e),FL=(n,e,t=YB(n))=>t===2?n.get(e):n[e],TT=(n,e,t,i=YB(n))=>{i===2?n.set(e,t):i===3?n.add(t):n[e]=t};function HBe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var sI=Array.isArray,aI=n=>n instanceof Map,oI=n=>n instanceof Set,pk=n=>typeof n=="object",Rg=n=>typeof n=="function",LP=n=>typeof n=="boolean",ul=n=>n.copy_||n.base_,gk=n=>n.modified_?n.copy_:n.base_;function UL(n,e){if(aI(n))return new Map(n);if(oI(n))return new Set(n);if(sI(n))return Array[rI].slice.call(n);const t=k9(n);if(e===!0||e==="class_only"&&!t){const i=la.getOwnPropertyDescriptors(n);delete i[ns];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],o=i[a];o[H_]===!1&&(o[H_]=!0,o[IL]=!0),(o.get||o.set)&&(i[a]={[IL]:!0,[H_]:!0,[_T]:o[_T],[jw]:n[a]})}return la.create(ny(n),i)}else{const i=ny(n);if(i!==null&&t)return{...n};const r=la.create(i);return la.assign(r,n)}}function mk(n,e=!1){return AI(n)||bu(n)||!Do(n)||(YB(n)>1&&la.defineProperties(n,{set:Cx,add:Cx,clear:Cx,delete:Cx}),la.freeze(n),e&&WB(n,(t,i)=>{mk(i,!0)},!1)),n}function VBe(){Io(2)}var Cx={[jw]:VBe};function AI(n){return n===null||!pk(n)?!0:la.isFrozen(n)}var IT="MapSet",ML="Patches",O9={};function iy(n){const e=O9[n];return e||Io(0,n),e}var KBe=n=>!!O9[n],Ww,H9=()=>Ww,GBe=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:KBe(IT)?iy(IT):void 0});function U5(n,e){e&&(n.patchPlugin_=iy(ML),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function PL(n){RL(n),n.drafts_.forEach(zBe),n.drafts_=null}function RL(n){n===Ww&&(Ww=n.parent_)}var M5=n=>Ww=GBe(Ww,n);function zBe(n){const e=n[ns];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function P5(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[ns].modified_&&(PL(e),Io(4)),Do(n)&&(n=R5(e,n));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(t[ns].base_,n,e)}else n=R5(e,t);return qBe(e,n,!0),PL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==Q9?n:void 0}function R5(n,e){if(AI(e))return e;const t=e[ns];if(!t)return vk(e,n.handledSet_,n);if(!lI(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:i}=t;if(i)for(;i.length>0;)i.pop()(n);G9(t,n)}return t.copy_}function qBe(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&mk(e,t)}function V9(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var lI=(n,e)=>n.scope_===e,$Be=[];function K9(n,e,t,i){const r=ul(n),s=n.type_;if(i!==void 0&&FL(r,i,s)===e){TT(r,i,t,s);return}if(!n.draftLocations_){const o=n.draftLocations_=new Map;WB(r,(l,u)=>{if(bu(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const a=n.draftLocations_.get(e)??$Be;for(const o of a)TT(r,o,t,s)}function jBe(n,e,t){n.callbacks_.push(function(r){var o;const s=e;if(!s||!lI(s,r))return;(o=r.mapSetPlugin_)==null||o.fixSetContents(s);const a=gk(s);K9(n,s.draft_??s,a,t),G9(s,r)})}function G9(n,e){var i;if(n.modified_&&!n.finalized_&&(n.type_===3||(((i=n.assigned_)==null?void 0:i.size)??0)>0)){const{patchPlugin_:r}=e;if(r){const s=r.getPath(n);s&&r.generatePatches_(n,s,e)}V9(n)}}function WBe(n,e,t){const{scope_:i}=n;if(bu(t)){const r=t[ns];lI(r,i)&&r.callbacks_.push(function(){V_(n);const a=gk(r);K9(n,t,a,e)})}else Do(t)&&n.callbacks_.push(function(){const s=ul(n);FL(s,e,n.type_)===t&&i.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&vk(FL(n.copy_,e,n.type_),i.handledSet_,i)})}function vk(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||bu(n)||e.has(n)||!Do(n)||AI(n)||(e.add(n),WB(n,(i,r)=>{if(bu(r)){const s=r[ns];if(lI(s,t)){const a=gk(s);TT(n,i,a,n.type_),V9(s)}}else Do(r)&&vk(r,e,t)})),n}function YBe(n,e){const t=sI(n),i={type_:t?1:0,scope_:e?e.scope_:H9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,s=yk;t&&(r=[i],s=Yw);const{revoke:a,proxy:o}=Proxy.revocable(r,s);return i.draft_=o,i.revoke_=a,[o,i]}var yk={get(n,e){if(e===ns)return n;const t=ul(n);if(!F5(t,e,n.type_))return XBe(n,t,e);const i=t[e];if(n.finalized_||!Do(i))return i;if(i===QP(n.base_,e)){V_(n);const r=n.type_===1?+e:e,s=NL(n.scope_,i,n,r);return n.copy_[r]=s}return i},has(n,e){return e in ul(n)},ownKeys(n){return Reflect.ownKeys(ul(n))},set(n,e,t){const i=z9(ul(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=QP(ul(n),e),s=r==null?void 0:r[ns];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(HBe(t,r)&&(t!==void 0||F5(n.base_,e,n.type_)))return!0;V_(n),DL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),WBe(n,e,t)),!0},deleteProperty(n,e){return V_(n),QP(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),DL(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ul(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{[H_]:!0,[IL]:n.type_!==1||e!=="length",[_T]:i[_T],[jw]:t[e]}},defineProperty(){Io(11)},getPrototypeOf(n){return ny(n.base_)},setPrototypeOf(){Io(12)}},Yw={};WB(yk,(n,e)=>{Yw[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});Yw.deleteProperty=function(n,e){return Yw.set.call(this,n,e,void 0)};Yw.set=function(n,e,t){return yk.set.call(this,n[0],e,t,n[0])};function QP(n,e){const t=n[ns];return(t?ul(t):n)[e]}function XBe(n,e,t){var r;const i=z9(e,t);return i?jw in i?i[jw]:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function z9(n,e){if(!(e in n))return;let t=ny(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=ny(t)}}function DL(n){n.modified_||(n.modified_=!0,n.parent_&&DL(n.parent_))}function V_(n){n.copy_||(n.assigned_=new Map,n.copy_=UL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var JBe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,i,r)=>{if(Rg(t)&&!Rg(i)){const a=i;i=t;const o=this;return function(u=a,...d){return o.produce(u,h=>i.call(this,h,...d))}}Rg(i)||Io(6),r!==void 0&&!Rg(r)&&Io(7);let s;if(Do(t)){const a=M5(this),o=NL(a,t,void 0);let l=!0;try{s=i(o),l=!1}finally{l?PL(a):RL(a)}return U5(a,r),P5(s,a)}else if(!t||!pk(t)){if(s=i(t),s===void 0&&(s=t),s===Q9&&(s=void 0),this.autoFreeze_&&mk(s,!0),r){const a=[],o=[];iy(ML).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:o}),r(a,o)}return s}else Io(1,t)},this.produceWithPatches=(t,i)=>{if(Rg(t))return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,s;return[this.produce(t,i,(o,l)=>{r=o,s=l}),r,s]},LP(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),LP(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),LP(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Do(e)||Io(8),bu(e)&&(e=Po(e));const t=M5(this),i=NL(t,e,void 0);return i[ns].isManual_=!0,RL(t),i}finishDraft(e,t){const i=e&&e[ns];(!i||!i.isManual_)&&Io(9);const{scope_:r}=i;return U5(r,t),P5(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const s=t[i];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}i>-1&&(t=t.slice(i+1));const r=iy(ML).applyPatches_;return bu(e)?r(e,t):this.produce(e,s=>r(s,t))}};function NL(n,e,t,i){const[r,s]=aI(e)?iy(IT).proxyMap_(e,t):oI(e)?iy(IT).proxySet_(e,t):YBe(e,t);return((t==null?void 0:t.scope_)??H9()).drafts_.push(r),s.callbacks_=(t==null?void 0:t.callbacks_)??[],s.key_=i,t&&i!==void 0?jBe(t,s,i):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),r}function Po(n){return bu(n)||Io(10,n),q9(n)}function q9(n){if(!Do(n)||AI(n))return n;const e=n[ns];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=UL(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=UL(n,!0);return WB(t,(r,s)=>{TT(t,r,q9(s))},i),e&&(e.finalized_=!1),t}var ZBe=new JBe,$9=ZBe.produce;function j9(n){return({dispatch:t,getState:i})=>r=>s=>typeof s=="function"?s(t,i,n):r(s)}var eEe=j9(),tEe=j9,nEe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ST:ST.apply(null,arguments)};function ro(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(ua(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>L9(i)&&i.type===n,t}var W9=class Bw extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Bw.prototype)}static get[Symbol.species](){return Bw}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Bw(...e[0].concat(this)):new Bw(...e.concat(this))}};function D5(n){return Do(n)?$9(n,()=>{}):n}function Bx(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function iEe(n){return typeof n=="boolean"}var rEe=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let a=new W9;return t&&(iEe(t)?a.push(eEe):a.push(tEe(t.extraArgument))),a},Y9="RTK_autoBatch",Ln=()=>n=>({payload:n,meta:{[Y9]:!0}}),N5=n=>e=>{setTimeout(e,n)},X9=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,s=!1,a=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:N5(10):n.type==="callback"?n.queueNotification:N5(n.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},i,{subscribe(d){const h=()=>r&&d(),g=i.subscribe(h);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){var h;try{return r=!((h=d==null?void 0:d.meta)!=null&&h[Y9]),s=!r,s&&(a||(a=!0,l(u))),i.dispatch(d)}finally{r=!0}}})},sEe=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new W9(n);return i&&r.push(X9(typeof i=="object"?i:void 0)),r};function aEe(n){const e=rEe(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:a=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(hk(t))o=N9(t);else throw new Error(ua(1));let l;typeof i=="function"?l=i(e):l=e();let u=ST;r&&(u=nEe({trace:!1,...typeof r=="object"&&r}));const d=kBe(...l),h=sEe(d);let g=typeof a=="function"?a(h):h();const v=u(...g);return D9(o,s,v)}function J9(n){const e={},t=[];let i;const r={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(ua(28));if(o in e)throw new Error(ua(29));return e[o]=a,r},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),r},addMatcher(s,a){return t.push({matcher:s,reducer:a}),r},addDefaultCase(s){return i=s,r}};return n(r),[e,t,i]}function oEe(n){return typeof n=="function"}function AEe(n,e){let[t,i,r]=J9(e),s;if(oEe(n))s=()=>D5(n());else{const o=D5(n);s=()=>o}function a(o=s(),l){let u=[t[l.type],...i.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[r]),u.reduce((d,h)=>{if(h)if(bu(d)){const v=h(d,l);return v===void 0?d:v}else{if(Do(d))return $9(d,g=>h(g,l));{const g=h(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return a.getInitialState=s,a}var lEe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uEe=(n=21)=>{let e="",t=n;for(;t--;)e+=lEe[Math.random()*64|0];return e},cEe=Symbol.for("rtk-slice-createasyncthunk");function dEe(n,e){return`${n}/${e}`}function fEe({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[cEe];return function(r){const{name:s,reducerPath:a=s}=r;if(!s)throw new Error(ua(11));const o=(typeof r.reducers=="function"?r.reducers(pEe()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,P){const D=typeof R=="string"?R:R.type;if(!D)throw new Error(ua(12));if(D in u.sliceCaseReducersByType)throw new Error(ua(13));return u.sliceCaseReducersByType[D]=P,d},addMatcher(R,P){return u.sliceMatchers.push({matcher:R,reducer:P}),d},exposeAction(R,P){return u.actionCreators[R]=P,d},exposeCaseReducer(R,P){return u.sliceCaseReducersByName[R]=P,d}};l.forEach(R=>{const P=o[R],D={reducerName:R,type:dEe(s,R),createNotation:typeof r.reducers=="function"};mEe(P)?yEe(D,P,d,e):gEe(D,P,d)});function h(){const[R={},P=[],D=void 0]=typeof r.extraReducers=="function"?J9(r.extraReducers):[r.extraReducers],Q={...R,...u.sliceCaseReducersByType};return AEe(r.initialState,H=>{for(let k in Q)H.addCase(k,Q[k]);for(let k of u.sliceMatchers)H.addMatcher(k.matcher,k.reducer);for(let k of P)H.addMatcher(k.matcher,k.reducer);D&&H.addDefaultCase(D)})}const g=R=>R,v=new Map,b=new WeakMap;let C;function E(R,P){return C||(C=h()),C(R,P)}function x(){return C||(C=h()),C.getInitialState()}function I(R,P=!1){function D(H){let k=H[R];return typeof k>"u"&&P&&(k=Bx(b,D,x)),k}function Q(H=g){const k=Bx(v,P,()=>new WeakMap);return Bx(k,H,()=>{const K={};for(const[V,q]of Object.entries(r.selectors??{}))K[V]=hEe(q,H,()=>Bx(b,H,x),P);return K})}return{reducerPath:R,getSelectors:Q,get selectors(){return Q(D)},selectSlice:D}}const T={name:s,reducer:E,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...I(a),injectInto(R,{reducerPath:P,...D}={}){const Q=P??a;return R.inject({reducerPath:Q,reducer:E},D),{...T,...I(Q,!0)}}};return T}}function hEe(n,e,t,i){function r(s,...a){let o=e(s);return typeof o>"u"&&i&&(o=t()),n(o,...a)}return r.unwrapped=n,r}var Ts=fEe();function pEe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function gEe({type:n,reducerName:e,createNotation:t},i,r){let s,a;if("reducer"in i){if(t&&!vEe(i))throw new Error(ua(17));s=i.reducer,a=i.prepare}else s=i;r.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,a?ro(n,a):ro(n))}function mEe(n){return n._reducerDefinitionType==="asyncThunk"}function vEe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function yEe({type:n,reducerName:e},t,i,r){if(!r)throw new Error(ua(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=t,h=r(n,s,d);i.exposeAction(e,h),a&&i.addCase(h.fulfilled,a),o&&i.addCase(h.pending,o),l&&i.addCase(h.rejected,l),u&&i.addMatcher(h.settled,u),i.exposeCaseReducer(e,{fulfilled:a||Ex,pending:o||Ex,rejected:l||Ex,settled:u||Ex})}function Ex(){}var wEe="task",Z9="listener",eJ="completed",wk="cancelled",bEe=`task-${wk}`,CEe=`task-${eJ}`,LL=`${Z9}-${wk}`,BEe=`${Z9}-${eJ}`,uI=class{constructor(n){me(this,"name","TaskAbortError");me(this,"message");this.code=n,this.message=`${wEe} ${wk} (reason: ${n})`}},bk=(n,e)=>{if(typeof n!="function")throw new TypeError(ua(32))},FT=()=>{},tJ=(n,e=FT)=>(n.catch(e),n),nJ=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),dp=n=>{if(n.aborted)throw new uI(n.reason)};function iJ(n,e){let t=FT;return new Promise((i,r)=>{const s=()=>r(new uI(n.reason));if(n.aborted){s();return}t=nJ(n,s),e.finally(()=>t()).then(i,r)}).finally(()=>{t=FT})}var EEe=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof uI?"cancelled":"rejected",error:t}}finally{e==null||e()}},UT=n=>e=>tJ(iJ(n,e).then(t=>(dp(n),t))),rJ=n=>{const e=UT(n);return t=>e(new Promise(i=>setTimeout(i,t)))},{assign:Jg}=Object,L5={},cI="listenerMiddleware",SEe=(n,e)=>{const t=i=>nJ(n,()=>i.abort(n.reason));return(i,r)=>{bk(i);const s=new AbortController;t(s);const a=EEe(async()=>{dp(n),dp(s.signal);const o=await i({pause:UT(s.signal),delay:rJ(s.signal),signal:s.signal});return dp(s.signal),o},()=>s.abort(CEe));return r!=null&&r.autoJoin&&e.push(a.catch(FT)),{result:UT(n)(a),cancel(){s.abort(bEe)}}}},xEe=(n,e)=>{const t=async(i,r)=>{dp(e);let s=()=>{};const o=[new Promise((l,u)=>{let d=n({predicate:i,effect:(h,g)=>{g.unsubscribe(),l([h,g.getState(),g.getOriginalState()])}});s=()=>{d(),u()}})];r!=null&&o.push(new Promise(l=>setTimeout(l,r,null)));try{const l=await iJ(e,Promise.race(o));return dp(e),l}finally{s()}};return(i,r)=>tJ(t(i,r))},sJ=n=>{let{type:e,actionCreator:t,matcher:i,predicate:r,effect:s}=n;if(e)r=ro(e).match;else if(t)e=t.type,r=t.match;else if(i)r=i;else if(!r)throw new Error(ua(21));return bk(s),{predicate:r,type:e,effect:s}},aJ=Jg(n=>{const{type:e,predicate:t,effect:i}=sJ(n);return{id:uEe(),effect:i,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(ua(22))}}},{withTypes:()=>aJ}),Q5=(n,e)=>{const{type:t,effect:i,predicate:r}=sJ(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===r)&&s.effect===i)},QL=n=>{n.pending.forEach(e=>{e.abort(LL)})},_Ee=(n,e)=>()=>{for(const t of e.keys())QL(t);n.clear()},k5=(n,e,t)=>{try{n(e,t)}catch(i){setTimeout(()=>{throw i},0)}},oJ=Jg(ro(`${cI}/add`),{withTypes:()=>oJ}),TEe=ro(`${cI}/removeAll`),AJ=Jg(ro(`${cI}/remove`),{withTypes:()=>AJ}),IEe=(...n)=>{console.error(`${cI}/error`,...n)},XB=(n={})=>{const e=new Map,t=new Map,i=v=>{const b=t.get(v)??0;t.set(v,b+1)},r=v=>{const b=t.get(v)??1;b===1?t.delete(v):t.set(v,b-1)},{extra:s,onError:a=IEe}=n;bk(a);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),b=>{v.unsubscribe(),b!=null&&b.cancelActive&&QL(v)}),l=v=>{const b=Q5(e,v)??aJ(v);return o(b)};Jg(l,{withTypes:()=>l});const u=v=>{const b=Q5(e,v);return b&&(b.unsubscribe(),v.cancelActive&&QL(b)),!!b};Jg(u,{withTypes:()=>u});const d=async(v,b,C,E)=>{const x=new AbortController,I=xEe(l,x.signal),T=[];try{v.pending.add(x),i(v),await Promise.resolve(v.effect(b,Jg({},C,{getOriginalState:E,condition:(R,P)=>I(R,P).then(Boolean),take:I,delay:rJ(x.signal),pause:UT(x.signal),extra:s,signal:x.signal,fork:SEe(x.signal,T),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((R,P,D)=>{R!==x&&(R.abort(LL),D.delete(R))})},cancel:()=>{x.abort(LL),v.pending.delete(x)},throwIfCancelled:()=>{dp(x.signal)}})))}catch(R){R instanceof uI||k5(a,R,{raisedBy:"effect"})}finally{await Promise.all(T),x.abort(BEe),r(v),v.pending.delete(x)}},h=_Ee(e,t);return{middleware:v=>b=>C=>{if(!L9(C))return b(C);if(oJ.match(C))return l(C.payload);if(TEe.match(C)){h();return}if(AJ.match(C))return u(C.payload);let E=v.getState();const x=()=>{if(E===L5)throw new Error(ua(23));return E};let I;try{if(I=b(C),e.size>0){const T=v.getState(),R=Array.from(e.values());for(const P of R){let D=!1;try{D=P.predicate(C,T,E)}catch(Q){D=!1,k5(a,Q,{raisedBy:"predicate"})}D&&d(P,C,v,x)}}}finally{E=L5}return I},startListening:l,stopListening:u,clearListeners:h}};function ua(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var FEe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},lJ=Ts({name:"chartLayout",initialState:FEe,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,i,r,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,n.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:UEe,setLayout:MEe,setChartSize:PEe,setScale:REe}=lJ.actions,DEe=lJ.reducer;function uJ(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function O5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function kg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O5(Object(t),!0).forEach(function(i){NEe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):O5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function NEe(n,e,t){return(e=LEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LEe(n){var e=QEe(n,"string");return typeof e=="symbol"?e:e+""}function QEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Or(n,e,t){return tr(n)||tr(e)?t:FA(e)?ty(n,e,t):typeof e=="function"?e(n):t}var kEe=(n,e,t)=>{if(e&&t){var{width:i,height:r}=t,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&it(n[s]))return kg(kg({},n),{},{[s]:n[s]+(i||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&it(n[a]))return kg(kg({},n),{},{[a]:n[a]+(r||0)})}return n},Tp=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",H5=1e-4,OEe=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,i=n.range(),r=Math.min(i[0],i[1])-H5,s=Math.max(i[0],i[1])+H5,a=n(e[0]),o=n(e[t-1]);(a<r||a>s||o<r||o>s)&&n.domain([e[0],e[t-1]])}},HEe=(n,e)=>{if(!e||e.length!==2||!it(e[0])||!it(e[1]))return n;var t=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),r=[n[0],n[1]];return(!it(n[0])||n[0]<t)&&(r[0]=t),(!it(n[1])||n[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<t&&(r[1]=t),r},VEe=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0,a=0;a<e;++a){var o=IA(n[a][t][1])?n[a][t][0]:n[a][t][1];o>=0?(n[a][t][0]=r,n[a][t][1]=r+o,r=n[a][t][1]):(n[a][t][0]=s,n[a][t][1]=s+o,s=n[a][t][1])}},KEe=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0;s<e;++s){var a=IA(n[s][t][1])?n[s][t][0]:n[s][t][1];a>=0?(n[s][t][0]=r,n[s][t][1]=r+a,r=n[s][t][1]):(n[s][t][0]=0,n[s][t][1]=0)}},GEe={sign:VEe,expand:gCe,none:ey,silhouette:mCe,wiggle:vCe,positive:KEe},zEe=(n,e,t)=>{var i=GEe[t],r=pCe().keys(e).value((s,a)=>Number(Or(s,a,0))).order(_L).offset(i);return r(n)};function qEe(n){return n==null?void 0:String(n)}var V5=n=>{var{axis:e,ticks:t,offset:i,bandSize:r,entry:s,index:a}=n;if(e.type==="category")return t[a]?t[a].coordinate+i:null;var o=Or(s,e.dataKey,e.scale.domain()[a]);return tr(o)?null:e.scale(o)-r/2+i},$Ee=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return i<=0&&r>=0?0:r<0?r:i}return t[0]},jEe=n=>{var e=n.flat(2).filter(it);return[Math.min(...e),Math.max(...e)]},WEe=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],YEe=(n,e,t)=>{if(n!=null)return WEe(Object.keys(n).reduce((i,r)=>{var s=n[r],{stackedData:a}=s,o=a.reduce((l,u)=>{var d=uJ(u,e,t),h=jEe(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],i[0]),Math.max(o[1],i[1])]},[1/0,-1/0]))},K5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,G5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MT=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!t||i>0)return i}if(n&&e&&e.length>=2){for(var r=iI(e,d=>d.coordinate),s=1/0,a=1,o=r.length;a<o;a++){var l=r[a],u=r[a-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function z5(n){var{tooltipEntrySettings:e,dataKey:t,payload:i,value:r,name:s}=n;return kg(kg({},e),{},{dataKey:t,payload:i,value:r,name:s})}function cJ(n,e){if(n)return String(n);if(typeof e=="string")return e}var XEe=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},JEe=(n,e)=>e==="centric"?n.angle:n.radius,Pu=n=>n.layout.width,Ru=n=>n.layout.height,ZEe=n=>n.layout.scale,dJ=n=>n.layout.margin,dI=Ae(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),fI=Ae(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),eSe="data-recharts-item-index",tSe="data-recharts-item-data-key",JB=60;function q5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Sx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?q5(Object(t),!0).forEach(function(i){nSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):q5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function nSe(n,e,t){return(e=iSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iSe(n){var e=rSe(n,"string");return typeof e=="symbol"?e:e+""}function rSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var sSe=n=>n.brush.height;function aSe(n){var e=fI(n);return e.reduce((t,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:JB;return t+r}return t},0)}function oSe(n){var e=fI(n);return e.reduce((t,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:JB;return t+r}return t},0)}function ASe(n){var e=dI(n);return e.reduce((t,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?t+i.height:t,0)}function lSe(n){var e=dI(n);return e.reduce((t,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?t+i.height:t,0)}var nr=Ae([Pu,Ru,dJ,sSe,aSe,oSe,ASe,lSe,R9,PBe],(n,e,t,i,r,s,a,o,l,u)=>{var d={left:(t.left||0)+r,right:(t.right||0)+s},h={top:(t.top||0)+a,bottom:(t.bottom||0)+o},g=Sx(Sx({},h),d),v=g.bottom;g.bottom+=i,g=kEe(g,l,u);var b=n-g.left-g.right,C=e-g.top-g.bottom;return Sx(Sx({brushBottom:v},g),{},{width:Math.max(b,0),height:Math.max(C,0)})}),uSe=Ae(nr,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),Ck=Ae(Pu,Ru,(n,e)=>({x:0,y:0,width:n,height:e})),cSe=U.createContext(null),ha=()=>U.useContext(cSe)!=null,hI=n=>n.brush,pI=Ae([hI,nr,dJ],(n,e,t)=>({height:n.height,x:it(n.x)?n.x:e.left,y:it(n.y)?n.y:e.top+e.height+e.brushBottom-((t==null?void 0:t.bottom)||0),width:it(n.width)?n.width:e.width})),kP={},OP={},HP={},$5;function dSe(){return $5||($5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i,{signal:r,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(t.apply(a,o),a=void 0,o=null)},h=()=>{u&&d(),C()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},i)},b=()=>{g!==null&&(clearTimeout(g),g=null)},C=()=>{b(),a=void 0,o=null},E=()=>{d()},x=function(...I){if(r!=null&&r.aborted)return;a=this,o=I;const T=g==null;v(),l&&T&&d()};return x.schedule=v,x.cancel=C,x.flush=E,r==null||r.addEventListener("abort",C,{once:!0}),x}n.debounce=e})(HP)),HP}var j5;function fSe(){return j5||(j5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=dSe();function t(i,r=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const g=e.debounce(function(...C){d=i.apply(this,C),h=null},r,{edges:u}),v=function(...C){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=i.apply(this,C),h=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,C),d)},b=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=b,v}n.debounce=t})(OP)),OP}var W5;function hSe(){return W5||(W5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=fSe();function t(i,r=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(i,r,{leading:a,maxWait:r,trailing:o})}n.throttle=t})(kP)),kP}var VP,Y5;function pSe(){return Y5||(Y5=1,VP=hSe().throttle),VP}var gSe=pSe();const mSe=RA(gSe);var X5=function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>r[a++]))}},fJ=(n,e,t)=>{var{width:i="100%",height:r="100%",aspect:s,maxHeight:a}=t,o=wu(i)?n:Number(i),l=wu(r)?e:Number(r);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},vSe={width:0,height:0,overflow:"visible"},ySe={width:0,overflowX:"visible"},wSe={height:0,overflowY:"visible"},bSe={},CSe=n=>{var{width:e,height:t}=n,i=wu(e),r=wu(t);return i&&r?vSe:i?ySe:r?wSe:bSe};function BSe(n){var{width:e,height:t,aspect:i}=n,r=e,s=t;return r===void 0&&s===void 0?(r="100%",s="100%"):r===void 0?r=i&&i>0?void 0:"100%":s===void 0&&(s=i&&i>0?void 0:"100%"),{width:r,height:s}}function di(n){return Number.isFinite(n)}function Kd(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function kL(){return kL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kL.apply(null,arguments)}function J5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Z5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J5(Object(t),!0).forEach(function(i){ESe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):J5(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ESe(n,e,t){return(e=SSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SSe(n){var e=xSe(n,"string");return typeof e=="symbol"?e:e+""}function xSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var hJ=U.createContext({width:-1,height:-1});function _Se(n){return Kd(n.width)&&Kd(n.height)}function pJ(n){var{children:e,width:t,height:i}=n,r=U.useMemo(()=>({width:t,height:i}),[t,i]);return _Se(r)?U.createElement(hJ.Provider,{value:r},e):null}var Bk=()=>U.useContext(hJ),TSe=U.forwardRef((n,e)=>{var{aspect:t,initialDimension:i={width:-1,height:-1},width:r,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:h,className:g,onResize:v,style:b={}}=n,C=U.useRef(null),E=U.useRef();E.current=v,U.useImperativeHandle(e,()=>C.current);var[x,I]=U.useState({containerWidth:i.width,containerHeight:i.height}),T=U.useCallback((H,k)=>{I(K=>{var V=Math.round(H),q=Math.round(k);return K.containerWidth===V&&K.containerHeight===q?K:{containerWidth:V,containerHeight:q}})},[]);U.useEffect(()=>{if(C.current==null||typeof ResizeObserver>"u")return jB;var H=q=>{var X,{width:ne,height:ge}=q[0].contentRect;T(ne,ge),(X=E.current)===null||X===void 0||X.call(E,ne,ge)};d>0&&(H=mSe(H,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(H),{width:K,height:V}=C.current.getBoundingClientRect();return T(K,V),k.observe(C.current),()=>{k.disconnect()}},[T,d]);var{containerWidth:R,containerHeight:P}=x;X5(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:D,calculatedHeight:Q}=fJ(R,P,{width:r,height:s,aspect:t,maxHeight:l});return X5(D!=null&&D>0||Q!=null&&Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,Q,r,s,a,o,t),U.createElement("div",{id:h?"".concat(h):void 0,className:Un("recharts-responsive-container",g),style:Z5(Z5({},b),{},{width:r,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:C},U.createElement("div",{style:CSe({width:r,height:s})},U.createElement(pJ,{width:D,height:Q},u)))}),ISe=U.forwardRef((n,e)=>{var t=Bk();if(Kd(t.width)&&Kd(t.height))return n.children;var{width:i,height:r}=BSe({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:a}=fJ(void 0,void 0,{width:i,height:r,aspect:n.aspect,maxHeight:n.maxHeight});return it(s)&&it(a)?U.createElement(pJ,{width:s,height:a},n.children):U.createElement(TSe,kL({},n,{width:i,height:r,ref:e}))});function gJ(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var gI=()=>{var n,e=ha(),t=tt(uSe),i=tt(pI),r=(n=tt(hI))===null||n===void 0?void 0:n.padding;return!e||!i||!r?t:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},FSe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},USe=()=>{var n;return(n=tt(nr))!==null&&n!==void 0?n:FSe},MSe=()=>tt(Pu),PSe=()=>tt(Ru),Xt=n=>n.layout.layoutType,mI=()=>tt(Xt),RSe=()=>{var n=mI();return n!==void 0},vI=n=>{var e=fi(),t=ha(),{width:i,height:r}=n,s=Bk(),a=i,o=r;return s&&(a=s.width>0?s.width:i,o=s.height>0?s.height:r),U.useEffect(()=>{!t&&Kd(a)&&Kd(o)&&e(PEe({width:a,height:o}))},[e,t,a,o]),null},mJ=Symbol.for("immer-nothing"),e8=Symbol.for("immer-draftable"),da=Symbol.for("immer-state");function Fo(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Xw=Object.getPrototypeOf;function ry(n){return!!n&&!!n[da]}function yp(n){var e;return n?vJ(n)||Array.isArray(n)||!!n[e8]||!!((e=n.constructor)!=null&&e[e8])||ZB(n)||wI(n):!1}var DSe=Object.prototype.constructor.toString(),t8=new WeakMap;function vJ(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let i=t8.get(t);return i===void 0&&(i=Function.toString.call(t),t8.set(t,i)),i===DSe}function PT(n,e,t=!0){yI(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function yI(n){const e=n[da];return e?e.type_:Array.isArray(n)?1:ZB(n)?2:wI(n)?3:0}function OL(n,e){return yI(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function yJ(n,e,t){const i=yI(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function NSe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function ZB(n){return n instanceof Map}function wI(n){return n instanceof Set}function _f(n){return n.copy_||n.base_}function HL(n,e){if(ZB(n))return new Map(n);if(wI(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=vJ(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[da];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],o=i[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(i[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[a]})}return Object.create(Xw(n),i)}else{const i=Xw(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function Ek(n,e=!1){return bI(n)||ry(n)||!yp(n)||(yI(n)>1&&Object.defineProperties(n,{set:xx,add:xx,clear:xx,delete:xx}),Object.freeze(n),e&&Object.values(n).forEach(t=>Ek(t,!0))),n}function LSe(){Fo(2)}var xx={value:LSe};function bI(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var QSe={};function wp(n){const e=QSe[n];return e||Fo(0,n),e}var Jw;function wJ(){return Jw}function kSe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function n8(n,e){e&&(wp("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function VL(n){KL(n),n.drafts_.forEach(OSe),n.drafts_=null}function KL(n){n===Jw&&(Jw=n.parent_)}function i8(n){return Jw=kSe(Jw,n)}function OSe(n){const e=n[da];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function r8(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[da].modified_&&(VL(e),Fo(4)),yp(n)&&(n=RT(e,n),e.parent_||DT(e,n)),e.patches_&&wp("Patches").generateReplacementPatches_(t[da].base_,n,e.patches_,e.inversePatches_)):n=RT(e,t,[]),VL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==mJ?n:void 0}function RT(n,e,t){if(bI(e))return e;const i=n.immer_.shouldUseStrictIteration(),r=e[da];if(!r)return PT(e,(s,a)=>s8(n,r,e,s,a,t),i),e;if(r.scope_!==n)return e;if(!r.modified_)return DT(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let a=s,o=!1;r.type_===3&&(a=new Set(s),s.clear(),o=!0),PT(a,(l,u)=>s8(n,r,s,l,u,t,o),i),DT(n,s,!1),t&&n.patches_&&wp("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function s8(n,e,t,i,r,s,a){if(r==null||typeof r!="object"&&!a)return;const o=bI(r);if(!(o&&!a)){if(ry(r)){const l=s&&e&&e.type_!==3&&!OL(e.assigned_,i)?s.concat(i):void 0,u=RT(n,r,l);if(yJ(t,i,u),ry(u))n.canAutoFreeze_=!1;else return}else a&&t.add(r);if(yp(r)&&!o){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&o)return;RT(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(ZB(t)?t.has(i):Object.prototype.propertyIsEnumerable.call(t,i))&&DT(n,r)}}}function DT(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Ek(e,t)}function HSe(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:wJ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=Sk;t&&(r=[i],s=Zw);const{revoke:a,proxy:o}=Proxy.revocable(r,s);return i.draft_=o,i.revoke_=a,o}var Sk={get(n,e){if(e===da)return n;const t=_f(n);if(!OL(t,e))return VSe(n,t,e);const i=t[e];return n.finalized_||!yp(i)?i:i===KP(n.base_,e)?(GP(n),n.copy_[e]=zL(i,n)):i},has(n,e){return e in _f(n)},ownKeys(n){return Reflect.ownKeys(_f(n))},set(n,e,t){const i=bJ(_f(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=KP(_f(n),e),s=r==null?void 0:r[da];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(NSe(t,r)&&(t!==void 0||OL(n.base_,e)))return!0;GP(n),GL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return KP(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,GP(n),GL(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=_f(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Fo(11)},getPrototypeOf(n){return Xw(n.base_)},setPrototypeOf(){Fo(12)}},Zw={};PT(Sk,(n,e)=>{Zw[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Zw.deleteProperty=function(n,e){return Zw.set.call(this,n,e,void 0)};Zw.set=function(n,e,t){return Sk.set.call(this,n[0],e,t,n[0])};function KP(n,e){const t=n[da];return(t?_f(t):n)[e]}function VSe(n,e,t){var r;const i=bJ(e,t);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function bJ(n,e){if(!(e in n))return;let t=Xw(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Xw(t)}}function GL(n){n.modified_||(n.modified_=!0,n.parent_&&GL(n.parent_))}function GP(n){n.copy_||(n.copy_=HL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var KSe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...u){return a.produce(l,d=>t.call(this,d,...u))}}typeof t!="function"&&Fo(6),i!==void 0&&typeof i!="function"&&Fo(7);let r;if(yp(e)){const s=i8(this),a=zL(e,void 0);let o=!0;try{r=t(a),o=!1}finally{o?VL(s):KL(s)}return n8(s,i),r8(r,s)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===mJ&&(r=void 0),this.autoFreeze_&&Ek(r,!0),i){const s=[],a=[];wp("Patches").generateReplacementPatches_(e,r,s,a),i(s,a)}return r}else Fo(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let i,r;return[this.produce(e,t,(a,o)=>{i=a,r=o}),i,r]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof(n==null?void 0:n.useStrictIteration)=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){yp(n)||Fo(8),ry(n)&&(n=GSe(n));const e=i8(this),t=zL(n,void 0);return t[da].isManual_=!0,KL(e),t}finishDraft(n,e){const t=n&&n[da];(!t||!t.isManual_)&&Fo(9);const{scope_:i}=t;return n8(i,e),r8(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=wp("Patches").applyPatches_;return ry(n)?i(n,e):this.produce(n,r=>i(r,e))}};function zL(n,e){const t=ZB(n)?wp("MapSet").proxyMap_(n,e):wI(n)?wp("MapSet").proxySet_(n,e):HSe(n,e);return(e?e.scope_:wJ()).drafts_.push(t),t}function GSe(n){return ry(n)||Fo(10,n),CJ(n)}function CJ(n){if(!yp(n)||bI(n))return n;const e=n[da];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=HL(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=HL(n,!0);return PT(t,(r,s)=>{yJ(t,r,CJ(s))},i),e&&(e.finalized_=!1),t}var zSe=new KSe;zSe.produce;var qSe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},BJ=Ts({name:"legend",initialState:qSe,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:Ln()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Po(n).payload.indexOf(t);r>-1&&(n.payload[r]=i)},prepare:Ln()},removeLegendPayload:{reducer(n,e){var t=Po(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:Ln()}}}),{setLegendSize:IQe,setLegendSettings:FQe,addLegendPayload:$Se,replaceLegendPayload:jSe,removeLegendPayload:WSe}=BJ.actions,YSe=BJ.reducer;function qL(){return qL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qL.apply(null,arguments)}function a8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function zP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(t),!0).forEach(function(i){XSe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function XSe(n,e,t){return(e=JSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JSe(n){var e=ZSe(n,"string");return typeof e=="symbol"?e:e+""}function ZSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function exe(n){return Array.isArray(n)&&FA(n[0])&&FA(n[1])?n.join(" ~ "):n}var txe=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:i={},labelStyle:r={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:g=!1}=n,v=()=>{if(s&&s.length){var P={padding:0,margin:0},D=(o?iI(s,o):s).map((Q,H)=>{if(Q.type==="none")return null;var k=Q.formatter||a||exe,{value:K,name:V}=Q,q=K,X=V;if(k){var ne=k(K,V,Q,H,s);if(Array.isArray(ne))[q,X]=ne;else if(ne!=null)q=ne;else return null}var ge=zP({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},i);return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:ge},FA(X)?U.createElement("span",{className:"recharts-tooltip-item-name"},X):null,FA(X)?U.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,U.createElement("span",{className:"recharts-tooltip-item-value"},q),U.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:P},D)}return null},b=zP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),C=zP({margin:0},r),E=!tr(d),x=E?d:"",I=Un("recharts-default-tooltip",l),T=Un("recharts-tooltip-label",u);E&&h&&s!==void 0&&s!==null&&(x=h(d,s));var R=g?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",qL({className:I,style:b},R),U.createElement("p",{className:T,style:C},U.isValidElement(x)?x:"".concat(x)),v())},R0="recharts-tooltip-wrapper",nxe={visibility:"hidden"};function ixe(n){var{coordinate:e,translateX:t,translateY:i}=n;return Un(R0,{["".concat(R0,"-right")]:it(t)&&e&&it(e.x)&&t>=e.x,["".concat(R0,"-left")]:it(t)&&e&&it(e.x)&&t<e.x,["".concat(R0,"-bottom")]:it(i)&&e&&it(e.y)&&i>=e.y,["".concat(R0,"-top")]:it(i)&&e&&it(e.y)&&i<e.y})}function o8(n){var{allowEscapeViewBox:e,coordinate:t,key:i,offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=n;if(s&&it(s[i]))return s[i];var d=t[i]-o-(r>0?r:0),h=t[i]+r;if(e[i])return a[i]?d:h;var g=l[i];if(g==null)return 0;if(a[i]){var v=d,b=g;return v<b?Math.max(h,g):Math.max(d,g)}if(u==null)return 0;var C=h+o,E=g+u;return C>E?Math.max(d,g):Math.max(h,g)}function rxe(n){var{translateX:e,translateY:t,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function sxe(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:i,position:r,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=n,u,d,h;return a.height>0&&a.width>0&&t?(d=o8({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=o8({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=rxe({translateX:d,translateY:h,useTranslate3d:o})):u=nxe,{cssProperties:u,cssClasses:ixe({translateX:d,translateY:h,coordinate:t})}}function A8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _x(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(t),!0).forEach(function(i){$L(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function $L(n,e,t){return(e=axe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function axe(n){var e=oxe(n,"string");return typeof e=="symbol"?e:e+""}function oxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class Axe extends U.PureComponent{constructor(){super(...arguments),$L(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$L(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,i,r,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&t!==void 0?t:0,y:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:i,animationEasing:r,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:b,lastBoundingBox:C,innerRef:E,hasPortalFromProps:x}=this.props,{cssClasses:I,cssProperties:T}=sxe({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:C.height,width:C.width},useTranslate3d:g,viewBox:v}),R=x?{}:_x(_x({transition:l&&e?"transform ".concat(i,"ms ").concat(r):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=_x(_x({},R),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return U.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:P,ref:E},s)}}var EJ=()=>{var n;return(n=tt(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function jL(){return jL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jL.apply(null,arguments)}function l8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function u8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(t),!0).forEach(function(i){lxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lxe(n,e,t){return(e=uxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uxe(n){var e=cxe(n,"string");return typeof e=="symbol"?e:e+""}function cxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var c8={curveBasisClosed:rCe,curveBasisOpen:sCe,curveBasis:iCe,curveBumpX:Kbe,curveBumpY:Gbe,curveLinearClosed:aCe,curveLinear:tI,curveMonotoneX:oCe,curveMonotoneY:ACe,curveNatural:lCe,curveStep:uCe,curveStepAfter:dCe,curveStepBefore:cCe},NT=n=>di(n.x)&&di(n.y),d8=n=>n.base!=null&&NT(n.base)&&NT(n),D0=n=>n.x,N0=n=>n.y,dxe=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat($B(n));return(t==="curveMonotone"||t==="curveBump")&&e?c8["".concat(t).concat(e==="vertical"?"Y":"X")]:c8[t]||tI},fxe=n=>{var{type:e="linear",points:t=[],baseLine:i,layout:r,connectNulls:s=!1}=n,a=dxe(e,r),o=s?t.filter(NT):t,l;if(Array.isArray(i)){var u=t.map((v,b)=>u8(u8({},v),{},{base:i[b]}));r==="vertical"?l=yx().y(N0).x1(D0).x0(v=>v.base.x):l=yx().x(D0).y1(N0).y0(v=>v.base.y);var d=l.defined(d8).curve(a),h=s?u.filter(d8):u;return d(h)}r==="vertical"&&it(i)?l=yx().y(N0).x1(D0).x0(i):it(i)?l=yx().x(D0).y1(N0).y0(i):l=a9().x(D0).y(N0);var g=l.defined(NT).curve(a);return g(o)},SJ=n=>{var{className:e,points:t,path:i,pathRef:r}=n;if((!t||!t.length)&&!i)return null;var s=t&&t.length?fxe(n):i;return U.createElement("path",jL({},Vd(n),NCe(n),{className:Un("recharts-curve",e),d:s===null?void 0:s,ref:r}))},hxe=["x","y","top","left","width","height","className"];function WL(){return WL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},WL.apply(null,arguments)}function f8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function pxe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?f8(Object(t),!0).forEach(function(i){gxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gxe(n,e,t){return(e=mxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mxe(n){var e=vxe(n,"string");return typeof e=="symbol"?e:e+""}function vxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yxe(n,e){if(n==null)return{};var t,i,r=wxe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function wxe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var bxe=(n,e,t,i,r,s)=>"M".concat(n,",").concat(r,"v").concat(i,"M").concat(s,",").concat(e,"h").concat(t),Cxe=n=>{var{x:e=0,y:t=0,top:i=0,left:r=0,width:s=0,height:a=0,className:o}=n,l=yxe(n,hxe),u=pxe({x:e,y:t,top:i,left:r,width:s,height:a},l);return!it(e)||!it(t)||!it(s)||!it(a)||!it(i)||!it(r)?null:U.createElement("path",WL({},io(u),{className:Un("recharts-cross",o),d:bxe(e,t,s,a,i,r)}))};function Bxe(n,e,t,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-r:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-r,width:n==="horizontal"?i:t.width-1,height:n==="horizontal"?t.height-1:i}}function h8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function p8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(t),!0).forEach(function(i){Exe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Exe(n,e,t){return(e=Sxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Sxe(n){var e=xxe(n,"string");return typeof e=="symbol"?e:e+""}function xxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var _xe=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),xJ=(n,e,t)=>n.map(i=>"".concat(_xe(i)," ").concat(e,"ms ").concat(t)).join(","),Txe=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,i)=>t.filter(r=>i.includes(r))),eb=(n,e)=>Object.keys(e).reduce((t,i)=>p8(p8({},t),{},{[i]:n(i,e[i])}),{});function g8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ri(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g8(Object(t),!0).forEach(function(i){Ixe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Ixe(n,e,t){return(e=Fxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Fxe(n){var e=Uxe(n,"string");return typeof e=="symbol"?e:e+""}function Uxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var LT=(n,e,t)=>n+(e-n)*t,YL=n=>{var{from:e,to:t}=n;return e!==t},_J=(n,e,t)=>{var i=eb((r,s)=>{if(YL(s)){var[a,o]=n(s.from,s.to,s.velocity);return Ri(Ri({},s),{},{from:a,velocity:o})}return s},e);return t<1?eb((r,s)=>YL(s)?Ri(Ri({},s),{},{velocity:LT(s.velocity,i[r].velocity,t),from:LT(s.from,i[r].from,t)}):s,e):_J(n,i,t-1)};function Mxe(n,e,t,i,r,s){var a,o=i.reduce((g,v)=>Ri(Ri({},g),{},{[v]:{from:n[v],velocity:0,to:e[v]}}),{}),l=()=>eb((g,v)=>v.from,o),u=()=>!Object.values(o).filter(YL).length,d=null,h=g=>{a||(a=g);var v=g-a,b=v/t.dt;o=_J(t,o,b),r(Ri(Ri(Ri({},n),e),l())),a=g,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}function Pxe(n,e,t,i,r,s,a){var o=null,l=r.reduce((h,g)=>Ri(Ri({},h),{},{[g]:[n[g],e[g]]}),{}),u,d=h=>{u||(u=h);var g=(h-u)/i,v=eb((C,E)=>LT(...E,t(g)),l);if(s(Ri(Ri(Ri({},n),e),v)),g<1)o=a.setTimeout(d);else{var b=eb((C,E)=>LT(...E,t(1)),l);s(Ri(Ri(Ri({},n),e),b))}};return()=>(o=a.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const Rxe=(n,e,t,i,r,s)=>{var a=Txe(n,e);return t==null?()=>(r(Ri(Ri({},n),e)),()=>{}):t.isStepper===!0?Mxe(n,e,t,a,r,s):Pxe(n,e,t,i,a,r,s)};var QT=1e-4,TJ=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],IJ=(n,e)=>n.map((t,i)=>t*e**i).reduce((t,i)=>t+i),m8=(n,e)=>t=>{var i=TJ(n,e);return IJ(i,t)},Dxe=(n,e)=>t=>{var i=TJ(n,e),r=[...i.map((s,a)=>s*a).slice(1),0];return IJ(r,t)},Nxe=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r,s=t[0].split("(");if(s[0]==="cubic-bezier"&&((r=s[1])===null||r===void 0?void 0:r.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]}}}return t.length===4?t:[0,0,1,1]},Lxe=(n,e,t,i)=>{var r=m8(n,t),s=m8(e,i),a=Dxe(n,t),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,h=d,g=0;g<8;++g){var v=r(h)-d,b=a(h);if(Math.abs(v-d)<QT||b<QT)return s(h);h=o(h-v/b)}return s(h)};return l.isStepper=!1,l},v8=function(){return Lxe(...Nxe(...arguments))},Qxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:i=8,dt:r=17}=e,s=(a,o,l)=>{var u=-(a-o)*t,d=l*i,h=l+(u-d)*r/1e3,g=l*r/1e3+a;return Math.abs(g-o)<QT&&Math.abs(h)<QT?[o,0]:[g,h]};return s.isStepper=!0,s.dt=r,s},kxe=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return v8(n);case"spring":return Qxe();default:if(n.split("(")[0]==="cubic-bezier")return v8(n)}return typeof n=="function"?n:null};function Oxe(n){var e,t=()=>null,i=!1,r=null,s=a=>{if(!i){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){r=n.setTimeout(s.bind(null,u),l);return}s(l),r=n.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,t(e)),typeof a=="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:()=>{i=!0},start:a=>{i=!1,r&&(r(),r=null),s(a)},subscribe:a=>(t=a,()=>{t=()=>null}),getTimeoutController:()=>n}}class Hxe{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,s=a=>{a-i>=t?e(a):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(s))};return r=requestAnimationFrame(s),()=>{r!=null&&cancelAnimationFrame(r)}}}function Vxe(){return Oxe(new Hxe)}var Kxe=U.createContext(Vxe);function Gxe(n,e){var t=U.useContext(Kxe);return U.useMemo(()=>e??t(n),[n,e,t])}var zxe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),eE={devToolsEnabled:!1,isSsr:zxe()},qxe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},y8={t:0},qP={t:1};function xk(n){var e=ao(n,qxe),{isActive:t,canBegin:i,duration:r,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=t==="auto"?!eE.isSsr:t,h=Gxe(e.animationId,e.animationManager),[g,v]=U.useState(d?y8:qP),b=U.useRef(null);return U.useEffect(()=>{d||v(qP)},[d]),U.useEffect(()=>{if(!d||!i)return jB;var C=Rxe(y8,qP,kxe(s),r,v,h.getTimeoutController()),E=()=>{b.current=C()};return h.start([l,a,E,r,o]),()=>{h.stop(),b.current&&b.current(),o()}},[d,i,r,s,a,l,o,h]),u(g.t)}function _k(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=U.useRef($w(e)),i=U.useRef(n);return i.current!==n&&(t.current=$w(e),i.current=n),t.current}var $xe=["radius"],jxe=["radius"];function w8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function b8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(t),!0).forEach(function(i){Wxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):w8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Wxe(n,e,t){return(e=Yxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yxe(n){var e=Xxe(n,"string");return typeof e=="symbol"?e:e+""}function Xxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kT(){return kT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kT.apply(null,arguments)}function C8(n,e){if(n==null)return{};var t,i,r=Jxe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Jxe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var B8=(n,e,t,i,r)=>{var s=Math.min(Math.abs(t)/2,Math.abs(i)/2),a=i>=0?1:-1,o=t>=0?1:-1,l=i>=0&&t>=0||i<0&&t<0?1:0,u;if(s>0&&r instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=r[h]>s?s:r[h];u="M".concat(n,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(n+o*d[0],",").concat(e)),u+="L ".concat(n+t-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(n+t,",").concat(e+a*d[1])),u+="L ".concat(n+t,",").concat(e+i-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(n+t-o*d[2],",").concat(e+i)),u+="L ".concat(n+o*d[3],",").concat(e+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(n,",").concat(e+i-a*d[3])),u+="Z"}else if(s>0&&r===+r&&r>0){var v=Math.min(s,r);u="M ".concat(n,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+o*v,",").concat(e,`
            L `).concat(n+t-o*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t,",").concat(e+a*v,`
            L `).concat(n+t,",").concat(e+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t-o*v,",").concat(e+i,`
            L `).concat(n+o*v,",").concat(e+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n,",").concat(e+i-a*v," Z")}else u="M ".concat(n,",").concat(e," h ").concat(t," v ").concat(i," h ").concat(-t," Z");return u},E8={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FJ=n=>{var e=ao(n,E8),t=U.useRef(null),[i,r]=U.useState(-1);U.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var $=t.current.getTotalLength();$&&r($)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:C}=e,E=U.useRef(o),x=U.useRef(l),I=U.useRef(s),T=U.useRef(a),R=U.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),P=_k(R,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var D=Un("recharts-rectangle",d);if(!C){var Q=io(e),{radius:H}=Q,k=C8(Q,$xe);return U.createElement("path",kT({},k,{radius:typeof u=="number"?u:void 0,className:D,d:B8(s,a,o,l,u)}))}var K=E.current,V=x.current,q=I.current,X=T.current,ne="0px ".concat(i===-1?1:i,"px"),ge="".concat(i,"px 0px"),G=xJ(["strokeDasharray"],g,typeof h=="string"?h:E8.animationEasing);return U.createElement(xk,{animationId:P,key:P,canBegin:i>0,duration:g,easing:h,isActive:C,begin:v},$=>{var ie=yr(K,o,$),se=yr(V,l,$),be=yr(q,s,$),z=yr(X,a,$);t.current&&(E.current=ie,x.current=se,I.current=be,T.current=z);var J;b?$>0?J={transition:G,strokeDasharray:ge}:J={strokeDasharray:ne}:J={strokeDasharray:ge};var le=io(e),{radius:ve}=le,Ee=C8(le,jxe);return U.createElement("path",kT({},Ee,{radius:typeof u=="number"?u:void 0,className:D,d:B8(be,z,ie,se,u),ref:t,style:b8(b8({},J),e.style)}))})};function S8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function x8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(t),!0).forEach(function(i){Zxe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S8(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Zxe(n,e,t){return(e=e_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function e_e(n){var e=t_e(n,"string");return typeof e=="symbol"?e:e+""}function t_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var OT=Math.PI/180,n_e=n=>n*180/Math.PI,Br=(n,e,t,i)=>({x:n+Math.cos(-OT*i)*t,y:e+Math.sin(-OT*i)*t}),i_e=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(t-(i.top||0)-(i.bottom||0)))/2},r_e=(n,e)=>{var{x:t,y:i}=n,{x:r,y:s}=e;return Math.sqrt((t-r)**2+(i-s)**2)},s_e=(n,e)=>{var{x:t,y:i}=n,{cx:r,cy:s}=e,a=r_e({x:t,y:i},{x:r,y:s});if(a<=0)return{radius:a,angle:0};var o=(t-r)/a,l=Math.acos(o);return i>s&&(l=2*Math.PI-l),{radius:a,angle:n_e(l),angleInRadian:l}},a_e=n=>{var{startAngle:e,endAngle:t}=n,i=Math.floor(e/360),r=Math.floor(t/360),s=Math.min(i,r);return{startAngle:e-s*360,endAngle:t-s*360}},o_e=(n,e)=>{var{startAngle:t,endAngle:i}=e,r=Math.floor(t/360),s=Math.floor(i/360),a=Math.min(r,s);return n+a*360},A_e=(n,e)=>{var{chartX:t,chartY:i}=n,{radius:r,angle:s}=s_e({x:t,y:i},e),{innerRadius:a,outerRadius:o}=e;if(r<a||r>o||r===0)return null;var{startAngle:l,endAngle:u}=a_e(e),d=s,h;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=l}return h?x8(x8({},e),{},{radius:r,angle:o_e(d,e)}):null};function UJ(n){var{cx:e,cy:t,radius:i,startAngle:r,endAngle:s}=n,a=Br(e,t,i,r),o=Br(e,t,i,s);return{points:[a,o],cx:e,cy:t,radius:i,startAngle:r,endAngle:s}}function XL(){return XL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},XL.apply(null,arguments)}var l_e=(n,e)=>{var t=Aa(e-n),i=Math.min(Math.abs(e-n),359.999);return t*i},Tx=n=>{var{cx:e,cy:t,radius:i,angle:r,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=n,u=o*(a?1:-1)+i,d=Math.asin(o/u)/OT,h=l?r:r+s*d,g=Br(e,t,u,h),v=Br(e,t,i,h),b=l?r-s*d:r,C=Br(e,t,u*Math.cos(d*OT),b);return{center:g,circleTangency:v,lineTangency:C,theta:d}},MJ=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:s,endAngle:a}=n,o=l_e(s,a),l=s+o,u=Br(e,t,r,s),d=Br(e,t,r,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Br(e,t,i,s),v=Br(e,t,i,l);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},u_e=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=n,d=Aa(u-l),{circleTangency:h,lineTangency:g,theta:v}=Tx({cx:e,cy:t,radius:r,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:b,lineTangency:C,theta:E}=Tx({cx:e,cy:t,radius:r,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-v-E;if(x<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):MJ({cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:l,endAngle:u});var I="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var{circleTangency:T,lineTangency:R,theta:P}=Tx({cx:e,cy:t,radius:i,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:D,lineTangency:Q,theta:H}=Tx({cx:e,cy:t,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-u):Math.abs(l-u)-P-H;if(k<0&&s===0)return"".concat(I,"L").concat(e,",").concat(t,"Z");I+="L".concat(Q.x,",").concat(Q.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,"Z")}else I+="L".concat(e,",").concat(t,"Z");return I},c_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PJ=n=>{var e=ao(n,c_e),{cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:h}=e;if(s<r||u===d)return null;var g=Un("recharts-sector",h),v=s-r,b=Ro(a,v,0,!0),C;return b>0&&Math.abs(u-d)<360?C=u_e({cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):C=MJ({cx:t,cy:i,innerRadius:r,outerRadius:s,startAngle:u,endAngle:d}),U.createElement("path",XL({},io(e),{className:g,d:C}))};function d_e(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(b9(e)){if(n==="centric"){var{cx:i,cy:r,innerRadius:s,outerRadius:a,angle:o}=e,l=Br(i,r,s,o),u=Br(i,r,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return UJ(e)}}var $P={},jP={},WP={},_8;function f_e(){return _8||(_8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=M9();function t(i){return e.isSymbol(i)?NaN:Number(i)}n.toNumber=t})(WP)),WP}var T8;function h_e(){return T8||(T8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=f_e();function t(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=t})(jP)),jP}var I8;function p_e(){return I8||(I8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=P9(),t=h_e();function i(r,s,a){a&&typeof a!="number"&&e.isIterateeCall(r,s,a)&&(s=a=void 0),r=t.toFinite(r),s===void 0?(s=r,r=0):s=t.toFinite(s),a=a===void 0?r<s?1:-1:t.toFinite(a);const o=Math.max(Math.ceil((s-r)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=r,r+=a;return l}n.range=i})($P)),$P}var YP,F8;function g_e(){return F8||(F8=1,YP=p_e().range),YP}var m_e=g_e();const RJ=RA(m_e);function Qd(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function v_e(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Tk(n){let e,t,i;n.length!==2?(e=Qd,t=(o,l)=>Qd(n(o),l),i=(o,l)=>n(o)-l):(e=n===Qd||n===v_e?n:y_e,t=n,i=n);function r(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){const h=r(o,l,u,d-1);return h>u&&i(o[h-1],l)>-i(o[h],l)?h-1:h}return{left:r,center:a,right:s}}function y_e(){return 0}function DJ(n){return n===null?NaN:+n}function*w_e(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const b_e=Tk(Qd),tE=b_e.right;Tk(DJ).center;class U8 extends Map{constructor(e,t=E_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(M8(this,e))}has(e){return super.has(M8(this,e))}set(e,t){return super.set(C_e(this,e),t)}delete(e){return super.delete(B_e(this,e))}}function M8({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function C_e({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function B_e({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function E_e(n){return n!==null&&typeof n=="object"?n.valueOf():n}function S_e(n=Qd){if(n===Qd)return NJ;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const i=n(e,t);return i||i===0?i:(n(t,t)===0)-(n(e,e)===0)}}function NJ(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const x_e=Math.sqrt(50),__e=Math.sqrt(10),T_e=Math.sqrt(2);function HT(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),a=s>=x_e?10:s>=__e?5:s>=T_e?2:1;let o,l,u;return r<0?(u=Math.pow(10,-r)/a,o=Math.round(n*u),l=Math.round(e*u),o/u<n&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,r)*a,o=Math.round(n/u),l=Math.round(e/u),o*u<n&&++o,l*u>e&&--l),l<o&&.5<=t&&t<2?HT(n,e,t*2):[o,l,u]}function JL(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const i=e<n,[r,s,a]=i?HT(e,n,t):HT(n,e,t);if(!(s>=r))return[];const o=s-r+1,l=new Array(o);if(i)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(r+u)/-a;else for(let u=0;u<o;++u)l[u]=(r+u)*a;return l}function ZL(n,e,t){return e=+e,n=+n,t=+t,HT(n,e,t)[2]}function eQ(n,e,t){e=+e,n=+n,t=+t;const i=e<n,r=i?ZL(e,n,t):ZL(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function P8(n,e){let t;for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);return t}function R8(n,e){let t;for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);return t}function LJ(n,e,t=0,i=1/0,r){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),i=Math.floor(Math.min(n.length-1,i)),!(t<=e&&e<=i))return n;for(r=r===void 0?NJ:S_e(r);i>t;){if(i-t>600){const l=i-t+1,u=e-t+1,d=Math.log(l),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),v=Math.max(t,Math.floor(e-u*h/l+g)),b=Math.min(i,Math.floor(e+(l-u)*h/l+g));LJ(n,e,v,b,r)}const s=n[e];let a=t,o=i;for(L0(n,t,e),r(n[i],s)>0&&L0(n,t,i);a<o;){for(L0(n,a,o),++a,--o;r(n[a],s)<0;)++a;for(;r(n[o],s)>0;)--o}r(n[t],s)===0?L0(n,t,o):(++o,L0(n,o,i)),o<=e&&(t=o+1),e<=o&&(i=o-1)}return n}function L0(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function I_e(n,e,t){if(n=Float64Array.from(w_e(n)),!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return R8(n);if(e>=1)return P8(n);var i,r=(i-1)*e,s=Math.floor(r),a=P8(LJ(n,s).subarray(0,s+1)),o=R8(n.subarray(s+1));return a+(o-a)*(r-s)}}function F_e(n,e,t=DJ){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,s=Math.floor(r),a=+t(n[s],s,n),o=+t(n[s+1],s+1,n);return a+(o-a)*(r-s)}}function U_e(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function oo(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Du(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const tQ=Symbol("implicit");function Ik(){var n=new U8,e=[],t=[],i=tQ;function r(s){let a=n.get(s);if(a===void 0){if(i!==tQ)return i;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new U8;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return Ik(e,t).unknown(i)},oo.apply(r,arguments),r}function Fk(){var n=Ik().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,a,o=!1,l=0,u=0,d=.5;delete n.unknown;function h(){var g=e().length,v=r<i,b=v?r:i,C=v?i:r;s=(C-b)/Math.max(1,g-l+u*2),o&&(s=Math.floor(s)),b+=(C-b-s*(g-l))*d,a=s*(1-l),o&&(b=Math.round(b),a=Math.round(a));var E=U_e(g).map(function(x){return b+s*x});return t(v?E.reverse():E)}return n.domain=function(g){return arguments.length?(e(g),h()):e()},n.range=function(g){return arguments.length?([i,r]=g,i=+i,r=+r,h()):[i,r]},n.rangeRound=function(g){return[i,r]=g,i=+i,r=+r,o=!0,h()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(g){return arguments.length?(o=!!g,h()):o},n.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},n.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},n.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},n.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},n.copy=function(){return Fk(e(),[i,r]).round(o).paddingInner(l).paddingOuter(u).align(d)},oo.apply(h(),arguments)}function QJ(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return QJ(e())},n}function M_e(){return QJ(Fk.apply(null,arguments).paddingInner(1))}function Uk(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function kJ(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function nE(){}var tb=.7,VT=1/tb,Zg="\\s*([+-]?\\d+)\\s*",nb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",TA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",P_e=/^#([0-9a-f]{3,8})$/,R_e=new RegExp(`^rgb\\(${Zg},${Zg},${Zg}\\)$`),D_e=new RegExp(`^rgb\\(${TA},${TA},${TA}\\)$`),N_e=new RegExp(`^rgba\\(${Zg},${Zg},${Zg},${nb}\\)$`),L_e=new RegExp(`^rgba\\(${TA},${TA},${TA},${nb}\\)$`),Q_e=new RegExp(`^hsl\\(${nb},${TA},${TA}\\)$`),k_e=new RegExp(`^hsla\\(${nb},${TA},${TA},${nb}\\)$`),D8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uk(nE,ib,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:N8,formatHex:N8,formatHex8:O_e,formatHsl:H_e,formatRgb:L8,toString:L8});function N8(){return this.rgb().formatHex()}function O_e(){return this.rgb().formatHex8()}function H_e(){return OJ(this).formatHsl()}function L8(){return this.rgb().formatRgb()}function ib(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=P_e.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?Q8(e):t===3?new xs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Ix(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Ix(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=R_e.exec(n))?new xs(e[1],e[2],e[3],1):(e=D_e.exec(n))?new xs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=N_e.exec(n))?Ix(e[1],e[2],e[3],e[4]):(e=L_e.exec(n))?Ix(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Q_e.exec(n))?H8(e[1],e[2]/100,e[3]/100,1):(e=k_e.exec(n))?H8(e[1],e[2]/100,e[3]/100,e[4]):D8.hasOwnProperty(n)?Q8(D8[n]):n==="transparent"?new xs(NaN,NaN,NaN,0):null}function Q8(n){return new xs(n>>16&255,n>>8&255,n&255,1)}function Ix(n,e,t,i){return i<=0&&(n=e=t=NaN),new xs(n,e,t,i)}function V_e(n){return n instanceof nE||(n=ib(n)),n?(n=n.rgb(),new xs(n.r,n.g,n.b,n.opacity)):new xs}function nQ(n,e,t,i){return arguments.length===1?V_e(n):new xs(n,e,t,i??1)}function xs(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}Uk(xs,nQ,kJ(nE,{brighter(n){return n=n==null?VT:Math.pow(VT,n),new xs(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?tb:Math.pow(tb,n),new xs(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new xs(fp(this.r),fp(this.g),fp(this.b),KT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k8,formatHex:k8,formatHex8:K_e,formatRgb:O8,toString:O8}));function k8(){return`#${Rf(this.r)}${Rf(this.g)}${Rf(this.b)}`}function K_e(){return`#${Rf(this.r)}${Rf(this.g)}${Rf(this.b)}${Rf((isNaN(this.opacity)?1:this.opacity)*255)}`}function O8(){const n=KT(this.opacity);return`${n===1?"rgb(":"rgba("}${fp(this.r)}, ${fp(this.g)}, ${fp(this.b)}${n===1?")":`, ${n})`}`}function KT(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function fp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Rf(n){return n=fp(n),(n<16?"0":"")+n.toString(16)}function H8(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Uo(n,e,t,i)}function OJ(n){if(n instanceof Uo)return new Uo(n.h,n.s,n.l,n.opacity);if(n instanceof nE||(n=ib(n)),!n)return new Uo;if(n instanceof Uo)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),a=NaN,o=s-r,l=(s+r)/2;return o?(e===s?a=(t-i)/o+(t<i)*6:t===s?a=(i-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+r:2-s-r,a*=60):o=l>0&&l<1?0:a,new Uo(a,o,l,n.opacity)}function G_e(n,e,t,i){return arguments.length===1?OJ(n):new Uo(n,e,t,i??1)}function Uo(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}Uk(Uo,G_e,kJ(nE,{brighter(n){return n=n==null?VT:Math.pow(VT,n),new Uo(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?tb:Math.pow(tb,n),new Uo(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new xs(XP(n>=240?n-240:n+120,r,i),XP(n,r,i),XP(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Uo(V8(this.h),Fx(this.s),Fx(this.l),KT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=KT(this.opacity);return`${n===1?"hsl(":"hsla("}${V8(this.h)}, ${Fx(this.s)*100}%, ${Fx(this.l)*100}%${n===1?")":`, ${n})`}`}}));function V8(n){return n=(n||0)%360,n<0?n+360:n}function Fx(n){return Math.max(0,Math.min(1,n||0))}function XP(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const Mk=n=>()=>n;function z_e(n,e){return function(t){return n+t*e}}function q_e(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function $_e(n){return(n=+n)==1?HJ:function(e,t){return t-e?q_e(e,t,n):Mk(isNaN(e)?t:e)}}function HJ(n,e){var t=e-n;return t?z_e(n,t):Mk(isNaN(n)?e:n)}const K8=(function n(e){var t=$_e(e);function i(r,s){var a=t((r=nQ(r)).r,(s=nQ(s)).r),o=t(r.g,s.g),l=t(r.b,s.b),u=HJ(r.opacity,s.opacity);return function(d){return r.r=a(d),r.g=o(d),r.b=l(d),r.opacity=u(d),r+""}}return i.gamma=n,i})(1);function j_e(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function W_e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Y_e(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),a;for(a=0;a<i;++a)r[a]=yy(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<i;++a)s[a]=r[a](o);return s}}function X_e(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function GT(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function J_e(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=yy(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var iQ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JP=new RegExp(iQ.source,"g");function Z_e(n){return function(){return n}}function eTe(n){return function(e){return n(e)+""}}function tTe(n,e){var t=iQ.lastIndex=JP.lastIndex=0,i,r,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(i=iQ.exec(n))&&(r=JP.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:GT(i,r)})),t=JP.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?eTe(l[0].x):Z_e(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function yy(n,e){var t=typeof e,i;return e==null||t==="boolean"?Mk(e):(t==="number"?GT:t==="string"?(i=ib(e))?(e=i,K8):tTe:e instanceof ib?K8:e instanceof Date?X_e:W_e(e)?j_e:Array.isArray(e)?Y_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?J_e:GT)(n,e)}function Pk(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function nTe(n,e){e===void 0&&(e=n,n=yy);for(var t=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);t<i;)s[t]=n(r,r=e[++t]);return function(a){var o=Math.max(0,Math.min(i-1,Math.floor(a*=i)));return s[o](a-o)}}function iTe(n){return function(){return n}}function zT(n){return+n}var G8=[0,1];function Zr(n){return n}function rQ(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:iTe(isNaN(e)?NaN:.5)}function rTe(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function sTe(n,e,t){var i=n[0],r=n[1],s=e[0],a=e[1];return r<i?(i=rQ(r,i),s=t(a,s)):(i=rQ(i,r),s=t(s,a)),function(o){return s(i(o))}}function aTe(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=rQ(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=tE(n,o,1,i)-1;return s[l](r[l](o))}}function iE(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function CI(){var n=G8,e=G8,t=yy,i,r,s,a=Zr,o,l,u;function d(){var g=Math.min(n.length,e.length);return a!==Zr&&(a=rTe(n[0],n[g-1])),o=g>2?aTe:sTe,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?s:(l||(l=o(n.map(i),e,t)))(i(a(g)))}return h.invert=function(g){return a(r((u||(u=o(e,n.map(i),GT)))(g)))},h.domain=function(g){return arguments.length?(n=Array.from(g,zT),d()):n.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),t=Pk,d()},h.clamp=function(g){return arguments.length?(a=g?!0:Zr,d()):a!==Zr},h.interpolate=function(g){return arguments.length?(t=g,d()):t},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return i=g,r=v,d()}}function Rk(){return CI()(Zr,Zr)}function oTe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function qT(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function sy(n){return n=qT(Math.abs(n)),n?n[1]:NaN}function ATe(n,e){return function(t,i){for(var r=t.length,s=[],a=0,o=n[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),s.push(t.substring(r-=o,r+o)),!((l+=o+1)>i));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function lTe(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var uTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rb(n){if(!(e=uTe.exec(n)))throw new Error("invalid format: "+n);var e;return new Dk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}rb.prototype=Dk.prototype;function Dk(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Dk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cTe(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var VJ;function dTe(n,e){var t=qT(n,e);if(!t)return n+"";var i=t[0],r=t[1],s=r-(VJ=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+qT(n,Math.max(0,e+s-1))[0]}function z8(n,e){var t=qT(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const q8={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:oTe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>z8(n*100,e),r:z8,s:dTe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function $8(n){return n}var j8=Array.prototype.map,W8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fTe(n){var e=n.grouping===void 0||n.thousands===void 0?$8:ATe(j8.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?$8:lTe(j8.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(h){h=rb(h);var g=h.fill,v=h.align,b=h.sign,C=h.symbol,E=h.zero,x=h.width,I=h.comma,T=h.precision,R=h.trim,P=h.type;P==="n"?(I=!0,P="g"):q8[P]||(T===void 0&&(T=12),R=!0,P="g"),(E||g==="0"&&v==="=")&&(E=!0,g="0",v="=");var D=C==="$"?t:C==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",Q=C==="$"?i:/[%p]/.test(P)?a:"",H=q8[P],k=/[defgprs%]/.test(P);T=T===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function K(V){var q=D,X=Q,ne,ge,G;if(P==="c")X=H(V)+X,V="";else{V=+V;var $=V<0||1/V<0;if(V=isNaN(V)?l:H(Math.abs(V),T),R&&(V=cTe(V)),$&&+V==0&&b!=="+"&&($=!1),q=($?b==="("?b:o:b==="-"||b==="("?"":b)+q,X=(P==="s"?W8[8+VJ/3]:"")+X+($&&b==="("?")":""),k){for(ne=-1,ge=V.length;++ne<ge;)if(G=V.charCodeAt(ne),48>G||G>57){X=(G===46?r+V.slice(ne+1):V.slice(ne))+X,V=V.slice(0,ne);break}}}I&&!E&&(V=e(V,1/0));var ie=q.length+V.length+X.length,se=ie<x?new Array(x-ie+1).join(g):"";switch(I&&E&&(V=e(se+V,se.length?x-X.length:1/0),se=""),v){case"<":V=q+V+X+se;break;case"=":V=q+se+V+X;break;case"^":V=se.slice(0,ie=se.length>>1)+q+V+X+se.slice(ie);break;default:V=se+q+V+X;break}return s(V)}return K.toString=function(){return h+""},K}function d(h,g){var v=u((h=rb(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(sy(g)/3)))*3,C=Math.pow(10,-b),E=W8[8+b/3];return function(x){return v(C*x)+E}}return{format:u,formatPrefix:d}}var Ux,Nk,KJ;hTe({thousands:",",grouping:[3],currency:["$",""]});function hTe(n){return Ux=fTe(n),Nk=Ux.format,KJ=Ux.formatPrefix,Ux}function pTe(n){return Math.max(0,-sy(Math.abs(n)))}function gTe(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sy(e)/3)))*3-sy(Math.abs(n)))}function mTe(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,sy(e)-sy(n))+1}function GJ(n,e,t,i){var r=eQ(n,e,t),s;switch(i=rb(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=gTe(r,a))&&(i.precision=s),KJ(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=mTe(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=pTe(r))&&(i.precision=s-(i.type==="%")*2);break}}return Nk(i)}function Wd(n){var e=n.domain;return n.ticks=function(t){var i=e();return JL(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return GJ(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,a=i[r],o=i[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=r,r=s,s=u);d-- >0;){if(u=ZL(a,o,t),u===l)return i[r]=a,i[s]=o,e(i);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return n},n}function zJ(){var n=Rk();return n.copy=function(){return iE(n,zJ())},oo.apply(n,arguments),Wd(n)}function qJ(n){var e;function t(i){return i==null||isNaN(i=+i)?e:i}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=Array.from(i,zT),t):n.slice()},t.unknown=function(i){return arguments.length?(e=i,t):e},t.copy=function(){return qJ(n).unknown(e)},n=arguments.length?Array.from(n,zT):[0,1],Wd(t)}function $J(n,e){n=n.slice();var t=0,i=n.length-1,r=n[t],s=n[i],a;return s<r&&(a=t,t=i,i=a,a=r,r=s,s=a),n[t]=e.floor(r),n[i]=e.ceil(s),n}function Y8(n){return Math.log(n)}function X8(n){return Math.exp(n)}function vTe(n){return-Math.log(-n)}function yTe(n){return-Math.exp(-n)}function wTe(n){return isFinite(n)?+("1e"+n):n<0?0:n}function bTe(n){return n===10?wTe:n===Math.E?Math.exp:e=>Math.pow(n,e)}function CTe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function J8(n){return(e,t)=>-n(-e,t)}function Lk(n){const e=n(Y8,X8),t=e.domain;let i=10,r,s;function a(){return r=CTe(i),s=bTe(i),t()[0]<0?(r=J8(r),s=J8(s),n(vTe,yTe)):n(Y8,X8),e}return e.base=function(o){return arguments.length?(i=+o,a()):i},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=r(u),v=r(d),b,C;const E=o==null?10:+o;let x=[];if(!(i%1)&&v-g<E){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(b=1;b<i;++b)if(C=g<0?b/s(-g):b*s(g),!(C<u)){if(C>d)break;x.push(C)}}else for(;g<=v;++g)for(b=i-1;b>=1;--b)if(C=g>0?b/s(-g):b*s(g),!(C<u)){if(C>d)break;x.push(C)}x.length*2<E&&(x=JL(u,d,E))}else x=JL(g,v,Math.min(v-g,E)).map(s);return h?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=rb(l)).precision==null&&(l.trim=!0),l=Nk(l)),o===1/0)return l;const u=Math.max(1,i*o/e.ticks().length);return d=>{let h=d/s(Math.round(r(d)));return h*i<i-.5&&(h*=i),h<=u?l(d):""}},e.nice=()=>t($J(t(),{floor:o=>s(Math.floor(r(o))),ceil:o=>s(Math.ceil(r(o)))})),e}function jJ(){const n=Lk(CI()).domain([1,10]);return n.copy=()=>iE(n,jJ()).base(n.base()),oo.apply(n,arguments),n}function Z8(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function eq(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function Qk(n){var e=1,t=n(Z8(e),eq(e));return t.constant=function(i){return arguments.length?n(Z8(e=+i),eq(e)):e},Wd(t)}function WJ(){var n=Qk(CI());return n.copy=function(){return iE(n,WJ()).constant(n.constant())},oo.apply(n,arguments)}function tq(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function BTe(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function ETe(n){return n<0?-n*n:n*n}function kk(n){var e=n(Zr,Zr),t=1;function i(){return t===1?n(Zr,Zr):t===.5?n(BTe,ETe):n(tq(t),tq(1/t))}return e.exponent=function(r){return arguments.length?(t=+r,i()):t},Wd(e)}function Ok(){var n=kk(CI());return n.copy=function(){return iE(n,Ok()).exponent(n.exponent())},oo.apply(n,arguments),n}function STe(){return Ok.apply(null,arguments).exponent(.5)}function nq(n){return Math.sign(n)*n*n}function xTe(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function YJ(){var n=Rk(),e=[0,1],t=!1,i;function r(s){var a=xTe(n(s));return isNaN(a)?i:t?Math.round(a):a}return r.invert=function(s){return n.invert(nq(s))},r.domain=function(s){return arguments.length?(n.domain(s),r):n.domain()},r.range=function(s){return arguments.length?(n.range((e=Array.from(s,zT)).map(nq)),r):e.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(t=!!s,r):t},r.clamp=function(s){return arguments.length?(n.clamp(s),r):n.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return YJ(n.domain(),e).round(t).clamp(n.clamp()).unknown(i)},oo.apply(r,arguments),Wd(r)}function XJ(){var n=[],e=[],t=[],i;function r(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=F_e(n,a/o);return s}function s(a){return a==null||isNaN(a=+a)?i:e[tE(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},s.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let o of a)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(Qd),r()},s.range=function(a){return arguments.length?(e=Array.from(a),r()):e.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return XJ().domain(n).range(e).unknown(i)},oo.apply(s,arguments)}function JJ(){var n=0,e=1,t=1,i=[.5],r=[0,1],s;function a(l){return l!=null&&l<=l?r[tE(i,l,0,t)]:s}function o(){var l=-1;for(i=new Array(t);++l<t;)i[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,o()):[n,e]},a.range=function(l){return arguments.length?(t=(r=Array.from(l)).length-1,o()):r.slice()},a.invertExtent=function(l){var u=r.indexOf(l);return u<0?[NaN,NaN]:u<1?[n,i[0]]:u>=t?[i[t-1],e]:[i[u-1],i[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return i.slice()},a.copy=function(){return JJ().domain([n,e]).range(r).unknown(s)},oo.apply(Wd(a),arguments)}function ZJ(){var n=[.5],e=[0,1],t,i=1;function r(s){return s!=null&&s<=s?e[tE(n,s,0,i)]:t}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,e.length-1),r):n.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(n.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return ZJ().domain(n).range(e).unknown(t)},oo.apply(r,arguments)}const ZP=new Date,eR=new Date;function Li(n,e,t,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),r.round=s=>{const a=r(s),o=r.ceil(s);return s-a<o-s?a:o},r.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),r.range=(s,a,o)=>{const l=[];if(s=r.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),n(s);while(u<s&&s<a);return l},r.filter=s=>Li(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(r.count=(s,a)=>(ZP.setTime(+s),eR.setTime(+a),n(ZP),n(eR),Math.floor(t(ZP,eR))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?a=>i(a)%s===0:a=>r.count(0,a)%s===0):r)),r}const $T=Li(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);$T.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Li(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):$T);$T.range;const ou=1e3,Ja=ou*60,Au=Ja*60,Cu=Au*24,Hk=Cu*7,iq=Cu*30,tR=Cu*365,Df=Li(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*ou)},(n,e)=>(e-n)/ou,n=>n.getUTCSeconds());Df.range;const Vk=Li(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*ou)},(n,e)=>{n.setTime(+n+e*Ja)},(n,e)=>(e-n)/Ja,n=>n.getMinutes());Vk.range;const Kk=Li(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*Ja)},(n,e)=>(e-n)/Ja,n=>n.getUTCMinutes());Kk.range;const Gk=Li(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*ou-n.getMinutes()*Ja)},(n,e)=>{n.setTime(+n+e*Au)},(n,e)=>(e-n)/Au,n=>n.getHours());Gk.range;const zk=Li(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*Au)},(n,e)=>(e-n)/Au,n=>n.getUTCHours());zk.range;const rE=Li(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Ja)/Cu,n=>n.getDate()-1);rE.range;const BI=Li(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Cu,n=>n.getUTCDate()-1);BI.range;const e7=Li(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Cu,n=>Math.floor(n/Cu));e7.range;function Ip(n){return Li(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ja)/Hk)}const EI=Ip(0),jT=Ip(1),_Te=Ip(2),TTe=Ip(3),ay=Ip(4),ITe=Ip(5),FTe=Ip(6);EI.range;jT.range;_Te.range;TTe.range;ay.range;ITe.range;FTe.range;function Fp(n){return Li(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/Hk)}const SI=Fp(0),WT=Fp(1),UTe=Fp(2),MTe=Fp(3),oy=Fp(4),PTe=Fp(5),RTe=Fp(6);SI.range;WT.range;UTe.range;MTe.range;oy.range;PTe.range;RTe.range;const qk=Li(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());qk.range;const $k=Li(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());$k.range;const Bu=Li(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());Bu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Li(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});Bu.range;const Eu=Li(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Eu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Li(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});Eu.range;function t7(n,e,t,i,r,s){const a=[[Df,1,ou],[Df,5,5*ou],[Df,15,15*ou],[Df,30,30*ou],[s,1,Ja],[s,5,5*Ja],[s,15,15*Ja],[s,30,30*Ja],[r,1,Au],[r,3,3*Au],[r,6,6*Au],[r,12,12*Au],[i,1,Cu],[i,2,2*Cu],[t,1,Hk],[e,1,iq],[e,3,3*iq],[n,1,tR]];function o(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const v=h&&typeof h.range=="function"?h:l(u,d,h),b=v?v.range(u,+d+1):[];return g?b.reverse():b}function l(u,d,h){const g=Math.abs(d-u)/h,v=Tk(([,,E])=>E).right(a,g);if(v===a.length)return n.every(eQ(u/tR,d/tR,h));if(v===0)return $T.every(Math.max(eQ(u,d,h),1));const[b,C]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return b.every(C)}return[o,l]}const[DTe,NTe]=t7(Eu,$k,SI,e7,zk,Kk),[LTe,QTe]=t7(Bu,qk,EI,rE,Gk,Vk);function nR(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function iR(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Q0(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function kTe(n){var e=n.dateTime,t=n.date,i=n.time,r=n.periods,s=n.days,a=n.shortDays,o=n.months,l=n.shortMonths,u=k0(r),d=O0(r),h=k0(s),g=O0(s),v=k0(a),b=O0(a),C=k0(o),E=O0(o),x=k0(l),I=O0(l),T={a:$,A:ie,b:se,B:be,c:null,d:lq,e:lq,f:A1e,g:v1e,G:w1e,H:s1e,I:a1e,j:o1e,L:n7,m:l1e,M:u1e,p:z,q:J,Q:dq,s:fq,S:c1e,u:d1e,U:f1e,V:h1e,w:p1e,W:g1e,x:null,X:null,y:m1e,Y:y1e,Z:b1e,"%":cq},R={a:le,A:ve,b:Ee,B:Fe,c:null,d:uq,e:uq,f:S1e,g:D1e,G:L1e,H:C1e,I:B1e,j:E1e,L:r7,m:x1e,M:_1e,p:Ce,q:ut,Q:dq,s:fq,S:T1e,u:I1e,U:F1e,V:U1e,w:M1e,W:P1e,x:null,X:null,y:R1e,Y:N1e,Z:Q1e,"%":cq},P={a:K,A:V,b:q,B:X,c:ne,d:oq,e:oq,f:t1e,g:aq,G:sq,H:Aq,I:Aq,j:XTe,L:e1e,m:YTe,M:JTe,p:k,q:WTe,Q:i1e,s:r1e,S:ZTe,u:GTe,U:zTe,V:qTe,w:KTe,W:$Te,x:ge,X:G,y:aq,Y:sq,Z:jTe,"%":n1e};T.x=D(t,T),T.X=D(i,T),T.c=D(e,T),R.x=D(t,R),R.X=D(i,R),R.c=D(e,R);function D(ae,Ke){return function(Ye){var ye=[],Pt=-1,Je=0,Jt=ae.length,Nt,Mn,st;for(Ye instanceof Date||(Ye=new Date(+Ye));++Pt<Jt;)ae.charCodeAt(Pt)===37&&(ye.push(ae.slice(Je,Pt)),(Mn=rq[Nt=ae.charAt(++Pt)])!=null?Nt=ae.charAt(++Pt):Mn=Nt==="e"?" ":"0",(st=Ke[Nt])&&(Nt=st(Ye,Mn)),ye.push(Nt),Je=Pt+1);return ye.push(ae.slice(Je,Pt)),ye.join("")}}function Q(ae,Ke){return function(Ye){var ye=Q0(1900,void 0,1),Pt=H(ye,ae,Ye+="",0),Je,Jt;if(Pt!=Ye.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(Ke&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Je=iR(Q0(ye.y,0,1)),Jt=Je.getUTCDay(),Je=Jt>4||Jt===0?WT.ceil(Je):WT(Je),Je=BI.offset(Je,(ye.V-1)*7),ye.y=Je.getUTCFullYear(),ye.m=Je.getUTCMonth(),ye.d=Je.getUTCDate()+(ye.w+6)%7):(Je=nR(Q0(ye.y,0,1)),Jt=Je.getDay(),Je=Jt>4||Jt===0?jT.ceil(Je):jT(Je),Je=rE.offset(Je,(ye.V-1)*7),ye.y=Je.getFullYear(),ye.m=Je.getMonth(),ye.d=Je.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),Jt="Z"in ye?iR(Q0(ye.y,0,1)).getUTCDay():nR(Q0(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(Jt+5)%7:ye.w+ye.U*7-(Jt+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,iR(ye)):nR(ye)}}function H(ae,Ke,Ye,ye){for(var Pt=0,Je=Ke.length,Jt=Ye.length,Nt,Mn;Pt<Je;){if(ye>=Jt)return-1;if(Nt=Ke.charCodeAt(Pt++),Nt===37){if(Nt=Ke.charAt(Pt++),Mn=P[Nt in rq?Ke.charAt(Pt++):Nt],!Mn||(ye=Mn(ae,Ye,ye))<0)return-1}else if(Nt!=Ye.charCodeAt(ye++))return-1}return ye}function k(ae,Ke,Ye){var ye=u.exec(Ke.slice(Ye));return ye?(ae.p=d.get(ye[0].toLowerCase()),Ye+ye[0].length):-1}function K(ae,Ke,Ye){var ye=v.exec(Ke.slice(Ye));return ye?(ae.w=b.get(ye[0].toLowerCase()),Ye+ye[0].length):-1}function V(ae,Ke,Ye){var ye=h.exec(Ke.slice(Ye));return ye?(ae.w=g.get(ye[0].toLowerCase()),Ye+ye[0].length):-1}function q(ae,Ke,Ye){var ye=x.exec(Ke.slice(Ye));return ye?(ae.m=I.get(ye[0].toLowerCase()),Ye+ye[0].length):-1}function X(ae,Ke,Ye){var ye=C.exec(Ke.slice(Ye));return ye?(ae.m=E.get(ye[0].toLowerCase()),Ye+ye[0].length):-1}function ne(ae,Ke,Ye){return H(ae,e,Ke,Ye)}function ge(ae,Ke,Ye){return H(ae,t,Ke,Ye)}function G(ae,Ke,Ye){return H(ae,i,Ke,Ye)}function $(ae){return a[ae.getDay()]}function ie(ae){return s[ae.getDay()]}function se(ae){return l[ae.getMonth()]}function be(ae){return o[ae.getMonth()]}function z(ae){return r[+(ae.getHours()>=12)]}function J(ae){return 1+~~(ae.getMonth()/3)}function le(ae){return a[ae.getUTCDay()]}function ve(ae){return s[ae.getUTCDay()]}function Ee(ae){return l[ae.getUTCMonth()]}function Fe(ae){return o[ae.getUTCMonth()]}function Ce(ae){return r[+(ae.getUTCHours()>=12)]}function ut(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ke=D(ae+="",T);return Ke.toString=function(){return ae},Ke},parse:function(ae){var Ke=Q(ae+="",!1);return Ke.toString=function(){return ae},Ke},utcFormat:function(ae){var Ke=D(ae+="",R);return Ke.toString=function(){return ae},Ke},utcParse:function(ae){var Ke=Q(ae+="",!0);return Ke.toString=function(){return ae},Ke}}}var rq={"-":"",_:" ",0:"0"},ir=/^\s*\d+/,OTe=/^%/,HTe=/[\\^$*+?|[\]().{}]/g;function Ht(n,e,t){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<t?new Array(t-s+1).join(e)+r:r)}function VTe(n){return n.replace(HTe,"\\$&")}function k0(n){return new RegExp("^(?:"+n.map(VTe).join("|")+")","i")}function O0(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function KTe(n,e,t){var i=ir.exec(e.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function GTe(n,e,t){var i=ir.exec(e.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function zTe(n,e,t){var i=ir.exec(e.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function qTe(n,e,t){var i=ir.exec(e.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function $Te(n,e,t){var i=ir.exec(e.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function sq(n,e,t){var i=ir.exec(e.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function aq(n,e,t){var i=ir.exec(e.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function jTe(n,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function WTe(n,e,t){var i=ir.exec(e.slice(t,t+1));return i?(n.q=i[0]*3-3,t+i[0].length):-1}function YTe(n,e,t){var i=ir.exec(e.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function oq(n,e,t){var i=ir.exec(e.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function XTe(n,e,t){var i=ir.exec(e.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function Aq(n,e,t){var i=ir.exec(e.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function JTe(n,e,t){var i=ir.exec(e.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function ZTe(n,e,t){var i=ir.exec(e.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function e1e(n,e,t){var i=ir.exec(e.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function t1e(n,e,t){var i=ir.exec(e.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function n1e(n,e,t){var i=OTe.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function i1e(n,e,t){var i=ir.exec(e.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function r1e(n,e,t){var i=ir.exec(e.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function lq(n,e){return Ht(n.getDate(),e,2)}function s1e(n,e){return Ht(n.getHours(),e,2)}function a1e(n,e){return Ht(n.getHours()%12||12,e,2)}function o1e(n,e){return Ht(1+rE.count(Bu(n),n),e,3)}function n7(n,e){return Ht(n.getMilliseconds(),e,3)}function A1e(n,e){return n7(n,e)+"000"}function l1e(n,e){return Ht(n.getMonth()+1,e,2)}function u1e(n,e){return Ht(n.getMinutes(),e,2)}function c1e(n,e){return Ht(n.getSeconds(),e,2)}function d1e(n){var e=n.getDay();return e===0?7:e}function f1e(n,e){return Ht(EI.count(Bu(n)-1,n),e,2)}function i7(n){var e=n.getDay();return e>=4||e===0?ay(n):ay.ceil(n)}function h1e(n,e){return n=i7(n),Ht(ay.count(Bu(n),n)+(Bu(n).getDay()===4),e,2)}function p1e(n){return n.getDay()}function g1e(n,e){return Ht(jT.count(Bu(n)-1,n),e,2)}function m1e(n,e){return Ht(n.getFullYear()%100,e,2)}function v1e(n,e){return n=i7(n),Ht(n.getFullYear()%100,e,2)}function y1e(n,e){return Ht(n.getFullYear()%1e4,e,4)}function w1e(n,e){var t=n.getDay();return n=t>=4||t===0?ay(n):ay.ceil(n),Ht(n.getFullYear()%1e4,e,4)}function b1e(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ht(e/60|0,"0",2)+Ht(e%60,"0",2)}function uq(n,e){return Ht(n.getUTCDate(),e,2)}function C1e(n,e){return Ht(n.getUTCHours(),e,2)}function B1e(n,e){return Ht(n.getUTCHours()%12||12,e,2)}function E1e(n,e){return Ht(1+BI.count(Eu(n),n),e,3)}function r7(n,e){return Ht(n.getUTCMilliseconds(),e,3)}function S1e(n,e){return r7(n,e)+"000"}function x1e(n,e){return Ht(n.getUTCMonth()+1,e,2)}function _1e(n,e){return Ht(n.getUTCMinutes(),e,2)}function T1e(n,e){return Ht(n.getUTCSeconds(),e,2)}function I1e(n){var e=n.getUTCDay();return e===0?7:e}function F1e(n,e){return Ht(SI.count(Eu(n)-1,n),e,2)}function s7(n){var e=n.getUTCDay();return e>=4||e===0?oy(n):oy.ceil(n)}function U1e(n,e){return n=s7(n),Ht(oy.count(Eu(n),n)+(Eu(n).getUTCDay()===4),e,2)}function M1e(n){return n.getUTCDay()}function P1e(n,e){return Ht(WT.count(Eu(n)-1,n),e,2)}function R1e(n,e){return Ht(n.getUTCFullYear()%100,e,2)}function D1e(n,e){return n=s7(n),Ht(n.getUTCFullYear()%100,e,2)}function N1e(n,e){return Ht(n.getUTCFullYear()%1e4,e,4)}function L1e(n,e){var t=n.getUTCDay();return n=t>=4||t===0?oy(n):oy.ceil(n),Ht(n.getUTCFullYear()%1e4,e,4)}function Q1e(){return"+0000"}function cq(){return"%"}function dq(n){return+n}function fq(n){return Math.floor(+n/1e3)}var vg,a7,o7;k1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function k1e(n){return vg=kTe(n),a7=vg.format,vg.parse,o7=vg.utcFormat,vg.utcParse,vg}function O1e(n){return new Date(n)}function H1e(n){return n instanceof Date?+n:+new Date(+n)}function jk(n,e,t,i,r,s,a,o,l,u){var d=Rk(),h=d.invert,g=d.domain,v=u(".%L"),b=u(":%S"),C=u("%I:%M"),E=u("%I %p"),x=u("%a %d"),I=u("%b %d"),T=u("%B"),R=u("%Y");function P(D){return(l(D)<D?v:o(D)<D?b:a(D)<D?C:s(D)<D?E:i(D)<D?r(D)<D?x:I:t(D)<D?T:R)(D)}return d.invert=function(D){return new Date(h(D))},d.domain=function(D){return arguments.length?g(Array.from(D,H1e)):g().map(O1e)},d.ticks=function(D){var Q=g();return n(Q[0],Q[Q.length-1],D??10)},d.tickFormat=function(D,Q){return Q==null?P:u(Q)},d.nice=function(D){var Q=g();return(!D||typeof D.range!="function")&&(D=e(Q[0],Q[Q.length-1],D??10)),D?g($J(Q,D)):d},d.copy=function(){return iE(d,jk(n,e,t,i,r,s,a,o,l,u))},d}function V1e(){return oo.apply(jk(LTe,QTe,Bu,qk,EI,rE,Gk,Vk,Df,a7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function K1e(){return oo.apply(jk(DTe,NTe,Eu,$k,SI,BI,zk,Kk,Df,o7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xI(){var n=0,e=1,t,i,r,s,a=Zr,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(r===0?.5:(h=(s(h)-t)*r,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([n,e]=h,t=s(n=+n),i=s(e=+e),r=t===i?0:1/(i-t),u):[n,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(g){var v,b;return arguments.length?([v,b]=g,a=h(v,b),u):[a(0),a(1)]}}return u.range=d(yy),u.rangeRound=d(Pk),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,t=h(n),i=h(e),r=t===i?0:1/(i-t),u}}function Yd(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function A7(){var n=Wd(xI()(Zr));return n.copy=function(){return Yd(n,A7())},Du.apply(n,arguments)}function l7(){var n=Lk(xI()).domain([1,10]);return n.copy=function(){return Yd(n,l7()).base(n.base())},Du.apply(n,arguments)}function u7(){var n=Qk(xI());return n.copy=function(){return Yd(n,u7()).constant(n.constant())},Du.apply(n,arguments)}function Wk(){var n=kk(xI());return n.copy=function(){return Yd(n,Wk()).exponent(n.exponent())},Du.apply(n,arguments)}function G1e(){return Wk.apply(null,arguments).exponent(.5)}function c7(){var n=[],e=Zr;function t(i){if(i!=null&&!isNaN(i=+i))return e((tE(n,i,1)-1)/(n.length-1))}return t.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(Qd),t},t.interpolator=function(i){return arguments.length?(e=i,t):e},t.range=function(){return n.map((i,r)=>e(r/(n.length-1)))},t.quantiles=function(i){return Array.from({length:i+1},(r,s)=>I_e(n,s/i))},t.copy=function(){return c7(e).domain(n)},Du.apply(t,arguments)}function _I(){var n=0,e=.5,t=1,i=1,r,s,a,o,l,u=Zr,d,h=!1,g;function v(C){return isNaN(C=+C)?g:(C=.5+((C=+d(C))-s)*(i*C<i*s?o:l),u(h?Math.max(0,Math.min(1,C)):C))}v.domain=function(C){return arguments.length?([n,e,t]=C,r=d(n=+n),s=d(e=+e),a=d(t=+t),o=r===s?0:.5/(s-r),l=s===a?0:.5/(a-s),i=s<r?-1:1,v):[n,e,t]},v.clamp=function(C){return arguments.length?(h=!!C,v):h},v.interpolator=function(C){return arguments.length?(u=C,v):u};function b(C){return function(E){var x,I,T;return arguments.length?([x,I,T]=E,u=nTe(C,[x,I,T]),v):[u(0),u(.5),u(1)]}}return v.range=b(yy),v.rangeRound=b(Pk),v.unknown=function(C){return arguments.length?(g=C,v):g},function(C){return d=C,r=C(n),s=C(e),a=C(t),o=r===s?0:.5/(s-r),l=s===a?0:.5/(a-s),i=s<r?-1:1,v}}function d7(){var n=Wd(_I()(Zr));return n.copy=function(){return Yd(n,d7())},Du.apply(n,arguments)}function f7(){var n=Lk(_I()).domain([.1,1,10]);return n.copy=function(){return Yd(n,f7()).base(n.base())},Du.apply(n,arguments)}function h7(){var n=Qk(_I());return n.copy=function(){return Yd(n,h7()).constant(n.constant())},Du.apply(n,arguments)}function Yk(){var n=kk(_I());return n.copy=function(){return Yd(n,Yk()).exponent(n.exponent())},Du.apply(n,arguments)}function z1e(){return Yk.apply(null,arguments).exponent(.5)}const Ew=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fk,scaleDiverging:d7,scaleDivergingLog:f7,scaleDivergingPow:Yk,scaleDivergingSqrt:z1e,scaleDivergingSymlog:h7,scaleIdentity:qJ,scaleImplicit:tQ,scaleLinear:zJ,scaleLog:jJ,scaleOrdinal:Ik,scalePoint:M_e,scalePow:Ok,scaleQuantile:XJ,scaleQuantize:JJ,scaleRadial:YJ,scaleSequential:A7,scaleSequentialLog:l7,scaleSequentialPow:Wk,scaleSequentialQuantile:c7,scaleSequentialSqrt:G1e,scaleSequentialSymlog:u7,scaleSqrt:STe,scaleSymlog:WJ,scaleThreshold:ZJ,scaleTime:V1e,scaleUtc:K1e,tickFormat:GJ},Symbol.toStringTag,{value:"Module"}));var Xd=n=>n.chartData,q1e=Ae([Xd],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),Xk=(n,e,t,i)=>i?q1e(n):Xd(n);function Gd(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(di(e)&&di(t))return!0}return!1}function hq(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function p7(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,i]=n,r,s;if(di(t))r=t;else if(typeof t=="function")return;if(di(i))s=i;else if(typeof i=="function")return;var a=[r,s];if(Gd(a))return a}}function $1e(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var i=n(e,t);if(Gd(i))return hq(i,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[r,s]=n,a,o;if(r==="auto")e!=null&&(a=Math.min(...e));else if(it(r))a=r;else if(typeof r=="function")try{e!=null&&(a=r(e==null?void 0:e[0]))}catch{}else if(typeof r=="string"&&K5.test(r)){var l=K5.exec(r);if(l==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(it(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&G5.test(s)){var d=G5.exec(s);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var g=[a,o];if(Gd(g))return e==null?g:hq(g,e,t)}}}var wy=1e9,j1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zk,Qn=!0,so="[DecimalError] ",hp=so+"Invalid argument: ",Jk=so+"Exponent out of range: ",by=Math.floor,Tf=Math.pow,W1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oa,Zi=1e7,Fn=7,g7=9007199254740991,YT=by(g7/Fn),ke={};ke.absoluteValue=ke.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};ke.comparedTo=ke.cmp=function(n){var e,t,i,r,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(i=s.d.length,r=n.d.length,e=0,t=i<r?i:r;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*Fn;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};ke.dividedBy=ke.div=function(n){return du(this,new this.constructor(n))};ke.dividedToIntegerBy=ke.idiv=function(n){var e=this,t=e.constructor;return wn(du(e,new t(n),0,1),t.precision)};ke.equals=ke.eq=function(n){return!this.cmp(n)};ke.exponent=function(){return Si(this)};ke.greaterThan=ke.gt=function(n){return this.cmp(n)>0};ke.greaterThanOrEqualTo=ke.gte=function(n){return this.cmp(n)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(n){return this.cmp(n)<0};ke.lessThanOrEqualTo=ke.lte=function(n){return this.cmp(n)<1};ke.logarithm=ke.log=function(n){var e,t=this,i=t.constructor,r=i.precision,s=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(oa))throw Error(so+"NaN");if(t.s<1)throw Error(so+(t.s?"NaN":"-Infinity"));return t.eq(oa)?new i(0):(Qn=!1,e=du(sb(t,s),sb(n,s),s),Qn=!0,wn(e,r))};ke.minus=ke.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?y7(e,n):m7(e,(n.s=-n.s,n))};ke.modulo=ke.mod=function(n){var e,t=this,i=t.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(so+"NaN");return t.s?(Qn=!1,e=du(t,n,0,1).times(n),Qn=!0,t.minus(e)):wn(new i(t),r)};ke.naturalExponential=ke.exp=function(){return v7(this)};ke.naturalLogarithm=ke.ln=function(){return sb(this)};ke.negated=ke.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};ke.plus=ke.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?m7(e,n):y7(e,(n.s=-n.s,n))};ke.precision=ke.sd=function(n){var e,t,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(hp+n);if(e=Si(r)+1,i=r.d.length-1,t=i*Fn+1,i=r.d[i],i){for(;i%10==0;i/=10)t--;for(i=r.d[0];i>=10;i/=10)t++}return n&&e>t?e:t};ke.squareRoot=ke.sqrt=function(){var n,e,t,i,r,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(so+"NaN")}for(n=Si(o),Qn=!1,r=Math.sqrt(+o),r==0||r==1/0?(e=_A(o.d),(e.length+n)%2==0&&(e+="0"),r=Math.sqrt(e),n=by((n+1)/2)-(n<0||n%2),r==1/0?e="5e"+n:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),i=new l(e)):i=new l(r.toString()),t=l.precision,r=a=t+3;;)if(s=i,i=s.plus(du(o,s,a+2)).times(.5),_A(s.d).slice(0,a)===(e=_A(i.d)).slice(0,a)){if(e=e.slice(a-3,a+1),r==a&&e=="4999"){if(wn(s,t+1,0),s.times(s).eq(o)){i=s;break}}else if(e!="9999")break;a+=4}return Qn=!0,wn(i,t)};ke.times=ke.mul=function(n){var e,t,i,r,s,a,o,l,u,d=this,h=d.constructor,g=d.d,v=(n=new h(n)).d;if(!d.s||!n.s)return new h(0);for(n.s*=d.s,t=d.e+n.e,l=g.length,u=v.length,l<u&&(s=g,g=v,v=s,a=l,l=u,u=a),s=[],a=l+u,i=a;i--;)s.push(0);for(i=u;--i>=0;){for(e=0,r=l+i;r>i;)o=s[r]+v[i]*g[r-i-1]+e,s[r--]=o%Zi|0,e=o/Zi|0;s[r]=(s[r]+e)%Zi|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,Qn?wn(n,h.precision):n};ke.toDecimalPlaces=ke.todp=function(n,e){var t=this,i=t.constructor;return t=new i(t),n===void 0?t:(UA(n,0,wy),e===void 0?e=i.rounding:UA(e,0,8),wn(t,n+Si(t)+1,e))};ke.toExponential=function(n,e){var t,i=this,r=i.constructor;return n===void 0?t=bp(i,!0):(UA(n,0,wy),e===void 0?e=r.rounding:UA(e,0,8),i=wn(new r(i),n+1,e),t=bp(i,!0,n+1)),t};ke.toFixed=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?bp(r):(UA(n,0,wy),e===void 0?e=s.rounding:UA(e,0,8),i=wn(new s(r),n+Si(r)+1,e),t=bp(i.abs(),!1,n+Si(i)+1),r.isneg()&&!r.isZero()?"-"+t:t)};ke.toInteger=ke.toint=function(){var n=this,e=n.constructor;return wn(new e(n),Si(n)+1,e.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(n){var e,t,i,r,s,a,o=this,l=o.constructor,u=12,d=+(n=new l(n));if(!n.s)return new l(oa);if(o=new l(o),!o.s){if(n.s<1)throw Error(so+"Infinity");return o}if(o.eq(oa))return o;if(i=l.precision,n.eq(oa))return wn(o,i);if(e=n.e,t=n.d.length-1,a=e>=t,s=o.s,a){if((t=d<0?-d:d)<=g7){for(r=new l(oa),e=Math.ceil(i/Fn+4),Qn=!1;t%2&&(r=r.times(o),gq(r.d,e)),t=by(t/2),t!==0;)o=o.times(o),gq(o.d,e);return Qn=!0,n.s<0?new l(oa).div(r):wn(r,i)}}else if(s<0)throw Error(so+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,Qn=!1,r=n.times(sb(o,i+u)),Qn=!0,r=v7(r),r.s=s,r};ke.toPrecision=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?(t=Si(r),i=bp(r,t<=s.toExpNeg||t>=s.toExpPos)):(UA(n,1,wy),e===void 0?e=s.rounding:UA(e,0,8),r=wn(new s(r),n,e),t=Si(r),i=bp(r,n<=t||t<=s.toExpNeg,n)),i};ke.toSignificantDigits=ke.tosd=function(n,e){var t=this,i=t.constructor;return n===void 0?(n=i.precision,e=i.rounding):(UA(n,1,wy),e===void 0?e=i.rounding:UA(e,0,8)),wn(new i(t),n,e)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Si(n),t=n.constructor;return bp(n,e<=t.toExpNeg||e>=t.toExpPos)};function m7(n,e){var t,i,r,s,a,o,l,u,d=n.constructor,h=d.precision;if(!n.s||!e.s)return e.s||(e=new d(n)),Qn?wn(e,h):e;if(l=n.d,u=e.d,a=n.e,r=e.e,l=l.slice(),s=a-r,s){for(s<0?(i=l,s=-s,o=u.length):(i=u,r=a,o=l.length),a=Math.ceil(h/Fn),o=a>o?a+1:o+1,s>o&&(s=o,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,i=u,u=l,l=i),t=0;s;)t=(l[--s]=l[s]+u[s]+t)/Zi|0,l[s]%=Zi;for(t&&(l.unshift(t),++r),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=r,Qn?wn(e,h):e}function UA(n,e,t){if(n!==~~n||n<e||n>t)throw Error(hp+n)}function _A(n){var e,t,i,r=n.length-1,s="",a=n[0];if(r>0){for(s+=a,e=1;e<r;e++)i=n[e]+"",t=Fn-i.length,t&&(s+=mc(t)),s+=i;a=n[e],i=a+"",t=Fn-i.length,t&&(s+=mc(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var du=(function(){function n(i,r){var s,a=0,o=i.length;for(i=i.slice();o--;)s=i[o]*r+a,i[o]=s%Zi|0,a=s/Zi|0;return a&&i.unshift(a),i}function e(i,r,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(i[o]!=r[o]){l=i[o]>r[o]?1:-1;break}return l}function t(i,r,s){for(var a=0;s--;)i[s]-=a,a=i[s]<r[s]?1:0,i[s]=a*Zi+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,a){var o,l,u,d,h,g,v,b,C,E,x,I,T,R,P,D,Q,H,k=i.constructor,K=i.s==r.s?1:-1,V=i.d,q=r.d;if(!i.s)return new k(i);if(!r.s)throw Error(so+"Division by zero");for(l=i.e-r.e,Q=q.length,P=V.length,v=new k(K),b=v.d=[],u=0;q[u]==(V[u]||0);)++u;if(q[u]>(V[u]||0)&&--l,s==null?I=s=k.precision:a?I=s+(Si(i)-Si(r))+1:I=s,I<0)return new k(0);if(I=I/Fn+2|0,u=0,Q==1)for(d=0,q=q[0],I++;(u<P||d)&&I--;u++)T=d*Zi+(V[u]||0),b[u]=T/q|0,d=T%q|0;else{for(d=Zi/(q[0]+1)|0,d>1&&(q=n(q,d),V=n(V,d),Q=q.length,P=V.length),R=Q,C=V.slice(0,Q),E=C.length;E<Q;)C[E++]=0;H=q.slice(),H.unshift(0),D=q[0],q[1]>=Zi/2&&++D;do d=0,o=e(q,C,Q,E),o<0?(x=C[0],Q!=E&&(x=x*Zi+(C[1]||0)),d=x/D|0,d>1?(d>=Zi&&(d=Zi-1),h=n(q,d),g=h.length,E=C.length,o=e(h,C,g,E),o==1&&(d--,t(h,Q<g?H:q,g))):(d==0&&(o=d=1),h=q.slice()),g=h.length,g<E&&h.unshift(0),t(C,h,E),o==-1&&(E=C.length,o=e(q,C,Q,E),o<1&&(d++,t(C,Q<E?H:q,E))),E=C.length):o===0&&(d++,C=[0]),b[u++]=d,o&&C[0]?C[E++]=V[R]||0:(C=[V[R]],E=1);while((R++<P||C[0]!==void 0)&&I--)}return b[0]||b.shift(),v.e=l,wn(v,a?s+Si(v)+1:s)}})();function v7(n,e){var t,i,r,s,a,o,l=0,u=0,d=n.constructor,h=d.precision;if(Si(n)>16)throw Error(Jk+Si(n));if(!n.s)return new d(oa);for(Qn=!1,o=h,a=new d(.03125);n.abs().gte(.1);)n=n.times(a),u+=5;for(i=Math.log(Tf(2,u))/Math.LN10*2+5|0,o+=i,t=r=s=new d(oa),d.precision=o;;){if(r=wn(r.times(n),o),t=t.times(++l),a=s.plus(du(r,t,o)),_A(a.d).slice(0,o)===_A(s.d).slice(0,o)){for(;u--;)s=wn(s.times(s),o);return d.precision=h,e==null?(Qn=!0,wn(s,h)):s}s=a}}function Si(n){for(var e=n.e*Fn,t=n.d[0];t>=10;t/=10)e++;return e}function rR(n,e,t){if(e>n.LN10.sd())throw Qn=!0,t&&(n.precision=t),Error(so+"LN10 precision limit exceeded");return wn(new n(n.LN10),e)}function mc(n){for(var e="";n--;)e+="0";return e}function sb(n,e){var t,i,r,s,a,o,l,u,d,h=1,g=10,v=n,b=v.d,C=v.constructor,E=C.precision;if(v.s<1)throw Error(so+(v.s?"NaN":"-Infinity"));if(v.eq(oa))return new C(0);if(e==null?(Qn=!1,u=E):u=e,v.eq(10))return e==null&&(Qn=!0),rR(C,u);if(u+=g,C.precision=u,t=_A(b),i=t.charAt(0),s=Si(v),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)v=v.times(n),t=_A(v.d),i=t.charAt(0),h++;s=Si(v),i>1?(v=new C("0."+t),s++):v=new C(i+"."+t.slice(1))}else return l=rR(C,u+2,E).times(s+""),v=sb(new C(i+"."+t.slice(1)),u-g).plus(l),C.precision=E,e==null?(Qn=!0,wn(v,E)):v;for(o=a=v=du(v.minus(oa),v.plus(oa),u),d=wn(v.times(v),u),r=3;;){if(a=wn(a.times(d),u),l=o.plus(du(a,new C(r),u)),_A(l.d).slice(0,u)===_A(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(rR(C,u+2,E).times(s+""))),o=du(o,new C(h),u),C.precision=E,e==null?(Qn=!0,wn(o,E)):o;o=l,r+=2}}function pq(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,t=t-i-1,n.e=by(t/Fn),n.d=[],i=(t+1)%Fn,t<0&&(i+=Fn),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=Fn;i<r;)n.d.push(+e.slice(i,i+=Fn));e=e.slice(i),i=Fn-e.length}else i-=r;for(;i--;)e+="0";if(n.d.push(+e),Qn&&(n.e>YT||n.e<-YT))throw Error(Jk+t)}else n.s=0,n.e=0,n.d=[0];return n}function wn(n,e,t){var i,r,s,a,o,l,u,d,h=n.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(i=e-a,i<0)i+=Fn,r=e,u=h[d=0];else{if(d=Math.ceil((i+1)/Fn),s=h.length,d>=s)return n;for(u=s=h[d],a=1;s>=10;s/=10)a++;i%=Fn,r=i-Fn+a}if(t!==void 0&&(s=Tf(10,a-r-1),o=u/s%10|0,l=e<0||h[d+1]!==void 0||u%s,l=t<4?(o||l)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(i>0?r>0?u/Tf(10,a-r):0:h[d-1])%10&1||t==(n.s<0?8:7))),e<1||!h[0])return l?(s=Si(n),h.length=1,e=e-s-1,h[0]=Tf(10,(Fn-e%Fn)%Fn),n.e=by(-e/Fn)||0):(h.length=1,h[0]=n.e=n.s=0),n;if(i==0?(h.length=d,s=1,d--):(h.length=d+1,s=Tf(10,Fn-i),h[d]=r>0?(u/Tf(10,a-r)%Tf(10,r)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==Zi&&(h[0]=1,++n.e);break}else{if(h[d]+=s,h[d]!=Zi)break;h[d--]=0,s=1}for(i=h.length;h[--i]===0;)h.pop();if(Qn&&(n.e>YT||n.e<-YT))throw Error(Jk+Si(n));return n}function y7(n,e){var t,i,r,s,a,o,l,u,d,h,g=n.constructor,v=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),Qn?wn(e,v):e;if(l=n.d,h=e.d,i=e.e,u=n.e,l=l.slice(),a=u-i,a){for(d=a<0,d?(t=l,a=-a,o=h.length):(t=h,i=u,o=l.length),r=Math.max(Math.ceil(v/Fn),o)+2,a>r&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for(r=l.length,o=h.length,d=r<o,d&&(o=r),r=0;r<o;r++)if(l[r]!=h[r]){d=l[r]<h[r];break}a=0}for(d&&(t=l,l=h,h=t,e.s=-e.s),o=l.length,r=h.length-o;r>0;--r)l[o++]=0;for(r=h.length;r>a;){if(l[--r]<h[r]){for(s=r;s&&l[--s]===0;)l[s]=Zi-1;--l[s],l[r]+=Zi}l[r]-=h[r]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--i;return l[0]?(e.d=l,e.e=i,Qn?wn(e,v):e):new g(0)}function bp(n,e,t){var i,r=Si(n),s=_A(n.d),a=s.length;return e?(t&&(i=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+mc(i):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+mc(-r-1)+s,t&&(i=t-a)>0&&(s+=mc(i))):r>=a?(s+=mc(r+1-a),t&&(i=t-r-1)>0&&(s=s+"."+mc(i))):((i=r+1)<a&&(s=s.slice(0,i)+"."+s.slice(i)),t&&(i=t-a)>0&&(r+1===a&&(s+="."),s+=mc(i))),n.s<0?"-"+s:s}function gq(n,e){if(n.length>e)return n.length=e,!0}function w7(n){var e,t,i;function r(s){var a=this;if(!(a instanceof r))return new r(s);if(a.constructor=r,s instanceof r){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(hp+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return pq(a,s.toString())}else if(typeof s!="string")throw Error(hp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,W1e.test(s))pq(a,s);else throw Error(hp+s)}if(r.prototype=ke,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=w7,r.config=r.set=Y1e,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}function Y1e(n){if(!n||typeof n!="object")throw Error(so+"Object expected");var e,t,i,r=["precision",1,wy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=n[t=r[e]])!==void 0)if(by(i)===i&&i>=r[e+1]&&i<=r[e+2])this[t]=i;else throw Error(hp+t+": "+i);if((i=n[t="LN10"])!==void 0)if(i==Math.LN10)this[t]=new this(i);else throw Error(hp+t+": "+i);return this}var Zk=w7(j1e);oa=new Zk(1);const Yt=Zk;var X1e=n=>n,b7={},C7=n=>n===b7,mq=n=>function e(){return arguments.length===0||arguments.length===1&&C7(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},B7=(n,e)=>n===1?e:mq(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var s=i.filter(a=>a!==b7).length;return s>=n?e(...i):B7(n-s,mq(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=i.map(d=>C7(d)?o.shift():d);return e(...u,...o)}))}),J1e=n=>B7(n.length,n),sQ=(n,e)=>{for(var t=[],i=n;i<e;++i)t[i-n]=i;return t},Z1e=J1e((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),eIe=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t.length)return X1e;var r=t.reverse(),s=r[0],a=r.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},aQ=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function E7(n){var e;return n===0?e=1:e=Math.floor(new Yt(n).abs().log(10).toNumber())+1,e}function S7(n,e,t){for(var i=new Yt(n),r=0,s=[];i.lt(e)&&r<1e5;)s.push(i.toNumber()),i=i.add(t),r++;return s}var x7=n=>{var[e,t]=n,[i,r]=[e,t];return e>t&&([i,r]=[t,e]),[i,r]},_7=(n,e,t)=>{if(n.lte(0))return new Yt(0);var i=E7(n.toNumber()),r=new Yt(10).pow(i),s=n.div(r),a=i!==1?.05:.1,o=new Yt(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(r);return e?new Yt(l.toNumber()):new Yt(Math.ceil(l.toNumber()))},tIe=(n,e,t)=>{var i=new Yt(1),r=new Yt(n);if(!r.isint()&&t){var s=Math.abs(n);s<1?(i=new Yt(10).pow(E7(n)-1),r=new Yt(Math.floor(r.div(i).toNumber())).mul(i)):s>1&&(r=new Yt(Math.floor(n)))}else n===0?r=new Yt(Math.floor((e-1)/2)):t||(r=new Yt(Math.floor(n)));var a=Math.floor((e-1)/2),o=eIe(Z1e(l=>r.add(new Yt(l-a).mul(i)).toNumber()),sQ);return o(0,e)},T7=function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(i-1)))return{step:new Yt(0),tickMin:new Yt(0),tickMax:new Yt(0)};var a=_7(new Yt(t).sub(e).div(i-1),r,s),o;e<=0&&t>=0?o=new Yt(0):(o=new Yt(e).add(t).div(2),o=o.sub(new Yt(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new Yt(t).sub(o).div(a).toNumber()),d=l+u+1;return d>i?T7(e,t,i,r,s+1):(d<i&&(u=t>0?u+(i-d):u,l=t>0?l:l+(i-d)),{step:a,tickMin:o.sub(new Yt(l).mul(a)),tickMax:o.add(new Yt(u).mul(a))})},nIe=function(e){var[t,i]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,l]=x7([t,i]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...sQ(0,r-1).map(()=>1/0)]:[...sQ(0,r-1).map(()=>-1/0),l];return t>i?aQ(u):u}if(o===l)return tIe(o,r,s);var{step:d,tickMin:h,tickMax:g}=T7(o,l,a,s,0),v=S7(h,g.add(new Yt(.1).mul(d)),d);return t>i?aQ(v):v},iIe=function(e,t){var[i,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=x7([i,r]);if(a===-1/0||o===1/0)return[i,r];if(a===o)return[a];var l=Math.max(t,2),u=_7(new Yt(o).sub(a).div(l-1),s,0),d=[...S7(new Yt(a),new Yt(o),u),o];return s===!1&&(d=d.map(h=>Math.round(h))),i>r?aQ(d):d},I7=n=>n.rootProps.maxBarSize,rIe=n=>n.rootProps.barGap,F7=n=>n.rootProps.barCategoryGap,sIe=n=>n.rootProps.barSize,TI=n=>n.rootProps.stackOffset,U7=n=>n.rootProps.reverseStackOrder,eO=n=>n.options.chartName,tO=n=>n.rootProps.syncId,M7=n=>n.rootProps.syncMethod,nO=n=>n.options.eventEmitter,_s={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ru={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},sa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},II=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},aIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ru.angleAxisId,includeHidden:!1,name:void 0,reversed:ru.reversed,scale:ru.scale,tick:ru.tick,tickCount:void 0,ticks:void 0,type:ru.type,unit:void 0},oIe={allowDataOverflow:sa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,ticks:void 0,type:sa.type,unit:void 0},AIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ru.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ru.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ru.scale,tick:ru.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},lIe={allowDataOverflow:sa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,ticks:void 0,type:"category",unit:void 0},iO=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?AIe:aIe,rO=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?lIe:oIe,FI=n=>n.polarOptions,sO=Ae([Pu,Ru,nr],i_e),P7=Ae([FI,sO],(n,e)=>{if(n!=null)return Ro(n.innerRadius,e,0)}),R7=Ae([FI,sO],(n,e)=>{if(n!=null)return Ro(n.outerRadius,e,e*.8)}),uIe=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},D7=Ae([FI],uIe);Ae([iO,D7],II);var N7=Ae([sO,P7,R7],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});Ae([rO,N7],II);var L7=Ae([Xt,FI,P7,R7,Pu,Ru],(n,e,t,i,r,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||i==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:Ro(a,r,r/2),cy:Ro(o,s,s/2),innerRadius:t,outerRadius:i,startAngle:l,endAngle:u,clockWise:!1}}}),Qi=(n,e)=>e,UI=(n,e,t)=>t;function aO(n){return n==null?void 0:n.id}function Q7(n,e,t){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:s}=t,a=new Map;return n.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:i;if(!(u==null||u.length===0)){var d=aO(o);u.forEach((h,g)=>{var v=s==null||r?g:String(Or(h,s,null)),b=Or(h,o.dataKey,0),C;a.has(v)?C=a.get(v):C={},Object.assign(C,{[d]:b}),a.set(v,C)})}}),Array.from(a.values())}function MI(n){return n.stackId!=null&&n.dataKey!=null}var PI=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function RI(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function cIe(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var ki=n=>{var e=Xt(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Cy=n=>n.tooltip.settings.axisId;function vq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function XT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(t),!0).forEach(function(i){dIe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dIe(n,e,t){return(e=fIe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fIe(n){var e=hIe(n,"string");return typeof e=="symbol"?e:e+""}function hIe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var oQ=[0,"auto"],Gi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},k7=(n,e)=>n.cartesianAxis.xAxis[e],Nu=(n,e)=>{var t=k7(n,e);return t??Gi},zi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:oQ,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:JB},O7=(n,e)=>n.cartesianAxis.yAxis[e],Lu=(n,e)=>{var t=O7(n,e);return t??zi},pIe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},oO=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??pIe},is=(n,e,t)=>{switch(e){case"xAxis":return Nu(n,t);case"yAxis":return Lu(n,t);case"zAxis":return oO(n,t);case"angleAxis":return iO(n,t);case"radiusAxis":return rO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},gIe=(n,e,t)=>{switch(e){case"xAxis":return Nu(n,t);case"yAxis":return Lu(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},sE=(n,e,t)=>{switch(e){case"xAxis":return Nu(n,t);case"yAxis":return Lu(n,t);case"angleAxis":return iO(n,t);case"radiusAxis":return rO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},H7=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function V7(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var AO=n=>n.graphicalItems.cartesianItems,mIe=Ae([Qi,UI],V7),K7=(n,e,t)=>n.filter(t).filter(i=>(e==null?void 0:e.includeHidden)===!0?!0:!i.hide),aE=Ae([AO,is,mIe],K7,{memoizeOptions:{resultEqualityCheck:RI}}),G7=Ae([aE],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(MI)),z7=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),vIe=Ae([aE],z7),q7=n=>n.map(e=>e.data).filter(Boolean).flat(1),yIe=Ae([aE],q7,{memoizeOptions:{resultEqualityCheck:RI}}),$7=(n,e)=>{var{chartData:t=[],dataStartIndex:i,dataEndIndex:r}=e;return n.length>0?n:t.slice(i,r+1)},lO=Ae([yIe,Xk],$7),j7=(n,e,t)=>(e==null?void 0:e.dataKey)!=null?n.map(i=>({value:Or(i,e.dataKey)})):t.length>0?t.map(i=>i.dataKey).flatMap(i=>n.map(r=>({value:Or(r,i)}))):n.map(i=>({value:i})),DI=Ae([lO,is,aE],j7);function W7(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function K_(n){if(FA(n)||n instanceof Date){var e=Number(n);if(di(e))return e}}function yq(n){if(Array.isArray(n)){var e=[K_(n[0]),K_(n[1])];return Gd(e)?e:void 0}var t=K_(n);if(t!=null)return[t,t]}function Su(n){return n.map(K_).filter(SCe)}function wIe(n,e,t){return!t||typeof e!="number"||IA(e)?[]:t.length?Su(t.flatMap(i=>{var r=Or(n,i.dataKey),s,a;if(Array.isArray(r)?[s,a]=r:s=a=r,!(!di(s)||!di(a)))return[e-s,e+a]})):[]}var Oi=n=>{var e=ki(n),t=Cy(n);return sE(n,e,t)},oE=Ae([Oi],n=>n==null?void 0:n.dataKey),bIe=Ae([G7,Xk,Oi],Q7),Y7=(n,e,t,i)=>{var r={},s=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=i?[...l].reverse():l,d=u.map(aO);return[o,{stackedData:zEe(n,d,t),graphicalItems:u}]}))},AQ=Ae([bIe,G7,TI,U7],Y7),X7=(n,e,t,i)=>{var{dataStartIndex:r,dataEndIndex:s}=e;if(i==null&&t!=="zAxis"){var a=YEe(n,r,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},CIe=Ae([is],n=>n.allowDataOverflow),uO=n=>{var e;if(n==null||!("domain"in n))return oQ;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var t=Su(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:oQ},J7=Ae([is],uO),Z7=Ae([J7,CIe],p7),BIe=Ae([AQ,Xd,Qi,Z7],X7,{memoizeOptions:{resultEqualityCheck:PI}}),cO=n=>n.errorBars,EIe=(n,e,t)=>n.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>W7(t,i)),JT=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.filter(Boolean);if(r.length!==0){var s=r.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},eZ=(n,e,t,i,r)=>{var s,a;if(t.length>0&&n.forEach(o=>{t.forEach(l=>{var u,d,h=(u=i[l.id])===null||u===void 0?void 0:u.filter(x=>W7(r,x)),g=Or(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),v=wIe(o,g,h);if(v.length>=2){var b=Math.min(...v),C=Math.max(...v);(s==null||b<s)&&(s=b),(a==null||C>a)&&(a=C)}var E=yq(g);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),a=a==null?E[1]:Math.max(a,E[1]))})}),(e==null?void 0:e.dataKey)!=null&&n.forEach(o=>{var l=yq(Or(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),di(s)&&di(a))return[s,a]},SIe=Ae([lO,is,vIe,cO,Qi],eZ,{memoizeOptions:{resultEqualityCheck:PI}});function xIe(n){var{value:e}=n;if(FA(e)||e instanceof Date)return e}var _Ie=(n,e,t)=>{var i=n.map(xIe).filter(r=>r!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&v9(i))?RJ(0,n.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},tZ=n=>n.referenceElements.dots,By=(n,e,t)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===t:i.yAxisId===t),TIe=Ae([tZ,Qi,UI],By),nZ=n=>n.referenceElements.areas,IIe=Ae([nZ,Qi,UI],By),iZ=n=>n.referenceElements.lines,FIe=Ae([iZ,Qi,UI],By),rZ=(n,e)=>{var t=Su(n.map(i=>e==="xAxis"?i.x:i.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},UIe=Ae(TIe,Qi,rZ),sZ=(n,e)=>{var t=Su(n.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},MIe=Ae([IIe,Qi],sZ);function PIe(n){var e;if(n.x!=null)return Su([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.x);return t==null||t.length===0?[]:Su(t)}function RIe(n){var e;if(n.y!=null)return Su([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.y);return t==null||t.length===0?[]:Su(t)}var aZ=(n,e)=>{var t=n.flatMap(i=>e==="xAxis"?PIe(i):RIe(i));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},DIe=Ae([FIe,Qi],aZ),NIe=Ae(UIe,DIe,MIe,(n,e,t)=>JT(n,t,e)),oZ=(n,e,t,i,r,s,a,o)=>{if(t!=null)return t;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?JT(i,s,r):JT(s,r);return $1e(e,u,n.allowDataOverflow)},LIe=Ae([is,J7,Z7,BIe,SIe,NIe,Xt,Qi],oZ,{memoizeOptions:{resultEqualityCheck:PI}}),QIe=[0,1],AZ=(n,e,t,i,r,s,a)=>{if(!((n==null||t==null||t.length===0)&&a===void 0)){var{dataKey:o,type:l}=n,u=Tp(e,s);if(u&&o==null){var d;return RJ(0,(d=t==null?void 0:t.length)!==null&&d!==void 0?d:0)}return l==="category"?_Ie(i,n,u):r==="expand"?QIe:a}},dO=Ae([is,Xt,lO,DI,TI,Qi,LIe],AZ),lZ=(n,e,t,i,r)=>{if(n!=null){var{scale:s,type:a}=n;if(s==="auto")return e==="radial"&&r==="radiusAxis"?"band":e==="radial"&&r==="angleAxis"?"linear":a==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat($B(s));return o in Ew?o:"point"}}},AE=Ae([is,Xt,H7,eO,Qi],lZ);function kIe(n){if(n!=null){if(n in Ew)return Ew[n]();var e="scale".concat($B(n));if(e in Ew)return Ew[e]()}}function fO(n,e,t,i){if(!(t==null||i==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(i);var r=kIe(e);if(r!=null){var s=r.domain(t).range(i);return OEe(s),s}}}var uZ=(n,e,t)=>{var i=uO(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Gd(n))return nIe(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Gd(n))return iIe(n,e.tickCount,e.allowDecimals)}},hO=Ae([dO,sE,AE],uZ),cZ=(n,e,t,i)=>{if(i!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&Gd(e)&&Array.isArray(t)&&t.length>0){var r=e[0],s=t[0],a=e[1],o=t[t.length-1];return[Math.min(r,s),Math.max(a,o)]}return e},OIe=Ae([is,dO,hO,Qi],cZ),HIe=Ae(DI,is,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,i=Array.from(Su(n.map(o=>o.value))).sort((o,l)=>o-l);if(i.length<2)return 1/0;var r=i[i.length-1]-i[0];if(r===0)return 1/0;for(var s=0;s<i.length-1;s++){var a=i[s+1]-i[s];t=Math.min(t,a)}return t/r}}),dZ=Ae(HIe,Xt,F7,nr,(n,e,t,i)=>i,(n,e,t,i,r)=>{if(!di(n))return 0;var s=e==="vertical"?i.height:i.width;if(r==="gap")return n*s/2;if(r==="no-gap"){var a=Ro(t,n*s),o=n*s/2;return o-a-(o-a)/s*a}return 0}),VIe=(n,e)=>{var t=Nu(n,e);return t==null||typeof t.padding!="string"?0:dZ(n,"xAxis",e,t.padding)},KIe=(n,e)=>{var t=Lu(n,e);return t==null||typeof t.padding!="string"?0:dZ(n,"yAxis",e,t.padding)},GIe=Ae(Nu,VIe,(n,e)=>{var t,i;if(n==null)return{left:0,right:0};var{padding:r}=n;return typeof r=="string"?{left:e,right:e}:{left:((t=r.left)!==null&&t!==void 0?t:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),zIe=Ae(Lu,KIe,(n,e)=>{var t,i;if(n==null)return{top:0,bottom:0};var{padding:r}=n;return typeof r=="string"?{top:e,bottom:e}:{top:((t=r.top)!==null&&t!==void 0?t:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),qIe=Ae([nr,GIe,pI,hI,(n,e,t)=>t],(n,e,t,i,r)=>{var{padding:s}=i;return r?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),$Ie=Ae([nr,Xt,zIe,pI,hI,(n,e,t)=>t],(n,e,t,i,r,s)=>{var{padding:a}=r;return s?[i.height-a.bottom,a.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),lE=(n,e,t,i)=>{var r;switch(e){case"xAxis":return qIe(n,t,i);case"yAxis":return $Ie(n,t,i);case"zAxis":return(r=oO(n,t))===null||r===void 0?void 0:r.range;case"angleAxis":return D7(n);case"radiusAxis":return N7(n,t);default:return}},fZ=Ae([is,lE],II),Ey=Ae([is,AE,OIe,fZ],fO);Ae([aE,cO,Qi],EIe);function hZ(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var NI=(n,e)=>e,LI=(n,e,t)=>t,jIe=Ae(dI,NI,LI,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(hZ)),WIe=Ae(fI,NI,LI,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(hZ)),pZ=(n,e)=>({width:n.width,height:e.height}),YIe=(n,e)=>{var t=typeof e.width=="number"?e.width:JB;return{width:t,height:n.height}},gZ=Ae(nr,Nu,pZ),XIe=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},JIe=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},ZIe=Ae(Ru,nr,jIe,NI,LI,(n,e,t,i,r)=>{var s={},a;return t.forEach(o=>{var l=pZ(e,o);a==null&&(a=XIe(e,i,n));var u=i==="top"&&!r||i==="bottom"&&r;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),eFe=Ae(Pu,nr,WIe,NI,LI,(n,e,t,i,r)=>{var s={},a;return t.forEach(o=>{var l=YIe(e,o);a==null&&(a=JIe(e,i,n));var u=i==="left"&&!r||i==="right"&&r;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),tFe=(n,e)=>{var t=Nu(n,e);if(t!=null)return ZIe(n,t.orientation,t.mirror)},nFe=Ae([nr,Nu,tFe,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t==null?void 0:t[i];return r==null?{x:n.left,y:0}:{x:n.left,y:r}}}),iFe=(n,e)=>{var t=Lu(n,e);if(t!=null)return eFe(n,t.orientation,t.mirror)},rFe=Ae([nr,Lu,iFe,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t==null?void 0:t[i];return r==null?{x:0,y:n.top}:{x:r,y:n.top}}}),mZ=Ae(nr,Lu,(n,e)=>{var t=typeof e.width=="number"?e.width:JB;return{width:t,height:n.height}}),wq=(n,e,t)=>{switch(e){case"xAxis":return gZ(n,t).width;case"yAxis":return mZ(n,t).height;default:return}},vZ=(n,e,t,i)=>{if(t!=null){var{allowDuplicatedCategory:r,type:s,dataKey:a}=t,o=Tp(n,i),l=e.map(u=>u.value);if(a&&o&&s==="category"&&r&&v9(l))return l}},pO=Ae([Xt,DI,is,Qi],vZ),yZ=(n,e,t,i)=>{if(!(t==null||t.dataKey==null)){var{type:r,scale:s}=t,a=Tp(n,i);if(a&&(r==="number"||s!=="auto"))return e.map(o=>o.value)}},gO=Ae([Xt,DI,sE,Qi],yZ);Ae([Xt,gIe,AE,Ey,pO,gO,lE,hO,Qi],(n,e,t,i,r,s,a,o,l)=>{if(e!=null){var u=Tp(n,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:r,isCategorical:u,niceTicks:o,range:a,realScaleType:t,scale:i}}});var sFe=(n,e,t,i,r,s,a,o,l)=>{if(!(e==null||i==null)){var u=Tp(n,l),{type:d,ticks:h,tickCount:g}=e,v=t==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,b=d==="category"&&i.bandwidth?i.bandwidth()/v:0;b=l==="angleAxis"&&s!=null&&s.length>=2?Aa(s[0]-s[1])*2*b:b;var C=h||r;if(C){var E=C.map((x,I)=>{var T=a?a.indexOf(x):x;return{index:I,coordinate:i(T)+b,value:x,offset:b}});return E.filter(x=>di(x.coordinate))}return u&&o?o.map((x,I)=>({coordinate:i(x)+b,value:x,index:I,offset:b})).filter(x=>di(x.coordinate)):i.ticks?i.ticks(g).map(x=>({coordinate:i(x)+b,value:x,offset:b})):i.domain().map((x,I)=>({coordinate:i(x)+b,value:a?a[x]:x,index:I,offset:b}))}},wZ=Ae([Xt,sE,AE,Ey,hO,lE,pO,gO,Qi],sFe),aFe=(n,e,t,i,r,s,a)=>{if(!(e==null||t==null||i==null||i[0]===i[1])){var o=Tp(n,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(i==null?void 0:i.length)>=2?Aa(i[0]-i[1])*2*u:u,o&&s?s.map((d,h)=>({coordinate:t(d)+u,value:d,index:h,offset:u})):t.ticks?t.ticks(l).map(d=>({coordinate:t(d)+u,value:d,offset:u})):t.domain().map((d,h)=>({coordinate:t(d)+u,value:r?r[d]:d,index:h,offset:u}))}},Ay=Ae([Xt,sE,Ey,lE,pO,gO,Qi],aFe),ly=Ae(is,Ey,(n,e)=>{if(!(n==null||e==null))return XT(XT({},n),{},{scale:e})}),oFe=Ae([is,AE,dO,fZ],fO);Ae((n,e,t)=>oO(n,t),oFe,(n,e)=>{if(!(n==null||e==null))return XT(XT({},n),{},{scale:e})});var AFe=Ae([Xt,dI,fI],(n,e,t)=>{switch(n){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),bZ=n=>n.options.defaultTooltipEventType,CZ=n=>n.options.validateTooltipEventTypes;function BZ(n,e,t){if(n==null)return e;var i=n?"axis":"item";return t==null?e:t.includes(i)?i:e}function mO(n,e){var t=bZ(n),i=CZ(n);return BZ(e,t,i)}function lFe(n){return tt(e=>mO(e,n))}var EZ=(n,e)=>{var t,i=Number(e);if(!(IA(i)||e==null))return i>=0?n==null||(t=n[i])===null||t===void 0?void 0:t.value:void 0},uFe=n=>n.tooltip.settings,bc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},cFe={itemInteraction:{click:bc,hover:bc},axisInteraction:{click:bc,hover:bc},keyboardInteraction:bc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},SZ=Ts({name:"tooltip",initialState:cFe,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:Ln()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Po(n).tooltipItemPayloads.indexOf(t);r>-1&&(n.tooltipItemPayloads[r]=i)},prepare:Ln()},removeTooltipEntrySettings:{reducer(n,e){var t=Po(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:Ln()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:dFe,replaceTooltipEntrySettings:fFe,removeTooltipEntrySettings:hFe,setTooltipSettingsState:pFe,setActiveMouseOverItemIndex:xZ,mouseLeaveItem:gFe,mouseLeaveChart:_Z,setActiveClickItemIndex:mFe,setMouseOverAxisIndex:TZ,setMouseClickAxisIndex:vFe,setSyncInteraction:lQ,setKeyboardInteraction:uQ}=SZ.actions,yFe=SZ.reducer;function bq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Mx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bq(Object(t),!0).forEach(function(i){wFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wFe(n,e,t){return(e=bFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bFe(n){var e=CFe(n,"string");return typeof e=="symbol"?e:e+""}function CFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BFe(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function EFe(n){return n.index!=null}var IZ=(n,e,t,i)=>{if(e==null)return bc;var r=BFe(n,e,t);if(r==null)return bc;if(r.active)return r;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(EFe(r)){if(s)return Mx(Mx({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return Mx(Mx({},bc),{},{coordinate:r.coordinate})};function SFe(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function xFe(n,e){var t=SFe(n),i=e[0],r=e[1];if(t===void 0)return!1;var s=Math.min(i,r),a=Math.max(i,r);return t>=s&&t<=a}function _Fe(n,e,t){if(t==null||e==null)return!0;var i=Or(n,e);return i==null||!Gd(t)?!0:xFe(i,t)}var vO=(n,e,t,i)=>{var r=n==null?void 0:n.index;if(r==null)return null;var s=Number(r);if(!di(s))return r;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||_Fe(u,t,i)?String(l):null},FZ=(n,e,t,i,r,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=r==null?void 0:r[Number(s)];if(d)switch(t){case"horizontal":return{x:d.coordinate,y:(i.top+e)/2};default:return{x:(i.left+n)/2,y:d.coordinate}}}},UZ=(n,e,t,i)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var r;return t==="hover"?r=n.itemInteraction.hover.dataKey:r=n.itemInteraction.click.dataKey,r==null&&i!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===r})},uE=n=>n.options.tooltipPayloadSearcher,Sy=n=>n.tooltip;function Cq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Bq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cq(Object(t),!0).forEach(function(i){TFe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Cq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function TFe(n,e,t){return(e=IFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IFe(n){var e=FFe(n,"string");return typeof e=="symbol"?e:e+""}function FFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function UFe(n,e){return n??e}var MZ=(n,e,t,i,r,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=t,h=[];return n.reduce((g,v)=>{var b,{dataDefinedOnItem:C,settings:E}=v,x=UFe(C,o),I=Array.isArray(x)?uJ(x,u,d):x,T=(b=E==null?void 0:E.dataKey)!==null&&b!==void 0?b:i,R=E==null?void 0:E.nameKey,P;if(i&&Array.isArray(I)&&!Array.isArray(I[0])&&a==="axis"?P=ECe(I,i,r):P=s(I,e,l,R),Array.isArray(P))P.forEach(Q=>{var H=Bq(Bq({},E),{},{name:Q.name,unit:Q.unit,color:void 0,fill:void 0});g.push(z5({tooltipEntrySettings:H,dataKey:Q.dataKey,payload:Q.payload,value:Or(Q.payload,Q.dataKey),name:Q.name}))});else{var D;g.push(z5({tooltipEntrySettings:E,dataKey:T,payload:P,value:Or(P,T),name:(D=Or(P,R))!==null&&D!==void 0?D:E==null?void 0:E.name}))}return g},h)}},yO=Ae([Oi,Xt,H7,eO,ki],lZ),MFe=Ae([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),PFe=Ae([ki,Cy],V7),cE=Ae([MFe,Oi,PFe],K7,{memoizeOptions:{resultEqualityCheck:RI}}),RFe=Ae([cE],n=>n.filter(MI)),DFe=Ae([cE],q7,{memoizeOptions:{resultEqualityCheck:RI}}),xy=Ae([DFe,Xd],$7),NFe=Ae([RFe,Xd,Oi],Q7),wO=Ae([xy,Oi,cE],j7),PZ=Ae([Oi],uO),LFe=Ae([Oi],n=>n.allowDataOverflow),RZ=Ae([PZ,LFe],p7),QFe=Ae([cE],n=>n.filter(MI)),kFe=Ae([NFe,QFe,TI,U7],Y7),OFe=Ae([kFe,Xd,ki,RZ],X7),HFe=Ae([cE],z7),VFe=Ae([xy,Oi,HFe,cO,ki],eZ,{memoizeOptions:{resultEqualityCheck:PI}}),KFe=Ae([tZ,ki,Cy],By),GFe=Ae([KFe,ki],rZ),zFe=Ae([nZ,ki,Cy],By),qFe=Ae([zFe,ki],sZ),$Fe=Ae([iZ,ki,Cy],By),jFe=Ae([$Fe,ki],aZ),WFe=Ae([GFe,jFe,qFe],JT),YFe=Ae([Oi,PZ,RZ,OFe,VFe,WFe,Xt,ki],oZ),dE=Ae([Oi,Xt,xy,wO,TI,ki,YFe],AZ),XFe=Ae([dE,Oi,yO],uZ),JFe=Ae([Oi,dE,XFe,ki],cZ),DZ=n=>{var e=ki(n),t=Cy(n),i=!1;return lE(n,e,t,i)},NZ=Ae([Oi,DZ],II),LZ=Ae([Oi,yO,JFe,NZ],fO),ZFe=Ae([Xt,wO,Oi,ki],vZ),eUe=Ae([Xt,wO,Oi,ki],yZ),tUe=(n,e,t,i,r,s,a,o)=>{if(e){var{type:l}=e,u=Tp(n,o);if(i){var d=t==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,h=l==="category"&&i.bandwidth?i.bandwidth()/d:0;return h=o==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?Aa(r[0]-r[1])*2*h:h,u&&a?a.map((g,v)=>({coordinate:i(g)+h,value:g,index:v,offset:h})):i.domain().map((g,v)=>({coordinate:i(g)+h,value:s?s[g]:g,index:v,offset:h}))}}},Qu=Ae([Xt,Oi,yO,LZ,DZ,ZFe,eUe,ki],tUe),bO=Ae([bZ,CZ,uFe],(n,e,t)=>BZ(t.shared,n,e)),QZ=n=>n.tooltip.settings.trigger,CO=n=>n.tooltip.settings.defaultIndex,fE=Ae([Sy,bO,QZ,CO],IZ),uy=Ae([fE,xy,oE,dE],vO),kZ=Ae([Qu,uy],EZ),OZ=Ae([fE],n=>{if(n)return n.dataKey});Ae([fE],n=>{if(n)return n.graphicalItemId});var HZ=Ae([Sy,bO,QZ,CO],UZ),nUe=Ae([Pu,Ru,Xt,nr,Qu,CO,HZ,uE],FZ),iUe=Ae([fE,nUe],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),rUe=Ae([fE],n=>n.active),sUe=Ae([HZ,uy,Xd,oE,kZ,uE,bO],MZ);Ae([sUe],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function Eq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Sq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Eq(Object(t),!0).forEach(function(i){aUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Eq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function aUe(n,e,t){return(e=oUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oUe(n){var e=AUe(n,"string");return typeof e=="symbol"?e:e+""}function AUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lUe=()=>tt(Oi),uUe=()=>{var n=lUe(),e=tt(Qu),t=tt(LZ);return MT(!n||!t?void 0:Sq(Sq({},n),{},{scale:t}),e)};function xq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xq(Object(t),!0).forEach(function(i){cUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cUe(n,e,t){return(e=dUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dUe(n){var e=fUe(n,"string");return typeof e=="symbol"?e:e+""}function fUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var hUe=(n,e,t,i)=>{var r=e.find(s=>s&&s.index===t);if(r){if(n==="horizontal")return{x:r.coordinate,y:i.chartY};if(n==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},pUe=(n,e,t,i)=>{var r=e.find(u=>u&&u.index===t);if(r){if(n==="centric"){var s=r.coordinate,{radius:a}=i;return yg(yg(yg({},i),Br(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var o=r.coordinate,{angle:l}=i;return yg(yg(yg({},i),Br(i.cx,i.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function gUe(n,e){var{chartX:t,chartY:i}=n;return t>=e.left&&t<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var VZ=(n,e,t,i,r)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||n==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?t[l-1].coordinate:t[o-1].coordinate,d=t[l].coordinate,h=l>=o-1?t[0].coordinate:t[l+1].coordinate,g=void 0;if(Aa(d-u)!==Aa(h-d)){var v=[];if(Aa(h-d)===Aa(r[1]-r[0])){g=h;var b=d+r[1]-r[0];v[0]=Math.min(b,(b+u)/2),v[1]=Math.max(b,(b+u)/2)}else{g=u;var C=h+r[1]-r[0];v[0]=Math.min(d,(C+d)/2),v[1]=Math.max(d,(C+d)/2)}var E=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(n>E[0]&&n<=E[1]||n>=v[0]&&n<=v[1]){({index:a}=t[l]);break}}else{var x=Math.min(u,h),I=Math.max(u,h);if(n>(x+d)/2&&n<=(I+d)/2){({index:a}=t[l]);break}}}else if(e){for(var T=0;T<o;T++)if(T===0&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T===o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2){({index:a}=e[T]);break}}return a},mUe=()=>tt(eO),BO=(n,e)=>e,KZ=(n,e,t)=>t,EO=(n,e,t,i)=>i,vUe=Ae(Qu,n=>iI(n,e=>e.coordinate)),SO=Ae([Sy,BO,KZ,EO],IZ),xO=Ae([SO,xy,oE,dE],vO),yUe=(n,e,t)=>{if(e!=null){var i=Sy(n);return e==="axis"?t==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:t==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},GZ=Ae([Sy,BO,KZ,EO],UZ),ZT=Ae([Pu,Ru,Xt,nr,Qu,EO,GZ,uE],FZ),wUe=Ae([SO,ZT],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),zZ=Ae([Qu,xO],EZ),bUe=Ae([GZ,xO,Xd,oE,zZ,uE,BO],MZ),CUe=Ae([SO,xO],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),BUe=(n,e,t,i,r,s,a)=>{if(!(!n||!t||!i||!r)&&gUe(n,a)){var o=XEe(n,e),l=VZ(o,s,r,t,i),u=hUe(e,r,l,n);return{activeIndex:String(l),activeCoordinate:u}}},EUe=(n,e,t,i,r,s,a)=>{if(!(!n||!i||!r||!s||!t)){var o=A_e(n,t);if(o){var l=JEe(o,e),u=VZ(l,a,s,i,r),d=pUe(e,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},SUe=(n,e,t,i,r,s,a,o)=>{if(!(!n||!e||!i||!r||!s))return e==="horizontal"||e==="vertical"?BUe(n,e,i,r,s,a,o):EUe(n,e,t,i,r,s,a)},xUe=Ae(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var i=n[e];if(i!=null)return t?i.panoramaElementId:i.elementId}}),_Ue=Ae(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(i=>parseInt(i,10)).concat(Object.values(_s)),t=Array.from(new Set(e));return t.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:cIe}});function _q(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Tq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_q(Object(t),!0).forEach(function(i){TUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_q(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function TUe(n,e,t){return(e=IUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IUe(n){var e=FUe(n,"string");return typeof e=="symbol"?e:e+""}function FUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var UUe={},MUe={zIndexMap:Object.values(_s).reduce((n,e)=>Tq(Tq({},n),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),UUe)},PUe=new Set(Object.values(_s));function RUe(n){return PUe.has(n)}var qZ=Ts({name:"zIndex",initialState:MUe,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ln()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!RUe(t)&&delete n.zIndexMap[t])},prepare:Ln()},registerZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t,elementId:i,isPanorama:r}=e.payload;n.zIndexMap[t]?r?n.zIndexMap[t].panoramaElementId=i:n.zIndexMap[t].elementId=i:n.zIndexMap[t]={consumers:0,elementId:r?void 0:i,panoramaElementId:r?i:void 0}},prepare:Ln()},unregisterZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElementId=void 0:n.zIndexMap[t].elementId=void 0)},prepare:Ln()}}}),{registerZIndexPortal:DUe,unregisterZIndexPortal:NUe,registerZIndexPortalId:LUe,unregisterZIndexPortalId:QUe}=qZ.actions,kUe=qZ.reducer;function Jd(n){var{zIndex:e,children:t}=n,i=RSe(),r=i&&e!==void 0&&e!==0,s=ha(),a=fi();U.useLayoutEffect(()=>r?(a(DUe({zIndex:e})),()=>{a(NUe({zIndex:e}))}):jB,[a,e,r]);var o=tt(u=>xUe(u,e,s));if(!r)return t;if(!o)return null;var l=document.getElementById(o);return l?J$.createPortal(t,l):null}function cQ(){return cQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},cQ.apply(null,arguments)}function Iq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Px(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Iq(Object(t),!0).forEach(function(i){OUe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Iq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function OUe(n,e,t){return(e=HUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HUe(n){var e=VUe(n,"string");return typeof e=="symbol"?e:e+""}function VUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KUe(n){var{cursor:e,cursorComp:t,cursorProps:i}=n;return U.isValidElement(e)?U.cloneElement(e,i):U.createElement(t,i)}function GUe(n){var e,{coordinate:t,payload:i,index:r,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:d}=n,h=t,g=i,v=r;if(!l||!h||d!=="ScatterChart"&&u!=="axis")return null;var b,C,E;if(d==="ScatterChart")b=h,C=Cxe,E=_s.cursorLine;else if(d==="BarChart")b=Bxe(o,h,s,a),C=FJ,E=_s.cursorRectangle;else if(o==="radial"&&b9(h)){var{cx:x,cy:I,radius:T,startAngle:R,endAngle:P}=UJ(h);b={cx:x,cy:I,startAngle:R,endAngle:P,innerRadius:T,outerRadius:T},C=PJ,E=_s.cursorLine}else b={points:d_e(o,h,s)},C=SJ,E=_s.cursorLine;var D=typeof l=="object"&&"className"in l?l.className:void 0,Q=Px(Px(Px(Px({stroke:"#ccc",pointerEvents:"none"},s),b),rk(l)),{},{payload:g,payloadIndex:v,className:Un("recharts-tooltip-cursor",D)});return U.createElement(Jd,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:E},U.createElement(KUe,{cursor:l,cursorComp:C,cursorProps:Q}))}function zUe(n){var e=uUe(),t=USe(),i=mI(),r=mUe();return e==null||t==null||i==null||r==null?null:U.createElement(GUe,cQ({},n,{offset:t,layout:i,tooltipAxisBandSize:e,chartName:r}))}var $Z=U.createContext(null),qUe=()=>U.useContext($Z),sR={exports:{}},Fq;function $Ue(){return Fq||(Fq=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new r(d,h||l,g),b=t?t+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],v]:l._events[b].push(v):(l._events[b]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new i:delete l._events[u]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=t?t+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,b=new Array(v);g<v;g++)b[g]=h[g].fn;return b},o.prototype.listenerCount=function(u){var d=t?t+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,g,v,b){var C=t?t+u:u;if(!this._events[C])return!1;var E=this._events[C],x=arguments.length,I,T;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),x){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,h),!0;case 4:return E.fn.call(E.context,d,h,g),!0;case 5:return E.fn.call(E.context,d,h,g,v),!0;case 6:return E.fn.call(E.context,d,h,g,v,b),!0}for(T=1,I=new Array(x-1);T<x;T++)I[T-1]=arguments[T];E.fn.apply(E.context,I)}else{var R=E.length,P;for(T=0;T<R;T++)switch(E[T].once&&this.removeListener(u,E[T].fn,void 0,!0),x){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,d);break;case 3:E[T].fn.call(E[T].context,d,h);break;case 4:E[T].fn.call(E[T].context,d,h,g);break;default:if(!I)for(P=1,I=new Array(x-1);P<x;P++)I[P-1]=arguments[P];E[T].fn.apply(E[T].context,I)}}return!0},o.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,g){var v=t?t+u:u;if(!this._events[v])return this;if(!d)return a(this,v),this;var b=this._events[v];if(b.fn)b.fn===d&&(!g||b.once)&&(!h||b.context===h)&&a(this,v);else{for(var C=0,E=[],x=b.length;C<x;C++)(b[C].fn!==d||g&&!b[C].once||h&&b[C].context!==h)&&E.push(b[C]);E.length?this._events[v]=E.length===1?E[0]:E:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(sR)),sR.exports}var jUe=$Ue();const WUe=RA(jUe);var ab=new WUe,dQ="recharts.syncEvent.tooltip",Uq="recharts.syncEvent.brush";function YUe(n,e){if(e){var t=Number.parseInt(e,10);if(!IA(t))return n==null?void 0:n[t]}}var XUe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},jZ=Ts({name:"options",initialState:XUe,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),JUe=jZ.reducer,{createEventEmitter:ZUe}=jZ.actions;function eMe(n){return n.tooltip.syncInteraction}var tMe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},WZ=Ts({name:"chartData",initialState:tMe,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:i}=e.payload;t!=null&&(n.dataStartIndex=t),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:Mq,setDataStartEndIndexes:nMe,setComputedData:UQe}=WZ.actions,iMe=WZ.reducer,rMe=["x","y"];function Pq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function wg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pq(Object(t),!0).forEach(function(i){sMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Pq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function sMe(n,e,t){return(e=aMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aMe(n){var e=oMe(n,"string");return typeof e=="symbol"?e:e+""}function oMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function AMe(n,e){if(n==null)return{};var t,i,r=lMe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function lMe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function uMe(){var n=tt(tO),e=tt(nO),t=fi(),i=tt(M7),r=tt(Qu),s=mI(),a=gI(),o=tt(l=>l.rootProps.className);U.useEffect(()=>{if(n==null)return jB;var l=(u,d,h)=>{if(e!==h&&n===u){if(i==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x:b,y:C}=v,E=AMe(v,rMe),{x,y:I,width:T,height:R}=d.payload.sourceViewBox,P=wg(wg({},E),{},{x:a.x+(T?(b-x)/T:0)*a.width,y:a.y+(R?(C-I)/R:0)*a.height});t(wg(wg({},d),{},{payload:wg(wg({},d.payload),{},{coordinate:P})}))}else t(d);return}if(r!=null){var D;if(typeof i=="function"){var Q={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},H=i(r,Q);D=r[H]}else i==="value"&&(D=r.find(G=>String(G.value)===d.payload.label));var{coordinate:k}=d.payload;if(D==null||d.payload.active===!1||k==null||a==null){t(lQ({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:V}=k,q=Math.min(K,a.x+a.width),X=Math.min(V,a.y+a.height),ne={x:s==="horizontal"?D.coordinate:q,y:s==="horizontal"?X:D.coordinate},ge=lQ({active:d.payload.active,coordinate:ne,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});t(ge)}}};return ab.on(dQ,l),()=>{ab.off(dQ,l)}},[o,t,e,n,i,r,s,a])}function cMe(){var n=tt(tO),e=tt(nO),t=fi();U.useEffect(()=>{if(n==null)return jB;var i=(r,s,a)=>{e!==a&&n===r&&t(nMe(s))};return ab.on(Uq,i),()=>{ab.off(Uq,i)}},[t,e,n])}function dMe(){var n=fi();U.useEffect(()=>{n(ZUe())},[n]),uMe(),cMe()}function fMe(n,e,t,i,r,s){var a=tt(v=>yUe(v,n,e)),o=tt(nO),l=tt(tO),u=tt(M7),d=tt(eMe),h=d==null?void 0:d.active,g=gI();U.useEffect(()=>{if(!h&&l!=null&&o!=null){var v=lQ({active:s,coordinate:t,dataKey:a,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:g,graphicalItemId:void 0});ab.emit(dQ,l,v,o)}},[h,t,a,r,i,o,l,u,s,g])}function Rq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Dq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rq(Object(t),!0).forEach(function(i){hMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function hMe(n,e,t){return(e=pMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pMe(n){var e=gMe(n,"string");return typeof e=="symbol"?e:e+""}function gMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mMe(n){return n.dataKey}function vMe(n,e){return U.isValidElement(n)?U.cloneElement(n,e):typeof n=="function"?U.createElement(n,e):U.createElement(txe,e)}var Nq=[],yMe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wMe(n){var e,t,i=ao(n,yMe),{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:g,position:v,reverseDirection:b,useTranslate3d:C,wrapperStyle:E,cursor:x,shared:I,trigger:T,defaultIndex:R,portal:P,axisId:D}=i,Q=fi(),H=typeof R=="number"?String(R):R;U.useEffect(()=>{Q(pFe({shared:I,trigger:T,axisId:D,active:r,defaultIndex:H}))},[Q,I,T,D,r,H]);var k=gI(),K=EJ(),V=lFe(I),{activeIndex:q,isActive:X}=(e=tt(Ce=>CUe(Ce,V,T,H)))!==null&&e!==void 0?e:{},ne=tt(Ce=>bUe(Ce,V,T,H)),ge=tt(Ce=>zZ(Ce,V,T,H)),G=tt(Ce=>wUe(Ce,V,T,H)),$=ne,ie=qUe(),se=(t=r??X)!==null&&t!==void 0?t:!1,[be,z]=DBe([$,se]),J=V==="axis"?ge:void 0;fMe(V,T,G,J,q,se);var le=P??ie;if(le==null||k==null||V==null)return null;var ve=$??Nq;se||(ve=Nq),u&&ve.length&&(ve=oBe(ve.filter(Ce=>Ce.value!=null&&(Ce.hide!==!0||i.includeHidden)),g,mMe));var Ee=ve.length>0,Fe=U.createElement(Axe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:se,coordinate:G,hasPayload:Ee,offset:h,position:v,reverseDirection:b,useTranslate3d:C,viewBox:k,wrapperStyle:E,lastBoundingBox:be,innerRef:z,hasPortalFromProps:!!P},vMe(l,Dq(Dq({},i),{},{payload:ve,label:J,active:se,activeIndex:q,coordinate:G,accessibilityLayer:K})));return U.createElement(U.Fragment,null,J$.createPortal(Fe,le),se&&U.createElement(zUe,{cursor:x,tooltipEventType:V,coordinate:G,payload:ve,index:q}))}var _O=n=>null;_O.displayName="Cell";function bMe(n,e,t){return(e=CMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CMe(n){var e=BMe(n,"string");return typeof e=="symbol"?e:e+""}function BMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class EMe{constructor(e){bMe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function Lq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function SMe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lq(Object(t),!0).forEach(function(i){xMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function xMe(n,e,t){return(e=_Me(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _Me(n){var e=TMe(n,"string");return typeof e=="symbol"?e:e+""}function TMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var IMe={cacheSize:2e3,enableCache:!0},YZ=SMe({},IMe),Qq=new EMe(YZ.cacheSize),FMe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kq="recharts_measurement_span";function UMe(n,e){var t=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(i,"|").concat(r,"|").concat(s,"|").concat(a,"|").concat(o)}var Oq=(n,e)=>{try{var t=document.getElementById(kq);t||(t=document.createElement("span"),t.setAttribute("id",kq),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,FMe,e),t.textContent="".concat(n);var i=t.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},Rw=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||eE.isSsr)return{width:0,height:0};if(!YZ.enableCache)return Oq(e,t);var i=UMe(e,t),r=Qq.get(i);if(r)return r;var s=Oq(e,t);return Qq.set(i,s),s},Hq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,PMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},RMe=Object.keys(XZ),Og="NaN";function DMe(n,e){return n*XZ[e]}class Bs{static parse(e){var t,[,i,r]=(t=PMe.exec(e))!==null&&t!==void 0?t:[];return new Bs(parseFloat(i),r??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,IA(e)&&(this.unit=""),t!==""&&!MMe.test(t)&&(this.num=NaN,this.unit=""),RMe.includes(t)&&(this.num=DMe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Bs(NaN,""):new Bs(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Bs(NaN,""):new Bs(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Bs(NaN,""):new Bs(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Bs(NaN,""):new Bs(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return IA(this.num)}}function JZ(n){if(n.includes(Og))return Og;for(var e=n;e.includes("*")||e.includes("/");){var t,[,i,r,s]=(t=Hq.exec(e))!==null&&t!==void 0?t:[],a=Bs.parse(i??""),o=Bs.parse(s??""),l=r==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return Og;e=e.replace(Hq,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,g]=(u=Vq.exec(e))!==null&&u!==void 0?u:[],v=Bs.parse(d??""),b=Bs.parse(g??""),C=h==="+"?v.add(b):v.subtract(b);if(C.isNaN())return Og;e=e.replace(Vq,C.toString())}return e}var Kq=/\(([^()]*)\)/;function NMe(n){for(var e=n,t;(t=Kq.exec(e))!=null;){var[,i]=t;e=e.replace(Kq,JZ(i))}return e}function LMe(n){var e=n.replace(/\s+/g,"");return e=NMe(e),e=JZ(e),e}function QMe(n){try{return LMe(n)}catch{return Og}}function aR(n){var e=QMe(n.slice(5,-1));return e===Og?"":e}var kMe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],OMe=["dx","dy","angle","className","breakAll"];function fQ(){return fQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fQ.apply(null,arguments)}function Gq(n,e){if(n==null)return{};var t,i,r=HMe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function HMe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var ZZ=/[ \f\n\r\t\v\u2028\u2029]+/,eee=n=>{var{children:e,breakAll:t,style:i}=n;try{var r=[];tr(e)||(t?r=e.toString().split(""):r=e.toString().split(ZZ));var s=r.map(o=>({word:o,width:Rw(o,i).width})),a=t?0:Rw("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function VMe(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var tee=(n,e,t,i)=>n.reduce((r,s)=>{var{word:a,width:o}=s,l=r[r.length-1];if(l&&o!=null&&(e==null||i||l.width+o+t<Number(e)))l.words.push(a),l.width+=o+t;else{var u={words:[a],width:o};r.push(u)}return r},[]),nee=n=>n.reduce((e,t)=>e.width>t.width?e:t),KMe="",zq=(n,e,t,i,r,s,a,o)=>{var l=n.slice(0,e),u=eee({breakAll:t,style:i,children:l+KMe});if(!u)return[!1,[]];var d=tee(u.wordsWithComputedWidth,s,a,o),h=d.length>r||nee(d).width>Number(s);return[h,d]},GMe=(n,e,t,i,r)=>{var{maxLines:s,children:a,style:o,breakAll:l}=n,u=it(s),d=String(a),h=tee(e,i,t,r);if(!u||r)return h;var g=h.length>s||nee(h).width>Number(i);if(!g)return h;for(var v=0,b=d.length-1,C=0,E;v<=b&&C<=d.length-1;){var x=Math.floor((v+b)/2),I=x-1,[T,R]=zq(d,I,l,o,s,i,t,r),[P]=zq(d,x,l,o,s,i,t,r);if(!T&&!P&&(v=x+1),T&&P&&(b=x-1),!T&&P){E=R;break}C++}return E||h},qq=n=>{var e=tr(n)?[]:n.toString().split(ZZ);return[{words:e,width:void 0}]},zMe=n=>{var{width:e,scaleToFit:t,children:i,style:r,breakAll:s,maxLines:a}=n;if((e||t)&&!eE.isSsr){var o,l,u=eee({breakAll:s,children:i,style:r});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,l=h}else return qq(i);return GMe({breakAll:s,children:i,maxLines:a,style:r},o,l,e,!!t)}return qq(i)},iee="#808080",qMe={angle:0,breakAll:!1,capHeight:"0.71em",fill:iee,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},TO=U.forwardRef((n,e)=>{var t=ao(n,qMe),{x:i,y:r,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=t,h=Gq(t,kMe),g=U.useMemo(()=>zMe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:b,angle:C,className:E,breakAll:x}=h,I=Gq(h,OMe);if(!FA(i)||!FA(r)||g.length===0)return null;var T=Number(i)+(it(v)?v:0),R=Number(r)+(it(b)?b:0);if(!di(T)||!di(R))return null;var P;switch(d){case"start":P=aR("calc(".concat(a,")"));break;case"middle":P=aR("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:P=aR("calc(".concat(g.length-1," * -").concat(s,")"));break}var D=[];if(l){var Q=g[0].width,{width:H}=h;D.push("scale(".concat(it(H)&&it(Q)?H/Q:1,")"))}return C&&D.push("rotate(".concat(C,", ").concat(T,", ").concat(R,")")),D.length&&(I.transform=D.join(" ")),U.createElement("text",fQ({},io(I),{ref:e,x:T,y:R,className:Un("recharts-text",E),textAnchor:u,fill:o.includes("url")?iee:o}),g.map((k,K)=>{var V=k.words.join(x?"":" ");return U.createElement("tspan",{x:T,dy:K===0?P:s,key:"".concat(V,"-").concat(K)},V)}))});TO.displayName="Text";var $Me=["labelRef"];function jMe(n,e){if(n==null)return{};var t,i,r=WMe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function WMe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function $q(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ai(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$q(Object(t),!0).forEach(function(i){YMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$q(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function YMe(n,e,t){return(e=XMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XMe(n){var e=JMe(n,"string");return typeof e=="symbol"?e:e+""}function JMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function su(){return su=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},su.apply(null,arguments)}var ree=U.createContext(null),ZMe=n=>{var{x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:a,children:o}=n,l=U.useMemo(()=>({x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:a}),[e,t,i,r,s,a]);return U.createElement(ree.Provider,{value:l},o)},see=()=>{var n=U.useContext(ree),e=gI();return n||gJ(e)},ePe=U.createContext(null),tPe=()=>{var n=U.useContext(ePe),e=tt(L7);return n||e},nPe=n=>{var{value:e,formatter:t}=n,i=tr(n.children)?e:n.children;return typeof t=="function"?t(i):i},IO=n=>n!=null&&typeof n=="function",iPe=(n,e)=>{var t=Aa(e-n),i=Math.min(Math.abs(e-n),360);return t*i},rPe=(n,e,t,i,r)=>{var{offset:s,className:a}=n,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:h,endAngle:g,clockWise:v}=r,b=(u+d)/2,C=iPe(h,g),E=C>=0?1:-1,x,I;switch(e){case"insideStart":x=h+E*s,I=v;break;case"insideEnd":x=g-E*s,I=!v;break;case"end":x=g+E*s,I=v;break;default:throw new Error("Unsupported position ".concat(e))}I=C<=0?I:!I;var T=Br(o,l,b,x),R=Br(o,l,b,x+(I?1:-1)*359),P="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(I?0:1,`,
    `).concat(R.x,",").concat(R.y),D=tr(n.id)?$w("recharts-radial-line-"):n.id;return U.createElement("text",su({},i,{dominantBaseline:"central",className:Un("recharts-radial-bar-label",a)}),U.createElement("defs",null,U.createElement("path",{id:D,d:P})),U.createElement("textPath",{xlinkHref:"#".concat(D)},t))},sPe=(n,e,t)=>{var{cx:i,cy:r,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=n,u=(o+l)/2;if(t==="outside"){var{x:d,y:h}=Br(i,r,a+e,u);return{x:d,y:h,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:b}=Br(i,r,g,u);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},hQ=n=>"cx"in n&&it(n.cx),aPe=(n,e)=>{var{parentViewBox:t,offset:i,position:r}=n,s;t!=null&&!hQ(t)&&(s=t);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:d}=e,h=a,g=a+(l-u)/2,v=(h+g)/2,b=(l+u)/2,C=h+l/2,E=d>=0?1:-1,x=E*i,I=E>0?"end":"start",T=E>0?"start":"end",R=l>=0?1:-1,P=R*i,D=R>0?"end":"start",Q=R>0?"start":"end";if(r==="top"){var H={x:h+l/2,y:o-x,textAnchor:"middle",verticalAnchor:I};return Ai(Ai({},H),s?{height:Math.max(o-s.y,0),width:l}:{})}if(r==="bottom"){var k={x:g+u/2,y:o+d+x,textAnchor:"middle",verticalAnchor:T};return Ai(Ai({},k),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(r==="left"){var K={x:v-P,y:o+d/2,textAnchor:D,verticalAnchor:"middle"};return Ai(Ai({},K),s?{width:Math.max(K.x-s.x,0),height:d}:{})}if(r==="right"){var V={x:v+b+P,y:o+d/2,textAnchor:Q,verticalAnchor:"middle"};return Ai(Ai({},V),s?{width:Math.max(s.x+s.width-V.x,0),height:d}:{})}var q=s?{width:b,height:d}:{};return r==="insideLeft"?Ai({x:v+P,y:o+d/2,textAnchor:Q,verticalAnchor:"middle"},q):r==="insideRight"?Ai({x:v+b-P,y:o+d/2,textAnchor:D,verticalAnchor:"middle"},q):r==="insideTop"?Ai({x:h+l/2,y:o+x,textAnchor:"middle",verticalAnchor:T},q):r==="insideBottom"?Ai({x:g+u/2,y:o+d-x,textAnchor:"middle",verticalAnchor:I},q):r==="insideTopLeft"?Ai({x:h+P,y:o+x,textAnchor:Q,verticalAnchor:T},q):r==="insideTopRight"?Ai({x:h+l-P,y:o+x,textAnchor:D,verticalAnchor:T},q):r==="insideBottomLeft"?Ai({x:g+P,y:o+d-x,textAnchor:Q,verticalAnchor:I},q):r==="insideBottomRight"?Ai({x:g+u-P,y:o+d-x,textAnchor:D,verticalAnchor:I},q):r&&typeof r=="object"&&(it(r.x)||wu(r.x))&&(it(r.y)||wu(r.y))?Ai({x:a+Ro(r.x,b),y:o+Ro(r.y,d),textAnchor:"end",verticalAnchor:"end"},q):Ai({x:C,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},q)},oPe={angle:0,offset:5,zIndex:_s.label,position:"middle",textBreakAll:!1};function vc(n){var e=ao(n,oPe),{viewBox:t,position:i,value:r,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=tPe(),h=see(),g=i==="center"?h:d??h,v,b,C;if(t==null?v=g:hQ(t)?v=t:v=gJ(t),!v||tr(r)&&tr(s)&&!U.isValidElement(a)&&typeof a!="function")return null;var E=Ai(Ai({},e),{},{viewBox:v});if(U.isValidElement(a)){var{labelRef:x}=E,I=jMe(E,$Me);return U.cloneElement(a,I)}if(typeof a=="function"){if(b=U.createElement(a,E),U.isValidElement(b))return b}else b=nPe(e);var T=io(e);if(hQ(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return rPe(e,i,b,T,v);C=sPe(v,e.offset,e.position)}else C=aPe(e,v);return U.createElement(Jd,{zIndex:e.zIndex},U.createElement(TO,su({ref:u,className:Un("recharts-label",o)},T,C,{textAnchor:VMe(T.textAnchor)?T.textAnchor:C.textAnchor,breakAll:l}),b))}vc.displayName="Label";var APe=(n,e,t)=>{if(!n)return null;var i={viewBox:e,labelRef:t};return n===!0?U.createElement(vc,su({key:"label-implicit"},i)):FA(n)?U.createElement(vc,su({key:"label-implicit",value:n},i)):U.isValidElement(n)?n.type===vc?U.cloneElement(n,Ai({key:"label-implicit"},i)):U.createElement(vc,su({key:"label-implicit",content:n},i)):IO(n)?U.createElement(vc,su({key:"label-implicit",content:n},i)):n&&typeof n=="object"?U.createElement(vc,su({},n,{key:"label-implicit"},i)):null};function lPe(n){var{label:e,labelRef:t}=n,i=see();return APe(e,i,t)||null}var oR={},AR={},jq;function uPe(){return jq||(jq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(AR)),AR}var lR={},Wq;function cPe(){return Wq||(Wq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(lR)),lR}var Yq;function dPe(){return Yq||(Yq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=uPe(),t=cPe(),i=dk();function r(s){if(i.isArrayLike(s))return e.last(t.toArray(s))}n.last=r})(oR)),oR}var uR,Xq;function fPe(){return Xq||(Xq=1,uR=dPe().last),uR}var hPe=fPe();const pPe=RA(hPe);var gPe=["valueAccessor"],mPe=["dataKey","clockWise","id","textBreakAll","zIndex"];function e1(){return e1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},e1.apply(null,arguments)}function Jq(n,e){if(n==null)return{};var t,i,r=vPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function vPe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var yPe=n=>Array.isArray(n.value)?pPe(n.value):n.value,aee=U.createContext(void 0),wPe=aee.Provider,oee=U.createContext(void 0);oee.Provider;function bPe(){return U.useContext(aee)}function CPe(){return U.useContext(oee)}function G_(n){var{valueAccessor:e=yPe}=n,t=Jq(n,gPe),{dataKey:i,clockWise:r,id:s,textBreakAll:a,zIndex:o}=t,l=Jq(t,mPe),u=bPe(),d=CPe(),h=u||d;return!h||!h.length?null:U.createElement(Jd,{zIndex:o??_s.label},U.createElement(yu,{className:"recharts-label-list"},h.map((g,v)=>{var b,C=tr(i)?e(g,v):Or(g&&g.payload,i),E=tr(s)?{}:{id:"".concat(s,"-").concat(v)};return U.createElement(vc,e1({key:"label-".concat(v)},io(g),l,E,{fill:(b=t.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:C,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}G_.displayName="LabelList";function BPe(n){var{label:e}=n;return e?e===!0?U.createElement(G_,{key:"labelList-implicit"}):U.isValidElement(e)||IO(e)?U.createElement(G_,{key:"labelList-implicit",content:e}):typeof e=="object"?U.createElement(G_,e1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var EPe={radiusAxis:{},angleAxis:{}},Aee=Ts({name:"polarAxis",initialState:EPe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:MQe,removeRadiusAxis:PQe,addAngleAxis:RQe,removeAngleAxis:DQe}=Aee.actions,SPe=Aee.reducer,cR={exports:{}},rn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zq;function xPe(){if(Zq)return rn;Zq=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function b(C){if(typeof C=="object"&&C!==null){var E=C.$$typeof;switch(E){case n:switch(C=C.type,C){case t:case r:case i:case l:case u:case g:return C;default:switch(C=C&&C.$$typeof,C){case a:case o:case h:case d:return C;case s:return C;default:return E}}case e:return E}}}return rn.ContextConsumer=s,rn.ContextProvider=a,rn.Element=n,rn.ForwardRef=o,rn.Fragment=t,rn.Lazy=h,rn.Memo=d,rn.Portal=e,rn.Profiler=r,rn.StrictMode=i,rn.Suspense=l,rn.SuspenseList=u,rn.isContextConsumer=function(C){return b(C)===s},rn.isContextProvider=function(C){return b(C)===a},rn.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===n},rn.isForwardRef=function(C){return b(C)===o},rn.isFragment=function(C){return b(C)===t},rn.isLazy=function(C){return b(C)===h},rn.isMemo=function(C){return b(C)===d},rn.isPortal=function(C){return b(C)===e},rn.isProfiler=function(C){return b(C)===r},rn.isStrictMode=function(C){return b(C)===i},rn.isSuspense=function(C){return b(C)===l},rn.isSuspenseList=function(C){return b(C)===u},rn.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===t||C===r||C===i||C===l||C===u||typeof C=="object"&&C!==null&&(C.$$typeof===h||C.$$typeof===d||C.$$typeof===a||C.$$typeof===s||C.$$typeof===o||C.$$typeof===v||C.getModuleId!==void 0)},rn.typeOf=b,rn}var e$;function _Pe(){return e$||(e$=1,cR.exports=xPe()),cR.exports}var TPe=_Pe(),t$=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",n$=null,dR=null,lee=n=>{if(n===n$&&Array.isArray(dR))return dR;var e=[];return U.Children.forEach(n,t=>{tr(t)||(TPe.isFragment(t)?e=e.concat(lee(t.props.children)):e.push(t))}),dR=e,n$=n,e};function IPe(n,e){var t=[],i=[];return Array.isArray(e)?i=e.map(r=>t$(r)):i=[t$(e)],lee(n).forEach(r=>{var s=ty(r,"type.displayName")||ty(r,"type.name");s&&i.indexOf(s)!==-1&&t.push(r)}),t}var fR={},i$;function FPe(){return i$||(i$=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const s=t[Symbol.toStringTag];return s==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${s}]`}let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i}n.isPlainObject=e})(fR)),fR}var hR,r$;function UPe(){return r$||(r$=1,hR=FPe().isPlainObject),hR}var MPe=UPe();const PPe=RA(MPe);function s$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function a$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(t),!0).forEach(function(i){RPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function RPe(n,e,t){return(e=DPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function DPe(n){var e=NPe(n,"string");return typeof e=="symbol"?e:e+""}function NPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function t1(){return t1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},t1.apply(null,arguments)}var o$=(n,e,t,i,r)=>{var s=t-i,a;return a="M ".concat(n,",").concat(e),a+="L ".concat(n+t,",").concat(e),a+="L ".concat(n+t-s/2,",").concat(e+r),a+="L ".concat(n+t-s/2-i,",").concat(e+r),a+="L ".concat(n,",").concat(e," Z"),a},LPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QPe=n=>{var e=ao(n,LPe),{x:t,y:i,upperWidth:r,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,g=U.useRef(null),[v,b]=U.useState(-1),C=U.useRef(r),E=U.useRef(s),x=U.useRef(a),I=U.useRef(t),T=U.useRef(i),R=_k(n,"trapezoid-");if(U.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ne=g.current.getTotalLength();ne&&b(ne)}catch{}},[]),t!==+t||i!==+i||r!==+r||s!==+s||a!==+a||r===0&&s===0||a===0)return null;var P=Un("recharts-trapezoid",o);if(!h)return U.createElement("g",null,U.createElement("path",t1({},io(e),{className:P,d:o$(t,i,r,s,a)})));var D=C.current,Q=E.current,H=x.current,k=I.current,K=T.current,V="0px ".concat(v===-1?1:v,"px"),q="".concat(v,"px 0px"),X=xJ(["strokeDasharray"],u,l);return U.createElement(xk,{animationId:R,key:R,canBegin:v>0,duration:u,easing:l,isActive:h,begin:d},ne=>{var ge=yr(D,r,ne),G=yr(Q,s,ne),$=yr(H,a,ne),ie=yr(k,t,ne),se=yr(K,i,ne);g.current&&(C.current=ge,E.current=G,x.current=$,I.current=ie,T.current=se);var be=ne>0?{transition:X,strokeDasharray:q}:{strokeDasharray:V};return U.createElement("path",t1({},io(e),{className:P,d:o$(ie,se,ge,G,$),ref:g,style:a$(a$({},be),e.style)}))})},kPe=["option","shapeType","propTransformer","activeClassName"];function OPe(n,e){if(n==null)return{};var t,i,r=HPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function HPe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function A$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function n1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(t),!0).forEach(function(i){VPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function VPe(n,e,t){return(e=KPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KPe(n){var e=GPe(n,"string");return typeof e=="symbol"?e:e+""}function GPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zPe(n,e){return n1(n1({},e),n)}function qPe(n,e){return n==="symbols"}function l$(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return U.createElement(FJ,t);case"trapezoid":return U.createElement(QPe,t);case"sector":return U.createElement(PJ,t);case"symbols":if(qPe(e))return U.createElement(w9,t);break;case"curve":return U.createElement(SJ,t);default:return null}}function $Pe(n){return U.isValidElement(n)?n.props:n}function jPe(n){var{option:e,shapeType:t,propTransformer:i=zPe,activeClassName:r="recharts-active-shape"}=n,s=OPe(n,kPe),a;if(U.isValidElement(e))a=U.cloneElement(e,n1(n1({},s),$Pe(e)));else if(typeof e=="function")a=e(s,s.index);else if(PPe(e)&&typeof e!="boolean"){var o=i(e,s);a=U.createElement(l$,{shapeType:t,elementProps:o})}else{var l=s;a=U.createElement(l$,{shapeType:t,elementProps:l})}return s.isActive?U.createElement(yu,{className:r},a):a}var uee=(n,e,t)=>{var i=fi();return(r,s)=>a=>{n==null||n(r,s,a),i(xZ({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}},cee=n=>{var e=fi();return(t,i)=>r=>{n==null||n(t,i,r),e(gFe())}},dee=(n,e,t)=>{var i=fi();return(r,s)=>a=>{n==null||n(r,s,a),i(mFe({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}};function WPe(n){var{tooltipEntrySettings:e}=n,t=fi(),i=ha(),r=U.useRef(null);return U.useLayoutEffect(()=>{i||(r.current===null?t(dFe(e)):r.current!==e&&t(fFe({prev:r.current,next:e})),r.current=e)},[e,t,i]),U.useLayoutEffect(()=>()=>{r.current&&(t(hFe(r.current)),r.current=null)},[t]),null}function YPe(n){var{legendPayload:e}=n,t=fi(),i=ha(),r=U.useRef(null);return U.useLayoutEffect(()=>{i||(r.current===null?t($Se(e)):r.current!==e&&t(jSe({prev:r.current,next:e})),r.current=e)},[t,i,e]),U.useLayoutEffect(()=>()=>{r.current&&(t(WSe(r.current)),r.current=null)},[t]),null}var pR,XPe=()=>{var[n]=U.useState(()=>$w("uid-"));return n},JPe=(pR=Jne.useId)!==null&&pR!==void 0?pR:XPe;function fee(n,e){var t=JPe();return e||(n?"".concat(n,"-").concat(t):t)}var ZPe=U.createContext(void 0),eRe=n=>{var{id:e,type:t,children:i}=n,r=fee("recharts-".concat(t),e);return U.createElement(ZPe.Provider,{value:r},i(r))},tRe={cartesianItems:[],polarItems:[]},hee=Ts({name:"graphicalItems",initialState:tRe,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:Ln()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Po(n).cartesianItems.indexOf(t);r>-1&&(n.cartesianItems[r]=i)},prepare:Ln()},removeCartesianGraphicalItem:{reducer(n,e){var t=Po(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:Ln()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:Ln()},removePolarGraphicalItem:{reducer(n,e){var t=Po(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:Ln()}}}),{addCartesianGraphicalItem:nRe,replaceCartesianGraphicalItem:iRe,removeCartesianGraphicalItem:rRe,addPolarGraphicalItem:NQe,removePolarGraphicalItem:LQe}=hee.actions,sRe=hee.reducer,aRe=n=>{var e=fi(),t=U.useRef(null);return U.useLayoutEffect(()=>{t.current===null?e(nRe(n)):t.current!==n&&e(iRe({prev:t.current,next:n})),t.current=n},[e,n]),U.useLayoutEffect(()=>()=>{t.current&&(e(rRe(t.current)),t.current=null)},[e]),null},oRe=U.memo(aRe);function u$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function c$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(t),!0).forEach(function(i){ARe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ARe(n,e,t){return(e=lRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lRe(n){var e=uRe(n,"string");return typeof e=="symbol"?e:e+""}function uRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var cRe={xAxis:{},yAxis:{},zAxis:{}},pee=Ts({name:"cartesianAxis",initialState:cRe,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:Ln()},replaceXAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.xAxis[t.id],n.xAxis[i.id]=i)},prepare:Ln()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:Ln()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:Ln()},replaceYAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.yAxis[t.id],n.yAxis[i.id]=i)},prepare:Ln()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:Ln()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:Ln()},replaceZAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.zAxis[t.id],n.zAxis[i.id]=i)},prepare:Ln()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:Ln()},updateYAxisWidth(n,e){var{id:t,width:i}=e.payload,r=n.yAxis[t];if(r){var s=r.widthHistory||[];if(s.length===3&&s[0]===s[2]&&i===s[1]&&i!==r.width&&Math.abs(i-s[0])<=1)return;var a=[...s,i].slice(-3);n.yAxis[t]=c$(c$({},n.yAxis[t]),{},{width:i,widthHistory:a})}}}}),{addXAxis:dRe,replaceXAxis:fRe,removeXAxis:hRe,addYAxis:pRe,replaceYAxis:gRe,removeYAxis:mRe,addZAxis:QQe,replaceZAxis:kQe,removeZAxis:OQe,updateYAxisWidth:vRe}=pee.actions,yRe=pee.reducer,wRe=Ae([nr],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),bRe=Ae([wRe,Pu,Ru],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),gee=()=>tt(bRe),CRe="Invariant failed";function BRe(n,e){throw new Error(CRe)}var ERe=["x","y"];function pQ(){return pQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},pQ.apply(null,arguments)}function d$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function H0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(t),!0).forEach(function(i){SRe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function SRe(n,e,t){return(e=xRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xRe(n){var e=_Re(n,"string");return typeof e=="symbol"?e:e+""}function _Re(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TRe(n,e){if(n==null)return{};var t,i,r=IRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function IRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function FRe(n,e){var{x:t,y:i}=n,r=TRe(n,ERe),s="".concat(t),a=parseInt(s,10),o="".concat(i),l=parseInt(o,10),u="".concat(e.height||r.height),d=parseInt(u,10),h="".concat(e.width||r.width),g=parseInt(h,10);return H0(H0(H0(H0(H0({},e),r),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function i1(n){return U.createElement(jPe,pQ({shapeType:"rectangle",propTransformer:FRe,activeClassName:"recharts-active-bar"},n))}var URe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(it(e))return e;var s=it(i)||tr(i);return s?e(i,r):(s||BRe(),t)}},MRe={},mee=Ts({name:"errorBars",initialState:MRe,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]||(n[t]=[]),n[t].push(i)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:i,next:r}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===i.dataKey&&s.direction===i.direction?r:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]&&(n[t]=n[t].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:HQe,replaceErrorBar:VQe,removeErrorBar:KQe}=mee.actions,PRe=mee.reducer,RRe=["children"];function DRe(n,e){if(n==null)return{};var t,i,r=NRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function NRe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var LRe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},QRe=U.createContext(LRe);function kRe(n){var{children:e}=n,t=DRe(n,RRe);return U.createElement(QRe.Provider,{value:t},e)}function vee(n,e){var t,i,r=tt(u=>Nu(u,n)),s=tt(u=>Lu(u,e)),a=(t=r==null?void 0:r.allowDataOverflow)!==null&&t!==void 0?t:Gi.allowDataOverflow,o=(i=s==null?void 0:s.allowDataOverflow)!==null&&i!==void 0?i:zi.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function ORe(n){var{xAxisId:e,yAxisId:t,clipPathId:i}=n,r=gee(),{needClipX:s,needClipY:a,needClip:o}=vee(e,t);if(!o||!r)return null;var{x:l,y:u,width:d,height:h}=r;return U.createElement("clipPath",{id:"clipPath-".concat(i)},U.createElement("rect",{x:s?l:l-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}function HRe(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&di(n.zIndex)?n.zIndex:e}var gR={exports:{}},mR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$;function VRe(){if(f$)return mR;f$=1;var n=fy();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,s=n.useEffect,a=n.useMemo,o=n.useDebugValue;return mR.useSyncExternalStoreWithSelector=function(l,u,d,h,g){var v=r(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=a(function(){function E(P){if(!x){if(x=!0,I=P,P=h(P),g!==void 0&&b.hasValue){var D=b.value;if(g(D,P))return T=D}return T=P}if(D=T,t(I,P))return D;var Q=h(P);return g!==void 0&&g(D,Q)?(I=P,D):(I=P,T=Q)}var x=!1,I,T,R=d===void 0?null:d;return[function(){return E(u())},R===null?void 0:function(){return E(R())}]},[u,d,h,g]);var C=i(l,v[0],v[1]);return s(function(){b.hasValue=!0,b.value=C},[C]),o(C),C},mR}var h$;function KRe(){return h$||(h$=1,gR.exports=VRe()),gR.exports}KRe();function GRe(n){n()}function zRe(){let n=null,e=null;return{clear(){n=null,e=null},notify(){GRe(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var p$={notify(){},get:()=>[]};function qRe(n,e){let t,i=p$,r=0,s=!1;function a(C){d();const E=i.subscribe(C);let x=!1;return()=>{x||(x=!0,E(),h())}}function o(){i.notify()}function l(){b.onStateChange&&b.onStateChange()}function u(){return s}function d(){r++,t||(t=n.subscribe(l),i=zRe())}function h(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=p$)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,h())}const b={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>i};return b}var $Re=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jRe=$Re(),WRe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",YRe=WRe(),XRe=()=>jRe||YRe?U.useLayoutEffect:U.useEffect,JRe=XRe();function g$(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function ZRe(n,e){if(g$(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!g$(n[t[r]],e[t[r]]))return!1;return!0}var vR=Symbol.for("react-redux-context"),yR=typeof globalThis<"u"?globalThis:{};function eDe(){if(!U.createContext)return{};const n=yR[vR]??(yR[vR]=new Map);let e=n.get(U.createContext);return e||(e=U.createContext(null),n.set(U.createContext,e)),e}var tDe=eDe();function nDe(n){const{children:e,context:t,serverState:i,store:r}=n,s=U.useMemo(()=>{const l=qRe(r);return{store:r,subscription:l,getServerState:i?()=>i:void 0}},[r,i]),a=U.useMemo(()=>r.getState(),[r]);JRe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=t||tDe;return U.createElement(o.Provider,{value:s},e)}var iDe=nDe,rDe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function sDe(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function FO(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var i of t)if(rDe.has(i)){if(n[i]==null&&e[i]==null)continue;if(!ZRe(n[i],e[i]))return!1}else if(!sDe(n[i],e[i]))return!1;return!0}var aDe=["onMouseEnter","onMouseLeave","onClick"],oDe=["value","background","tooltipPosition"],ADe=["id"],lDe=["onMouseEnter","onClick","onMouseLeave"];function xu(){return xu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xu.apply(null,arguments)}function m$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Jr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?m$(Object(t),!0).forEach(function(i){uDe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uDe(n,e,t){return(e=cDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cDe(n){var e=dDe(n,"string");return typeof e=="symbol"?e:e+""}function dDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function r1(n,e){if(n==null)return{};var t,i,r=fDe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function fDe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var hDe=n=>{var{dataKey:e,name:t,fill:i,legendType:r,hide:s}=n;return[{inactive:s,dataKey:e,type:r,color:i,value:cJ(t,e),payload:n}]},pDe=U.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:i,fill:r,name:s,hide:a,unit:o,tooltipType:l}=n,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:i,fill:r,dataKey:e,nameKey:void 0,name:cJ(s,e),hide:a,type:l,color:r,unit:o}};return U.createElement(WPe,{tooltipEntrySettings:u})});function gDe(n){var e=tt(uy),{data:t,dataKey:i,background:r,allOtherBarProps:s}=n,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,u=r1(s,aDe),d=uee(a,i),h=cee(o),g=dee(l,i);if(!r||t==null)return null;var v=rk(r);return U.createElement(Jd,{zIndex:HRe(r,_s.barBackground)},t.map((b,C)=>{var{value:E,background:x,tooltipPosition:I}=b,T=r1(b,oDe);if(!x)return null;var R=d(b,C),P=h(b,C),D=g(b,C),Q=Jr(Jr(Jr(Jr(Jr({option:r,isActive:String(C)===e},T),{},{fill:"#eee"},x),v),ck(u,b,C)),{},{onMouseEnter:R,onMouseLeave:P,onClick:D,dataKey:i,index:C,className:"recharts-bar-background-rectangle"});return U.createElement(i1,xu({key:"background-bar-".concat(C)},Q))}))}function mDe(n){var{showLabels:e,children:t,rects:i}=n,r=i==null?void 0:i.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Jr(Jr({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return U.createElement(wPe,{value:e?r:void 0},t)}function vDe(n){var{shape:e,activeBar:t,baseProps:i,entry:r,index:s,dataKey:a}=n,o=tt(uy),l=tt(OZ),u=t&&String(s)===o&&(l==null||a===l),d=u?t:e;return u?U.createElement(Jd,{zIndex:_s.activeBar},U.createElement(i1,xu({},i,{name:String(i.name)},r,{isActive:u,option:d,index:s,dataKey:a}))):U.createElement(i1,xu({},i,{name:String(i.name)},r,{isActive:u,option:d,index:s,dataKey:a}))}function yDe(n){var{shape:e,baseProps:t,entry:i,index:r,dataKey:s}=n;return U.createElement(i1,xu({},t,{name:String(t.name)},i,{isActive:!1,option:e,index:r,dataKey:s}))}function wDe(n){var e,{data:t,props:i}=n,r=(e=Vd(i))!==null&&e!==void 0?e:{},{id:s}=r,a=r1(r,ADe),{shape:o,dataKey:l,activeBar:u}=i,{onMouseEnter:d,onClick:h,onMouseLeave:g}=i,v=r1(i,lDe),b=uee(d,l),C=cee(g),E=dee(h,l);return t?U.createElement(U.Fragment,null,t.map((x,I)=>U.createElement(yu,xu({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(I),className:"recharts-bar-rectangle"},ck(v,x,I),{onMouseEnter:b(x,I),onMouseLeave:C(x,I),onClick:E(x,I)}),u?U.createElement(vDe,{shape:o,activeBar:u,baseProps:a,entry:x,index:I,dataKey:l}):U.createElement(yDe,{shape:o,baseProps:a,entry:x,index:I,dataKey:l})))):null}function bDe(n){var{props:e,previousRectanglesRef:t}=n,{data:i,layout:r,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=e,h=t.current,g=_k(e,"recharts-bar-"),[v,b]=U.useState(!1),C=!v,E=U.useCallback(()=>{typeof u=="function"&&u(),b(!1)},[u]),x=U.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return U.createElement(mDe,{showLabels:C,rects:i},U.createElement(xk,{animationId:g,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:E,onAnimationStart:x,key:g},I=>{var T=I===1?i:i==null?void 0:i.map((R,P)=>{var D=h&&h[P];if(D)return Jr(Jr({},R),{},{x:yr(D.x,R.x,I),y:yr(D.y,R.y,I),width:yr(D.width,R.width,I),height:yr(D.height,R.height,I)});if(r==="horizontal"){var Q=yr(0,R.height,I),H=yr(R.stackedBarStart,R.y,I);return Jr(Jr({},R),{},{y:H,height:Q})}var k=yr(0,R.width,I),K=yr(R.stackedBarStart,R.x,I);return Jr(Jr({},R),{},{width:k,x:K})});return I>0&&(t.current=T??null),T==null?null:U.createElement(yu,null,U.createElement(wDe,{props:e,data:T}))}),U.createElement(BPe,{label:e.label}),e.children)}function CDe(n){var e=U.useRef(null);return U.createElement(bDe,{previousRectanglesRef:e,props:n})}var yee=0,BDe=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:Or(n,e)}};class EDe extends U.PureComponent{render(){var{hide:e,data:t,dataKey:i,className:r,xAxisId:s,yAxisId:a,needClip:o,background:l,id:u}=this.props;if(e||t==null)return null;var d=Un("recharts-bar",r),h=u;return U.createElement(yu,{className:d,id:u},o&&U.createElement("defs",null,U.createElement(ORe,{clipPathId:h,xAxisId:s,yAxisId:a})),U.createElement(yu,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},U.createElement(gDe,{data:t,dataKey:i,background:l,allOtherBarProps:this.props}),U.createElement(CDe,this.props)))}}var SDe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:yee,xAxisId:0,yAxisId:0,zIndex:_s.bar};function xDe(n){var{xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=n,{needClip:h}=vee(e,t),g=mI(),v=ha(),b=IPe(n.children,_O),C=tt(I=>eNe(I,e,t,v,n.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var E,x=C==null?void 0:C[0];return x==null||x.height==null||x.width==null?E=0:E=g==="vertical"?x.height/2:x.width/2,U.createElement(kRe,{xAxisId:e,yAxisId:t,data:C,dataPointFormatter:BDe,errorBarOffset:E},U.createElement(EDe,xu({},n,{layout:g,needClip:h,data:C,xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function _De(n){var{layout:e,barSettings:{dataKey:t,minPointSize:i},pos:r,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:h,offset:g,cells:v,parentViewBox:b,dataStartIndex:C}=n,E=e==="horizontal"?o:a,x=d?E.scale.domain():null,I=$Ee({numericAxis:E}),T=E.scale(I);return h.map((R,P)=>{var D,Q,H,k,K,V;d?D=HEe(d[P+C],x):(D=Or(R,t),Array.isArray(D)||(D=[I,D]));var q=URe(i,yee)(D[1],P);if(e==="horizontal"){var X,[ne,ge]=[o.scale(D[0]),o.scale(D[1])];Q=V5({axis:a,ticks:l,bandSize:s,offset:r.offset,entry:R,index:P}),H=(X=ge??ne)!==null&&X!==void 0?X:void 0,k=r.size;var G=ne-ge;if(K=IA(G)?0:G,V={x:Q,y:g.top,width:k,height:g.height},Math.abs(q)>0&&Math.abs(K)<Math.abs(q)){var $=Aa(K||q)*(Math.abs(q)-Math.abs(K));H-=$,K+=$}}else{var[ie,se]=[a.scale(D[0]),a.scale(D[1])];if(Q=ie,H=V5({axis:o,ticks:u,bandSize:s,offset:r.offset,entry:R,index:P}),k=se-ie,K=r.size,V={x:g.left,y:H,width:g.width,height:K},Math.abs(q)>0&&Math.abs(k)<Math.abs(q)){var be=Aa(k||q)*(Math.abs(q)-Math.abs(k));k+=be}}if(Q==null||H==null||k==null||K==null)return null;var z=Jr(Jr({},R),{},{stackedBarStart:T,x:Q,y:H,width:k,height:K,value:d?D:D[1],payload:R,background:V,tooltipPosition:{x:Q+k/2,y:H+K/2},parentViewBox:b},v&&v[P]&&v[P].props);return z}).filter(Boolean)}function TDe(n){var e=ao(n,SDe),t=ha();return U.createElement(eRe,{id:e.id,type:"bar"},i=>U.createElement(U.Fragment,null,U.createElement(YPe,{legendPayload:hDe(e)}),U.createElement(pDe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),U.createElement(oRe,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:qEe(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),U.createElement(Jd,{zIndex:e.zIndex},U.createElement(xDe,xu({},e,{id:i})))))}var wee=U.memo(TDe,FO);wee.displayName="Bar";function v$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Rx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v$(Object(t),!0).forEach(function(i){IDe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):v$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function IDe(n,e,t){return(e=FDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FDe(n){var e=UDe(n,"string");return typeof e=="symbol"?e:e+""}function UDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var MDe=(n,e)=>e,PDe=(n,e,t)=>t,RDe=(n,e,t,i)=>i,DDe=(n,e,t,i,r)=>r,hE=Ae([AO,DDe],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),NDe=Ae([hE],n=>n==null?void 0:n.maxBarSize),LDe=(n,e,t,i,r,s)=>s,y$=(n,e,t)=>{var i=t??n;if(!tr(i))return Ro(i,e,0)},QDe=Ae([Xt,AO,MDe,PDe,RDe],(n,e,t,i,r)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===i).filter(s=>s.isPanorama===r).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),kDe=(n,e,t,i)=>{var r=Xt(n);return r==="horizontal"?AQ(n,"yAxis",t,i):AQ(n,"xAxis",e,i)},ODe=(n,e,t)=>{var i=Xt(n);return i==="horizontal"?wq(n,"xAxis",e):wq(n,"yAxis",t)},HDe=(n,e,t)=>{var i={},r=n.filter(MI),s=n.filter(u=>u.stackId==null),a=r.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),i),o=Object.entries(a).map(u=>{var[d,h]=u,g=h.map(b=>b.dataKey),v=y$(e,t,h[0].barSize);return{stackId:d,dataKeys:g,barSize:v}}),l=s.map(u=>{var d=[u.dataKey].filter(g=>g!=null),h=y$(e,t,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...l]},VDe=Ae([QDe,sIe,ODe],HDe),KDe=(n,e,t,i,r)=>{var s,a,o=hE(n,e,t,i,r);if(o!=null){var l=Xt(n),u=I7(n),{maxBarSize:d}=o,h=tr(d)?u:d,g,v;return l==="horizontal"?(g=ly(n,"xAxis",e,i),v=Ay(n,"xAxis",e,i)):(g=ly(n,"yAxis",t,i),v=Ay(n,"yAxis",t,i)),(s=(a=MT(g,v,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0}},bee=(n,e,t,i)=>{var r=Xt(n),s,a;return r==="horizontal"?(s=ly(n,"xAxis",e,i),a=Ay(n,"xAxis",e,i)):(s=ly(n,"yAxis",t,i),a=Ay(n,"yAxis",t,i)),MT(s,a)};function GDe(n,e,t,i,r){var s=i.length;if(!(s<1)){var a=Ro(n,t,0,!0),o,l=[];if(di(i[0].barSize)){var u=!1,d=t/s,h=i.reduce((x,I)=>x+(I.barSize||0),0);h+=(s-1)*a,h>=t&&(h-=(s-1)*a,a=0),h>=t&&d>0&&(u=!0,d*=.9,h=s*d);var g=(t-h)/2>>0,v={offset:g-a,size:0};o=i.reduce((x,I)=>{var T,R={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:v.offset+v.size+a,size:u?d:(T=I.barSize)!==null&&T!==void 0?T:0}},P=[...x,R];return v=P[P.length-1].position,P},l)}else{var b=Ro(e,t,0,!0);t-2*b-(s-1)*a<=0&&(a=0);var C=(t-2*b-(s-1)*a)/s;C>1&&(C>>=0);var E=di(r)?Math.min(C,r):C;o=i.reduce((x,I,T)=>[...x,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:b+(C+a)*T+(C-E)/2,size:E}}],l)}return o}}var zDe=(n,e,t,i,r,s,a)=>{var o=tr(a)?e:a,l=GDe(t,i,r!==s?r:s,n,o);return r!==s&&l!=null&&(l=l.map(u=>Rx(Rx({},u),{},{position:Rx(Rx({},u.position),{},{offset:u.position.offset-r/2})}))),l},qDe=Ae([VDe,I7,rIe,F7,KDe,bee,NDe],zDe),$De=(n,e,t,i)=>ly(n,"xAxis",e,i),jDe=(n,e,t,i)=>ly(n,"yAxis",t,i),WDe=(n,e,t,i)=>Ay(n,"xAxis",e,i),YDe=(n,e,t,i)=>Ay(n,"yAxis",t,i),XDe=Ae([qDe,hE],(n,e)=>{if(!(n==null||e==null)){var t=n.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),JDe=(n,e)=>{var t=aO(e);if(!(!n||t==null||e==null)){var{stackId:i}=e;if(i!=null){var r=n[i];if(r){var{stackedData:s}=r;if(s)return s.find(a=>a.key===t)}}}},ZDe=Ae([kDe,hE],JDe),eNe=Ae([nr,Ck,$De,jDe,WDe,YDe,XDe,Xt,Xk,bee,ZDe,hE,LDe],(n,e,t,i,r,s,a,o,l,u,d,h,g)=>{var{chartData:v,dataStartIndex:b,dataEndIndex:C}=l;if(!(h==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||t==null||i==null||r==null||s==null||u==null)){var{data:E}=h,x;if(E!=null&&E.length>0?x=E:x=v==null?void 0:v.slice(b,C+1),x!=null)return _De({layout:o,barSettings:h,pos:a,parentViewBox:e,bandSize:u,xAxis:t,yAxis:i,xAxisTicks:r,yAxisTicks:s,stackedData:d,displayedData:x,offset:n,cells:g,dataStartIndex:b})}}),tNe=n=>{var{chartData:e}=n,t=fi(),i=ha();return U.useEffect(()=>i?()=>{}:(t(Mq(e)),()=>{t(Mq(void 0))}),[e,t,i]),null},w$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Cee=Ts({name:"brush",initialState:w$,reducers:{setBrushSettings(n,e){return e.payload==null?w$:e.payload}}}),{setBrushSettings:GQe}=Cee.actions,nNe=Cee.reducer;function iNe(n,e,t){return(e=rNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rNe(n){var e=sNe(n,"string");return typeof e=="symbol"?e:e+""}function sNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class UO{static create(e){return new UO(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(i)switch(i){case"start":return this.scale(e);case"middle":{var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),i=t[0],r=t[t.length-1];return i<=r?e>=i&&e<=r:e>=r&&e<=i}}iNe(UO,"EPS",1e-4);function aNe(n){return(n%180+180)%180}var oNe=function(e){var{width:t,height:i}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=aNe(r),a=s*Math.PI/180,o=Math.atan(i/t),l=a>o&&a<Math.PI-o?i/Math.sin(a):t/Math.cos(a);return Math.abs(l)},ANe={dots:[],areas:[],lines:[]},Bee=Ts({name:"referenceElements",initialState:ANe,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=Po(n).dots.findIndex(i=>i===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=Po(n).areas.findIndex(i=>i===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=Po(n).lines.findIndex(i=>i===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:zQe,removeDot:qQe,addArea:$Qe,removeArea:jQe,addLine:WQe,removeLine:YQe}=Bee.actions,lNe=Bee.reducer,uNe=U.createContext(void 0),cNe=n=>{var{children:e}=n,[t]=U.useState("".concat($w("recharts"),"-clip")),i=gee();if(i==null)return null;var{x:r,y:s,width:a,height:o}=i;return U.createElement(uNe.Provider,{value:t},U.createElement("defs",null,U.createElement("clipPath",{id:t},U.createElement("rect",{x:r,y:s,height:o,width:a}))),e)};function Eee(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],i=0;i<n.length;i+=e)t.push(n[i]);return t}function dNe(n,e,t){var i={width:n.width+e.width,height:n.height+e.height};return oNe(i,t)}function fNe(n,e,t){var i=t==="width",{x:r,y:s,width:a,height:o}=n;return e===1?{start:i?r:s,end:i?r+a:s+o}:{start:i?r+a:s+o,end:i?r:s}}function s1(n,e,t,i,r){if(n*e<n*i||n*e>n*r)return!1;var s=t();return n*(e-n*s/2-i)>=0&&n*(e+n*s/2-r)<=0}function hNe(n,e){return Eee(n,e+1)}function pNe(n,e,t,i,r){for(var s=(i||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,h=function(){var b=i==null?void 0:i[l];if(b===void 0)return{v:Eee(i,u)};var C=l,E,x=()=>(E===void 0&&(E=t(b,C)),E),I=b.coordinate,T=l===0||s1(n,I,x,d,o);T||(l=0,d=a,u+=1),T&&(d=I+n*(x()/2+r),l+=u)},g;u<=s.length;)if(g=h(),g)return g.v;return[]}function b$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Nr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b$(Object(t),!0).forEach(function(i){gNe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gNe(n,e,t){return(e=mNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mNe(n){var e=vNe(n,"string");return typeof e=="symbol"?e:e+""}function vNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yNe(n,e,t,i,r){for(var s=(i||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(g){var v=s[g],b,C=()=>(b===void 0&&(b=t(v,g)),b);if(g===a-1){var E=n*(v.coordinate+n*C()/2-l);s[g]=v=Nr(Nr({},v),{},{tickCoord:E>0?v.coordinate-E*n:v.coordinate})}else s[g]=v=Nr(Nr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var x=s1(n,v.tickCoord,C,o,l);x&&(l=v.tickCoord-n*(C()/2+r),s[g]=Nr(Nr({},v),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function wNe(n,e,t,i,r,s){var a=(i||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var d=i[o-1],h=t(d,o-1),g=n*(d.coordinate+n*h/2-u);if(a[o-1]=d=Nr(Nr({},d),{},{tickCoord:g>0?d.coordinate-g*n:d.coordinate}),d.tickCoord!=null){var v=s1(n,d.tickCoord,()=>h,l,u);v&&(u=d.tickCoord-n*(h/2+r),a[o-1]=Nr(Nr({},d),{},{isShow:!0}))}}for(var b=s?o-1:o,C=function(I){var T=a[I],R,P=()=>(R===void 0&&(R=t(T,I)),R);if(I===0){var D=n*(T.coordinate-n*P()/2-l);a[I]=T=Nr(Nr({},T),{},{tickCoord:D<0?T.coordinate-D*n:T.coordinate})}else a[I]=T=Nr(Nr({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var Q=s1(n,T.tickCoord,P,l,u);Q&&(l=T.tickCoord+n*(P()/2+r),a[I]=Nr(Nr({},T),{},{isShow:!0}))}},E=0;E<b;E++)C(E);return a}function bNe(n,e,t){var{tick:i,ticks:r,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:h}=n;if(!r||!r.length||!i)return[];if(it(l)||eE.isSsr){var g;return(g=hNe(r,it(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],b=o==="top"||o==="bottom"?"width":"height",C=d&&b==="width"?Rw(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},E=(T,R)=>{var P=typeof u=="function"?u(T.value,R):T.value;return b==="width"?dNe(Rw(P,{fontSize:e,letterSpacing:t}),C,h):Rw(P,{fontSize:e,letterSpacing:t})[b]},x=r.length>=2?Aa(r[1].coordinate-r[0].coordinate):1,I=fNe(s,x,b);return l==="equidistantPreserveStart"?pNe(x,I,E,r,a):(l==="preserveStart"||l==="preserveStartEnd"?v=wNe(x,I,E,r,a,l==="preserveStartEnd"):v=yNe(x,I,E,r,a),v.filter(T=>T.isShow))}var CNe=n=>{var{ticks:e,label:t,labelGapWithTick:i=5,tickSize:r=0,tickMargin:s=0}=n,a=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=t?t.getBoundingClientRect().width:0,l=r+s,u=a+l+o+(t?i:0);return Math.round(u)}return 0},BNe=["axisLine","width","height","className","hide","ticks","axisType"];function ENe(n,e){if(n==null)return{};var t,i,r=SNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function SNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Cp(){return Cp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Cp.apply(null,arguments)}function C$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ci(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C$(Object(t),!0).forEach(function(i){xNe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function xNe(n,e,t){return(e=_Ne(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _Ne(n){var e=TNe(n,"string");return typeof e=="symbol"?e:e+""}function TNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var pp={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:_s.axis};function INe(n){var{x:e,y:t,width:i,height:r,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=n;if(!o)return null;var u=Ci(Ci(Ci({},l),Vd(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=Ci(Ci({},u),{},{x1:e,y1:t+d*r,x2:e+i,y2:t+d*r})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=Ci(Ci({},u),{},{x1:e+h*i,y1:t,x2:e+h*i,y2:t+r})}return U.createElement("line",Cp({},u,{className:Un("recharts-cartesian-axis-line",ty(o,"className"))}))}function FNe(n,e,t,i,r,s,a,o,l){var u,d,h,g,v,b,C=o?-1:1,E=n.tickSize||a,x=it(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":u=d=n.coordinate,g=t+ +!o*r,h=g-C*E,b=h-C*l,v=x;break;case"left":h=g=n.coordinate,d=e+ +!o*i,u=d-C*E,v=u-C*l,b=x;break;case"right":h=g=n.coordinate,d=e+ +o*i,u=d+C*E,v=u+C*l,b=x;break;default:u=d=n.coordinate,g=t+ +o*r,h=g+C*E,b=h+C*l,v=x;break}return{line:{x1:u,y1:h,x2:d,y2:g},tick:{x:v,y:b}}}function UNe(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function MNe(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function PNe(n){var{option:e,tickProps:t,value:i}=n,r,s=Un(t.className,"recharts-cartesian-axis-tick-value");if(U.isValidElement(e))r=U.cloneElement(e,Ci(Ci({},t),{},{className:s}));else if(typeof e=="function")r=e(Ci(Ci({},t),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Un(a,e==null?void 0:e.className)),r=U.createElement(TO,Cp({},t,{className:a}),i)}return r}var RNe=U.forwardRef((n,e)=>{var{ticks:t=[],tick:i,tickLine:r,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:h,x:g,y:v,width:b,height:C,tickSize:E,tickMargin:x,fontSize:I,letterSpacing:T,getTicksConfig:R,events:P,axisType:D}=n,Q=bNe(Ci(Ci({},R),{},{ticks:t}),I,T),H=UNe(d,h),k=MNe(d,h),K=Vd(R),V=rk(i),q={};typeof r=="object"&&(q=r);var X=Ci(Ci({},K),{},{fill:"none"},q),ne=Q.map($=>Ci({entry:$},FNe($,g,v,b,C,d,E,h,x))),ge=ne.map($=>{var{entry:ie,line:se}=$;return U.createElement(yu,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},r&&U.createElement("line",Cp({},X,se,{className:Un("recharts-cartesian-axis-tick-line",ty(r,"className"))})))}),G=ne.map(($,ie)=>{var{entry:se,tick:be}=$,z=Ci(Ci(Ci(Ci({textAnchor:H,verticalAnchor:k},K),{},{stroke:"none",fill:s},V),be),{},{index:ie,payload:se,visibleTicksCount:Q.length,tickFormatter:a,padding:l},u);return U.createElement(yu,Cp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},ck(P,se,ie)),i&&U.createElement(PNe,{option:i,tickProps:z,value:"".concat(typeof a=="function"?a(se.value,ie):se.value).concat(o||"")}))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},G.length>0&&U.createElement(Jd,{zIndex:_s.label},U.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},G)),ge.length>0&&U.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},ge))}),DNe=U.forwardRef((n,e)=>{var{axisLine:t,width:i,height:r,className:s,hide:a,ticks:o,axisType:l}=n,u=ENe(n,BNe),[d,h]=U.useState(""),[g,v]=U.useState(""),b=U.useRef(null);U.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return CNe({ticks:b.current,label:(E=n.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var C=U.useCallback(E=>{if(E){var x=E.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=x;var I=x[0];if(I){var T=window.getComputedStyle(I),R=T.fontSize,P=T.letterSpacing;(R!==d||P!==g)&&(h(R),v(P))}}},[d,g]);return a||i!=null&&i<=0||r!=null&&r<=0?null:U.createElement(Jd,{zIndex:n.zIndex},U.createElement(yu,{className:Un("recharts-cartesian-axis",s)},U.createElement(INe,{x:n.x,y:n.y,width:i,height:r,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:Vd(n)}),U.createElement(RNe,{ref:C,axisType:l,events:u,fontSize:d,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:o,unit:n.unit,width:n.width,x:n.x,y:n.y}),U.createElement(ZMe,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},U.createElement(lPe,{label:n.label,labelRef:n.labelRef}),n.children)))}),MO=U.forwardRef((n,e)=>{var t=ao(n,pp);return U.createElement(DNe,Cp({},t,{ref:e}))});MO.displayName="CartesianAxis";var NNe=["domain","range"],LNe=["domain","range"];function B$(n,e){if(n==null)return{};var t,i,r=QNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function QNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function E$(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function See(n,e){if(n===e)return!0;var{domain:t,range:i}=n,r=B$(n,NNe),{domain:s,range:a}=e,o=B$(e,LNe);return!E$(t,s)||!E$(i,a)?!1:FO(r,o)}var kNe=["dangerouslySetInnerHTML","ticks"],ONe=["id"];function gQ(){return gQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gQ.apply(null,arguments)}function S$(n,e){if(n==null)return{};var t,i,r=HNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function HNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function VNe(n){var e=fi(),t=U.useRef(null);return U.useLayoutEffect(()=>{t.current===null?e(dRe(n)):t.current!==n&&e(fRe({prev:t.current,next:n})),t.current=n},[n,e]),U.useLayoutEffect(()=>()=>{t.current&&(e(hRe(t.current)),t.current=null)},[e]),null}var KNe=n=>{var{xAxisId:e,className:t}=n,i=tt(Ck),r=ha(),s="xAxis",a=tt(E=>Ey(E,s,e,r)),o=tt(E=>wZ(E,s,e,r)),l=tt(E=>gZ(E,e)),u=tt(E=>nFe(E,e)),d=tt(E=>k7(E,e));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=n,v=S$(n,kNe),{id:b}=d,C=S$(d,ONe);return U.createElement(MO,gQ({},v,C,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:Un("recharts-".concat(s," ").concat(s),t),viewBox:i,ticks:o,axisType:s}))},GNe={allowDataOverflow:Gi.allowDataOverflow,allowDecimals:Gi.allowDecimals,allowDuplicatedCategory:Gi.allowDuplicatedCategory,angle:Gi.angle,axisLine:pp.axisLine,height:Gi.height,hide:!1,includeHidden:Gi.includeHidden,interval:Gi.interval,minTickGap:Gi.minTickGap,mirror:Gi.mirror,orientation:Gi.orientation,padding:Gi.padding,reversed:Gi.reversed,scale:Gi.scale,tick:Gi.tick,tickCount:Gi.tickCount,tickLine:pp.tickLine,tickSize:pp.tickSize,type:Gi.type,xAxisId:0},zNe=n=>{var e=ao(n,GNe);return U.createElement(U.Fragment,null,U.createElement(VNe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),U.createElement(KNe,e))},xee=U.memo(zNe,See);xee.displayName="XAxis";var qNe=["dangerouslySetInnerHTML","ticks"],$Ne=["id"];function mQ(){return mQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mQ.apply(null,arguments)}function x$(n,e){if(n==null)return{};var t,i,r=jNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function jNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function WNe(n){var e=fi(),t=U.useRef(null);return U.useLayoutEffect(()=>{t.current===null?e(pRe(n)):t.current!==n&&e(gRe({prev:t.current,next:n})),t.current=n},[n,e]),U.useLayoutEffect(()=>()=>{t.current&&(e(mRe(t.current)),t.current=null)},[e]),null}var YNe=n=>{var{yAxisId:e,className:t,width:i,label:r}=n,s=U.useRef(null),a=U.useRef(null),o=tt(Ck),l=ha(),u=fi(),d="yAxis",h=tt(P=>Ey(P,d,e,l)),g=tt(P=>mZ(P,e)),v=tt(P=>rFe(P,e)),b=tt(P=>wZ(P,d,e,l)),C=tt(P=>O7(P,e));if(U.useLayoutEffect(()=>{if(!(i!=="auto"||!g||IO(r)||U.isValidElement(r)||C==null)){var P=s.current;if(P){var D=P.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&u(vRe({id:e,width:D}))}}},[b,g,u,r,e,i,C]),g==null||v==null||C==null)return null;var{dangerouslySetInnerHTML:E,ticks:x}=n,I=x$(n,qNe),{id:T}=C,R=x$(C,$Ne);return U.createElement(MO,mQ({},I,R,{ref:s,labelRef:a,scale:h,x:v.x,y:v.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:g.width,height:g.height,className:Un("recharts-".concat(d," ").concat(d),t),viewBox:o,ticks:b,axisType:d}))},XNe={allowDataOverflow:zi.allowDataOverflow,allowDecimals:zi.allowDecimals,allowDuplicatedCategory:zi.allowDuplicatedCategory,angle:zi.angle,axisLine:pp.axisLine,hide:!1,includeHidden:zi.includeHidden,interval:zi.interval,minTickGap:zi.minTickGap,mirror:zi.mirror,orientation:zi.orientation,padding:zi.padding,reversed:zi.reversed,scale:zi.scale,tick:zi.tick,tickCount:zi.tickCount,tickLine:pp.tickLine,tickSize:pp.tickSize,type:zi.type,width:zi.width,yAxisId:0},JNe=n=>{var e=ao(n,XNe);return U.createElement(U.Fragment,null,U.createElement(WNe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),U.createElement(YNe,e))},_ee=U.memo(JNe,See);_ee.displayName="YAxis";var ZNe=(n,e)=>e,PO=Ae([ZNe,Xt,L7,ki,NZ,Qu,vUe,nr],SUe),RO=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,i=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/i)}},Tee=ro("mouseClick"),Iee=XB();Iee.startListening({actionCreator:Tee,effect:(n,e)=>{var t=n.payload,i=PO(e.getState(),RO(t));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(vFe({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var vQ=ro("mouseMove"),Fee=XB(),Dx=null;Fee.startListening({actionCreator:vQ,effect:(n,e)=>{var t=n.payload;Dx!==null&&cancelAnimationFrame(Dx);var i=RO(t);Dx=requestAnimationFrame(()=>{var r=e.getState(),s=mO(r,r.tooltip.settings.shared);if(s==="axis"){var a=PO(r,i);(a==null?void 0:a.activeIndex)!=null?e.dispatch(TZ({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(_Z())}Dx=null})}});var _$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Uee=Ts({name:"rootProps",initialState:_$,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:_$.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),eLe=Uee.reducer,{updateOptions:tLe}=Uee.actions,Mee=Ts({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:XQe}=Mee.actions,nLe=Mee.reducer,Pee=ro("keyDown"),Ree=ro("focus"),DO=XB();DO.startListening({actionCreator:Pee,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=vO(r,xy(t),oE(t),dE(t)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=Qu(t);if(s==="Enter"){var u=ZT(t,"axis","hover",String(r.index));e.dispatch(uQ({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:u}));return}var d=AFe(t),h=d==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=o+g*h;if(!(l==null||v>=l.length||v<0)){var b=ZT(t,"axis","hover",String(v));e.dispatch(uQ({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}}});DO.startListening({actionCreator:Ree,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip;if(!r.active&&r.index==null){var s="0",a=ZT(t,"axis","hover",String(s));e.dispatch(uQ({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Fa=ro("externalEvent"),Dee=XB(),wR=new Map;Dee.startListening({actionCreator:Fa,effect:(n,e)=>{var{handler:t,reactEvent:i}=n.payload;if(t!=null){i.persist();var r=i.type,s=wR.get(r);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:iUe(o),activeDataKey:OZ(o),activeIndex:uy(o),activeLabel:kZ(o),activeTooltipIndex:uy(o),isTooltipActive:rUe(o)};t(l,i)}finally{wR.delete(r)}});wR.set(r,a)}}});var iLe=Ae([Sy],n=>n.tooltipItemPayloads),rLe=Ae([iLe,uE,(n,e,t)=>e,(n,e,t)=>t],(n,e,t,i)=>{var r=n.find(o=>o.settings.dataKey===i);if(r!=null){var{positions:s}=r;if(s!=null){var a=e(s,t);return a}}}),Nee=ro("touchMove"),Lee=XB();Lee.startListening({actionCreator:Nee,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var i=e.getState(),r=mO(i,i.tooltip.settings.shared);if(r==="axis"){var s=PO(i,RO({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(TZ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(r==="item"){var a,o=t.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(eSe),d=(a=l.getAttribute(tSe))!==null&&a!==void 0?a:void 0,h=rLe(e.getState(),u,d);e.dispatch(xZ({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var sLe=N9({brush:nNe,cartesianAxis:yRe,chartData:iMe,errorBars:PRe,graphicalItems:sRe,layout:DEe,legend:YSe,options:JUe,polarAxis:SPe,polarOptions:nLe,referenceElements:lNe,rootProps:eLe,tooltip:yFe,zIndex:kUe}),aLe=function(e){return aEe({reducer:sLe,preloadedState:e,middleware:t=>{var i;return t({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Iee.middleware,Fee.middleware,DO.middleware,Dee.middleware,Lee.middleware])},enhancers:t=>{var i=t;return typeof t=="function"&&(i=t()),i.concat(X9({type:"raf"}))},devTools:eE.devToolsEnabled})};function oLe(n){var{preloadedState:e,children:t,reduxStoreName:i}=n,r=ha(),s=U.useRef(null);if(r)return t;s.current==null&&(s.current=aLe(e));var a=fk;return U.createElement(iDe,{context:a,store:s.current},t)}function ALe(n){var{layout:e,margin:t}=n,i=fi(),r=ha();return U.useEffect(()=>{r||(i(MEe(e)),i(UEe(t)))},[i,r,e,t]),null}var lLe=U.memo(ALe,FO);function uLe(n){var e=fi();return U.useEffect(()=>{e(tLe(n))},[e,n]),null}function T$(n){var{zIndex:e,isPanorama:t}=n,i=t?"recharts-zindex-panorama-":"recharts-zindex-",r=fee("".concat(i).concat(e)),s=fi();return U.useLayoutEffect(()=>(s(LUe({zIndex:e,elementId:r,isPanorama:t})),()=>{s(QUe({zIndex:e,isPanorama:t}))}),[s,e,r,t]),U.createElement("g",{tabIndex:-1,id:r})}function I$(n){var{children:e,isPanorama:t}=n,i=tt(_Ue);if(!i||i.length===0)return e;var r=i.filter(a=>a<0),s=i.filter(a=>a>0);return U.createElement(U.Fragment,null,r.map(a=>U.createElement(T$,{key:a,zIndex:a,isPanorama:t})),e,s.map(a=>U.createElement(T$,{key:a,zIndex:a,isPanorama:t})))}var cLe=["children"];function dLe(n,e){if(n==null)return{};var t,i,r=fLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function fLe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function a1(){return a1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},a1.apply(null,arguments)}var hLe={width:"100%",height:"100%",display:"block"},pLe=U.forwardRef((n,e)=>{var t=MSe(),i=PSe(),r=EJ();if(!Kd(t)||!Kd(i))return null;var{children:s,otherAttributes:a,title:o,desc:l}=n,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=r?0:void 0,typeof a.role=="string"?d=a.role:d=r?"application":void 0),U.createElement(e9,a1({},a,{title:o,desc:l,role:d,tabIndex:u,width:t,height:i,style:hLe,ref:e}),s)}),gLe=n=>{var{children:e}=n,t=tt(pI);if(!t)return null;var{width:i,height:r,y:s,x:a}=t;return U.createElement(e9,{width:i,height:r,x:a,y:s},e)},F$=U.forwardRef((n,e)=>{var{children:t}=n,i=dLe(n,cLe),r=ha();return r?U.createElement(gLe,null,U.createElement(I$,{isPanorama:!0},t)):U.createElement(pLe,a1({ref:e},i),U.createElement(I$,{isPanorama:!1},t))});function mLe(){var n=fi(),[e,t]=U.useState(null),i=tt(ZEe);return U.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),s=r.width/e.offsetWidth;di(s)&&s!==i&&n(REe(s))}},[e,n,i]),t}function U$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function vLe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?U$(Object(t),!0).forEach(function(i){yLe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):U$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function yLe(n,e,t){return(e=wLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wLe(n){var e=bLe(n,"string");return typeof e=="symbol"?e:e+""}function bLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Bp(){return Bp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bp.apply(null,arguments)}var CLe=()=>(dMe(),null);function o1(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var BLe=U.forwardRef((n,e)=>{var t,i,r=U.useRef(null),[s,a]=U.useState({containerWidth:o1((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:o1((i=n.style)===null||i===void 0?void 0:i.height)}),o=U.useCallback((u,d)=>{a(h=>{var g=Math.round(u),v=Math.round(d);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),l=U.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var g=b=>{var{width:C,height:E}=b[0].contentRect;o(C,E)},v=new ResizeObserver(g);v.observe(u),r.current=v}},[e,o]);return U.useEffect(()=>()=>{var u=r.current;u!=null&&u.disconnect()},[o]),U.createElement(U.Fragment,null,U.createElement(vI,{width:s.containerWidth,height:s.containerHeight}),U.createElement("div",Bp({ref:l},n)))}),ELe=U.forwardRef((n,e)=>{var{width:t,height:i}=n,[r,s]=U.useState({containerWidth:o1(t),containerHeight:o1(i)}),a=U.useCallback((l,u)=>{s(d=>{var h=Math.round(l),g=Math.round(u);return d.containerWidth===h&&d.containerHeight===g?d:{containerWidth:h,containerHeight:g}})},[]),o=U.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();a(u,d)}},[e,a]);return U.createElement(U.Fragment,null,U.createElement(vI,{width:r.containerWidth,height:r.containerHeight}),U.createElement("div",Bp({ref:o},n)))}),SLe=U.forwardRef((n,e)=>{var{width:t,height:i}=n;return U.createElement(U.Fragment,null,U.createElement(vI,{width:t,height:i}),U.createElement("div",Bp({ref:e},n)))}),xLe=U.forwardRef((n,e)=>{var{width:t,height:i}=n;return wu(t)||wu(i)?U.createElement(ELe,Bp({},n,{ref:e})):U.createElement(SLe,Bp({},n,{ref:e}))});function _Le(n){return n===!0?BLe:xLe}var TLe=U.forwardRef((n,e)=>{var{children:t,className:i,height:r,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:b,onTouchStart:C,style:E,width:x,responsive:I,dispatchTouchEvents:T=!0}=n,R=U.useRef(null),P=fi(),[D,Q]=U.useState(null),[H,k]=U.useState(null),K=mLe(),V=Bk(),q=(V==null?void 0:V.width)>0?V.width:x,X=(V==null?void 0:V.height)>0?V.height:r,ne=U.useCallback(ae=>{K(ae),typeof e=="function"&&e(ae),Q(ae),k(ae),ae!=null&&(R.current=ae)},[K,e,Q,k]),ge=U.useCallback(ae=>{P(Tee(ae)),P(Fa({handler:s,reactEvent:ae}))},[P,s]),G=U.useCallback(ae=>{P(vQ(ae)),P(Fa({handler:u,reactEvent:ae}))},[P,u]),$=U.useCallback(ae=>{P(_Z()),P(Fa({handler:d,reactEvent:ae}))},[P,d]),ie=U.useCallback(ae=>{P(vQ(ae)),P(Fa({handler:h,reactEvent:ae}))},[P,h]),se=U.useCallback(()=>{P(Ree())},[P]),be=U.useCallback(ae=>{P(Pee(ae.key))},[P]),z=U.useCallback(ae=>{P(Fa({handler:a,reactEvent:ae}))},[P,a]),J=U.useCallback(ae=>{P(Fa({handler:o,reactEvent:ae}))},[P,o]),le=U.useCallback(ae=>{P(Fa({handler:l,reactEvent:ae}))},[P,l]),ve=U.useCallback(ae=>{P(Fa({handler:g,reactEvent:ae}))},[P,g]),Ee=U.useCallback(ae=>{P(Fa({handler:C,reactEvent:ae}))},[P,C]),Fe=U.useCallback(ae=>{T&&P(Nee(ae)),P(Fa({handler:b,reactEvent:ae}))},[P,T,b]),Ce=U.useCallback(ae=>{P(Fa({handler:v,reactEvent:ae}))},[P,v]),ut=_Le(I);return U.createElement($Z.Provider,{value:D},U.createElement(kbe.Provider,{value:H},U.createElement(ut,{width:q??(E==null?void 0:E.width),height:X??(E==null?void 0:E.height),className:Un("recharts-wrapper",i),style:vLe({position:"relative",cursor:"default",width:q,height:X},E),onClick:ge,onContextMenu:z,onDoubleClick:J,onFocus:se,onKeyDown:be,onMouseDown:le,onMouseEnter:G,onMouseLeave:$,onMouseMove:ie,onMouseUp:ve,onTouchEnd:Ce,onTouchMove:Fe,onTouchStart:Ee,ref:ne},U.createElement(CLe,null),t)))}),ILe=["width","height","responsive","children","className","style","compact","title","desc"];function FLe(n,e){if(n==null)return{};var t,i,r=ULe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function ULe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var MLe=U.forwardRef((n,e)=>{var{width:t,height:i,responsive:r,children:s,className:a,style:o,compact:l,title:u,desc:d}=n,h=FLe(n,ILe),g=Vd(h);return l?U.createElement(U.Fragment,null,U.createElement(vI,{width:t,height:i}),U.createElement(F$,{otherAttributes:g,title:u,desc:d},s)):U.createElement(TLe,{className:a,style:o,width:t,height:i,responsive:r??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},U.createElement(F$,{otherAttributes:g,title:u,desc:d,ref:e},U.createElement(cNe,null,s)))});function yQ(){return yQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yQ.apply(null,arguments)}var PLe={top:5,right:5,bottom:5,left:5},RLe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:PLe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},DLe=U.forwardRef(function(e,t){var i,r=ao(e.categoricalChartProps,RLe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return U.createElement(oLe,{preloadedState:{options:d},reduxStoreName:(i=u.id)!==null&&i!==void 0?i:s},U.createElement(tNe,{chartData:u.data}),U.createElement(lLe,{layout:r.layout,margin:r.margin}),U.createElement(uLe,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),U.createElement(MLe,yQ({},r,{ref:t})))}),NLe=["axis","item"],LLe=U.forwardRef((n,e)=>U.createElement(DLe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:NLe,tooltipPayloadSearcher:YUe,categoricalChartProps:n,ref:e}));const QLe=()=>{const{stats:n,highlights:e}=jd(),t=Object.entries(n.chapterVisits).map(([r,s])=>({name:r==="ch1"?"Ch 1":r==="ch2"?"Ch 2":"Ch 3",visits:s})),i=r=>`${Math.floor(r/60)}m ${r%60}s`;return L.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[L.jsx(zW,{toggleSidebar:()=>{},toggleNotes:()=>{}}),L.jsxs("main",{className:"pt-24 px-4 max-w-5xl mx-auto pb-20",children:[L.jsxs("div",{className:"mb-8",children:[L.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Learning Report"}),L.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Analysis of your reading habits and engagement."})]}),L.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[L.jsx(Nx,{icon:L.jsx(Ofe,{className:"text-blue-500"}),label:"Reading Time",value:i(n.totalReadingTime)}),L.jsx(Nx,{icon:L.jsx(Sfe,{className:"text-green-500"}),label:"Chapters Read",value:Object.keys(n.chapterVisits).length.toString()}),L.jsx(Nx,{icon:L.jsx(KW,{className:"text-yellow-500"}),label:"Highlights",value:e.length.toString()}),L.jsx(Nx,{icon:L.jsx(HK,{className:"text-purple-500"}),label:"AI Interactions",value:n.aiInteractionCount.toString()})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[L.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[L.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Chapter Engagement"}),L.jsx("div",{className:"h-64 w-full",children:L.jsx(ISe,{width:"100%",height:"100%",children:L.jsxs(LLe,{data:t,children:[L.jsx(xee,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),L.jsx(_ee,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),L.jsx(wMe,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"transparent"}}),L.jsx(wee,{dataKey:"visits",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,children:t.map((r,s)=>L.jsx(_O,{fill:s%2===0?"#3b82f6":"#60a5fa"},`cell-${s}`))})]})})}),L.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Number of times each chapter was opened"})]}),L.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[L.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[L.jsx(HK,{size:20,className:"text-purple-500"}),"AI Learning Summary"]}),L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[L.jsx("h4",{className:"font-semibold text-purple-700 dark:text-purple-300 text-sm mb-2",children:"Focus Areas"}),L.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.slice(0,3).map((r,s)=>L.jsx("span",{className:"px-2 py-1 bg-white dark:bg-slate-800 text-xs rounded text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 truncate max-w-[150px]",children:r.text},s)),e.length===0&&L.jsx("span",{className:"text-xs text-slate-400",children:"No specific focus areas detected yet."})]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 text-sm mb-2",children:"Reading Velocity"}),L.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2.5",children:L.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"65%"}})}),L.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"You are reading at a consistent pace."})]})]})]})]})]})]})},Nx=({icon:n,label:e,value:t})=>L.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center text-center",children:[L.jsx("div",{className:"mb-2 p-2 bg-slate-50 dark:bg-slate-800 rounded-full",children:n}),L.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white block",children:t}),L.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:e})]}),kLe=()=>L.jsx(wre,{children:L.jsx(gfe,{children:L.jsxs(Xie,{children:[L.jsx(ER,{path:"/",element:L.jsx(Ibe,{})}),L.jsx(ER,{path:"/report",element:L.jsx(QLe,{})})]})})}),Qee=document.getElementById("root");if(!Qee)throw new Error("Could not find root element to mount to");const OLe=sie.createRoot(Qee);OLe.render(L.jsx(Sw.StrictMode,{children:L.jsx(kLe,{})}));
