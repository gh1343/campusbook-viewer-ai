var Xne=Object.defineProperty;var xV=n=>{throw TypeError(n)};var Jne=(n,e,t)=>e in n?Xne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var be=(n,e,t)=>Jne(n,typeof e!="symbol"?e+"":e,t),jM=(n,e,t)=>e.has(n)||xV("Cannot "+t);var f=(n,e,t)=>(jM(n,e,"read from private field"),t?t.call(n):e.get(n)),M=(n,e,t)=>e.has(n)?xV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),_=(n,e,t,r)=>(jM(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),P=(n,e,t)=>(jM(n,e,"access private method"),t);var ar=(n,e,t,r)=>({set _(i){_(n,e,i,t)},get _(){return f(n,e,r)}});function Zne(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function DA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var WM={exports:{}},C0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _V;function ere(){if(_V)return C0;_V=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:a,ref:i!==void 0?i:null,props:s}}return C0.Fragment=e,C0.jsx=t,C0.jsxs=t,C0}var TV;function tre(){return TV||(TV=1,WM.exports=ere()),WM.exports}var L=tre(),YM={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IV;function nre(){if(IV)return it;IV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,B={};function S(q,ee,oe){this.props=q,this.context=ee,this.refs=B,this.updater=oe||C}S.prototype.isReactComponent={},S.prototype.setState=function(q,ee){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ee,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function I(){}I.prototype=S.prototype;function T(q,ee,oe){this.props=q,this.context=ee,this.refs=B,this.updater=oe||C}var D=T.prototype=new I;D.constructor=T,b(D,S.prototype),D.isPureReactComponent=!0;var U=Array.isArray;function R(){}var Q={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function k(q,ee,oe){var Ce=oe.ref;return{$$typeof:n,type:q,key:ee,ref:Ce!==void 0?Ce:null,props:oe}}function G(q,ee){return k(q.type,ee,q.props)}function K(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function z(q){var ee={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(oe){return ee[oe]})}var Z=/\/+/g;function Y(q,ee){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):ee.toString(36)}function ve(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(R,R):(q.status="pending",q.then(function(ee){q.status==="pending"&&(q.status="fulfilled",q.value=ee)},function(ee){q.status==="pending"&&(q.status="rejected",q.reason=ee)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function V(q,ee,oe,Ce,ie){var ue=typeof q;(ue==="undefined"||ue==="boolean")&&(q=null);var ce=!1;if(q===null)ce=!0;else switch(ue){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(q.$$typeof){case n:case e:ce=!0;break;case d:return ce=q._init,V(ce(q._payload),ee,oe,Ce,ie)}}if(ce)return ie=ie(q),ce=Ce===""?"."+Y(q,0):Ce,U(ie)?(oe="",ce!=null&&(oe=ce.replace(Z,"$&/")+"/"),V(ie,ee,oe,"",function(Se){return Se})):ie!=null&&(K(ie)&&(ie=G(ie,oe+(ie.key==null||q&&q.key===ie.key?"":(""+ie.key).replace(Z,"$&/")+"/")+ce)),ee.push(ie)),1;ce=0;var Be=Ce===""?".":Ce+":";if(U(q))for(var te=0;te<q.length;te++)Ce=q[te],ue=Be+Y(Ce,te),ce+=V(Ce,ee,oe,ue,ie);else if(te=v(q),typeof te=="function")for(q=te.call(q),te=0;!(Ce=q.next()).done;)Ce=Ce.value,ue=Be+Y(Ce,te++),ce+=V(Ce,ee,oe,ue,ie);else if(ue==="object"){if(typeof q.then=="function")return V(ve(q),ee,oe,Ce,ie);throw ee=String(q),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ce}function j(q,ee,oe){if(q==null)return q;var Ce=[],ie=0;return V(q,Ce,"","",function(ue){return ee.call(oe,ue,ie++)}),Ce}function se(q){if(q._status===-1){var ee=q._result;ee=ee(),ee.then(function(oe){(q._status===0||q._status===-1)&&(q._status=1,q._result=oe)},function(oe){(q._status===0||q._status===-1)&&(q._status=2,q._result=oe)}),q._status===-1&&(q._status=0,q._result=ee)}if(q._status===1)return q._result.default;throw q._result}var pe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Ee={map:j,forEach:function(q,ee,oe){j(q,function(){ee.apply(this,arguments)},oe)},count:function(q){var ee=0;return j(q,function(){ee++}),ee},toArray:function(q){return j(q,function(ee){return ee})||[]},only:function(q){if(!K(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return it.Activity=h,it.Children=Ee,it.Component=S,it.Fragment=t,it.Profiler=i,it.PureComponent=T,it.StrictMode=r,it.Suspense=l,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,it.__COMPILER_RUNTIME={__proto__:null,c:function(q){return Q.H.useMemoCache(q)}},it.cache=function(q){return function(){return q.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(q,ee,oe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Ce=b({},q.props),ie=q.key;if(ee!=null)for(ue in ee.key!==void 0&&(ie=""+ee.key),ee)!H.call(ee,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&ee.ref===void 0||(Ce[ue]=ee[ue]);var ue=arguments.length-2;if(ue===1)Ce.children=oe;else if(1<ue){for(var ce=Array(ue),Be=0;Be<ue;Be++)ce[Be]=arguments[Be+2];Ce.children=ce}return k(q.type,ie,Ce)},it.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},it.createElement=function(q,ee,oe){var Ce,ie={},ue=null;if(ee!=null)for(Ce in ee.key!==void 0&&(ue=""+ee.key),ee)H.call(ee,Ce)&&Ce!=="key"&&Ce!=="__self"&&Ce!=="__source"&&(ie[Ce]=ee[Ce]);var ce=arguments.length-2;if(ce===1)ie.children=oe;else if(1<ce){for(var Be=Array(ce),te=0;te<ce;te++)Be[te]=arguments[te+2];ie.children=Be}if(q&&q.defaultProps)for(Ce in ce=q.defaultProps,ce)ie[Ce]===void 0&&(ie[Ce]=ce[Ce]);return k(q,ue,ie)},it.createRef=function(){return{current:null}},it.forwardRef=function(q){return{$$typeof:o,render:q}},it.isValidElement=K,it.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:se}},it.memo=function(q,ee){return{$$typeof:u,type:q,compare:ee===void 0?null:ee}},it.startTransition=function(q){var ee=Q.T,oe={};Q.T=oe;try{var Ce=q(),ie=Q.S;ie!==null&&ie(oe,Ce),typeof Ce=="object"&&Ce!==null&&typeof Ce.then=="function"&&Ce.then(R,pe)}catch(ue){pe(ue)}finally{ee!==null&&oe.types!==null&&(ee.types=oe.types),Q.T=ee}},it.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},it.use=function(q){return Q.H.use(q)},it.useActionState=function(q,ee,oe){return Q.H.useActionState(q,ee,oe)},it.useCallback=function(q,ee){return Q.H.useCallback(q,ee)},it.useContext=function(q){return Q.H.useContext(q)},it.useDebugValue=function(){},it.useDeferredValue=function(q,ee){return Q.H.useDeferredValue(q,ee)},it.useEffect=function(q,ee){return Q.H.useEffect(q,ee)},it.useEffectEvent=function(q){return Q.H.useEffectEvent(q)},it.useId=function(){return Q.H.useId()},it.useImperativeHandle=function(q,ee,oe){return Q.H.useImperativeHandle(q,ee,oe)},it.useInsertionEffect=function(q,ee){return Q.H.useInsertionEffect(q,ee)},it.useLayoutEffect=function(q,ee){return Q.H.useLayoutEffect(q,ee)},it.useMemo=function(q,ee){return Q.H.useMemo(q,ee)},it.useOptimistic=function(q,ee){return Q.H.useOptimistic(q,ee)},it.useReducer=function(q,ee,oe){return Q.H.useReducer(q,ee,oe)},it.useRef=function(q){return Q.H.useRef(q)},it.useState=function(q){return Q.H.useState(q)},it.useSyncExternalStore=function(q,ee,oe){return Q.H.useSyncExternalStore(q,ee,oe)},it.useTransition=function(){return Q.H.useTransition()},it.version="19.2.1",it}var FV;function hy(){return FV||(FV=1,YM.exports=nre()),YM.exports}var F=hy();const Tw=DA(F),rre=Zne({__proto__:null,default:Tw},[F]);var XM={exports:{}},E0={},JM={exports:{}},ZM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MV;function ire(){return MV||(MV=1,(function(n){function e(V,j){var se=V.length;V.push(j);e:for(;0<se;){var pe=se-1>>>1,Ee=V[pe];if(0<i(Ee,j))V[pe]=j,V[se]=Ee,se=pe;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var j=V[0],se=V.pop();if(se!==j){V[0]=se;e:for(var pe=0,Ee=V.length,q=Ee>>>1;pe<q;){var ee=2*(pe+1)-1,oe=V[ee],Ce=ee+1,ie=V[Ce];if(0>i(oe,se))Ce<Ee&&0>i(ie,oe)?(V[pe]=ie,V[Ce]=se,pe=Ce):(V[pe]=oe,V[ee]=se,pe=ee);else if(Ce<Ee&&0>i(ie,se))V[pe]=ie,V[Ce]=se,pe=Ce;else break e}}return j}function i(V,j){var se=V.sortIndex-j.sortIndex;return se!==0?se:V.id-j.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,g=3,v=!1,C=!1,b=!1,B=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function D(V){for(var j=t(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=V)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(u)}}function U(V){if(b=!1,D(V),!C)if(t(l)!==null)C=!0,R||(R=!0,z());else{var j=t(u);j!==null&&ve(U,j.startTime-V)}}var R=!1,Q=-1,H=5,k=-1;function G(){return B?!0:!(n.unstable_now()-k<H)}function K(){if(B=!1,R){var V=n.unstable_now();k=V;var j=!0;try{e:{C=!1,b&&(b=!1,I(Q),Q=-1),v=!0;var se=g;try{t:{for(D(V),h=t(l);h!==null&&!(h.expirationTime>V&&G());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,g=h.priorityLevel;var Ee=pe(h.expirationTime<=V);if(V=n.unstable_now(),typeof Ee=="function"){h.callback=Ee,D(V),j=!0;break t}h===t(l)&&r(l),D(V)}else r(l);h=t(l)}if(h!==null)j=!0;else{var q=t(u);q!==null&&ve(U,q.startTime-V),j=!1}}break e}finally{h=null,g=se,v=!1}j=void 0}}finally{j?z():R=!1}}}var z;if(typeof T=="function")z=function(){T(K)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Y=Z.port2;Z.port1.onmessage=K,z=function(){Y.postMessage(null)}}else z=function(){S(K,0)};function ve(V,j){Q=S(function(){V(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(V){switch(g){case 1:case 2:case 3:var j=3;break;default:j=g}var se=g;g=j;try{return V()}finally{g=se}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(V,j){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var se=g;g=V;try{return j()}finally{g=se}},n.unstable_scheduleCallback=function(V,j,se){var pe=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?pe+se:pe):se=pe,V){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=se+Ee,V={id:d++,callback:j,priorityLevel:V,startTime:se,expirationTime:Ee,sortIndex:-1},se>pe?(V.sortIndex=se,e(u,V),t(l)===null&&V===t(u)&&(b?(I(Q),Q=-1):b=!0,ve(U,se-pe))):(V.sortIndex=Ee,e(l,V),C||v||(C=!0,R||(R=!0,z()))),V},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(V){var j=g;return function(){var se=g;g=j;try{return V.apply(this,arguments)}finally{g=se}}}})(ZM)),ZM}var UV;function sre(){return UV||(UV=1,JM.exports=ire()),JM.exports}var eU={exports:{}},Ti={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PV;function are(){if(PV)return Ti;PV=1;var n=hy();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Ti.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ti.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},Ti.flushSync=function(l){var u=a.T,d=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=u,r.p=d,r.d.f()}},Ti.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Ti.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Ti.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Ti.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Ti.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Ti.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Ti.requestFormReset=function(l){r.d.r(l)},Ti.unstable_batchedUpdates=function(l,u){return l(u)},Ti.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},Ti.useFormStatus=function(){return a.H.useHostTransitionStatus()},Ti.version="19.2.1",Ti}var RV;function Q$(){if(RV)return eU.exports;RV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),eU.exports=are(),eU.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DV;function ore(){if(DV)return E0;DV=1;var n=sre(),e=hy(),t=Q$();function r(A){var c="https://react.dev/errors/"+A;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+A+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var c=A,p=A;if(A.alternate)for(;c.return;)c=c.return;else{A=c;do c=A,(c.flags&4098)!==0&&(p=c.return),A=c.return;while(A)}return c.tag===3?p:null}function a(A){if(A.tag===13){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function o(A){if(A.tag===31){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function l(A){if(s(A)!==A)throw Error(r(188))}function u(A){var c=A.alternate;if(!c){if(c=s(A),c===null)throw Error(r(188));return c!==A?null:A}for(var p=A,m=c;;){var E=p.return;if(E===null)break;var x=E.alternate;if(x===null){if(m=E.return,m!==null){p=m;continue}break}if(E.child===x.child){for(x=E.child;x;){if(x===p)return l(E),A;if(x===m)return l(E),c;x=x.sibling}throw Error(r(188))}if(p.return!==m.return)p=E,m=x;else{for(var N=!1,O=E.child;O;){if(O===p){N=!0,p=E,m=x;break}if(O===m){N=!0,m=E,p=x;break}O=O.sibling}if(!N){for(O=x.child;O;){if(O===p){N=!0,p=x,m=E;break}if(O===m){N=!0,m=x,p=E;break}O=O.sibling}if(!N)throw Error(r(189))}}if(p.alternate!==m)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?A:c}function d(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A;for(A=A.child;A!==null;){if(c=d(A),c!==null)return c;A=A.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function z(A){return A===null||typeof A!="object"?null:(A=K&&A[K]||A["@@iterator"],typeof A=="function"?A:null)}var Z=Symbol.for("react.client.reference");function Y(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===Z?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case b:return"Fragment";case S:return"Profiler";case B:return"StrictMode";case U:return"Suspense";case R:return"SuspenseList";case k:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case C:return"Portal";case T:return A.displayName||"Context";case I:return(A._context.displayName||"Context")+".Consumer";case D:var c=A.render;return A=A.displayName,A||(A=c.displayName||c.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case Q:return c=A.displayName||null,c!==null?c:Y(A.type)||"Memo";case H:c=A._payload,A=A._init;try{return Y(A(c))}catch{}}return null}var ve=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},pe=[],Ee=-1;function q(A){return{current:A}}function ee(A){0>Ee||(A.current=pe[Ee],pe[Ee]=null,Ee--)}function oe(A,c){Ee++,pe[Ee]=A.current,A.current=c}var Ce=q(null),ie=q(null),ue=q(null),ce=q(null);function Be(A,c){switch(oe(ue,c),oe(ie,A),oe(Ce,null),c.nodeType){case 9:case 11:A=(A=c.documentElement)&&(A=A.namespaceURI)?W4(A):0;break;default:if(A=c.tagName,c=c.namespaceURI)c=W4(c),A=Y4(c,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}ee(Ce),oe(Ce,A)}function te(){ee(Ce),ee(ie),ee(ue)}function Se(A){A.memoizedState!==null&&oe(ce,A);var c=Ce.current,p=Y4(c,A.type);c!==p&&(oe(ie,A),oe(Ce,p))}function Te(A){ie.current===A&&(ee(Ce),ee(ie)),ce.current===A&&(ee(ce),v0._currentValue=se)}var ye,yt;function qe(A){if(ye===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);ye=c&&c[1]||"",yt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+A+yt}var Kt=!1;function Pt(A,c){if(!A||Kt)return"";Kt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(Ae){var ae=Ae}Reflect.construct(A,[],we)}else{try{we.call()}catch(Ae){ae=Ae}A.call(we.prototype)}}else{try{throw Error()}catch(Ae){ae=Ae}(we=A())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(Ae){if(Ae&&ae&&typeof Ae.stack=="string")return[Ae.stack,ae.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),N=x[0],O=x[1];if(N&&O){var $=N.split(`
`),re=O.split(`
`);for(E=m=0;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;for(;E<re.length&&!re[E].includes("DetermineComponentFrameRoot");)E++;if(m===$.length||E===re.length)for(m=$.length-1,E=re.length-1;1<=m&&0<=E&&$[m]!==re[E];)E--;for(;1<=m&&0<=E;m--,E--)if($[m]!==re[E]){if(m!==1||E!==1)do if(m--,E--,0>E||$[m]!==re[E]){var he=`
`+$[m].replace(" at new "," at ");return A.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",A.displayName)),he}while(1<=m&&0<=E);break}}}finally{Kt=!1,Error.prepareStackTrace=p}return(p=A?A.displayName||A.name:"")?qe(p):""}function Kn(A,c){switch(A.tag){case 26:case 27:case 5:return qe(A.type);case 16:return qe("Lazy");case 13:return A.child!==c&&c!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return Pt(A.type,!1);case 11:return Pt(A.type.render,!1);case 1:return Pt(A.type,!0);case 31:return qe("Activity");default:return""}}function nt(A){try{var c="",p=null;do c+=Kn(A,p),p=A,A=A.return;while(A);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var nr=Object.prototype.hasOwnProperty,ss=n.unstable_scheduleCallback,Jt=n.unstable_cancelCallback,Kr=n.unstable_shouldYield,Fs=n.unstable_requestPaint,rr=n.unstable_now,X=n.unstable_getCurrentPriorityLevel,de=n.unstable_ImmediatePriority,He=n.unstable_UserBlockingPriority,Xe=n.unstable_NormalPriority,ot=n.unstable_LowPriority,je=n.unstable_IdlePriority,_e=n.log,Me=n.unstable_setDisableYieldValue,We=null,ze=null;function Ot(A){if(typeof _e=="function"&&Me(A),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(We,A)}catch{}}var ut=Math.clz32?Math.clz32:Hi,cn=Math.log,Ir=Math.LN2;function Hi(A){return A>>>=0,A===0?32:31-(cn(A)/Ir|0)|0}var xi=256,Fr=262144,Vi=4194304;function Sn(A){var c=A&42;if(c!==0)return c;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function Gn(A,c,p){var m=A.pendingLanes;if(m===0)return 0;var E=0,x=A.suspendedLanes,N=A.pingedLanes;A=A.warmLanes;var O=m&134217727;return O!==0?(m=O&~x,m!==0?E=Sn(m):(N&=O,N!==0?E=Sn(N):p||(p=O&~A,p!==0&&(E=Sn(p))))):(O=m&~x,O!==0?E=Sn(O):N!==0?E=Sn(N):p||(p=m&~A,p!==0&&(E=Sn(p)))),E===0?0:c!==0&&c!==E&&(c&x)===0&&(x=E&-E,p=c&-c,x>=p||x===32&&(p&4194048)!==0)?c:E}function lo(A,c){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&c)===0}function ma(A,c){switch(A){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ty(){var A=Vi;return Vi<<=1,(Vi&62914560)===0&&(Vi=4194304),A}function Iy(A){for(var c=[],p=0;31>p;p++)c.push(A);return c}function tf(A,c){A.pendingLanes|=c,c!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function kI(A,c,p,m,E,x){var N=A.pendingLanes;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=p,A.entangledLanes&=p,A.errorRecoveryDisabledLanes&=p,A.shellSuspendCounter=0;var O=A.entanglements,$=A.expirationTimes,re=A.hiddenUpdates;for(p=N&~p;0<p;){var he=31-ut(p),we=1<<he;O[he]=0,$[he]=-1;var ae=re[he];if(ae!==null)for(re[he]=null,he=0;he<ae.length;he++){var Ae=ae[he];Ae!==null&&(Ae.lane&=-536870913)}p&=~we}m!==0&&yB(A,m,0),x!==0&&E===0&&A.tag!==0&&(A.suspendedLanes|=x&~(N&~c))}function yB(A,c,p){A.pendingLanes|=c,A.suspendedLanes&=~c;var m=31-ut(c);A.entangledLanes|=c,A.entanglements[m]=A.entanglements[m]|1073741824|p&261930}function wB(A,c){var p=A.entangledLanes|=c;for(A=A.entanglements;p;){var m=31-ut(p),E=1<<m;E&c|A[m]&c&&(A[m]|=c),p&=~E}}function bB(A,c){var p=c&-c;return p=(p&42)!==0?1:Hu(p),(p&(A.suspendedLanes|c))!==0?0:p}function Hu(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function Fy(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function CB(){var A=j.p;return A!==0?A:(A=window.event,A===void 0?32:yV(A.type))}function My(A,c){var p=j.p;try{return j.p=A,c()}finally{j.p=p}}var Ko=Math.random().toString(36).slice(2),pr="__reactFiber$"+Ko,_i="__reactProps$"+Ko,Vu="__reactContainer$"+Ko,Uy="__reactEvents$"+Ko,OI="__reactListeners$"+Ko,EB="__reactHandles$"+Ko,BB="__reactResources$"+Ko,nf="__reactMarker$"+Ko;function Py(A){delete A[pr],delete A[_i],delete A[Uy],delete A[OI],delete A[EB]}function Ku(A){var c=A[pr];if(c)return c;for(var p=A.parentNode;p;){if(c=p[Vu]||p[pr]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(A=rV(A);A!==null;){if(p=A[pr])return p;A=rV(A)}return c}A=p,p=A.parentNode}return null}function Go(A){if(A=A[pr]||A[Vu]){var c=A.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return A}return null}function rf(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A.stateNode;throw Error(r(33))}function Gu(A){var c=A[BB];return c||(c=A[BB]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function zn(A){A[nf]=!0}var SB=new Set,xB={};function QA(A,c){ge(A,c),ge(A+"Capture",c)}function ge(A,c){for(xB[A]=c,A=0;A<c.length;A++)SB.add(c[A])}var xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pe={},Ne={};function xt(A){return nr.call(Ne,A)?!0:nr.call(Pe,A)?!1:xe.test(A)?Ne[A]=!0:(Pe[A]=!0,!1)}function Un(A,c,p){if(xt(c))if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":A.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){A.removeAttribute(c);return}}A.setAttribute(c,""+p)}}function yn(A,c,p){if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(c);return}A.setAttribute(c,""+p)}}function Rt(A,c,p,m){if(m===null)A.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(p);return}A.setAttributeNS(c,p,""+m)}}function gr(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function Ry(A){var c=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Gee(A,c,p){var m=Object.getOwnPropertyDescriptor(A.constructor.prototype,c);if(!A.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,x=m.set;return Object.defineProperty(A,c,{configurable:!0,get:function(){return E.call(this)},set:function(N){p=""+N,x.call(this,N)}}),Object.defineProperty(A,c,{enumerable:m.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){A._valueTracker=null,delete A[c]}}}}function HI(A){if(!A._valueTracker){var c=Ry(A)?"checked":"value";A._valueTracker=Gee(A,c,""+A[c])}}function VO(A){if(!A)return!1;var c=A._valueTracker;if(!c)return!0;var p=c.getValue(),m="";return A&&(m=Ry(A)?A.checked?"true":"false":A.value),A=m,A!==p?(c.setValue(A),!0):!1}function _B(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var zee=/[\n"\\]/g;function va(A){return A.replace(zee,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function VI(A,c,p,m,E,x,N,O){A.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?A.type=N:A.removeAttribute("type"),c!=null?N==="number"?(c===0&&A.value===""||A.value!=c)&&(A.value=""+gr(c)):A.value!==""+gr(c)&&(A.value=""+gr(c)):N!=="submit"&&N!=="reset"||A.removeAttribute("value"),c!=null?KI(A,N,gr(c)):p!=null?KI(A,N,gr(p)):m!=null&&A.removeAttribute("value"),E==null&&x!=null&&(A.defaultChecked=!!x),E!=null&&(A.checked=E&&typeof E!="function"&&typeof E!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?A.name=""+gr(O):A.removeAttribute("name")}function KO(A,c,p,m,E,x,N,O){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(A.type=x),c!=null||p!=null){if(!(x!=="submit"&&x!=="reset"||c!=null)){HI(A);return}p=p!=null?""+gr(p):"",c=c!=null?""+gr(c):p,O||c===A.value||(A.value=c),A.defaultValue=c}m=m??E,m=typeof m!="function"&&typeof m!="symbol"&&!!m,A.checked=O?A.checked:!!m,A.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(A.name=N),HI(A)}function KI(A,c,p){c==="number"&&_B(A.ownerDocument)===A||A.defaultValue===""+p||(A.defaultValue=""+p)}function Up(A,c,p,m){if(A=A.options,c){c={};for(var E=0;E<p.length;E++)c["$"+p[E]]=!0;for(p=0;p<A.length;p++)E=c.hasOwnProperty("$"+A[p].value),A[p].selected!==E&&(A[p].selected=E),E&&m&&(A[p].defaultSelected=!0)}else{for(p=""+gr(p),c=null,E=0;E<A.length;E++){if(A[E].value===p){A[E].selected=!0,m&&(A[E].defaultSelected=!0);return}c!==null||A[E].disabled||(c=A[E])}c!==null&&(c.selected=!0)}}function GO(A,c,p){if(c!=null&&(c=""+gr(c),c!==A.value&&(A.value=c),p==null)){A.defaultValue!==c&&(A.defaultValue=c);return}A.defaultValue=p!=null?""+gr(p):""}function zO(A,c,p,m){if(c==null){if(m!=null){if(p!=null)throw Error(r(92));if(ve(m)){if(1<m.length)throw Error(r(93));m=m[0]}p=m}p==null&&(p=""),c=p}p=gr(c),A.defaultValue=p,m=A.textContent,m===p&&m!==""&&m!==null&&(A.value=m),HI(A)}function Pp(A,c){if(c){var p=A.firstChild;if(p&&p===A.lastChild&&p.nodeType===3){p.nodeValue=c;return}}A.textContent=c}var qee=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qO(A,c,p){var m=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?m?A.setProperty(c,""):c==="float"?A.cssFloat="":A[c]="":m?A.setProperty(c,p):typeof p!="number"||p===0||qee.has(c)?c==="float"?A.cssFloat=p:A[c]=(""+p).trim():A[c]=p+"px"}function $O(A,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(A=A.style,p!=null){for(var m in p)!p.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?A.setProperty(m,""):m==="float"?A.cssFloat="":A[m]="");for(var E in c)m=c[E],c.hasOwnProperty(E)&&p[E]!==m&&qO(A,E,m)}else for(var x in c)c.hasOwnProperty(x)&&qO(A,x,c[x])}function GI(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $ee=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jee=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function TB(A){return jee.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function kA(){}var zI=null;function qI(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Rp=null,Dp=null;function jO(A){var c=Go(A);if(c&&(A=c.stateNode)){var p=A[_i]||null;e:switch(A=c.stateNode,c.type){case"input":if(VI(A,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=A;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+va(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var m=p[c];if(m!==A&&m.form===A.form){var E=m[_i]||null;if(!E)throw Error(r(90));VI(m,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<p.length;c++)m=p[c],m.form===A.form&&VO(m)}break e;case"textarea":GO(A,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Up(A,!!p.multiple,c,!1)}}}var $I=!1;function WO(A,c,p){if($I)return A(c,p);$I=!0;try{var m=A(c);return m}finally{if($I=!1,(Rp!==null||Dp!==null)&&(pS(),Rp&&(c=Rp,A=Dp,Dp=Rp=null,jO(c),A)))for(c=0;c<A.length;c++)jO(A[c])}}function Dy(A,c){var p=A.stateNode;if(p===null)return null;var m=p[_i]||null;if(m===null)return null;p=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(A=A.type,m=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!m;break e;default:A=!1}if(A)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var OA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jI=!1;if(OA)try{var Ny={};Object.defineProperty(Ny,"passive",{get:function(){jI=!0}}),window.addEventListener("test",Ny,Ny),window.removeEventListener("test",Ny,Ny)}catch{jI=!1}var zu=null,WI=null,IB=null;function YO(){if(IB)return IB;var A,c=WI,p=c.length,m,E="value"in zu?zu.value:zu.textContent,x=E.length;for(A=0;A<p&&c[A]===E[A];A++);var N=p-A;for(m=1;m<=N&&c[p-m]===E[x-m];m++);return IB=E.slice(A,1<m?1-m:void 0)}function FB(A){var c=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&c===13&&(A=13)):A=c,A===10&&(A=13),32<=A||A===13?A:0}function MB(){return!0}function XO(){return!1}function as(A){function c(p,m,E,x,N){this._reactName=p,this._targetInst=E,this.type=m,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var O in A)A.hasOwnProperty(O)&&(p=A[O],this[O]=p?p(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?MB:XO,this.isPropagationStopped=XO,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=MB)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=MB)},persist:function(){},isPersistent:MB}),c}var sf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UB=as(sf),Ly=h({},sf,{view:0,detail:0}),Wee=as(Ly),YI,XI,Qy,PB=h({},Ly,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZI,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Qy&&(Qy&&A.type==="mousemove"?(YI=A.screenX-Qy.screenX,XI=A.screenY-Qy.screenY):XI=YI=0,Qy=A),YI)},movementY:function(A){return"movementY"in A?A.movementY:XI}}),JO=as(PB),Yee=h({},PB,{dataTransfer:0}),Xee=as(Yee),Jee=h({},Ly,{relatedTarget:0}),JI=as(Jee),Zee=h({},sf,{animationName:0,elapsedTime:0,pseudoElement:0}),ete=as(Zee),tte=h({},sf,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),nte=as(tte),rte=h({},sf,{data:0}),ZO=as(rte),ite={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ste={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ate={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ote(A){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(A):(A=ate[A])?!!c[A]:!1}function ZI(){return ote}var Ate=h({},Ly,{key:function(A){if(A.key){var c=ite[A.key]||A.key;if(c!=="Unidentified")return c}return A.type==="keypress"?(A=FB(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?ste[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZI,charCode:function(A){return A.type==="keypress"?FB(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?FB(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),lte=as(Ate),ute=h({},PB,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e2=as(ute),cte=h({},Ly,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZI}),dte=as(cte),fte=h({},sf,{propertyName:0,elapsedTime:0,pseudoElement:0}),hte=as(fte),pte=h({},PB,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),gte=as(pte),mte=h({},sf,{newState:0,oldState:0}),vte=as(mte),yte=[9,13,27,32],eF=OA&&"CompositionEvent"in window,ky=null;OA&&"documentMode"in document&&(ky=document.documentMode);var wte=OA&&"TextEvent"in window&&!ky,t2=OA&&(!eF||ky&&8<ky&&11>=ky),n2=" ",r2=!1;function i2(A,c){switch(A){case"keyup":return yte.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s2(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Np=!1;function bte(A,c){switch(A){case"compositionend":return s2(c);case"keypress":return c.which!==32?null:(r2=!0,n2);case"textInput":return A=c.data,A===n2&&r2?null:A;default:return null}}function Cte(A,c){if(Np)return A==="compositionend"||!eF&&i2(A,c)?(A=YO(),IB=WI=zu=null,Np=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return t2&&c.locale!=="ko"?null:c.data;default:return null}}var Ete={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a2(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c==="input"?!!Ete[A.type]:c==="textarea"}function o2(A,c,p,m){Rp?Dp?Dp.push(m):Dp=[m]:Rp=m,c=CS(c,"onChange"),0<c.length&&(p=new UB("onChange","change",null,p,m),A.push({event:p,listeners:c}))}var Oy=null,Hy=null;function Bte(A){K4(A,0)}function RB(A){var c=rf(A);if(VO(c))return A}function A2(A,c){if(A==="change")return c}var l2=!1;if(OA){var tF;if(OA){var nF="oninput"in document;if(!nF){var u2=document.createElement("div");u2.setAttribute("oninput","return;"),nF=typeof u2.oninput=="function"}tF=nF}else tF=!1;l2=tF&&(!document.documentMode||9<document.documentMode)}function c2(){Oy&&(Oy.detachEvent("onpropertychange",d2),Hy=Oy=null)}function d2(A){if(A.propertyName==="value"&&RB(Hy)){var c=[];o2(c,Hy,A,qI(A)),WO(Bte,c)}}function Ste(A,c,p){A==="focusin"?(c2(),Oy=c,Hy=p,Oy.attachEvent("onpropertychange",d2)):A==="focusout"&&c2()}function xte(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return RB(Hy)}function _te(A,c){if(A==="click")return RB(c)}function Tte(A,c){if(A==="input"||A==="change")return RB(c)}function Ite(A,c){return A===c&&(A!==0||1/A===1/c)||A!==A&&c!==c}var Ms=typeof Object.is=="function"?Object.is:Ite;function Vy(A,c){if(Ms(A,c))return!0;if(typeof A!="object"||A===null||typeof c!="object"||c===null)return!1;var p=Object.keys(A),m=Object.keys(c);if(p.length!==m.length)return!1;for(m=0;m<p.length;m++){var E=p[m];if(!nr.call(c,E)||!Ms(A[E],c[E]))return!1}return!0}function f2(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function h2(A,c){var p=f2(A);A=0;for(var m;p;){if(p.nodeType===3){if(m=A+p.textContent.length,A<=c&&m>=c)return{node:p,offset:c-A};A=m}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=f2(p)}}function p2(A,c){return A&&c?A===c?!0:A&&A.nodeType===3?!1:c&&c.nodeType===3?p2(A,c.parentNode):"contains"in A?A.contains(c):A.compareDocumentPosition?!!(A.compareDocumentPosition(c)&16):!1:!1}function g2(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var c=_B(A.document);c instanceof A.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)A=c.contentWindow;else break;c=_B(A.document)}return c}function rF(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c&&(c==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||c==="textarea"||A.contentEditable==="true")}var Fte=OA&&"documentMode"in document&&11>=document.documentMode,Lp=null,iF=null,Ky=null,sF=!1;function m2(A,c,p){var m=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;sF||Lp==null||Lp!==_B(m)||(m=Lp,"selectionStart"in m&&rF(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ky&&Vy(Ky,m)||(Ky=m,m=CS(iF,"onSelect"),0<m.length&&(c=new UB("onSelect","select",null,c,p),A.push({event:c,listeners:m}),c.target=Lp)))}function af(A,c){var p={};return p[A.toLowerCase()]=c.toLowerCase(),p["Webkit"+A]="webkit"+c,p["Moz"+A]="moz"+c,p}var Qp={animationend:af("Animation","AnimationEnd"),animationiteration:af("Animation","AnimationIteration"),animationstart:af("Animation","AnimationStart"),transitionrun:af("Transition","TransitionRun"),transitionstart:af("Transition","TransitionStart"),transitioncancel:af("Transition","TransitionCancel"),transitionend:af("Transition","TransitionEnd")},aF={},v2={};OA&&(v2=document.createElement("div").style,"AnimationEvent"in window||(delete Qp.animationend.animation,delete Qp.animationiteration.animation,delete Qp.animationstart.animation),"TransitionEvent"in window||delete Qp.transitionend.transition);function of(A){if(aF[A])return aF[A];if(!Qp[A])return A;var c=Qp[A],p;for(p in c)if(c.hasOwnProperty(p)&&p in v2)return aF[A]=c[p];return A}var y2=of("animationend"),w2=of("animationiteration"),b2=of("animationstart"),Mte=of("transitionrun"),Ute=of("transitionstart"),Pte=of("transitioncancel"),C2=of("transitionend"),E2=new Map,oF="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oF.push("scrollEnd");function uo(A,c){E2.set(A,c),QA(c,[A])}var DB=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ya=[],kp=0,AF=0;function NB(){for(var A=kp,c=AF=kp=0;c<A;){var p=ya[c];ya[c++]=null;var m=ya[c];ya[c++]=null;var E=ya[c];ya[c++]=null;var x=ya[c];if(ya[c++]=null,m!==null&&E!==null){var N=m.pending;N===null?E.next=E:(E.next=N.next,N.next=E),m.pending=E}x!==0&&B2(p,E,x)}}function LB(A,c,p,m){ya[kp++]=A,ya[kp++]=c,ya[kp++]=p,ya[kp++]=m,AF|=m,A.lanes|=m,A=A.alternate,A!==null&&(A.lanes|=m)}function lF(A,c,p,m){return LB(A,c,p,m),QB(A)}function Af(A,c){return LB(A,null,null,c),QB(A)}function B2(A,c,p){A.lanes|=p;var m=A.alternate;m!==null&&(m.lanes|=p);for(var E=!1,x=A.return;x!==null;)x.childLanes|=p,m=x.alternate,m!==null&&(m.childLanes|=p),x.tag===22&&(A=x.stateNode,A===null||A._visibility&1||(E=!0)),A=x,x=x.return;return A.tag===3?(x=A.stateNode,E&&c!==null&&(E=31-ut(p),A=x.hiddenUpdates,m=A[E],m===null?A[E]=[c]:m.push(c),c.lane=p|536870912),x):null}function QB(A){if(50<c0)throw c0=0,vM=null,Error(r(185));for(var c=A.return;c!==null;)A=c,c=A.return;return A.tag===3?A.stateNode:null}var Op={};function Rte(A,c,p,m){this.tag=A,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Us(A,c,p,m){return new Rte(A,c,p,m)}function uF(A){return A=A.prototype,!(!A||!A.isReactComponent)}function HA(A,c){var p=A.alternate;return p===null?(p=Us(A.tag,c,A.key,A.mode),p.elementType=A.elementType,p.type=A.type,p.stateNode=A.stateNode,p.alternate=A,A.alternate=p):(p.pendingProps=c,p.type=A.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=A.flags&65011712,p.childLanes=A.childLanes,p.lanes=A.lanes,p.child=A.child,p.memoizedProps=A.memoizedProps,p.memoizedState=A.memoizedState,p.updateQueue=A.updateQueue,c=A.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=A.sibling,p.index=A.index,p.ref=A.ref,p.refCleanup=A.refCleanup,p}function S2(A,c){A.flags&=65011714;var p=A.alternate;return p===null?(A.childLanes=0,A.lanes=c,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,A.type=p.type,c=p.dependencies,A.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),A}function kB(A,c,p,m,E,x){var N=0;if(m=A,typeof A=="function")uF(A)&&(N=1);else if(typeof A=="string")N=kne(A,p,Ce.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case k:return A=Us(31,p,c,E),A.elementType=k,A.lanes=x,A;case b:return lf(p.children,E,x,c);case B:N=8,E|=24;break;case S:return A=Us(12,p,c,E|2),A.elementType=S,A.lanes=x,A;case U:return A=Us(13,p,c,E),A.elementType=U,A.lanes=x,A;case R:return A=Us(19,p,c,E),A.elementType=R,A.lanes=x,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case T:N=10;break e;case I:N=9;break e;case D:N=11;break e;case Q:N=14;break e;case H:N=16,m=null;break e}N=29,p=Error(r(130,A===null?"null":typeof A,"")),m=null}return c=Us(N,p,c,E),c.elementType=A,c.type=m,c.lanes=x,c}function lf(A,c,p,m){return A=Us(7,A,m,c),A.lanes=p,A}function cF(A,c,p){return A=Us(6,A,null,c),A.lanes=p,A}function x2(A){var c=Us(18,null,null,0);return c.stateNode=A,c}function dF(A,c,p){return c=Us(4,A.children!==null?A.children:[],A.key,c),c.lanes=p,c.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},c}var _2=new WeakMap;function wa(A,c){if(typeof A=="object"&&A!==null){var p=_2.get(A);return p!==void 0?p:(c={value:A,source:c,stack:nt(c)},_2.set(A,c),c)}return{value:A,source:c,stack:nt(c)}}var Hp=[],Vp=0,OB=null,Gy=0,ba=[],Ca=0,qu=null,zo=1,qo="";function VA(A,c){Hp[Vp++]=Gy,Hp[Vp++]=OB,OB=A,Gy=c}function T2(A,c,p){ba[Ca++]=zo,ba[Ca++]=qo,ba[Ca++]=qu,qu=A;var m=zo;A=qo;var E=32-ut(m)-1;m&=~(1<<E),p+=1;var x=32-ut(c)+E;if(30<x){var N=E-E%5;x=(m&(1<<N)-1).toString(32),m>>=N,E-=N,zo=1<<32-ut(c)+E|p<<E|m,qo=x+A}else zo=1<<x|p<<E|m,qo=A}function fF(A){A.return!==null&&(VA(A,1),T2(A,1,0))}function hF(A){for(;A===OB;)OB=Hp[--Vp],Hp[Vp]=null,Gy=Hp[--Vp],Hp[Vp]=null;for(;A===qu;)qu=ba[--Ca],ba[Ca]=null,qo=ba[--Ca],ba[Ca]=null,zo=ba[--Ca],ba[Ca]=null}function I2(A,c){ba[Ca++]=zo,ba[Ca++]=qo,ba[Ca++]=qu,zo=c.id,qo=c.overflow,qu=A}var ai=null,xn=null,_t=!1,$u=null,Ea=!1,pF=Error(r(519));function ju(A){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zy(wa(c,A)),pF}function F2(A){var c=A.stateNode,p=A.type,m=A.memoizedProps;switch(c[pr]=A,c[_i]=m,p){case"dialog":bt("cancel",c),bt("close",c);break;case"iframe":case"object":case"embed":bt("load",c);break;case"video":case"audio":for(p=0;p<f0.length;p++)bt(f0[p],c);break;case"source":bt("error",c);break;case"img":case"image":case"link":bt("error",c),bt("load",c);break;case"details":bt("toggle",c);break;case"input":bt("invalid",c),KO(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":bt("invalid",c);break;case"textarea":bt("invalid",c),zO(c,m.value,m.defaultValue,m.children)}p=m.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||m.suppressHydrationWarning===!0||$4(c.textContent,p)?(m.popover!=null&&(bt("beforetoggle",c),bt("toggle",c)),m.onScroll!=null&&bt("scroll",c),m.onScrollEnd!=null&&bt("scrollend",c),m.onClick!=null&&(c.onclick=kA),c=!0):c=!1,c||ju(A,!0)}function M2(A){for(ai=A.return;ai;)switch(ai.tag){case 5:case 31:case 13:Ea=!1;return;case 27:case 3:Ea=!0;return;default:ai=ai.return}}function Kp(A){if(A!==ai)return!1;if(!_t)return M2(A),_t=!0,!1;var c=A.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=A.type,p=!(p!=="form"&&p!=="button")||PM(A.type,A.memoizedProps)),p=!p),p&&xn&&ju(A),M2(A),c===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));xn=nV(A)}else if(c===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));xn=nV(A)}else c===27?(c=xn,Ac(A.type)?(A=QM,QM=null,xn=A):xn=c):xn=ai?Sa(A.stateNode.nextSibling):null;return!0}function uf(){xn=ai=null,_t=!1}function gF(){var A=$u;return A!==null&&(us===null?us=A:us.push.apply(us,A),$u=null),A}function zy(A){$u===null?$u=[A]:$u.push(A)}var mF=q(null),cf=null,KA=null;function Wu(A,c,p){oe(mF,c._currentValue),c._currentValue=p}function GA(A){A._currentValue=mF.current,ee(mF)}function vF(A,c,p){for(;A!==null;){var m=A.alternate;if((A.childLanes&c)!==c?(A.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),A===p)break;A=A.return}}function yF(A,c,p,m){var E=A.child;for(E!==null&&(E.return=A);E!==null;){var x=E.dependencies;if(x!==null){var N=E.child;x=x.firstContext;e:for(;x!==null;){var O=x;x=E;for(var $=0;$<c.length;$++)if(O.context===c[$]){x.lanes|=p,O=x.alternate,O!==null&&(O.lanes|=p),vF(x.return,p,A),m||(N=null);break e}x=O.next}}else if(E.tag===18){if(N=E.return,N===null)throw Error(r(341));N.lanes|=p,x=N.alternate,x!==null&&(x.lanes|=p),vF(N,p,A),N=null}else N=E.child;if(N!==null)N.return=E;else for(N=E;N!==null;){if(N===A){N=null;break}if(E=N.sibling,E!==null){E.return=N.return,N=E;break}N=N.return}E=N}}function Gp(A,c,p,m){A=null;for(var E=c,x=!1;E!==null;){if(!x){if((E.flags&524288)!==0)x=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var N=E.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var O=E.type;Ms(E.pendingProps.value,N.value)||(A!==null?A.push(O):A=[O])}}else if(E===ce.current){if(N=E.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(A!==null?A.push(v0):A=[v0])}E=E.return}A!==null&&yF(c,A,p,m),c.flags|=262144}function HB(A){for(A=A.firstContext;A!==null;){if(!Ms(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function df(A){cf=A,KA=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function oi(A){return U2(cf,A)}function VB(A,c){return cf===null&&df(A),U2(A,c)}function U2(A,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},KA===null){if(A===null)throw Error(r(308));KA=c,A.dependencies={lanes:0,firstContext:c},A.flags|=524288}else KA=KA.next=c;return p}var Dte=typeof AbortController<"u"?AbortController:function(){var A=[],c=this.signal={aborted:!1,addEventListener:function(p,m){A.push(m)}};this.abort=function(){c.aborted=!0,A.forEach(function(p){return p()})}},Nte=n.unstable_scheduleCallback,Lte=n.unstable_NormalPriority,mr={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wF(){return{controller:new Dte,data:new Map,refCount:0}}function qy(A){A.refCount--,A.refCount===0&&Nte(Lte,function(){A.controller.abort()})}var $y=null,bF=0,zp=0,qp=null;function Qte(A,c){if($y===null){var p=$y=[];bF=0,zp=BM(),qp={status:"pending",value:void 0,then:function(m){p.push(m)}}}return bF++,c.then(P2,P2),c}function P2(){if(--bF===0&&$y!==null){qp!==null&&(qp.status="fulfilled");var A=$y;$y=null,zp=0,qp=null;for(var c=0;c<A.length;c++)(0,A[c])()}}function kte(A,c){var p=[],m={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return A.then(function(){m.status="fulfilled",m.value=c;for(var E=0;E<p.length;E++)(0,p[E])(c)},function(E){for(m.status="rejected",m.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),m}var R2=V.S;V.S=function(A,c){m4=rr(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Qte(A,c),R2!==null&&R2(A,c)};var ff=q(null);function CF(){var A=ff.current;return A!==null?A:dn.pooledCache}function KB(A,c){c===null?oe(ff,ff.current):oe(ff,c.pool)}function D2(){var A=CF();return A===null?null:{parent:mr._currentValue,pool:A}}var $p=Error(r(460)),EF=Error(r(474)),GB=Error(r(542)),zB={then:function(){}};function N2(A){return A=A.status,A==="fulfilled"||A==="rejected"}function L2(A,c,p){switch(p=A[p],p===void 0?A.push(c):p!==c&&(c.then(kA,kA),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,k2(A),A;default:if(typeof c.status=="string")c.then(kA,kA);else{if(A=dn,A!==null&&100<A.shellSuspendCounter)throw Error(r(482));A=c,A.status="pending",A.then(function(m){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=m}},function(m){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,k2(A),A}throw pf=c,$p}}function hf(A){try{var c=A._init;return c(A._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(pf=p,$p):p}}var pf=null;function Q2(){if(pf===null)throw Error(r(459));var A=pf;return pf=null,A}function k2(A){if(A===$p||A===GB)throw Error(r(483))}var jp=null,jy=0;function qB(A){var c=jy;return jy+=1,jp===null&&(jp=[]),L2(jp,A,c)}function Wy(A,c){c=c.props.ref,A.ref=c!==void 0?c:null}function $B(A,c){throw c.$$typeof===g?Error(r(525)):(A=Object.prototype.toString.call(c),Error(r(31,A==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":A)))}function O2(A){function c(J,W){if(A){var ne=J.deletions;ne===null?(J.deletions=[W],J.flags|=16):ne.push(W)}}function p(J,W){if(!A)return null;for(;W!==null;)c(J,W),W=W.sibling;return null}function m(J){for(var W=new Map;J!==null;)J.key!==null?W.set(J.key,J):W.set(J.index,J),J=J.sibling;return W}function E(J,W){return J=HA(J,W),J.index=0,J.sibling=null,J}function x(J,W,ne){return J.index=ne,A?(ne=J.alternate,ne!==null?(ne=ne.index,ne<W?(J.flags|=67108866,W):ne):(J.flags|=67108866,W)):(J.flags|=1048576,W)}function N(J){return A&&J.alternate===null&&(J.flags|=67108866),J}function O(J,W,ne,me){return W===null||W.tag!==6?(W=cF(ne,J.mode,me),W.return=J,W):(W=E(W,ne),W.return=J,W)}function $(J,W,ne,me){var Ye=ne.type;return Ye===b?he(J,W,ne.props.children,me,ne.key):W!==null&&(W.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===H&&hf(Ye)===W.type)?(W=E(W,ne.props),Wy(W,ne),W.return=J,W):(W=kB(ne.type,ne.key,ne.props,null,J.mode,me),Wy(W,ne),W.return=J,W)}function re(J,W,ne,me){return W===null||W.tag!==4||W.stateNode.containerInfo!==ne.containerInfo||W.stateNode.implementation!==ne.implementation?(W=dF(ne,J.mode,me),W.return=J,W):(W=E(W,ne.children||[]),W.return=J,W)}function he(J,W,ne,me,Ye){return W===null||W.tag!==7?(W=lf(ne,J.mode,me,Ye),W.return=J,W):(W=E(W,ne),W.return=J,W)}function we(J,W,ne){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=cF(""+W,J.mode,ne),W.return=J,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return ne=kB(W.type,W.key,W.props,null,J.mode,ne),Wy(ne,W),ne.return=J,ne;case C:return W=dF(W,J.mode,ne),W.return=J,W;case H:return W=hf(W),we(J,W,ne)}if(ve(W)||z(W))return W=lf(W,J.mode,ne,null),W.return=J,W;if(typeof W.then=="function")return we(J,qB(W),ne);if(W.$$typeof===T)return we(J,VB(J,W),ne);$B(J,W)}return null}function ae(J,W,ne,me){var Ye=W!==null?W.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Ye!==null?null:O(J,W,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case v:return ne.key===Ye?$(J,W,ne,me):null;case C:return ne.key===Ye?re(J,W,ne,me):null;case H:return ne=hf(ne),ae(J,W,ne,me)}if(ve(ne)||z(ne))return Ye!==null?null:he(J,W,ne,me,null);if(typeof ne.then=="function")return ae(J,W,qB(ne),me);if(ne.$$typeof===T)return ae(J,W,VB(J,ne),me);$B(J,ne)}return null}function Ae(J,W,ne,me,Ye){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return J=J.get(ne)||null,O(W,J,""+me,Ye);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case v:return J=J.get(me.key===null?ne:me.key)||null,$(W,J,me,Ye);case C:return J=J.get(me.key===null?ne:me.key)||null,re(W,J,me,Ye);case H:return me=hf(me),Ae(J,W,ne,me,Ye)}if(ve(me)||z(me))return J=J.get(ne)||null,he(W,J,me,Ye,null);if(typeof me.then=="function")return Ae(J,W,ne,qB(me),Ye);if(me.$$typeof===T)return Ae(J,W,ne,VB(W,me),Ye);$B(W,me)}return null}function ke(J,W,ne,me){for(var Ye=null,Dt=null,Ve=W,ht=W=0,Et=null;Ve!==null&&ht<ne.length;ht++){Ve.index>ht?(Et=Ve,Ve=null):Et=Ve.sibling;var Nt=ae(J,Ve,ne[ht],me);if(Nt===null){Ve===null&&(Ve=Et);break}A&&Ve&&Nt.alternate===null&&c(J,Ve),W=x(Nt,W,ht),Dt===null?Ye=Nt:Dt.sibling=Nt,Dt=Nt,Ve=Et}if(ht===ne.length)return p(J,Ve),_t&&VA(J,ht),Ye;if(Ve===null){for(;ht<ne.length;ht++)Ve=we(J,ne[ht],me),Ve!==null&&(W=x(Ve,W,ht),Dt===null?Ye=Ve:Dt.sibling=Ve,Dt=Ve);return _t&&VA(J,ht),Ye}for(Ve=m(Ve);ht<ne.length;ht++)Et=Ae(Ve,J,ht,ne[ht],me),Et!==null&&(A&&Et.alternate!==null&&Ve.delete(Et.key===null?ht:Et.key),W=x(Et,W,ht),Dt===null?Ye=Et:Dt.sibling=Et,Dt=Et);return A&&Ve.forEach(function(fc){return c(J,fc)}),_t&&VA(J,ht),Ye}function Ze(J,W,ne,me){if(ne==null)throw Error(r(151));for(var Ye=null,Dt=null,Ve=W,ht=W=0,Et=null,Nt=ne.next();Ve!==null&&!Nt.done;ht++,Nt=ne.next()){Ve.index>ht?(Et=Ve,Ve=null):Et=Ve.sibling;var fc=ae(J,Ve,Nt.value,me);if(fc===null){Ve===null&&(Ve=Et);break}A&&Ve&&fc.alternate===null&&c(J,Ve),W=x(fc,W,ht),Dt===null?Ye=fc:Dt.sibling=fc,Dt=fc,Ve=Et}if(Nt.done)return p(J,Ve),_t&&VA(J,ht),Ye;if(Ve===null){for(;!Nt.done;ht++,Nt=ne.next())Nt=we(J,Nt.value,me),Nt!==null&&(W=x(Nt,W,ht),Dt===null?Ye=Nt:Dt.sibling=Nt,Dt=Nt);return _t&&VA(J,ht),Ye}for(Ve=m(Ve);!Nt.done;ht++,Nt=ne.next())Nt=Ae(Ve,J,ht,Nt.value,me),Nt!==null&&(A&&Nt.alternate!==null&&Ve.delete(Nt.key===null?ht:Nt.key),W=x(Nt,W,ht),Dt===null?Ye=Nt:Dt.sibling=Nt,Dt=Nt);return A&&Ve.forEach(function(Yne){return c(J,Yne)}),_t&&VA(J,ht),Ye}function tn(J,W,ne,me){if(typeof ne=="object"&&ne!==null&&ne.type===b&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case v:e:{for(var Ye=ne.key;W!==null;){if(W.key===Ye){if(Ye=ne.type,Ye===b){if(W.tag===7){p(J,W.sibling),me=E(W,ne.props.children),me.return=J,J=me;break e}}else if(W.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===H&&hf(Ye)===W.type){p(J,W.sibling),me=E(W,ne.props),Wy(me,ne),me.return=J,J=me;break e}p(J,W);break}else c(J,W);W=W.sibling}ne.type===b?(me=lf(ne.props.children,J.mode,me,ne.key),me.return=J,J=me):(me=kB(ne.type,ne.key,ne.props,null,J.mode,me),Wy(me,ne),me.return=J,J=me)}return N(J);case C:e:{for(Ye=ne.key;W!==null;){if(W.key===Ye)if(W.tag===4&&W.stateNode.containerInfo===ne.containerInfo&&W.stateNode.implementation===ne.implementation){p(J,W.sibling),me=E(W,ne.children||[]),me.return=J,J=me;break e}else{p(J,W);break}else c(J,W);W=W.sibling}me=dF(ne,J.mode,me),me.return=J,J=me}return N(J);case H:return ne=hf(ne),tn(J,W,ne,me)}if(ve(ne))return ke(J,W,ne,me);if(z(ne)){if(Ye=z(ne),typeof Ye!="function")throw Error(r(150));return ne=Ye.call(ne),Ze(J,W,ne,me)}if(typeof ne.then=="function")return tn(J,W,qB(ne),me);if(ne.$$typeof===T)return tn(J,W,VB(J,ne),me);$B(J,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,W!==null&&W.tag===6?(p(J,W.sibling),me=E(W,ne),me.return=J,J=me):(p(J,W),me=cF(ne,J.mode,me),me.return=J,J=me),N(J)):p(J,W)}return function(J,W,ne,me){try{jy=0;var Ye=tn(J,W,ne,me);return jp=null,Ye}catch(Ve){if(Ve===$p||Ve===GB)throw Ve;var Dt=Us(29,Ve,null,J.mode);return Dt.lanes=me,Dt.return=J,Dt}finally{}}}var gf=O2(!0),H2=O2(!1),Yu=!1;function BF(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function SF(A,c){A=A.updateQueue,c.updateQueue===A&&(c.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function Xu(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function Ju(A,c,p){var m=A.updateQueue;if(m===null)return null;if(m=m.shared,(Ht&2)!==0){var E=m.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),m.pending=c,c=QB(A),B2(A,null,p),c}return LB(A,m,c,p),QB(A)}function Yy(A,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,wB(A,p)}}function xF(A,c){var p=A.updateQueue,m=A.alternate;if(m!==null&&(m=m.updateQueue,p===m)){var E=null,x=null;if(p=p.firstBaseUpdate,p!==null){do{var N={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};x===null?E=x=N:x=x.next=N,p=p.next}while(p!==null);x===null?E=x=c:x=x.next=c}else E=x=c;p={baseState:m.baseState,firstBaseUpdate:E,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},A.updateQueue=p;return}A=p.lastBaseUpdate,A===null?p.firstBaseUpdate=c:A.next=c,p.lastBaseUpdate=c}var _F=!1;function Xy(){if(_F){var A=qp;if(A!==null)throw A}}function Jy(A,c,p,m){_F=!1;var E=A.updateQueue;Yu=!1;var x=E.firstBaseUpdate,N=E.lastBaseUpdate,O=E.shared.pending;if(O!==null){E.shared.pending=null;var $=O,re=$.next;$.next=null,N===null?x=re:N.next=re,N=$;var he=A.alternate;he!==null&&(he=he.updateQueue,O=he.lastBaseUpdate,O!==N&&(O===null?he.firstBaseUpdate=re:O.next=re,he.lastBaseUpdate=$))}if(x!==null){var we=E.baseState;N=0,he=re=$=null,O=x;do{var ae=O.lane&-536870913,Ae=ae!==O.lane;if(Ae?(Ct&ae)===ae:(m&ae)===ae){ae!==0&&ae===zp&&(_F=!0),he!==null&&(he=he.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var ke=A,Ze=O;ae=c;var tn=p;switch(Ze.tag){case 1:if(ke=Ze.payload,typeof ke=="function"){we=ke.call(tn,we,ae);break e}we=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ze.payload,ae=typeof ke=="function"?ke.call(tn,we,ae):ke,ae==null)break e;we=h({},we,ae);break e;case 2:Yu=!0}}ae=O.callback,ae!==null&&(A.flags|=64,Ae&&(A.flags|=8192),Ae=E.callbacks,Ae===null?E.callbacks=[ae]:Ae.push(ae))}else Ae={lane:ae,tag:O.tag,payload:O.payload,callback:O.callback,next:null},he===null?(re=he=Ae,$=we):he=he.next=Ae,N|=ae;if(O=O.next,O===null){if(O=E.shared.pending,O===null)break;Ae=O,O=Ae.next,Ae.next=null,E.lastBaseUpdate=Ae,E.shared.pending=null}}while(!0);he===null&&($=we),E.baseState=$,E.firstBaseUpdate=re,E.lastBaseUpdate=he,x===null&&(E.shared.lanes=0),rc|=N,A.lanes=N,A.memoizedState=we}}function V2(A,c){if(typeof A!="function")throw Error(r(191,A));A.call(c)}function K2(A,c){var p=A.callbacks;if(p!==null)for(A.callbacks=null,A=0;A<p.length;A++)V2(p[A],c)}var Wp=q(null),jB=q(0);function G2(A,c){A=ZA,oe(jB,A),oe(Wp,c),ZA=A|c.baseLanes}function TF(){oe(jB,ZA),oe(Wp,Wp.current)}function IF(){ZA=jB.current,ee(Wp),ee(jB)}var Ps=q(null),Ba=null;function Zu(A){var c=A.alternate;oe(ir,ir.current&1),oe(Ps,A),Ba===null&&(c===null||Wp.current!==null||c.memoizedState!==null)&&(Ba=A)}function FF(A){oe(ir,ir.current),oe(Ps,A),Ba===null&&(Ba=A)}function z2(A){A.tag===22?(oe(ir,ir.current),oe(Ps,A),Ba===null&&(Ba=A)):ec()}function ec(){oe(ir,ir.current),oe(Ps,Ps.current)}function Rs(A){ee(Ps),Ba===A&&(Ba=null),ee(ir)}var ir=q(0);function WB(A){for(var c=A;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||NM(p)||LM(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var zA=0,ct=null,Zt=null,vr=null,YB=!1,Yp=!1,mf=!1,XB=0,Zy=0,Xp=null,Ote=0;function qn(){throw Error(r(321))}function MF(A,c){if(c===null)return!1;for(var p=0;p<c.length&&p<A.length;p++)if(!Ms(A[p],c[p]))return!1;return!0}function UF(A,c,p,m,E,x){return zA=x,ct=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=A===null||A.memoizedState===null?TH:$F,mf=!1,x=p(m,E),mf=!1,Yp&&(x=$2(c,p,m,E)),q2(A),x}function q2(A){V.H=n0;var c=Zt!==null&&Zt.next!==null;if(zA=0,vr=Zt=ct=null,YB=!1,Zy=0,Xp=null,c)throw Error(r(300));A===null||yr||(A=A.dependencies,A!==null&&HB(A)&&(yr=!0))}function $2(A,c,p,m){ct=A;var E=0;do{if(Yp&&(Xp=null),Zy=0,Yp=!1,25<=E)throw Error(r(301));if(E+=1,vr=Zt=null,A.updateQueue!=null){var x=A.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}V.H=IH,x=c(p,m)}while(Yp);return x}function Hte(){var A=V.H,c=A.useState()[0];return c=typeof c.then=="function"?e0(c):c,A=A.useState()[0],(Zt!==null?Zt.memoizedState:null)!==A&&(ct.flags|=1024),c}function PF(){var A=XB!==0;return XB=0,A}function RF(A,c,p){c.updateQueue=A.updateQueue,c.flags&=-2053,A.lanes&=~p}function DF(A){if(YB){for(A=A.memoizedState;A!==null;){var c=A.queue;c!==null&&(c.pending=null),A=A.next}YB=!1}zA=0,vr=Zt=ct=null,Yp=!1,Zy=XB=0,Xp=null}function Ki(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?ct.memoizedState=vr=A:vr=vr.next=A,vr}function sr(){if(Zt===null){var A=ct.alternate;A=A!==null?A.memoizedState:null}else A=Zt.next;var c=vr===null?ct.memoizedState:vr.next;if(c!==null)vr=c,Zt=A;else{if(A===null)throw ct.alternate===null?Error(r(467)):Error(r(310));Zt=A,A={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},vr===null?ct.memoizedState=vr=A:vr=vr.next=A}return vr}function JB(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function e0(A){var c=Zy;return Zy+=1,Xp===null&&(Xp=[]),A=L2(Xp,A,c),c=ct,(vr===null?c.memoizedState:vr.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?TH:$F),A}function ZB(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return e0(A);if(A.$$typeof===T)return oi(A)}throw Error(r(438,String(A)))}function NF(A){var c=null,p=ct.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var m=ct.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=JB(),ct.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(A),m=0;m<A;m++)p[m]=G;return c.index++,p}function qA(A,c){return typeof c=="function"?c(A):c}function eS(A){var c=sr();return LF(c,Zt,A)}function LF(A,c,p){var m=A.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=p;var E=A.baseQueue,x=m.pending;if(x!==null){if(E!==null){var N=E.next;E.next=x.next,x.next=N}c.baseQueue=E=x,m.pending=null}if(x=A.baseState,E===null)A.memoizedState=x;else{c=E.next;var O=N=null,$=null,re=c,he=!1;do{var we=re.lane&-536870913;if(we!==re.lane?(Ct&we)===we:(zA&we)===we){var ae=re.revertLane;if(ae===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),we===zp&&(he=!0);else if((zA&ae)===ae){re=re.next,ae===zp&&(he=!0);continue}else we={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},$===null?(O=$=we,N=x):$=$.next=we,ct.lanes|=ae,rc|=ae;we=re.action,mf&&p(x,we),x=re.hasEagerState?re.eagerState:p(x,we)}else ae={lane:we,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},$===null?(O=$=ae,N=x):$=$.next=ae,ct.lanes|=we,rc|=we;re=re.next}while(re!==null&&re!==c);if($===null?N=x:$.next=O,!Ms(x,A.memoizedState)&&(yr=!0,he&&(p=qp,p!==null)))throw p;A.memoizedState=x,A.baseState=N,A.baseQueue=$,m.lastRenderedState=x}return E===null&&(m.lanes=0),[A.memoizedState,m.dispatch]}function QF(A){var c=sr(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=A;var m=p.dispatch,E=p.pending,x=c.memoizedState;if(E!==null){p.pending=null;var N=E=E.next;do x=A(x,N.action),N=N.next;while(N!==E);Ms(x,c.memoizedState)||(yr=!0),c.memoizedState=x,c.baseQueue===null&&(c.baseState=x),p.lastRenderedState=x}return[x,m]}function j2(A,c,p){var m=ct,E=sr(),x=_t;if(x){if(p===void 0)throw Error(r(407));p=p()}else p=c();var N=!Ms((Zt||E).memoizedState,p);if(N&&(E.memoizedState=p,yr=!0),E=E.queue,HF(X2.bind(null,m,E,A),[A]),E.getSnapshot!==c||N||vr!==null&&vr.memoizedState.tag&1){if(m.flags|=2048,Jp(9,{destroy:void 0},Y2.bind(null,m,E,p,c),null),dn===null)throw Error(r(349));x||(zA&127)!==0||W2(m,c,p)}return p}function W2(A,c,p){A.flags|=16384,A={getSnapshot:c,value:p},c=ct.updateQueue,c===null?(c=JB(),ct.updateQueue=c,c.stores=[A]):(p=c.stores,p===null?c.stores=[A]:p.push(A))}function Y2(A,c,p,m){c.value=p,c.getSnapshot=m,J2(c)&&Z2(A)}function X2(A,c,p){return p(function(){J2(c)&&Z2(A)})}function J2(A){var c=A.getSnapshot;A=A.value;try{var p=c();return!Ms(A,p)}catch{return!0}}function Z2(A){var c=Af(A,2);c!==null&&cs(c,A,2)}function kF(A){var c=Ki();if(typeof A=="function"){var p=A;if(A=p(),mf){Ot(!0);try{p()}finally{Ot(!1)}}}return c.memoizedState=c.baseState=A,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qA,lastRenderedState:A},c}function eH(A,c,p,m){return A.baseState=p,LF(A,Zt,typeof m=="function"?m:qA)}function Vte(A,c,p,m,E){if(rS(A))throw Error(r(485));if(A=c.action,A!==null){var x={payload:E,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){x.listeners.push(N)}};V.T!==null?p(!0):x.isTransition=!1,m(x),p=c.pending,p===null?(x.next=c.pending=x,tH(c,x)):(x.next=p.next,c.pending=p.next=x)}}function tH(A,c){var p=c.action,m=c.payload,E=A.state;if(c.isTransition){var x=V.T,N={};V.T=N;try{var O=p(E,m),$=V.S;$!==null&&$(N,O),nH(A,c,O)}catch(re){OF(A,c,re)}finally{x!==null&&N.types!==null&&(x.types=N.types),V.T=x}}else try{x=p(E,m),nH(A,c,x)}catch(re){OF(A,c,re)}}function nH(A,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(m){rH(A,c,m)},function(m){return OF(A,c,m)}):rH(A,c,p)}function rH(A,c,p){c.status="fulfilled",c.value=p,iH(c),A.state=p,c=A.pending,c!==null&&(p=c.next,p===c?A.pending=null:(p=p.next,c.next=p,tH(A,p)))}function OF(A,c,p){var m=A.pending;if(A.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=p,iH(c),c=c.next;while(c!==m)}A.action=null}function iH(A){A=A.listeners;for(var c=0;c<A.length;c++)(0,A[c])()}function sH(A,c){return c}function aH(A,c){if(_t){var p=dn.formState;if(p!==null){e:{var m=ct;if(_t){if(xn){t:{for(var E=xn,x=Ea;E.nodeType!==8;){if(!x){E=null;break t}if(E=Sa(E.nextSibling),E===null){E=null;break t}}x=E.data,E=x==="F!"||x==="F"?E:null}if(E){xn=Sa(E.nextSibling),m=E.data==="F!";break e}}ju(m)}m=!1}m&&(c=p[0])}}return p=Ki(),p.memoizedState=p.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sH,lastRenderedState:c},p.queue=m,p=SH.bind(null,ct,m),m.dispatch=p,m=kF(!1),x=qF.bind(null,ct,!1,m.queue),m=Ki(),E={state:c,dispatch:null,action:A,pending:null},m.queue=E,p=Vte.bind(null,ct,E,x,p),E.dispatch=p,m.memoizedState=A,[c,p,!1]}function oH(A){var c=sr();return AH(c,Zt,A)}function AH(A,c,p){if(c=LF(A,c,sH)[0],A=eS(qA)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=e0(c)}catch(N){throw N===$p?GB:N}else m=c;c=sr();var E=c.queue,x=E.dispatch;return p!==c.memoizedState&&(ct.flags|=2048,Jp(9,{destroy:void 0},Kte.bind(null,E,p),null)),[m,x,A]}function Kte(A,c){A.action=c}function lH(A){var c=sr(),p=Zt;if(p!==null)return AH(c,p,A);sr(),c=c.memoizedState,p=sr();var m=p.queue.dispatch;return p.memoizedState=A,[c,m,!1]}function Jp(A,c,p,m){return A={tag:A,create:p,deps:m,inst:c,next:null},c=ct.updateQueue,c===null&&(c=JB(),ct.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=A.next=A:(m=p.next,p.next=A,A.next=m,c.lastEffect=A),A}function uH(){return sr().memoizedState}function tS(A,c,p,m){var E=Ki();ct.flags|=A,E.memoizedState=Jp(1|c,{destroy:void 0},p,m===void 0?null:m)}function nS(A,c,p,m){var E=sr();m=m===void 0?null:m;var x=E.memoizedState.inst;Zt!==null&&m!==null&&MF(m,Zt.memoizedState.deps)?E.memoizedState=Jp(c,x,p,m):(ct.flags|=A,E.memoizedState=Jp(1|c,x,p,m))}function cH(A,c){tS(8390656,8,A,c)}function HF(A,c){nS(2048,8,A,c)}function Gte(A){ct.flags|=4;var c=ct.updateQueue;if(c===null)c=JB(),ct.updateQueue=c,c.events=[A];else{var p=c.events;p===null?c.events=[A]:p.push(A)}}function dH(A){var c=sr().memoizedState;return Gte({ref:c,nextImpl:A}),function(){if((Ht&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function fH(A,c){return nS(4,2,A,c)}function hH(A,c){return nS(4,4,A,c)}function pH(A,c){if(typeof c=="function"){A=A();var p=c(A);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return A=A(),c.current=A,function(){c.current=null}}function gH(A,c,p){p=p!=null?p.concat([A]):null,nS(4,4,pH.bind(null,c,A),p)}function VF(){}function mH(A,c){var p=sr();c=c===void 0?null:c;var m=p.memoizedState;return c!==null&&MF(c,m[1])?m[0]:(p.memoizedState=[A,c],A)}function vH(A,c){var p=sr();c=c===void 0?null:c;var m=p.memoizedState;if(c!==null&&MF(c,m[1]))return m[0];if(m=A(),mf){Ot(!0);try{A()}finally{Ot(!1)}}return p.memoizedState=[m,c],m}function KF(A,c,p){return p===void 0||(zA&1073741824)!==0&&(Ct&261930)===0?A.memoizedState=c:(A.memoizedState=p,A=y4(),ct.lanes|=A,rc|=A,p)}function yH(A,c,p,m){return Ms(p,c)?p:Wp.current!==null?(A=KF(A,p,m),Ms(A,c)||(yr=!0),A):(zA&42)===0||(zA&1073741824)!==0&&(Ct&261930)===0?(yr=!0,A.memoizedState=p):(A=y4(),ct.lanes|=A,rc|=A,c)}function wH(A,c,p,m,E){var x=j.p;j.p=x!==0&&8>x?x:8;var N=V.T,O={};V.T=O,qF(A,!1,c,p);try{var $=E(),re=V.S;if(re!==null&&re(O,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var he=kte($,m);t0(A,c,he,Ls(A))}else t0(A,c,m,Ls(A))}catch(we){t0(A,c,{then:function(){},status:"rejected",reason:we},Ls())}finally{j.p=x,N!==null&&O.types!==null&&(N.types=O.types),V.T=N}}function zte(){}function GF(A,c,p,m){if(A.tag!==5)throw Error(r(476));var E=bH(A).queue;wH(A,E,c,se,p===null?zte:function(){return CH(A),p(m)})}function bH(A){var c=A.memoizedState;if(c!==null)return c;c={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qA,lastRenderedState:se},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qA,lastRenderedState:p},next:null},A.memoizedState=c,A=A.alternate,A!==null&&(A.memoizedState=c),c}function CH(A){var c=bH(A);c.next===null&&(c=A.alternate.memoizedState),t0(A,c.next.queue,{},Ls())}function zF(){return oi(v0)}function EH(){return sr().memoizedState}function BH(){return sr().memoizedState}function qte(A){for(var c=A.return;c!==null;){switch(c.tag){case 24:case 3:var p=Ls();A=Xu(p);var m=Ju(c,A,p);m!==null&&(cs(m,c,p),Yy(m,c,p)),c={cache:wF()},A.payload=c;return}c=c.return}}function $te(A,c,p){var m=Ls();p={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},rS(A)?xH(c,p):(p=lF(A,c,p,m),p!==null&&(cs(p,A,m),_H(p,c,m)))}function SH(A,c,p){var m=Ls();t0(A,c,p,m)}function t0(A,c,p,m){var E={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(rS(A))xH(c,E);else{var x=A.alternate;if(A.lanes===0&&(x===null||x.lanes===0)&&(x=c.lastRenderedReducer,x!==null))try{var N=c.lastRenderedState,O=x(N,p);if(E.hasEagerState=!0,E.eagerState=O,Ms(O,N))return LB(A,c,E,0),dn===null&&NB(),!1}catch{}finally{}if(p=lF(A,c,E,m),p!==null)return cs(p,A,m),_H(p,c,m),!0}return!1}function qF(A,c,p,m){if(m={lane:2,revertLane:BM(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},rS(A)){if(c)throw Error(r(479))}else c=lF(A,p,m,2),c!==null&&cs(c,A,2)}function rS(A){var c=A.alternate;return A===ct||c!==null&&c===ct}function xH(A,c){Yp=YB=!0;var p=A.pending;p===null?c.next=c:(c.next=p.next,p.next=c),A.pending=c}function _H(A,c,p){if((p&4194048)!==0){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,wB(A,p)}}var n0={readContext:oi,use:ZB,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useLayoutEffect:qn,useInsertionEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useSyncExternalStore:qn,useId:qn,useHostTransitionStatus:qn,useFormState:qn,useActionState:qn,useOptimistic:qn,useMemoCache:qn,useCacheRefresh:qn};n0.useEffectEvent=qn;var TH={readContext:oi,use:ZB,useCallback:function(A,c){return Ki().memoizedState=[A,c===void 0?null:c],A},useContext:oi,useEffect:cH,useImperativeHandle:function(A,c,p){p=p!=null?p.concat([A]):null,tS(4194308,4,pH.bind(null,c,A),p)},useLayoutEffect:function(A,c){return tS(4194308,4,A,c)},useInsertionEffect:function(A,c){tS(4,2,A,c)},useMemo:function(A,c){var p=Ki();c=c===void 0?null:c;var m=A();if(mf){Ot(!0);try{A()}finally{Ot(!1)}}return p.memoizedState=[m,c],m},useReducer:function(A,c,p){var m=Ki();if(p!==void 0){var E=p(c);if(mf){Ot(!0);try{p(c)}finally{Ot(!1)}}}else E=c;return m.memoizedState=m.baseState=E,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:E},m.queue=A,A=A.dispatch=$te.bind(null,ct,A),[m.memoizedState,A]},useRef:function(A){var c=Ki();return A={current:A},c.memoizedState=A},useState:function(A){A=kF(A);var c=A.queue,p=SH.bind(null,ct,c);return c.dispatch=p,[A.memoizedState,p]},useDebugValue:VF,useDeferredValue:function(A,c){var p=Ki();return KF(p,A,c)},useTransition:function(){var A=kF(!1);return A=wH.bind(null,ct,A.queue,!0,!1),Ki().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,c,p){var m=ct,E=Ki();if(_t){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),dn===null)throw Error(r(349));(Ct&127)!==0||W2(m,c,p)}E.memoizedState=p;var x={value:p,getSnapshot:c};return E.queue=x,cH(X2.bind(null,m,x,A),[A]),m.flags|=2048,Jp(9,{destroy:void 0},Y2.bind(null,m,x,p,c),null),p},useId:function(){var A=Ki(),c=dn.identifierPrefix;if(_t){var p=qo,m=zo;p=(m&~(1<<32-ut(m)-1)).toString(32)+p,c="_"+c+"R_"+p,p=XB++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=Ote++,c="_"+c+"r_"+p.toString(32)+"_";return A.memoizedState=c},useHostTransitionStatus:zF,useFormState:aH,useActionState:aH,useOptimistic:function(A){var c=Ki();c.memoizedState=c.baseState=A;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=qF.bind(null,ct,!0,p),p.dispatch=c,[A,c]},useMemoCache:NF,useCacheRefresh:function(){return Ki().memoizedState=qte.bind(null,ct)},useEffectEvent:function(A){var c=Ki(),p={impl:A};return c.memoizedState=p,function(){if((Ht&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},$F={readContext:oi,use:ZB,useCallback:mH,useContext:oi,useEffect:HF,useImperativeHandle:gH,useInsertionEffect:fH,useLayoutEffect:hH,useMemo:vH,useReducer:eS,useRef:uH,useState:function(){return eS(qA)},useDebugValue:VF,useDeferredValue:function(A,c){var p=sr();return yH(p,Zt.memoizedState,A,c)},useTransition:function(){var A=eS(qA)[0],c=sr().memoizedState;return[typeof A=="boolean"?A:e0(A),c]},useSyncExternalStore:j2,useId:EH,useHostTransitionStatus:zF,useFormState:oH,useActionState:oH,useOptimistic:function(A,c){var p=sr();return eH(p,Zt,A,c)},useMemoCache:NF,useCacheRefresh:BH};$F.useEffectEvent=dH;var IH={readContext:oi,use:ZB,useCallback:mH,useContext:oi,useEffect:HF,useImperativeHandle:gH,useInsertionEffect:fH,useLayoutEffect:hH,useMemo:vH,useReducer:QF,useRef:uH,useState:function(){return QF(qA)},useDebugValue:VF,useDeferredValue:function(A,c){var p=sr();return Zt===null?KF(p,A,c):yH(p,Zt.memoizedState,A,c)},useTransition:function(){var A=QF(qA)[0],c=sr().memoizedState;return[typeof A=="boolean"?A:e0(A),c]},useSyncExternalStore:j2,useId:EH,useHostTransitionStatus:zF,useFormState:lH,useActionState:lH,useOptimistic:function(A,c){var p=sr();return Zt!==null?eH(p,Zt,A,c):(p.baseState=A,[A,p.queue.dispatch])},useMemoCache:NF,useCacheRefresh:BH};IH.useEffectEvent=dH;function jF(A,c,p,m){c=A.memoizedState,p=p(m,c),p=p==null?c:h({},c,p),A.memoizedState=p,A.lanes===0&&(A.updateQueue.baseState=p)}var WF={enqueueSetState:function(A,c,p){A=A._reactInternals;var m=Ls(),E=Xu(m);E.payload=c,p!=null&&(E.callback=p),c=Ju(A,E,m),c!==null&&(cs(c,A,m),Yy(c,A,m))},enqueueReplaceState:function(A,c,p){A=A._reactInternals;var m=Ls(),E=Xu(m);E.tag=1,E.payload=c,p!=null&&(E.callback=p),c=Ju(A,E,m),c!==null&&(cs(c,A,m),Yy(c,A,m))},enqueueForceUpdate:function(A,c){A=A._reactInternals;var p=Ls(),m=Xu(p);m.tag=2,c!=null&&(m.callback=c),c=Ju(A,m,p),c!==null&&(cs(c,A,p),Yy(c,A,p))}};function FH(A,c,p,m,E,x,N){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(m,x,N):c.prototype&&c.prototype.isPureReactComponent?!Vy(p,m)||!Vy(E,x):!0}function MH(A,c,p,m){A=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,m),c.state!==A&&WF.enqueueReplaceState(c,c.state,null)}function vf(A,c){var p=c;if("ref"in c){p={};for(var m in c)m!=="ref"&&(p[m]=c[m])}if(A=A.defaultProps){p===c&&(p=h({},p));for(var E in A)p[E]===void 0&&(p[E]=A[E])}return p}function UH(A){DB(A)}function PH(A){console.error(A)}function RH(A){DB(A)}function iS(A,c){try{var p=A.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function DH(A,c,p){try{var m=A.onCaughtError;m(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function YF(A,c,p){return p=Xu(p),p.tag=3,p.payload={element:null},p.callback=function(){iS(A,c)},p}function NH(A){return A=Xu(A),A.tag=3,A}function LH(A,c,p,m){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var x=m.value;A.payload=function(){return E(x)},A.callback=function(){DH(c,p,m)}}var N=p.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(A.callback=function(){DH(c,p,m),typeof E!="function"&&(ic===null?ic=new Set([this]):ic.add(this));var O=m.stack;this.componentDidCatch(m.value,{componentStack:O!==null?O:""})})}function jte(A,c,p,m,E){if(p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=p.alternate,c!==null&&Gp(c,p,E,!0),p=Ps.current,p!==null){switch(p.tag){case 31:case 13:return Ba===null?gS():p.alternate===null&&$n===0&&($n=3),p.flags&=-257,p.flags|=65536,p.lanes=E,m===zB?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([m]):c.add(m),bM(A,m,E)),!1;case 22:return p.flags|=65536,m===zB?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([m]):p.add(m)),bM(A,m,E)),!1}throw Error(r(435,p.tag))}return bM(A,m,E),gS(),!1}if(_t)return c=Ps.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,m!==pF&&(A=Error(r(422),{cause:m}),zy(wa(A,p)))):(m!==pF&&(c=Error(r(423),{cause:m}),zy(wa(c,p))),A=A.current.alternate,A.flags|=65536,E&=-E,A.lanes|=E,m=wa(m,p),E=YF(A.stateNode,m,E),xF(A,E),$n!==4&&($n=2)),!1;var x=Error(r(520),{cause:m});if(x=wa(x,p),u0===null?u0=[x]:u0.push(x),$n!==4&&($n=2),c===null)return!0;m=wa(m,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,A=E&-E,p.lanes|=A,A=YF(p.stateNode,m,A),xF(p,A),!1;case 1:if(c=p.type,x=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ic===null||!ic.has(x))))return p.flags|=65536,E&=-E,p.lanes|=E,E=NH(E),LH(E,A,p,m),xF(p,E),!1}p=p.return}while(p!==null);return!1}var XF=Error(r(461)),yr=!1;function Ai(A,c,p,m){c.child=A===null?H2(c,null,p,m):gf(c,A.child,p,m)}function QH(A,c,p,m,E){p=p.render;var x=c.ref;if("ref"in m){var N={};for(var O in m)O!=="ref"&&(N[O]=m[O])}else N=m;return df(c),m=UF(A,c,p,N,x,E),O=PF(),A!==null&&!yr?(RF(A,c,E),$A(A,c,E)):(_t&&O&&fF(c),c.flags|=1,Ai(A,c,m,E),c.child)}function kH(A,c,p,m,E){if(A===null){var x=p.type;return typeof x=="function"&&!uF(x)&&x.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=x,OH(A,c,x,m,E)):(A=kB(p.type,null,m,c,c.mode,E),A.ref=c.ref,A.return=c,c.child=A)}if(x=A.child,!sM(A,E)){var N=x.memoizedProps;if(p=p.compare,p=p!==null?p:Vy,p(N,m)&&A.ref===c.ref)return $A(A,c,E)}return c.flags|=1,A=HA(x,m),A.ref=c.ref,A.return=c,c.child=A}function OH(A,c,p,m,E){if(A!==null){var x=A.memoizedProps;if(Vy(x,m)&&A.ref===c.ref)if(yr=!1,c.pendingProps=m=x,sM(A,E))(A.flags&131072)!==0&&(yr=!0);else return c.lanes=A.lanes,$A(A,c,E)}return JF(A,c,p,m,E)}function HH(A,c,p,m){var E=m.children,x=A!==null?A.memoizedState:null;if(A===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(x=x!==null?x.baseLanes|p:p,A!==null){for(m=c.child=A.child,E=0;m!==null;)E=E|m.lanes|m.childLanes,m=m.sibling;m=E&~x}else m=0,c.child=null;return VH(A,c,x,p,m)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},A!==null&&KB(c,x!==null?x.cachePool:null),x!==null?G2(c,x):TF(),z2(c);else return m=c.lanes=536870912,VH(A,c,x!==null?x.baseLanes|p:p,p,m)}else x!==null?(KB(c,x.cachePool),G2(c,x),ec(),c.memoizedState=null):(A!==null&&KB(c,null),TF(),ec());return Ai(A,c,E,p),c.child}function r0(A,c){return A!==null&&A.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function VH(A,c,p,m,E){var x=CF();return x=x===null?null:{parent:mr._currentValue,pool:x},c.memoizedState={baseLanes:p,cachePool:x},A!==null&&KB(c,null),TF(),z2(c),A!==null&&Gp(A,c,m,!0),c.childLanes=E,null}function sS(A,c){return c=oS({mode:c.mode,children:c.children},A.mode),c.ref=A.ref,A.child=c,c.return=A,c}function KH(A,c,p){return gf(c,A.child,null,p),A=sS(c,c.pendingProps),A.flags|=2,Rs(c),c.memoizedState=null,A}function Wte(A,c,p){var m=c.pendingProps,E=(c.flags&128)!==0;if(c.flags&=-129,A===null){if(_t){if(m.mode==="hidden")return A=sS(c,m),c.lanes=536870912,r0(null,A);if(FF(c),(A=xn)?(A=tV(A,Ea),A=A!==null&&A.data==="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:qu!==null?{id:zo,overflow:qo}:null,retryLane:536870912,hydrationErrors:null},p=x2(A),p.return=c,c.child=p,ai=c,xn=null)):A=null,A===null)throw ju(c);return c.lanes=536870912,null}return sS(c,m)}var x=A.memoizedState;if(x!==null){var N=x.dehydrated;if(FF(c),E)if(c.flags&256)c.flags&=-257,c=KH(A,c,p);else if(c.memoizedState!==null)c.child=A.child,c.flags|=128,c=null;else throw Error(r(558));else if(yr||Gp(A,c,p,!1),E=(p&A.childLanes)!==0,yr||E){if(m=dn,m!==null&&(N=bB(m,p),N!==0&&N!==x.retryLane))throw x.retryLane=N,Af(A,N),cs(m,A,N),XF;gS(),c=KH(A,c,p)}else A=x.treeContext,xn=Sa(N.nextSibling),ai=c,_t=!0,$u=null,Ea=!1,A!==null&&I2(c,A),c=sS(c,m),c.flags|=4096;return c}return A=HA(A.child,{mode:m.mode,children:m.children}),A.ref=c.ref,c.child=A,A.return=c,A}function aS(A,c){var p=c.ref;if(p===null)A!==null&&A.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(A===null||A.ref!==p)&&(c.flags|=4194816)}}function JF(A,c,p,m,E){return df(c),p=UF(A,c,p,m,void 0,E),m=PF(),A!==null&&!yr?(RF(A,c,E),$A(A,c,E)):(_t&&m&&fF(c),c.flags|=1,Ai(A,c,p,E),c.child)}function GH(A,c,p,m,E,x){return df(c),c.updateQueue=null,p=$2(c,m,p,E),q2(A),m=PF(),A!==null&&!yr?(RF(A,c,x),$A(A,c,x)):(_t&&m&&fF(c),c.flags|=1,Ai(A,c,p,x),c.child)}function zH(A,c,p,m,E){if(df(c),c.stateNode===null){var x=Op,N=p.contextType;typeof N=="object"&&N!==null&&(x=oi(N)),x=new p(m,x),c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=WF,c.stateNode=x,x._reactInternals=c,x=c.stateNode,x.props=m,x.state=c.memoizedState,x.refs={},BF(c),N=p.contextType,x.context=typeof N=="object"&&N!==null?oi(N):Op,x.state=c.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(jF(c,p,N,m),x.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(N=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),N!==x.state&&WF.enqueueReplaceState(x,x.state,null),Jy(c,m,x,E),Xy(),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(A===null){x=c.stateNode;var O=c.memoizedProps,$=vf(p,O);x.props=$;var re=x.context,he=p.contextType;N=Op,typeof he=="object"&&he!==null&&(N=oi(he));var we=p.getDerivedStateFromProps;he=typeof we=="function"||typeof x.getSnapshotBeforeUpdate=="function",O=c.pendingProps!==O,he||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O||re!==N)&&MH(c,x,m,N),Yu=!1;var ae=c.memoizedState;x.state=ae,Jy(c,m,x,E),Xy(),re=c.memoizedState,O||ae!==re||Yu?(typeof we=="function"&&(jF(c,p,we,m),re=c.memoizedState),($=Yu||FH(c,p,$,m,ae,re,N))?(he||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(c.flags|=4194308)):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=re),x.props=m,x.state=re,x.context=N,m=$):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{x=c.stateNode,SF(A,c),N=c.memoizedProps,he=vf(p,N),x.props=he,we=c.pendingProps,ae=x.context,re=p.contextType,$=Op,typeof re=="object"&&re!==null&&($=oi(re)),O=p.getDerivedStateFromProps,(re=typeof O=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==we||ae!==$)&&MH(c,x,m,$),Yu=!1,ae=c.memoizedState,x.state=ae,Jy(c,m,x,E),Xy();var Ae=c.memoizedState;N!==we||ae!==Ae||Yu||A!==null&&A.dependencies!==null&&HB(A.dependencies)?(typeof O=="function"&&(jF(c,p,O,m),Ae=c.memoizedState),(he=Yu||FH(c,p,he,m,ae,Ae,$)||A!==null&&A.dependencies!==null&&HB(A.dependencies))?(re||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,Ae,$),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,Ae,$)),typeof x.componentDidUpdate=="function"&&(c.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=Ae),x.props=m,x.state=Ae,x.context=$,m=he):(typeof x.componentDidUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=1024),m=!1)}return x=m,aS(A,c),m=(c.flags&128)!==0,x||m?(x=c.stateNode,p=m&&typeof p.getDerivedStateFromError!="function"?null:x.render(),c.flags|=1,A!==null&&m?(c.child=gf(c,A.child,null,E),c.child=gf(c,null,p,E)):Ai(A,c,p,E),c.memoizedState=x.state,A=c.child):A=$A(A,c,E),A}function qH(A,c,p,m){return uf(),c.flags|=256,Ai(A,c,p,m),c.child}var ZF={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eM(A){return{baseLanes:A,cachePool:D2()}}function tM(A,c,p){return A=A!==null?A.childLanes&~p:0,c&&(A|=Ns),A}function $H(A,c,p){var m=c.pendingProps,E=!1,x=(c.flags&128)!==0,N;if((N=x)||(N=A!==null&&A.memoizedState===null?!1:(ir.current&2)!==0),N&&(E=!0,c.flags&=-129),N=(c.flags&32)!==0,c.flags&=-33,A===null){if(_t){if(E?Zu(c):ec(),(A=xn)?(A=tV(A,Ea),A=A!==null&&A.data!=="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:qu!==null?{id:zo,overflow:qo}:null,retryLane:536870912,hydrationErrors:null},p=x2(A),p.return=c,c.child=p,ai=c,xn=null)):A=null,A===null)throw ju(c);return LM(A)?c.lanes=32:c.lanes=536870912,null}var O=m.children;return m=m.fallback,E?(ec(),E=c.mode,O=oS({mode:"hidden",children:O},E),m=lf(m,E,p,null),O.return=c,m.return=c,O.sibling=m,c.child=O,m=c.child,m.memoizedState=eM(p),m.childLanes=tM(A,N,p),c.memoizedState=ZF,r0(null,m)):(Zu(c),nM(c,O))}var $=A.memoizedState;if($!==null&&(O=$.dehydrated,O!==null)){if(x)c.flags&256?(Zu(c),c.flags&=-257,c=rM(A,c,p)):c.memoizedState!==null?(ec(),c.child=A.child,c.flags|=128,c=null):(ec(),O=m.fallback,E=c.mode,m=oS({mode:"visible",children:m.children},E),O=lf(O,E,p,null),O.flags|=2,m.return=c,O.return=c,m.sibling=O,c.child=m,gf(c,A.child,null,p),m=c.child,m.memoizedState=eM(p),m.childLanes=tM(A,N,p),c.memoizedState=ZF,c=r0(null,m));else if(Zu(c),LM(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var re=N.dgst;N=re,m=Error(r(419)),m.stack="",m.digest=N,zy({value:m,source:null,stack:null}),c=rM(A,c,p)}else if(yr||Gp(A,c,p,!1),N=(p&A.childLanes)!==0,yr||N){if(N=dn,N!==null&&(m=bB(N,p),m!==0&&m!==$.retryLane))throw $.retryLane=m,Af(A,m),cs(N,A,m),XF;NM(O)||gS(),c=rM(A,c,p)}else NM(O)?(c.flags|=192,c.child=A.child,c=null):(A=$.treeContext,xn=Sa(O.nextSibling),ai=c,_t=!0,$u=null,Ea=!1,A!==null&&I2(c,A),c=nM(c,m.children),c.flags|=4096);return c}return E?(ec(),O=m.fallback,E=c.mode,$=A.child,re=$.sibling,m=HA($,{mode:"hidden",children:m.children}),m.subtreeFlags=$.subtreeFlags&65011712,re!==null?O=HA(re,O):(O=lf(O,E,p,null),O.flags|=2),O.return=c,m.return=c,m.sibling=O,c.child=m,r0(null,m),m=c.child,O=A.child.memoizedState,O===null?O=eM(p):(E=O.cachePool,E!==null?($=mr._currentValue,E=E.parent!==$?{parent:$,pool:$}:E):E=D2(),O={baseLanes:O.baseLanes|p,cachePool:E}),m.memoizedState=O,m.childLanes=tM(A,N,p),c.memoizedState=ZF,r0(A.child,m)):(Zu(c),p=A.child,A=p.sibling,p=HA(p,{mode:"visible",children:m.children}),p.return=c,p.sibling=null,A!==null&&(N=c.deletions,N===null?(c.deletions=[A],c.flags|=16):N.push(A)),c.child=p,c.memoizedState=null,p)}function nM(A,c){return c=oS({mode:"visible",children:c},A.mode),c.return=A,A.child=c}function oS(A,c){return A=Us(22,A,null,c),A.lanes=0,A}function rM(A,c,p){return gf(c,A.child,null,p),A=nM(c,c.pendingProps.children),A.flags|=2,c.memoizedState=null,A}function jH(A,c,p){A.lanes|=c;var m=A.alternate;m!==null&&(m.lanes|=c),vF(A.return,c,p)}function iM(A,c,p,m,E,x){var N=A.memoizedState;N===null?A.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:p,tailMode:E,treeForkCount:x}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=p,N.tailMode=E,N.treeForkCount=x)}function WH(A,c,p){var m=c.pendingProps,E=m.revealOrder,x=m.tail;m=m.children;var N=ir.current,O=(N&2)!==0;if(O?(N=N&1|2,c.flags|=128):N&=1,oe(ir,N),Ai(A,c,m,p),m=_t?Gy:0,!O&&A!==null&&(A.flags&128)!==0)e:for(A=c.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&jH(A,p,c);else if(A.tag===19)jH(A,p,c);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(E){case"forwards":for(p=c.child,E=null;p!==null;)A=p.alternate,A!==null&&WB(A)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),iM(c,!1,E,p,x,m);break;case"backwards":case"unstable_legacy-backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(A=E.alternate,A!==null&&WB(A)===null){c.child=E;break}A=E.sibling,E.sibling=p,p=E,E=A}iM(c,!0,p,null,x,m);break;case"together":iM(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function $A(A,c,p){if(A!==null&&(c.dependencies=A.dependencies),rc|=c.lanes,(p&c.childLanes)===0)if(A!==null){if(Gp(A,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(A!==null&&c.child!==A.child)throw Error(r(153));if(c.child!==null){for(A=c.child,p=HA(A,A.pendingProps),c.child=p,p.return=c;A.sibling!==null;)A=A.sibling,p=p.sibling=HA(A,A.pendingProps),p.return=c;p.sibling=null}return c.child}function sM(A,c){return(A.lanes&c)!==0?!0:(A=A.dependencies,!!(A!==null&&HB(A)))}function Yte(A,c,p){switch(c.tag){case 3:Be(c,c.stateNode.containerInfo),Wu(c,mr,A.memoizedState.cache),uf();break;case 27:case 5:Se(c);break;case 4:Be(c,c.stateNode.containerInfo);break;case 10:Wu(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,FF(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(Zu(c),c.flags|=128,null):(p&c.child.childLanes)!==0?$H(A,c,p):(Zu(c),A=$A(A,c,p),A!==null?A.sibling:null);Zu(c);break;case 19:var E=(A.flags&128)!==0;if(m=(p&c.childLanes)!==0,m||(Gp(A,c,p,!1),m=(p&c.childLanes)!==0),E){if(m)return WH(A,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),oe(ir,ir.current),m)break;return null;case 22:return c.lanes=0,HH(A,c,p,c.pendingProps);case 24:Wu(c,mr,A.memoizedState.cache)}return $A(A,c,p)}function YH(A,c,p){if(A!==null)if(A.memoizedProps!==c.pendingProps)yr=!0;else{if(!sM(A,p)&&(c.flags&128)===0)return yr=!1,Yte(A,c,p);yr=(A.flags&131072)!==0}else yr=!1,_t&&(c.flags&1048576)!==0&&T2(c,Gy,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(A=hf(c.elementType),c.type=A,typeof A=="function")uF(A)?(m=vf(A,m),c.tag=1,c=zH(null,c,A,m,p)):(c.tag=0,c=JF(null,c,A,m,p));else{if(A!=null){var E=A.$$typeof;if(E===D){c.tag=11,c=QH(null,c,A,m,p);break e}else if(E===Q){c.tag=14,c=kH(null,c,A,m,p);break e}}throw c=Y(A)||A,Error(r(306,c,""))}}return c;case 0:return JF(A,c,c.type,c.pendingProps,p);case 1:return m=c.type,E=vf(m,c.pendingProps),zH(A,c,m,E,p);case 3:e:{if(Be(c,c.stateNode.containerInfo),A===null)throw Error(r(387));m=c.pendingProps;var x=c.memoizedState;E=x.element,SF(A,c),Jy(c,m,null,p);var N=c.memoizedState;if(m=N.cache,Wu(c,mr,m),m!==x.cache&&yF(c,[mr],p,!0),Xy(),m=N.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:N.cache},c.updateQueue.baseState=x,c.memoizedState=x,c.flags&256){c=qH(A,c,m,p);break e}else if(m!==E){E=wa(Error(r(424)),c),zy(E),c=qH(A,c,m,p);break e}else{switch(A=c.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(xn=Sa(A.firstChild),ai=c,_t=!0,$u=null,Ea=!0,p=H2(c,null,m,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(uf(),m===E){c=$A(A,c,p);break e}Ai(A,c,m,p)}c=c.child}return c;case 26:return aS(A,c),A===null?(p=oV(c.type,null,c.pendingProps,null))?c.memoizedState=p:_t||(p=c.type,A=c.pendingProps,m=ES(ue.current).createElement(p),m[pr]=c,m[_i]=A,li(m,p,A),zn(m),c.stateNode=m):c.memoizedState=oV(c.type,A.memoizedProps,c.pendingProps,A.memoizedState),null;case 27:return Se(c),A===null&&_t&&(m=c.stateNode=iV(c.type,c.pendingProps,ue.current),ai=c,Ea=!0,E=xn,Ac(c.type)?(QM=E,xn=Sa(m.firstChild)):xn=E),Ai(A,c,c.pendingProps.children,p),aS(A,c),A===null&&(c.flags|=4194304),c.child;case 5:return A===null&&_t&&((E=m=xn)&&(m=xne(m,c.type,c.pendingProps,Ea),m!==null?(c.stateNode=m,ai=c,xn=Sa(m.firstChild),Ea=!1,E=!0):E=!1),E||ju(c)),Se(c),E=c.type,x=c.pendingProps,N=A!==null?A.memoizedProps:null,m=x.children,PM(E,x)?m=null:N!==null&&PM(E,N)&&(c.flags|=32),c.memoizedState!==null&&(E=UF(A,c,Hte,null,null,p),v0._currentValue=E),aS(A,c),Ai(A,c,m,p),c.child;case 6:return A===null&&_t&&((A=p=xn)&&(p=_ne(p,c.pendingProps,Ea),p!==null?(c.stateNode=p,ai=c,xn=null,A=!0):A=!1),A||ju(c)),null;case 13:return $H(A,c,p);case 4:return Be(c,c.stateNode.containerInfo),m=c.pendingProps,A===null?c.child=gf(c,null,m,p):Ai(A,c,m,p),c.child;case 11:return QH(A,c,c.type,c.pendingProps,p);case 7:return Ai(A,c,c.pendingProps,p),c.child;case 8:return Ai(A,c,c.pendingProps.children,p),c.child;case 12:return Ai(A,c,c.pendingProps.children,p),c.child;case 10:return m=c.pendingProps,Wu(c,c.type,m.value),Ai(A,c,m.children,p),c.child;case 9:return E=c.type._context,m=c.pendingProps.children,df(c),E=oi(E),m=m(E),c.flags|=1,Ai(A,c,m,p),c.child;case 14:return kH(A,c,c.type,c.pendingProps,p);case 15:return OH(A,c,c.type,c.pendingProps,p);case 19:return WH(A,c,p);case 31:return Wte(A,c,p);case 22:return HH(A,c,p,c.pendingProps);case 24:return df(c),m=oi(mr),A===null?(E=CF(),E===null&&(E=dn,x=wF(),E.pooledCache=x,x.refCount++,x!==null&&(E.pooledCacheLanes|=p),E=x),c.memoizedState={parent:m,cache:E},BF(c),Wu(c,mr,E)):((A.lanes&p)!==0&&(SF(A,c),Jy(c,null,null,p),Xy()),E=A.memoizedState,x=c.memoizedState,E.parent!==m?(E={parent:m,cache:m},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),Wu(c,mr,m)):(m=x.cache,Wu(c,mr,m),m!==E.cache&&yF(c,[mr],p,!0))),Ai(A,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function jA(A){A.flags|=4}function aM(A,c,p,m,E){if((c=(A.mode&32)!==0)&&(c=!1),c){if(A.flags|=16777216,(E&335544128)===E)if(A.stateNode.complete)A.flags|=8192;else if(E4())A.flags|=8192;else throw pf=zB,EF}else A.flags&=-16777217}function XH(A,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!dV(c))if(E4())A.flags|=8192;else throw pf=zB,EF}function AS(A,c){c!==null&&(A.flags|=4),A.flags&16384&&(c=A.tag!==22?Ty():536870912,A.lanes|=c,ng|=c)}function i0(A,c){if(!_t)switch(A.tailMode){case"hidden":c=A.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?A.tail=null:p.sibling=null;break;case"collapsed":p=A.tail;for(var m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?c||A.tail===null?A.tail=null:A.tail.sibling=null:m.sibling=null}}function _n(A){var c=A.alternate!==null&&A.alternate.child===A.child,p=0,m=0;if(c)for(var E=A.child;E!==null;)p|=E.lanes|E.childLanes,m|=E.subtreeFlags&65011712,m|=E.flags&65011712,E.return=A,E=E.sibling;else for(E=A.child;E!==null;)p|=E.lanes|E.childLanes,m|=E.subtreeFlags,m|=E.flags,E.return=A,E=E.sibling;return A.subtreeFlags|=m,A.childLanes=p,c}function Xte(A,c,p){var m=c.pendingProps;switch(hF(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(c),null;case 1:return _n(c),null;case 3:return p=c.stateNode,m=null,A!==null&&(m=A.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),GA(mr),te(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(A===null||A.child===null)&&(Kp(c)?jA(c):A===null||A.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,gF())),_n(c),null;case 26:var E=c.type,x=c.memoizedState;return A===null?(jA(c),x!==null?(_n(c),XH(c,x)):(_n(c),aM(c,E,null,m,p))):x?x!==A.memoizedState?(jA(c),_n(c),XH(c,x)):(_n(c),c.flags&=-16777217):(A=A.memoizedProps,A!==m&&jA(c),_n(c),aM(c,E,A,m,p)),null;case 27:if(Te(c),p=ue.current,E=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&jA(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return _n(c),null}A=Ce.current,Kp(c)?F2(c):(A=iV(E,m,p),c.stateNode=A,jA(c))}return _n(c),null;case 5:if(Te(c),E=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&jA(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return _n(c),null}if(x=Ce.current,Kp(c))F2(c);else{var N=ES(ue.current);switch(x){case 1:x=N.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:x=N.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":x=N.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":x=N.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":x=N.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?N.createElement(E,{is:m.is}):N.createElement(E)}}x[pr]=c,x[_i]=m;e:for(N=c.child;N!==null;){if(N.tag===5||N.tag===6)x.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===c)break e;for(;N.sibling===null;){if(N.return===null||N.return===c)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}c.stateNode=x;e:switch(li(x,E,m),E){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&jA(c)}}return _n(c),aM(c,c.type,A===null?null:A.memoizedProps,c.pendingProps,p),null;case 6:if(A&&c.stateNode!=null)A.memoizedProps!==m&&jA(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(r(166));if(A=ue.current,Kp(c)){if(A=c.stateNode,p=c.memoizedProps,m=null,E=ai,E!==null)switch(E.tag){case 27:case 5:m=E.memoizedProps}A[pr]=c,A=!!(A.nodeValue===p||m!==null&&m.suppressHydrationWarning===!0||$4(A.nodeValue,p)),A||ju(c,!0)}else A=ES(A).createTextNode(m),A[pr]=c,c.stateNode=A}return _n(c),null;case 31:if(p=c.memoizedState,A===null||A.memoizedState!==null){if(m=Kp(c),p!==null){if(A===null){if(!m)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(557));A[pr]=c}else uf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;_n(c),A=!1}else p=gF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=p),A=!0;if(!A)return c.flags&256?(Rs(c),c):(Rs(c),null);if((c.flags&128)!==0)throw Error(r(558))}return _n(c),null;case 13:if(m=c.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(E=Kp(c),m!==null&&m.dehydrated!==null){if(A===null){if(!E)throw Error(r(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[pr]=c}else uf(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;_n(c),E=!1}else E=gF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(Rs(c),c):(Rs(c),null)}return Rs(c),(c.flags&128)!==0?(c.lanes=p,c):(p=m!==null,A=A!==null&&A.memoizedState!==null,p&&(m=c.child,E=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(E=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==E&&(m.flags|=2048)),p!==A&&p&&(c.child.flags|=8192),AS(c,c.updateQueue),_n(c),null);case 4:return te(),A===null&&TM(c.stateNode.containerInfo),_n(c),null;case 10:return GA(c.type),_n(c),null;case 19:if(ee(ir),m=c.memoizedState,m===null)return _n(c),null;if(E=(c.flags&128)!==0,x=m.rendering,x===null)if(E)i0(m,!1);else{if($n!==0||A!==null&&(A.flags&128)!==0)for(A=c.child;A!==null;){if(x=WB(A),x!==null){for(c.flags|=128,i0(m,!1),A=x.updateQueue,c.updateQueue=A,AS(c,A),c.subtreeFlags=0,A=p,p=c.child;p!==null;)S2(p,A),p=p.sibling;return oe(ir,ir.current&1|2),_t&&VA(c,m.treeForkCount),c.child}A=A.sibling}m.tail!==null&&rr()>fS&&(c.flags|=128,E=!0,i0(m,!1),c.lanes=4194304)}else{if(!E)if(A=WB(x),A!==null){if(c.flags|=128,E=!0,A=A.updateQueue,c.updateQueue=A,AS(c,A),i0(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!_t)return _n(c),null}else 2*rr()-m.renderingStartTime>fS&&p!==536870912&&(c.flags|=128,E=!0,i0(m,!1),c.lanes=4194304);m.isBackwards?(x.sibling=c.child,c.child=x):(A=m.last,A!==null?A.sibling=x:c.child=x,m.last=x)}return m.tail!==null?(A=m.tail,m.rendering=A,m.tail=A.sibling,m.renderingStartTime=rr(),A.sibling=null,p=ir.current,oe(ir,E?p&1|2:p&1),_t&&VA(c,m.treeForkCount),A):(_n(c),null);case 22:case 23:return Rs(c),IF(),m=c.memoizedState!==null,A!==null?A.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(p&536870912)!==0&&(c.flags&128)===0&&(_n(c),c.subtreeFlags&6&&(c.flags|=8192)):_n(c),p=c.updateQueue,p!==null&&AS(c,p.retryQueue),p=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048),A!==null&&ee(ff),null;case 24:return p=null,A!==null&&(p=A.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),GA(mr),_n(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function Jte(A,c){switch(hF(c),c.tag){case 1:return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 3:return GA(mr),te(),A=c.flags,(A&65536)!==0&&(A&128)===0?(c.flags=A&-65537|128,c):null;case 26:case 27:case 5:return Te(c),null;case 31:if(c.memoizedState!==null){if(Rs(c),c.alternate===null)throw Error(r(340));uf()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 13:if(Rs(c),A=c.memoizedState,A!==null&&A.dehydrated!==null){if(c.alternate===null)throw Error(r(340));uf()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 19:return ee(ir),null;case 4:return te(),null;case 10:return GA(c.type),null;case 22:case 23:return Rs(c),IF(),A!==null&&ee(ff),A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 24:return GA(mr),null;case 25:return null;default:return null}}function JH(A,c){switch(hF(c),c.tag){case 3:GA(mr),te();break;case 26:case 27:case 5:Te(c);break;case 4:te();break;case 31:c.memoizedState!==null&&Rs(c);break;case 13:Rs(c);break;case 19:ee(ir);break;case 10:GA(c.type);break;case 22:case 23:Rs(c),IF(),A!==null&&ee(ff);break;case 24:GA(mr)}}function s0(A,c){try{var p=c.updateQueue,m=p!==null?p.lastEffect:null;if(m!==null){var E=m.next;p=E;do{if((p.tag&A)===A){m=void 0;var x=p.create,N=p.inst;m=x(),N.destroy=m}p=p.next}while(p!==E)}}catch(O){$t(c,c.return,O)}}function tc(A,c,p){try{var m=c.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var x=E.next;m=x;do{if((m.tag&A)===A){var N=m.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,E=c;var $=p,re=O;try{re()}catch(he){$t(E,$,he)}}}m=m.next}while(m!==x)}}catch(he){$t(c,c.return,he)}}function ZH(A){var c=A.updateQueue;if(c!==null){var p=A.stateNode;try{K2(c,p)}catch(m){$t(A,A.return,m)}}}function e4(A,c,p){p.props=vf(A.type,A.memoizedProps),p.state=A.memoizedState;try{p.componentWillUnmount()}catch(m){$t(A,c,m)}}function a0(A,c){try{var p=A.ref;if(p!==null){switch(A.tag){case 26:case 27:case 5:var m=A.stateNode;break;case 30:m=A.stateNode;break;default:m=A.stateNode}typeof p=="function"?A.refCleanup=p(m):p.current=m}}catch(E){$t(A,c,E)}}function $o(A,c){var p=A.ref,m=A.refCleanup;if(p!==null)if(typeof m=="function")try{m()}catch(E){$t(A,c,E)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){$t(A,c,E)}else p.current=null}function t4(A){var c=A.type,p=A.memoizedProps,m=A.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&m.focus();break e;case"img":p.src?m.src=p.src:p.srcSet&&(m.srcset=p.srcSet)}}catch(E){$t(A,A.return,E)}}function oM(A,c,p){try{var m=A.stateNode;wne(m,A.type,p,c),m[_i]=c}catch(E){$t(A,A.return,E)}}function n4(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&Ac(A.type)||A.tag===4}function AM(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||n4(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&Ac(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function lM(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(A,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(A),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=kA));else if(m!==4&&(m===27&&Ac(A.type)&&(p=A.stateNode,c=null),A=A.child,A!==null))for(lM(A,c,p),A=A.sibling;A!==null;)lM(A,c,p),A=A.sibling}function lS(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?p.insertBefore(A,c):p.appendChild(A);else if(m!==4&&(m===27&&Ac(A.type)&&(p=A.stateNode),A=A.child,A!==null))for(lS(A,c,p),A=A.sibling;A!==null;)lS(A,c,p),A=A.sibling}function r4(A){var c=A.stateNode,p=A.memoizedProps;try{for(var m=A.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);li(c,m,p),c[pr]=A,c[_i]=p}catch(x){$t(A,A.return,x)}}var WA=!1,wr=!1,uM=!1,i4=typeof WeakSet=="function"?WeakSet:Set,Gr=null;function Zte(A,c){if(A=A.containerInfo,MM=FS,A=g2(A),rF(A)){if("selectionStart"in A)var p={start:A.selectionStart,end:A.selectionEnd};else e:{p=(p=A.ownerDocument)&&p.defaultView||window;var m=p.getSelection&&p.getSelection();if(m&&m.rangeCount!==0){p=m.anchorNode;var E=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{p.nodeType,x.nodeType}catch{p=null;break e}var N=0,O=-1,$=-1,re=0,he=0,we=A,ae=null;t:for(;;){for(var Ae;we!==p||E!==0&&we.nodeType!==3||(O=N+E),we!==x||m!==0&&we.nodeType!==3||($=N+m),we.nodeType===3&&(N+=we.nodeValue.length),(Ae=we.firstChild)!==null;)ae=we,we=Ae;for(;;){if(we===A)break t;if(ae===p&&++re===E&&(O=N),ae===x&&++he===m&&($=N),(Ae=we.nextSibling)!==null)break;we=ae,ae=we.parentNode}we=Ae}p=O===-1||$===-1?null:{start:O,end:$}}else p=null}p=p||{start:0,end:0}}else p=null;for(UM={focusedElem:A,selectionRange:p},FS=!1,Gr=c;Gr!==null;)if(c=Gr,A=c.child,(c.subtreeFlags&1028)!==0&&A!==null)A.return=c,Gr=A;else for(;Gr!==null;){switch(c=Gr,x=c.alternate,A=c.flags,c.tag){case 0:if((A&4)!==0&&(A=c.updateQueue,A=A!==null?A.events:null,A!==null))for(p=0;p<A.length;p++)E=A[p],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&x!==null){A=void 0,p=c,E=x.memoizedProps,x=x.memoizedState,m=p.stateNode;try{var ke=vf(p.type,E);A=m.getSnapshotBeforeUpdate(ke,x),m.__reactInternalSnapshotBeforeUpdate=A}catch(Ze){$t(p,p.return,Ze)}}break;case 3:if((A&1024)!==0){if(A=c.stateNode.containerInfo,p=A.nodeType,p===9)DM(A);else if(p===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":DM(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(r(163))}if(A=c.sibling,A!==null){A.return=c.return,Gr=A;break}Gr=c.return}}function s4(A,c,p){var m=p.flags;switch(p.tag){case 0:case 11:case 15:XA(A,p),m&4&&s0(5,p);break;case 1:if(XA(A,p),m&4)if(A=p.stateNode,c===null)try{A.componentDidMount()}catch(N){$t(p,p.return,N)}else{var E=vf(p.type,c.memoizedProps);c=c.memoizedState;try{A.componentDidUpdate(E,c,A.__reactInternalSnapshotBeforeUpdate)}catch(N){$t(p,p.return,N)}}m&64&&ZH(p),m&512&&a0(p,p.return);break;case 3:if(XA(A,p),m&64&&(A=p.updateQueue,A!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{K2(A,c)}catch(N){$t(p,p.return,N)}}break;case 27:c===null&&m&4&&r4(p);case 26:case 5:XA(A,p),c===null&&m&4&&t4(p),m&512&&a0(p,p.return);break;case 12:XA(A,p);break;case 31:XA(A,p),m&4&&A4(A,p);break;case 13:XA(A,p),m&4&&l4(A,p),m&64&&(A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(p=Ane.bind(null,p),Tne(A,p))));break;case 22:if(m=p.memoizedState!==null||WA,!m){c=c!==null&&c.memoizedState!==null||wr,E=WA;var x=wr;WA=m,(wr=c)&&!x?JA(A,p,(p.subtreeFlags&8772)!==0):XA(A,p),WA=E,wr=x}break;case 30:break;default:XA(A,p)}}function a4(A){var c=A.alternate;c!==null&&(A.alternate=null,a4(c)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(c=A.stateNode,c!==null&&Py(c)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Pn=null,os=!1;function YA(A,c,p){for(p=p.child;p!==null;)o4(A,c,p),p=p.sibling}function o4(A,c,p){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(We,p)}catch{}switch(p.tag){case 26:wr||$o(p,c),YA(A,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:wr||$o(p,c);var m=Pn,E=os;Ac(p.type)&&(Pn=p.stateNode,os=!1),YA(A,c,p),p0(p.stateNode),Pn=m,os=E;break;case 5:wr||$o(p,c);case 6:if(m=Pn,E=os,Pn=null,YA(A,c,p),Pn=m,os=E,Pn!==null)if(os)try{(Pn.nodeType===9?Pn.body:Pn.nodeName==="HTML"?Pn.ownerDocument.body:Pn).removeChild(p.stateNode)}catch(x){$t(p,c,x)}else try{Pn.removeChild(p.stateNode)}catch(x){$t(p,c,x)}break;case 18:Pn!==null&&(os?(A=Pn,Z4(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,p.stateNode),ug(A)):Z4(Pn,p.stateNode));break;case 4:m=Pn,E=os,Pn=p.stateNode.containerInfo,os=!0,YA(A,c,p),Pn=m,os=E;break;case 0:case 11:case 14:case 15:tc(2,p,c),wr||tc(4,p,c),YA(A,c,p);break;case 1:wr||($o(p,c),m=p.stateNode,typeof m.componentWillUnmount=="function"&&e4(p,c,m)),YA(A,c,p);break;case 21:YA(A,c,p);break;case 22:wr=(m=wr)||p.memoizedState!==null,YA(A,c,p),wr=m;break;default:YA(A,c,p)}}function A4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{ug(A)}catch(p){$t(c,c.return,p)}}}function l4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{ug(A)}catch(p){$t(c,c.return,p)}}function ene(A){switch(A.tag){case 31:case 13:case 19:var c=A.stateNode;return c===null&&(c=A.stateNode=new i4),c;case 22:return A=A.stateNode,c=A._retryCache,c===null&&(c=A._retryCache=new i4),c;default:throw Error(r(435,A.tag))}}function uS(A,c){var p=ene(A);c.forEach(function(m){if(!p.has(m)){p.add(m);var E=lne.bind(null,A,m);m.then(E,E)}})}function As(A,c){var p=c.deletions;if(p!==null)for(var m=0;m<p.length;m++){var E=p[m],x=A,N=c,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(Ac(O.type)){Pn=O.stateNode,os=!1;break e}break;case 5:Pn=O.stateNode,os=!1;break e;case 3:case 4:Pn=O.stateNode.containerInfo,os=!0;break e}O=O.return}if(Pn===null)throw Error(r(160));o4(x,N,E),Pn=null,os=!1,x=E.alternate,x!==null&&(x.return=null),E.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)u4(c,A),c=c.sibling}var co=null;function u4(A,c){var p=A.alternate,m=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:As(c,A),ls(A),m&4&&(tc(3,A,A.return),s0(3,A),tc(5,A,A.return));break;case 1:As(c,A),ls(A),m&512&&(wr||p===null||$o(p,p.return)),m&64&&WA&&(A=A.updateQueue,A!==null&&(m=A.callbacks,m!==null&&(p=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=p===null?m:p.concat(m))));break;case 26:var E=co;if(As(c,A),ls(A),m&512&&(wr||p===null||$o(p,p.return)),m&4){var x=p!==null?p.memoizedState:null;if(m=A.memoizedState,p===null)if(m===null)if(A.stateNode===null){e:{m=A.type,p=A.memoizedProps,E=E.ownerDocument||E;t:switch(m){case"title":x=E.getElementsByTagName("title")[0],(!x||x[nf]||x[pr]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=E.createElement(m),E.head.insertBefore(x,E.querySelector("head > title"))),li(x,m,p),x[pr]=A,zn(x),m=x;break e;case"link":var N=uV("link","href",E).get(m+(p.href||""));if(N){for(var O=0;O<N.length;O++)if(x=N[O],x.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&x.getAttribute("rel")===(p.rel==null?null:p.rel)&&x.getAttribute("title")===(p.title==null?null:p.title)&&x.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){N.splice(O,1);break t}}x=E.createElement(m),li(x,m,p),E.head.appendChild(x);break;case"meta":if(N=uV("meta","content",E).get(m+(p.content||""))){for(O=0;O<N.length;O++)if(x=N[O],x.getAttribute("content")===(p.content==null?null:""+p.content)&&x.getAttribute("name")===(p.name==null?null:p.name)&&x.getAttribute("property")===(p.property==null?null:p.property)&&x.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&x.getAttribute("charset")===(p.charSet==null?null:p.charSet)){N.splice(O,1);break t}}x=E.createElement(m),li(x,m,p),E.head.appendChild(x);break;default:throw Error(r(468,m))}x[pr]=A,zn(x),m=x}A.stateNode=m}else cV(E,A.type,A.stateNode);else A.stateNode=lV(E,m,A.memoizedProps);else x!==m?(x===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):x.count--,m===null?cV(E,A.type,A.stateNode):lV(E,m,A.memoizedProps)):m===null&&A.stateNode!==null&&oM(A,A.memoizedProps,p.memoizedProps)}break;case 27:As(c,A),ls(A),m&512&&(wr||p===null||$o(p,p.return)),p!==null&&m&4&&oM(A,A.memoizedProps,p.memoizedProps);break;case 5:if(As(c,A),ls(A),m&512&&(wr||p===null||$o(p,p.return)),A.flags&32){E=A.stateNode;try{Pp(E,"")}catch(ke){$t(A,A.return,ke)}}m&4&&A.stateNode!=null&&(E=A.memoizedProps,oM(A,E,p!==null?p.memoizedProps:E)),m&1024&&(uM=!0);break;case 6:if(As(c,A),ls(A),m&4){if(A.stateNode===null)throw Error(r(162));m=A.memoizedProps,p=A.stateNode;try{p.nodeValue=m}catch(ke){$t(A,A.return,ke)}}break;case 3:if(xS=null,E=co,co=BS(c.containerInfo),As(c,A),co=E,ls(A),m&4&&p!==null&&p.memoizedState.isDehydrated)try{ug(c.containerInfo)}catch(ke){$t(A,A.return,ke)}uM&&(uM=!1,c4(A));break;case 4:m=co,co=BS(A.stateNode.containerInfo),As(c,A),ls(A),co=m;break;case 12:As(c,A),ls(A);break;case 31:As(c,A),ls(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,uS(A,m)));break;case 13:As(c,A),ls(A),A.child.flags&8192&&A.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(dS=rr()),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,uS(A,m)));break;case 22:E=A.memoizedState!==null;var $=p!==null&&p.memoizedState!==null,re=WA,he=wr;if(WA=re||E,wr=he||$,As(c,A),wr=he,WA=re,ls(A),m&8192)e:for(c=A.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(p===null||$||WA||wr||yf(A)),p=null,c=A;;){if(c.tag===5||c.tag===26){if(p===null){$=p=c;try{if(x=$.stateNode,E)N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=$.stateNode;var we=$.memoizedProps.style,ae=we!=null&&we.hasOwnProperty("display")?we.display:null;O.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(ke){$t($,$.return,ke)}}}else if(c.tag===6){if(p===null){$=c;try{$.stateNode.nodeValue=E?"":$.memoizedProps}catch(ke){$t($,$.return,ke)}}}else if(c.tag===18){if(p===null){$=c;try{var Ae=$.stateNode;E?eV(Ae,!0):eV($.stateNode,!1)}catch(ke){$t($,$.return,ke)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===A)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break e;for(;c.sibling===null;){if(c.return===null||c.return===A)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=A.updateQueue,m!==null&&(p=m.retryQueue,p!==null&&(m.retryQueue=null,uS(A,p))));break;case 19:As(c,A),ls(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,uS(A,m)));break;case 30:break;case 21:break;default:As(c,A),ls(A)}}function ls(A){var c=A.flags;if(c&2){try{for(var p,m=A.return;m!==null;){if(n4(m)){p=m;break}m=m.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var E=p.stateNode,x=AM(A);lS(A,x,E);break;case 5:var N=p.stateNode;p.flags&32&&(Pp(N,""),p.flags&=-33);var O=AM(A);lS(A,O,N);break;case 3:case 4:var $=p.stateNode.containerInfo,re=AM(A);lM(A,re,$);break;default:throw Error(r(161))}}catch(he){$t(A,A.return,he)}A.flags&=-3}c&4096&&(A.flags&=-4097)}function c4(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var c=A;c4(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),A=A.sibling}}function XA(A,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)s4(A,c.alternate,c),c=c.sibling}function yf(A){for(A=A.child;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 14:case 15:tc(4,c,c.return),yf(c);break;case 1:$o(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&e4(c,c.return,p),yf(c);break;case 27:p0(c.stateNode);case 26:case 5:$o(c,c.return),yf(c);break;case 22:c.memoizedState===null&&yf(c);break;case 30:yf(c);break;default:yf(c)}A=A.sibling}}function JA(A,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,E=A,x=c,N=x.flags;switch(x.tag){case 0:case 11:case 15:JA(E,x,p),s0(4,x);break;case 1:if(JA(E,x,p),m=x,E=m.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(re){$t(m,m.return,re)}if(m=x,E=m.updateQueue,E!==null){var O=m.stateNode;try{var $=E.shared.hiddenCallbacks;if($!==null)for(E.shared.hiddenCallbacks=null,E=0;E<$.length;E++)V2($[E],O)}catch(re){$t(m,m.return,re)}}p&&N&64&&ZH(x),a0(x,x.return);break;case 27:r4(x);case 26:case 5:JA(E,x,p),p&&m===null&&N&4&&t4(x),a0(x,x.return);break;case 12:JA(E,x,p);break;case 31:JA(E,x,p),p&&N&4&&A4(E,x);break;case 13:JA(E,x,p),p&&N&4&&l4(E,x);break;case 22:x.memoizedState===null&&JA(E,x,p),a0(x,x.return);break;case 30:break;default:JA(E,x,p)}c=c.sibling}}function cM(A,c){var p=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),A=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(A=c.memoizedState.cachePool.pool),A!==p&&(A!=null&&A.refCount++,p!=null&&qy(p))}function dM(A,c){A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&qy(A))}function fo(A,c,p,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)d4(A,c,p,m),c=c.sibling}function d4(A,c,p,m){var E=c.flags;switch(c.tag){case 0:case 11:case 15:fo(A,c,p,m),E&2048&&s0(9,c);break;case 1:fo(A,c,p,m);break;case 3:fo(A,c,p,m),E&2048&&(A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&qy(A)));break;case 12:if(E&2048){fo(A,c,p,m),A=c.stateNode;try{var x=c.memoizedProps,N=x.id,O=x.onPostCommit;typeof O=="function"&&O(N,c.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch($){$t(c,c.return,$)}}else fo(A,c,p,m);break;case 31:fo(A,c,p,m);break;case 13:fo(A,c,p,m);break;case 23:break;case 22:x=c.stateNode,N=c.alternate,c.memoizedState!==null?x._visibility&2?fo(A,c,p,m):o0(A,c):x._visibility&2?fo(A,c,p,m):(x._visibility|=2,Zp(A,c,p,m,(c.subtreeFlags&10256)!==0||!1)),E&2048&&cM(N,c);break;case 24:fo(A,c,p,m),E&2048&&dM(c.alternate,c);break;default:fo(A,c,p,m)}}function Zp(A,c,p,m,E){for(E=E&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var x=A,N=c,O=p,$=m,re=N.flags;switch(N.tag){case 0:case 11:case 15:Zp(x,N,O,$,E),s0(8,N);break;case 23:break;case 22:var he=N.stateNode;N.memoizedState!==null?he._visibility&2?Zp(x,N,O,$,E):o0(x,N):(he._visibility|=2,Zp(x,N,O,$,E)),E&&re&2048&&cM(N.alternate,N);break;case 24:Zp(x,N,O,$,E),E&&re&2048&&dM(N.alternate,N);break;default:Zp(x,N,O,$,E)}c=c.sibling}}function o0(A,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=A,m=c,E=m.flags;switch(m.tag){case 22:o0(p,m),E&2048&&cM(m.alternate,m);break;case 24:o0(p,m),E&2048&&dM(m.alternate,m);break;default:o0(p,m)}c=c.sibling}}var A0=8192;function eg(A,c,p){if(A.subtreeFlags&A0)for(A=A.child;A!==null;)f4(A,c,p),A=A.sibling}function f4(A,c,p){switch(A.tag){case 26:eg(A,c,p),A.flags&A0&&A.memoizedState!==null&&One(p,co,A.memoizedState,A.memoizedProps);break;case 5:eg(A,c,p);break;case 3:case 4:var m=co;co=BS(A.stateNode.containerInfo),eg(A,c,p),co=m;break;case 22:A.memoizedState===null&&(m=A.alternate,m!==null&&m.memoizedState!==null?(m=A0,A0=16777216,eg(A,c,p),A0=m):eg(A,c,p));break;default:eg(A,c,p)}}function h4(A){var c=A.alternate;if(c!==null&&(A=c.child,A!==null)){c.child=null;do c=A.sibling,A.sibling=null,A=c;while(A!==null)}}function l0(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];Gr=m,g4(m,A)}h4(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)p4(A),A=A.sibling}function p4(A){switch(A.tag){case 0:case 11:case 15:l0(A),A.flags&2048&&tc(9,A,A.return);break;case 3:l0(A);break;case 12:l0(A);break;case 22:var c=A.stateNode;A.memoizedState!==null&&c._visibility&2&&(A.return===null||A.return.tag!==13)?(c._visibility&=-3,cS(A)):l0(A);break;default:l0(A)}}function cS(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];Gr=m,g4(m,A)}h4(A)}for(A=A.child;A!==null;){switch(c=A,c.tag){case 0:case 11:case 15:tc(8,c,c.return),cS(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,cS(c));break;default:cS(c)}A=A.sibling}}function g4(A,c){for(;Gr!==null;){var p=Gr;switch(p.tag){case 0:case 11:case 15:tc(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var m=p.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:qy(p.memoizedState.cache)}if(m=p.child,m!==null)m.return=p,Gr=m;else e:for(p=A;Gr!==null;){m=Gr;var E=m.sibling,x=m.return;if(a4(m),m===p){Gr=null;break e}if(E!==null){E.return=x,Gr=E;break e}Gr=x}}}var tne={getCacheForType:function(A){var c=oi(mr),p=c.data.get(A);return p===void 0&&(p=A(),c.data.set(A,p)),p},cacheSignal:function(){return oi(mr).controller.signal}},nne=typeof WeakMap=="function"?WeakMap:Map,Ht=0,dn=null,wt=null,Ct=0,qt=0,Ds=null,nc=!1,tg=!1,fM=!1,ZA=0,$n=0,rc=0,wf=0,hM=0,Ns=0,ng=0,u0=null,us=null,pM=!1,dS=0,m4=0,fS=1/0,hS=null,ic=null,Mr=0,sc=null,rg=null,el=0,gM=0,mM=null,v4=null,c0=0,vM=null;function Ls(){return(Ht&2)!==0&&Ct!==0?Ct&-Ct:V.T!==null?BM():CB()}function y4(){if(Ns===0)if((Ct&536870912)===0||_t){var A=Fr;Fr<<=1,(Fr&3932160)===0&&(Fr=262144),Ns=A}else Ns=536870912;return A=Ps.current,A!==null&&(A.flags|=32),Ns}function cs(A,c,p){(A===dn&&(qt===2||qt===9)||A.cancelPendingCommit!==null)&&(ig(A,0),ac(A,Ct,Ns,!1)),tf(A,p),((Ht&2)===0||A!==dn)&&(A===dn&&((Ht&2)===0&&(wf|=p),$n===4&&ac(A,Ct,Ns,!1)),jo(A))}function w4(A,c,p){if((Ht&6)!==0)throw Error(r(327));var m=!p&&(c&127)===0&&(c&A.expiredLanes)===0||lo(A,c),E=m?sne(A,c):wM(A,c,!0),x=m;do{if(E===0){tg&&!m&&ac(A,c,0,!1);break}else{if(p=A.current.alternate,x&&!rne(p)){E=wM(A,c,!1),x=!1;continue}if(E===2){if(x=c,A.errorRecoveryDisabledLanes&x)var N=0;else N=A.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){c=N;e:{var O=A;E=u0;var $=O.current.memoizedState.isDehydrated;if($&&(ig(O,N).flags|=256),N=wM(O,N,!1),N!==2){if(fM&&!$){O.errorRecoveryDisabledLanes|=x,wf|=x,E=4;break e}x=us,us=E,x!==null&&(us===null?us=x:us.push.apply(us,x))}E=N}if(x=!1,E!==2)continue}}if(E===1){ig(A,0),ac(A,c,0,!0);break}e:{switch(m=A,x=E,x){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:ac(m,c,Ns,!nc);break e;case 2:us=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(E=dS+300-rr(),10<E)){if(ac(m,c,Ns,!nc),Gn(m,0,!0)!==0)break e;el=c,m.timeoutHandle=X4(b4.bind(null,m,p,us,hS,pM,c,Ns,wf,ng,nc,x,"Throttled",-0,0),E);break e}b4(m,p,us,hS,pM,c,Ns,wf,ng,nc,x,null,-0,0)}}break}while(!0);jo(A)}function b4(A,c,p,m,E,x,N,O,$,re,he,we,ae,Ae){if(A.timeoutHandle=-1,we=c.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kA},f4(c,x,we);var ke=(x&62914560)===x?dS-rr():(x&4194048)===x?m4-rr():0;if(ke=Hne(we,ke),ke!==null){el=x,A.cancelPendingCommit=ke(I4.bind(null,A,c,x,p,m,E,N,O,$,he,we,null,ae,Ae)),ac(A,x,N,!re);return}}I4(A,c,x,p,m,E,N,O,$)}function rne(A){for(var c=A;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var m=0;m<p.length;m++){var E=p[m],x=E.getSnapshot;E=E.value;try{if(!Ms(x(),E))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ac(A,c,p,m){c&=~hM,c&=~wf,A.suspendedLanes|=c,A.pingedLanes&=~c,m&&(A.warmLanes|=c),m=A.expirationTimes;for(var E=c;0<E;){var x=31-ut(E),N=1<<x;m[x]=-1,E&=~N}p!==0&&yB(A,p,c)}function pS(){return(Ht&6)===0?(d0(0),!1):!0}function yM(){if(wt!==null){if(qt===0)var A=wt.return;else A=wt,KA=cf=null,DF(A),jp=null,jy=0,A=wt;for(;A!==null;)JH(A.alternate,A),A=A.return;wt=null}}function ig(A,c){var p=A.timeoutHandle;p!==-1&&(A.timeoutHandle=-1,Ene(p)),p=A.cancelPendingCommit,p!==null&&(A.cancelPendingCommit=null,p()),el=0,yM(),dn=A,wt=p=HA(A.current,null),Ct=c,qt=0,Ds=null,nc=!1,tg=lo(A,c),fM=!1,ng=Ns=hM=wf=rc=$n=0,us=u0=null,pM=!1,(c&8)!==0&&(c|=c&32);var m=A.entangledLanes;if(m!==0)for(A=A.entanglements,m&=c;0<m;){var E=31-ut(m),x=1<<E;c|=A[E],m&=~x}return ZA=c,NB(),p}function C4(A,c){ct=null,V.H=n0,c===$p||c===GB?(c=Q2(),qt=3):c===EF?(c=Q2(),qt=4):qt=c===XF?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ds=c,wt===null&&($n=1,iS(A,wa(c,A.current)))}function E4(){var A=Ps.current;return A===null?!0:(Ct&4194048)===Ct?Ba===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?A===Ba:!1}function B4(){var A=V.H;return V.H=n0,A===null?n0:A}function S4(){var A=V.A;return V.A=tne,A}function gS(){$n=4,nc||(Ct&4194048)!==Ct&&Ps.current!==null||(tg=!0),(rc&134217727)===0&&(wf&134217727)===0||dn===null||ac(dn,Ct,Ns,!1)}function wM(A,c,p){var m=Ht;Ht|=2;var E=B4(),x=S4();(dn!==A||Ct!==c)&&(hS=null,ig(A,c)),c=!1;var N=$n;e:do try{if(qt!==0&&wt!==null){var O=wt,$=Ds;switch(qt){case 8:yM(),N=6;break e;case 3:case 2:case 9:case 6:Ps.current===null&&(c=!0);var re=qt;if(qt=0,Ds=null,sg(A,O,$,re),p&&tg){N=0;break e}break;default:re=qt,qt=0,Ds=null,sg(A,O,$,re)}}ine(),N=$n;break}catch(he){C4(A,he)}while(!0);return c&&A.shellSuspendCounter++,KA=cf=null,Ht=m,V.H=E,V.A=x,wt===null&&(dn=null,Ct=0,NB()),N}function ine(){for(;wt!==null;)x4(wt)}function sne(A,c){var p=Ht;Ht|=2;var m=B4(),E=S4();dn!==A||Ct!==c?(hS=null,fS=rr()+500,ig(A,c)):tg=lo(A,c);e:do try{if(qt!==0&&wt!==null){c=wt;var x=Ds;t:switch(qt){case 1:qt=0,Ds=null,sg(A,c,x,1);break;case 2:case 9:if(N2(x)){qt=0,Ds=null,_4(c);break}c=function(){qt!==2&&qt!==9||dn!==A||(qt=7),jo(A)},x.then(c,c);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:N2(x)?(qt=0,Ds=null,_4(c)):(qt=0,Ds=null,sg(A,c,x,7));break;case 5:var N=null;switch(wt.tag){case 26:N=wt.memoizedState;case 5:case 27:var O=wt;if(N?dV(N):O.stateNode.complete){qt=0,Ds=null;var $=O.sibling;if($!==null)wt=$;else{var re=O.return;re!==null?(wt=re,mS(re)):wt=null}break t}}qt=0,Ds=null,sg(A,c,x,5);break;case 6:qt=0,Ds=null,sg(A,c,x,6);break;case 8:yM(),$n=6;break e;default:throw Error(r(462))}}ane();break}catch(he){C4(A,he)}while(!0);return KA=cf=null,V.H=m,V.A=E,Ht=p,wt!==null?0:(dn=null,Ct=0,NB(),$n)}function ane(){for(;wt!==null&&!Kr();)x4(wt)}function x4(A){var c=YH(A.alternate,A,ZA);A.memoizedProps=A.pendingProps,c===null?mS(A):wt=c}function _4(A){var c=A,p=c.alternate;switch(c.tag){case 15:case 0:c=GH(p,c,c.pendingProps,c.type,void 0,Ct);break;case 11:c=GH(p,c,c.pendingProps,c.type.render,c.ref,Ct);break;case 5:DF(c);default:JH(p,c),c=wt=S2(c,ZA),c=YH(p,c,ZA)}A.memoizedProps=A.pendingProps,c===null?mS(A):wt=c}function sg(A,c,p,m){KA=cf=null,DF(c),jp=null,jy=0;var E=c.return;try{if(jte(A,E,c,p,Ct)){$n=1,iS(A,wa(p,A.current)),wt=null;return}}catch(x){if(E!==null)throw wt=E,x;$n=1,iS(A,wa(p,A.current)),wt=null;return}c.flags&32768?(_t||m===1?A=!0:tg||(Ct&536870912)!==0?A=!1:(nc=A=!0,(m===2||m===9||m===3||m===6)&&(m=Ps.current,m!==null&&m.tag===13&&(m.flags|=16384))),T4(c,A)):mS(c)}function mS(A){var c=A;do{if((c.flags&32768)!==0){T4(c,nc);return}A=c.return;var p=Xte(c.alternate,c,ZA);if(p!==null){wt=p;return}if(c=c.sibling,c!==null){wt=c;return}wt=c=A}while(c!==null);$n===0&&($n=5)}function T4(A,c){do{var p=Jte(A.alternate,A);if(p!==null){p.flags&=32767,wt=p;return}if(p=A.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(A=A.sibling,A!==null)){wt=A;return}wt=A=p}while(A!==null);$n=6,wt=null}function I4(A,c,p,m,E,x,N,O,$){A.cancelPendingCommit=null;do vS();while(Mr!==0);if((Ht&6)!==0)throw Error(r(327));if(c!==null){if(c===A.current)throw Error(r(177));if(x=c.lanes|c.childLanes,x|=AF,kI(A,p,x,N,O,$),A===dn&&(wt=dn=null,Ct=0),rg=c,sc=A,el=p,gM=x,mM=E,v4=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,une(Xe,function(){return R4(),null})):(A.callbackNode=null,A.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=V.T,V.T=null,E=j.p,j.p=2,N=Ht,Ht|=4;try{Zte(A,c,p)}finally{Ht=N,j.p=E,V.T=m}}Mr=1,F4(),M4(),U4()}}function F4(){if(Mr===1){Mr=0;var A=sc,c=rg,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=V.T,V.T=null;var m=j.p;j.p=2;var E=Ht;Ht|=4;try{u4(c,A);var x=UM,N=g2(A.containerInfo),O=x.focusedElem,$=x.selectionRange;if(N!==O&&O&&O.ownerDocument&&p2(O.ownerDocument.documentElement,O)){if($!==null&&rF(O)){var re=$.start,he=$.end;if(he===void 0&&(he=re),"selectionStart"in O)O.selectionStart=re,O.selectionEnd=Math.min(he,O.value.length);else{var we=O.ownerDocument||document,ae=we&&we.defaultView||window;if(ae.getSelection){var Ae=ae.getSelection(),ke=O.textContent.length,Ze=Math.min($.start,ke),tn=$.end===void 0?Ze:Math.min($.end,ke);!Ae.extend&&Ze>tn&&(N=tn,tn=Ze,Ze=N);var J=h2(O,Ze),W=h2(O,tn);if(J&&W&&(Ae.rangeCount!==1||Ae.anchorNode!==J.node||Ae.anchorOffset!==J.offset||Ae.focusNode!==W.node||Ae.focusOffset!==W.offset)){var ne=we.createRange();ne.setStart(J.node,J.offset),Ae.removeAllRanges(),Ze>tn?(Ae.addRange(ne),Ae.extend(W.node,W.offset)):(ne.setEnd(W.node,W.offset),Ae.addRange(ne))}}}}for(we=[],Ae=O;Ae=Ae.parentNode;)Ae.nodeType===1&&we.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<we.length;O++){var me=we[O];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}FS=!!MM,UM=MM=null}finally{Ht=E,j.p=m,V.T=p}}A.current=c,Mr=2}}function M4(){if(Mr===2){Mr=0;var A=sc,c=rg,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=V.T,V.T=null;var m=j.p;j.p=2;var E=Ht;Ht|=4;try{s4(A,c.alternate,c)}finally{Ht=E,j.p=m,V.T=p}}Mr=3}}function U4(){if(Mr===4||Mr===3){Mr=0,Fs();var A=sc,c=rg,p=el,m=v4;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Mr=5:(Mr=0,rg=sc=null,P4(A,A.pendingLanes));var E=A.pendingLanes;if(E===0&&(ic=null),Fy(p),c=c.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(We,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=V.T,E=j.p,j.p=2,V.T=null;try{for(var x=A.onRecoverableError,N=0;N<m.length;N++){var O=m[N];x(O.value,{componentStack:O.stack})}}finally{V.T=c,j.p=E}}(el&3)!==0&&vS(),jo(A),E=A.pendingLanes,(p&261930)!==0&&(E&42)!==0?A===vM?c0++:(c0=0,vM=A):c0=0,d0(0)}}function P4(A,c){(A.pooledCacheLanes&=c)===0&&(c=A.pooledCache,c!=null&&(A.pooledCache=null,qy(c)))}function vS(){return F4(),M4(),U4(),R4()}function R4(){if(Mr!==5)return!1;var A=sc,c=gM;gM=0;var p=Fy(el),m=V.T,E=j.p;try{j.p=32>p?32:p,V.T=null,p=mM,mM=null;var x=sc,N=el;if(Mr=0,rg=sc=null,el=0,(Ht&6)!==0)throw Error(r(331));var O=Ht;if(Ht|=4,p4(x.current),d4(x,x.current,N,p),Ht=O,d0(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(We,x)}catch{}return!0}finally{j.p=E,V.T=m,P4(A,c)}}function D4(A,c,p){c=wa(p,c),c=YF(A.stateNode,c,2),A=Ju(A,c,2),A!==null&&(tf(A,2),jo(A))}function $t(A,c,p){if(A.tag===3)D4(A,A,p);else for(;c!==null;){if(c.tag===3){D4(c,A,p);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ic===null||!ic.has(m))){A=wa(p,A),p=NH(2),m=Ju(c,p,2),m!==null&&(LH(p,m,c,A),tf(m,2),jo(m));break}}c=c.return}}function bM(A,c,p){var m=A.pingCache;if(m===null){m=A.pingCache=new nne;var E=new Set;m.set(c,E)}else E=m.get(c),E===void 0&&(E=new Set,m.set(c,E));E.has(p)||(fM=!0,E.add(p),A=one.bind(null,A,c,p),c.then(A,A))}function one(A,c,p){var m=A.pingCache;m!==null&&m.delete(c),A.pingedLanes|=A.suspendedLanes&p,A.warmLanes&=~p,dn===A&&(Ct&p)===p&&($n===4||$n===3&&(Ct&62914560)===Ct&&300>rr()-dS?(Ht&2)===0&&ig(A,0):hM|=p,ng===Ct&&(ng=0)),jo(A)}function N4(A,c){c===0&&(c=Ty()),A=Af(A,c),A!==null&&(tf(A,c),jo(A))}function Ane(A){var c=A.memoizedState,p=0;c!==null&&(p=c.retryLane),N4(A,p)}function lne(A,c){var p=0;switch(A.tag){case 31:case 13:var m=A.stateNode,E=A.memoizedState;E!==null&&(p=E.retryLane);break;case 19:m=A.stateNode;break;case 22:m=A.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(c),N4(A,p)}function une(A,c){return ss(A,c)}var yS=null,ag=null,CM=!1,wS=!1,EM=!1,oc=0;function jo(A){A!==ag&&A.next===null&&(ag===null?yS=ag=A:ag=ag.next=A),wS=!0,CM||(CM=!0,dne())}function d0(A,c){if(!EM&&wS){EM=!0;do for(var p=!1,m=yS;m!==null;){if(A!==0){var E=m.pendingLanes;if(E===0)var x=0;else{var N=m.suspendedLanes,O=m.pingedLanes;x=(1<<31-ut(42|A)+1)-1,x&=E&~(N&~O),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(p=!0,O4(m,x))}else x=Ct,x=Gn(m,m===dn?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||lo(m,x)||(p=!0,O4(m,x));m=m.next}while(p);EM=!1}}function cne(){L4()}function L4(){wS=CM=!1;var A=0;oc!==0&&Cne()&&(A=oc);for(var c=rr(),p=null,m=yS;m!==null;){var E=m.next,x=Q4(m,c);x===0?(m.next=null,p===null?yS=E:p.next=E,E===null&&(ag=p)):(p=m,(A!==0||(x&3)!==0)&&(wS=!0)),m=E}Mr!==0&&Mr!==5||d0(A),oc!==0&&(oc=0)}function Q4(A,c){for(var p=A.suspendedLanes,m=A.pingedLanes,E=A.expirationTimes,x=A.pendingLanes&-62914561;0<x;){var N=31-ut(x),O=1<<N,$=E[N];$===-1?((O&p)===0||(O&m)!==0)&&(E[N]=ma(O,c)):$<=c&&(A.expiredLanes|=O),x&=~O}if(c=dn,p=Ct,p=Gn(A,A===c?p:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m=A.callbackNode,p===0||A===c&&(qt===2||qt===9)||A.cancelPendingCommit!==null)return m!==null&&m!==null&&Jt(m),A.callbackNode=null,A.callbackPriority=0;if((p&3)===0||lo(A,p)){if(c=p&-p,c===A.callbackPriority)return c;switch(m!==null&&Jt(m),Fy(p)){case 2:case 8:p=He;break;case 32:p=Xe;break;case 268435456:p=je;break;default:p=Xe}return m=k4.bind(null,A),p=ss(p,m),A.callbackPriority=c,A.callbackNode=p,c}return m!==null&&m!==null&&Jt(m),A.callbackPriority=2,A.callbackNode=null,2}function k4(A,c){if(Mr!==0&&Mr!==5)return A.callbackNode=null,A.callbackPriority=0,null;var p=A.callbackNode;if(vS()&&A.callbackNode!==p)return null;var m=Ct;return m=Gn(A,A===dn?m:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m===0?null:(w4(A,m,c),Q4(A,rr()),A.callbackNode!=null&&A.callbackNode===p?k4.bind(null,A):null)}function O4(A,c){if(vS())return null;w4(A,c,!0)}function dne(){Bne(function(){(Ht&6)!==0?ss(de,cne):L4()})}function BM(){if(oc===0){var A=zp;A===0&&(A=xi,xi<<=1,(xi&261888)===0&&(xi=256)),oc=A}return oc}function H4(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:TB(""+A)}function V4(A,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,A.id&&p.setAttribute("form",A.id),c.parentNode.insertBefore(p,c),A=new FormData(A),p.parentNode.removeChild(p),A}function fne(A,c,p,m,E){if(c==="submit"&&p&&p.stateNode===E){var x=H4((E[_i]||null).action),N=m.submitter;N&&(c=(c=N[_i]||null)?H4(c.formAction):N.getAttribute("formAction"),c!==null&&(x=c,N=null));var O=new UB("action","action",null,m,E);A.push({event:O,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(oc!==0){var $=N?V4(E,N):new FormData(E);GF(p,{pending:!0,data:$,method:E.method,action:x},null,$)}}else typeof x=="function"&&(O.preventDefault(),$=N?V4(E,N):new FormData(E),GF(p,{pending:!0,data:$,method:E.method,action:x},x,$))},currentTarget:E}]})}}for(var SM=0;SM<oF.length;SM++){var xM=oF[SM],hne=xM.toLowerCase(),pne=xM[0].toUpperCase()+xM.slice(1);uo(hne,"on"+pne)}uo(y2,"onAnimationEnd"),uo(w2,"onAnimationIteration"),uo(b2,"onAnimationStart"),uo("dblclick","onDoubleClick"),uo("focusin","onFocus"),uo("focusout","onBlur"),uo(Mte,"onTransitionRun"),uo(Ute,"onTransitionStart"),uo(Pte,"onTransitionCancel"),uo(C2,"onTransitionEnd"),ge("onMouseEnter",["mouseout","mouseover"]),ge("onMouseLeave",["mouseout","mouseover"]),ge("onPointerEnter",["pointerout","pointerover"]),ge("onPointerLeave",["pointerout","pointerover"]),QA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),QA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),QA("onBeforeInput",["compositionend","keypress","textInput","paste"]),QA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),QA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),QA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var f0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gne=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(f0));function K4(A,c){c=(c&4)!==0;for(var p=0;p<A.length;p++){var m=A[p],E=m.event;m=m.listeners;e:{var x=void 0;if(c)for(var N=m.length-1;0<=N;N--){var O=m[N],$=O.instance,re=O.currentTarget;if(O=O.listener,$!==x&&E.isPropagationStopped())break e;x=O,E.currentTarget=re;try{x(E)}catch(he){DB(he)}E.currentTarget=null,x=$}else for(N=0;N<m.length;N++){if(O=m[N],$=O.instance,re=O.currentTarget,O=O.listener,$!==x&&E.isPropagationStopped())break e;x=O,E.currentTarget=re;try{x(E)}catch(he){DB(he)}E.currentTarget=null,x=$}}}}function bt(A,c){var p=c[Uy];p===void 0&&(p=c[Uy]=new Set);var m=A+"__bubble";p.has(m)||(G4(c,A,2,!1),p.add(m))}function _M(A,c,p){var m=0;c&&(m|=4),G4(p,A,m,c)}var bS="_reactListening"+Math.random().toString(36).slice(2);function TM(A){if(!A[bS]){A[bS]=!0,SB.forEach(function(p){p!=="selectionchange"&&(gne.has(p)||_M(p,!1,A),_M(p,!0,A))});var c=A.nodeType===9?A:A.ownerDocument;c===null||c[bS]||(c[bS]=!0,_M("selectionchange",!1,c))}}function G4(A,c,p,m){switch(yV(c)){case 2:var E=Gne;break;case 8:E=zne;break;default:E=KM}p=E.bind(null,c,p,A),E=void 0,!jI||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),m?E!==void 0?A.addEventListener(c,p,{capture:!0,passive:E}):A.addEventListener(c,p,!0):E!==void 0?A.addEventListener(c,p,{passive:E}):A.addEventListener(c,p,!1)}function IM(A,c,p,m,E){var x=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var O=m.stateNode.containerInfo;if(O===E)break;if(N===4)for(N=m.return;N!==null;){var $=N.tag;if(($===3||$===4)&&N.stateNode.containerInfo===E)return;N=N.return}for(;O!==null;){if(N=Ku(O),N===null)return;if($=N.tag,$===5||$===6||$===26||$===27){m=x=N;continue e}O=O.parentNode}}m=m.return}WO(function(){var re=x,he=qI(p),we=[];e:{var ae=E2.get(A);if(ae!==void 0){var Ae=UB,ke=A;switch(A){case"keypress":if(FB(p)===0)break e;case"keydown":case"keyup":Ae=lte;break;case"focusin":ke="focus",Ae=JI;break;case"focusout":ke="blur",Ae=JI;break;case"beforeblur":case"afterblur":Ae=JI;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=JO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=Xee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=dte;break;case y2:case w2:case b2:Ae=ete;break;case C2:Ae=hte;break;case"scroll":case"scrollend":Ae=Wee;break;case"wheel":Ae=gte;break;case"copy":case"cut":case"paste":Ae=nte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=e2;break;case"toggle":case"beforetoggle":Ae=vte}var Ze=(c&4)!==0,tn=!Ze&&(A==="scroll"||A==="scrollend"),J=Ze?ae!==null?ae+"Capture":null:ae;Ze=[];for(var W=re,ne;W!==null;){var me=W;if(ne=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ne===null||J===null||(me=Dy(W,J),me!=null&&Ze.push(h0(W,me,ne))),tn)break;W=W.return}0<Ze.length&&(ae=new Ae(ae,ke,null,p,he),we.push({event:ae,listeners:Ze}))}}if((c&7)===0){e:{if(ae=A==="mouseover"||A==="pointerover",Ae=A==="mouseout"||A==="pointerout",ae&&p!==zI&&(ke=p.relatedTarget||p.fromElement)&&(Ku(ke)||ke[Vu]))break e;if((Ae||ae)&&(ae=he.window===he?he:(ae=he.ownerDocument)?ae.defaultView||ae.parentWindow:window,Ae?(ke=p.relatedTarget||p.toElement,Ae=re,ke=ke?Ku(ke):null,ke!==null&&(tn=s(ke),Ze=ke.tag,ke!==tn||Ze!==5&&Ze!==27&&Ze!==6)&&(ke=null)):(Ae=null,ke=re),Ae!==ke)){if(Ze=JO,me="onMouseLeave",J="onMouseEnter",W="mouse",(A==="pointerout"||A==="pointerover")&&(Ze=e2,me="onPointerLeave",J="onPointerEnter",W="pointer"),tn=Ae==null?ae:rf(Ae),ne=ke==null?ae:rf(ke),ae=new Ze(me,W+"leave",Ae,p,he),ae.target=tn,ae.relatedTarget=ne,me=null,Ku(he)===re&&(Ze=new Ze(J,W+"enter",ke,p,he),Ze.target=ne,Ze.relatedTarget=tn,me=Ze),tn=me,Ae&&ke)t:{for(Ze=mne,J=Ae,W=ke,ne=0,me=J;me;me=Ze(me))ne++;me=0;for(var Ye=W;Ye;Ye=Ze(Ye))me++;for(;0<ne-me;)J=Ze(J),ne--;for(;0<me-ne;)W=Ze(W),me--;for(;ne--;){if(J===W||W!==null&&J===W.alternate){Ze=J;break t}J=Ze(J),W=Ze(W)}Ze=null}else Ze=null;Ae!==null&&z4(we,ae,Ae,Ze,!1),ke!==null&&tn!==null&&z4(we,tn,ke,Ze,!0)}}e:{if(ae=re?rf(re):window,Ae=ae.nodeName&&ae.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&ae.type==="file")var Dt=A2;else if(a2(ae))if(l2)Dt=Tte;else{Dt=xte;var Ve=Ste}else Ae=ae.nodeName,!Ae||Ae.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?re&&GI(re.elementType)&&(Dt=A2):Dt=_te;if(Dt&&(Dt=Dt(A,re))){o2(we,Dt,p,he);break e}Ve&&Ve(A,ae,re),A==="focusout"&&re&&ae.type==="number"&&re.memoizedProps.value!=null&&KI(ae,"number",ae.value)}switch(Ve=re?rf(re):window,A){case"focusin":(a2(Ve)||Ve.contentEditable==="true")&&(Lp=Ve,iF=re,Ky=null);break;case"focusout":Ky=iF=Lp=null;break;case"mousedown":sF=!0;break;case"contextmenu":case"mouseup":case"dragend":sF=!1,m2(we,p,he);break;case"selectionchange":if(Fte)break;case"keydown":case"keyup":m2(we,p,he)}var ht;if(eF)e:{switch(A){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else Np?i2(A,p)&&(Et="onCompositionEnd"):A==="keydown"&&p.keyCode===229&&(Et="onCompositionStart");Et&&(t2&&p.locale!=="ko"&&(Np||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Np&&(ht=YO()):(zu=he,WI="value"in zu?zu.value:zu.textContent,Np=!0)),Ve=CS(re,Et),0<Ve.length&&(Et=new ZO(Et,A,null,p,he),we.push({event:Et,listeners:Ve}),ht?Et.data=ht:(ht=s2(p),ht!==null&&(Et.data=ht)))),(ht=wte?bte(A,p):Cte(A,p))&&(Et=CS(re,"onBeforeInput"),0<Et.length&&(Ve=new ZO("onBeforeInput","beforeinput",null,p,he),we.push({event:Ve,listeners:Et}),Ve.data=ht)),fne(we,A,re,p,he)}K4(we,c)})}function h0(A,c,p){return{instance:A,listener:c,currentTarget:p}}function CS(A,c){for(var p=c+"Capture",m=[];A!==null;){var E=A,x=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||x===null||(E=Dy(A,p),E!=null&&m.unshift(h0(A,E,x)),E=Dy(A,c),E!=null&&m.push(h0(A,E,x))),A.tag===3)return m;A=A.return}return[]}function mne(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function z4(A,c,p,m,E){for(var x=c._reactName,N=[];p!==null&&p!==m;){var O=p,$=O.alternate,re=O.stateNode;if(O=O.tag,$!==null&&$===m)break;O!==5&&O!==26&&O!==27||re===null||($=re,E?(re=Dy(p,x),re!=null&&N.unshift(h0(p,re,$))):E||(re=Dy(p,x),re!=null&&N.push(h0(p,re,$)))),p=p.return}N.length!==0&&A.push({event:c,listeners:N})}var vne=/\r\n?/g,yne=/\u0000|\uFFFD/g;function q4(A){return(typeof A=="string"?A:""+A).replace(vne,`
`).replace(yne,"")}function $4(A,c){return c=q4(c),q4(A)===c}function en(A,c,p,m,E,x){switch(p){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Pp(A,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Pp(A,""+m);break;case"className":yn(A,"class",m);break;case"tabIndex":yn(A,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(A,p,m);break;case"style":$O(A,m,x);break;case"data":if(c!=="object"){yn(A,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||p!=="href")){A.removeAttribute(p);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=TB(""+m),A.setAttribute(p,m);break;case"action":case"formAction":if(typeof m=="function"){A.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(p==="formAction"?(c!=="input"&&en(A,c,"name",E.name,E,null),en(A,c,"formEncType",E.formEncType,E,null),en(A,c,"formMethod",E.formMethod,E,null),en(A,c,"formTarget",E.formTarget,E,null)):(en(A,c,"encType",E.encType,E,null),en(A,c,"method",E.method,E,null),en(A,c,"target",E.target,E,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=TB(""+m),A.setAttribute(p,m);break;case"onClick":m!=null&&(A.onclick=kA);break;case"onScroll":m!=null&&bt("scroll",A);break;case"onScrollEnd":m!=null&&bt("scrollend",A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(p=m.__html,p!=null){if(E.children!=null)throw Error(r(60));A.innerHTML=p}}break;case"multiple":A.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":A.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){A.removeAttribute("xlink:href");break}p=TB(""+m),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""+m):A.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""):A.removeAttribute(p);break;case"capture":case"download":m===!0?A.setAttribute(p,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,m):A.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?A.setAttribute(p,m):A.removeAttribute(p);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?A.removeAttribute(p):A.setAttribute(p,m);break;case"popover":bt("beforetoggle",A),bt("toggle",A),Un(A,"popover",m);break;case"xlinkActuate":Rt(A,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Rt(A,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Rt(A,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Rt(A,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Rt(A,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Rt(A,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Rt(A,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Rt(A,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Rt(A,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Un(A,"is",m);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=$ee.get(p)||p,Un(A,p,m))}}function FM(A,c,p,m,E,x){switch(p){case"style":$O(A,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(p=m.__html,p!=null){if(E.children!=null)throw Error(r(60));A.innerHTML=p}}break;case"children":typeof m=="string"?Pp(A,m):(typeof m=="number"||typeof m=="bigint")&&Pp(A,""+m);break;case"onScroll":m!=null&&bt("scroll",A);break;case"onScrollEnd":m!=null&&bt("scrollend",A);break;case"onClick":m!=null&&(A.onclick=kA);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xB.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),c=p.slice(2,E?p.length-7:void 0),x=A[_i]||null,x=x!=null?x[p]:null,typeof x=="function"&&A.removeEventListener(c,x,E),typeof m=="function")){typeof x!="function"&&x!==null&&(p in A?A[p]=null:A.hasAttribute(p)&&A.removeAttribute(p)),A.addEventListener(c,m,E);break e}p in A?A[p]=m:m===!0?A.setAttribute(p,""):Un(A,p,m)}}}function li(A,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",A),bt("load",A);var m=!1,E=!1,x;for(x in p)if(p.hasOwnProperty(x)){var N=p[x];if(N!=null)switch(x){case"src":m=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:en(A,c,x,N,p,null)}}E&&en(A,c,"srcSet",p.srcSet,p,null),m&&en(A,c,"src",p.src,p,null);return;case"input":bt("invalid",A);var O=x=N=E=null,$=null,re=null;for(m in p)if(p.hasOwnProperty(m)){var he=p[m];if(he!=null)switch(m){case"name":E=he;break;case"type":N=he;break;case"checked":$=he;break;case"defaultChecked":re=he;break;case"value":x=he;break;case"defaultValue":O=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,c));break;default:en(A,c,m,he,p,null)}}KO(A,x,O,$,re,N,E,!1);return;case"select":bt("invalid",A),m=N=x=null;for(E in p)if(p.hasOwnProperty(E)&&(O=p[E],O!=null))switch(E){case"value":x=O;break;case"defaultValue":N=O;break;case"multiple":m=O;default:en(A,c,E,O,p,null)}c=x,p=N,A.multiple=!!m,c!=null?Up(A,!!m,c,!1):p!=null&&Up(A,!!m,p,!0);return;case"textarea":bt("invalid",A),x=E=m=null;for(N in p)if(p.hasOwnProperty(N)&&(O=p[N],O!=null))switch(N){case"value":m=O;break;case"defaultValue":E=O;break;case"children":x=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:en(A,c,N,O,p,null)}zO(A,m,E,x);return;case"option":for($ in p)if(p.hasOwnProperty($)&&(m=p[$],m!=null))switch($){case"selected":A.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:en(A,c,$,m,p,null)}return;case"dialog":bt("beforetoggle",A),bt("toggle",A),bt("cancel",A),bt("close",A);break;case"iframe":case"object":bt("load",A);break;case"video":case"audio":for(m=0;m<f0.length;m++)bt(f0[m],A);break;case"image":bt("error",A),bt("load",A);break;case"details":bt("toggle",A);break;case"embed":case"source":case"link":bt("error",A),bt("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in p)if(p.hasOwnProperty(re)&&(m=p[re],m!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:en(A,c,re,m,p,null)}return;default:if(GI(c)){for(he in p)p.hasOwnProperty(he)&&(m=p[he],m!==void 0&&FM(A,c,he,m,p,void 0));return}}for(O in p)p.hasOwnProperty(O)&&(m=p[O],m!=null&&en(A,c,O,m,p,null))}function wne(A,c,p,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,x=null,N=null,O=null,$=null,re=null,he=null;for(Ae in p){var we=p[Ae];if(p.hasOwnProperty(Ae)&&we!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":$=we;default:m.hasOwnProperty(Ae)||en(A,c,Ae,null,m,we)}}for(var ae in m){var Ae=m[ae];if(we=p[ae],m.hasOwnProperty(ae)&&(Ae!=null||we!=null))switch(ae){case"type":x=Ae;break;case"name":E=Ae;break;case"checked":re=Ae;break;case"defaultChecked":he=Ae;break;case"value":N=Ae;break;case"defaultValue":O=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,c));break;default:Ae!==we&&en(A,c,ae,Ae,m,we)}}VI(A,N,O,$,re,he,x,E);return;case"select":Ae=N=O=ae=null;for(x in p)if($=p[x],p.hasOwnProperty(x)&&$!=null)switch(x){case"value":break;case"multiple":Ae=$;default:m.hasOwnProperty(x)||en(A,c,x,null,m,$)}for(E in m)if(x=m[E],$=p[E],m.hasOwnProperty(E)&&(x!=null||$!=null))switch(E){case"value":ae=x;break;case"defaultValue":O=x;break;case"multiple":N=x;default:x!==$&&en(A,c,E,x,m,$)}c=O,p=N,m=Ae,ae!=null?Up(A,!!p,ae,!1):!!m!=!!p&&(c!=null?Up(A,!!p,c,!0):Up(A,!!p,p?[]:"",!1));return;case"textarea":Ae=ae=null;for(O in p)if(E=p[O],p.hasOwnProperty(O)&&E!=null&&!m.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:en(A,c,O,null,m,E)}for(N in m)if(E=m[N],x=p[N],m.hasOwnProperty(N)&&(E!=null||x!=null))switch(N){case"value":ae=E;break;case"defaultValue":Ae=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==x&&en(A,c,N,E,m,x)}GO(A,ae,Ae);return;case"option":for(var ke in p)if(ae=p[ke],p.hasOwnProperty(ke)&&ae!=null&&!m.hasOwnProperty(ke))switch(ke){case"selected":A.selected=!1;break;default:en(A,c,ke,null,m,ae)}for($ in m)if(ae=m[$],Ae=p[$],m.hasOwnProperty($)&&ae!==Ae&&(ae!=null||Ae!=null))switch($){case"selected":A.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:en(A,c,$,ae,m,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in p)ae=p[Ze],p.hasOwnProperty(Ze)&&ae!=null&&!m.hasOwnProperty(Ze)&&en(A,c,Ze,null,m,ae);for(re in m)if(ae=m[re],Ae=p[re],m.hasOwnProperty(re)&&ae!==Ae&&(ae!=null||Ae!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,c));break;default:en(A,c,re,ae,m,Ae)}return;default:if(GI(c)){for(var tn in p)ae=p[tn],p.hasOwnProperty(tn)&&ae!==void 0&&!m.hasOwnProperty(tn)&&FM(A,c,tn,void 0,m,ae);for(he in m)ae=m[he],Ae=p[he],!m.hasOwnProperty(he)||ae===Ae||ae===void 0&&Ae===void 0||FM(A,c,he,ae,m,Ae);return}}for(var J in p)ae=p[J],p.hasOwnProperty(J)&&ae!=null&&!m.hasOwnProperty(J)&&en(A,c,J,null,m,ae);for(we in m)ae=m[we],Ae=p[we],!m.hasOwnProperty(we)||ae===Ae||ae==null&&Ae==null||en(A,c,we,ae,m,Ae)}function j4(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bne(){if(typeof performance.getEntriesByType=="function"){for(var A=0,c=0,p=performance.getEntriesByType("resource"),m=0;m<p.length;m++){var E=p[m],x=E.transferSize,N=E.initiatorType,O=E.duration;if(x&&O&&j4(N)){for(N=0,O=E.responseEnd,m+=1;m<p.length;m++){var $=p[m],re=$.startTime;if(re>O)break;var he=$.transferSize,we=$.initiatorType;he&&j4(we)&&($=$.responseEnd,N+=he*($<O?1:(O-re)/($-re)))}if(--m,c+=8*(x+N)/(E.duration/1e3),A++,10<A)break}}if(0<A)return c/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var MM=null,UM=null;function ES(A){return A.nodeType===9?A:A.ownerDocument}function W4(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y4(A,c){if(A===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&c==="foreignObject"?0:A}function PM(A,c){return A==="textarea"||A==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var RM=null;function Cne(){var A=window.event;return A&&A.type==="popstate"?A===RM?!1:(RM=A,!0):(RM=null,!1)}var X4=typeof setTimeout=="function"?setTimeout:void 0,Ene=typeof clearTimeout=="function"?clearTimeout:void 0,J4=typeof Promise=="function"?Promise:void 0,Bne=typeof queueMicrotask=="function"?queueMicrotask:typeof J4<"u"?function(A){return J4.resolve(null).then(A).catch(Sne)}:X4;function Sne(A){setTimeout(function(){throw A})}function Ac(A){return A==="head"}function Z4(A,c){var p=c,m=0;do{var E=p.nextSibling;if(A.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"||p==="/&"){if(m===0){A.removeChild(E),ug(c);return}m--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")m++;else if(p==="html")p0(A.ownerDocument.documentElement);else if(p==="head"){p=A.ownerDocument.head,p0(p);for(var x=p.firstChild;x;){var N=x.nextSibling,O=x.nodeName;x[nf]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&x.rel.toLowerCase()==="stylesheet"||p.removeChild(x),x=N}}else p==="body"&&p0(A.ownerDocument.body);p=E}while(p);ug(c)}function eV(A,c){var p=A;A=0;do{var m=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),m&&m.nodeType===8)if(p=m.data,p==="/$"){if(A===0)break;A--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||A++;p=m}while(p)}function DM(A){var c=A.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":DM(p),Py(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}A.removeChild(p)}}function xne(A,c,p,m){for(;A.nodeType===1;){var E=p;if(A.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(m){if(!A[nf])switch(c){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(x=A.getAttribute("rel"),x==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(x!==E.rel||A.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||A.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||A.getAttribute("title")!==(E.title==null?null:E.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(x=A.getAttribute("src"),(x!==(E.src==null?null:E.src)||A.getAttribute("type")!==(E.type==null?null:E.type)||A.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&x&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(c==="input"&&A.type==="hidden"){var x=E.name==null?null:""+E.name;if(E.type==="hidden"&&A.getAttribute("name")===x)return A}else return A;if(A=Sa(A.nextSibling),A===null)break}return null}function _ne(A,c,p){if(c==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!p||(A=Sa(A.nextSibling),A===null))return null;return A}function tV(A,c){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!c||(A=Sa(A.nextSibling),A===null))return null;return A}function NM(A){return A.data==="$?"||A.data==="$~"}function LM(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function Tne(A,c){var p=A.ownerDocument;if(A.data==="$~")A._reactRetry=c;else if(A.data!=="$?"||p.readyState!=="loading")c();else{var m=function(){c(),p.removeEventListener("DOMContentLoaded",m)};p.addEventListener("DOMContentLoaded",m),A._reactRetry=m}}function Sa(A){for(;A!=null;A=A.nextSibling){var c=A.nodeType;if(c===1||c===3)break;if(c===8){if(c=A.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return A}var QM=null;function nV(A){A=A.nextSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="/$"||p==="/&"){if(c===0)return Sa(A.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}A=A.nextSibling}return null}function rV(A){A=A.previousSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return A;c--}else p!=="/$"&&p!=="/&"||c++}A=A.previousSibling}return null}function iV(A,c,p){switch(c=ES(p),A){case"html":if(A=c.documentElement,!A)throw Error(r(452));return A;case"head":if(A=c.head,!A)throw Error(r(453));return A;case"body":if(A=c.body,!A)throw Error(r(454));return A;default:throw Error(r(451))}}function p0(A){for(var c=A.attributes;c.length;)A.removeAttributeNode(c[0]);Py(A)}var xa=new Map,sV=new Set;function BS(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var tl=j.d;j.d={f:Ine,r:Fne,D:Mne,C:Une,L:Pne,m:Rne,X:Nne,S:Dne,M:Lne};function Ine(){var A=tl.f(),c=pS();return A||c}function Fne(A){var c=Go(A);c!==null&&c.tag===5&&c.type==="form"?CH(c):tl.r(A)}var og=typeof document>"u"?null:document;function aV(A,c,p){var m=og;if(m&&typeof c=="string"&&c){var E=va(c);E='link[rel="'+A+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),sV.has(E)||(sV.add(E),A={rel:A,crossOrigin:p,href:c},m.querySelector(E)===null&&(c=m.createElement("link"),li(c,"link",A),zn(c),m.head.appendChild(c)))}}function Mne(A){tl.D(A),aV("dns-prefetch",A,null)}function Une(A,c){tl.C(A,c),aV("preconnect",A,c)}function Pne(A,c,p){tl.L(A,c,p);var m=og;if(m&&A&&c){var E='link[rel="preload"][as="'+va(c)+'"]';c==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+va(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+va(p.imageSizes)+'"]')):E+='[href="'+va(A)+'"]';var x=E;switch(c){case"style":x=Ag(A);break;case"script":x=lg(A)}xa.has(x)||(A=h({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:A,as:c},p),xa.set(x,A),m.querySelector(E)!==null||c==="style"&&m.querySelector(g0(x))||c==="script"&&m.querySelector(m0(x))||(c=m.createElement("link"),li(c,"link",A),zn(c),m.head.appendChild(c)))}}function Rne(A,c){tl.m(A,c);var p=og;if(p&&A){var m=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+va(m)+'"][href="'+va(A)+'"]',x=E;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=lg(A)}if(!xa.has(x)&&(A=h({rel:"modulepreload",href:A},c),xa.set(x,A),p.querySelector(E)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(m0(x)))return}m=p.createElement("link"),li(m,"link",A),zn(m),p.head.appendChild(m)}}}function Dne(A,c,p){tl.S(A,c,p);var m=og;if(m&&A){var E=Gu(m).hoistableStyles,x=Ag(A);c=c||"default";var N=E.get(x);if(!N){var O={loading:0,preload:null};if(N=m.querySelector(g0(x)))O.loading=5;else{A=h({rel:"stylesheet",href:A,"data-precedence":c},p),(p=xa.get(x))&&kM(A,p);var $=N=m.createElement("link");zn($),li($,"link",A),$._p=new Promise(function(re,he){$.onload=re,$.onerror=he}),$.addEventListener("load",function(){O.loading|=1}),$.addEventListener("error",function(){O.loading|=2}),O.loading|=4,SS(N,c,m)}N={type:"stylesheet",instance:N,count:1,state:O},E.set(x,N)}}}function Nne(A,c){tl.X(A,c);var p=og;if(p&&A){var m=Gu(p).hoistableScripts,E=lg(A),x=m.get(E);x||(x=p.querySelector(m0(E)),x||(A=h({src:A,async:!0},c),(c=xa.get(E))&&OM(A,c),x=p.createElement("script"),zn(x),li(x,"link",A),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(E,x))}}function Lne(A,c){tl.M(A,c);var p=og;if(p&&A){var m=Gu(p).hoistableScripts,E=lg(A),x=m.get(E);x||(x=p.querySelector(m0(E)),x||(A=h({src:A,async:!0,type:"module"},c),(c=xa.get(E))&&OM(A,c),x=p.createElement("script"),zn(x),li(x,"link",A),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(E,x))}}function oV(A,c,p,m){var E=(E=ue.current)?BS(E):null;if(!E)throw Error(r(446));switch(A){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=Ag(p.href),p=Gu(E).hoistableStyles,m=p.get(c),m||(m={type:"style",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){A=Ag(p.href);var x=Gu(E).hoistableStyles,N=x.get(A);if(N||(E=E.ownerDocument||E,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(A,N),(x=E.querySelector(g0(A)))&&!x._p&&(N.instance=x,N.state.loading=5),xa.has(A)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},xa.set(A,p),x||Qne(E,A,p,N.state))),c&&m===null)throw Error(r(528,""));return N}if(c&&m!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=lg(p),p=Gu(E).hoistableScripts,m=p.get(c),m||(m={type:"script",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,A))}}function Ag(A){return'href="'+va(A)+'"'}function g0(A){return'link[rel="stylesheet"]['+A+"]"}function AV(A){return h({},A,{"data-precedence":A.precedence,precedence:null})}function Qne(A,c,p,m){A.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=A.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),li(c,"link",p),zn(c),A.head.appendChild(c))}function lg(A){return'[src="'+va(A)+'"]'}function m0(A){return"script[async]"+A}function lV(A,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var m=A.querySelector('style[data-href~="'+va(p.href)+'"]');if(m)return c.instance=m,zn(m),m;var E=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return m=(A.ownerDocument||A).createElement("style"),zn(m),li(m,"style",E),SS(m,p.precedence,A),c.instance=m;case"stylesheet":E=Ag(p.href);var x=A.querySelector(g0(E));if(x)return c.state.loading|=4,c.instance=x,zn(x),x;m=AV(p),(E=xa.get(E))&&kM(m,E),x=(A.ownerDocument||A).createElement("link"),zn(x);var N=x;return N._p=new Promise(function(O,$){N.onload=O,N.onerror=$}),li(x,"link",m),c.state.loading|=4,SS(x,p.precedence,A),c.instance=x;case"script":return x=lg(p.src),(E=A.querySelector(m0(x)))?(c.instance=E,zn(E),E):(m=p,(E=xa.get(x))&&(m=h({},p),OM(m,E)),A=A.ownerDocument||A,E=A.createElement("script"),zn(E),li(E,"link",m),A.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,SS(m,p.precedence,A));return c.instance}function SS(A,c,p){for(var m=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=m.length?m[m.length-1]:null,x=E,N=0;N<m.length;N++){var O=m[N];if(O.dataset.precedence===c)x=O;else if(x!==E)break}x?x.parentNode.insertBefore(A,x.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(A,c.firstChild))}function kM(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.title==null&&(A.title=c.title)}function OM(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.integrity==null&&(A.integrity=c.integrity)}var xS=null;function uV(A,c,p){if(xS===null){var m=new Map,E=xS=new Map;E.set(p,m)}else E=xS,m=E.get(p),m||(m=new Map,E.set(p,m));if(m.has(A))return m;for(m.set(A,null),p=p.getElementsByTagName(A),E=0;E<p.length;E++){var x=p[E];if(!(x[nf]||x[pr]||A==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var N=x.getAttribute(c)||"";N=A+N;var O=m.get(N);O?O.push(x):m.set(N,[x])}}return m}function cV(A,c,p){A=A.ownerDocument||A,A.head.insertBefore(p,c==="title"?A.querySelector("head > title"):null)}function kne(A,c,p){if(p===1||c.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return A=c.disabled,typeof c.precedence=="string"&&A==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function dV(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function One(A,c,p,m){if(p.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var E=Ag(m.href),x=c.querySelector(g0(E));if(x){c=x._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(A.count++,A=_S.bind(A),c.then(A,A)),p.state.loading|=4,p.instance=x,zn(x);return}x=c.ownerDocument||c,m=AV(m),(E=xa.get(E))&&kM(m,E),x=x.createElement("link"),zn(x);var N=x;N._p=new Promise(function(O,$){N.onload=O,N.onerror=$}),li(x,"link",m),p.instance=x}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(A.count++,p=_S.bind(A),c.addEventListener("load",p),c.addEventListener("error",p))}}var HM=0;function Hne(A,c){return A.stylesheets&&A.count===0&&IS(A,A.stylesheets),0<A.count||0<A.imgCount?function(p){var m=setTimeout(function(){if(A.stylesheets&&IS(A,A.stylesheets),A.unsuspend){var x=A.unsuspend;A.unsuspend=null,x()}},6e4+c);0<A.imgBytes&&HM===0&&(HM=62500*bne());var E=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&IS(A,A.stylesheets),A.unsuspend)){var x=A.unsuspend;A.unsuspend=null,x()}},(A.imgBytes>HM?50:800)+c);return A.unsuspend=p,function(){A.unsuspend=null,clearTimeout(m),clearTimeout(E)}}:null}function _S(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)IS(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var TS=null;function IS(A,c){A.stylesheets=null,A.unsuspend!==null&&(A.count++,TS=new Map,c.forEach(Vne,A),TS=null,_S.call(A))}function Vne(A,c){if(!(c.state.loading&4)){var p=TS.get(A);if(p)var m=p.get(null);else{p=new Map,TS.set(A,p);for(var E=A.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<E.length;x++){var N=E[x];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(p.set(N.dataset.precedence,N),m=N)}m&&p.set(null,m)}E=c.instance,N=E.getAttribute("data-precedence"),x=p.get(N)||m,x===m&&p.set(null,E),p.set(N,E),this.count++,m=_S.bind(this),E.addEventListener("load",m),E.addEventListener("error",m),x?x.parentNode.insertBefore(E,x.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(E,A.firstChild)),c.state.loading|=4}}var v0={$$typeof:T,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Kne(A,c,p,m,E,x,N,O,$){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Iy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iy(0),this.hiddenUpdates=Iy(null),this.identifierPrefix=m,this.onUncaughtError=E,this.onCaughtError=x,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function fV(A,c,p,m,E,x,N,O,$,re,he,we){return A=new Kne(A,c,p,N,$,re,he,we,O),c=1,x===!0&&(c|=24),x=Us(3,null,null,c),A.current=x,x.stateNode=A,c=wF(),c.refCount++,A.pooledCache=c,c.refCount++,x.memoizedState={element:m,isDehydrated:p,cache:c},BF(x),A}function hV(A){return A?(A=Op,A):Op}function pV(A,c,p,m,E,x){E=hV(E),m.context===null?m.context=E:m.pendingContext=E,m=Xu(c),m.payload={element:p},x=x===void 0?null:x,x!==null&&(m.callback=x),p=Ju(A,m,c),p!==null&&(cs(p,A,c),Yy(p,A,c))}function gV(A,c){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var p=A.retryLane;A.retryLane=p!==0&&p<c?p:c}}function VM(A,c){gV(A,c),(A=A.alternate)&&gV(A,c)}function mV(A){if(A.tag===13||A.tag===31){var c=Af(A,67108864);c!==null&&cs(c,A,67108864),VM(A,67108864)}}function vV(A){if(A.tag===13||A.tag===31){var c=Ls();c=Hu(c);var p=Af(A,c);p!==null&&cs(p,A,c),VM(A,c)}}var FS=!0;function Gne(A,c,p,m){var E=V.T;V.T=null;var x=j.p;try{j.p=2,KM(A,c,p,m)}finally{j.p=x,V.T=E}}function zne(A,c,p,m){var E=V.T;V.T=null;var x=j.p;try{j.p=8,KM(A,c,p,m)}finally{j.p=x,V.T=E}}function KM(A,c,p,m){if(FS){var E=GM(m);if(E===null)IM(A,c,m,MS,p),wV(A,m);else if($ne(E,A,c,p,m))m.stopPropagation();else if(wV(A,m),c&4&&-1<qne.indexOf(A)){for(;E!==null;){var x=Go(E);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var N=Sn(x.pendingLanes);if(N!==0){var O=x;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var $=1<<31-ut(N);O.entanglements[1]|=$,N&=~$}jo(x),(Ht&6)===0&&(fS=rr()+500,d0(0))}}break;case 31:case 13:O=Af(x,2),O!==null&&cs(O,x,2),pS(),VM(x,2)}if(x=GM(m),x===null&&IM(A,c,m,MS,p),x===E)break;E=x}E!==null&&m.stopPropagation()}else IM(A,c,m,null,p)}}function GM(A){return A=qI(A),zM(A)}var MS=null;function zM(A){if(MS=null,A=Ku(A),A!==null){var c=s(A);if(c===null)A=null;else{var p=c.tag;if(p===13){if(A=a(c),A!==null)return A;A=null}else if(p===31){if(A=o(c),A!==null)return A;A=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;A=null}else c!==A&&(A=null)}}return MS=A,null}function yV(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(X()){case de:return 2;case He:return 8;case Xe:case ot:return 32;case je:return 268435456;default:return 32}default:return 32}}var qM=!1,lc=null,uc=null,cc=null,y0=new Map,w0=new Map,dc=[],qne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wV(A,c){switch(A){case"focusin":case"focusout":lc=null;break;case"dragenter":case"dragleave":uc=null;break;case"mouseover":case"mouseout":cc=null;break;case"pointerover":case"pointerout":y0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":w0.delete(c.pointerId)}}function b0(A,c,p,m,E,x){return A===null||A.nativeEvent!==x?(A={blockedOn:c,domEventName:p,eventSystemFlags:m,nativeEvent:x,targetContainers:[E]},c!==null&&(c=Go(c),c!==null&&mV(c)),A):(A.eventSystemFlags|=m,c=A.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),A)}function $ne(A,c,p,m,E){switch(c){case"focusin":return lc=b0(lc,A,c,p,m,E),!0;case"dragenter":return uc=b0(uc,A,c,p,m,E),!0;case"mouseover":return cc=b0(cc,A,c,p,m,E),!0;case"pointerover":var x=E.pointerId;return y0.set(x,b0(y0.get(x)||null,A,c,p,m,E)),!0;case"gotpointercapture":return x=E.pointerId,w0.set(x,b0(w0.get(x)||null,A,c,p,m,E)),!0}return!1}function bV(A){var c=Ku(A.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){A.blockedOn=c,My(A.priority,function(){vV(p)});return}}else if(c===31){if(c=o(p),c!==null){A.blockedOn=c,My(A.priority,function(){vV(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){A.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}A.blockedOn=null}function US(A){if(A.blockedOn!==null)return!1;for(var c=A.targetContainers;0<c.length;){var p=GM(A.nativeEvent);if(p===null){p=A.nativeEvent;var m=new p.constructor(p.type,p);zI=m,p.target.dispatchEvent(m),zI=null}else return c=Go(p),c!==null&&mV(c),A.blockedOn=p,!1;c.shift()}return!0}function CV(A,c,p){US(A)&&p.delete(c)}function jne(){qM=!1,lc!==null&&US(lc)&&(lc=null),uc!==null&&US(uc)&&(uc=null),cc!==null&&US(cc)&&(cc=null),y0.forEach(CV),w0.forEach(CV)}function PS(A,c){A.blockedOn===c&&(A.blockedOn=null,qM||(qM=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jne)))}var RS=null;function EV(A){RS!==A&&(RS=A,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){RS===A&&(RS=null);for(var c=0;c<A.length;c+=3){var p=A[c],m=A[c+1],E=A[c+2];if(typeof m!="function"){if(zM(m||p)===null)continue;break}var x=Go(p);x!==null&&(A.splice(c,3),c-=3,GF(x,{pending:!0,data:E,method:p.method,action:m},m,E))}}))}function ug(A){function c($){return PS($,A)}lc!==null&&PS(lc,A),uc!==null&&PS(uc,A),cc!==null&&PS(cc,A),y0.forEach(c),w0.forEach(c);for(var p=0;p<dc.length;p++){var m=dc[p];m.blockedOn===A&&(m.blockedOn=null)}for(;0<dc.length&&(p=dc[0],p.blockedOn===null);)bV(p),p.blockedOn===null&&dc.shift();if(p=(A.ownerDocument||A).$$reactFormReplay,p!=null)for(m=0;m<p.length;m+=3){var E=p[m],x=p[m+1],N=E[_i]||null;if(typeof x=="function")N||EV(p);else if(N){var O=null;if(x&&x.hasAttribute("formAction")){if(E=x,N=x[_i]||null)O=N.formAction;else if(zM(E)!==null)continue}else O=N.action;typeof O=="function"?p[m+1]=O:(p.splice(m,3),m-=3),EV(p)}}}function BV(){function A(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(N){return E=N})},focusReset:"manual",scroll:"manual"})}function c(){E!==null&&(E(),E=null),m||setTimeout(p,20)}function p(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,E=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){m=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),E!==null&&(E(),E=null)}}}function $M(A){this._internalRoot=A}DS.prototype.render=$M.prototype.render=function(A){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,m=Ls();pV(p,m,A,c,null,null)},DS.prototype.unmount=$M.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var c=A.containerInfo;pV(A.current,2,null,A,null,null),pS(),c[Vu]=null}};function DS(A){this._internalRoot=A}DS.prototype.unstable_scheduleHydration=function(A){if(A){var c=CB();A={blockedOn:null,target:A,priority:c};for(var p=0;p<dc.length&&c!==0&&c<dc[p].priority;p++);dc.splice(p,0,A),p===0&&bV(A)}};var SV=e.version;if(SV!=="19.2.1")throw Error(r(527,SV,"19.2.1"));j.findDOMNode=function(A){var c=A._reactInternals;if(c===void 0)throw typeof A.render=="function"?Error(r(188)):(A=Object.keys(A).join(","),Error(r(268,A)));return A=u(c),A=A!==null?d(A):null,A=A===null?null:A.stateNode,A};var Wne={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var NS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!NS.isDisabled&&NS.supportsFiber)try{We=NS.inject(Wne),ze=NS}catch{}}return E0.createRoot=function(A,c){if(!i(A))throw Error(r(299));var p=!1,m="",E=UH,x=PH,N=RH;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=fV(A,1,!1,null,null,p,m,null,E,x,N,BV),A[Vu]=c.current,TM(A),new $M(c)},E0.hydrateRoot=function(A,c,p){if(!i(A))throw Error(r(299));var m=!1,E="",x=UH,N=PH,O=RH,$=null;return p!=null&&(p.unstable_strictMode===!0&&(m=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(x=p.onUncaughtError),p.onCaughtError!==void 0&&(N=p.onCaughtError),p.onRecoverableError!==void 0&&(O=p.onRecoverableError),p.formState!==void 0&&($=p.formState)),c=fV(A,1,!0,c,p??null,m,E,$,x,N,O,BV),c.context=hV(null),p=c.current,m=Ls(),m=Hu(m),E=Xu(m),E.callback=null,Ju(p,E,m),p=m,c.current.lanes=p,tf(c,p),jo(c),A[Vu]=c.current,TM(A),new DS(c)},E0.version="19.2.1",E0}var NV;function Are(){if(NV)return XM.exports;NV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),XM.exports=ore(),XM.exports}var lre=Are();const ure=DA(lre);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LV="popstate";function cre(n={}){function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=Sp(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),BR("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:Ow(s))}function r(i,s){no(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return fre(e,t,r,n)}function Hn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function no(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dre(){return Math.random().toString(36).substring(2,10)}function QV(n,e){return{usr:n.state,key:n.key,idx:e}}function BR(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Sp(e):e,state:t,key:e&&e.key||r||dre()}}function Ow({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Sp(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function fre(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let B=d(),S=B==null?null:B-u;u=B,l&&l({action:o,location:b.location,delta:S})}function g(B,S){o="PUSH";let I=BR(b.location,B,S);t&&t(I,B),u=d()+1;let T=QV(I,u),D=b.createHref(I);try{a.pushState(T,"",D)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(D)}s&&l&&l({action:o,location:b.location,delta:1})}function v(B,S){o="REPLACE";let I=BR(b.location,B,S);t&&t(I,B),u=d();let T=QV(I,u),D=b.createHref(I);a.replaceState(T,"",D),s&&l&&l({action:o,location:b.location,delta:0})}function C(B){return hre(B)}let b={get action(){return o},get location(){return n(i,a)},listen(B){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(LV,h),l=B,()=>{i.removeEventListener(LV,h),l=null}},createHref(B){return e(i,B)},createURL:C,encodeLocation(B){let S=C(B);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(B){return a.go(B)}};return b}function hre(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Hn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Ow(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function k$(n,e,t="/"){return pre(n,e,t,!1)}function pre(n,e,t,r){let i=typeof e=="string"?Sp(e):e,s=mu(i.pathname||"/",t);if(s==null)return null;let a=O$(n);gre(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=_re(s);o=Sre(a[l],u,r)}return o}function O$(n,e=[],t=[],r="",i=!1){let s=(a,o,l=i,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;Hn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=uu([r,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(Hn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),O$(a.children,e,g,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:Ere(h,a.index),routesMeta:g})};return n.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of H$(a.path))s(a,o,!0,u)}),e}function H$(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=H$(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function gre(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Bre(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var mre=/^:[\w-]+$/,vre=3,yre=2,wre=1,bre=10,Cre=-2,kV=n=>n==="*";function Ere(n,e){let t=n.split("/"),r=t.length;return t.some(kV)&&(r+=Cre),e&&(r+=yre),t.filter(i=>!kV(i)).reduce((i,s)=>i+(mre.test(s)?vre:s===""?wre:bre),r)}function Bre(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Sre(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=q_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!h&&u&&t&&!r[r.length-1].route.index&&(h=q_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:uu([s,h.pathname]),pathnameBase:Ure(uu([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=uu([s,h.pathnameBase]))}return a}function q_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=xre(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},g)=>{if(d==="*"){let C=o[g]||"";a=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const v=o[g];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function xre(n,e=!1,t=!0){no(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _re(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return no(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function mu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var Tre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ire=n=>Tre.test(n);function Fre(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Sp(n):n,s;if(t)if(Ire(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),no(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=OV(t.substring(1),"/"):s=OV(t,e)}else s=e;return{pathname:s,search:Pre(r),hash:Rre(i)}}function OV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function tU(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mre(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function V$(n){let e=Mre(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function K$(n,e,t,r=!1){let i;typeof n=="string"?i=Sp(n):(i={...n},Hn(!i.pathname||!i.pathname.includes("?"),tU("?","pathname","search",i)),Hn(!i.pathname||!i.pathname.includes("#"),tU("#","pathname","hash",i)),Hn(!i.search||!i.search.includes("#"),tU("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=Fre(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var uu=n=>n.join("/").replace(/\/\/+/g,"/"),Ure=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Pre=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Rre=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Dre(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Nre(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var G$=["POST","PUT","PATCH","DELETE"];new Set(G$);var Lre=["GET",...G$];new Set(Lre);var py=F.createContext(null);py.displayName="DataRouter";var U1=F.createContext(null);U1.displayName="DataRouterState";F.createContext(!1);var z$=F.createContext({isTransitioning:!1});z$.displayName="ViewTransition";var Qre=F.createContext(new Map);Qre.displayName="Fetchers";var kre=F.createContext(null);kre.displayName="Await";var ko=F.createContext(null);ko.displayName="Navigation";var kE=F.createContext(null);kE.displayName="Location";var Mu=F.createContext({outlet:null,matches:[],isDataRoute:!1});Mu.displayName="Route";var EQ=F.createContext(null);EQ.displayName="RouteError";function Ore(n,{relative:e}={}){Hn(OE(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(ko),{hash:i,pathname:s,search:a}=HE(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:uu([t,s])),r.createHref({pathname:o,search:a,hash:i})}function OE(){return F.useContext(kE)!=null}function Uu(){return Hn(OE(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(kE).location}var q$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $$(n){F.useContext(ko).static||F.useLayoutEffect(n)}function j$(){let{isDataRoute:n}=F.useContext(Mu);return n?Zre():Hre()}function Hre(){Hn(OE(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(py),{basename:e,navigator:t}=F.useContext(ko),{matches:r}=F.useContext(Mu),{pathname:i}=Uu(),s=JSON.stringify(V$(r)),a=F.useRef(!1);return $$(()=>{a.current=!0}),F.useCallback((l,u={})=>{if(no(a.current,q$),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=K$(l,JSON.parse(s),i,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:uu([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,i,n])}F.createContext(null);function HE(n,{relative:e}={}){let{matches:t}=F.useContext(Mu),{pathname:r}=Uu(),i=JSON.stringify(V$(t));return F.useMemo(()=>K$(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function Vre(n,e){return W$(n,e)}function W$(n,e,t,r,i){var I;Hn(OE(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=F.useContext(ko),{matches:a}=F.useContext(Mu),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let T=h&&h.path||"";Y$(u,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=Uu(),v;if(e){let T=typeof e=="string"?Sp(e):e;Hn(d==="/"||((I=T.pathname)==null?void 0:I.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=g;let C=v.pathname||"/",b=C;if(d!=="/"){let T=d.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(T.length).join("/")}let B=k$(n,{pathname:b});no(h||B!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),no(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=$re(B&&B.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:uu([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:uu([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,t,r,i);return e&&S?F.createElement(kE.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function Kre(){let n=Jre(),e=Dre(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:s},"ErrorBoundary")," or"," ",F.createElement("code",{style:s},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:i},t):null,a)}var Gre=F.createElement(Kre,null),zre=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?F.createElement(Mu.Provider,{value:this.props.routeContext},F.createElement(EQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qre({routeContext:n,match:e,children:t}){let r=F.useContext(py);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Mu.Provider,{value:n},t)}function $re(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Hn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:g,errors:v}=t,C=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||C){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=t&&r?(d,h)=>{var g,v;r(d,{location:t.location,params:((v=(g=t.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:Nre(t.matches),errorInfo:h})}:void 0;return s.reduceRight((d,h,g)=>{let v,C=!1,b=null,B=null;t&&(v=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||Gre,o&&(l<0&&g===0?(Y$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,B=null):l===g&&(C=!0,B=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),I=()=>{let T;return v?T=b:C?T=B:h.route.Component?T=F.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,F.createElement(qre,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?F.createElement(zre,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:u}):I()},null)}function BQ(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jre(n){let e=F.useContext(py);return Hn(e,BQ(n)),e}function Wre(n){let e=F.useContext(U1);return Hn(e,BQ(n)),e}function Yre(n){let e=F.useContext(Mu);return Hn(e,BQ(n)),e}function SQ(n){let e=Yre(n),t=e.matches[e.matches.length-1];return Hn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Xre(){return SQ("useRouteId")}function Jre(){var r;let n=F.useContext(EQ),e=Wre("useRouteError"),t=SQ("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Zre(){let{router:n}=jre("useNavigate"),e=SQ("useNavigate"),t=F.useRef(!1);return $$(()=>{t.current=!0}),F.useCallback(async(i,s={})=>{no(t.current,q$),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var HV={};function Y$(n,e,t){!e&&!HV[n]&&(HV[n]=!0,no(!1,t))}F.memo(eie);function eie({routes:n,future:e,state:t,unstable_onError:r}){return W$(n,void 0,t,r,e)}function SR(n){Hn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tie({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){Hn(!OE(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=F.useMemo(()=>({basename:o,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[o,i,s,a]);typeof t=="string"&&(t=Sp(t));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:v="default"}=t,C=F.useMemo(()=>{let b=mu(u,o);return b==null?null:{location:{pathname:b,search:d,hash:h,state:g,key:v},navigationType:r}},[o,u,d,h,g,v,r]);return no(C!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:F.createElement(ko.Provider,{value:l},F.createElement(kE.Provider,{children:e,value:C}))}function nie({children:n,location:e}){return Vre(xR(n),e)}function xR(n,e=[]){let t=[];return F.Children.forEach(n,(r,i)=>{if(!F.isValidElement(r))return;let s=[...e,i];if(r.type===F.Fragment){t.push.apply(t,xR(r.props.children,s));return}Hn(r.type===SR,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Hn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=xR(r.props.children,s)),t.push(a)}),t}var Ox="get",Hx="application/x-www-form-urlencoded";function P1(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function rie(n){return P1(n)&&n.tagName.toLowerCase()==="button"}function iie(n){return P1(n)&&n.tagName.toLowerCase()==="form"}function sie(n){return P1(n)&&n.tagName.toLowerCase()==="input"}function aie(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oie(n,e){return n.button===0&&(!e||e==="_self")&&!aie(n)}var LS=null;function Aie(){if(LS===null)try{new FormData(document.createElement("form"),0),LS=!1}catch{LS=!0}return LS}var lie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nU(n){return n!=null&&!lie.has(n)?(no(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hx}"`),null):n}function uie(n,e){let t,r,i,s,a;if(iie(n)){let o=n.getAttribute("action");r=o?mu(o,e):null,t=n.getAttribute("method")||Ox,i=nU(n.getAttribute("enctype"))||Hx,s=new FormData(n)}else if(rie(n)||sie(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(r=l?mu(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Ox,i=nU(n.getAttribute("formenctype"))||nU(o.getAttribute("enctype"))||Hx,s=new FormData(o,n),!Aie()){let{name:u,type:d,value:h}=n;if(d==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,h)}}else{if(P1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ox,r=null,i=Hx,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xQ(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cie(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&mu(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function die(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fie(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function hie(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await die(s,t);return a.links?a.links():[]}return[]}));return vie(r.flat(1).filter(fie).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function VV(n,e,t,r,i,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>{var d;return t[u].pathname!==l.pathname||((d=t[u].route.path)==null?void 0:d.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function pie(n,e,{includeHydrateFallback:t}={}){return gie(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function gie(n){return[...new Set(n)]}function mie(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function vie(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(mie(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function X$(){let n=F.useContext(py);return xQ(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yie(){let n=F.useContext(U1);return xQ(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _Q=F.createContext(void 0);_Q.displayName="FrameworkContext";function J$(){let n=F.useContext(_Q);return xQ(n,"You must render this element inside a <HydratedRouter> element"),n}function wie(n,e){let t=F.useContext(_Q),[r,i]=F.useState(!1),[s,a]=F.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,g=F.useRef(null);F.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let b=S=>{S.forEach(I=>{a(I.isIntersecting)})},B=new IntersectionObserver(b,{threshold:.5});return g.current&&B.observe(g.current),()=>{B.disconnect()}}},[n]),F.useEffect(()=>{if(r){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[r]);let v=()=>{i(!0)},C=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:B0(o,v),onBlur:B0(l,C),onMouseEnter:B0(u,v),onMouseLeave:B0(d,C),onTouchStart:B0(h,v)}]:[!1,g,{}]}function B0(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function bie({page:n,...e}){let{router:t}=X$(),r=F.useMemo(()=>k$(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(Eie,{page:n,matches:r,...e}):null}function Cie(n){let{manifest:e,routeModules:t}=J$(),[r,i]=F.useState([]);return F.useEffect(()=>{let s=!1;return hie(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function Eie({page:n,matches:e,...t}){let r=Uu(),{manifest:i,routeModules:s}=J$(),{basename:a}=X$(),{loaderData:o,matches:l}=yie(),u=F.useMemo(()=>VV(n,e,l,i,r,"data"),[n,e,l,i,r]),d=F.useMemo(()=>VV(n,e,l,i,r,"assets"),[n,e,l,i,r]),h=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,b=!1;if(e.forEach(S=>{var T;let I=i.routes[S.route.id];!I||!I.hasLoader||(!u.some(D=>D.route.id===S.route.id)&&S.route.id in o&&((T=s[S.route.id])!=null&&T.shouldRevalidate)||I.hasClientLoader?b=!0:C.add(S.route.id))}),C.size===0)return[];let B=cie(n,a,"data");return b&&C.size>0&&B.searchParams.set("_routes",e.filter(S=>C.has(S.route.id)).map(S=>S.route.id).join(",")),[B.pathname+B.search]},[a,o,r,i,u,e,n,s]),g=F.useMemo(()=>pie(d,i),[d,i]),v=Cie(d);return F.createElement(F.Fragment,null,h.map(C=>F.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),g.map(C=>F.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),v.map(({key:C,link:b})=>F.createElement("link",{key:C,nonce:t.nonce,...b})))}function Bie(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Z$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z$&&(window.__reactRouterVersion="7.10.1")}catch{}function Sie({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=F.useRef();i.current==null&&(i.current=cre({window:r,v5Compat:!0}));let s=i.current,[a,o]=F.useState({action:s.action,location:s.location}),l=F.useCallback(u=>{t===!1?o(u):F.startTransition(()=>o(u))},[t]);return F.useLayoutEffect(()=>s.listen(l),[s,l]),F.createElement(tie,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t===!0})}var ej=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$_=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...g},v){let{basename:C,unstable_useTransitions:b}=F.useContext(ko),B=typeof u=="string"&&ej.test(u),S,I=!1;if(typeof u=="string"&&B&&(S=u,Z$))try{let G=new URL(window.location.href),K=u.startsWith("//")?new URL(G.protocol+u):new URL(u),z=mu(K.pathname,C);K.origin===G.origin&&z!=null?u=z+K.search+K.hash:I=!0}catch{no(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Ore(u,{relative:i}),[D,U,R]=wie(r,g),Q=Iie(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h,unstable_useTransitions:b});function H(G){e&&e(G),G.defaultPrevented||Q(G)}let k=F.createElement("a",{...g,...R,href:S||T,onClick:I||s?e:H,ref:Bie(v,U),target:l,"data-discover":!B&&t==="render"?"true":void 0});return D&&!B?F.createElement(F.Fragment,null,k,F.createElement(bie,{page:T})):k});$_.displayName="Link";var xie=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let h=HE(a,{relative:u.relative}),g=Uu(),v=F.useContext(U1),{navigator:C,basename:b}=F.useContext(ko),B=v!=null&&Rie(h)&&o===!0,S=C.encodeLocation?C.encodeLocation(h).pathname:h.pathname,I=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(I=I.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&b&&(T=mu(T,b)||T);const D=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let U=I===S||!i&&I.startsWith(S)&&I.charAt(D)==="/",R=T!=null&&(T===S||!i&&T.startsWith(S)&&T.charAt(S.length)==="/"),Q={isActive:U,isPending:R,isTransitioning:B},H=U?e:void 0,k;typeof r=="function"?k=r(Q):k=[r,U?"active":null,R?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(Q):s;return F.createElement($_,{...u,"aria-current":H,className:k,ref:d,style:G,to:a,viewTransition:o},typeof l=="function"?l(Q):l)});xie.displayName="NavLink";var _ie=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=Ox,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...g},v)=>{let{unstable_useTransitions:C}=F.useContext(ko),b=Uie(),B=Pie(o,{relative:u}),S=a.toLowerCase()==="get"?"get":"post",I=typeof o=="string"&&ej.test(o),T=D=>{if(l&&l(D),D.defaultPrevented)return;D.preventDefault();let U=D.nativeEvent.submitter,R=(U==null?void 0:U.getAttribute("formmethod"))||a,Q=()=>b(U||D.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h});C&&t!==!1?F.startTransition(()=>Q()):Q()};return F.createElement("form",{ref:v,method:S,action:B,onSubmit:r?l:T,...g,"data-discover":!I&&n==="render"?"true":void 0})});_ie.displayName="Form";function Tie(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tj(n){let e=F.useContext(py);return Hn(e,Tie(n)),e}function Iie(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_useTransitions:o}={}){let l=j$(),u=Uu(),d=HE(n,{relative:s});return F.useCallback(h=>{if(oie(h,e)){h.preventDefault();let g=t!==void 0?t:Ow(u)===Ow(d),v=()=>l(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:a});o?F.startTransition(()=>v()):v()}},[u,l,d,t,r,e,n,i,s,a,o])}var Fie=0,Mie=()=>`__${String(++Fie)}__`;function Uie(){let{router:n}=tj("useSubmit"),{basename:e}=F.useContext(ko),t=Xre(),r=n.fetch,i=n.navigate;return F.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=uie(s,e);if(a.navigate===!1){let g=a.fetcherKey||Mie();await r(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await i(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,e,t])}function Pie(n,{relative:e}={}){let{basename:t}=F.useContext(ko),r=F.useContext(Mu);Hn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...HE(n||".",{relative:e})},a=Uu();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:uu([t,s.pathname])),Ow(s)}function Rie(n,{relative:e}={}){let t=F.useContext(z$);Hn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tj("useViewTransitionState"),i=HE(n,{relative:e});if(!t.isTransitioning)return!1;let s=mu(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=mu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return q_(i.pathname,a)!=null||q_(i.pathname,s)!=null}var nj=Q$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Die,Nie;function Lie(){return{geminiUrl:Die,vertexUrl:Nie}}function Qie(n,e,t,r){var i,s;if(!(n!=null&&n.baseUrl)){const a=Lie();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:t:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pu{}function Fe(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[o])){const l=n[o];if(Array.isArray(t))for(let u=0;u<l.length;u++){const d=l[u];w(d,e.slice(s+1),t[u])}else for(const u of l)w(u,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in n||(n[o]=[{}]);const l=n[o];w(l[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const r=e[e.length-1],i=n[r];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[r]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return t;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in n){const a=n[s];return Array.isArray(a)?a.map(o=>y(o,e.slice(r+1),t)):t}else return t}else n=n[i]}return n}catch(r){if(r instanceof TypeError)return t;throw r}}function kie(n,e){for(const[t,r]of Object.entries(e)){const i=t.split("."),s=r.split("."),a=new Set;let o=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){o=l;break}if(o!==-1&&s.length>o)for(let l=o;l<s.length;l++){const u=s[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}_R(n,i,s,0,a)}}function _R(n,e,t,r,i){if(r>=e.length||typeof n!="object"||n===null)return;const s=e[r];if(s.endsWith("[]")){const a=s.slice(0,-2),o=n;if(a in o&&Array.isArray(o[a]))for(const l of o[a])_R(l,e,t,r+1,i)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,o=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of o)l[u]=a[u];for(const[u,d]of Object.entries(l)){const h=[];for(const g of t.slice(r))g==="*"?h.push(u):h.push(g);w(a,h,d)}for(const u of o)delete a[u]}}else{const a=n;s in a&&_R(a[s],e,t,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TQ(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oie(n){const e={},t=y(n,["operationName"]);t!=null&&w(e,["operationName"],t);const r=y(n,["resourceName"]);return r!=null&&w(e,["_url","resourceName"],r),e}function Hie(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],Kie(a)),e}function Vie(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Gie(a)),e}function Kie(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>zie(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function Gie(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>qie(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function zie(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],Jie(t)),e}function qie(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],Zie(t)),e}function $ie(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function jie(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function Wie(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Yie(a)),e}function Yie(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function rj(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Xie(a)),e}function Xie(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function Jie(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&w(e,["videoBytes"],TQ(r));const i=y(n,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function Zie(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],TQ(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var KV;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(KV||(KV={}));var GV;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(GV||(GV={}));var zV;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(zV||(zV={}));var Dd;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Dd||(Dd={}));var qV;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(qV||(qV={}));var $V;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})($V||($V={}));var jV;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(jV||(jV={}));var WV;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(WV||(WV={}));var YV;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(YV||(YV={}));var XV;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(XV||(XV={}));var JV;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(JV||(JV={}));var ZV;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(ZV||(ZV={}));var e3;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(e3||(e3={}));var t3;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(t3||(t3={}));var n3;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(n3||(n3={}));var r3;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(r3||(r3={}));var i3;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(i3||(i3={}));var s3;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(s3||(s3={}));var a3;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(a3||(a3={}));var j_;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(j_||(j_={}));var o3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(o3||(o3={}));var A3;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(A3||(A3={}));var l3;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(l3||(l3={}));var TR;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(TR||(TR={}));var u3;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(u3||(u3={}));var c3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(c3||(c3={}));var d3;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(d3||(d3={}));var f3;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(f3||(f3={}));var h3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(h3||(h3={}));var p3;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(p3||(p3={}));var g3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(g3||(g3={}));var m3;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(m3||(m3={}));var v3;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(v3||(v3={}));var y3;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(y3||(y3={}));var w3;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(w3||(w3={}));var b3;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(b3||(b3={}));var C3;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(C3||(C3={}));var E3;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(E3||(E3={}));var B3;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(B3||(B3={}));var S3;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(S3||(S3={}));var x3;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(x3||(x3={}));var _3;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(_3||(_3={}));var T3;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(T3||(T3={}));var I3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(I3||(I3={}));var F3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(F3||(F3={}));var M3;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(M3||(M3={}));var U3;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(U3||(U3={}));var P3;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(P3||(P3={}));var R3;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(R3||(R3={}));var D3;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(D3||(D3={}));var N3;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(N3||(N3={}));var L3;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(L3||(L3={}));var Q3;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Q3||(Q3={}));var k3;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(k3||(k3={}));var Ng;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ng||(Ng={}));class IR{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class S0{get text(){var e,t,r,i,s,a,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const g of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[v,C]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(C!==null||C!==void 0)&&h.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,t,r,i,s,a,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="inlineData"&&(v!==null||v!==void 0)&&d.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,r,i,s,a,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,t,r,i,s,a,o,l,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,r,i,s,a,o,l,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class O3{}class H3{}class ese{}class tse{}class nse{}class rse{}class V3{}class K3{}class G3{}class ise{}class W_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new W_;let i;const s=e;return t?i=Vie(s):i=Hie(s),Object.assign(r,i),r}}class z3{}class q3{}class $3{}class j3{}class sse{}class ase{}class ose{}class IQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new IQ,s=Wie(e);return Object.assign(r,s),r}}class Ase{}class lse{}class use{}class W3{}class cse{get text(){var e,t,r;let i="",s=!1;const a=[];for(const o of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(o))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,t,r;let i="";const s=[];for(const a of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class dse{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class FQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new FQ,s=rj(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ij(n,e){const t=Qt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function sj(n){return Array.isArray(n)?n.map(e=>Y_(e)):[Y_(n)]}function Y_(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function aj(n){const e=Y_(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function oj(n){const e=Y_(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Y3(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Aj(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Y3(e)):[Y3(n)]}function FR(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function X3(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function J3(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ki(n){if(n==null)throw new Error("ContentUnion is required");return FR(n)?n:{role:"user",parts:Aj(n)}}function MQ(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=ki(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=ki(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>ki(t)):[ki(e)]}function eo(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(X3(n)||J3(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ki(n)]}const e=[],t=[],r=FR(n[0]);for(const i of n){const s=FR(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(X3(i)||J3(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return r||e.push({role:"user",parts:Aj(t)}),e}function fse(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(Dd).includes(t[0].toUpperCase())?t[0].toUpperCase():Dd.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(Dd).includes(r.toUpperCase())?r.toUpperCase():Dd.TYPE_UNSPECIFIED})}}function qg(n){const e={},t=["items"],r=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&fse(n.type,e);for(const[a,o]of Object.entries(n))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Dd).includes(o.toUpperCase())?o.toUpperCase():Dd.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=qg(o);else if(r.includes(a)){const l=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}l.push(qg(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,d]of Object.entries(o))l[u]=qg(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function UQ(n){return qg(n)}function PQ(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function RQ(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function gy(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=qg(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=qg(e.response));return n}function my(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function hse(n,e,t,r=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Ru(n,e){if(typeof e!="string")throw new Error("name must be a string");return hse(n,e,"cachedContents")}function lj(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Wd(n){return TQ(n)}function pse(n){return n!=null&&typeof n=="object"&&"name"in n}function gse(n){return n!=null&&typeof n=="object"&&"video"in n}function mse(n){return n!=null&&typeof n=="object"&&"uri"in n}function uj(n){var e;let t;if(pse(n)&&(t=n.name),!(mse(n)&&(t=n.uri,t===void 0))&&!(gse(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function cj(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function dj(n){for(const e of["models","tunedModels","publisherModels"])if(vse(n,e))return n[e];return[]}function vse(n,e){return n!==null&&typeof n=="object"&&e in n}function yse(n,e={}){const t=n,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function wse(n,e={}){const t=[],r=new Set;for(const i of n){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=yse(i,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function fj(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function bse(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function hj(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function vy(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function pj(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cse(n){const e={},t=y(n,["responsesFile"]);t!=null&&w(e,["fileName"],t);const r=y(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>nae(a))),w(e,["inlinedResponses"],s)}const i=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["inlinedEmbedContentResponses"],s)}return e}function Ese(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&w(e,["format"],t);const r=y(n,["gcsDestination","outputUriPrefix"]);r!=null&&w(e,["gcsUri"],r);const i=y(n,["bigqueryDestination","outputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function Bse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["predictionsFormat"],t);const r=y(n,["gcsUri"]);r!=null&&w(e,["gcsDestination","outputUriPrefix"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&w(e,["bigqueryDestination","outputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Vx(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata","displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["metadata","state"]);i!=null&&w(e,["state"],pj(i));const s=y(n,["metadata","createTime"]);s!=null&&w(e,["createTime"],s);const a=y(n,["metadata","endTime"]);a!=null&&w(e,["endTime"],a);const o=y(n,["metadata","updateTime"]);o!=null&&w(e,["updateTime"],o);const l=y(n,["metadata","model"]);l!=null&&w(e,["model"],l);const u=y(n,["metadata","output"]);return u!=null&&w(e,["dest"],Cse(hj(u))),e}function MR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["state"]);i!=null&&w(e,["state"],pj(i));const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["createTime"]);a!=null&&w(e,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(e,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(e,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(e,["updateTime"],u);const d=y(n,["model"]);d!=null&&w(e,["model"],d);const h=y(n,["inputConfig"]);h!=null&&w(e,["src"],Sse(h));const g=y(n,["outputConfig"]);g!=null&&w(e,["dest"],Ese(hj(g)));const v=y(n,["completionStats"]);return v!=null&&w(e,["completionStats"],v),e}function Sse(n){const e={},t=y(n,["instancesFormat"]);t!=null&&w(e,["format"],t);const r=y(n,["gcsSource","uris"]);r!=null&&w(e,["gcsUri"],r);const i=y(n,["bigquerySource","inputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function xse(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&w(t,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>tae(n,a))),w(t,["requests","requests"],s)}return t}function _se(n){const e={},t=y(n,["format"]);t!=null&&w(e,["instancesFormat"],t);const r=y(n,["gcsUri"]);r!=null&&w(e,["gcsSource","uris"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&w(e,["bigquerySource","inputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Tse(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Ise(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],vy(n,r)),t}function Fse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],vy(n,r)),t}function Mse(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],Use(r));const i=y(n,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Use(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function gj(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>lae(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function Pse(n,e){const t={},r=y(n,["displayName"]);if(e!==void 0&&r!=null&&w(e,["batch","displayName"],r),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Rse(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["dest"]);return e!==void 0&&i!=null&&w(e,["outputConfig"],Bse(bse(i))),t}function Z3(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["src"]);i!=null&&w(t,["batch","inputConfig"],xse(n,fj(n,i)));const s=y(e,["config"]);return s!=null&&Pse(s,t),t}function Dse(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],Qt(n,r));const i=y(e,["src"]);i!=null&&w(t,["inputConfig"],_se(fj(n,i)));const s=y(e,["config"]);return s!=null&&Rse(s,t),t}function Nse(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&w(e,["batch","displayName"],r),t}function Lse(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["src"]);i!=null&&w(t,["batch","inputConfig"],Gse(n,i));const s=y(e,["config"]);return s!=null&&Nse(s,t),t}function Qse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],vy(n,r)),t}function kse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],vy(n,r)),t}function Ose(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Hse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Vse(n,e){const t={},r=y(e,["contents"]);if(r!=null){let s=MQ(n,r);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["requests[]","request","content"],s)}const i=y(e,["config"]);return i!=null&&(w(t,["_self"],Kse(i,t)),kie(t,{"requests[].*":"requests[].request.*"})),t}function Kse(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Gse(n,e){const t={},r=y(e,["fileName"]);r!=null&&w(t,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&w(t,["requests"],Vse(n,i)),t}function zse(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function qse(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $se(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jse(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],gj(ki(i)));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const o=y(e,["topK"]);o!=null&&w(r,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(r,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(r,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&w(r,["frequencyPenalty"],C);const b=y(e,["seed"]);b!=null&&w(r,["seed"],b);const B=y(e,["responseMimeType"]);B!=null&&w(r,["responseMimeType"],B);const S=y(e,["responseSchema"]);S!=null&&w(r,["responseSchema"],UQ(S));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(r,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let z=T;Array.isArray(z)&&(z=z.map(Z=>uae(Z))),w(t,["safetySettings"],z)}const D=y(e,["tools"]);if(t!==void 0&&D!=null){let z=my(D);Array.isArray(z)&&(z=z.map(Z=>dae(gy(Z)))),w(t,["tools"],z)}const U=y(e,["toolConfig"]);if(t!==void 0&&U!=null&&w(t,["toolConfig"],cae(U)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=y(e,["cachedContent"]);t!==void 0&&R!=null&&w(t,["cachedContent"],Ru(n,R));const Q=y(e,["responseModalities"]);Q!=null&&w(r,["responseModalities"],Q);const H=y(e,["mediaResolution"]);H!=null&&w(r,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(r,["speechConfig"],PQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=y(e,["thinkingConfig"]);G!=null&&w(r,["thinkingConfig"],G);const K=y(e,["imageConfig"]);return K!=null&&w(r,["imageConfig"],eae(K)),r}function Wse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Mse(u))),w(e,["candidates"],l)}const i=y(n,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function Yse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],vy(n,r)),t}function Xse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],vy(n,r)),t}function Jse(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Zse(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function eae(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function tae(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["request","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let o=eo(i);Array.isArray(o)&&(o=o.map(l=>gj(l))),w(t,["request","contents"],o)}const s=y(e,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(e,["config"]);return a!=null&&w(t,["request","generationConfig"],jse(n,a,y(t,["request"],{}))),t}function nae(n){const e={},t=y(n,["response"]);t!=null&&w(e,["response"],Wse(t));const r=y(n,["error"]);return r!=null&&w(e,["error"],r),e}function rae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);if(e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function iae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);e!==void 0&&i!=null&&w(e,["_query","pageToken"],i);const s=y(n,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),t}function sae(n){const e={},t=y(n,["config"]);return t!=null&&rae(t,e),e}function aae(n){const e={},t=y(n,["config"]);return t!=null&&iae(t,e),e}function oae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Vx(a))),w(e,["batchJobs"],s)}return e}function Aae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>MR(a))),w(e,["batchJobs"],s)}return e}function lae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],zse(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],qse(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Tse(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function uae(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function cae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],$se(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function dae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Jse(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Zse(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vu;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(vu||(vu={}));class xp{constructor(e,t,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,i)}init(e,t,r){var i,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fae extends Pu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new xp(vu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=Z3(this.apiClient,e),r=t._url,i=Fe("{model}:batchGenerateContent",r),o=t.batch.inputConfig.requests,l=o.requests,u=[];for(const d of l){const h=Object.assign({},d);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=g,h.request=v}u.push(h)}return o.requests=u,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const r=t?Object.assign({},t):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Dse(this.apiClient,e);return o=Fe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>MR(d))}else{const u=Z3(this.apiClient,e);return o=Fe("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Vx(d))}}async createEmbeddingsInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Lse(this.apiClient,e);return s=Fe("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Vx(l))}}async get(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Xse(this.apiClient,e);return o=Fe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>MR(d))}else{const u=Yse(this.apiClient,e);return o=Fe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Vx(d))}}async cancel(e){var t,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=Fse(this.apiClient,e);a=Fe("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Ise(this.apiClient,e);a=Fe("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=aae(e);return o=Fe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Aae(d),g=new W3;return Object.assign(g,h),g})}else{const u=sae(e);return o=Fe("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=oae(d),g=new W3;return Object.assign(g,h),g})}}async delete(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=kse(this.apiClient,e);return o=Fe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Hse(d))}else{const u=Qse(this.apiClient,e);return o=Fe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Ose(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hae(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function eK(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Lae(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function pae(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let d=eo(a);Array.isArray(d)&&(d=d.map(h=>eK(h))),w(e,["contents"],d)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],eK(ki(o)));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>kae(h))),w(e,["tools"],d)}const u=y(n,["toolConfig"]);if(e!==void 0&&u!=null&&w(e,["toolConfig"],Qae(u)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function gae(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let h=eo(a);Array.isArray(h)&&(h=h.map(g=>g)),w(e,["contents"],h)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],ki(o));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>Oae(g))),w(e,["tools"],h)}const u=y(n,["toolConfig"]);e!==void 0&&u!=null&&w(e,["toolConfig"],u);const d=y(n,["kmsKeyName"]);return e!==void 0&&d!=null&&w(e,["encryption_spec","kmsKeyName"],d),t}function mae(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],ij(n,r));const i=y(e,["config"]);return i!=null&&pae(i,t),t}function vae(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],ij(n,r));const i=y(e,["config"]);return i!=null&&gae(i,t),t}function yae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ru(n,r)),t}function wae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ru(n,r)),t}function bae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Cae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Eae(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Bae(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Sae(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xae(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function _ae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ru(n,r)),t}function Tae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ru(n,r)),t}function Iae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Fae(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Mae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Uae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Pae(n){const e={},t=y(n,["config"]);return t!=null&&Mae(t,e),e}function Rae(n){const e={},t=y(n,["config"]);return t!=null&&Uae(t,e),e}function Dae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Nae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Lae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Eae(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Bae(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],hae(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Qae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Sae(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function kae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Iae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Fae(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Oae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>xae(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Hae(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),t}function Vae(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),t}function Kae(n,e){const t={},r=y(e,["name"]);r!=null&&w(t,["_url","name"],Ru(n,r));const i=y(e,["config"]);return i!=null&&Hae(i,t),t}function Gae(n,e){const t={},r=y(e,["name"]);r!=null&&w(t,["_url","name"],Ru(n,r));const i=y(e,["config"]);return i!=null&&Vae(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zae extends Pu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new xp(vu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=vae(this.apiClient,e);return o=Fe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=mae(this.apiClient,e);return o=Fe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Tae(this.apiClient,e);return o=Fe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=_ae(this.apiClient,e);return o=Fe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=wae(this.apiClient,e);return o=Fe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Cae(d),g=new $3;return Object.assign(g,h),g})}else{const u=yae(this.apiClient,e);return o=Fe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=bae(d),g=new $3;return Object.assign(g,h),g})}}async update(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Gae(this.apiClient,e);return o=Fe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Kae(this.apiClient,e);return o=Fe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Rae(e);return o=Fe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Nae(d),g=new j3;return Object.assign(g,h),g})}else{const u=Pae(e);return o=Fe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Dae(d),g=new j3;return Object.assign(g,h),g})}}}function tK(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function In(n){return this instanceof In?(this.v=n,this):new In(n)}function $g(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(C){return Promise.resolve(C).then(v,h)}}function o(v,C){r[v]&&(i[v]=function(b){return new Promise(function(B,S){s.push([v,b,B,S])>1||l(v,b)})},C&&(i[v]=C(i[v])))}function l(v,C){try{u(r[v](C))}catch(b){g(s[0][3],b)}}function u(v){v.value instanceof In?Promise.resolve(v.value.v).then(d,h):g(s[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function g(v,C){v(C),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Iw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof tK=="function"?tK(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(o,l){a=n[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qae(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:mj(t)}function mj(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function $ae(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function nK(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const i=[];let s=!0;for(;r<t&&n[r].role==="model";)i.push(n[r]),s&&!mj(n[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class jae{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Wae(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Wae{constructor(e,t,r,i={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),$ae(s)}async sendMessage(e){var t;await this.sendPromise;const r=ki(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await i,u=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(h))!==null&&o!==void 0?o:[]);const v=u?[u]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const r=ki(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const t=e?nK(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var r,i;return $g(this,arguments,function*(){var a,o,l,u;const d=[];try{for(var h=!0,g=Iw(e),v;v=yield In(g.next()),a=v.done,!a;h=!0){u=v.value,h=!1;const C=u;if(qae(C)){const b=(i=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;b!==void 0&&d.push(b)}yield yield In(C)}}catch(C){o={error:C}}finally{try{!h&&!a&&(l=g.return)&&(yield In(l.call(g)))}finally{if(o)throw o.error}}this.recordHistory(t,d)})}recordHistory(e,t,r){let i=[];t.length>0&&t.every(s=>s.role!==void 0)?i=t:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...nK(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R1 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,R1.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yae(n){const e={},t=y(n,["file"]);return t!=null&&w(e,["file"],t),e}function Xae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Jae(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],uj(t)),e}function Zae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function eoe(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],uj(t)),e}function toe(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function noe(n){const e={},t=y(n,["config"]);return t!=null&&toe(t,e),e}function roe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ioe extends Pu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new xp(vu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=noe(e);return s=Fe("files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=roe(l),d=new Ase;return Object.assign(d,u),d})}}async createInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Yae(e);return s=Fe("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Xae(l),d=new lse;return Object.assign(d,u),d})}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=eoe(e);return s=Fe("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Jae(e);return s=Fe("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Zae(l),d=new use;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kx(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function soe(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>boe(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function aoe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function ooe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Aoe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function loe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const C=y(n,["responseModalities"]);C!=null&&w(e,["responseModalities"],C);const b=y(n,["responseSchema"]);b!=null&&w(e,["responseSchema"],b);const B=y(n,["routingConfig"]);B!=null&&w(e,["routingConfig"],B);const S=y(n,["seed"]);S!=null&&w(e,["seed"],S);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],vj(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const D=y(n,["temperature"]);D!=null&&w(e,["temperature"],D);const U=y(n,["thinkingConfig"]);U!=null&&w(e,["thinkingConfig"],U);const R=y(n,["topK"]);R!=null&&w(e,["topK"],R);const Q=y(n,["topP"]);if(Q!=null&&w(e,["topP"],Q),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function uoe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function coe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function doe(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],RQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&w(e,["setup","systemInstruction"],soe(ki(C)));const b=y(n,["tools"]);if(e!==void 0&&b!=null){let R=my(b);Array.isArray(R)&&(R=R.map(Q=>Eoe(gy(Q)))),w(e,["setup","tools"],R)}const B=y(n,["sessionResumption"]);e!==void 0&&B!=null&&w(e,["setup","sessionResumption"],Coe(B));const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const D=y(n,["contextWindowCompression"]);e!==void 0&&D!=null&&w(e,["setup","contextWindowCompression"],D);const U=y(n,["proactivity"]);return e!==void 0&&U!=null&&w(e,["setup","proactivity"],U),t}function foe(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],loe(r));const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],vj(RQ(h)));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&w(e,["setup","systemInstruction"],ki(C));const b=y(n,["tools"]);if(e!==void 0&&b!=null){let R=my(b);Array.isArray(R)&&(R=R.map(Q=>Boe(gy(Q)))),w(e,["setup","tools"],R)}const B=y(n,["sessionResumption"]);e!==void 0&&B!=null&&w(e,["setup","sessionResumption"],B);const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const D=y(n,["contextWindowCompression"]);e!==void 0&&D!=null&&w(e,["setup","contextWindowCompression"],D);const U=y(n,["proactivity"]);return e!==void 0&&U!=null&&w(e,["setup","proactivity"],U),t}function hoe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],Qt(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],doe(i,t)),t}function poe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],Qt(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],foe(i,t)),t}function goe(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&w(e,["musicGenerationConfig"],t),e}function moe(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["weightedPrompts"],r)}return e}function voe(n){const e={},t=y(n,["media"]);if(t!=null){let u=sj(t);Array.isArray(u)&&(u=u.map(d=>Kx(d))),w(e,["mediaChunks"],u)}const r=y(n,["audio"]);r!=null&&w(e,["audio"],Kx(oj(r)));const i=y(n,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&w(e,["video"],Kx(aj(s)));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function yoe(n){const e={},t=y(n,["media"]);if(t!=null){let u=sj(t);Array.isArray(u)&&(u=u.map(d=>d)),w(e,["mediaChunks"],u)}const r=y(n,["audio"]);r!=null&&w(e,["audio"],oj(r));const i=y(n,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&w(e,["video"],aj(s));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function woe(n){const e={},t=y(n,["setupComplete"]);t!=null&&w(e,["setupComplete"],t);const r=y(n,["serverContent"]);r!=null&&w(e,["serverContent"],r);const i=y(n,["toolCall"]);i!=null&&w(e,["toolCall"],i);const s=y(n,["toolCallCancellation"]);s!=null&&w(e,["toolCallCancellation"],s);const a=y(n,["usageMetadata"]);a!=null&&w(e,["usageMetadata"],Soe(a));const o=y(n,["goAway"]);o!=null&&w(e,["goAway"],o);const l=y(n,["sessionResumptionUpdate"]);return l!=null&&w(e,["sessionResumptionUpdate"],l),e}function boe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],aoe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],ooe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Kx(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Coe(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function vj(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const r=y(n,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Eoe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],uoe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],coe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Boe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>Aoe(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Soe(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&w(e,["promptTokenCount"],t);const r=y(n,["cachedContentTokenCount"]);r!=null&&w(e,["cachedContentTokenCount"],r);const i=y(n,["candidatesTokenCount"]);i!=null&&w(e,["responseTokenCount"],i);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&w(e,["toolUsePromptTokenCount"],s);const a=y(n,["thoughtsTokenCount"]);a!=null&&w(e,["thoughtsTokenCount"],a);const o=y(n,["totalTokenCount"]);o!=null&&w(e,["totalTokenCount"],o);const l=y(n,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["promptTokensDetails"],v)}const u=y(n,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["cacheTokensDetails"],v)}const d=y(n,["candidatesTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["responseTokensDetails"],v)}const h=y(n,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(C=>C)),w(e,["toolUsePromptTokensDetails"],v)}const g=y(n,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xoe(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function _oe(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],Toe(r));const i=y(n,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Toe(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function Ioe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let s=eo(i);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["contents"],s)}return t}function Foe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(e,["tokensInfo"],i)}return e}function Moe(n){const e={},t=y(n,["values"]);t!=null&&w(e,["values"],t);const r=y(n,["statistics"]);return r!=null&&w(e,["statistics"],Uoe(r)),e}function Uoe(n){const e={},t=y(n,["truncated"]);t!=null&&w(e,["truncated"],t);const r=y(n,["token_count"]);return r!=null&&w(e,["tokenCount"],r),e}function D1(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>HAe(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function Poe(n){const e={},t=y(n,["controlType"]);t!=null&&w(e,["controlType"],t);const r=y(n,["enableControlImageComputation"]);return r!=null&&w(e,["computeControl"],r),e}function Roe(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Doe(n,e){const t={},r=y(n,["systemInstruction"]);e!==void 0&&r!=null&&w(e,["systemInstruction"],ki(r));const i=y(n,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Ej(o))),w(e,["tools"],a)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&w(e,["generationConfig"],xAe(s)),t}function Noe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>D1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Roe(s),t}function Loe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Doe(s,t),t}function Qoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);r!=null&&w(e,["totalTokens"],r);const i=y(n,["cachedContentTokenCount"]);return i!=null&&w(e,["cachedContentTokenCount"],i),e}function koe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);return r!=null&&w(e,["totalTokens"],r),e}function Ooe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],Qt(n,r)),t}function Hoe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],Qt(n,r)),t}function Voe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Koe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Goe(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const C=y(n,["outputMimeType"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","mimeType"],C);const b=y(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","compressionQuality"],b);const B=y(n,["addWatermark"]);e!==void 0&&B!=null&&w(e,["parameters","addWatermark"],B);const S=y(n,["labels"]);e!==void 0&&S!=null&&w(e,["labels"],S);const I=y(n,["editMode"]);e!==void 0&&I!=null&&w(e,["parameters","editMode"],I);const T=y(n,["baseSteps"]);return e!==void 0&&T!=null&&w(e,["parameters","editConfig","baseSteps"],T),t}function zoe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>$Ae(l))),w(t,["instances[0]","referenceImages"],o)}const a=y(e,["config"]);return a!=null&&Goe(a,t),t}function qoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>N1(s))),w(e,["generatedImages"],i)}return e}function $oe(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function joe(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["instances[]","task_type"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["instances[]","title"],i);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&w(e,["parameters","outputDimensionality"],s);const a=y(n,["mimeType"]);e!==void 0&&a!=null&&w(e,["instances[]","mimeType"],a);const o=y(n,["autoTruncate"]);return e!==void 0&&o!=null&&w(e,["parameters","autoTruncate"],o),t}function Woe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let o=MQ(n,i);Array.isArray(o)&&(o=o.map(l=>l)),w(t,["requests[]","content"],o)}const s=y(e,["config"]);s!=null&&$oe(s,t);const a=y(e,["model"]);return a!==void 0&&w(t,["requests[]","model"],Qt(n,a)),t}function Yoe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let a=MQ(n,i);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&joe(s,t),t}function Xoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function Joe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Moe(a))),w(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function Zoe(n){const e={},t=y(n,["endpoint"]);t!=null&&w(e,["name"],t);const r=y(n,["deployedModelId"]);return r!=null&&w(e,["deployedModelId"],r),e}function eAe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function tAe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nAe(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function rAe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function iAe(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],D1(ki(i)));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const o=y(e,["topK"]);o!=null&&w(r,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(r,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(r,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&w(r,["frequencyPenalty"],C);const b=y(e,["seed"]);b!=null&&w(r,["seed"],b);const B=y(e,["responseMimeType"]);B!=null&&w(r,["responseMimeType"],B);const S=y(e,["responseSchema"]);S!=null&&w(r,["responseSchema"],UQ(S));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(r,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let z=T;Array.isArray(z)&&(z=z.map(Z=>jAe(Z))),w(t,["safetySettings"],z)}const D=y(e,["tools"]);if(t!==void 0&&D!=null){let z=my(D);Array.isArray(z)&&(z=z.map(Z=>tle(gy(Z)))),w(t,["tools"],z)}const U=y(e,["toolConfig"]);if(t!==void 0&&U!=null&&w(t,["toolConfig"],ele(U)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=y(e,["cachedContent"]);t!==void 0&&R!=null&&w(t,["cachedContent"],Ru(n,R));const Q=y(e,["responseModalities"]);Q!=null&&w(r,["responseModalities"],Q);const H=y(e,["mediaResolution"]);H!=null&&w(r,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(r,["speechConfig"],PQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=y(e,["thinkingConfig"]);G!=null&&w(r,["thinkingConfig"],G);const K=y(e,["imageConfig"]);return K!=null&&w(r,["imageConfig"],MAe(K)),r}function sAe(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],ki(i));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const o=y(e,["topK"]);o!=null&&w(r,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(r,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(r,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&w(r,["frequencyPenalty"],C);const b=y(e,["seed"]);b!=null&&w(r,["seed"],b);const B=y(e,["responseMimeType"]);B!=null&&w(r,["responseMimeType"],B);const S=y(e,["responseSchema"]);S!=null&&w(r,["responseSchema"],UQ(S));const I=y(e,["responseJsonSchema"]);I!=null&&w(r,["responseJsonSchema"],I);const T=y(e,["routingConfig"]);T!=null&&w(r,["routingConfig"],T);const D=y(e,["modelSelectionConfig"]);D!=null&&w(r,["modelConfig"],D);const U=y(e,["safetySettings"]);if(t!==void 0&&U!=null){let V=U;Array.isArray(V)&&(V=V.map(j=>j)),w(t,["safetySettings"],V)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let V=my(R);Array.isArray(V)&&(V=V.map(j=>Ej(gy(j)))),w(t,["tools"],V)}const Q=y(e,["toolConfig"]);t!==void 0&&Q!=null&&w(t,["toolConfig"],Q);const H=y(e,["labels"]);t!==void 0&&H!=null&&w(t,["labels"],H);const k=y(e,["cachedContent"]);t!==void 0&&k!=null&&w(t,["cachedContent"],Ru(n,k));const G=y(e,["responseModalities"]);G!=null&&w(r,["responseModalities"],G);const K=y(e,["mediaResolution"]);K!=null&&w(r,["mediaResolution"],K);const z=y(e,["speechConfig"]);z!=null&&w(r,["speechConfig"],Cj(PQ(z)));const Z=y(e,["audioTimestamp"]);Z!=null&&w(r,["audioTimestamp"],Z);const Y=y(e,["thinkingConfig"]);Y!=null&&w(r,["thinkingConfig"],Y);const ve=y(e,["imageConfig"]);return ve!=null&&w(r,["imageConfig"],UAe(ve)),r}function rK(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>D1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],iAe(n,s,t)),t}function iK(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["contents"]);if(i!=null){let a=eo(i);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],sAe(n,s,t)),t}function sK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>_oe(u))),w(e,["candidates"],l)}const i=y(n,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function aK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),w(e,["candidates"],u)}const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const s=y(n,["modelVersion"]);s!=null&&w(e,["modelVersion"],s);const a=y(n,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const o=y(n,["responseId"]);o!=null&&w(e,["responseId"],o);const l=y(n,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function aAe(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["aspectRatio"]);e!==void 0&&i!=null&&w(e,["parameters","aspectRatio"],i);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&w(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&w(e,["parameters","safetySetting"],a);const o=y(n,["personGeneration"]);e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o);const l=y(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&w(e,["parameters","includeSafetyAttributes"],l);const u=y(n,["includeRaiReason"]);e!==void 0&&u!=null&&w(e,["parameters","includeRaiReason"],u);const d=y(n,["language"]);e!==void 0&&d!=null&&w(e,["parameters","language"],d);const h=y(n,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const g=y(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(n,["imageSize"]);if(e!==void 0&&v!=null&&w(e,["parameters","sampleImageSize"],v),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function oAe(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const C=y(n,["outputMimeType"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","mimeType"],C);const b=y(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","compressionQuality"],b);const B=y(n,["addWatermark"]);e!==void 0&&B!=null&&w(e,["parameters","addWatermark"],B);const S=y(n,["labels"]);e!==void 0&&S!=null&&w(e,["labels"],S);const I=y(n,["imageSize"]);e!==void 0&&I!=null&&w(e,["parameters","sampleImageSize"],I);const T=y(n,["enhancePrompt"]);return e!==void 0&&T!=null&&w(e,["parameters","enhancePrompt"],T),t}function AAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&aAe(s,t),t}function lAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&oAe(s,t),t}function uAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>CAe(a))),w(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],wj(i)),e}function cAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>N1(a))),w(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],bj(i)),e}function dAe(n,e){const t={},r=y(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(n,["durationSeconds"]);if(e!==void 0&&i!=null&&w(e,["parameters","durationSeconds"],i),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const a=y(n,["resolution"]);e!==void 0&&a!=null&&w(e,["parameters","resolution"],a);const o=y(n,["personGeneration"]);if(e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=y(n,["negativePrompt"]);e!==void 0&&l!=null&&w(e,["parameters","negativePrompt"],l);const u=y(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&w(e,["parameters","enhancePrompt"],u),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=y(n,["lastFrame"]);e!==void 0&&d!=null&&w(e,["instances[0]","lastFrame"],L1(d));const h=y(n,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>hle(v))),w(e,["instances[0]","referenceImages"],g)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function fAe(n,e){const t={},r=y(n,["numberOfVideos"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const s=y(n,["fps"]);e!==void 0&&s!=null&&w(e,["parameters","fps"],s);const a=y(n,["durationSeconds"]);e!==void 0&&a!=null&&w(e,["parameters","durationSeconds"],a);const o=y(n,["seed"]);e!==void 0&&o!=null&&w(e,["parameters","seed"],o);const l=y(n,["aspectRatio"]);e!==void 0&&l!=null&&w(e,["parameters","aspectRatio"],l);const u=y(n,["resolution"]);e!==void 0&&u!=null&&w(e,["parameters","resolution"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["pubsubTopic"]);e!==void 0&&h!=null&&w(e,["parameters","pubsubTopic"],h);const g=y(n,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const v=y(n,["enhancePrompt"]);e!==void 0&&v!=null&&w(e,["parameters","enhancePrompt"],v);const C=y(n,["generateAudio"]);e!==void 0&&C!=null&&w(e,["parameters","generateAudio"],C);const b=y(n,["lastFrame"]);e!==void 0&&b!=null&&w(e,["instances[0]","lastFrame"],Oo(b));const B=y(n,["referenceImages"]);if(e!==void 0&&B!=null){let T=B;Array.isArray(T)&&(T=T.map(D=>ple(D))),w(e,["instances[0]","referenceImages"],T)}const S=y(n,["mask"]);e!==void 0&&S!=null&&w(e,["instances[0]","mask"],fle(S));const I=y(n,["compressionQuality"]);return e!==void 0&&I!=null&&w(e,["parameters","compressionQuality"],I),t}function hAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],vAe(a)),e}function pAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],yAe(a)),e}function gAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],L1(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],Bj(a));const o=y(e,["source"]);o!=null&&wAe(o,t);const l=y(e,["config"]);return l!=null&&dAe(l,t),t}function mAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],Oo(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],Sj(a));const o=y(e,["source"]);o!=null&&bAe(o,t);const l=y(e,["config"]);return l!=null&&fAe(l,t),t}function vAe(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>BAe(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function yAe(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>SAe(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function wAe(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],L1(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],Bj(s)),t}function bAe(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Oo(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],Sj(s)),t}function CAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],PAe(t));const r=y(n,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=y(n,["_self"]);return i!=null&&w(e,["safetyAttributes"],wj(i)),e}function N1(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],yj(t));const r=y(n,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=y(n,["_self"]);i!=null&&w(e,["safetyAttributes"],bj(i));const s=y(n,["prompt"]);return s!=null&&w(e,["enhancedPrompt"],s),e}function EAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["mask"],yj(t));const r=y(n,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(e,["labels"],i)}return e}function BAe(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],cle(t)),e}function SAe(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],dle(t)),e}function xAe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const C=y(n,["responseModalities"]);C!=null&&w(e,["responseModalities"],C);const b=y(n,["responseSchema"]);b!=null&&w(e,["responseSchema"],b);const B=y(n,["routingConfig"]);B!=null&&w(e,["routingConfig"],B);const S=y(n,["seed"]);S!=null&&w(e,["seed"],S);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],Cj(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const D=y(n,["temperature"]);D!=null&&w(e,["temperature"],D);const U=y(n,["thinkingConfig"]);U!=null&&w(e,["thinkingConfig"],U);const R=y(n,["topK"]);R!=null&&w(e,["topK"],R);const Q=y(n,["topP"]);if(Q!=null&&w(e,["topP"],Q),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _Ae(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],Qt(n,r)),t}function TAe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],Qt(n,r)),t}function IAe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function FAe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function MAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function UAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);r!=null&&w(e,["imageSize"],r);const i=y(n,["outputMimeType"]);i!=null&&w(e,["imageOutputOptions","mimeType"],i);const s=y(n,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function PAe(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&w(e,["imageBytes"],Wd(t));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function yj(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["imageBytes"],Wd(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function L1(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&w(e,["bytesBase64Encoded"],Wd(t));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Oo(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["imageBytes"]);r!=null&&w(e,["bytesBase64Encoded"],Wd(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function RAe(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],cj(n,o)),r}function DAe(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],cj(n,o)),r}function NAe(n,e){const t={},r=y(e,["config"]);return r!=null&&RAe(n,r,t),t}function LAe(n,e){const t={},r=y(e,["config"]);return r!=null&&DAe(n,r,t),t}function QAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=dj(i);Array.isArray(s)&&(s=s.map(a=>UR(a))),w(e,["models"],s)}return e}function kAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=dj(i);Array.isArray(s)&&(s=s.map(a=>PR(a))),w(e,["models"],s)}return e}function OAe(n){const e={},t=y(n,["maskMode"]);t!=null&&w(e,["maskMode"],t);const r=y(n,["segmentationClasses"]);r!=null&&w(e,["maskClasses"],r);const i=y(n,["maskDilation"]);return i!=null&&w(e,["dilation"],i),e}function UR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);i!=null&&w(e,["description"],i);const s=y(n,["version"]);s!=null&&w(e,["version"],s);const a=y(n,["_self"]);a!=null&&w(e,["tunedModelInfo"],nle(a));const o=y(n,["inputTokenLimit"]);o!=null&&w(e,["inputTokenLimit"],o);const l=y(n,["outputTokenLimit"]);l!=null&&w(e,["outputTokenLimit"],l);const u=y(n,["supportedGenerationMethods"]);u!=null&&w(e,["supportedActions"],u);const d=y(n,["temperature"]);d!=null&&w(e,["temperature"],d);const h=y(n,["maxTemperature"]);h!=null&&w(e,["maxTemperature"],h);const g=y(n,["topP"]);g!=null&&w(e,["topP"],g);const v=y(n,["topK"]);v!=null&&w(e,["topK"],v);const C=y(n,["thinking"]);return C!=null&&w(e,["thinking"],C),e}function PR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);i!=null&&w(e,["description"],i);const s=y(n,["versionId"]);s!=null&&w(e,["version"],s);const a=y(n,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>Zoe(g))),w(e,["endpoints"],h)}const o=y(n,["labels"]);o!=null&&w(e,["labels"],o);const l=y(n,["_self"]);l!=null&&w(e,["tunedModelInfo"],rle(l));const u=y(n,["defaultCheckpointId"]);u!=null&&w(e,["defaultCheckpointId"],u);const d=y(n,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),w(e,["checkpoints"],h)}return e}function HAe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],eAe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],tAe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],xoe(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function VAe(n){const e={},t=y(n,["productImage"]);return t!=null&&w(e,["image"],Oo(t)),e}function KAe(n,e){const t={},r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["baseSteps"]);e!==void 0&&i!=null&&w(e,["parameters","baseSteps"],i);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&w(e,["parameters","storageUri"],s);const a=y(n,["seed"]);e!==void 0&&a!=null&&w(e,["parameters","seed"],a);const o=y(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&w(e,["parameters","safetySetting"],o);const l=y(n,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const u=y(n,["addWatermark"]);e!==void 0&&u!=null&&w(e,["parameters","addWatermark"],u);const d=y(n,["outputMimeType"]);e!==void 0&&d!=null&&w(e,["parameters","outputOptions","mimeType"],d);const h=y(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","compressionQuality"],h);const g=y(n,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const v=y(n,["labels"]);return e!==void 0&&v!=null&&w(e,["labels"],v),t}function GAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["source"]);i!=null&&qAe(i,t);const s=y(e,["config"]);return s!=null&&KAe(s,t),t}function zAe(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>N1(i))),w(e,["generatedImages"],r)}return e}function qAe(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["personImage"]);e!==void 0&&i!=null&&w(e,["instances[0]","personImage","image"],Oo(i));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>VAe(o))),w(e,["instances[0]","productImages"],a)}return t}function $Ae(n){const e={},t=y(n,["referenceImage"]);t!=null&&w(e,["referenceImage"],Oo(t));const r=y(n,["referenceId"]);r!=null&&w(e,["referenceId"],r);const i=y(n,["referenceType"]);i!=null&&w(e,["referenceType"],i);const s=y(n,["maskImageConfig"]);s!=null&&w(e,["maskImageConfig"],OAe(s));const a=y(n,["controlImageConfig"]);a!=null&&w(e,["controlImageConfig"],Poe(a));const o=y(n,["styleImageConfig"]);o!=null&&w(e,["styleImageConfig"],o);const l=y(n,["subjectImageConfig"]);return l!=null&&w(e,["subjectImageConfig"],l),e}function wj(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function bj(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function jAe(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function WAe(n){const e={},t=y(n,["image"]);return t!=null&&w(e,["image"],Oo(t)),e}function YAe(n,e){const t={},r=y(n,["mode"]);e!==void 0&&r!=null&&w(e,["parameters","mode"],r);const i=y(n,["maxPredictions"]);e!==void 0&&i!=null&&w(e,["parameters","maxPredictions"],i);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&w(e,["parameters","confidenceThreshold"],s);const a=y(n,["maskDilation"]);e!==void 0&&a!=null&&w(e,["parameters","maskDilation"],a);const o=y(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&w(e,["parameters","binaryColorThreshold"],o);const l=y(n,["labels"]);return e!==void 0&&l!=null&&w(e,["labels"],l),t}function XAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["source"]);i!=null&&ZAe(i,t);const s=y(e,["config"]);return s!=null&&YAe(s,t),t}function JAe(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>EAe(i))),w(e,["generatedMasks"],r)}return e}function ZAe(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Oo(i));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&w(e,["instances[0]","scribble"],WAe(s)),t}function Cj(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const r=y(n,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function ele(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],nAe(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function tle(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],IAe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],FAe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Ej(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>rAe(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function nle(n){const e={},t=y(n,["baseModel"]);t!=null&&w(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function rle(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&w(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function ile(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function sle(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function ale(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","name"],Qt(n,r));const i=y(e,["config"]);return i!=null&&ile(i,t),t}function ole(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["config"]);return i!=null&&sle(i,t),t}function Ale(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&w(e,["parameters","safetySetting"],i);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&w(e,["parameters","personGeneration"],s);const a=y(n,["includeRaiReason"]);e!==void 0&&a!=null&&w(e,["parameters","includeRaiReason"],a);const o=y(n,["outputMimeType"]);e!==void 0&&o!=null&&w(e,["parameters","outputOptions","mimeType"],o);const l=y(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","compressionQuality"],l);const u=y(n,["enhanceInputImage"]);e!==void 0&&u!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=y(n,["imagePreservationFactor"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const v=y(n,["mode"]);return e!==void 0&&v!=null&&w(e,["parameters","mode"],v),t}function lle(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],Qt(n,r));const i=y(e,["image"]);i!=null&&w(t,["instances[0]","image"],Oo(i));const s=y(e,["upscaleFactor"]);s!=null&&w(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&Ale(a,t),t}function ule(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>N1(s))),w(e,["generatedImages"],i)}return e}function cle(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&w(e,["videoBytes"],Wd(r));const i=y(n,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function dle(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],Wd(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function fle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["_self"],Oo(t));const r=y(n,["maskMode"]);return r!=null&&w(e,["maskMode"],r),e}function hle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],L1(t));const r=y(n,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function ple(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],Oo(t));const r=y(n,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function Bj(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["videoBytes"]);r!=null&&w(e,["encodedVideo"],Wd(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["encoding"],i),e}function Sj(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["videoBytes"]);r!=null&&w(e,["bytesBase64Encoded"],Wd(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gle(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&w(e,["displayName"],r),t}function mle(n){const e={},t=y(n,["config"]);return t!=null&&gle(t,e),e}function vle(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),t}function yle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&vle(r,e),e}function wle(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function ble(n,e){const t={},r=y(n,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["customMetadata"],s)}const i=y(n,["chunkingConfig"]);return e!==void 0&&i!=null&&w(e,["chunkingConfig"],i),t}function Cle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Ble(a)),e}function Ele(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const r=y(n,["fileName"]);r!=null&&w(e,["fileName"],r);const i=y(n,["config"]);return i!=null&&ble(i,e),e}function Ble(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function Sle(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function xle(n){const e={},t=y(n,["config"]);return t!=null&&Sle(t,e),e}function _le(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["fileSearchStores"],s)}return e}function xj(n,e){const t={},r=y(n,["mimeType"]);e!==void 0&&r!=null&&w(e,["mimeType"],r);const i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["customMetadata"],o)}const a=y(n,["chunkingConfig"]);return e!==void 0&&a!=null&&w(e,["chunkingConfig"],a),t}function Tle(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const r=y(n,["config"]);return r!=null&&xj(r,e),e}function Ile(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fle="Content-Type",Mle="X-Server-Timeout",Ule="User-Agent",RR="x-goog-api-client",Ple="1.31.0",Rle=`google-genai-sdk/${Ple}`,Dle="v1beta1",Nle="v1beta",oK=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Lle{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Dle,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Nle,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const i=[this.getRequestUrlInternal(t)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,i){if(t&&t.timeout||i){const s=new AbortController,a=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>s.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=a}return t&&t.extraBody!==null&&Qle(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await AK(i),new IR(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await AK(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return $g(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield In(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(l,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),v=g.status,C=g.code,b=`got status: ${v}. ${JSON.stringify(h)}`;if(C>=400&&C<600)throw new R1({message:b,status:C})}}catch(h){if(h.name==="ApiError")throw h}a+=u;let d=a.match(oK);for(;d;){const h=d[1];try{const g=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield In(new IR(g)),a=a.slice(d[0].length),d=a.match(oK)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=Rle+" "+this.clientOptions.userAgentExtra;return e[Ule]=t,e[RR]=t,e[Fle]="application/json",e}async getHeadersInternal(e,t){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(Mle,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(t=r.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),r}async uploadFile(e,t){var r;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l={file:i},u=this.getFileName(e),d=Fe("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,l,t==null?void 0:t.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,r){var i;const s=this.clientOptions.uploader,a=await s.stat(t),o=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(t),h={};r!=null&&xj(r,h);const g=await this.fetchUploadUrl(u,o,l,d,h,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,r,i,s,a){var o;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function AK(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(r);throw t>=400&&t<600?new R1({message:i,status:t}):new Error(i)}}function Qle(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=o[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[l]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[l]=u)}return o}const i=r(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kle="mcp_used/unknown";let Ole=!1;function _j(n){for(const e of n)if(Hle(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Ole}function Tj(n){var e;const t=(e=n[RR])!==null&&e!==void 0?e:"";n[RR]=(t+` ${kle}`).trimStart()}function Hle(n){return n!==null&&typeof n=="object"&&n instanceof DQ}function Vle(n,e=100){return $g(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield In(n.listTools({cursor:r}));for(const a of s.tools)yield yield In(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class DQ{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new DQ(e,t)}async initialize(){var e,t,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const d of this.mcpClients)try{for(var o=!0,l=(t=void 0,Iw(Vle(d))),u;u=await l.next(),e=u.done,!e;o=!0){i=u.value,o=!1;const h=i;a.push(h);const g=h.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=d}}catch(h){t={error:h}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),wse(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);t.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Kle(n,e,t){const r=new dse;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(r,i),e(r)}class Gle{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=$le(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(T=>{u=T}),h=e.callbacks,g=function(){u({})},v=this.apiClient,C={onopen:g,onmessage:T=>{Kle(v,h.onmessage,T)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(T){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(T){}},b=this.webSocketFactory.create(l,qle(a),C);b.connect(),await d;const I={setup:{model:Qt(this.apiClient,e.model)}};return b.send(JSON.stringify(I)),new zle(b,this.apiClient)}}class zle{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=moe(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=goe(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Ng.PLAY)}pause(){this.sendPlaybackControl(Ng.PAUSE)}stop(){this.sendPlaybackControl(Ng.STOP)}resetContext(){this.sendPlaybackControl(Ng.RESET_CONTEXT)}close(){this.conn.close()}}function qle(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function $le(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jle="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Wle(n,e,t){const r=new cse;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const s=JSON.parse(i);if(n.isVertexAI()){const a=woe(s);Object.assign(r,a)}else Object.assign(r,s);e(r)}class Yle{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new Gle(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&_j(e.config.tools)&&Tj(h);const g=eue(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const k=this.apiClient.getApiKey();let G="BidiGenerateContent",K="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),G="BidiGenerateContentConstrained",K="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${G}?${K}=${k}`}let v=()=>{};const C=new Promise(k=>{v=k}),b=e.callbacks,B=function(){var k;(k=b==null?void 0:b.onopen)===null||k===void 0||k.call(b),v({})},S=this.apiClient,I={onopen:B,onmessage:k=>{Wle(S,b.onmessage,k)},onerror:(t=b==null?void 0:b.onerror)!==null&&t!==void 0?t:function(k){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(k){}},T=this.webSocketFactory.create(d,Zle(g),I);T.connect(),await C;let D=Qt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const k=this.apiClient.getProject(),G=this.apiClient.getLocation();D=`projects/${k}/locations/${G}/`+D}let U={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[j_.AUDIO]}:e.config.responseModalities=[j_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],Q=[];for(const k of R)if(this.isCallableTool(k)){const G=k;Q.push(await G.tool())}else Q.push(k);Q.length>0&&(e.config.tools=Q);const H={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=poe(this.apiClient,H):U=hoe(this.apiClient,H),delete U.config,T.send(JSON.stringify(U)),new Jle(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Xle={turnComplete:!0};class Jle{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=eo(t.turns),e.isVertexAI()||(r=r.map(i=>D1(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(jle)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Xle),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:yoe(e)}:t={realtimeInput:voe(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Zle(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function eue(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lK=10;function uK(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(jg(a)){i=!0;break}if(!i)return!0;const s=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function jg(n){return"callTool"in n&&typeof n.callTool=="function"}function tue(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>jg(i)))!==null&&r!==void 0?r:!1}function cK(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,i)=>{if(jg(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(i)}),t}function dK(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nue extends Pu{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var r,i,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!tue(t)||uK(t.config))return await this.generateContentInternal(l);const u=cK(t);if(u.length>0){const b=u.map(B=>`tools[${B}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,h;const g=eo(l.contents),v=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:lK;let C=0;for(;C<v&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,B=[];for(const S of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(jg(S)){const T=await S.callTool(d.functionCalls);B.push(...T)}C++,h={role:"user",parts:B},l.contents=eo(l.contents),l.contents.push(b),l.contents.push(h),dK(l.config)&&(g.push(b),g.push(h))}return dK(l.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async t=>{var r,i,s,a,o;if(this.maybeMoveToResponseJsonSchem(t),uK(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const l=cK(t);if(l.length>0){const h=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(i=(r=t==null?void 0:t.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(o=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async t=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new xp(vu.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var r,i,s,a,o,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=t.video)===null||r===void 0)&&r.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(s=t.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,r,i;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>jg(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&_j(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),Tj(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var t,r,i;const s=new Map;for(const a of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(jg(a)){const o=a,l=await o.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,o)}}return s}async processAfcStream(e){var t,r,i;const s=(i=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:lK;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(u,d,h){var g,v;return $g(this,arguments,function*(){for(var C,b,B,S;o<s;){a&&(o++,a=!1);const U=yield In(u.processParamsMaybeAddMcpUsage(h)),R=yield In(u.generateContentStreamInternal(U)),Q=[],H=[];try{for(var I=!0,T=(b=void 0,Iw(R)),D;D=yield In(T.next()),C=D.done,!C;I=!0){S=D.value,I=!1;const k=S;if(yield yield In(k),k.candidates&&(!((g=k.candidates[0])===null||g===void 0)&&g.content)){H.push(k.candidates[0].content);for(const G of(v=k.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(o<s&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(G.functionCall.name)){const K=yield In(d.get(G.functionCall.name).callTool([G.functionCall]));Q.push(...K)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch(k){b={error:k}}finally{try{!I&&!C&&(B=T.return)&&(yield In(B.call(T)))}finally{if(b)throw b.error}}if(Q.length>0){a=!0;const k=new S0;k.candidates=[{content:{role:"user",parts:Q}}],yield yield In(k);const G=[];G.push(...H),G.push({role:"user",parts:Q});const K=eo(h.contents).concat(G);h.contents=K}else break}})})(this,l,e)}async generateContentInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=iK(this.apiClient,e);return o=Fe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=aK(d),g=new S0;return Object.assign(g,h),g})}else{const u=rK(this.apiClient,e);return o=Fe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=sK(d),g=new S0;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=iK(this.apiClient,e);return o=Fe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(h){return $g(this,arguments,function*(){var g,v,C,b;try{for(var B=!0,S=Iw(h),I;I=yield In(S.next()),g=I.done,!g;B=!0){b=I.value,B=!1;const T=b,D=aK(yield In(T.json()));D.sdkHttpResponse={headers:T.headers};const U=new S0;Object.assign(U,D),yield yield In(U)}}catch(T){v={error:T}}finally{try{!B&&!g&&(C=S.return)&&(yield In(C.call(S)))}finally{if(v)throw v.error}}})})}else{const u=rK(this.apiClient,e);return o=Fe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(h){return $g(this,arguments,function*(){var g,v,C,b;try{for(var B=!0,S=Iw(h),I;I=yield In(S.next()),g=I.done,!g;B=!0){b=I.value,B=!1;const T=b,D=sK(yield In(T.json()));D.sdkHttpResponse={headers:T.headers};const U=new S0;Object.assign(U,D),yield yield In(U)}}catch(T){v={error:T}}finally{try{!B&&!g&&(C=S.return)&&(yield In(C.call(S)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Yoe(this.apiClient,e);return o=Fe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Joe(d),g=new O3;return Object.assign(g,h),g})}else{const u=Woe(this.apiClient,e);return o=Fe("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Xoe(d),g=new O3;return Object.assign(g,h),g})}}async generateImagesInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=lAe(this.apiClient,e);return o=Fe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=cAe(d),g=new H3;return Object.assign(g,h),g})}else{const u=AAe(this.apiClient,e);return o=Fe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=uAe(d),g=new H3;return Object.assign(g,h),g})}}async editImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=zoe(this.apiClient,e);return s=Fe("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=qoe(l),d=new ese;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=lle(this.apiClient,e);return s=Fe("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=ule(l),d=new tse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=GAe(this.apiClient,e);return s=Fe("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=zAe(l),d=new nse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=XAe(this.apiClient,e);return s=Fe("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=JAe(l),d=new rse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=TAe(this.apiClient,e);return o=Fe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>PR(d))}else{const u=_Ae(this.apiClient,e);return o=Fe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>UR(d))}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=LAe(this.apiClient,e);return o=Fe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=kAe(d),g=new V3;return Object.assign(g,h),g})}else{const u=NAe(this.apiClient,e);return o=Fe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=QAe(d),g=new V3;return Object.assign(g,h),g})}}async update(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=ole(this.apiClient,e);return o=Fe("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>PR(d))}else{const u=ale(this.apiClient,e);return o=Fe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>UR(d))}}async delete(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Hoe(this.apiClient,e);return o=Fe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Koe(d),g=new K3;return Object.assign(g,h),g})}else{const u=Ooe(this.apiClient,e);return o=Fe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Voe(d),g=new K3;return Object.assign(g,h),g})}}async countTokens(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Loe(this.apiClient,e);return o=Fe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=koe(d),g=new G3;return Object.assign(g,h),g})}else{const u=Noe(this.apiClient,e);return o=Fe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Qoe(d),g=new G3;return Object.assign(g,h),g})}}async computeTokens(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Ioe(this.apiClient,e);return s=Fe("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Foe(l),d=new ise;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=mAe(this.apiClient,e);return o=Fe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const h=pAe(d),g=new W_;return Object.assign(g,h),g})}else{const u=gAe(this.apiClient,e);return o=Fe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const h=hAe(d),g=new W_;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rue extends Pu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=jie(e);return o=Fe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const u=$ie(e);return o=Fe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Oie(e);return s=Fe("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iue(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function sue(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>hue(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function aue(n,e,t){const r={},i=y(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&w(t,["newSessionExpireTime"],s);const a=y(e,["uses"]);t!==void 0&&a!=null&&w(t,["uses"],a);const o=y(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&w(t,["bidiGenerateContentSetup"],fue(n,o));const l=y(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&w(t,["fieldMask"],l),r}function oue(n,e){const t={},r=y(e,["config"]);return r!=null&&w(t,["config"],aue(n,r,t)),t}function Aue(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function lue(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uue(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function cue(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function due(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],RQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&w(e,["setup","systemInstruction"],sue(ki(C)));const b=y(n,["tools"]);if(e!==void 0&&b!=null){let R=my(b);Array.isArray(R)&&(R=R.map(Q=>gue(gy(Q)))),w(e,["setup","tools"],R)}const B=y(n,["sessionResumption"]);e!==void 0&&B!=null&&w(e,["setup","sessionResumption"],pue(B));const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const D=y(n,["contextWindowCompression"]);e!==void 0&&D!=null&&w(e,["setup","contextWindowCompression"],D);const U=y(n,["proactivity"]);return e!==void 0&&U!=null&&w(e,["setup","proactivity"],U),t}function fue(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],Qt(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],due(i,t)),t}function hue(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Aue(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],lue(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],iue(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function pue(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gue(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],uue(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],cue(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mue(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${t}.${s}`);e.push(...i)}else e.push(t)}return e.join(",")}function vue(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const s=mue(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class yue extends Pu{constructor(e){super(),this.apiClient=e}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=oue(this.apiClient,e);s=Fe("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=vue(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wue(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),t}function bue(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&wue(r,e),e}function Cue(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function Eue(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Bue(n){const e={},t=y(n,["parent"]);t!=null&&w(e,["_url","parent"],t);const r=y(n,["config"]);return r!=null&&Eue(r,e),e}function Sue(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xue extends Pu{constructor(e){super(),this.apiClient=e,this.list=async t=>new xp(vu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:t.parent,config:r.config}),await this.listInternal(t),t)}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Cue(e);return s=Fe("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=bue(e);i=Fe("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Bue(e);return s=Fe("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Sue(l),d=new sse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _ue extends Pu{constructor(e,t=new xue(e)){super(),this.apiClient=e,this.documents=t,this.list=async(r={})=>new xp(vu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=mle(e);return s=Fe("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=wle(e);return s=Fe("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=yle(e);i=Fe("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=xle(e);return s=Fe("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=_le(l),d=new ase;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Tle(e);return s=Fe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Ile(l),d=new ose;return Object.assign(d,u),d})}}async importFile(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ele(e);return s=Fe("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Cle(l),d=new IQ;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Iue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Fue(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function Mue(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function Uue(n,e,t){const r={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&w(e,["displayName"],i),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&w(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(n,["learningRateMultiplier"]);if(a!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=y(n,["batchSize"]);e!==void 0&&o!=null&&w(e,["tuningTask","hyperparameters","batchSize"],o);const l=y(n,["learningRate"]);if(e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","learningRate"],l),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Pue(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec"],fK(v))}else if(i==="PREFERENCE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec"],fK(v))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&w(e,["tunedModelDisplayName"],s);const a=y(n,["description"]);e!==void 0&&a!=null&&w(e,["description"],a);let o=y(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(o==="PREFERENCE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=y(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let u=y(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let d=y(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function Rue(n,e){const t={},r=y(n,["baseModel"]);r!=null&&w(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&w(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&zue(s);const a=y(n,["config"]);return a!=null&&Uue(a,t),t}function Due(n,e){const t={},r=y(n,["baseModel"]);r!=null&&w(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&w(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&que(s,t,e);const a=y(n,["config"]);return a!=null&&Pue(a,t,e),t}function Nue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Lue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Que(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),r}function kue(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),r}function Oue(n,e){const t={},r=y(n,["config"]);return r!=null&&Que(r,t),t}function Hue(n,e){const t={},r=y(n,["config"]);return r!=null&&kue(r,t),t}function Vue(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&w(t,["nextPageToken"],i);const s=y(n,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>Ij(o))),w(t,["tuningJobs"],a)}return t}function Kue(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&w(t,["nextPageToken"],i);const s=y(n,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>DR(o))),w(t,["tuningJobs"],a)}return t}function Gue(n,e){const t={},r=y(n,["name"]);r!=null&&w(t,["model"],r);const i=y(n,["name"]);return i!=null&&w(t,["endpoint"],i),t}function zue(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(n,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(t,["examples","examples"],i)}return t}function que(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Ij(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["state"]);s!=null&&w(t,["state"],lj(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["tuningTask","startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["tuningTask","completeTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["description"]);d!=null&&w(t,["description"],d);const h=y(n,["baseModel"]);h!=null&&w(t,["baseModel"],h);const g=y(n,["_self"]);return g!=null&&w(t,["tunedModel"],Gue(g)),t}function DR(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["state"]);s!=null&&w(t,["state"],lj(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["error"]);d!=null&&w(t,["error"],d);const h=y(n,["description"]);h!=null&&w(t,["description"],h);const g=y(n,["baseModel"]);g!=null&&w(t,["baseModel"],g);const v=y(n,["tunedModel"]);v!=null&&w(t,["tunedModel"],v);const C=y(n,["preTunedModel"]);C!=null&&w(t,["preTunedModel"],C);const b=y(n,["supervisedTuningSpec"]);b!=null&&w(t,["supervisedTuningSpec"],b);const B=y(n,["preferenceOptimizationSpec"]);B!=null&&w(t,["preferenceOptimizationSpec"],B);const S=y(n,["tuningDataStats"]);S!=null&&w(t,["tuningDataStats"],S);const I=y(n,["encryptionSpec"]);I!=null&&w(t,["encryptionSpec"],I);const T=y(n,["partnerModelTuningSpec"]);T!=null&&w(t,["partnerModelTuningSpec"],T);const D=y(n,["customBaseModel"]);D!=null&&w(t,["customBaseModel"],D);const U=y(n,["experiment"]);U!=null&&w(t,["experiment"],U);const R=y(n,["labels"]);R!=null&&w(t,["labels"],R);const Q=y(n,["outputUri"]);Q!=null&&w(t,["outputUri"],Q);const H=y(n,["pipelineJob"]);H!=null&&w(t,["pipelineJob"],H);const k=y(n,["serviceAccount"]);k!=null&&w(t,["serviceAccount"],k);const G=y(n,["tunedModelDisplayName"]);G!=null&&w(t,["tunedModelDisplayName"],G);const K=y(n,["veoTuningSpec"]);return K!=null&&w(t,["veoTuningSpec"],K),t}function $ue(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(n,["done"]);a!=null&&w(t,["done"],a);const o=y(n,["error"]);return o!=null&&w(t,["error"],o),t}function fK(n,e){const t={},r=y(n,["gcsUri"]);r!=null&&w(t,["validationDatasetUri"],r);const i=y(n,["vertexDatasetResource"]);return i!=null&&w(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jue extends Pu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new xp(vu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),s=await this.tuneMldevInternal(i);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:TR.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Lue(e);return o=Fe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>DR(d))}else{const u=Nue(e);return o=Fe("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Ij(d))}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Hue(e);return o=Fe("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Kue(d),g=new z3;return Object.assign(g,h),g})}else{const u=Oue(e);return o=Fe("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Vue(d),g=new z3;return Object.assign(g,h),g})}}async cancel(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Iue(e);return o=Fe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Mue(d),g=new q3;return Object.assign(g,h),g})}else{const u=Tue(e);return o=Fe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Fue(d),g=new q3;return Object.assign(g,h),g})}}async tuneInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Due(e,e);return s=Fe("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>DR(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Rue(e);return s=Fe("tunedModels",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>$ue(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wue{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Yue=1024*1024*8,Xue=3,Jue=1e3,Zue=2,X_="x-goog-upload-status";async function ece(n,e,t){var r;const i=await Fj(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[X_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function tce(n,e,t){var r;const i=await Fj(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[X_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=rj(s),o=new FQ;return Object.assign(o,a),o}async function Fj(n,e,t){var r,i;let s=0,a=0,o=new IR(new Response),l="upload";for(s=n.size;a<s;){const u=Math.min(Yue,s-a),d=n.slice(a,a+u);a+u>=s&&(l+=", finalize");let h=0,g=Jue;for(;h<Xue&&(o=await t.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=o==null?void 0:o.headers)===null||r===void 0)&&r[X_]));)h++,await rce(g),g=g*Zue;if(a+=u,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[X_])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function nce(n){return{size:n.size,type:n.type}}function rce(n){return new Promise(e=>setTimeout(e,n))}class ice{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ece(e,t,r)}async uploadToFileSearchStore(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tce(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nce(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sce{create(e,t,r){return new ace(e,t,r)}}class ace{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hK="x-goog-api-key";class oce{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(hK)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(hK,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ace="gl-node/";class lce{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=Qie(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new oce(this.apiKey);this.apiClient=new Lle({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Ace+"web",uploader:new ice,downloader:new Wue}),this.models=new nue(this.apiClient),this.live=new Yle(this.apiClient,i,new sce),this.batches=new fae(this.apiClient),this.chats=new jae(this.models,this.apiClient),this.caches=new zae(this.apiClient),this.files=new ioe(this.apiClient),this.operations=new rue(this.apiClient),this.authTokens=new yue(this.apiClient),this.tunings=new jue(this.apiClient),this.fileSearchStores=new _ue(this.apiClient)}}const uce="AIzaSyCsuOQli4AjSdQxo1VCTf5d_0JO5EW_ecQ",cce=new lce({apiKey:uce}),dce="gemini-2.5-flash",Mj=async(n,e)=>{try{const t=`
      Context: The user is reading an educational text.
      Target Text: "${n}"
      ${e?`Surrounding Context: ${e}`:""}
      
      Task: Provide a concise, easy-to-understand explanation of the target text or concept. 
      Limit the response to 3 sentences. Tone: Academic but accessible.
      Language: Respond in Korean.
    `;return(await cce.models.generateContent({model:dce,contents:t})).text||"Could not generate explanation."}catch(t){return console.error("AI Error:",t),"Error connecting to AI service."}},Xi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),NR=[.001,0,0,.001,0,0],rU=1.35,sa={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ec={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Hw="pdfjs_internal_editor_",lt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Tt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},fce={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},LR={TRIANGLES:1,LATTICE:2},ui={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Gx={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Cr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Cg={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Q1={ERRORS:0,WARNINGS:1,INFOS:5},Vw={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},x0={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},hce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let k1=Q1.WARNINGS;function pce(n){Number.isInteger(n)&&(k1=n)}function gce(){return k1}function O1(n){k1>=Q1.INFOS&&console.info(`Info: ${n}`)}function st(n){k1>=Q1.WARNINGS&&console.warn(`Warning: ${n}`)}function mn(n){throw new Error(n)}function It(n,e){n||mn(e)}function mce(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Uj(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=Cce(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return mce(r)?r:null}function Pj(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&Uj(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function at(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const _p=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class pK extends _p{constructor(e,t){super(e,"PasswordException"),this.code=t}}class iU extends _p{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}let QR=class extends _p{constructor(e){super(e,"InvalidPDFException")}},J_=class extends _p{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}};class vce extends _p{constructor(e){super(e,"FormatError")}}let Vd=class extends _p{constructor(e){super(e,"AbortException")}};function Rj(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&mn("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function VE(n){typeof n!="string"&&mn("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function yce(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function wce(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function bce(){try{return new Function(""),!0}catch{return!1}}class Si{static get isLittleEndian(){return at(this,"isLittleEndian",wce())}static get isEvalSupported(){return at(this,"isEvalSupported",bce())}static get isOffscreenCanvasSupported(){return at(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return at(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return at(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return at(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return at(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return at(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const sU=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var hu,CR,zx,kR;let Oe=(CR=class{static makeHexColor(e,t,r){return`#${sU[e]}${sU[t]}${sU[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[r+d],g=e[r+d+1];e[r+d]=h*i+g*a+l,e[r+d+1]=h*s+g*o+u}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],d=e[0],h=e[1],g=e[2],v=e[3];let C=i*d+l,b=C,B=i*g+l,S=B,I=o*h+u,T=I,D=o*v+u,U=D;if(s!==0||a!==0){const R=s*d,Q=s*g,H=a*h,k=a*v;C+=H,S+=H,B+=k,b+=k,I+=R,U+=R,D+=Q,T+=Q}r[0]=Math.min(r[0],C,B,b,S),r[1]=Math.min(r[1],I,D,T,U),r[2]=Math.max(r[2],C,B,b,S),r[3]=Math.max(r[3],I,D,T,U)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,u=s**2+a**2,d=(o+u)/2,h=Math.sqrt(d**2-(o*u-l**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,r,i,s,a,o,l,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l),P(this,hu,kR).call(this,e,r,s,o,t,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),u),P(this,hu,kR).call(this,e,r,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),u)}},hu=new WeakSet,zx=function(e,t,r,i,s,a,o,l,u,d){if(u<=0||u>=1)return;const h=1-u,g=u*u,v=g*u,C=h*(h*(h*e+3*u*t)+3*g*r)+v*i,b=h*(h*(h*s+3*u*a)+3*g*o)+v*l;d[0]=Math.min(d[0],C),d[1]=Math.min(d[1],b),d[2]=Math.max(d[2],C),d[3]=Math.max(d[3],b)},kR=function(e,t,r,i,s,a,o,l,u,d,h,g){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&P(this,hu,zx).call(this,e,t,r,i,s,a,o,l,-h/d,g);return}const v=d**2-4*h*u;if(v<0)return;const C=Math.sqrt(v),b=2*u;P(this,hu,zx).call(this,e,t,r,i,s,a,o,l,(-d+C)/b,g),P(this,hu,zx).call(this,e,t,r,i,s,a,o,l,(-d-C)/b,g)},M(CR,hu),CR);function Cce(n){return decodeURIComponent(escape(n))}let aU=null,gK=null;function Ece(n){return aU||(aU=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,gK=new Map([["","t"]])),n.replaceAll(aU,(e,t,r)=>t?t.normalize("NFKC"):gK.get(r))}function Dj(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),Rj(n)}const Lg="pdfjs_internal_id_";function Bce(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Ji(n,e,t){return Math.min(Math.max(n,e),t)}function Nj(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(Rj(n))}function Sce(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):VE(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Kw{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Kw.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}let Lj=class{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var h,g;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=v}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const v=document.createTextNode(i.value);a.append(v),o&&Kw.shouldBuildText(i.name)&&u.push(v)}return{textDivs:u}}const d=[[i,-1,a]];for(;d.length>0;){const[v,C,b]=d.at(-1);if(C+1===v.children.length){d.pop();continue}const B=v.children[++d.at(-1)[1]];if(B===null)continue;const{name:S}=B;if(S==="#text"){const T=document.createTextNode(B.value);u.push(T),b.append(T);continue}const I=(h=B==null?void 0:B.attributes)!=null&&h.xmlns?document.createElementNS(B.attributes.xmlns,S):document.createElement(S);if(b.append(I),B.attributes&&this.setAttributes({html:I,element:B,storage:t,intent:s,linkService:r}),((g=B.children)==null?void 0:g.length)>0)d.push([B,-1,I]);else if(B.value){const T=document.createTextNode(B.value);o&&Kw.shouldBuildText(S)&&u.push(T),I.append(T)}}for(const v of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}};const il="http://www.w3.org/2000/svg";var xA;let Xv=(xA=class{},be(xA,"CSS",96),be(xA,"PDF",72),be(xA,"PDF_TO_CSS_UNITS",xA.CSS/xA.PDF),xA);async function KE(n,e="text"){if(q0(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class GE{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,g,v;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,g=0,v=1;break;case 90:d=0,h=1,g=1,v=0;break;case 270:d=0,h=-1,g=-1,v=0;break;case 0:d=1,h=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,v=-v);let C,b,B,S;d===0?(C=Math.abs(u-e[1])*r+s,b=Math.abs(l-e[0])*r+a,B=(e[3]-e[1])*r,S=(e[2]-e[0])*r):(C=Math.abs(l-e[0])*r+s,b=Math.abs(u-e[1])*r+a,B=(e[2]-e[0])*r,S=(e[3]-e[1])*r),this.transform=[d*r,h*r,g*r,v*r,C-d*r*l-g*r*u,b-h*r*l-v*r*u],this.width=B,this.height=S}get rawDims(){const e=this.viewBox;return at(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new GE({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return Oe.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Oe.applyTransform(t,this.transform);const r=[e[2],e[3]];return Oe.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Oe.applyInverseTransform(r,this.transform),r}}let NQ=class extends _p{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function H1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function LQ(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function xce(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function _ce(n,e="document.pdf"){if(typeof n!="string")return e;if(H1(n))return st('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const u of o)if(s.test(u))return i(u);const l=Array.from(r.searchParams.keys()).reverse();for(const u of l)if(s.test(u))return i(u)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class mK{constructor(){be(this,"started",Object.create(null));be(this,"times",[])}time(e){e in this.started&&st(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||st(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function q0(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function ro(n){n.preventDefault()}function tr(n){n.preventDefault(),n.stopPropagation()}function Tce(n){console.log("Deprecated API usage: "+n)}var ER,cb;let OR=(ER=class{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;f(this,cb)||_(this,cb,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,cb).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(r,i,s,a,o,l))}},cb=new WeakMap,M(ER,cb),ER);function Ice(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new GE({viewBox:s,userUnit:1,scale:e,rotation:t})}function zE(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(st(`Not a valid color format: "${n}"`),[0,0,0])}function Fce(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,zE(r))}e.remove()}function On(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function Wo(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function mp(n,e,t=!1,r=!0){if(e instanceof GE){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,o=Si.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,u=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}let vp=class HR{constructor(){const{pixelRatio:e}=HR;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=HR.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*t))),i!==-1&&(o=i/e,l=i/t);const u=Math.min(a,o,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}};const VR=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Mce{static get isDarkMode(){var e;return at(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}let Uce=class{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),at(this,"commentForegroundColor",zE(r))}};function Pce(n,e,t,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return n=Math.round(n*r+i),e=Math.round(e*r+i),t=Math.round(t*r+i),[n,e,t]}function vK(n,e){const t=n[0]/255,r=n[1]/255,i=n[2]/255,s=Math.max(t,r,i),a=Math.min(t,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-t)/l+2)*60;break;case i:e[0]=((t-r)/l+4)*60;break}}e[2]=o}function KR(n,e){const t=n[0],r=n[1],i=n[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(t/60%2-1)),o=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function yK(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function wK(n,e,t){KR(n,t),t.map(yK);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];KR(e,t),t.map(yK);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const bK=new Map;function Rce(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=bK.get(t);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);vK(n,a);const o=i.subarray(6,9);vK(e,o);const l=o[2]<.5,u=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),wK(a,o,s)<u){let d,h;l?(d=a[2],h=1):(d=0,h=a[2]);const g=.005;for(;h-d>g;){const v=a[2]=(d+h)/2;l===wK(a,o,s)<u?d=v:h=v}a[2]=l?h:d}return KR(a,s),r=Oe.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),bK.set(t,r),r}function Qj({html:n,dir:e,className:t},r){const i=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const u=a[o];s.append(document.createTextNode(u)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else Lj.render({xfaHtml:n,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",t),r.append(i)}function kj(n){const e=new Path2D;if(!n)return e;for(let t=0,r=n.length;t<r;)switch(n[t++]){case x0.moveTo:e.moveTo(n[t++],n[t++]);break;case x0.lineTo:e.lineTo(n[t++],n[t++]);break;case x0.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case x0.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case x0.closePath:e.closePath();break;default:st(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var Sc,xc,Pa,Ra,db,_c,tm,nm,fb,l1,Oj,Ci,Hj,Vj,Eg,$0;const Al=class Al{constructor(e){M(this,Ci);M(this,Sc,null);M(this,xc,null);M(this,Pa);M(this,Ra,null);M(this,db,null);M(this,_c,null);M(this,tm,null);M(this,nm,null);_(this,Pa,e),f(Al,fb)||_(Al,fb,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=_(this,Sc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,Pa)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",ro,{signal:t}),e.addEventListener("pointerdown",P(Al,l1,Oj),{signal:t}));const r=_(this,Ra,document.createElement("div"));r.className="buttons",e.append(r);const i=f(this,Pa).toolbarPosition;if(i){const{style:s}=e,a=f(this,Pa)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return f(this,Sc)}hide(){var e;f(this,Sc).classList.add("hidden"),(e=f(this,xc))==null||e.hideDropdown()}show(){var e,t;f(this,Sc).classList.remove("hidden"),(e=f(this,db))==null||e.shown(),(t=f(this,_c))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=f(this,Pa),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",f(Al,fb)[e]),P(this,Ci,Eg).call(this,r)&&r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),f(this,Ra).append(r)}async addAltText(e){const t=await e.render();P(this,Ci,Eg).call(this,t),f(this,Ra).append(t,f(this,Ci,$0)),_(this,db,e)}addComment(e,t=null){if(f(this,_c))return;const r=e.renderForToolbar();if(!r)return;P(this,Ci,Eg).call(this,r);const i=_(this,tm,f(this,Ci,$0));t?(f(this,Ra).insertBefore(r,t),f(this,Ra).insertBefore(i,t)):f(this,Ra).append(r,i),_(this,_c,e),e.toolbar=this}addColorPicker(e){if(f(this,xc))return;_(this,xc,e);const t=e.renderButton();P(this,Ci,Eg).call(this,t),f(this,Ra).append(t,f(this,Ci,$0))}async addEditSignatureButton(e){const t=_(this,nm,await e.renderEditButton(f(this,Pa)));P(this,Ci,Eg).call(this,t),f(this,Ra).append(t,f(this,Ci,$0))}removeButton(e){var t,r;switch(e){case"comment":(t=f(this,_c))==null||t.removeToolbarCommentButton(),_(this,_c,null),(r=f(this,tm))==null||r.remove(),_(this,tm,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,r){if(!t&&e==="comment")return;const i=f(this,Ra).querySelector(r);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){f(this,nm)&&(f(this,nm).title=e)}remove(){var e;f(this,Sc).remove(),(e=f(this,xc))==null||e.destroy(),_(this,xc,null)}};Sc=new WeakMap,xc=new WeakMap,Pa=new WeakMap,Ra=new WeakMap,db=new WeakMap,_c=new WeakMap,tm=new WeakMap,nm=new WeakMap,fb=new WeakMap,l1=new WeakSet,Oj=function(e){e.stopPropagation()},Ci=new WeakSet,Hj=function(e){f(this,Pa)._focusEventsAllowed=!1,tr(e)},Vj=function(e){f(this,Pa)._focusEventsAllowed=!0,tr(e)},Eg=function(e){const t=f(this,Pa)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",P(this,Ci,Hj).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",P(this,Ci,Vj).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ro,{signal:t}),!0)},$0=function(){const e=document.createElement("div");return e.className="divider",e},M(Al,l1),M(Al,fb,null);let GR=Al;var hb,Lf,dl,Tu,Kj,Gj,zR;class Dce{constructor(e){M(this,Tu);M(this,hb,null);M(this,Lf,null);M(this,dl);_(this,dl,e)}show(e,t,r){const[i,s]=P(this,Tu,Gj).call(this,t,r),{style:a}=f(this,Lf)||_(this,Lf,P(this,Tu,Kj).call(this));e.append(f(this,Lf)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,Lf).remove()}}hb=new WeakMap,Lf=new WeakMap,dl=new WeakMap,Tu=new WeakSet,Kj=function(){const e=_(this,Lf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,dl)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",ro,{signal:t});const r=_(this,hb,document.createElement("div"));return r.className="buttons",e.append(r),f(this,dl).hasCommentManager()&&P(this,Tu,zR).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{f(this,dl).commentSelection("floating_button")}),P(this,Tu,zR).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{f(this,dl).highlightSelection("floating_button")}),e},Gj=function(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(t?s.width:0);if(a>r){i=o,r=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,r]},zR=function(e,t,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=f(this,dl)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",ro,{signal:o}),s.addEventListener("click",i,{signal:o})),f(this,hb).append(s)};function zj(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var Qf,kf,rm,Of;const rn=class rn{static initializeAndAddPointerId(e){(f(rn,kf)||_(rn,kf,new Set)).add(e)}static setPointer(e,t){f(rn,Qf)||_(rn,Qf,t),f(rn,Of)??_(rn,Of,e)}static setTimeStamp(e){_(rn,rm,e)}static isSamePointerId(e){return f(rn,Qf)===e}static isSamePointerIdOrRemove(e){var t;return f(rn,Qf)===e?!0:((t=f(rn,kf))==null||t.delete(e),!1)}static isSamePointerType(e){return f(rn,Of)===e}static isInitializedAndDifferentPointerType(e){return f(rn,Of)!==null&&!rn.isSamePointerType(e)}static isSameTimeStamp(e){return f(rn,rm)===e}static isUsingMultiplePointers(){var e;return((e=f(rn,kf))==null?void 0:e.size)>=1}static clearPointerType(){_(rn,Of,null)}static clearPointerIds(){_(rn,Qf,NaN),_(rn,kf,null)}static clearTimeStamp(){_(rn,rm,NaN)}};Qf=new WeakMap,kf=new WeakMap,rm=new WeakMap,Of=new WeakMap,M(rn,Qf,NaN),M(rn,kf,null),M(rn,rm,NaN),M(rn,Of,null);let Fi=rn;var u1;class Nce{constructor(){M(this,u1,0)}get id(){return`${Hw}${ar(this,u1)._++}`}}u1=new WeakMap;var im,pb,Mi,sm,qx;const QO=class QO{constructor(){M(this,sm);M(this,im,Dj());M(this,pb,0);M(this,Mi,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return at(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return P(this,sm,qx).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return P(this,sm,qx).call(this,e,e)}async getFromBlob(e,t){const r=await t;return P(this,sm,qx).call(this,e,r)}async getFromId(e){f(this,Mi)||_(this,Mi,new Map);const t=f(this,Mi).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,Mi)||_(this,Mi,new Map);let r=f(this,Mi).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${f(this,im)}_${ar(this,pb)._++}`,refCounter:1,isSvg:!1},f(this,Mi).set(e,r),f(this,Mi).set(r.id,r),r}getSvgUrl(e){const t=f(this,Mi).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;f(this,Mi)||_(this,Mi,new Map);const t=f(this,Mi).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,im)}_`)}};im=new WeakMap,pb=new WeakMap,Mi=new WeakMap,sm=new WeakSet,qx=async function(e,t){f(this,Mi)||_(this,Mi,new Map);let r=f(this,Mi).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${f(this,im)}_${ar(this,pb)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await KE(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=QO._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},a.onload=async()=>{const h=r.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){st(i),r=null}return f(this,Mi).set(e,r),r&&f(this,Mi).set(r.id,r),r};let qR=QO;var lr,Tc,gb,kn;class Lce{constructor(e=128){M(this,lr,[]);M(this,Tc,!1);M(this,gb);M(this,kn,-1);_(this,gb,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),f(this,Tc))return;const l={cmd:e,undo:t,post:r,type:s};if(f(this,kn)===-1){f(this,lr).length>0&&(f(this,lr).length=0),_(this,kn,0),f(this,lr).push(l);return}if(a&&f(this,lr)[f(this,kn)].type===s){o&&(l.undo=f(this,lr)[f(this,kn)].undo),f(this,lr)[f(this,kn)]=l;return}const u=f(this,kn)+1;u===f(this,gb)?f(this,lr).splice(0,1):(_(this,kn,u),u<f(this,lr).length&&f(this,lr).splice(u)),f(this,lr).push(l)}undo(){if(f(this,kn)===-1)return;_(this,Tc,!0);const{undo:e,post:t}=f(this,lr)[f(this,kn)];e(),t==null||t(),_(this,Tc,!1),_(this,kn,f(this,kn)-1)}redo(){if(f(this,kn)<f(this,lr).length-1){_(this,kn,f(this,kn)+1),_(this,Tc,!0);const{cmd:e,post:t}=f(this,lr)[f(this,kn)];e(),t==null||t(),_(this,Tc,!1)}}hasSomethingToUndo(){return f(this,kn)!==-1}hasSomethingToRedo(){return f(this,kn)<f(this,lr).length-1}cleanType(e){if(f(this,kn)!==-1){for(let t=f(this,kn);t>=0;t--)if(f(this,lr)[t].type!==e){f(this,lr).splice(t+1,f(this,kn)-t),_(this,kn,t);return}f(this,lr).length=0,_(this,kn,-1)}}destroy(){_(this,lr,null)}}lr=new WeakMap,Tc=new WeakMap,gb=new WeakMap,kn=new WeakMap;var c1,qj;class qE{constructor(e){M(this,c1);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Si.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(P(this,c1,qj).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,t)||(i.bind(e,...a,t)(),s||tr(t))}}c1=new WeakSet,qj=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const d1=class d1{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Fce(e),at(this,"_colors",e)}convert(e){const t=zE(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return d1._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Oe.makeHexColor(...t):e}};be(d1,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let $R=d1;var am,Os,om,jn,Ur,Am,Da,lm,Na,Ui,Ic,Fc,um,Mc,eA,La,Hf,mb,vb,cm,yb,tA,Uc,dm,Pc,nA,f1,Rc,fm,wb,Dc,Vf,hm,Nc,bb,Er,jt,fl,Lc,Qc,Cb,pm,Eb,kc,rA,hl,Bb,Sb,Qa,ou,Ie,$x,jR,$j,jj,j0,Wj,Yj,Xj,WR,Jj,Zj,e6,t6,Gi,sl,n6,r6,YR,i6,W0,XR;let Gw=(ou=class{constructor(e,t,r,i,s,a,o,l,u,d,h,g,v,C,b,B){M(this,Ie);M(this,am,new AbortController);M(this,Os,null);M(this,om,null);M(this,jn,new Map);M(this,Ur,new Map);M(this,Am,null);M(this,Da,null);M(this,lm,null);M(this,Na,new Lce);M(this,Ui,null);M(this,Ic,null);M(this,Fc,null);M(this,um,0);M(this,Mc,new Set);M(this,eA,null);M(this,La,null);M(this,Hf,new Set);be(this,"_editorUndoBar",null);M(this,mb,!1);M(this,vb,!1);M(this,cm,!1);M(this,yb,null);M(this,tA,null);M(this,Uc,null);M(this,dm,null);M(this,Pc,!1);M(this,nA,null);M(this,f1,new Nce);M(this,Rc,!1);M(this,fm,!1);M(this,wb,!1);M(this,Dc,null);M(this,Vf,null);M(this,hm,null);M(this,Nc,null);M(this,bb,null);M(this,Er,lt.NONE);M(this,jt,new Set);M(this,fl,null);M(this,Lc,null);M(this,Qc,null);M(this,Cb,null);M(this,pm,null);M(this,Eb,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});M(this,kc,[0,0]);M(this,rA,null);M(this,hl,null);M(this,Bb,null);M(this,Sb,null);M(this,Qa,null);const S=this._signal=f(this,am).signal;_(this,hl,e),_(this,Bb,t),_(this,Sb,r),_(this,Am,i),_(this,Ui,s),_(this,Lc,a),_(this,pm,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:S}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),o._on("setpreference",this.onSetPreference.bind(this),{signal:S}),o._on("switchannotationeditorparams",I=>this.updateParams(I.type,I.value),{signal:S}),window.addEventListener("pointerdown",()=>{_(this,fm,!0)},{capture:!0,signal:S}),window.addEventListener("pointerup",()=>{_(this,fm,!1)},{capture:!0,signal:S}),P(this,Ie,Wj).call(this),P(this,Ie,t6).call(this),P(this,Ie,WR).call(this),_(this,Da,l.annotationStorage),_(this,yb,l.filterFactory),_(this,Qc,u),_(this,dm,d||null),_(this,mb,h),_(this,vb,g),_(this,cm,v),_(this,bb,C||null),this.viewParameters={realScale:Xv.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=B!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=ou.prototype,t=a=>f(a,hl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return at(this,"_keyboardManager",new qE([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,hl).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,hl).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s,a,o,l,u;(e=f(this,Qa))==null||e.resolve(),_(this,Qa,null),(t=f(this,am))==null||t.abort(),_(this,am,null),this._signal=null;for(const d of f(this,Ur).values())d.destroy();f(this,Ur).clear(),f(this,jn).clear(),f(this,Hf).clear(),(r=f(this,Nc))==null||r.clear(),_(this,Os,null),f(this,jt).clear(),f(this,Na).destroy(),(i=f(this,Am))==null||i.destroy(),(s=f(this,Ui))==null||s.destroy(),(a=f(this,Lc))==null||a.destroy(),(o=f(this,nA))==null||o.hide(),_(this,nA,null),(l=f(this,hm))==null||l.destroy(),_(this,hm,null),_(this,om,null),f(this,tA)&&(clearTimeout(f(this,tA)),_(this,tA,null)),f(this,rA)&&(clearTimeout(f(this,rA)),_(this,rA,null)),(u=this._editorUndoBar)==null||u.destroy(),_(this,pm,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,bb)}get useNewAltTextFlow(){return f(this,vb)}get useNewAltTextWhenAddingImage(){return f(this,cm)}get hcmFilter(){return at(this,"hcmFilter",f(this,Qc)?f(this,yb).addHCMFilter(f(this,Qc).foreground,f(this,Qc).background):"none")}get direction(){return at(this,"direction",getComputedStyle(f(this,hl)).direction)}get _highlightColors(){return at(this,"_highlightColors",f(this,dm)?new Map(f(this,dm).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return at(this,"highlightColors",null);const t=new Map,r=!!f(this,Qc);for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){t.set(i.replace("_HCM",""),s);continue}!r&&!a&&t.set(i,s)}return at(this,"highlightColors",t)}get highlightColorNames(){return at(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),_(this,Fc,e)}setMainHighlightColorPicker(e){_(this,hm,e)}editAltText(e,t=!1){var r;(r=f(this,Am))==null||r.editAltText(this,e,t)}hasCommentManager(){return!!f(this,Ui)}editComment(e,t,r,i){var s;(s=f(this,Ui))==null||s.showDialog(this,e,t,r,i)}selectComment(e,t){const r=f(this,Ur).get(e),i=r==null?void 0:r.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=f(this,Ui))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=f(this,Ui))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=f(this,Ui))==null||t.removeComments([e.uid])}toggleComment(e,t,r=void 0){var i;(i=f(this,Ui))==null||i.toggleCommentPopup(e,t,r)}makeCommentColor(e,t){var r;return e&&((r=f(this,Ui))==null?void 0:r.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=f(this,Ui))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(f(this,Ur).has(e-1))return;const{resolve:t,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var t;(t=f(this,Lc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return f(this,Lc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":_(this,cm,t);break}}onPageChanging({pageNumber:e}){_(this,um,e-1)}focusMainContainer(){f(this,hl).focus()}findParent(e,t){for(const r of f(this,Ur).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return r}return null}disableUserSelect(e=!1){f(this,Bb).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,Hf).add(e)}removeShouldRescale(e){f(this,Hf).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Xv.PDF_TO_CSS_UNITS;for(const r of f(this,Hf))r.onScaleChanging();(t=f(this,Fc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),d=P(this,Ie,$x).call(this,r).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;r.empty();const g=P(this,Ie,jR).call(this,d),v=f(this,Er)===lt.NONE,C=()=>{const b=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});v&&this.showAllEditors("highlight",!0,!0),t&&(b==null||b.editComment())};if(v){this.switchToMode(lt.HIGHLIGHT,C);return}C()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!f(this,Da))return null;const t=`${Hw}${e}`,r=f(this,Da).getRawValue(t);return r&&f(this,Da).remove(t),r}addToAnnotationStorage(e){!e.isEmpty()&&f(this,Da)&&!f(this,Da).has(e.id)&&f(this,Da).setValue(e.id,e)}a11yAlert(e,t=null){const r=f(this,Sb);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,f(this,Pc)&&(_(this,Pc,!1),P(this,Ie,j0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,jt))if(t.div.contains(e)){_(this,Vf,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,Vf))return;const[e,t]=f(this,Vf);_(this,Vf,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){P(this,Ie,WR).call(this),this.setEditingState(!0)}removeEditListeners(){P(this,Ie,Jj).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of f(this,La))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of f(this,La))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=f(this,Os))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of f(this,jt)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of f(this,La))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){st(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=await i.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)P(this,Ie,YR).call(this,l);P(this,Ie,XR).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){st(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,Er)!==lt.NONE&&!this.isEditorHandlingKeyboard&&ou._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,Pc)&&(_(this,Pc,!1),P(this,Ie,j0).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(P(this,Ie,Yj).call(this),P(this,Ie,Zj).call(this),P(this,Ie,Gi).call(this,{isEditing:f(this,Er)!==lt.NONE,isEmpty:P(this,Ie,W0).call(this),hasSomethingToUndo:f(this,Na).hasSomethingToUndo(),hasSomethingToRedo:f(this,Na).hasSomethingToRedo(),hasSelectedEditor:!1})):(P(this,Ie,Xj).call(this),P(this,Ie,e6).call(this),P(this,Ie,Gi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,La)){_(this,La,e);for(const t of f(this,La))P(this,Ie,sl).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,f1).id}get currentLayer(){return f(this,Ur).get(f(this,um))}getLayer(e){return f(this,Ur).get(e)}get currentPageIndex(){return f(this,um)}addLayer(e){f(this,Ur).set(e.pageIndex,e),f(this,Rc)?e.enable():e.disable()}removeLayer(e){f(this,Ur).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1,s=!1){var a,o,l,u,d,h;if(f(this,Er)!==e&&!(f(this,Qa)&&(await f(this,Qa).promise,!f(this,Qa)))){if(_(this,Qa,Promise.withResolvers()),(a=f(this,Fc))==null||a.commitOrRemove(),f(this,Er)===lt.POPUP&&((o=f(this,Ui))==null||o.hideSidebar()),(l=f(this,Ui))==null||l.destroyPopup(),_(this,Er,e),e===lt.NONE){this.setEditingState(!1),P(this,Ie,r6).call(this);for(const g of f(this,jn).values())g.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),f(this,Qa).resolve();return}for(const g of f(this,jn).values())g.addStandaloneCommentButton();e===lt.SIGNATURE&&await((d=f(this,Lc))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await P(this,Ie,n6).call(this),this.unselectAll();for(const g of f(this,Ur).values())g.updateMode(e);if(e===lt.POPUP){f(this,om)||_(this,om,await f(this,pm).getAnnotationsByType(new Set(f(this,La).map(C=>C._editorType))));const g=new Set,v=[];for(const C of f(this,jn).values()){const{annotationElementId:b,hasComment:B,deleted:S}=C;b&&g.add(b),B&&!S&&v.push(C.getData())}for(const C of f(this,om)){const{id:b,popupRef:B,contentsObj:S}=C;B&&(S!=null&&S.str)&&!g.has(b)&&!f(this,Mc).has(b)&&v.push(C)}(h=f(this,Ui))==null||h.showSidebar(v)}if(!t){r&&this.addNewEditorFromKeyboard(),f(this,Qa).resolve();return}for(const g of f(this,jn).values())g.uid===t?(this.setSelected(g),s?g.editComment():i?g.enterInEditMode():g.focus()):g.unselect();f(this,Qa).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==f(this,Er)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(f(this,La)){switch(e){case Tt.CREATE:this.currentLayer.addNewEditor(t);return;case Tt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,Cb)||_(this,Cb,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of f(this,jt))r.updateParams(e,t);else for(const r of f(this,La))r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const a of f(this,jn).values())a.editorType===e&&a.show(t);(((s=f(this,Cb))==null?void 0:s.get(Tt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&P(this,Ie,sl).call(this,[[Tt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,wb)!==e){_(this,wb,e);for(const t of f(this,Ur).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of f(this,jn).values())t.pageIndex===e&&(yield t)}getEditor(e){return f(this,jn).get(e)}addEditor(e){f(this,jn).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(f(this,tA)&&clearTimeout(f(this,tA)),_(this,tA,setTimeout(()=>{this.focusMainContainer(),_(this,tA,null)},0))),f(this,jn).delete(e.id),e.annotationElementId&&((t=f(this,Nc))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!f(this,Mc).has(e.annotationElementId))&&((r=f(this,Da))==null||r.remove(e.id))}addDeletedAnnotationElement(e){f(this,Mc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,Mc).has(e)}removeDeletedAnnotationElement(e){f(this,Mc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,Os)!==e&&(_(this,Os,e),e&&P(this,Ie,sl).call(this,e.propertiesToUpdate))}updateUI(e){f(this,Ie,i6)===e&&P(this,Ie,sl).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){P(this,Ie,sl).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(f(this,jt).has(e)){f(this,jt).delete(e),e.unselect(),P(this,Ie,Gi).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,jt).add(e),e.select(),P(this,Ie,sl).call(this,e.propertiesToUpdate),P(this,Ie,Gi).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=f(this,Fc))==null||t.commitOrRemove();for(const r of f(this,jt))r!==e&&r.unselect();f(this,jt).clear(),f(this,jt).add(e),e.select(),P(this,Ie,sl).call(this,e.propertiesToUpdate),P(this,Ie,Gi).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,jt).has(e)}get firstSelectedEditor(){return f(this,jt).values().next().value}unselect(e){e.unselect(),f(this,jt).delete(e),P(this,Ie,Gi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,jt).size!==0}get isEnterHandled(){return f(this,jt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;f(this,Na).undo(),P(this,Ie,Gi).call(this,{hasSomethingToUndo:f(this,Na).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:P(this,Ie,W0).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){f(this,Na).redo(),P(this,Ie,Gi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,Na).hasSomethingToRedo(),isEmpty:P(this,Ie,W0).call(this)})}addCommands(e){f(this,Na).add(e),P(this,Ie,Gi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:P(this,Ie,W0).call(this)})}cleanUndoStack(e){f(this,Na).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...f(this,jt)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)P(this,Ie,YR).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=f(this,Os))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,Os)||this.hasSelection}selectAll(){for(const e of f(this,jt))e.commit();P(this,Ie,XR).call(this,f(this,jn).values())}unselectAll(){var e;if(!(f(this,Os)&&(f(this,Os).commitOrRemove(),f(this,Er)!==lt.NONE))&&!((e=f(this,Fc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of f(this,jt))t.unselect();f(this,jt).clear(),P(this,Ie,Gi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;f(this,kc)[0]+=e,f(this,kc)[1]+=t;const[i,s]=f(this,kc),a=[...f(this,jt)],o=1e3;f(this,rA)&&clearTimeout(f(this,rA)),_(this,rA,setTimeout(()=>{_(this,rA,null),f(this,kc)[0]=f(this,kc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)f(this,jn).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)f(this,jn).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,eA,new Map);for(const e of f(this,jt))f(this,eA).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,eA))return!1;this.disableUserSelect(!1);const e=f(this,eA);_(this,eA,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const r=(i,s,a,o)=>{if(f(this,jn).has(i.id)){const l=f(this,Ur).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,eA))for(const r of f(this,eA).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,jt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,Os)===e}getActive(){return f(this,Os)}getMode(){return f(this,Er)}isEditingMode(){return f(this,Er)!==lt.NONE}get imageManager(){return at(this,"imageManager",new qR)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,g)=>({x:(d-i)/a,y:1-(u+h-r)/s,width:g/a,height:h/s});break;case"180":o=(u,d,h,g)=>({x:1-(u+h-r)/s,y:1-(d+g-i)/a,width:h/s,height:g/a});break;case"270":o=(u,d,h,g)=>({x:1-(d+g-i)/a,y:(u-r)/s,width:g/a,height:h/s});break;default:o=(u,d,h,g)=>({x:(u-r)/s,y:(d-i)/a,width:h/s,height:g/a});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:g,y:v,width:C,height:b}of h.getClientRects())C===0||b===0||l.push(o(g,v,C,b))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,lm)||_(this,lm,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,lm))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=f(this,lm))==null?void 0:i.get(e.data.id);if(!t)return;const r=f(this,Da).getRawValue(t);r&&(f(this,Er)===lt.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var s;const i=(s=f(this,Nc))==null?void 0:s.get(e);i&&(i.setCanvas(t,r),f(this,Nc).delete(e))}addMissingCanvas(e,t){(f(this,Nc)||_(this,Nc,new Map)).set(e,t)}},am=new WeakMap,Os=new WeakMap,om=new WeakMap,jn=new WeakMap,Ur=new WeakMap,Am=new WeakMap,Da=new WeakMap,lm=new WeakMap,Na=new WeakMap,Ui=new WeakMap,Ic=new WeakMap,Fc=new WeakMap,um=new WeakMap,Mc=new WeakMap,eA=new WeakMap,La=new WeakMap,Hf=new WeakMap,mb=new WeakMap,vb=new WeakMap,cm=new WeakMap,yb=new WeakMap,tA=new WeakMap,Uc=new WeakMap,dm=new WeakMap,Pc=new WeakMap,nA=new WeakMap,f1=new WeakMap,Rc=new WeakMap,fm=new WeakMap,wb=new WeakMap,Dc=new WeakMap,Vf=new WeakMap,hm=new WeakMap,Nc=new WeakMap,bb=new WeakMap,Er=new WeakMap,jt=new WeakMap,fl=new WeakMap,Lc=new WeakMap,Qc=new WeakMap,Cb=new WeakMap,pm=new WeakMap,Eb=new WeakMap,kc=new WeakMap,rA=new WeakMap,hl=new WeakMap,Bb=new WeakMap,Sb=new WeakMap,Qa=new WeakMap,Ie=new WeakSet,$x=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},jR=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of f(this,Ur).values())if(r.hasTextLayer(e))return r;return null},$j=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=P(this,Ie,$x).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(f(this,nA)||_(this,nA,new Dce(this)),f(this,nA).show(r,i,this.direction==="ltr"))},jj=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){f(this,fl)&&((s=f(this,nA))==null||s.hide(),_(this,fl,null),P(this,Ie,Gi).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,fl))return;const i=P(this,Ie,$x).call(this,e).closest(".textLayer");if(!i){f(this,fl)&&((a=f(this,nA))==null||a.hide(),_(this,fl,null),P(this,Ie,Gi).call(this,{hasSelectedText:!1}));return}if((o=f(this,nA))==null||o.hide(),_(this,fl,t),P(this,Ie,Gi).call(this,{hasSelectedText:!0}),!(f(this,Er)!==lt.HIGHLIGHT&&f(this,Er)!==lt.NONE)&&(f(this,Er)===lt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,Pc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=f(this,Er)===lt.HIGHLIGHT?P(this,Ie,jR).call(this,i):null;if(l==null||l.toggleDrawing(),f(this,fm)){const u=new AbortController,d=this.combinedSignal(u),h=g=>{g.type==="pointerup"&&g.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),g.type==="pointerup"&&P(this,Ie,j0).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else l==null||l.toggleDrawing(!0),P(this,Ie,j0).call(this,"main_toolbar")}},j0=function(e=""){f(this,Er)===lt.HIGHLIGHT?this.highlightSelection(e):f(this,mb)&&P(this,Ie,$j).call(this)},Wj=function(){document.addEventListener("selectionchange",P(this,Ie,jj).bind(this),{signal:this._signal})},Yj=function(){if(f(this,Uc))return;_(this,Uc,new AbortController);const e=this.combinedSignal(f(this,Uc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Xj=function(){var e;(e=f(this,Uc))==null||e.abort(),_(this,Uc,null)},WR=function(){if(f(this,Dc))return;_(this,Dc,new AbortController);const e=this.combinedSignal(f(this,Dc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Jj=function(){var e;(e=f(this,Dc))==null||e.abort(),_(this,Dc,null)},Zj=function(){if(f(this,Ic))return;_(this,Ic,new AbortController);const e=this.combinedSignal(f(this,Ic));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},e6=function(){var e;(e=f(this,Ic))==null||e.abort(),_(this,Ic,null)},t6=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Gi=function(e){Object.entries(e).some(([r,i])=>f(this,Eb)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,Eb),e)}),f(this,Er)===lt.HIGHLIGHT&&e.hasSelectedEditor===!1&&P(this,Ie,sl).call(this,[[Tt.HIGHLIGHT_FREE,!0]]))},sl=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},n6=async function(){if(!f(this,Rc)){_(this,Rc,!0);const e=[];for(const t of f(this,Ur).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,jn).values())t.enable()}},r6=function(){if(this.unselectAll(),f(this,Rc)){_(this,Rc,!1);for(const e of f(this,Ur).values())e.disable();for(const e of f(this,jn).values())e.disable()}},YR=function(e){const t=f(this,Ur).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},i6=function(){let e=null;for(e of f(this,jt));return e},W0=function(){if(f(this,jn).size===0)return!0;if(f(this,jn).size===1)for(const e of f(this,jn).values())return e.isEmpty();return!1},XR=function(e){for(const t of f(this,jt))t.unselect();f(this,jt).clear();for(const t of e)t.isEmpty()||(f(this,jt).add(t),t.select());P(this,Ie,Gi).call(this,{hasSelectedEditor:this.hasSelection})},be(ou,"TRANSLATE_SMALL",1),be(ou,"TRANSLATE_BIG",10),ou);var jr,iA,mo,gm,sA,Hs,mm,aA,hs,pl,Kf,oA,Oc,Ro,Y0,jx;const zi=class zi{constructor(e){M(this,Ro);M(this,jr,null);M(this,iA,!1);M(this,mo,null);M(this,gm,null);M(this,sA,null);M(this,Hs,null);M(this,mm,!1);M(this,aA,null);M(this,hs,null);M(this,pl,null);M(this,Kf,null);M(this,oA,!1);_(this,hs,e),_(this,oA,e._uiManager.useNewAltTextFlow),f(zi,Oc)||_(zi,Oc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){zi._l10n??(zi._l10n=e)}async render(){const e=_(this,mo,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=_(this,gm,document.createElement("span"));e.append(t),f(this,oA)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(zi,Oc).missing),t.setAttribute("data-l10n-id",f(zi,Oc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=f(this,hs)._uiManager._signal;e.addEventListener("contextmenu",ro,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),f(this,hs)._uiManager.editAltText(f(this,hs)),f(this,oA)&&f(this,hs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,Ro,Y0)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,mm,!0),i(s))},{signal:r}),await P(this,Ro,jx).call(this),e}finish(){f(this,mo)&&(f(this,mo).focus({focusVisible:f(this,mm)}),_(this,mm,!1))}isEmpty(){return f(this,oA)?f(this,jr)===null:!f(this,jr)&&!f(this,iA)}hasData(){return f(this,oA)?f(this,jr)!==null||!!f(this,pl):this.isEmpty()}get guessedText(){return f(this,pl)}async setGuessedText(e){f(this,jr)===null&&(_(this,pl,e),_(this,Kf,await zi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),P(this,Ro,jx).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,oA)||f(this,jr)){(t=f(this,aA))==null||t.remove(),_(this,aA,null);return}if(!f(this,aA)){const r=_(this,aA,document.createElement("div"));r.className="noAltTextBadge",f(this,hs).div.append(r)}f(this,aA).classList.toggle("hidden",!e)}serialize(e){let t=f(this,jr);return!e&&f(this,pl)===t&&(t=f(this,Kf)),{altText:t,decorative:f(this,iA),guessedText:f(this,pl),textWithDisclaimer:f(this,Kf)}}get data(){return{altText:f(this,jr),decorative:f(this,iA)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(_(this,pl,r),_(this,Kf,i)),!(f(this,jr)===e&&f(this,iA)===t)&&(s||(_(this,jr,e),_(this,iA,t)),P(this,Ro,jx).call(this))}toggle(e=!1){f(this,mo)&&(!e&&f(this,Hs)&&(clearTimeout(f(this,Hs)),_(this,Hs,null)),f(this,mo).disabled=!e)}shown(){f(this,hs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,Ro,Y0)}})}destroy(){var e,t;(e=f(this,mo))==null||e.remove(),_(this,mo,null),_(this,gm,null),_(this,sA,null),(t=f(this,aA))==null||t.remove(),_(this,aA,null)}};jr=new WeakMap,iA=new WeakMap,mo=new WeakMap,gm=new WeakMap,sA=new WeakMap,Hs=new WeakMap,mm=new WeakMap,aA=new WeakMap,hs=new WeakMap,pl=new WeakMap,Kf=new WeakMap,oA=new WeakMap,Oc=new WeakMap,Ro=new WeakSet,Y0=function(){return f(this,jr)&&"added"||f(this,jr)===null&&this.guessedText&&"review"||"missing"},jx=async function(){var i,s,a;const e=f(this,mo);if(!e)return;if(f(this,oA)){if(e.classList.toggle("done",!!f(this,jr)),e.setAttribute("data-l10n-id",f(zi,Oc)[f(this,Ro,Y0)]),(i=f(this,gm))==null||i.setAttribute("data-l10n-id",f(zi,Oc)[`${f(this,Ro,Y0)}-label`]),!f(this,jr)){(s=f(this,sA))==null||s.remove();return}}else{if(!f(this,jr)&&!f(this,iA)){e.classList.remove("done"),(a=f(this,sA))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,sA);if(!t){_(this,sA,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,hs).id}`;const o=100,l=f(this,hs)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(f(this,Hs)),_(this,Hs,null)},{once:!0}),e.addEventListener("mouseenter",()=>{_(this,Hs,setTimeout(()=>{_(this,Hs,null),f(this,sA).classList.add("show"),f(this,hs)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;f(this,Hs)&&(clearTimeout(f(this,Hs)),_(this,Hs,null)),(u=f(this,sA))==null||u.classList.remove("show")},{signal:l})}f(this,iA)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,jr)),t.parentNode||e.append(t);const r=f(this,hs).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},M(zi,Oc,null),be(zi,"_l10n",null);let Z_=zi;var ci,ka,Gf,bn,xb,zf,vo,qf,$f,jf,_b,JR;class QS{constructor(e){M(this,_b);M(this,ci,null);M(this,ka,null);M(this,Gf,!1);M(this,bn,null);M(this,xb,null);M(this,zf,null);M(this,vo,null);M(this,qf,null);M(this,$f,!1);M(this,jf,null);_(this,bn,e)}renderForToolbar(){const e=_(this,ka,document.createElement("button"));return e.className="comment",P(this,_b,JR).call(this,e,!1)}renderForStandalone(){const e=_(this,ci,document.createElement("button"));e.className="annotationCommentButton";const t=f(this,bn).commentButtonPosition;if(t){const{style:r}=e;r.insetInlineEnd=`calc(${100*(f(this,bn)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=f(this,bn).commentButtonColor;i&&(r.backgroundColor=i)}return P(this,_b,JR).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=f(this,ci)??f(this,ka))==null||e.focus()},0)}onUpdatedColor(){if(!f(this,ci))return;const e=f(this,bn).commentButtonColor;e&&(f(this,ci).style.backgroundColor=e),f(this,bn)._uiManager.updatePopupColor(f(this,bn))}get commentButtonWidth(){var e;return(((e=f(this,ci))==null?void 0:e.getBoundingClientRect().width)??0)/f(this,bn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(f(this,jf))return f(this,jf);if(!f(this,ci))return null;const{x:e,y:t,height:r}=f(this,ci).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=f(this,bn).parent.boundingClientRect;return[(e-i)/a,(t+r-s)/o]}set commentPopupPositionInLayer(e){_(this,jf,e)}hasDefaultPopupPosition(){return f(this,jf)===null}removeStandaloneCommentButton(){var e;(e=f(this,ci))==null||e.remove(),_(this,ci,null)}removeToolbarCommentButton(){var e;(e=f(this,ka))==null||e.remove(),_(this,ka,null)}setCommentButtonStates({selected:e,hasPopup:t}){f(this,ci)&&(f(this,ci).classList.toggle("selected",e),f(this,ci).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let r,i;if(t)[r,i]=t;else{[r,i]=f(this,bn).commentButtonPosition;const{width:d,height:h,x:g,y:v}=f(this,bn);r=g+r*d,i=v+i*h}const s=f(this,bn).parent.boundingClientRect,{x:a,y:o,width:l,height:u}=s;f(this,bn)._uiManager.editComment(f(this,bn),a+r*l,o+i*u,{...e,parentDimensions:s})}finish(){f(this,ka)&&(f(this,ka).focus({focusVisible:f(this,Gf)}),_(this,Gf,!1))}isDeleted(){return f(this,$f)||f(this,vo)===""}isEmpty(){return f(this,vo)===null}hasBeenEdited(){return this.isDeleted()||f(this,vo)!==f(this,xb)}serialize(){return this.data}get data(){return{text:f(this,vo),richText:f(this,zf),date:f(this,qf),deleted:this.isDeleted()}}set data(e){if(e!==f(this,vo)&&_(this,zf,null),e===null){_(this,vo,""),_(this,$f,!0);return}_(this,vo,e),_(this,qf,new Date),_(this,$f,!1)}setInitialText(e,t=null){_(this,xb,e),this.data=e,_(this,qf,null),_(this,zf,t)}shown(){}destroy(){var e,t;(e=f(this,ka))==null||e.remove(),_(this,ka,null),(t=f(this,ci))==null||t.remove(),_(this,ci,null),_(this,vo,""),_(this,zf,null),_(this,qf,null),_(this,bn,null),_(this,Gf,!1),_(this,$f,!1)}}ci=new WeakMap,ka=new WeakMap,Gf=new WeakMap,bn=new WeakMap,xb=new WeakMap,zf=new WeakMap,vo=new WeakMap,qf=new WeakMap,$f=new WeakMap,jf=new WeakMap,_b=new WeakSet,JR=function(e,t){if(!f(this,bn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[f(this,bn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=f(this,bn)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",ro,{signal:r}),t&&(e.addEventListener("focusin",s=>{f(this,bn)._focusEventsAllowed=!1,tr(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{f(this,bn)._focusEventsAllowed=!0,tr(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===f(this,ka)?this.edit():f(this,bn).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,Gf,!0),i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{f(this,bn).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{f(this,bn).toggleComment(!1,!1)},{signal:r}),e};var vm,Wf,Tb,Ib,Fb,Mb,Ub,gl,Yf,ml,Xf,vl,jd,a6,o6,A6,ym;let s6=(ym=class{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){M(this,jd);M(this,vm);M(this,Wf,!1);M(this,Tb,null);M(this,Ib);M(this,Fb);M(this,Mb);M(this,Ub);M(this,gl,null);M(this,Yf);M(this,ml,null);M(this,Xf);M(this,vl,null);_(this,vm,e),_(this,Tb,r),_(this,Ib,t),_(this,Fb,i),_(this,Mb,s),_(this,Ub,a),_(this,Xf,new AbortController),_(this,Yf,AbortSignal.any([o,f(this,Xf).signal])),e.addEventListener("touchstart",P(this,jd,a6).bind(this),{passive:!1,signal:f(this,Yf)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/vp.pixelRatio}destroy(){var e,t;(e=f(this,Xf))==null||e.abort(),_(this,Xf,null),(t=f(this,gl))==null||t.abort(),_(this,gl,null)}},vm=new WeakMap,Wf=new WeakMap,Tb=new WeakMap,Ib=new WeakMap,Fb=new WeakMap,Mb=new WeakMap,Ub=new WeakMap,gl=new WeakMap,Yf=new WeakMap,ml=new WeakMap,Xf=new WeakMap,vl=new WeakMap,jd=new WeakSet,a6=function(e){var i,s,a;if((i=f(this,Ib))!=null&&i.call(this))return;if(e.touches.length===1){if(f(this,gl))return;const o=_(this,gl,new AbortController),l=AbortSignal.any([f(this,Yf),o.signal]),u=f(this,vm),d={capture:!0,signal:l,passive:!1},h=g=>{var v;g.pointerType==="touch"&&((v=f(this,gl))==null||v.abort(),_(this,gl,null))};u.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(tr(g),h(g))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!f(this,vl)){_(this,vl,new AbortController);const o=AbortSignal.any([f(this,Yf),f(this,vl).signal]),l=f(this,vm),u={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",P(this,jd,o6).bind(this),u);const d=P(this,jd,A6).bind(this);l.addEventListener("touchend",d,u),l.addEventListener("touchcancel",d,u),u.capture=!0,l.addEventListener("pointerdown",tr,u),l.addEventListener("pointermove",tr,u),l.addEventListener("pointercancel",tr,u),l.addEventListener("pointerup",tr,u),(s=f(this,Fb))==null||s.call(this)}if(tr(e),e.touches.length!==2||(a=f(this,Tb))!=null&&a.call(this)){_(this,ml,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),_(this,ml,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},o6=function(e){var D;if(!f(this,ml)||e.touches.length!==2)return;tr(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=r,l=f(this,ml),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:g}=l,v=h-u,C=g-d,b=a-i,B=o-s,S=Math.hypot(b,B)||1,I=Math.hypot(v,C)||1;if(!f(this,Wf)&&Math.abs(I-S)<=ym.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!f(this,Wf)){_(this,Wf,!0);return}const T=[(i+a)/2,(s+o)/2];(D=f(this,Mb))==null||D.call(this,T,I,S)},A6=function(e){var t;e.touches.length>=2||(f(this,vl)&&(f(this,vl).abort(),_(this,vl,null),(t=f(this,Ub))==null||t.call(this)),f(this,ml)&&(tr(e),_(this,ml,null),_(this,Wf,!1)))},ym);var Jf,yo,Dn,fn,yl,wm,Hc,Pb,di,Zf,wl,Oa,Vc,Rb,eh,Vs,Db,th,bl,AA,bm,Cm,Ha,nh,Nb,h1,tt,ZR,Lb,eD,Wx,l6,u6,tD,Yx,nD,c6,d6,f6,rD,h6,iD,p6,g6,m6,sD,X0;const At=class At{constructor(e){M(this,tt);M(this,Jf,null);M(this,yo,null);M(this,Dn,null);M(this,fn,null);M(this,yl,null);M(this,wm,!1);M(this,Hc,null);M(this,Pb,"");M(this,di,null);M(this,Zf,null);M(this,wl,null);M(this,Oa,null);M(this,Vc,null);M(this,Rb,"");M(this,eh,!1);M(this,Vs,null);M(this,Db,!1);M(this,th,!1);M(this,bl,!1);M(this,AA,null);M(this,bm,0);M(this,Cm,0);M(this,Ha,null);M(this,nh,null);be(this,"isSelected",!1);be(this,"_isCopy",!1);be(this,"_editToolbar",null);be(this,"_initialOptions",Object.create(null));be(this,"_initialData",null);be(this,"_isVisible",!0);be(this,"_uiManager",null);be(this,"_focusEventsAllowed",!0);M(this,Nb,!1);M(this,h1,At._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=At.prototype._resizeWithKeyboard,t=Gw.TRANSLATE_SMALL,r=Gw.TRANSLATE_BIG;return at(this,"_resizerKeyboardManager",new qE([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],At.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return at(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Qce({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(At._l10n??(At._l10n=e),At._l10nResizer||(At._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),At._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);At._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){mn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,Nb)}set _isDraggable(e){var t;_(this,Nb,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,h1)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(P(this,tt,X0).call(this),(t=f(this,Oa))==null||t.remove(),_(this,Oa,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,eh)?_(this,eh,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}translate(e,t){P(this,tt,ZR).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,Vs)||_(this,Vs,[this.x,this.y,this.width,this.height]),P(this,tt,ZR).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){f(this,Vs)||_(this,Vs,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:d}=r;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!f(this,Vs)&&(f(this,Vs)[0]!==this.x||f(this,Vs)[1]!==this.y)}get _hasBeenResized(){return!!f(this,Vs)&&(f(this,Vs)[2]!==this.width||f(this,Vs)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=At,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=Ji(s,0,r-o),a=Ji(a,0,i-l);break;case 90:s=Ji(s,0,r-l),a=Ji(a,o,i);break;case 180:s=Ji(s,o,r),a=Ji(a,l,i);break;case 270:s=Ji(s,l,r),a=Ji(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[u,d]=this.getBaseTranslation();s+=u,a+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return P(r=At,Lb,eD).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return P(r=At,Lb,eD).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(){const{div:{style:e},width:t,height:r}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=f(this,Dn))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||f(this,th))return this._editToolbar;this._editToolbar=new GR(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=f(this,Dn))==null||t.destroy()}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return f(this,Dn)||(Z_.initialize(At._l10n),_(this,Dn,new Z_(this)),f(this,Jf)&&(f(this,Dn).data=f(this,Jf),_(this,Jf,null))),f(this,Dn)}get altTextData(){var e;return(e=f(this,Dn))==null?void 0:e.data}set altTextData(e){f(this,Dn)&&(f(this,Dn).data=e)}get guessedAltText(){var e;return(e=f(this,Dn))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,Dn))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,Dn))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,Dn)&&!f(this,Dn).isEmpty()}hasAltTextData(){var e;return((e=f(this,Dn))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=f(this,fn))==null||e.focusButton()}addCommentButton(){return this.canAddComment?f(this,fn)||_(this,fn,new QS(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(f(this,yl)){this._uiManager.isEditingMode()&&f(this,yl).classList.remove("hidden");return}this.hasComment&&(_(this,yl,f(this,fn).renderForStandalone()),this.div.append(f(this,yl)))}}removeStandaloneCommentButton(){f(this,fn).removeStandaloneCommentButton(),_(this,yl,null)}hideStandaloneCommentButton(){var e;(e=f(this,yl))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:r,deleted:i}}=f(this,fn);return{text:t,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){f(this,fn)||_(this,fn,new QS(this)),f(this,fn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:r}){if(!t||(f(this,fn)||_(this,fn,new QS(this)),f(this,fn).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=f(this,fn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=f(this,fn))==null?void 0:e.isDeleted()}get hasComment(){return!!f(this,fn)&&!f(this,fn).isEmpty()&&!f(this,fn).isDeleted()}async editComment(e){f(this,fn)||_(this,fn,new QS(this)),f(this,fn).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){f(this,fn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,u=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,u,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){f(this,fn).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=f(this,wm)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),P(this,tt,iD).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),zj(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,nh)||_(this,nh,new s6({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:P(this,tt,c6).bind(this),onPinching:P(this,tt,d6).bind(this),onPinchEnd:P(this,tt,f6).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=Si.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(_(this,eh,!0),this._isDraggable){P(this,tt,h6).call(this,e);return}P(this,tt,rD).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,AA)&&clearTimeout(f(this,AA)),_(this,AA,setTimeout(()=>{var e;_(this,AA,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,d=t/i,h=this.x*s,g=this.y*a,v=this.width*s,C=this.height*a;switch(r){case 0:return[h+u+o,a-g-d-C+l,h+u+v+o,a-g-d+l];case 90:return[h+d+o,a-g+u+l,h+d+C+o,a-g+u+v+l];case 180:return[h-u-v+o,a-g+d+l,h-u+o,a-g+d+C+l];case 270:return[h-d-C+o,a-g-u-v+l,h-d+o,a-g-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,t-a,o,l];case 90:return[r,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&At._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=f(this,fn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:u,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:u,modificationDate:r||d,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),_(this,th,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),_(this,th,!1),!0):!1}isInEditMode(){return f(this,th)}shouldGetKeyboardEvents(){return f(this,bl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&r>0}rebuild(){P(this,tt,iD).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,_(i,Jf,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,u,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=u/s,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,r;if((e=f(this,Vc))==null||e.abort(),_(this,Vc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),f(this,AA)&&(clearTimeout(f(this,AA)),_(this,AA,null)),P(this,tt,X0).call(this),this.removeEditToolbar(),f(this,Ha)){for(const i of f(this,Ha).values())clearTimeout(i);_(this,Ha,null)}this.parent=null,(t=f(this,nh))==null||t.destroy(),_(this,nh,null),(r=f(this,Oa))==null||r.remove(),_(this,Oa,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(P(this,tt,l6).call(this),f(this,di).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[r,i,s,a]=this.getPDFRect();return[At._round(r+(s-r)*e),At._round(i+(a-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return f(this,fn).commentPopupPositionInLayer}set commentPopupPosition(e){f(this,fn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return f(this,fn).hasDefaultPopupPosition()}get commentButtonWidth(){return f(this,fn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=f(this,fn))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),_(this,wl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,di).children;if(!f(this,yo)){_(this,yo,Array.from(t));const a=P(this,tt,p6).bind(this),o=P(this,tt,g6).bind(this),l=this._uiManager._signal;for(const u of f(this,yo)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",P(this,tt,m6).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",At._l10nResizer[d])}}const r=f(this,yo)[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(f(this,yo).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)f(this,di).append(f(this,di).firstElementChild);else if(s>i)for(let o=0;o<s-i;o++)f(this,di).firstElementChild.before(f(this,di).lastElementChild);let a=0;for(const o of t){const u=f(this,yo)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",At._l10nResizer[u])}}P(this,tt,sD).call(this,0),_(this,bl,!0),f(this,di).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,bl)&&P(this,tt,nD).call(this,f(this,Rb),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){P(this,tt,X0).call(this),this.div.focus()}select(){var e,t,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=f(this,Dn))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,r,i,s;this.isSelected&&(this.isSelected=!1,(e=f(this,di))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=f(this,Dn))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,Db)}set isEditing(e){_(this,Db,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,Ha)||_(this,Ha,new Map);const{action:r}=e;let i=f(this,Ha).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),f(this,Ha).delete(r),f(this,Ha).size===0&&_(this,Ha,null)},At._telemetryTimeout),f(this,Ha).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),_(this,wm,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,wm,!0)}updateFakeAnnotationElement(e){if(!f(this,Oa)&&!this.deleted){_(this,Oa,e.addFakeAnnotation(this));return}if(this.deleted){f(this,Oa).remove(),_(this,Oa,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&f(this,Oa).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Jf=new WeakMap,yo=new WeakMap,Dn=new WeakMap,fn=new WeakMap,yl=new WeakMap,wm=new WeakMap,Hc=new WeakMap,Pb=new WeakMap,di=new WeakMap,Zf=new WeakMap,wl=new WeakMap,Oa=new WeakMap,Vc=new WeakMap,Rb=new WeakMap,eh=new WeakMap,Vs=new WeakMap,Db=new WeakMap,th=new WeakMap,bl=new WeakMap,AA=new WeakMap,bm=new WeakMap,Cm=new WeakMap,Ha=new WeakMap,nh=new WeakMap,Nb=new WeakMap,h1=new WeakMap,tt=new WeakSet,ZR=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Lb=new WeakSet,eD=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Wx=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},l6=function(){if(f(this,di))return;_(this,di,document.createElement("div")),f(this,di).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");f(this,di).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",P(this,tt,u6).bind(this,r),{signal:t}),i.addEventListener("contextmenu",ro,{signal:t}),i.tabIndex=-1}this.div.prepend(f(this,di))},u6=function(e,t){var d;t.preventDefault();const{isMac:r}=Si.platform;if(t.button!==0||t.ctrlKey&&r)return;(d=f(this,Dn))==null||d.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,_(this,Zf,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",P(this,tt,nD).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",tr,{passive:!1,signal:a}),window.addEventListener("contextmenu",ro,{signal:a}),_(this,wl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=f(this,Dn))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,P(this,tt,Yx).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},tD=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Yx=function(){if(!f(this,wl))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=f(this,wl);_(this,wl,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===r&&l===i||this.addCommands({cmd:P(this,tt,tD).bind(this,s,a,o,l),undo:P(this,tt,tD).bind(this,e,t,r,i),mustExec:!0})},nD=function(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=At.MIN_SIZE/r,d=At.MIN_SIZE/i,h=P(this,tt,Wx).call(this,this.rotation),g=(V,j)=>[h[0]*V+h[2]*j,h[1]*V+h[3]*j],v=P(this,tt,Wx).call(this,360-this.rotation),C=(V,j)=>[v[0]*V+v[2]*j,v[1]*V+v[3]*j];let b,B,S=!1,I=!1;switch(e){case"topLeft":S=!0,b=(V,j)=>[0,0],B=(V,j)=>[V,j];break;case"topMiddle":b=(V,j)=>[V/2,0],B=(V,j)=>[V/2,j];break;case"topRight":S=!0,b=(V,j)=>[V,0],B=(V,j)=>[0,j];break;case"middleRight":I=!0,b=(V,j)=>[V,j/2],B=(V,j)=>[0,j/2];break;case"bottomRight":S=!0,b=(V,j)=>[V,j],B=(V,j)=>[0,0];break;case"bottomMiddle":b=(V,j)=>[V/2,j],B=(V,j)=>[V/2,0];break;case"bottomLeft":S=!0,b=(V,j)=>[0,j],B=(V,j)=>[V,0];break;case"middleLeft":I=!0,b=(V,j)=>[0,j/2],B=(V,j)=>[V,j/2];break}const T=b(o,l),D=B(o,l);let U=g(...D);const R=At._round(s+U[0]),Q=At._round(a+U[1]);let H=1,k=1,G,K;if(t.fromKeyboard)({deltaX:G,deltaY:K}=t);else{const{screenX:V,screenY:j}=t,[se,pe]=f(this,Zf);[G,K]=this.screenToPageTranslation(V-se,j-pe),f(this,Zf)[0]=V,f(this,Zf)[1]=j}if([G,K]=C(G/r,K/i),S){const V=Math.hypot(o,l);H=k=Math.max(Math.min(Math.hypot(D[0]-T[0]-G,D[1]-T[1]-K)/V,1/o,1/l),u/o,d/l)}else I?H=Ji(Math.abs(D[0]-T[0]-G),u,1)/o:k=Ji(Math.abs(D[1]-T[1]-K),d,1)/l;const z=At._round(o*H),Z=At._round(l*k);U=g(...B(z,Z));const Y=R-U[0],ve=Q-U[1];f(this,Vs)||_(this,Vs,[this.x,this.y,this.width,this.height]),this.width=z,this.height=Z,this.x=Y,this.y=ve,this.setDims(),this.fixAndSetPosition(),this._onResizing()},c6=function(){var e;_(this,wl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=f(this,Dn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},d6=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const a=P(this,tt,Wx).call(this,this.rotation),o=(R,Q)=>[a[0]*R+a[2]*Q,a[1]*R+a[3]*Q],[l,u]=this.parentDimensions,d=this.x,h=this.y,g=this.width,v=this.height,C=At.MIN_SIZE/l,b=At.MIN_SIZE/u;s=Math.max(Math.min(s,1/g,1/v),C/g,b/v);const B=At._round(g*s),S=At._round(v*s);if(B===g&&S===v)return;f(this,Vs)||_(this,Vs,[d,h,g,v]);const I=o(g/2,v/2),T=At._round(d+I[0]),D=At._round(h+I[1]),U=o(B/2,S/2);this.x=T-U[0],this.y=D-U[1],this.width=B,this.height=S,this.setDims(),this.fixAndSetPosition(),this._onResizing()},f6=function(){var e;(e=f(this,Dn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),P(this,tt,Yx).call(this)},rD=function(e){const{isMac:t}=Si.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},h6=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=u=>{i.abort(),_(this,Hc,null),_(this,eh,!1),this._uiManager.endDragSession()||P(this,tt,rD).call(this,u),r&&this._onStopDragging()};t&&(_(this,bm,e.clientX),_(this,Cm,e.clientY),_(this,Hc,e.pointerId),_(this,Pb,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:g}=u;if(g!==f(this,Hc)){tr(u);return}const[v,C]=this.screenToPageTranslation(d-f(this,bm),h-f(this,Cm));_(this,bm,d),_(this,Cm,h),this._uiManager.dragSelectedEditors(v,C)},a),window.addEventListener("touchmove",tr,a),window.addEventListener("pointerdown",u=>{u.pointerType===f(this,Pb)&&(f(this,nh)||u.isPrimary)&&o(u),tr(u)},a));const l=u=>{if(!f(this,Hc)||f(this,Hc)===u.pointerId){o(u);return}tr(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},iD=function(){if(f(this,Vc)||!this.div)return;_(this,Vc,new AbortController);const e=this._uiManager.combinedSignal(f(this,Vc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},p6=function(e){At._resizerKeyboardManager.exec(this,e)},g6=function(e){var t;f(this,bl)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,di)&&P(this,tt,X0).call(this)},m6=function(e){_(this,Rb,f(this,bl)?e:"")},sD=function(e){if(f(this,yo))for(const t of f(this,yo))t.tabIndex=e},X0=function(){_(this,bl,!1),P(this,tt,sD).call(this,-1),P(this,tt,Yx).call(this)},M(At,Lb),be(At,"_l10n",null),be(At,"_l10nResizer",null),be(At,"_borderLineWidth",-1),be(At,"_colorManager",new $R),be(At,"_zIndex",1),be(At,"_telemetryTimeout",1e3);let Bn=At;class Qce extends Bn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const CK=3285377520,_a=4294901760,Yo=65535;class v6{constructor(e){this.h1=e?e&4294967295:CK,this.h2=e?e&4294967295:CK}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let b=0,B=e.length;b<B;b++){const S=e.charCodeAt(b);S<=255?t[r++]=S:(t[r++]=S>>>8,t[r++]=S&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,u=this.h1,d=this.h2;const h=3432918353,g=461845907,v=h&Yo,C=g&Yo;for(let b=0;b<i;b++)b&1?(o=a[b],o=o*h&_a|o*v&Yo,o=o<<15|o>>>17,o=o*g&_a|o*C&Yo,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[b],l=l*h&_a|l*v&Yo,l=l<<15|l>>>17,l=l*g&_a|l*C&Yo,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*h&_a|o*v&Yo,o=o<<15|o>>>17,o=o*g&_a|o*C&Yo,i&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&_a|e*36045&Yo,t=t*4283543511&_a|((t<<16|e>>>16)*2950163797&_a)>>>16,e^=t>>>1,e=e*444984403&_a|e*60499&Yo,t=t*3301882366&_a|((t<<16|e>>>16)*3120437893&_a)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const aD=Object.freeze({map:null,hash:"",transfer:void 0});var rh,ih,Cl,fi,p1,y6;class QQ{constructor(){M(this,p1);M(this,rh,!1);M(this,ih,null);M(this,Cl,null);M(this,fi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=f(this,fi).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return f(this,fi).get(e)}remove(e){const t=f(this,fi).get(e);if(t!==void 0&&(t instanceof Bn&&f(this,Cl).delete(t.annotationElementId),f(this,fi).delete(e),f(this,fi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of f(this,fi).values())if(r instanceof Bn)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=f(this,fi).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,f(this,fi).set(e,t);i&&P(this,p1,y6).call(this),t instanceof Bn&&((f(this,Cl)||_(this,Cl,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return f(this,fi).has(e)}get size(){return f(this,fi).size}resetModified(){f(this,rh)&&(_(this,rh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new w6(this)}get serializable(){if(f(this,fi).size===0)return aD;const e=new Map,t=new v6,r=[],i=Object.create(null);let s=!1;for(const[a,o]of f(this,fi)){const l=o instanceof Bn?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:aD}get editorStats(){let e=null;const t=new Map;let r=0,i=0;for(const s of f(this,fi).values()){if(!(s instanceof Bn)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(a)){if(u==="type")continue;let h=l.get(u);h||(h=new Map,l.set(u,h));const g=h.get(d)??0;h.set(d,g+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){_(this,ih,null)}updateEditor(e,t){var i;const r=(i=f(this,Cl))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=f(this,Cl))==null?void 0:t.get(e))||null}get modifiedIds(){if(f(this,ih))return f(this,ih);const e=[];if(f(this,Cl))for(const t of f(this,Cl).values())t.serialize()&&e.push(t.annotationElementId);return _(this,ih,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return f(this,fi).entries()}}rh=new WeakMap,ih=new WeakMap,Cl=new WeakMap,fi=new WeakMap,p1=new WeakSet,y6=function(){f(this,rh)||(_(this,rh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Qb;class w6 extends QQ{constructor(t){super();M(this,Qb);const{map:r,hash:i,transfer:s}=t.serializable,a=structuredClone(r,s?{transfer:s}:null);_(this,Qb,{map:a,hash:i,transfer:s})}get print(){mn("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,Qb)}get modifiedIds(){return at(this,"modifiedIds",{ids:new Set,hash:""})}}Qb=new WeakMap;var Em;class kce{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){M(this,Em,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,Em).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||f(this,Em).has(e.loadedName))){if(It(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),f(this,Em).add(i),r==null||r(e)}catch{st(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}mn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw st(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return at(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return at(this,"isSyncFontLoadingSupported",Xi||Si.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(It(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return at(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(D,U){return D.charCodeAt(U)<<24|D.charCodeAt(U+1)<<16|D.charCodeAt(U+2)<<8|D.charCodeAt(U+3)&255}function i(D,U,R,Q){const H=D.substring(0,U),k=D.substring(U+R);return H+Q+k}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(D,U){if(++u>30){st("Load test font never loaded."),U();return}if(l.font="30px "+D,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){U();return}setTimeout(d.bind(null,D,U))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,h.length,h);const C=16,b=1482184792;let B=r(g,C);for(s=0,a=h.length-3;s<a;s+=4)B=B-b+r(h,s)|0;s<h.length&&(B=B-b+r(h+"XXX",s)|0),g=i(g,C,4,yce(B));const S=`url(data:font/opentype;base64,${btoa(g)});`,I=`@font-face {font-family:"${h}";src:${S}}`;this.insertRule(I);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const D of[e.loadedName,h]){const U=this._document.createElement("span");U.textContent="Hi",U.style.fontFamily=D,T.append(U)}this._document.body.append(T),d(h,()=>{T.remove(),t.complete()})}}Em=new WeakMap;var sn;class Oce{constructor(e,t=null,r,i){M(this,sn);this.compiledGlyphs=Object.create(null),_(this,sn,e),this._inspectFont=t,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${Nj(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(a){st(`getPathGenerator - ignoring character: "${a}".`)}const s=kj(i);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}get black(){return f(this,sn).black}get bold(){return f(this,sn).bold}get disableFontFace(){return f(this,sn).disableFontFace??!1}set disableFontFace(e){at(this,"disableFontFace",!!e)}get fontExtraProperties(){return f(this,sn).fontExtraProperties??!1}get isInvalidPDFjsFont(){return f(this,sn).isInvalidPDFjsFont}get isType3Font(){return f(this,sn).isType3Font}get italic(){return f(this,sn).italic}get missingFile(){return f(this,sn).missingFile}get remeasure(){return f(this,sn).remeasure}get vertical(){return f(this,sn).vertical}get ascent(){return f(this,sn).ascent}get defaultWidth(){return f(this,sn).defaultWidth}get descent(){return f(this,sn).descent}get bbox(){return f(this,sn).bbox}set bbox(e){at(this,"bbox",e)}get fontMatrix(){return f(this,sn).fontMatrix}get fallbackName(){return f(this,sn).fallbackName}get loadedName(){return f(this,sn).loadedName}get mimetype(){return f(this,sn).mimetype}get name(){return f(this,sn).name}get data(){return f(this,sn).data}clearData(){f(this,sn).clearData()}get cssFontInfo(){return f(this,sn).cssFontInfo}get systemFontInfo(){return f(this,sn).systemFontInfo}get defaultVMetrics(){return f(this,sn).defaultVMetrics}}sn=new WeakMap;var Bm,Sm,kb,xm,Xx;const Vg=class Vg{constructor(e){M(this,xm);M(this,Bm);M(this,Sm);M(this,kb);_(this,Bm,e),_(this,Sm,new DataView(f(this,Bm))),_(this,kb,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const u of Vg.strings){const d=t.encode(e[u]);r[u]=d,i+=4+d.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const u of Vg.strings){const d=r[u],h=d.length;o.setUint32(l,h),a.set(d,l+4),l+=4+h}return It(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return P(this,xm,Xx).call(this,0)}get fontWeight(){return P(this,xm,Xx).call(this,1)}get italicAngle(){return P(this,xm,Xx).call(this,2)}};Bm=new WeakMap,Sm=new WeakMap,kb=new WeakMap,xm=new WeakSet,Xx=function(e){It(e<Vg.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=f(this,Sm).getUint32(t)+4;const r=f(this,Sm).getUint32(t);return f(this,kb).decode(new Uint8Array(f(this,Bm),t+4,r))},be(Vg,"strings",["fontFamily","fontWeight","italicAngle"]);let eT=Vg;var Kc,lA,sh,ah,J0;const Kg=class Kg{constructor(e){M(this,ah);M(this,Kc);M(this,lA);M(this,sh);_(this,Kc,e),_(this,lA,new DataView(f(this,Kc))),_(this,sh,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const g of Kg.strings){const v=t.encode(e[g]);r[g]=v,i+=4+v.length}i+=4;let s,a,o=1+i;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,i=0;for(const g of Kg.strings){const v=r[g],C=v.length;i+=4+C,d.setUint32(h,C),u.set(v,h+4),h+=4+C}return d.setUint32(h-i-4,i),e.style&&(d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),u.set(a,h+4),h+=4+a.length),It(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return f(this,lA).getUint8(0)!==0}get css(){return P(this,ah,J0).call(this,0)}get loadedName(){return P(this,ah,J0).call(this,1)}get baseFontName(){return P(this,ah,J0).call(this,2)}get src(){return P(this,ah,J0).call(this,3)}get style(){let e=1;e+=4+f(this,lA).getUint32(e);const t=f(this,lA).getUint32(e),r=f(this,sh).decode(new Uint8Array(f(this,Kc),e+4,t));e+=4+t;const i=f(this,lA).getUint32(e),s=f(this,sh).decode(new Uint8Array(f(this,Kc),e+4,i));return{style:r,weight:s}}};Kc=new WeakMap,lA=new WeakMap,sh=new WeakMap,ah=new WeakSet,J0=function(e){It(e<Kg.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=f(this,lA).getUint32(t)+4;const r=f(this,lA).getUint32(t);return f(this,sh).decode(new Uint8Array(f(this,Kc),t+4,r))},be(Kg,"strings",["css","loadedName","baseFontName","src"]);let tT=Kg;var _m,Tm,Im,Fm,Ks,uA,Ob,an,er,po,Jx,Z0;const dt=class dt{constructor({data:e,extra:t}){M(this,er);M(this,uA);M(this,Ob);M(this,an);_(this,uA,e),_(this,Ob,new TextDecoder),_(this,an,new DataView(f(this,uA))),t&&Object.assign(this,t)}get black(){return P(this,er,po).call(this,0)}get bold(){return P(this,er,po).call(this,1)}get disableFontFace(){return P(this,er,po).call(this,2)}get fontExtraProperties(){return P(this,er,po).call(this,3)}get isInvalidPDFjsFont(){return P(this,er,po).call(this,4)}get isType3Font(){return P(this,er,po).call(this,5)}get italic(){return P(this,er,po).call(this,6)}get missingFile(){return P(this,er,po).call(this,7)}get remeasure(){return P(this,er,po).call(this,8)}get vertical(){return P(this,er,po).call(this,9)}get ascent(){return P(this,er,Jx).call(this,0)}get defaultWidth(){return P(this,er,Jx).call(this,1)}get descent(){return P(this,er,Jx).call(this,2)}get bbox(){let e=f(dt,Tm);if(f(this,an).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(f(this,an).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=f(dt,Im);if(f(this,an).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(f(this,an).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=f(dt,Fm);if(f(this,an).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(f(this,an).getInt16(e,!0)),e+=2;return r}get fallbackName(){return P(this,er,Z0).call(this,0)}get loadedName(){return P(this,er,Z0).call(this,1)}get mimetype(){return P(this,er,Z0).call(this,2)}get name(){return P(this,er,Z0).call(this,3)}get data(){let e=f(dt,Ks);const t=f(this,an).getUint32(e);e+=4+t;const r=f(this,an).getUint32(e);e+=4+r;const i=f(this,an).getUint32(e);e+=4+i;const s=f(this,an).getUint32(e);if(s!==0)return new Uint8Array(f(this,uA),e+4,s)}clearData(){let e=f(dt,Ks);const t=f(this,an).getUint32(e);e+=4+t;const r=f(this,an).getUint32(e);e+=4+r;const i=f(this,an).getUint32(e);e+=4+i;const s=f(this,an).getUint32(e);new Uint8Array(f(this,uA),e+4,s).fill(0),f(this,an).setUint32(e,0)}get cssFontInfo(){let e=f(dt,Ks);const t=f(this,an).getUint32(e);e+=4+t;const r=f(this,an).getUint32(e);e+=4+r;const i=f(this,an).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(f(this,uA),e+4,i)),new eT(s.buffer)}get systemFontInfo(){let e=f(dt,Ks);const t=f(this,an).getUint32(e);e+=4+t;const r=f(this,an).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(f(this,uA),e+4,r)),new tT(i.buffer)}static write(e){const t=e.systemFontInfo?tT.write(e.systemFontInfo):null,r=e.cssFontInfo?eT.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const b of dt.strings)s[b]=i.encode(e[b]),a+=4+s[b].length;const o=f(dt,Ks)+4+a+4+(t?t.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;const g=dt.bools.length;let v=0,C=0;for(let b=0;b<g;b++){const B=e[dt.bools[b]];v|=(B===void 0?0:B?2:1)<<C,C+=2,(C===8||b===g-1)&&(d.setUint8(h++,v),v=0,C=0)}It(h===f(dt,_m),"FontInfo.write: Boolean properties offset mismatch");for(const b of dt.numbers)d.setFloat64(h,e[b]),h+=8;if(It(h===f(dt,Tm),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const b of e.bbox)d.setInt16(h,b,!0),h+=2}else d.setUint8(h++,0),h+=8;if(It(h===f(dt,Im),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const b of e.fontMatrix)d.setFloat64(h,b,!0),h+=8}else d.setUint8(h++,0),h+=48;if(It(h===f(dt,Fm),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const b of e.defaultVMetrics)d.setInt16(h,b,!0),h+=2}else d.setUint8(h++,0),h+=6;It(h===f(dt,Ks),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(f(dt,Ks),0),h+=4;for(const b of dt.strings){const B=s[b],S=B.length;d.setUint32(h,S),u.set(B,h+4),h+=4+S}if(d.setUint32(f(dt,Ks),h-f(dt,Ks)-4),!t)d.setUint32(h,0),h+=4;else{const b=t.byteLength;d.setUint32(h,b),It(h+4+b<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+b}if(!r)d.setUint32(h,0),h+=4;else{const b=r.byteLength;d.setUint32(h,b),It(h+4+b<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(r),h+4),h+=4+b}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),It(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};_m=new WeakMap,Tm=new WeakMap,Im=new WeakMap,Fm=new WeakMap,Ks=new WeakMap,uA=new WeakMap,Ob=new WeakMap,an=new WeakMap,er=new WeakSet,po=function(e){It(e<dt.bools.length,"Invalid boolean index");const t=Math.floor(e/4),r=e*2%8,i=f(this,an).getUint8(t)>>r&3;return i===0?void 0:i===2},Jx=function(e){return It(e<dt.numbers.length,"Invalid number index"),f(this,an).getFloat64(f(dt,_m)+e*8)},Z0=function(e){It(e<dt.strings.length,"Invalid string index");let t=f(dt,Ks)+4;for(let s=0;s<e;s++)t+=f(this,an).getUint32(t)+4;const r=f(this,an).getUint32(t),i=new Uint8Array(r);return i.set(new Uint8Array(f(this,uA),t+4,r)),f(this,Ob).decode(i)},be(dt,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),be(dt,"numbers",["ascent","defaultWidth","descent"]),be(dt,"strings",["fallbackName","loadedName","mimetype","name"]),M(dt,_m,Math.ceil(dt.bools.length*2/8)),M(dt,Tm,f(dt,_m)+dt.numbers.length*8),M(dt,Im,f(dt,Tm)+1+8),M(dt,Fm,f(dt,Im)+1+48),M(dt,Ks,f(dt,Fm)+1+6);let oD=dt;var Hb,Vb,Kb,Gb,zb,qb,$b,jb;const wn=class wn{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,r=null,i=[],s=[],a=[],o=[],l=null,u=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,r=e[2],a=e[3],t===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],r=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(i.length/2),h=Math.floor(s.length/3),g=a.length,v=o.length;let C=0;for(const U of o)C+=1,C=Math.ceil(C/4)*4,C+=4+U.coords.length*4,C+=4+U.colors.length*4,U.verticesPerRow!==void 0&&(C+=4);const b=20+d*8+h*3+g*8+(r?16:0)+(u?3:0)+C,B=new ArrayBuffer(b),S=new DataView(B),I=new Uint8Array(B);S.setUint8(f(wn,Hb),t),S.setUint8(f(wn,Vb),r?1:0),S.setUint8(f(wn,Kb),u?1:0),S.setUint8(f(wn,Gb),l),S.setUint32(f(wn,zb),d,!0),S.setUint32(f(wn,qb),h,!0),S.setUint32(f(wn,$b),g,!0),S.setUint32(f(wn,jb),v,!0);let T=20;new Float32Array(B,T,d*2).set(i),T+=d*8,I.set(s,T),T+=h*3;for(const[U,R]of a)S.setFloat32(T,U,!0),T+=4,S.setUint32(T,parseInt(R.slice(1),16),!0),T+=4;if(r)for(const U of r)S.setFloat32(T,U,!0),T+=4;u&&(I.set(u,T),T+=3);for(let U=0;U<o.length;U++){const R=o[U];S.setUint8(T,R.type),T+=1,T=Math.ceil(T/4)*4,S.setUint32(T,R.coords.length,!0),T+=4,new Int32Array(B,T,R.coords.length).set(R.coords),T+=R.coords.length*4,S.setUint32(T,R.colors.length,!0),T+=4,new Int32Array(B,T,R.colors.length).set(R.colors),T+=R.colors.length*4,R.verticesPerRow!==void 0&&(S.setUint32(T,R.verticesPerRow,!0),T+=4)}return B}getIR(){const e=this.view,t=this.data[f(wn,Hb)],r=!!this.data[f(wn,Vb)],i=!!this.data[f(wn,Kb)],s=e.getUint32(f(wn,zb),!0),a=e.getUint32(f(wn,qb),!0),o=e.getUint32(f(wn,$b),!0),l=e.getUint32(f(wn,jb),!0);let u=20;const d=new Float32Array(this.buffer,u,s*2);u+=s*8;const h=new Uint8Array(this.buffer,u,a*3);u+=a*3;const g=[];for(let B=0;B<o;++B){const S=e.getFloat32(u,!0);u+=4;const I=e.getUint32(u,!0);u+=4,g.push([S,`#${I.toString(16).padStart(6,"0")}`])}let v=null;if(r){v=[];for(let B=0;B<4;++B)v.push(e.getFloat32(u,!0)),u+=4}let C=null;i&&(C=new Uint8Array(this.buffer,u,3),u+=3);const b=[];for(let B=0;B<l;++B){const S=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const I=e.getUint32(u,!0);u+=4;const T=new Int32Array(this.buffer,u,I);u+=I*4;const D=e.getUint32(u,!0);u+=4;const U=new Int32Array(this.buffer,u,D);u+=D*4;const R={type:S,coords:T,colors:U};S===LR.LATTICE&&(R.verticesPerRow=e.getUint32(u,!0),u+=4),b.push(R)}if(t===1)return["RadialAxial","axial",v,g,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",v,g,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(t===3){const B=this.data[f(wn,Gb)];let S=null;if(d.length>0){let I=d[0],T=d[0],D=d[1],U=d[1];for(let R=0;R<d.length;R+=2){const Q=d[R],H=d[R+1];I=I>Q?Q:I,D=D>H?H:D,T=T<Q?Q:T,U=U<H?H:U}S=[I,D,T,U]}return["Mesh",B,d,h,b,S,v,C]}throw new Error(`Unsupported pattern kind: ${t}`)}};Hb=new WeakMap,Vb=new WeakMap,Kb=new WeakMap,Gb=new WeakMap,zb=new WeakMap,qb=new WeakMap,$b=new WeakMap,jb=new WeakMap,M(wn,Hb,0),M(wn,Vb,1),M(wn,Kb,2),M(wn,Gb,3),M(wn,zb,4),M(wn,qb,8),M(wn,$b,12),M(wn,jb,16);let AD=wn;function Hce(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Xi)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Vce(n){if(Xi&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return VE(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function kS(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const lD=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,Kce=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",Gce=Bce.bind(null,lD,Kce);var El,g1;class zce{constructor(){M(this,El,new Map);M(this,g1,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};f(this,g1).then(()=>{for(const[i]of f(this,El))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){st("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}f(this,El).set(t,i)}removeEventListener(e,t){const r=f(this,El).get(t);r==null||r(),f(this,El).delete(t)}terminate(){for(const[,e]of f(this,El))e==null||e();f(this,El).clear()}}El=new WeakMap,g1=new WeakMap;const OS={DATA:1,ERROR:2},br={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function EK(){}function ds(n){if(n instanceof Vd||n instanceof QR||n instanceof pK||n instanceof J_||n instanceof iU)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||mn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Vd(n.message);case"InvalidPDFException":return new QR(n.message);case"PasswordException":return new pK(n.message,n.code);case"ResponseException":return new J_(n.message,n.status,n.missing);case"UnknownErrorException":return new iU(n.message,n.details)}return new iU(n.message,n.toString())}var Mm,to,b6,C6,E6,Zx;class ew{constructor(e,t,r){M(this,to);M(this,Mm,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",P(this,to,b6).bind(this),{signal:f(this,Mm).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:br.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{It(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:br.CANCEL,streamId:s,reason:ds(u)}),d.promise}},r)}destroy(){var e;(e=f(this,Mm))==null||e.abort(),_(this,Mm,null)}}Mm=new WeakMap,to=new WeakSet,b6=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){P(this,to,E6).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===OS.DATA)i.resolve(e.data);else if(e.callback===OS.ERROR)i.reject(ds(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:OS.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:OS.ERROR,callbackId:e.callbackId,reason:ds(a)})});return}if(e.streamId){P(this,to,C6).call(this,e);return}t(e.data)},C6=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:br.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:br.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){It(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:br.ERROR,streamId:t,reason:ds(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:br.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:br.START_COMPLETE,streamId:t,reason:ds(u)})})},E6=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case br.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(ds(e.reason));break;case br.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(ds(e.reason));break;case br.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:br.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||EK).then(function(){s.postMessage({sourceName:r,targetName:i,stream:br.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:br.PULL_COMPLETE,streamId:t,reason:ds(u)})});break;case br.ENQUEUE:if(It(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case br.CLOSE:if(It(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),P(this,to,Zx).call(this,a,t);break;case br.ERROR:It(a,"error should have stream controller"),a.controller.error(ds(e.reason)),P(this,to,Zx).call(this,a,t);break;case br.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(ds(e.reason)),P(this,to,Zx).call(this,a,t);break;case br.CANCEL:if(!o)break;const l=ds(e.reason);Promise.try(o.onCancel||EK,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:br.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:br.CANCEL_COMPLETE,streamId:t,reason:ds(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Zx=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Wb;class B6{constructor({enableHWA:e=!1}){M(this,Wb,!1);_(this,Wb,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!f(this,Wb)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){mn("Abstract method `_createCanvas` called.")}}Wb=new WeakMap;class qce extends B6{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class S6{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){mn("Abstract method `_fetch` called.")}}class BK extends S6{async _fetch(e){const t=await KE(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):VE(t)}}class x6{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var oh,Um,Bl,Sl,Pi,Ah,lh,De,Ii,tw,Bg,e_,Sg,_6,uD,xg,nw,rw,cD,iw;class $ce extends x6{constructor({docId:t,ownerDocument:r=globalThis.document}){super();M(this,De);M(this,oh);M(this,Um);M(this,Bl);M(this,Sl);M(this,Pi);M(this,Ah);M(this,lh,0);_(this,Sl,t),_(this,Pi,r)}addFilter(t){if(!t)return"none";let r=f(this,De,Ii).get(t);if(r)return r;const[i,s,a]=P(this,De,e_).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(r=f(this,De,Ii).get(o),r)return f(this,De,Ii).set(t,r),r;const l=`g_${f(this,Sl)}_transfer_map_${ar(this,lh)._++}`,u=P(this,De,Sg).call(this,l);f(this,De,Ii).set(t,u),f(this,De,Ii).set(o,u);const d=P(this,De,xg).call(this,l);return P(this,De,rw).call(this,i,s,a,d),u}addHCMFilter(t,r){var C;const i=`${t}-${r}`,s="base";let a=f(this,De,tw).get(s);if((a==null?void 0:a.key)===i||(a?((C=a.filter)==null||C.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},f(this,De,tw).set(s,a)),!t||!r))return a.url;const o=P(this,De,iw).call(this,t);t=Oe.makeHexColor(...o);const l=P(this,De,iw).call(this,r);if(r=Oe.makeHexColor(...l),f(this,De,Bg).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const u=new Array(256);for(let b=0;b<=255;b++){const B=b/255;u[b]=B<=.03928?B/12.92:((B+.055)/1.055)**2.4}const d=u.join(","),h=`g_${f(this,Sl)}_hcm_filter`,g=a.filter=P(this,De,xg).call(this,h);P(this,De,rw).call(this,d,d,d,g),P(this,De,uD).call(this,g);const v=(b,B)=>{const S=o[b]/255,I=l[b]/255,T=new Array(B+1);for(let D=0;D<=B;D++)T[D]=S+D/B*(I-S);return T.join(",")};return P(this,De,rw).call(this,v(0,5),v(1,5),v(2,5),g),a.url=P(this,De,Sg).call(this,h),a.url}addAlphaFilter(t){let r=f(this,De,Ii).get(t);if(r)return r;const[i]=P(this,De,e_).call(this,[t]),s=`alpha_${i}`;if(r=f(this,De,Ii).get(s),r)return f(this,De,Ii).set(t,r),r;const a=`g_${f(this,Sl)}_alpha_map_${ar(this,lh)._++}`,o=P(this,De,Sg).call(this,a);f(this,De,Ii).set(t,o),f(this,De,Ii).set(s,o);const l=P(this,De,xg).call(this,a);return P(this,De,cD).call(this,i,l),o}addLuminosityFilter(t){let r=f(this,De,Ii).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=P(this,De,e_).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=f(this,De,Ii).get(s),r)return f(this,De,Ii).set(t,r),r;const a=`g_${f(this,Sl)}_luminosity_map_${ar(this,lh)._++}`,o=P(this,De,Sg).call(this,a);f(this,De,Ii).set(t,o),f(this,De,Ii).set(s,o);const l=P(this,De,xg).call(this,a);return P(this,De,_6).call(this,l),t&&P(this,De,cD).call(this,i,l),o}addHighlightHCMFilter(t,r,i,s,a){var I;const o=`${r}-${i}-${s}-${a}`;let l=f(this,De,tw).get(t);if((l==null?void 0:l.key)===o||(l?((I=l.filter)==null||I.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},f(this,De,tw).set(t,l)),!r||!i))return l.url;const[u,d]=[r,i].map(P(this,De,iw).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,C]=[s,a].map(P(this,De,iw).bind(this));g<h&&([h,g,v,C]=[g,h,C,v]),f(this,De,Bg).style.color="";const b=(T,D,U)=>{const R=new Array(256),Q=(g-h)/U,H=T/255,k=(D-T)/(255*U);let G=0;for(let K=0;K<=U;K++){const z=Math.round(h+K*Q),Z=H+K*k;for(let Y=G;Y<=z;Y++)R[Y]=Z;G=z+1}for(let K=G;K<256;K++)R[K]=R[G-1];return R.join(",")},B=`g_${f(this,Sl)}_hcm_${t}_filter`,S=l.filter=P(this,De,xg).call(this,B);return P(this,De,uD).call(this,S),P(this,De,rw).call(this,b(v[0],C[0],5),b(v[1],C[1],5),b(v[2],C[2],5),S),l.url=P(this,De,Sg).call(this,B),l.url}destroy(t=!1){var r,i,s,a;t&&((r=f(this,Ah))!=null&&r.size)||((i=f(this,Bl))==null||i.parentNode.parentNode.remove(),_(this,Bl,null),(s=f(this,Um))==null||s.clear(),_(this,Um,null),(a=f(this,Ah))==null||a.clear(),_(this,Ah,null),_(this,lh,0))}}oh=new WeakMap,Um=new WeakMap,Bl=new WeakMap,Sl=new WeakMap,Pi=new WeakMap,Ah=new WeakMap,lh=new WeakMap,De=new WeakSet,Ii=function(){return f(this,Um)||_(this,Um,new Map)},tw=function(){return f(this,Ah)||_(this,Ah,new Map)},Bg=function(){if(!f(this,Bl)){const t=f(this,Pi).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=f(this,Pi).createElementNS(il,"svg");i.setAttribute("width",0),i.setAttribute("height",0),_(this,Bl,f(this,Pi).createElementNS(il,"defs")),t.append(i),i.append(f(this,Bl)),f(this,Pi).body.append(t)}return f(this,Bl)},e_=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let g=0;g<256;g++)d[g]=u[g]/255;const h=d.join(",");return[h,h,h]}const[r,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=r[u]/255,o[u]=i[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},Sg=function(t){if(f(this,oh)===void 0){_(this,oh,"");const r=f(this,Pi).URL;r!==f(this,Pi).baseURI&&(H1(r)?st('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,oh,Pj(r,"")))}return`url(${f(this,oh)}#${t})`},_6=function(t){const r=f(this,Pi).createElementNS(il,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},uD=function(t){const r=f(this,Pi).createElementNS(il,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},xg=function(t){const r=f(this,Pi).createElementNS(il,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),f(this,De,Bg).append(r),r},nw=function(t,r,i){const s=f(this,Pi).createElementNS(il,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},rw=function(t,r,i,s){const a=f(this,Pi).createElementNS(il,"feComponentTransfer");s.append(a),P(this,De,nw).call(this,a,"feFuncR",t),P(this,De,nw).call(this,a,"feFuncG",r),P(this,De,nw).call(this,a,"feFuncB",i)},cD=function(t,r){const i=f(this,Pi).createElementNS(il,"feComponentTransfer");r.append(i),P(this,De,nw).call(this,i,"feFuncA",t)},iw=function(t){return f(this,De,Bg).style.color=t,zE(getComputedStyle(f(this,De,Bg)).getPropertyValue("color"))};class T6{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){mn("Abstract method `_fetch` called.")}}class SK extends T6{async _fetch(e){const t=await KE(e,"arraybuffer");return new Uint8Array(t)}}class I6{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){mn("Abstract method `_fetch` called.")}}class xK extends I6{async _fetch(e){const t=await KE(e,"arraybuffer");return new Uint8Array(t)}}Xi&&st("Please use the `legacy` build in Node.js environments.");async function kQ(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class jce extends x6{}class Wce extends B6{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Yce extends S6{async _fetch(e){return kQ(e)}}class Xce extends T6{async _fetch(e){return kQ(e)}}class Jce extends I6{async _fetch(e){return kQ(e)}}const cg="__forcedDependency",{floor:_K,ceil:TK}=Math;function HS(n,e,t,r,i,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],r),n[e*4+2]=Math.max(n[e*4+2],i),n[e*4+3]=Math.max(n[e*4+3],s)}const dD=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Pm,Gc;class Zce{constructor(e,t){M(this,Pm);M(this,Gc);_(this,Pm,e),_(this,Gc,t)}get length(){return f(this,Pm).length}isEmpty(e){return f(this,Pm)[e]===dD}minX(e){return f(this,Gc)[e*4+0]/256}minY(e){return f(this,Gc)[e*4+1]/256}maxX(e){return(f(this,Gc)[e*4+2]+1)/256}maxY(e){return(f(this,Gc)[e*4+3]+1)/256}}Pm=new WeakMap,Gc=new WeakMap;const VS=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var ps,gs,uh,wo,ch,xl,Wt,on,_l,ms,Yb,Rm,dh,fh,Tl,Ri,cA,Xb,fD;class ede{constructor(e,t,r=!1){M(this,Xb);M(this,ps,{__proto__:null});M(this,gs,{__proto__:null,transform:[],moveText:[],sameLineText:[],[cg]:[]});M(this,uh,new Map);M(this,wo,[]);M(this,ch,[]);M(this,xl,[[1,0,0,1,0,0]]);M(this,Wt,[-1/0,-1/0,1/0,1/0]);M(this,on,new Float64Array([1/0,1/0,-1/0,-1/0]));M(this,_l,-1);M(this,ms,new Set);M(this,Yb,new Map);M(this,Rm,new Map);M(this,dh);M(this,fh);M(this,Tl);M(this,Ri);M(this,cA);_(this,dh,e.width),_(this,fh,e.height),P(this,Xb,fD).call(this,t),r&&_(this,cA,new Map)}growOperationsCount(e){e>=f(this,Ri).length&&P(this,Xb,fD).call(this,e,f(this,Ri))}save(e){return _(this,ps,{__proto__:f(this,ps)}),_(this,gs,{__proto__:f(this,gs),transform:{__proto__:f(this,gs).transform},moveText:{__proto__:f(this,gs).moveText},sameLineText:{__proto__:f(this,gs).sameLineText},[cg]:{__proto__:f(this,gs)[cg]}}),_(this,Wt,{__proto__:f(this,Wt)}),f(this,wo).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(f(this,ps));if(t===null)return this;_(this,ps,t),_(this,gs,Object.getPrototypeOf(f(this,gs))),_(this,Wt,Object.getPrototypeOf(f(this,Wt)));const r=f(this,wo).pop();return r!==void 0&&((i=VS(f(this,cA),e))==null||i.dependencies.add(r),f(this,Ri)[e]=f(this,Ri)[r]),this}recordOpenMarker(e){return f(this,wo).push(e),this}getOpenMarker(){return f(this,wo).length===0?null:f(this,wo).at(-1)}recordCloseMarker(e){var r;const t=f(this,wo).pop();return t!==void 0&&((r=VS(f(this,cA),e))==null||r.dependencies.add(t),f(this,Ri)[e]=f(this,Ri)[t]),this}beginMarkedContent(e){return f(this,ch).push(e),this}endMarkedContent(e){var r;const t=f(this,ch).pop();return t!==void 0&&((r=VS(f(this,cA),e))==null||r.dependencies.add(t),f(this,Ri)[e]=f(this,Ri)[t]),this}pushBaseTransform(e){return f(this,xl).push(Oe.multiplyByDOMMatrix(f(this,xl).at(-1),e.getTransform())),this}popBaseTransform(){return f(this,xl).length>1&&f(this,xl).pop(),this}recordSimpleData(e,t){return f(this,ps)[e]=t,this}recordIncrementalData(e,t){return f(this,gs)[e].push(t),this}resetIncrementalData(e,t){return f(this,gs)[e].length=0,this}recordNamedData(e,t){return f(this,uh).set(e,t),this}recordSimpleDataFromNamed(e,t,r){f(this,ps)[e]=f(this,uh).get(t)??r}recordFutureForcedDependency(e,t){return this.recordIncrementalData(cg,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in f(this,ps)&&this.recordFutureForcedDependency(t,f(this,ps)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of f(this,ms))this.recordFutureForcedDependency(cg,e);return this}resetBBox(e){return f(this,_l)!==e&&(_(this,_l,e),f(this,on)[0]=1/0,f(this,on)[1]=1/0,f(this,on)[2]=-1/0,f(this,on)[3]=-1/0),this}recordClipBox(e,t,r,i,s,a){const o=Oe.multiplyByDOMMatrix(f(this,xl).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Oe.axialAlignedBoundingBox([r,s,i,a],o,l);const u=Oe.intersect(f(this,Wt),l);return u?(f(this,Wt)[0]=u[0],f(this,Wt)[1]=u[1],f(this,Wt)[2]=u[2],f(this,Wt)[3]=u[3]):(f(this,Wt)[0]=f(this,Wt)[1]=1/0,f(this,Wt)[2]=f(this,Wt)[3]=-1/0),this}recordBBox(e,t,r,i,s,a){const o=f(this,Wt);if(o[0]===1/0)return this;const l=Oe.multiplyByDOMMatrix(f(this,xl).at(-1),t.getTransform());if(o[0]===-1/0)return Oe.axialAlignedBoundingBox([r,s,i,a],l,f(this,on)),this;const u=[1/0,1/0,-1/0,-1/0];return Oe.axialAlignedBoundingBox([r,s,i,a],l,u),f(this,on)[0]=Math.min(f(this,on)[0],Math.max(u[0],o[0])),f(this,on)[1]=Math.min(f(this,on)[1],Math.max(u[1],o[1])),f(this,on)[2]=Math.max(f(this,on)[2],Math.min(u[2],o[2])),f(this,on)[3]=Math.max(f(this,on)[3],Math.min(u[3],o[3])),this}recordCharacterBBox(e,t,r,i=1,s=0,a=0,o){const l=r.bbox;let u,d;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&f(this,Rm).get(r),u!==!1&&(d=[0,0,0,0],Oe.axialAlignedBoundingBox(l,r.fontMatrix,d),(i!==1||s!==0||a!==0)&&Oe.scaleMinMax([i,0,0,-i,s,a],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return l&&d&&u===void 0&&(u=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=a-h.actualBoundingBoxAscent&&d[3]>=a+h.actualBoundingBoxDescent,f(this,Rm).set(r,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return f(this,on)[0]=Math.max(0,f(this,Wt)[0]),f(this,on)[1]=Math.max(0,f(this,Wt)[1]),f(this,on)[2]=Math.min(f(this,dh),f(this,Wt)[2]),f(this,on)[3]=Math.min(f(this,fh),f(this,Wt)[3]),this}getSimpleIndex(e){return f(this,ps)[e]}recordDependencies(e,t){const r=f(this,ms),i=f(this,ps),s=f(this,gs);for(const a of t)a in f(this,ps)?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,t){return f(this,uh).has(t)&&f(this,ms).add(f(this,uh).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[cg]),f(this,cA)){const r=VS(f(this,cA),e),{dependencies:i}=r;f(this,ms).forEach(i.add,i),f(this,wo).forEach(i.add,i),f(this,ch).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(f(this,_l)===e){const r=_K(f(this,on)[0]*256/f(this,dh)),i=_K(f(this,on)[1]*256/f(this,fh)),s=TK(f(this,on)[2]*256/f(this,dh)),a=TK(f(this,on)[3]*256/f(this,fh));HS(f(this,Tl),e,r,i,s,a);for(const o of f(this,ms))o!==e&&HS(f(this,Tl),o,r,i,s,a);for(const o of f(this,wo))o!==e&&HS(f(this,Tl),o,r,i,s,a);for(const o of f(this,ch))o!==e&&HS(f(this,Tl),o,r,i,s,a);t||(f(this,ms).clear(),_(this,_l,-1))}return this}recordShowTextOperation(e,t=!1){const r=Array.from(f(this,ms));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return f(this,_l)===e&&(_(this,_l,-1),f(this,Wt)[0]=Math.max(f(this,Wt)[0],f(this,on)[0]),f(this,Wt)[1]=Math.max(f(this,Wt)[1],f(this,on)[1]),f(this,Wt)[2]=Math.min(f(this,Wt)[2],f(this,on)[2]),f(this,Wt)[3]=Math.min(f(this,Wt)[3],f(this,on)[3]),t||f(this,ms).clear()),this}_takePendingDependencies(){const e=f(this,ms);return _(this,ms,new Set),e}_extractOperation(e){const t=f(this,Yb).get(e);return f(this,Yb).delete(e),t}_pushPendingDependencies(e){for(const t of e)f(this,ms).add(t)}take(){return f(this,Rm).clear(),new Zce(f(this,Ri),f(this,Tl))}takeDebugMetadata(){return f(this,cA)}}ps=new WeakMap,gs=new WeakMap,uh=new WeakMap,wo=new WeakMap,ch=new WeakMap,xl=new WeakMap,Wt=new WeakMap,on=new WeakMap,_l=new WeakMap,ms=new WeakMap,Yb=new WeakMap,Rm=new WeakMap,dh=new WeakMap,fh=new WeakMap,Tl=new WeakMap,Ri=new WeakMap,cA=new WeakMap,Xb=new WeakSet,fD=function(e,t){const r=new ArrayBuffer(e*4);_(this,Tl,new Uint8ClampedArray(r)),_(this,Ri,new Uint32Array(r)),t&&t.length>0?(f(this,Ri).set(t),f(this,Ri).fill(dD,t.length)):f(this,Ri).fill(dD)};var hn,Wn,bo,Dm,Nm;const kO=class kO{constructor(e,t,r){M(this,hn);M(this,Wn);M(this,bo);M(this,Dm,0);M(this,Nm,0);if(e instanceof kO&&f(e,bo)===!!r)return e;_(this,hn,e),_(this,Wn,t),_(this,bo,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return ar(this,Nm)._++,f(this,hn).save(f(this,Wn)),this}restore(e){return f(this,Nm)>0&&(f(this,hn).restore(f(this,Wn)),ar(this,Nm)._--),this}recordOpenMarker(e){return ar(this,Dm)._++,this}getOpenMarker(){return f(this,Dm)>0?f(this,Wn):f(this,hn).getOpenMarker()}recordCloseMarker(e){return ar(this,Dm)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return f(this,hn).pushBaseTransform(e),this}popBaseTransform(){return f(this,hn).popBaseTransform(),this}recordSimpleData(e,t){return f(this,hn).recordSimpleData(e,f(this,Wn)),this}recordIncrementalData(e,t){return f(this,hn).recordIncrementalData(e,f(this,Wn)),this}resetIncrementalData(e,t){return f(this,hn).resetIncrementalData(e,f(this,Wn)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,r){return f(this,hn).recordSimpleDataFromNamed(e,t,f(this,Wn)),this}recordFutureForcedDependency(e,t){return f(this,hn).recordFutureForcedDependency(e,f(this,Wn)),this}inheritSimpleDataAsFutureForcedDependencies(e){return f(this,hn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return f(this,hn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return f(this,bo)||f(this,hn).resetBBox(f(this,Wn)),this}recordClipBox(e,t,r,i,s,a){return f(this,bo)||f(this,hn).recordClipBox(f(this,Wn),t,r,i,s,a),this}recordBBox(e,t,r,i,s,a){return f(this,bo)||f(this,hn).recordBBox(f(this,Wn),t,r,i,s,a),this}recordCharacterBBox(e,t,r,i,s,a,o){return f(this,bo)||f(this,hn).recordCharacterBBox(f(this,Wn),t,r,i,s,a,o),this}recordFullPageBBox(e){return f(this,bo)||f(this,hn).recordFullPageBBox(f(this,Wn)),this}getSimpleIndex(e){return f(this,hn).getSimpleIndex(e)}recordDependencies(e,t){return f(this,hn).recordDependencies(f(this,Wn),t),this}recordNamedDependency(e,t){return f(this,hn).recordNamedDependency(f(this,Wn),t),this}recordOperation(e){return f(this,hn).recordOperation(f(this,Wn),!0),this}recordShowTextOperation(e){return f(this,hn).recordShowTextOperation(f(this,Wn),!0),this}bboxToClipBoxDropOperation(e){return f(this,bo)||f(this,hn).bboxToClipBoxDropOperation(f(this,Wn),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};hn=new WeakMap,Wn=new WeakMap,bo=new WeakMap,Dm=new WeakMap,Nm=new WeakMap;let nT=kO;const Ta={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},yi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function hD(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class OQ{isModifyingCurrentTransform(){return!1}getPattern(){mn("Abstract method `getPattern` called.")}}class tde extends OQ{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===yi.STROKE||i===yi.FILL){const a=t.current.getClippedPathBoundingBox(i,On(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),r=Oe.transform(r,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),hD(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else hD(e,this._bbox),s=this._createGradient(e);return s}}function oU(n,e,t,r,i,s,a,o){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let g;l[t+1]>l[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g),l[r+1]>l[i+1]&&(g=r,r=i,i=g,g=a,a=o,o=g),l[t+1]>l[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g);const v=(l[t]+e.offsetX)*e.scaleX,C=(l[t+1]+e.offsetY)*e.scaleY,b=(l[r]+e.offsetX)*e.scaleX,B=(l[r+1]+e.offsetY)*e.scaleY,S=(l[i]+e.offsetX)*e.scaleX,I=(l[i+1]+e.offsetY)*e.scaleY;if(C>=I)return;const T=u[s],D=u[s+1],U=u[s+2],R=u[a],Q=u[a+1],H=u[a+2],k=u[o],G=u[o+1],K=u[o+2],z=Math.round(C),Z=Math.round(I);let Y,ve,V,j,se,pe,Ee,q;for(let ee=z;ee<=Z;ee++){if(ee<B){const ce=ee<C?0:(C-ee)/(C-B);Y=v-(v-b)*ce,ve=T-(T-R)*ce,V=D-(D-Q)*ce,j=U-(U-H)*ce}else{let ce;ee>I?ce=1:B===I?ce=0:ce=(B-ee)/(B-I),Y=b-(b-S)*ce,ve=R-(R-k)*ce,V=Q-(Q-G)*ce,j=H-(H-K)*ce}let oe;ee<C?oe=0:ee>I?oe=1:oe=(C-ee)/(C-I),se=v-(v-S)*oe,pe=T-(T-k)*oe,Ee=D-(D-G)*oe,q=U-(U-K)*oe;const Ce=Math.round(Math.min(Y,se)),ie=Math.round(Math.max(Y,se));let ue=h*ee+Ce*4;for(let ce=Ce;ce<=ie;ce++)oe=(Y-ce)/(Y-se),oe<0?oe=0:oe>1&&(oe=1),d[ue++]=ve-(ve-pe)*oe|0,d[ue++]=V-(V-Ee)*oe|0,d[ue++]=j-(j-q)*oe|0,d[ue++]=255}}function nde(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case LR.LATTICE:const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,u=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<u;h++,d++)oU(n,t,r[d],r[d+1],r[d+o],i[d],i[d+1],i[d+o]),oU(n,t,r[d+o+1],r[d+1],r[d+o],i[d+o+1],i[d+1],i[d+o])}break;case LR.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)oU(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class rde extends OQ{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),v=u/h,C=d/g,b={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/v,scaleY:1/C},B=h+4,S=g+4,I=r.getCanvas("mesh",B,S),T=I.context,D=T.createImageData(h,g);if(t){const R=D.data;for(let Q=0,H=R.length;Q<H;Q+=4)R[Q]=t[0],R[Q+1]=t[1],R[Q+2]=t[2],R[Q+3]=255}for(const R of this._figures)nde(D,R,b);return T.putImageData(D,2,2),{canvas:I.canvas,offsetX:o-2*v,offsetY:l-2*C,scaleX:v,scaleY:C}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){hD(e,this._bbox);const s=new Float32Array(2);if(i===yi.SHADING)Oe.singularValueDecompose2dScale(On(e),s);else if(this.matrix){Oe.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Oe.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else Oe.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,i===yi.SHADING?null:this._background,t.cachedCanvases);return i!==yi.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class ide extends OQ{getPattern(){return"hotpink"}}function sde(n){switch(n[0]){case"RadialAxial":return new tde(n);case"Mesh":return new rde(n);case"Dummy":return new ide}throw new Error(`Unknown IR type: ${n[0]}`)}const IK={COLORED:1,UNCOLORED:2},m1=class m1{constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,t){var pe,Ee;const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),O1("TilingType: "+a);const h=r[0],g=r[1],v=r[2],C=r[3],b=v-h,B=C-g,S=new Float32Array(2);Oe.singularValueDecompose2dScale(this.matrix,S);const[I,T]=S;Oe.singularValueDecompose2dScale(this.baseTransform,S);const D=I*S[0],U=T*S[1];let R=b,Q=B,H=!1,k=!1;const G=Math.ceil(u*D),K=Math.ceil(d*U),z=Math.ceil(b*D),Z=Math.ceil(B*U);G>=z?R=u:H=!0,K>=Z?Q=d:k=!0;const Y=this.getSizeAndScale(R,this.ctx.canvas.width,D),ve=this.getSizeAndScale(Q,this.ctx.canvas.height,U),V=e.cachedCanvases.getCanvas("pattern",Y.size,ve.size),j=V.context,se=l.createCanvasGraphics(j,t);if(se.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(se,s,o),j.translate(-Y.scale*h,-ve.scale*g),se.transform(0,Y.scale,0,0,ve.scale,0,0),j.save(),(pe=se.dependencyTracker)==null||pe.save(),this.clipBbox(se,h,g,v,C),se.baseTransform=On(se.ctx),se.executeOperatorList(i),se.endDrawing(),(Ee=se.dependencyTracker)==null||Ee.restore(),j.restore(),H||k){const q=V.canvas;H&&(R=u),k&&(Q=d);const ee=this.getSizeAndScale(R,this.ctx.canvas.width,D),oe=this.getSizeAndScale(Q,this.ctx.canvas.height,U),Ce=ee.size,ie=oe.size,ue=e.cachedCanvases.getCanvas("pattern-workaround",Ce,ie),ce=ue.context,Be=H?Math.floor(b/u):0,te=k?Math.floor(B/d):0;for(let Se=0;Se<=Be;Se++)for(let Te=0;Te<=te;Te++)ce.drawImage(q,Ce*Se,ie*Te,Ce,ie,0,0,Ce,ie);return{canvas:ue.canvas,scaleX:ee.scale,scaleY:oe.scale,offsetX:h,offsetY:g}}return{canvas:V.canvas,scaleX:Y.scale,scaleY:ve.scale,offsetX:h,offsetY:g}}getSizeAndScale(e,t,r){const i=Math.max(m1.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,o=s-r;e.ctx.rect(t,r,a,o),Oe.axialAlignedBoundingBox([t,r,i,s],On(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case IK.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case IK.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new vce(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i,s){let a=r;i!==yi.SHADING&&(a=Oe.transform(a,t.baseTransform),this.matrix&&(a=Oe.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};be(m1,"MAX_PATTERN_SIZE",3e3);let pD=m1;function ade({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Si.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],d=r>>3,h=r&7,g=n.length;t=new Uint32Array(t.buffer);let v=0;for(let C=0;C<i;C++){for(const B=e+d;e<B;e++){const S=e<g?n[e]:255;t[v++]=S&128?u:l,t[v++]=S&64?u:l,t[v++]=S&32?u:l,t[v++]=S&16?u:l,t[v++]=S&8?u:l,t[v++]=S&4?u:l,t[v++]=S&2?u:l,t[v++]=S&1?u:l}if(h===0)continue;const b=e<g?n[e++]:255;for(let B=0;B<h;B++)t[v++]=b&1<<7-B?u:l}return{srcPos:e,destPos:v}}const FK=16,MK=100,ode=15,UK=10,Es=16,AU=new DOMMatrix,aa=new Float32Array(2),Qg=new Float32Array([1/0,1/0,-1/0,-1/0]);function Ade(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,a,o){e.transform(t,r,i,s,a,o),this.__originalTransform(t,r,i,s,a,o)},n.setTransform=function(t,r,i,s,a,o){e.setTransform(t,r,i,s,a,o),this.__originalSetTransform(t,r,i,s,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,o){e.bezierCurveTo(t,r,i,s,a,o),this.__originalBezierCurveTo(t,r,i,s,a,o)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class lde{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function KS(n,e,t,r,i,s,a,o,l,u){const[d,h,g,v,C,b]=On(n);if(h===0&&g===0){const I=a*d+C,T=Math.round(I),D=o*v+b,U=Math.round(D),R=(a+l)*d+C,Q=Math.abs(Math.round(R)-T)||1,H=(o+u)*v+b,k=Math.abs(Math.round(H)-U)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(v),T,U),n.drawImage(e,t,r,i,s,0,0,Q,k),n.setTransform(d,h,g,v,C,b),[Q,k]}if(d===0&&v===0){const I=o*g+C,T=Math.round(I),D=a*h+b,U=Math.round(D),R=(o+u)*g+C,Q=Math.abs(Math.round(R)-T)||1,H=(a+l)*h+b,k=Math.abs(Math.round(H)-U)||1;return n.setTransform(0,Math.sign(h),Math.sign(g),0,T,U),n.drawImage(e,t,r,i,s,0,0,k,Q),n.setTransform(d,h,g,v,C,b),[k,Q]}n.drawImage(e,t,r,i,s,a,o,l,u);const B=Math.hypot(d,h),S=Math.hypot(g,v);return[B*l,S*u]}class PK{constructor(e,t,r){be(this,"alphaIsShape",!1);be(this,"fontSize",0);be(this,"fontSizeScale",1);be(this,"textMatrix",null);be(this,"textMatrixScale",1);be(this,"fontMatrix",NR);be(this,"leading",0);be(this,"x",0);be(this,"y",0);be(this,"lineX",0);be(this,"lineY",0);be(this,"charSpacing",0);be(this,"wordSpacing",0);be(this,"textHScale",1);be(this,"textRenderingMode",ui.FILL);be(this,"textRise",0);be(this,"fillColor","#000000");be(this,"strokeColor","#000000");be(this,"patternFill",!1);be(this,"patternStroke",!1);be(this,"fillAlpha",1);be(this,"strokeAlpha",1);be(this,"lineWidth",1);be(this,"activeSMask",null);be(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Qg.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=yi.FILL,t=null){const r=this.minMax.slice();if(e===yi.STROKE){t||mn("Stroke bounding box must include transform."),Oe.singularValueDecompose2dScale(t,aa);const i=aa[0]*this.lineWidth/2,s=aa[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=Oe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Qg,0)}getClippedPathBoundingBox(e=yi.FILL,t=null){return Oe.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function RK(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Es,s=(t-i)/Es,a=i===0?s:s+1,o=n.createImageData(r,Es);let l=0,u;const d=e.data,h=o.data;let g,v,C,b;if(e.kind===Gx.GRAYSCALE_1BPP){const B=d.byteLength,S=new Uint32Array(h.buffer,0,h.byteLength>>2),I=S.length,T=r+7>>3,D=4294967295,U=Si.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(C=g<s?Es:i,u=0,v=0;v<C;v++){const R=B-l;let Q=0;const H=R>T?r:R*8-7,k=H&-8;let G=0,K=0;for(;Q<k;Q+=8)K=d[l++],S[u++]=K&128?D:U,S[u++]=K&64?D:U,S[u++]=K&32?D:U,S[u++]=K&16?D:U,S[u++]=K&8?D:U,S[u++]=K&4?D:U,S[u++]=K&2?D:U,S[u++]=K&1?D:U;for(;Q<H;Q++)G===0&&(K=d[l++],G=128),S[u++]=K&G?D:U,G>>=1}for(;u<I;)S[u++]=0;n.putImageData(o,0,g*Es)}}else if(e.kind===Gx.RGBA_32BPP){for(v=0,b=r*Es*4,g=0;g<s;g++)h.set(d.subarray(l,l+b)),l+=b,n.putImageData(o,0,v),v+=Es;g<a&&(b=r*i*4,h.set(d.subarray(l,l+b)),n.putImageData(o,0,v))}else if(e.kind===Gx.RGB_24BPP)for(C=Es,b=r*C,g=0;g<a;g++){for(g>=s&&(C=i,b=r*C),u=0,v=b;v--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(o,0,g*Es)}else throw new Error(`bad image kind: ${e.kind}`)}function DK(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Es,s=(t-i)/Es,a=i===0?s:s+1,o=n.createImageData(r,Es);let l=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const g=h<s?Es:i;({srcPos:l}=ade({src:u,srcPos:l,dest:d,width:r,height:g,nonBlackColor:0})),n.putImageData(o,0,h*Es)}}function _0(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function GS(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function NK(n,e){if(e)return!0;Oe.singularValueDecompose2dScale(n,aa);const t=Math.fround(vp.pixelRatio*Xv.PDF_TO_CSS_UNITS);return aa[0]<=t&&aa[1]<=t}const ude=["butt","round","square"],cde=["miter","round","bevel"],dde={},LK={};var Qo,gD,mD,vD;const OO=class OO{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,u,d){M(this,Qo);this.ctx=e,this.current=new PK(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new lde(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,r=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):r}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...On(this.compositeCtx))}this.ctx.save(),GS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=On(this.ctx)}executeOperatorList(e,t,r,i,s){var S;const a=e.argsArray,o=e.fnArray;let l=t||0;const u=a.length;if(u===l)return l;const d=u-l>UK&&typeof r=="function",h=d?Date.now()+ode:0;let g=0;const v=this.commonObjs,C=this.objs;let b,B;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(b=o[l],B=a[l]??null,b!==Vw.dependency)B===null?this[b](l):this[b](l,...B);else for(const I of B){(S=this.dependencyTracker)==null||S.recordNamedData(I,l);const T=I.startsWith("g_")?v:C;if(!T.has(I))return T.get(I,r),l}if(l++,l===u)return l;if(d&&++g>UK){if(Date.now()>h)return r(),l;g=0}}}endDrawing(){P(this,Qo,gD).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),P(this,Qo,mD).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=r,l=i,u="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let g=o,v=l;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/v),d=this.cachedCanvases.getCanvas(u,g,v),h=d.context,h.clearRect(0,0,g,v),h.drawImage(e,0,0,o,l,0,0,g,v),e=d.canvas,o=g,l=v,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var G,K;const r=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=On(r);let u,d,h,g;if((t.bitmap||t.data)&&t.count>1){const z=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),u=this._cachedBitmapsMap.get(z),u||(u=new Map,this._cachedBitmapsMap.set(z,u));const Z=u.get(d);if(Z&&!o){const Y=Math.round(Math.min(l[0],l[2])+l[4]),ve=Math.round(Math.min(l[1],l[3])+l[5]);return(G=this.dependencyTracker)==null||G.recordDependencies(e,Ta.transformAndFill),{canvas:Z,offsetX:Y,offsetY:ve}}h=Z}h||(g=this.cachedCanvases.getCanvas("maskCanvas",i,s),DK(g.context,t));let v=Oe.transform(l,[1/i,0,0,-1/s,0,0]);v=Oe.transform(v,[1,0,0,1,0,-s]);const C=Qg.slice();Oe.axialAlignedBoundingBox([0,0,i,s],v,C);const[b,B,S,I]=C,T=Math.round(S-b)||1,D=Math.round(I-B)||1,U=this.cachedCanvases.getCanvas("fillCanvas",T,D),R=U.context,Q=b,H=B;R.translate(-Q,-H),R.transform(...v),h||(h=this._scaleImage(g.canvas,Wo(R)),h=h.img,u&&o&&u.set(d,h)),R.imageSmoothingEnabled=NK(On(R),t.interpolate),KS(R,h,0,0,h.width,h.height,0,0,i,s),R.globalCompositeOperation="source-in";const k=Oe.transform(Wo(R),[1,0,0,1,-Q,-H]);return R.fillStyle=o?a.getPattern(r,this,k,yi.FILL,e):a,R.fillRect(0,0,i,s),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,U.canvas)),(K=this.dependencyTracker)==null||K.recordDependencies(e,Ta.transformAndFill),{canvas:U.canvas,offsetX:Math.round(Q),offsetY:Math.round(H)}}setLineWidth(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=ude[t]}setLineJoin(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=cde[t]}setMiterLimit(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,r){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=r)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var r,i,s,a,o;for(const[l,u]of t)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),_0(this.suspendedCtx,a),Ade(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,r,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,o,l,u,d,h){let g=e.canvas,v=l-d,C=u-h;if(a)if(v<0||C<0||v+r>g.width||C+i>g.height){const B=this.cachedCanvases.getCanvas("maskExtension",r,i),S=B.context;S.drawImage(g,-v,-C),S.globalCompositeOperation="destination-atop",S.fillStyle=a,S.fillRect(0,0,r,i),S.globalCompositeOperation="source-over",g=B.canvas,v=C=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const B=new Path2D;B.rect(v,C,r,i),e.clip(B),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(v,C,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const b=new Path2D;b.rect(l,u,r,i),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(g,v,C,r,i,l,u,r,i),t.restore()}save(e){var r;this.inSMaskMode&&_0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&_0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r,i){let[s]=r;if(!i){s||(s=r[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===Vw.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=kj(s)),Oe.axialAlignedBoundingBox(i,On(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,r=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,Wo(i),yi.STROKE,e),o){const l=new Path2D;l.addPath(t,i.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,Ta.stroke),r&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(yi.STROKE,On(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,r=!0){var u,d,h;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const g=s.isModifyingCurrentTransform()?i.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),i.save(),i.fillStyle=s.getPattern(i,this,Wo(i),yi.FILL,e),g){const v=new Path2D;v.addPath(t,i.getTransform().invertSelf().multiplySelf(g)),t=v}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,Ta.fill),o&&(i.restore(),(h=this.dependencyTracker)==null||h.restore(e)),r&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var r;this.ctx.fill(t),(r=this.dependencyTracker)==null||r.recordDependencies(e,Ta.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=dde}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=LK}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:u,path:d}of t)d&&i.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(u,-u));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,r){var h,g;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||NR,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&st("Invalid font matrix for font "+t),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((g=i.systemFontInfo)==null?void 0:g.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const u=i.italic?"italic":"normal";let d=r;r<FK?d=FK:r>MK&&(d=MK),this.current.fontSizeScale=r/d,this.ctx.font=`${u} ${l} ${d}px ${o}`}setTextRenderingMode(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,t,r){this.setLeading(e,-r),this.moveText(e,t,r)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=t,r.textMatrixScale=Math.hypot(t[0],t[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,r,i,s,a){var S,I,T,D;const o=this.ctx,l=this.current,u=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,g=d&ui.FILL_STROKE_MASK,v=!!(d&ui.ADD_TO_PATH_FLAG),C=l.patternFill&&!u.missingFile,b=l.patternStroke&&!u.missingFile;let B;if((u.disableFontFace||v||C||b)&&!u.missingFile&&(B=u.getPathGenerator(this.commonObjs,t)),B&&(u.disableFontFace||C||b)){o.save(),o.translate(r,i),o.scale(h,-h),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,u);let U;if(g===ui.FILL||g===ui.FILL_STROKE)if(s){U=o.getTransform(),o.setTransform(...s);const R=P(this,Qo,vD).call(this,B,U,s);o.fill(R)}else o.fill(B);if(g===ui.STROKE||g===ui.FILL_STROKE)if(a){U||(U=o.getTransform()),o.setTransform(...a);const{a:R,b:Q,c:H,d:k}=U,G=Oe.inverseTransform(a),K=Oe.transform([R,Q,H,k,0,0],G);Oe.singularValueDecompose2dScale(K,aa),o.lineWidth*=Math.max(aa[0],aa[1])/h,o.stroke(P(this,Qo,vD).call(this,B,U,a))}else o.lineWidth/=h,o.stroke(B);o.restore()}else(g===ui.FILL||g===ui.FILL_STROKE)&&(o.fillText(t,r,i),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,o,u,h,r,i,()=>o.measureText(t))),(g===ui.STROKE||g===ui.FILL_STROKE)&&(this.dependencyTracker&&((T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,u,h,r,i,()=>o.measureText(t)).recordDependencies(e,Ta.stroke)),o.strokeText(t,r,i));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:On(o),x:r,y:i,fontSize:h,path:B}),(D=this.dependencyTracker)==null||D.recordCharacterBBox(e,o,u,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return at(this,"isFontSubpixelAAEnabled",r)}showText(e,t){var H,k,G,K;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Ta.showText).resetBBox(e),this.current.textRenderingMode&ui.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,t),(H=this.dependencyTracker)==null||H.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){(k=this.dependencyTracker)==null||k.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,u=r.wordSpacing,d=r.fontDirection,h=r.textHScale*d,g=t.length,v=i.vertical,C=v?1:-1,b=i.defaultVMetrics,B=s*r.fontMatrix[0],S=r.textRenderingMode===ui.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),d>0?a.scale(h,-1):a.scale(h,1);let I,T;if(r.patternFill){a.save();const z=r.fillColor.getPattern(a,this,Wo(a),yi.FILL,e);I=On(a),a.restore(),a.fillStyle=z}if(r.patternStroke){a.save();const z=r.strokeColor.getPattern(a,this,Wo(a),yi.STROKE,e);T=On(a),a.restore(),a.strokeStyle=z}let D=r.lineWidth;const U=r.textMatrixScale;if(U===0||D===0){const z=r.textRenderingMode&ui.FILL_STROKE_MASK;(z===ui.STROKE||z===ui.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=U;if(o!==1&&(a.scale(o,o),D/=o),a.lineWidth=D,i.isInvalidPDFjsFont){const z=[];let Z=0;for(const ve of t)z.push(ve.unicode),Z+=ve.width;const Y=z.join("");if(a.fillText(Y,0,0),this.dependencyTracker!==null){const ve=a.measureText(Y);this.dependencyTracker.recordBBox(e,this.ctx,-ve.actualBoundingBoxLeft,ve.actualBoundingBoxRight,-ve.actualBoundingBoxAscent,ve.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=Z*B*h,a.restore(),this.compose();return}let R=0,Q;for(Q=0;Q<g;++Q){const z=t[Q];if(typeof z=="number"){R+=C*z*s/1e3;continue}let Z=!1;const Y=(z.isSpace?u:0)+l,ve=z.fontChar,V=z.accent;let j,se,pe=z.width;if(v){const ee=z.vmetric||b,oe=-(z.vmetric?ee[1]:pe*.5)*B,Ce=ee[2]*B;pe=ee?-ee[0]:pe,j=oe/o,se=(R+Ce)/o}else j=R/o,se=0;let Ee;if(i.remeasure&&pe>0){Ee=a.measureText(ve);const ee=Ee.width*1e3/s*o;if(pe<ee&&this.isFontSubpixelAAEnabled){const oe=pe/ee;Z=!0,a.save(),a.scale(oe,1),j/=oe}else pe!==ee&&(j+=(pe-ee)/2e3*s/o)}if(this.contentVisible&&(z.isInFont||i.missingFile)){if(S&&!V)a.fillText(ve,j,se),(G=this.dependencyTracker)==null||G.recordCharacterBBox(e,a,Ee?{bbox:null}:i,s/o,j,se,()=>Ee??a.measureText(ve));else if(this.paintChar(e,ve,j,se,I,T),V){const ee=j+s*V.offset.x/o,oe=se-s*V.offset.y/o;this.paintChar(e,V.fontChar,ee,oe,I,T)}}const q=v?pe*B-Y*d:pe*B+Y*d;R+=q,Z&&a.restore()}v?r.y-=R:r.x+=R*h,a.restore(),this.compose(),(K=this.dependencyTracker)==null||K.recordShowTextOperation(e)}showType3Text(e,t){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,u=i.charSpacing,d=i.wordSpacing,h=i.textHScale*o,g=i.fontMatrix||NR,v=t.length,C=i.textRenderingMode===ui.INVISIBLE;let b,B,S,I;if(C||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,o);const T=this.dependencyTracker;for(this.dependencyTracker=T?new nT(T,e):null,b=0;b<v;++b){if(B=t[b],typeof B=="number"){I=l*B*a/1e3,this.ctx.translate(I,0),i.x+=I*h;continue}const D=(B.isSpace?d:0)+u,U=s.charProcOperatorList[B.operatorListId];U?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...g),this.executeOperatorList(U),this.restore()):st(`Type3 character "${B.operatorListId}" is not available.`);const R=[B.width,0];Oe.applyTransform(R,g),S=R[0]*a+D,r.translate(S,0),i.x+=S*h}r.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,r){}setCharWidthAndBounds(e,t,r,i,s,a,o){var u;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let r;if(t[0]==="TilingPattern"){const i=this.baseTransform||On(this.ctx),s={createCanvasGraphics:(a,o)=>new OO(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new nT(this.dependencyTracker,o,!0):null)};r=new pD(t,this.ctx,s,i)}else r=this._getPattern(e,t[1],t[2]);return r}setStrokeColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,r=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=sde(this.getObject(e,t)),this.cachedPatterns.set(t,i)),r&&(i.matrix=r),i}shadingFill(e,t){var a;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,t);r.fillStyle=i.getPattern(r,this,Wo(r),yi.SHADING,e);const s=Wo(r);if(s){const{width:o,height:l}=r.canvas,u=Qg.slice();Oe.axialAlignedBoundingBox([0,0,o,l],s,u);const[d,h,g,v]=u;this.ctx.fillRect(d,h,g-d,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Ta.transform).recordDependencies(e,Ta.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){mn("Should not call beginInlineImage")}beginImageData(){mn("Should not call beginImageData")}paintFormXObjectBegin(e,t,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=On(this.ctx),r)){Oe.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,a,o,l]=r,u=new Path2D;u.rect(s,a,o-s,l-a),this.ctx.clip(u),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var T;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;t.isolated||O1("TODO: Support non-isolated groups."),t.knockout&&st("Knockout groups not supported.");const i=On(r);if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Qg.slice();Oe.axialAlignedBoundingBox(t.bbox,On(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=Oe.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,u,d),v=g.context;v.translate(-o,-l),v.transform(...i);let C=new Path2D;const[b,B,S,I]=t.bbox;if(C.rect(b,B,S-b,I-B),t.matrix){const D=new Path2D;D.addPath(C,new DOMMatrix(t.matrix)),C=D}v.clip(C),t.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),_0(r,v),this.ctx=v,(T=this.dependencyTracker)==null||T.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=On(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=Qg.slice();Oe.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,r,i,s,a){if(P(this,Qo,gD).call(this),GS(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,Oe.singularValueDecompose2dScale(On(this.ctx),aa);const{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(aa[0],0,0,-aa[1],0,l*aa[1]),GS(this.ctx)}else{GS(this.ctx),this.endPath(e);const u=new Path2D;u.rect(r[0],r[1],o,l),this.ctx.clip(u)}}this.current=new PK(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),P(this,Qo,mD).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const r=t.count;t=this.getObject(e,t.data,t),t.count=r;const i=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r,i=0,s=0,a,o){var h,g,v;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const u=On(l);l.transform(r,i,s,a,0,0);const d=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let C=0,b=o.length;C<b;C+=2){const B=Oe.transform(u,[r,i,s,a,o[C],o[C+1]]);l.drawImage(d.canvas,B[4],B[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,B[4],B[4]+d.canvas.width,B[5],B[5]+d.canvas.height)}l.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,Ta.transformAndFill);for(const u of t){const{data:d,width:h,height:g,transform:v}=u,C=this.cachedCanvases.getCanvas("maskCanvas",h,g),b=C.context;b.save();const B=this.getObject(e,d,u);DK(b,B),b.globalCompositeOperation="source-in",b.fillStyle=s?i.getPattern(b,this,Wo(r),yi.FILL,e):i,b.fillRect(0,0,h,g),b.restore(),r.save(),r.transform(...v),r.scale(1,-1),KS(r,C.canvas,0,0,h,g,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,h,0,g),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){st("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,t,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){st("Dependent image isn't ready yet");return}const o=a.width,l=a.height,u=[];for(let d=0,h=s.length;d<h;d+=2)u.push({transform:[r,0,0,i,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const r=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;RK(h,t),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,Wo(s));s.imageSmoothingEnabled=NK(On(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,Ta.imageXObject).recordOperation(e),KS(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,r){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,d=t.height,g=this.cachedCanvases.getCanvas("inlineImage",u,d).context;RK(g,t),s=this.applyTransferMapsToCanvas(g)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const u of r)i.save(),i.transform(...u.transform),i.scale(1,-1),KS(i,s,u.x,u.y,u.w,u.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Ta.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,r){}beginMarkedContent(e,t){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,r){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===LK?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=On(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/u;else{const d=l*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),u=Math.hypot(t,r),d=Math.hypot(i,s);if(e===0)a=d/l,o=u/l;else{const h=e*l;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();t&&r.save(),r.scale(s,a),AU.a=1/s,AU.d=1/a;const l=new Path2D;if(l.addPath(e,AU),o.length>0){const u=Math.max(s,a);r.setLineDash(o.map(d=>d/u)),r.lineDashOffset/=u}r.lineWidth=i||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Qo=new WeakSet,gD=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},mD=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},vD=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let Wg=OO;for(const n in Vw)Wg.prototype[n]!==void 0&&(Wg.prototype[Vw[n]]=Wg.prototype[n]);var kx,Jb,Zb;let ru=(kx=class{static get workerPort(){return f(this,Jb)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");_(this,Jb,e)}static get workerSrc(){return f(this,Zb)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");_(this,Zb,e)}},Jb=new WeakMap,Zb=new WeakMap,M(kx,Jb,null),M(kx,Zb,""),kx);var Lm,eC;class fde{constructor({parsedData:e,rawData:t}){M(this,Lm);M(this,eC);_(this,Lm,e),_(this,eC,t)}getRaw(){return f(this,eC)}get(e){return f(this,Lm).get(e)??null}[Symbol.iterator](){return f(this,Lm).entries()}}Lm=new WeakMap,eC=new WeakMap;const _g=Symbol("INTERNAL");var tC,nC,rC,Qm;class hde{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){M(this,tC,!1);M(this,nC,!1);M(this,rC,!1);M(this,Qm,!0);_(this,tC,!!(e&sa.DISPLAY)),_(this,nC,!!(e&sa.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(f(this,rC))return f(this,Qm);if(!f(this,Qm))return!1;const{print:e,view:t}=this.usage;return f(this,tC)?(t==null?void 0:t.viewState)!=="OFF":f(this,nC)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==_g&&mn("Internal method `_setVisible` called."),_(this,rC,r),_(this,Qm,t)}}tC=new WeakMap,nC=new WeakMap,rC=new WeakMap,Qm=new WeakMap;var zc,An,km,Om,iC,yD;class pde{constructor(e,t=sa.DISPLAY){M(this,iC);M(this,zc,null);M(this,An,new Map);M(this,km,null);M(this,Om,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,_(this,Om,e.order);for(const r of e.groups)f(this,An).set(r.id,new hde(t,r));if(e.baseState==="OFF")for(const r of f(this,An).values())r._setVisible(_g,!1);for(const r of e.on)f(this,An).get(r)._setVisible(_g,!0);for(const r of e.off)f(this,An).get(r)._setVisible(_g,!1);_(this,km,this.getHash())}}isVisible(e){if(f(this,An).size===0)return!0;if(!e)return O1("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,An).has(e.id)?f(this,An).get(e.id).visible:(st(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return P(this,iC,yD).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,An).has(t))return st(`Optional content group not found: ${t}`),!0;if(f(this,An).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,An).has(t))return st(`Optional content group not found: ${t}`),!0;if(!f(this,An).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,An).has(t))return st(`Optional content group not found: ${t}`),!0;if(!f(this,An).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,An).has(t))return st(`Optional content group not found: ${t}`),!0;if(f(this,An).get(t).visible)return!1}return!0}return st(`Unknown optional content policy ${e.policy}.`),!0}return st(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=f(this,An).get(e);if(!i){st(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=f(this,An).get(o))==null||s._setVisible(_g,!1,!0));i._setVisible(_g,!!t,!0),_(this,zc,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=f(this,An).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}_(this,zc,null)}get hasInitialVisibility(){return f(this,km)===null||this.getHash()===f(this,km)}getOrder(){return f(this,An).size?f(this,Om)?f(this,Om).slice():[...f(this,An).keys()]:null}getGroup(e){return f(this,An).get(e)||null}getHash(){if(f(this,zc)!==null)return f(this,zc);const e=new v6;for(const[t,r]of f(this,An))e.update(`${t}:${r.visible}`);return _(this,zc,e.hexdigest())}[Symbol.iterator](){return f(this,An).entries()}}zc=new WeakMap,An=new WeakMap,km=new WeakMap,Om=new WeakMap,iC=new WeakSet,yD=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=P(this,iC,yD).call(this,s);else if(f(this,An).has(s))a=f(this,An).get(s).visible;else return st(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class gde{constructor(e,{disableRange:t=!1,disableStream:r=!1}){It(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});It(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){It(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new mde(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new vde(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class mde{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=LQ(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class vde{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function yde(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=a(n),t){const d=u(t);return s(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const g=new TextDecoder(d,{fatal:!0}),v=VE(h);h=g.decode(v),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const h=[];let g;const v=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(d))!==null;){let[,b,B,S]=g;if(b=parseInt(b,10),b in h){if(b===0)break;continue}h[b]=[B,S]}const C=[];for(let b=0;b<h.length&&b in h;++b){let[B,S]=h[b];S=o(S),B&&(S=unescape(S),b===0&&(S=l(S))),C.push(S)}return C.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let g=0;g<h.length;++g){const v=h[g].indexOf('"');v!==-1&&(h[g]=h[g].slice(0,v),h.length=g+1),h[g]=h[g].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const g=d.slice(0,h),C=d.slice(h+1).replace(/^[^']*'/,"");return i(g,C)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,g,v,C){if(v==="q"||v==="Q")return C=C.replaceAll("_"," "),C=C.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,B){return String.fromCharCode(parseInt(B,16))}),i(g,C);try{C=atob(C)}catch{}return i(g,C)})}return""}function F6(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function V1(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function M6({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function U6(n){const e=n.get("Content-Disposition");if(e){let t=yde(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(LQ(t))return t}return null}function $E(n,e){return new J_(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function P6(n){return n===200||n===206}function R6(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function D6(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(st(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class wde{constructor(e){be(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=F6(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return It(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new bde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Cde(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class bde{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,R6(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=V1(s.url),!P6(s.status))throw $E(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=M6({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=U6(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Vd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:D6(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class Cde{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const a=i.url;fetch(a,R6(s,this._withCredentials,this._abortController)).then(o=>{const l=V1(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!P6(o.status))throw $E(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:D6(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const lU=200,uU=206;function Ede(n){const e=n.response;return typeof e!="string"?e:VE(e).buffer}class Bde{constructor({url:e,httpHeaders:t,withCredentials:r}){be(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=F6(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=uU):i.expectedStatus=lU,t.responseType="arraybuffer",It(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||lU;if(!(s===lU&&r.expectedStatus===uU)&&s!==r.expectedStatus){r.onError(i.status);return}const o=Ede(i);if(s===uU){const l=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?r.onDone({begin:parseInt(u[1],10),chunk:o}):(st('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Sde{constructor(e){this._source=e,this._manager=new Bde(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return It(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new xde(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new _de(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class xde{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=V1(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=M6({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=U6(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=$E(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _de{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=V1((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=$E(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Tde=/^[a-z][a-z0-9\-+.]+:/i;function Ide(n){if(Tde.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Fde{constructor(e){this.source=e,this.url=Ide(e.url),It(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return It(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Mde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Ude(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Mde{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=$E(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Vd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ude{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const T0=Symbol("INITIAL_DATA");var Gs,sC,wD;class N6{constructor(){M(this,sC);M(this,Gs,Object.create(null))}get(e,t=null){if(t){const i=P(this,sC,wD).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=f(this,Gs)[e];if(!r||r.data===T0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=f(this,Gs)[e];return!!t&&t.data!==T0}delete(e){const t=f(this,Gs)[e];return!t||t.data===T0?!1:(delete f(this,Gs)[e],!0)}resolve(e,t=null){const r=P(this,sC,wD).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in f(this,Gs)){const{data:r}=f(this,Gs)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}_(this,Gs,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,Gs)){const{data:t}=f(this,Gs)[e];t!==T0&&(yield[e,t])}}}Gs=new WeakMap,sC=new WeakSet,wD=function(e){var t;return(t=f(this,Gs))[e]||(t[e]={...Promise.withResolvers(),data:T0})};const Pde=1e5,QK=30;var N$,qc,vs,aC,oC,hh,Il,AC,lC,ph,Hm,Vm,$c,Km,uC,Gm,gh,cC,dC,Zn,zm,mh,fC,jc,qm,Iu,L6,Q6,CD,fa,t_,ED,k6,O6;let bD=(Zn=class{constructor({textContentSource:e,container:t,viewport:r}){M(this,Iu);M(this,qc,Promise.withResolvers());M(this,vs,null);M(this,aC,!1);M(this,oC,!!((N$=globalThis.FontInspector)!=null&&N$.enabled));M(this,hh,null);M(this,Il,null);M(this,AC,0);M(this,lC,0);M(this,ph,null);M(this,Hm,null);M(this,Vm,0);M(this,$c,0);M(this,Km,Object.create(null));M(this,uC,[]);M(this,Gm,null);M(this,gh,[]);M(this,cC,new WeakMap);M(this,dC,null);var l;if(e instanceof ReadableStream)_(this,Gm,e);else if(typeof e=="object")_(this,Gm,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,vs,_(this,Hm,t)),_(this,$c,r.scale*vp.pixelRatio),_(this,Vm,r.rotation),_(this,Il,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;_(this,dC,[1,0,0,-1,-a,o+s]),_(this,lC,i),_(this,AC,s),P(l=Zn,fa,k6).call(l),mp(t,r),f(this,qc).promise.finally(()=>{f(Zn,qm).delete(this),_(this,Il,null),_(this,Km,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Si.platform;return at(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,ph).read().then(({value:t,done:r})=>{if(r){f(this,qc).resolve();return}f(this,hh)??_(this,hh,t.lang),Object.assign(f(this,Km),t.styles),P(this,Iu,L6).call(this,t.items),e()},f(this,qc).reject)};return _(this,ph,f(this,Gm).getReader()),f(Zn,qm).add(this),e(),f(this,qc).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*vp.pixelRatio,i=e.rotation;if(i!==f(this,Vm)&&(t==null||t(),_(this,Vm,i),mp(f(this,Hm),{rotation:i})),r!==f(this,$c)){t==null||t(),_(this,$c,r);const a={div:null,properties:null,ctx:P(s=Zn,fa,t_).call(s,f(this,hh))};for(const o of f(this,gh))a.properties=f(this,cC).get(o),a.div=o,P(this,Iu,CD).call(this,a)}}cancel(){var t;const e=new Vd("TextLayer task cancelled.");(t=f(this,ph))==null||t.cancel(e).catch(()=>{}),_(this,ph,null),f(this,qc).reject(e)}get textDivs(){return f(this,gh)}get textContentItemsStr(){return f(this,uC)}static cleanup(){if(!(f(this,qm).size>0)){f(this,zm).clear();for(const{canvas:e}of f(this,mh).values())e.remove();f(this,mh).clear()}}},qc=new WeakMap,vs=new WeakMap,aC=new WeakMap,oC=new WeakMap,hh=new WeakMap,Il=new WeakMap,AC=new WeakMap,lC=new WeakMap,ph=new WeakMap,Hm=new WeakMap,Vm=new WeakMap,$c=new WeakMap,Km=new WeakMap,uC=new WeakMap,Gm=new WeakMap,gh=new WeakMap,cC=new WeakMap,dC=new WeakMap,zm=new WeakMap,mh=new WeakMap,fC=new WeakMap,jc=new WeakMap,qm=new WeakMap,Iu=new WeakSet,L6=function(e){var i,s;if(f(this,aC))return;(s=f(this,Il)).ctx??(s.ctx=P(i=Zn,fa,t_).call(i,f(this,hh)));const t=f(this,gh),r=f(this,uC);for(const a of e){if(t.length>Pde){st("Ignoring additional textDivs for performance reasons."),_(this,aC,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=f(this,vs);_(this,vs,document.createElement("span")),f(this,vs).classList.add("markedContent"),a.id&&f(this,vs).setAttribute("id",`${a.id}`),o.append(f(this,vs))}else a.type==="endMarkedContent"&&_(this,vs,f(this,vs).parentNode);continue}r.push(a.str),P(this,Iu,Q6).call(this,a)}},Q6=function(e){var b;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,gh).push(t);const i=Oe.transform(f(this,dC),e.transform);let s=Math.atan2(i[1],i[0]);const a=f(this,Km)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=f(this,oC)&&a.fontSubstitution||a.fontFamily;o=Zn.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),u=l*P(b=Zn,fa,O6).call(b,o,a,f(this,hh));let d,h;s===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(s),h=i[5]-u*Math.cos(s));const g="calc(var(--total-scale-factor) *",v=t.style;f(this,vs)===f(this,Hm)?(v.left=`${(100*d/f(this,lC)).toFixed(2)}%`,v.top=`${(100*h/f(this,AC)).toFixed(2)}%`):(v.left=`${g}${d.toFixed(2)}px)`,v.top=`${g}${h.toFixed(2)}px)`),v.fontSize=`${g}${(f(Zn,jc)*l).toFixed(2)}px)`,v.fontFamily=o,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,oC)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let C=!1;if(e.str.length>1)C=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const B=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);B!==S&&Math.max(B,S)/Math.min(B,S)>1.5&&(C=!0)}if(C&&(r.canvasWidth=a.vertical?e.height:e.width),f(this,cC).set(t,r),f(this,Il).div=t,f(this,Il).properties=r,P(this,Iu,CD).call(this,f(this,Il)),r.hasText&&f(this,vs).append(t),r.hasEOL){const B=document.createElement("br");B.setAttribute("role","presentation"),f(this,vs).append(B)}},CD=function(e){var o;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let a="";if(f(Zn,jc)>1&&(a=`scale(${1/f(Zn,jc)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:d}=r;P(o=Zn,fa,ED).call(o,i,d*f(this,$c),l);const{width:h}=i.measureText(t.textContent);h>0&&(a=`scaleX(${u*f(this,$c)/h}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)},fa=new WeakSet,t_=function(e=null){let t=f(this,mh).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,mh).set(e,t),f(this,fC).set(t,{size:0,family:""})}return t},ED=function(e,t,r){const i=f(this,fC).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},k6=function(){if(f(this,jc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),_(this,jc,e.getBoundingClientRect().height),e.remove()},O6=function(e,t,r){const i=f(this,zm).get(e);if(i)return i;const s=P(this,fa,t_).call(this,r);s.canvas.width=s.canvas.height=QK,P(this,fa,ED).call(this,s,QK,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return o?u=o/(o+l):(Si.platform.isFirefox&&st("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),f(this,zm).set(e,u),u},M(Zn,fa),M(Zn,zm,new Map),M(Zn,mh,new Map),M(Zn,fC,new WeakMap),M(Zn,jc,null),M(Zn,qm,new Set),Zn);const Rde=100;function HQ(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new BD,{docId:t}=e,r=n.url?Hce(n.url):null,i=n.data?Vce(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof H6?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof SD?n.worker:null;const h=n.verbosity,g=typeof n.docBaseUrl=="string"&&!H1(n.docBaseUrl)?n.docBaseUrl:null,v=kS(n.cMapUrl),C=n.cMapPacked!==!1,b=n.CMapReaderFactory||(Xi?Yce:BK),B=kS(n.iccUrl),S=kS(n.standardFontDataUrl),I=n.StandardFontDataFactory||(Xi?Xce:SK),T=kS(n.wasmUrl),D=n.WasmFactory||(Xi?Jce:xK),U=n.stopAtErrors!==!0,R=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,Q=n.isEvalSupported!==!1,H=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Xi,k=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Xi&&(Si.platform.isFirefox||!globalThis.chrome),G=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,K=typeof n.disableFontFace=="boolean"?n.disableFontFace:Xi,z=n.fontExtraProperties===!0,Z=n.enableXfa===!0,Y=n.ownerDocument||globalThis.document,ve=n.disableRange===!0,V=n.disableStream===!0,j=n.disableAutoFetch===!0,se=n.pdfBug===!0,pe=n.CanvasFactory||(Xi?Wce:qce),Ee=n.FilterFactory||(Xi?jce:$ce),q=n.enableHWA===!0,ee=n.useWasm!==!1,oe=l?l.length:n.length??NaN,Ce=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Xi&&!K,ie=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(b===BK&&I===SK&&D===xK&&v&&S&&T&&q0(v,document.baseURI)&&q0(S,document.baseURI)&&q0(T,document.baseURI)),ue=null;pce(h);const ce={canvasFactory:new pe({ownerDocument:Y,enableHWA:q}),filterFactory:new Ee({docId:t,ownerDocument:Y}),cMapReaderFactory:ie?null:new b({baseUrl:v,isCompressed:C}),standardFontDataFactory:ie?null:new I({baseUrl:S}),wasmFactory:ie?null:new D({baseUrl:T})};d||(d=SD.create({verbosity:h,port:ru.workerPort}),e._worker=d);const Be={docId:t,apiVersion:"5.4.449",data:i,password:o,disableAutoFetch:j,rangeChunkSize:u,length:oe,docBaseUrl:g,enableXfa:Z,evaluatorOptions:{maxImageSize:R,disableFontFace:K,ignoreErrors:U,isEvalSupported:Q,isOffscreenCanvasSupported:H,isImageDecoderSupported:k,canvasMaxAreaInBytes:G,fontExtraProperties:z,useSystemFonts:Ce,useWasm:ee,useWorkerFetch:ie,cMapUrl:v,iccUrl:B,standardFontDataUrl:S,wasmUrl:T}},te={ownerDocument:Y,pdfBug:se,styleElement:ue,loadingParams:{disableAutoFetch:j,enableXfa:Z}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Se=d.messageHandler.sendWithPromise("GetDocRequest",Be,i?[i.buffer]:null);let Te;if(l)Te=new gde(l,{disableRange:ve,disableStream:V});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const ye=q0(r)?wde:Xi?Fde:Sde;Te=new ye({url:r,length:oe,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:ve,disableStream:V})}return Se.then(ye=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const yt=new ew(t,ye,d.port),qe=new Lde(yt,e,Te,te,ce,q);e._transport=qe,yt.send("Ready",null)})}).catch(e._capability.reject),e}var v1;const y1=class y1{constructor(){be(this,"_capability",Promise.withResolvers());be(this,"_transport",null);be(this,"_worker",null);be(this,"docId",`d${ar(y1,v1)._++}`);be(this,"destroyed",!1);be(this,"onPassword",null);be(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};v1=new WeakMap,M(y1,v1,0);let BD=y1;var vh,hC,pC,gC,mC,L$;let H6=(L$=class{constructor(e,t,r=!1,i=null){M(this,vh,Promise.withResolvers());M(this,hC,[]);M(this,pC,[]);M(this,gC,[]);M(this,mC,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){f(this,mC).push(e)}addProgressListener(e){f(this,gC).push(e)}addProgressiveReadListener(e){f(this,pC).push(e)}addProgressiveDoneListener(e){f(this,hC).push(e)}onDataRange(e,t){for(const r of f(this,mC))r(e,t)}onDataProgress(e,t){f(this,vh).promise.then(()=>{for(const r of f(this,gC))r(e,t)})}onDataProgressiveRead(e){f(this,vh).promise.then(()=>{for(const t of f(this,pC))t(e)})}onDataProgressiveDone(){f(this,vh).promise.then(()=>{for(const e of f(this,hC))e()})}transportReady(){f(this,vh).resolve()}requestDataRange(e,t){mn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},vh=new WeakMap,hC=new WeakMap,pC=new WeakMap,gC=new WeakMap,mC=new WeakMap,L$);class Dde{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return at(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Fl,yh,sw;class Nde{constructor(e,t,r,i=!1){M(this,yh);M(this,Fl,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new mK:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new N6,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new GE({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return at(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:i="display",annotationMode:s=Ec.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:C=null}){var k,G,K;(k=this._stats)==null||k.time("Overall");const b=this._transport.getRenderingIntent(i,s,h,g),{renderingIntent:B,cacheKey:S}=b;_(this,Fl,!1),l||(l=this._transport.getOptionalContentConfig(B));let I=this._intentStates.get(S);I||(I=Object.create(null),this._intentStates.set(S,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);const T=!!(B&sa.PRINT);I.displayReadyCapability||(I.displayReadyCapability=Promise.withResolvers(),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(G=this._stats)==null||G.time("Page Request"),this._pumpOperatorList(b));const D=!!(this._pdfBug&&((K=globalThis.StepperManager)!=null&&K.enabled)),U=!this.recordedBBoxes&&(v||D),R=z=>{var Z,Y;if(I.renderTasks.delete(Q),U){const ve=(Z=Q.gfx)==null?void 0:Z.dependencyTracker.take();ve&&(Q.stepper&&Q.stepper.setOperatorBBoxes(ve,Q.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=ve))}T&&_(this,Fl,!0),P(this,yh,sw).call(this),z?(Q.capability.reject(z),this._abortOperatorList({intentState:I,reason:z instanceof Error?z:new Error(z)})):Q.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Y=globalThis.Stats)!=null&&Y.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Q=new xD({callback:R,params:{canvas:t,canvasContext:e,dependencyTracker:U?new ede(t,I.operatorList.length,D):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:C});(I.renderTasks||(I.renderTasks=new Set)).add(Q);const H=Q.task;return Promise.all([I.displayReadyCapability.promise,l]).then(([z,Z])=>{var Y;if(this.destroyed){R();return}if((Y=this._stats)==null||Y.time("Rendering"),!(Z.renderingIntent&B))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Q.initializeGraphics({transparency:z,optionalContentConfig:Z}),Q.operatorListChanged()}).catch(R),H}getOperatorList({intent:e="display",annotationMode:t=Ec.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Kw.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:u}){if(u){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),_(this,Fl,!1),Promise.all(e)}cleanup(e=!1){_(this,Fl,!0);const t=P(this,yh,sw).call(this);return e&&t&&this._stats&&(this._stats=new mK),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&P(this,yh,sw).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:g})=>{if(g){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();P(this,yh,sw).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof NQ){let i=Rde;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Vd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Fl=new WeakMap,yh=new WeakSet,sw=function(){if(!f(this,Fl)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,Fl,!1),!0};var Wc,Co,Ml,wh,pn,w1,bh,Ch,ts,n_,V6,K6,aw,$m,r_;let SD=(pn=class{constructor({name:e=null,port:t=null,verbosity:r=gce()}={}){M(this,ts);M(this,Wc,Promise.withResolvers());M(this,Co,null);M(this,Ml,null);M(this,wh,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(f(pn,Ch).has(t))throw new Error("Cannot use more than one PDFWorker per port.");f(pn,Ch).set(t,this),P(this,ts,V6).call(this,t)}else P(this,ts,K6).call(this)}get promise(){return f(this,Wc).promise}get port(){return f(this,Ml)}get messageHandler(){return f(this,Co)}destroy(){var e,t;this.destroyed=!0,(e=f(this,wh))==null||e.terminate(),_(this,wh,null),f(pn,Ch).delete(f(this,Ml)),_(this,Ml,null),(t=f(this,Co))==null||t.destroy(),_(this,Co,null)}static create(e){const t=f(this,Ch).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new pn(e)}static get workerSrc(){if(ru.workerSrc)return ru.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return at(this,"_setupFakeWorkerGlobal",(async()=>f(this,$m,r_)?f(this,$m,r_):(await import(this.workerSrc)).WorkerMessageHandler)())}},Wc=new WeakMap,Co=new WeakMap,Ml=new WeakMap,wh=new WeakMap,w1=new WeakMap,bh=new WeakMap,Ch=new WeakMap,ts=new WeakSet,n_=function(){f(this,Wc).resolve(),f(this,Co).send("configure",{verbosity:this.verbosity})},V6=function(e){_(this,Ml,e),_(this,Co,new ew("main","worker",e)),f(this,Co).on("ready",()=>{}),P(this,ts,n_).call(this)},K6=function(){if(f(pn,bh)||f(pn,$m,r_)){P(this,ts,aw).call(this);return}let{workerSrc:e}=pn;try{pn._isSameOrigin(window.location,e)||(e=pn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new ew("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?f(this,Wc).reject(new Error("Worker was destroyed")):P(this,ts,aw).call(this)},s=new AbortController;t.addEventListener("error",()=>{f(this,wh)||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}_(this,Co,r),_(this,Ml,t),_(this,wh,t),P(this,ts,n_).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{P(this,ts,aw).call(this)}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{O1("The worker has been disabled.")}P(this,ts,aw).call(this)},aw=function(){f(pn,bh)||(st("Setting up fake worker."),_(pn,bh,!0)),pn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){f(this,Wc).reject(new Error("Worker was destroyed"));return}const t=new zce;_(this,Ml,t);const r=`fake${ar(pn,w1)._++}`,i=new ew(r+"_worker",r,t);e.setup(i,t),_(this,Co,new ew(r,r+"_worker",t)),P(this,ts,n_).call(this)}).catch(e=>{f(this,Wc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},$m=new WeakSet,r_=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},M(pn,$m),M(pn,w1,0),M(pn,bh,!1),M(pn,Ch,new WeakMap),Xi&&(_(pn,bh,!0),ru.workerSrc||(ru.workerSrc="./pdf.worker.mjs")),pn._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},pn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},pn.fromPort=e=>{if(Tce("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return pn.create(e)},pn);var Ul,dA,jm,Wm,Pl,Eh,ow;class Lde{constructor(e,t,r,i,s,a){M(this,Eh);M(this,Ul,new Map);M(this,dA,new Map);M(this,jm,new Map);M(this,Wm,new Map);M(this,Pl,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new N6,this.fontLoader=new kce({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return at(this,"annotationStorage",new QQ)}getRenderingIntent(e,t=Ec.ENABLE,r=null,i=!1,s=!1){let a=sa.DISPLAY,o=aD;switch(e){case"any":a=sa.ANY;break;case"display":break;case"print":a=sa.PRINT;break;default:st(`getRenderingIntent - invalid intent: ${e}`)}const l=a&sa.PRINT&&r instanceof w6?r:this.annotationStorage;switch(t){case Ec.DISABLE:a+=sa.ANNOTATIONS_DISABLE;break;case Ec.ENABLE:break;case Ec.ENABLE_FORMS:a+=sa.ANNOTATIONS_FORMS;break;case Ec.ENABLE_STORAGE:a+=sa.ANNOTATIONS_STORAGE,o=l.serializable;break;default:st(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=sa.IS_EDITING),s&&(a+=sa.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=f(this,Pl))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of f(this,dA).values())e.push(i._destroy());f(this,dA).clear(),f(this,jm).clear(),f(this,Wm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,Ul).clear(),this.filterFactory.destroy(),bD.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Vd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{It(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}It(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{It(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}It(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new Dde(r,this))}),e.on("DocException",r=>{t._capability.reject(ds(r))}),e.on("PasswordRequest",r=>{_(this,Pl,Promise.withResolvers());try{if(!t.onPassword)throw ds(r);const i=s=>{s instanceof Error?f(this,Pl).reject(s):f(this,Pl).resolve({password:s})};t.onPassword(i,r.code)}catch(i){f(this,Pl).reject(i)}return f(this,Pl).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;f(this,dA).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const g=s.error;st(`Error during font loading: ${g}`),this.commonObjs.resolve(r,g);break}const o=new oD(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(g,v)=>globalThis.FontInspector.fontAdded(g,v):null,u=new Oce(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(r,u)});break;case"CopyLocalImage":const{imageRef:d}=s;It(d,"The imageRef must be defined.");for(const g of f(this,dA).values())for(const[,v]of g.objs)if((v==null?void 0:v.ref)===d)return v.dataLen?(this.commonObjs.resolve(r,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const h=new AD(s);this.commonObjs.resolve(r,h.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const o=f(this,dA).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&st("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=f(this,jm).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&f(this,Wm).set(s.refStr,e);const a=new Nde(t,s,this,this._params.pdfBug);return f(this,dA).set(t,a),a});return f(this,jm).set(t,i),i}getPageIndex(e){return lD(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return P(this,Eh,ow).call(this,"GetFieldObjects")}hasJSActions(){return P(this,Eh,ow).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return P(this,Eh,ow).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return P(this,Eh,ow).call(this,"GetOptionalContentConfig").then(t=>new pde(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,Ul).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new fde(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:i[2]}});return f(this,Ul).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,dA).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,Ul).clear(),this.filterFactory.destroy(!0),bD.cleanup()}}cachedPageNumber(e){if(!lD(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,Wm).get(t)??null}}Ul=new WeakMap,dA=new WeakMap,jm=new WeakMap,Wm=new WeakMap,Pl=new WeakMap,Eh=new WeakSet,ow=function(e,t=null){const r=f(this,Ul).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return f(this,Ul).set(e,i),i};var Yc;class Qde{constructor(e){M(this,Yc,null);be(this,"onContinue",null);be(this,"onError",null);_(this,Yc,e)}get promise(){return f(this,Yc).capability.promise}cancel(e=0){f(this,Yc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,Yc).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,Yc);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Yc=new WeakMap;var Xc,Bh;const Mf=class Mf{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:C=null}){M(this,Xc,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Qde(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=v,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=C}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(f(Mf,Bh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(Mf,Bh).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Wg(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),f(this,Xc)&&(window.cancelAnimationFrame(f(this,Xc)),_(this,Xc,null)),f(Mf,Bh).delete(this._canvas),e||(e=new NQ(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,Xc,window.requestAnimationFrame(()=>{_(this,Xc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(Mf,Bh).delete(this._canvas),this.callback())))}};Xc=new WeakMap,Bh=new WeakMap,M(Mf,Bh,new WeakSet);let xD=Mf;const G6="5.4.449",kde="f44e5f0e6";var zs,Sh,Ym,Pr,vC,Xm,Rl,yC,Jc,Eo,mi,wC,ln,_D,TD,ID,Cf,q6,hc;let z6=(mi=class{constructor({editor:e=null,uiManager:t=null}){M(this,ln);M(this,zs,null);M(this,Sh,null);M(this,Ym);M(this,Pr,null);M(this,vC,!1);M(this,Xm,!1);M(this,Rl,null);M(this,yC);M(this,Jc,null);M(this,Eo,null);var r,i;e?(_(this,Xm,!1),_(this,Rl,e)):_(this,Xm,!0),_(this,Eo,(e==null?void 0:e._uiManager)||t),_(this,yC,f(this,Eo)._eventBus),_(this,Ym,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=f(this,Eo))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),f(mi,wC)||_(mi,wC,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return at(this,"_keyboardManager",new qE([[["Escape","mac+Escape"],mi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],mi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],mi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],mi.prototype._moveToPrevious],[["Home","mac+Home"],mi.prototype._moveToBeginning],[["End","mac+End"],mi.prototype._moveToEnd]]))}renderButton(){const e=_(this,zs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",f(this,Rl)&&(e.ariaControls=`${f(this,Rl).id}_colorpicker_dropdown`);const t=f(this,Eo)._signal;e.addEventListener("click",P(this,ln,Cf).bind(this),{signal:t}),e.addEventListener("keydown",P(this,ln,ID).bind(this),{signal:t});const r=_(this,Sh,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=f(this,Ym),e.append(r),e}renderMainDropdown(){const e=_(this,Pr,P(this,ln,_D).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===f(this,zs)){P(this,ln,Cf).call(this,e);return}const t=e.target.getAttribute("data-color");t&&P(this,ln,TD).call(this,t,e)}_moveToNext(e){var t,r;if(!f(this,ln,hc)){P(this,ln,Cf).call(this,e);return}if(e.target===f(this,zs)){(t=f(this,Pr).firstElementChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=f(this,Pr))==null?void 0:t.firstElementChild)||e.target===f(this,zs)){f(this,ln,hc)&&this._hideDropdownFromKeyboard();return}f(this,ln,hc)||P(this,ln,Cf).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!f(this,ln,hc)){P(this,ln,Cf).call(this,e);return}(t=f(this,Pr).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,ln,hc)){P(this,ln,Cf).call(this,e);return}(t=f(this,Pr).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,Pr))==null||e.classList.add("hidden"),f(this,zs).ariaExpanded="false",(t=f(this,Jc))==null||t.abort(),_(this,Jc,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,Xm)){if(!f(this,ln,hc)){(e=f(this,Rl))==null||e.unselect();return}this.hideDropdown(),f(this,zs).focus({preventScroll:!0,focusVisible:f(this,vC)})}}updateColor(e){if(f(this,Sh)&&(f(this,Sh).style.backgroundColor=e),!f(this,Pr))return;const t=f(this,Eo).highlightColors.values();for(const r of f(this,Pr).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=f(this,zs))==null||e.remove(),_(this,zs,null),_(this,Sh,null),(t=f(this,Pr))==null||t.remove(),_(this,Pr,null)}},zs=new WeakMap,Sh=new WeakMap,Ym=new WeakMap,Pr=new WeakMap,vC=new WeakMap,Xm=new WeakMap,Rl=new WeakMap,yC=new WeakMap,Jc=new WeakMap,Eo=new WeakMap,wC=new WeakMap,ln=new WeakSet,_D=function(){const e=document.createElement("div"),t=f(this,Eo)._signal;e.addEventListener("contextmenu",ro,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),f(this,Rl)&&(e.id=`${f(this,Rl).id}_colorpicker_dropdown`);for(const[r,i]of f(this,Eo).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",f(mi,wC)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===f(this,Ym),s.addEventListener("click",P(this,ln,TD).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",P(this,ln,ID).bind(this),{signal:t}),e},TD=function(e,t){t.stopPropagation(),f(this,yC).dispatch("switchannotationeditorparams",{source:this,type:Tt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},ID=function(e){mi._keyboardManager.exec(this,e)},Cf=function(e){if(f(this,ln,hc)){this.hideDropdown();return}if(_(this,vC,e.detail===0),f(this,Jc)||(_(this,Jc,new AbortController),window.addEventListener("pointerdown",P(this,ln,q6).bind(this),{signal:f(this,Eo).combinedSignal(f(this,Jc))})),f(this,zs).ariaExpanded="true",f(this,Pr)){f(this,Pr).classList.remove("hidden");return}const t=_(this,Pr,P(this,ln,_D).call(this));f(this,zs).append(t)},q6=function(e){var t;(t=f(this,Pr))!=null&&t.contains(e.target)||this.hideDropdown()},hc=function(){return f(this,Pr)&&!f(this,Pr).classList.contains("hidden")},M(mi,wC,null),mi);var fA,bC,Jm,CC;const Uf=class Uf{constructor(e){M(this,fA,null);M(this,bC,null);M(this,Jm,null);_(this,bC,e),_(this,Jm,e._uiManager),f(Uf,CC)||_(Uf,CC,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(f(this,fA))return f(this,fA);const{editorType:e,colorType:t,color:r}=f(this,bC),i=_(this,fA,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",f(Uf,CC)[e]),i.addEventListener("input",()=>{f(this,Jm).updateParams(t,i.value)},{signal:f(this,Jm)._signal}),i}update(e){f(this,fA)&&(f(this,fA).value=e)}destroy(){var e;(e=f(this,fA))==null||e.remove(),_(this,fA,null)}hideDropdown(){}};fA=new WeakMap,bC=new WeakMap,Jm=new WeakMap,CC=new WeakMap,M(Uf,CC,null);let rT=Uf;function kK(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function I0(n){return Math.max(0,Math.min(255,255*n))}class OK{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=I0(e),[e,e,e]}static G_HTML([e]){const t=kK(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(I0)}static RGB_HTML(e){return`#${e.map(kK).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[I0(1-Math.min(1,e+i)),I0(1-Math.min(1,r+i)),I0(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class Ode{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){mn("Abstract method `_createSVG` called.")}}let iT=class extends Ode{_createSVG(e){return document.createElementNS(il,e)}};const Hde=9,yp=new WeakSet,Vde=new Date().getTimezoneOffset()*60*1e3;class cU{static create(e){switch(e.data.annotationType){case Cr.LINK:return new VQ(e);case Cr.TEXT:return new Gde(e);case Cr.WIDGET:switch(e.data.fieldType){case"Tx":return new zde(e);case"Btn":return e.data.radioButton?new W6(e):e.data.checkBox?new $de(e):new jde(e);case"Ch":return new Wde(e);case"Sig":return new qde(e)}return new Tp(e);case Cr.POPUP:return new MD(e);case Cr.FREETEXT:return new eW(e);case Cr.LINE:return new Xde(e);case Cr.SQUARE:return new Jde(e);case Cr.CIRCLE:return new Zde(e);case Cr.POLYLINE:return new tW(e);case Cr.CARET:return new tfe(e);case Cr.INK:return new KQ(e);case Cr.POLYGON:return new efe(e);case Cr.HIGHLIGHT:return new nW(e);case Cr.UNDERLINE:return new nfe(e);case Cr.SQUIGGLY:return new rfe(e);case Cr.STRIKEOUT:return new ife(e);case Cr.STAMP:return new rW(e);case Cr.FILEATTACHMENT:return new sfe(e);default:return new Vn(e)}}}var xh,Zm,Va,EC,FD;const HO=class HO{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){M(this,EC);M(this,xh,null);M(this,Zm,!1);M(this,Va,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return HO._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,t=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let u=0,d=l.length;u<d;u+=2)l[u+1]>a?(a=l[u+1],s=l[u]):l[u+1]===a&&(s=Math.max(s,l[u]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){var t,r,i;const{data:e}=this;return((r=(t=this.annotationStorage.getRawValue(`${Hw}${e.id}`))==null?void 0:t.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:r})||this.annotationStorage.setValue(`${Hw}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=f(this,Va))==null?void 0:e.popup)||this.popup)==null||t.remove(),_(this,Va,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(f(this,xh)||_(this,xh,{rect:this.data.rect.slice(0)}));const{rect:t,popup:r}=e;t&&P(this,EC,FD).call(this,t);let i=((s=f(this,Va))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=f(this,Va).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),_(this,Va,null),this.popup=null))}resetEdited(){var e;f(this,xh)&&(P(this,EC,FD).call(this,f(this,xh).rect),(e=f(this,Va))==null||e.popup.resetEdited(),_(this,xh,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Tp)&&!(this instanceof VQ)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof MD){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,B=t.borderStyle.verticalCornerRadius;if(b>0||B>0){const I=`calc(${b}px * var(--total-scale-factor)) / calc(${B}px * var(--total-scale-factor))`;a.borderRadius=I}else if(this instanceof W6){const I=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=I}switch(t.borderStyle.style){case Cg.SOLID:a.borderStyle="solid";break;case Cg.DASHED:a.borderStyle="dashed";break;case Cg.BEVELED:st("Unimplemented border style: beveled");break;case Cg.INSET:st("Unimplemented border style: inset");break;case Cg.UNDERLINE:a.borderBottomStyle="solid";break}const S=t.borderColor||null;S?(_(this,Zm,!0),a.borderColor=Oe.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):a.borderWidth=0}const u=Oe.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:g,pageY:v}=i.rawDims;a.left=`${100*(u[0]-g)/d}%`,a.top=`${100*(u[1]-v)/h}%`;const{rotation:C}=t;return t.hasOwnCanvas||C===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(C,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*a/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[r]=OK[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:OK[`${a}_rgb`](o)})};return at(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,B,S,I]=e.subarray(2,6);if(i===b&&s===B&&t===S&&r===I)return}const{style:a}=this.container;let o;if(f(this,Zm)){const{borderColor:b,borderWidth:B}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${B}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const g=d.createElement("defs");h.append(g);const v=d.createElement("clipPath"),C=`clippath_${this.data.id}`;v.setAttribute("id",C),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let b=2,B=e.length;b<B;b+=8){const S=e[b],I=e[b+1],T=e[b+2],D=e[b+3],U=d.createElement("rect"),R=(T-t)/l,Q=(s-I)/u,H=(S-T)/l,k=(I-D)/u;U.setAttribute("x",R),U.setAttribute("y",Q),U.setAttribute("width",H),U.setAttribute("height",k),v.append(U),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${Q}" width="${H}" height="${k}"/>`)}f(this,Zm)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${C})`}_createPopup(e=null){const{data:t}=this;let r,i;e?(r={str:e.text},i=e.date):(r=t.contentsObj,i=t.modificationDate),_(this,Va,new MD({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(f(this,Va)||this.popup||this.data.popupRef)}get extraPopupElement(){return f(this,Va)}render(){mn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!yp.has(u)){st(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&yp.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};xh=new WeakMap,Zm=new WeakMap,Va=new WeakMap,EC=new WeakSet,FD=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let Vn=HO;class Kde extends Vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var Aa,Ef,$6,j6;class VQ extends Vn{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});M(this,Aa);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),s=!0):t.attachment?(P(this,Aa,$6).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(P(this,Aa,j6).call(this,i,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(t,r,i=""){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&P(this,Aa,Ef).call(this),i&&(t.title=i)}_bindNamedAction(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(t.title=i),P(this,Aa,Ef).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(t.title=r.overlaidText),t.onclick||(t.onclick=()=>!1),P(this,Aa,Ef).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),P(this,Aa,Ef).call(this),!this._fieldObjects){st('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:a,include:o}=r,l=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const v of s){const C=this._fieldObjects[v]||[];for(const{id:b}of C)g.add(b)}for(const v of Object.values(this._fieldObjects))for(const C of v)g.has(C.id)===o&&l.push(C)}else for(const g of Object.values(this._fieldObjects))l.push(...g);const u=this.annotationStorage,d=[];for(const g of l){const{id:v}=g;switch(d.push(v),g.type){case"text":{const b=g.defaultValue||"";u.setValue(v,{value:b});break}case"checkbox":case"radiobutton":{const b=g.defaultValue===g.exportValues;u.setValue(v,{value:b});break}case"combobox":case"listbox":{const b=g.defaultValue||"";u.setValue(v,{value:b});break}default:continue}const C=document.querySelector(`[data-element-id="${v}"]`);if(C){if(!yp.has(C)){st(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;C.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Aa=new WeakSet,Ef=function(){this.container.setAttribute("data-internal-link","")},$6=function(t,r,i="",s=null){t.href=this.linkService.getAnchorUrl(""),r.description?t.title=r.description:i&&(t.title=i),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,s),!1},P(this,Aa,Ef).call(this)},j6=function(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(t.title=i),P(this,Aa,Ef).call(this)};class Gde extends Vn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Tp extends Vn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Si.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,r,i){var s,a,o;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Oe.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Hde,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(rU*i))||1,h=u/d;a=Math.min(i,l(h/rU))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(u/rU))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Oe.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class zde extends Tp{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),yp.add(r),this.contentElement=r,r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:g,timeStep:v}=this.data,C=!!g&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",B=>{e.setValue(t,{value:B.target.value}),this.setPropertyOnSiblings(r,"value",B.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",B=>{const S=this.data.defaultFieldValue??"";r.value=d.userValue=S,d.formattedValue=null});let b=B=>{const{formattedValue:S}=d;S!=null&&(B.target.value=S),B.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",S=>{var T;if(d.focused)return;const{target:I}=S;if(C&&(I.type=g,v&&(I.step=v)),d.userValue){const D=d.userValue;if(C)if(g==="time"){const U=new Date(D),R=[U.getHours(),U.getMinutes(),U.getSeconds()];I.value=R.map(Q=>Q.toString().padStart(2,"0")).join(":")}else I.value=new Date(D-Vde).toISOString().split(g==="date"?"T":".",1)[0];else I.value=D}d.lastCommittedValue=I.value,d.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const I={value(T){d.userValue=T.detail.value??"",C||e.setValue(t,{value:d.userValue.toString()}),T.target.value=d.userValue},formattedValue(T){const{formattedValue:D}=T.detail;d.formattedValue=D,D!=null&&T.target!==document.activeElement&&(T.target.value=D);const U={formattedValue:D};C&&(U.value=D),e.setValue(t,U)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var Q;const{charLimit:D}=T.detail,{target:U}=T;if(D===0){U.removeAttribute("maxLength");return}U.setAttribute("maxLength",D);let R=d.userValue;!R||R.length<=D||(R=R.slice(0,D),U.value=d.userValue=R,e.setValue(t,{value:R}),(Q=this.linkService.eventBus)==null||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:U.selectionStart,selEnd:U.selectionEnd}}))}};this._dispatchEventFromSandbox(I,S)}),r.addEventListener("keydown",S=>{var D;d.commitKey=1;let I=-1;if(S.key==="Escape"?I=0:S.key==="Enter"&&!this.data.multiLine?I=2:S.key==="Tab"&&(d.commitKey=3),I===-1)return;const{value:T}=S.target;d.lastCommittedValue!==T&&(d.lastCommittedValue=T,d.userValue=T,(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:I,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const B=b;b=null,r.addEventListener("blur",S=>{var D,U;if(!d.focused||!S.relatedTarget)return;(D=this.data.actions)!=null&&D.Blur||(d.focused=!1);const{target:I}=S;let{value:T}=I;if(C){if(T&&g==="time"){const R=T.split(":").map(Q=>parseInt(Q,10));T=new Date(2e3,0,1,R[0],R[1],R[2]||0).valueOf(),I.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();I.type="text"}d.userValue=T,d.lastCommittedValue!==T&&((U=this.linkService.eventBus)==null||U.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:d.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),B(S)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",S=>{var k;d.lastCommittedValue=null;const{data:I,target:T}=S,{value:D,selectionStart:U,selectionEnd:R}=T;let Q=U,H=R;switch(S.inputType){case"deleteWordBackward":{const G=D.substring(0,U).match(/\w*[^\w]*$/);G&&(Q-=G[0].length);break}case"deleteWordForward":{const G=D.substring(U).match(/^[^\w]*\w*/);G&&(H+=G[0].length);break}case"deleteContentBackward":U===R&&(Q-=1);break;case"deleteContentForward":U===R&&(H+=1);break}S.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,change:I||"",willCommit:!1,selStart:Q,selEnd:H}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(b&&r.addEventListener("blur",b),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class qde extends Tp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class $de extends Tp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return yp.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class W6 extends Tp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(yp.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const g=d&&h.id===r;h.domElement&&(h.domElement.checked=g),e.setValue(h.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class jde extends VQ{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Wde extends Tp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");yp.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:g,multiple:v}=i;return v?Array.prototype.filter.call(g,C=>C.selected).map(C=>C[h]):g.selectedIndex===-1?null:g[g.selectedIndex][h]};let l=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(g){a==null||a();const v=g.detail.value,C=new Set(Array.isArray(v)?v:[v]);for(const b of i.options)b.selected=C.has(b.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(g){i.multiple=!0},remove(g){const v=i.options,C=g.detail.remove;v[C].selected=!1,i.remove(C),v.length>0&&Array.prototype.findIndex.call(v,B=>B.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(g){const{index:v,displayValue:C,exportValue:b}=g.detail.insert,B=i.children[v],S=document.createElement("option");S.textContent=C,S.value=b,B?B.before(S):i.append(S),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},items(g){const{items:v}=g.detail;for(;i.length!==0;)i.remove(0);for(const C of v){const{displayValue:b,exportValue:B}=C,S=document.createElement("option");S.textContent=b,S.value=B,i.append(S)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},indices(g){const v=new Set(g.detail.indices);for(const C of g.target.options)C.selected=v.has(C.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var v;const h=o(!0),g=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var BC,UD;class MD extends Vn{constructor(t){const{data:r,elements:i,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&Vn._hasPopupData(r)});M(this,BC);if(this.elements=i,a&&Vn._hasPopupData(r)){const o=this.popup=P(this,BC,UD).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const r=this.popup=P(this,BC,UD).call(this),i=[];for(const s of this.elements)s.popup=r,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${Lg}${s}`).join(",")),this.container}}BC=new WeakSet,UD=function(){return new Yde({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var qs,Zc,b1,C1,ev,tv,Yn,hA,ed,_h,nv,rv,pA,$s,Dl,Nl,Xn,Ll,td,SC,Ql,iv,Th,nd,Wr,rd,mt,i_,PD,RD,DD,s_,ND,Y6,X6,J6,Z6,a_,o_,LD;class Yde{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:d,open:h,commentManager:g=null}){M(this,mt);M(this,qs,null);M(this,Zc,P(this,mt,J6).bind(this));M(this,b1,P(this,mt,LD).bind(this));M(this,C1,P(this,mt,o_).bind(this));M(this,ev,P(this,mt,a_).bind(this));M(this,tv,null);M(this,Yn,null);M(this,hA,null);M(this,ed,null);M(this,_h,null);M(this,nv,null);M(this,rv,null);M(this,pA,!1);M(this,$s,null);M(this,Dl,null);M(this,Nl,null);M(this,Xn,null);M(this,Ll,null);M(this,td,null);M(this,SC,null);M(this,Ql,null);M(this,iv,null);M(this,Th,null);M(this,nd,!1);M(this,Wr,null);M(this,rd,null);_(this,Yn,e),_(this,iv,i),_(this,hA,a),_(this,Ql,o),_(this,nv,l),_(this,tv,t),_(this,SC,u),_(this,rv,d),_(this,_h,r),_(this,qs,g),_(this,Wr,r[0]),_(this,ed,OR.toDateObject(s)),this.trigger=r.flatMap(v=>v.getElementsToTriggerPopup()),g||(P(this,mt,i_).call(this),f(this,Yn).hidden=!0,h&&P(this,mt,a_).call(this))}renderCommentButton(){if(f(this,Xn)){f(this,Xn).parentNode||f(this,Wr).container.after(f(this,Xn));return}if(f(this,Ll)||P(this,mt,PD).call(this),!f(this,Ll))return;const{signal:e}=_(this,Dl,new AbortController),t=f(this,Wr).hasOwnCommentButton,r=()=>{f(this,qs).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{f(this,qs).toggleCommentPopup(this,!1,!0,!t)},s=()=>{f(this,qs).toggleCommentPopup(this,!1,!1)};if(t){_(this,Xn,f(this,Wr).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",f(this,Zc),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=_(this,Xn,document.createElement("button"));a.className="annotationCommentButton";const o=f(this,Wr).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),P(this,mt,DD).call(this),P(this,mt,RD).call(this),a.addEventListener("keydown",f(this,Zc),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=f(this,Wr).commentData;return e?f(this,nv)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=f(this,Xn))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}=f(this,Wr).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return f(this,Xn)}get comment(){return f(this,rd)||_(this,rd,f(this,Wr).commentText),f(this,rd)}set comment(e){e!==this.comment&&(f(this,Wr).commentText=_(this,rd,e))}focus(){var e;(e=f(this,Wr).container)==null||e.focus()}get parentBoundingClientRect(){return f(this,Wr).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){f(this,Xn)&&(f(this,Xn).classList.toggle("selected",e),f(this,Xn).ariaExpanded=t)}setSelectedCommentButton(e){f(this,Xn).classList.toggle("selected",e)}get commentPopupPosition(){if(f(this,td))return f(this,td);const{x:e,y:t,height:r}=f(this,Xn).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=f(this,Wr).layer.getBoundingClientRect();return[(e-i)/a,(t+r-s)/o]}set commentPopupPosition(e){_(this,td,e)}hasDefaultPopupPosition(){return f(this,td)===null}get commentButtonPosition(){return f(this,Ll)}get commentButtonWidth(){return f(this,Xn).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,r]=f(this,td)||this.commentButtonPosition.map(u=>u/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;f(this,qs).showDialog(null,this,s+t*o,a+r*l,{...e,parentDimensions:i})}render(){var r,i;if(f(this,$s))return;const e=_(this,$s,document.createElement("div"));if(e.className="popup",f(this,tv)){const s=e.style.outlineColor=Oe.makeHexColor(...f(this,tv));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(r=f(this,iv))!=null&&r.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=f(this,iv)}if(e.append(t),f(this,ed)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,ed).valueOf()})),s.dateTime=f(this,ed).toISOString(),t.append(s)}Qj({html:f(this,mt,s_)||f(this,hA).str,dir:(i=f(this,hA))==null?void 0:i.dir,className:"popupContent"},e),f(this,Yn).append(e)}updateEdited({rect:e,popup:t,deleted:r}){var i;if(f(this,qs)){r?(this.remove(),_(this,rd,null)):t&&(t.deleted?this.remove():(P(this,mt,DD).call(this),_(this,rd,t.text))),e&&(_(this,Ll,null),P(this,mt,PD).call(this),P(this,mt,RD).call(this));return}if(r||t!=null&&t.deleted){this.remove();return}P(this,mt,i_).call(this),f(this,Th)||_(this,Th,{contentsObj:f(this,hA),richText:f(this,Ql)}),e&&_(this,Nl,null),t&&t.text&&(_(this,Ql,P(this,mt,X6).call(this,t.text)),_(this,ed,OR.toDateObject(t.date)),_(this,hA,null)),(i=f(this,$s))==null||i.remove(),_(this,$s,null)}resetEdited(){var e;f(this,Th)&&({contentsObj:ar(this,hA)._,richText:ar(this,Ql)._}=f(this,Th),_(this,Th,null),(e=f(this,$s))==null||e.remove(),_(this,$s,null),_(this,Nl,null))}remove(){var e,t,r;if((e=f(this,Dl))==null||e.abort(),_(this,Dl,null),(t=f(this,$s))==null||t.remove(),_(this,$s,null),_(this,nd,!1),_(this,pA,!1),(r=f(this,Xn))==null||r.remove(),_(this,Xn,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){_(this,nd,this.isVisible),f(this,nd)&&(f(this,Yn).hidden=!0)}maybeShow(){f(this,qs)||(P(this,mt,i_).call(this),f(this,nd)&&(f(this,$s)||P(this,mt,o_).call(this),_(this,nd,!1),f(this,Yn).hidden=!1))}get isVisible(){return f(this,qs)?!1:f(this,Yn).hidden===!1}}qs=new WeakMap,Zc=new WeakMap,b1=new WeakMap,C1=new WeakMap,ev=new WeakMap,tv=new WeakMap,Yn=new WeakMap,hA=new WeakMap,ed=new WeakMap,_h=new WeakMap,nv=new WeakMap,rv=new WeakMap,pA=new WeakMap,$s=new WeakMap,Dl=new WeakMap,Nl=new WeakMap,Xn=new WeakMap,Ll=new WeakMap,td=new WeakMap,SC=new WeakMap,Ql=new WeakMap,iv=new WeakMap,Th=new WeakMap,nd=new WeakMap,Wr=new WeakMap,rd=new WeakMap,mt=new WeakSet,i_=function(){var t;if(f(this,Dl))return;_(this,Dl,new AbortController);const{signal:e}=f(this,Dl);for(const r of this.trigger)r.addEventListener("click",f(this,ev),{signal:e}),r.addEventListener("pointerenter",f(this,C1),{signal:e}),r.addEventListener("pointerleave",f(this,b1),{signal:e}),r.classList.add("popupTriggerArea");for(const r of f(this,_h))(t=r.container)==null||t.addEventListener("keydown",f(this,Zc),{signal:e})},PD=function(){const e=f(this,_h).find(t=>t.hasCommentButton);e&&_(this,Ll,e._normalizePoint(e.commentButtonPosition))},RD=function(){if(f(this,Wr).extraPopupElement&&!f(this,Wr).editor)return;f(this,Xn)||this.renderCommentButton();const[e,t]=f(this,Ll),{style:r}=f(this,Xn);r.left=`calc(${e}%)`,r.top=`calc(${t}% - var(--comment-button-dim))`},DD=function(){f(this,Wr).extraPopupElement||(f(this,Xn)||this.renderCommentButton(),f(this,Xn).style.backgroundColor=this.commentButtonColor||"")},s_=function(){const e=f(this,Ql),t=f(this,hA);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,Ql).html||null},ND=function(){var e,t,r;return((r=(t=(e=f(this,mt,s_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},Y6=function(){var e,t,r;return((r=(t=(e=f(this,mt,s_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},X6=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:f(this,mt,Y6),fontSize:f(this,mt,ND)?`calc(${f(this,mt,ND)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},J6=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,pA))&&P(this,mt,a_).call(this)},Z6=function(){if(f(this,Nl)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=f(this,nv);let a=!!f(this,rv),o=a?f(this,rv):f(this,SC);for(const C of f(this,_h))if(!o||Oe.intersect(C.data.rect,o)!==null){o=C.data.rect,a=!0;break}const l=Oe.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,g=l[1];_(this,Nl,[100*(h-i)/t,100*(g-s)/r]);const{style:v}=f(this,Yn);v.left=`${f(this,Nl)[0]}%`,v.top=`${f(this,Nl)[1]}%`},a_=function(){if(f(this,qs)){f(this,qs).toggleCommentPopup(this,!1);return}_(this,pA,!f(this,pA)),f(this,pA)?(P(this,mt,o_).call(this),f(this,Yn).addEventListener("click",f(this,ev)),f(this,Yn).addEventListener("keydown",f(this,Zc))):(P(this,mt,LD).call(this),f(this,Yn).removeEventListener("click",f(this,ev)),f(this,Yn).removeEventListener("keydown",f(this,Zc)))},o_=function(){f(this,$s)||this.render(),this.isVisible?f(this,pA)&&f(this,Yn).classList.add("focused"):(P(this,mt,Z6).call(this),f(this,Yn).hidden=!1,f(this,Yn).style.zIndex=parseInt(f(this,Yn).style.zIndex)+1e3)},LD=function(){f(this,Yn).classList.remove("focused"),!(f(this,pA)||!this.isVisible)&&(f(this,Yn).hidden=!0,f(this,Yn).style.zIndex=parseInt(f(this,Yn).style.zIndex)-1e3)};class eW extends Vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=lt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var xC;class Xde extends Vn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,xC,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=_(this,xC,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,xC)}addHighlightArea(){this.container.classList.add("highlightArea")}}xC=new WeakMap;var _C;class Jde extends Vn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,_C,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=_(this,_C,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,_C)}addHighlightArea(){this.container.classList.add("highlightArea")}}_C=new WeakMap;var TC;class Zde extends Vn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,TC,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=_(this,TC,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,TC)}addHighlightArea(){this.container.classList.add("highlightArea")}}TC=new WeakMap;var IC;class tW extends Vn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,IC,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!r)return this.container;const l=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,g=r.length;h<g;h+=2){const v=r[h]-t[0],C=t[3]-r[h+1];u.push(`${v},${C}`)}u=u.join(" ");const d=_(this,IC,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,IC)}addHighlightArea(){this.container.classList.add("highlightArea")}}IC=new WeakMap;class efe extends tW{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class tfe extends Vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var FC,Ih,MC,QD;class KQ extends Vn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,MC);M(this,FC,null);M(this,Ih,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?lt.HIGHLIGHT:lt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=P(this,MC,QD).call(this,r,t),d=this.svgFactory.create(l,u,!0),h=_(this,FC,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let g=0,v=i.length;g<v;g++){const C=this.svgFactory.createElement(this.svgElementName);f(this,Ih).push(C),C.setAttribute("points",i[g].join(",")),h.append(C)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,a=f(this,FC);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let o=0,l=f(this,Ih).length;o<l;o++)f(this,Ih)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:u}=P(this,MC,QD).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return f(this,Ih)}addHighlightArea(){this.container.classList.add("highlightArea")}}FC=new WeakMap,Ih=new WeakMap,MC=new WeakSet,QD=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class nW extends Vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=lt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class nfe extends Vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class rfe extends Vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class ife extends Vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class rW extends Vn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=lt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var UC,PC,kD;class sfe extends Vn{constructor(t){var i;super(t,{isRenderable:!0});M(this,PC);M(this,UC,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",P(this,PC,kD).bind(this)),_(this,UC,i);const{isMac:s}=Si.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&P(this,PC,kD).call(this)}),!r.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return f(this,UC)}addHighlightArea(){this.container.classList.add("highlightArea")}}UC=new WeakMap,PC=new WeakSet,kD=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Fh,Mh,sv,id,RC,Uh,js,DC,pu,A_,OD,av;let afe=(av=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:u,annotationStorage:d}){M(this,pu);M(this,Fh,null);M(this,Mh,null);M(this,sv,null);M(this,id,new Map);M(this,RC,null);M(this,Uh,null);M(this,js,[]);M(this,DC,!1);this.div=e,_(this,Fh,t),_(this,Mh,r),_(this,RC,o||null),_(this,Uh,u||null),_(this,sv,d||new QQ),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return f(this,id).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;mp(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:f(this,Uh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new iT,annotationStorage:f(this,sv),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===Cr.POPUP;if(u){const g=i.get(l.id);if(!g)continue;if(!this._commentManager){s.push(l);continue}a.elements=g}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=cU.create(a);if(!d.isRenderable)continue;if(!u&&(f(this,js).push(d),l.popupRef)){const g=i.get(l.popupRef);g?g.push(d):i.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(f(this,id).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}await P(this,pu,A_).call(this);for(const l of s){const u=a.elements=i.get(l.id);a.data=l;const d=cU.create(a);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${Lg}${l.id}`,l.hidden&&(h.style.visibility="hidden"),u.at(-1).container.after(h)}P(this,pu,OD).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:f(this,Uh),svgFactory:new iT,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=av._defaultBorderStyle),t.data=r;const i=cU.create(t);i.isRenderable&&(i.render(),i.contentElement.id=`${Lg}${r.id}`,f(this,js).push(i))}await P(this,pu,A_).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,mp(t,{rotation:e.rotation}),P(this,pu,OD).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,id).values())}getEditableAnnotation(e){return f(this,id).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:r,rotation:i}=e,s=new Kde({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:f(this,Uh),annotationStorage:f(this,sv)});return s.render(),s.contentElement.id=`${Lg}${r}`,s.createOrUpdatePopup(),f(this,js).push(s),s}removeAnnotation(e){var i;const t=f(this,js).findIndex(s=>s.data.id===e);if(t<0)return;const[r]=f(this,js).splice(t,1);(i=f(this,Fh))==null||i.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);P(this,pu,A_).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return at(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Cg.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Fh=new WeakMap,Mh=new WeakMap,sv=new WeakMap,id=new WeakMap,RC=new WeakMap,Uh=new WeakMap,js=new WeakMap,DC=new WeakMap,pu=new WeakSet,A_=async function(){var r,i,s;if(f(this,js).length===0)return;this.div.replaceChildren();const e=[];if(!f(this,DC)){_(this,DC,!0);for(const{contentElement:a,data:{id:o}}of f(this,js)){const l=a.id=`${Lg}${o}`;e.push((r=f(this,RC))==null?void 0:r.getAriaAttributes(l).then(u=>{if(u)for(const[d,h]of u)a.setAttribute(d,h)}))}}f(this,js).sort(({data:{rect:[a,o,l,u]}},{data:{rect:[d,h,g,v]}})=>{if(a===l&&o===u)return 1;if(d===g&&h===v)return-1;const C=u,b=o,B=(o+u)/2,S=v,I=h,T=(h+v)/2;if(B>=S&&T<=b)return-1;if(T>=C&&B<=I)return 1;const D=(a+l)/2,U=(d+g)/2;return D-U});const t=document.createDocumentFragment();for(const a of f(this,js))t.append(a.container),this._commentManager?(s=((i=a.extraPopupElement)==null?void 0:i.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&t.append(a.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),f(this,Fh))for(const a of f(this,js))f(this,Fh).addPointerInTextLayer(a.contentElement,!1)},OD=function(){var t;if(!f(this,Mh))return;const e=this.div;for(const[r,i]of f(this,Mh)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=f(this,id).get(r);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}f(this,Mh).clear()},av);const zS=/\r\n?|\n/g;var Ws,NC,Ph,Ys,Tr,iW,sW,aW,l_,gu,u_,c_,oW,VD,AW;const Tn=class Tn extends Bn{constructor(t){super({...t,name:"freeTextEditor"});M(this,Tr);M(this,Ws,"");M(this,NC,`${this.id}-editor`);M(this,Ph,null);M(this,Ys);be(this,"_colorPicker",null);this.color=t.color||Tn._defaultColor||Bn._defaultLineColor,_(this,Ys,t.fontSize||Tn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=Tn.prototype,r=a=>a.isEmpty(),i=Gw.TRANSLATE_SMALL,s=Gw.TRANSLATE_BIG;return at(this,"_keyboardManager",new qE([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Bn.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case Tt.FREETEXT_SIZE:Tn._defaultFontSize=r;break;case Tt.FREETEXT_COLOR:Tn._defaultColor=r;break}}updateParams(t,r){switch(t){case Tt.FREETEXT_SIZE:P(this,Tr,iW).call(this,r);break;case Tt.FREETEXT_COLOR:P(this,Tr,sW).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Tt.FREETEXT_SIZE,Tn._defaultFontSize],[Tt.FREETEXT_COLOR,Tn._defaultColor||Bn._defaultLineColor]]}get propertiesToUpdate(){return[[Tt.FREETEXT_SIZE,f(this,Ys)],[Tt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new rT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Tt.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Tn._internalPadding*t,-(Tn._internalPadding+f(this,Ys))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Ph,new AbortController);const t=this._uiManager.combinedSignal(f(this,Ph));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,NC)),this._isDraggable=!0,(t=f(this,Ph))==null||t.abort(),_(this,Ph,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,Ws),r=_(this,Ws,P(this,Tr,aW).call(this).trimEnd());if(t===r)return;const i=s=>{if(_(this,Ws,s),!s){this.remove();return}P(this,Tr,c_).call(this),this._uiManager.rebuild(this),P(this,Tr,l_).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),P(this,Tr,l_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Tn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,NC)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${f(this,Ys)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[g,v]=this.pageTranslation;let C,b;switch(this.rotation){case 0:C=t+(o[0]-g)/d,b=r+this.height-(o[1]-v)/h;break;case 90:C=t+(o[0]-g)/d,b=r-(o[1]-v)/h,[l,u]=[u,-l];break;case 180:C=t-this.width+(o[0]-g)/d,b=r-(o[1]-v)/h,[l,u]=[-l,-u];break;case 270:C=t+(o[0]-g-this.height*h)/d,b=r+(o[1]-v-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(C*s,b*a,l,u)}else this._moveAfterPaste(t,r);P(this,Tr,c_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var C,b,B;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=P(C=Tn,gu,VD).call(C,r.getData("text")||"").replaceAll(zS,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const S=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(zS,"")),S!==this.editorDiv){let I=d;for(const T of this.editorDiv.childNodes){if(T===S){I=h;continue}I.push(P(b=Tn,gu,u_).call(b,T))}}d.push(l.nodeValue.slice(0,u).replaceAll(zS,""))}else if(l===this.editorDiv){let S=d,I=0;for(const T of this.editorDiv.childNodes)I++===u&&(S=h),S.push(P(B=Tn,gu,u_).call(B,T))}_(this,Ws,`${d.join(`
`)}${s}${h.join(`
`)}`),P(this,Tr,c_).call(this);const g=new Range;let v=Math.sumPrecise(d.map(S=>S.length));for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const I=S.nodeValue.length;if(v<=I){g.setStart(S,v),g.setEnd(S,v);break}v-=I}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Tn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,r,i){var o;let s=null;if(t instanceof eW){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:g,popupRef:v,richText:C,contentsObj:b,creationDate:B,modificationDate:S},textContent:I,textPosition:T,parent:{page:{pageNumber:D}}}=t;if(!I||I.length===0)return null;s=t={annotationType:lt.FREETEXT,color:Array.from(u),fontSize:l,value:I.join(`
`),position:T,pageIndex:D-1,rect:d.slice(0),rotation:h,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(b==null?void 0:b.str)||null,richText:C,creationDate:B,modificationDate:S}}const a=await super.deserialize(t,r,i);return _(a,Ys,t.fontSize),a.color=Oe.makeHexColor(...t.color),_(a,Ws,P(o=Tn,gu,VD).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Bn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:r,fontSize:f(this,Ys),value:P(this,Tr,oW).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!P(this,Tr,AW).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${f(this,Ys)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const s of f(this,Ws).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:f(this,Ws)}}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ws=new WeakMap,NC=new WeakMap,Ph=new WeakMap,Ys=new WeakMap,Tr=new WeakSet,iW=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-f(this,Ys))*this.parentScale),_(this,Ys,s),P(this,Tr,l_).call(this)},i=f(this,Ys);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},sW=function(t){const r=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},aW=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(P(i=Tn,gu,u_).call(i,s)),r=s);return t.join(`
`)},l_=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},gu=new WeakSet,u_=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(zS,"")},c_=function(){if(this.editorDiv.replaceChildren(),!!f(this,Ws))for(const t of f(this,Ws).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},oW=function(){return f(this,Ws).replaceAll(""," ")},VD=function(t){return t.replaceAll(" ","")},AW=function(t){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},M(Tn,gu),be(Tn,"_freeTextDefaultContent",""),be(Tn,"_internalPadding",0),be(Tn,"_defaultColor",null),be(Tn,"_defaultFontSize",10),be(Tn,"_type","freetext"),be(Tn,"_editorType",lt.FREETEXT);let HD=Tn;class Le{toSVGPath(){mn("Abstract method `toSVGPath` must be implemented.")}get box(){mn("Abstract getter `box` must be implemented.")}serialize(e,t){mn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,a){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}be(Le,"PRECISION",1e-4);var Xs,Bo,ov,Av,gA,vt,Rh,Dh,LC,QC,lv,uv,sd,kC,E1,B1,Qr,Aw,lW,uW,cW,dW,fW,hW;const ll=class ll{constructor({x:e,y:t},r,i,s,a,o=0){M(this,Qr);M(this,Xs);M(this,Bo,[]);M(this,ov);M(this,Av);M(this,gA,[]);M(this,vt,new Float32Array(18));M(this,Rh);M(this,Dh);M(this,LC);M(this,QC);M(this,lv);M(this,uv);M(this,sd,[]);_(this,Xs,r),_(this,uv,s*i),_(this,Av,a),f(this,vt).set([NaN,NaN,NaN,NaN,e,t],6),_(this,ov,o),_(this,QC,f(ll,kC)*i),_(this,LC,f(ll,B1)*i),_(this,lv,i),f(this,sd).push(e,t)}isEmpty(){return isNaN(f(this,vt)[8])}add({x:e,y:t}){var k;_(this,Rh,e),_(this,Dh,t);const[r,i,s,a]=f(this,Xs);let[o,l,u,d]=f(this,vt).subarray(8,12);const h=e-u,g=t-d,v=Math.hypot(h,g);if(v<f(this,LC))return!1;const C=v-f(this,QC),b=C/v,B=b*h,S=b*g;let I=o,T=l;o=u,l=d,u+=B,d+=S,(k=f(this,sd))==null||k.push(e,t);const D=-S/C,U=B/C,R=D*f(this,uv),Q=U*f(this,uv);return f(this,vt).set(f(this,vt).subarray(2,8),0),f(this,vt).set([u+R,d+Q],4),f(this,vt).set(f(this,vt).subarray(14,18),12),f(this,vt).set([u-R,d-Q],16),isNaN(f(this,vt)[6])?(f(this,gA).length===0&&(f(this,vt).set([o+R,l+Q],2),f(this,gA).push(NaN,NaN,NaN,NaN,(o+R-r)/s,(l+Q-i)/a),f(this,vt).set([o-R,l-Q],14),f(this,Bo).push(NaN,NaN,NaN,NaN,(o-R-r)/s,(l-Q-i)/a)),f(this,vt).set([I,T,o,l,u,d],6),!this.isEmpty()):(f(this,vt).set([I,T,o,l,u,d],6),Math.abs(Math.atan2(T-l,I-o)-Math.atan2(S,B))<Math.PI/2?([o,l,u,d]=f(this,vt).subarray(2,6),f(this,gA).push(NaN,NaN,NaN,NaN,((o+u)/2-r)/s,((l+d)/2-i)/a),[o,l,I,T]=f(this,vt).subarray(14,18),f(this,Bo).push(NaN,NaN,NaN,NaN,((I+o)/2-r)/s,((T+l)/2-i)/a),!0):([I,T,o,l,u,d]=f(this,vt).subarray(0,6),f(this,gA).push(((I+5*o)/6-r)/s,((T+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+d)/6-i)/a,((o+u)/2-r)/s,((l+d)/2-i)/a),[u,d,o,l,I,T]=f(this,vt).subarray(12,18),f(this,Bo).push(((I+5*o)/6-r)/s,((T+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+d)/6-i)/a,((o+u)/2-r)/s,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,gA),t=f(this,Bo);if(isNaN(f(this,vt)[6])&&!this.isEmpty())return P(this,Qr,lW).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);P(this,Qr,cW).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return P(this,Qr,uW).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,a){return new pW(e,t,r,i,s,a)}getOutlines(){var h;const e=f(this,gA),t=f(this,Bo),r=f(this,vt),[i,s,a,o]=f(this,Xs),l=new Float32Array((((h=f(this,sd))==null?void 0:h.length)??0)+2);for(let g=0,v=l.length-2;g<v;g+=2)l[g]=(f(this,sd)[g]-i)/a,l[g+1]=(f(this,sd)[g+1]-s)/o;if(l[l.length-2]=(f(this,Rh)-i)/a,l[l.length-1]=(f(this,Dh)-s)/o,isNaN(r[6])&&!this.isEmpty())return P(this,Qr,dW).call(this,l);const u=new Float32Array(f(this,gA).length+24+f(this,Bo).length);let d=e.length;for(let g=0;g<d;g+=2){if(isNaN(e[g])){u[g]=u[g+1]=NaN;continue}u[g]=e[g],u[g+1]=e[g+1]}d=P(this,Qr,hW).call(this,u,d);for(let g=t.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(t[g+v])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[g+v],u[d+1]=t[g+v+1],d+=2}return P(this,Qr,fW).call(this,u,d),this.newFreeDrawOutline(u,l,f(this,Xs),f(this,lv),f(this,ov),f(this,Av))}};Xs=new WeakMap,Bo=new WeakMap,ov=new WeakMap,Av=new WeakMap,gA=new WeakMap,vt=new WeakMap,Rh=new WeakMap,Dh=new WeakMap,LC=new WeakMap,QC=new WeakMap,lv=new WeakMap,uv=new WeakMap,sd=new WeakMap,kC=new WeakMap,E1=new WeakMap,B1=new WeakMap,Qr=new WeakSet,Aw=function(){const e=f(this,vt).subarray(4,6),t=f(this,vt).subarray(16,18),[r,i,s,a]=f(this,Xs);return[(f(this,Rh)+(e[0]-t[0])/2-r)/s,(f(this,Dh)+(e[1]-t[1])/2-i)/a,(f(this,Rh)+(t[0]-e[0])/2-r)/s,(f(this,Dh)+(t[1]-e[1])/2-i)/a]},lW=function(){const[e,t,r,i]=f(this,Xs),[s,a,o,l]=P(this,Qr,Aw).call(this);return`M${(f(this,vt)[2]-e)/r} ${(f(this,vt)[3]-t)/i} L${(f(this,vt)[4]-e)/r} ${(f(this,vt)[5]-t)/i} L${s} ${a} L${o} ${l} L${(f(this,vt)[16]-e)/r} ${(f(this,vt)[17]-t)/i} L${(f(this,vt)[14]-e)/r} ${(f(this,vt)[15]-t)/i} Z`},uW=function(e){const t=f(this,Bo);e.push(`L${t[4]} ${t[5]} Z`)},cW=function(e){const[t,r,i,s]=f(this,Xs),a=f(this,vt).subarray(4,6),o=f(this,vt).subarray(16,18),[l,u,d,h]=P(this,Qr,Aw).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-r)/s} L${l} ${u} L${d} ${h} L${(o[0]-t)/i} ${(o[1]-r)/s}`)},dW=function(e){const t=f(this,vt),[r,i,s,a]=f(this,Xs),[o,l,u,d]=P(this,Qr,Aw).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(h,e,f(this,Xs),f(this,lv),f(this,ov),f(this,Av))},fW=function(e,t){const r=f(this,Bo);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},hW=function(e,t){const r=f(this,vt).subarray(4,6),i=f(this,vt).subarray(16,18),[s,a,o,l]=f(this,Xs),[u,d,h,g]=P(this,Qr,Aw).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,g,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],t),t+=24},M(ll,kC,8),M(ll,E1,2),M(ll,B1,f(ll,kC)+f(ll,E1));let sT=ll;var cv,Nh,kl,OC,Js,HC,ur,S1,gW;class pW extends Le{constructor(t,r,i,s,a,o){super();M(this,S1);M(this,cv);M(this,Nh,new Float32Array(4));M(this,kl);M(this,OC);M(this,Js);M(this,HC);M(this,ur);_(this,ur,t),_(this,Js,r),_(this,cv,i),_(this,HC,s),_(this,kl,a),_(this,OC,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],P(this,S1,gW).call(this,o);const[l,u,d,h]=f(this,Nh);for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-l)/d,t[g+1]=(t[g+1]-u)/h;for(let g=0,v=r.length;g<v;g+=2)r[g]=(r[g]-l)/d,r[g+1]=(r[g+1]-u)/h}toSVGPath(){const t=[`M${f(this,ur)[4]} ${f(this,ur)[5]}`];for(let r=6,i=f(this,ur).length;r<i;r+=6){if(isNaN(f(this,ur)[r])){t.push(`L${f(this,ur)[r+4]} ${f(this,ur)[r+5]}`);continue}t.push(`C${f(this,ur)[r]} ${f(this,ur)[r+1]} ${f(this,ur)[r+2]} ${f(this,ur)[r+3]} ${f(this,ur)[r+4]} ${f(this,ur)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],a){const o=i-t,l=s-r;let u,d;switch(a){case 0:u=Le._rescale(f(this,ur),t,s,o,-l),d=Le._rescale(f(this,Js),t,s,o,-l);break;case 90:u=Le._rescaleAndSwap(f(this,ur),t,r,o,l),d=Le._rescaleAndSwap(f(this,Js),t,r,o,l);break;case 180:u=Le._rescale(f(this,ur),i,r,-o,l),d=Le._rescale(f(this,Js),i,r,-o,l);break;case 270:u=Le._rescaleAndSwap(f(this,ur),i,s,-o,-l),d=Le._rescaleAndSwap(f(this,Js),i,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return f(this,Nh)}newOutliner(t,r,i,s,a,o=0){return new sT(t,r,i,s,a,o)}getNewOutline(t,r){const[i,s,a,o]=f(this,Nh),[l,u,d,h]=f(this,cv),g=a*d,v=o*h,C=i*d+l,b=s*h+u,B=this.newOutliner({x:f(this,Js)[0]*g+C,y:f(this,Js)[1]*v+b},f(this,cv),f(this,HC),t,f(this,OC),r??f(this,kl));for(let S=2;S<f(this,Js).length;S+=2)B.add({x:f(this,Js)[S]*g+C,y:f(this,Js)[S+1]*v+b});return B.getOutlines()}}cv=new WeakMap,Nh=new WeakMap,kl=new WeakMap,OC=new WeakMap,Js=new WeakMap,HC=new WeakMap,ur=new WeakMap,S1=new WeakSet,gW=function(t){const r=f(this,ur);let i=r[4],s=r[5];const a=[i,s,i,s];let o=i,l=s,u=i,d=s;const h=t?Math.max:Math.min,g=new Float32Array(4);for(let C=6,b=r.length;C<b;C+=6){const B=r[C+4],S=r[C+5];isNaN(r[C])?(Oe.pointBoundingBox(B,S,a),l>S?(o=B,l=S):l===S&&(o=h(o,B)),d<S?(u=B,d=S):d===S&&(u=h(u,B))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,Oe.bezierBoundingBox(i,s,...r.slice(C,C+6),g),Oe.rectBoundingBox(g[0],g[1],g[2],g[3],a),l>g[1]?(o=g[0],l=g[1]):l===g[1]&&(o=h(o,g[0])),d<g[3]?(u=g[2],d=g[3]):d===g[3]&&(u=h(u,g[2]))),i=B,s=S}const v=f(this,Nh);v[0]=a[0]-f(this,kl),v[1]=a[1]-f(this,kl),v[2]=a[2]-a[0]+2*f(this,kl),v[3]=a[3]-a[1]+2*f(this,kl),this.firstPoint=[o,l],this.lastPoint=[u,d]};var VC,KC,GC,ad,So,ns,mW,d_,vW,yW,GD;class KD{constructor(e,t=0,r=0,i=!0){M(this,ns);M(this,VC);M(this,KC);M(this,GC);M(this,ad,[]);M(this,So,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:b,y:B,width:S,height:I}of e){const T=Math.floor((b-t)/a)*a,D=Math.ceil((b+S+t)/a)*a,U=Math.floor((B-t)/a)*a,R=Math.ceil((B+I+t)/a)*a,Q=[T,U,R,!0],H=[D,U,R,!1];f(this,ad).push(Q,H),Oe.rectBoundingBox(T,U,D,R,s)}const o=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,u=s[0]-r,d=s[1]-r;let h=i?-1/0:1/0,g=1/0;const v=f(this,ad).at(i?-1:-2),C=[v[0],v[2]];for(const b of f(this,ad)){const[B,S,I,T]=b;!T&&i?S<g?(g=S,h=B):S===g&&(h=Math.max(h,B)):T&&!i&&(S<g?(g=S,h=B):S===g&&(h=Math.min(h,B))),b[0]=(B-u)/o,b[1]=(S-d)/l,b[2]=(I-d)/l}_(this,VC,new Float32Array([u,d,o,l])),_(this,KC,[h,g]),_(this,GC,C)}getOutlines(){f(this,ad).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of f(this,ad))t[3]?(e.push(...P(this,ns,GD).call(this,t)),P(this,ns,vW).call(this,t)):(P(this,ns,yW).call(this,t),e.push(...P(this,ns,GD).call(this,t)));return P(this,ns,mW).call(this,e)}}VC=new WeakMap,KC=new WeakMap,GC=new WeakMap,ad=new WeakMap,So=new WeakMap,ns=new WeakSet,mW=function(e){const t=[],r=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,u,d,h]=a;r.delete(a);let g=o,v=l;for(s=[o,u],i.push(s);;){let C;if(r.has(d))C=d;else if(r.has(h))C=h;else break;r.delete(C),[o,l,u,d,h]=C,g!==o&&(s.push(g,v,o,v===l?l:u),g=o),v=v===l?u:l}s.push(g,v)}return new ofe(i,f(this,VC),f(this,KC),f(this,GC))},d_=function(e){const t=f(this,So);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},vW=function([,e,t]){const r=P(this,ns,d_).call(this,e);f(this,So).splice(r,0,[e,t])},yW=function([,e,t]){const r=P(this,ns,d_).call(this,e);for(let i=r;i<f(this,So).length;i++){const[s,a]=f(this,So)[i];if(s!==e)break;if(s===e&&a===t){f(this,So).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=f(this,So)[i];if(s!==e)break;if(s===e&&a===t){f(this,So).splice(i,1);return}}},GD=function(e){const[t,r,i]=e,s=[[t,r,i]],a=P(this,ns,d_).call(this,i);for(let o=0;o<a;o++){const[l,u]=f(this,So)[o];for(let d=0,h=s.length;d<h;d++){const[,g,v]=s[d];if(!(u<=g||v<=l)){if(g>=l){if(v>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,v>u&&s.push([t,u,v])}}}return s};var zC,dv;class ofe extends Le{constructor(t,r,i,s){super();M(this,zC);M(this,dv);_(this,dv,t),_(this,zC,r),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const t=[];for(const r of f(this,dv)){let[i,s]=r;t.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],a){const o=[],l=i-t,u=s-r;for(const d of f(this,dv)){const h=new Array(d.length);for(let g=0;g<d.length;g+=2)h[g]=t+d[g]*l,h[g+1]=s-d[g+1]*u;o.push(h)}return o}get box(){return f(this,zC)}get classNamesForOutlining(){return["highlightOutline"]}}zC=new WeakMap,dv=new WeakMap;class zD extends sT{newFreeDrawOutline(e,t,r,i,s,a){return new Afe(e,t,r,i,s,a)}}class Afe extends pW{newOutliner(e,t,r,i,s,a=0){return new zD(e,t,r,i,s,a)}}var fv,qC,Ol,Lh,$C,ys,jC,WC,Qh,Zs,ea,hi,hv,pv,Di,gv,Ka,YC,pt,qD,f_,wW,bW,CW,$D,Bf,Ya,Tg,EW,h_,p_,BW,SW,xW,_W,TW;const Vt=class Vt extends Bn{constructor(t){super({...t,name:"highlightEditor"});M(this,pt);M(this,fv,null);M(this,qC,0);M(this,Ol);M(this,Lh,null);M(this,$C,null);M(this,ys,null);M(this,jC,null);M(this,WC,0);M(this,Qh,null);M(this,Zs,null);M(this,ea,null);M(this,hi,!1);M(this,hv,null);M(this,pv,null);M(this,Di,null);M(this,gv,"");M(this,Ka);M(this,YC,"");this.color=t.color||Vt._defaultColor,_(this,Ka,t.thickness||Vt._defaultThickness),this.opacity=t.opacity||Vt._defaultOpacity,_(this,Ol,t.boxes||null),_(this,YC,t.methodOfCreation||""),_(this,gv,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(_(this,hi,!0),P(this,pt,f_).call(this,t),P(this,pt,Bf).call(this)):f(this,Ol)&&(_(this,fv,t.anchorNode),_(this,qC,t.anchorOffset),_(this,jC,t.focusNode),_(this,WC,t.focusOffset),P(this,pt,qD).call(this),P(this,pt,Bf).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Vt.prototype;return at(this,"_keyboardManager",new qE([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,hi)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:f(this,Ka),methodOfCreation:f(this,YC)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Bn.initialize(t,r),Vt._defaultColor||(Vt._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case Tt.HIGHLIGHT_COLOR:Vt._defaultColor=r;break;case Tt.HIGHLIGHT_THICKNESS:Vt._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return f(this,pv)}get commentButtonPosition(){return f(this,hv)}updateParams(t,r){switch(t){case Tt.HIGHLIGHT_COLOR:P(this,pt,wW).call(this,r);break;case Tt.HIGHLIGHT_THICKNESS:P(this,pt,bW).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Tt.HIGHLIGHT_COLOR,Vt._defaultColor],[Tt.HIGHLIGHT_THICKNESS,Vt._defaultThickness]]}get propertiesToUpdate(){return[[Tt.HIGHLIGHT_COLOR,this.color||Vt._defaultColor],[Tt.HIGHLIGHT_THICKNESS,f(this,Ka)||Vt._defaultThickness],[Tt.HIGHLIGHT_FREE,f(this,hi)]]}onUpdatedColor(){var t,r;(t=this.parent)==null||t.drawLayer.updateProperties(f(this,ea),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=f(this,$C))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",_(this,$C,new z6({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(P(this,pt,p_).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,P(this,pt,p_).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){P(this,pt,$D).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,pt,Bf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?P(this,pt,$D).call(this):t&&(P(this,pt,Bf).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,a,o;const{drawLayer:r}=this.parent;let i;f(this,hi)?(t=(t-this.rotation+360)%360,i=P(s=Vt,Ya,Tg).call(s,f(this,Zs).box,t)):i=P(a=Vt,Ya,Tg).call(a,[this.x,this.y,this.width,this.height],t),r.updateProperties(f(this,ea),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(f(this,Di),{bbox:P(o=Vt,Ya,Tg).call(o,f(this,ys).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();f(this,gv)&&(t.setAttribute("aria-label",f(this,gv)),t.setAttribute("role","mark")),f(this,hi)?t.classList.add("free"):this.div.addEventListener("keydown",P(this,pt,EW).bind(this),{signal:this._uiManager._signal});const r=_(this,Qh,document.createElement("div"));return t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=f(this,Lh),this.setDims(),zj(this,f(this,Qh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Di),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,Di),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:P(this,pt,h_).call(this,!0);break;case 1:case 3:P(this,pt,h_).call(this,!1);break}}select(){var t;super.select(),f(this,Di)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,Di),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),f(this,Di)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,Di),{rootClass:{selected:!1}}),f(this,hi)||P(this,pt,h_).call(this,!1))}get _mustFixPosition(){return!f(this,hi)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(f(this,ea),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(f(this,Di),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:a}){const{x:o,y:l,width:u,height:d}=i.getBoundingClientRect(),h=new AbortController,g=t.combinedSignal(h),v=C=>{h.abort(),P(this,Ya,_W).call(this,t,C)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",tr,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",ro,{signal:g}),i.addEventListener("pointermove",P(this,Ya,xW).bind(this,t),{signal:g}),this._freeHighlight=new zD({x:s,y:a},[o,l,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var b,B,S,I;let s=null;if(t instanceof nW){const{data:{quadPoints:T,rect:D,rotation:U,id:R,color:Q,opacity:H,popupRef:k,richText:G,contentsObj:K,creationDate:z,modificationDate:Z},parent:{page:{pageNumber:Y}}}=t;s=t={annotationType:lt.HIGHLIGHT,color:Array.from(Q),opacity:H,quadPoints:T,boxes:null,pageIndex:Y-1,rect:D.slice(0),rotation:U,annotationElementId:R,id:R,deleted:!1,popupRef:k,richText:G,comment:(K==null?void 0:K.str)||null,creationDate:z,modificationDate:Z}}else if(t instanceof KQ){const{data:{inkLists:T,rect:D,rotation:U,id:R,color:Q,borderStyle:{rawWidth:H},popupRef:k,richText:G,contentsObj:K,creationDate:z,modificationDate:Z},parent:{page:{pageNumber:Y}}}=t;s=t={annotationType:lt.HIGHLIGHT,color:Array.from(Q),thickness:H,inkLists:T,boxes:null,pageIndex:Y-1,rect:D.slice(0),rotation:U,annotationElementId:R,id:R,deleted:!1,popupRef:k,richText:G,comment:(K==null?void 0:K.str)||null,creationDate:z,modificationDate:Z}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=t,d=await super.deserialize(t,r,i);d.color=Oe.makeHexColor(...a),d.opacity=u||1,l&&_(d,Ka,t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,g]=d.pageDimensions,[v,C]=d.pageTranslation;if(o){const T=_(d,Ol,[]);for(let D=0;D<o.length;D+=8)T.push({x:(o[D]-v)/h,y:1-(o[D+1]-C)/g,width:(o[D+2]-o[D])/h,height:(o[D+1]-o[D+5])/g});P(b=d,pt,qD).call(b),P(B=d,pt,Bf).call(B),d.rotate(d.rotation)}else if(l){_(d,hi,!0);const T=l[0],D={x:T[0]-v,y:g-(T[1]-C)},U=new zD(D,[0,0,h,g],1,f(d,Ka)/2,!0,.001);for(let H=0,k=T.length;H<k;H+=2)D.x=T[H]-v,D.y=g-(T[H+1]-C),U.add(D);const{id:R,clipPathId:Q}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:U.toSVGPath()}},!0,!0);P(S=d,pt,f_).call(S,{highlightOutlines:U.getOutlines(),highlightId:R,clipPathId:Q}),P(I=d,pt,Bf).call(I),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=Bn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:r,opacity:this.opacity,thickness:f(this,Ka),quadPoints:P(this,pt,BW).call(this),outlines:P(this,pt,SW).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!P(this,pt,TW).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};fv=new WeakMap,qC=new WeakMap,Ol=new WeakMap,Lh=new WeakMap,$C=new WeakMap,ys=new WeakMap,jC=new WeakMap,WC=new WeakMap,Qh=new WeakMap,Zs=new WeakMap,ea=new WeakMap,hi=new WeakMap,hv=new WeakMap,pv=new WeakMap,Di=new WeakMap,gv=new WeakMap,Ka=new WeakMap,YC=new WeakMap,pt=new WeakSet,qD=function(){const t=new KD(f(this,Ol),.001);_(this,Zs,t.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,Zs).box;const r=new KD(f(this,Ol),.0025,.001,this._uiManager.direction==="ltr");_(this,ys,r.getOutlines());const{firstPoint:i}=f(this,Zs);_(this,hv,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=f(this,ys);_(this,pv,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},f_=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var g,v;if(_(this,Zs,t),_(this,ys,t.getNewOutline(f(this,Ka)/2+1.5,.0025)),r>=0)_(this,ea,r),_(this,Lh,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),_(this,Di,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,ys).box,path:{d:f(this,ys).toSVGPath()}},!0));else if(this.parent){const C=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,ea),{bbox:P(g=Vt,Ya,Tg).call(g,f(this,Zs).box,(C-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,Di),{bbox:P(v=Vt,Ya,Tg).call(v,f(this,ys).box,C),path:{d:f(this,ys).toSVGPath()}})}const[a,o,l,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[C,b]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*b/C,this.height=u*C/b;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[C,b]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*b/C,this.height=u*C/b;break}}const{firstPoint:d}=t;_(this,hv,[(d[0]-a)/l,(d[1]-o)/u]);const{lastPoint:h}=f(this,ys);_(this,pv,[(h[0]-a)/l,(h[1]-o)/u])},wW=function(t){const r=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:r.bind(this,t,Vt._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},bW=function(t){const r=f(this,Ka),i=s=>{_(this,Ka,s),P(this,pt,CW).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},CW=function(t){f(this,hi)&&(P(this,pt,f_).call(this,{highlightOutlines:f(this,Zs).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},$D=function(){f(this,ea)===null||!this.parent||(this.parent.drawLayer.remove(f(this,ea)),_(this,ea,null),this.parent.drawLayer.remove(f(this,Di)),_(this,Di,null))},Bf=function(t=this.parent){f(this,ea)===null&&({id:ar(this,ea)._,clipPathId:ar(this,Lh)._}=t.drawLayer.draw({bbox:f(this,Zs).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:f(this,hi)},path:{d:f(this,Zs).toSVGPath()}},!1,!0),_(this,Di,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,hi)},bbox:f(this,ys).box,path:{d:f(this,ys).toSVGPath()}},f(this,hi))),f(this,Qh)&&(f(this,Qh).style.clipPath=f(this,Lh)))},Ya=new WeakSet,Tg=function([t,r,i,s],a){switch(a){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},EW=function(t){Vt._keyboardManager.exec(this,t)},h_=function(t){if(!f(this,fv))return;const r=window.getSelection();t?r.setPosition(f(this,fv),f(this,qC)):r.setPosition(f(this,jC),f(this,WC))},p_=function(){return f(this,hi)?this.rotation:0},BW=function(){if(f(this,hi))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=f(this,Ol),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:d,width:h,height:g}of a){const v=u*t+i,C=(1-d)*r+s;o[l]=o[l+4]=v,o[l+1]=o[l+3]=C,o[l+2]=o[l+6]=v+h*t,o[l+5]=o[l+7]=C-g*r,l+=8}return o},SW=function(t){return f(this,Zs).serialize(t,P(this,pt,p_).call(this))},xW=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},_W=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},TW=function(t){const{color:r}=this._initialData;return this.hasEditedComment||t.color.some((i,s)=>i!==r[s])},M(Vt,Ya),be(Vt,"_defaultColor",null),be(Vt,"_defaultOpacity",1),be(Vt,"_defaultThickness",12),be(Vt,"_type","highlight"),be(Vt,"_editorType",lt.HIGHLIGHT),be(Vt,"_freeHighlightId",-1),be(Vt,"_freeHighlight",null),be(Vt,"_freeHighlightClipId","");let aT=Vt;var kh;class IW{constructor(){M(this,kh,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){f(this,kh)[e]=t}toSVGProperties(){const e=f(this,kh);return _(this,kh,Object.create(null)),{root:e}}reset(){_(this,kh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){mn("Not implemented")}}kh=new WeakMap;var ta,mv,Yr,Oh,Hh,Mt,jD,WD,YD,lw,FW,g_,uw,Ig;const Bt=class Bt extends Bn{constructor(t){super(t);M(this,Mt);M(this,ta,null);M(this,mv);be(this,"_colorPicker",null);be(this,"_drawId",null);_(this,mv,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(P(this,Mt,jD).call(this,t),P(this,Mt,lw).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){mn("Not implemented")}static get typesMap(){mn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(f(Bt,Yr).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,a=s[r],o=l=>{var d;s.updateProperty(r,l);const u=f(this,ta).updateProperty(r,l);u&&P(this,Mt,uw).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Bt._mergeSVGProperties(f(this,ta).getPathResizingSVGProperties(P(this,Mt,g_).call(this)),{bbox:P(this,Mt,Ig).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Bt._mergeSVGProperties(f(this,ta).getPathResizedSVGProperties(P(this,Mt,g_).call(this)),{bbox:P(this,Mt,Ig).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:P(this,Mt,Ig).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Bt._mergeSVGProperties(f(this,ta).getPathTranslatedSVGProperties(P(this,Mt,g_).call(this),this.parentDimensions),{bbox:P(this,Mt,Ig).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,mv)&&(_(this,mv,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){P(this,Mt,YD).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,Mt,lw).call(this),P(this,Mt,uw).call(this,f(this,ta).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),P(this,Mt,YD).call(this)):t&&(this._uiManager.addShouldRescale(this),P(this,Mt,lw).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Bt._mergeSVGProperties({bbox:P(this,Mt,Ig).call(this)},f(this,ta).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&P(this,Mt,uw).call(this,f(this,ta).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),i}static createDrawerInstance(t,r,i,s,a){mn("Not implemented")}static startDrawing(t,r,i,s){var B;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:d}=s;if(Fi.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=t,{width:g,height:v}=a.getBoundingClientRect(),C=_(Bt,Oh,new AbortController),b=t.combinedSignal(C);if(Fi.setPointer(d,u),window.addEventListener("pointerup",S=>{Fi.isSamePointerIdOrRemove(S.pointerId)&&this._endDraw(S)},{signal:b}),window.addEventListener("pointercancel",S=>{Fi.isSamePointerIdOrRemove(S.pointerId)&&this._currentParent.endDrawingSession()},{signal:b}),window.addEventListener("pointerdown",S=>{Fi.isSamePointerType(S.pointerType)&&(Fi.initializeAndAddPointerId(S.pointerId),f(Bt,Yr).isCancellable()&&(f(Bt,Yr).removeLastElement(),f(Bt,Yr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",ro,{signal:b}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),a.addEventListener("touchmove",S=>{Fi.isSameTimeStamp(S.timeStamp)&&tr(S)},{signal:b}),t.toggleDrawing(),(B=r._editorUndoBar)==null||B.hide(),f(Bt,Yr)){t.drawLayer.updateProperties(this._currentDrawId,f(Bt,Yr).startNew(o,l,g,v,h));return}r.updateUIForDefaultProperties(this),_(Bt,Yr,this.createDrawerInstance(o,l,g,v,h)),_(Bt,Hh,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(f(Bt,Hh).toSVGProperties(),f(Bt,Yr).defaultSVGProperties),!0,!1)}static _drawMove(t){if(Fi.isSameTimeStamp(t.timeStamp),!f(Bt,Yr))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(Fi.isSamePointerId(s)){if(Fi.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(Bt,Yr).add(r,i)),Fi.setTimeStamp(t.timeStamp),tr(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,_(Bt,Yr,null),_(Bt,Hh,null),Fi.clearPointerType(),Fi.clearTimeStamp()),f(Bt,Oh)&&(f(Bt,Oh).abort(),_(Bt,Oh,null),Fi.clearPointerIds())}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,f(Bt,Yr).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=f(Bt,Yr),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Tt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(Tt.DRAW_STEP),!f(Bt,Yr).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(Bt,Yr).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:f(Bt,Hh),mustBeCommitted:!t});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,a,o){mn("Not implemented")}static async deserialize(t,r,i){var h,g;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=r.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),d=await super.deserialize(t,r,i);return d.createDrawingOptions(t),P(h=d,Mt,jD).call(h,{drawOutlines:u}),P(g=d,Mt,lw).call(g),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return f(this,ta).serialize([r,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};ta=new WeakMap,mv=new WeakMap,Yr=new WeakMap,Oh=new WeakMap,Hh=new WeakMap,Mt=new WeakSet,jD=function({drawOutlines:t,drawId:r,drawingOptions:i}){_(this,ta,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=P(this,Mt,WD).call(this,t,this.parent),P(this,Mt,uw).call(this,t.box)},WD=function(t,r){const{id:i}=r.drawLayer.draw(Bt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},YD=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},lw=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=P(this,Mt,WD).call(this,f(this,ta),t)}},FW=function([t,r,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[r,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},g_=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-r,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},uw=function(t){[this.x,this.y,this.width,this.height]=P(this,Mt,FW).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Ig=function(){const{x:t,y:r,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(l/u),s*(u/l),i*(l/u)];case 5:return[1-r,t,i*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-r,s*(u/l),i*(l/u)];case 7:return[r-i*(l/u),1-t-s*(u/l),i*(l/u),s*(u/l)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(u/l),r,s*(u/l),i*(l/u)];case 13:return[1-r-i*(l/u),t-s*(u/l),i*(l/u),s*(u/l)];case 14:return[1-t,1-r-i*(l/u),s*(u/l),i*(l/u)];case 15:return[r,1-t,i*(l/u),s*(u/l)];default:return[t,r,i,s]}},be(Bt,"_currentDrawId",-1),be(Bt,"_currentParent",null),M(Bt,Yr,null),M(Bt,Oh,null),M(Bt,Hh,null),be(Bt,"_INNER_MARGIN",3);let oT=Bt;var mA,Xr,Jr,Vh,vv,qi,pi,Ga,Kh,Gh,zh,yv,m_;class lfe{constructor(e,t,r,i,s,a){M(this,yv);M(this,mA,new Float64Array(6));M(this,Xr);M(this,Jr);M(this,Vh);M(this,vv);M(this,qi);M(this,pi,"");M(this,Ga,0);M(this,Kh,new jE);M(this,Gh);M(this,zh);_(this,Gh,r),_(this,zh,i),_(this,Vh,s),_(this,vv,a),[e,t]=P(this,yv,m_).call(this,e,t);const o=_(this,Xr,[NaN,NaN,NaN,NaN,e,t]);_(this,qi,[e,t]),_(this,Jr,[{line:o,points:f(this,qi)}]),f(this,mA).set(o,0)}updateProperty(e,t){e==="stroke-width"&&_(this,vv,t)}isEmpty(){return!f(this,Jr)||f(this,Jr).length===0}isCancellable(){return f(this,qi).length<=10}add(e,t){[e,t]=P(this,yv,m_).call(this,e,t);const[r,i,s,a]=f(this,mA).subarray(2,6),o=e-s,l=t-a;return Math.hypot(f(this,Gh)*o,f(this,zh)*l)<=2?null:(f(this,qi).push(e,t),isNaN(r)?(f(this,mA).set([s,a,e,t],2),f(this,Xr).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(f(this,mA)[0])&&f(this,Xr).splice(6,6),f(this,mA).set([r,i,s,a,e,t],0),f(this,Xr).push(...Le.createBezierPoints(r,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(f(this,qi).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){_(this,Gh,r),_(this,zh,i),_(this,Vh,s),[e,t]=P(this,yv,m_).call(this,e,t);const a=_(this,Xr,[NaN,NaN,NaN,NaN,e,t]);_(this,qi,[e,t]);const o=f(this,Jr).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),f(this,Jr).push({line:a,points:f(this,qi)}),f(this,mA).set(a,0),_(this,Ga,0),this.toSVGPath(),null}getLastElement(){return f(this,Jr).at(-1)}setLastElement(e){return f(this,Jr)?(f(this,Jr).push(e),_(this,Xr,e.line),_(this,qi,e.points),_(this,Ga,0),{path:{d:this.toSVGPath()}}):f(this,Kh).setLastElement(e)}removeLastElement(){if(!f(this,Jr))return f(this,Kh).removeLastElement();f(this,Jr).pop(),_(this,pi,"");for(let e=0,t=f(this,Jr).length;e<t;e++){const{line:r,points:i}=f(this,Jr)[e];_(this,Xr,r),_(this,qi,i),_(this,Ga,0),this.toSVGPath()}return{path:{d:f(this,pi)}}}toSVGPath(){const e=Le.svgRound(f(this,Xr)[4]),t=Le.svgRound(f(this,Xr)[5]);if(f(this,qi).length===2)return _(this,pi,`${f(this,pi)} M ${e} ${t} Z`),f(this,pi);if(f(this,qi).length<=6){const i=f(this,pi).lastIndexOf("M");_(this,pi,`${f(this,pi).slice(0,i)} M ${e} ${t}`),_(this,Ga,6)}if(f(this,qi).length===4){const i=Le.svgRound(f(this,Xr)[10]),s=Le.svgRound(f(this,Xr)[11]);return _(this,pi,`${f(this,pi)} L ${i} ${s}`),_(this,Ga,12),f(this,pi)}const r=[];f(this,Ga)===0&&(r.push(`M ${e} ${t}`),_(this,Ga,6));for(let i=f(this,Ga),s=f(this,Xr).length;i<s;i+=6){const[a,o,l,u,d,h]=f(this,Xr).slice(i,i+6).map(Le.svgRound);r.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}return _(this,pi,f(this,pi)+r.join(" ")),_(this,Ga,f(this,Xr).length),f(this,pi)}getOutlines(e,t,r,i){const s=f(this,Jr).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),f(this,Kh).build(f(this,Jr),e,t,r,f(this,Vh),f(this,vv),i),_(this,mA,null),_(this,Xr,null),_(this,Jr,null),_(this,pi,null),f(this,Kh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}mA=new WeakMap,Xr=new WeakMap,Jr=new WeakMap,Vh=new WeakMap,vv=new WeakMap,qi=new WeakMap,pi=new WeakMap,Ga=new WeakMap,Kh=new WeakMap,Gh=new WeakMap,zh=new WeakMap,yv=new WeakSet,m_=function(e,t){return Le._normalizePoint(e,t,f(this,Gh),f(this,zh),f(this,Vh))};var $i,XC,JC,na,vA,yA,wv,bv,qh,bi,al,MW,UW,PW;class jE extends Le{constructor(){super(...arguments);M(this,bi);M(this,$i);M(this,XC,0);M(this,JC);M(this,na);M(this,vA);M(this,yA);M(this,wv);M(this,bv);M(this,qh)}build(t,r,i,s,a,o,l){_(this,vA,r),_(this,yA,i),_(this,wv,s),_(this,bv,a),_(this,qh,o),_(this,JC,l??0),_(this,na,t),P(this,bi,UW).call(this)}get thickness(){return f(this,qh)}setLastElement(t){return f(this,na).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,na).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of f(this,na)){if(t.push(`M${Le.svgRound(r[4])} ${Le.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${Le.svgRound(r[10])} ${Le.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,o,l,u,d,h]=r.subarray(i,i+6).map(Le.svgRound);t.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,r,i,s],a){const o=[],l=[],[u,d,h,g]=P(this,bi,MW).call(this);let v,C,b,B,S,I,T,D,U;switch(f(this,bv)){case 0:U=Le._rescale,v=t,C=r+s,b=i,B=-s,S=t+u*i,I=r+(1-d-g)*s,T=t+(u+h)*i,D=r+(1-d)*s;break;case 90:U=Le._rescaleAndSwap,v=t,C=r,b=i,B=s,S=t+d*i,I=r+u*s,T=t+(d+g)*i,D=r+(u+h)*s;break;case 180:U=Le._rescale,v=t+i,C=r,b=-i,B=s,S=t+(1-u-h)*i,I=r+d*s,T=t+(1-u)*i,D=r+(d+g)*s;break;case 270:U=Le._rescaleAndSwap,v=t+i,C=r+s,b=-i,B=-s,S=t+(1-d-g)*i,I=r+(1-u-h)*s,T=t+(1-d)*i,D=r+(1-u)*s;break}for(const{line:R,points:Q}of f(this,na))o.push(U(R,v,C,b,B,a?new Array(R.length):null)),l.push(U(Q,v,C,b,B,a?new Array(Q.length):null));return{lines:o,points:l,rect:[S,I,T,D]}}static deserialize(t,r,i,s,a,{paths:{lines:o,points:l},rotation:u,thickness:d}){const h=[];let g,v,C,b,B;switch(u){case 0:B=Le._rescale,g=-t/i,v=r/s+1,C=1/i,b=-1/s;break;case 90:B=Le._rescaleAndSwap,g=-r/s,v=-t/i,C=1/s,b=1/i;break;case 180:B=Le._rescale,g=t/i+1,v=-r/s,C=-1/i,b=1/s;break;case 270:B=Le._rescaleAndSwap,g=r/s+1,v=t/i+1,C=-1/s,b=-1/i;break}if(!o){o=[];for(const I of l){const T=I.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1],NaN,NaN,NaN,NaN,I[2],I[3]]));continue}const D=new Float32Array(3*(T-2));o.push(D);let[U,R,Q,H]=I.subarray(0,4);D.set([NaN,NaN,NaN,NaN,U,R],0);for(let k=4;k<T;k+=2){const G=I[k],K=I[k+1];D.set(Le.createBezierPoints(U,R,Q,H,G,K),(k-2)*3),[U,R,Q,H]=[Q,H,G,K]}}}for(let I=0,T=o.length;I<T;I++)h.push({line:B(o[I].map(D=>D??NaN),g,v,C,b),points:B(l[I].map(D=>D??NaN),g,v,C,b)});const S=new this.prototype.constructor;return S.build(h,i,s,1,u,d,a),S}get box(){return f(this,$i)}updateProperty(t,r){return t==="stroke-width"?P(this,bi,PW).call(this,r):null}updateParentDimensions([t,r],i){const[s,a]=P(this,bi,al).call(this);_(this,vA,t),_(this,yA,r),_(this,wv,i);const[o,l]=P(this,bi,al).call(this),u=o-s,d=l-a,h=f(this,$i);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return _(this,XC,t),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,$i).map(Le.svgRound).join(" ")}get defaultProperties(){const[t,r]=f(this,$i);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Le.svgRound(t)} ${Le.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=f(this,$i);let i=0,s=0,a=0,o=0,l=0,u=0;switch(f(this,XC)){case 90:s=r/t,a=-t/r,l=t;break;case 180:i=-1,o=-1,l=t,u=r;break;case 270:s=-r/t,a=t/r,u=r;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${Le.svgRound(l)} ${Le.svgRound(u)})`}getPathResizingSVGProperties([t,r,i,s]){const[a,o]=P(this,bi,al).call(this),[l,u,d,h]=f(this,$i);if(Math.abs(d-a)<=Le.PRECISION||Math.abs(h-o)<=Le.PRECISION){const B=t+i/2-(l+d/2),S=r+s/2-(u+h/2);return{path:{"transform-origin":`${Le.svgRound(t)} ${Le.svgRound(r)}`,transform:`${this.rotationTransform} translate(${B} ${S})`}}}const g=(i-2*a)/(d-2*a),v=(s-2*o)/(h-2*o),C=d/i,b=h/s;return{path:{"transform-origin":`${Le.svgRound(l)} ${Le.svgRound(u)}`,transform:`${this.rotationTransform} scale(${C} ${b}) translate(${Le.svgRound(a)} ${Le.svgRound(o)}) scale(${g} ${v}) translate(${Le.svgRound(-a)} ${Le.svgRound(-o)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[a,o]=P(this,bi,al).call(this),l=f(this,$i),[u,d,h,g]=l;if(l[0]=t,l[1]=r,l[2]=i,l[3]=s,Math.abs(h-a)<=Le.PRECISION||Math.abs(g-o)<=Le.PRECISION){const S=t+i/2-(u+h/2),I=r+s/2-(d+g/2);for(const{line:T,points:D}of f(this,na))Le._translate(T,S,I,T),Le._translate(D,S,I,D);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Le.svgRound(t)} ${Le.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*a)/(h-2*a),C=(s-2*o)/(g-2*o),b=-v*(u+a)+t+a,B=-C*(d+o)+r+o;if(v!==1||C!==1||b!==0||B!==0)for(const{line:S,points:I}of f(this,na))Le._rescale(S,b,B,v,C,S),Le._rescale(I,b,B,v,C,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Le.svgRound(t)} ${Le.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,a]=i,o=f(this,$i),l=t-o[0],u=r-o[1];if(f(this,vA)===s&&f(this,yA)===a)for(const{line:d,points:h}of f(this,na))Le._translate(d,l,u,d),Le._translate(h,l,u,h);else{const d=f(this,vA)/s,h=f(this,yA)/a;_(this,vA,s),_(this,yA,a);for(const{line:g,points:v}of f(this,na))Le._rescale(g,l,u,d,h,g),Le._rescale(v,l,u,d,h,v);o[2]*=d,o[3]*=h}return o[0]=t,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Le.svgRound(t)} ${Le.svgRound(r)}`}}}get defaultSVGProperties(){const t=f(this,$i);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Le.svgRound(t[0])} ${Le.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}$i=new WeakMap,XC=new WeakMap,JC=new WeakMap,na=new WeakMap,vA=new WeakMap,yA=new WeakMap,wv=new WeakMap,bv=new WeakMap,qh=new WeakMap,bi=new WeakSet,al=function(t=f(this,qh)){const r=f(this,JC)+t/2*f(this,wv);return f(this,bv)%180===0?[r/f(this,vA),r/f(this,yA)]:[r/f(this,yA),r/f(this,vA)]},MW=function(){const[t,r,i,s]=f(this,$i),[a,o]=P(this,bi,al).call(this,0);return[t+a,r+o,i-2*a,s-2*o]},UW=function(){const t=_(this,$i,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of f(this,na)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6)Oe.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[d,h,g,v,C,b]=s.subarray(l,l+6);Oe.bezierBoundingBox(a,o,d,h,g,v,C,b,t),a=C,o=b}}const[r,i]=P(this,bi,al).call(this);t[0]=Ji(t[0]-r,0,1),t[1]=Ji(t[1]-i,0,1),t[2]=Ji(t[2]+r,0,1),t[3]=Ji(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},PW=function(t){const[r,i]=P(this,bi,al).call(this);_(this,qh,t);const[s,a]=P(this,bi,al).call(this),[o,l]=[s-r,a-i],u=f(this,$i);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};class K1 extends IW{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Bn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new K1(this._viewParameters);return e.updateAll(this),e}}var x1,RW;const Gg=class Gg extends oT{constructor(t){super({...t,name:"inkEditor"});M(this,x1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){Bn.initialize(t,r),this._defaultDrawingOptions=new K1(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return at(this,"typesMap",new Map([[Tt.INK_THICKNESS,"stroke-width"],[Tt.INK_COLOR,"stroke"],[Tt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,a){return new lfe(t,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,a,o){return jE.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){let s=null;if(t instanceof KQ){const{data:{inkLists:o,rect:l,rotation:u,id:d,color:h,opacity:g,borderStyle:{rawWidth:v},popupRef:C,richText:b,contentsObj:B,creationDate:S,modificationDate:I},parent:{page:{pageNumber:T}}}=t;s=t={annotationType:lt.INK,color:Array.from(h),thickness:v,opacity:g,paths:{points:o},boxes:null,pageIndex:T-1,rect:l.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:C,richText:b,comment:(B==null?void 0:B.str)||null,creationDate:S,modificationDate:I}}const a=await super.deserialize(t,r,i);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new rT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Tt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=Gg.getDefaultDrawingOptions({stroke:Oe.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:Bn._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:r,points:i}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!P(this,x1,RW).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};x1=new WeakSet,RW=function(t){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==r[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},be(Gg,"_type","ink"),be(Gg,"_editorType",lt.INK),be(Gg,"_defaultDrawingOptions",null);let XD=Gg;class JD extends jE{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const qS=8,F0=3;var z0,$h,zt,ZD,xo,DW,NW,eN,v_,LW,QW,kW,tN,nN,OW;let Fg=(z0=class{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,a,o,l){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,g=d.font=`${r} ${i} ${h}px ${t}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:C,actualBoundingBoxAscent:b,actualBoundingBoxDescent:B,fontBoundingBoxAscent:S,fontBoundingBoxDescent:I,width:T}=d.measureText(e),D=1.5,U=Math.ceil(Math.max(Math.abs(v)+Math.abs(C)||0,T)*D),R=Math.ceil(Math.max(Math.abs(b)+Math.abs(B)||h,Math.abs(S)+Math.abs(I)||h)*D);u=new OffscreenCanvas(U,R),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,U,R),d.fillStyle="black",d.fillText(e,U*(D-1)/2,R*(3-D)/2);const Q=P(this,zt,tN).call(this,d.getImageData(0,0,U,R).data),H=P(this,zt,kW).call(this,Q),k=P(this,zt,nN).call(this,H),G=P(this,zt,eN).call(this,Q,U,R,k);return this.processDrawnLines({lines:{curves:G,width:U,height:R},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[a,o,l]=P(this,zt,OW).call(this,e),[u,d]=P(this,zt,QW).call(this,a,o,l,Math.hypot(o,l)*f(this,$h).sigmaSFactor,f(this,$h).sigmaR,f(this,$h).kernelSize),h=P(this,zt,nN).call(this,d),g=P(this,zt,eN).call(this,u,o,l,h);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([t,r]=[r,t]);const{curves:l,width:u,height:d}=e,h=e.thickness??0,g=[],v=Math.min(t/u,r/d),C=v/t,b=v/r,B=[];for(const{points:I}of l){const T=a?P(this,zt,LW).call(this,I):I;if(!T)continue;B.push(T);const D=T.length,U=new Float32Array(D),R=new Float32Array(3*(D===2?2:D-2));if(g.push({line:R,points:U}),D===2){U[0]=T[0]*C,U[1]=T[1]*b,R.set([NaN,NaN,NaN,NaN,U[0],U[1]],0);continue}let[Q,H,k,G]=T;Q*=C,H*=b,k*=C,G*=b,U.set([Q,H,k,G],0),R.set([NaN,NaN,NaN,NaN,Q,H],0);for(let K=4;K<D;K+=2){const z=U[K]=T[K]*C,Z=U[K+1]=T[K+1]*b;R.set(Le.createBezierPoints(Q,H,k,G,z,Z),(K-2)*3),[Q,H,k,G]=[k,G,z,Z]}}if(g.length===0)return null;const S=o?new JD:new jE;return S.build(g,t,r,1,i,o?0:h,s),{outline:S,newCurves:B,areContours:o,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const T of e){l+=T.length;for(let D=2,U=T.length;D<U;D++){const R=T[D]-T[D-2];a=Math.min(a,R),o=Math.max(o,R)}}let u;a>=-128&&o<=127?u=Int8Array:a>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=qS+F0*d,g=new Uint32Array(h);let v=0;g[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*u.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=i,g[v++]=s,g[v++]=t?0:1,g[v++]=Math.max(0,Math.floor(r??0)),g[v++]=d,g[v++]=u.BYTES_PER_ELEMENT;for(const T of e)g[v++]=T.length-2,g[v++]=T[0],g[v++]=T[1];const C=new CompressionStream("deflate-raw"),b=C.writable.getWriter();await b.ready,b.write(g);const B=u.prototype.constructor;for(const T of e){const D=new B(T.length-2);for(let U=2,R=T.length;U<R;U++)D[U-2]=T[U]-T[U-2];b.write(D)}b.close();const S=await new Response(C.readable).arrayBuffer(),I=new Uint8Array(S);return Nj(I)}static async decompressSignature(e){try{const t=Sce(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const T of r)a||(a=new Uint8Array(new Uint32Array(T.buffer,0,4)[0])),a.set(T,o),o+=T.length;const l=new Uint32Array(a.buffer,0,a.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=l[2],h=l[3],g=l[4]===0,v=l[5],C=l[6],b=l[7],B=[],S=(qS+F0*C)*Uint32Array.BYTES_PER_ELEMENT;let I;switch(b){case Int8Array.BYTES_PER_ELEMENT:I=new Int8Array(a.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:I=new Int16Array(a.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:I=new Int32Array(a.buffer,S);break}o=0;for(let T=0;T<C;T++){const D=l[F0*T+qS],U=new Float32Array(D+2);B.push(U);for(let R=0;R<F0-1;R++)U[R]=l[F0*T+qS+R+1];for(let R=0;R<D;R++)U[R+2]=U[R]+I[o++]}return{areContours:g,thickness:v,outlines:B,width:d,height:h}}catch(t){return st(`decompressSignature: ${t}`),null}}},$h=new WeakMap,zt=new WeakSet,ZD=function(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i},xo=new WeakMap,DW=function(e,t,r,i,s,a,o){const l=P(this,zt,ZD).call(this,r,i,s,a);for(let u=0;u<8;u++){const d=(-u+l-o+16)%8,h=f(this,xo)[2*d],g=f(this,xo)[2*d+1];if(e[(r+h)*t+(i+g)]!==0)return d}return-1},NW=function(e,t,r,i,s,a,o){const l=P(this,zt,ZD).call(this,r,i,s,a);for(let u=0;u<8;u++){const d=(u+l+o+16)%8,h=f(this,xo)[2*d],g=f(this,xo)[2*d+1];if(e[(r+h)*t+(i+g)]!==0)return d}return-1},eN=function(e,t,r,i){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=i?1:0;for(let d=1;d<r-1;d++)a[d*t]=a[d*t+t-1]=0;for(let d=0;d<t;d++)a[d]=a[t*r-1-d]=0;let o=1,l;const u=[];for(let d=1;d<r-1;d++){l=1;for(let h=1;h<t-1;h++){const g=d*t+h,v=a[g];if(v===0)continue;let C=d,b=h;if(v===1&&a[g-1]===0)o+=1,b-=1;else if(v>=1&&a[g+1]===0)o+=1,b+=1,v>1&&(l=v);else{v!==1&&(l=Math.abs(v));continue}const B=[h,d],S=b===h+1,I={isHole:S,points:B,id:o,parent:0};u.push(I);let T;for(const K of u)if(K.id===l){T=K;break}T?T.isHole?I.parent=S?T.parent:l:I.parent=S?l:T.parent:I.parent=S?l:0;const D=P(this,zt,DW).call(this,a,t,d,h,C,b,0);if(D===-1){a[g]=-o,a[g]!==1&&(l=Math.abs(a[g]));continue}let U=f(this,xo)[2*D],R=f(this,xo)[2*D+1];const Q=d+U,H=h+R;C=Q,b=H;let k=d,G=h;for(;;){const K=P(this,zt,NW).call(this,a,t,k,G,C,b,1);U=f(this,xo)[2*K],R=f(this,xo)[2*K+1];const z=k+U,Z=G+R;B.push(Z,z);const Y=k*t+G;if(a[Y+1]===0?a[Y]=-o:a[Y]===1&&(a[Y]=o),z===d&&Z===h&&k===Q&&G===H){a[g]!==1&&(l=Math.abs(a[g]));break}else C=k,b=G,k=z,G=Z}}}return u},v_=function(e,t,r,i){if(r-t<=4){for(let Q=t;Q<r-2;Q+=2)i.push(e[Q],e[Q+1]);return}const s=e[t],a=e[t+1],o=e[r-4]-s,l=e[r-3]-a,u=Math.hypot(o,l),d=o/u,h=l/u,g=d*a-h*s,v=l/o,C=1/u,b=Math.atan(v),B=Math.cos(b),S=Math.sin(b),I=C*(Math.abs(B)+Math.abs(S)),T=C*(1-I+I**2),D=Math.max(Math.atan(Math.abs(S+B)*T),Math.atan(Math.abs(S-B)*T));let U=0,R=t;for(let Q=t+2;Q<r-2;Q+=2){const H=Math.abs(g-d*e[Q+1]+h*e[Q]);H>U&&(R=Q,U=H)}U>(u*D)**2?(P(this,zt,v_).call(this,e,t,R+2,i),P(this,zt,v_).call(this,e,R,r,i)):i.push(s,a)},LW=function(e){const t=[],r=e.length;return P(this,zt,v_).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},QW=function(e,t,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,u=a>>1;for(let b=0;b<a;b++){const B=(b-u)**2;for(let S=0;S<a;S++)o[b*a+S]=Math.exp((B+(S-u)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let b=0;b<256;b++)d[b]=Math.exp(b**2/h);const g=e.length,v=new Uint8Array(g),C=new Uint32Array(256);for(let b=0;b<r;b++)for(let B=0;B<t;B++){const S=b*t+B,I=e[S];let T=0,D=0;for(let R=0;R<a;R++){const Q=b+R-u;if(!(Q<0||Q>=r))for(let H=0;H<a;H++){const k=B+H-u;if(k<0||k>=t)continue;const G=e[Q*t+k],K=o[R*a+H]*d[Math.abs(G-I)];T+=G*K,D+=K}}const U=v[S]=Math.round(T/D);C[U]++}return[v,C]},kW=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},tN=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const u=r[o]=e[o<<2];i=Math.max(i,u),s=Math.min(s,u)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r},nN=function(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>r&&(t-a>i&&(i=t-a,o=t-1),r=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},OW=function(e){const t=e,{width:r,height:i}=e,{maxDim:s}=f(this,$h);let a=r,o=i;if(r>s||i>s){let g=r,v=i,C=Math.log2(Math.max(r,i)/s);const b=Math.floor(C);C=C===b?b-1:b;for(let S=0;S<C;S++){a=Math.ceil(g/2),o=Math.ceil(v/2);const I=new OffscreenCanvas(a,o);I.getContext("2d").drawImage(e,0,0,g,v,0,0,a,o),g=a,v=o,e!==t&&e.close(),e=I.transferToImageBitmap()}const B=Math.min(s/a,s/o);a=Math.round(a*B),o=Math.round(o*B)}const u=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,a,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=u.getImageData(0,0,a,o).data;return[P(this,zt,tN).call(this,d),a,o]},M(z0,zt),M(z0,$h,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),M(z0,xo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])),z0);class GQ extends IW{constructor(){super(),super.updateProperties({fill:Bn._defaultLineColor,"stroke-width":0})}clone(){const e=new GQ;return e.updateAll(this),e}}class zQ extends K1{constructor(e){super(e),super.updateProperties({stroke:Bn._defaultLineColor,"stroke-width":1})}clone(){const e=new zQ(this._viewParameters);return e.updateAll(this),e}}var od,wA,Ad,jh;const ks=class ks extends oT{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});M(this,od,!1);M(this,wA,null);M(this,Ad,null);M(this,jh,null);this._willKeepAspectRatio=!0,_(this,Ad,t.signatureData||null),_(this,wA,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){Bn.initialize(t,r),this._defaultDrawingOptions=new GQ,this._defaultDrawnSignatureOptions=new zQ(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return at(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,wA)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(f(this,Ad)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:u,heightInPage:d}=f(this,Ad),{rawDims:{pageWidth:h,pageHeight:g},rotation:v}=this.parent.viewport,C=Fg.processDrawnLines({lines:s,pageWidth:h,pageHeight:g,rotation:v,innerMargin:ks._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(C,d,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:f(this,wA)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){_(this,jh,t),this.addEditToolbar()}getUuid(){return f(this,jh)}get description(){return f(this,wA)}set description(t){_(this,wA,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:i,width:s,height:a}=f(this,Ad),o=Math.max(s,a),l=Fg.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,i,s){const{x:a,y:o}=this,{outline:l}=_(this,Ad,t);_(this,od,l instanceof JD),this.description=i;let u;f(this,od)?u=ks.getDefaultDrawingOptions():(u=ks._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,d]=this.pageDimensions;let h=r/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Fg.process(t,r,i,s,ks._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return Fg.extractContoursFromText(t,r,i,s,a,ks._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Fg.processDrawnLines({lines:t,pageWidth:r,pageHeight:i,rotation:s,innerMargin:ks._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=ks.getDefaultDrawingOptions():(this._drawingOptions=ks._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:f(this,od),color:[0,0,0],thickness:f(this,od)?0:s});return this.addComment(a),t?(a.paths={lines:r,points:i},a.uuid=f(this,jh),a.isCopy=!0):a.lines=r,f(this,wA)&&(a.accessibilityData={type:"Figure",alt:f(this,wA)}),a}static deserializeDraw(t,r,i,s,a,o){return o.areContours?JD.deserialize(t,r,i,s,a,o):jE.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){var a;const s=await super.deserialize(t,r,i);return _(s,od,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",_(s,jh,t.uuid),s}};od=new WeakMap,wA=new WeakMap,Ad=new WeakMap,jh=new WeakMap,be(ks,"_type","signature"),be(ks,"_editorType",lt.SIGNATURE),be(ks,"_defaultDrawingOptions",null);let rN=ks;var Nn,Zr,ld,Hl,ud,Cv,Vl,Wh,bA,ra,Ev,Ut,cw,dw,y_,w_,b_,sN,C_,HW;class iN extends Bn{constructor(t){super({...t,name:"stampEditor"});M(this,Ut);M(this,Nn,null);M(this,Zr,null);M(this,ld,null);M(this,Hl,null);M(this,ud,null);M(this,Cv,"");M(this,Vl,null);M(this,Wh,!1);M(this,bA,null);M(this,ra,!1);M(this,Ev,!1);_(this,Hl,t.bitmapUrl),_(this,ud,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){Bn.initialize(t,r)}static isHandlingMimeForPasting(t){return VR.includes(t)}static paste(t,r){r.pasteEditor({mode:lt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;f(this,Zr)&&(_(this,Nn,null),this._uiManager.imageManager.deleteId(f(this,Zr)),(t=f(this,Vl))==null||t.remove(),_(this,Vl,null),f(this,bA)&&(clearTimeout(f(this,bA)),_(this,bA,null))),super.remove()}rebuild(){if(!this.parent){f(this,Zr)&&P(this,Ut,y_).call(this);return}super.rebuild(),this.div!==null&&(f(this,Zr)&&f(this,Vl)===null&&P(this,Ut,y_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(f(this,ld)||f(this,Nn)||f(this,Hl)||f(this,ud)||f(this,Zr)||f(this,Wh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),f(this,Wh)||(f(this,Nn)?P(this,Ut,w_).call(this):P(this,Ut,y_).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(_(this,Zr,i),s&&_(this,Nn,s),_(this,Wh,!1),P(this,Ut,w_).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,bA)!==null&&clearTimeout(f(this,bA)),_(this,bA,setTimeout(()=>{_(this,bA,null),P(this,Ut,sN).call(this)},200))}copyCanvas(t,r,i=!1){t||(t=224);const{width:s,height:a}=f(this,Nn),o=new vp;let l=f(this,Nn),u=s,d=a,h=null;if(r){if(s>r||a>r){const Q=Math.min(r/s,r/a);u=Math.floor(s*Q),d=Math.floor(a*Q)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*o.sx),C=h.height=Math.ceil(d*o.sy);f(this,ra)||(l=P(this,Ut,b_).call(this,v,C));const b=h.getContext("2d");b.filter=this._uiManager.hcmFilter;let B="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":Mce.isDarkMode&&(B="#8f8f9d",S="#42414d");const I=15,T=I*o.sx,D=I*o.sy,U=new OffscreenCanvas(T*2,D*2),R=U.getContext("2d");R.fillStyle=B,R.fillRect(0,0,T*2,D*2),R.fillStyle=S,R.fillRect(0,0,T,D),R.fillRect(T,D,T,D),b.fillStyle=b.createPattern(U,"repeat"),b.fillRect(0,0,v,C),b.drawImage(l,0,0,l.width,l.height,0,0,v,C)}let g=null;if(i){let v,C;if(o.symmetric&&l.width<t&&l.height<t)v=l.width,C=l.height;else if(l=f(this,Nn),s>t||a>t){const S=Math.min(t/s,t/a);v=Math.floor(s*S),C=Math.floor(a*S),f(this,ra)||(l=P(this,Ut,b_).call(this,v,C))}const B=new OffscreenCanvas(v,C).getContext("2d",{willReadFrequently:!0});B.drawImage(l,0,0,l.width,l.height,0,0,v,C),g={width:v,height:C,data:B.getImageData(0,0,v,C).data}}return{canvas:h,width:u,height:d,imageData:g}}static async deserialize(t,r,i){var B;let s=null,a=!1;if(t instanceof rW){const{data:{rect:S,rotation:I,id:T,structParent:D,popupRef:U,richText:R,contentsObj:Q,creationDate:H,modificationDate:k},container:G,parent:{page:{pageNumber:K}},canvas:z}=t;let Z,Y;z?(delete t.canvas,{id:Z,bitmap:Y}=i.imageManager.getFromCanvas(G.id,z),z.remove()):(a=!0,t._hasNoCanvas=!0);const ve=((B=await r._structTree.getAriaAttributes(`${Lg}${T}`))==null?void 0:B.get("aria-label"))||"";s=t={annotationType:lt.STAMP,bitmapId:Z,bitmap:Y,pageIndex:K-1,rect:S.slice(0),rotation:I,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:ve},isSvg:!1,structParent:D,popupRef:U,richText:R,comment:(Q==null?void 0:Q.str)||null,creationDate:H,modificationDate:k}}const o=await super.deserialize(t,r,i),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:g,accessibilityData:v}=t;a?(i.addMissingCanvas(t.id,o),_(o,Wh,!0)):h&&i.imageManager.isValidId(h)?(_(o,Zr,h),u&&_(o,Nn,u)):_(o,Hl,d),_(o,ra,g);const[C,b]=o.pageDimensions;return o.width=(l[2]-l[0])/C,o.height=(l[3]-l[1])/b,v&&(o.altTextData=v),o._initialData=s,t.comment&&o.setCommentData(t),_(o,Ev,!!s),o}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:f(this,Zr),isSvg:f(this,ra)});if(this.addComment(i),t)return i.bitmapUrl=P(this,Ut,C_).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=P(this,Ut,HW).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const o=f(this,ra)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(f(this,Zr)))r.stamps.set(f(this,Zr),{area:o,serialized:i}),i.bitmap=P(this,Ut,C_).call(this,!1);else if(f(this,ra)){const l=r.stamps.get(f(this,Zr));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=P(this,Ut,C_).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Nn=new WeakMap,Zr=new WeakMap,ld=new WeakMap,Hl=new WeakMap,ud=new WeakMap,Cv=new WeakMap,Vl=new WeakMap,Wh=new WeakMap,bA=new WeakMap,ra=new WeakMap,Ev=new WeakMap,Ut=new WeakSet,cw=function(t,r=!1){if(!t){this.remove();return}_(this,Nn,t.bitmap),r||(_(this,Zr,t.id),_(this,ra,t.isSvg)),t.file&&_(this,Cv,t.file.name),P(this,Ut,w_).call(this)},dw=function(){if(_(this,ld,null),this._uiManager.enableWaiting(!1),!!f(this,Vl)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Nn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Nn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},y_=function(){if(f(this,Zr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,Zr)).then(i=>P(this,Ut,cw).call(this,i,!0)).finally(()=>P(this,Ut,dw).call(this));return}if(f(this,Hl)){const i=f(this,Hl);_(this,Hl,null),this._uiManager.enableWaiting(!0),_(this,ld,this._uiManager.imageManager.getFromUrl(i).then(s=>P(this,Ut,cw).call(this,s)).finally(()=>P(this,Ut,dw).call(this)));return}if(f(this,ud)){const i=f(this,ud);_(this,ud,null),this._uiManager.enableWaiting(!0),_(this,ld,this._uiManager.imageManager.getFromFile(i).then(s=>P(this,Ut,cw).call(this,s)).finally(()=>P(this,Ut,dw).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=VR.join(",");const r=this._uiManager._signal;_(this,ld,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),P(this,Ut,cw).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>P(this,Ut,dw).call(this))),t.click()},w_=function(){var u;const{div:t}=this;let{width:r,height:i}=f(this,Nn);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const d=Math.min(o*s/r,o*a/i);r*=d,i*=d}this._uiManager.enableWaiting(!1);const l=_(this,Vl,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/s,this.height=i/a,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),P(this,Ut,sN).call(this),f(this,Ev)||(this.parent.addUndoableEditor(this),_(this,Ev,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,Cv)&&this.div.setAttribute("aria-description",f(this,Cv)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},b_=function(t,r){const{width:i,height:s}=f(this,Nn);let a=i,o=s,l=f(this,Nn);for(;a>2*t||o>2*r;){const u=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,u,d,0,0,a,o),l=h.transferToImageBitmap()}return l},sN=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,a=new vp,o=Math.ceil(i*t*a.sx),l=Math.ceil(s*r*a.sy),u=f(this,Vl);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const d=f(this,ra)?f(this,Nn):P(this,Ut,b_).call(this,o,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,l)},C_=function(t){if(t){if(f(this,ra)){const s=this._uiManager.imageManager.getSvgUrl(f(this,Zr));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=f(this,Nn),r.getContext("2d").drawImage(f(this,Nn),0,0),r.toDataURL()}if(f(this,ra)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Xv.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Xv.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(f(this,Nn),0,0,f(this,Nn).width,f(this,Nn).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(f(this,Nn))},HW=function(t){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},be(iN,"_type","stamp"),be(iN,"_editorType",lt.STAMP);var Yh,Bv,cd,dd,Kl,ws,fd,Sv,xv,_o,Gl,ei,zl,hd,_v,Ke,xs,pd,gn,aN,VW,Jo,oN,AN,E_;let ufe=(xs=class{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:d}){M(this,gn);M(this,Yh);M(this,Bv,!1);M(this,cd,null);M(this,dd,null);M(this,Kl,null);M(this,ws,new Map);M(this,fd,!1);M(this,Sv,!1);M(this,xv,!1);M(this,_o,null);M(this,Gl,null);M(this,ei,null);M(this,zl,null);M(this,hd,null);M(this,_v,-1);M(this,Ke);const h=[...f(xs,pd).values()];if(!xs._initialized){xs._initialized=!0;for(const g of h)g.initialize(d,e)}e.registerEditorTypes(h),_(this,Ke,e),this.pageIndex=t,this.div=r,_(this,Yh,s),_(this,cd,a),this.viewport=u,_(this,ei,l),this.drawLayer=o,this._structTree=i,f(this,Ke).addLayer(this)}get isEmpty(){return f(this,ws).size===0}get isInvisible(){return this.isEmpty&&f(this,Ke).getMode()===lt.NONE}updateToolbar(e){f(this,Ke).updateToolbar(e)}updateMode(e=f(this,Ke).getMode()){switch(P(this,gn,E_).call(this),e){case lt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case lt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case lt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===lt.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const r of f(xs,pd).values())t.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,ei))==null?void 0:t.div)}setEditingState(e){f(this,Ke).setEditingState(e)}addCommands(e){f(this,Ke).addCommands(e)}cleanUndoStack(e){f(this,Ke).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,cd))==null||t.togglePointerEvents(e)}async enable(){var r;_(this,xv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=f(this,hd))==null||r.abort(),_(this,hd,null);const e=new Set;for(const i of f(this,gn,aN))i.enableEditing(),i.show(!0),i.annotationElementId&&(f(this,Ke).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=f(this,cd);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),f(this,Ke).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}_(this,xv,!1),f(this,Ke)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(_(this,Sv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),f(this,ei)&&!f(this,hd)){_(this,hd,new AbortController);const s=f(this,Ke).combinedSignal(f(this,hd));f(this,ei).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:u,timeStamp:d}=a,h=f(this,_v);if(d-h>500){_(this,_v,d);return}_(this,_v,-1);const{classList:g}=this.div;g.toggle("getElements",!0);const v=document.elementsFromPoint(l,u);if(g.toggle("getElements",!1),!this.div.contains(v[0]))return;let C;const b=new RegExp(`^${Hw}[0-9]+$`);for(const S of v)if(b.test(S.id)){C=S.id;break}if(!C)return;const B=f(this,ws).get(C);(B==null?void 0:B.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),B.dblclick(a))},{signal:s,capture:!0})}const e=f(this,cd),t=[];if(e){const s=new Map,a=new Map;for(const l of f(this,gn,aN)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(f(this,Ke).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=a.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=s.get(u),d&&(f(this,Ke).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}P(this,gn,E_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of f(xs,pd).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),_(this,Sv,!1)}getEditableAnnotation(e){var t;return((t=f(this,cd))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,Ke).getActive()!==e&&f(this,Ke).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,ei))!=null&&e.div&&!f(this,zl)){_(this,zl,new AbortController);const t=f(this,Ke).combinedSignal(f(this,zl));f(this,ei).div.addEventListener("pointerdown",P(this,gn,VW).bind(this),{signal:t}),f(this,ei).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,ei))!=null&&e.div&&f(this,zl)&&(f(this,zl).abort(),_(this,zl,null),f(this,ei).div.classList.remove("highlighting"))}enableClick(){if(f(this,dd))return;_(this,dd,new AbortController);const e=f(this,Ke).combinedSignal(f(this,dd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=f(this,dd))==null||e.abort(),_(this,dd,null)}attach(e){f(this,ws).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,Ke).isDeletedAnnotationElement(t)&&f(this,Ke).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,ws).delete(e.id),(t=f(this,Yh))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,Sv)&&e.annotationElementId&&f(this,Ke).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,Ke).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,Ke).addDeletedAnnotationElement(e),Bn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,Ke).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!f(this,xv)),f(this,Ke).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,Kl)&&(e._focusEventsAllowed=!1,_(this,Kl,setTimeout(()=>{_(this,Kl,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,Ke)._signal}),t.focus())},0))),e._structTreeParentId=(r=f(this,Yh))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getEditorByUID(e){for(const t of f(this,ws).values())if(t.uid===e)return t;return null}getNextId(){return f(this,Ke).getId()}combinedSignal(e){return f(this,Ke).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,gn,Jo))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await f(this,Ke).updateMode(e.mode);const{offsetX:r,offsetY:i}=P(this,gn,AN).call(this),s=this.getNextId(),a=P(this,gn,oN).call(this,{parent:this,id:s,x:r,y:i,uiManager:f(this,Ke),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=f(xs,pd).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,Ke)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=P(this,gn,oN).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:f(this,Ke),isCentered:t,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(P(this,gn,AN).call(this),!0,e)}setSelected(e){f(this,Ke).setSelected(e)}toggleSelected(e){f(this,Ke).toggleSelected(e)}unselect(e){f(this,Ke).unselect(e)}pointerup(e){var i;const{isMac:t}=Si.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!f(this,fd)||(_(this,fd,!1),(i=f(this,gn,Jo))!=null&&i.isDrawer&&f(this,gn,Jo).supportMultipleDrawings))return;if(!f(this,Bv)){_(this,Bv,!0);return}const r=f(this,Ke).getMode();if(r===lt.STAMP||r===lt.SIGNATURE){f(this,Ke).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(f(this,Ke).getMode()===lt.HIGHLIGHT&&this.enableTextSelection(),f(this,fd)){_(this,fd,!1);return}const{isMac:t}=Si.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(_(this,fd,!0),(i=f(this,gn,Jo))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=f(this,Ke).getActive();_(this,Bv,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),f(this,_o)){f(this,gn,Jo).startDrawing(this,f(this,Ke),!1,e);return}f(this,Ke).setCurrentDrawingSession(this),_(this,_o,new AbortController);const t=f(this,Ke).combinedSignal(f(this,_o));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(_(this,Gl,null),this.commitOrRemove())},{signal:t}),f(this,gn,Jo).startDrawing(this,f(this,Ke),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&_(this,Gl,t);return}f(this,Gl)&&setTimeout(()=>{var t;(t=f(this,Gl))==null||t.focus(),_(this,Gl,null)},0)}endDrawingSession(e=!1){return f(this,_o)?(f(this,Ke).setCurrentDrawingSession(null),f(this,_o).abort(),_(this,_o,null),_(this,Gl,null),f(this,gn,Jo).endDrawing(e)):null}findNewParent(e,t,r){const i=f(this,Ke).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return f(this,_o)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,_o)&&f(this,gn,Jo).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=f(this,Ke).getActive())==null?void 0:e.parent)===this&&(f(this,Ke).commitOrRemove(),f(this,Ke).setActiveEditor(null)),f(this,Kl)&&(clearTimeout(f(this,Kl)),_(this,Kl,null));for(const r of f(this,ws).values())(t=f(this,Yh))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,f(this,ws).clear(),f(this,Ke).removeLayer(this)}render({viewport:e}){this.viewport=e,mp(this.div,e);for(const t of f(this,Ke).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,Ke).commitOrRemove(),P(this,gn,E_).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,mp(this.div,{rotation:r}),t!==r)for(const i of f(this,ws).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,Ke).viewParameters.realScale}},Yh=new WeakMap,Bv=new WeakMap,cd=new WeakMap,dd=new WeakMap,Kl=new WeakMap,ws=new WeakMap,fd=new WeakMap,Sv=new WeakMap,xv=new WeakMap,_o=new WeakMap,Gl=new WeakMap,ei=new WeakMap,zl=new WeakMap,hd=new WeakMap,_v=new WeakMap,Ke=new WeakMap,pd=new WeakMap,gn=new WeakSet,aN=function(){return f(this,ws).size!==0?f(this,ws).values():f(this,Ke).getEditors(this.pageIndex)},VW=function(e){f(this,Ke).unselectAll();const{target:t}=e;if(t===f(this,ei).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,ei).div.contains(t)){const{isMac:r}=Si.platform;if(e.button!==0||e.ctrlKey&&r)return;f(this,Ke).showAllEditors("highlight",!0,!0),f(this,ei).div.classList.add("free"),this.toggleDrawing(),aT.startHighlighting(this,f(this,Ke).direction==="ltr",{target:f(this,ei).div,x:e.x,y:e.y}),f(this,ei).div.addEventListener("pointerup",()=>{f(this,ei).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,Ke)._signal}),e.preventDefault()}},Jo=function(){return f(xs,pd).get(f(this,Ke).getMode())},oN=function(e){const t=f(this,gn,Jo);return t?new t.prototype.constructor(e):null},AN=function(){const{x:e,y:t,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),u=(s+o)/2-e,d=(a+l)/2-t,[h,g]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:g}},E_=function(){for(const e of f(this,ws).values())e.isEmpty()&&e.remove()},be(xs,"_initialized",!1),M(xs,pd,new Map([HD,XD,iN,aT,rN].map(e=>[e._editorType,e]))),xs);var To,ji,Xh,Jn,ZC,_1,KW,PA,lN,GW,uN;let cfe=(Jn=class{constructor({pageIndex:e}){M(this,PA);M(this,To,null);M(this,ji,new Map);M(this,Xh,new Map);this.pageIndex=e}setParent(e){if(!f(this,To)){_(this,To,e);return}if(f(this,To)!==e){if(f(this,ji).size>0)for(const t of f(this,ji).values())t.remove(),e.append(t);_(this,To,e)}}static get _svgFactory(){return at(this,"_svgFactory",new iT)}draw(e,t=!1,r=!1){const i=ar(Jn,ZC)._++,s=P(this,PA,lN).call(this),a=Jn._svgFactory.createElement("defs");s.append(a);const o=Jn._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&f(this,Xh).set(i,o);const u=r?P(this,PA,GW).call(this,a,l):null,d=Jn._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),f(this,ji).set(i,s),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const r=ar(Jn,ZC)._++,i=P(this,PA,lN).call(this),s=Jn._svgFactory.createElement("defs");i.append(s);const a=Jn._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=Jn._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const g=Jn._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=Jn._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${o}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const u=Jn._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return i.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),f(this,ji).set(r,i),r}finalizeDraw(e,t){f(this,Xh).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?f(this,ji).get(e):e;if(o){if(r&&P(this,PA,uN).call(this,o,r),i&&P(l=Jn,_1,KW).call(l,o,i),s){const{classList:u}=o;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(a){const d=o.firstElementChild.firstElementChild;P(this,PA,uN).call(this,d,a)}}}updateParent(e,t){if(t===this)return;const r=f(this,ji).get(e);r&&(f(t,To).append(r),f(this,ji).delete(e),f(t,ji).set(e,r))}remove(e){f(this,Xh).delete(e),f(this,To)!==null&&(f(this,ji).get(e).remove(),f(this,ji).delete(e))}destroy(){_(this,To,null);for(const e of f(this,ji).values())e.remove();f(this,ji).clear(),f(this,Xh).clear()}},To=new WeakMap,ji=new WeakMap,Xh=new WeakMap,ZC=new WeakMap,_1=new WeakSet,KW=function(e,[t,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},PA=new WeakSet,lN=function(){const e=Jn._svgFactory.create(1,1,!0);return f(this,To).append(e),e.setAttribute("aria-hidden",!0),e},GW=function(e,t){const r=Jn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Jn._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},uN=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},M(Jn,_1),M(Jn,ZC,0),Jn);globalThis._pdfjsTestingUtils={HighlightOutliner:KD};globalThis.pdfjsLib={AbortException:Vd,AnnotationEditorLayer:ufe,AnnotationEditorParamsType:Tt,AnnotationEditorType:lt,AnnotationEditorUIManager:Gw,AnnotationLayer:afe,AnnotationMode:Ec,AnnotationType:Cr,applyOpacity:Pce,build:kde,ColorPicker:z6,createValidAbsoluteUrl:Uj,CSSConstants:Uce,DOMSVGFactory:iT,DrawLayer:cfe,FeatureTest:Si,fetchData:KE,findContrastColor:Rce,getDocument:HQ,getFilenameFromUrl:xce,getPdfFilenameFromUrl:_ce,getRGB:zE,getUuid:Dj,getXfaPageViewport:Ice,GlobalWorkerOptions:ru,ImageKind:Gx,InvalidPDFException:QR,isDataScheme:H1,isPdfFile:LQ,isValidExplicitDest:Gce,MathClamp:Ji,noContextMenu:ro,normalizeUnicode:Ece,OPS:Vw,OutputScale:vp,PasswordResponses:hce,PDFDataRangeTransport:H6,PDFDateString:OR,PDFWorker:SD,PermissionFlag:fce,PixelsPerInch:Xv,RenderingCancelledException:NQ,renderRichText:Qj,ResponseException:J_,setLayerDimensions:mp,shadow:at,SignatureExtractor:Fg,stopEvent:tr,SupportedImageMimeTypes:VR,TextLayer:bD,TouchManager:s6,updateUrlHash:Pj,Util:Oe,VerbosityLevel:Q1,version:G6,XfaLayer:Lj};ru.workerSrc="https://aistudiocdn.com/pdfjs-dist@4.4.168/build/pdf.worker.mjs";const dfe=async n=>{try{const e=await n.arrayBuffer(),t=await HQ({data:e}).promise;let r="",i=[],s="";const a=t.numPages;if(a===0)throw new Error("PDF has zero pages.");for(let l=1;l<=a;l++){const h=(await(await t.getPage(l)).getTextContent()).items.map(v=>v.str).join(" ");r+=h+" ",h.trim().length>0&&i.push({id:`chunk-page-${l}`,text:h,pageNumber:l});const g=h.split("  ");s+=`<div class="pdf-page" id="page-${l}" style="margin-bottom: 2rem; border-bottom: 1px dashed #e2e8f0; padding-bottom: 1rem;">`,s+=`<span class="text-xs text-slate-400 block mb-2 font-mono">Page ${l}</span>`,h.trim().length===0?s+=`<div class="p-4 bg-slate-100 dark:bg-slate-800 rounded text-slate-500 text-sm italic text-center">[Page ${l}: No text content detected. This might be a scanned image.]</div>`:g.forEach(v=>{v.trim().length>0&&(v.length<50&&!v.endsWith(".")?s+=`<h3 class="font-bold text-lg mt-4 mb-2 text-slate-800 dark:text-slate-200">${v}</h3>`:s+=`<p class="mb-2 leading-relaxed text-slate-700 dark:text-slate-300">${v}</p>`)}),s+="</div>"}return s.trim()||(s="<div class='p-8 text-center text-slate-500'>Could not extract text from this PDF. It might contain only images or be protected.</div>"),{chapters:[{id:"pdf-upload",title:n.name.replace(".pdf",""),content:s}],chunks:i}}catch(e){throw console.error("PDF Processing Error:",e),e}},ffe=(n,e)=>{const t=n.toLowerCase().split(" ").filter(s=>s.length>3);return t.length===0?"":e.map(s=>{let a=0;const o=s.text.toLowerCase();return t.forEach(l=>{o.includes(l)&&a++}),{...s,score:a}}).sort((s,a)=>a.score-s.score).filter(s=>s.score>0).slice(0,3).map(s=>s.text).join(`

`)},Fw=n=>{var r,i,s;const e=typeof import.meta<"u"&&((i=(r=import.meta)==null?void 0:r.env)==null?void 0:i[n]),t=typeof process<"u"&&((s=process==null?void 0:process.env)==null?void 0:s[n]);return(e||t||"").toString().trim()},hfe=()=>{const n=Fw("GEMINI_API_KEY")||Fw("VITE_API_KEY"),e=Fw("API_KEY");return n||e},HK=n=>n?n.startsWith("models/")?n:`models/${n}`:"",zW=HK(Fw("GEMINI_TTS_MODEL"))||HK(Fw("VITE_GEMINI_TTS_MODEL"))||"models/gemini-2.0-flash",pfe=`https://generativelanguage.googleapis.com/v1beta/${zW}:generateContent`,gfe=async(n,e)=>{var b,B,S,I,T,D;const t=zW,r=/-tts\b/.test(t),i=hfe();if(!i)throw new Error("API key is missing. Set GEMINI_API_KEY (or VITE_API_KEY/API_KEY).");const s=r?{responseMimeType:"audio/pcm"}:{responseModalities:["AUDIO"]};e!=null&&e.voiceName&&(s.speechConfig={voiceConfig:{prebuiltVoiceConfig:{voiceName:e.voiceName}}});const a={contents:[{role:"user",parts:[{text:n}]}],generationConfig:s},o=await fetch(`${pfe}?key=${encodeURIComponent(i)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok){const U=await o.text();throw new Error(`Gemini TTS request failed: ${o.status} ${U}`)}const l=await o.json(),u=((I=(S=(B=(b=l==null?void 0:l.candidates)==null?void 0:b[0])==null?void 0:B.content)==null?void 0:S.parts)==null?void 0:I.find(U=>{var R;return(R=U.inlineData)==null?void 0:R.data}))||null,d=(T=u==null?void 0:u.inlineData)==null?void 0:T.data,h=((D=u==null?void 0:u.inlineData)==null?void 0:D.mimeType)||"audio/mp3";if(!d)throw new Error("Gemini TTS response missing audio data.");const g=Uint8Array.from(atob(d),U=>U.charCodeAt(0)),v=new Blob([g],{type:h});return{audioUrl:URL.createObjectURL(v),mimeType:h}},mfe=`<?xml version="1.0" encoding="utf-8"?>\r
<!DOCTYPE html>\r
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" lang="ko" xml:lang="ko">\r
<head>\r
  <title>QT-25031709039769561</title>\r
  <meta charset="utf-8"/>\r
</head>\r
\r
<body>\r
  <h1>QT-25031709039769561</h1>\r
  <nav epub:type="toc" id="toc">\r
    <h2></h2>\r
    <ol>\r
    <li><a href="p0007_s.xhtml"></a></li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0019_s.xhtml">UNIT 1 </a>\r
      <ol>\r
      <li><a href="p0021_s.xhtml">CHAPTER 01   </a></li>\r
      <li><a href="p0035_s.xhtml">CHAPTER 02   </a></li>\r
      <li><a href="p0065_s.xhtml">CHAPTER 03   ,  -   </a></li>\r
      <li><a href="p0119_s.xhtml">CHAPTER 04   </a></li>\r
      <li><a href="p0149_s.xhtml">CHAPTER 05   </a></li>\r
      <li><a href="p0173_s.xhtml">CHAPTER 06   </a></li>\r
      <li><a href="p0221_s.xhtml">CHAPTER 07   </a></li>\r
      <li><a href="p0245_s.xhtml">CHAPTER 08   </a></li>\r
      <li><a href="p0287_s.xhtml">CHAPTER 09 </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0301_s.xhtml">UNIT 2  </a>\r
      <ol>\r
      <li><a href="p0303_s.xhtml">CHAPTER 10  </a></li>\r
      <li><a href="p0325_s.xhtml">CHAPTER 11    </a></li>\r
      <li><a href="p0391_s.xhtml">CHAPTER 12  </a></li>\r
      <li><a href="p0401_s.xhtml">CHAPTER 13   </a></li>\r
      <li><a href="p0449_s.xhtml">CHAPTER 14   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0475_s.xhtml">UNIT 3  </a>\r
      <ol>\r
      <li><a href="p0477_s.xhtml">CHAPTER 15  </a></li>\r
      <li><a href="p0503_s.xhtml">CHAPTER 16   </a></li>\r
      <li><a href="p0519_s.xhtml">CHAPTER 17   </a></li>\r
      <li><a href="p0531_s.xhtml">CHAPTER 18    </a></li>\r
      <li><a href="p0543_s.xhtml">CHAPTER 19    </a></li>\r
      <li><a href="p0553_s.xhtml">CHAPTER 20   </a></li>\r
      <li><a href="p0567_s.xhtml">CHAPTER 21  </a></li>\r
      <li><a href="p0577_s.xhtml">CHAPTER 22   </a></li>\r
      <li><a href="p0587_s.xhtml">CHAPTER 23   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0601_s.xhtml">UNIT 4  </a>\r
      <ol>\r
      <li><a href="p0603_s.xhtml">CHAPTER 24  </a></li>\r
      <li><a href="p0627_s.xhtml">CHAPTER 25   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0663_s.xhtml">UNIT 5  </a>\r
      <ol>\r
      <li><a href="p0665_s.xhtml">CHAPTER 26  </a></li>\r
      <li><a href="p0685_s.xhtml">CHAPTER 27    </a></li>\r
      <li><a href="p0697_s.xhtml">CHAPTER 28   </a></li>\r
      <li><a href="p0709_s.xhtml">CHAPTER 29   </a></li>\r
      <li><a href="p0725_s.xhtml">CHAPTER 30   </a></li>\r
      <li><a href="p0747_s.xhtml">CHAPTER 31   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0757_s.xhtml"></a></li>\r
    </ol>\r
\r
  </nav>\r
</body>\r
</html>\r
`,vfe=[{id:"ch1",title:"Chapter 1: The Dawn of AI",content:`
      <h2>1.1 Introduction to Artificial Intelligence</h2>
      <p>Artificial Intelligence (AI) is intelligence demonstrated by machines, as opposed to the natural intelligence displayed by humans or animals. Leading AI textbooks define the field as the study of "intelligent agents": any system that perceives its environment and takes actions that maximize its chances of achieving its goals.</p>
      <p>The history of AI began in antiquity, with myths, stories, and rumors of artificial beings endowed with intelligence or consciousness by master craftsmen. The seeds of modern AI were planted by philosophers who attempted to describe the process of human thinking as the mechanical manipulation of symbols.</p>
      <h3>1.2 The Turing Test</h3>
      <p>The Turing test, developed by Alan Turing in 1950, is a test of a machine's ability to exhibit intelligent behavior equivalent to, or indistinguishable from, that of a human. Turing proposed that a human evaluator would judge natural language conversations between a human and a machine designed to generate human-like responses.</p>
    `},{id:"ch2",title:"Chapter 2: Machine Learning Basics",content:`
      <h2>2.1 What is Machine Learning?</h2>
      <p>Machine Learning (ML) is a subset of artificial intelligence that focuses on building systems that learn, or improve performance, based on the data they consume. Artificial Intelligence is a broad term that refers to systems or machines that mimic human intelligence. Machine Learning is how they achieve that intelligence.</p>
      <p>There are three main types of machine learning: supervised learning, unsupervised learning, and reinforcement learning. In supervised learning, the algorithm is trained on labeled data.</p>
      <h3>2.2 Neural Networks</h3>
      <p>Neural networks, also known as artificial neural networks (ANNs) or simulated neural networks (SNNs), are a subset of machine learning and are at the heart of deep learning algorithms. Their name and structure are inspired by the human brain, mimicking the way that biological neurons signal to one another.</p>
    `},{id:"ch3",title:"Chapter 3: Ethics in Technology",content:`
      <h2>3.1 The Importance of Ethics</h2>
      <p>As technology becomes more integrated into our daily lives, the ethical implications of its use become increasingly important. Issues such as privacy, bias in algorithms, and the displacement of jobs are central discussions in the tech world today.</p>
      <p>Algorithmic bias describes systematic and repeatable errors in a computer system that create unfair outcomes, such as privileging one arbitrary group of users over others.</p>
    `}],yfe=n=>{if(typeof window>"u")return{chapters:[],pageMap:{}};try{const t=new DOMParser().parseFromString(n,"application/xhtml+xml"),r=t.querySelector("nav#toc")||t.querySelector('nav[epub\\:type="toc"]');if(!r)return{chapters:[],pageMap:{}};const i=new Set,s=Array.from(r.querySelectorAll("a")),a={};return{chapters:s.map((l,u)=>{const d=(l.textContent||"").replace(/\s+/g," ").trim();if(!d)return null;const h=l.getAttribute("href")||`toc-${u+1}`,v=h.replace(/[^a-zA-Z0-9_-]+/g,"-").replace(/^-+|-+$/g,"")||`toc-${u+1}`;let C=v,b=1;for(;i.has(C);)C=`${v}-${b++}`;i.add(C);const B=h.match(/p0*([0-9]+)_/i)||h.match(/p0*([0-9]+)/i);if(B&&B[1]){const S=parseInt(B[1],10);Number.isFinite(S)&&(a[C]=S)}return{id:C,title:d,content:""}}).filter(Boolean),pageMap:a}}catch(e){return console.error("Failed to parse nav.xhtml",e),{chapters:[],pageMap:{}}}},qW=F.createContext(void 0),wfe=({children:n})=>{const[e,t]=F.useState(vfe),[r,i]=F.useState(null),[s,a]=F.useState([]),[o,l]=F.useState(!1),[u,d]=F.useState(0),[h,g]=F.useState("medium"),[v,C]=F.useState("light"),[b,B]=F.useState("single"),[S,I]=F.useState(!0),[T,D]=F.useState(()=>{if(typeof window>"u")return[];try{const ge=localStorage.getItem("pdfBookmarks");if(!ge)return[];const xe=JSON.parse(ge);if(Array.isArray(xe))return xe.map(Pe=>Pe&&typeof Pe=="object"&&"page"in Pe?Pe:typeof Pe=="number"?{id:`migrated-${Pe}`,page:Pe,label:`Page ${Pe}`,createdAt:Date.now()}:null).filter(Boolean)}catch(ge){console.error("Failed to parse stored pdfBookmarks",ge)}return[]}),[U,R]=F.useState([]),[Q,H]=F.useState(null),[k,G]=F.useState("idle"),[K,z]=F.useState("#ef4444"),[Z,Y]=F.useState(3),[ve,V]=F.useState(1),[j,se]=F.useState({}),[pe,Ee]=F.useState([]),[q,ee]=F.useState(!1),[oe,Ce]=F.useState(null),[ie,ue]=F.useState([]),[ce,Be]=F.useState(!0),[te,Se]=F.useState("ai"),[Te,ye]=F.useState(""),[yt,qe]=F.useState(!1),[Kt,Pt]=F.useState(null),[Kn,nt]=F.useState({voice:"Kore",speed:1,continuous:!0}),[nr,ss]=F.useState({}),Jt=F.useRef(null),Kr=F.useRef(null),Fs=F.useRef(!1),rr=ge=>{nt(xe=>({...xe,...ge}))},X=ge=>{const xe=ge.trim();if(!xe)return[];const Pe=xe.match(/[^.!?]+[.!?]?/g);return Pe&&Pe.length>0?Pe.map(Ne=>Ne.trim()).filter(Boolean):[xe]},de=ge=>ge.replace(/<script[^>]*>.*?<\/script>/gi,"").replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim(),He=()=>{var Pe;if(ze.length>0){const Ne=[...ze].sort((Rt,gr)=>Rt.page-gr.page),xt=ut||((Pe=Ne[0])==null?void 0:Pe.page)||1,Un=[];let yn=0;return Ne.forEach(Rt=>{const gr=de(Rt.text||""),Ry=X(gr);Rt.page<xt&&(yn+=Ry.length),Un.push(...Ry)}),{sentences:Un,defaultStartIndex:yn}}const ge=de(Gn.content);return{sentences:X(ge),defaultStartIndex:0}},Xe=()=>{Jt.current&&(Jt.current.pause(),Jt.current.src="",Jt.current=null),Kr.current&&(URL.revokeObjectURL(Kr.current),Kr.current=null)},ot=async ge=>{if(Fs.current)return;if(Jt.current&&Jt.current.paused&&!Jt.current.ended){await Jt.current.play().catch(()=>{}),qe(!0);return}Xe();const{sentences:xe,defaultStartIndex:Pe}=He();if(xe.length===0){alert("  .");return}const Ne=typeof ge=="number"&&ge>=0&&ge<xe.length?ge:Math.min(Pe,xe.length-1),Un=xe.slice(Ne).join(" ").slice(0,8e3);if(!Un){alert("  .");return}try{Fs.current=!0,qe(!0),Pt(Ne);const{audioUrl:yn}=await gfe(Un,{voiceName:Kn.voice}),Rt=new Audio(yn);Rt.playbackRate=Kn.speed,Kr.current=yn,Jt.current=Rt,Rt.onended=()=>{qe(!1),Pt(null),Xe()},Rt.onerror=()=>{qe(!1),Pt(null),Xe()},await Rt.play().catch(gr=>{console.error("Audio playback failed",gr),qe(!1)})}catch(yn){console.error("Gemini TTS failed",yn),alert("TTS    ."),qe(!1),Pt(null)}finally{Fs.current=!1}},je=()=>{Jt.current&&Jt.current.pause(),qe(!1)},_e=()=>{Xe(),qe(!1),Pt(null)},[Me,We]=F.useState({totalReadingTime:0,sessions:1,chapterVisits:{},aiInteractionCount:0,highlightCount:0}),[ze,Ot]=F.useState([]),[ut,cn]=F.useState(1),[Ir,Hi]=F.useState(null),[xi,Fr]=F.useState(null),[Vi,Sn]=F.useState(null),Gn=e[u];F.useEffect(()=>{window.innerWidth<1024&&Be(!1)},[]),F.useEffect(()=>{const ge=setInterval(()=>{document.visibilityState==="visible"&&lo()},5e3);return()=>clearInterval(ge)},[]),F.useEffect(()=>{We(ge=>({...ge,chapterVisits:{...ge.chapterVisits,[Gn.id]:(ge.chapterVisits[Gn.id]||0)+1}}))},[Gn.id]),F.useEffect(()=>{try{localStorage.setItem("pdfBookmarks",JSON.stringify(T))}catch(ge){console.error("Failed to persist pdfBookmarks",ge)}},[T]),F.useEffect(()=>{const{chapters:ge,pageMap:xe}=yfe(mfe);ge.length>0&&(t(ge),ss(xe),d(0))},[]);const lo=()=>{We(ge=>({...ge,totalReadingTime:ge.totalReadingTime+5}))},ma=()=>{We(ge=>({...ge,aiInteractionCount:ge.aiInteractionCount+1}))},Ty=Tw.useCallback(ge=>{if(e.length===0||Object.keys(nr).length===0)return-1;let xe=-1,Pe=Number.NEGATIVE_INFINITY,Ne=-1,xt=Number.POSITIVE_INFINITY;return e.forEach((Un,yn)=>{const Rt=nr[Un.id];Rt&&(Rt<=ge&&Rt>Pe&&(Pe=Rt,xe=yn),Rt<xt&&(xt=Rt,Ne=yn))}),xe!==-1?xe:Ne},[e,nr]);F.useEffect(()=>{const ge=Ty(ut);ge!==-1&&ge!==u&&d(ge)},[ut,Ty,u]);const Iy=()=>{C(ge=>ge==="light"?"dark":"light"),v==="light"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},tf=()=>I(ge=>!ge),kI=(ge,xe)=>{!ge||ge<1||D(Pe=>Pe.some(xt=>xt.page===ge)?Pe:[{id:Date.now().toString(),page:ge,label:xe||`Page ${ge}`,createdAt:Date.now()},...Pe])},yB=ge=>{D(xe=>xe.filter(Pe=>Pe.id!==ge))},wB=()=>{u<e.length-1&&Hu(u+1)},bB=()=>{u>0&&Hu(u-1)},Hu=ge=>{if(ge>=0&&ge<e.length){d(ge);const xe=e[ge],Pe=nr[xe.id];Pe&&zn(Pe)}},Fy=async ge=>{l(!0);try{const xe=await dfe(ge);xe.chapters.length>0?(t(xe.chapters),d(0),a(xe.chunks),i(null),Be(!0),Se("ai"),alert(`"${ge.name}"()   .`)):alert("Processed PDF but found no readable content.")}catch(xe){console.error("PDF Load Failed",xe),alert("Failed to load PDF. Please ensure it is a valid PDF file.")}finally{l(!1)}},CB=(ge,xe,Pe,Ne)=>{const xt=Pe||Gn.id,Un={id:Date.now().toString(),chapterId:xt,text:ge,color:"yellow",pageNumber:Ne,note:xe,createdAt:Date.now()};return R(yn=>[Un,...yn]),We(yn=>({...yn,highlightCount:yn.highlightCount+1})),Un.id},My=(ge,xe)=>{R(Pe=>Pe.map(Ne=>Ne.id===ge?{...Ne,...xe}:Ne))},Ko=ge=>{R(xe=>xe.filter(Pe=>Pe.id!==ge))},pr=ge=>{I(!0),H(ge),setTimeout(()=>H(null),2e3)},_i=ge=>{const xe=typeof ge=="string"?U.find(Pe=>Pe.id===ge):ge;if(xe){if(xe.chapterId==="reference-doc"&&!xe.pageNumber&&ut&&My(xe.id,{pageNumber:ut}),xe.chapterId==="reference-doc"&&xe.pageNumber)zn(xe.pageNumber);else{const Pe=e.findIndex(Ne=>Ne.id===xe.chapterId);Pe>=0&&Hu(Pe)}pr(xe.id)}},Vu=(ge,xe)=>{se(Pe=>({...Pe,[ge]:[...Pe[ge]||[],xe]}))},Uy=(ge,xe)=>{se(Pe=>({...Pe,[ge]:(Pe[ge]||[]).filter(Ne=>Ne.id!==xe)}))},OI=ge=>(j[ge]||[]).length>0,EB=(ge,xe)=>{const Pe={id:Date.now().toString(),title:ge||"Untitled Note",content:xe,chapterId:Gn.id,chapterTitle:Gn.title,createdAt:Date.now(),updatedAt:Date.now()};Ee(Ne=>[Pe,...Ne])},BB=(ge,xe,Pe)=>{Ee(Ne=>Ne.map(xt=>xt.id===ge?{...xt,title:xe,content:Pe,updatedAt:Date.now()}:xt))},nf=ge=>{Ee(xe=>xe.filter(Pe=>Pe.id!==ge))},Py=ge=>{let xe=ge.content.replace(/<[^>]+>/g,"");const Pe=new Blob([`# ${ge.title}

${xe}`],{type:"text/markdown"}),Ne=URL.createObjectURL(Pe),xt=document.createElement("a");xt.href=Ne,xt.download=`${ge.title.replace(/\s+/g,"_")}.md`,xt.click(),URL.revokeObjectURL(Ne)},Ku=async ge=>{const xe=await ge.text();let Pe=ge.name.replace(".md","").replace(".json",""),Ne=xe.replace(/\n/g,"<br>");EB(Pe,Ne)},Go=(ge,xe)=>{const Pe={id:Date.now().toString(),role:ge,text:xe,timestamp:Date.now()};ue(Ne=>[...Ne,Pe])},rf=async ge=>{Be(!0),Se("ai");const xe=`Explain: "${ge}"`;Go("user",xe),ma();let Pe=Gn.content.substring(0,2e3);if(s.length>0){const xt=ffe(ge,s);xt&&(Pe=xt)}const Ne=await Mj(ge,Pe);Go("model",Ne)},Gu=ge=>{if(!ge||ge.length<2)return[];const xe=[],Pe=ge.toLowerCase();return e.forEach(Ne=>{const xt=Ne.content.replace(/<[^>]+>/g," "),Un=xt.toLowerCase().indexOf(Pe);if(Un!==-1){const yn=Math.max(0,Un-40),Rt=Math.min(xt.length,Un+40+ge.length),gr=(yn>0?"...":"")+xt.substring(yn,Rt)+(Rt<xt.length?"...":"");xe.push({id:`ch-${Ne.id}-${Un}`,type:"chapter",title:Ne.title,contentSnippet:gr,chapterId:Ne.id,matchIndex:Un})}}),U.forEach(Ne=>{(Ne.text.toLowerCase().includes(Pe)||Ne.note&&Ne.note.toLowerCase().includes(Pe))&&xe.push({id:`hl-${Ne.id}`,type:"highlight",title:"Highlight",contentSnippet:Ne.note?`${Ne.text} - ${Ne.note}`:Ne.text,chapterId:Ne.chapterId,pageNumber:Ne.pageNumber})}),pe.forEach(Ne=>{const xt=Ne.content.replace(/<[^>]+>/g," ");(Ne.title.toLowerCase().includes(Pe)||xt.toLowerCase().includes(Pe))&&xe.push({id:`note-${Ne.id}`,type:"note",title:Ne.title,contentSnippet:xt.substring(0,80)+"...",chapterId:Ne.chapterId})}),ze.forEach(Ne=>{const xt=Ne.text.toLowerCase().indexOf(Pe);if(xt!==-1){const Un=Math.max(0,xt-40),yn=Math.min(Ne.text.length,xt+40+ge.length),Rt=(Un>0?"...":"")+Ne.text.substring(Un,yn)+(yn<Ne.text.length?"...":"");xe.push({id:`pdf-${Ne.page}-${xt}`,type:"pdf",title:`p.${Ne.page}`,contentSnippet:Rt,pageNumber:Ne.page})}}),xe},zn=ge=>{const xe=Number.isFinite(ge)?Math.max(1,Math.round(ge)):1;cn(xe),Ir?Ir(xe):Fr(xe)},SB=Tw.useCallback(ge=>{Hi(()=>ge),xi!==null&&(ge(xi),Fr(null))},[xi]),xB=Tw.useCallback(ge=>{Ot(ge)},[]),QA=()=>{console.log("Saving progress..."),alert("Progress Saved! (Simulated)")};return L.jsx(qW.Provider,{value:{chapters:e,referenceDocument:r,currentChapterIndex:u,currentChapter:Gn,goToNextChapter:wB,goToPrevChapter:bB,goToChapter:Hu,uploadBook:Fy,isProcessing:o,fontSize:h,setFontSize:g,viewMode:b,setViewMode:B,theme:v,toggleTheme:Iy,showAnnotations:S,toggleAnnotations:tf,bookmarks:T,addPdfBookmark:kI,removePdfBookmark:yB,highlights:U,addHighlight:CB,updateHighlight:My,removeHighlight:Ko,activeHighlightId:Q,focusHighlight:pr,drawingMode:k,setDrawingMode:G,penColor:K,setPenColor:z,penWidth:Z,setPenWidth:Y,penOpacity:ve,setPenOpacity:V,chapterStrokes:j,addStroke:Vu,removeStroke:Uy,hasStrokes:OI,generalNotes:pe,addGeneralNote:EB,updateGeneralNote:BB,removeGeneralNote:nf,importNotes:Ku,exportNoteAsMarkdown:Py,isCaptureMode:q,setCaptureMode:ee,capturedImage:oe,setCapturedImage:Ce,aiChatHistory:ie,addChatMessage:Go,triggerSmartExplain:rf,isToolsOpen:ce,setToolsOpen:Be,activeToolTab:te,setActiveToolTab:Se,searchQuery:Te,setSearchQuery:ye,performSearch:Gu,isTtsPlaying:yt,currentTtsSegmentIndex:Kt,ttsConfig:Kn,setTtsConfig:rr,startTts:ot,stopTts:_e,pauseTts:je,stats:Me,incrementAiCount:ma,updateReadingTime:lo,saveProgress:QA,pdfTextPages:ze,setPdfTextPages:xB,goToPdfPage:zn,goToHighlight:_i,registerPdfNavigator:SB,pdfSearchHighlight:Vi,setPdfSearchHighlight:Sn,currentPdfPage:ut,setCurrentPdfPage:cn},children:n})},Yd=()=>{const n=F.useContext(qW);if(n===void 0)throw new Error("useBook must be used within a BookProvider");return n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cfe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),VK=n=>{const e=Cfe(n);return e.charAt(0).toUpperCase()+e.slice(1)},$W=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Efe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>F.createElement("svg",{ref:l,...Bfe,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:$W("lucide",i),...!s&&!Efe(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>F.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(n,e)=>{const t=F.forwardRef(({className:r,...i},s)=>F.createElement(Sfe,{ref:s,iconNode:e,className:$W(`lucide-${bfe(VK(n))}`,`lucide-${n}`,r),...i}));return t.displayName=VK(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],_fe=rt("bold",xfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ife=rt("book-open",Tfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],cN=rt("book",Ffe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],Ufe=rt("bookmark-check",Mfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],Rfe=rt("bookmark-plus",Pfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],dN=rt("bookmark",Dfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],KK=rt("bot",Nfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Qfe=rt("camera",Lfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ofe=rt("chevron-left",kfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vfe=rt("chevron-right",Hfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gfe=rt("clock",Kfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],qfe=rt("columns-2",zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],jfe=rt("ellipsis-vertical",$fe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Yfe=rt("eraser",Wfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jfe=rt("eye",Xfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],GK=rt("file-text",Zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],fN=rt("file-up",ehe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zK=rt("funnel",the);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],B_=rt("highlighter",nhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ihe=rt("list",rhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qK=rt("loader-circle",she);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ohe=rt("log-out",ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lhe=rt("message-circle-question-mark",Ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],dU=rt("message-square",uhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["path",{d:"M5 12h14",key:"1ays0h"}]],dhe=rt("minus",che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],hhe=rt("panel-left",fhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ghe=rt("panel-right",phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],vhe=rt("pause",mhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],whe=rt("pen-line",yhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],jW=rt("pen-tool",bhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ehe=rt("pen",Che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],She=rt("play",Bhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hN=rt("plus",xhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],The=rt("printer",_he);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WW=rt("save",Ihe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fhe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],fU=rt("search",Fhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Uhe=rt("settings-2",Mhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Rhe=rt("square",Phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Nhe=rt("sticky-note",Dhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lhe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Qhe=rt("table",Lhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const khe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pN=rt("trash-2",khe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ohe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Hhe=rt("type",Ohe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vhe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Khe=rt("upload",Vhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],zhe=rt("volume-2",Ghe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gN=rt("x",qhe),YW=({toggleSidebar:n,isSidebarOpen:e})=>{const{fontSize:t,setFontSize:r,viewMode:i,setViewMode:s,drawingMode:a,setDrawingMode:o,penColor:l,setPenColor:u,penWidth:d,setPenWidth:h,penOpacity:g,setPenOpacity:v,saveProgress:C,showAnnotations:b,toggleAnnotations:B,isToolsOpen:S,setToolsOpen:I,bookmarks:T,addPdfBookmark:D,removePdfBookmark:U,currentPdfPage:R,uploadBook:Q,isProcessing:H,isTtsPlaying:k,startTts:G,stopTts:K,pauseTts:z,ttsConfig:Z,setTtsConfig:Y,setActiveToolTab:ve}=Yd(),V=Uu(),j=j$(),se=V.pathname==="/",[pe,Ee]=F.useState(!1),[q,ee]=F.useState(!1),[oe,Ce]=F.useState(!1),[ie,ue]=F.useState(!1),ce=F.useRef(null),Be=T.find(nt=>nt.page===R),te=!!Be,Se=()=>{confirm("Are you sure you want to close the viewer?")&&j("/report")},Te=()=>{var nt;(nt=ce.current)==null||nt.click()},ye=nt=>{nt.target.files&&nt.target.files[0]&&Q(nt.target.files[0])},yt=()=>{R&&(Be?U(Be.id):D(R,`p.${R}`))},qe=nt=>{const nr=["small","medium","large","xlarge"],ss=nr.indexOf(t);let Jt=nt==="up"?ss+1:ss-1;Jt<0&&(Jt=0),Jt>=nr.length&&(Jt=nr.length-1),r(nr[Jt])},Kt=["Kore","Puck","Charon","Fenrir","Zephyr"],Pt=[.75,1,1.2,1.5,2],Kn=["#000000","#ef4444","#3b82f6","#22c55e","#eab308"];return L.jsx("header",{className:"header",children:L.jsxs("div",{className:"header_inner",children:[L.jsxs("div",{className:"header_main",children:[se&&L.jsx("button",{onClick:n,className:`left_toggle ${e?"open":"off"}`,title:"Table of Contents",children:L.jsx(hhe,{size:20})}),L.jsxs("div",{className:"logo_wrap",children:[L.jsx("div",{className:"icon",children:L.jsx(cN,{})}),L.jsx("span",{className:"logo_text",children:"CampusBook"})]})]}),L.jsxs("div",{className:"header_nav",children:[L.jsxs("div",{className:"mode_select",children:[L.jsx($_,{to:"/",className:`reader ${se?"on":"off"}`,children:"Reader"}),L.jsx($_,{to:"/report",className:`report ${se?"off":"on"}`,children:"Report"})]}),L.jsx("div",{className:"separate_bar"}),L.jsxs("button",{onClick:Te,disabled:H,className:"add_file",title:"Add Reference Material (PDF)",children:[H?L.jsx(qK,{size:16,className:"animate-spin"}):L.jsx(fN,{size:16}),L.jsx("span",{children:"Add Reference"}),L.jsx("input",{type:"file",ref:ce,className:"hidden",accept:"application/pdf",onChange:ye})]})]}),L.jsxs("div",{className:"header_tools",children:[se&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"relative",children:[L.jsx("button",{onClick:()=>Ce(!oe),className:`p-2 rounded-lg transition-all ${k?"text-blue-600 bg-blue-50":"text-slate-500 hover:bg-slate-100"}`,title:"AI Voice",children:L.jsx(zhe,{size:20})}),oe&&L.jsxs("div",{className:"absolute top-full right-0 mt-2 w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border p-5 z-[70]",children:[L.jsxs("div",{className:"flex justify-between items-center mb-4",children:[L.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:"AI Reading Assistant"}),L.jsx("button",{onClick:()=>Ce(!1),className:"text-slate-400",children:L.jsx(gN,{size:14})})]}),L.jsxs("div",{className:"flex justify-center gap-4 mb-5 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[L.jsx("button",{onClick:K,className:"p-2.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full text-slate-500",children:L.jsx(Rhe,{size:16,fill:"currentColor"})}),L.jsx("button",{onClick:()=>k?z():G(),className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-lg hover:scale-105 active:scale-95 transition-transform",children:k?L.jsx(vhe,{size:24,fill:"white"}):L.jsx(She,{size:24,className:"ml-1",fill:"white"})})]}),L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Voice Tone"}),L.jsx("div",{className:"grid grid-cols-3 gap-1",children:Kt.map(nt=>L.jsx("button",{onClick:()=>Y({voice:nt}),className:`px-2 py-1 rounded text-[10px] border transition-all ${Z.voice===nt?"bg-blue-600 border-blue-600 text-white":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:nt},nt))})]}),L.jsxs("div",{children:[L.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Speed"}),L.jsx("div",{className:"flex justify-between gap-1",children:Pt.map(nt=>L.jsxs("button",{onClick:()=>Y({speed:nt}),className:`flex-1 py-1 rounded text-[10px] border transition-all ${Z.speed===nt?"bg-blue-600 border-blue-600 text-white font-bold":"bg-slate-100 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:[nt,"x"]},nt))})]})]})]})]}),L.jsx("button",{onClick:yt,className:`bookmark_icon_btn ${te?"on":"off"}`,title:te?"Remove bookmark for this page":"Bookmark this page",children:te?L.jsx(Ufe,{size:20}):L.jsx(Rfe,{size:20})}),L.jsxs("div",{className:"draw_icon_wrap",children:[L.jsxs("div",{className:"draw_icon_inner",children:[L.jsx("button",{onClick:()=>o(a==="pen"?"idle":"pen"),className:`pen_tool ${a==="pen"?"on":"off"}`,title:"Pen Tool",children:L.jsx(Ehe,{size:18})}),a==="pen"&&L.jsx("button",{onClick:()=>Ee(!pe),className:"detail_select",title:"Pen Settings",children:L.jsx(Uhe,{size:12})}),L.jsx("button",{onClick:()=>{o(a==="eraser"?"idle":"eraser"),Ee(!1)},className:`eraser_tool ${a==="eraser"?"on":"off"}`,title:"Eraser",children:L.jsx(Yfe,{size:18})})]}),pe&&a==="pen"&&L.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[L.jsxs("div",{className:"flex justify-between items-center mb-3",children:[L.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Pen Settings"}),L.jsx("button",{onClick:()=>Ee(!1),className:"text-slate-400 hover:text-slate-600",children:L.jsx(gN,{size:14})})]}),L.jsx("div",{className:"flex justify-between mb-4",children:Kn.map(nt=>L.jsx("button",{onClick:()=>u(nt),className:`w-6 h-6 rounded-full transition-transform hover:scale-110 border border-slate-200 dark:border-slate-700 ${l===nt?"ring-2 ring-offset-2 ring-blue-500 scale-110":""}`,style:{backgroundColor:nt}},nt))}),L.jsxs("div",{className:"mb-3",children:[L.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[L.jsx("span",{children:"Thickness"}),L.jsxs("span",{children:[d,"px"]})]}),L.jsx("input",{type:"range",min:"1",max:"15",step:"1",value:d,onChange:nt=>h(parseInt(nt.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),L.jsxs("div",{children:[L.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[L.jsx("span",{children:"Opacity"}),L.jsxs("span",{children:[Math.round(g*100),"%"]})]}),L.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:g,onChange:nt=>v(parseFloat(nt.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]})]}),L.jsxs("div",{className:"relative",children:[L.jsx("button",{onClick:()=>ee(!q),className:"appearance",title:"Appearance",children:L.jsx(Hhe,{size:20})}),q&&L.jsxs("div",{className:"absolute top-full right-0 mt-2 w-60 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[L.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"View Settings"}),L.jsxs("div",{className:"flex items-center justify-between mb-4 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[L.jsx("button",{onClick:()=>qe("down"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:L.jsx(dhe,{size:14})}),L.jsx("span",{className:"text-sm font-medium",children:t==="medium"?"100%":t==="small"?"85%":t==="large"?"115%":"130%"}),L.jsx("button",{onClick:()=>qe("up"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:L.jsx(hN,{size:14})})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("button",{onClick:()=>s(i==="single"?"double":"single"),className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[L.jsxs("span",{className:"flex items-center gap-2",children:[L.jsx(qfe,{size:16})," Two-Page View"]}),L.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${i==="double"?"bg-blue-500":"bg-slate-300"}`,children:L.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${i==="double"?"translate-x-4":""}`})})]}),L.jsxs("button",{onClick:B,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[L.jsxs("span",{className:"flex items-center gap-2",children:[L.jsx(Jfe,{size:16})," Annotations"]}),L.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${b?"bg-blue-500":"bg-slate-300"}`,children:L.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${b?"translate-x-4":""}`})})]}),L.jsxs("button",{onClick:yt,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[L.jsxs("span",{className:"flex items-center gap-2",children:[L.jsx(dN,{size:16})," Bookmark Page"]}),L.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${te?"bg-blue-500":"bg-slate-300"}`,children:L.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${te?"translate-x-4":""}`})})]})]})]})]}),L.jsx("button",{onClick:()=>I(!S),className:`toggle_ai_notes ${S?"on":"off"}`,title:"Toggle AI & Notes",children:L.jsx(ghe,{size:20})})]}),L.jsxs("div",{className:"relative ml-1",children:[L.jsx("button",{onClick:()=>ue(!ie),className:"more",children:L.jsx(jfe,{size:20})}),ie&&L.jsxs("div",{className:"more_list",children:[L.jsxs("button",{onClick:Te,className:"",children:[H?L.jsx(qK,{size:14,className:"animate-spin"}):L.jsx(fN,{size:14})," ","Add Reference PDF"]}),L.jsx("input",{type:"file",ref:ce,className:"hidden",accept:"application/pdf",onChange:ye}),L.jsxs("button",{onClick:C,className:"",children:[L.jsx(WW,{size:14})," Save Progress"]}),L.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800 my-1"}),L.jsxs("button",{onClick:Se,className:"exit_viewer",children:[L.jsx(ohe,{size:14})," Exit Viewer"]})]})]})]})]})})},{AbortException:$he,AnnotationEditorLayer:jhe,AnnotationEditorParamsType:CQe,AnnotationEditorType:fs,AnnotationEditorUIManager:Whe,AnnotationLayer:Yhe,AnnotationMode:_A,AnnotationType:XW,applyOpacity:EQe,build:BQe,ColorPicker:SQe,createValidAbsoluteUrl:JW,CSSConstants:xQe,DOMSVGFactory:_Qe,DrawLayer:Xhe,FeatureTest:ZW,fetchData:$K,findContrastColor:TQe,getDocument:IQe,getFilenameFromUrl:FQe,getPdfFilenameFromUrl:Jhe,getRGB:MQe,getUuid:UQe,getXfaPageViewport:PQe,GlobalWorkerOptions:RQe,ImageKind:DQe,InvalidPDFException:NQe,isDataScheme:LQe,isPdfFile:Zhe,isValidExplicitDest:epe,MathClamp:qQ,noContextMenu:QQe,normalizeUnicode:tpe,OPS:kQe,OutputScale:S_,PasswordResponses:OQe,PDFDataRangeTransport:HQe,PDFDateString:VQe,PDFWorker:KQe,PermissionFlag:dg,PixelsPerInch:ul,RenderingCancelledException:mN,renderRichText:GQe,ResponseException:zQe,setLayerDimensions:eY,shadow:zw,SignatureExtractor:qQe,stopEvent:vN,SupportedImageMimeTypes:$Qe,TextLayer:npe,TouchManager:jQe,updateUrlHash:rpe,Util:$Q,VerbosityLevel:WQe,version:jK,XfaLayer:hU}=globalThis.pdfjsLib,ipe="auto",tY=1,WK=1.1,spe=.1,ape=10,pU=0,ope=1.25,YK=40,XK=5,Lt={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},Yg={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},SA={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},Ft={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},dr={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function nY(n,e,t=!1){let r=n.offsetParent;if(!r){console.error("offsetParent is not set -- cannot scroll");return}let i=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||t&&(r.classList.contains("markedContent")||getComputedStyle(r).overflow==="hidden");)if(i+=r.offsetTop,s+=r.offsetLeft,r=r.offsetParent,!r)return;if(e&&(e.top!==void 0&&(i+=e.top),e.left!==void 0)){if(t){const a=n.getBoundingClientRect().width,o=qQ((r.clientWidth-a)/2,20,400);s+=e.left-o}else s+=e.left;r.scrollLeft=s}r.scrollTop=i}function Ape(n,e,t=void 0){const r=function(a){s||(s=window.requestAnimationFrame(function(){s=null;const l=n.scrollLeft,u=i.lastX;l!==u&&(i.right=l>u),i.lastX=l;const d=n.scrollTop,h=i.lastY;d!==h&&(i.down=d>h),i.lastY=d,e(i)}))},i={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:r};let s=null;return n.addEventListener("scroll",r,{useCapture:!0,signal:t}),t==null||t.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),i}function G1(n){const e=new Map;for(const[t,r]of new URLSearchParams(n))e.set(t.toLowerCase(),r);return e}const JK=/[\x00-\x1F]/g;function Mw(n,e=!1){return JK.test(n)?e?n.replaceAll(JK,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function qw(n,e,t=0){let r=t,i=n.length-1;if(i<0||!e(n[i]))return n.length;if(e(n[r]))return r;for(;r<i;){const s=r+i>>1,a=n[s];e(a)?i=s:r=s+1}return r}function ZK(n){if(Math.floor(n)===n)return[n,1];const e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const r=n>1?e:n;let i=0,s=1,a=1,o=1;for(;;){const u=i+a,d=s+o;if(d>t)break;r<=u/d?(a=u,o=d):(i=u,s=d)}let l;return r-i/s<a/o-r?l=r===n?[i,s]:[s,i]:l=r===n?[a,o]:[o,a],l}function $S(n,e){return n-n%e}function lpe(n,e,t){if(n<2)return n;let r=e[n].div,i=r.offsetTop+r.clientTop;i>=t&&(r=e[n-1].div,i=r.offsetTop+r.clientTop);for(let s=n-2;s>=0&&(r=e[s].div,!(r.offsetTop+r.clientTop+r.clientHeight<=i));--s)n=s;return n}function upe({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:r=!1,rtl:i=!1}){const s=n.scrollTop,a=s+n.clientHeight,o=n.scrollLeft,l=o+n.clientWidth;function u(I){const T=I.div;return T.offsetTop+T.clientTop+T.clientHeight>s}function d(I){const T=I.div,D=T.offsetLeft+T.clientLeft,U=D+T.clientWidth;return i?D<l:U>o}const h=[],g=new Set,v=e.length;let C=qw(e,r?d:u);C>0&&C<v&&!r&&(C=lpe(C,e,s));let b=r?l:-1;for(let I=C;I<v;I++){const T=e[I],D=T.div,U=D.offsetLeft+D.clientLeft,R=D.offsetTop+D.clientTop,Q=D.clientWidth,H=D.clientHeight,k=U+Q,G=R+H;if(b===-1)G>=a&&(b=G);else if((r?U:R)>b)break;if(G<=s||R>=a||k<=o||U>=l)continue;const K=Math.max(0,s-R),z=Math.max(0,o-U),Z=K+Math.max(0,G-a),Y=z+Math.max(0,k-l),ve=(H-Z)/H,V=(Q-Y)/Q,j=ve*V*100|0;h.push({id:T.id,x:U,y:R,visibleArea:j===100?null:{minX:z,minY:K,maxX:Math.min(k,l)-U,maxY:Math.min(G,a)-R},view:T,percent:j,widthPercent:V*100|0}),g.add(T.id)}const B=h[0],S=h.at(-1);return t&&h.sort(function(I,T){const D=I.percent-T.percent;return Math.abs(D)>.001?-D:I.id-T.id}),{first:B,last:S,views:h,ids:g}}function rY(n){return Number.isInteger(n)&&n%90===0}function cpe(n){return Number.isInteger(n)&&Object.values(Ft).includes(n)&&n!==Ft.UNKNOWN}function dpe(n){return Number.isInteger(n)&&Object.values(dr).includes(n)&&n!==dr.UNKNOWN}function eG(n){return n.width<=n.height}new Promise(function(n){window.requestAnimationFrame(n)});const fpe=document.documentElement.style;var gd,Jh,md,Tv,Zh;class hpe{constructor(e){M(this,gd,null);M(this,Jh,null);M(this,md,0);M(this,Tv,null);M(this,Zh,!0);_(this,gd,e.classList),_(this,Tv,e.style)}get percent(){return f(this,md)}set percent(e){if(_(this,md,qQ(e,0,100)),isNaN(e)){f(this,gd).add("indeterminate");return}f(this,gd).remove("indeterminate"),f(this,Tv).setProperty("--progressBar-percent",`${f(this,md)}%`)}setWidth(e){if(!e)return;const r=e.parentNode.offsetWidth-e.offsetWidth;r>0&&f(this,Tv).setProperty("--progressBar-end-offset",`${r}px`)}setDisableAutoFetch(e=5e3){f(this,md)===100||isNaN(f(this,md))||(f(this,Jh)&&clearTimeout(f(this,Jh)),this.show(),_(this,Jh,setTimeout(()=>{_(this,Jh,null),this.hide()},e)))}hide(){f(this,Zh)&&(_(this,Zh,!1),f(this,gd).add("hidden"))}show(){f(this,Zh)||(_(this,Zh,!0),f(this,gd).remove("hidden"))}}gd=new WeakMap,Jh=new WeakMap,md=new WeakMap,Tv=new WeakMap,Zh=new WeakMap;function ppe(n){let e=Ft.VERTICAL,t=dr.NONE;switch(n){case"SinglePage":e=Ft.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=Ft.PAGE;case"TwoColumnLeft":t=dr.ODD;break;case"TwoPageRight":e=Ft.PAGE;case"TwoColumnRight":t=dr.EVEN;break}return{scrollMode:e,spreadMode:t}}const jS=(function(){const n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e})(),ho={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function gpe(n){return n<11904}function mpe(n){return(n&65408)===0}function vpe(n){return n>=97&&n<=122||n>=65&&n<=90}function ype(n){return n>=48&&n<=57}function wpe(n){return n===32||n===9||n===13||n===10}function bpe(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function Cpe(n){return n>=12448&&n<=12543}function Epe(n){return n>=12352&&n<=12447}function Bpe(n){return n>=65376&&n<=65439}function Spe(n){return(n&65408)===3584}function WS(n){return gpe(n)?mpe(n)?wpe(n)?ho.SPACE:vpe(n)||ype(n)||n===95?ho.ALPHA_LETTER:ho.PUNCT:Spe(n)?ho.THAI_LETTER:n===160?ho.SPACE:ho.ALPHA_LETTER:bpe(n)?ho.HAN_LETTER:Cpe(n)?ho.KATAKANA_LETTER:Epe(n)?ho.HIRAGANA_LETTER:Bpe(n)?ho.HALFWIDTH_KATAKANA_LETTER:ho.ALPHA_LETTER}let xpe;function _pe(){return xpe}const pc={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},Tpe=250,Ipe=-50,tG={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},nG=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let rG;const Fpe=new RegExp("\\p{M}+","gu"),Mpe=new RegExp("([*+^${}()|[\\]\\\\])|(\\p{P}+)|(\\s+)|(\\p{M})|(\\p{L})","gu"),Upe=new RegExp("([^\\p{M}])\\p{M}*$","u"),Ppe=new RegExp("^\\p{M}*([^\\p{M}])","u"),Rpe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,iG=new Map,Dpe="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",sG=new Map;let gU=null,mU=null;function x_(n,e={}){const t=[];let r;for(;(r=Rpe.exec(n))!==null;){let{index:I}=r;for(const T of r[0]){let D=iG.get(T);D||(D=T.normalize("NFD").length,iG.set(T,D)),t.push([D,I++])}}const i=t.length>0,s=e.ignoreDashEOL??!1;let a;if(!i&&gU)a=gU;else if(i&&mU)a=mU;else{const I=Object.keys(tG).join(""),T=_pe(),Q=[`[${I}]`,`[${T}]`,"(?:|)\\n","\\p{M}+(?:-\\n)?","\\p{Ll}-\\n(?=\\p{Ll})|\\p{Lu}-\\n(?=\\p{L})","\\S-\\n","(?:\\p{Ideographic}|[-])\\n","\\n",i?Dpe:"\\u0000"];a=new RegExp(Q.map(H=>`(${H})`).join("|"),"gum"),i?mU=a:gU=a}const o=[];for(;(r=Fpe.exec(n))!==null;)o.push([r[0].length,r.index]);let l=n.normalize("NFD");const u=[0,0];let d=0,h=0,g=0,v=0,C=0,b=!1;l=l.replace(a,(I,T,D,U,R,Q,H,k,G,K,z)=>{var Z,Y,ve;if(z-=v,T){const V=tG[T],j=V.length;for(let se=1;se<j;se++)u.push(z-g+se,g-se);return g-=j-1,V}if(D){let V=sG.get(D);V||(V=D.normalize("NFKC"),sG.set(D,V));const j=V.length;for(let se=1;se<j;se++)u.push(z-g+se,g-se);return g-=j-1,V}if(U)return b=!0,z+C===((Z=o[d])==null?void 0:Z[1])?++d:(u.push(z-1-g+1,g-1),g-=1,v+=1),u.push(z-g+1,g),v+=1,C+=1,U.charAt(0);if(R){const V=R.endsWith(`
`),j=V?R.length-2:R.length;b=!0;let se=j;z+C===((Y=o[d])==null?void 0:Y[1])&&(se-=o[d][0],++d);for(let pe=1;pe<=se;pe++)u.push(z-1-g+pe,g-pe);return g-=se,v+=se,V?(z+=j-1,u.push(z-g+1,1+g),g+=1,v+=1,C+=1,R.slice(0,j)):R}if(Q){if(s)return v+=1,C+=1,Q.slice(0,-1);const V=Q.length-2;return u.push(z-g+V,1+g),g+=1,v+=1,C+=1,Q.slice(0,-2)}if(H)return v+=1,C+=1,H.slice(0,-1);if(k){const V=k.length-1;return u.push(z-g+V,g),v+=1,C+=1,k.slice(0,-1)}if(G)return u.push(z-g+1,g-1),g-=1,v+=1,C+=1," ";if(z+C===((ve=t[h])==null?void 0:ve[1])){const V=t[h][0]-1;++h;for(let j=1;j<=V;j++)u.push(z-(g-j),g-j);g-=V,v+=V}return K}),u.push(l.length,g);const B=new Uint32Array(u.length>>1),S=new Int32Array(u.length>>1);for(let I=0,T=u.length;I<T;I+=2)B[I>>1]=u[I],S[I>>1]=u[I+1];return[l,[B,S],b]}function iY(n,e,t){if(!n)return[e,t];const[r,i]=n,s=e,a=e+t-1;let o=qw(r,g=>g>=s);r[o]>s&&--o;let l=qw(r,g=>g>=a,o);r[l]>a&&--l;const u=s+i[o],h=a+i[l]+1-u;return[u,h]}var Rr,Iv,ep,Ge,sY,yN,wN,aY,oY,bN,AY,lY,__,fw,Mg,uY,CN,EN,T_,cY,BN,SN,hw;class Npe{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:r=!0}){M(this,Ge);M(this,Rr,null);M(this,Iv,!0);M(this,ep,0);this._linkService=e,this._eventBus=t,_(this,Iv,r),this.onIsPageVisible=null,P(this,Ge,yN).call(this),t._on("find",P(this,Ge,sY).bind(this)),t._on("findbarclose",P(this,Ge,cY).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return f(this,Rr)}setDocument(e){this._pdfDocument&&P(this,Ge,yN).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:r=-1,matchIndex:i=-1}){if(!this._scrollMatches||!e)return;if(i===-1||i!==this._selected.matchIdx)return;if(r===-1||r!==this._selected.pageIdx)return;this._scrollMatches=!1,nY(e,{top:Ipe,left:t},!0)}match(e,t,r){const i=this._hasDiacritics[r];let s=!1;if(typeof e=="string"?[s,e]=P(this,Ge,bN).call(this,e,i):e=e.sort().reverse().map(h=>{const[g,v]=P(this,Ge,bN).call(this,h,i);return s||(s=g),`(${v})`}).join("|"),!e)return;const{caseSensitive:a,entireWord:o}=f(this,Rr),l=`g${s?"u":""}${a?"":"i"}`;e=new RegExp(e,l);const u=[];let d;for(;(d=e.exec(t))!==null;)o&&!P(this,Ge,oY).call(this,t,d.index,d[0].length)||u.push({index:d.index,length:d[0].length});return u}}Rr=new WeakMap,Iv=new WeakMap,ep=new WeakMap,Ge=new WeakSet,sY=function(e){if(!e)return;const t=this._pdfDocument,{type:r}=e;(f(this,Rr)===null||P(this,Ge,aY).call(this,e))&&(this._dirtyMatch=!0),_(this,Rr,e),r!=="highlightallchange"&&P(this,Ge,hw).call(this,pc.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;P(this,Ge,lY).call(this);const i=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),r?this._dirtyMatch?P(this,Ge,Mg).call(this):r==="again"?(P(this,Ge,Mg).call(this),i&&f(this,Rr).highlightAll&&P(this,Ge,fw).call(this)):r==="highlightallchange"?(s?P(this,Ge,Mg).call(this):this._highlightMatches=!0,P(this,Ge,fw).call(this)):P(this,Ge,Mg).call(this):this._findTimeout=setTimeout(()=>{P(this,Ge,Mg).call(this),this._findTimeout=null},Tpe)})},yN=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],_(this,ep,0),_(this,Rr,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},wN=function(){const{query:e}=f(this,Rr);return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=x_(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>x_(t)[0])},aY=function(e){var a;const t=e.query,r=f(this,Rr).query,i=typeof t;if(i!==typeof r)return!0;if(i==="string"){if(t!==r)return!0}else if(JSON.stringify(t)!==JSON.stringify(r))return!0;switch(e.type){case"again":const o=this._selected.pageIdx+1,l=this._linkService;return o>=1&&o<=l.pagesCount&&o!==l.page&&!(((a=this.onIsPageVisible)==null?void 0:a.call(this,o))??!0);case"highlightallchange":return!1}return!0},oY=function(e,t,r){let i=e.slice(0,t).match(Upe);if(i){const s=e.charCodeAt(t),a=i[1].charCodeAt(0);if(WS(s)===WS(a))return!1}if(i=e.slice(t+r).match(Ppe),i){const s=e.charCodeAt(t+r-1),a=i[1].charCodeAt(0);if(WS(s)===WS(a))return!1}return!0},bN=function(e,t){const{matchDiacritics:r}=f(this,Rr);let i=!1;const s=(o,l)=>o===e?l:e.startsWith(o)?`${l}[ ]*`:e.endsWith(o)?`[ ]*${l}`:`[ ]*${l}[ ]*`;e=e.replaceAll(Mpe,(o,l,u,d,h,g)=>l?s(l,`\\${l}`):u?s(u,u.replaceAll(/[.?]/g,"\\$&")):d?"[ ]+":r?h||g:h?nG.has(h.charCodeAt(0))?h:"":t?(i=!0,`${g}\\p{M}*`):g);const a="[ ]*";return e.endsWith(a)&&(e=e.slice(0,e.length-a.length)),r&&t&&(rG||(rG=String.fromCharCode(...nG)),i=!0,e=`${e}(?=[${rG}]|[^\\p{M}]|$)`),[i,e]},AY=function(e){if(!f(this,Rr))return;const t=f(this,Ge,wN);if(t.length===0)return;const r=this._pageContents[e],i=this.match(t,r,e),s=this._pageMatches[e]=[],a=this._pageMatchesLength[e]=[],o=this._pageDiffs[e];i==null||i.forEach(({index:u,length:d})=>{const[h,g]=iY(o,u,d);g&&(s.push(h),a.push(g))}),f(this,Rr).highlightAll&&P(this,Ge,__).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,P(this,Ge,CN).call(this));const l=s.length;this._matchesCountTotal+=l,f(this,Iv)?l>0&&P(this,Ge,SN).call(this):++ar(this,ep)._===this._linkService.pagesCount&&P(this,Ge,SN).call(this)},lY=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0},r=this._pdfDocument;for(let i=0,s=this._linkService.pagesCount;i<s;i++){const{promise:a,resolve:o}=Promise.withResolvers();this._extractTextPromises[i]=a,e=e.then(async()=>{if(r!==this._pdfDocument){o();return}await r.getPage(i+1).then(l=>l.getTextContent(t)).then(l=>{const u=[];for(const d of l.items)u.push(d.str),d.hasEOL&&u.push(`
`);[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=x_(u.join("")),o()},l=>{console.error(`Unable to get text content for page ${i+1}`,l),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,o()})})}},__=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},fw=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Mg=function(){const e=f(this,Rr).findPrevious,t=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,_(this,ep,0),this._matchesCountTotal=0,P(this,Ge,fw).call(this);for(let a=0;a<r;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),P(this,Ge,AY).call(this,a)}))}if(f(this,Ge,wN).length===0){P(this,Ge,hw).call(this,pc.FOUND);return}if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=r,s.matchIdx!==null){const a=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<a||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,P(this,Ge,T_).call(this,!0);return}P(this,Ge,EN).call(this,e)}P(this,Ge,CN).call(this)},uY=function(e){const t=this._offset,r=e.length,i=f(this,Rr).findPrevious;return r?(t.matchIdx=i?r-1:0,P(this,Ge,T_).call(this,!0),!0):(P(this,Ge,EN).call(this,i),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(P(this,Ge,T_).call(this,!1),!0):!1)},CN=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!P(this,Ge,uY).call(this,e))},EN=function(e){const t=this._offset,r=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=r||t.pageIdx<0)&&(t.pageIdx=e?r-1:0,t.wrapped=!0)},T_=function(e=!1){let t=pc.NOT_FOUND;const r=this._offset.wrapped;if(this._offset.wrapped=!1,e){const i=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=r?pc.WRAPPED:pc.FOUND,i!==-1&&i!==this._selected.pageIdx&&P(this,Ge,__).call(this,i)}P(this,Ge,hw).call(this,t,f(this,Rr).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,P(this,Ge,__).call(this,this._selected.pageIdx))},cY=function(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),P(this,Ge,hw).call(this,pc.FOUND),this._highlightMatches=!1,P(this,Ge,fw).call(this))})},BN=function(){var s;const{pageIdx:e,matchIdx:t}=this._selected;let r=0,i=this._matchesCountTotal;if(t!==-1){for(let a=0;a<e;a++)r+=((s=this._pageMatches[a])==null?void 0:s.length)||0;r+=t+1}return(r<1||r>i)&&(r=i=0),{current:r,total:i}},SN=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:P(this,Ge,BN).call(this)})},hw=function(e,t=!1){var r,i;!f(this,Iv)&&(f(this,ep)!==this._linkService.pagesCount||e===pc.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:((r=f(this,Rr))==null?void 0:r.entireWord)??null,matchesCount:P(this,Ge,BN).call(this),rawQuery:((i=f(this,Rr))==null?void 0:i.query)??null})};const Lpe="noopener noreferrer nofollow",Sf={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class jQ{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:r=null,ignoreDestinationZoom:i=!1}={}){be(this,"externalLinkEnabled",!0);this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=r,this._ignoreDestinationZoom=i,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,r,i;if(typeof e=="string"?(t=e,r=await this.pdfDocument.getDestination(e)):(t=null,r=await e),!Array.isArray(r)){console.error(`goToDestination: "${r}" is not a valid destination array, for dest="${e}".`);return}const[s]=r;if(s&&typeof s=="object"){if(i=this.pdfDocument.cachedPageNumber(s),!i)try{i=await this.pdfDocument.getPageIndex(s)+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(i=s+1);if(!i||i<1||i>this.pagesCount){console.error(`goToDestination: "${i}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:r,pageNumber:i})),this.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:r,ignoreDestinationZoom:this._ignoreDestinationZoom});const a=new AbortController;this.eventBus._on("textlayerrendered",o=>{o.pageNumber===i&&(o.source.textLayer.div.focus(),a.abort())},{signal:a.signal})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}goToXY(e,t,r,i={}){this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:[null,{name:"XYZ"},t,r],ignoreDestinationZoom:!0,...i})}addLinkAttributes(e,t,r=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const i=r?Sf.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let a="";switch(i){case Sf.NONE:break;case Sf.SELF:a="_self";break;case Sf.BLANK:a="_blank";break;case Sf.PARENT:a="_parent";break;case Sf.TOP:a="_top";break}e.target=a,e.rel=typeof s=="string"?s:Lpe}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,r;if(e.includes("=")){const i=G1(e);if(i.has("search")){const s=i.get("search").replaceAll('"',""),a=i.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:a?s:s.match(/\S+/g)})}if(i.has("page")&&(t=i.get("page")|0||1),i.has("zoom")){const s=i.get("zoom").split(","),a=s[0],o=parseFloat(a);a.includes("Fit")?a==="Fit"||a==="FitB"?r=[null,{name:a}]:a==="FitH"||a==="FitBH"||a==="FitV"||a==="FitBV"?r=[null,{name:a},s.length>1?s[1]|0:null]:a==="FitR"?s.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):r=[null,{name:a},s[1]|0,s[2]|0,s[3]|0,s[4]|0]:console.error(`PDFLinkService.setHash: "${a}" is not a valid zoom value.`):r=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,o?o/100:a]}r?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:r,allowNegativeOffset:!0}):t&&(this.page=t),i.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:i.get("pagemode")}),i.has("nameddest")&&this.goToDestination(i.get("nameddest"));return}r=unescape(e);try{r=JSON.parse(r),Array.isArray(r)||(r=r.toString())}catch{}if(typeof r=="string"||epe(r)){this.goToDestination(r);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,r;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(r=this.pdfHistory)==null||r.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,r=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(r.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(r))}}class WQ extends jQ{setDocument(e,t=null){}}var vd,eE,tE,nE,yd,rE,Fu,fY,xN,hY;class dY{constructor({pdfPage:e,linkService:t,downloadManager:r,annotationStorage:i=null,imageResourcesPath:s="",renderForms:a=!0,enableComment:o=!1,commentManager:l=null,enableScripting:u=!1,hasJSActionsPromise:d=null,fieldObjectsPromise:h=null,annotationCanvasMap:g=null,accessibilityManager:v=null,annotationEditorUIManager:C=null,onAppend:b=null}){M(this,Fu);M(this,vd,null);M(this,eE,null);M(this,tE,!1);M(this,nE,null);M(this,yd,null);M(this,rE,!1);this.pdfPage=e,this.linkService=t,this.downloadManager=r,this.imageResourcesPath=s,this.renderForms=a,this.annotationStorage=i,this.enableComment=o,_(this,eE,l),this.enableScripting=u,this._hasJSActionsPromise=d||Promise.resolve(!1),this._fieldObjectsPromise=h||Promise.resolve(null),this._annotationCanvasMap=g,this._accessibilityManager=v,this._annotationEditorUIManager=C,_(this,nE,b),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render({viewport:e,intent:t="display",structTreeLayer:r=null}){var l,u;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[i,s,a]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const o=this.div=document.createElement("div");if(o.className="annotationLayer",(l=f(this,nE))==null||l.call(this,o),P(this,Fu,fY).call(this,e,r),i.length===0){_(this,vd,i),eY(this.div,e);return}await this.annotationLayer.render({annotations:i,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,downloadManager:this.downloadManager,enableComment:this.enableComment,enableScripting:this.enableScripting,hasJSActions:s,fieldObjects:a}),_(this,vd,i),this.linkService.isInPresentationMode&&P(this,Fu,xN).call(this,Yg.FULLSCREEN),f(this,yd)||(_(this,yd,new AbortController),(u=this._eventBus)==null||u._on("presentationmodechanged",d=>{P(this,Fu,xN).call(this,d.state)},{signal:f(this,yd).signal}))}cancel(){var e;this._cancelled=!0,(e=f(this,yd))==null||e.abort(),_(this,yd,null)}hide(e=!1){_(this,tE,!e),this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){var e;return!!((e=this.annotationLayer)!=null&&e.hasEditableAnnotations())}async injectLinkAnnotations(e){if(f(this,vd)===null)throw new Error("`render` method must be called before `injectLinkAnnotations`.");if(this._cancelled||f(this,rE))return;_(this,rE,!0);const t=f(this,vd).length?P(this,Fu,hY).call(this,e):e;t.length&&(await this.annotationLayer.addLinkAnnotations(t),f(this,tE)||(this.div.hidden=!1))}}vd=new WeakMap,eE=new WeakMap,tE=new WeakMap,nE=new WeakMap,yd=new WeakMap,rE=new WeakMap,Fu=new WeakSet,fY=function(e,t){this.annotationLayer=new Yhe({div:this.div,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,annotationStorage:this.annotationStorage,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t,commentManager:f(this,eE),linkService:this.linkService})},xN=function(e){if(!this.div)return;let t=!1;switch(e){case Yg.FULLSCREEN:t=!0;break;case Yg.NORMAL:break;default:return}for(const r of this.div.childNodes)r.hasAttribute("data-internal-link")||(r.inert=t)},hY=function(e){function t(s){if(!s.quadPoints)return[s.rect];const a=[];for(let o=2,l=s.quadPoints.length;o<l;o+=8){const u=s.quadPoints[o],d=s.quadPoints[o+1],h=s.quadPoints[o+2],g=s.quadPoints[o+3];a.push([h,g,u,d])}return a}function r(s,a){const o=[],l=t(s),u=t(a);for(const d of l)for(const h of u){const g=$Q.intersect(d,h);g&&o.push(g)}return o}function i(s){let a=0;for(const o of s)a+=Math.abs((o[2]-o[0])*(o[3]-o[1]));return a}return e.filter(s=>{let a;for(const o of f(this,vd)){if(o.annotationType!==XW.LINK||!o.url)continue;const l=r(o,s);if(l.length!==0&&(a??(a=i(t(s))),i(l)/a>.5))return!1}return!0})};function aG(n,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var CQ;class Qpe{constructor(){M(this,CQ,new WeakMap)}downloadData(e,t,r){const i=URL.createObjectURL(new Blob([e],{type:r}));aG(i,t)}openOrDownloadData(e,t,r=null){const s=Zhe(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,r){let i;if(e)i=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!JW(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}i=t+"#pdfjs.action=download"}aG(i,r)}}CQ=new WeakMap;const oG={EVENT:"event",TIMEOUT:"timeout"};async function kpe({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:r,resolve:i}=Promise.withResolvers(),s=new AbortController;function a(u){s.abort(),clearTimeout(l),i(u)}const o=n instanceof YQ?"_on":"addEventListener";n[o](e,a.bind(null,oG.EVENT),{signal:s.signal});const l=setTimeout(a.bind(null,oG.TIMEOUT),t);return r}var Fv;class YQ{constructor(){M(this,Fv,Object.create(null))}on(e,t,r=null){this._on(e,t,{external:!0,once:r==null?void 0:r.once,signal:r==null?void 0:r.signal})}off(e,t,r=null){this._off(e,t)}dispatch(e,t){const r=f(this,Fv)[e];if(!r||r.length===0)return;let i;for(const{listener:s,external:a,once:o}of r.slice(0)){if(o&&this._off(e,s),a){(i||(i=[])).push(s);continue}s(t)}if(i){for(const s of i)s(t);i=null}}_on(e,t,r=null){var a;let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:o}=r;if(o.aborted){console.error("Cannot use an `aborted` signal.");return}const l=()=>this._off(e,t);i=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}((a=f(this,Fv))[e]||(a[e]=[])).push({listener:t,external:(r==null?void 0:r.external)===!0,once:(r==null?void 0:r.once)===!0,rmAbort:i})}_off(e,t,r=null){var s;const i=f(this,Fv)[e];if(i)for(let a=0,o=i.length;a<o;a++){const l=i[a];if(l.listener===t){(s=l.rmAbort)==null||s.call(l),i.splice(a,1);return}}}}Fv=new WeakMap;class Xg{constructor(e){this.value=e}valueOf(){return this.value}}class xr extends Xg{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class cu extends Xg{constructor(e,t={}){super(e),this.opts=t}toString(e){if(e)try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return this.value.toString(10)}}class Kd extends Xg{static supportsValue(e){if(typeof e=="number"||e instanceof Date)return!0;if(e instanceof Xg)return Kd.supportsValue(e.valueOf());if("Temporal"in globalThis){const t=globalThis.Temporal;if(e instanceof t.Instant||e instanceof t.PlainDateTime||e instanceof t.PlainDate||e instanceof t.PlainMonthDay||e instanceof t.PlainTime||e instanceof t.PlainYearMonth)return!0}return!1}constructor(e,t={}){e instanceof Kd?(t={...e.opts,...t},e=e.value):e instanceof Xg&&(e=e.valueOf()),typeof e=="object"&&"calendarId"in e&&t.calendar===void 0&&(t={...t,calendar:e.calendarId}),super(e),this.opts=t}[Symbol.toPrimitive](e){return e==="string"?this.toString():this.toNumber()}toNumber(){const e=this.value;if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();if("epochMilliseconds"in e)return e.epochMilliseconds;if("toZonedDateTime"in e)return e.toZonedDateTime("UTC").epochMilliseconds;throw new TypeError("Unwrapping a non-number value as a number")}toString(e){if(e)try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return typeof this.value=="number"||this.value instanceof Date?new Date(this.value).toISOString():this.value.toString()}}const AG=100,Ope="",Hpe="";function Vpe(n,e,t){if(t===e||t instanceof cu&&e instanceof cu&&t.value===e.value)return!0;if(e instanceof cu&&typeof t=="string"){let r=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===r)return!0}return!1}function lG(n,e,t){return e[t]?Jv(n,e[t].value):(n.reportError(new RangeError("No default")),new xr)}function _N(n,e){const t=[],r=Object.create(null);for(const i of e)i.type==="narg"?r[i.name]=$w(n,i.value):t.push($w(n,i));return{positional:t,named:r}}function $w(n,e){switch(e.type){case"str":return e.value;case"num":return new cu(e.value,{minimumFractionDigits:e.precision});case"var":return Kpe(n,e);case"mesg":return Gpe(n,e);case"term":return zpe(n,e);case"func":return qpe(n,e);case"select":return $pe(n,e);default:return new xr}}function Kpe(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new xr(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new xr(`$${e}`);if(t instanceof Xg)return t;switch(typeof t){case"string":return t;case"number":return new cu(t);case"object":if(Kd.supportsValue(t))return new Kd(t);default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new xr(`$${e}`)}}function Gpe(n,{name:e,attr:t}){const r=n.bundle._messages.get(e);if(!r)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new xr(e);if(t){const i=r.attributes[t];return i?Jv(n,i):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new xr(`${e}.${t}`))}return r.value?Jv(n,r.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new xr(e))}function zpe(n,{name:e,attr:t,args:r}){const i=`-${e}`,s=n.bundle._terms.get(i);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${i}`)),new xr(i);if(t){const o=s.attributes[t];if(o){n.params=_N(n,r).named;const l=Jv(n,o);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new xr(`${i}.${t}`)}n.params=_N(n,r).named;const a=Jv(n,s.value);return n.params=null,a}function qpe(n,{name:e,args:t}){let r=n.bundle._functions[e];if(!r)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new xr(`${e}()`);if(typeof r!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new xr(`${e}()`);try{let i=_N(n,t);return r(i.positional,i.named)}catch(i){return n.reportError(i),new xr(`${e}()`)}}function $pe(n,{selector:e,variants:t,star:r}){let i=$w(n,e);if(i instanceof xr)return lG(n,t,r);for(const s of t){const a=$w(n,s.key);if(Vpe(n,i,a))return Jv(n,s.value)}return lG(n,t,r)}function pY(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new xr;n.dirty.add(e);const t=[],r=n.bundle._useIsolating&&e.length>1;for(const i of e){if(typeof i=="string"){t.push(n.bundle._transform(i));continue}if(n.placeables++,n.placeables>AG)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${AG}`);r&&t.push(Ope),t.push($w(n,i).toString(n)),r&&t.push(Hpe)}return n.dirty.delete(e),t.join("")}function Jv(n,e){return typeof e=="string"?n.bundle._transform(e):pY(n,e)}class jpe{constructor(e,t,r){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=r}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let r=this.bundle._intls.get(e);r||(r={},this.bundle._intls.set(e,r));let i=JSON.stringify(t);return r[i]||(r[i]=new e(this.bundle.locales,t)),r[i]}}function TN(n,e){const t=Object.create(null);for(const[r,i]of Object.entries(n))e.includes(r)&&(t[r]=i.valueOf());return t}const uG=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function Wpe(n,e){let t=n[0];if(t instanceof xr)return new xr(`NUMBER(${t.valueOf()})`);if(t instanceof cu)return new cu(t.valueOf(),{...t.opts,...TN(e,uG)});if(t instanceof Kd)return new cu(t.toNumber(),{...TN(e,uG)});throw new TypeError("Invalid argument to NUMBER")}const Ype=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Xpe(n,e){let t=n[0];if(t instanceof xr)return new xr(`DATETIME(${t.valueOf()})`);if(t instanceof Kd||t instanceof cu)return new Kd(t,TN(e,Ype));throw new TypeError("Invalid argument to DATETIME")}const cG=new Map;function Jpe(n){const e=Array.isArray(n)?n.join(" "):n;let t=cG.get(e);return t===void 0&&(t=new Map,cG.set(e,t)),t}class Zpe{constructor(e,{functions:t,useIsolating:r=!0,transform:i=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:Wpe,DATETIME:Xpe,...t},this._useIsolating=r,this._transform=i,this._intls=Jpe(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const r=[];for(let i=0;i<e.body.length;i++){let s=e.body[i];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){r.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){r.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return r}formatPattern(e,t=null,r=null){if(typeof e=="string")return this._transform(e);let i=new jpe(this,r,t);try{return pY(i,e).toString(i)}catch(s){if(i.errors&&s instanceof Error)return i.errors.push(s),new xr().toString(i);throw s}}}const vU=/^(-?[a-zA-Z][\w-]*) *= */gm,dG=/\.([a-zA-Z][\w-]*) *= */y,ege=/\*?\[/y,yU=/(-?[0-9]+(?:\.([0-9]+))?)/y,tge=/([a-zA-Z][\w-]*)/y,fG=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,nge=/^[A-Z][A-Z0-9_-]*$/,YS=/([^{}\n\r]+)/y,rge=/([^\\"\n\r]*)/y,hG=/\\([\\"])/y,pG=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,ige=/^\n+/,gG=/ +$/,sge=/ *\r?\n/g,age=/( *)$/,oge=/{\s*/y,mG=/\s*}/y,Age=/\[\s*/y,lge=/\s*] */y,uge=/\s*\(\s*/y,cge=/\s*->\s*/y,dge=/\s*:\s*/y,fge=/\s*,?\s*/y,hge=/\s+/y;class pge{constructor(e){this.body=[],vU.lastIndex=0;let t=0;for(;;){let k=vU.exec(e);if(k===null)break;t=vU.lastIndex;try{this.body.push(l(k[1]))}catch(G){if(G instanceof SyntaxError)continue;throw G}}function r(k){return k.lastIndex=t,k.test(e)}function i(k,G){if(e[t]===k)return t++,!0;if(G)throw new G(`Expected ${k}`);return!1}function s(k,G){if(r(k))return t=k.lastIndex,!0;if(G)throw new G(`Expected ${k.toString()}`);return!1}function a(k){k.lastIndex=t;let G=k.exec(e);if(G===null)throw new SyntaxError(`Expected ${k.toString()}`);return t=k.lastIndex,G}function o(k){return a(k)[1]}function l(k){let G=d(),K=u();if(G===null&&Object.keys(K).length===0)throw new SyntaxError("Expected message value or attributes");return{id:k,value:G,attributes:K}}function u(){let k=Object.create(null);for(;r(dG);){let G=o(dG),K=d();if(K===null)throw new SyntaxError("Expected attribute value");k[G]=K}return k}function d(){let k;if(r(YS)&&(k=o(YS)),e[t]==="{"||e[t]==="}")return h(k?[k]:[],1/0);let G=R();return G?k?h([k,G],G.length):(G.value=Q(G.value,ige),h([G],G.length)):k?Q(k,gG):null}function h(k=[],G){for(;;){if(r(YS)){k.push(o(YS));continue}if(e[t]==="{"){k.push(g());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let Y=R();if(Y){k.push(Y),G=Math.min(G,Y.length);continue}break}let K=k.length-1,z=k[K];typeof z=="string"&&(k[K]=Q(z,gG));let Z=[];for(let Y of k)Y instanceof vG&&(Y=Y.value.slice(0,Y.value.length-G)),Y&&Z.push(Y);return Z}function g(){s(oge,SyntaxError);let k=v();if(s(mG))return k;if(s(cge)){let G=B();return s(mG,SyntaxError),{type:"select",selector:k,...G}}throw new SyntaxError("Unclosed placeable")}function v(){if(e[t]==="{")return g();if(r(fG)){let[,k,G,K=null]=a(fG);if(k==="$")return{type:"var",name:G};if(s(uge)){let z=C();if(k==="-")return{type:"term",name:G,attr:K,args:z};if(nge.test(G))return{type:"func",name:G,args:z};throw new SyntaxError("Function names must be all upper-case")}return k==="-"?{type:"term",name:G,attr:K,args:[]}:{type:"mesg",name:G,attr:K}}return I()}function C(){let k=[];for(;;){switch(e[t]){case")":return t++,k;case void 0:throw new SyntaxError("Unclosed argument list")}k.push(b()),s(fge)}}function b(){let k=v();return k.type!=="mesg"?k:s(dge)?{type:"narg",name:k.name,value:I()}:k}function B(){let k=[],G=0,K;for(;r(ege);){i("*")&&(K=G);let z=S(),Z=d();if(Z===null)throw new SyntaxError("Expected variant value");k[G++]={key:z,value:Z}}if(G===0)return null;if(K===void 0)throw new SyntaxError("Expected default variant");return{variants:k,star:K}}function S(){s(Age,SyntaxError);let k;return r(yU)?k=T():k={type:"str",value:o(tge)},s(lge,SyntaxError),k}function I(){if(r(yU))return T();if(e[t]==='"')return D();throw new SyntaxError("Invalid expression")}function T(){let[,k,G=""]=a(yU),K=G.length;return{type:"num",value:parseFloat(k),precision:K}}function D(){i('"',SyntaxError);let k="";for(;;){if(k+=o(rge),e[t]==="\\"){k+=U();continue}if(i('"'))return{type:"str",value:k};throw new SyntaxError("Unclosed string literal")}}function U(){if(r(hG))return o(hG);if(r(pG)){let[,k,G]=a(pG),K=parseInt(k||G,16);return K<=55295||57344<=K?String.fromCodePoint(K):""}throw new SyntaxError("Unknown escape sequence")}function R(){let k=t;switch(s(hge),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return H(e.slice(k,t))}return e[t-1]===" "?H(e.slice(k,t)):!1}function Q(k,G){return k.replace(G,"")}function H(k){let G=k.replace(sge,`
`),K=age.exec(k)[1].length;return new vG(G,K)}}}class vG{constructor(e,t){this.value=e,this.length=t}}const gge=/<|&#?\w+;/,mge={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},vge={"http://www.w3.org/1999/xhtml":{global:["title","aria-description","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function yge(n,e){const{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!gge.test(t))n.textContent=t;else{const r=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");r.innerHTML=t,wge(r.content,n)}gY(e,n)}function wge(n,e){for(const t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const r=Cge(e,t);n.replaceChild(r,t);continue}if(Bge(t)){const r=Ege(t);n.replaceChild(r,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(IN(t),t)}e.textContent="",e.appendChild(n)}function bge(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function gY(n,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(r=>r.trim()):null;for(const r of Array.from(e.attributes))yG(r.name,e,t)&&!bge(n.attributes,r.name)&&e.removeAttribute(r.name);if(n.attributes)for(const r of Array.from(n.attributes))yG(r.name,e,t)&&e.getAttribute(r.name)!==r.value&&e.setAttribute(r.name,r.value)}function Cge(n,e){const t=e.getAttribute("data-l10n-name"),r=n.querySelector(`[data-l10n-name="${t}"]`);if(!r)return console.warn(`An element named "${t}" wasn't found in the source.`),IN(e);if(r.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${r.localName}).`),IN(e);n.removeChild(r);const i=r.cloneNode(!1);return mY(e,i)}function Ege(n){const e=n.ownerDocument.createElement(n.localName);return mY(n,e)}function IN(n){return n.ownerDocument.createTextNode(n.textContent)}function Bge(n){const e=mge[n.namespaceURI];return e&&e.includes(n.localName)}function yG(n,e,t=null){if(t&&t.includes(n))return!0;const r=vge[e.namespaceURI];if(!r)return!1;const i=n.toLowerCase(),s=e.localName;if(r.global.includes(i))return!0;if(!r[s])return!1;if(r[s].includes(i))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&i==="value"){const a=e.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function mY(n,e){return e.textContent=n.textContent,gY(n,e),e}class Sge extends Array{static from(e){return e instanceof this?e:new this(e)}}class xge extends Sge{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const r=this[this.length-1];if(r&&(await r).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class _ge{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const r=[];let i=!1;for await(const s of this.bundles){i=!0;const a=Fge(t,s,e,r);if(a.size===0)break;if(typeof console<"u"){const o=s.locales[0],l=Array.from(a).join(", ");console.warn(`[fluent] Missing translations in ${o}: ${l}`)}}return!i&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),r}formatMessages(e){return this.formatWithFallback(e,Ige)}formatValues(e){return this.formatWithFallback(e,Tge)}async formatValue(e,t){const[r]=await this.formatValues([{id:e,args:t}]);return r}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=xge.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function Tge(n,e,t,r){return t.value?n.formatPattern(t.value,r,e):null}function Ige(n,e,t,r){const i={value:null,attributes:null};t.value&&(i.value=n.formatPattern(t.value,r,e));let s=Object.keys(t.attributes);if(s.length>0){i.attributes=new Array(s.length);for(let[a,o]of s.entries()){let l=n.formatPattern(t.attributes[o],r,e);i.attributes[a]={name:o,value:l}}}return i}function Fge(n,e,t,r){const i=[],s=new Set;return t.forEach(({id:a,args:o},l)=>{if(r[l]!==void 0)return;let u=e.getMessage(a);if(u){if(i.length=0,r[l]=n(e,i,u,o),i.length>0&&typeof console<"u"){const d=e.locales[0],h=i.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${h}.`)}}else s.add(a)}),s}const xf="data-l10n-id",M0="data-l10n-args",Mge=`[${xf}]`;class Uge extends _ge{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[xf,M0]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,r){return e.setAttribute(xf,t),r?e.setAttribute(M0,JSON.stringify(r)):e.removeAttribute(M0),e}getAttributes(e){return{id:e.getAttribute(xf),args:JSON.parse(e.getAttribute(M0)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const r of t.addedNodes)if(r.nodeType===r.ELEMENT_NODE)if(r.childElementCount)for(const i of this.getTranslatables(r))this.pendingElements.add(i);else r.hasAttribute(xf)&&this.pendingElements.add(r);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),r=await this.formatMessages(t);return this.applyTranslations(e,r)}applyTranslations(e,t){this.pauseObserving();for(let r=0;r<e.length;r++)t[r]!==void 0&&yge(e[r],t[r]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(Mge));return typeof e.hasAttribute=="function"&&e.hasAttribute(xf)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(xf),args:JSON.parse(e.getAttribute(M0)||null)}}}var iE,wd,Mv,bs,dy,vY,yY;const kw=class kw{constructor({lang:e,isRTL:t},r=null){M(this,iE);M(this,wd);M(this,Mv);M(this,bs);var i,s;_(this,Mv,P(i=kw,dy,vY).call(i,e)),_(this,bs,r),_(this,iE,t??P(s=kw,dy,yY).call(s,f(this,Mv))?"rtl":"ltr")}_setL10n(e){_(this,bs,e)}getLanguage(){return f(this,Mv)}getDirection(){return f(this,iE)}async get(e,t=null,r){var s;return Array.isArray(e)?(e=e.map(o=>({id:o})),(await f(this,bs).formatMessages(e)).map(o=>o.value)):((s=(await f(this,bs).formatMessages([{id:e,args:t}]))[0])==null?void 0:s.value)||r}async translate(e){(f(this,wd)||_(this,wd,new Set)).add(e);try{f(this,bs).connectRoot(e),await f(this,bs).translateRoots()}catch{}}async translateOnce(e){try{await f(this,bs).translateElements([e])}catch(t){console.error("translateOnce:",t)}}async destroy(){if(f(this,wd)){for(const e of f(this,wd))f(this,bs).disconnectRoot(e);f(this,wd).clear(),_(this,wd,null)}f(this,bs).pauseObserving()}pause(){f(this,bs).pauseObserving()}resume(){f(this,bs).resumeObserving()}};iE=new WeakMap,wd=new WeakMap,Mv=new WeakMap,bs=new WeakMap,dy=new WeakSet,vY=function(e){return e=(e==null?void 0:e.toLowerCase())||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e},yY=function(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)},M(kw,dy);let FN=kw;function Pge(){const{isAndroid:n,isLinux:e,isMac:t,isWindows:r}=ZW.platform;return e?"linux":r?"windows":t?"macos":n?"android":"other"}function wG(n,e){const t=new pge(e),r=new Zpe(n,{functions:{PLATFORM:Pge}}),i=r.addResource(t);return i.length&&console.error("L10n errors",i),r}var pa,wY,bY,CY,EY,MN;const Pf=class Pf extends FN{constructor(e){super({lang:e});const t=e?P(Pf,pa,wY).bind(Pf,"en-us",this.getLanguage()):P(Pf,pa,EY).bind(Pf,this.getLanguage());this._setL10n(new Uge([],t))}};pa=new WeakSet,wY=async function*(e,t){const{baseURL:r,paths:i}=await P(this,pa,CY).call(this),s=[t];if(e!==t){const o=t.split("-",1)[0];o!==t&&s.push(o),s.push(e)}const a=s.map(o=>[o,P(this,pa,bY).call(this,o,r,i)]);for(const[o,l]of a){const u=await l;u?yield u:o==="en-us"&&(yield P(this,pa,MN).call(this,o))}},bY=async function(e,t,r){const i=r[e];if(!i)return null;const s=new URL(i,t),a=await $K(s,"text");return wG(e,a)},CY=async function(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=await $K(e,"json");return{baseURL:e.substring(0,e.lastIndexOf("/")+1)||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},EY=async function*(e){yield P(this,pa,MN).call(this,e)},MN=async function(e){return wG(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties
pdfjs-document-properties-button-label = Document Properties
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width }  { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width }  { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-color-picker-free-text-input =
    .title = Change text color
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-color-picker-ink-input =
    .title = Change drawing color
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-comment-floating-button =
    .title = Comment
    .aria-label = Comment
pdfjs-comment-floating-button-label = Comment
pdfjs-editor-comment-button =
    .title = Comment
    .aria-label = Comment
pdfjs-editor-comment-button-label = Comment
pdfjs-editor-signature-button =
    .title = Add signature
pdfjs-editor-signature-button-label = Add signature
pdfjs-editor-highlight-editor =
    .aria-label = Highlight editor
pdfjs-editor-ink-editor =
    .aria-label = Drawing editor
pdfjs-editor-signature-editor1 =
    .aria-description = Signature editor: { $description }
pdfjs-editor-stamp-editor =
    .aria-label = Image editor
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-remove-signature-button =
    .title = Remove signature
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-editor-add-signature-container =
    .aria-label = Signature controls and saved signatures
pdfjs-editor-signature-add-signature-button =
    .title = Add new signature
pdfjs-editor-signature-add-signature-button-label = Add new signature
pdfjs-editor-add-saved-signature-button =
    .title = Saved signature: { $description }
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing
pdfjs-editor-comments-sidebar-title =
    { $count ->
        [one] Comment
       *[other] Comments
    }
pdfjs-editor-comments-sidebar-close-button =
    .title = Close the sidebar
    .aria-label = Close the sidebar
pdfjs-editor-comments-sidebar-close-button-label = Close the sidebar
pdfjs-editor-comments-sidebar-no-comments1 = See something noteworthy? Highlight it and leave a comment.
pdfjs-editor-comments-sidebar-no-comments-link = Learn more
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people cant see the image or when it doesnt load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, A young man sits down at a table to eat a meal
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner  resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle  resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner  resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right  resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner  resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle  resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner  resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left  resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here
pdfjs-editor-new-alt-text-description = Short description for people who cant see the image or when the image doesnt load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldnt create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who cant see the image or when the image doesnt load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close
pdfjs-editor-highlight-added-alert = Highlight added
pdfjs-editor-freetext-added-alert = Text added
pdfjs-editor-ink-added-alert = Drawing added
pdfjs-editor-stamp-added-alert = Image added
pdfjs-editor-signature-added-alert = Signature added
pdfjs-editor-undo-bar-message-highlight = Highlight removed
pdfjs-editor-undo-bar-message-freetext = Text removed
pdfjs-editor-undo-bar-message-ink = Drawing removed
pdfjs-editor-undo-bar-message-stamp = Image removed
pdfjs-editor-undo-bar-message-signature = Signature removed
pdfjs-editor-undo-bar-message-multiple =
    { $count ->
        [one] { $count } annotation removed
       *[other] { $count } annotations removed
    }
pdfjs-editor-undo-bar-undo-button =
    .title = Undo
pdfjs-editor-undo-bar-undo-button-label = Undo
pdfjs-editor-undo-bar-close-button =
    .title = Close
pdfjs-editor-undo-bar-close-button-label = Close
pdfjs-editor-add-signature-dialog-label = This modal allows the user to create a signature to add to a PDF document. The user can edit the name (which also serves as the alt text), and optionally save the signature for repeated use.
pdfjs-editor-add-signature-dialog-title = Add a signature
pdfjs-editor-add-signature-type-button = Type
    .title = Type
pdfjs-editor-add-signature-draw-button = Draw
    .title = Draw
pdfjs-editor-add-signature-image-button = Image
    .title = Image
pdfjs-editor-add-signature-type-input =
    .aria-label = Type your signature
    .placeholder = Type your signature
pdfjs-editor-add-signature-draw-placeholder = Draw your signature
pdfjs-editor-add-signature-draw-thickness-range-label = Thickness
pdfjs-editor-add-signature-draw-thickness-range =
    .title = Drawing thickness: { $thickness }
pdfjs-editor-add-signature-image-placeholder = Drag a file here to upload
pdfjs-editor-add-signature-image-browse-link =
    { PLATFORM() ->
        [macos] Or choose image files
       *[other] Or browse image files
    }
pdfjs-editor-add-signature-description-label = Description (alt text)
pdfjs-editor-add-signature-description-input =
    .title = Description (alt text)
pdfjs-editor-add-signature-description-default-when-drawing = Signature
pdfjs-editor-add-signature-clear-button-label = Clear signature
pdfjs-editor-add-signature-clear-button =
    .title = Clear signature
pdfjs-editor-add-signature-save-checkbox = Save signature
pdfjs-editor-add-signature-save-warning-message = Youve reached the limit of 5 saved signatures. Remove one to save more.
pdfjs-editor-add-signature-image-upload-error-title = Couldnt upload image
pdfjs-editor-add-signature-image-upload-error-description = Check your network connection or try another image.
pdfjs-editor-add-signature-image-no-data-error-title = Cant convert this image into a signature
pdfjs-editor-add-signature-image-no-data-error-description = Please try uploading a different image.
pdfjs-editor-add-signature-error-close-button = Close
pdfjs-editor-add-signature-cancel-button = Cancel
pdfjs-editor-add-signature-add-button = Add
pdfjs-editor-delete-signature-button1 =
    .title = Remove saved signature
pdfjs-editor-delete-signature-button-label1 = Remove saved signature
pdfjs-editor-add-signature-edit-button-label = Edit description
pdfjs-editor-edit-signature-dialog-title = Edit description
pdfjs-editor-edit-signature-update-button = Update
pdfjs-show-comment-button =
    .title = Show comment
pdfjs-editor-edit-comment-popup-button-label = Edit comment
pdfjs-editor-edit-comment-popup-button =
    .title = Edit comment
pdfjs-editor-delete-comment-popup-button-label = Remove comment
pdfjs-editor-delete-comment-popup-button =
    .title = Remove comment
pdfjs-editor-edit-comment-dialog-title-when-editing = Edit comment
pdfjs-editor-edit-comment-dialog-save-button-when-editing = Update
pdfjs-editor-edit-comment-dialog-title-when-adding = Add comment
pdfjs-editor-edit-comment-dialog-save-button-when-adding = Add
pdfjs-editor-edit-comment-dialog-text-input =
    .placeholder = Start typing
pdfjs-editor-edit-comment-dialog-cancel-button = Cancel
pdfjs-editor-add-comment-button =
    .title = Add comment`)},M(Pf,pa);let Zv=Pf;const Rge=1e3,Dge=50,Nge=1e3;function wU(){return document.location.hash}var bd,ft,ol,I_,F_,pw,M_,UN,BY,SY,PN,xY,_Y;class Lge{constructor({linkService:e,eventBus:t}){M(this,ft);M(this,bd,null);this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",r=>{this._isPagesLoaded=!!r.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:r=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const i=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=r===!0,this._initialized=!0,P(this,ft,xY).call(this);const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=wU(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!P(this,ft,pw).call(this,s,!0)||t){const{hash:o,page:l,rotation:u}=P(this,ft,UN).call(this,!0);if(!o||i||t){P(this,ft,ol).call(this,null,!0);return}P(this,ft,ol).call(this,{hash:o,page:l,rotation:u},!0);return}const a=s.destination;P(this,ft,M_).call(this,a,s.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(P(this,ft,PN).call(this),this._initialized=!1,P(this,ft,_Y).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:r}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!P(this,ft,F_).call(this,r)&&(r!==null||this._destination)){console.error(`PDFHistory.push: "${r}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const i=e||JSON.stringify(t);if(!i)return;let s=!1;if(this._destination&&(Qge(this._destination.hash,i)||kge(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(P(this,ft,ol).call(this,{dest:t,hash:i,page:r,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!P(this,ft,F_).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(P(this,ft,ol).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||P(this,ft,I_).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;P(this,ft,pw).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;P(this,ft,pw).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}bd=new WeakMap,ft=new WeakSet,ol=function(e,t=!1){const r=t||!this._destination,i={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:e};P(this,ft,M_).call(this,e,i.uid);let s;if(this._updateUrl&&(e!=null&&e.hash)){const{href:a,protocol:o}=document.location;o!=="file:"&&(s=rpe(a,e.hash))}r?window.history.replaceState(i,"",s):window.history.pushState(i,"",s)},I_=function(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){P(this,ft,ol).call(this,t);return}if(this._destination.temporary){P(this,ft,ol).call(this,t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=Dge)return;let r=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;r=!0}P(this,ft,ol).call(this,t,r)},F_=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},pw=function(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;const[r]=performance.getEntriesByType("navigation");if((r==null?void 0:r.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")},M_=function(e,t,r=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),r&&(e!=null&&e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},UN=function(e=!1){const t=unescape(wU()).substring(1),r=G1(t),i=r.get("nameddest")||"";let s=r.get("page")|0;return(!P(this,ft,F_).call(this,s)||e&&i.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}},BY=function({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||P(this,ft,I_).call(this,!0),this._updateViewareaTimeout=null},Nge))},SY=function({state:e}){const t=wU(),r=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:a,rotation:o}=P(this,ft,UN).call(this);P(this,ft,ol).call(this,{hash:s,page:a,rotation:o},!0);return}if(!P(this,ft,pw).call(this,e))return;this._popStateInProgress=!0,r&&(this._blockHashChange++,kpe({target:window,name:"hashchange",delay:Rge}).then(()=>{this._blockHashChange--}));const i=e.destination;P(this,ft,M_).call(this,i,e.uid,!0),rY(i.rotation)&&(this.linkService.rotation=i.rotation),i.dest?this.linkService.goToDestination(i.dest):i.hash?this.linkService.setHash(i.hash):i.page&&(this.linkService.page=i.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},PN=function(){(!this._destination||this._destination.temporary)&&P(this,ft,I_).call(this)},xY=function(){if(f(this,bd))return;_(this,bd,new AbortController);const{signal:e}=f(this,bd);this.eventBus._on("updateviewarea",P(this,ft,BY).bind(this),{signal:e}),window.addEventListener("popstate",P(this,ft,SY).bind(this),{signal:e}),window.addEventListener("pagehide",P(this,ft,PN).bind(this),{signal:e})},_Y=function(){var e;(e=f(this,bd))==null||e.abort(),_(this,bd,null)};function Qge(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||G1(n).get("nameddest")===e}function kge(n,e){function t(r,i){if(typeof r!=typeof i||Array.isArray(r)||Array.isArray(i))return!1;if(r!==null&&typeof r=="object"&&i!==null){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const s in r)if(!t(r[s],i[s]))return!1;return!0}return r===i||Number.isNaN(r)&&Number.isNaN(i)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}var sE,aE,oE,AE,lE,Uv;class Oge{constructor(e){M(this,sE,null);M(this,aE,null);M(this,oE,null);M(this,AE,null);M(this,lE,null);M(this,Uv);this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new Zv),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,_(this,Uv,e.uiManager),_(this,sE,e.annotationLayer||null),_(this,lE,e.textLayer||null),_(this,aE,e.drawLayer||null),_(this,oE,e.onAppend||null),_(this,AE,e.structTreeLayer||null)}async render({viewport:e,intent:t="display"}){var a;if(t!=="display"||this._cancelled)return;const r=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:r}),this.show();return}const i=this.div=document.createElement("div");i.className="annotationEditorLayer",i.hidden=!0,i.dir=f(this,Uv).direction,(a=f(this,oE))==null||a.call(this,i),this.annotationEditorLayer=new jhe({uiManager:f(this,Uv),div:i,structTreeLayer:f(this,AE),accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:r,annotationLayer:f(this,sE),textLayer:f(this,lE),drawLayer:f(this,aE)});const s={viewport:r,div:i,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.annotationEditorLayer.pause(!0),this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1,this.annotationEditorLayer.pause(!1))}}sE=new WeakMap,aE=new WeakMap,oE=new WeakMap,AE=new WeakMap,lE=new WeakMap,Uv=new WeakMap;{var RN=new Map;const{maxTouchPoints:n,platform:e,userAgent:t}=navigator,r=/Android/.test(t),i=/\b(iPad|iPhone|iPod)(?=;)/.test(t)||e==="MacIntel"&&n>1;(function(){(i||r)&&RN.set("maxCanvasPixels",5242880)})(),(function(){r&&RN.set("useSystemFonts",!1)})()}const fe={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},DN={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},iu={allowedGlobalEvents:{value:null,kind:fe.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:fe.BROWSER+fe.API},isInAutomation:{value:!1,kind:fe.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:fe.BROWSER},maxCanvasDim:{value:32767,kind:fe.BROWSER+fe.VIEWER},nimbusDataStr:{value:"",kind:fe.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:fe.BROWSER},supportsDocumentFonts:{value:!0,kind:fe.BROWSER},supportsIntegratedFind:{value:!1,kind:fe.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:fe.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:fe.BROWSER},supportsPinchToZoom:{value:!0,kind:fe.BROWSER},supportsPrinting:{value:!0,kind:fe.BROWSER},toolbarDensity:{value:0,kind:fe.BROWSER+fe.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:fe.VIEWER+fe.PREFERENCE},annotationEditorMode:{value:0,kind:fe.VIEWER+fe.PREFERENCE},annotationMode:{value:2,kind:fe.VIEWER+fe.PREFERENCE},capCanvasAreaFactor:{value:200,kind:fe.VIEWER+fe.PREFERENCE},commentLearnMoreUrl:{value:"",kind:fe.VIEWER+fe.PREFERENCE},cursorToolOnLoad:{value:0,kind:fe.VIEWER+fe.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:fe.VIEWER},defaultZoomDelay:{value:400,kind:fe.VIEWER+fe.PREFERENCE},defaultZoomValue:{value:"",kind:fe.VIEWER+fe.PREFERENCE},disableHistory:{value:!1,kind:fe.VIEWER},disablePageLabels:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enableAltText:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:fe.VIEWER+fe.PREFERENCE+fe.EVENT_DISPATCH},enableAutoLinking:{value:!0,kind:fe.VIEWER+fe.PREFERENCE},enableComment:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enableDetailCanvas:{value:!0,kind:fe.VIEWER},enableGuessAltText:{value:!0,kind:fe.VIEWER+fe.PREFERENCE+fe.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:fe.VIEWER+fe.PREFERENCE},enableOptimizedPartialRendering:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enablePermissions:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:fe.VIEWER+fe.PREFERENCE},enableScripting:{value:!0,kind:fe.VIEWER+fe.PREFERENCE},enableSignatureEditor:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:fe.VIEWER},externalLinkTarget:{value:0,kind:fe.VIEWER+fe.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F,yellow_HCM=#FFFFCC,green_HCM=#53FFBC,blue_HCM=#80EBFF,pink_HCM=#F6B8FF,red_HCM=#C50043",kind:fe.VIEWER+fe.PREFERENCE},historyUpdateUrl:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},imageResourcesPath:{value:"./images/",kind:fe.VIEWER},maxCanvasPixels:{value:2**25,kind:fe.VIEWER},minDurationToUpdateCanvas:{value:500,kind:fe.VIEWER},forcePageColors:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:fe.VIEWER+fe.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:fe.VIEWER+fe.PREFERENCE},pdfBugEnabled:{value:!1,kind:fe.VIEWER+fe.PREFERENCE},printResolution:{value:150,kind:fe.VIEWER},sidebarViewOnLoad:{value:-1,kind:fe.VIEWER+fe.PREFERENCE},scrollModeOnLoad:{value:-1,kind:fe.VIEWER+fe.PREFERENCE},spreadModeOnLoad:{value:-1,kind:fe.VIEWER+fe.PREFERENCE},textLayerMode:{value:1,kind:fe.VIEWER+fe.PREFERENCE},viewerCssTheme:{value:0,kind:fe.VIEWER+fe.PREFERENCE},viewOnLoad:{value:0,kind:fe.VIEWER+fe.PREFERENCE},cMapPacked:{value:!0,kind:fe.API},cMapUrl:{value:"../web/cmaps/",kind:fe.API},disableAutoFetch:{value:!1,kind:fe.API+fe.PREFERENCE},disableFontFace:{value:!1,kind:fe.API+fe.PREFERENCE},disableRange:{value:!1,kind:fe.API+fe.PREFERENCE},disableStream:{value:!1,kind:fe.API+fe.PREFERENCE},docBaseUrl:{value:"",kind:fe.API},enableHWA:{value:!0,kind:fe.API+fe.VIEWER+fe.PREFERENCE},enableXfa:{value:!0,kind:fe.API+fe.PREFERENCE},fontExtraProperties:{value:!1,kind:fe.API},iccUrl:{value:"../web/iccs/",kind:fe.API},isEvalSupported:{value:!0,kind:fe.API},isOffscreenCanvasSupported:{value:!0,kind:fe.API},maxImageSize:{value:-1,kind:fe.API},pdfBug:{value:!1,kind:fe.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:fe.API},useSystemFonts:{value:void 0,kind:fe.API,type:DN.BOOLEAN+DN.UNDEFINED},verbosity:{value:1,kind:fe.API},wasmUrl:{value:"../web/wasm/",kind:fe.API},workerPort:{value:null,kind:fe.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:fe.WORKER}};iu.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:fe.VIEWER},iu.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:fe.VIEWER},iu.enableFakeMLManager={value:!0,kind:fe.VIEWER};iu.disablePreferences={value:!1,kind:fe.VIEWER};var Cd;const Zo=class Zo{static get(e){return f(this,Cd).get(e)}static getAll(e=null,t=!1){const r=Object.create(null);for(const i in iu){const s=iu[i];e&&!(e&s.kind)||(r[i]=t?s.value:f(this,Cd).get(i))}return r}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||(this._hasInvokedSet=!0);let r;for(const i in e){const s=iu[i],a=e[i];if(!s||!(typeof a==typeof s.value||DN[(typeof a).toUpperCase()]&s.type))continue;const{kind:o}=s;t&&!(o&fe.BROWSER||o&fe.PREFERENCE)||(this.eventBus&&o&fe.EVENT_DISPATCH&&(r||(r=new Map)).set(i,a),f(this,Cd).set(i,a))}if(r)for(const[i,s]of r)this.eventBus.dispatch(i.toLowerCase(),{source:this,value:s})}};Cd=new WeakMap,be(Zo,"eventBus"),M(Zo,Cd,new Map),(()=>{for(const e in iu)f(Zo,Cd).set(e,iu[e].value);for(const[e,t]of RN)f(Zo,Cd).set(e,t);Zo._hasInvokedSet=!1,Zo._checkDisablePreferences=()=>Zo.get("disablePreferences")?!0:(Zo._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();let Uw=Zo;function bG({width:n,height:e,left:t,top:r},i){if(n===0||e===0)return null;const s=i.textLayer.div.getBoundingClientRect(),a=i.getPagePoint(t-s.left,r-s.top),o=i.getPagePoint(t-s.left+n,r-s.top+e);return $Q.normalizeRect([a[0],a[1],o[0],o[1]])}function Hge(n,e){const t=n.getClientRects();if(t.length===1)return{rect:bG(t[0],e)};const r=[1/0,1/0,-1/0,-1/0],i=[];let s=0;for(const a of t){const o=bG(a,e);o!==null&&(i[s]=i[s+4]=o[0],i[s+1]=i[s+3]=o[3],i[s+2]=i[s+6]=o[2],i[s+5]=i[s+7]=o[1],$Q.rectBoundingBox(...o,r),s+=8)}return{quadPoints:i,rect:r}}function CG(n,e){let t=n;do{if(t.nodeType===Node.TEXT_NODE){const r=t.textContent.length;if(e<=r)return[t,e];e-=r}else if(t.firstChild){t=t.firstChild;continue}for(;!t.nextSibling&&t!==n;)t=t.parentNode;t!==n&&(t=t.nextSibling)}while(t!==n);throw new Error("Offset is bigger than container's contents length.")}function Vge({url:n,index:e,length:t},r,i){const s=r._textHighlighter,[{begin:a,end:o}]=s._convertMatches([e],[t]),l=new Range;return l.setStart(...CG(s.textDivs[a.divIdx],a.offset)),l.setEnd(...CG(s.textDivs[o.divIdx],o.offset)),{id:`inferred_link_${i}`,unsafeUrl:n,url:n,annotationType:XW.LINK,rotation:0,...Hge(l,r),borderStyle:null}}var T1,uE;class NN{static findLinks(e){f(this,uE)??_(this,uE,new RegExp("\\b(?:https?:\\/\\/|mailto:|www\\.)(?:[\\S--[\\p{P}<>]]|\\/|[\\S--[\\[\\]]]+[\\S--[\\p{P}<>]])+|\\b[\\S--[@\\p{Ps}\\p{Pe}<>]]+@([\\S--[\\p{P}<>]]+(?:\\.[\\S--[\\p{P}<>]]+)+)","gmv"));const[t,r]=x_(e,{ignoreDashEOL:!0}),i=t.matchAll(f(this,uE)),s=[];for(const a of i){const[o,l]=a;let u;if(o.startsWith("www.")||o.startsWith("http://")||o.startsWith("https://"))u=o;else if(URL.canParse(`http://${l}`))u=o.startsWith("mailto:")?o:`mailto:${o}`;else continue;const d=JW(u,null,{addDefaultProtocol:!0});if(d){const[h,g]=iY(r,a.index,o.length);s.push({url:d.href,index:h,length:g})}}return s}static processLinks(e){return this.findLinks(e._textHighlighter.textContentItemsStr.join(`
`)).map(t=>Vge(t,e,ar(this,T1)._++))}}T1=new WeakMap,uE=new WeakMap,M(NN,T1,0),M(NN,uE);var Ed,Pv,Rv,Dv,ql,Bd,$l,I1,cE,LN;class TY{constructor(e){M(this,cE);M(this,Ed,null);M(this,Pv,0);M(this,Rv,null);M(this,Dv,Lt.INITIAL);M(this,ql,null);M(this,Bd,0);M(this,$l,null);be(this,"canvas",null);be(this,"div",null);be(this,"enableOptimizedPartialRendering",!1);be(this,"eventBus",null);be(this,"id",null);be(this,"pageColors",null);be(this,"recordedBBoxes",null);be(this,"renderingQueue",null);be(this,"renderTask",null);be(this,"resume",null);M(this,I1,e=>{var t;if((t=f(this,ql))==null||t.call(this,!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=Lt.PAUSED,this.resume=()=>{this.renderingState=Lt.RUNNING,e()};return}e()});this.eventBus=e.eventBus,this.id=e.id,this.pageColors=e.pageColors||null,this.renderingQueue=e.renderingQueue,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,_(this,Pv,e.minDurationToUpdateCanvas??500)}get renderingState(){return f(this,Dv)}set renderingState(e){var t;if(e!==f(this,Dv))switch(_(this,Dv,e),f(this,Ed)&&(clearTimeout(f(this,Ed)),_(this,Ed,null)),e){case Lt.PAUSED:this.div.classList.remove("loading"),_(this,Bd,0),(t=f(this,ql))==null||t.call(this,!1);break;case Lt.RUNNING:this.div.classList.add("loadingIcon"),_(this,Ed,setTimeout(()=>{this.div.classList.add("loading"),_(this,Ed,null)},0)),_(this,Bd,Date.now());break;case Lt.INITIAL:case Lt.FINISHED:this.div.classList.remove("loadingIcon","loading"),_(this,Bd,0);break}}_createCanvas(e,t=!1){const{pageColors:r}=this,i=!!(r!=null&&r.background&&(r!=null&&r.foreground)),s=this.canvas,a=!s&&!i&&!t;let o=this.canvas=document.createElement("canvas");return _(this,ql,l=>{if(a){let u=f(this,$l);if(!l&&f(this,Pv)>0){if(Date.now()-f(this,Bd)<f(this,Pv))return;u||(u=_(this,$l,o),o=this.canvas=o.cloneNode(!1),e(o))}if(u){o.getContext("2d",{alpha:!1}).drawImage(u,0,0),l?P(this,cE,LN).call(this):_(this,Bd,Date.now());return}e(o),_(this,ql,null);return}l&&(s?(s.replaceWith(o),s.width=s.height=0):e(o))}),{canvas:o,prevCanvas:s}}_resetCanvas(){const{canvas:e}=this;e&&(e.remove(),e.width=e.height=0,this.canvas=null,P(this,cE,LN).call(this))}async _drawCanvas(e,t,r){var a,o;const i=this.renderTask=this.pdfPage.render(e);i.onContinue=f(this,I1),i.onError=l=>{l instanceof mN&&(t(),_(this,Rv,null))};let s=null;try{await i.promise,(a=f(this,ql))==null||a.call(this,!0)}catch(l){if(l instanceof mN)return;s=l,(o=f(this,ql))==null||o.call(this,!0)}finally{_(this,Rv,s),i===this.renderTask&&(this.renderTask=null,this.enableOptimizedPartialRendering&&(this.recordedBBoxes??(this.recordedBBoxes=i.recordedBBoxes)))}if(this.renderingState=Lt.FINISHED,r(i),s)throw s}cancelRendering({cancelExtraDelay:e=0}={}){this.renderTask&&(this.renderTask.cancel(e),this.renderTask=null),this.resume=null}dispatchPageRender(){this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id})}dispatchPageRendered(e,t){this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:e,isDetailView:t,timestamp:performance.now(),error:f(this,Rv)})}}Ed=new WeakMap,Pv=new WeakMap,Rv=new WeakMap,Dv=new WeakMap,ql=new WeakMap,Bd=new WeakMap,$l=new WeakMap,I1=new WeakMap,cE=new WeakSet,LN=function(){f(this,$l)&&(f(this,$l).width=f(this,$l).height=0,_(this,$l,null))};var CA;class Kge{constructor(e){M(this,CA,null);this.pageIndex=e.pageIndex}async render({intent:e="display"}){e!=="display"||f(this,CA)||this._cancelled||_(this,CA,new Xhe({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,f(this,CA)&&(f(this,CA).destroy(),_(this,CA,null))}setParent(e){var t;(t=f(this,CA))==null||t.setParent(e)}getDrawLayer(){return f(this,CA)}}CA=new WeakMap;var za,F1,IY;class Gge extends TY{constructor({pageView:t}){super(t);M(this,F1);M(this,za,null);be(this,"renderingCancelled",!1);this.pageView=t,this.renderingId="detail"+this.id,this.div=t.div}setPdfPage(t){this.pageView.setPdfPage(t)}get pdfPage(){return this.pageView.pdfPage}get renderingState(){return super.renderingState}set renderingState(t){this.renderingCancelled=!1,super.renderingState=t}reset({keepCanvas:t=!1}={}){const r=this.renderingCancelled||this.renderingState===Lt.RUNNING||this.renderingState===Lt.PAUSED;this.cancelRendering(),this.renderingState=Lt.INITIAL,this.renderingCancelled=r,t||this._resetCanvas()}update({visibleArea:t=null,underlyingViewUpdated:r=!1}={}){if(r){this.cancelRendering(),this.renderingState=Lt.INITIAL;return}if(!P(this,F1,IY).call(this,t))return;const{viewport:i,maxCanvasPixels:s,capCanvasAreaFactor:a}=this.pageView,o=t.maxX-t.minX,l=t.maxY-t.minY,u=o*l*S_.pixelRatio**2,h=(Math.sqrt(S_.capPixels(s,a)/u)-1)/2;let g=Math.min(1,h);g<0&&(g=0);const v=o*g,C=l*g,b=Math.max(0,t.minX-v),B=Math.min(i.width,t.maxX+v),S=Math.max(0,t.minY-C),I=Math.min(i.height,t.maxY+C),T=B-b,D=I-S;_(this,za,{minX:b,minY:S,width:T,height:D,scale:i.scale}),this.reset({keepCanvas:!0})}_getRenderingContext(t,r){const i=this.pageView._getRenderingContext(t,r,!1),s=this.pdfPage.recordedBBoxes;if(!s||!this.enableOptimizedPartialRendering)return i;const{viewport:{width:a,height:o}}=this.pageView,{width:l,height:u,minX:d,minY:h}=f(this,za),g=d/a,v=h/o,C=(d+l)/a,b=(h+u)/o;return{...i,operationsFilter(B){return s.isEmpty(B)?!1:s.minX(B)<=C&&s.maxX(B)>=g&&s.minY(B)<=b&&s.maxY(B)>=v}}}async draw(){if(this.pageView.detailView!==this)return;const t=this.pageView.renderingState===Lt.FINISHED||this.renderingState===Lt.FINISHED;this.renderingState!==Lt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:r,pdfPage:i,viewport:s}=this.pageView;if(!i)throw this.renderingState=Lt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Lt.RUNNING;const a=this.pageView._ensureCanvasWrapper(),{canvas:o,prevCanvas:l}=this._createCanvas(B=>{var S;((S=a.firstElementChild)==null?void 0:S.tagName)==="CANVAS"?a.firstElementChild.after(B):a.prepend(B)},t);o.ariaHidden=!0,this.enableOptimizedPartialRendering&&(o.className="detailView");const{width:u,height:d}=s,h=f(this,za),{pixelRatio:g}=S_,v=[g,0,0,g,-h.minX*g,-h.minY*g];o.width=h.width*g,o.height=h.height*g;const{style:C}=o;C.width=`${h.width*100/u}%`,C.height=`${h.height*100/d}%`,C.top=`${h.minY*100/d}%`,C.left=`${h.minX*100/u}%`;const b=this._drawCanvas(this._getRenderingContext(o,v),()=>{var B;(B=this.canvas)==null||B.remove(),this.canvas=l},()=>{this.dispatchPageRendered(!1,!0)});return r.setAttribute("data-loaded",!0),this.dispatchPageRender(),b}}za=new WeakMap,F1=new WeakSet,IY=function(t){if(!f(this,za))return!0;const r=f(this,za).minX,i=f(this,za).minY,s=f(this,za).width+r,a=f(this,za).height+i;if(t.minX<r||t.minY<i||t.maxX>s||t.maxY>a)return!0;const{width:o,height:l,scale:u}=this.pageView.viewport;if(f(this,za).scale!==u)return!0;const d=t.minX-r,h=s-t.maxX,g=t.minY-i,v=a-t.maxY,C=.5,b=(1+C)/C;return r>0&&h/d>b||s<o&&d/h>b||i>0&&v/g>b||a<l&&g/v>b};const EG={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},FY=new Set(["math","merror","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mprescripts","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics"]),AT="http://www.w3.org/1998/Math/MathML";class BG{static get sanitizer(){return zw(this,"sanitizer",ZW.isSanitizerSupported?new Sanitizer({elements:[...FY].map(e=>({name:e,namespace:AT})),replaceWithChildrenElements:[{name:"maction",namespace:AT}],attributes:["dir","displaystyle","mathbackground","mathcolor","mathsize","scriptlevel","encoding","display","linethickness","intent","arg","form","fence","separator","lspace","rspace","stretchy","symmetric","maxsize","minsize","largeop","movablelimits","width","height","depth","voffset","accent","accentunder","columnspan","rowspan"],comments:!1}):null)}}const zge=/^H(\d+)$/;var Nv,Io,Lv,Qv,kv,Sd,RA,QN,UY,kN;class MY{constructor(e,t){M(this,RA);M(this,Nv);M(this,Io,null);M(this,Lv);M(this,Qv,new Map);M(this,kv);M(this,Sd,null);_(this,Nv,e.getStructTree()),_(this,kv,t)}async render(){var i;if(f(this,Lv))return f(this,Lv);const{promise:e,resolve:t,reject:r}=Promise.withResolvers();_(this,Lv,e);try{_(this,Io,P(this,RA,kN).call(this,await f(this,Nv)))}catch(s){r(s)}return _(this,Nv,null),(i=f(this,Io))==null||i.classList.add("structTree"),t(f(this,Io)),e}async getAriaAttributes(e){try{return await this.render(),f(this,Qv).get(e)}catch{}return null}hide(){f(this,Io)&&!f(this,Io).hidden&&(f(this,Io).hidden=!0)}show(){var e;(e=f(this,Io))!=null&&e.hidden&&(f(this,Io).hidden=!1)}addElementsToTextLayer(){var e;if(f(this,Sd)){for(const[t,r]of f(this,Sd))(e=document.getElementById(t))==null||e.append(r);f(this,Sd).clear(),_(this,Sd,null)}}}Nv=new WeakMap,Io=new WeakMap,Lv=new WeakMap,Qv=new WeakMap,kv=new WeakMap,Sd=new WeakMap,RA=new WeakSet,QN=function(e,t){const{alt:r,id:i,lang:s}=e;if(r!==void 0){let a=!1;const o=Mw(r);for(const l of e.children)if(l.type==="annotation"){let u=f(this,Qv).get(l.id);u||(u=new Map,f(this,Qv).set(l.id,u)),u.set("aria-label",o),a=!0}a||t.setAttribute("aria-label",o)}i!==void 0&&t.setAttribute("aria-owns",i),s!==void 0&&t.setAttribute("lang",Mw(s,!0))},UY=function(e,t){const{alt:r,bbox:i,children:s}=e,a=s==null?void 0:s[0];if(!f(this,kv)||!r||!i||(a==null?void 0:a.type)!=="content")return!1;const{id:o}=a;if(!o)return!1;t.setAttribute("aria-owns",o);const l=document.createElement("span");(f(this,Sd)||_(this,Sd,new Map)).set(o,l),l.setAttribute("role","img"),l.setAttribute("aria-label",Mw(r));const{pageHeight:u,pageX:d,pageY:h}=f(this,kv),g="calc(var(--total-scale-factor) *",{style:v}=l;return v.width=`${g}${i[2]-i[0]}px)`,v.height=`${g}${i[3]-i[1]}px)`,v.left=`${g}${i[0]-d}px)`,v.top=`${g}${u-i[3]+h}px)`,!0},kN=function(e){if(!e)return null;let t;if("role"in e){const{role:r}=e;t=FY.has(r)?document.createElementNS(AT,r):document.createElement("span");const i=r.match(zge);if(i?(t.setAttribute("role","heading"),t.setAttribute("aria-level",i[1])):EG[r]&&t.setAttribute("role",EG[r]),r==="Figure"&&P(this,RA,UY).call(this,e,t))return t;r==="Formula"&&(e.mathML&&BG.sanitizer&&t.setHTML(e.mathML,{sanitizer:BG.sanitizer}),!e.mathML&&e.children.length===1&&e.children[0].role!=="math"&&(t=document.createElementNS(AT,"math")))}if(t||(t=document.createElement("span")),P(this,RA,QN).call(this,e,t),e.children)if(e.children.length===1&&"id"in e.children[0])P(this,RA,QN).call(this,e.children[0],t);else for(const r of e.children)t.append(P(this,RA,kN).call(this,r));return t};var jl,qa,Wl,xd,Ov,U_,dE,HN;const zg=class zg{constructor(){M(this,dE);M(this,jl,!1);M(this,qa,null);M(this,Wl,new Map);M(this,xd,new Map)}setTextMapping(e){_(this,qa,e)}enable(){if(f(this,jl))throw new Error("TextAccessibilityManager is already enabled.");if(!f(this,qa))throw new Error("Text divs and strings have not been set.");if(_(this,jl,!0),_(this,qa,f(this,qa).slice()),f(this,qa).sort(P(zg,Ov,U_)),f(this,Wl).size>0){const e=f(this,qa);for(const[t,r]of f(this,Wl)){if(!document.getElementById(t)){f(this,Wl).delete(t);continue}P(this,dE,HN).call(this,t,e[r])}}for(const[e,t]of f(this,xd))this.addPointerInTextLayer(e,t);f(this,xd).clear()}disable(){f(this,jl)&&(f(this,xd).clear(),_(this,qa,null),_(this,jl,!1))}removePointerInTextLayer(e){if(!f(this,jl)){f(this,xd).delete(e);return}const t=f(this,qa);if(!t||t.length===0)return;const{id:r}=e,i=f(this,Wl).get(r);if(i===void 0)return;const s=t[i];f(this,Wl).delete(r);let a=s.getAttribute("aria-owns");a!=null&&a.includes(r)&&(a=a.split(" ").filter(o=>o!==r).join(" "),a?s.setAttribute("aria-owns",a):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:r}=e;if(!r)return null;if(!f(this,jl))return f(this,xd).set(e,t),null;t&&this.removePointerInTextLayer(e);const i=f(this,qa);if(!i||i.length===0)return null;const s=qw(i,u=>{var d;return P(d=zg,Ov,U_).call(d,e,u)<0}),a=Math.max(0,s-1),o=i[a];P(this,dE,HN).call(this,r,o),f(this,Wl).set(r,a);const l=o.parentNode;return l!=null&&l.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,r,i){const s=this.addPointerInTextLayer(r,i);if(!e.hasChildNodes())return e.append(t),s;const a=Array.from(e.childNodes).filter(l=>l!==t);if(a.length===0)return s;const o=qw(a,l=>{var u;return P(u=zg,Ov,U_).call(u,t,l)<0});return o===0?a[0].before(t):a[o-1].after(t),s}};jl=new WeakMap,qa=new WeakMap,Wl=new WeakMap,xd=new WeakMap,Ov=new WeakSet,U_=function(e,t){const r=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(r.width===0&&r.height===0)return 1;if(i.width===0&&i.height===0)return-1;const s=r.y,a=r.y+r.height,o=r.y+r.height/2,l=i.y,u=i.y+i.height,d=i.y+i.height/2;if(o<=l&&d>=a)return-1;if(d<=s&&o>=u)return 1;const h=r.x+r.width/2,g=i.x+i.width/2;return h-g},dE=new WeakSet,HN=function(e,t){const r=t.getAttribute("aria-owns");r!=null&&r.includes(e)||t.setAttribute("aria-owns",r?`${r} ${e}`:e),t.removeAttribute("role")},M(zg,Ov);let ON=zg;var _d;class qge{constructor({findController:e,eventBus:t,pageIndex:r}){M(this,_d,null);this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=r,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,f(this,_d)||(_(this,_d,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:f(this,_d).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=f(this,_d))==null||e.abort(),_(this,_d,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:r}=this;let i=0,s=0;const a=r.length-1,o=[];for(let l=0,u=e.length;l<u;l++){let d=e[l];for(;i!==a&&d>=s+r[i].length;)s+=r[i].length,i++;i===r.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:i,offset:d-s}};for(d+=t[l];i!==a&&d>s+r[i].length;)s+=r[i].length,i++;h.end={divIdx:i,offset:d-s},o.push(h)}return o}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:r}=this,{textContentItemsStr:i,textDivs:s}=this,a=r===t.selected.pageIdx,o=t.selected.matchIdx,l=t.state.highlightAll;let u=null;const d={offset:void 0};function h(S,I){const T=S.divIdx;return s[T].textContent="",g(T,0,S.offset,I)}function g(S,I,T,D){let U=s[S];if(U.nodeType===Node.TEXT_NODE){const H=document.createElement("span");U.before(H),H.append(U),s[S]=H,U=H}const R=i[S].substring(I,T),Q=document.createTextNode(R);if(D){const H=document.createElement("span");if(H.className=`${D} appended`,H.append(Q),U.append(H),D.includes("selected")){const{left:k}=H.getClientRects()[0],G=U.getBoundingClientRect().left;return k-G}return 0}return U.append(Q),0}let v=o,C=v+1;if(l)v=0,C=e.length;else if(!a)return;let b=-1,B=-1;for(let S=v;S<C;S++){const I=e[S],T=I.begin;if(T.divIdx===b&&T.offset===B)continue;b=T.divIdx,B=T.offset;const D=I.end,U=a&&S===o,R=U?" selected":"";let Q=0;if(!u||T.divIdx!==u.divIdx?(u!==null&&g(u.divIdx,u.offset,d.offset),h(T)):g(u.divIdx,u.offset,T.offset),T.divIdx===D.divIdx)Q=g(T.divIdx,T.offset,D.offset,"highlight"+R);else{Q=g(T.divIdx,T.offset,d.offset,"highlight begin"+R);for(let H=T.divIdx+1,k=D.divIdx;H<k;H++)s[H].className="highlight middle"+R;h(D,"highlight end"+R)}u=D,U&&t.scrollMatchIntoView({element:s[T.divIdx],selectedLeft:Q,pageIndex:r,matchIndex:o})}u&&g(u.divIdx,u.offset,d.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:r,pageIdx:i}=this,{textContentItemsStr:s,textDivs:a}=this;let o=-1;for(const d of r){const h=Math.max(o,d.begin.divIdx);for(let g=h,v=d.end.divIdx;g<=v;g++){const C=a[g];C.textContent=s[g],C.className=""}o=d.end.divIdx+1}if(!(t!=null&&t.highlightMatches)||e)return;const l=t.pageMatches[i]||null,u=t.pageMatchesLength[i]||null;this.matches=this._convertMatches(l,u),this._renderMatches(this.matches)}}_d=new WeakMap;var fE,hE,tp,EA,Cs,Td,M1,PY,fy,RY,DY;const Cc=class Cc{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:r=null,enablePermissions:i=!1,onAppend:s=null}){M(this,M1);M(this,fE,!1);M(this,hE,null);M(this,tp,!1);M(this,EA,null);this.pdfPage=e,this.highlighter=t,this.accessibilityManager=r,_(this,fE,i===!0),_(this,hE,s),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render({viewport:e,textContentParams:t=null}){var a,o,l,u,d;if(f(this,tp)&&f(this,EA)){f(this,EA).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),_(this,EA,new npe({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:r,textContentItemsStr:i}=f(this,EA);(a=this.highlighter)==null||a.setTextMapping(r,i),(o=this.accessibilityManager)==null||o.setTextMapping(r),await f(this,EA).render(),_(this,tp,!0);const s=document.createElement("div");s.className="endOfContent",this.div.append(s),P(this,M1,PY).call(this,s),(l=f(this,hE))==null||l.call(this,this.div),(u=this.highlighter)==null||u.enable(),(d=this.accessibilityManager)==null||d.enable()}hide(){var e;!this.div.hidden&&f(this,tp)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&f(this,tp)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,r,i;(e=f(this,EA))==null||e.cancel(),_(this,EA,null),(t=this.highlighter)==null||t.disable(),(r=this.accessibilityManager)==null||r.disable(),P(i=Cc,fy,RY).call(i,this.div)}};fE=new WeakMap,hE=new WeakMap,tp=new WeakMap,EA=new WeakMap,Cs=new WeakMap,Td=new WeakMap,M1=new WeakSet,PY=function(e){var r;const{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",i=>{if(!f(this,fE)){const s=document.getSelection();i.clipboardData.setData("text/plain",Mw(tpe(s.toString())))}vN(i)}),f(Cc,Cs).set(t,e),P(r=Cc,fy,DY).call(r)},fy=new WeakSet,RY=function(e){var t;f(this,Cs).delete(e),f(this,Cs).size===0&&((t=f(this,Td))==null||t.abort(),_(this,Td,null))},DY=function(){if(f(this,Td))return;_(this,Td,new AbortController);const{signal:e}=f(this,Td),t=(a,o)=>{o.append(a),a.style.width="",a.style.height="",o.classList.remove("selecting")};let r=!1;document.addEventListener("pointerdown",()=>{r=!0},{signal:e}),document.addEventListener("pointerup",()=>{r=!1,f(this,Cs).forEach(t)},{signal:e}),window.addEventListener("blur",()=>{r=!1,f(this,Cs).forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{r||f(this,Cs).forEach(t)},{signal:e});var i,s;document.addEventListener("selectionchange",()=>{var v;const a=document.getSelection();if(a.rangeCount===0){f(this,Cs).forEach(t);return}const o=new Set;for(let C=0;C<a.rangeCount;C++){const b=a.getRangeAt(C);for(const B of f(this,Cs).keys())!o.has(B)&&b.intersectsNode(B)&&o.add(B)}for(const[C,b]of f(this,Cs))o.has(C)?C.classList.add("selecting"):t(b,C);if(i??(i=getComputedStyle(f(this,Cs).values().next().value).getPropertyValue("-moz-user-select")==="none"),i)return;const l=a.getRangeAt(0),u=s&&(l.compareBoundaryPoints(Range.END_TO_END,s)===0||l.compareBoundaryPoints(Range.START_TO_END,s)===0);let d=u?l.startContainer:l.endContainer;if(d.nodeType===Node.TEXT_NODE&&(d=d.parentNode),!u&&l.endOffset===0)do{for(;!d.previousSibling;)d=d.parentNode;d=d.previousSibling}while(!d.childNodes.length);const h=(v=d.parentElement)==null?void 0:v.closest(".textLayer"),g=f(this,Cs).get(h);g&&(g.style.width=h.style.width,g.style.height=h.style.height,d.parentElement.insertBefore(g,u?d:d.nextSibling)),s=l.cloneRange()},{signal:e})},M(Cc,fy),M(Cc,Cs,new Map),M(Cc,Td,null);let lT=Cc;class NY{constructor({pdfPage:e,annotationStorage:t=null,linkService:r,xfaHtml:i=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=r,this.xfaHtml=i,this.div=null,this._cancelled=!1}async render({viewport:e,intent:t="display"}){if(t==="print"){const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,hU.render(s)}const r=await this.pdfPage.getXfa();if(this._cancelled||!r)return{textDivs:[]};const i={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:r,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?hU.update(i):(this.div=document.createElement("div"),i.div=this.div,hU.render(i))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const $ge={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new WQ}},jge=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var Id,Fd,pE,gE,Hv,mE,Md,Yl,Vv,vE,yE,wE,Kv,bE,Xl,Ud,gt,Ug,P_,gw,VN,KN,GN,zN,qN,QY,kY,OY,$N;class LY extends TY{constructor(t){var a,o;super(t);M(this,gt);M(this,Id,_A.ENABLE_FORMS);M(this,Fd,null);M(this,pE,null);M(this,gE,!0);M(this,Hv,!1);M(this,mE,!1);M(this,Md,null);M(this,Yl,!1);M(this,Vv,null);M(this,vE,null);M(this,yE,1);M(this,wE,1);M(this,Kv,SA.ENABLE);M(this,bE,1);M(this,Xl,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});M(this,Ud,[null,null,null,null]);const r=t.container,i=t.defaultViewport;this.renderingId="page"+this.id,_(this,Md,t.layerProperties||$ge),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||tY,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,_(this,Kv,t.textLayerMode??SA.ENABLE),_(this,Id,t.annotationMode??_A.ENABLE_FORMS),this.imageResourcesPath=t.imageResourcesPath||"",this.enableDetailCanvas=t.enableDetailCanvas??!0,this.maxCanvasPixels=t.maxCanvasPixels??Uw.get("maxCanvasPixels"),this.maxCanvasDim=t.maxCanvasDim||Uw.get("maxCanvasDim"),this.capCanvasAreaFactor=t.capCanvasAreaFactor??Uw.get("capCanvasAreaFactor"),_(this,gE,t.enableAutoLinking!==!1),_(this,pE,t.commentManager||null),this.l10n=t.l10n,this.l10n||(this.l10n=new Zv),this._isStandalone=!((a=this.renderingQueue)!=null&&a.hasViewer()),this._container=r,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null,this.detailView=null;const s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,P(this,gt,P_).call(this),r==null||r.append(s),this._isStandalone){r==null||r.style.setProperty("--scale-factor",this.scale*ul.PDF_TO_CSS_UNITS),(o=this.pageColors)!=null&&o.background&&(r==null||r.style.setProperty("--page-bg-color",this.pageColors.background));const{optionalContentConfigPromise:l}=t;l&&l.then(u=>{l===this._optionalContentConfigPromise&&(f(this,Xl).initialOptionalContent=u.hasInitialVisibility)}),t.l10n||this.l10n.translate(this.div)}}setPdfPage(t){var i,s,a,o;this._isStandalone&&(((i=this.pageColors)==null?void 0:i.foreground)==="CanvasText"||((s=this.pageColors)==null?void 0:s.background)==="Canvas")&&((a=this._container)==null||a.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(o=this._container)==null||o.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=t,this.pdfPageRotate=t.rotate;const r=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*ul.PDF_TO_CSS_UNITS,rotation:r}),P(this,gt,P_).call(this),this.reset()}destroy(){var t;this.reset(),(t=this.pdfPage)==null||t.cleanup()}hasEditableAnnotations(){var t;return!!((t=this.annotationLayer)!=null&&t.hasEditableAnnotations())}get _textHighlighter(){return zw(this,"_textHighlighter",new qge({pageIndex:this.id-1,eventBus:this.eventBus,findController:f(this,Md).findController}))}_resetCanvas(){super._resetCanvas(),_(this,Vv,null)}reset({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:r=!1,keepXfaLayer:i=!1,keepTextLayer:s=!1,keepCanvasWrapper:a=!1,preserveDetailViewState:o=!1}={}){var B,S,I,T,D,U,R;const l=((B=this.pdfPage)==null?void 0:B._pdfBug)??!1;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:r,keepXfaLayer:i,keepTextLayer:s}),this.renderingState=Lt.INITIAL;const u=this.div,d=u.childNodes,h=t&&((S=this.annotationLayer)==null?void 0:S.div)||null,g=r&&((I=this.annotationEditorLayer)==null?void 0:I.div)||null,v=i&&((T=this.xfaLayer)==null?void 0:T.div)||null,C=s&&((D=this.textLayer)==null?void 0:D.div)||null,b=a&&f(this,Fd)||null;for(let Q=d.length-1;Q>=0;Q--){const H=d[Q];switch(H){case h:case g:case v:case C:case b:continue}if(l&&H.classList.contains("pdfBugGroupsLayer"))continue;H.remove();const k=f(this,Ud).indexOf(H);k>=0&&(f(this,Ud)[k]=null)}u.removeAttribute("data-loaded"),h&&this.annotationLayer.hide(),g&&this.annotationEditorLayer.hide(),v&&this.xfaLayer.hide(),C&&this.textLayer.hide(),(U=this.structTreeLayer)==null||U.hide(),!a&&f(this,Fd)&&(_(this,Fd,null),this._resetCanvas()),o||((R=this.detailView)==null||R.reset({keepCanvas:a}),a||(this.detailView=null))}toggleEditingMode(t){_(this,mE,t),this.hasEditableAnnotations()&&this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0})}updateVisibleArea(t){this.enableDetailCanvas&&(f(this,Yl)&&this.maxCanvasPixels>0&&t?(this.detailView??(this.detailView=new Gge({pageView:this,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering})),this.detailView.update({visibleArea:t})):this.detailView&&(this.detailView.reset(),this.detailView=null))}update({scale:t=0,rotation:r=null,optionalContentConfigPromise:i=null,drawingDelay:s=-1}){var o,l,u;this.scale=t||this.scale,typeof r=="number"&&(this.rotation=r),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(d=>{i===this._optionalContentConfigPromise&&(f(this,Xl).initialOptionalContent=d.hasInitialVisibility)})),f(this,Xl).directDrawing=!0;const a=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*ul.PDF_TO_CSS_UNITS,rotation:a}),P(this,gt,P_).call(this),this._isStandalone&&((o=this._container)==null||o.style.setProperty("--scale-factor",this.viewport.scale)),P(this,gt,$N).call(this),this.canvas){const d=f(this,Hv)&&f(this,Yl),h=s>=0&&s<1e3;if(h||d){h&&!d&&this.renderingState!==Lt.FINISHED&&(this.cancelRendering({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=Lt.FINISHED,f(this,Xl).directDrawing=!1),this.cssTransform({redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h}),h||((l=this.detailView)==null||l.update({underlyingViewUpdated:!0}),this.dispatchPageRendered(!0,!1));return}}this.cssTransform({}),this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0,preserveDetailViewState:!0}),(u=this.detailView)==null||u.update({underlyingViewUpdated:!0})}cancelRendering({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:r=!1,keepXfaLayer:i=!1,keepTextLayer:s=!1,cancelExtraDelay:a=0}={}){var o;super.cancelRendering({cancelExtraDelay:a}),this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!t||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!r||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(o=this._textHighlighter)==null||o.disable())}cssTransform({redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:r=!1,redrawXfaLayer:i=!1,redrawTextLayer:s=!1,hideTextLayer:a=!1}){var u;const{canvas:o}=this;if(!o)return;const l=f(this,Vv);if(this.viewport!==l){const d=(360+this.viewport.rotation-l.rotation)%360;if(d===90||d===270){const{width:h,height:g}=this.viewport,v=g/h,C=h/g;o.style.transform=`rotate(${d}deg) scale(${v},${C})`}else o.style.transform=d===0?"":`rotate(${d}deg)`}t&&this.annotationLayer&&P(this,gt,VN).call(this),r&&this.annotationEditorLayer&&(this.drawLayer&&P(this,gt,GN).call(this),P(this,gt,KN).call(this)),i&&this.xfaLayer&&P(this,gt,zN).call(this),this.textLayer&&(a?(this.textLayer.hide(),(u=this.structTreeLayer)==null||u.hide()):s&&P(this,gt,qN).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,r){return this.viewport.convertToPdfPoint(t,r)}_ensureCanvasWrapper(){let t=f(this,Fd);return t||(t=_(this,Fd,document.createElement("div")),t.classList.add("canvasWrapper"),P(this,gt,Ug).call(this,t,"canvasWrapper")),t}_getRenderingContext(t,r,i){return{canvas:t,transform:r,viewport:this.viewport,annotationMode:f(this,Id),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors,isEditing:f(this,mE),recordOperations:i}}async draw(){this.renderingState!==Lt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,l10n:r,pdfPage:i,viewport:s}=this;if(!i)throw this.renderingState=Lt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Lt.RUNNING;const a=this._ensureCanvasWrapper();if(!this.textLayer&&f(this,Kv)!==SA.DISABLE&&!i.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new ON),this.textLayer=new lT({pdfPage:i,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:f(this,Kv)===SA.ENABLE_PERMISSIONS,onAppend:U=>{this.l10n.pause(),P(this,gt,Ug).call(this,U,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&f(this,Id)!==_A.DISABLE){const{annotationStorage:U,annotationEditorUIManager:R,downloadManager:Q,enableComment:H,enableScripting:k,fieldObjectsPromise:G,hasJSActionsPromise:K,linkService:z}=f(this,Md);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new dY({pdfPage:i,annotationStorage:U,imageResourcesPath:this.imageResourcesPath,renderForms:f(this,Id)===_A.ENABLE_FORMS,linkService:z,downloadManager:Q,enableComment:H,enableScripting:k,hasJSActionsPromise:K,fieldObjectsPromise:G,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:R,commentManager:f(this,pE),onAppend:Z=>{P(this,gt,Ug).call(this,Z,"annotationLayer")}})}const{width:o,height:l}=s;_(this,Vv,s);const{canvas:u,prevCanvas:d}=this._createCanvas(U=>{a.prepend(U)});u.setAttribute("role","presentation"),this.outputScale||P(this,gt,$N).call(this);const{outputScale:h}=this;_(this,Hv,f(this,Yl));const g=ZK(h.sx),v=ZK(h.sy),C=u.width=$S(jS(o*h.sx),g[0]),b=u.height=$S(jS(l*h.sy),v[0]),B=$S(jS(o),g[1]),S=$S(jS(l),v[1]);h.sx=C/B,h.sy=b/S,f(this,yE)!==g[1]&&(t.style.setProperty("--scale-round-x",`${g[1]}px`),_(this,yE,g[1])),f(this,wE)!==v[1]&&(t.style.setProperty("--scale-round-y",`${v[1]}px`),_(this,wE,v[1]));const I=this.enableOptimizedPartialRendering&&f(this,Hv)&&!this.recordedBBoxes,T=h.scaled?[h.sx,0,0,h.sy,0,0]:null,D=this._drawCanvas(this._getRenderingContext(u,T,I),()=>{d==null||d.remove(),this._resetCanvas()},U=>{f(this,Xl).regularAnnotations=!U.separateAnnots,this.dispatchPageRendered(!1,!1)}).then(async()=>{var Q;if(this.renderingState!==Lt.FINISHED)return;this.structTreeLayer||(this.structTreeLayer=new MY(i,s.rawDims));const U=P(this,gt,qN).call(this);this.annotationLayer&&(await P(this,gt,VN).call(this),f(this,gE)&&this.annotationLayer&&this.textLayer&&await P(this,gt,OY).call(this,U));const{annotationEditorUIManager:R}=f(this,Md);R&&(this.drawLayer||(this.drawLayer=new Kge({pageIndex:this.id})),await P(this,gt,GN).call(this),this.drawLayer.setParent(a),(this.annotationLayer||f(this,Id)===_A.DISABLE)&&(this.annotationEditorLayer||(this.annotationEditorLayer=new Oge({uiManager:R,pdfPage:i,l10n:r,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:(Q=this.annotationLayer)==null?void 0:Q.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:H=>{P(this,gt,Ug).call(this,H,"annotationEditorLayer")}})),P(this,gt,KN).call(this)))});if(i.isPureXfa){if(!this.xfaLayer){const{annotationStorage:U,linkService:R}=f(this,Md);this.xfaLayer=new NY({pdfPage:i,annotationStorage:U,linkService:R})}P(this,gt,zN).call(this)}return t.setAttribute("data-loaded",!0),this.dispatchPageRender(),D}setPageLabel(t){this.pageLabel=typeof t=="string"?t:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:t,initialOptionalContent:r,regularAnnotations:i}=f(this,Xl);return t&&r&&i?this.canvas:null}}Id=new WeakMap,Fd=new WeakMap,pE=new WeakMap,gE=new WeakMap,Hv=new WeakMap,mE=new WeakMap,Md=new WeakMap,Yl=new WeakMap,Vv=new WeakMap,vE=new WeakMap,yE=new WeakMap,wE=new WeakMap,Kv=new WeakMap,bE=new WeakMap,Xl=new WeakMap,Ud=new WeakMap,gt=new WeakSet,Ug=function(t,r){const i=jge.get(r),s=f(this,Ud)[i];if(f(this,Ud)[i]=t,s){s.replaceWith(t);return}for(let a=i-1;a>=0;a--){const o=f(this,Ud)[a];if(o){o.after(t);return}}this.div.prepend(t)},P_=function(){const{div:t,viewport:r}=this;if(r.userUnit!==f(this,bE)&&(r.userUnit!==1?t.style.setProperty("--user-unit",r.userUnit):t.style.removeProperty("--user-unit"),_(this,bE,r.userUnit)),this.pdfPage){if(f(this,vE)===r.rotation)return;_(this,vE,r.rotation)}eY(t,r,!0,!1)},gw=function(t,r){this.eventBus.dispatch(t,{source:this,pageNumber:this.id,error:r})},VN=async function(){let t=null;try{await this.annotationLayer.render({viewport:this.viewport,intent:"display",structTreeLayer:this.structTreeLayer})}catch(r){console.error("#renderAnnotationLayer:",r),t=r}finally{P(this,gt,gw).call(this,"annotationlayerrendered",t)}},KN=async function(){let t=null;try{await this.annotationEditorLayer.render({viewport:this.viewport,intent:"display"})}catch(r){console.error("#renderAnnotationEditorLayer:",r),t=r}finally{P(this,gt,gw).call(this,"annotationeditorlayerrendered",t)}},GN=async function(){try{await this.drawLayer.render({intent:"display"})}catch(t){console.error("#renderDrawLayer:",t)}},zN=async function(){var r;let t=null;try{const i=await this.xfaLayer.render({viewport:this.viewport,intent:"display"});i!=null&&i.textDivs&&this._textHighlighter&&P(this,gt,kY).call(this,i.textDivs)}catch(i){console.error("#renderXfaLayer:",i),t=i}finally{(r=this.xfaLayer)!=null&&r.div&&(this.l10n.pause(),P(this,gt,Ug).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),P(this,gt,gw).call(this,"xfalayerrendered",t)}},qN=async function(){if(!this.textLayer)return;let t=null;try{await this.textLayer.render({viewport:this.viewport})}catch(r){if(r instanceof $he)return;console.error("#renderTextLayer:",r),t=r}P(this,gt,gw).call(this,"textlayerrendered",t),P(this,gt,QY).call(this)},QY=async function(){var r,i,s;if(!this.textLayer)return;const t=await((r=this.structTreeLayer)==null?void 0:r.render());t&&(this.l10n.pause(),(i=this.structTreeLayer)==null||i.addElementsToTextLayer(),this.canvas&&t.parentNode!==this.canvas&&this.canvas.append(t),this.l10n.resume()),(s=this.structTreeLayer)==null||s.show()},kY=async function(t){const r=await this.pdfPage.getTextContent(),i=[];for(const s of r.items)i.push(s.str);this._textHighlighter.setTextMapping(t,i),this._textHighlighter.enable()},OY=async function(t){try{if(await t,!this.annotationLayer)return;await this.annotationLayer.injectLinkAnnotations(NN.processLinks(this))}catch(r){console.error("#injectLinkAnnotations:",r)}},$N=function(){const{width:t,height:r}=this.viewport,i=this.outputScale=new S_;if(this.maxCanvasPixels===0){const s=1/this.scale;i.sx*=s,i.sy*=s,_(this,Yl,!0)}else if(_(this,Yl,i.limitCanvas(t,r,this.maxCanvasPixels,this.maxCanvasDim,this.capCanvasAreaFactor)),f(this,Yl)&&this.enableDetailCanvas){const s=this.enableOptimizedPartialRendering?4:2;i.sx/=s,i.sy/=s}};async function Wge(n){const{info:r,metadata:i,contentDispositionFilename:s,contentLength:a}=await n.getMetadata();return{...r,baseURL:"",filesize:a||(await n.getDownloadInfo()).length,filename:s||Jhe(""),metadata:i==null?void 0:i.getRaw(),authors:i==null?void 0:i.get("dc:creator"),numPages:n.numPages,URL:""}}class Yge{constructor(e){this._ready=new Promise((t,r)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(r)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}var BA,np,CE,rp,ip,EE,Wi,Jl,Gv,Dr,$a,ni,HY,R_,jN,VY,mw;class Xge{constructor({eventBus:e,externalServices:t=null,docProperties:r=null}){M(this,ni);M(this,BA,null);M(this,np,null);M(this,CE,null);M(this,rp,null);M(this,ip,null);M(this,EE,null);M(this,Wi,null);M(this,Jl,null);M(this,Gv,!1);M(this,Dr,null);M(this,$a,null);_(this,ip,e),_(this,EE,t),_(this,CE,r)}setViewer(e){_(this,Jl,e)}async setDocument(e){var o;if(f(this,Wi)&&await P(this,ni,mw).call(this),_(this,Wi,e),!e)return;const[t,r,i]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!i){await P(this,ni,mw).call(this);return}if(e!==f(this,Wi))return;try{_(this,Dr,P(this,ni,VY).call(this))}catch(l){console.error("setDocument:",l),await P(this,ni,mw).call(this);return}const s=f(this,ip);_(this,rp,new AbortController);const{signal:a}=f(this,rp);s._on("updatefromsandbox",l=>{(l==null?void 0:l.source)===window&&P(this,ni,HY).call(this,l.detail)},{signal:a}),s._on("dispatcheventinsandbox",l=>{var u;(u=f(this,Dr))==null||u.dispatchEventInSandbox(l.detail)},{signal:a}),s._on("pagechanging",({pageNumber:l,previous:u})=>{l!==u&&(P(this,ni,jN).call(this,u),P(this,ni,R_).call(this,l))},{signal:a}),s._on("pagerendered",({pageNumber:l})=>{this._pageOpenPending.has(l)&&l===f(this,Jl).currentPageNumber&&P(this,ni,R_).call(this,l)},{signal:a}),s._on("pagesdestroy",async()=>{var l,u;await P(this,ni,jN).call(this,f(this,Jl).currentPageNumber),await((l=f(this,Dr))==null?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(u=f(this,BA))==null||u.resolve()},{signal:a});try{const l=await f(this,CE).call(this,e);if(e!==f(this,Wi))return;await f(this,Dr).createSandbox({objects:t,calculationOrder:r,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:i}}),s.dispatch("sandboxcreated",{source:this})}catch(l){console.error("setDocument:",l),await P(this,ni,mw).call(this);return}await((o=f(this,Dr))==null?void 0:o.dispatchEventInSandbox({id:"doc",name:"Open"})),await P(this,ni,R_).call(this,f(this,Jl).currentPageNumber,!0),Promise.resolve().then(()=>{e===f(this,Wi)&&_(this,Gv,!0)})}async dispatchWillSave(){var e;return(e=f(this,Dr))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=f(this,Dr))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(f(this,Dr)){await((e=f(this,$a))==null?void 0:e.promise),_(this,$a,Promise.withResolvers());try{await f(this,Dr).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw f(this,$a).resolve(),_(this,$a,null),t}await f(this,$a).promise}}async dispatchDidPrint(){var e;return(e=f(this,Dr))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=f(this,np))==null?void 0:e.promise)||null}get ready(){return f(this,Gv)}get _pageOpenPending(){return zw(this,"_pageOpenPending",new Set)}get _visitedPages(){return zw(this,"_visitedPages",new Map)}}BA=new WeakMap,np=new WeakMap,CE=new WeakMap,rp=new WeakMap,ip=new WeakMap,EE=new WeakMap,Wi=new WeakMap,Jl=new WeakMap,Gv=new WeakMap,Dr=new WeakMap,$a=new WeakMap,ni=new WeakSet,HY=async function(e){var u,d;const t=f(this,Jl),r=t.isInPresentationMode||t.isChangingPresentationMode,{id:i,siblings:s,command:a,value:o}=e;if(!i){switch(a){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(!r){const h=ppe(o);t.spreadMode=h.spreadMode}break;case"page-num":t.currentPageNumber=o+1;break;case"print":await t.pagesPromise,f(this,ip).dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":r||(t.currentScaleValue=o);break;case"SaveAs":f(this,ip).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":r||t.increaseScale();break;case"ZoomViewOut":r||t.decreaseScale();break;case"WillPrintFinished":(u=f(this,$a))==null||u.resolve(),_(this,$a,null);break}return}if(r&&e.focus)return;delete e.id,delete e.siblings;const l=s?[i,...s]:[i];for(const h of l){const g=document.querySelector(`[data-element-id="${h}"]`);g?g.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(d=f(this,Wi))==null||d.annotationStorage.setValue(h,e)}},R_=async function(e,t=!1){const r=f(this,Wi),i=this._visitedPages;if(t&&_(this,BA,Promise.withResolvers()),!f(this,BA))return;const s=f(this,Jl).getPageView(e-1);if((s==null?void 0:s.renderingState)!==Lt.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const a=(async()=>{var l,u;const o=await(i.has(e)?null:(l=s.pdfPage)==null?void 0:l.getJSActions());r===f(this,Wi)&&await((u=f(this,Dr))==null?void 0:u.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:o}))})();i.set(e,a)},jN=async function(e){var s;const t=f(this,Wi),r=this._visitedPages;if(!f(this,BA)||this._pageOpenPending.has(e))return;const i=r.get(e);i&&(r.set(e,null),await i,t===f(this,Wi)&&await((s=f(this,Dr))==null?void 0:s.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},VY=function(){if(_(this,np,Promise.withResolvers()),f(this,Dr))throw new Error("#initScripting: Scripting already exists.");return f(this,EE).createScripting()},mw=async function(){var e,t,r,i;if(!f(this,Dr)){_(this,Wi,null),(e=f(this,np))==null||e.resolve();return}f(this,BA)&&(await Promise.race([f(this,BA).promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),_(this,BA,null)),_(this,Wi,null);try{await f(this,Dr).destroySandbox()}catch{}(t=f(this,$a))==null||t.reject(new Error("Scripting destroyed.")),_(this,$a,null),(r=f(this,rp))==null||r.abort(),_(this,rp,null),this._pageOpenPending.clear(),this._visitedPages.clear(),_(this,Dr,null),_(this,Gv,!1),(i=f(this,np))==null||i.resolve()};class Jge extends Xge{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new Yge(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>Wge(t)),super(e)}}const Zge=3e4;class eme{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),Zge)))}getHighestPriority(e,t,r,i=!1,s=!1){const a=e.views,o=a.length;if(o===0)return null;for(let g=0;g<o;g++){const v=a[g].view;if(!this.isViewFinished(v))return v}if(!s)for(let g=0;g<o;g++){const{detailView:v}=a[g].view;if(v&&!this.isViewFinished(v))return v}const l=e.first.id,u=e.last.id;if(u-l+1>o){const g=e.ids;for(let v=1,C=u-l;v<C;v++){const b=r?l+v:u-v;if(g.has(b))continue;const B=t[b-1];if(!this.isViewFinished(B))return B}}let d=r?u:l-2,h=t[d];return h&&!this.isViewFinished(h)||i&&(d+=r?1:-1,h=t[d],h&&!this.isViewFinished(h))?h:null}isViewFinished(e){return e.renderingState===Lt.FINISHED}renderView(e){switch(e.renderingState){case Lt.FINISHED:return!1;case Lt.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case Lt.RUNNING:this.highestPriorityPage=e.renderingId;break;case Lt.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof mN||console.error("renderView:",t)});break}return!0}}const SG=10,XS={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function xG(n){return Object.values(fs).includes(n)&&n!==fs.DISABLE}var Zl,sp,BE,WN;class tme{constructor(e){M(this,BE);M(this,Zl,new Set);M(this,sp,0);_(this,sp,e)}push(e){const t=f(this,Zl);t.has(e)&&t.delete(e),t.add(e),t.size>f(this,sp)&&P(this,BE,WN).call(this)}resize(e,t=null){_(this,sp,e);const r=f(this,Zl);if(t){const i=r.size;let s=1;for(const a of r)if(t.has(a.id)&&(r.delete(a),r.add(a)),++s>i)break}for(;r.size>f(this,sp);)P(this,BE,WN).call(this)}has(e){return f(this,Zl).has(e)}[Symbol.iterator](){return f(this,Zl).keys()}}Zl=new WeakMap,sp=new WeakMap,BE=new WeakSet,WN=function(){const e=f(this,Zl).keys().next().value;e==null||e.destroy(),f(this,Zl).delete(e)};var eu,SE,xE,ja,ia,ap,op,_E,TE,IE,FE,ME,UE,PE,RE,Pd,DE,zv,tu,Fo,Ap,lp,qv,Rd,$v,NE,jv,up,nu,Wv,LE,Yv,QE,$e,KY,GY,zY,vw,D_,qY,YN,$Y,gc,XN,jY,WY,YY,JN,XY,ZN,N_,eL;class XQ{constructor(e){M(this,$e);M(this,eu,null);M(this,SE,null);M(this,xE,null);M(this,ja,fs.NONE);M(this,ia,null);M(this,ap,_A.ENABLE_FORMS);M(this,op,null);M(this,_E,null);M(this,TE,null);M(this,IE,!1);M(this,FE,!1);M(this,ME,!1);M(this,UE,!1);M(this,PE,!1);M(this,RE,!0);M(this,Pd,null);M(this,DE,0);M(this,zv,null);M(this,tu,!0);M(this,Fo,null);M(this,Ap,null);M(this,lp,null);M(this,qv,!1);M(this,Rd,null);M(this,$v,!1);M(this,NE,0);M(this,jv,new ResizeObserver(P(this,$e,XY).bind(this)));M(this,up,null);M(this,nu,null);M(this,Wv,null);M(this,LE,!0);M(this,Yv,SA.ENABLE);M(this,QE,null);var i,s;const t="5.4.449";if(jK!==t)throw new Error(`The API version "${jK}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,_(this,QE,e.viewerAlert||null),((i=this.container)==null?void 0:i.tagName)!=="DIV"||((s=this.viewer)==null?void 0:s.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");f(this,jv).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new WQ,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,_(this,SE,e.altTextManager||null),_(this,op,e.commentManager||null),_(this,Wv,e.signatureManager||null),_(this,TE,e.editorUndoBar||null),this.findController&&(this.findController.onIsPageVisible=a=>this._getVisiblePages().ids.has(a)),this._scriptingManager=e.scriptingManager||null,_(this,Yv,e.textLayerMode??SA.ENABLE),_(this,ap,e.annotationMode??_A.ENABLE_FORMS),_(this,ja,e.annotationEditorMode??fs.NONE),_(this,xE,e.annotationEditorHighlightColors||null),_(this,FE,e.enableHighlightFloatingButton===!0),_(this,UE,e.enableUpdatedAddImage===!0),_(this,PE,e.enableNewAltTextWhenAddingImage===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.maxCanvasDim=e.maxCanvasDim,this.capCanvasAreaFactor=e.capCanvasAreaFactor,this.enableDetailCanvas=e.enableDetailCanvas??!0,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,this.l10n=e.l10n,this.l10n||(this.l10n=new Zv),_(this,ME,e.enablePermissions||!1),this.pageColors=e.pageColors||null,_(this,zv,e.mlManager||null),_(this,IE,e.enableHWA||!1),_(this,LE,e.supportsPinchToZoom!==!1),_(this,RE,e.enableAutoLinking!==!1),_(this,DE,e.minDurationToUpdateCanvas??500),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new eme,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:r}=e;r==null||r.addEventListener("abort",()=>{f(this,jv).disconnect(),_(this,jv,null)},{once:!0}),this.scroll=Ape(this.container,this._scrollUpdate.bind(this),r),this.presentationModeState=Yg.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),P(this,$e,JN).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:a,pdfPage:o})=>{const l=this._pages[a-1];f(this,eu).has(l)||o==null||o.cleanup()}),e.l10n||this.l10n.translate(this.container)}get printingAllowed(){return f(this,tu)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(f(this,eu))}get pageViewsReady(){return this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return f(this,ap)===_A.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var i;if(this._currentPageNumber===e)return t&&P(this,$e,XN).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const r=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((i=this._pageLabels)==null?void 0:i[e-1])??null,previous:r}),t&&P(this,$e,XN).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const r=this._pageLabels.indexOf(e);r>=0&&(t=r+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==pU?this._currentScale:tY}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&P(this,$e,gc).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&P(this,$e,gc).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!rY(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&P(this,$e,gc).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return zw(this,"_layerProperties",{get annotationEditorUIManager(){return f(e,ia)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableComment(){return!!f(e,op)},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let r=1,i=this.pdfDocument.numPages;r<=i;++r){if(f(this,$v))return null;t.length=0;const s=await this.pdfDocument.getPage(r),{items:a}=await s.getTextContent();for(const o of a)o.str&&t.push(o.str),o.hasEOL&&t.push(`
`);e.push(Mw(t.join("")))}return e.join(`
`)}setDocument(e){var g,v,C;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(g=this.findController)==null||g.setDocument(null),(v=this._scriptingManager)==null||v.setDocument(null),(C=f(this,ia))==null||C.destroy(),_(this,ia,null),_(this,ja,fs.NONE),_(this,tu,!0)),this.pdfDocument=e,!e)return;const t=e.numPages,r=e.getPage(1),i=e.getOptionalContentConfig({intent:"display"}),s=f(this,ME)?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:o,viewer:l}=this;_(this,Pd,new AbortController);const{signal:u}=f(this,Pd);if(t>XS.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const b=this._scrollMode=Ft.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:b})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});const d=b=>{const B=this._pages[b.pageNumber-1];B&&f(this,eu).push(B)};a._on("pagerender",d,{signal:u});const h=b=>{b.cssTransform||b.isDetailView||(this._onePageRenderedCapability.resolve({timestamp:b.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:u}),Promise.all([r,s]).then(([b,B])=>{var Q;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(b),this._optionalContentConfigPromise=i;const{annotationEditorMode:S,annotationMode:I,textLayerMode:T}=P(this,$e,KY).call(this,B);if(T!==SA.DISABLE){const H=_(this,Rd,document.createElement("div"));H.id="hiddenCopyElement",l.before(H)}if(S!==fs.DISABLE){const H=S;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):xG(H)?(_(this,ia,new Whe(this.container,l,f(this,QE),f(this,SE),f(this,op),f(this,Wv),a,e,o,f(this,xE),f(this,FE),f(this,UE),f(this,PE),f(this,zv),f(this,TE),f(this,LE))),a.dispatch("annotationeditoruimanager",{source:this,uiManager:f(this,ia)}),H!==fs.NONE&&(P(this,$e,eL).call(this,H),f(this,ia).updateMode(H))):console.error(`Invalid AnnotationEditor mode: ${H}`)}const D=this._scrollMode===Ft.PAGE?null:l,U=this.currentScale,R=b.getViewport({scale:U*ul.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",R.scale),o!=null&&o.background&&l.style.setProperty("--page-bg-color",o.background),((o==null?void 0:o.foreground)==="CanvasText"||(o==null?void 0:o.background)==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let H=1;H<=t;++H){const k=new LY({container:D,eventBus:a,id:H,scale:U,defaultViewport:R.clone(),optionalContentConfigPromise:i,renderingQueue:this.renderingQueue,textLayerMode:T,annotationMode:I,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,maxCanvasDim:this.maxCanvasDim,capCanvasAreaFactor:this.capCanvasAreaFactor,enableDetailCanvas:this.enableDetailCanvas,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering,pageColors:o,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:f(this,IE),enableAutoLinking:f(this,RE),minDurationToUpdateCanvas:f(this,DE),commentManager:f(this,op)});this._pages.push(k)}(Q=this._pages[0])==null||Q.setPdfPage(b),this._scrollMode===Ft.PAGE?P(this,$e,vw).call(this):this._spreadMode!==dr.NONE&&this._updateSpreadMode(),a._on("annotationeditorlayerrendered",H=>{f(this,ia)&&a.dispatch("annotationeditormodechanged",{source:this,mode:f(this,ja)})},{once:!0,signal:u}),P(this,$e,GY).call(this,u).then(async()=>{var k,G;if(e!==this.pdfDocument)return;if((k=this.findController)==null||k.setDocument(e),(G=this._scriptingManager)==null||G.setDocument(e),f(this,Rd)&&document.addEventListener("copy",P(this,$e,zY).bind(this,T),{signal:u}),e.loadingParams.disableAutoFetch||t>XS.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let H=t-1;if(H<=0){this._pagesCapability.resolve();return}for(let K=2;K<=t;++K){const z=e.getPage(K).then(Z=>{const Y=this._pages[K-1];Y.pdfPage||Y.setPdfPage(Z),--H===0&&this._pagesCapability.resolve()},Z=>{console.error(`Unable to get page ${K} to initialize viewer`,Z),--H===0&&this._pagesCapability.resolve()});K%XS.PAUSE_EAGER_PAGE_INIT===0&&await z}}),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:H})=>{e===this.pdfDocument&&H.Language&&(l.lang=H.Language)}),this.defaultRenderingQueue&&this.update()}).catch(b=>{console.error("Unable to initialize viewer",b),this._pagesCapability.reject(b)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let r=0,i=this._pages.length;r<i;r++)this._pages[r].setPageLabel(((t=this._pageLabels)==null?void 0:t[r])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=pU,this._currentScaleValue=null,this._pageLabels=null,_(this,eu,new tme(SG)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=Ft.VERTICAL,this._previousScrollMode=Ft.UNKNOWN,this._spreadMode=dr.NONE,_(this,up,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=f(this,Pd))==null||e.abort(),_(this,Pd,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=f(this,Rd))==null||t.remove(),_(this,Rd,null),P(this,$e,ZN).call(this),P(this,$e,N_).call(this)}_scrollUpdate(){this.pagesCount!==0&&(f(this,Fo)&&clearTimeout(f(this,Fo)),_(this,Fo,setTimeout(()=>{_(this,Fo,null),this.update()},100)),this.update())}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:r=!1,ignoreDestinationZoom:i=!1,center:s=null}){if(!this.pdfDocument)return;const a=Number.isInteger(e)&&this._pages[e-1];if(!a){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let o=0,l=0,u=0,d=0,h,g;const v=a.rotation%180!==0,C=(v?a.height:a.width)/a.scale/ul.PDF_TO_CSS_UNITS,b=(v?a.width:a.height)/a.scale/ul.PDF_TO_CSS_UNITS;let B=0;switch(t[1].name){case"XYZ":o=t[2],l=t[3],B=t[4],o=o!==null?o:0,l=l!==null?l:b;break;case"Fit":case"FitB":B="page-fit";break;case"FitH":case"FitBH":l=t[2],B="page-width",l===null&&this._location?(o=this._location.left,l=this._location.top):(typeof l!="number"||l<0)&&(l=b);break;case"FitV":case"FitBV":o=t[2],u=C,d=b,B="page-height";break;case"FitR":o=t[2],l=t[3],u=t[4]-o,d=t[5]-l;let D=YK,U=XK;this.removePageBorders&&(D=U=0),h=(this.container.clientWidth-D)/u/ul.PDF_TO_CSS_UNITS,g=(this.container.clientHeight-U)/d/ul.PDF_TO_CSS_UNITS,B=Math.min(Math.abs(h),Math.abs(g));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(i||(B&&B!==this._currentScale?this.currentScaleValue=B:this._currentScale===pU&&(this.currentScaleValue=ipe)),B==="page-fit"&&!t[4]){P(this,$e,D_).call(this,a);return}const S=[a.viewport.convertToViewportPoint(o,l),a.viewport.convertToViewportPoint(o+u,l+d)];let I=Math.min(S[0][0],S[1][0]),T=Math.min(S[0][1],S[1][1]);s?((s==="both"||s==="vertical")&&(T-=(this.container.clientHeight-Math.abs(S[1][1]-S[0][1]))/2),(s==="both"||s==="horizontal")&&(I-=(this.container.clientWidth-Math.abs(S[1][0]-S[0][0]))/2)):r||(I=Math.max(I,0),T=Math.max(T,0)),P(this,$e,D_).call(this,a,{left:I,top:T})}_updateLocation(e){const t=this._currentScale,r=this._currentScaleValue,i=parseFloat(r)===t?Math.round(t*1e4)/100:r,s=e.id,a=this._pages[s-1],o=this.container,l=a.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),u=Math.round(l[0]),d=Math.round(l[1]);let h=`#page=${s}`;this.isInPresentationMode||(h+=`&zoom=${i},${u},${d}`),this._location={pageNumber:s,scale:i,top:d,left:u,rotation:this._pagesRotation,pdfOpenParams:h}}update(){const e=this._getVisiblePages(),t=e.views,r=t.length;if(r===0)return;const i=Math.max(SG,2*r+1);f(this,eu).resize(i,e.ids);for(const{view:l,visibleArea:u}of t)l.updateVisibleArea(u);for(const l of f(this,eu))e.ids.has(l.id)||l.updateVisibleArea(null);this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===dr.NONE&&(this._scrollMode===Ft.PAGE||this._scrollMode===Ft.VERTICAL),a=this._currentPageNumber;let o=!1;for(const l of t){if(l.percent<100)break;if(l.id===a&&s){o=!0;break}}this._setCurrentPageNumber(o?a:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===Yg.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===Yg.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===Ft.PAGE?f(this,up).pages:this._pages,t=this._scrollMode===Ft.HORIZONTAL,r=t&&this._isContainerRtl;return upe({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:r})}cleanup(){for(const e of this._pages)e.renderingState!==Lt.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),r=P(this,$e,YY).call(this,t),i=this._spreadMode!==dr.NONE&&this._scrollMode!==Ft.HORIZONTAL,s=f(this,nu)!==null||f(this,Fo)!==null&&t.views.some(o=>{var l;return(l=o.detailView)==null?void 0:l.renderingCancelled}),a=this.renderingQueue.getHighestPriority(t,this._pages,r,i,s);return a?(P(this,$e,WY).call(this,a).then(()=>{this.renderingQueue.renderView(a)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,r=this._pages.length;t<r;++t){const i=this._pages[t];if(i.width!==e.width||i.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const r=t.pdfPage.getViewport({scale:1}),i=eG(r);if(e===void 0)e=i;else if(this.enablePrintAutoRotate&&i!==e)return{width:r.height,height:r.width,rotation:(r.rotation-90)%360};return{width:r.width,height:r.height,rotation:r.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!cpe(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>XS.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,r=this.viewer;r.classList.toggle("scrollHorizontal",t===Ft.HORIZONTAL),r.classList.toggle("scrollWrapped",t===Ft.WRAPPED),!(!this.pdfDocument||!e)&&(t===Ft.PAGE?P(this,$e,vw).call(this):this._previousScrollMode===Ft.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&P(this,$e,gc).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!dpe(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,r=this._pages;if(this._scrollMode===Ft.PAGE)P(this,$e,vw).call(this);else if(t.textContent="",this._spreadMode===dr.NONE)for(const i of this._pages)t.append(i.div);else{const i=this._spreadMode-1;let s=null;for(let a=0,o=r.length;a<o;++a)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):a%2===i&&(s=s.cloneNode(!1),t.append(s)),s.append(r[a].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&P(this,$e,gc).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case Ft.WRAPPED:{const{views:r}=this._getVisiblePages(),i=new Map;for(const{id:s,y:a,percent:o,widthPercent:l}of r){if(o===0||l<100)continue;let u=i.get(a);u||i.set(a,u||(u=[])),u.push(s)}for(const s of i.values()){const a=s.indexOf(e);if(a===-1)continue;const o=s.length;if(o===1)break;if(t)for(let l=a-1,u=0;l>=u;l--){const d=s[l],h=s[l+1]-1;if(d<h)return e-h}else for(let l=a+1,u=o;l<u;l++){const d=s[l],h=s[l-1]+1;if(d>h)return h-e}if(t){const l=s[0];if(l<e)return e-l+1}else{const l=s[o-1];if(l>e)return l-e+1}break}break}case Ft.HORIZONTAL:break;case Ft.PAGE:case Ft.VERTICAL:{if(this._spreadMode===dr.NONE)break;const r=this._spreadMode-1;if(t&&e%2!==r)break;if(!t&&e%2===r)break;const{views:i}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:a,percent:o,widthPercent:l}of i)if(a===s){if(o>0&&l===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const r=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+r,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:r=null,origin:i}){if(r===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(r){const a=r>0?WK:1/WK,o=r>0?Math.ceil:Math.floor;r=Math.abs(r);do s=o((s*a).toFixed(2)*10)/10;while(--r>0)}s=qQ(s,spe,ape),P(this,$e,gc).call(this,s,{noScroll:!1,drawingDelay:e,origin:i})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return f(this,_E)||_(this,_E,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return f(this,ia)?f(this,ja):fs.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:r=!1,mustEnterInEditMode:i=!1,editComment:s=!1}){if(!f(this,ia))throw new Error("The AnnotationEditor is not enabled.");if(f(this,ja)===e)return;if(!xG(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;P(this,$e,eL).call(this,e);const{eventBus:a,pdfDocument:o}=this,l=async()=>{P(this,$e,N_).call(this),_(this,ja,e),await f(this,ia).updateMode(e,t,r,i,s),!(e!==f(this,ja)||o!==this.pdfDocument)&&a.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===fs.NONE||f(this,ja)===fs.NONE){const u=e!==fs.NONE;u||this.pdfDocument.annotationStorage.resetModifiedIds(),this.cleanup();for(const h of this._pages)h.toggleEditingMode(u);const d=P(this,$e,jY).call(this);if(u&&d){P(this,$e,N_).call(this),_(this,Ap,new AbortController);const h=AbortSignal.any([f(this,Pd).signal,f(this,Ap).signal]);a._on("pagerendered",({pageNumber:g})=>{d.delete(g),d.size===0&&_(this,lp,setTimeout(l,0))},{signal:h});return}}l()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const r of this._pages)r.update(t);P(this,$e,ZN).call(this),e||this.update()}}}eu=new WeakMap,SE=new WeakMap,xE=new WeakMap,ja=new WeakMap,ia=new WeakMap,ap=new WeakMap,op=new WeakMap,_E=new WeakMap,TE=new WeakMap,IE=new WeakMap,FE=new WeakMap,ME=new WeakMap,UE=new WeakMap,PE=new WeakMap,RE=new WeakMap,Pd=new WeakMap,DE=new WeakMap,zv=new WeakMap,tu=new WeakMap,Fo=new WeakMap,Ap=new WeakMap,lp=new WeakMap,qv=new WeakMap,Rd=new WeakMap,$v=new WeakMap,NE=new WeakMap,jv=new WeakMap,up=new WeakMap,nu=new WeakMap,Wv=new WeakMap,LE=new WeakMap,Yv=new WeakMap,QE=new WeakMap,$e=new WeakSet,KY=function(e){const t={annotationEditorMode:f(this,ja),annotationMode:f(this,ap),textLayerMode:f(this,Yv)};return e?(_(this,tu,e.includes(dg.PRINT_HIGH_QUALITY)||e.includes(dg.PRINT)),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,tu)}),!e.includes(dg.COPY)&&f(this,Yv)===SA.ENABLE&&(t.textLayerMode=SA.ENABLE_PERMISSIONS),e.includes(dg.MODIFY_CONTENTS)||(t.annotationEditorMode=fs.DISABLE),!e.includes(dg.MODIFY_ANNOTATIONS)&&!e.includes(dg.FILL_INTERACTIVE_FORMS)&&f(this,ap)===_A.ENABLE_FORMS&&(t.annotationMode=_A.ENABLE),t):(_(this,tu,!0),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,tu)}),t)},GY=async function(e){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const t=Promise.withResolvers(),r=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:AbortSignal.any([e,r.signal])}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),r.abort()},zY=function(e,t){const r=document.getSelection(),{focusNode:i,anchorNode:s}=r;if(s&&i&&r.containsNode(f(this,Rd))){if(f(this,qv)||e===SA.ENABLE_PERMISSIONS){vN(t);return}_(this,qv,!0);const{classList:a}=this.viewer;a.add("copyAll");const o=new AbortController;window.addEventListener("keydown",l=>_(this,$v,l.key==="Escape"),{signal:o.signal}),this.getAllText().then(async l=>{l!==null&&await navigator.clipboard.writeText(l)}).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{_(this,qv,!1),_(this,$v,!1),o.abort(),a.remove("copyAll")}),vN(t)}},vw=function(){if(this._scrollMode!==Ft.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=f(this,up),r=this.viewer;if(r.textContent="",t.pages.length=0,this._spreadMode===dr.NONE&&!this.isInPresentationMode){const i=this._pages[e-1];r.append(i.div),t.pages.push(i)}else{const i=new Set,s=this._spreadMode-1;s===-1?i.add(e-1):e%2!==s?(i.add(e-1),i.add(e)):(i.add(e-2),i.add(e-1));const a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){const o=document.createElement("div");o.className="dummyPage",a.append(o)}for(const o of i){const l=this._pages[o];l&&(a.append(l.div),t.pages.push(l))}r.append(a)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},D_=function(e,t=null){const{div:r,id:i}=e;if(this._currentPageNumber!==i&&this._setCurrentPageNumber(i),this._scrollMode===Ft.PAGE&&(P(this,$e,vw).call(this),this.update()),!t&&!this.isInPresentationMode){const s=r.offsetLeft+r.clientLeft,a=s+r.clientWidth,{scrollLeft:o,clientWidth:l}=this.container;(this._scrollMode===Ft.HORIZONTAL||s<o||a>o+l)&&(t={left:0,top:0})}nY(r,t),!this._currentScaleValue&&this._location&&(this._location=null)},qY=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},YN=function(e,t,{noScroll:r=!1,preset:i=!1,drawingDelay:s=-1,origin:a=null}){if(this._currentScaleValue=t.toString(),P(this,$e,qY).call(this,e)){i&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*ul.PDF_TO_CSS_UNITS);const o=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:o?s:-1}),o&&_(this,nu,setTimeout(()=>{_(this,nu,null),this.refresh()},s));const l=this._currentScale;if(this._currentScale=e,!r){let u=this._currentPageNumber,d;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(u=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:d,allowNegativeOffset:!0}),Array.isArray(a)){const h=e/l-1,[g,v]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-v)*h,this.container.scrollTop+=(a[1]-g)*h}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:i?t:void 0}),this.defaultRenderingQueue&&this.update()},$Y=function(){return this._spreadMode!==dr.NONE&&this._scrollMode!==Ft.HORIZONTAL?2:1},gc=function(e,t){let r=parseFloat(e);if(r>0)t.preset=!1,P(this,$e,YN).call(this,r,e,t);else{const i=this._pages[this._currentPageNumber-1];if(!i)return;let s=YK,a=XK;this.isInPresentationMode?(s=a=4,this._spreadMode!==dr.NONE&&(s*=2)):this.removePageBorders?s=a=0:this._scrollMode===Ft.HORIZONTAL&&([s,a]=[a,s]);const o=(this.container.clientWidth-s)/i.width*i.scale/f(this,$e,$Y),l=(this.container.clientHeight-a)/i.height*i.scale;switch(e){case"page-actual":r=1;break;case"page-width":r=o;break;case"page-height":r=l;break;case"page-fit":r=Math.min(o,l);break;case"auto":const u=eG(i)?o:Math.min(l,o);r=Math.min(ope,u);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,P(this,$e,YN).call(this,r,e,t)}},XN=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&P(this,$e,gc).call(this,this._currentScaleValue,{noScroll:!0}),P(this,$e,D_).call(this,e)},jY=function(){const e=this._getVisiblePages(),t=[],{ids:r,views:i}=e;for(const s of i){const{view:a}=s;if(!a.hasEditableAnnotations()){r.delete(a.id);continue}t.push(s)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:r}),r)},WY=async function(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}},YY=function(e){var t,r;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((r=e.last)==null?void 0:r.id)===this.pagesCount)return!1;switch(this._scrollMode){case Ft.PAGE:return f(this,up).scrollDown;case Ft.HORIZONTAL:return this.scroll.right}return this.scroll.down},JN=function(e=this.container.clientHeight){e!==f(this,NE)&&(_(this,NE,e),fpe.setProperty("--viewer-container-height",`${e}px`))},XY=function(e){for(const t of e)if(t.target===this.container){P(this,$e,JN).call(this,Math.floor(t.borderBoxSize[0].blockSize)),_(this,_E,null);break}},ZN=function(){f(this,nu)!==null&&(clearTimeout(f(this,nu)),_(this,nu,null)),f(this,Fo)!==null&&(clearTimeout(f(this,Fo)),_(this,Fo,null))},N_=function(){var e;(e=f(this,Ap))==null||e.abort(),_(this,Ap,null),f(this,lp)!==null&&(clearTimeout(f(this,lp)),_(this,lp,null))},eL=function(e){var t,r;switch(e){case fs.STAMP:(t=f(this,zv))==null||t.loadModel("altText");break;case fs.SIGNATURE:(r=f(this,Wv))==null||r.loadSignatures();break}};class nme extends XQ{_resetView(){super._resetView(),this._scrollMode=Ft.PAGE,this._spreadMode=dr.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}globalThis.pdfjsViewer={AnnotationLayerBuilder:dY,DownloadManager:Qpe,EventBus:YQ,FindState:pc,GenericL10n:Zv,LinkTarget:Sf,parseQueryString:G1,PDFFindController:Npe,PDFHistory:Lge,PDFLinkService:jQ,PDFPageView:LY,PDFScriptingManager:Jge,PDFSinglePageViewer:nme,PDFViewer:XQ,ProgressBar:hpe,RenderingStates:Lt,ScrollMode:Ft,SimpleLinkService:WQ,SpreadMode:dr,StructTreeLayerBuilder:MY,TextLayerBuilder:lT,XfaLayerBuilder:NY};const rme=(n,e,t)=>n.trim()?(e(n),t(),!0):(t(),!1),ime=({visible:n,top:e,left:t,copyStatus:r,onHighlight:i,onCopy:s,onAskAi:a,onCancel:o})=>n?L.jsxs("div",{className:"pdf_selection_menu",style:{top:e,left:t},children:[(r==="ok"||r==="fail")&&L.jsx("span",{className:`pdf_selection_menu_copy_status ${r==="ok"?"pdf_viewer_copy_status_ok":"pdf_viewer_copy_status_fail"}`,children:r==="ok"?"":" "}),L.jsx("button",{onClick:i,children:"Highlight"}),L.jsx("div",{className:"pdf_selection_menu_copy_block",children:L.jsx("button",{onClick:s,children:"Copy"})}),L.jsx("button",{onClick:a,children:"AI"}),L.jsx("button",{onClick:o,children:"Cancel"})]}):null,sme=({loading:n,errorMsg:e,progress:t})=>{if(!n&&!e)return null;const r=Math.min(100,Math.max(1,Math.round(t||0)));return L.jsxs(L.Fragment,{children:[n&&L.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_loading",children:L.jsxs("div",{className:"pdf_viewer_progress",children:[L.jsx("div",{className:"pdf_viewer_progress_title",children:"PDF  ..."}),L.jsx("div",{className:"pdf_viewer_progress_bar",children:L.jsx("div",{className:"pdf_viewer_progress_bar_fill",style:{width:`${r}%`}})}),L.jsxs("div",{className:"pdf_viewer_progress_percent",children:[r,"%"]})]})}),e&&L.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_error",children:L.jsxs("div",{className:"pdf_viewer_error",children:[L.jsx("div",{className:"pdf_viewer_error_title",children:"PDF  "}),L.jsx("div",{children:e})]})})]})},ame=async(n,{isMobileSafari:e,setPdfTextPages:t,isCancelled:r})=>{if(e)return;const i=[];try{for(let s=1;s<=n.numPages;s++){const l=(await(await n.getPage(s)).getTextContent()).items.map(u=>"str"in u?u.str:"").join(" ");i.push({page:s,text:l})}r()||t(i)}catch(s){console.error("PDF text extraction failed",s)}},ome=n=>{const{file:e,viewerContainer:t,viewer:r,pdfViewerRef:i,pageCanvasMapRef:s,currentPageRef:a,rafRefreshId:o,MAX_CANVAS_PIXELS:l,isMobileLike:u,isMobileSafari:d,onPageChange:h,onPagesCount:g,registerGoToPage:v,setPdfTextPages:C,setLoading:b,setLoadProgress:B,setErrorMsg:S,scheduleRenderRefresh:I,disposePageEntry:T,preferSpreadView:D}=n,U=new YQ,R=new jQ({eventBus:U}),Q={container:t,viewer:r,eventBus:U,linkService:R,textLayerMode:2,annotationMode:2,removePageBorders:!0,enableScripting:!1,disableAutoFetch:!1,useOnlyCssZoom:!1};l!==void 0&&(Q.maxCanvasPixels=l);const H=new XQ(Q);i.current=H;const k=D??!u,G=1,K=()=>{I()};U.on("pagesinit",()=>{H.currentScale=G,H.spreadMode=k?dr.ODD:dr.NONE,I()}),U.on("pagechanging",Y=>{Y!=null&&Y.pageNumber&&(h==null||h(Y.pageNumber))}),U.on("pagesloaded",Y=>{Y!=null&&Y.pagesCount&&(g==null||g(Y.pagesCount)),K()}),U.on("pagerendered",K),U.on("pagedestroy",Y=>{Y!=null&&Y.pageNumber&&T(Y.pageNumber)}),v==null||v(Y=>{if(!i.current||!i.current.pdfDocument||!i.current.pagesCount)return;const ve=i.current.pdfDocument.numPages,V=Math.min(Math.max(Y,1),ve);i.current.currentPageNumber=V,i.current.scrollPageIntoView({pageNumber:V})}),R.setViewer(H);let z=!1,Z=HQ(e);return Z.onProgress=({loaded:Y=0,total:ve=0})=>{if(z)return;if(!ve){B(j=>Math.min(95,Math.max(1,j+1)));return}const V=Math.min(99,Math.max(1,Math.round(Y/ve*100)));B(V)},Z.promise.then(Y=>{z||(B(100),S(null),H.setDocument(Y),R.setDocument(Y,null),g==null||g(Y.numPages),b(!1),ame(Y,{isMobileSafari:d,setPdfTextPages:C,isCancelled:()=>z}))}).catch(Y=>{if(!z){if((Y==null?void 0:Y.message)==="Worker was destroyed"){console.debug("[PdfViewer] worker destroyed (cleanup)");return}console.error("[PdfViewer] load error:",Y),S((Y==null?void 0:Y.message)||"PDF  "),B(0),b(!1)}}),()=>{var Y;z=!0,Z.destroy(),i.current=null,(Y=U.off)==null||Y.call(U,"pagerendered",K),s.current.forEach(({layer:ve})=>ve.remove()),s.current.clear(),a.current=null,o.current!==null&&(cancelAnimationFrame(o.current),o.current=null)}},Ame=({file:n,viewerContainerRef:e,viewerRef:t,pdfViewerRef:r,pageCanvasMapRef:i,currentPageRef:s,rafRefreshId:a,MAX_CANVAS_PIXELS:o,isMobileLike:l,isMobileSafari:u,onPageChange:d,onPagesCount:h,registerGoToPage:g,setPdfTextPages:v,setLoading:C,setLoadProgress:b,setErrorMsg:B,scheduleRenderRefresh:S,disposePageEntry:I,preferSpreadView:T})=>{F.useEffect(()=>!e.current||!t.current?void 0:(v([]),h==null||h(0),d==null||d(1),C(!0),b(1),B(null),ome({file:n,viewerContainer:e.current,viewer:t.current,pdfViewerRef:r,pageCanvasMapRef:i,currentPageRef:s,rafRefreshId:a,MAX_CANVAS_PIXELS:o,isMobileLike:l,isMobileSafari:u,onPageChange:d,onPagesCount:h,registerGoToPage:g,setPdfTextPages:v,setLoading:C,setLoadProgress:b,setErrorMsg:B,scheduleRenderRefresh:S,disposePageEntry:I,preferSpreadView:T})),[n,d,h,g,v,u,l])},lme=({penRuntime:n,viewerRef:e,viewerContainerRef:t,pageCanvasMapRef:r,drawingMode:i,showAnnotations:s,chapterStrokes:a,penColor:o,penWidth:l,penOpacity:u,scheduleRenderRefresh:d,setLayoutTick:h})=>{F.useEffect(()=>{n.refreshCanvases()},[n,i,s]),F.useEffect(()=>{n.renderStaticCanvases()},[n,a]),F.useEffect(()=>{n.renderLiveCanvas()},[n,i,o,l,u]),F.useEffect(()=>{const g=new ResizeObserver(()=>{d(),h(C=>C+1)});e.current&&g.observe(e.current),t.current&&g.observe(t.current);const v=()=>h(C=>C+1);return window.addEventListener("resize",v),()=>{g.disconnect(),window.removeEventListener("resize",v)}},[e,t,d,h]),F.useEffect(()=>{const g=t.current;if(!g)return;const v=()=>d();return g.addEventListener("scroll",v,{passive:!0}),()=>g.removeEventListener("scroll",v)},[t,d]),F.useEffect(()=>()=>{r.current.forEach(g=>{var v;(v=g.layer)==null||v.remove()}),r.current.clear()},[r])},ume=()=>{const[n,e]=F.useState(!0),[t,r]=F.useState(0),[i,s]=F.useState(null),[a,o]=F.useState(""),[l,u]=F.useState({text:"",top:0,left:0,show:!1}),[d,h]=F.useState(0);return{loading:n,setLoading:e,loadProgress:t,setLoadProgress:r,errorMsg:i,setErrorMsg:s,copyStatus:a,setCopyStatus:o,selection:l,setSelection:u,layoutTick:d,setLayoutTick:h}},cme=n=>{const e=new Map;n.forEach(i=>{const s=e.get(i.pageNumber)??[];s.push({...i}),e.set(i.pageNumber,s)});const t=1.5,r=[];return e.forEach(i=>{const s=i;let a=!0;for(;a;){a=!1;for(let o=0;o<s.length;o++){for(let l=o+1;l<s.length;l++){const u=s[o],d=s[l],h=u.left<=d.left+d.width+t&&u.left+u.width>=d.left-t,g=u.top<=d.top+d.height+t&&u.top+u.height>=d.top-t;if(h&&g){const v=Math.min(u.left,d.left),C=Math.min(u.top,d.top),b=Math.max(u.left+u.width,d.left+d.width),B=Math.max(u.top+u.height,d.top+d.height);s[o]={...u,left:v,top:C,width:b-v,height:B-C},s.splice(l,1),a=!0;break}}if(a)break}}r.push(...s)}),r},dme=(n,e,t)=>{const s=e.getBoundingClientRect();return Array.from(n.getClientRects()).map(a=>({left:(a.left-s.left)/t,top:(a.top-s.top)/t-.5/Math.max(t,1e-4),width:a.width/t,height:Math.max(a.height/t-1,1),pageNumber:Number(e.dataset.pageNumber),pageWidth:s.width/t,pageHeight:s.height/t}))},fme=n=>{const e=Array.from(n.querySelectorAll("span"));return e.length===0?!1:e.some(t=>{const r=t;return r.style.left!==""||r.style.top!==""||r.style.transform!==""})},_G=n=>{n==null||n.querySelectorAll('.textLayer span[role="presentation"]').forEach(e=>{const t=e;t.dataset.origText!==void 0&&(t.textContent=t.dataset.origText,delete t.dataset.origText)})},hme=({viewerRoot:n,pdfSearchHighlight:e,getVisualScale:t,onScrollToFirstHit:r})=>{if(!n)return()=>{};if(_G(n),!e)return()=>{};let i=!1,s=null,a=0;const o=10,l=()=>{const d=n.querySelector(`.page[data-page-number="${e.page}"]`),h=d==null?void 0:d.querySelector(".textLayer");if(!h||!fme(h))return!1;const g=e.term.trim();if(!g)return!1;const v=new RegExp(g.replace(/[.*+?^${}()|[\\]\\]/g,"\\$&"),"gi");return h.querySelectorAll('span[role="presentation"]').forEach(C=>{const b=C,B=b.textContent||"",S=B.replace(v,I=>`<span class="pdf_search_hit">${I}</span>`);S!==B&&(b.dataset.origText===void 0&&(b.dataset.origText=B),b.innerHTML=S)}),d&&requestAnimationFrame(()=>r(d)),!0},u=()=>{i||l()||a<o&&(a+=1,s=window.setTimeout(u,150))};return u(),()=>{i=!0,s!==null&&clearTimeout(s),_G(n)}},pme=n=>{const{viewerRef:e,viewerContainerRef:t,pageCanvasMapRef:r,currentPageRef:i,rafRefreshId:s,drawingModeRef:a,penColorRef:o,penWidthRef:l,penOpacityRef:u,chapterStrokesRef:d,showAnnotationsRef:h,livePointsRef:g,isDrawingRef:v,getVisualScale:C,getPagePoint:b,getPageElementFromEvent:B,getPageElementByNumber:S,getCanvasMetrics:I,drawStrokePath:T,addStroke:D,removeStroke:U}=n;let R=null;const Q=ie=>a.current==="pen"&&ie.pointerType==="touch",H=(ie,ue)=>{const ce=document.createElement("canvas");return ce.className=ie,ue&&ce.setAttribute("aria-hidden",ue),ce},k=(ie,ue,ce)=>{const{width:Be,height:te,dpr:Se}=I(ie);!Be||!te||[ue,ce].forEach(Te=>{Te.width=Be*Se,Te.height=te*Se,Te.style.width="100%",Te.style.height="100%";const ye=Te.getContext("2d");ye&&(ye.setTransform(1,0,0,1,0,0),ye.scale(Se,Se))})},G=ie=>{if(Q(ie)){ie.preventDefault();return}if(a.current==="idle")return;R=ie.pointerId;const ue=B(ie);if(!ue)return;const{pageEl:ce,pageNumber:Be}=ue;ie.target.setPointerCapture(ie.pointerId);const te=b(ie,ce,C);te&&(i.current=Be,v.current=!0,g.current=[te],oe())},K=ie=>{var te;if(Q(ie)){ie.preventDefault();return}if(R!==null&&ie.pointerId!==R||a.current==="idle"||ie.buttons===0&&!v.current)return;const ue=i.current||((te=B(ie))==null?void 0:te.pageNumber)||null;if(!ue)return;const ce=S(ue);if(!ce)return;ie.preventDefault();const Be=b(ie,ce,C);Be&&(a.current==="pen"?(v.current=!0,i.current=ue,g.current.length===0?g.current=[Be]:g.current.push(Be),oe()):a.current==="eraser"&&q(ue).forEach(Te=>{Te.points.some(yt=>Math.hypot(yt.x-Be.x,yt.y-Be.y)<16)&&U("pdf-main",Te.id)}))},z=ie=>{var Be;if(Q(ie)){ie.preventDefault();return}if(R!==null&&ie.pointerId!==R||!v.current&&a.current!=="eraser")return;const ue=ie.target;(Be=ue.hasPointerCapture)!=null&&Be.call(ue,ie.pointerId)&&ue.releasePointerCapture(ie.pointerId);const ce=i.current;if(a.current==="pen"&&ce&&g.current.length>1){const te={id:Date.now().toString(),points:g.current,color:o.current,width:l.current,opacity:u.current,pageNumber:ce};D("pdf-main",te)}v.current=!1,g.current=[],i.current=null,R=null,oe()},Z=ie=>{ie.dataset.penBound||(ie.addEventListener("pointerdown",G),ie.addEventListener("pointermove",K),ie.addEventListener("pointerup",z),ie.addEventListener("pointerleave",z),ie.addEventListener("pointercancel",z),ie.dataset.penBound="1")},Y=ie=>{ie.dataset.penBound&&(ie.removeEventListener("pointerdown",G),ie.removeEventListener("pointermove",K),ie.removeEventListener("pointerup",z),ie.removeEventListener("pointerleave",z),ie.removeEventListener("pointercancel",z),delete ie.dataset.penBound)},ve=ie=>{let ue=ie.querySelector(".pdf_pen_page_layer"),ce=null,Be=null;return ue?(ce=ue.querySelector(".pdf_pen_page_canvas:not(.pdf_pen_page_canvas_live)"),Be=ue.querySelector(".pdf_pen_page_canvas_live"),Be&&Z(Be)):(ue=document.createElement("div"),ue.className="pdf_pen_page_layer",ce=H("pdf_pen_page_canvas","true"),Be=H("pdf_pen_page_canvas pdf_pen_page_canvas_live"),Z(Be),ue.appendChild(ce),ue.appendChild(Be),ie.appendChild(ue)),!ue||!ce||!Be?null:{layer:ue,staticCanvas:ce,liveCanvas:Be}},V=ie=>{var ce;const ue=r.current.get(ie);ue&&(Y(ue.liveCanvas),(ce=ue.layer)==null||ce.remove(),r.current.delete(ie))},j=(ie,ue,ce)=>{const Be=ie.getBoundingClientRect();return Be.bottom>=ue.top-ce&&Be.top<=ue.bottom+ce},se=()=>{if(!e.current||!t.current)return;const ie=t.current.getBoundingClientRect(),ue=800,ce=Array.from(e.current.querySelectorAll(".page")).filter(te=>j(te,ie,ue)),Be=new Set;ce.forEach(te=>{const Se=Number(te.dataset.pageNumber);if(!Se)return;Be.add(Se);const Te=ve(te);Te&&(r.current.set(Se,Te),k(te,Te.staticCanvas,Te.liveCanvas))});for(const[te,Se]of r.current.entries())Be.has(te)||V(te)},pe=()=>{const ie=a.current||"idle",ue=ie==="pen"||ie==="eraser";r.current.forEach(({liveCanvas:ce})=>{ce.style.pointerEvents=ue?"auto":"none",ce.style.touchAction=ue?"none":"auto",ce.style.cursor=ue?"crosshair":"default"})},Ee=(ie,ue)=>ie.pageNumber===void 0?ue===1:ie.pageNumber===ue,q=ie=>(d.current["pdf-main"]||[]).filter(ue=>Ee(ue,ie)),ee=()=>{r.current.forEach(({staticCanvas:ie},ue)=>{const ce=ie.getContext("2d");if(!ce||(ce.save(),ce.setTransform(1,0,0,1,0,0),ce.clearRect(0,0,ie.width,ie.height),ce.restore(),!h.current))return;q(ue).forEach(te=>T(ce,te.points,te.color,te.width||3,te.opacity??1))})},oe=()=>{if(r.current.forEach(({liveCanvas:Be})=>{const te=Be.getContext("2d");te&&(te.save(),te.setTransform(1,0,0,1,0,0),te.clearRect(0,0,Be.width,Be.height),te.restore())}),a.current!=="pen"||g.current.length===0)return;const ie=i.current;if(!ie)return;const ue=r.current.get(ie);if(!ue)return;const ce=ue.liveCanvas.getContext("2d");if(ce){if(g.current.length===1){const Be=g.current[0];ce.beginPath(),ce.fillStyle=o.current,ce.globalAlpha=u.current,ce.arc(Be.x,Be.y,l.current/2,0,Math.PI*2),ce.fill(),ce.globalAlpha=1;return}T(ce,g.current,o.current,l.current,u.current)}};return{handlePenStart:G,handlePenMove:K,handlePenEnd:z,syncPageCanvases:se,syncCanvasPointers:pe,renderStaticCanvases:ee,renderLiveCanvas:oe,refreshCanvases:()=>{se(),pe(),ee(),oe()},disposePageEntry:V,getPageStrokes:q}},TG=(n,e,t,r)=>{const i=n.getBoundingClientRect(),s=e.getBoundingClientRect(),a=s.left-i.left+n.scrollLeft,o=s.top-i.top+n.scrollTop,l=t>0?s.width/t:1,u=r>0?s.height/r:1;return{pageOffsetLeft:a,pageOffsetTop:o,scaleX:l,scaleY:u}},gme=(n,e,t)=>{const r=e.getBoundingClientRect(),i=t(),s=(n.clientX-r.left)/i,a=(n.clientY-r.top)/i;return{x:s,y:a}},mme=1,vme=(n,e,t,r,i)=>{if(!(e.length<2)){n.beginPath(),n.lineWidth=r,n.strokeStyle=t,n.lineCap="round",n.lineJoin="round",n.globalAlpha=i,n.moveTo(e[0].x,e[0].y);for(let s=1;s<e.length-1;s++){const a={x:(e[s].x+e[s+1].x)/2,y:(e[s].y+e[s+1].y)/2};n.quadraticCurveTo(e[s].x,e[s].y,a.x,a.y)}n.lineTo(e[e.length-1].x,e[e.length-1].y),n.stroke(),n.globalAlpha=1}};ru.workerSrc=`https://unpkg.com/pdfjs-dist@${G6}/build/pdf.worker.mjs`;const yme=({file:n,onPageChange:e,onPagesCount:t,registerGoToPage:r,forceSinglePage:i=!1})=>{const s=F.useRef(null),a=F.useRef(null),o=F.useRef(null),l=F.useRef(new Map),u=F.useRef(null),{addHighlight:d,highlights:h,activeHighlightId:g,triggerSmartExplain:v,setPdfTextPages:C,pdfSearchHighlight:b,drawingMode:B,penColor:S,penWidth:I,penOpacity:T,chapterStrokes:D,addStroke:U,removeStroke:R,showAnnotations:Q}=Yd(),H=typeof navigator<"u"&&navigator.userAgent||"",k=/iP(hone|od|ad)/.test(H)&&/Safari/i.test(H)&&!/Chrome/i.test(H)&&!/CriOS/i.test(H),G=F.useMemo(()=>typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0),[]),K=F.useMemo(()=>typeof window>"u"?!1:/Mobi|Android|iP(hone|od|ad)/i.test(H)||window.innerWidth<=1300,[H]),z=F.useMemo(()=>{},[]),Z=F.useRef(null),{loading:Y,setLoading:ve,loadProgress:V,setLoadProgress:j,errorMsg:se,setErrorMsg:pe,copyStatus:Ee,setCopyStatus:q,selection:ee,setSelection:oe,layoutTick:Ce,setLayoutTick:ie}=ume(),ue=F.useRef(null),[ce,Be]=F.useState([]),te=F.useRef(null),Se=F.useRef(B),Te=F.useRef(S),ye=F.useRef(I),yt=F.useRef(T),qe=F.useRef(D),Kt=F.useRef(Q),Pt=F.useRef([]),Kn=F.useRef(!1);F.useEffect(()=>{Se.current=B},[B]),F.useEffect(()=>{Te.current=S},[S]),F.useEffect(()=>{ye.current=I},[I]),F.useEffect(()=>{yt.current=T},[T]),F.useEffect(()=>{qe.current=D},[D]),F.useEffect(()=>{Kt.current=Q},[Q]),F.useEffect(()=>{Be(_e=>_e.filter(Me=>h.some(We=>We.id===Me.id)))},[h]),F.useEffect(()=>!a.current||!s.current?void 0:hme({viewerRoot:a.current,pdfSearchHighlight:b,getVisualScale:nt,onScrollToFirstHit:Me=>{const We=Me.querySelector(".pdf_search_hit");if(!We||!s.current)return;const ze=s.current,Ot=ze.getBoundingClientRect(),ut=We.getBoundingClientRect(),cn=nt(),Ir=(ut.top-Ot.top)/cn+ze.scrollTop-40,Hi=(ut.left-Ot.left)/cn+ze.scrollLeft-20;ze.scrollTo({top:Math.max(0,Ir),left:Math.max(0,Hi),behavior:"smooth"})}}),[b]),F.useEffect(()=>{var Fr;if(!g||!s.current)return;const _e=ce.find(Vi=>Vi.id===g);if(!_e||_e.rects.length===0)return;const Me=_e.rects[0],We=s.current,ze=(Fr=a.current)==null?void 0:Fr.querySelector(`.page[data-page-number="${Me.pageNumber}"]`);if(!We||!ze)return;const{pageOffsetLeft:Ot,pageOffsetTop:ut,scaleX:cn,scaleY:Ir}=TG(We,ze,Me.pageWidth,Me.pageHeight),Hi=Math.max(0,ut+Me.top*Ir-40),xi=Math.max(0,Ot+Me.left*cn-20);We.scrollTo({top:Hi,left:xi,behavior:"smooth"})},[g,ce]),F.useEffect(()=>()=>{ue.current&&clearTimeout(ue.current)},[]);const nt=()=>{if(!o.current)return 1;const _e=getComputedStyle(o.current).getPropertyValue("--visual-scale"),Me=parseFloat(_e);return Number.isFinite(Me)?Me:1},nr=_e=>{const We=_e.target.closest(".page");if(!We)return null;const ze=Number(We.dataset.pageNumber);return ze?{pageEl:We,pageNumber:ze}:null},ss=_e=>a.current?a.current.querySelector(`.page[data-page-number="${_e}"]`):null,Jt=_e=>{const Me=_e.getBoundingClientRect(),We=window.devicePixelRatio||1,ze=nt(),Ot=Me.width/ze,ut=Me.height/ze;return{rect:Me,dpr:We,visualScale:ze,width:Ot,height:ut}},Kr=F.useMemo(()=>pme({viewerRef:a,viewerContainerRef:s,pageCanvasMapRef:l,currentPageRef:u,rafRefreshId:te,drawingModeRef:Se,penColorRef:Te,penWidthRef:ye,penOpacityRef:yt,chapterStrokesRef:qe,showAnnotationsRef:Kt,livePointsRef:Pt,isDrawingRef:Kn,getVisualScale:nt,getPagePoint:gme,getPageElementFromEvent:nr,getPageElementByNumber:ss,getCanvasMetrics:Jt,drawStrokePath:vme,addStroke:U,removeStroke:R}),[a,s,l,u,te,Se,Te,ye,yt,qe,Kt,Pt,Kn]),Fs=()=>{te.current===null&&(te.current=requestAnimationFrame(()=>{te.current=null,Kr.syncPageCanvases(),Kr.syncCanvasPointers(),Kr.renderStaticCanvases(),Kr.renderLiveCanvas()}))};Ame({file:n,viewerContainerRef:s,viewerRef:a,pdfViewerRef:Z,pageCanvasMapRef:l,currentPageRef:u,rafRefreshId:te,MAX_CANVAS_PIXELS:z,isMobileLike:K,isMobileSafari:k,onPageChange:e,onPagesCount:t,registerGoToPage:r,setPdfTextPages:C,setLoading:ve,setLoadProgress:j,setErrorMsg:pe,scheduleRenderRefresh:Fs,disposePageEntry:Kr.disposePageEntry,preferSpreadView:!K&&!i}),lme({penRuntime:Kr,viewerRef:a,viewerContainerRef:s,pageCanvasMapRef:l,drawingMode:B,showAnnotations:Q,chapterStrokes:D,penColor:S,penWidth:I,penOpacity:T,scheduleRenderRefresh:Fs,setLayoutTick:ie}),F.useEffect(()=>{const _e=Z.current;if(!_e)return;const We=i?dr.NONE:!K?dr.ODD:dr.NONE;_e.spreadMode!==We&&(_e.spreadMode=We,Fs())},[i,K]);const rr=async()=>{var Me;ue.current&&clearTimeout(ue.current);const _e=((Me=window.getSelection())==null?void 0:Me.toString())??"";if(!_e.trim()){q("fail"),ue.current=window.setTimeout(()=>q(""),1e3);return}try{navigator.clipboard&&navigator.clipboard.writeText?await navigator.clipboard.writeText(_e):document.execCommand("copy"),q("ok")}catch(We){console.error("copy failed",We),q("fail")}finally{ue.current=window.setTimeout(()=>q(""),1e3)}},X=()=>{if(B!=="idle"){oe(Sn=>({...Sn,show:!1}));return}const _e=window.getSelection();if(!_e||_e.isCollapsed||!_e.toString().trim()||!s.current||_e.rangeCount===0){oe(Sn=>({...Sn,show:!1}));return}if(!(s.current.contains(_e.anchorNode)&&s.current.contains(_e.focusNode))){oe(Sn=>({...Sn,show:!1}));return}const We=_e.getRangeAt(0),ze=We.getBoundingClientRect(),Ot=Array.from(We.getClientRects()),ut=ze.width>0&&ze.height>0&&ze||Ot.find(Sn=>Sn.width>0&&Sn.height>0);if(!ut||ut.width===0){oe(Sn=>({...Sn,show:!1}));return}const cn=210,Ir=10,Hi=G?ut.bottom+Ir:ut.top-56,xi=ut.left+ut.width/2-cn/2,Fr=Hi<Ir?ut.bottom+Ir:Hi,Vi=Math.min(Math.max(xi,Ir),window.innerWidth-cn-Ir);oe({text:_e.toString().trim(),top:Fr,left:Vi,show:!0})},de=()=>{[0,40,120].forEach(Me=>setTimeout(X,Me))},He=()=>{B==="idle"&&de()};F.useEffect(()=>{const _e=()=>de(),Me=()=>de();return document.addEventListener("selectionchange",_e),document.addEventListener("touchend",Me),()=>{document.removeEventListener("selectionchange",_e),document.removeEventListener("touchend",Me)}},[]);const Xe=()=>{var Fr,Vi,Sn,Gn,lo;const _e=window.getSelection();if(!_e||!_e.toString().trim()||!s.current||!o.current){oe(ma=>({...ma,show:!1}));return}const Me=_e.getRangeAt(0),ze=((Vi=(Fr=Me.startContainer)==null?void 0:Fr.closest)==null?void 0:Vi.call(Fr,".page"))||((lo=(Gn=(Sn=Me.startContainer)==null?void 0:Sn.parentElement)==null?void 0:Gn.closest)==null?void 0:lo.call(Gn,".page")),Ot=ze?Number(ze.dataset.pageNumber):null;if(!ze||!Ot){oe(ma=>({...ma,show:!1}));return}const ut=getComputedStyle(o.current).getPropertyValue("--visual-scale"),cn=parseFloat(ut)||1,Ir=dme(Me,ze,cn),Hi=d(_e.toString(),void 0,"reference-doc",Ot),xi=cme(Ir);Be(ma=>[...ma,{id:Hi,rects:xi}]),oe(ma=>({...ma,show:!1})),_e.removeAllRanges()},ot=()=>{var _e;(_e=window.getSelection())==null||_e.removeAllRanges(),oe(Me=>({...Me,show:!1}))},je=()=>{var Me;rme(ee.text,v,()=>oe(We=>({...We,show:!1})))&&((Me=window.getSelection())==null||Me.removeAllRanges())};return L.jsxs("div",{className:"pdf_viewer",children:[L.jsx(sme,{loading:Y,errorMsg:se,progress:V}),L.jsx("div",{className:"pdf_viewer_scale_wrapper",ref:o,style:{"--visual-scale":mme},children:L.jsxs("div",{ref:s,className:"pdf_viewer_container",onPointerUp:He,onContextMenu:_e=>_e.preventDefault(),children:[L.jsx("div",{ref:a,className:"pdfViewer pdf_viewer_content"}),L.jsx("div",{className:"pdf_highlight_layer","data-layout-tick":Ce,children:ce.flatMap(_e=>_e.rects.map((Me,We)=>{var Gn;const ze=s.current,Ot=(Gn=a.current)==null?void 0:Gn.querySelector(`.page[data-page-number="${Me.pageNumber}"]`);if(!ze||!Ot)return null;const{pageOffsetLeft:ut,pageOffsetTop:cn,scaleX:Ir,scaleY:Hi}=TG(ze,Ot,Me.pageWidth,Me.pageHeight),xi=ut+Me.left*Ir,Fr=cn+Me.top*Hi,Vi=Me.width*Ir,Sn=Me.height*Hi;return L.jsx("div",{className:"pdf_highlight","data-highlight-id":_e.id,style:{left:xi,top:Fr,width:Vi,height:Sn}},`${_e.id}-${We}`)}))})]})}),L.jsx(ime,{visible:ee.show,top:ee.top,left:ee.left,copyStatus:Ee,onHighlight:Xe,onCopy:rr,onAskAi:je,onCancel:ot})]})},wme=({pdfPageCount:n,pdfCurrentPage:e,onPdfGoToPage:t})=>{var S;const{chapters:r,currentChapterIndex:i,goToNextChapter:s,goToPrevChapter:a,goToChapter:o}=Yd(),l=!!t&&(n||0)>0,u=l?n||1:r.length,d=l?e||1:i+1,h=d-1,g=((S=r[i])==null?void 0:S.title)||(l?"PDF":"Chapter"),[v,C]=F.useState(d.toString());F.useEffect(()=>{C(d.toString())},[d]);const b=I=>{I.preventDefault();const T=parseInt(v);if(isNaN(T)||T<1||T>u){C(d.toString());return}l?t==null||t(T):o(T-1)},B=I=>{const T=parseInt(I.target.value);l?t==null||t(T+1):o(T)};return L.jsxs("div",{className:"navigation_inner",children:[L.jsxs("div",{className:"prograss_bar_wrap",children:[L.jsx("input",{type:"range",min:"0",max:Math.max(u-1,0),value:h,onChange:B,className:"prograss_max"}),L.jsx("div",{className:"prograss_range",style:{width:`${d/u*100}%`},children:L.jsx("div",{className:"prograss_pointer"})})]}),L.jsxs("div",{className:"navigation_bottom_box",children:[L.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.max(1,d-1)):a(),disabled:l?d<=1:i===0,className:`
            ${l?d<=1?"off":"on":i===0?"off":"on"}
          `,children:[L.jsx(Ofe,{size:18}),L.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),L.jsxs("div",{className:"chapter_page",children:[L.jsxs("form",{onSubmit:b,className:"",children:[L.jsx("span",{className:"text_xs",children:"Page"}),L.jsx("input",{type:"text",value:v,onChange:I=>C(I.target.value),className:""}),L.jsxs("span",{className:"slash",children:["/ ",u]})]}),L.jsx("span",{className:"chapter_name",children:g})]}),L.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.min(u,d+1)):s(),disabled:l?d>=u:i===r.length-1,className:`
            ${l?d>=u?"off":"on":i===r.length-1?"off":"on"}
          `,children:[L.jsx("span",{className:"hidden sm:inline",children:"Next"}),L.jsx(Vfe,{size:18})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tL=function(n,e){return tL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},tL(n,e)};function Ho(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");tL(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var nL=function(){return nL=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},nL.apply(this,arguments)};function Yi(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(n,[])).next())})}function Ni(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function JS(n,e,t){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||e)}var yu=(function(){function n(e,t,r,i){this.left=e,this.top=t,this.width=r,this.height=i}return n.prototype.add=function(e,t,r,i){return new n(this.left+e,this.top+t,this.width+r,this.height+i)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var r=Array.from(t).find(function(i){return i.width!==0});return r?new n(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),z1=function(n,e){return yu.fromClientRect(n,e.getBoundingClientRect())},bme=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new yu(0,0,r,i)},q1=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},cr=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var a=n[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},IG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ZS=0;ZS<IG.length;ZS++)Cme[IG.charCodeAt(ZS)]=ZS;var FG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ex=0;ex<FG.length;ex++)yw[FG.charCodeAt(ex)]=ex;var Eme=function(n){var e=n.length*.75,t=n.length,r,i=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<t;r+=4)s=yw[n.charCodeAt(r)],a=yw[n.charCodeAt(r+1)],o=yw[n.charCodeAt(r+2)],l=yw[n.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|l&63;return u},Bme=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},Sme=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},cp=5,JQ=11,bU=2,xme=JQ-cp,JY=65536>>cp,_me=1<<cp,CU=_me-1,Tme=1024>>cp,Ime=JY+Tme,Fme=Ime,Mme=32,Ume=Fme+Mme,Pme=65536>>JQ,Rme=1<<xme,Dme=Rme-1,MG=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},Nme=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},Lme=function(n,e){var t=Eme(n),r=Array.isArray(t)?Sme(t):new Uint32Array(t),i=Array.isArray(t)?Bme(t):new Uint16Array(t),s=24,a=MG(i,s/2,r[4]/2),o=r[5]===2?MG(i,(s+r[4])/2):Nme(r,Math.ceil((s+r[4])/4));return new Qme(r[0],r[1],r[2],r[3],a,o)},Qme=(function(){function n(e,t,r,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>cp],t=(t<<bU)+(e&CU),this.data[t];if(e<=65535)return t=this.index[JY+(e-55296>>cp)],t=(t<<bU)+(e&CU),this.data[t];if(e<this.highStart)return t=Ume-Pme+(e>>JQ),t=this.index[t],t+=e>>cp&Dme,t=this.index[t],t=(t<<bU)+(e&CU),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),UG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tx=0;tx<UG.length;tx++)kme[UG.charCodeAt(tx)]=tx;var Ome="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",PG=50,Hme=1,ZY=2,eX=3,Vme=4,Kme=5,RG=7,tX=8,DG=9,Nd=10,rL=11,NG=12,iL=13,Gme=14,ww=15,sL=16,nx=17,U0=18,zme=19,LG=20,aL=21,P0=22,EU=23,fg=24,Qs=25,bw=26,Cw=27,hg=28,qme=29,Ff=30,$me=31,rx=32,ix=33,oL=34,AL=35,lL=36,jw=37,uL=38,L_=39,Q_=40,BU=41,nX=42,jme=43,Wme=[9001,65288],rX="!",St="",sx="",cL=Lme(Ome),nl=[Ff,lL],dL=[Hme,ZY,eX,Kme],iX=[Nd,tX],QG=[Cw,bw],Yme=dL.concat(iX),kG=[uL,L_,Q_,oL,AL],Xme=[ww,iL],Jme=function(n,e){e===void 0&&(e="strict");var t=[],r=[],i=[];return n.forEach(function(s,a){var o=cL.get(s);if(o>PG?(i.push(!0),o-=PG):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(a),t.push(sL);if(o===Vme||o===rL){if(a===0)return r.push(a),t.push(Ff);var l=t[a-1];return Yme.indexOf(l)===-1?(r.push(r[a-1]),t.push(l)):(r.push(a),t.push(Ff))}if(r.push(a),o===$me)return t.push(e==="strict"?aL:jw);if(o===nX||o===qme)return t.push(Ff);if(o===jme)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(jw):t.push(Ff);t.push(o)}),[r,t,i]},SU=function(n,e,t,r){var i=r[t];if(Array.isArray(n)?n.indexOf(i)!==-1:n===i)for(var s=t;s<=r.length;){s++;var a=r[s];if(a===e)return!0;if(a!==Nd)break}if(i===Nd)for(var s=t;s>0;){s--;var o=r[s];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var l=t;l<=r.length;){l++;var a=r[l];if(a===e)return!0;if(a!==Nd)break}if(o!==Nd)break}return!1},OG=function(n,e){for(var t=n;t>=0;){var r=e[t];if(r===Nd)t--;else return r}return 0},Zme=function(n,e,t,r,i){if(t[r]===0)return St;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return St;var a=s-1,o=s+1,l=e[s],u=a>=0?e[a]:0,d=e[o];if(l===ZY&&d===eX)return St;if(dL.indexOf(l)!==-1)return rX;if(dL.indexOf(d)!==-1||iX.indexOf(d)!==-1)return St;if(OG(s,e)===tX)return sx;if(cL.get(n[s])===rL||(l===rx||l===ix)&&cL.get(n[o])===rL||l===RG||d===RG||l===DG||[Nd,iL,ww].indexOf(l)===-1&&d===DG||[nx,U0,zme,fg,hg].indexOf(d)!==-1||OG(s,e)===P0||SU(EU,P0,s,e)||SU([nx,U0],aL,s,e)||SU(NG,NG,s,e))return St;if(l===Nd)return sx;if(l===EU||d===EU)return St;if(d===sL||l===sL)return sx;if([iL,ww,aL].indexOf(d)!==-1||l===Gme||u===lL&&Xme.indexOf(l)!==-1||l===hg&&d===lL||d===LG||nl.indexOf(d)!==-1&&l===Qs||nl.indexOf(l)!==-1&&d===Qs||l===Cw&&[jw,rx,ix].indexOf(d)!==-1||[jw,rx,ix].indexOf(l)!==-1&&d===bw||nl.indexOf(l)!==-1&&QG.indexOf(d)!==-1||QG.indexOf(l)!==-1&&nl.indexOf(d)!==-1||[Cw,bw].indexOf(l)!==-1&&(d===Qs||[P0,ww].indexOf(d)!==-1&&e[o+1]===Qs)||[P0,ww].indexOf(l)!==-1&&d===Qs||l===Qs&&[Qs,hg,fg].indexOf(d)!==-1)return St;if([Qs,hg,fg,nx,U0].indexOf(d)!==-1)for(var h=s;h>=0;){var g=e[h];if(g===Qs)return St;if([hg,fg].indexOf(g)!==-1)h--;else break}if([Cw,bw].indexOf(d)!==-1)for(var h=[nx,U0].indexOf(l)!==-1?a:s;h>=0;){var g=e[h];if(g===Qs)return St;if([hg,fg].indexOf(g)!==-1)h--;else break}if(uL===l&&[uL,L_,oL,AL].indexOf(d)!==-1||[L_,oL].indexOf(l)!==-1&&[L_,Q_].indexOf(d)!==-1||[Q_,AL].indexOf(l)!==-1&&d===Q_||kG.indexOf(l)!==-1&&[LG,bw].indexOf(d)!==-1||kG.indexOf(d)!==-1&&l===Cw||nl.indexOf(l)!==-1&&nl.indexOf(d)!==-1||l===fg&&nl.indexOf(d)!==-1||nl.concat(Qs).indexOf(l)!==-1&&d===P0&&Wme.indexOf(n[o])===-1||nl.concat(Qs).indexOf(d)!==-1&&l===U0)return St;if(l===BU&&d===BU){for(var v=t[s],C=1;v>0&&(v--,e[v]===BU);)C++;if(C%2!==0)return St}return l===rx&&d===ix?St:sx},eve=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=Jme(n,e.lineBreak),r=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[Qs,Ff,nX].indexOf(o)!==-1?jw:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&n[l]>=19968&&n[l]<=40959}):void 0;return[r,i,a]},tve=(function(){function n(e,t,r,i){this.codePoints=e,this.required=t===rX,this.start=r,this.end=i}return n.prototype.slice=function(){return cr.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),nve=function(n,e){var t=q1(n),r=eve(t,e),i=r[0],s=r[1],a=r[2],o=t.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=St;u<o&&(d=Zme(t,s,i,++u,a))===St;);if(d!==St||u===o){var h=new tve(t,d,l,u);return l=u,{value:h,done:!1}}return{done:!0,value:null}}}},rve=1,ive=2,WE=4,HG=8,uT=10,VG=47,Pw=92,sve=9,ave=32,ax=34,R0=61,ove=35,Ave=36,lve=37,ox=39,Ax=40,D0=41,uve=95,Ss=45,cve=33,dve=60,fve=62,hve=64,pve=91,gve=93,mve=61,vve=123,lx=63,yve=125,KG=124,wve=126,bve=128,GG=65533,xU=42,Rf=43,Cve=44,Eve=58,Bve=59,Ww=46,Sve=0,xve=8,_ve=11,Tve=14,Ive=31,Fve=127,Xo=-1,sX=48,aX=97,oX=101,Mve=102,Uve=117,Pve=122,AX=65,lX=69,uX=70,Rve=85,Dve=90,Qi=function(n){return n>=sX&&n<=57},Nve=function(n){return n>=55296&&n<=57343},pg=function(n){return Qi(n)||n>=AX&&n<=uX||n>=aX&&n<=Mve},Lve=function(n){return n>=aX&&n<=Pve},Qve=function(n){return n>=AX&&n<=Dve},kve=function(n){return Lve(n)||Qve(n)},Ove=function(n){return n>=bve},ux=function(n){return n===uT||n===sve||n===ave},cT=function(n){return kve(n)||Ove(n)||n===uve},zG=function(n){return cT(n)||Qi(n)||n===Ss},Hve=function(n){return n>=Sve&&n<=xve||n===_ve||n>=Tve&&n<=Ive||n===Fve},yc=function(n,e){return n!==Pw?!1:e!==uT},cx=function(n,e,t){return n===Ss?cT(e)||yc(e,t):cT(n)?!0:!!(n===Pw&&yc(n,e))},_U=function(n,e,t){return n===Rf||n===Ss?Qi(e)?!0:e===Ww&&Qi(t):Qi(n===Ww?e:n)},Vve=function(n){var e=0,t=1;(n[e]===Rf||n[e]===Ss)&&(n[e]===Ss&&(t=-1),e++);for(var r=[];Qi(n[e]);)r.push(n[e++]);var i=r.length?parseInt(cr.apply(void 0,r),10):0;n[e]===Ww&&e++;for(var s=[];Qi(n[e]);)s.push(n[e++]);var a=s.length,o=a?parseInt(cr.apply(void 0,s),10):0;(n[e]===lX||n[e]===oX)&&e++;var l=1;(n[e]===Rf||n[e]===Ss)&&(n[e]===Ss&&(l=-1),e++);for(var u=[];Qi(n[e]);)u.push(n[e++]);var d=u.length?parseInt(cr.apply(void 0,u),10):0;return t*(i+o*Math.pow(10,-a))*Math.pow(10,l*d)},Kve={type:2},Gve={type:3},zve={type:4},qve={type:13},$ve={type:8},jve={type:21},Wve={type:9},Yve={type:10},Xve={type:11},Jve={type:12},Zve={type:14},dx={type:23},eye={type:1},tye={type:25},nye={type:24},rye={type:26},iye={type:27},sye={type:28},aye={type:29},oye={type:31},fL={type:32},cX=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(q1(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==fL;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case ax:return this.consumeStringToken(ax);case ove:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(zG(t)||yc(r,i)){var s=cx(t,r,i)?ive:rve,a=this.consumeName();return{type:5,value:a,flags:s}}break;case Ave:if(this.peekCodePoint(0)===R0)return this.consumeCodePoint(),qve;break;case ox:return this.consumeStringToken(ox);case Ax:return Kve;case D0:return Gve;case xU:if(this.peekCodePoint(0)===R0)return this.consumeCodePoint(),Zve;break;case Rf:if(_U(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Cve:return zve;case Ss:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(_U(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(cx(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Ss&&u===fve)return this.consumeCodePoint(),this.consumeCodePoint(),nye;break;case Ww:if(_U(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case VG:if(this.peekCodePoint(0)===xU)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===xU&&(d=this.consumeCodePoint(),d===VG))return this.consumeToken();if(d===Xo)return this.consumeToken()}break;case Eve:return rye;case Bve:return iye;case dve:if(this.peekCodePoint(0)===cve&&this.peekCodePoint(1)===Ss&&this.peekCodePoint(2)===Ss)return this.consumeCodePoint(),this.consumeCodePoint(),tye;break;case hve:var h=this.peekCodePoint(0),g=this.peekCodePoint(1),v=this.peekCodePoint(2);if(cx(h,g,v)){var a=this.consumeName();return{type:7,value:a}}break;case pve:return sye;case Pw:if(yc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case gve:return aye;case mve:if(this.peekCodePoint(0)===R0)return this.consumeCodePoint(),$ve;break;case vve:return Xve;case yve:return Jve;case Uve:case Rve:var C=this.peekCodePoint(0),b=this.peekCodePoint(1);return C===Rf&&(pg(b)||b===lx)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case KG:if(this.peekCodePoint(0)===R0)return this.consumeCodePoint(),Wve;if(this.peekCodePoint(0)===KG)return this.consumeCodePoint(),jve;break;case wve:if(this.peekCodePoint(0)===R0)return this.consumeCodePoint(),Yve;break;case Xo:return fL}return ux(e)?(this.consumeWhiteSpace(),oye):Qi(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):cT(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:cr(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();pg(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===lx&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(cr.apply(void 0,e.map(function(l){return l===lx?sX:l})),16),s=parseInt(cr.apply(void 0,e.map(function(l){return l===lx?uX:l})),16);return{type:30,start:i,end:s}}var a=parseInt(cr.apply(void 0,e),16);if(this.peekCodePoint(0)===Ss&&pg(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];pg(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(cr.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Ax?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ax?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Xo)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===ox||t===ax){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Xo||this.peekCodePoint(0)===D0)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),dx)}for(;;){var i=this.consumeCodePoint();if(i===Xo||i===D0)return{type:22,value:cr.apply(void 0,e)};if(ux(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Xo||this.peekCodePoint(0)===D0?(this.consumeCodePoint(),{type:22,value:cr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),dx);if(i===ax||i===ox||i===Ax||Hve(i))return this.consumeBadUrlRemnants(),dx;if(i===Pw)if(yc(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),dx;else e.push(i)}},n.prototype.consumeWhiteSpace=function(){for(;ux(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===D0||e===Xo)return;yc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var i=Math.min(t,e);r+=cr.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},n.prototype.consumeStringToken=function(e){var t="",r=0;do{var i=this._value[r];if(i===Xo||i===void 0||i===e)return t+=this.consumeStringSlice(r),{type:0,value:t};if(i===uT)return this._value.splice(0,r),eye;if(i===Pw){var s=this._value[r+1];s!==Xo&&s!==void 0&&(s===uT?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):yc(i,s)&&(t+=this.consumeStringSlice(r),t+=cr(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=WE,r=this.peekCodePoint(0);for((r===Rf||r===Ss)&&e.push(this.consumeCodePoint());Qi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Ww&&Qi(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=HG;Qi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===lX||r===oX)&&((i===Rf||i===Ss)&&Qi(s)||Qi(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=HG;Qi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Vve(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(cx(i,s,a)){var o=this.consumeName();return{type:15,number:t,flags:r,unit:o}}return i===lve?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(pg(e)){for(var t=cr(e);pg(this.peekCodePoint(0))&&t.length<6;)t+=cr(this.consumeCodePoint());ux(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||Nve(r)||r>1114111?GG:r}return e===Xo?GG:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(zG(t))e+=cr(t);else if(yc(t,this.peekCodePoint(0)))e+=cr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),dX=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new cX;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||lye(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?fL:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),YE=function(n){return n.type===15},yy=function(n){return n.type===17},un=function(n){return n.type===20},Aye=function(n){return n.type===0},hL=function(n,e){return un(n)&&n.value===e},fX=function(n){return n.type!==31},ey=function(n){return n.type!==31&&n.type!==4},NA=function(n){var e=[],t=[];return n.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&e.push(t),e},lye=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},Gd=function(n){return n.type===17||n.type===15},Sr=function(n){return n.type===16||Gd(n)},hX=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},Ei={type:17,number:0,flags:WE},ZQ={type:16,number:50,flags:WE},Ld={type:16,number:100,flags:WE},Ew=function(n,e,t){var r=n[0],i=n[1];return[En(r,e),En(typeof i<"u"?i:r,t)]},En=function(n,e){if(n.type===16)return n.number/100*e;if(YE(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},pX="deg",gX="grad",mX="rad",vX="turn",$1={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case pX:return Math.PI*e.number/180;case gX:return Math.PI/200*e.number;case mX:return e.number;case vX:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},yX=function(n){return n.type===15&&(n.unit===pX||n.unit===gX||n.unit===mX||n.unit===vX)},wX=function(n){var e=n.filter(un).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ei,Ei];case"to top":case"bottom":return Xa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ei,Ld];case"to right":case"left":return Xa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ld,Ld];case"to bottom":case"top":return Xa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ld,Ei];case"to left":case"right":return Xa(270)}return 0},Xa=function(n){return Math.PI*n/180},kd={name:"color",parse:function(n,e){if(e.type===18){var t=uye[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Qd(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return Qd(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Qd(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return Qd(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=du[e.value.toUpperCase()];if(typeof o<"u")return o}return du.TRANSPARENT}},Od=function(n){return(255&n)===0},zr=function(n){var e=255&n,t=255&n>>8,r=255&n>>16,i=255&n>>24;return e<255?"rgba("+i+","+r+","+t+","+e/255+")":"rgb("+i+","+r+","+t+")"},Qd=function(n,e,t,r){return(n<<24|e<<16|t<<8|Math.round(r*255)<<0)>>>0},qG=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},$G=function(n,e){var t=e.filter(ey);if(t.length===3){var r=t.map(qG),i=r[0],s=r[1],a=r[2];return Qd(i,s,a,1)}if(t.length===4){var o=t.map(qG),i=o[0],s=o[1],a=o[2],l=o[3];return Qd(i,s,a,l)}return 0};function TU(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var jG=function(n,e){var t=e.filter(ey),r=t[0],i=t[1],s=t[2],a=t[3],o=(r.type===17?Xa(r.number):$1.parse(n,r))/(Math.PI*2),l=Sr(i)?i.number/100:0,u=Sr(s)?s.number/100:0,d=typeof a<"u"&&Sr(a)?En(a,1):1;if(l===0)return Qd(u*255,u*255,u*255,1);var h=u<=.5?u*(l+1):u+l-u*l,g=u*2-h,v=TU(g,h,o+1/3),C=TU(g,h,o),b=TU(g,h,o-1/3);return Qd(v*255,C*255,b*255,d)},uye={hsl:jG,hsla:jG,rgb:$G,rgba:$G},Rw=function(n,e){return kd.parse(n,dX.create(e).parseComponentValue())},du={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},cye={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(un(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},dye={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},j1=function(n,e){var t=kd.parse(n,e[0]),r=e[1];return r&&Sr(r)?{color:t,stop:r}:{color:t,stop:null}},WG=function(n,e){var t=n[0],r=n[n.length-1];t.stop===null&&(t.stop=Ei),r.stop===null&&(r.stop=Ld);for(var i=[],s=0,a=0;a<n.length;a++){var o=n[a].stop;if(o!==null){var l=En(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var u=null,a=0;a<i.length;a++){var d=i[a];if(d===null)u===null&&(u=a);else if(u!==null){for(var h=a-u,g=i[u-1],v=(d-g)/(h+1),C=1;C<=h;C++)i[u+C-1]=v*C;u=null}}return n.map(function(b,B){var S=b.color;return{color:S,stop:Math.max(Math.min(1,i[B]/e),0)}})},fye=function(n,e,t){var r=e/2,i=t/2,s=En(n[0],e)-r,a=i-En(n[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},hye=function(n,e,t){var r=typeof n=="number"?n:fye(n,e,t),i=Math.abs(e*Math.sin(r))+Math.abs(t*Math.cos(r)),s=e/2,a=t/2,o=i/2,l=Math.sin(r-Math.PI/2)*o,u=Math.cos(r-Math.PI/2)*o;return[i,s-u,s+u,a-l,a+l]},go=function(n,e){return Math.sqrt(n*n+e*e)},YG=function(n,e,t,r,i){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(a,o){var l=o[0],u=o[1],d=go(t-l,r-u);return(i?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:o,optimumDistance:d}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},pye=function(n,e,t,r,i){var s=0,a=0;switch(n.size){case 0:n.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(n.shape===0)s=a=Math.min(go(e,t),go(e,t-i),go(e-r,t),go(e-r,t-i));else if(n.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=YG(r,i,e,t,!0),u=l[0],d=l[1];s=go(u-e,(d-t)/o),a=o*s}break;case 1:n.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(n.shape===0)s=a=Math.max(go(e,t),go(e,t-i),go(e-r,t),go(e-r,t-i));else if(n.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-r)),h=YG(r,i,e,t,!1),u=h[0],d=h[1];s=go(u-e,(d-t)/o),a=o*s}break}return Array.isArray(n.size)&&(s=En(n.size[0],r),a=n.size.length===2?En(n.size[1],i):s),[s,a]},gye=function(n,e){var t=Xa(180),r=[];return NA(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){t=wX(i);return}else if(yX(a)){t=$1.parse(n,a);return}}var o=j1(n,i);r.push(o)}),{angle:t,stops:r,type:1}},fx=function(n,e){var t=Xa(180),r=[];return NA(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=wX(i);return}else if(yX(a)){t=($1.parse(n,a)+Xa(270))%Xa(360);return}}var o=j1(n,i);r.push(o)}),{angle:t,stops:r,type:1}},mye=function(n,e){var t=Xa(180),r=[],i=1,s=0,a=3,o=[];return NA(e).forEach(function(l,u){var d=l[0];if(u===0){if(un(d)&&d.value==="linear"){i=1;return}else if(un(d)&&d.value==="radial"){i=2;return}}if(d.type===18){if(d.name==="from"){var h=kd.parse(n,d.values[0]);r.push({stop:Ei,color:h})}else if(d.name==="to"){var h=kd.parse(n,d.values[0]);r.push({stop:Ld,color:h})}else if(d.name==="color-stop"){var g=d.values.filter(ey);if(g.length===2){var h=kd.parse(n,g[1]),v=g[0];yy(v)&&r.push({stop:{type:16,number:v.number*100,flags:v.flags},color:h})}}}}),i===1?{angle:(t+Xa(180))%Xa(360),stops:r,type:i}:{size:a,shape:s,stops:r,position:o,type:i}},bX="closest-side",CX="farthest-side",EX="closest-corner",BX="farthest-corner",SX="circle",xX="ellipse",_X="cover",TX="contain",vye=function(n,e){var t=0,r=3,i=[],s=[];return NA(e).forEach(function(a,o){var l=!0;if(o===0){var u=!1;l=a.reduce(function(h,g){if(u)if(un(g))switch(g.value){case"center":return s.push(ZQ),h;case"top":case"left":return s.push(Ei),h;case"right":case"bottom":return s.push(Ld),h}else(Sr(g)||Gd(g))&&s.push(g);else if(un(g))switch(g.value){case SX:return t=0,!1;case xX:return t=1,!1;case"at":return u=!0,!1;case bX:return r=0,!1;case _X:case CX:return r=1,!1;case TX:case EX:return r=2,!1;case BX:return r=3,!1}else if(Gd(g)||Sr(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return h},l)}if(l){var d=j1(n,a);i.push(d)}}),{size:r,shape:t,stops:i,position:s,type:2}},hx=function(n,e){var t=0,r=3,i=[],s=[];return NA(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(d,h){if(un(h))switch(h.value){case"center":return s.push(ZQ),!1;case"top":case"left":return s.push(Ei),!1;case"right":case"bottom":return s.push(Ld),!1}else if(Sr(h)||Gd(h))return s.push(h),!1;return d},l):o===1&&(l=a.reduce(function(d,h){if(un(h))switch(h.value){case SX:return t=0,!1;case xX:return t=1,!1;case TX:case bX:return r=0,!1;case CX:return r=1,!1;case EX:return r=2,!1;case _X:case BX:return r=3,!1}else if(Gd(h)||Sr(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return d},l)),l){var u=j1(n,a);i.push(u)}}),{size:r,shape:t,stops:i,position:s,type:2}},yye=function(n){return n.type===1},wye=function(n){return n.type===2},ek={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var r=IX[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function bye(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!IX[n.name])}var IX={"linear-gradient":gye,"-moz-linear-gradient":fx,"-ms-linear-gradient":fx,"-o-linear-gradient":fx,"-webkit-linear-gradient":fx,"radial-gradient":vye,"-moz-radial-gradient":hx,"-ms-radial-gradient":hx,"-o-radial-gradient":hx,"-webkit-radial-gradient":hx,"-webkit-gradient":mye},Cye={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(r){return ey(r)&&bye(r)}).map(function(r){return ek.parse(n,r)})}},Eye={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(un(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Bye={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return NA(e).map(function(t){return t.filter(Sr)}).map(hX)}},Sye={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return NA(e).map(function(t){return t.filter(un).map(function(r){return r.value}).join(" ")}).map(xye)}},xye=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Jg;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(Jg||(Jg={}));var _ye={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return NA(e).map(function(t){return t.filter(Tye)})}},Tye=function(n){return un(n)||Sr(n)},W1=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Iye=W1("top"),Fye=W1("right"),Mye=W1("bottom"),Uye=W1("left"),Y1=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return hX(t.filter(Sr))}}},Pye=Y1("top-left"),Rye=Y1("top-right"),Dye=Y1("bottom-right"),Nye=Y1("bottom-left"),X1=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Lye=X1("top"),Qye=X1("right"),kye=X1("bottom"),Oye=X1("left"),J1=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return YE(t)?t.number:0}}},Hye=J1("top"),Vye=J1("right"),Kye=J1("bottom"),Gye=J1("left"),zye={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qye={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},$ye={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(un).reduce(function(t,r){return t|jye(r.value)},0)}},jye=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Wye={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Yye={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},dT;(function(n){n.NORMAL="normal",n.STRICT="strict"})(dT||(dT={}));var Xye={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return dT.STRICT;case"normal":default:return dT.NORMAL}}},Jye={name:"line-height",initialValue:"normal",prefix:!1,type:4},XG=function(n,e){return un(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:Sr(n)?En(n,e):e},Zye={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:ek.parse(n,e)}},e0e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},pL={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Z1=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},t0e=Z1("top"),n0e=Z1("right"),r0e=Z1("bottom"),i0e=Z1("left"),s0e={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(un).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},a0e={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},eI=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},o0e=eI("top"),A0e=eI("right"),l0e=eI("bottom"),u0e=eI("left"),c0e={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},d0e={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},f0e={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&hL(e[0],"none")?[]:NA(e).map(function(t){for(var r={color:du.TRANSPARENT,offsetX:Ei,offsetY:Ei,blur:Ei},i=0,s=0;s<t.length;s++){var a=t[s];Gd(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:r.blur=a,i++):r.color=kd.parse(n,a)}return r})}},h0e={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},p0e={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=v0e[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},g0e=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},m0e=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,r,i,s,a,o]:null},v0e={matrix:g0e,matrix3d:m0e},JG={type:16,number:50,flags:WE},y0e=[JG,JG],w0e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(Sr);return t.length!==2?y0e:[t[0],t[1]]}},b0e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Dw;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(Dw||(Dw={}));var C0e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return Dw.BREAK_ALL;case"keep-all":return Dw.KEEP_ALL;case"normal":default:return Dw.NORMAL}}},E0e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(yy(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},FX={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},B0e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return yy(e)?e.number:1}},S0e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},x0e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(un).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},_0e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},T0e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},I0e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(yy(e))return e.number;if(un(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},F0e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(un).map(function(t){return t.value})}},M0e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Lr=function(n,e){return(n&e)!==0},U0e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},P0e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var r=[],i=e.filter(fX),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&yy(o)?o.number:1;r.push({counter:a.value,increment:l})}}return r}},R0e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],r=e.filter(fX),i=0;i<r.length;i++){var s=r[i],a=r[i+1];if(un(s)&&s.value!=="none"){var o=a&&yy(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},D0e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(YE).map(function(t){return FX.parse(n,t)})}},N0e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var r=[],i=e.filter(Aye);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;r.push({open:a,close:o})}return r}},ZG=function(n,e,t){if(!n)return"";var r=n[Math.min(e,n.length-1)];return r?t?r.open:r.close:""},L0e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&hL(e[0],"none")?[]:NA(e).map(function(t){for(var r={color:255,offsetX:Ei,offsetY:Ei,blur:Ei,spread:Ei,inset:!1},i=0,s=0;s<t.length;s++){var a=t[s];hL(a,"inset")?r.inset=!0:Gd(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:i===2?r.blur=a:r.spread=a,i++):r.color=kd.parse(n,a)}return r})}},Q0e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],r=[];return e.filter(un).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},k0e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},O0e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return YE(e)?e.number:0}},H0e=(function(){function n(e,t){var r,i;this.animationDuration=Re(e,D0e,t.animationDuration),this.backgroundClip=Re(e,cye,t.backgroundClip),this.backgroundColor=Re(e,dye,t.backgroundColor),this.backgroundImage=Re(e,Cye,t.backgroundImage),this.backgroundOrigin=Re(e,Eye,t.backgroundOrigin),this.backgroundPosition=Re(e,Bye,t.backgroundPosition),this.backgroundRepeat=Re(e,Sye,t.backgroundRepeat),this.backgroundSize=Re(e,_ye,t.backgroundSize),this.borderTopColor=Re(e,Iye,t.borderTopColor),this.borderRightColor=Re(e,Fye,t.borderRightColor),this.borderBottomColor=Re(e,Mye,t.borderBottomColor),this.borderLeftColor=Re(e,Uye,t.borderLeftColor),this.borderTopLeftRadius=Re(e,Pye,t.borderTopLeftRadius),this.borderTopRightRadius=Re(e,Rye,t.borderTopRightRadius),this.borderBottomRightRadius=Re(e,Dye,t.borderBottomRightRadius),this.borderBottomLeftRadius=Re(e,Nye,t.borderBottomLeftRadius),this.borderTopStyle=Re(e,Lye,t.borderTopStyle),this.borderRightStyle=Re(e,Qye,t.borderRightStyle),this.borderBottomStyle=Re(e,kye,t.borderBottomStyle),this.borderLeftStyle=Re(e,Oye,t.borderLeftStyle),this.borderTopWidth=Re(e,Hye,t.borderTopWidth),this.borderRightWidth=Re(e,Vye,t.borderRightWidth),this.borderBottomWidth=Re(e,Kye,t.borderBottomWidth),this.borderLeftWidth=Re(e,Gye,t.borderLeftWidth),this.boxShadow=Re(e,L0e,t.boxShadow),this.color=Re(e,zye,t.color),this.direction=Re(e,qye,t.direction),this.display=Re(e,$ye,t.display),this.float=Re(e,Wye,t.cssFloat),this.fontFamily=Re(e,_0e,t.fontFamily),this.fontSize=Re(e,T0e,t.fontSize),this.fontStyle=Re(e,M0e,t.fontStyle),this.fontVariant=Re(e,F0e,t.fontVariant),this.fontWeight=Re(e,I0e,t.fontWeight),this.letterSpacing=Re(e,Yye,t.letterSpacing),this.lineBreak=Re(e,Xye,t.lineBreak),this.lineHeight=Re(e,Jye,t.lineHeight),this.listStyleImage=Re(e,Zye,t.listStyleImage),this.listStylePosition=Re(e,e0e,t.listStylePosition),this.listStyleType=Re(e,pL,t.listStyleType),this.marginTop=Re(e,t0e,t.marginTop),this.marginRight=Re(e,n0e,t.marginRight),this.marginBottom=Re(e,r0e,t.marginBottom),this.marginLeft=Re(e,i0e,t.marginLeft),this.opacity=Re(e,B0e,t.opacity);var s=Re(e,s0e,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Re(e,a0e,t.overflowWrap),this.paddingTop=Re(e,o0e,t.paddingTop),this.paddingRight=Re(e,A0e,t.paddingRight),this.paddingBottom=Re(e,l0e,t.paddingBottom),this.paddingLeft=Re(e,u0e,t.paddingLeft),this.paintOrder=Re(e,Q0e,t.paintOrder),this.position=Re(e,d0e,t.position),this.textAlign=Re(e,c0e,t.textAlign),this.textDecorationColor=Re(e,S0e,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=Re(e,x0e,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=Re(e,f0e,t.textShadow),this.textTransform=Re(e,h0e,t.textTransform),this.transform=Re(e,p0e,t.transform),this.transformOrigin=Re(e,w0e,t.transformOrigin),this.visibility=Re(e,b0e,t.visibility),this.webkitTextStrokeColor=Re(e,k0e,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Re(e,O0e,t.webkitTextStrokeWidth),this.wordBreak=Re(e,C0e,t.wordBreak),this.zIndex=Re(e,E0e,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Od(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return Lr(this.display,4)||Lr(this.display,33554432)||Lr(this.display,268435456)||Lr(this.display,536870912)||Lr(this.display,67108864)||Lr(this.display,134217728)},n})(),V0e=(function(){function n(e,t){this.content=Re(e,U0e,t.content),this.quotes=Re(e,N0e,t.quotes)}return n})(),ez=(function(){function n(e,t){this.counterIncrement=Re(e,P0e,t.counterIncrement),this.counterReset=Re(e,R0e,t.counterReset)}return n})(),Re=function(n,e,t){var r=new cX,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;r.write(i);var s=new dX(r.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(n,un(a)?a.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return $1.parse(n,s.parseComponentValue());case"color":return kd.parse(n,s.parseComponentValue());case"image":return ek.parse(n,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Gd(o)?o:Ei;case"length-percentage":var l=s.parseComponentValue();return Sr(l)?l:Ei;case"time":return FX.parse(n,s.parseComponentValue())}break}},K0e="data-html2canvas-debug",G0e=function(n){var e=n.getAttribute(K0e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},gL=function(n,e){var t=G0e(n);return t===1||e===t},LA=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,gL(t,3))debugger;this.styles=new H0e(e,window.getComputedStyle(t,null)),yL(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=z1(this.context,t),gL(t,4)&&(this.flags|=16)}return n})(),z0e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",tz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var px=0;px<tz.length;px++)Bw[tz.charCodeAt(px)]=px;var q0e=function(n){var e=n.length*.75,t=n.length,r,i=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<t;r+=4)s=Bw[n.charCodeAt(r)],a=Bw[n.charCodeAt(r+1)],o=Bw[n.charCodeAt(r+2)],l=Bw[n.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|l&63;return u},$0e=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},j0e=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},dp=5,tk=11,IU=2,W0e=tk-dp,MX=65536>>dp,Y0e=1<<dp,FU=Y0e-1,X0e=1024>>dp,J0e=MX+X0e,Z0e=J0e,ewe=32,twe=Z0e+ewe,nwe=65536>>tk,rwe=1<<W0e,iwe=rwe-1,nz=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},swe=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},awe=function(n,e){var t=q0e(n),r=Array.isArray(t)?j0e(t):new Uint32Array(t),i=Array.isArray(t)?$0e(t):new Uint16Array(t),s=24,a=nz(i,s/2,r[4]/2),o=r[5]===2?nz(i,(s+r[4])/2):swe(r,Math.ceil((s+r[4])/4));return new owe(r[0],r[1],r[2],r[3],a,o)},owe=(function(){function n(e,t,r,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>dp],t=(t<<IU)+(e&FU),this.data[t];if(e<=65535)return t=this.index[MX+(e-55296>>dp)],t=(t<<IU)+(e&FU),this.data[t];if(e<this.highStart)return t=twe-nwe+(e>>tk),t=this.index[t],t+=e>>dp&iwe,t=this.index[t],t=(t<<IU)+(e&FU),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),rz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Awe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gx=0;gx<rz.length;gx++)Awe[rz.charCodeAt(gx)]=gx;var lwe=1,MU=2,UU=3,iz=4,sz=5,uwe=7,az=8,PU=9,RU=10,oz=11,Az=12,lz=13,uz=14,DU=15,cwe=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},dwe=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var a=n[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},fwe=awe(z0e),Ua="",NU="",hwe=function(n){return fwe.get(n)},pwe=function(n,e,t){var r=t-2,i=e[r],s=e[t-1],a=e[t];if(s===MU&&a===UU)return Ua;if(s===MU||s===UU||s===iz||a===MU||a===UU||a===iz)return NU;if(s===az&&[az,PU,oz,Az].indexOf(a)!==-1||(s===oz||s===PU)&&(a===PU||a===RU)||(s===Az||s===RU)&&a===RU||a===lz||a===sz||a===uwe||s===lwe)return Ua;if(s===lz&&a===uz){for(;i===sz;)i=e[--r];if(i===uz)return Ua}if(s===DU&&a===DU){for(var o=0;i===DU;)o++,i=e[--r];if(o%2===0)return Ua}return NU},gwe=function(n){var e=cwe(n),t=e.length,r=0,i=0,s=e.map(hwe);return{next:function(){if(r>=t)return{done:!0,value:null};for(var a=Ua;r<t&&(a=pwe(e,s,++r))===Ua;);if(a!==Ua||r===t){var o=dwe.apply(null,e.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},mwe=function(n){for(var e=gwe(n),t=[],r;!(r=e.next()).done;)r.value&&t.push(r.value.slice());return t},vwe=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var r=n.createElement("boundtest");r.style.height=e+"px",r.style.display="block",n.body.appendChild(r),t.selectNode(r);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(n.body.removeChild(r),s===e)return!0}}return!1},ywe=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=q1(r.data).map(function(l){return cr(l)}),s=0,a={},o=i.every(function(l,u){t.setStart(r,s),t.setEnd(r,s+l.length);var d=t.getBoundingClientRect();s+=l.length;var h=d.x>a.x||d.y>a.y;return a=d,u===0?!0:h});return n.body.removeChild(e),o},wwe=function(){return typeof new Image().crossOrigin<"u"},bwe=function(){return typeof new XMLHttpRequest().responseType=="string"},Cwe=function(n){var e=new Image,t=n.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},cz=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},Ewe=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var a=mL(t,t,0,0,i);return r.fillStyle="red",r.fillRect(0,0,t,t),dz(a).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var u=n.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",cz(l)?dz(mL(t,t,0,0,u)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),cz(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},mL=function(n,e,t,r,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},dz=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},vi={get SUPPORT_RANGE_BOUNDS(){var n=vwe(document);return Object.defineProperty(vi,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=vi.SUPPORT_RANGE_BOUNDS&&ywe(document);return Object.defineProperty(vi,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=Cwe(document);return Object.defineProperty(vi,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?Ewe(document):Promise.resolve(!1);return Object.defineProperty(vi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=wwe();return Object.defineProperty(vi,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=bwe();return Object.defineProperty(vi,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(vi,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(vi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},Nw=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),Bwe=function(n,e,t,r){var i=_we(e,t),s=[],a=0;return i.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(vi.SUPPORT_RANGE_BOUNDS){var l=fz(r,a,o.length).getClientRects();if(l.length>1){var u=nk(o),d=0;u.forEach(function(g){s.push(new Nw(g,yu.fromDOMRectList(n,fz(r,d+a,g.length).getClientRects()))),d+=g.length})}else s.push(new Nw(o,yu.fromDOMRectList(n,l)))}else{var h=r.splitText(o.length);s.push(new Nw(o,Swe(n,r))),r=h}else vi.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));a+=o.length}),s},Swe=function(n,e){var t=e.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=z1(n,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return yu.EMPTY},fz=function(n,e,t){var r=n.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(n,e),i.setEnd(n,e+t),i},nk=function(n){if(vi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return mwe(n)},xwe=function(n,e){if(vi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(r){return r.segment})}return Iwe(n,e)},_we=function(n,e){return e.letterSpacing!==0?nk(n):xwe(n,e)},Twe=[32,160,4961,65792,65793,4153,4241],Iwe=function(n,e){for(var t=nve(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var a=i.value.slice(),o=q1(a),l="";o.forEach(function(u){Twe.indexOf(u)===-1?l+=cr(u):(l.length&&r.push(l),r.push(cr(u)),l="")}),l.length&&r.push(l)}};!(i=t.next()).done;)s();return r},Fwe=(function(){function n(e,t,r){this.text=Mwe(t.data,r.textTransform),this.textBounds=Bwe(e,this.text,r,t)}return n})(),Mwe=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(Uwe,Pwe);case 2:return n.toUpperCase();default:return n}},Uwe=/(^|\s|:|-|\(|\))([a-z])/g,Pwe=function(n,e,t){return n.length>0?e+t.toUpperCase():n},UX=(function(n){Ho(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e})(LA),PX=(function(n){Ho(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e})(LA),RX=(function(n){Ho(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=new XMLSerializer,a=z1(t,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(LA),DX=(function(n){Ho(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e})(LA),vL=(function(n){Ho(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e})(LA),Rwe=[{type:15,flags:0,unit:"px",number:3}],Dwe=[{type:16,flags:0,number:50}],Nwe=function(n){return n.width>n.height?new yu(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new yu(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},Lwe=function(n){var e=n.type===Qwe?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},fT="checkbox",hT="radio",Qwe="password",hz=707406591,rk=(function(n){Ho(e,n);function e(t,r){var i=n.call(this,t,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=Lwe(r),(i.type===fT||i.type===hT)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Nwe(i.bounds)),i.type){case fT:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Rwe;break;case hT:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Dwe;break}return i}return e})(LA),NX=(function(n){Ho(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(LA),LX=(function(n){Ho(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e})(LA),QX=(function(n){Ho(e,n);function e(t,r){var i=n.call(this,t,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=OX(t,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?Rw(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):du.TRANSPARENT,a=r.contentWindow.document.body?Rw(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):du.TRANSPARENT;i.backgroundColor=Od(s)?Od(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e})(LA),kwe=["OL","UL","MENU"],k_=function(n,e,t,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,HX(i)&&i.data.trim().length>0)t.textNodes.push(new Fwe(n,i,t.styles));else if(kg(i))if(zX(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return k_(n,o,t,r)});else{var a=kX(n,i);a.styles.isVisible()&&(Owe(i,a,r)?a.flags|=4:Hwe(a.styles)&&(a.flags|=2),kwe.indexOf(i.tagName)!==-1&&(a.flags|=8),t.elements.push(a),i.slot,i.shadowRoot?k_(n,i.shadowRoot,a,r):!pT(i)&&!VX(i)&&!gT(i)&&k_(n,i,a,r))}},kX=function(n,e){return wL(e)?new UX(n,e):KX(e)?new PX(n,e):VX(e)?new RX(n,e):Vwe(e)?new DX(n,e):Kwe(e)?new vL(n,e):Gwe(e)?new rk(n,e):gT(e)?new NX(n,e):pT(e)?new LX(n,e):GX(e)?new QX(n,e):new LA(n,e)},OX=function(n,e){var t=kX(n,e);return t.flags|=4,k_(n,e,t,t),t},Owe=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||ik(n)&&t.styles.isTransparent()},Hwe=function(n){return n.isPositioned()||n.isFloating()},HX=function(n){return n.nodeType===Node.TEXT_NODE},kg=function(n){return n.nodeType===Node.ELEMENT_NODE},yL=function(n){return kg(n)&&typeof n.style<"u"&&!O_(n)},O_=function(n){return typeof n.className=="object"},Vwe=function(n){return n.tagName==="LI"},Kwe=function(n){return n.tagName==="OL"},Gwe=function(n){return n.tagName==="INPUT"},zwe=function(n){return n.tagName==="HTML"},VX=function(n){return n.tagName==="svg"},ik=function(n){return n.tagName==="BODY"},KX=function(n){return n.tagName==="CANVAS"},pz=function(n){return n.tagName==="VIDEO"},wL=function(n){return n.tagName==="IMG"},GX=function(n){return n.tagName==="IFRAME"},gz=function(n){return n.tagName==="STYLE"},qwe=function(n){return n.tagName==="SCRIPT"},pT=function(n){return n.tagName==="TEXTAREA"},gT=function(n){return n.tagName==="SELECT"},zX=function(n){return n.tagName==="SLOT"},mz=function(n){return n.tagName.indexOf("-")>0},$we=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(r){return t.counters[r].pop()})},n.prototype.parse=function(e){var t=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},n})(),vz={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},yz={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},jwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Wwe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},gg=function(n,e,t,r,i,s){return n<e||n>t?Yw(n,i,s.length>0):r.integers.reduce(function(a,o,l){for(;n>=o;)n-=o,a+=r.values[l];return a},"")+s},qX=function(n,e,t,r){var i="";do t||n--,i=r(n)+i,n/=e;while(n*e>=e);return i},or=function(n,e,t,r,i){var s=t-e+1;return(n<0?"-":"")+(qX(Math.abs(n),s,r,function(a){return cr(Math.floor(a%s)+e)})+i)},bf=function(n,e,t){t===void 0&&(t=". ");var r=e.length;return qX(Math.abs(n),r,!1,function(i){return e[Math.floor(i%r)]})+t},Pg=1,mc=2,vc=4,Sw=8,rl=function(n,e,t,r,i,s){if(n<-9999||n>9999)return Yw(n,4,i.length>0);var a=Math.abs(n),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var u=a%10;u===0&&Lr(s,Pg)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&Lr(s,mc)||u===1&&l===1&&Lr(s,vc)&&n>100||u===1&&l>1&&Lr(s,Sw)?o=e[u]+(l>0?t[l-1]:"")+o:u===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(n<0?r:"")+o},wz="",bz="",Cz="",LU="",Yw=function(n,e,t){var r=t?". ":"",i=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=or(n,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return bf(n,"",i);case 6:return gg(n,1,3999,vz,3,r).toLowerCase();case 7:return gg(n,1,3999,vz,3,r);case 8:return or(n,945,969,!1,r);case 9:return or(n,97,122,!1,r);case 10:return or(n,65,90,!1,r);case 11:return or(n,1632,1641,!0,r);case 12:case 49:return gg(n,1,9999,yz,3,r);case 35:return gg(n,1,9999,yz,3,r).toLowerCase();case 13:return or(n,2534,2543,!0,r);case 14:case 30:return or(n,6112,6121,!0,r);case 15:return bf(n,"",i);case 16:return bf(n,"",i);case 17:case 48:return rl(n,"",wz,"",i,mc|vc|Sw);case 47:return rl(n,"",bz,"",i,Pg|mc|vc|Sw);case 42:return rl(n,"",wz,"",i,mc|vc|Sw);case 41:return rl(n,"",bz,"",i,Pg|mc|vc|Sw);case 26:return rl(n,"","",Cz,i,0);case 25:return rl(n,"","",Cz,i,Pg|mc|vc);case 31:return rl(n,"","",LU,s,Pg|mc|vc);case 33:return rl(n,"","",LU,s,0);case 32:return rl(n,"","",LU,s,Pg|mc|vc);case 18:return or(n,2406,2415,!0,r);case 20:return gg(n,1,19999,Wwe,3,r);case 21:return or(n,2790,2799,!0,r);case 22:return or(n,2662,2671,!0,r);case 22:return gg(n,1,10999,jwe,3,r);case 23:return bf(n,"");case 24:return bf(n,"");case 27:return or(n,3302,3311,!0,r);case 28:return bf(n,"",i);case 29:return bf(n,"",i);case 34:return or(n,3792,3801,!0,r);case 37:return or(n,6160,6169,!0,r);case 38:return or(n,4160,4169,!0,r);case 39:return or(n,2918,2927,!0,r);case 40:return or(n,1776,1785,!0,r);case 43:return or(n,3046,3055,!0,r);case 44:return or(n,3174,3183,!0,r);case 45:return or(n,3664,3673,!0,r);case 46:return or(n,3872,3881,!0,r);case 3:default:return or(n,48,57,!0,r)}},$X="data-html2canvas-ignore",Ez=(function(){function n(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new $we,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var r=this,i=Ywe(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,u=Zwe(i).then(function(){return Yi(r,void 0,void 0,function(){var d,h;return Ni(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(rbe),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Jwe(l)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(tbe(document.doctype)+"<html></html>"),nbe(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},n.prototype.createElementClone=function(e){if(gL(e,2))debugger;if(KX(e))return this.createCanvasClone(e);if(pz(e))return this.createVideoClone(e);if(gz(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return wL(t)&&(wL(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),mz(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return QU(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},n.prototype.appendChildNode=function(e,t,r){(!kg(t)||!qwe(t)&&!t.hasAttribute($X)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!kg(t)||!gz(t))&&e.appendChild(this.cloneNode(t,r))},n.prototype.cloneChildNodes=function(e,t,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(kg(s)&&zX(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(t,o,r)})}else this.appendChildNode(t,s,r)},n.prototype.cloneNode=function(e,t){if(HX(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&kg(e)&&(yL(e)||O_(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),a=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&yL(i)&&(this.clonedReferenceElement=i),ik(i)&&abe(i);var l=this.counters.parse(new ez(this.context,s)),u=this.resolvePseudoContent(e,i,a,Lw.BEFORE);mz(e)&&(t=!0),pz(e)||this.cloneChildNodes(e,i,t),u&&i.insertBefore(u,i.firstChild);var d=this.resolvePseudoContent(e,i,o,Lw.AFTER);return d&&i.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||O_(e))&&!GX(e)||t)&&QU(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(pT(e)||gT(e))&&(pT(i)||gT(i))&&(i.value=e.value),i}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,r,i){var s=this;if(r){var a=r.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new ez(this.context,r));var l=new V0e(this.context,r),u=o.createElement("html2canvaspseudoelement");QU(r,u),l.content.forEach(function(h){if(h.type===0)u.appendChild(o.createTextNode(h.value));else if(h.type===22){var g=o.createElement("img");g.src=h.value,g.style.opacity="1",u.appendChild(g)}else if(h.type===18){if(h.name==="attr"){var v=h.values.filter(un);v.length&&u.appendChild(o.createTextNode(e.getAttribute(v[0].value)||""))}else if(h.name==="counter"){var C=h.values.filter(ey),b=C[0],B=C[1];if(b&&un(b)){var S=s.counters.getCounterValue(b.value),I=B&&un(B)?pL.parse(s.context,B.value):3;u.appendChild(o.createTextNode(Yw(S,I,!1)))}}else if(h.name==="counters"){var T=h.values.filter(ey),b=T[0],D=T[1],B=T[2];if(b&&un(b)){var U=s.counters.getCounterValues(b.value),R=B&&un(B)?pL.parse(s.context,B.value):3,Q=D&&D.type===0?D.value:"",H=U.map(function(K){return Yw(K,R,!1)}).join(Q);u.appendChild(o.createTextNode(H))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(o.createTextNode(ZG(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(ZG(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(h.value))}}),u.className=bL+" "+CL;var d=i===Lw.BEFORE?" "+bL:" "+CL;return O_(t)?t.className.baseValue+=d:t.className+=d,u}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),Lw;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(Lw||(Lw={}));var Ywe=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute($X,"true"),n.body.appendChild(t),t},Xwe=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},Jwe=function(n){return Promise.all([].slice.call(n.images,0).map(Xwe))},Zwe=function(n){return new Promise(function(e,t){var r=n.contentWindow;if(!r)return t("No window assigned for iframe");var i=r.document;r.onload=n.onload=function(){r.onload=n.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},ebe=["all","d","content"],QU=function(n,e){for(var t=n.length-1;t>=0;t--){var r=n.item(t);ebe.indexOf(r)===-1&&e.style.setProperty(r,n.getPropertyValue(r))}return e},tbe=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},nbe=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},rbe=function(n){var e=n[0],t=n[1],r=n[2];e.scrollLeft=t,e.scrollTop=r},ibe=":before",sbe=":after",bL="___html2canvas___pseudoelement_before",CL="___html2canvas___pseudoelement_after",Bz=`{
    content: "" !important;
    display: none !important;
}`,abe=function(n){obe(n,"."+bL+ibe+Bz+`
         .`+CL+sbe+Bz)},obe=function(n,e){var t=n.ownerDocument;if(t){var r=t.createElement("style");r.textContent=e,n.appendChild(r)}},jX=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),Abe=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(OU(e)||dbe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return Yi(this,void 0,void 0,function(){var t,r,i,s,a=this;return Ni(this,function(o){switch(o.label){case 0:return t=jX.isSameOrigin(e),r=!kU(e)&&this._options.useCORS===!0&&vi.SUPPORT_CORS_IMAGES&&!t,i=!kU(e)&&!t&&!OU(e)&&typeof this._options.proxy=="string"&&vi.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!kU(e)&&!OU(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,(fbe(s)||r)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=vi.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(g){return a(g)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var u=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var d=t._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+i)}}l.send()})},n})(),lbe=/^data:image\/svg\+xml/i,ube=/^data:image\/.*;base64,/i,cbe=/^data:image\/.*/i,dbe=function(n){return vi.SUPPORT_SVG_DRAWING||!hbe(n)},kU=function(n){return cbe.test(n)},fbe=function(n){return ube.test(n)},OU=function(n){return n.substr(0,4)==="blob"},hbe=function(n){return n.substr(-3).toLowerCase()==="svg"||lbe.test(n)},Ue=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),mg=function(n,e,t){return new Ue(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},mx=(function(){function n(e,t,r,i){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=i}return n.prototype.subdivide=function(e,t){var r=mg(this.start,this.startControl,e),i=mg(this.startControl,this.endControl,e),s=mg(this.endControl,this.end,e),a=mg(r,i,e),o=mg(i,s,e),l=mg(a,o,e);return t?new n(this.start,r,a,l):new n(l,o,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),Wa=function(n){return n.type===1},pbe=(function(){function n(e){var t=e.styles,r=e.bounds,i=Ew(t.borderTopLeftRadius,r.width,r.height),s=i[0],a=i[1],o=Ew(t.borderTopRightRadius,r.width,r.height),l=o[0],u=o[1],d=Ew(t.borderBottomRightRadius,r.width,r.height),h=d[0],g=d[1],v=Ew(t.borderBottomLeftRadius,r.width,r.height),C=v[0],b=v[1],B=[];B.push((s+l)/r.width),B.push((C+h)/r.width),B.push((a+b)/r.height),B.push((u+g)/r.height);var S=Math.max.apply(Math,B);S>1&&(s/=S,a/=S,l/=S,u/=S,h/=S,g/=S,C/=S,b/=S);var I=r.width-l,T=r.height-g,D=r.width-h,U=r.height-b,R=t.borderTopWidth,Q=t.borderRightWidth,H=t.borderBottomWidth,k=t.borderLeftWidth,G=En(t.paddingTop,e.bounds.width),K=En(t.paddingRight,e.bounds.width),z=En(t.paddingBottom,e.bounds.width),Z=En(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Rn(r.left+k/3,r.top+R/3,s-k/3,a-R/3,Gt.TOP_LEFT):new Ue(r.left+k/3,r.top+R/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Rn(r.left+I,r.top+R/3,l-Q/3,u-R/3,Gt.TOP_RIGHT):new Ue(r.left+r.width-Q/3,r.top+R/3),this.bottomRightBorderDoubleOuterBox=h>0||g>0?Rn(r.left+D,r.top+T,h-Q/3,g-H/3,Gt.BOTTOM_RIGHT):new Ue(r.left+r.width-Q/3,r.top+r.height-H/3),this.bottomLeftBorderDoubleOuterBox=C>0||b>0?Rn(r.left+k/3,r.top+U,C-k/3,b-H/3,Gt.BOTTOM_LEFT):new Ue(r.left+k/3,r.top+r.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Rn(r.left+k*2/3,r.top+R*2/3,s-k*2/3,a-R*2/3,Gt.TOP_LEFT):new Ue(r.left+k*2/3,r.top+R*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Rn(r.left+I,r.top+R*2/3,l-Q*2/3,u-R*2/3,Gt.TOP_RIGHT):new Ue(r.left+r.width-Q*2/3,r.top+R*2/3),this.bottomRightBorderDoubleInnerBox=h>0||g>0?Rn(r.left+D,r.top+T,h-Q*2/3,g-H*2/3,Gt.BOTTOM_RIGHT):new Ue(r.left+r.width-Q*2/3,r.top+r.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=C>0||b>0?Rn(r.left+k*2/3,r.top+U,C-k*2/3,b-H*2/3,Gt.BOTTOM_LEFT):new Ue(r.left+k*2/3,r.top+r.height-H*2/3),this.topLeftBorderStroke=s>0||a>0?Rn(r.left+k/2,r.top+R/2,s-k/2,a-R/2,Gt.TOP_LEFT):new Ue(r.left+k/2,r.top+R/2),this.topRightBorderStroke=s>0||a>0?Rn(r.left+I,r.top+R/2,l-Q/2,u-R/2,Gt.TOP_RIGHT):new Ue(r.left+r.width-Q/2,r.top+R/2),this.bottomRightBorderStroke=h>0||g>0?Rn(r.left+D,r.top+T,h-Q/2,g-H/2,Gt.BOTTOM_RIGHT):new Ue(r.left+r.width-Q/2,r.top+r.height-H/2),this.bottomLeftBorderStroke=C>0||b>0?Rn(r.left+k/2,r.top+U,C-k/2,b-H/2,Gt.BOTTOM_LEFT):new Ue(r.left+k/2,r.top+r.height-H/2),this.topLeftBorderBox=s>0||a>0?Rn(r.left,r.top,s,a,Gt.TOP_LEFT):new Ue(r.left,r.top),this.topRightBorderBox=l>0||u>0?Rn(r.left+I,r.top,l,u,Gt.TOP_RIGHT):new Ue(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||g>0?Rn(r.left+D,r.top+T,h,g,Gt.BOTTOM_RIGHT):new Ue(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=C>0||b>0?Rn(r.left,r.top+U,C,b,Gt.BOTTOM_LEFT):new Ue(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||a>0?Rn(r.left+k,r.top+R,Math.max(0,s-k),Math.max(0,a-R),Gt.TOP_LEFT):new Ue(r.left+k,r.top+R),this.topRightPaddingBox=l>0||u>0?Rn(r.left+Math.min(I,r.width-Q),r.top+R,I>r.width+Q?0:Math.max(0,l-Q),Math.max(0,u-R),Gt.TOP_RIGHT):new Ue(r.left+r.width-Q,r.top+R),this.bottomRightPaddingBox=h>0||g>0?Rn(r.left+Math.min(D,r.width-k),r.top+Math.min(T,r.height-H),Math.max(0,h-Q),Math.max(0,g-H),Gt.BOTTOM_RIGHT):new Ue(r.left+r.width-Q,r.top+r.height-H),this.bottomLeftPaddingBox=C>0||b>0?Rn(r.left+k,r.top+Math.min(U,r.height-H),Math.max(0,C-k),Math.max(0,b-H),Gt.BOTTOM_LEFT):new Ue(r.left+k,r.top+r.height-H),this.topLeftContentBox=s>0||a>0?Rn(r.left+k+Z,r.top+R+G,Math.max(0,s-(k+Z)),Math.max(0,a-(R+G)),Gt.TOP_LEFT):new Ue(r.left+k+Z,r.top+R+G),this.topRightContentBox=l>0||u>0?Rn(r.left+Math.min(I,r.width+k+Z),r.top+R+G,I>r.width+k+Z?0:l-k+Z,u-(R+G),Gt.TOP_RIGHT):new Ue(r.left+r.width-(Q+K),r.top+R+G),this.bottomRightContentBox=h>0||g>0?Rn(r.left+Math.min(D,r.width-(k+Z)),r.top+Math.min(T,r.height+R+G),Math.max(0,h-(Q+K)),g-(H+z),Gt.BOTTOM_RIGHT):new Ue(r.left+r.width-(Q+K),r.top+r.height-(H+z)),this.bottomLeftContentBox=C>0||b>0?Rn(r.left+k+Z,r.top+U,Math.max(0,C-(k+Z)),b-(H+z),Gt.BOTTOM_LEFT):new Ue(r.left+k+Z,r.top+r.height-(H+z))}return n})(),Gt;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Gt||(Gt={}));var Rn=function(n,e,t,r,i){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=r*s,l=n+t,u=e+r;switch(i){case Gt.TOP_LEFT:return new mx(new Ue(n,u),new Ue(n,u-o),new Ue(l-a,e),new Ue(l,e));case Gt.TOP_RIGHT:return new mx(new Ue(n,e),new Ue(n+a,e),new Ue(l,u-o),new Ue(l,u));case Gt.BOTTOM_RIGHT:return new mx(new Ue(l,e),new Ue(l,e+o),new Ue(n+a,u),new Ue(n,u));case Gt.BOTTOM_LEFT:default:return new mx(new Ue(l,u),new Ue(l-a,u),new Ue(n,e+o),new Ue(n,e))}},mT=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},gbe=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},vT=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},mbe=(function(){function n(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return n})(),vx=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),vbe=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),ybe=function(n){return n.type===0},WX=function(n){return n.type===1},wbe=function(n){return n.type===2},Sz=function(n,e){return n.length===e.length?n.some(function(t,r){return t===e[r]}):!1},bbe=function(n,e,t,r,i){return n.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+r,t);case 2:return s.add(e+r,t+i);case 3:return s.add(e,t+i)}return s})},YX=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),XX=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new pbe(this.container),this.container.styles.opacity<1&&this.effects.push(new vbe(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new mbe(r,i,s))}if(this.container.styles.overflowX!==0){var a=mT(this.curves),o=vT(this.curves);Sz(a,o)?this.effects.push(new vx(a,6)):(this.effects.push(new vx(a,2)),this.effects.push(new vx(o,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!WX(l)});if(t||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=mT(r.curves),o=vT(r.curves);Sz(a,o)||i.unshift(new vx(o,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(l){return Lr(l.target,e)})},n})(),EL=function(n,e,t,r){n.container.elements.forEach(function(i){var s=Lr(i.flags,4),a=Lr(i.flags,2),o=new XX(i,n);Lr(i.styles.display,2048)&&r.push(o);var l=Lr(i.flags,8)?[]:r;if(s||a){var u=s||i.styles.isPositioned()?t:e,d=new YX(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var h=i.styles.zIndex.order;if(h<0){var g=0;u.negativeZIndex.some(function(C,b){return h>C.element.container.styles.zIndex.order?(g=b,!1):g>0}),u.negativeZIndex.splice(g,0,d)}else if(h>0){var v=0;u.positiveZIndex.some(function(C,b){return h>=C.element.container.styles.zIndex.order?(v=b+1,!1):v>0}),u.positiveZIndex.splice(v,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else i.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);EL(o,d,s?d:t,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),EL(o,e,t,l);Lr(i.flags,8)&&JX(i,l)})},JX=function(n,e){for(var t=n instanceof vL?n.start:1,r=n instanceof vL?n.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof DX&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=Yw(t,s.container.styles.listStyleType,!0),t+=r?-1:1}},Cbe=function(n){var e=new XX(n,null),t=new YX(e),r=[];return EL(e,t,t,r),JX(e.container,r),t},xz=function(n,e){switch(e){case 0:return Ja(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return Ja(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return Ja(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return Ja(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},Ebe=function(n,e){switch(e){case 0:return Ja(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return Ja(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return Ja(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return Ja(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},Bbe=function(n,e){switch(e){case 0:return Ja(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return Ja(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return Ja(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return Ja(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},Sbe=function(n,e){switch(e){case 0:return yx(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return yx(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return yx(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return yx(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},yx=function(n,e){var t=[];return Wa(n)?t.push(n.subdivide(.5,!1)):t.push(n),Wa(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Ja=function(n,e,t,r){var i=[];return Wa(n)?i.push(n.subdivide(.5,!1)):i.push(n),Wa(t)?i.push(t.subdivide(.5,!0)):i.push(t),Wa(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Wa(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},ZX=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},yT=function(n){var e=n.styles,t=n.bounds,r=En(e.paddingLeft,t.width),i=En(e.paddingRight,t.width),s=En(e.paddingTop,t.width),a=En(e.paddingBottom,t.width);return t.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},xbe=function(n,e){return n===0?e.bounds:n===2?yT(e):ZX(e)},_be=function(n,e){return n===0?e.bounds:n===2?yT(e):ZX(e)},HU=function(n,e,t){var r=xbe(Rg(n.styles.backgroundOrigin,e),n),i=_be(Rg(n.styles.backgroundClip,e),n),s=Tbe(Rg(n.styles.backgroundSize,e),t,r),a=s[0],o=s[1],l=Ew(Rg(n.styles.backgroundPosition,e),r.width-a,r.height-o),u=Ibe(Rg(n.styles.backgroundRepeat,e),l,s,r,i),d=Math.round(r.left+l[0]),h=Math.round(r.top+l[1]);return[u,d,h,a,o]},vg=function(n){return un(n)&&n.value===Jg.AUTO},wx=function(n){return typeof n=="number"},Tbe=function(n,e,t){var r=e[0],i=e[1],s=e[2],a=n[0],o=n[1];if(!a)return[0,0];if(Sr(a)&&o&&Sr(o))return[En(a,t.width),En(o,t.height)];var l=wx(s);if(un(a)&&(a.value===Jg.CONTAIN||a.value===Jg.COVER)){if(wx(s)){var u=t.width/t.height;return u<s!=(a.value===Jg.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var d=wx(r),h=wx(i),g=d||h;if(vg(a)&&(!o||vg(o))){if(d&&h)return[r,i];if(!l&&!g)return[t.width,t.height];if(g&&l){var v=d?r:i*s,C=h?i:r/s;return[v,C]}var b=d?r:t.width,B=h?i:t.height;return[b,B]}if(l){var S=0,I=0;return Sr(a)?S=En(a,t.width):Sr(o)&&(I=En(o,t.height)),vg(a)?S=I*s:(!o||vg(o))&&(I=S/s),[S,I]}var T=null,D=null;if(Sr(a)?T=En(a,t.width):o&&Sr(o)&&(D=En(o,t.height)),T!==null&&(!o||vg(o))&&(D=d&&h?T/r*i:t.height),D!==null&&vg(a)&&(T=d&&h?D/i*r:t.width),T!==null&&D!==null)return[T,D];throw new Error("Unable to calculate background-size for element")},Rg=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},Ibe=function(n,e,t,r,i){var s=e[0],a=e[1],o=t[0],l=t[1];switch(n){case 2:return[new Ue(Math.round(r.left),Math.round(r.top+a)),new Ue(Math.round(r.left+r.width),Math.round(r.top+a)),new Ue(Math.round(r.left+r.width),Math.round(l+r.top+a)),new Ue(Math.round(r.left),Math.round(l+r.top+a))];case 3:return[new Ue(Math.round(r.left+s),Math.round(r.top)),new Ue(Math.round(r.left+s+o),Math.round(r.top)),new Ue(Math.round(r.left+s+o),Math.round(r.height+r.top)),new Ue(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new Ue(Math.round(r.left+s),Math.round(r.top+a)),new Ue(Math.round(r.left+s+o),Math.round(r.top+a)),new Ue(Math.round(r.left+s+o),Math.round(r.top+a+l)),new Ue(Math.round(r.left+s),Math.round(r.top+a+l))];default:return[new Ue(Math.round(i.left),Math.round(i.top)),new Ue(Math.round(i.left+i.width),Math.round(i.top)),new Ue(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Ue(Math.round(i.left),Math.round(i.height+i.top))]}},Fbe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",_z="Hidden Text",Mbe=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),i.src=Fbe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(_z)),r.appendChild(s),r.appendChild(i);var o=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(_z)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:o,middle:l}},n.prototype.getMetrics=function(e,t){var r=e+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},n})(),e9=(function(){function n(e,t){this.context=e,this.options=t}return n})(),Ube=1e4,Pbe=(function(n){Ho(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new Mbe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),wbe(t)&&(this.ctx.globalAlpha=t.opacity),ybe(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),WX(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Yi(this,void 0,void 0,function(){var r;return Ni(this,function(i){switch(i.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Yi(this,void 0,void 0,function(){return Ni(this,function(r){switch(r.label){case 0:if(Lr(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,r,i){var s=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var a=nk(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+i),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=Qbe(t.fontFamily).join(", "),s=YE(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,r){return Yi(this,void 0,void 0,function(){var i,s,a,o,l,u,d,h,g=this;return Ni(this,function(v){return i=this.createFontStyle(r),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),u=l.baseline,d=l.middle,h=r.paintOrder,t.textBounds.forEach(function(C){h.forEach(function(b){switch(b){case 0:g.ctx.fillStyle=zr(r.color),g.renderTextWithLetterSpacing(C,r.letterSpacing,u);var B=r.textShadow;B.length&&C.text.trim().length&&(B.slice(0).reverse().forEach(function(S){g.ctx.shadowColor=zr(S.color),g.ctx.shadowOffsetX=S.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=S.offsetY.number*g.options.scale,g.ctx.shadowBlur=S.blur.number,g.renderTextWithLetterSpacing(C,r.letterSpacing,u)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),r.textDecorationLine.length&&(g.ctx.fillStyle=zr(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(S){switch(S){case 1:g.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top+u),C.bounds.width,1);break;case 2:g.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top),C.bounds.width,1);break;case 3:g.ctx.fillRect(C.bounds.left,Math.ceil(C.bounds.top+d),C.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&C.text.trim().length&&(g.ctx.strokeStyle=zr(r.webkitTextStrokeColor),g.ctx.lineWidth=r.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(C.text,C.bounds.left,C.bounds.top+u)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,r,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=yT(t),a=vT(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Yi(this,void 0,void 0,function(){var r,i,s,a,o,l,I,I,u,d,h,g,D,v,C,U,b,B,S,I,T,D,U;return Ni(this,function(R){switch(R.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,i=t.curves,s=r.styles,a=0,o=r.textNodes,R.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:R.sent(),R.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof UX))return[3,8];R.label=5;case 5:return R.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return I=R.sent(),this.renderReplacedElement(r,i,I),[3,8];case 7:return R.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof PX&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof RX))return[3,12];R.label=9;case 9:return R.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return I=R.sent(),this.renderReplacedElement(r,i,I),[3,12];case 11:return R.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof QX&&r.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:d=R.sent(),r.width&&r.height&&this.ctx.drawImage(d,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),R.label=14;case 14:if(r instanceof rk&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===fT?r.checked&&(this.ctx.save(),this.path([new Ue(r.bounds.left+h*.39363,r.bounds.top+h*.79),new Ue(r.bounds.left+h*.16,r.bounds.top+h*.5549),new Ue(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new Ue(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new Ue(r.bounds.left+h*.72983,r.bounds.top+h*.23),new Ue(r.bounds.left+h*.84,r.bounds.top+h*.34085),new Ue(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=zr(hz),this.ctx.fill(),this.ctx.restore()):r.type===hT&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=zr(hz),this.ctx.fill(),this.ctx.restore())),Rbe(r)&&r.value.length){switch(g=this.createFontStyle(s),D=g[0],v=g[1],C=this.fontMetrics.getMetrics(D,v).baseline,this.ctx.font=D,this.ctx.fillStyle=zr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Nbe(r.styles.textAlign),U=yT(r),b=0,r.styles.textAlign){case 1:b+=U.width/2;break;case 2:b+=U.width;break}B=U.add(b,0,0,-U.height/2+1),this.ctx.save(),this.path([new Ue(U.left,U.top),new Ue(U.left+U.width,U.top),new Ue(U.left+U.width,U.top+U.height),new Ue(U.left,U.top+U.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Nw(r.value,B),s.letterSpacing,C),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Lr(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(S=r.styles.listStyleImage,S.type!==0)return[3,18];I=void 0,T=S.url,R.label=15;case 15:return R.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return I=R.sent(),this.ctx.drawImage(I,r.bounds.left-(I.width+10),r.bounds.top),[3,18];case 17:return R.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(D=this.createFontStyle(s)[0],this.ctx.font=D,this.ctx.fillStyle=zr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",U=new yu(r.bounds.left,r.bounds.top+En(r.styles.paddingTop,r.bounds.width),r.bounds.width,XG(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Nw(t.listValue,U),s.letterSpacing,XG(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),R.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Yi(this,void 0,void 0,function(){var r,i,S,s,a,S,o,l,S,u,d,S,h,g,S,v,C,S,b,B,S;return Ni(this,function(I){switch(I.label){case 0:if(Lr(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:I.sent(),r=0,i=t.negativeZIndex,I.label=2;case 2:return r<i.length?(S=i[r],[4,this.renderStack(S)]):[3,5];case 3:I.sent(),I.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:I.sent(),s=0,a=t.nonInlineLevel,I.label=7;case 7:return s<a.length?(S=a[s],[4,this.renderNode(S)]):[3,10];case 8:I.sent(),I.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,I.label=11;case 11:return o<l.length?(S=l[o],[4,this.renderStack(S)]):[3,14];case 12:I.sent(),I.label=13;case 13:return o++,[3,11];case 14:u=0,d=t.nonPositionedInlineLevel,I.label=15;case 15:return u<d.length?(S=d[u],[4,this.renderStack(S)]):[3,18];case 16:I.sent(),I.label=17;case 17:return u++,[3,15];case 18:h=0,g=t.inlineLevel,I.label=19;case 19:return h<g.length?(S=g[h],[4,this.renderNode(S)]):[3,22];case 20:I.sent(),I.label=21;case 21:return h++,[3,19];case 22:v=0,C=t.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return v<C.length?(S=C[v],[4,this.renderStack(S)]):[3,26];case 24:I.sent(),I.label=25;case 25:return v++,[3,23];case 26:b=0,B=t.positiveZIndex,I.label=27;case 27:return b<B.length?(S=B[b],[4,this.renderStack(S)]):[3,30];case 28:I.sent(),I.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var r=this;t.forEach(function(i,s){var a=Wa(i)?i.start:i;s===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),Wa(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,r,i,s){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,r,i){var s;if(t.width===r&&t.height===i)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,r,i),o},e.prototype.renderBackgroundImage=function(t){return Yi(this,void 0,void 0,function(){var r,i,s,a,o,l;return Ni(this,function(u){switch(u.label){case 0:r=t.styles.backgroundImage.length-1,i=function(d){var h,g,v,G,V,j,Z,Y,H,C,G,V,j,Z,Y,b,B,S,I,T,D,U,R,Q,H,k,G,K,z,Z,Y,ve,V,j,se,pe,Ee,q,ee,oe,Ce,ie;return Ni(this,function(ue){switch(ue.label){case 0:if(d.type!==0)return[3,5];h=void 0,g=d.url,ue.label=1;case 1:return ue.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return h=ue.sent(),[3,4];case 3:return ue.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return h&&(v=HU(t,r,[h.width,h.height,h.width/h.height]),G=v[0],V=v[1],j=v[2],Z=v[3],Y=v[4],H=s.ctx.createPattern(s.resizeImage(h,Z,Y),"repeat"),s.renderRepeat(G,H,V,j)),[3,6];case 5:yye(d)?(C=HU(t,r,[null,null,null]),G=C[0],V=C[1],j=C[2],Z=C[3],Y=C[4],b=hye(d.angle,Z,Y),B=b[0],S=b[1],I=b[2],T=b[3],D=b[4],U=document.createElement("canvas"),U.width=Z,U.height=Y,R=U.getContext("2d"),Q=R.createLinearGradient(S,T,I,D),WG(d.stops,B).forEach(function(ce){return Q.addColorStop(ce.stop,zr(ce.color))}),R.fillStyle=Q,R.fillRect(0,0,Z,Y),Z>0&&Y>0&&(H=s.ctx.createPattern(U,"repeat"),s.renderRepeat(G,H,V,j))):wye(d)&&(k=HU(t,r,[null,null,null]),G=k[0],K=k[1],z=k[2],Z=k[3],Y=k[4],ve=d.position.length===0?[ZQ]:d.position,V=En(ve[0],Z),j=En(ve[ve.length-1],Y),se=pye(d,V,j,Z,Y),pe=se[0],Ee=se[1],pe>0&&Ee>0&&(q=s.ctx.createRadialGradient(K+V,z+j,0,K+V,z+j,pe),WG(d.stops,pe*2).forEach(function(ce){return q.addColorStop(ce.stop,zr(ce.color))}),s.path(G),s.ctx.fillStyle=q,pe!==Ee?(ee=t.bounds.left+.5*t.bounds.width,oe=t.bounds.top+.5*t.bounds.height,Ce=Ee/pe,ie=1/Ce,s.ctx.save(),s.ctx.translate(ee,oe),s.ctx.transform(1,0,0,Ce,0,0),s.ctx.translate(-ee,-oe),s.ctx.fillRect(K,ie*(z-oe)+oe,Z,Y*ie),s.ctx.restore()):s.ctx.fill())),ue.label=6;case 6:return r--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,r,i){return Yi(this,void 0,void 0,function(){return Ni(this,function(s){return this.path(xz(i,r)),this.ctx.fillStyle=zr(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,r,i,s){return Yi(this,void 0,void 0,function(){var a,o;return Ni(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=Ebe(s,i),this.path(a),this.ctx.fillStyle=zr(t),this.ctx.fill(),o=Bbe(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Yi(this,void 0,void 0,function(){var r,i,s,a,o,l,u,d,h=this;return Ni(this,function(g){switch(g.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,i=!Od(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=Dbe(Rg(r.backgroundClip,0),t.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Od(r.backgroundColor)||(this.ctx.fillStyle=zr(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(v){h.ctx.save();var C=mT(t.curves),b=v.inset?0:Ube,B=bbe(C,-b+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(h.path(C),h.ctx.clip(),h.mask(B)):(h.mask(C),h.ctx.clip(),h.path(B)),h.ctx.shadowOffsetX=v.offsetX.number+b,h.ctx.shadowOffsetY=v.offsetY.number,h.ctx.shadowColor=zr(v.color),h.ctx.shadowBlur=v.blur.number,h.ctx.fillStyle=v.inset?zr(v.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),g.label=2;case 2:o=0,l=0,u=s,g.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!Od(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,3)];case 6:return g.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,t.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,t.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,r,i,s,a){return Yi(this,void 0,void 0,function(){var o,l,u,d,h,g,v,C,b,B,S,I,T,D,U,R,U,R;return Ni(this,function(Q){return this.ctx.save(),o=Sbe(s,i),l=xz(s,i),a===2&&(this.path(l),this.ctx.clip()),Wa(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),Wa(l[1])?(h=l[1].end.x,g=l[1].end.y):(h=l[1].x,g=l[1].y),i===0||i===2?v=Math.abs(u-h):v=Math.abs(d-g),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),C=r<3?r*3:r*2,b=r<3?r*2:r,a===3&&(C=r,b=r),B=!0,v<=C*2?B=!1:v<=C*2+b?(S=v/(2*C+b),C*=S,b*=S):(I=Math.floor((v+b)/(C+b)),T=(v-I*C)/(I-1),D=(v-(I+1)*C)/I,b=D<=0||Math.abs(b-T)<Math.abs(b-D)?T:D),B&&(a===3?this.ctx.setLineDash([0,C+b]):this.ctx.setLineDash([C,b])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=zr(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Wa(l[0])&&(U=l[3],R=l[0],this.ctx.beginPath(),this.formatPath([new Ue(U.end.x,U.end.y),new Ue(R.start.x,R.start.y)]),this.ctx.stroke()),Wa(l[1])&&(U=l[1],R=l[2],this.ctx.beginPath(),this.formatPath([new Ue(U.end.x,U.end.y),new Ue(R.start.x,R.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Yi(this,void 0,void 0,function(){var r;return Ni(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=zr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=Cbe(t),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(e9),Rbe=function(n){return n instanceof LX||n instanceof NX?!0:n instanceof rk&&n.type!==hT&&n.type!==fT},Dbe=function(n,e){switch(n){case 0:return mT(e);case 2:return gbe(e);case 1:default:return vT(e)}},Nbe=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Lbe=["-apple-system","system-ui"],Qbe=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return Lbe.indexOf(e)===-1}):n},kbe=(function(n){Ho(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(t){return Yi(this,void 0,void 0,function(){var r,i;return Ni(this,function(s){switch(s.label){case 0:return r=mL(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Obe(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=zr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(e9),Obe=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Hbe=(function(){function n(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,JS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,JS([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,JS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,JS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),Vbe=(function(){function n(e,t){var r;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new Hbe({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new Abe(this,e)}return n.instanceCount=1,n})(),Kbe=function(n,e){return e===void 0&&(e={}),Gbe(n,e)};typeof window<"u"&&jX.setContext(window);var Gbe=function(n,e){return Yi(void 0,void 0,void 0,function(){var t,r,i,s,a,o,l,u,d,h,g,v,C,b,B,S,I,T,D,U,Q,R,Q,H,k,G,K,z,Z,Y,ve,V,j,se,pe,Ee,q,ee,oe,Ce;return Ni(this,function(ie){switch(ie.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(G=e.useCORS)!==null&&G!==void 0?G:!1},s=nL({logging:(K=e.logging)!==null&&K!==void 0?K:!0,cache:e.cache},i),a={windowWidth:(z=e.windowWidth)!==null&&z!==void 0?z:r.innerWidth,windowHeight:(Z=e.windowHeight)!==null&&Z!==void 0?Z:r.innerHeight,scrollX:(Y=e.scrollX)!==null&&Y!==void 0?Y:r.pageXOffset,scrollY:(ve=e.scrollY)!==null&&ve!==void 0?ve:r.pageYOffset},o=new yu(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new Vbe(s,o),u=(V=e.foreignObjectRendering)!==null&&V!==void 0?V:!1,d={allowTaint:(j=e.allowTaint)!==null&&j!==void 0?j:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new Ez(l,n,d),g=h.clonedReferenceElement,g?[4,h.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=ie.sent(),C=ik(g)||zwe(g)?bme(g.ownerDocument):z1(l,g),b=C.width,B=C.height,S=C.left,I=C.top,T=zbe(l,g,e.backgroundColor),D={canvas:e.canvas,backgroundColor:T,scale:(pe=(se=e.scale)!==null&&se!==void 0?se:r.devicePixelRatio)!==null&&pe!==void 0?pe:1,x:((Ee=e.x)!==null&&Ee!==void 0?Ee:0)+S,y:((q=e.y)!==null&&q!==void 0?q:0)+I,width:(ee=e.width)!==null&&ee!==void 0?ee:Math.ceil(b),height:(oe=e.height)!==null&&oe!==void 0?oe:Math.ceil(B)},u?(l.logger.debug("Document cloned, using foreign object rendering"),Q=new kbe(l,D),[4,Q.render(g)]):[3,3];case 2:return U=ie.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+S+","+I+" with size "+b+"x"+B+" using computed rendering"),l.logger.debug("Starting DOM parsing"),R=OX(l,g),T===R.styles.backgroundColor&&(R.styles.backgroundColor=du.TRANSPARENT),l.logger.debug("Starting renderer for element at "+D.x+","+D.y+" with size "+D.width+"x"+D.height),Q=new Pbe(l,D),[4,Q.render(R)];case 4:U=ie.sent(),ie.label=5;case 5:return(!((Ce=e.removeContainer)!==null&&Ce!==void 0)||Ce)&&(Ez.destroy(v)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,U]}})})},zbe=function(n,e,t){var r=e.ownerDocument,i=r.documentElement?Rw(n,getComputedStyle(r.documentElement).backgroundColor):du.TRANSPARENT,s=r.body?Rw(n,getComputedStyle(r.body).backgroundColor):du.TRANSPARENT,a=typeof t=="string"?Rw(n,t):t===null?du.TRANSPARENT:4294967295;return e===r.documentElement?Od(i)?Od(s)?a:s:i:a};const qbe=({customChapter:n,variant:e="main"})=>{const{currentChapter:t,fontSize:r,viewMode:i,addHighlight:s,drawingMode:a,penColor:o,penWidth:l,penOpacity:u,chapterStrokes:d,addStroke:h,removeStroke:g,highlights:v,activeHighlightId:C,showAnnotations:b,triggerSmartExplain:B,isCaptureMode:S,setCaptureMode:I,setCapturedImage:T}=Yd(),D=n||t,U=e==="main",R=F.useRef(null),Q=F.useRef(null),H=F.useRef(0),[k,G]=F.useState({text:"",top:0,left:0,show:!1}),[K,z]=F.useState({show:!1,text:""}),[Z]=F.useState(()=>"ontouchstart"in window||navigator.maxTouchPoints>0),[Y,ve]=F.useState(!1),[V,j]=F.useState([]),[se,pe]=F.useState(null),[Ee,q]=F.useState(null);F.useEffect(()=>{if(!U)return;const X=de=>{de.key==="Escape"&&S&&(I(!1),pe(null),q(null))};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[S,I,U]);const ee=F.useMemo(()=>{let X=D.content;return b&&[...v.filter(Xe=>Xe.chapterId===D.id)].sort((Xe,ot)=>ot.text.length-Xe.text.length).forEach(Xe=>{const ot=Xe.text.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),je=new RegExp(ot,"g"),_e=`<mark id="hl-${Xe.id}" style="background-color: #fef08a !important; color: #0f172a !important;" class="rounded-sm cursor-pointer hover:brightness-95 transition-colors border-b-2 border-yellow-400" title="${Xe.note||"Highlight"}">${Xe.text}</mark>`;X=X.replace(je,_e)}),X},[D.content,D.id,v,b]);F.useEffect(()=>{if(C&&b){const X=document.getElementById(`hl-${C}`);X&&document.body.contains(X)&&(X.scrollIntoView({behavior:"smooth",block:"center"}),X.classList.add("ring-4","ring-blue-500","ring-offset-2"),setTimeout(()=>{X.classList.remove("ring-4","ring-blue-500","ring-offset-2")},2e3))}},[C,ee,b]),F.useEffect(()=>{const X=de=>{const He=de.target;!He.closest(`#selection-menu-${e}`)&&!He.closest(`#memo-dialog-${e}`)&&G(Xe=>({...Xe,show:!1}))};return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[e]);const oe=()=>{var Ot,ut;if(a!=="idle"||S){G(cn=>({...cn,show:!1}));return}const X=window.getSelection();if(!X||X.isCollapsed||X.rangeCount===0){G(cn=>({...cn,show:!1}));return}if(!(((Ot=R.current)==null?void 0:Ot.contains(X.anchorNode))||((ut=R.current)==null?void 0:ut.contains(X.focusNode)))||!R.current){G(cn=>({...cn,show:!1}));return}const He=X.getRangeAt(0),Xe=He.getBoundingClientRect(),ot=Array.from(He.getClientRects()),je=Xe.width>0&&Xe.height>0&&Xe||ot.find(cn=>cn.width>0&&cn.height>0);if(!je||je.width===0){G(cn=>({...cn,show:!1}));return}const _e=240,Me=12;let We=Z?je.bottom+Me:je.top-56,ze=je.left+je.width/2-_e/2;We<Me&&(We=je.bottom+Me),ze<Me&&(ze=Me),ze+_e>window.innerWidth-Me&&(ze=window.innerWidth-_e-Me),G({text:X.toString().trim(),top:We,left:ze,show:!0})},Ce=()=>{[0,40,120].forEach(de=>setTimeout(oe,de))},ie=()=>{U&&S||a==="idle"&&Ce()},ue=()=>{var X;s(k.text,void 0,D.id),G(de=>({...de,show:!1})),(X=window.getSelection())==null||X.removeAllRanges()},ce=()=>{G(X=>({...X,show:!1})),z({show:!0,text:""})},Be=()=>{var X;K.text.trim()&&s(k.text,K.text,D.id),z({show:!1,text:""}),(X=window.getSelection())==null||X.removeAllRanges()},te=()=>{var X;B(k.text),G(de=>({...de,show:!1})),(X=window.getSelection())==null||X.removeAllRanges()},Se=X=>{if(!Q.current)return null;const de=Q.current.getBoundingClientRect();if(de.width===0||de.height===0)return null;const He=Q.current.width/de.width,Xe=Q.current.height/de.height;return{x:(X.clientX-de.left)*He,y:(X.clientY-de.top)*Xe}},Te=X=>{var He;if(U&&S||a==="idle")return;X.target.setPointerCapture(X.pointerId);const de=Se(X);if(de&&(ve(!0),j([de]),R.current&&a==="pen")){const Xe=Array.from(R.current.children);let ot=0;const je=(He=Q.current)==null?void 0:He.getBoundingClientRect(),_e=X.clientY-((je==null?void 0:je.top)||0);for(let Me=0;Me<Xe.length;Me++){const We=Xe[Me];if(_e>=We.offsetTop&&_e<=We.offsetTop+We.offsetHeight){ot=Me;break}if(_e<We.offsetTop){ot=Math.max(0,Me-1);break}ot=Me}H.current=ot}},ye=X=>{if(U&&S||!Y||a==="idle")return;X.preventDefault();const de=Se(X);if(de){if(a==="pen")j(He=>[...He,de]);else if(a==="eraser"){const He=d[D.id]||[],Xe=R.current?Array.from(R.current.children):[];He.forEach(ot=>{let je=ot.points;if(ot.anchorIndex!==void 0&&Xe[ot.anchorIndex]){const Me=Xe[ot.anchorIndex].offsetTop;je=ot.points.map(We=>({x:We.x,y:We.y+Me}))}je.some(Me=>Math.hypot(Me.x-de.x,Me.y-de.y)<20)&&g(D.id,ot.id)})}}},yt=X=>{if(!(U&&S)&&Y){if(X.target.releasePointerCapture(X.pointerId),ve(!1),a==="pen"&&V.length>1){let de=V,He;if(R.current){He=H.current;const ot=R.current.children;if(ot[He]){const je=ot[He].offsetTop;de=V.map(_e=>({x:_e.x,y:_e.y-je}))}}const Xe={id:Date.now().toString(),points:de,color:o,width:l,opacity:u,anchorIndex:He};h(D.id,Xe)}j([])}},qe=X=>{if(!U||!S)return;const de={x:X.clientX,y:X.clientY};pe(de),q(de)},Kt=X=>{!U||!S||!se||q({x:X.clientX,y:X.clientY})},Pt=async X=>{if(!U||!S||!se||!Ee){pe(null),q(null);return}const de=se,He={x:X.clientX,y:X.clientY},Xe={x:Math.min(de.x,He.x),y:Math.min(de.y,He.y),width:Math.abs(He.x-de.x),height:Math.abs(He.y-de.y)};if(pe(null),q(null),!(Xe.width<10||Xe.height<10))try{const ot=await Kbe(document.body,{x:Xe.x+window.scrollX,y:Xe.y+window.scrollY,width:Xe.width,height:Xe.height,useCORS:!0,scale:window.devicePixelRatio,ignoreElements:je=>je.classList.contains("capture-overlay-ui")});T(ot.toDataURL())}catch(ot){console.error(ot)}finally{I(!1)}};F.useEffect(()=>{const X=Q.current;if(!X||!R.current)return;const de=()=>{if(!X||!R.current)return;const Xe=window.devicePixelRatio||1;X.width=R.current.offsetWidth*Xe,X.height=R.current.offsetHeight*Xe;const ot=X.getContext("2d");ot&&ot.scale(Xe,Xe)};de();const He=new ResizeObserver(de);return He.observe(R.current),()=>He.disconnect()},[D.id,i]),F.useEffect(()=>{const X=()=>Ce(),de=()=>Ce();return document.addEventListener("selectionchange",X),document.addEventListener("touchend",de),()=>{document.removeEventListener("selectionchange",X),document.removeEventListener("touchend",de)}},[S,a,Z]),F.useEffect(()=>{const X=Q.current;if(!X||!R.current)return;const de=X.getContext("2d");if(!de||(de.save(),de.setTransform(1,0,0,1,0,0),de.clearRect(0,0,X.width,X.height),de.restore(),!b&&!Y))return;const He=(je,_e,Me,We)=>{if(!(je.length<2)){de.beginPath(),de.lineWidth=Me,de.strokeStyle=_e,de.lineCap="round",de.lineJoin="round",de.globalAlpha=We,de.moveTo(je[0].x,je[0].y);for(let ze=1;ze<je.length-1;ze++){const Ot={x:(je[ze].x+je[ze+1].x)/2,y:(je[ze].y+je[ze+1].y)/2};de.quadraticCurveTo(je[ze].x,je[ze].y,Ot.x,Ot.y)}de.lineTo(je[je.length-1].x,je[je.length-1].y),de.stroke(),de.globalAlpha=1}},Xe=Array.from(R.current.children);(d[D.id]||[]).forEach(je=>{let _e=je.points;if(je.anchorIndex!==void 0&&Xe[je.anchorIndex]){const Me=Xe[je.anchorIndex].offsetTop;_e=je.points.map(We=>({x:We.x,y:We.y+Me}))}He(_e,je.color,je.width||3,je.opacity!==void 0?je.opacity:1)}),Y&&V.length>1&&a==="pen"&&He(V,o,l,u)},[d,D.id,Y,V,o,l,u,a,b]);const Kn=()=>{switch(r){case"small":return"text-sm leading-6";case"large":return"text-xl leading-9";case"xlarge":return"text-2xl leading-10";default:return"text-lg leading-8"}},nt=U&&S&&se&&Ee?{position:"fixed",left:Math.min(se.x,Ee.x),top:Math.min(se.y,Ee.y),width:Math.abs(Ee.x-se.x),height:Math.abs(Ee.y-se.y),border:"2px solid #3b82f6",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(59, 130, 246, 0.1)",zIndex:1e4,pointerEvents:"none"}:{},nr={width:"100%",height:"100%",touchAction:a!=="idle"?"none":"auto"},ss=`absolute inset-0 z-20 ${a!=="idle"?"cursor-crosshair pointer-events-auto":"pointer-events-none"}`,Jt=e==="main"&&i==="double",Kr=e==="main"?`relative w-full bg-white dark:bg-slate-950 shadow-lg min-h-[80vh] p-8 md:p-12 transition-all ${Jt?"max-w-full":"max-w-3xl"}`:"relative w-full bg-white dark:bg-slate-900 p-4 min-h-[500px]",Fs=`prose prose-slate dark:prose-invert max-w-none select-text cursor-text transition-all duration-200 relative z-10 selection:bg-yellow-200 selection:text-black dark:selection:bg-yellow-700 dark:selection:text-white ${Kn()} ${Jt?"columns-1 md:columns-2 gap-12 [column-fill:auto]":""}`,rr=e==="main"?"relative min-h-[50vh] pb-32 flex justify-center bg-slate-100 dark:bg-slate-900 pt-8":"relative w-full bg-slate-50 dark:bg-slate-950";return L.jsxs("div",{className:rr,onPointerUp:ie,onTouchEnd:ie,children:[U&&S&&L.jsx("div",{className:"fixed inset-0 z-[9999] cursor-crosshair capture-overlay-ui",onMouseDown:qe,onMouseMove:Kt,onMouseUp:Pt,children:!se&&L.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg pointer-events-none",children:"Drag to capture (Esc to cancel)"})}),U&&S&&se&&Ee&&L.jsx("div",{style:nt,className:"capture-overlay-ui"}),L.jsxs("div",{className:Kr,children:[L.jsx("div",{ref:R,className:Fs,dangerouslySetInnerHTML:{__html:ee},onContextMenu:X=>X.preventDefault()}),L.jsx("canvas",{ref:Q,className:ss,style:nr,onPointerDown:Te,onPointerMove:ye,onPointerUp:yt,onPointerLeave:yt})]}),k.show&&!S&&L.jsxs("div",{id:`selection-menu-${e}`,className:"fixed z-50 flex items-center gap-2 bg-slate-800 text-white rounded-lg shadow-xl p-2 animate-fade-in",style:{top:k.top,left:k.left},children:[L.jsxs("button",{onClick:ue,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[L.jsx(B_,{size:14,className:"text-yellow-400"})," High"]}),L.jsx("div",{className:"w-px h-4 bg-slate-600"}),L.jsxs("button",{onClick:ce,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[L.jsx(Nhe,{size:14,className:"text-green-400"})," Memo"]}),L.jsx("div",{className:"w-px h-4 bg-slate-600"}),L.jsxs("button",{onClick:te,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[L.jsx(lhe,{size:14,className:"text-blue-400"})," AI"]})]}),K.show&&L.jsx("div",{id:`memo-dialog-${e}`,className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/20 backdrop-blur-sm",children:L.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 w-80 animate-slide-up border border-slate-200 dark:border-slate-700",children:[L.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Add Note"}),L.jsx("textarea",{autoFocus:!0,value:K.text,onChange:X=>z(de=>({...de,text:X.target.value})),className:"w-full h-24 p-2 text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none dark:text-white",placeholder:"Type your thoughts..."}),L.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[L.jsx("button",{onClick:()=>z({show:!1,text:""}),className:"px-3 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),L.jsx("button",{onClick:Be,className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 rounded-lg shadow-sm transition-colors",children:"Save"})]})]})})]})},N0=({text:n,query:e})=>{if(!e||!e.trim())return L.jsx(L.Fragment,{children:n});const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=new RegExp(`(${t})`,"gi"),i=n.split(r);return L.jsx("span",{children:i.map((s,a)=>r.test(s)?L.jsx("mark",{className:"bg-yellow-300 dark:bg-yellow-600/50 text-slate-900 dark:text-white rounded-[2px] px-0.5 font-medium",children:s},a):s)})},t9=({isOpen:n,onClose:e,side:t,title:r,children:i})=>L.jsxs(L.Fragment,{children:[L.jsx("div",{className:` ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),L.jsx("aside",{className:`h-full ${t==="left"?"left-0 border-r":"right-0 border-l"} ${n?"translate-x-0":t==="left"?"-translate-x-full md:translate-x-0":"translate-x-full md:translate-x-0"} w-80 md:w-full`,children:L.jsxs("div",{className:"h-full",children:[L.jsxs("div",{className:"hidden",children:[r&&L.jsx("h2",{className:"font-semibold text-slate-800 dark:text-slate-200",children:r}),L.jsx("button",{onClick:e,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-500",children:L.jsx(gN,{size:18})})]}),L.jsx("div",{className:"flex-1 h-full",children:i})]})})]}),$be=({isOpen:n,onClose:e})=>{const{chapters:t,currentChapterIndex:r,goToChapter:i,hasStrokes:s,bookmarks:a,goToPdfPage:o,removePdfBookmark:l,currentPdfPage:u,goToHighlight:d}=Yd(),[h,g]=F.useState("contents"),v=F.useRef(null),C=F.useRef([]);return F.useEffect(()=>{if(h!=="contents")return;const b=C.current[r];if(!b)return;const B=v.current;if(!B){b.scrollIntoView({block:"center",behavior:"smooth"});return}const S=B.getBoundingClientRect(),I=b.getBoundingClientRect();I.top>=S.top&&I.bottom<=S.bottom||b.scrollIntoView({block:"center",behavior:"smooth"})},[r,h]),L.jsx(t9,{isOpen:n,onClose:e,side:"left",title:"Contents",children:L.jsxs("div",{className:"",children:[L.jsxs("div",{className:"chapter_favor_wrap",children:[L.jsxs("button",{onClick:()=>g("contents"),className:`chapter ${h==="contents"?"on":"off"}`,children:[L.jsx(ihe,{size:14})," Chapters"]}),L.jsxs("button",{onClick:()=>g("bookmarks"),className:`favor ${h==="bookmarks"?"on":"off"}`,children:[L.jsx(dN,{size:14})," Favorites"]})]}),L.jsxs("div",{className:"chapter_list",ref:v,children:[h==="contents"&&t.map((b,B)=>L.jsx("button",{ref:S=>{C.current[B]=S},onClick:()=>{i(B),window.innerWidth<768&&e()},className:` ${B===r?"on":"off"}`,children:L.jsxs("div",{className:"chapter_list_inner",children:[L.jsxs("div",{className:"",children:[L.jsx("span",{className:`text_xs ${B===r?"on":"off"}`,children:String(B+1).padStart(2,"0")}),L.jsx("span",{className:"line_clamp_1",children:b.title})]}),s(b.id)&&L.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-1 rounded-full",children:L.jsx(jW,{size:10})})]})},b.id)),h==="bookmarks"&&a.map(b=>L.jsxs("div",{className:`bookmark_item_row ${b.page===u?"active":""}`,children:[L.jsxs("button",{onClick:()=>{o(b.page),window.innerWidth<768&&e()},className:"bookmark_item_button",children:[L.jsx("div",{className:"bookmark_page_badge",children:L.jsx("span",{className:"bookmark_label line_clamp_1",children:`P. ${b.page}`})}),L.jsx("div",{className:"bookmark_item_text",children:L.jsxs("span",{className:"bookmark_meta",children:["Saved ",new Date(b.createdAt).toLocaleDateString()]})})]}),L.jsx("button",{onClick:B=>{B.stopPropagation(),l(b.id)},className:"bookmark_remove_btn",title:"Delete bookmark",children:L.jsx(pN,{size:14})})]},b.id)),h==="bookmarks"&&a.length===0&&L.jsxs("div",{className:"non_book_mark",children:[L.jsx(dN,{size:24,className:"mx-auto mb-2 text-slate-400"}),L.jsx("p",{className:"text_sm",children:"No bookmarks yet"}),L.jsx("p",{className:"text_sm",children:"Use the bookmark icon near Search to save a page."})]})]})]})})},jbe=({isOpen:n,onClose:e})=>{const{highlights:t,removeHighlight:r,updateHighlight:i,currentChapter:s,incrementAiCount:a,generalNotes:o,addGeneralNote:l,updateGeneralNote:u,removeGeneralNote:d,importNotes:h,exportNoteAsMarkdown:g,focusHighlight:v,goToChapter:C,chapters:b,aiChatHistory:B,addChatMessage:S,activeToolTab:I,setActiveToolTab:T,setCaptureMode:D,capturedImage:U,setCapturedImage:R,referenceDocument:Q,uploadBook:H,searchQuery:k,setSearchQuery:G,performSearch:K,goToPdfPage:z,pdfSearchHighlight:Z,setPdfSearchHighlight:Y,goToHighlight:ve}=Yd(),[V,j]=F.useState(""),[se,pe]=F.useState(!1),[Ee,q]=F.useState(null),[ee,oe]=F.useState(null),[Ce,ie]=F.useState(""),[ue,ce]=F.useState(""),Be=F.useRef(null),te=F.useRef(null);F.useEffect(()=>{Ee&&Be.current&&Be.current.innerHTML!==(Ee.content||"")&&(Be.current.innerHTML=Ee.content||"")},[Ee==null?void 0:Ee.id]);const Se=()=>Be.current?Be.current.innerHTML:"",Te=X=>{if(I==="notebook"&&Ee){const de=Se();q(He=>He?{...He,content:de}:null)}T(X),ce("")},ye=X=>{oe(X.id),ie(X.note||"")},yt=X=>{i(X,{note:Ce}),oe(null),ie("")},qe=t.filter(X=>X.text.toLowerCase().includes(ue.toLowerCase())||X.note&&X.note.toLowerCase().includes(ue.toLowerCase())),Kt=o.filter(X=>X.title.toLowerCase().includes(ue.toLowerCase())||X.content.toLowerCase().includes(ue.toLowerCase()));F.useEffect(()=>{if(U&&Ee){const X=`<div class="capture-img-container"><img src="${U}" style="max-width:100%; border:1px solid #ccc; border-radius:4px; margin: 10px 0; display: block;" /></div><p><br/></p>`,de=(Ee.content||"")+X;q(He=>He?{...He,content:de}:null),Be.current&&(Be.current.innerHTML=de),R(null)}},[U,R]);const Pt=async X=>{if(X.preventDefault(),!V.trim())return;const de=V;S("user",de),j(""),pe(!0),a();const He=await Mj(de,s.content.substring(0,1e3));S("model",He),pe(!1)},Kn=()=>{if(Ee){const X=Se();Ee.title&&(Ee.id?u(Ee.id,Ee.title,X):l(Ee.title,X),q(null))}},nt=(X,de=void 0)=>{document.execCommand(X,!1,de),Be.current&&Be.current.focus()},nr=(X,de,He)=>{X.preventDefault(),nt(de,He)},ss=X=>{X.preventDefault();const de=Se();q(He=>He?{...He,content:de}:null),setTimeout(()=>D(!0),50)},Jt=X=>{X.preventDefault();const de=window.getSelection();if(de&&de.rangeCount>0){const ot=de.getRangeAt(0);Be.current&&Be.current.contains(ot.commonAncestorContainer)?te.current=ot.cloneRange():te.current=null}const He=parseInt(prompt("Rows:","2")||"0"),Xe=parseInt(prompt("Columns:","2")||"0");if(Be.current&&(Be.current.focus(),te.current&&(de==null||de.removeAllRanges(),de==null||de.addRange(te.current)),He>0&&Xe>0)){let ot='<table style="width:100%; border-collapse: collapse; margin: 10px 0; border: 1px solid #ccc;"><tbody>';for(let je=0;je<He;je++){ot+="<tr>";for(let _e=0;_e<Xe;_e++)ot+='<td style="border:1px solid #ccc; padding:8px; min-width: 50px;">Cell</td>';ot+="</tr>"}ot+="</tbody></table><p><br></p>",document.execCommand("insertHTML",!1,ot)}},Kr=X=>{X.target.files&&X.target.files[0]&&H(X.target.files[0])},Fs=()=>{const X=Se();q(de=>de?{...de,content:X}:null)},rr=()=>{if(!Ee)return;const X=Se(),de=window.open("","","height=600,width=800");de&&(de.document.write(`<html><head><title>${Ee.title}</title><style>body{font-family:sans-serif;padding:20px;}table{border-collapse:collapse;width:100%;}td,th{border:1px solid #ccc;padding:8px;}img{max-width:100%;}</style></head><body><h1>${Ee.title}</h1>${X}</body></html>`),de.document.close(),de.print())};return I==="search"&&K(k),L.jsx(t9,{isOpen:n,onClose:e,side:"right",children:L.jsxs("div",{className:"h-full flex flex-col min-h-0",children:[L.jsxs("div",{className:"right_panel_menu",children:[L.jsx("button",{onClick:()=>Te("ai"),className:`ai ${I==="ai"?"on":"off"}`,title:"AI",children:L.jsx(dU,{size:14})}),L.jsx("button",{onClick:()=>Te("notes"),className:`notes ${I==="notes"?"on":"off"}`,title:"Highlights",children:L.jsx(B_,{size:14})}),L.jsx("button",{onClick:()=>Te("notebook"),className:`notebook ${I==="notebook"?"on":"off"}`,title:"Notebook",children:L.jsx(cN,{size:14})}),L.jsx("button",{onClick:()=>Te("reference"),className:`reference ${I==="reference"?"on":"off"}`,title:"Reference PDF",children:L.jsx(GK,{size:14})}),L.jsx("button",{onClick:()=>Te("search"),className:`search ${I==="search"?"on":"off"}`,title:"Search",children:L.jsx(fU,{size:14})})]}),L.jsxs("div",{className:"text_area",children:[I==="ai"&&L.jsxs("div",{className:"ai",children:[L.jsxs("div",{className:"ai_talk",children:[B.length===0&&L.jsxs("div",{className:"ai_talk_inner",children:[L.jsx("div",{className:"icon",children:L.jsx(dU,{className:"text-blue-500",size:24})}),L.jsx("p",{className:"text_sm",children:"AI Study Companion"})]}),B.map((X,de)=>L.jsx("div",{className:`txt ${X.role==="user"?"ai_user_txt":"ai_txt"}`,children:L.jsx("div",{className:` ${X.role==="user"?"on":"off"}`,children:X.text})},de)),se&&L.jsx("div",{className:"flex flex-col items-start",children:L.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl rounded-bl-none px-4 py-3 border border-slate-100 dark:border-slate-700",children:L.jsxs("div",{className:"flex space-x-1",children:[L.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),L.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-75"}),L.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-150"})]})})})]}),L.jsx("div",{className:"ai_user",children:L.jsxs("form",{onSubmit:Pt,className:"user_form",children:[L.jsx("input",{type:"text",value:V,onChange:X=>j(X.target.value),placeholder:"Ask AI...",className:""}),L.jsx("button",{type:"submit",disabled:!V.trim()||se,className:"enter",children:L.jsx(dU,{size:16})})]})})]}),I==="notes"&&L.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[L.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",placeholder:"Filter highlights...",value:ue,onChange:X=>ce(X.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),L.jsx(zK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})}),L.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[qe.length===0&&L.jsxs("div",{className:"text-center py-10 opacity-50",children:[L.jsx(B_,{size:24,className:"mx-auto mb-2"}),L.jsx("p",{className:"text-sm",children:"No highlights"})]}),qe.map(X=>L.jsxs("div",{onClick:()=>ve(X),className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 cursor-pointer hover:border-blue-300 transition-all",children:[L.jsxs("div",{className:"flex justify-between mb-2 text-xs text-slate-400",children:[L.jsx("span",{children:X.chapterId==="reference-doc"?"Reference PDF":`Chapter ${b.findIndex(de=>de.id===X.chapterId)+1}`}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("button",{onClick:de=>{de.stopPropagation(),ye(X)},title:"Edit Note",children:L.jsx(whe,{size:12})}),L.jsx("button",{onClick:de=>{de.stopPropagation(),r(X.id)},title:"Delete",children:L.jsx(pN,{size:12})})]})]}),L.jsxs("p",{className:"text-sm italic border-l-2 border-amber-400 pl-2 text-slate-600 dark:text-slate-300",children:['"',L.jsx(N0,{text:X.text,query:ue}),'"']}),ee===X.id?L.jsxs("div",{onClick:de=>de.stopPropagation(),className:"mt-2 animate-fade-in",children:[L.jsx("textarea",{className:"w-full p-2 text-xs border rounded bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:border-blue-500",value:Ce,onChange:de=>ie(de.target.value),autoFocus:!0,rows:3}),L.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[L.jsx("button",{onClick:()=>oe(null),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cancel"}),L.jsx("button",{onClick:()=>yt(X.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):X.note?L.jsx("div",{className:"mt-2 text-xs bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded text-slate-700 dark:text-slate-300 border border-yellow-100 dark:border-yellow-800",children:L.jsx(N0,{text:X.note,query:ue})}):L.jsxs("button",{onClick:de=>{de.stopPropagation(),ye(X)},className:"mt-2 text-xs text-blue-500 flex items-center gap-1 hover:underline opacity-50 hover:opacity-100",children:[L.jsx(hN,{size:10})," Add Note"]})]},X.id))]})]}),I==="notebook"&&L.jsx("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:Ee?L.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white dark:bg-slate-900 animate-fade-in",children:[L.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-900",children:[L.jsx("button",{onClick:()=>q(null),className:"text-xs font-medium text-slate-500",children:"Cancel"}),L.jsxs("button",{onClick:Kn,className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[L.jsx(WW,{size:14})," Save"]})]}),L.jsx("div",{className:"px-4 pt-4 pb-2",children:L.jsx("input",{type:"text",className:"w-full text-lg font-bold bg-transparent outline-none",value:Ee.title||"",onChange:X=>{const de=Se();q(He=>He?{...He,title:X.target.value,content:de}:null)}})}),L.jsxs("div",{className:"px-2 py-1.5 flex flex-wrap gap-1 border-y bg-slate-50 dark:bg-slate-900/50",children:[L.jsx("button",{onMouseDown:X=>nr(X,"bold"),className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(_fe,{size:14})}),L.jsx("button",{onMouseDown:X=>nr(X,"italic"),className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx("span",{className:"italic",children:"I"})}),L.jsx("button",{onMouseDown:X=>nr(X,"hiliteColor","yellow"),className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(B_,{size:14})}),L.jsx("button",{onMouseDown:Jt,className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(Qhe,{size:14})}),L.jsx("button",{onMouseDown:ss,className:"p-1.5 rounded hover:bg-slate-200 text-blue-600",children:L.jsx(Qfe,{size:14})}),L.jsx("button",{onClick:rr,className:"p-1.5 rounded hover:bg-slate-200",children:L.jsx(The,{size:14})})]}),L.jsx("div",{ref:Be,className:"flex-1 p-4 overflow-y-auto outline-none text-sm note-editor",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:Fs},Ee.id)]}):L.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[L.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex flex-col gap-3 bg-slate-50 dark:bg-slate-900",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsxs("h3",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider",children:["My Notes (",o.length,")"]}),L.jsxs("div",{className:"flex gap-2",children:[L.jsxs("label",{className:"cursor-pointer p-1.5 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",title:"Import Note",children:[L.jsx(Khe,{size:14}),L.jsx("input",{type:"file",className:"hidden",accept:".md,.json,.txt",onChange:Kr})]}),L.jsxs("button",{onClick:()=>q({title:"",content:"",chapterId:s.id,chapterTitle:s.title}),className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded-md text-xs font-medium hover:bg-green-700 shadow-sm transition-all",children:[L.jsx(hN,{size:14})," New"]})]})]}),L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",placeholder:"Search notes...",value:ue,onChange:X=>ce(X.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),L.jsx(zK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})]}),L.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3",children:[Kt.length===0&&L.jsxs("div",{className:"text-center py-10 opacity-50",children:[L.jsx(cN,{size:32,className:"mx-auto text-slate-300 mb-2"}),L.jsx("p",{className:"text-sm text-slate-400",children:"No notes found"})]}),Kt.map(X=>L.jsxs("div",{onClick:()=>q(X),className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border cursor-pointer hover:border-green-300 transition-all",children:[L.jsxs("div",{className:"flex justify-between mb-1",children:[L.jsx("h4",{className:"font-semibold text-sm",children:L.jsx(N0,{text:X.title,query:ue})}),L.jsx("button",{onClick:de=>{de.stopPropagation(),d(X.id)},children:L.jsx(pN,{size:12,"text-slate-300":!0})})]}),L.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:L.jsx(N0,{text:X.content.replace(/<[^>]+>/g," "),query:ue})})]},X.id))]})]})}),I==="reference"&&L.jsx("div",{className:"absolute inset-0 flex flex-col bg-white dark:bg-slate-900",children:Q?L.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-950",children:L.jsx(qbe,{customChapter:Q,variant:"side"})}):L.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center opacity-60",children:[L.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:L.jsx(GK,{size:32,className:"text-slate-400"})}),L.jsx("h3",{className:"font-medium text-slate-800 dark:text-white mb-2",children:"No Reference Document"}),L.jsxs("p",{className:"text-sm text-slate-500 mb-6 max-w-[240px]",children:["Upload a ",L.jsx("strong",{children:"text-based PDF"})," (e.g., papers, e-books). ",L.jsx("br",{}),"Scanned image PDFs may not display correctly."]}),L.jsxs("label",{className:"cursor-pointer flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[L.jsx(fN,{size:16}),L.jsx("span",{children:"Upload PDF"}),L.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:Kr})]})]})}),I==="search"&&L.jsxs("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:[L.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800",children:L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",placeholder:"Search entire book & notes...",value:k,onChange:X=>{G(X.target.value),Y(null)},className:"w-full pl-9 pr-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white",autoFocus:!0}),L.jsx(fU,{size:16,className:"absolute left-3 top-2.5 text-slate-400"})]})}),L.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:k.length>1?I==="search"&&K(k).length>0?K(k).map(X=>L.jsxs("div",{onClick:()=>{if(X.type==="note"){const de=o.find(He=>`note-${He.id}`===X.id);de&&(q(de),T("notebook"))}else if(X.type==="pdf")X.pageNumber&&(z(X.pageNumber),Y({page:X.pageNumber,term:k}));else if(X.type==="highlight"){if(X.chapterId==="reference-doc"){const de=Number(X.pageNumber);Number.isFinite(de)&&de>0?z(de):console.warn("[highlight] pageNumber missing for search result",X.id)}else if(idx!==-1){const de=b.findIndex(He=>He.id===X.chapterId);de!==-1&&C(de)}v(X.id.replace("hl-",""))}else{const de=b.findIndex(He=>He.id===X.chapterId);de!==-1&&C(de)}},className:"bg-white dark:bg-slate-900 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-800 cursor-pointer hover:border-blue-300 transition-all",children:[L.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[L.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-bold ${X.type==="chapter"?"bg-blue-100 text-blue-600":X.type==="highlight"?"bg-yellow-100 text-yellow-600":X.type==="pdf"?"bg-indigo-100 text-indigo-600":"bg-green-100 text-green-600"}`,children:X.type}),L.jsx("span",{className:"text-xs text-slate-500 font-medium truncate flex-1",children:X.title})]}),L.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 line-clamp-2",children:L.jsx(N0,{text:X.contentSnippet,query:k})})]},X.id)):L.jsx("div",{className:"text-center py-10 opacity-50",children:L.jsxs("p",{className:"text-sm text-slate-500",children:['No results found for "',k,'"']})}):L.jsxs("div",{className:"text-center py-10 opacity-50",children:[L.jsx(fU,{size:24,className:"mx-auto mb-2 text-slate-300"}),L.jsx("p",{className:"text-sm text-slate-400",children:"Type at least 2 characters to search"})]})})]})]})]})})},Wbe=()=>{const[n,e]=F.useState(!0),[t,r]=F.useState(!1),{isToolsOpen:i,setToolsOpen:s,registerPdfNavigator:a,setCurrentPdfPage:o}=Yd(),[l,u]=F.useState(0),[d,h]=F.useState(1),g=F.useRef(),v=n||i,C=F.useCallback(z=>{h(z),o(z)},[o]),b=F.useCallback(z=>{u(z)},[]),B=F.useCallback(z=>{g.current=z,a(z)},[a]),[S,I]=F.useState(300),[T,D]=F.useState(350),[U,R]=F.useState(!1),[Q,H]=F.useState(!1),k=F.useRef(null);F.useEffect(()=>{const z=()=>{const Z=window.innerWidth<=1300;r(Z),Z?(e(!1),s(!0)):(e(!0),s(!0))};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[s]),F.useEffect(()=>{t&&i&&e(!1)},[i,t]),F.useEffect(()=>{const z=Y=>{if(!k.current)return;(U||Q)&&Y.preventDefault();const ve=k.current.getBoundingClientRect();if(U){const V=Y.clientX-ve.left;V>200&&V<500&&I(V)}if(Q){const V=ve.right-Y.clientX;V>280&&V<600&&D(V)}},Z=()=>{R(!1),H(!1),document.body.style.cursor="default",document.body.style.userSelect="auto"};return(U||Q)&&(document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",z),window.addEventListener("mouseup",Z)),()=>{window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",Z),document.body.style.cursor="default",document.body.style.userSelect="auto"}},[U,Q]);const G=()=>{if(t){const z=!n;e(z),z&&s(!1);return}e(!n)};return L.jsxs("div",{children:[L.jsx(YW,{toggleSidebar:G,isSidebarOpen:n}),L.jsxs("div",{ref:k,className:"split_container",children:[L.jsxs("div",{className:`left_side_wrap ${n?"on":"off"}`,style:{width:n?window.innerWidth<768?"0px":`${S}px`:"0px"},children:[L.jsx("div",{className:"left_side_inner",children:L.jsx($be,{isOpen:n,onClose:()=>e(!1)})}),n&&window.innerWidth>=768&&L.jsx("div",{className:"",onMouseDown:()=>R(!0),children:L.jsx("div",{className:""})})]}),L.jsxs("main",{className:"content_container",children:[L.jsx("div",{className:"cc_top",children:L.jsx(yme,{file:"https://media.githubusercontent.com/media/gh1343/campusbook-viewer-ai/main/public/pdf/test4.pdf",onPageChange:C,onPagesCount:b,registerGoToPage:B,forceSinglePage:v})}),L.jsx("div",{className:"cc_bottom",children:L.jsx(wme,{pdfPageCount:l,pdfCurrentPage:d,onPdfGoToPage:z=>{var Z;return(Z=g.current)==null?void 0:Z.call(g,z)}})})]}),L.jsxs("div",{className:`right_panel_wrap ${i?"on":"off"}`,style:{width:i?window.innerWidth<768?"0px":`${T}px`:"0px"},children:[i&&window.innerWidth>=768&&L.jsx("div",{className:"separate",onMouseDown:()=>H(!0),children:L.jsx("div",{className:""})}),L.jsx("div",{className:"h-full w-full overflow-hidden",children:L.jsx(jbe,{isOpen:i,onClose:()=>s(!1)})})]})]})]})};function n9(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=n9(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Mn(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=n9(n))&&(r&&(r+=" "),r+=e);return r}var Ybe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sk(n){if(typeof n!="string")return!1;var e=Ybe;return e.includes(n)}var Xbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Jbe=new Set(Xbe);function r9(n){return typeof n!="string"?!1:Jbe.has(n)}function i9(n){return typeof n=="string"&&n.startsWith("data-")}function zd(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r9(t)||i9(t))&&(e[t]=n[t]);return e}function ak(n){if(n==null)return null;if(F.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return zd(e)}return typeof n=="object"&&!Array.isArray(n)?zd(n):null}function io(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r9(t)||i9(t)||sk(t))&&(e[t]=n[t]);return e}var Zbe=["children","width","height","viewBox","className","style","title","desc"];function BL(){return BL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BL.apply(null,arguments)}function eCe(n,e){if(n==null)return{};var t,r,i=tCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function tCe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var s9=F.forwardRef((n,e)=>{var{children:t,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:u}=n,d=eCe(n,Zbe),h=s||{width:r,height:i,x:0,y:0},g=Mn("recharts-surface",a);return F.createElement("svg",BL({},io(d),{className:g,width:r,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),F.createElement("title",null,l),F.createElement("desc",null,u),t)}),nCe=["children","className"];function SL(){return SL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},SL.apply(null,arguments)}function rCe(n,e){if(n==null)return{};var t,r,i=iCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function iCe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var wu=F.forwardRef((n,e)=>{var{children:t,className:r}=n,i=rCe(n,nCe),s=Mn("recharts-layer",r);return F.createElement("g",SL({className:s},io(i),{ref:e}),t)}),sCe=F.createContext(null);function Cn(n){return function(){return n}}const a9=Math.cos,wT=Math.sin,Vo=Math.sqrt,bT=Math.PI,tI=2*bT,xL=Math.PI,_L=2*xL,_f=1e-6,aCe=_L-_f;function o9(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function oCe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return o9;const t=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}class ACe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?o9:oCe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,s,a){this._append`C${+e},${+t},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,r,i,s){if(e=+e,t=+t,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,u=i-t,d=a-e,h=o-t,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>_f)if(!(Math.abs(h*l-u*d)>_f)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let v=r-a,C=i-o,b=l*l+u*u,B=v*v+C*C,S=Math.sqrt(b),I=Math.sqrt(g),T=s*Math.tan((xL-Math.acos((b+g-B)/(2*S*I)))/2),D=T/I,U=T/S;Math.abs(D-1)>_f&&this._append`L${e+D*d},${t+D*h}`,this._append`A${s},${s},0,0,${+(h*v>d*C)},${this._x1=e+U*l},${this._y1=t+U*u}`}}arc(e,t,r,i,s,a){if(e=+e,t=+t,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,d=t+l,h=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>_f||Math.abs(this._y1-d)>_f)&&this._append`L${u},${d}`,r&&(g<0&&(g=g%_L+_L),g>aCe?this._append`A${r},${r},0,1,${h},${e-o},${t-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:g>_f&&this._append`A${r},${r},0,${+(g>=xL)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ok(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new ACe(e)}function Ak(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function A9(n){this._context=n}A9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function nI(n){return new A9(n)}function l9(n){return n[0]}function u9(n){return n[1]}function c9(n,e){var t=Cn(!0),r=null,i=nI,s=null,a=ok(o);n=typeof n=="function"?n:n===void 0?l9:Cn(n),e=typeof e=="function"?e:e===void 0?u9:Cn(e);function o(l){var u,d=(l=Ak(l)).length,h,g=!1,v;for(r==null&&(s=i(v=a())),u=0;u<=d;++u)!(u<d&&t(h=l[u],u,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(h,u,l),+e(h,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:Cn(+l),o):n},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Cn(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:Cn(!!l),o):t},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function bx(n,e,t){var r=null,i=Cn(!0),s=null,a=nI,o=null,l=ok(u);n=typeof n=="function"?n:n===void 0?l9:Cn(+n),e=typeof e=="function"?e:Cn(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?u9:Cn(+t);function u(h){var g,v,C,b=(h=Ak(h)).length,B,S=!1,I,T=new Array(b),D=new Array(b);for(s==null&&(o=a(I=l())),g=0;g<=b;++g){if(!(g<b&&i(B=h[g],g,h))===S)if(S=!S)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),C=g-1;C>=v;--C)o.point(T[C],D[C]);o.lineEnd(),o.areaEnd()}S&&(T[g]=+n(B,g,h),D[g]=+e(B,g,h),o.point(r?+r(B,g,h):T[g],t?+t(B,g,h):D[g]))}if(I)return o=null,I+""||null}function d(){return c9().defined(i).curve(a).context(s)}return u.x=function(h){return arguments.length?(n=typeof h=="function"?h:Cn(+h),r=null,u):n},u.x0=function(h){return arguments.length?(n=typeof h=="function"?h:Cn(+h),u):n},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Cn(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Cn(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Cn(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:Cn(+h),u):t},u.lineX0=u.lineY0=function(){return d().x(n).y(e)},u.lineY1=function(){return d().x(n).y(t)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Cn(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class d9{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function lCe(n){return new d9(n,!0)}function uCe(n){return new d9(n,!1)}const lk={draw(n,e){const t=Vo(e/bT);n.moveTo(t,0),n.arc(0,0,t,0,tI)}},cCe={draw(n,e){const t=Vo(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},f9=Vo(1/3),dCe=f9*2,fCe={draw(n,e){const t=Vo(e/dCe),r=t*f9;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},hCe={draw(n,e){const t=Vo(e),r=-t/2;n.rect(r,r,t,t)}},pCe=.8908130915292852,h9=wT(bT/10)/wT(7*bT/10),gCe=wT(tI/10)*h9,mCe=-a9(tI/10)*h9,vCe={draw(n,e){const t=Vo(e*pCe),r=gCe*t,i=mCe*t;n.moveTo(0,-t),n.lineTo(r,i);for(let s=1;s<5;++s){const a=tI*s/5,o=a9(a),l=wT(a);n.lineTo(l*t,-o*t),n.lineTo(o*r-l*i,l*r+o*i)}n.closePath()}},VU=Vo(3),yCe={draw(n,e){const t=-Vo(e/(VU*3));n.moveTo(0,t*2),n.lineTo(-VU*t,-t),n.lineTo(VU*t,-t),n.closePath()}},Ia=-.5,Fa=Vo(3)/2,TL=1/Vo(12),wCe=(TL/2+1)*3,bCe={draw(n,e){const t=Vo(e/wCe),r=t/2,i=t*TL,s=r,a=t*TL+t,o=-s,l=a;n.moveTo(r,i),n.lineTo(s,a),n.lineTo(o,l),n.lineTo(Ia*r-Fa*i,Fa*r+Ia*i),n.lineTo(Ia*s-Fa*a,Fa*s+Ia*a),n.lineTo(Ia*o-Fa*l,Fa*o+Ia*l),n.lineTo(Ia*r+Fa*i,Ia*i-Fa*r),n.lineTo(Ia*s+Fa*a,Ia*a-Fa*s),n.lineTo(Ia*o+Fa*l,Ia*l-Fa*o),n.closePath()}};function CCe(n,e){let t=null,r=ok(i);n=typeof n=="function"?n:Cn(n||lk),e=typeof e=="function"?e:Cn(e===void 0?64:+e);function i(){let s;if(t||(t=s=r()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return i.type=function(s){return arguments.length?(n=typeof s=="function"?s:Cn(s),i):n},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Cn(+s),i):e},i.context=function(s){return arguments.length?(t=s??null,i):t},i}function CT(){}function ET(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function p9(n){this._context=n}p9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ET(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ET(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function ECe(n){return new p9(n)}function g9(n){this._context=n}g9.prototype={areaStart:CT,areaEnd:CT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:ET(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function BCe(n){return new g9(n)}function m9(n){this._context=n}m9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:ET(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function SCe(n){return new m9(n)}function v9(n){this._context=n}v9.prototype={areaStart:CT,areaEnd:CT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function xCe(n){return new v9(n)}function Tz(n){return n<0?-1:1}function Iz(n,e,t){var r=n._x1-n._x0,i=e-n._x1,s=(n._y1-n._y0)/(r||i<0&&-0),a=(t-n._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(Tz(s)+Tz(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Fz(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function KU(n,e,t){var r=n._x0,i=n._y0,s=n._x1,a=n._y1,o=(s-r)/3;n._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*t,s,a)}function BT(n){this._context=n}BT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:KU(this,this._t0,Fz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,KU(this,Fz(this,t=Iz(this,n,e)),t);break;default:KU(this,this._t0,t=Iz(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function y9(n){this._context=new w9(n)}(y9.prototype=Object.create(BT.prototype)).point=function(n,e){BT.prototype.point.call(this,e,n)};function w9(n){this._context=n}w9.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,s){this._context.bezierCurveTo(e,n,r,t,s,i)}};function _Ce(n){return new BT(n)}function TCe(n){return new y9(n)}function b9(n){this._context=n}b9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var r=Mz(n),i=Mz(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],n[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function Mz(n){var e,t=n.length-1,r,i=new Array(t),s=new Array(t),a=new Array(t);for(i[0]=0,s[0]=2,a[0]=n[0]+2*n[1],e=1;e<t-1;++e)i[e]=1,s[e]=4,a[e]=4*n[e]+2*n[e+1];for(i[t-1]=2,s[t-1]=7,a[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[t-1]=(n[t]+i[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-i[e+1];return[i,s]}function ICe(n){return new b9(n)}function rI(n,e){this._context=n,this._t=e}rI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function FCe(n){return new rI(n,.5)}function MCe(n){return new rI(n,0)}function UCe(n){return new rI(n,1)}function ty(n,e){if((a=n.length)>1)for(var t=1,r,i,s=n[e[0]],a,o=s.length;t<a;++t)for(i=s,s=n[e[t]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function IL(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function PCe(n,e){return n[e]}function RCe(n){const e=[];return e.key=n,e}function DCe(){var n=Cn([]),e=IL,t=ty,r=PCe;function i(s){var a=Array.from(n.apply(this,arguments),RCe),o,l=a.length,u=-1,d;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+r(h,a[o].key,u,s)]).data=h;for(o=0,d=Ak(e(a));o<l;++o)a[d[o]].index=o;return t(a,d),a}return i.keys=function(s){return arguments.length?(n=typeof s=="function"?s:Cn(Array.from(s)),i):n},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Cn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?IL:typeof s=="function"?s:Cn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(t=s??ty,i):t},i}function NCe(n,e){if((r=n.length)>0){for(var t,r,i=0,s=n[0].length,a;i<s;++i){for(a=t=0;t<r;++t)a+=n[t][i][1]||0;if(a)for(t=0;t<r;++t)n[t][i][1]/=a}ty(n,e)}}function LCe(n,e){if((i=n.length)>0){for(var t=0,r=n[e[0]],i,s=r.length;t<s;++t){for(var a=0,o=0;a<i;++a)o+=n[a][t][1]||0;r[t][1]+=r[t][0]=-o/2}ty(n,e)}}function QCe(n,e){if(!(!((a=n.length)>0)||!((s=(i=n[e[0]]).length)>0))){for(var t=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,u=0;o<a;++o){for(var d=n[e[o]],h=d[r][1]||0,g=d[r-1][1]||0,v=(h-g)/2,C=0;C<o;++C){var b=n[e[C]],B=b[r][1]||0,S=b[r-1][1]||0;v+=B-S}l+=h,u+=v*h}i[r-1][1]+=i[r-1][0]=t,l&&(t-=u/l)}i[r-1][1]+=i[r-1][0]=t,ty(n,e)}}var GU={},zU={},Uz;function kCe(){return Uz||(Uz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(zU)),zU}var qU={},Pz;function C9(){return Pz||(Pz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(qU)),qU}var $U={},Rz;function uk(){return Rz||(Rz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var r;return typeof t=="string"||typeof t=="symbol"?t:Object.is((r=t==null?void 0:t.valueOf)==null?void 0:r.call(t),-0)?"-0":String(t)}n.toKey=e})($U)),$U}var jU={},WU={},Dz;function OCe(){return Dz||(Dz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return r==="0"&&Object.is(Number(t),-0)?"-0":r}n.toString=e})(WU)),WU}var Nz;function ck(){return Nz||(Nz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=OCe(),t=uk();function r(i){if(Array.isArray(i))return i.map(t.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const h=i[o];u?h==="\\"&&o+1<a?(o++,l+=i[o]):h===u?u="":l+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,s.push(l),l=""):l+=h:h==="["?(d=!0,l&&(s.push(l),l="")):h==="."?l&&(s.push(l),l=""):l+=h,o++}return l&&s.push(l),s}n.toPath=r})(jU)),jU}var Lz;function dk(){return Lz||(Lz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=kCe(),t=C9(),r=uk(),i=ck();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?t.isDeepKey(l)?s(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return u;d=d[l[h]]}return d===void 0?u:d}n.get=s})(GU)),GU}var YU,Qz;function HCe(){return Qz||(Qz=1,YU=dk().get),YU}var VCe=HCe();const ny=DA(VCe);var ua=n=>n===0?0:n>0?1:-1,FA=n=>typeof n=="number"&&n!=+n,bu=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,et=n=>(typeof n=="number"||n instanceof Number)&&!FA(n),MA=n=>et(n)||typeof n=="string",KCe=0,Xw=n=>{var e=++KCe;return"".concat(n||"").concat(e)},No=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(e)&&typeof e!="string")return r;var s;if(bu(e)){if(t==null)return r;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return FA(s)&&(s=r),i&&t!=null&&s>t&&(s=t),s},E9=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},r=0;r<e;r++)if(!t[n[r]])t[n[r]]=!0;else return!0;return!1};function wi(n,e,t){return et(n)&&et(e)?n+t*(e-n):e}function GCe(n,e,t){if(!(!n||!n.length))return n.find(r=>r&&(typeof e=="function"?e(r):ny(r,e))===t)}var ri=n=>n===null||typeof n>"u",XE=n=>ri(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function zCe(n){return n!=null}function JE(){}var qCe=["type","size","sizeType"];function FL(){return FL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},FL.apply(null,arguments)}function kz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Oz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kz(Object(t),!0).forEach(function(r){$Ce(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $Ce(n,e,t){return(e=jCe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jCe(n){var e=WCe(n,"string");return typeof e=="symbol"?e:e+""}function WCe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function YCe(n,e){if(n==null)return{};var t,r,i=XCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function XCe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var B9={symbolCircle:lk,symbolCross:cCe,symbolDiamond:fCe,symbolSquare:hCe,symbolStar:vCe,symbolTriangle:yCe,symbolWye:bCe},JCe=Math.PI/180,ZCe=n=>{var e="symbol".concat(XE(n));return B9[e]||lk},eEe=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var r=18*JCe;return 1.25*n*n*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},tEe=(n,e)=>{B9["symbol".concat(XE(n))]=e},S9=n=>{var{type:e="circle",size:t=64,sizeType:r="area"}=n,i=YCe(n,qCe),s=Oz(Oz({},i),{},{type:e,size:t,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=ZCe(a),v=CCe().type(g).size(eEe(t,r,a)),C=v();if(C!==null)return C},{className:l,cx:u,cy:d}=s,h=io(s);return et(u)&&et(d)&&et(t)?F.createElement("path",FL({},h,{className:Mn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};S9.registerSymbol=tEe;var x9=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,nEe=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(F.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var r={};return Object.keys(t).forEach(i=>{sk(i)&&(r[i]=(s=>t[i](t,s)))}),r},rEe=(n,e,t)=>r=>(n(e,t,r),null),fk=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var r=null;return Object.keys(n).forEach(i=>{var s=n[i];sk(i)&&typeof s=="function"&&(r||(r={}),r[i]=rEe(s,e,t))}),r};function Hz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function iEe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hz(Object(t),!0).forEach(function(r){sEe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Hz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sEe(n,e,t){return(e=aEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aEe(n){var e=oEe(n,"string");return typeof e=="symbol"?e:e+""}function oEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function oo(n,e){var t=iEe({},n),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),t);return s}var XU={},JU={},Vz;function AEe(){return Vz||(Vz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){const i=new Map;for(let s=0;s<t.length;s++){const a=t[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}n.uniqBy=e})(JU)),JU}var ZU={},Kz;function _9(){return Kz||(Kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(ZU)),ZU}var eP={},tP={},nP={},Gz;function lEe(){return Gz||(Gz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(nP)),nP}var zz;function hk(){return zz||(zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=lEe();function t(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}n.isArrayLike=t})(tP)),tP}var rP={},qz;function uEe(){return qz||(qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(rP)),rP}var $z;function cEe(){return $z||($z=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=hk(),t=uEe();function r(i){return t.isObjectLike(i)&&e.isArrayLike(i)}n.isArrayLikeObject=r})(eP)),eP}var iP={},sP={},jz;function dEe(){return jz||(jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=dk();function t(r){return function(i){return e.get(i,r)}}n.property=t})(sP)),sP}var aP={},oP={},AP={},lP={},Wz;function T9(){return Wz||(Wz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(lP)),lP}var uP={},Yz;function I9(){return Yz||(Yz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(uP)),uP}var cP={},Xz;function F9(){return Xz||(Xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){return t===r||Number.isNaN(t)&&Number.isNaN(r)}n.eq=e})(cP)),cP}var Jz;function fEe(){return Jz||(Jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=T9(),t=I9(),r=F9();function i(d,h,g){return typeof g!="function"?i(d,h,()=>{}):s(d,h,function v(C,b,B,S,I,T){const D=g(C,b,B,S,I,T);return D!==void 0?!!D:s(C,b,v,T)},new Map)}function s(d,h,g,v){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,g,v);case"function":return Object.keys(h).length>0?s(d,{...h},g,v):r.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:r.eq(d,h)}}function a(d,h,g,v){if(h==null)return!0;if(Array.isArray(h))return l(d,h,g,v);if(h instanceof Map)return o(d,h,g,v);if(h instanceof Set)return u(d,h,g,v);const C=Object.keys(h);if(d==null)return C.length===0;if(C.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===d;v==null||v.set(h,d);try{for(let b=0;b<C.length;b++){const B=C[b];if(!t.isPrimitive(d)&&!(B in d)||h[B]===void 0&&d[B]!==void 0||h[B]===null&&d[B]!==null||!g(d[B],h[B],B,d,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function o(d,h,g,v){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[C,b]of h.entries()){const B=d.get(C);if(g(B,b,C,d,h,v)===!1)return!1}return!0}function l(d,h,g,v){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const C=new Set;for(let b=0;b<h.length;b++){const B=h[b];let S=!1;for(let I=0;I<d.length;I++){if(C.has(I))continue;const T=d[I];let D=!1;if(g(T,B,b,d,h,v)&&(D=!0),D){C.add(I),S=!0;break}}if(!S)return!1}return!0}function u(d,h,g,v){return h.size===0?!0:d instanceof Set?l([...d],[...h],g,v):!1}n.isMatchWith=i,n.isSetMatch=u})(AP)),AP}var Zz;function M9(){return Zz||(Zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=fEe();function t(r,i){return e.isMatchWith(r,i,()=>{})}n.isMatch=t})(oP)),oP}var dP={},fP={},hP={},e5;function hEe(){return e5||(e5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(r=>Object.prototype.propertyIsEnumerable.call(t,r))}n.getSymbols=e})(hP)),hP}var pP={},t5;function U9(){return t5||(t5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(pP)),pP}var gP={},n5;function P9(){return n5||(n5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",C="[object Error]",b="[object DataView]",B="[object Uint8Array]",S="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]",D="[object BigUint64Array]",U="[object Int8Array]",R="[object Int16Array]",Q="[object Int32Array]",H="[object BigInt64Array]",k="[object Float32Array]",G="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=d,n.bigInt64ArrayTag=H,n.bigUint64ArrayTag=D,n.booleanTag=i,n.dataViewTag=b,n.dateTag=o,n.errorTag=C,n.float32ArrayTag=k,n.float64ArrayTag=G,n.functionTag=h,n.int16ArrayTag=R,n.int32ArrayTag=Q,n.int8ArrayTag=U,n.mapTag=l,n.numberTag=r,n.objectTag=v,n.regexpTag=e,n.setTag=u,n.stringTag=t,n.symbolTag=a,n.uint16ArrayTag=I,n.uint32ArrayTag=T,n.uint8ArrayTag=B,n.uint8ClampedArrayTag=S})(gP)),gP}var mP={},r5;function pEe(){return r5||(r5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(mP)),mP}var i5;function R9(){return i5||(i5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=hEe(),t=U9(),r=P9(),i=I9(),s=pEe();function a(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,g,v=new Map,C=void 0){const b=C==null?void 0:C(d,h,g,v);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const B=new Array(d.length);v.set(d,B);for(let S=0;S<d.length;S++)B[S]=o(d[S],S,g,v,C);return Object.hasOwn(d,"index")&&(B.index=d.index),Object.hasOwn(d,"input")&&(B.input=d.input),B}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const B=new RegExp(d.source,d.flags);return B.lastIndex=d.lastIndex,B}if(d instanceof Map){const B=new Map;v.set(d,B);for(const[S,I]of d)B.set(S,o(I,S,g,v,C));return B}if(d instanceof Set){const B=new Set;v.set(d,B);for(const S of d)B.add(o(S,void 0,g,v,C));return B}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const B=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,B);for(let S=0;S<d.length;S++)B[S]=o(d[S],S,g,v,C);return B}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const B=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,B),l(B,d,g,v,C),B}if(typeof File<"u"&&d instanceof File){const B=new File([d],d.name,{type:d.type});return v.set(d,B),l(B,d,g,v,C),B}if(typeof Blob<"u"&&d instanceof Blob){const B=new Blob([d],{type:d.type});return v.set(d,B),l(B,d,g,v,C),B}if(d instanceof Error){const B=new d.constructor;return v.set(d,B),B.message=d.message,B.name=d.name,B.stack=d.stack,B.cause=d.cause,l(B,d,g,v,C),B}if(d instanceof Boolean){const B=new Boolean(d.valueOf());return v.set(d,B),l(B,d,g,v,C),B}if(d instanceof Number){const B=new Number(d.valueOf());return v.set(d,B),l(B,d,g,v,C),B}if(d instanceof String){const B=new String(d.valueOf());return v.set(d,B),l(B,d,g,v,C),B}if(typeof d=="object"&&u(d)){const B=Object.create(Object.getPrototypeOf(d));return v.set(d,B),l(B,d,g,v,C),B}return d}function l(d,h,g=d,v,C){const b=[...Object.keys(h),...e.getSymbols(h)];for(let B=0;B<b.length;B++){const S=b[B],I=Object.getOwnPropertyDescriptor(d,S);(I==null||I.writable)&&(d[S]=o(h[S],S,g,v,C))}}function u(d){switch(t.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=a,n.cloneDeepWithImpl=o,n.copyProperties=l})(fP)),fP}var s5;function gEe(){return s5||(s5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=R9();function t(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}n.cloneDeep=t})(dP)),dP}var a5;function mEe(){return a5||(a5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=M9(),t=gEe();function r(i){return i=t.cloneDeep(i),s=>e.isMatch(s,i)}n.matches=r})(aP)),aP}var vP={},yP={},wP={},o5;function vEe(){return o5||(o5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=R9(),t=P9();function r(i,s){return e.cloneDeepWith(i,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case t.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}n.cloneDeepWith=r})(wP)),wP}var A5;function yEe(){return A5||(A5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=vEe();function t(r){return e.cloneDeepWith(r)}n.cloneDeep=t})(yP)),yP}var bP={},CP={},l5;function D9(){return l5||(l5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}n.isIndex=t})(CP)),CP}var EP={},u5;function wEe(){return u5||(u5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=U9();function t(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}n.isArguments=t})(EP)),EP}var c5;function bEe(){return c5||(c5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=C9(),t=D9(),r=wEe(),i=ck();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const h=l[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||r.isArguments(u))&&t.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}n.has=s})(bP)),bP}var d5;function CEe(){return d5||(d5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=M9(),t=uk(),r=yEe(),i=dk(),s=bEe();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return l=r.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}n.matchesProperty=a})(vP)),vP}var f5;function EEe(){return f5||(f5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=_9(),t=dEe(),r=mEe(),i=CEe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return t.property(a)}}n.iteratee=s})(iP)),iP}var h5;function BEe(){return h5||(h5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=AEe(),t=_9(),r=cEe(),i=EEe();function s(a,o=t.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}n.uniqBy=s})(XU)),XU}var BP,p5;function SEe(){return p5||(p5=1,BP=BEe().uniqBy),BP}var xEe=SEe();const g5=DA(xEe);function _Ee(n,e,t){return e===!0?g5(n,t):typeof e=="function"?g5(n,e):n}var SP={exports:{}},xP={},_P={exports:{}},TP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5;function TEe(){if(m5)return TP;m5=1;var n=hy();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(h,g){var v=g(),C=r({inst:{value:v,getSnapshot:g}}),b=C[0].inst,B=C[1];return s(function(){b.value=v,b.getSnapshot=g,l(b)&&B({inst:b})},[h,v,g]),i(function(){return l(b)&&B({inst:b}),h(function(){l(b)&&B({inst:b})})},[h]),a(v),v}function l(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!t(h,v)}catch{return!0}}function u(h,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return TP.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,TP}var v5;function IEe(){return v5||(v5=1,_P.exports=TEe()),_P.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y5;function FEe(){if(y5)return xP;y5=1;var n=hy(),e=IEe();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return xP.useSyncExternalStoreWithSelector=function(u,d,h,g,v){var C=s(null);if(C.current===null){var b={hasValue:!1,value:null};C.current=b}else b=C.current;C=o(function(){function S(R){if(!I){if(I=!0,T=R,R=g(R),v!==void 0&&b.hasValue){var Q=b.value;if(v(Q,R))return D=Q}return D=R}if(Q=D,r(T,R))return Q;var H=g(R);return v!==void 0&&v(Q,H)?(T=R,Q):(T=R,D=H)}var I=!1,T,D,U=h===void 0?null:h;return[function(){return S(d())},U===null?void 0:function(){return S(U())}]},[d,h,g,v]);var B=i(u,C[0],C[1]);return a(function(){b.hasValue=!0,b.value=B},[B]),l(B),B},xP}var w5;function MEe(){return w5||(w5=1,SP.exports=FEe()),SP.exports}var UEe=MEe(),pk=F.createContext(null),PEe=n=>n,hr=()=>{var n=F.useContext(pk);return n?n.store.dispatch:PEe},H_=()=>{},REe=()=>H_,DEe=(n,e)=>n===e;function Je(n){var e=F.useContext(pk);return UEe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:REe,e?e.store.getState:H_,e?e.store.getState:H_,e?n:H_,DEe)}function NEe(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function LEe(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function QEe(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${t}]`)}}var b5=n=>Array.isArray(n)?n:[n];function kEe(n){const e=Array.isArray(n[0])?n[0]:n;return QEe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function OEe(n,e){const t=[],{length:r}=n;for(let i=0;i<r;i++)t.push(n[i].apply(null,e));return t}var HEe=class{constructor(n){this.value=n}deref(){return this.value}},VEe=typeof WeakRef<"u"?WeakRef:HEe,KEe=0,C5=1;function Cx(){return{s:KEe,v:void 0,o:null,p:null}}function N9(n,e={}){let t=Cx();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var h;let o=t;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const C=arguments[g];if(typeof C=="function"||typeof C=="object"&&C!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const B=b.get(C);B===void 0?(o=Cx(),b.set(C,o)):o=B}else{let b=o.p;b===null&&(o.p=b=new Map);const B=b.get(C);B===void 0?(o=Cx(),b.set(C,o)):o=B}}const u=o;let d;if(o.s===C5)d=o.v;else if(d=n.apply(null,arguments),s++,r){const g=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;g!=null&&r(g,d)&&(d=g,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new VEe(d):d}return u.s=C5,u.v=d,d}return a.clearCache=()=>{t=Cx(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function GEe(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,r=(...i)=>{let s=0,a=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),NEe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...t,...l},{memoize:h,memoizeOptions:g=[],argsMemoize:v=N9,argsMemoizeOptions:C=[]}=d,b=b5(g),B=b5(C),S=kEe(i),I=h(function(){return s++,u.apply(null,arguments)},...b),T=v(function(){a++;const U=OEe(S,arguments);return o=I.apply(null,U),o},...B);return Object.assign(T,{resultFunc:u,memoizedResultFunc:I,dependencies:S,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var le=GEe(N9),zEe=Object.assign((n,e=le)=>{LEe(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),r=t.map(s=>n[s]);return e(r,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>zEe}),IP={},FP={},MP={},E5;function qEe(){return E5||(E5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const t=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};n.compareValues=t})(MP)),MP}var UP={},PP={},B5;function L9(){return B5||(B5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(PP)),PP}var S5;function $Ee(){return S5||(S5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=L9(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!t.test(s))||a!=null&&Object.hasOwn(a,s)}n.isKey=i})(UP)),UP}var x5;function jEe(){return x5||(x5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=qEe(),t=$Ee(),r=ck();function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const u=(v,C)=>{let b=v;for(let B=0;B<C.length&&b!=null;++B)b=b[C[B]];return b},d=(v,C)=>C==null||v==null?C:typeof v=="object"&&"key"in v?Object.hasOwn(C,v.key)?C[v.key]:u(C,v.path):typeof v=="function"?v(C):Array.isArray(v)?u(C,v):typeof C=="object"?C[v]:C,h=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||t.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:h.map(C=>d(C,v))})).slice().sort((v,C)=>{for(let b=0;b<h.length;b++){const B=e.compareValues(v.criteria[b],C.criteria[b],o[b]);if(B!==0)return B}return 0}).map(v=>v.original)}n.orderBy=i})(FP)),FP}var RP={},_5;function WEe(){return _5||(_5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):i.push(d)}};return a(t,0),i}n.flatten=e})(RP)),RP}var DP={},T5;function Q9(){return T5||(T5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=D9(),t=hk(),r=T9(),i=F9();function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&t.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}n.isIterateeCall=s})(DP)),DP}var I5;function YEe(){return I5||(I5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=jEe(),t=WEe(),r=Q9();function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,t.flatten(a),["asc"])}n.sortBy=i})(IP)),IP}var NP,F5;function XEe(){return F5||(F5=1,NP=YEe().sortBy),NP}var JEe=XEe();const iI=DA(JEe);var k9=n=>n.legend.settings,ZEe=n=>n.legend.size,eBe=n=>n.legend.payload;le([eBe,k9],(n,e)=>{var{itemSorter:t}=e,r=n.flat(1);return t?iI(r,t):r});var Ex=1;function tBe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=F.useState({height:0,left:0,top:0,width:0}),r=F.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Ex||Math.abs(a.left-e.left)>Ex||Math.abs(a.top-e.top)>Ex||Math.abs(a.width-e.width)>Ex)&&t({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,r]}function gi(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var nBe=typeof Symbol=="function"&&Symbol.observable||"@@observable",M5=nBe,LP=()=>Math.random().toString(36).substring(7).split("").join("."),rBe={INIT:`@@redux/INIT${LP()}`,REPLACE:`@@redux/REPLACE${LP()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${LP()}`},ST=rBe;function gk(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function O9(n,e,t){if(typeof n!="function")throw new Error(gi(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(gi(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(gi(1));return t(O9)(n,e)}let r=n,i=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((B,S)=>{a.set(S,B)}))}function d(){if(l)throw new Error(gi(3));return i}function h(B){if(typeof B!="function")throw new Error(gi(4));if(l)throw new Error(gi(5));let S=!0;u();const I=o++;return a.set(I,B),function(){if(S){if(l)throw new Error(gi(6));S=!1,u(),a.delete(I),s=null}}}function g(B){if(!gk(B))throw new Error(gi(7));if(typeof B.type>"u")throw new Error(gi(8));if(typeof B.type!="string")throw new Error(gi(17));if(l)throw new Error(gi(9));try{l=!0,i=r(i,B)}finally{l=!1}return(s=a).forEach(I=>{I()}),B}function v(B){if(typeof B!="function")throw new Error(gi(10));r=B,g({type:ST.REPLACE})}function C(){const B=h;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(gi(11));function I(){const D=S;D.next&&D.next(d())}return I(),{unsubscribe:B(I)}},[M5](){return this}}}return g({type:ST.INIT}),{dispatch:g,subscribe:h,getState:d,replaceReducer:v,[M5]:C}}function iBe(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:ST.INIT})>"u")throw new Error(gi(12));if(typeof t(void 0,{type:ST.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gi(13))})}function H9(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof n[a]=="function"&&(t[a]=n[a])}const r=Object.keys(t);let i;try{iBe(t)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],g=t[h],v=a[h],C=g(v,o);if(typeof C>"u")throw o&&o.type,new Error(gi(14));u[h]=C,l=l||C!==v}return l=l||r.length!==Object.keys(a).length,l?u:a}}function xT(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function sBe(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(gi(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=n.map(l=>l(a));return s=xT(...o)(i.dispatch),{...i,dispatch:s}}}function V9(n){return gk(n)&&"type"in n&&typeof n.type=="string"}var K9=Symbol.for("immer-nothing"),U5=Symbol.for("immer-draftable"),rs=Symbol.for("immer-state");function Mo(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ca=Object,ry=ca.getPrototypeOf,_T="constructor",sI="prototype",ML="configurable",TT="enumerable",V_="writable",Jw="value",Cu=n=>!!n&&!!n[rs];function Lo(n){var e;return n?G9(n)||aI(n)||!!n[U5]||!!((e=n[_T])!=null&&e[U5])||oI(n)||AI(n):!1}var aBe=ca[sI][_T].toString(),P5=new WeakMap;function G9(n){if(!n||!mk(n))return!1;const e=ry(n);if(e===null||e===ca[sI])return!0;const t=ca.hasOwnProperty.call(e,_T)&&e[_T];if(t===Object)return!0;if(!Dg(t))return!1;let r=P5.get(t);return r===void 0&&(r=Function.toString.call(t),P5.set(t,r)),r===aBe}function ZE(n,e,t=!0){eB(n)===0?(t?Reflect.ownKeys(n):ca.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function eB(n){const e=n[rs];return e?e.type_:aI(n)?1:oI(n)?2:AI(n)?3:0}var R5=(n,e,t=eB(n))=>t===2?n.has(e):ca[sI].hasOwnProperty.call(n,e),UL=(n,e,t=eB(n))=>t===2?n.get(e):n[e],IT=(n,e,t,r=eB(n))=>{r===2?n.set(e,t):r===3?n.add(t):n[e]=t};function oBe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var aI=Array.isArray,oI=n=>n instanceof Map,AI=n=>n instanceof Set,mk=n=>typeof n=="object",Dg=n=>typeof n=="function",QP=n=>typeof n=="boolean",cl=n=>n.copy_||n.base_,vk=n=>n.modified_?n.copy_:n.base_;function PL(n,e){if(oI(n))return new Map(n);if(AI(n))return new Set(n);if(aI(n))return Array[sI].slice.call(n);const t=G9(n);if(e===!0||e==="class_only"&&!t){const r=ca.getOwnPropertyDescriptors(n);delete r[rs];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o[V_]===!1&&(o[V_]=!0,o[ML]=!0),(o.get||o.set)&&(r[a]={[ML]:!0,[V_]:!0,[TT]:o[TT],[Jw]:n[a]})}return ca.create(ry(n),r)}else{const r=ry(n);if(r!==null&&t)return{...n};const i=ca.create(r);return ca.assign(i,n)}}function yk(n,e=!1){return lI(n)||Cu(n)||!Lo(n)||(eB(n)>1&&ca.defineProperties(n,{set:Bx,add:Bx,clear:Bx,delete:Bx}),ca.freeze(n),e&&ZE(n,(t,r)=>{yk(r,!0)},!1)),n}function ABe(){Mo(2)}var Bx={[Jw]:ABe};function lI(n){return n===null||!mk(n)?!0:ca.isFrozen(n)}var FT="MapSet",RL="Patches",z9={};function iy(n){const e=z9[n];return e||Mo(0,n),e}var lBe=n=>!!z9[n],Zw,q9=()=>Zw,uBe=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:lBe(FT)?iy(FT):void 0});function D5(n,e){e&&(n.patchPlugin_=iy(RL),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function DL(n){NL(n),n.drafts_.forEach(cBe),n.drafts_=null}function NL(n){n===Zw&&(Zw=n.parent_)}var N5=n=>Zw=uBe(Zw,n);function cBe(n){const e=n[rs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function L5(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[rs].modified_&&(DL(e),Mo(4)),Lo(n)&&(n=Q5(e,n));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(t[rs].base_,n,e)}else n=Q5(e,t);return dBe(e,n,!0),DL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==K9?n:void 0}function Q5(n,e){if(lI(e))return e;const t=e[rs];if(!t)return wk(e,n.handledSet_,n);if(!uI(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:r}=t;if(r)for(;r.length>0;)r.pop()(n);W9(t,n)}return t.copy_}function dBe(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&yk(e,t)}function $9(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var uI=(n,e)=>n.scope_===e,fBe=[];function j9(n,e,t,r){const i=cl(n),s=n.type_;if(r!==void 0&&UL(i,r,s)===e){IT(i,r,t,s);return}if(!n.draftLocations_){const o=n.draftLocations_=new Map;ZE(i,(l,u)=>{if(Cu(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const a=n.draftLocations_.get(e)??fBe;for(const o of a)IT(i,o,t,s)}function hBe(n,e,t){n.callbacks_.push(function(i){var o;const s=e;if(!s||!uI(s,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(s);const a=vk(s);j9(n,s.draft_??s,a,t),W9(s,i)})}function W9(n,e){var r;if(n.modified_&&!n.finalized_&&(n.type_===3||(((r=n.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(n);s&&i.generatePatches_(n,s,e)}$9(n)}}function pBe(n,e,t){const{scope_:r}=n;if(Cu(t)){const i=t[rs];uI(i,r)&&i.callbacks_.push(function(){K_(n);const a=vk(i);j9(n,t,a,e)})}else Lo(t)&&n.callbacks_.push(function(){const s=cl(n);UL(s,e,n.type_)===t&&r.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&wk(UL(n.copy_,e,n.type_),r.handledSet_,r)})}function wk(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Cu(n)||e.has(n)||!Lo(n)||lI(n)||(e.add(n),ZE(n,(r,i)=>{if(Cu(i)){const s=i[rs];if(uI(s,t)){const a=vk(s);IT(n,r,a,n.type_),$9(s)}}else Lo(i)&&wk(i,e,t)})),n}function gBe(n,e){const t=aI(n),r={type_:t?1:0,scope_:e?e.scope_:q9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=bk;t&&(i=[r],s=eb);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,[o,r]}var bk={get(n,e){if(e===rs)return n;const t=cl(n);if(!R5(t,e,n.type_))return mBe(n,t,e);const r=t[e];if(n.finalized_||!Lo(r))return r;if(r===kP(n.base_,e)){K_(n);const i=n.type_===1?+e:e,s=QL(n.scope_,r,n,i);return n.copy_[i]=s}return r},has(n,e){return e in cl(n)},ownKeys(n){return Reflect.ownKeys(cl(n))},set(n,e,t){const r=Y9(cl(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=kP(cl(n),e),s=i==null?void 0:i[rs];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(oBe(t,i)&&(t!==void 0||R5(n.base_,e,n.type_)))return!0;K_(n),LL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),pBe(n,e,t)),!0},deleteProperty(n,e){return K_(n),kP(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),LL(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=cl(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{[V_]:!0,[ML]:n.type_!==1||e!=="length",[TT]:r[TT],[Jw]:t[e]}},defineProperty(){Mo(11)},getPrototypeOf(n){return ry(n.base_)},setPrototypeOf(){Mo(12)}},eb={};ZE(bk,(n,e)=>{eb[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});eb.deleteProperty=function(n,e){return eb.set.call(this,n,e,void 0)};eb.set=function(n,e,t){return bk.set.call(this,n[0],e,t,n[0])};function kP(n,e){const t=n[rs];return(t?cl(t):n)[e]}function mBe(n,e,t){var i;const r=Y9(e,t);return r?Jw in r?r[Jw]:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function Y9(n,e){if(!(e in n))return;let t=ry(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=ry(t)}}function LL(n){n.modified_||(n.modified_=!0,n.parent_&&LL(n.parent_))}function K_(n){n.copy_||(n.assigned_=new Map,n.copy_=PL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var vBe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,i)=>{if(Dg(t)&&!Dg(r)){const a=r;r=t;const o=this;return function(u=a,...d){return o.produce(u,h=>r.call(this,h,...d))}}Dg(r)||Mo(6),i!==void 0&&!Dg(i)&&Mo(7);let s;if(Lo(t)){const a=N5(this),o=QL(a,t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?DL(a):NL(a)}return D5(a,i),L5(s,a)}else if(!t||!mk(t)){if(s=r(t),s===void 0&&(s=t),s===K9&&(s=void 0),this.autoFreeze_&&yk(s,!0),i){const a=[],o=[];iy(RL).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else Mo(1,t)},this.produceWithPatches=(t,r)=>{if(Dg(t))return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let i,s;return[this.produce(t,r,(o,l)=>{i=o,s=l}),i,s]},QP(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),QP(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),QP(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Lo(e)||Mo(8),Cu(e)&&(e=Do(e));const t=N5(this),r=QL(t,e,void 0);return r[rs].isManual_=!0,NL(t),r}finishDraft(e,t){const r=e&&e[rs];(!r||!r.isManual_)&&Mo(9);const{scope_:i}=r;return D5(i,t),L5(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const i=iy(RL).applyPatches_;return Cu(e)?i(e,t):this.produce(e,s=>i(s,t))}};function QL(n,e,t,r){const[i,s]=oI(e)?iy(FT).proxyMap_(e,t):AI(e)?iy(FT).proxySet_(e,t):gBe(e,t);return((t==null?void 0:t.scope_)??q9()).drafts_.push(i),s.callbacks_=(t==null?void 0:t.callbacks_)??[],s.key_=r,t&&r!==void 0?hBe(t,s,r):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),i}function Do(n){return Cu(n)||Mo(10,n),X9(n)}function X9(n){if(!Lo(n)||lI(n))return n;const e=n[rs];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=PL(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=PL(n,!0);return ZE(t,(i,s)=>{IT(t,i,X9(s))},r),e&&(e.finalized_=!1),t}var yBe=new vBe,J9=yBe.produce;function Z9(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var wBe=Z9(),bBe=Z9,CBe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xT:xT.apply(null,arguments)};function so(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(da(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>V9(r)&&r.type===n,t}var eJ=class xw extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,xw.prototype)}static get[Symbol.species](){return xw}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new xw(...e[0].concat(this)):new xw(...e.concat(this))}};function k5(n){return Lo(n)?J9(n,()=>{}):n}function Sx(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function EBe(n){return typeof n=="boolean"}var BBe=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new eJ;return t&&(EBe(t)?a.push(wBe):a.push(bBe(t.extraArgument))),a},tJ="RTK_autoBatch",Ln=()=>n=>({payload:n,meta:{[tJ]:!0}}),O5=n=>e=>{setTimeout(e,n)},nJ=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,a=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:O5(10):n.type==="callback"?n.queueNotification:O5(n.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),g=r.subscribe(h);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[tJ]),s=!i,s&&(a||(a=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},SBe=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new eJ(n);return r&&i.push(nJ(typeof r=="object"?r:void 0)),i};function xBe(n){const e=BBe(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(gk(t))o=H9(t);else throw new Error(da(1));let l;typeof r=="function"?l=r(e):l=e();let u=xT;i&&(u=CBe({trace:!1,...typeof i=="object"&&i}));const d=sBe(...l),h=SBe(d);let g=typeof a=="function"?a(h):h();const v=u(...g);return O9(o,s,v)}function rJ(n){const e={},t=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(da(28));if(o in e)throw new Error(da(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return t.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function _Be(n){return typeof n=="function"}function TBe(n,e){let[t,r,i]=rJ(e),s;if(_Be(n))s=()=>k5(n());else{const o=k5(n);s=()=>o}function a(o=s(),l){let u=[t[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(Cu(d)){const v=h(d,l);return v===void 0?d:v}else{if(Lo(d))return J9(d,g=>h(g,l));{const g=h(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return a.getInitialState=s,a}var IBe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",FBe=(n=21)=>{let e="",t=n;for(;t--;)e+=IBe[Math.random()*64|0];return e},MBe=Symbol.for("rtk-slice-createasyncthunk");function UBe(n,e){return`${n}/${e}`}function PBe({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[MBe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(da(11));const o=(typeof i.reducers=="function"?i.reducers(DBe()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(D,U){const R=typeof D=="string"?D:D.type;if(!R)throw new Error(da(12));if(R in u.sliceCaseReducersByType)throw new Error(da(13));return u.sliceCaseReducersByType[R]=U,d},addMatcher(D,U){return u.sliceMatchers.push({matcher:D,reducer:U}),d},exposeAction(D,U){return u.actionCreators[D]=U,d},exposeCaseReducer(D,U){return u.sliceCaseReducersByName[D]=U,d}};l.forEach(D=>{const U=o[D],R={reducerName:D,type:UBe(s,D),createNotation:typeof i.reducers=="function"};LBe(U)?kBe(R,U,d,e):NBe(R,U,d)});function h(){const[D={},U=[],R=void 0]=typeof i.extraReducers=="function"?rJ(i.extraReducers):[i.extraReducers],Q={...D,...u.sliceCaseReducersByType};return TBe(i.initialState,H=>{for(let k in Q)H.addCase(k,Q[k]);for(let k of u.sliceMatchers)H.addMatcher(k.matcher,k.reducer);for(let k of U)H.addMatcher(k.matcher,k.reducer);R&&H.addDefaultCase(R)})}const g=D=>D,v=new Map,C=new WeakMap;let b;function B(D,U){return b||(b=h()),b(D,U)}function S(){return b||(b=h()),b.getInitialState()}function I(D,U=!1){function R(H){let k=H[D];return typeof k>"u"&&U&&(k=Sx(C,R,S)),k}function Q(H=g){const k=Sx(v,U,()=>new WeakMap);return Sx(k,H,()=>{const G={};for(const[K,z]of Object.entries(i.selectors??{}))G[K]=RBe(z,H,()=>Sx(C,H,S),U);return G})}return{reducerPath:D,getSelectors:Q,get selectors(){return Q(R)},selectSlice:R}}const T={name:s,reducer:B,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...I(a),injectInto(D,{reducerPath:U,...R}={}){const Q=U??a;return D.inject({reducerPath:Q,reducer:B},R),{...T,...I(Q,!0)}}};return T}}function RBe(n,e,t,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=t()),n(o,...a)}return i.unwrapped=n,i}var Is=PBe();function DBe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function NBe({type:n,reducerName:e,createNotation:t},r,i){let s,a;if("reducer"in r){if(t&&!QBe(r))throw new Error(da(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,a?so(n,a):so(n))}function LBe(n){return n._reducerDefinitionType==="asyncThunk"}function QBe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function kBe({type:n,reducerName:e},t,r,i){if(!i)throw new Error(da(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=t,h=i(n,s,d);r.exposeAction(e,h),a&&r.addCase(h.fulfilled,a),o&&r.addCase(h.pending,o),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:a||xx,pending:o||xx,rejected:l||xx,settled:u||xx})}function xx(){}var OBe="task",iJ="listener",sJ="completed",Ck="cancelled",HBe=`task-${Ck}`,VBe=`task-${sJ}`,kL=`${iJ}-${Ck}`,KBe=`${iJ}-${sJ}`,cI=class{constructor(n){be(this,"name","TaskAbortError");be(this,"message");this.code=n,this.message=`${OBe} ${Ck} (reason: ${n})`}},Ek=(n,e)=>{if(typeof n!="function")throw new TypeError(da(32))},MT=()=>{},aJ=(n,e=MT)=>(n.catch(e),n),oJ=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),fp=n=>{if(n.aborted)throw new cI(n.reason)};function AJ(n,e){let t=MT;return new Promise((r,i)=>{const s=()=>i(new cI(n.reason));if(n.aborted){s();return}t=oJ(n,s),e.finally(()=>t()).then(r,i)}).finally(()=>{t=MT})}var GBe=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof cI?"cancelled":"rejected",error:t}}finally{e==null||e()}},UT=n=>e=>aJ(AJ(n,e).then(t=>(fp(n),t))),lJ=n=>{const e=UT(n);return t=>e(new Promise(r=>setTimeout(r,t)))},{assign:Zg}=Object,H5={},dI="listenerMiddleware",zBe=(n,e)=>{const t=r=>oJ(n,()=>r.abort(n.reason));return(r,i)=>{Ek(r);const s=new AbortController;t(s);const a=GBe(async()=>{fp(n),fp(s.signal);const o=await r({pause:UT(s.signal),delay:lJ(s.signal),signal:s.signal});return fp(s.signal),o},()=>s.abort(VBe));return i!=null&&i.autoJoin&&e.push(a.catch(MT)),{result:UT(n)(a),cancel(){s.abort(HBe)}}}},qBe=(n,e)=>{const t=async(r,i)=>{fp(e);let s=()=>{};const o=[new Promise((l,u)=>{let d=n({predicate:r,effect:(h,g)=>{g.unsubscribe(),l([h,g.getState(),g.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await AJ(e,Promise.race(o));return fp(e),l}finally{s()}};return(r,i)=>aJ(t(r,i))},uJ=n=>{let{type:e,actionCreator:t,matcher:r,predicate:i,effect:s}=n;if(e)i=so(e).match;else if(t)e=t.type,i=t.match;else if(r)i=r;else if(!i)throw new Error(da(21));return Ek(s),{predicate:i,type:e,effect:s}},cJ=Zg(n=>{const{type:e,predicate:t,effect:r}=uJ(n);return{id:FBe(),effect:r,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(da(22))}}},{withTypes:()=>cJ}),V5=(n,e)=>{const{type:t,effect:r,predicate:i}=uJ(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===i)&&s.effect===r)},OL=n=>{n.pending.forEach(e=>{e.abort(kL)})},$Be=(n,e)=>()=>{for(const t of e.keys())OL(t);n.clear()},K5=(n,e,t)=>{try{n(e,t)}catch(r){setTimeout(()=>{throw r},0)}},dJ=Zg(so(`${dI}/add`),{withTypes:()=>dJ}),jBe=so(`${dI}/removeAll`),fJ=Zg(so(`${dI}/remove`),{withTypes:()=>fJ}),WBe=(...n)=>{console.error(`${dI}/error`,...n)},tB=(n={})=>{const e=new Map,t=new Map,r=v=>{const C=t.get(v)??0;t.set(v,C+1)},i=v=>{const C=t.get(v)??1;C===1?t.delete(v):t.set(v,C-1)},{extra:s,onError:a=WBe}=n;Ek(a);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),C=>{v.unsubscribe(),C!=null&&C.cancelActive&&OL(v)}),l=v=>{const C=V5(e,v)??cJ(v);return o(C)};Zg(l,{withTypes:()=>l});const u=v=>{const C=V5(e,v);return C&&(C.unsubscribe(),v.cancelActive&&OL(C)),!!C};Zg(u,{withTypes:()=>u});const d=async(v,C,b,B)=>{const S=new AbortController,I=qBe(l,S.signal),T=[];try{v.pending.add(S),r(v),await Promise.resolve(v.effect(C,Zg({},b,{getOriginalState:B,condition:(D,U)=>I(D,U).then(Boolean),take:I,delay:lJ(S.signal),pause:UT(S.signal),extra:s,signal:S.signal,fork:zBe(S.signal,T),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((D,U,R)=>{D!==S&&(D.abort(kL),R.delete(D))})},cancel:()=>{S.abort(kL),v.pending.delete(S)},throwIfCancelled:()=>{fp(S.signal)}})))}catch(D){D instanceof cI||K5(a,D,{raisedBy:"effect"})}finally{await Promise.all(T),S.abort(KBe),i(v),v.pending.delete(S)}},h=$Be(e,t);return{middleware:v=>C=>b=>{if(!V9(b))return C(b);if(dJ.match(b))return l(b.payload);if(jBe.match(b)){h();return}if(fJ.match(b))return u(b.payload);let B=v.getState();const S=()=>{if(B===H5)throw new Error(da(23));return B};let I;try{if(I=C(b),e.size>0){const T=v.getState(),D=Array.from(e.values());for(const U of D){let R=!1;try{R=U.predicate(b,T,B)}catch(Q){R=!1,K5(a,Q,{raisedBy:"predicate"})}R&&d(U,b,v,S)}}}finally{B=H5}return I},startListening:l,stopListening:u,clearListeners:h}};function da(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var YBe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},hJ=Is({name:"chartLayout",initialState:YBe,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,r,i,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,n.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:XBe,setLayout:JBe,setChartSize:ZBe,setScale:eSe}=hJ.actions,tSe=hJ.reducer;function pJ(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function G5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Og(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(t),!0).forEach(function(r){nSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nSe(n,e,t){return(e=rSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rSe(n){var e=iSe(n,"string");return typeof e=="symbol"?e:e+""}function iSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Oi(n,e,t){return ri(n)||ri(e)?t:MA(e)?ny(n,e,t):typeof e=="function"?e(n):t}var sSe=(n,e,t)=>{if(e&&t){var{width:r,height:i}=t,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&et(n[s]))return Og(Og({},n),{},{[s]:n[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&et(n[a]))return Og(Og({},n),{},{[a]:n[a]+(i||0)})}return n},Ip=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",z5=1e-4,aSe=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,r=n.range(),i=Math.min(r[0],r[1])-z5,s=Math.max(r[0],r[1])+z5,a=n(e[0]),o=n(e[t-1]);(a<i||a>s||o<i||o>s)&&n.domain([e[0],e[t-1]])}},oSe=(n,e)=>{if(!e||e.length!==2||!et(e[0])||!et(e[1]))return n;var t=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[n[0],n[1]];return(!et(n[0])||n[0]<t)&&(i[0]=t),(!et(n[1])||n[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<t&&(i[1]=t),i},ASe=n=>{var e=n.length;if(!(e<=0))for(var t=0,r=n[0].length;t<r;++t)for(var i=0,s=0,a=0;a<e;++a){var o=FA(n[a][t][1])?n[a][t][0]:n[a][t][1];o>=0?(n[a][t][0]=i,n[a][t][1]=i+o,i=n[a][t][1]):(n[a][t][0]=s,n[a][t][1]=s+o,s=n[a][t][1])}},lSe=n=>{var e=n.length;if(!(e<=0))for(var t=0,r=n[0].length;t<r;++t)for(var i=0,s=0;s<e;++s){var a=FA(n[s][t][1])?n[s][t][0]:n[s][t][1];a>=0?(n[s][t][0]=i,n[s][t][1]=i+a,i=n[s][t][1]):(n[s][t][0]=0,n[s][t][1]=0)}},uSe={sign:ASe,expand:NCe,none:ty,silhouette:LCe,wiggle:QCe,positive:lSe},cSe=(n,e,t)=>{var r=uSe[t],i=DCe().keys(e).value((s,a)=>Number(Oi(s,a,0))).order(IL).offset(r);return i(n)};function dSe(n){return n==null?void 0:String(n)}var q5=n=>{var{axis:e,ticks:t,offset:r,bandSize:i,entry:s,index:a}=n;if(e.type==="category")return t[a]?t[a].coordinate+r:null;var o=Oi(s,e.dataKey,e.scale.domain()[a]);return ri(o)?null:e.scale(o)-i/2+r},fSe=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return r<=0&&i>=0?0:i<0?i:r}return t[0]},hSe=n=>{var e=n.flat(2).filter(et);return[Math.min(...e),Math.max(...e)]},pSe=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],gSe=(n,e,t)=>{if(n!=null)return pSe(Object.keys(n).reduce((r,i)=>{var s=n[i],{stackedData:a}=s,o=a.reduce((l,u)=>{var d=pJ(u,e,t),h=hSe(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},$5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PT=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var r=n.scale.bandwidth();if(!t||r>0)return r}if(n&&e&&e.length>=2){for(var i=iI(e,d=>d.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],u=i[a-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function W5(n){var{tooltipEntrySettings:e,dataKey:t,payload:r,value:i,name:s}=n;return Og(Og({},e),{},{dataKey:t,payload:r,value:i,name:s})}function gJ(n,e){if(n)return String(n);if(typeof e=="string")return e}var mSe=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},vSe=(n,e)=>e==="centric"?n.angle:n.radius,Du=n=>n.layout.width,Nu=n=>n.layout.height,ySe=n=>n.layout.scale,mJ=n=>n.layout.margin,fI=le(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),hI=le(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),wSe="data-recharts-item-index",bSe="data-recharts-item-data-key",nB=60;function Y5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _x(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(t),!0).forEach(function(r){CSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Y5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function CSe(n,e,t){return(e=ESe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ESe(n){var e=BSe(n,"string");return typeof e=="symbol"?e:e+""}function BSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var SSe=n=>n.brush.height;function xSe(n){var e=hI(n);return e.reduce((t,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:nB;return t+i}return t},0)}function _Se(n){var e=hI(n);return e.reduce((t,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:nB;return t+i}return t},0)}function TSe(n){var e=fI(n);return e.reduce((t,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?t+r.height:t,0)}function ISe(n){var e=fI(n);return e.reduce((t,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?t+r.height:t,0)}var ii=le([Du,Nu,mJ,SSe,xSe,_Se,TSe,ISe,k9,ZEe],(n,e,t,r,i,s,a,o,l,u)=>{var d={left:(t.left||0)+i,right:(t.right||0)+s},h={top:(t.top||0)+a,bottom:(t.bottom||0)+o},g=_x(_x({},h),d),v=g.bottom;g.bottom+=r,g=sSe(g,l,u);var C=n-g.left-g.right,b=e-g.top-g.bottom;return _x(_x({brushBottom:v},g),{},{width:Math.max(C,0),height:Math.max(b,0)})}),FSe=le(ii,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),Bk=le(Du,Nu,(n,e)=>({x:0,y:0,width:n,height:e})),MSe=F.createContext(null),ga=()=>F.useContext(MSe)!=null,pI=n=>n.brush,gI=le([pI,ii,mJ],(n,e,t)=>({height:n.height,x:et(n.x)?n.x:e.left,y:et(n.y)?n.y:e.top+e.height+e.brushBottom-((t==null?void 0:t.bottom)||0),width:et(n.width)?n.width:e.width})),OP={},HP={},VP={},X5;function USe(){return X5||(X5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(t.apply(a,o),a=void 0,o=null)},h=()=>{u&&d(),b()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},r)},C=()=>{g!==null&&(clearTimeout(g),g=null)},b=()=>{C(),a=void 0,o=null},B=()=>{d()},S=function(...I){if(i!=null&&i.aborted)return;a=this,o=I;const T=g==null;v(),l&&T&&d()};return S.schedule=v,S.cancel=b,S.flush=B,i==null||i.addEventListener("abort",b,{once:!0}),S}n.debounce=e})(VP)),VP}var J5;function PSe(){return J5||(J5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=USe();function t(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const g=e.debounce(function(...b){d=r.apply(this,b),h=null},i,{edges:u}),v=function(...b){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=r.apply(this,b),h=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,b),d)},C=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=C,v}n.debounce=t})(HP)),HP}var Z5;function RSe(){return Z5||(Z5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=PSe();function t(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:o})}n.throttle=t})(OP)),OP}var KP,eq;function DSe(){return eq||(eq=1,KP=RSe().throttle),KP}var NSe=DSe();const LSe=DA(NSe);var tq=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>i[a++]))}},vJ=(n,e,t)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=t,o=bu(r)?n:Number(r),l=bu(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},QSe={width:0,height:0,overflow:"visible"},kSe={width:0,overflowX:"visible"},OSe={height:0,overflowY:"visible"},HSe={},VSe=n=>{var{width:e,height:t}=n,r=bu(e),i=bu(t);return r&&i?QSe:r?kSe:i?OSe:HSe};function KSe(n){var{width:e,height:t,aspect:r}=n,i=e,s=t;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function fr(n){return Number.isFinite(n)}function qd(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function HL(){return HL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},HL.apply(null,arguments)}function nq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function rq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nq(Object(t),!0).forEach(function(r){GSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function GSe(n,e,t){return(e=zSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zSe(n){var e=qSe(n,"string");return typeof e=="symbol"?e:e+""}function qSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var yJ=F.createContext({width:-1,height:-1});function $Se(n){return qd(n.width)&&qd(n.height)}function wJ(n){var{children:e,width:t,height:r}=n,i=F.useMemo(()=>({width:t,height:r}),[t,r]);return $Se(i)?F.createElement(yJ.Provider,{value:i},e):null}var Sk=()=>F.useContext(yJ),jSe=F.forwardRef((n,e)=>{var{aspect:t,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:h,className:g,onResize:v,style:C={}}=n,b=F.useRef(null),B=F.useRef();B.current=v,F.useImperativeHandle(e,()=>b.current);var[S,I]=F.useState({containerWidth:r.width,containerHeight:r.height}),T=F.useCallback((H,k)=>{I(G=>{var K=Math.round(H),z=Math.round(k);return G.containerWidth===K&&G.containerHeight===z?G:{containerWidth:K,containerHeight:z}})},[]);F.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return JE;var H=z=>{var Z,{width:Y,height:ve}=z[0].contentRect;T(Y,ve),(Z=B.current)===null||Z===void 0||Z.call(B,Y,ve)};d>0&&(H=LSe(H,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(H),{width:G,height:K}=b.current.getBoundingClientRect();return T(G,K),k.observe(b.current),()=>{k.disconnect()}},[T,d]);var{containerWidth:D,containerHeight:U}=S;tq(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:R,calculatedHeight:Q}=vJ(D,U,{width:i,height:s,aspect:t,maxHeight:l});return tq(R!=null&&R>0||Q!=null&&Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,Q,i,s,a,o,t),F.createElement("div",{id:h?"".concat(h):void 0,className:Mn("recharts-responsive-container",g),style:rq(rq({},C),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:b},F.createElement("div",{style:VSe({width:i,height:s})},F.createElement(wJ,{width:R,height:Q},u)))}),WSe=F.forwardRef((n,e)=>{var t=Sk();if(qd(t.width)&&qd(t.height))return n.children;var{width:r,height:i}=KSe({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:a}=vJ(void 0,void 0,{width:r,height:i,aspect:n.aspect,maxHeight:n.maxHeight});return et(s)&&et(a)?F.createElement(wJ,{width:s,height:a},n.children):F.createElement(jSe,HL({},n,{width:r,height:i,ref:e}))});function bJ(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var mI=()=>{var n,e=ga(),t=Je(FSe),r=Je(gI),i=(n=Je(pI))===null||n===void 0?void 0:n.padding;return!e||!r||!i?t:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},YSe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},XSe=()=>{var n;return(n=Je(ii))!==null&&n!==void 0?n:YSe},JSe=()=>Je(Du),ZSe=()=>Je(Nu),Xt=n=>n.layout.layoutType,vI=()=>Je(Xt),exe=()=>{var n=vI();return n!==void 0},yI=n=>{var e=hr(),t=ga(),{width:r,height:i}=n,s=Sk(),a=r,o=i;return s&&(a=s.width>0?s.width:r,o=s.height>0?s.height:i),F.useEffect(()=>{!t&&qd(a)&&qd(o)&&e(ZBe({width:a,height:o}))},[e,t,a,o]),null},CJ=Symbol.for("immer-nothing"),iq=Symbol.for("immer-draftable"),ha=Symbol.for("immer-state");function Uo(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var tb=Object.getPrototypeOf;function sy(n){return!!n&&!!n[ha]}function wp(n){var e;return n?EJ(n)||Array.isArray(n)||!!n[iq]||!!((e=n.constructor)!=null&&e[iq])||rB(n)||bI(n):!1}var txe=Object.prototype.constructor.toString(),sq=new WeakMap;function EJ(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let r=sq.get(t);return r===void 0&&(r=Function.toString.call(t),sq.set(t,r)),r===txe}function RT(n,e,t=!0){wI(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function wI(n){const e=n[ha];return e?e.type_:Array.isArray(n)?1:rB(n)?2:bI(n)?3:0}function VL(n,e){return wI(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function BJ(n,e,t){const r=wI(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function nxe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function rB(n){return n instanceof Map}function bI(n){return n instanceof Set}function Tf(n){return n.copy_||n.base_}function KL(n,e){if(rB(n))return new Map(n);if(bI(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=EJ(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[ha];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[a]})}return Object.create(tb(n),r)}else{const r=tb(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function xk(n,e=!1){return CI(n)||sy(n)||!wp(n)||(wI(n)>1&&Object.defineProperties(n,{set:Tx,add:Tx,clear:Tx,delete:Tx}),Object.freeze(n),e&&Object.values(n).forEach(t=>xk(t,!0))),n}function rxe(){Uo(2)}var Tx={value:rxe};function CI(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var ixe={};function bp(n){const e=ixe[n];return e||Uo(0,n),e}var nb;function SJ(){return nb}function sxe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aq(n,e){e&&(bp("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function GL(n){zL(n),n.drafts_.forEach(axe),n.drafts_=null}function zL(n){n===nb&&(nb=n.parent_)}function oq(n){return nb=sxe(nb,n)}function axe(n){const e=n[ha];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Aq(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[ha].modified_&&(GL(e),Uo(4)),wp(n)&&(n=DT(e,n),e.parent_||NT(e,n)),e.patches_&&bp("Patches").generateReplacementPatches_(t[ha].base_,n,e.patches_,e.inversePatches_)):n=DT(e,t,[]),GL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==CJ?n:void 0}function DT(n,e,t){if(CI(e))return e;const r=n.immer_.shouldUseStrictIteration(),i=e[ha];if(!i)return RT(e,(s,a)=>lq(n,i,e,s,a,t),r),e;if(i.scope_!==n)return e;if(!i.modified_)return NT(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),RT(a,(l,u)=>lq(n,i,s,l,u,t,o),r),NT(n,s,!1),t&&n.patches_&&bp("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function lq(n,e,t,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=CI(i);if(!(o&&!a)){if(sy(i)){const l=s&&e&&e.type_!==3&&!VL(e.assigned_,r)?s.concat(r):void 0,u=DT(n,i,l);if(BJ(t,r,u),sy(u))n.canAutoFreeze_=!1;else return}else a&&t.add(i);if(wp(i)&&!o){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;DT(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(rB(t)?t.has(r):Object.prototype.propertyIsEnumerable.call(t,r))&&NT(n,i)}}}function NT(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&xk(e,t)}function oxe(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:SJ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=_k;t&&(i=[r],s=rb);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var _k={get(n,e){if(e===ha)return n;const t=Tf(n);if(!VL(t,e))return Axe(n,t,e);const r=t[e];return n.finalized_||!wp(r)?r:r===GP(n.base_,e)?(zP(n),n.copy_[e]=$L(r,n)):r},has(n,e){return e in Tf(n)},ownKeys(n){return Reflect.ownKeys(Tf(n))},set(n,e,t){const r=xJ(Tf(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=GP(Tf(n),e),s=i==null?void 0:i[ha];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(nxe(t,i)&&(t!==void 0||VL(n.base_,e)))return!0;zP(n),qL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return GP(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,zP(n),qL(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Tf(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Uo(11)},getPrototypeOf(n){return tb(n.base_)},setPrototypeOf(){Uo(12)}},rb={};RT(_k,(n,e)=>{rb[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});rb.deleteProperty=function(n,e){return rb.set.call(this,n,e,void 0)};rb.set=function(n,e,t){return _k.set.call(this,n[0],e,t,n[0])};function GP(n,e){const t=n[ha];return(t?Tf(t):n)[e]}function Axe(n,e,t){var i;const r=xJ(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function xJ(n,e){if(!(e in n))return;let t=tb(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=tb(t)}}function qL(n){n.modified_||(n.modified_=!0,n.parent_&&qL(n.parent_))}function zP(n){n.copy_||(n.copy_=KL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var lxe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...u){return a.produce(l,d=>t.call(this,d,...u))}}typeof t!="function"&&Uo(6),r!==void 0&&typeof r!="function"&&Uo(7);let i;if(wp(e)){const s=oq(this),a=$L(e,void 0);let o=!0;try{i=t(a),o=!1}finally{o?GL(s):zL(s)}return aq(s,r),Aq(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===CJ&&(i=void 0),this.autoFreeze_&&xk(i,!0),r){const s=[],a=[];bp("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Uo(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,t,(a,o)=>{r=a,i=o}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof(n==null?void 0:n.useStrictIteration)=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){wp(n)||Uo(8),sy(n)&&(n=uxe(n));const e=oq(this),t=$L(n,void 0);return t[ha].isManual_=!0,zL(e),t}finishDraft(n,e){const t=n&&n[ha];(!t||!t.isManual_)&&Uo(9);const{scope_:r}=t;return aq(r,e),Aq(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=bp("Patches").applyPatches_;return sy(n)?r(n,e):this.produce(n,i=>r(i,e))}};function $L(n,e){const t=rB(n)?bp("MapSet").proxyMap_(n,e):bI(n)?bp("MapSet").proxySet_(n,e):oxe(n,e);return(e?e.scope_:SJ()).drafts_.push(t),t}function uxe(n){return sy(n)||Uo(10,n),_J(n)}function _J(n){if(!wp(n)||CI(n))return n;const e=n[ha];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=KL(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=KL(n,!0);return RT(t,(i,s)=>{BJ(t,i,_J(s))},r),e&&(e.finalized_=!1),t}var cxe=new lxe;cxe.produce;var dxe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},TJ=Is({name:"legend",initialState:dxe,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:Ln()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:r}=e.payload,i=Do(n).payload.indexOf(t);i>-1&&(n.payload[i]=r)},prepare:Ln()},removeLegendPayload:{reducer(n,e){var t=Do(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:Ln()}}}),{setLegendSize:XQe,setLegendSettings:JQe,addLegendPayload:fxe,replaceLegendPayload:hxe,removeLegendPayload:pxe}=TJ.actions,gxe=TJ.reducer;function jL(){return jL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jL.apply(null,arguments)}function uq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uq(Object(t),!0).forEach(function(r){mxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mxe(n,e,t){return(e=vxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vxe(n){var e=yxe(n,"string");return typeof e=="symbol"?e:e+""}function yxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wxe(n){return Array.isArray(n)&&MA(n[0])&&MA(n[1])?n.join(" ~ "):n}var bxe=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:g=!1}=n,v=()=>{if(s&&s.length){var U={padding:0,margin:0},R=(o?iI(s,o):s).map((Q,H)=>{if(Q.type==="none")return null;var k=Q.formatter||a||wxe,{value:G,name:K}=Q,z=G,Z=K;if(k){var Y=k(G,K,Q,H,s);if(Array.isArray(Y))[z,Z]=Y;else if(Y!=null)z=Y;else return null}var ve=qP({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},r);return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:ve},MA(Z)?F.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,MA(Z)?F.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,F.createElement("span",{className:"recharts-tooltip-item-value"},z),F.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:U},R)}return null},C=qP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),b=qP({margin:0},i),B=!ri(d),S=B?d:"",I=Mn("recharts-default-tooltip",l),T=Mn("recharts-tooltip-label",u);B&&h&&s!==void 0&&s!==null&&(S=h(d,s));var D=g?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",jL({className:I,style:C},D),F.createElement("p",{className:T,style:b},F.isValidElement(S)?S:"".concat(S)),v())},L0="recharts-tooltip-wrapper",Cxe={visibility:"hidden"};function Exe(n){var{coordinate:e,translateX:t,translateY:r}=n;return Mn(L0,{["".concat(L0,"-right")]:et(t)&&e&&et(e.x)&&t>=e.x,["".concat(L0,"-left")]:et(t)&&e&&et(e.x)&&t<e.x,["".concat(L0,"-bottom")]:et(r)&&e&&et(e.y)&&r>=e.y,["".concat(L0,"-top")]:et(r)&&e&&et(e.y)&&r<e.y})}function cq(n){var{allowEscapeViewBox:e,coordinate:t,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=n;if(s&&et(s[r]))return s[r];var d=t[r]-o-(i>0?i:0),h=t[r]+i;if(e[r])return a[r]?d:h;var g=l[r];if(g==null)return 0;if(a[r]){var v=d,C=g;return v<C?Math.max(h,g):Math.max(d,g)}if(u==null)return 0;var b=h+o,B=g+u;return b>B?Math.max(d,g):Math.max(h,g)}function Bxe(n){var{translateX:e,translateY:t,useTranslate3d:r}=n;return{transform:r?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function Sxe(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=n,u,d,h;return a.height>0&&a.width>0&&t?(d=cq({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=cq({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Bxe({translateX:d,translateY:h,useTranslate3d:o})):u=Cxe,{cssProperties:u,cssClasses:Exe({translateX:d,translateY:h,coordinate:t})}}function dq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ix(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dq(Object(t),!0).forEach(function(r){WL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function WL(n,e,t){return(e=xxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xxe(n){var e=_xe(n,"string");return typeof e=="symbol"?e:e+""}function _xe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class Txe extends F.PureComponent{constructor(){super(...arguments),WL(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),WL(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&t!==void 0?t:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:C,lastBoundingBox:b,innerRef:B,hasPortalFromProps:S}=this.props,{cssClasses:I,cssProperties:T}=Sxe({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:b.height,width:b.width},useTranslate3d:g,viewBox:v}),D=S?{}:Ix(Ix({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),U=Ix(Ix({},D),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},C);return F.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:U,ref:B},s)}}var IJ=()=>{var n;return(n=Je(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function YL(){return YL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},YL.apply(null,arguments)}function fq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fq(Object(t),!0).forEach(function(r){Ixe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ixe(n,e,t){return(e=Fxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Fxe(n){var e=Mxe(n,"string");return typeof e=="symbol"?e:e+""}function Mxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var pq={curveBasisClosed:BCe,curveBasisOpen:SCe,curveBasis:ECe,curveBumpX:lCe,curveBumpY:uCe,curveLinearClosed:xCe,curveLinear:nI,curveMonotoneX:_Ce,curveMonotoneY:TCe,curveNatural:ICe,curveStep:FCe,curveStepAfter:UCe,curveStepBefore:MCe},LT=n=>fr(n.x)&&fr(n.y),gq=n=>n.base!=null&&LT(n.base)&&LT(n),Q0=n=>n.x,k0=n=>n.y,Uxe=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(XE(n));return(t==="curveMonotone"||t==="curveBump")&&e?pq["".concat(t).concat(e==="vertical"?"Y":"X")]:pq[t]||nI},Pxe=n=>{var{type:e="linear",points:t=[],baseLine:r,layout:i,connectNulls:s=!1}=n,a=Uxe(e,i),o=s?t.filter(LT):t,l;if(Array.isArray(r)){var u=t.map((v,C)=>hq(hq({},v),{},{base:r[C]}));i==="vertical"?l=bx().y(k0).x1(Q0).x0(v=>v.base.x):l=bx().x(Q0).y1(k0).y0(v=>v.base.y);var d=l.defined(gq).curve(a),h=s?u.filter(gq):u;return d(h)}i==="vertical"&&et(r)?l=bx().y(k0).x1(Q0).x0(r):et(r)?l=bx().x(Q0).y1(k0).y0(r):l=c9().x(Q0).y(k0);var g=l.defined(LT).curve(a);return g(o)},FJ=n=>{var{className:e,points:t,path:r,pathRef:i}=n;if((!t||!t.length)&&!r)return null;var s=t&&t.length?Pxe(n):r;return F.createElement("path",YL({},zd(n),nEe(n),{className:Mn("recharts-curve",e),d:s===null?void 0:s,ref:i}))},Rxe=["x","y","top","left","width","height","className"];function XL(){return XL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},XL.apply(null,arguments)}function mq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Dxe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(t),!0).forEach(function(r){Nxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Nxe(n,e,t){return(e=Lxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lxe(n){var e=Qxe(n,"string");return typeof e=="symbol"?e:e+""}function Qxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kxe(n,e){if(n==null)return{};var t,r,i=Oxe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Oxe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var Hxe=(n,e,t,r,i,s)=>"M".concat(n,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(t),Vxe=n=>{var{x:e=0,y:t=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=n,l=kxe(n,Rxe),u=Dxe({x:e,y:t,top:r,left:i,width:s,height:a},l);return!et(e)||!et(t)||!et(s)||!et(a)||!et(r)||!et(i)?null:F.createElement("path",XL({},io(u),{className:Mn("recharts-cross",o),d:Hxe(e,t,s,a,r,i)}))};function Kxe(n,e,t,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-i:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-i,width:n==="horizontal"?r:t.width-1,height:n==="horizontal"?t.height-1:r}}function vq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(t),!0).forEach(function(r){Gxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Gxe(n,e,t){return(e=zxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zxe(n){var e=qxe(n,"string");return typeof e=="symbol"?e:e+""}function qxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var $xe=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),MJ=(n,e,t)=>n.map(r=>"".concat($xe(r)," ").concat(e,"ms ").concat(t)).join(","),jxe=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,r)=>t.filter(i=>r.includes(i))),ib=(n,e)=>Object.keys(e).reduce((t,r)=>yq(yq({},t),{},{[r]:n(r,e[r])}),{});function wq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Nr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wq(Object(t),!0).forEach(function(r){Wxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Wxe(n,e,t){return(e=Yxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yxe(n){var e=Xxe(n,"string");return typeof e=="symbol"?e:e+""}function Xxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var QT=(n,e,t)=>n+(e-n)*t,JL=n=>{var{from:e,to:t}=n;return e!==t},UJ=(n,e,t)=>{var r=ib((i,s)=>{if(JL(s)){var[a,o]=n(s.from,s.to,s.velocity);return Nr(Nr({},s),{},{from:a,velocity:o})}return s},e);return t<1?ib((i,s)=>JL(s)?Nr(Nr({},s),{},{velocity:QT(s.velocity,r[i].velocity,t),from:QT(s.from,r[i].from,t)}):s,e):UJ(n,r,t-1)};function Jxe(n,e,t,r,i,s){var a,o=r.reduce((g,v)=>Nr(Nr({},g),{},{[v]:{from:n[v],velocity:0,to:e[v]}}),{}),l=()=>ib((g,v)=>v.from,o),u=()=>!Object.values(o).filter(JL).length,d=null,h=g=>{a||(a=g);var v=g-a,C=v/t.dt;o=UJ(t,o,C),i(Nr(Nr(Nr({},n),e),l())),a=g,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}function Zxe(n,e,t,r,i,s,a){var o=null,l=i.reduce((h,g)=>Nr(Nr({},h),{},{[g]:[n[g],e[g]]}),{}),u,d=h=>{u||(u=h);var g=(h-u)/r,v=ib((b,B)=>QT(...B,t(g)),l);if(s(Nr(Nr(Nr({},n),e),v)),g<1)o=a.setTimeout(d);else{var C=ib((b,B)=>QT(...B,t(1)),l);s(Nr(Nr(Nr({},n),e),C))}};return()=>(o=a.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const e_e=(n,e,t,r,i,s)=>{var a=jxe(n,e);return t==null?()=>(i(Nr(Nr({},n),e)),()=>{}):t.isStepper===!0?Jxe(n,e,t,a,i,s):Zxe(n,e,t,r,a,i,s)};var kT=1e-4,PJ=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],RJ=(n,e)=>n.map((t,r)=>t*e**r).reduce((t,r)=>t+r),bq=(n,e)=>t=>{var r=PJ(n,e);return RJ(r,t)},t_e=(n,e)=>t=>{var r=PJ(n,e),i=[...r.map((s,a)=>s*a).slice(1),0];return RJ(i,t)},n_e=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=t[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]}}}return t.length===4?t:[0,0,1,1]},r_e=(n,e,t,r)=>{var i=bq(n,t),s=bq(e,r),a=t_e(n,t),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,h=d,g=0;g<8;++g){var v=i(h)-d,C=a(h);if(Math.abs(v-d)<kT||C<kT)return s(h);h=o(h-v/C)}return s(h)};return l.isStepper=!1,l},Cq=function(){return r_e(...n_e(...arguments))},i_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:r=8,dt:i=17}=e,s=(a,o,l)=>{var u=-(a-o)*t,d=l*r,h=l+(u-d)*i/1e3,g=l*i/1e3+a;return Math.abs(g-o)<kT&&Math.abs(h)<kT?[o,0]:[g,h]};return s.isStepper=!0,s.dt=i,s},s_e=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Cq(n);case"spring":return i_e();default:if(n.split("(")[0]==="cubic-bezier")return Cq(n)}return typeof n=="function"?n:null};function a_e(n){var e,t=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){i=n.setTimeout(s.bind(null,u),l);return}s(l),i=n.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,t(e)),typeof a=="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(t=a,()=>{t=()=>null}),getTimeoutController:()=>n}}class o_e{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=t?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function A_e(){return a_e(new o_e)}var l_e=F.createContext(A_e);function u_e(n,e){var t=F.useContext(l_e);return F.useMemo(()=>e??t(n),[n,e,t])}var c_e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),iB={devToolsEnabled:!1,isSsr:c_e()},d_e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Eq={t:0},$P={t:1};function Tk(n){var e=oo(n,d_e),{isActive:t,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=t==="auto"?!iB.isSsr:t,h=u_e(e.animationId,e.animationManager),[g,v]=F.useState(d?Eq:$P),C=F.useRef(null);return F.useEffect(()=>{d||v($P)},[d]),F.useEffect(()=>{if(!d||!r)return JE;var b=e_e(Eq,$P,s_e(s),i,v,h.getTimeoutController()),B=()=>{C.current=b()};return h.start([l,a,B,i,o]),()=>{h.stop(),C.current&&C.current(),o()}},[d,r,i,s,a,l,o,h]),u(g.t)}function Ik(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=F.useRef(Xw(e)),r=F.useRef(n);return r.current!==n&&(t.current=Xw(e),r.current=n),t.current}var f_e=["radius"],h_e=["radius"];function Bq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Sq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Bq(Object(t),!0).forEach(function(r){p_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Bq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function p_e(n,e,t){return(e=g_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g_e(n){var e=m_e(n,"string");return typeof e=="symbol"?e:e+""}function m_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function OT(){return OT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},OT.apply(null,arguments)}function xq(n,e){if(n==null)return{};var t,r,i=v_e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function v_e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var _q=(n,e,t,r,i)=>{var s=Math.min(Math.abs(t)/2,Math.abs(r)/2),a=r>=0?1:-1,o=t>=0?1:-1,l=r>=0&&t>=0||r<0&&t<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=i[h]>s?s:i[h];u="M".concat(n,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(n+o*d[0],",").concat(e)),u+="L ".concat(n+t-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(n+t,",").concat(e+a*d[1])),u+="L ".concat(n+t,",").concat(e+r-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(n+t-o*d[2],",").concat(e+r)),u+="L ".concat(n+o*d[3],",").concat(e+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(n,",").concat(e+r-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);u="M ".concat(n,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+o*v,",").concat(e,`
            L `).concat(n+t-o*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t,",").concat(e+a*v,`
            L `).concat(n+t,",").concat(e+r-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t-o*v,",").concat(e+r,`
            L `).concat(n+o*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n,",").concat(e+r-a*v," Z")}else u="M ".concat(n,",").concat(e," h ").concat(t," v ").concat(r," h ").concat(-t," Z");return u},Tq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DJ=n=>{var e=oo(n,Tq),t=F.useRef(null),[r,i]=F.useState(-1);F.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var j=t.current.getTotalLength();j&&i(j)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:C,isUpdateAnimationActive:b}=e,B=F.useRef(o),S=F.useRef(l),I=F.useRef(s),T=F.useRef(a),D=F.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),U=Ik(D,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var R=Mn("recharts-rectangle",d);if(!b){var Q=io(e),{radius:H}=Q,k=xq(Q,f_e);return F.createElement("path",OT({},k,{radius:typeof u=="number"?u:void 0,className:R,d:_q(s,a,o,l,u)}))}var G=B.current,K=S.current,z=I.current,Z=T.current,Y="0px ".concat(r===-1?1:r,"px"),ve="".concat(r,"px 0px"),V=MJ(["strokeDasharray"],g,typeof h=="string"?h:Tq.animationEasing);return F.createElement(Tk,{animationId:U,key:U,canBegin:r>0,duration:g,easing:h,isActive:b,begin:v},j=>{var se=wi(G,o,j),pe=wi(K,l,j),Ee=wi(z,s,j),q=wi(Z,a,j);t.current&&(B.current=se,S.current=pe,I.current=Ee,T.current=q);var ee;C?j>0?ee={transition:V,strokeDasharray:ve}:ee={strokeDasharray:Y}:ee={strokeDasharray:ve};var oe=io(e),{radius:Ce}=oe,ie=xq(oe,h_e);return F.createElement("path",OT({},ie,{radius:typeof u=="number"?u:void 0,className:R,d:_q(Ee,q,se,pe,u),ref:t,style:Sq(Sq({},ee),e.style)}))})};function Iq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Fq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Iq(Object(t),!0).forEach(function(r){y_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Iq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function y_e(n,e,t){return(e=w_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function w_e(n){var e=b_e(n,"string");return typeof e=="symbol"?e:e+""}function b_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var HT=Math.PI/180,C_e=n=>n*180/Math.PI,Bi=(n,e,t,r)=>({x:n+Math.cos(-HT*r)*t,y:e+Math.sin(-HT*r)*t}),E_e=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},B_e=(n,e)=>{var{x:t,y:r}=n,{x:i,y:s}=e;return Math.sqrt((t-i)**2+(r-s)**2)},S_e=(n,e)=>{var{x:t,y:r}=n,{cx:i,cy:s}=e,a=B_e({x:t,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(t-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:C_e(l),angleInRadian:l}},x_e=n=>{var{startAngle:e,endAngle:t}=n,r=Math.floor(e/360),i=Math.floor(t/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:t-s*360}},__e=(n,e)=>{var{startAngle:t,endAngle:r}=e,i=Math.floor(t/360),s=Math.floor(r/360),a=Math.min(i,s);return n+a*360},T_e=(n,e)=>{var{chartX:t,chartY:r}=n,{radius:i,angle:s}=S_e({x:t,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:u}=x_e(e),d=s,h;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=l}return h?Fq(Fq({},e),{},{radius:i,angle:__e(d,e)}):null};function NJ(n){var{cx:e,cy:t,radius:r,startAngle:i,endAngle:s}=n,a=Bi(e,t,r,i),o=Bi(e,t,r,s);return{points:[a,o],cx:e,cy:t,radius:r,startAngle:i,endAngle:s}}function ZL(){return ZL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ZL.apply(null,arguments)}var I_e=(n,e)=>{var t=ua(e-n),r=Math.min(Math.abs(e-n),359.999);return t*r},Fx=n=>{var{cx:e,cy:t,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=n,u=o*(a?1:-1)+r,d=Math.asin(o/u)/HT,h=l?i:i+s*d,g=Bi(e,t,u,h),v=Bi(e,t,r,h),C=l?i-s*d:i,b=Bi(e,t,u*Math.cos(d*HT),C);return{center:g,circleTangency:v,lineTangency:b,theta:d}},LJ=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=n,o=I_e(s,a),l=s+o,u=Bi(e,t,i,s),d=Bi(e,t,i,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var g=Bi(e,t,r,s),v=Bi(e,t,r,l);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},F_e=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=n,d=ua(u-l),{circleTangency:h,lineTangency:g,theta:v}=Fx({cx:e,cy:t,radius:i,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:C,lineTangency:b,theta:B}=Fx({cx:e,cy:t,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(l-u):Math.abs(l-u)-v-B;if(S<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):LJ({cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var I="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:D,theta:U}=Fx({cx:e,cy:t,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:R,lineTangency:Q,theta:H}=Fx({cx:e,cy:t,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-u):Math.abs(l-u)-U-H;if(k<0&&s===0)return"".concat(I,"L").concat(e,",").concat(t,"Z");I+="L".concat(Q.x,",").concat(Q.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,"Z")}else I+="L".concat(e,",").concat(t,"Z");return I},M_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QJ=n=>{var e=oo(n,M_e),{cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:h}=e;if(s<i||u===d)return null;var g=Mn("recharts-sector",h),v=s-i,C=No(a,v,0,!0),b;return C>0&&Math.abs(u-d)<360?b=F_e({cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(C,v/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):b=LJ({cx:t,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),F.createElement("path",ZL({},io(e),{className:g,d:b}))};function U_e(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(x9(e)){if(n==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,l=Bi(r,i,s,o),u=Bi(r,i,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return NJ(e)}}var jP={},WP={},YP={},Mq;function P_e(){return Mq||(Mq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=L9();function t(r){return e.isSymbol(r)?NaN:Number(r)}n.toNumber=t})(YP)),YP}var Uq;function R_e(){return Uq||(Uq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=P_e();function t(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}n.toFinite=t})(WP)),WP}var Pq;function D_e(){return Pq||(Pq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Q9(),t=R_e();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=t.toFinite(i),s===void 0?(s=i,i=0):s=t.toFinite(s),a=a===void 0?i<s?1:-1:t.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=a;return l}n.range=r})(jP)),jP}var XP,Rq;function N_e(){return Rq||(Rq=1,XP=D_e().range),XP}var L_e=N_e();const kJ=DA(L_e);function Hd(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Q_e(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Fk(n){let e,t,r;n.length!==2?(e=Hd,t=(o,l)=>Hd(n(o),l),r=(o,l)=>n(o)-l):(e=n===Hd||n===Q_e?n:k_e,t=n,r=n);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){const h=i(o,l,u,d-1);return h>u&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function k_e(){return 0}function OJ(n){return n===null?NaN:+n}function*O_e(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const H_e=Fk(Hd),sB=H_e.right;Fk(OJ).center;class Dq extends Map{constructor(e,t=G_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Nq(this,e))}has(e){return super.has(Nq(this,e))}set(e,t){return super.set(V_e(this,e),t)}delete(e){return super.delete(K_e(this,e))}}function Nq({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function V_e({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function K_e({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function G_e(n){return n!==null&&typeof n=="object"?n.valueOf():n}function z_e(n=Hd){if(n===Hd)return HJ;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function HJ(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const q_e=Math.sqrt(50),$_e=Math.sqrt(10),j_e=Math.sqrt(2);function VT(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=q_e?10:s>=$_e?5:s>=j_e?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(n*u),l=Math.round(e*u),o/u<n&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(n/u),l=Math.round(e/u),o*u<n&&++o,l*u>e&&--l),l<o&&.5<=t&&t<2?VT(n,e,t*2):[o,l,u]}function eQ(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,s,a]=r?VT(e,n,t):VT(n,e,t);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function tQ(n,e,t){return e=+e,n=+n,t=+t,VT(n,e,t)[2]}function nQ(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?tQ(e,n,t):tQ(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function Lq(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function Qq(n,e){let t;for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);return t}function VJ(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?HJ:z_e(i);r>t;){if(r-t>600){const l=r-t+1,u=e-t+1,d=Math.log(l),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),v=Math.max(t,Math.floor(e-u*h/l+g)),C=Math.min(r,Math.floor(e+(l-u)*h/l+g));VJ(n,e,v,C,i)}const s=n[e];let a=t,o=r;for(O0(n,t,e),i(n[r],s)>0&&O0(n,t,r);a<o;){for(O0(n,a,o),++a,--o;i(n[a],s)<0;)++a;for(;i(n[o],s)>0;)--o}i(n[t],s)===0?O0(n,t,o):(++o,O0(n,o,r)),o<=e&&(t=o+1),e<=o&&(r=o-1)}return n}function O0(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function W_e(n,e,t){if(n=Float64Array.from(O_e(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return Qq(n);if(e>=1)return Lq(n);var r,i=(r-1)*e,s=Math.floor(i),a=Lq(VJ(n,s).subarray(0,s+1)),o=Qq(n.subarray(s+1));return a+(o-a)*(i-s)}}function Y_e(n,e,t=OJ){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,s=Math.floor(i),a=+t(n[s],s,n),o=+t(n[s+1],s+1,n);return a+(o-a)*(i-s)}}function X_e(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(i);++r<i;)s[r]=n+r*t;return s}function Ao(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Lu(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const rQ=Symbol("implicit");function Mk(){var n=new Dq,e=[],t=[],r=rQ;function i(s){let a=n.get(s);if(a===void 0){if(r!==rQ)return r;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new Dq;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(t=Array.from(s),i):t.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Mk(e,t).unknown(r)},Ao.apply(i,arguments),i}function Uk(){var n=Mk().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,s,a,o=!1,l=0,u=0,d=.5;delete n.unknown;function h(){var g=e().length,v=i<r,C=v?i:r,b=v?r:i;s=(b-C)/Math.max(1,g-l+u*2),o&&(s=Math.floor(s)),C+=(b-C-s*(g-l))*d,a=s*(1-l),o&&(C=Math.round(C),a=Math.round(a));var B=X_e(g).map(function(S){return C+s*S});return t(v?B.reverse():B)}return n.domain=function(g){return arguments.length?(e(g),h()):e()},n.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,h()):[r,i]},n.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,o=!0,h()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(g){return arguments.length?(o=!!g,h()):o},n.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},n.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},n.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},n.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},n.copy=function(){return Uk(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},Ao.apply(h(),arguments)}function KJ(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return KJ(e())},n}function J_e(){return KJ(Uk.apply(null,arguments).paddingInner(1))}function Pk(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function GJ(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function aB(){}var sb=.7,KT=1/sb,em="\\s*([+-]?\\d+)\\s*",ab="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",IA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z_e=/^#([0-9a-f]{3,8})$/,eTe=new RegExp(`^rgb\\(${em},${em},${em}\\)$`),tTe=new RegExp(`^rgb\\(${IA},${IA},${IA}\\)$`),nTe=new RegExp(`^rgba\\(${em},${em},${em},${ab}\\)$`),rTe=new RegExp(`^rgba\\(${IA},${IA},${IA},${ab}\\)$`),iTe=new RegExp(`^hsl\\(${ab},${IA},${IA}\\)$`),sTe=new RegExp(`^hsla\\(${ab},${IA},${IA},${ab}\\)$`),kq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pk(aB,ob,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Oq,formatHex:Oq,formatHex8:aTe,formatHsl:oTe,formatRgb:Hq,toString:Hq});function Oq(){return this.rgb().formatHex()}function aTe(){return this.rgb().formatHex8()}function oTe(){return zJ(this).formatHsl()}function Hq(){return this.rgb().formatRgb()}function ob(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=Z_e.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?Vq(e):t===3?new _s(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Mx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Mx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=eTe.exec(n))?new _s(e[1],e[2],e[3],1):(e=tTe.exec(n))?new _s(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nTe.exec(n))?Mx(e[1],e[2],e[3],e[4]):(e=rTe.exec(n))?Mx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=iTe.exec(n))?zq(e[1],e[2]/100,e[3]/100,1):(e=sTe.exec(n))?zq(e[1],e[2]/100,e[3]/100,e[4]):kq.hasOwnProperty(n)?Vq(kq[n]):n==="transparent"?new _s(NaN,NaN,NaN,0):null}function Vq(n){return new _s(n>>16&255,n>>8&255,n&255,1)}function Mx(n,e,t,r){return r<=0&&(n=e=t=NaN),new _s(n,e,t,r)}function ATe(n){return n instanceof aB||(n=ob(n)),n?(n=n.rgb(),new _s(n.r,n.g,n.b,n.opacity)):new _s}function iQ(n,e,t,r){return arguments.length===1?ATe(n):new _s(n,e,t,r??1)}function _s(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}Pk(_s,iQ,GJ(aB,{brighter(n){return n=n==null?KT:Math.pow(KT,n),new _s(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?sb:Math.pow(sb,n),new _s(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new _s(hp(this.r),hp(this.g),hp(this.b),GT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kq,formatHex:Kq,formatHex8:lTe,formatRgb:Gq,toString:Gq}));function Kq(){return`#${Df(this.r)}${Df(this.g)}${Df(this.b)}`}function lTe(){return`#${Df(this.r)}${Df(this.g)}${Df(this.b)}${Df((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gq(){const n=GT(this.opacity);return`${n===1?"rgb(":"rgba("}${hp(this.r)}, ${hp(this.g)}, ${hp(this.b)}${n===1?")":`, ${n})`}`}function GT(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function hp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Df(n){return n=hp(n),(n<16?"0":"")+n.toString(16)}function zq(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Po(n,e,t,r)}function zJ(n){if(n instanceof Po)return new Po(n.h,n.s,n.l,n.opacity);if(n instanceof aB||(n=ob(n)),!n)return new Po;if(n instanceof Po)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(t-r)/o+(t<r)*6:t===s?a=(r-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Po(a,o,l,n.opacity)}function uTe(n,e,t,r){return arguments.length===1?zJ(n):new Po(n,e,t,r??1)}function Po(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}Pk(Po,uTe,GJ(aB,{brighter(n){return n=n==null?KT:Math.pow(KT,n),new Po(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?sb:Math.pow(sb,n),new Po(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new _s(JP(n>=240?n-240:n+120,i,r),JP(n,i,r),JP(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Po(qq(this.h),Ux(this.s),Ux(this.l),GT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=GT(this.opacity);return`${n===1?"hsl(":"hsla("}${qq(this.h)}, ${Ux(this.s)*100}%, ${Ux(this.l)*100}%${n===1?")":`, ${n})`}`}}));function qq(n){return n=(n||0)%360,n<0?n+360:n}function Ux(n){return Math.max(0,Math.min(1,n||0))}function JP(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const Rk=n=>()=>n;function cTe(n,e){return function(t){return n+t*e}}function dTe(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function fTe(n){return(n=+n)==1?qJ:function(e,t){return t-e?dTe(e,t,n):Rk(isNaN(e)?t:e)}}function qJ(n,e){var t=e-n;return t?cTe(n,t):Rk(isNaN(n)?e:n)}const $q=(function n(e){var t=fTe(e);function r(i,s){var a=t((i=iQ(i)).r,(s=iQ(s)).r),o=t(i.g,s.g),l=t(i.b,s.b),u=qJ(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=n,r})(1);function hTe(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(s){for(i=0;i<t;++i)r[i]=n[i]*(1-s)+e[i]*s;return r}}function pTe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function gTe(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),s=new Array(t),a;for(a=0;a<r;++a)i[a]=wy(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function mTe(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function zT(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function vTe(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=wy(n[i],e[i]):r[i]=e[i];return function(s){for(i in t)r[i]=t[i](s);return r}}var sQ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ZP=new RegExp(sQ.source,"g");function yTe(n){return function(){return n}}function wTe(n){return function(e){return n(e)+""}}function bTe(n,e){var t=sQ.lastIndex=ZP.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(r=sQ.exec(n))&&(i=ZP.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:zT(r,i)})),t=ZP.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?wTe(l[0].x):yTe(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function wy(n,e){var t=typeof e,r;return e==null||t==="boolean"?Rk(e):(t==="number"?zT:t==="string"?(r=ob(e))?(e=r,$q):bTe:e instanceof ob?$q:e instanceof Date?mTe:pTe(e)?hTe:Array.isArray(e)?gTe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vTe:zT)(n,e)}function Dk(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function CTe(n,e){e===void 0&&(e=n,n=wy);for(var t=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);t<r;)s[t]=n(i,i=e[++t]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function ETe(n){return function(){return n}}function qT(n){return+n}var jq=[0,1];function es(n){return n}function aQ(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:ETe(isNaN(e)?NaN:.5)}function BTe(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function STe(n,e,t){var r=n[0],i=n[1],s=e[0],a=e[1];return i<r?(r=aQ(i,r),s=t(a,s)):(r=aQ(r,i),s=t(s,a)),function(o){return s(r(o))}}function xTe(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=aQ(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=sB(n,o,1,r)-1;return s[l](i[l](o))}}function oB(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function EI(){var n=jq,e=jq,t=wy,r,i,s,a=es,o,l,u;function d(){var g=Math.min(n.length,e.length);return a!==es&&(a=BTe(n[0],n[g-1])),o=g>2?xTe:STe,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?s:(l||(l=o(n.map(r),e,t)))(r(a(g)))}return h.invert=function(g){return a(i((u||(u=o(e,n.map(r),zT)))(g)))},h.domain=function(g){return arguments.length?(n=Array.from(g,qT),d()):n.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),t=Dk,d()},h.clamp=function(g){return arguments.length?(a=g?!0:es,d()):a!==es},h.interpolate=function(g){return arguments.length?(t=g,d()):t},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return r=g,i=v,d()}}function Nk(){return EI()(es,es)}function _Te(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function $T(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function ay(n){return n=$T(Math.abs(n)),n?n[1]:NaN}function TTe(n,e){return function(t,r){for(var i=t.length,s=[],a=0,o=n[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(t.substring(i-=o,i+o)),!((l+=o+1)>r));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function ITe(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var FTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ab(n){if(!(e=FTe.exec(n)))throw new Error("invalid format: "+n);var e;return new Lk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ab.prototype=Lk.prototype;function Lk(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Lk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MTe(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var $J;function UTe(n,e){var t=$T(n,e);if(!t)return n+"";var r=t[0],i=t[1],s=i-($J=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+$T(n,Math.max(0,e+s-1))[0]}function Wq(n,e){var t=$T(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Yq={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:_Te,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>Wq(n*100,e),r:Wq,s:UTe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Xq(n){return n}var Jq=Array.prototype.map,Zq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function PTe(n){var e=n.grouping===void 0||n.thousands===void 0?Xq:TTe(Jq.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?Xq:ITe(Jq.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(h){h=Ab(h);var g=h.fill,v=h.align,C=h.sign,b=h.symbol,B=h.zero,S=h.width,I=h.comma,T=h.precision,D=h.trim,U=h.type;U==="n"?(I=!0,U="g"):Yq[U]||(T===void 0&&(T=12),D=!0,U="g"),(B||g==="0"&&v==="=")&&(B=!0,g="0",v="=");var R=b==="$"?t:b==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",Q=b==="$"?r:/[%p]/.test(U)?a:"",H=Yq[U],k=/[defgprs%]/.test(U);T=T===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function G(K){var z=R,Z=Q,Y,ve,V;if(U==="c")Z=H(K)+Z,K="";else{K=+K;var j=K<0||1/K<0;if(K=isNaN(K)?l:H(Math.abs(K),T),D&&(K=MTe(K)),j&&+K==0&&C!=="+"&&(j=!1),z=(j?C==="("?C:o:C==="-"||C==="("?"":C)+z,Z=(U==="s"?Zq[8+$J/3]:"")+Z+(j&&C==="("?")":""),k){for(Y=-1,ve=K.length;++Y<ve;)if(V=K.charCodeAt(Y),48>V||V>57){Z=(V===46?i+K.slice(Y+1):K.slice(Y))+Z,K=K.slice(0,Y);break}}}I&&!B&&(K=e(K,1/0));var se=z.length+K.length+Z.length,pe=se<S?new Array(S-se+1).join(g):"";switch(I&&B&&(K=e(pe+K,pe.length?S-Z.length:1/0),pe=""),v){case"<":K=z+K+Z+pe;break;case"=":K=z+pe+K+Z;break;case"^":K=pe.slice(0,se=pe.length>>1)+z+K+Z+pe.slice(se);break;default:K=pe+z+K+Z;break}return s(K)}return G.toString=function(){return h+""},G}function d(h,g){var v=u((h=Ab(h),h.type="f",h)),C=Math.max(-8,Math.min(8,Math.floor(ay(g)/3)))*3,b=Math.pow(10,-C),B=Zq[8+C/3];return function(S){return v(b*S)+B}}return{format:u,formatPrefix:d}}var Px,Qk,jJ;RTe({thousands:",",grouping:[3],currency:["$",""]});function RTe(n){return Px=PTe(n),Qk=Px.format,jJ=Px.formatPrefix,Px}function DTe(n){return Math.max(0,-ay(Math.abs(n)))}function NTe(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ay(e)/3)))*3-ay(Math.abs(n)))}function LTe(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,ay(e)-ay(n))+1}function WJ(n,e,t,r){var i=nQ(n,e,t),s;switch(r=Ab(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(s=NTe(i,a))&&(r.precision=s),jJ(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=LTe(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=DTe(i))&&(r.precision=s-(r.type==="%")*2);break}}return Qk(r)}function Xd(n){var e=n.domain;return n.ticks=function(t){var r=e();return eQ(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return WJ(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=tQ(a,o,t),u===l)return r[i]=a,r[s]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return n},n}function YJ(){var n=Nk();return n.copy=function(){return oB(n,YJ())},Ao.apply(n,arguments),Xd(n)}function XJ(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,qT),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return XJ(n).unknown(e)},n=arguments.length?Array.from(n,qT):[0,1],Xd(t)}function JJ(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],s=n[r],a;return s<i&&(a=t,t=r,r=a,a=i,i=s,s=a),n[t]=e.floor(i),n[r]=e.ceil(s),n}function e8(n){return Math.log(n)}function t8(n){return Math.exp(n)}function QTe(n){return-Math.log(-n)}function kTe(n){return-Math.exp(-n)}function OTe(n){return isFinite(n)?+("1e"+n):n<0?0:n}function HTe(n){return n===10?OTe:n===Math.E?Math.exp:e=>Math.pow(n,e)}function VTe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function n8(n){return(e,t)=>-n(-e,t)}function kk(n){const e=n(e8,t8),t=e.domain;let r=10,i,s;function a(){return i=VTe(r),s=HTe(r),t()[0]<0?(i=n8(i),s=n8(s),n(QTe,kTe)):n(e8,t8),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=i(u),v=i(d),C,b;const B=o==null?10:+o;let S=[];if(!(r%1)&&v-g<B){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(C=1;C<r;++C)if(b=g<0?C/s(-g):C*s(g),!(b<u)){if(b>d)break;S.push(b)}}else for(;g<=v;++g)for(C=r-1;C>=1;--C)if(b=g>0?C/s(-g):C*s(g),!(b<u)){if(b>d)break;S.push(b)}S.length*2<B&&(S=eQ(u,d,B))}else S=eQ(g,v,Math.min(v-g,B)).map(s);return h?S.reverse():S},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ab(l)).precision==null&&(l.trim=!0),l=Qk(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=u?l(d):""}},e.nice=()=>t(JJ(t(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function ZJ(){const n=kk(EI()).domain([1,10]);return n.copy=()=>oB(n,ZJ()).base(n.base()),Ao.apply(n,arguments),n}function r8(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function i8(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function Ok(n){var e=1,t=n(r8(e),i8(e));return t.constant=function(r){return arguments.length?n(r8(e=+r),i8(e)):e},Xd(t)}function e7(){var n=Ok(EI());return n.copy=function(){return oB(n,e7()).constant(n.constant())},Ao.apply(n,arguments)}function s8(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function KTe(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function GTe(n){return n<0?-n*n:n*n}function Hk(n){var e=n(es,es),t=1;function r(){return t===1?n(es,es):t===.5?n(KTe,GTe):n(s8(t),s8(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},Xd(e)}function Vk(){var n=Hk(EI());return n.copy=function(){return oB(n,Vk()).exponent(n.exponent())},Ao.apply(n,arguments),n}function zTe(){return Vk.apply(null,arguments).exponent(.5)}function a8(n){return Math.sign(n)*n*n}function qTe(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function t7(){var n=Nk(),e=[0,1],t=!1,r;function i(s){var a=qTe(n(s));return isNaN(a)?r:t?Math.round(a):a}return i.invert=function(s){return n.invert(a8(s))},i.domain=function(s){return arguments.length?(n.domain(s),i):n.domain()},i.range=function(s){return arguments.length?(n.range((e=Array.from(s,qT)).map(a8)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(t=!!s,i):t},i.clamp=function(s){return arguments.length?(n.clamp(s),i):n.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return t7(n.domain(),e).round(t).clamp(n.clamp()).unknown(r)},Ao.apply(i,arguments),Xd(i)}function n7(){var n=[],e=[],t=[],r;function i(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=Y_e(n,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[sB(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},s.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let o of a)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(Hd),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return t.slice()},s.copy=function(){return n7().domain(n).range(e).unknown(r)},Ao.apply(s,arguments)}function r7(){var n=0,e=1,t=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[sB(r,l,0,t)]:s}function o(){var l=-1;for(r=new Array(t);++l<t;)r[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,o()):[n,e]},a.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[n,r[0]]:u>=t?[r[t-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return r7().domain([n,e]).range(i).unknown(s)},Ao.apply(Xd(a),arguments)}function i7(){var n=[.5],e=[0,1],t,r=1;function i(s){return s!=null&&s<=s?e[sB(n,s,0,r)]:t}return i.domain=function(s){return arguments.length?(n=Array.from(s),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},i.unknown=function(s){return arguments.length?(t=s,i):t},i.copy=function(){return i7().domain(n).range(e).unknown(t)},Ao.apply(i,arguments)}const eR=new Date,tR=new Date;function kr(n,e,t,r){function i(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(n(s=new Date(+s)),s),i.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),n(s);while(u<s&&s<a);return l},i.filter=s=>kr(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(i.count=(s,a)=>(eR.setTime(+s),tR.setTime(+a),n(eR),n(tR),Math.floor(t(eR,tR))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const jT=kr(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);jT.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?kr(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):jT);jT.range;const Au=1e3,Za=Au*60,lu=Za*60,Eu=lu*24,Kk=Eu*7,o8=Eu*30,nR=Eu*365,Nf=kr(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*Au)},(n,e)=>(e-n)/Au,n=>n.getUTCSeconds());Nf.range;const Gk=kr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Au)},(n,e)=>{n.setTime(+n+e*Za)},(n,e)=>(e-n)/Za,n=>n.getMinutes());Gk.range;const zk=kr(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*Za)},(n,e)=>(e-n)/Za,n=>n.getUTCMinutes());zk.range;const qk=kr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Au-n.getMinutes()*Za)},(n,e)=>{n.setTime(+n+e*lu)},(n,e)=>(e-n)/lu,n=>n.getHours());qk.range;const $k=kr(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*lu)},(n,e)=>(e-n)/lu,n=>n.getUTCHours());$k.range;const AB=kr(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Za)/Eu,n=>n.getDate()-1);AB.range;const BI=kr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Eu,n=>n.getUTCDate()-1);BI.range;const s7=kr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Eu,n=>Math.floor(n/Eu));s7.range;function Fp(n){return kr(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Za)/Kk)}const SI=Fp(0),WT=Fp(1),$Te=Fp(2),jTe=Fp(3),oy=Fp(4),WTe=Fp(5),YTe=Fp(6);SI.range;WT.range;$Te.range;jTe.range;oy.range;WTe.range;YTe.range;function Mp(n){return kr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/Kk)}const xI=Mp(0),YT=Mp(1),XTe=Mp(2),JTe=Mp(3),Ay=Mp(4),ZTe=Mp(5),e1e=Mp(6);xI.range;YT.range;XTe.range;JTe.range;Ay.range;ZTe.range;e1e.range;const jk=kr(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());jk.range;const Wk=kr(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());Wk.range;const Bu=kr(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());Bu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:kr(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});Bu.range;const Su=kr(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Su.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:kr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});Su.range;function a7(n,e,t,r,i,s){const a=[[Nf,1,Au],[Nf,5,5*Au],[Nf,15,15*Au],[Nf,30,30*Au],[s,1,Za],[s,5,5*Za],[s,15,15*Za],[s,30,30*Za],[i,1,lu],[i,3,3*lu],[i,6,6*lu],[i,12,12*lu],[r,1,Eu],[r,2,2*Eu],[t,1,Kk],[e,1,o8],[e,3,3*o8],[n,1,nR]];function o(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const v=h&&typeof h.range=="function"?h:l(u,d,h),C=v?v.range(u,+d+1):[];return g?C.reverse():C}function l(u,d,h){const g=Math.abs(d-u)/h,v=Fk(([,,B])=>B).right(a,g);if(v===a.length)return n.every(nQ(u/nR,d/nR,h));if(v===0)return jT.every(Math.max(nQ(u,d,h),1));const[C,b]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return C.every(b)}return[o,l]}const[t1e,n1e]=a7(Su,Wk,xI,s7,$k,zk),[r1e,i1e]=a7(Bu,jk,SI,AB,qk,Gk);function rR(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function iR(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function H0(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function s1e(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,s=n.days,a=n.shortDays,o=n.months,l=n.shortMonths,u=V0(i),d=K0(i),h=V0(s),g=K0(s),v=V0(a),C=K0(a),b=V0(o),B=K0(o),S=V0(l),I=K0(l),T={a:j,A:se,b:pe,B:Ee,c:null,d:f8,e:f8,f:T1e,g:Q1e,G:O1e,H:S1e,I:x1e,j:_1e,L:o7,m:I1e,M:F1e,p:q,q:ee,Q:g8,s:m8,S:M1e,u:U1e,U:P1e,V:R1e,w:D1e,W:N1e,x:null,X:null,y:L1e,Y:k1e,Z:H1e,"%":p8},D={a:oe,A:Ce,b:ie,B:ue,c:null,d:h8,e:h8,f:z1e,g:tIe,G:rIe,H:V1e,I:K1e,j:G1e,L:l7,m:q1e,M:$1e,p:ce,q:Be,Q:g8,s:m8,S:j1e,u:W1e,U:Y1e,V:X1e,w:J1e,W:Z1e,x:null,X:null,y:eIe,Y:nIe,Z:iIe,"%":p8},U={a:G,A:K,b:z,B:Z,c:Y,d:c8,e:c8,f:b1e,g:u8,G:l8,H:d8,I:d8,j:m1e,L:w1e,m:g1e,M:v1e,p:k,q:p1e,Q:E1e,s:B1e,S:y1e,u:u1e,U:c1e,V:d1e,w:l1e,W:f1e,x:ve,X:V,y:u8,Y:l8,Z:h1e,"%":C1e};T.x=R(t,T),T.X=R(r,T),T.c=R(e,T),D.x=R(t,D),D.X=R(r,D),D.c=R(e,D);function R(te,Se){return function(Te){var ye=[],yt=-1,qe=0,Kt=te.length,Pt,Kn,nt;for(Te instanceof Date||(Te=new Date(+Te));++yt<Kt;)te.charCodeAt(yt)===37&&(ye.push(te.slice(qe,yt)),(Kn=A8[Pt=te.charAt(++yt)])!=null?Pt=te.charAt(++yt):Kn=Pt==="e"?" ":"0",(nt=Se[Pt])&&(Pt=nt(Te,Kn)),ye.push(Pt),qe=yt+1);return ye.push(te.slice(qe,yt)),ye.join("")}}function Q(te,Se){return function(Te){var ye=H0(1900,void 0,1),yt=H(ye,te,Te+="",0),qe,Kt;if(yt!=Te.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(Se&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(qe=iR(H0(ye.y,0,1)),Kt=qe.getUTCDay(),qe=Kt>4||Kt===0?YT.ceil(qe):YT(qe),qe=BI.offset(qe,(ye.V-1)*7),ye.y=qe.getUTCFullYear(),ye.m=qe.getUTCMonth(),ye.d=qe.getUTCDate()+(ye.w+6)%7):(qe=rR(H0(ye.y,0,1)),Kt=qe.getDay(),qe=Kt>4||Kt===0?WT.ceil(qe):WT(qe),qe=AB.offset(qe,(ye.V-1)*7),ye.y=qe.getFullYear(),ye.m=qe.getMonth(),ye.d=qe.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),Kt="Z"in ye?iR(H0(ye.y,0,1)).getUTCDay():rR(H0(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(Kt+5)%7:ye.w+ye.U*7-(Kt+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,iR(ye)):rR(ye)}}function H(te,Se,Te,ye){for(var yt=0,qe=Se.length,Kt=Te.length,Pt,Kn;yt<qe;){if(ye>=Kt)return-1;if(Pt=Se.charCodeAt(yt++),Pt===37){if(Pt=Se.charAt(yt++),Kn=U[Pt in A8?Se.charAt(yt++):Pt],!Kn||(ye=Kn(te,Te,ye))<0)return-1}else if(Pt!=Te.charCodeAt(ye++))return-1}return ye}function k(te,Se,Te){var ye=u.exec(Se.slice(Te));return ye?(te.p=d.get(ye[0].toLowerCase()),Te+ye[0].length):-1}function G(te,Se,Te){var ye=v.exec(Se.slice(Te));return ye?(te.w=C.get(ye[0].toLowerCase()),Te+ye[0].length):-1}function K(te,Se,Te){var ye=h.exec(Se.slice(Te));return ye?(te.w=g.get(ye[0].toLowerCase()),Te+ye[0].length):-1}function z(te,Se,Te){var ye=S.exec(Se.slice(Te));return ye?(te.m=I.get(ye[0].toLowerCase()),Te+ye[0].length):-1}function Z(te,Se,Te){var ye=b.exec(Se.slice(Te));return ye?(te.m=B.get(ye[0].toLowerCase()),Te+ye[0].length):-1}function Y(te,Se,Te){return H(te,e,Se,Te)}function ve(te,Se,Te){return H(te,t,Se,Te)}function V(te,Se,Te){return H(te,r,Se,Te)}function j(te){return a[te.getDay()]}function se(te){return s[te.getDay()]}function pe(te){return l[te.getMonth()]}function Ee(te){return o[te.getMonth()]}function q(te){return i[+(te.getHours()>=12)]}function ee(te){return 1+~~(te.getMonth()/3)}function oe(te){return a[te.getUTCDay()]}function Ce(te){return s[te.getUTCDay()]}function ie(te){return l[te.getUTCMonth()]}function ue(te){return o[te.getUTCMonth()]}function ce(te){return i[+(te.getUTCHours()>=12)]}function Be(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var Se=R(te+="",T);return Se.toString=function(){return te},Se},parse:function(te){var Se=Q(te+="",!1);return Se.toString=function(){return te},Se},utcFormat:function(te){var Se=R(te+="",D);return Se.toString=function(){return te},Se},utcParse:function(te){var Se=Q(te+="",!0);return Se.toString=function(){return te},Se}}}var A8={"-":"",_:" ",0:"0"},si=/^\s*\d+/,a1e=/^%/,o1e=/[\\^$*+?|[\]().{}]/g;function kt(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",s=i.length;return r+(s<t?new Array(t-s+1).join(e)+i:i)}function A1e(n){return n.replace(o1e,"\\$&")}function V0(n){return new RegExp("^(?:"+n.map(A1e).join("|")+")","i")}function K0(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function l1e(n,e,t){var r=si.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function u1e(n,e,t){var r=si.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function c1e(n,e,t){var r=si.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function d1e(n,e,t){var r=si.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function f1e(n,e,t){var r=si.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function l8(n,e,t){var r=si.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function u8(n,e,t){var r=si.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function h1e(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function p1e(n,e,t){var r=si.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function g1e(n,e,t){var r=si.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function c8(n,e,t){var r=si.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function m1e(n,e,t){var r=si.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function d8(n,e,t){var r=si.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function v1e(n,e,t){var r=si.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function y1e(n,e,t){var r=si.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function w1e(n,e,t){var r=si.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function b1e(n,e,t){var r=si.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function C1e(n,e,t){var r=a1e.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function E1e(n,e,t){var r=si.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function B1e(n,e,t){var r=si.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function f8(n,e){return kt(n.getDate(),e,2)}function S1e(n,e){return kt(n.getHours(),e,2)}function x1e(n,e){return kt(n.getHours()%12||12,e,2)}function _1e(n,e){return kt(1+AB.count(Bu(n),n),e,3)}function o7(n,e){return kt(n.getMilliseconds(),e,3)}function T1e(n,e){return o7(n,e)+"000"}function I1e(n,e){return kt(n.getMonth()+1,e,2)}function F1e(n,e){return kt(n.getMinutes(),e,2)}function M1e(n,e){return kt(n.getSeconds(),e,2)}function U1e(n){var e=n.getDay();return e===0?7:e}function P1e(n,e){return kt(SI.count(Bu(n)-1,n),e,2)}function A7(n){var e=n.getDay();return e>=4||e===0?oy(n):oy.ceil(n)}function R1e(n,e){return n=A7(n),kt(oy.count(Bu(n),n)+(Bu(n).getDay()===4),e,2)}function D1e(n){return n.getDay()}function N1e(n,e){return kt(WT.count(Bu(n)-1,n),e,2)}function L1e(n,e){return kt(n.getFullYear()%100,e,2)}function Q1e(n,e){return n=A7(n),kt(n.getFullYear()%100,e,2)}function k1e(n,e){return kt(n.getFullYear()%1e4,e,4)}function O1e(n,e){var t=n.getDay();return n=t>=4||t===0?oy(n):oy.ceil(n),kt(n.getFullYear()%1e4,e,4)}function H1e(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+kt(e/60|0,"0",2)+kt(e%60,"0",2)}function h8(n,e){return kt(n.getUTCDate(),e,2)}function V1e(n,e){return kt(n.getUTCHours(),e,2)}function K1e(n,e){return kt(n.getUTCHours()%12||12,e,2)}function G1e(n,e){return kt(1+BI.count(Su(n),n),e,3)}function l7(n,e){return kt(n.getUTCMilliseconds(),e,3)}function z1e(n,e){return l7(n,e)+"000"}function q1e(n,e){return kt(n.getUTCMonth()+1,e,2)}function $1e(n,e){return kt(n.getUTCMinutes(),e,2)}function j1e(n,e){return kt(n.getUTCSeconds(),e,2)}function W1e(n){var e=n.getUTCDay();return e===0?7:e}function Y1e(n,e){return kt(xI.count(Su(n)-1,n),e,2)}function u7(n){var e=n.getUTCDay();return e>=4||e===0?Ay(n):Ay.ceil(n)}function X1e(n,e){return n=u7(n),kt(Ay.count(Su(n),n)+(Su(n).getUTCDay()===4),e,2)}function J1e(n){return n.getUTCDay()}function Z1e(n,e){return kt(YT.count(Su(n)-1,n),e,2)}function eIe(n,e){return kt(n.getUTCFullYear()%100,e,2)}function tIe(n,e){return n=u7(n),kt(n.getUTCFullYear()%100,e,2)}function nIe(n,e){return kt(n.getUTCFullYear()%1e4,e,4)}function rIe(n,e){var t=n.getUTCDay();return n=t>=4||t===0?Ay(n):Ay.ceil(n),kt(n.getUTCFullYear()%1e4,e,4)}function iIe(){return"+0000"}function p8(){return"%"}function g8(n){return+n}function m8(n){return Math.floor(+n/1e3)}var yg,c7,d7;sIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sIe(n){return yg=s1e(n),c7=yg.format,yg.parse,d7=yg.utcFormat,yg.utcParse,yg}function aIe(n){return new Date(n)}function oIe(n){return n instanceof Date?+n:+new Date(+n)}function Yk(n,e,t,r,i,s,a,o,l,u){var d=Nk(),h=d.invert,g=d.domain,v=u(".%L"),C=u(":%S"),b=u("%I:%M"),B=u("%I %p"),S=u("%a %d"),I=u("%b %d"),T=u("%B"),D=u("%Y");function U(R){return(l(R)<R?v:o(R)<R?C:a(R)<R?b:s(R)<R?B:r(R)<R?i(R)<R?S:I:t(R)<R?T:D)(R)}return d.invert=function(R){return new Date(h(R))},d.domain=function(R){return arguments.length?g(Array.from(R,oIe)):g().map(aIe)},d.ticks=function(R){var Q=g();return n(Q[0],Q[Q.length-1],R??10)},d.tickFormat=function(R,Q){return Q==null?U:u(Q)},d.nice=function(R){var Q=g();return(!R||typeof R.range!="function")&&(R=e(Q[0],Q[Q.length-1],R??10)),R?g(JJ(Q,R)):d},d.copy=function(){return oB(d,Yk(n,e,t,r,i,s,a,o,l,u))},d}function AIe(){return Ao.apply(Yk(r1e,i1e,Bu,jk,SI,AB,qk,Gk,Nf,c7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lIe(){return Ao.apply(Yk(t1e,n1e,Su,Wk,xI,BI,$k,zk,Nf,d7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _I(){var n=0,e=1,t,r,i,s,a=es,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-t)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([n,e]=h,t=s(n=+n),r=s(e=+e),i=t===r?0:1/(r-t),u):[n,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(g){var v,C;return arguments.length?([v,C]=g,a=h(v,C),u):[a(0),a(1)]}}return u.range=d(wy),u.rangeRound=d(Dk),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,t=h(n),r=h(e),i=t===r?0:1/(r-t),u}}function Jd(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function f7(){var n=Xd(_I()(es));return n.copy=function(){return Jd(n,f7())},Lu.apply(n,arguments)}function h7(){var n=kk(_I()).domain([1,10]);return n.copy=function(){return Jd(n,h7()).base(n.base())},Lu.apply(n,arguments)}function p7(){var n=Ok(_I());return n.copy=function(){return Jd(n,p7()).constant(n.constant())},Lu.apply(n,arguments)}function Xk(){var n=Hk(_I());return n.copy=function(){return Jd(n,Xk()).exponent(n.exponent())},Lu.apply(n,arguments)}function uIe(){return Xk.apply(null,arguments).exponent(.5)}function g7(){var n=[],e=es;function t(r){if(r!=null&&!isNaN(r=+r))return e((sB(n,r,1)-1)/(n.length-1))}return t.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(Hd),t},t.interpolator=function(r){return arguments.length?(e=r,t):e},t.range=function(){return n.map((r,i)=>e(i/(n.length-1)))},t.quantiles=function(r){return Array.from({length:r+1},(i,s)=>W_e(n,s/r))},t.copy=function(){return g7(e).domain(n)},Lu.apply(t,arguments)}function TI(){var n=0,e=.5,t=1,r=1,i,s,a,o,l,u=es,d,h=!1,g;function v(b){return isNaN(b=+b)?g:(b=.5+((b=+d(b))-s)*(r*b<r*s?o:l),u(h?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([n,e,t]=b,i=d(n=+n),s=d(e=+e),a=d(t=+t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,v):[n,e,t]},v.clamp=function(b){return arguments.length?(h=!!b,v):h},v.interpolator=function(b){return arguments.length?(u=b,v):u};function C(b){return function(B){var S,I,T;return arguments.length?([S,I,T]=B,u=CTe(b,[S,I,T]),v):[u(0),u(.5),u(1)]}}return v.range=C(wy),v.rangeRound=C(Dk),v.unknown=function(b){return arguments.length?(g=b,v):g},function(b){return d=b,i=b(n),s=b(e),a=b(t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function m7(){var n=Xd(TI()(es));return n.copy=function(){return Jd(n,m7())},Lu.apply(n,arguments)}function v7(){var n=kk(TI()).domain([.1,1,10]);return n.copy=function(){return Jd(n,v7()).base(n.base())},Lu.apply(n,arguments)}function y7(){var n=Ok(TI());return n.copy=function(){return Jd(n,y7()).constant(n.constant())},Lu.apply(n,arguments)}function Jk(){var n=Hk(TI());return n.copy=function(){return Jd(n,Jk()).exponent(n.exponent())},Lu.apply(n,arguments)}function cIe(){return Jk.apply(null,arguments).exponent(.5)}const _w=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Uk,scaleDiverging:m7,scaleDivergingLog:v7,scaleDivergingPow:Jk,scaleDivergingSqrt:cIe,scaleDivergingSymlog:y7,scaleIdentity:XJ,scaleImplicit:rQ,scaleLinear:YJ,scaleLog:ZJ,scaleOrdinal:Mk,scalePoint:J_e,scalePow:Vk,scaleQuantile:n7,scaleQuantize:r7,scaleRadial:t7,scaleSequential:f7,scaleSequentialLog:h7,scaleSequentialPow:Xk,scaleSequentialQuantile:g7,scaleSequentialSqrt:uIe,scaleSequentialSymlog:p7,scaleSqrt:zTe,scaleSymlog:e7,scaleThreshold:i7,scaleTime:AIe,scaleUtc:lIe,tickFormat:WJ},Symbol.toStringTag,{value:"Module"}));var Zd=n=>n.chartData,dIe=le([Zd],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),Zk=(n,e,t,r)=>r?dIe(n):Zd(n);function $d(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(fr(e)&&fr(t))return!0}return!1}function v8(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function w7(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,r]=n,i,s;if(fr(t))i=t;else if(typeof t=="function")return;if(fr(r))s=r;else if(typeof r=="function")return;var a=[i,s];if($d(a))return a}}function fIe(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var r=n(e,t);if($d(r))return v8(r,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[i,s]=n,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(et(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&$5.test(i)){var l=$5.exec(i);if(l==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(et(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&j5.test(s)){var d=j5.exec(s);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var g=[a,o];if($d(g))return e==null?g:v8(g,e,t)}}}var by=1e9,hIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tO,Qn=!0,ao="[DecimalError] ",pp=ao+"Invalid argument: ",eO=ao+"Exponent out of range: ",Cy=Math.floor,If=Math.pow,pIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,la,ti=1e7,Fn=7,b7=9007199254740991,XT=Cy(b7/Fn),Qe={};Qe.absoluteValue=Qe.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Qe.comparedTo=Qe.cmp=function(n){var e,t,r,i,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(r=s.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*Fn;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Qe.dividedBy=Qe.div=function(n){return fu(this,new this.constructor(n))};Qe.dividedToIntegerBy=Qe.idiv=function(n){var e=this,t=e.constructor;return vn(fu(e,new t(n),0,1),t.precision)};Qe.equals=Qe.eq=function(n){return!this.cmp(n)};Qe.exponent=function(){return _r(this)};Qe.greaterThan=Qe.gt=function(n){return this.cmp(n)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(n){return this.cmp(n)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(n){return this.cmp(n)<0};Qe.lessThanOrEqualTo=Qe.lte=function(n){return this.cmp(n)<1};Qe.logarithm=Qe.log=function(n){var e,t=this,r=t.constructor,i=r.precision,s=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(la))throw Error(ao+"NaN");if(t.s<1)throw Error(ao+(t.s?"NaN":"-Infinity"));return t.eq(la)?new r(0):(Qn=!1,e=fu(lb(t,s),lb(n,s),s),Qn=!0,vn(e,i))};Qe.minus=Qe.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?B7(e,n):C7(e,(n.s=-n.s,n))};Qe.modulo=Qe.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(ao+"NaN");return t.s?(Qn=!1,e=fu(t,n,0,1).times(n),Qn=!0,t.minus(e)):vn(new r(t),i)};Qe.naturalExponential=Qe.exp=function(){return E7(this)};Qe.naturalLogarithm=Qe.ln=function(){return lb(this)};Qe.negated=Qe.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Qe.plus=Qe.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?C7(e,n):B7(e,(n.s=-n.s,n))};Qe.precision=Qe.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(pp+n);if(e=_r(i)+1,r=i.d.length-1,t=r*Fn+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};Qe.squareRoot=Qe.sqrt=function(){var n,e,t,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ao+"NaN")}for(n=_r(o),Qn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=TA(o.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=Cy((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new l(e)):r=new l(i.toString()),t=l.precision,i=a=t+3;;)if(s=r,r=s.plus(fu(o,s,a+2)).times(.5),TA(s.d).slice(0,a)===(e=TA(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(vn(s,t+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return Qn=!0,vn(r,t)};Qe.times=Qe.mul=function(n){var e,t,r,i,s,a,o,l,u,d=this,h=d.constructor,g=d.d,v=(n=new h(n)).d;if(!d.s||!n.s)return new h(0);for(n.s*=d.s,t=d.e+n.e,l=g.length,u=v.length,l<u&&(s=g,g=v,v=s,a=l,l=u,u=a),s=[],a=l+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+v[r]*g[i-r-1]+e,s[i--]=o%ti|0,e=o/ti|0;s[i]=(s[i]+e)%ti|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,Qn?vn(n,h.precision):n};Qe.toDecimalPlaces=Qe.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(UA(n,0,by),e===void 0?e=r.rounding:UA(e,0,8),vn(t,n+_r(t)+1,e))};Qe.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=Cp(r,!0):(UA(n,0,by),e===void 0?e=i.rounding:UA(e,0,8),r=vn(new i(r),n+1,e),t=Cp(r,!0,n+1)),t};Qe.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?Cp(i):(UA(n,0,by),e===void 0?e=s.rounding:UA(e,0,8),r=vn(new s(i),n+_r(i)+1,e),t=Cp(r.abs(),!1,n+_r(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};Qe.toInteger=Qe.toint=function(){var n=this,e=n.constructor;return vn(new e(n),_r(n)+1,e.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(n){var e,t,r,i,s,a,o=this,l=o.constructor,u=12,d=+(n=new l(n));if(!n.s)return new l(la);if(o=new l(o),!o.s){if(n.s<1)throw Error(ao+"Infinity");return o}if(o.eq(la))return o;if(r=l.precision,n.eq(la))return vn(o,r);if(e=n.e,t=n.d.length-1,a=e>=t,s=o.s,a){if((t=d<0?-d:d)<=b7){for(i=new l(la),e=Math.ceil(r/Fn+4),Qn=!1;t%2&&(i=i.times(o),w8(i.d,e)),t=Cy(t/2),t!==0;)o=o.times(o),w8(o.d,e);return Qn=!0,n.s<0?new l(la).div(i):vn(i,r)}}else if(s<0)throw Error(ao+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,Qn=!1,i=n.times(lb(o,r+u)),Qn=!0,i=E7(i),i.s=s,i};Qe.toPrecision=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?(t=_r(i),r=Cp(i,t<=s.toExpNeg||t>=s.toExpPos)):(UA(n,1,by),e===void 0?e=s.rounding:UA(e,0,8),i=vn(new s(i),n,e),t=_r(i),r=Cp(i,n<=t||t<=s.toExpNeg,n)),r};Qe.toSignificantDigits=Qe.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(UA(n,1,by),e===void 0?e=r.rounding:UA(e,0,8)),vn(new r(t),n,e)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=_r(n),t=n.constructor;return Cp(n,e<=t.toExpNeg||e>=t.toExpPos)};function C7(n,e){var t,r,i,s,a,o,l,u,d=n.constructor,h=d.precision;if(!n.s||!e.s)return e.s||(e=new d(n)),Qn?vn(e,h):e;if(l=n.d,u=e.d,a=n.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=u.length):(r=u,i=a,o=l.length),a=Math.ceil(h/Fn),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,r=u,u=l,l=r),t=0;s;)t=(l[--s]=l[s]+u[s]+t)/ti|0,l[s]%=ti;for(t&&(l.unshift(t),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Qn?vn(e,h):e}function UA(n,e,t){if(n!==~~n||n<e||n>t)throw Error(pp+n)}function TA(n){var e,t,r,i=n.length-1,s="",a=n[0];if(i>0){for(s+=a,e=1;e<i;e++)r=n[e]+"",t=Fn-r.length,t&&(s+=wc(t)),s+=r;a=n[e],r=a+"",t=Fn-r.length,t&&(s+=wc(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var fu=(function(){function n(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%ti|0,a=s/ti|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function t(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*ti+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,u,d,h,g,v,C,b,B,S,I,T,D,U,R,Q,H,k=r.constructor,G=r.s==i.s?1:-1,K=r.d,z=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(ao+"Division by zero");for(l=r.e-i.e,Q=z.length,U=K.length,v=new k(G),C=v.d=[],u=0;z[u]==(K[u]||0);)++u;if(z[u]>(K[u]||0)&&--l,s==null?I=s=k.precision:a?I=s+(_r(r)-_r(i))+1:I=s,I<0)return new k(0);if(I=I/Fn+2|0,u=0,Q==1)for(d=0,z=z[0],I++;(u<U||d)&&I--;u++)T=d*ti+(K[u]||0),C[u]=T/z|0,d=T%z|0;else{for(d=ti/(z[0]+1)|0,d>1&&(z=n(z,d),K=n(K,d),Q=z.length,U=K.length),D=Q,b=K.slice(0,Q),B=b.length;B<Q;)b[B++]=0;H=z.slice(),H.unshift(0),R=z[0],z[1]>=ti/2&&++R;do d=0,o=e(z,b,Q,B),o<0?(S=b[0],Q!=B&&(S=S*ti+(b[1]||0)),d=S/R|0,d>1?(d>=ti&&(d=ti-1),h=n(z,d),g=h.length,B=b.length,o=e(h,b,g,B),o==1&&(d--,t(h,Q<g?H:z,g))):(d==0&&(o=d=1),h=z.slice()),g=h.length,g<B&&h.unshift(0),t(b,h,B),o==-1&&(B=b.length,o=e(z,b,Q,B),o<1&&(d++,t(b,Q<B?H:z,B))),B=b.length):o===0&&(d++,b=[0]),C[u++]=d,o&&b[0]?b[B++]=K[D]||0:(b=[K[D]],B=1);while((D++<U||b[0]!==void 0)&&I--)}return C[0]||C.shift(),v.e=l,vn(v,a?s+_r(v)+1:s)}})();function E7(n,e){var t,r,i,s,a,o,l=0,u=0,d=n.constructor,h=d.precision;if(_r(n)>16)throw Error(eO+_r(n));if(!n.s)return new d(la);for(Qn=!1,o=h,a=new d(.03125);n.abs().gte(.1);)n=n.times(a),u+=5;for(r=Math.log(If(2,u))/Math.LN10*2+5|0,o+=r,t=i=s=new d(la),d.precision=o;;){if(i=vn(i.times(n),o),t=t.times(++l),a=s.plus(fu(i,t,o)),TA(a.d).slice(0,o)===TA(s.d).slice(0,o)){for(;u--;)s=vn(s.times(s),o);return d.precision=h,e==null?(Qn=!0,vn(s,h)):s}s=a}}function _r(n){for(var e=n.e*Fn,t=n.d[0];t>=10;t/=10)e++;return e}function sR(n,e,t){if(e>n.LN10.sd())throw Qn=!0,t&&(n.precision=t),Error(ao+"LN10 precision limit exceeded");return vn(new n(n.LN10),e)}function wc(n){for(var e="";n--;)e+="0";return e}function lb(n,e){var t,r,i,s,a,o,l,u,d,h=1,g=10,v=n,C=v.d,b=v.constructor,B=b.precision;if(v.s<1)throw Error(ao+(v.s?"NaN":"-Infinity"));if(v.eq(la))return new b(0);if(e==null?(Qn=!1,u=B):u=e,v.eq(10))return e==null&&(Qn=!0),sR(b,u);if(u+=g,b.precision=u,t=TA(C),r=t.charAt(0),s=_r(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)v=v.times(n),t=TA(v.d),r=t.charAt(0),h++;s=_r(v),r>1?(v=new b("0."+t),s++):v=new b(r+"."+t.slice(1))}else return l=sR(b,u+2,B).times(s+""),v=lb(new b(r+"."+t.slice(1)),u-g).plus(l),b.precision=B,e==null?(Qn=!0,vn(v,B)):v;for(o=a=v=fu(v.minus(la),v.plus(la),u),d=vn(v.times(v),u),i=3;;){if(a=vn(a.times(d),u),l=o.plus(fu(a,new b(i),u)),TA(l.d).slice(0,u)===TA(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(sR(b,u+2,B).times(s+""))),o=fu(o,new b(h),u),b.precision=B,e==null?(Qn=!0,vn(o,B)):o;o=l,i+=2}}function y8(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=Cy(t/Fn),n.d=[],r=(t+1)%Fn,t<0&&(r+=Fn),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=Fn;r<i;)n.d.push(+e.slice(r,r+=Fn));e=e.slice(r),r=Fn-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),Qn&&(n.e>XT||n.e<-XT))throw Error(eO+t)}else n.s=0,n.e=0,n.d=[0];return n}function vn(n,e,t){var r,i,s,a,o,l,u,d,h=n.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Fn,i=e,u=h[d=0];else{if(d=Math.ceil((r+1)/Fn),s=h.length,d>=s)return n;for(u=s=h[d],a=1;s>=10;s/=10)a++;r%=Fn,i=r-Fn+a}if(t!==void 0&&(s=If(10,a-i-1),o=u/s%10|0,l=e<0||h[d+1]!==void 0||u%s,l=t<4?(o||l)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(r>0?i>0?u/If(10,a-i):0:h[d-1])%10&1||t==(n.s<0?8:7))),e<1||!h[0])return l?(s=_r(n),h.length=1,e=e-s-1,h[0]=If(10,(Fn-e%Fn)%Fn),n.e=Cy(-e/Fn)||0):(h.length=1,h[0]=n.e=n.s=0),n;if(r==0?(h.length=d,s=1,d--):(h.length=d+1,s=If(10,Fn-r),h[d]=i>0?(u/If(10,a-i)%If(10,i)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==ti&&(h[0]=1,++n.e);break}else{if(h[d]+=s,h[d]!=ti)break;h[d--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(Qn&&(n.e>XT||n.e<-XT))throw Error(eO+_r(n));return n}function B7(n,e){var t,r,i,s,a,o,l,u,d,h,g=n.constructor,v=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),Qn?vn(e,v):e;if(l=n.d,h=e.d,r=e.e,u=n.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(t=l,a=-a,o=h.length):(t=h,r=u,o=l.length),i=Math.max(Math.ceil(v/Fn),o)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}a=0}for(d&&(t=l,l=h,h=t,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=ti-1;--l[s],l[i]+=ti}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Qn?vn(e,v):e):new g(0)}function Cp(n,e,t){var r,i=_r(n),s=TA(n.d),a=s.length;return e?(t&&(r=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+wc(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+wc(-i-1)+s,t&&(r=t-a)>0&&(s+=wc(r))):i>=a?(s+=wc(i+1-a),t&&(r=t-i-1)>0&&(s=s+"."+wc(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-a)>0&&(i+1===a&&(s+="."),s+=wc(r))),n.s<0?"-"+s:s}function w8(n,e){if(n.length>e)return n.length=e,!0}function S7(n){var e,t,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(pp+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return y8(a,s.toString())}else if(typeof s!="string")throw Error(pp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,pIe.test(s))y8(a,s);else throw Error(pp+s)}if(i.prototype=Qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=S7,i.config=i.set=gIe,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function gIe(n){if(!n||typeof n!="object")throw Error(ao+"Object expected");var e,t,r,i=["precision",1,by,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(Cy(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(pp+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(pp+t+": "+r);return this}var tO=S7(hIe);la=new tO(1);const Yt=tO;var mIe=n=>n,x7={},_7=n=>n===x7,b8=n=>function e(){return arguments.length===0||arguments.length===1&&_7(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},T7=(n,e)=>n===1?e:b8(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var s=r.filter(a=>a!==x7).length;return s>=n?e(...r):T7(n-s,b8(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=r.map(d=>_7(d)?o.shift():d);return e(...u,...o)}))}),vIe=n=>T7(n.length,n),oQ=(n,e)=>{for(var t=[],r=n;r<e;++r)t[r-n]=r;return t},yIe=vIe((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),wIe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return mIe;var i=t.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},AQ=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function I7(n){var e;return n===0?e=1:e=Math.floor(new Yt(n).abs().log(10).toNumber())+1,e}function F7(n,e,t){for(var r=new Yt(n),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(t),i++;return s}var M7=n=>{var[e,t]=n,[r,i]=[e,t];return e>t&&([r,i]=[t,e]),[r,i]},U7=(n,e,t)=>{if(n.lte(0))return new Yt(0);var r=I7(n.toNumber()),i=new Yt(10).pow(r),s=n.div(i),a=r!==1?.05:.1,o=new Yt(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(i);return e?new Yt(l.toNumber()):new Yt(Math.ceil(l.toNumber()))},bIe=(n,e,t)=>{var r=new Yt(1),i=new Yt(n);if(!i.isint()&&t){var s=Math.abs(n);s<1?(r=new Yt(10).pow(I7(n)-1),i=new Yt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Yt(Math.floor(n)))}else n===0?i=new Yt(Math.floor((e-1)/2)):t||(i=new Yt(Math.floor(n)));var a=Math.floor((e-1)/2),o=wIe(yIe(l=>i.add(new Yt(l-a).mul(r)).toNumber()),oQ);return o(0,e)},P7=function(e,t,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Yt(0),tickMin:new Yt(0),tickMax:new Yt(0)};var a=U7(new Yt(t).sub(e).div(r-1),i,s),o;e<=0&&t>=0?o=new Yt(0):(o=new Yt(e).add(t).div(2),o=o.sub(new Yt(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new Yt(t).sub(o).div(a).toNumber()),d=l+u+1;return d>r?P7(e,t,r,i,s+1):(d<r&&(u=t>0?u+(r-d):u,l=t>0?l:l+(r-d)),{step:a,tickMin:o.sub(new Yt(l).mul(a)),tickMax:o.add(new Yt(u).mul(a))})},CIe=function(e){var[t,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=M7([t,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...oQ(0,i-1).map(()=>1/0)]:[...oQ(0,i-1).map(()=>-1/0),l];return t>r?AQ(u):u}if(o===l)return bIe(o,i,s);var{step:d,tickMin:h,tickMax:g}=P7(o,l,a,s,0),v=F7(h,g.add(new Yt(.1).mul(d)),d);return t>r?AQ(v):v},EIe=function(e,t){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=M7([r,i]);if(a===-1/0||o===1/0)return[r,i];if(a===o)return[a];var l=Math.max(t,2),u=U7(new Yt(o).sub(a).div(l-1),s,0),d=[...F7(new Yt(a),new Yt(o),u),o];return s===!1&&(d=d.map(h=>Math.round(h))),r>i?AQ(d):d},R7=n=>n.rootProps.maxBarSize,BIe=n=>n.rootProps.barGap,D7=n=>n.rootProps.barCategoryGap,SIe=n=>n.rootProps.barSize,II=n=>n.rootProps.stackOffset,N7=n=>n.rootProps.reverseStackOrder,nO=n=>n.options.chartName,rO=n=>n.rootProps.syncId,L7=n=>n.rootProps.syncMethod,iO=n=>n.options.eventEmitter,Ts={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},su={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},oa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},FI=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},xIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:su.angleAxisId,includeHidden:!1,name:void 0,reversed:su.reversed,scale:su.scale,tick:su.tick,tickCount:void 0,ticks:void 0,type:su.type,unit:void 0},_Ie={allowDataOverflow:oa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:oa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:oa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:oa.scale,tick:oa.tick,tickCount:oa.tickCount,ticks:void 0,type:oa.type,unit:void 0},TIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:su.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:su.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:su.scale,tick:su.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},IIe={allowDataOverflow:oa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:oa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:oa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:oa.scale,tick:oa.tick,tickCount:oa.tickCount,ticks:void 0,type:"category",unit:void 0},sO=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?TIe:xIe,aO=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?IIe:_Ie,MI=n=>n.polarOptions,oO=le([Du,Nu,ii],E_e),Q7=le([MI,oO],(n,e)=>{if(n!=null)return No(n.innerRadius,e,0)}),k7=le([MI,oO],(n,e)=>{if(n!=null)return No(n.outerRadius,e,e*.8)}),FIe=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},O7=le([MI],FIe);le([sO,O7],FI);var H7=le([oO,Q7,k7],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});le([aO,H7],FI);var V7=le([Xt,MI,Q7,k7,Du,Nu],(n,e,t,r,i,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:No(a,i,i/2),cy:No(o,s,s/2),innerRadius:t,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),Or=(n,e)=>e,UI=(n,e,t)=>t;function AO(n){return n==null?void 0:n.id}function K7(n,e,t){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=t,a=new Map;return n.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=AO(o);u.forEach((h,g)=>{var v=s==null||i?g:String(Oi(h,s,null)),C=Oi(h,o.dataKey,0),b;a.has(v)?b=a.get(v):b={},Object.assign(b,{[d]:C}),a.set(v,b)})}}),Array.from(a.values())}function PI(n){return n.stackId!=null&&n.dataKey!=null}var RI=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function DI(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function MIe(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var Hr=n=>{var e=Xt(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ey=n=>n.tooltip.settings.axisId;function C8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function JT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(t),!0).forEach(function(r){UIe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function UIe(n,e,t){return(e=PIe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PIe(n){var e=RIe(n,"string");return typeof e=="symbol"?e:e+""}function RIe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lQ=[0,"auto"],qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},G7=(n,e)=>n.cartesianAxis.xAxis[e],Qu=(n,e)=>{var t=G7(n,e);return t??qr},$r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:lQ,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:nB},z7=(n,e)=>n.cartesianAxis.yAxis[e],ku=(n,e)=>{var t=z7(n,e);return t??$r},DIe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},lO=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??DIe},is=(n,e,t)=>{switch(e){case"xAxis":return Qu(n,t);case"yAxis":return ku(n,t);case"zAxis":return lO(n,t);case"angleAxis":return sO(n,t);case"radiusAxis":return aO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},NIe=(n,e,t)=>{switch(e){case"xAxis":return Qu(n,t);case"yAxis":return ku(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},lB=(n,e,t)=>{switch(e){case"xAxis":return Qu(n,t);case"yAxis":return ku(n,t);case"angleAxis":return sO(n,t);case"radiusAxis":return aO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},q7=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function $7(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var uO=n=>n.graphicalItems.cartesianItems,LIe=le([Or,UI],$7),j7=(n,e,t)=>n.filter(t).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),uB=le([uO,is,LIe],j7,{memoizeOptions:{resultEqualityCheck:DI}}),W7=le([uB],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(PI)),Y7=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),QIe=le([uB],Y7),X7=n=>n.map(e=>e.data).filter(Boolean).flat(1),kIe=le([uB],X7,{memoizeOptions:{resultEqualityCheck:DI}}),J7=(n,e)=>{var{chartData:t=[],dataStartIndex:r,dataEndIndex:i}=e;return n.length>0?n:t.slice(r,i+1)},cO=le([kIe,Zk],J7),Z7=(n,e,t)=>(e==null?void 0:e.dataKey)!=null?n.map(r=>({value:Oi(r,e.dataKey)})):t.length>0?t.map(r=>r.dataKey).flatMap(r=>n.map(i=>({value:Oi(i,r)}))):n.map(r=>({value:r})),NI=le([cO,is,uB],Z7);function eZ(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function G_(n){if(MA(n)||n instanceof Date){var e=Number(n);if(fr(e))return e}}function E8(n){if(Array.isArray(n)){var e=[G_(n[0]),G_(n[1])];return $d(e)?e:void 0}var t=G_(n);if(t!=null)return[t,t]}function xu(n){return n.map(G_).filter(zCe)}function OIe(n,e,t){return!t||typeof e!="number"||FA(e)?[]:t.length?xu(t.flatMap(r=>{var i=Oi(n,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!fr(s)||!fr(a)))return[e-s,e+a]})):[]}var Vr=n=>{var e=Hr(n),t=Ey(n);return lB(n,e,t)},cB=le([Vr],n=>n==null?void 0:n.dataKey),HIe=le([W7,Zk,Vr],K7),tZ=(n,e,t,r)=>{var i={},s=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=r?[...l].reverse():l,d=u.map(AO);return[o,{stackedData:cSe(n,d,t),graphicalItems:u}]}))},uQ=le([HIe,W7,II,N7],tZ),nZ=(n,e,t,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&t!=="zAxis"){var a=gSe(n,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},VIe=le([is],n=>n.allowDataOverflow),dO=n=>{var e;if(n==null||!("domain"in n))return lQ;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var t=xu(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:lQ},rZ=le([is],dO),iZ=le([rZ,VIe],w7),KIe=le([uQ,Zd,Or,iZ],nZ,{memoizeOptions:{resultEqualityCheck:RI}}),fO=n=>n.errorBars,GIe=(n,e,t)=>n.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>eZ(t,r)),ZT=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},sZ=(n,e,t,r,i)=>{var s,a;if(t.length>0&&n.forEach(o=>{t.forEach(l=>{var u,d,h=(u=r[l.id])===null||u===void 0?void 0:u.filter(S=>eZ(i,S)),g=Oi(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),v=OIe(o,g,h);if(v.length>=2){var C=Math.min(...v),b=Math.max(...v);(s==null||C<s)&&(s=C),(a==null||b>a)&&(a=b)}var B=E8(g);B!=null&&(s=s==null?B[0]:Math.min(s,B[0]),a=a==null?B[1]:Math.max(a,B[1]))})}),(e==null?void 0:e.dataKey)!=null&&n.forEach(o=>{var l=E8(Oi(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),fr(s)&&fr(a))return[s,a]},zIe=le([cO,is,QIe,fO,Or],sZ,{memoizeOptions:{resultEqualityCheck:RI}});function qIe(n){var{value:e}=n;if(MA(e)||e instanceof Date)return e}var $Ie=(n,e,t)=>{var r=n.map(qIe).filter(i=>i!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&E9(r))?kJ(0,n.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},aZ=n=>n.referenceElements.dots,By=(n,e,t)=>n.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===t:r.yAxisId===t),jIe=le([aZ,Or,UI],By),oZ=n=>n.referenceElements.areas,WIe=le([oZ,Or,UI],By),AZ=n=>n.referenceElements.lines,YIe=le([AZ,Or,UI],By),lZ=(n,e)=>{var t=xu(n.map(r=>e==="xAxis"?r.x:r.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},XIe=le(jIe,Or,lZ),uZ=(n,e)=>{var t=xu(n.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},JIe=le([WIe,Or],uZ);function ZIe(n){var e;if(n.x!=null)return xu([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.x);return t==null||t.length===0?[]:xu(t)}function eFe(n){var e;if(n.y!=null)return xu([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.y);return t==null||t.length===0?[]:xu(t)}var cZ=(n,e)=>{var t=n.flatMap(r=>e==="xAxis"?ZIe(r):eFe(r));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},tFe=le([YIe,Or],cZ),nFe=le(XIe,tFe,JIe,(n,e,t)=>ZT(n,t,e)),dZ=(n,e,t,r,i,s,a,o)=>{if(t!=null)return t;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?ZT(r,s,i):ZT(s,i);return fIe(e,u,n.allowDataOverflow)},rFe=le([is,rZ,iZ,KIe,zIe,nFe,Xt,Or],dZ,{memoizeOptions:{resultEqualityCheck:RI}}),iFe=[0,1],fZ=(n,e,t,r,i,s,a)=>{if(!((n==null||t==null||t.length===0)&&a===void 0)){var{dataKey:o,type:l}=n,u=Ip(e,s);if(u&&o==null){var d;return kJ(0,(d=t==null?void 0:t.length)!==null&&d!==void 0?d:0)}return l==="category"?$Ie(r,n,u):i==="expand"?iFe:a}},hO=le([is,Xt,cO,NI,II,Or,rFe],fZ),hZ=(n,e,t,r,i)=>{if(n!=null){var{scale:s,type:a}=n;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(XE(s));return o in _w?o:"point"}}},dB=le([is,Xt,q7,nO,Or],hZ);function sFe(n){if(n!=null){if(n in _w)return _w[n]();var e="scale".concat(XE(n));if(e in _w)return _w[e]()}}function pO(n,e,t,r){if(!(t==null||r==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(r);var i=sFe(e);if(i!=null){var s=i.domain(t).range(r);return aSe(s),s}}}var pZ=(n,e,t)=>{var r=dO(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&$d(n))return CIe(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&$d(n))return EIe(n,e.tickCount,e.allowDecimals)}},gO=le([hO,lB,dB],pZ),gZ=(n,e,t,r)=>{if(r!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&$d(e)&&Array.isArray(t)&&t.length>0){var i=e[0],s=t[0],a=e[1],o=t[t.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},aFe=le([is,hO,gO,Or],gZ),oFe=le(NI,is,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,r=Array.from(xu(n.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];t=Math.min(t,a)}return t/i}}),mZ=le(oFe,Xt,D7,ii,(n,e,t,r)=>r,(n,e,t,r,i)=>{if(!fr(n))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return n*s/2;if(i==="no-gap"){var a=No(t,n*s),o=n*s/2;return o-a-(o-a)/s*a}return 0}),AFe=(n,e)=>{var t=Qu(n,e);return t==null||typeof t.padding!="string"?0:mZ(n,"xAxis",e,t.padding)},lFe=(n,e)=>{var t=ku(n,e);return t==null||typeof t.padding!="string"?0:mZ(n,"yAxis",e,t.padding)},uFe=le(Qu,AFe,(n,e)=>{var t,r;if(n==null)return{left:0,right:0};var{padding:i}=n;return typeof i=="string"?{left:e,right:e}:{left:((t=i.left)!==null&&t!==void 0?t:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),cFe=le(ku,lFe,(n,e)=>{var t,r;if(n==null)return{top:0,bottom:0};var{padding:i}=n;return typeof i=="string"?{top:e,bottom:e}:{top:((t=i.top)!==null&&t!==void 0?t:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),dFe=le([ii,uFe,gI,pI,(n,e,t)=>t],(n,e,t,r,i)=>{var{padding:s}=r;return i?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),fFe=le([ii,Xt,cFe,gI,pI,(n,e,t)=>t],(n,e,t,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),fB=(n,e,t,r)=>{var i;switch(e){case"xAxis":return dFe(n,t,r);case"yAxis":return fFe(n,t,r);case"zAxis":return(i=lO(n,t))===null||i===void 0?void 0:i.range;case"angleAxis":return O7(n);case"radiusAxis":return H7(n,t);default:return}},vZ=le([is,fB],FI),Sy=le([is,dB,aFe,vZ],pO);le([uB,fO,Or],GIe);function yZ(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var LI=(n,e)=>e,QI=(n,e,t)=>t,hFe=le(fI,LI,QI,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(yZ)),pFe=le(hI,LI,QI,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(yZ)),wZ=(n,e)=>({width:n.width,height:e.height}),gFe=(n,e)=>{var t=typeof e.width=="number"?e.width:nB;return{width:t,height:n.height}},bZ=le(ii,Qu,wZ),mFe=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},vFe=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},yFe=le(Nu,ii,hFe,LI,QI,(n,e,t,r,i)=>{var s={},a;return t.forEach(o=>{var l=wZ(e,o);a==null&&(a=mFe(e,r,n));var u=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),wFe=le(Du,ii,pFe,LI,QI,(n,e,t,r,i)=>{var s={},a;return t.forEach(o=>{var l=gFe(e,o);a==null&&(a=vFe(e,r,n));var u=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),bFe=(n,e)=>{var t=Qu(n,e);if(t!=null)return yFe(n,t.orientation,t.mirror)},CFe=le([ii,Qu,bFe,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:n.left,y:0}:{x:n.left,y:i}}}),EFe=(n,e)=>{var t=ku(n,e);if(t!=null)return wFe(n,t.orientation,t.mirror)},BFe=le([ii,ku,EFe,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:0,y:n.top}:{x:i,y:n.top}}}),CZ=le(ii,ku,(n,e)=>{var t=typeof e.width=="number"?e.width:nB;return{width:t,height:n.height}}),B8=(n,e,t)=>{switch(e){case"xAxis":return bZ(n,t).width;case"yAxis":return CZ(n,t).height;default:return}},EZ=(n,e,t,r)=>{if(t!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=t,o=Ip(n,r),l=e.map(u=>u.value);if(a&&o&&s==="category"&&i&&E9(l))return l}},mO=le([Xt,NI,is,Or],EZ),BZ=(n,e,t,r)=>{if(!(t==null||t.dataKey==null)){var{type:i,scale:s}=t,a=Ip(n,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},vO=le([Xt,NI,lB,Or],BZ);le([Xt,NIe,dB,Sy,mO,vO,fB,gO,Or],(n,e,t,r,i,s,a,o,l)=>{if(e!=null){var u=Ip(n,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:o,range:a,realScaleType:t,scale:r}}});var SFe=(n,e,t,r,i,s,a,o,l)=>{if(!(e==null||r==null)){var u=Ip(n,l),{type:d,ticks:h,tickCount:g}=e,v=t==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,C=d==="category"&&r.bandwidth?r.bandwidth()/v:0;C=l==="angleAxis"&&s!=null&&s.length>=2?ua(s[0]-s[1])*2*C:C;var b=h||i;if(b){var B=b.map((S,I)=>{var T=a?a.indexOf(S):S;return{index:I,coordinate:r(T)+C,value:S,offset:C}});return B.filter(S=>fr(S.coordinate))}return u&&o?o.map((S,I)=>({coordinate:r(S)+C,value:S,index:I,offset:C})).filter(S=>fr(S.coordinate)):r.ticks?r.ticks(g).map(S=>({coordinate:r(S)+C,value:S,offset:C})):r.domain().map((S,I)=>({coordinate:r(S)+C,value:a?a[S]:S,index:I,offset:C}))}},SZ=le([Xt,lB,dB,Sy,gO,fB,mO,vO,Or],SFe),xFe=(n,e,t,r,i,s,a)=>{if(!(e==null||t==null||r==null||r[0]===r[1])){var o=Ip(n,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?ua(r[0]-r[1])*2*u:u,o&&s?s.map((d,h)=>({coordinate:t(d)+u,value:d,index:h,offset:u})):t.ticks?t.ticks(l).map(d=>({coordinate:t(d)+u,value:d,offset:u})):t.domain().map((d,h)=>({coordinate:t(d)+u,value:i?i[d]:d,index:h,offset:u}))}},ly=le([Xt,lB,Sy,fB,mO,vO,Or],xFe),uy=le(is,Sy,(n,e)=>{if(!(n==null||e==null))return JT(JT({},n),{},{scale:e})}),_Fe=le([is,dB,hO,vZ],pO);le((n,e,t)=>lO(n,t),_Fe,(n,e)=>{if(!(n==null||e==null))return JT(JT({},n),{},{scale:e})});var TFe=le([Xt,fI,hI],(n,e,t)=>{switch(n){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),xZ=n=>n.options.defaultTooltipEventType,_Z=n=>n.options.validateTooltipEventTypes;function TZ(n,e,t){if(n==null)return e;var r=n?"axis":"item";return t==null?e:t.includes(r)?r:e}function yO(n,e){var t=xZ(n),r=_Z(n);return TZ(e,t,r)}function IFe(n){return Je(e=>yO(e,n))}var IZ=(n,e)=>{var t,r=Number(e);if(!(FA(r)||e==null))return r>=0?n==null||(t=n[r])===null||t===void 0?void 0:t.value:void 0},FFe=n=>n.tooltip.settings,Bc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},MFe={itemInteraction:{click:Bc,hover:Bc},axisInteraction:{click:Bc,hover:Bc},keyboardInteraction:Bc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},FZ=Is({name:"tooltip",initialState:MFe,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:Ln()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:r}=e.payload,i=Do(n).tooltipItemPayloads.indexOf(t);i>-1&&(n.tooltipItemPayloads[i]=r)},prepare:Ln()},removeTooltipEntrySettings:{reducer(n,e){var t=Do(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:Ln()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:UFe,replaceTooltipEntrySettings:PFe,removeTooltipEntrySettings:RFe,setTooltipSettingsState:DFe,setActiveMouseOverItemIndex:MZ,mouseLeaveItem:NFe,mouseLeaveChart:UZ,setActiveClickItemIndex:LFe,setMouseOverAxisIndex:PZ,setMouseClickAxisIndex:QFe,setSyncInteraction:cQ,setKeyboardInteraction:dQ}=FZ.actions,kFe=FZ.reducer;function S8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Rx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(t),!0).forEach(function(r){OFe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function OFe(n,e,t){return(e=HFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HFe(n){var e=VFe(n,"string");return typeof e=="symbol"?e:e+""}function VFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KFe(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function GFe(n){return n.index!=null}var RZ=(n,e,t,r)=>{if(e==null)return Bc;var i=KFe(n,e,t);if(i==null)return Bc;if(i.active)return i;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(GFe(i)){if(s)return Rx(Rx({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Rx(Rx({},Bc),{},{coordinate:i.coordinate})};function zFe(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function qFe(n,e){var t=zFe(n),r=e[0],i=e[1];if(t===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return t>=s&&t<=a}function $Fe(n,e,t){if(t==null||e==null)return!0;var r=Oi(n,e);return r==null||!$d(t)?!0:qFe(r,t)}var wO=(n,e,t,r)=>{var i=n==null?void 0:n.index;if(i==null)return null;var s=Number(i);if(!fr(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||$Fe(u,t,r)?String(l):null},DZ=(n,e,t,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(t){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+n)/2,y:d.coordinate}}}},NZ=(n,e,t,r)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var i;return t==="hover"?i=n.itemInteraction.hover.dataKey:i=n.itemInteraction.click.dataKey,i==null&&r!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},hB=n=>n.options.tooltipPayloadSearcher,xy=n=>n.tooltip;function x8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(t),!0).forEach(function(r){jFe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):x8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jFe(n,e,t){return(e=WFe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WFe(n){var e=YFe(n,"string");return typeof e=="symbol"?e:e+""}function YFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function XFe(n,e){return n??e}var LZ=(n,e,t,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=t,h=[];return n.reduce((g,v)=>{var C,{dataDefinedOnItem:b,settings:B}=v,S=XFe(b,o),I=Array.isArray(S)?pJ(S,u,d):S,T=(C=B==null?void 0:B.dataKey)!==null&&C!==void 0?C:r,D=B==null?void 0:B.nameKey,U;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&a==="axis"?U=GCe(I,r,i):U=s(I,e,l,D),Array.isArray(U))U.forEach(Q=>{var H=_8(_8({},B),{},{name:Q.name,unit:Q.unit,color:void 0,fill:void 0});g.push(W5({tooltipEntrySettings:H,dataKey:Q.dataKey,payload:Q.payload,value:Oi(Q.payload,Q.dataKey),name:Q.name}))});else{var R;g.push(W5({tooltipEntrySettings:B,dataKey:T,payload:U,value:Oi(U,T),name:(R=Oi(U,D))!==null&&R!==void 0?R:B==null?void 0:B.name}))}return g},h)}},bO=le([Vr,Xt,q7,nO,Hr],hZ),JFe=le([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),ZFe=le([Hr,Ey],$7),pB=le([JFe,Vr,ZFe],j7,{memoizeOptions:{resultEqualityCheck:DI}}),eMe=le([pB],n=>n.filter(PI)),tMe=le([pB],X7,{memoizeOptions:{resultEqualityCheck:DI}}),_y=le([tMe,Zd],J7),nMe=le([eMe,Zd,Vr],K7),CO=le([_y,Vr,pB],Z7),QZ=le([Vr],dO),rMe=le([Vr],n=>n.allowDataOverflow),kZ=le([QZ,rMe],w7),iMe=le([pB],n=>n.filter(PI)),sMe=le([nMe,iMe,II,N7],tZ),aMe=le([sMe,Zd,Hr,kZ],nZ),oMe=le([pB],Y7),AMe=le([_y,Vr,oMe,fO,Hr],sZ,{memoizeOptions:{resultEqualityCheck:RI}}),lMe=le([aZ,Hr,Ey],By),uMe=le([lMe,Hr],lZ),cMe=le([oZ,Hr,Ey],By),dMe=le([cMe,Hr],uZ),fMe=le([AZ,Hr,Ey],By),hMe=le([fMe,Hr],cZ),pMe=le([uMe,hMe,dMe],ZT),gMe=le([Vr,QZ,kZ,aMe,AMe,pMe,Xt,Hr],dZ),gB=le([Vr,Xt,_y,CO,II,Hr,gMe],fZ),mMe=le([gB,Vr,bO],pZ),vMe=le([Vr,gB,mMe,Hr],gZ),OZ=n=>{var e=Hr(n),t=Ey(n),r=!1;return fB(n,e,t,r)},HZ=le([Vr,OZ],FI),VZ=le([Vr,bO,vMe,HZ],pO),yMe=le([Xt,CO,Vr,Hr],EZ),wMe=le([Xt,CO,Vr,Hr],BZ),bMe=(n,e,t,r,i,s,a,o)=>{if(e){var{type:l}=e,u=Ip(n,o);if(r){var d=t==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ua(i[0]-i[1])*2*h:h,u&&a?a.map((g,v)=>({coordinate:r(g)+h,value:g,index:v,offset:h})):r.domain().map((g,v)=>({coordinate:r(g)+h,value:s?s[g]:g,index:v,offset:h}))}}},Ou=le([Xt,Vr,bO,VZ,OZ,yMe,wMe,Hr],bMe),EO=le([xZ,_Z,FFe],(n,e,t)=>TZ(t.shared,n,e)),KZ=n=>n.tooltip.settings.trigger,BO=n=>n.tooltip.settings.defaultIndex,mB=le([xy,EO,KZ,BO],RZ),cy=le([mB,_y,cB,gB],wO),GZ=le([Ou,cy],IZ),zZ=le([mB],n=>{if(n)return n.dataKey});le([mB],n=>{if(n)return n.graphicalItemId});var qZ=le([xy,EO,KZ,BO],NZ),CMe=le([Du,Nu,Xt,ii,Ou,BO,qZ,hB],DZ),EMe=le([mB,CMe],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),BMe=le([mB],n=>n.active),SMe=le([qZ,cy,Zd,cB,GZ,hB,EO],LZ);le([SMe],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function T8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function I8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(t),!0).forEach(function(r){xMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xMe(n,e,t){return(e=_Me(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _Me(n){var e=TMe(n,"string");return typeof e=="symbol"?e:e+""}function TMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var IMe=()=>Je(Vr),FMe=()=>{var n=IMe(),e=Je(Ou),t=Je(VZ);return PT(!n||!t?void 0:I8(I8({},n),{},{scale:t}),e)};function F8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(t),!0).forEach(function(r){MMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function MMe(n,e,t){return(e=UMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UMe(n){var e=PMe(n,"string");return typeof e=="symbol"?e:e+""}function PMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var RMe=(n,e,t,r)=>{var i=e.find(s=>s&&s.index===t);if(i){if(n==="horizontal")return{x:i.coordinate,y:r.chartY};if(n==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},DMe=(n,e,t,r)=>{var i=e.find(u=>u&&u.index===t);if(i){if(n==="centric"){var s=i.coordinate,{radius:a}=r;return wg(wg(wg({},r),Bi(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return wg(wg(wg({},r),Bi(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function NMe(n,e){var{chartX:t,chartY:r}=n;return t>=e.left&&t<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var $Z=(n,e,t,r,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||n==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?t[l-1].coordinate:t[o-1].coordinate,d=t[l].coordinate,h=l>=o-1?t[0].coordinate:t[l+1].coordinate,g=void 0;if(ua(d-u)!==ua(h-d)){var v=[];if(ua(h-d)===ua(i[1]-i[0])){g=h;var C=d+i[1]-i[0];v[0]=Math.min(C,(C+u)/2),v[1]=Math.max(C,(C+u)/2)}else{g=u;var b=h+i[1]-i[0];v[0]=Math.min(d,(b+d)/2),v[1]=Math.max(d,(b+d)/2)}var B=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(n>B[0]&&n<=B[1]||n>=v[0]&&n<=v[1]){({index:a}=t[l]);break}}else{var S=Math.min(u,h),I=Math.max(u,h);if(n>(S+d)/2&&n<=(I+d)/2){({index:a}=t[l]);break}}}else if(e){for(var T=0;T<o;T++)if(T===0&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T===o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2){({index:a}=e[T]);break}}return a},LMe=()=>Je(nO),SO=(n,e)=>e,jZ=(n,e,t)=>t,xO=(n,e,t,r)=>r,QMe=le(Ou,n=>iI(n,e=>e.coordinate)),_O=le([xy,SO,jZ,xO],RZ),TO=le([_O,_y,cB,gB],wO),kMe=(n,e,t)=>{if(e!=null){var r=xy(n);return e==="axis"?t==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:t==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},WZ=le([xy,SO,jZ,xO],NZ),e1=le([Du,Nu,Xt,ii,Ou,xO,WZ,hB],DZ),OMe=le([_O,e1],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),YZ=le([Ou,TO],IZ),HMe=le([WZ,TO,Zd,cB,YZ,hB,SO],LZ),VMe=le([_O,TO],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),KMe=(n,e,t,r,i,s,a)=>{if(!(!n||!t||!r||!i)&&NMe(n,a)){var o=mSe(n,e),l=$Z(o,s,i,t,r),u=RMe(e,i,l,n);return{activeIndex:String(l),activeCoordinate:u}}},GMe=(n,e,t,r,i,s,a)=>{if(!(!n||!r||!i||!s||!t)){var o=T_e(n,t);if(o){var l=vSe(o,e),u=$Z(l,a,s,r,i),d=DMe(e,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},zMe=(n,e,t,r,i,s,a,o)=>{if(!(!n||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?KMe(n,e,r,i,s,a,o):GMe(n,e,t,r,i,s,a)},qMe=le(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var r=n[e];if(r!=null)return t?r.panoramaElementId:r.elementId}}),$Me=le(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(r=>parseInt(r,10)).concat(Object.values(Ts)),t=Array.from(new Set(e));return t.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:MIe}});function M8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function U8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(t),!0).forEach(function(r){jMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jMe(n,e,t){return(e=WMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WMe(n){var e=YMe(n,"string");return typeof e=="symbol"?e:e+""}function YMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var XMe={},JMe={zIndexMap:Object.values(Ts).reduce((n,e)=>U8(U8({},n),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),XMe)},ZMe=new Set(Object.values(Ts));function eUe(n){return ZMe.has(n)}var XZ=Is({name:"zIndex",initialState:JMe,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ln()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!eUe(t)&&delete n.zIndexMap[t])},prepare:Ln()},registerZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t,elementId:r,isPanorama:i}=e.payload;n.zIndexMap[t]?i?n.zIndexMap[t].panoramaElementId=r:n.zIndexMap[t].elementId=r:n.zIndexMap[t]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Ln()},unregisterZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElementId=void 0:n.zIndexMap[t].elementId=void 0)},prepare:Ln()}}}),{registerZIndexPortal:tUe,unregisterZIndexPortal:nUe,registerZIndexPortalId:rUe,unregisterZIndexPortalId:iUe}=XZ.actions,sUe=XZ.reducer;function ef(n){var{zIndex:e,children:t}=n,r=exe(),i=r&&e!==void 0&&e!==0,s=ga(),a=hr();F.useLayoutEffect(()=>i?(a(tUe({zIndex:e})),()=>{a(nUe({zIndex:e}))}):JE,[a,e,i]);var o=Je(u=>qMe(u,e,s));if(!i)return t;if(!o)return null;var l=document.getElementById(o);return l?nj.createPortal(t,l):null}function fQ(){return fQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fQ.apply(null,arguments)}function P8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Dx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(t),!0).forEach(function(r){aUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function aUe(n,e,t){return(e=oUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oUe(n){var e=AUe(n,"string");return typeof e=="symbol"?e:e+""}function AUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function lUe(n){var{cursor:e,cursorComp:t,cursorProps:r}=n;return F.isValidElement(e)?F.cloneElement(e,r):F.createElement(t,r)}function uUe(n){var e,{coordinate:t,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:d}=n,h=t,g=r,v=i;if(!l||!h||d!=="ScatterChart"&&u!=="axis")return null;var C,b,B;if(d==="ScatterChart")C=h,b=Vxe,B=Ts.cursorLine;else if(d==="BarChart")C=Kxe(o,h,s,a),b=DJ,B=Ts.cursorRectangle;else if(o==="radial"&&x9(h)){var{cx:S,cy:I,radius:T,startAngle:D,endAngle:U}=NJ(h);C={cx:S,cy:I,startAngle:D,endAngle:U,innerRadius:T,outerRadius:T},b=QJ,B=Ts.cursorLine}else C={points:U_e(o,h,s)},b=FJ,B=Ts.cursorLine;var R=typeof l=="object"&&"className"in l?l.className:void 0,Q=Dx(Dx(Dx(Dx({stroke:"#ccc",pointerEvents:"none"},s),C),ak(l)),{},{payload:g,payloadIndex:v,className:Mn("recharts-tooltip-cursor",R)});return F.createElement(ef,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:B},F.createElement(lUe,{cursor:l,cursorComp:b,cursorProps:Q}))}function cUe(n){var e=FMe(),t=XSe(),r=vI(),i=LMe();return e==null||t==null||r==null||i==null?null:F.createElement(uUe,fQ({},n,{offset:t,layout:r,tooltipAxisBandSize:e,chartName:i}))}var JZ=F.createContext(null),dUe=()=>F.useContext(JZ),aR={exports:{}},R8;function fUe(){return R8||(R8=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,h||l,g),C=t?t+u:u;return l._events[C]?l._events[C].fn?l._events[C]=[l._events[C],v]:l._events[C].push(v):(l._events[C]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=t?t+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,C=new Array(v);g<v;g++)C[g]=h[g].fn;return C},o.prototype.listenerCount=function(u){var d=t?t+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,g,v,C){var b=t?t+u:u;if(!this._events[b])return!1;var B=this._events[b],S=arguments.length,I,T;if(B.fn){switch(B.once&&this.removeListener(u,B.fn,void 0,!0),S){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,d),!0;case 3:return B.fn.call(B.context,d,h),!0;case 4:return B.fn.call(B.context,d,h,g),!0;case 5:return B.fn.call(B.context,d,h,g,v),!0;case 6:return B.fn.call(B.context,d,h,g,v,C),!0}for(T=1,I=new Array(S-1);T<S;T++)I[T-1]=arguments[T];B.fn.apply(B.context,I)}else{var D=B.length,U;for(T=0;T<D;T++)switch(B[T].once&&this.removeListener(u,B[T].fn,void 0,!0),S){case 1:B[T].fn.call(B[T].context);break;case 2:B[T].fn.call(B[T].context,d);break;case 3:B[T].fn.call(B[T].context,d,h);break;case 4:B[T].fn.call(B[T].context,d,h,g);break;default:if(!I)for(U=1,I=new Array(S-1);U<S;U++)I[U-1]=arguments[U];B[T].fn.apply(B[T].context,I)}}return!0},o.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,g){var v=t?t+u:u;if(!this._events[v])return this;if(!d)return a(this,v),this;var C=this._events[v];if(C.fn)C.fn===d&&(!g||C.once)&&(!h||C.context===h)&&a(this,v);else{for(var b=0,B=[],S=C.length;b<S;b++)(C[b].fn!==d||g&&!C[b].once||h&&C[b].context!==h)&&B.push(C[b]);B.length?this._events[v]=B.length===1?B[0]:B:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(aR)),aR.exports}var hUe=fUe();const pUe=DA(hUe);var ub=new pUe,hQ="recharts.syncEvent.tooltip",D8="recharts.syncEvent.brush";function gUe(n,e){if(e){var t=Number.parseInt(e,10);if(!FA(t))return n==null?void 0:n[t]}}var mUe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ZZ=Is({name:"options",initialState:mUe,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vUe=ZZ.reducer,{createEventEmitter:yUe}=ZZ.actions;function wUe(n){return n.tooltip.syncInteraction}var bUe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},eee=Is({name:"chartData",initialState:bUe,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:r}=e.payload;t!=null&&(n.dataStartIndex=t),r!=null&&(n.dataEndIndex=r)}}}),{setChartData:N8,setDataStartEndIndexes:CUe,setComputedData:ZQe}=eee.actions,EUe=eee.reducer,BUe=["x","y"];function L8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function bg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(t),!0).forEach(function(r){SUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):L8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function SUe(n,e,t){return(e=xUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xUe(n){var e=_Ue(n,"string");return typeof e=="symbol"?e:e+""}function _Ue(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TUe(n,e){if(n==null)return{};var t,r,i=IUe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function IUe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function FUe(){var n=Je(rO),e=Je(iO),t=hr(),r=Je(L7),i=Je(Ou),s=vI(),a=mI(),o=Je(l=>l.rootProps.className);F.useEffect(()=>{if(n==null)return JE;var l=(u,d,h)=>{if(e!==h&&n===u){if(r==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x:C,y:b}=v,B=TUe(v,BUe),{x:S,y:I,width:T,height:D}=d.payload.sourceViewBox,U=bg(bg({},B),{},{x:a.x+(T?(C-S)/T:0)*a.width,y:a.y+(D?(b-I)/D:0)*a.height});t(bg(bg({},d),{},{payload:bg(bg({},d.payload),{},{coordinate:U})}))}else t(d);return}if(i!=null){var R;if(typeof r=="function"){var Q={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},H=r(i,Q);R=i[H]}else r==="value"&&(R=i.find(V=>String(V.value)===d.payload.label));var{coordinate:k}=d.payload;if(R==null||d.payload.active===!1||k==null||a==null){t(cQ({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:K}=k,z=Math.min(G,a.x+a.width),Z=Math.min(K,a.y+a.height),Y={x:s==="horizontal"?R.coordinate:z,y:s==="horizontal"?Z:R.coordinate},ve=cQ({active:d.payload.active,coordinate:Y,dataKey:d.payload.dataKey,index:String(R.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});t(ve)}}};return ub.on(hQ,l),()=>{ub.off(hQ,l)}},[o,t,e,n,r,i,s,a])}function MUe(){var n=Je(rO),e=Je(iO),t=hr();F.useEffect(()=>{if(n==null)return JE;var r=(i,s,a)=>{e!==a&&n===i&&t(CUe(s))};return ub.on(D8,r),()=>{ub.off(D8,r)}},[t,e,n])}function UUe(){var n=hr();F.useEffect(()=>{n(yUe())},[n]),FUe(),MUe()}function PUe(n,e,t,r,i,s){var a=Je(v=>kMe(v,n,e)),o=Je(iO),l=Je(rO),u=Je(L7),d=Je(wUe),h=d==null?void 0:d.active,g=mI();F.useEffect(()=>{if(!h&&l!=null&&o!=null){var v=cQ({active:s,coordinate:t,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});ub.emit(hQ,l,v,o)}},[h,t,a,i,r,o,l,u,s,g])}function Q8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function k8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(t),!0).forEach(function(r){RUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Q8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function RUe(n,e,t){return(e=DUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function DUe(n){var e=NUe(n,"string");return typeof e=="symbol"?e:e+""}function NUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function LUe(n){return n.dataKey}function QUe(n,e){return F.isValidElement(n)?F.cloneElement(n,e):typeof n=="function"?F.createElement(n,e):F.createElement(bxe,e)}var O8=[],kUe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function OUe(n){var e,t,r=oo(n,kUe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:g,position:v,reverseDirection:C,useTranslate3d:b,wrapperStyle:B,cursor:S,shared:I,trigger:T,defaultIndex:D,portal:U,axisId:R}=r,Q=hr(),H=typeof D=="number"?String(D):D;F.useEffect(()=>{Q(DFe({shared:I,trigger:T,axisId:R,active:i,defaultIndex:H}))},[Q,I,T,R,i,H]);var k=mI(),G=IJ(),K=IFe(I),{activeIndex:z,isActive:Z}=(e=Je(ce=>VMe(ce,K,T,H)))!==null&&e!==void 0?e:{},Y=Je(ce=>HMe(ce,K,T,H)),ve=Je(ce=>YZ(ce,K,T,H)),V=Je(ce=>OMe(ce,K,T,H)),j=Y,se=dUe(),pe=(t=i??Z)!==null&&t!==void 0?t:!1,[Ee,q]=tBe([j,pe]),ee=K==="axis"?ve:void 0;PUe(K,T,V,ee,z,pe);var oe=U??se;if(oe==null||k==null||K==null)return null;var Ce=j??O8;pe||(Ce=O8),u&&Ce.length&&(Ce=_Ee(Ce.filter(ce=>ce.value!=null&&(ce.hide!==!0||r.includeHidden)),g,LUe));var ie=Ce.length>0,ue=F.createElement(Txe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:pe,coordinate:V,hasPayload:ie,offset:h,position:v,reverseDirection:C,useTranslate3d:b,viewBox:k,wrapperStyle:B,lastBoundingBox:Ee,innerRef:q,hasPortalFromProps:!!U},QUe(l,k8(k8({},r),{},{payload:Ce,label:ee,active:pe,activeIndex:z,coordinate:V,accessibilityLayer:G})));return F.createElement(F.Fragment,null,nj.createPortal(ue,oe),pe&&F.createElement(cUe,{cursor:S,tooltipEventType:K,coordinate:V,payload:Ce,index:z}))}var IO=n=>null;IO.displayName="Cell";function HUe(n,e,t){return(e=VUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VUe(n){var e=KUe(n,"string");return typeof e=="symbol"?e:e+""}function KUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class GUe{constructor(e){HUe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function H8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function zUe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H8(Object(t),!0).forEach(function(r){qUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qUe(n,e,t){return(e=$Ue(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $Ue(n){var e=jUe(n,"string");return typeof e=="symbol"?e:e+""}function jUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var WUe={cacheSize:2e3,enableCache:!0},tee=zUe({},WUe),V8=new GUe(tee.cacheSize),YUe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K8="recharts_measurement_span";function XUe(n,e){var t=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var G8=(n,e)=>{try{var t=document.getElementById(K8);t||(t=document.createElement("span"),t.setAttribute("id",K8),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,YUe,e),t.textContent="".concat(n);var r=t.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Qw=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||iB.isSsr)return{width:0,height:0};if(!tee.enableCache)return G8(e,t);var r=XUe(e,t),i=V8.get(r);if(i)return i;var s=G8(e,t);return V8.set(r,s),s},z8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JUe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ZUe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ePe=Object.keys(nee),Hg="NaN";function tPe(n,e){return n*nee[e]}class Bs{static parse(e){var t,[,r,i]=(t=ZUe.exec(e))!==null&&t!==void 0?t:[];return new Bs(parseFloat(r),i??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,FA(e)&&(this.unit=""),t!==""&&!JUe.test(t)&&(this.num=NaN,this.unit=""),ePe.includes(t)&&(this.num=tPe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Bs(NaN,""):new Bs(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Bs(NaN,""):new Bs(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Bs(NaN,""):new Bs(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Bs(NaN,""):new Bs(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return FA(this.num)}}function ree(n){if(n.includes(Hg))return Hg;for(var e=n;e.includes("*")||e.includes("/");){var t,[,r,i,s]=(t=z8.exec(e))!==null&&t!==void 0?t:[],a=Bs.parse(r??""),o=Bs.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return Hg;e=e.replace(z8,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,g]=(u=q8.exec(e))!==null&&u!==void 0?u:[],v=Bs.parse(d??""),C=Bs.parse(g??""),b=h==="+"?v.add(C):v.subtract(C);if(b.isNaN())return Hg;e=e.replace(q8,b.toString())}return e}var $8=/\(([^()]*)\)/;function nPe(n){for(var e=n,t;(t=$8.exec(e))!=null;){var[,r]=t;e=e.replace($8,ree(r))}return e}function rPe(n){var e=n.replace(/\s+/g,"");return e=nPe(e),e=ree(e),e}function iPe(n){try{return rPe(n)}catch{return Hg}}function oR(n){var e=iPe(n.slice(5,-1));return e===Hg?"":e}var sPe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],aPe=["dx","dy","angle","className","breakAll"];function pQ(){return pQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pQ.apply(null,arguments)}function j8(n,e){if(n==null)return{};var t,r,i=oPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function oPe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var iee=/[ \f\n\r\t\v\u2028\u2029]+/,see=n=>{var{children:e,breakAll:t,style:r}=n;try{var i=[];ri(e)||(t?i=e.toString().split(""):i=e.toString().split(iee));var s=i.map(o=>({word:o,width:Qw(o,r).width})),a=t?0:Qw("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function APe(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var aee=(n,e,t,r)=>n.reduce((i,s)=>{var{word:a,width:o}=s,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+t<Number(e)))l.words.push(a),l.width+=o+t;else{var u={words:[a],width:o};i.push(u)}return i},[]),oee=n=>n.reduce((e,t)=>e.width>t.width?e:t),lPe="",W8=(n,e,t,r,i,s,a,o)=>{var l=n.slice(0,e),u=see({breakAll:t,style:r,children:l+lPe});if(!u)return[!1,[]];var d=aee(u.wordsWithComputedWidth,s,a,o),h=d.length>i||oee(d).width>Number(s);return[h,d]},uPe=(n,e,t,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=n,u=et(s),d=String(a),h=aee(e,r,t,i);if(!u||i)return h;var g=h.length>s||oee(h).width>Number(r);if(!g)return h;for(var v=0,C=d.length-1,b=0,B;v<=C&&b<=d.length-1;){var S=Math.floor((v+C)/2),I=S-1,[T,D]=W8(d,I,l,o,s,r,t,i),[U]=W8(d,S,l,o,s,r,t,i);if(!T&&!U&&(v=S+1),T&&U&&(C=S-1),!T&&U){B=D;break}b++}return B||h},Y8=n=>{var e=ri(n)?[]:n.toString().split(iee);return[{words:e,width:void 0}]},cPe=n=>{var{width:e,scaleToFit:t,children:r,style:i,breakAll:s,maxLines:a}=n;if((e||t)&&!iB.isSsr){var o,l,u=see({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,l=h}else return Y8(r);return uPe({breakAll:s,children:r,maxLines:a,style:i},o,l,e,!!t)}return Y8(r)},Aee="#808080",dPe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Aee,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},FO=F.forwardRef((n,e)=>{var t=oo(n,dPe),{x:r,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=t,h=j8(t,sPe),g=F.useMemo(()=>cPe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:C,angle:b,className:B,breakAll:S}=h,I=j8(h,aPe);if(!MA(r)||!MA(i)||g.length===0)return null;var T=Number(r)+(et(v)?v:0),D=Number(i)+(et(C)?C:0);if(!fr(T)||!fr(D))return null;var U;switch(d){case"start":U=oR("calc(".concat(a,")"));break;case"middle":U=oR("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:U=oR("calc(".concat(g.length-1," * -").concat(s,")"));break}var R=[];if(l){var Q=g[0].width,{width:H}=h;R.push("scale(".concat(et(H)&&et(Q)?H/Q:1,")"))}return b&&R.push("rotate(".concat(b,", ").concat(T,", ").concat(D,")")),R.length&&(I.transform=R.join(" ")),F.createElement("text",pQ({},io(I),{ref:e,x:T,y:D,className:Mn("recharts-text",B),textAnchor:u,fill:o.includes("url")?Aee:o}),g.map((k,G)=>{var K=k.words.join(S?"":" ");return F.createElement("tspan",{x:T,dy:G===0?U:s,key:"".concat(K,"-").concat(G)},K)}))});FO.displayName="Text";var fPe=["labelRef"];function hPe(n,e){if(n==null)return{};var t,r,i=pPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function pPe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function X8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ar(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(t),!0).forEach(function(r){gPe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):X8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gPe(n,e,t){return(e=mPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mPe(n){var e=vPe(n,"string");return typeof e=="symbol"?e:e+""}function vPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function au(){return au=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},au.apply(null,arguments)}var lee=F.createContext(null),yPe=n=>{var{x:e,y:t,upperWidth:r,lowerWidth:i,width:s,height:a,children:o}=n,l=F.useMemo(()=>({x:e,y:t,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,t,r,i,s,a]);return F.createElement(lee.Provider,{value:l},o)},uee=()=>{var n=F.useContext(lee),e=mI();return n||bJ(e)},wPe=F.createContext(null),bPe=()=>{var n=F.useContext(wPe),e=Je(V7);return n||e},CPe=n=>{var{value:e,formatter:t}=n,r=ri(n.children)?e:n.children;return typeof t=="function"?t(r):r},MO=n=>n!=null&&typeof n=="function",EPe=(n,e)=>{var t=ua(e-n),r=Math.min(Math.abs(e-n),360);return t*r},BPe=(n,e,t,r,i)=>{var{offset:s,className:a}=n,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:h,endAngle:g,clockWise:v}=i,C=(u+d)/2,b=EPe(h,g),B=b>=0?1:-1,S,I;switch(e){case"insideStart":S=h+B*s,I=v;break;case"insideEnd":S=g-B*s,I=!v;break;case"end":S=g+B*s,I=v;break;default:throw new Error("Unsupported position ".concat(e))}I=b<=0?I:!I;var T=Bi(o,l,C,S),D=Bi(o,l,C,S+(I?1:-1)*359),U="M".concat(T.x,",").concat(T.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(I?0:1,`,
    `).concat(D.x,",").concat(D.y),R=ri(n.id)?Xw("recharts-radial-line-"):n.id;return F.createElement("text",au({},r,{dominantBaseline:"central",className:Mn("recharts-radial-bar-label",a)}),F.createElement("defs",null,F.createElement("path",{id:R,d:U})),F.createElement("textPath",{xlinkHref:"#".concat(R)},t))},SPe=(n,e,t)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=n,u=(o+l)/2;if(t==="outside"){var{x:d,y:h}=Bi(r,i,a+e,u);return{x:d,y:h,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:C}=Bi(r,i,g,u);return{x:v,y:C,textAnchor:"middle",verticalAnchor:"middle"}},gQ=n=>"cx"in n&&et(n.cx),xPe=(n,e)=>{var{parentViewBox:t,offset:r,position:i}=n,s;t!=null&&!gQ(t)&&(s=t);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:d}=e,h=a,g=a+(l-u)/2,v=(h+g)/2,C=(l+u)/2,b=h+l/2,B=d>=0?1:-1,S=B*r,I=B>0?"end":"start",T=B>0?"start":"end",D=l>=0?1:-1,U=D*r,R=D>0?"end":"start",Q=D>0?"start":"end";if(i==="top"){var H={x:h+l/2,y:o-S,textAnchor:"middle",verticalAnchor:I};return Ar(Ar({},H),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var k={x:g+u/2,y:o+d+S,textAnchor:"middle",verticalAnchor:T};return Ar(Ar({},k),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(i==="left"){var G={x:v-U,y:o+d/2,textAnchor:R,verticalAnchor:"middle"};return Ar(Ar({},G),s?{width:Math.max(G.x-s.x,0),height:d}:{})}if(i==="right"){var K={x:v+C+U,y:o+d/2,textAnchor:Q,verticalAnchor:"middle"};return Ar(Ar({},K),s?{width:Math.max(s.x+s.width-K.x,0),height:d}:{})}var z=s?{width:C,height:d}:{};return i==="insideLeft"?Ar({x:v+U,y:o+d/2,textAnchor:Q,verticalAnchor:"middle"},z):i==="insideRight"?Ar({x:v+C-U,y:o+d/2,textAnchor:R,verticalAnchor:"middle"},z):i==="insideTop"?Ar({x:h+l/2,y:o+S,textAnchor:"middle",verticalAnchor:T},z):i==="insideBottom"?Ar({x:g+u/2,y:o+d-S,textAnchor:"middle",verticalAnchor:I},z):i==="insideTopLeft"?Ar({x:h+U,y:o+S,textAnchor:Q,verticalAnchor:T},z):i==="insideTopRight"?Ar({x:h+l-U,y:o+S,textAnchor:R,verticalAnchor:T},z):i==="insideBottomLeft"?Ar({x:g+U,y:o+d-S,textAnchor:Q,verticalAnchor:I},z):i==="insideBottomRight"?Ar({x:g+u-U,y:o+d-S,textAnchor:R,verticalAnchor:I},z):i&&typeof i=="object"&&(et(i.x)||bu(i.x))&&(et(i.y)||bu(i.y))?Ar({x:a+No(i.x,C),y:o+No(i.y,d),textAnchor:"end",verticalAnchor:"end"},z):Ar({x:b,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},z)},_Pe={angle:0,offset:5,zIndex:Ts.label,position:"middle",textBreakAll:!1};function bc(n){var e=oo(n,_Pe),{viewBox:t,position:r,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=bPe(),h=uee(),g=r==="center"?h:d??h,v,C,b;if(t==null?v=g:gQ(t)?v=t:v=bJ(t),!v||ri(i)&&ri(s)&&!F.isValidElement(a)&&typeof a!="function")return null;var B=Ar(Ar({},e),{},{viewBox:v});if(F.isValidElement(a)){var{labelRef:S}=B,I=hPe(B,fPe);return F.cloneElement(a,I)}if(typeof a=="function"){if(C=F.createElement(a,B),F.isValidElement(C))return C}else C=CPe(e);var T=io(e);if(gQ(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return BPe(e,r,C,T,v);b=SPe(v,e.offset,e.position)}else b=xPe(e,v);return F.createElement(ef,{zIndex:e.zIndex},F.createElement(FO,au({ref:u,className:Mn("recharts-label",o)},T,b,{textAnchor:APe(T.textAnchor)?T.textAnchor:b.textAnchor,breakAll:l}),C))}bc.displayName="Label";var TPe=(n,e,t)=>{if(!n)return null;var r={viewBox:e,labelRef:t};return n===!0?F.createElement(bc,au({key:"label-implicit"},r)):MA(n)?F.createElement(bc,au({key:"label-implicit",value:n},r)):F.isValidElement(n)?n.type===bc?F.cloneElement(n,Ar({key:"label-implicit"},r)):F.createElement(bc,au({key:"label-implicit",content:n},r)):MO(n)?F.createElement(bc,au({key:"label-implicit",content:n},r)):n&&typeof n=="object"?F.createElement(bc,au({},n,{key:"label-implicit"},r)):null};function IPe(n){var{label:e,labelRef:t}=n,r=uee();return TPe(e,r,t)||null}var AR={},lR={},J8;function FPe(){return J8||(J8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(lR)),lR}var uR={},Z8;function MPe(){return Z8||(Z8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(uR)),uR}var e$;function UPe(){return e$||(e$=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=FPe(),t=MPe(),r=hk();function i(s){if(r.isArrayLike(s))return e.last(t.toArray(s))}n.last=i})(AR)),AR}var cR,t$;function PPe(){return t$||(t$=1,cR=UPe().last),cR}var RPe=PPe();const DPe=DA(RPe);var NPe=["valueAccessor"],LPe=["dataKey","clockWise","id","textBreakAll","zIndex"];function t1(){return t1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},t1.apply(null,arguments)}function n$(n,e){if(n==null)return{};var t,r,i=QPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function QPe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var kPe=n=>Array.isArray(n.value)?DPe(n.value):n.value,cee=F.createContext(void 0),OPe=cee.Provider,dee=F.createContext(void 0);dee.Provider;function HPe(){return F.useContext(cee)}function VPe(){return F.useContext(dee)}function z_(n){var{valueAccessor:e=kPe}=n,t=n$(n,NPe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:o}=t,l=n$(t,LPe),u=HPe(),d=VPe(),h=u||d;return!h||!h.length?null:F.createElement(ef,{zIndex:o??Ts.label},F.createElement(wu,{className:"recharts-label-list"},h.map((g,v)=>{var C,b=ri(r)?e(g,v):Oi(g&&g.payload,r),B=ri(s)?{}:{id:"".concat(s,"-").concat(v)};return F.createElement(bc,t1({key:"label-".concat(v)},io(g),l,B,{fill:(C=t.fill)!==null&&C!==void 0?C:g.fill,parentViewBox:g.parentViewBox,value:b,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}z_.displayName="LabelList";function KPe(n){var{label:e}=n;return e?e===!0?F.createElement(z_,{key:"labelList-implicit"}):F.isValidElement(e)||MO(e)?F.createElement(z_,{key:"labelList-implicit",content:e}):typeof e=="object"?F.createElement(z_,t1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var GPe={radiusAxis:{},angleAxis:{}},fee=Is({name:"polarAxis",initialState:GPe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:eke,removeRadiusAxis:tke,addAngleAxis:nke,removeAngleAxis:rke}=fee.actions,zPe=fee.reducer,dR={exports:{}},nn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r$;function qPe(){if(r$)return nn;r$=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function C(b){if(typeof b=="object"&&b!==null){var B=b.$$typeof;switch(B){case n:switch(b=b.type,b){case t:case i:case r:case l:case u:case g:return b;default:switch(b=b&&b.$$typeof,b){case a:case o:case h:case d:return b;case s:return b;default:return B}}case e:return B}}}return nn.ContextConsumer=s,nn.ContextProvider=a,nn.Element=n,nn.ForwardRef=o,nn.Fragment=t,nn.Lazy=h,nn.Memo=d,nn.Portal=e,nn.Profiler=i,nn.StrictMode=r,nn.Suspense=l,nn.SuspenseList=u,nn.isContextConsumer=function(b){return C(b)===s},nn.isContextProvider=function(b){return C(b)===a},nn.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===n},nn.isForwardRef=function(b){return C(b)===o},nn.isFragment=function(b){return C(b)===t},nn.isLazy=function(b){return C(b)===h},nn.isMemo=function(b){return C(b)===d},nn.isPortal=function(b){return C(b)===e},nn.isProfiler=function(b){return C(b)===i},nn.isStrictMode=function(b){return C(b)===r},nn.isSuspense=function(b){return C(b)===l},nn.isSuspenseList=function(b){return C(b)===u},nn.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===t||b===i||b===r||b===l||b===u||typeof b=="object"&&b!==null&&(b.$$typeof===h||b.$$typeof===d||b.$$typeof===a||b.$$typeof===s||b.$$typeof===o||b.$$typeof===v||b.getModuleId!==void 0)},nn.typeOf=C,nn}var i$;function $Pe(){return i$||(i$=1,dR.exports=qPe()),dR.exports}var jPe=$Pe(),s$=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",a$=null,fR=null,hee=n=>{if(n===a$&&Array.isArray(fR))return fR;var e=[];return F.Children.forEach(n,t=>{ri(t)||(jPe.isFragment(t)?e=e.concat(hee(t.props.children)):e.push(t))}),fR=e,a$=n,e};function WPe(n,e){var t=[],r=[];return Array.isArray(e)?r=e.map(i=>s$(i)):r=[s$(e)],hee(n).forEach(i=>{var s=ny(i,"type.displayName")||ny(i,"type.name");s&&r.indexOf(s)!==-1&&t.push(i)}),t}var hR={},o$;function YPe(){return o$||(o$=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var i;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const s=t[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&i.writable)?!1:t.toString()===`[object ${s}]`}let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}n.isPlainObject=e})(hR)),hR}var pR,A$;function XPe(){return A$||(A$=1,pR=YPe().isPlainObject),pR}var JPe=XPe();const ZPe=DA(JPe);function l$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function u$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?l$(Object(t),!0).forEach(function(r){eRe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function eRe(n,e,t){return(e=tRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tRe(n){var e=nRe(n,"string");return typeof e=="symbol"?e:e+""}function nRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function n1(){return n1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},n1.apply(null,arguments)}var c$=(n,e,t,r,i)=>{var s=t-r,a;return a="M ".concat(n,",").concat(e),a+="L ".concat(n+t,",").concat(e),a+="L ".concat(n+t-s/2,",").concat(e+i),a+="L ".concat(n+t-s/2-r,",").concat(e+i),a+="L ".concat(n,",").concat(e," Z"),a},rRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iRe=n=>{var e=oo(n,rRe),{x:t,y:r,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,g=F.useRef(null),[v,C]=F.useState(-1),b=F.useRef(i),B=F.useRef(s),S=F.useRef(a),I=F.useRef(t),T=F.useRef(r),D=Ik(n,"trapezoid-");if(F.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var Y=g.current.getTotalLength();Y&&C(Y)}catch{}},[]),t!==+t||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var U=Mn("recharts-trapezoid",o);if(!h)return F.createElement("g",null,F.createElement("path",n1({},io(e),{className:U,d:c$(t,r,i,s,a)})));var R=b.current,Q=B.current,H=S.current,k=I.current,G=T.current,K="0px ".concat(v===-1?1:v,"px"),z="".concat(v,"px 0px"),Z=MJ(["strokeDasharray"],u,l);return F.createElement(Tk,{animationId:D,key:D,canBegin:v>0,duration:u,easing:l,isActive:h,begin:d},Y=>{var ve=wi(R,i,Y),V=wi(Q,s,Y),j=wi(H,a,Y),se=wi(k,t,Y),pe=wi(G,r,Y);g.current&&(b.current=ve,B.current=V,S.current=j,I.current=se,T.current=pe);var Ee=Y>0?{transition:Z,strokeDasharray:z}:{strokeDasharray:K};return F.createElement("path",n1({},io(e),{className:U,d:c$(se,pe,ve,V,j),ref:g,style:u$(u$({},Ee),e.style)}))})},sRe=["option","shapeType","propTransformer","activeClassName"];function aRe(n,e){if(n==null)return{};var t,r,i=oRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function oRe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function d$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function r1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(t),!0).forEach(function(r){ARe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ARe(n,e,t){return(e=lRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lRe(n){var e=uRe(n,"string");return typeof e=="symbol"?e:e+""}function uRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cRe(n,e){return r1(r1({},e),n)}function dRe(n,e){return n==="symbols"}function f$(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return F.createElement(DJ,t);case"trapezoid":return F.createElement(iRe,t);case"sector":return F.createElement(QJ,t);case"symbols":if(dRe(e))return F.createElement(S9,t);break;case"curve":return F.createElement(FJ,t);default:return null}}function fRe(n){return F.isValidElement(n)?n.props:n}function hRe(n){var{option:e,shapeType:t,propTransformer:r=cRe,activeClassName:i="recharts-active-shape"}=n,s=aRe(n,sRe),a;if(F.isValidElement(e))a=F.cloneElement(e,r1(r1({},s),fRe(e)));else if(typeof e=="function")a=e(s,s.index);else if(ZPe(e)&&typeof e!="boolean"){var o=r(e,s);a=F.createElement(f$,{shapeType:t,elementProps:o})}else{var l=s;a=F.createElement(f$,{shapeType:t,elementProps:l})}return s.isActive?F.createElement(wu,{className:i},a):a}var pee=(n,e,t)=>{var r=hr();return(i,s)=>a=>{n==null||n(i,s,a),r(MZ({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}},gee=n=>{var e=hr();return(t,r)=>i=>{n==null||n(t,r,i),e(NFe())}},mee=(n,e,t)=>{var r=hr();return(i,s)=>a=>{n==null||n(i,s,a),r(LFe({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}};function pRe(n){var{tooltipEntrySettings:e}=n,t=hr(),r=ga(),i=F.useRef(null);return F.useLayoutEffect(()=>{r||(i.current===null?t(UFe(e)):i.current!==e&&t(PFe({prev:i.current,next:e})),i.current=e)},[e,t,r]),F.useLayoutEffect(()=>()=>{i.current&&(t(RFe(i.current)),i.current=null)},[t]),null}function gRe(n){var{legendPayload:e}=n,t=hr(),r=ga(),i=F.useRef(null);return F.useLayoutEffect(()=>{r||(i.current===null?t(fxe(e)):i.current!==e&&t(hxe({prev:i.current,next:e})),i.current=e)},[t,r,e]),F.useLayoutEffect(()=>()=>{i.current&&(t(pxe(i.current)),i.current=null)},[t]),null}var gR,mRe=()=>{var[n]=F.useState(()=>Xw("uid-"));return n},vRe=(gR=rre.useId)!==null&&gR!==void 0?gR:mRe;function vee(n,e){var t=vRe();return e||(n?"".concat(n,"-").concat(t):t)}var yRe=F.createContext(void 0),wRe=n=>{var{id:e,type:t,children:r}=n,i=vee("recharts-".concat(t),e);return F.createElement(yRe.Provider,{value:i},r(i))},bRe={cartesianItems:[],polarItems:[]},yee=Is({name:"graphicalItems",initialState:bRe,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:Ln()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:r}=e.payload,i=Do(n).cartesianItems.indexOf(t);i>-1&&(n.cartesianItems[i]=r)},prepare:Ln()},removeCartesianGraphicalItem:{reducer(n,e){var t=Do(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:Ln()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:Ln()},removePolarGraphicalItem:{reducer(n,e){var t=Do(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:Ln()}}}),{addCartesianGraphicalItem:CRe,replaceCartesianGraphicalItem:ERe,removeCartesianGraphicalItem:BRe,addPolarGraphicalItem:ike,removePolarGraphicalItem:ske}=yee.actions,SRe=yee.reducer,xRe=n=>{var e=hr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(CRe(n)):t.current!==n&&e(ERe({prev:t.current,next:n})),t.current=n},[e,n]),F.useLayoutEffect(()=>()=>{t.current&&(e(BRe(t.current)),t.current=null)},[e]),null},_Re=F.memo(xRe);function h$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function p$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(t),!0).forEach(function(r){TRe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function TRe(n,e,t){return(e=IRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IRe(n){var e=FRe(n,"string");return typeof e=="symbol"?e:e+""}function FRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var MRe={xAxis:{},yAxis:{},zAxis:{}},wee=Is({name:"cartesianAxis",initialState:MRe,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:Ln()},replaceXAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.xAxis[t.id],n.xAxis[r.id]=r)},prepare:Ln()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:Ln()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:Ln()},replaceYAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.yAxis[t.id],n.yAxis[r.id]=r)},prepare:Ln()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:Ln()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:Ln()},replaceZAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.zAxis[t.id],n.zAxis[r.id]=r)},prepare:Ln()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:Ln()},updateYAxisWidth(n,e){var{id:t,width:r}=e.payload,i=n.yAxis[t];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);n.yAxis[t]=p$(p$({},n.yAxis[t]),{},{width:r,widthHistory:a})}}}}),{addXAxis:URe,replaceXAxis:PRe,removeXAxis:RRe,addYAxis:DRe,replaceYAxis:NRe,removeYAxis:LRe,addZAxis:ake,replaceZAxis:oke,removeZAxis:Ake,updateYAxisWidth:QRe}=wee.actions,kRe=wee.reducer,ORe=le([ii],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),HRe=le([ORe,Du,Nu],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),bee=()=>Je(HRe),VRe="Invariant failed";function KRe(n,e){throw new Error(VRe)}var GRe=["x","y"];function mQ(){return mQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mQ.apply(null,arguments)}function g$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function G0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g$(Object(t),!0).forEach(function(r){zRe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zRe(n,e,t){return(e=qRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qRe(n){var e=$Re(n,"string");return typeof e=="symbol"?e:e+""}function $Re(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jRe(n,e){if(n==null)return{};var t,r,i=WRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function WRe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function YRe(n,e){var{x:t,y:r}=n,i=jRe(n,GRe),s="".concat(t),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),g=parseInt(h,10);return G0(G0(G0(G0(G0({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function i1(n){return F.createElement(hRe,mQ({shapeType:"rectangle",propTransformer:YRe,activeClassName:"recharts-active-bar"},n))}var XRe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(et(e))return e;var s=et(r)||ri(r);return s?e(r,i):(s||KRe(),t)}},JRe={},Cee=Is({name:"errorBars",initialState:JRe,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]||(n[t]=[]),n[t].push(r)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:r,next:i}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]&&(n[t]=n[t].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:lke,replaceErrorBar:uke,removeErrorBar:cke}=Cee.actions,ZRe=Cee.reducer,eDe=["children"];function tDe(n,e){if(n==null)return{};var t,r,i=nDe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function nDe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var rDe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},iDe=F.createContext(rDe);function sDe(n){var{children:e}=n,t=tDe(n,eDe);return F.createElement(iDe.Provider,{value:t},e)}function Eee(n,e){var t,r,i=Je(u=>Qu(u,n)),s=Je(u=>ku(u,e)),a=(t=i==null?void 0:i.allowDataOverflow)!==null&&t!==void 0?t:qr.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:$r.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function aDe(n){var{xAxisId:e,yAxisId:t,clipPathId:r}=n,i=bee(),{needClipX:s,needClipY:a,needClip:o}=Eee(e,t);if(!o||!i)return null;var{x:l,y:u,width:d,height:h}=i;return F.createElement("clipPath",{id:"clipPath-".concat(r)},F.createElement("rect",{x:s?l:l-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}function oDe(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&fr(n.zIndex)?n.zIndex:e}var mR={exports:{}},vR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m$;function ADe(){if(m$)return vR;m$=1;var n=hy();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,s=n.useEffect,a=n.useMemo,o=n.useDebugValue;return vR.useSyncExternalStoreWithSelector=function(l,u,d,h,g){var v=i(null);if(v.current===null){var C={hasValue:!1,value:null};v.current=C}else C=v.current;v=a(function(){function B(U){if(!S){if(S=!0,I=U,U=h(U),g!==void 0&&C.hasValue){var R=C.value;if(g(R,U))return T=R}return T=U}if(R=T,t(I,U))return R;var Q=h(U);return g!==void 0&&g(R,Q)?(I=U,R):(I=U,T=Q)}var S=!1,I,T,D=d===void 0?null:d;return[function(){return B(u())},D===null?void 0:function(){return B(D())}]},[u,d,h,g]);var b=r(l,v[0],v[1]);return s(function(){C.hasValue=!0,C.value=b},[b]),o(b),b},vR}var v$;function lDe(){return v$||(v$=1,mR.exports=ADe()),mR.exports}lDe();function uDe(n){n()}function cDe(){let n=null,e=null;return{clear(){n=null,e=null},notify(){uDe(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var y$={notify(){},get:()=>[]};function dDe(n,e){let t,r=y$,i=0,s=!1;function a(b){d();const B=r.subscribe(b);let S=!1;return()=>{S||(S=!0,B(),h())}}function o(){r.notify()}function l(){C.onStateChange&&C.onStateChange()}function u(){return s}function d(){i++,t||(t=n.subscribe(l),r=cDe())}function h(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=y$)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,h())}const C={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return C}var fDe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hDe=fDe(),pDe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gDe=pDe(),mDe=()=>hDe||gDe?F.useLayoutEffect:F.useEffect,vDe=mDe();function w$(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function yDe(n,e){if(w$(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!w$(n[t[i]],e[t[i]]))return!1;return!0}var yR=Symbol.for("react-redux-context"),wR=typeof globalThis<"u"?globalThis:{};function wDe(){if(!F.createContext)return{};const n=wR[yR]??(wR[yR]=new Map);let e=n.get(F.createContext);return e||(e=F.createContext(null),n.set(F.createContext,e)),e}var bDe=wDe();function CDe(n){const{children:e,context:t,serverState:r,store:i}=n,s=F.useMemo(()=>{const l=dDe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=F.useMemo(()=>i.getState(),[i]);vDe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=t||bDe;return F.createElement(o.Provider,{value:s},e)}var EDe=CDe,BDe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function SDe(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function UO(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var r of t)if(BDe.has(r)){if(n[r]==null&&e[r]==null)continue;if(!yDe(n[r],e[r]))return!1}else if(!SDe(n[r],e[r]))return!1;return!0}var xDe=["onMouseEnter","onMouseLeave","onClick"],_De=["value","background","tooltipPosition"],TDe=["id"],IDe=["onMouseEnter","onClick","onMouseLeave"];function _u(){return _u=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_u.apply(null,arguments)}function b$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Zi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b$(Object(t),!0).forEach(function(r){FDe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function FDe(n,e,t){return(e=MDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MDe(n){var e=UDe(n,"string");return typeof e=="symbol"?e:e+""}function UDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function s1(n,e){if(n==null)return{};var t,r,i=PDe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function PDe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var RDe=n=>{var{dataKey:e,name:t,fill:r,legendType:i,hide:s}=n;return[{inactive:s,dataKey:e,type:i,color:r,value:gJ(t,e),payload:n}]},DDe=F.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:r,fill:i,name:s,hide:a,unit:o,tooltipType:l}=n,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:gJ(s,e),hide:a,type:l,color:i,unit:o}};return F.createElement(pRe,{tooltipEntrySettings:u})});function NDe(n){var e=Je(cy),{data:t,dataKey:r,background:i,allOtherBarProps:s}=n,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,u=s1(s,xDe),d=pee(a,r),h=gee(o),g=mee(l,r);if(!i||t==null)return null;var v=ak(i);return F.createElement(ef,{zIndex:oDe(i,Ts.barBackground)},t.map((C,b)=>{var{value:B,background:S,tooltipPosition:I}=C,T=s1(C,_De);if(!S)return null;var D=d(C,b),U=h(C,b),R=g(C,b),Q=Zi(Zi(Zi(Zi(Zi({option:i,isActive:String(b)===e},T),{},{fill:"#eee"},S),v),fk(u,C,b)),{},{onMouseEnter:D,onMouseLeave:U,onClick:R,dataKey:r,index:b,className:"recharts-bar-background-rectangle"});return F.createElement(i1,_u({key:"background-bar-".concat(b)},Q))}))}function LDe(n){var{showLabels:e,children:t,rects:r}=n,i=r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Zi(Zi({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return F.createElement(OPe,{value:e?i:void 0},t)}function QDe(n){var{shape:e,activeBar:t,baseProps:r,entry:i,index:s,dataKey:a}=n,o=Je(cy),l=Je(zZ),u=t&&String(s)===o&&(l==null||a===l),d=u?t:e;return u?F.createElement(ef,{zIndex:Ts.activeBar},F.createElement(i1,_u({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))):F.createElement(i1,_u({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))}function kDe(n){var{shape:e,baseProps:t,entry:r,index:i,dataKey:s}=n;return F.createElement(i1,_u({},t,{name:String(t.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function ODe(n){var e,{data:t,props:r}=n,i=(e=zd(r))!==null&&e!==void 0?e:{},{id:s}=i,a=s1(i,TDe),{shape:o,dataKey:l,activeBar:u}=r,{onMouseEnter:d,onClick:h,onMouseLeave:g}=r,v=s1(r,IDe),C=pee(d,l),b=gee(g),B=mee(h,l);return t?F.createElement(F.Fragment,null,t.map((S,I)=>F.createElement(wu,_u({key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(I),className:"recharts-bar-rectangle"},fk(v,S,I),{onMouseEnter:C(S,I),onMouseLeave:b(S,I),onClick:B(S,I)}),u?F.createElement(QDe,{shape:o,activeBar:u,baseProps:a,entry:S,index:I,dataKey:l}):F.createElement(kDe,{shape:o,baseProps:a,entry:S,index:I,dataKey:l})))):null}function HDe(n){var{props:e,previousRectanglesRef:t}=n,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=e,h=t.current,g=Ik(e,"recharts-bar-"),[v,C]=F.useState(!1),b=!v,B=F.useCallback(()=>{typeof u=="function"&&u(),C(!1)},[u]),S=F.useCallback(()=>{typeof d=="function"&&d(),C(!0)},[d]);return F.createElement(LDe,{showLabels:b,rects:r},F.createElement(Tk,{animationId:g,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:B,onAnimationStart:S,key:g},I=>{var T=I===1?r:r==null?void 0:r.map((D,U)=>{var R=h&&h[U];if(R)return Zi(Zi({},D),{},{x:wi(R.x,D.x,I),y:wi(R.y,D.y,I),width:wi(R.width,D.width,I),height:wi(R.height,D.height,I)});if(i==="horizontal"){var Q=wi(0,D.height,I),H=wi(D.stackedBarStart,D.y,I);return Zi(Zi({},D),{},{y:H,height:Q})}var k=wi(0,D.width,I),G=wi(D.stackedBarStart,D.x,I);return Zi(Zi({},D),{},{width:k,x:G})});return I>0&&(t.current=T??null),T==null?null:F.createElement(wu,null,F.createElement(ODe,{props:e,data:T}))}),F.createElement(KPe,{label:e.label}),e.children)}function VDe(n){var e=F.useRef(null);return F.createElement(HDe,{previousRectanglesRef:e,props:n})}var Bee=0,KDe=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:Oi(n,e)}};class GDe extends F.PureComponent{render(){var{hide:e,data:t,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:o,background:l,id:u}=this.props;if(e||t==null)return null;var d=Mn("recharts-bar",i),h=u;return F.createElement(wu,{className:d,id:u},o&&F.createElement("defs",null,F.createElement(aDe,{clipPathId:h,xAxisId:s,yAxisId:a})),F.createElement(wu,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},F.createElement(NDe,{data:t,dataKey:r,background:l,allOtherBarProps:this.props}),F.createElement(VDe,this.props)))}}var zDe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Bee,xAxisId:0,yAxisId:0,zIndex:Ts.bar};function qDe(n){var{xAxisId:e,yAxisId:t,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=n,{needClip:h}=Eee(e,t),g=vI(),v=ga(),C=WPe(n.children,IO),b=Je(I=>wNe(I,e,t,v,n.id,C));if(g!=="vertical"&&g!=="horizontal")return null;var B,S=b==null?void 0:b[0];return S==null||S.height==null||S.width==null?B=0:B=g==="vertical"?S.height/2:S.width/2,F.createElement(sDe,{xAxisId:e,yAxisId:t,data:b,dataPointFormatter:KDe,errorBarOffset:B},F.createElement(GDe,_u({},n,{layout:g,needClip:h,data:b,xAxisId:e,yAxisId:t,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function $De(n){var{layout:e,barSettings:{dataKey:t,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:h,offset:g,cells:v,parentViewBox:C,dataStartIndex:b}=n,B=e==="horizontal"?o:a,S=d?B.scale.domain():null,I=fSe({numericAxis:B}),T=B.scale(I);return h.map((D,U)=>{var R,Q,H,k,G,K;d?R=oSe(d[U+b],S):(R=Oi(D,t),Array.isArray(R)||(R=[I,R]));var z=XRe(r,Bee)(R[1],U);if(e==="horizontal"){var Z,[Y,ve]=[o.scale(R[0]),o.scale(R[1])];Q=q5({axis:a,ticks:l,bandSize:s,offset:i.offset,entry:D,index:U}),H=(Z=ve??Y)!==null&&Z!==void 0?Z:void 0,k=i.size;var V=Y-ve;if(G=FA(V)?0:V,K={x:Q,y:g.top,width:k,height:g.height},Math.abs(z)>0&&Math.abs(G)<Math.abs(z)){var j=ua(G||z)*(Math.abs(z)-Math.abs(G));H-=j,G+=j}}else{var[se,pe]=[a.scale(R[0]),a.scale(R[1])];if(Q=se,H=q5({axis:o,ticks:u,bandSize:s,offset:i.offset,entry:D,index:U}),k=pe-se,G=i.size,K={x:g.left,y:H,width:g.width,height:G},Math.abs(z)>0&&Math.abs(k)<Math.abs(z)){var Ee=ua(k||z)*(Math.abs(z)-Math.abs(k));k+=Ee}}if(Q==null||H==null||k==null||G==null)return null;var q=Zi(Zi({},D),{},{stackedBarStart:T,x:Q,y:H,width:k,height:G,value:d?R:R[1],payload:D,background:K,tooltipPosition:{x:Q+k/2,y:H+G/2},parentViewBox:C},v&&v[U]&&v[U].props);return q}).filter(Boolean)}function jDe(n){var e=oo(n,zDe),t=ga();return F.createElement(wRe,{id:e.id,type:"bar"},r=>F.createElement(F.Fragment,null,F.createElement(gRe,{legendPayload:RDe(e)}),F.createElement(DDe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),F.createElement(_Re,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:dSe(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),F.createElement(ef,{zIndex:e.zIndex},F.createElement(qDe,_u({},e,{id:r})))))}var See=F.memo(jDe,UO);See.displayName="Bar";function C$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Nx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C$(Object(t),!0).forEach(function(r){WDe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function WDe(n,e,t){return(e=YDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YDe(n){var e=XDe(n,"string");return typeof e=="symbol"?e:e+""}function XDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var JDe=(n,e)=>e,ZDe=(n,e,t)=>t,eNe=(n,e,t,r)=>r,tNe=(n,e,t,r,i)=>i,vB=le([uO,tNe],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),nNe=le([vB],n=>n==null?void 0:n.maxBarSize),rNe=(n,e,t,r,i,s)=>s,E$=(n,e,t)=>{var r=t??n;if(!ri(r))return No(r,e,0)},iNe=le([Xt,uO,JDe,ZDe,eNe],(n,e,t,r,i)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),sNe=(n,e,t,r)=>{var i=Xt(n);return i==="horizontal"?uQ(n,"yAxis",t,r):uQ(n,"xAxis",e,r)},aNe=(n,e,t)=>{var r=Xt(n);return r==="horizontal"?B8(n,"xAxis",e):B8(n,"yAxis",t)},oNe=(n,e,t)=>{var r={},i=n.filter(PI),s=n.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),o=Object.entries(a).map(u=>{var[d,h]=u,g=h.map(C=>C.dataKey),v=E$(e,t,h[0].barSize);return{stackId:d,dataKeys:g,barSize:v}}),l=s.map(u=>{var d=[u.dataKey].filter(g=>g!=null),h=E$(e,t,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...l]},ANe=le([iNe,SIe,aNe],oNe),lNe=(n,e,t,r,i)=>{var s,a,o=vB(n,e,t,r,i);if(o!=null){var l=Xt(n),u=R7(n),{maxBarSize:d}=o,h=ri(d)?u:d,g,v;return l==="horizontal"?(g=uy(n,"xAxis",e,r),v=ly(n,"xAxis",e,r)):(g=uy(n,"yAxis",t,r),v=ly(n,"yAxis",t,r)),(s=(a=PT(g,v,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0}},xee=(n,e,t,r)=>{var i=Xt(n),s,a;return i==="horizontal"?(s=uy(n,"xAxis",e,r),a=ly(n,"xAxis",e,r)):(s=uy(n,"yAxis",t,r),a=ly(n,"yAxis",t,r)),PT(s,a)};function uNe(n,e,t,r,i){var s=r.length;if(!(s<1)){var a=No(n,t,0,!0),o,l=[];if(fr(r[0].barSize)){var u=!1,d=t/s,h=r.reduce((S,I)=>S+(I.barSize||0),0);h+=(s-1)*a,h>=t&&(h-=(s-1)*a,a=0),h>=t&&d>0&&(u=!0,d*=.9,h=s*d);var g=(t-h)/2>>0,v={offset:g-a,size:0};o=r.reduce((S,I)=>{var T,D={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:v.offset+v.size+a,size:u?d:(T=I.barSize)!==null&&T!==void 0?T:0}},U=[...S,D];return v=U[U.length-1].position,U},l)}else{var C=No(e,t,0,!0);t-2*C-(s-1)*a<=0&&(a=0);var b=(t-2*C-(s-1)*a)/s;b>1&&(b>>=0);var B=fr(i)?Math.min(b,i):b;o=r.reduce((S,I,T)=>[...S,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:C+(b+a)*T+(b-B)/2,size:B}}],l)}return o}}var cNe=(n,e,t,r,i,s,a)=>{var o=ri(a)?e:a,l=uNe(t,r,i!==s?i:s,n,o);return i!==s&&l!=null&&(l=l.map(u=>Nx(Nx({},u),{},{position:Nx(Nx({},u.position),{},{offset:u.position.offset-i/2})}))),l},dNe=le([ANe,R7,BIe,D7,lNe,xee,nNe],cNe),fNe=(n,e,t,r)=>uy(n,"xAxis",e,r),hNe=(n,e,t,r)=>uy(n,"yAxis",t,r),pNe=(n,e,t,r)=>ly(n,"xAxis",e,r),gNe=(n,e,t,r)=>ly(n,"yAxis",t,r),mNe=le([dNe,vB],(n,e)=>{if(!(n==null||e==null)){var t=n.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),vNe=(n,e)=>{var t=AO(e);if(!(!n||t==null||e==null)){var{stackId:r}=e;if(r!=null){var i=n[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===t)}}}},yNe=le([sNe,vB],vNe),wNe=le([ii,Bk,fNe,hNe,pNe,gNe,mNe,Xt,Zk,xee,yNe,vB,rNe],(n,e,t,r,i,s,a,o,l,u,d,h,g)=>{var{chartData:v,dataStartIndex:C,dataEndIndex:b}=l;if(!(h==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||t==null||r==null||i==null||s==null||u==null)){var{data:B}=h,S;if(B!=null&&B.length>0?S=B:S=v==null?void 0:v.slice(C,b+1),S!=null)return $De({layout:o,barSettings:h,pos:a,parentViewBox:e,bandSize:u,xAxis:t,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:S,offset:n,cells:g,dataStartIndex:C})}}),bNe=n=>{var{chartData:e}=n,t=hr(),r=ga();return F.useEffect(()=>r?()=>{}:(t(N8(e)),()=>{t(N8(void 0))}),[e,t,r]),null},B$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_ee=Is({name:"brush",initialState:B$,reducers:{setBrushSettings(n,e){return e.payload==null?B$:e.payload}}}),{setBrushSettings:dke}=_ee.actions,CNe=_ee.reducer;function ENe(n,e,t){return(e=BNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BNe(n){var e=SNe(n,"string");return typeof e=="symbol"?e:e+""}function SNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class PO{static create(e){return new PO(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],i=t[t.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}ENe(PO,"EPS",1e-4);function xNe(n){return(n%180+180)%180}var _Ne=function(e){var{width:t,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=xNe(i),a=s*Math.PI/180,o=Math.atan(r/t),l=a>o&&a<Math.PI-o?r/Math.sin(a):t/Math.cos(a);return Math.abs(l)},TNe={dots:[],areas:[],lines:[]},Tee=Is({name:"referenceElements",initialState:TNe,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=Do(n).dots.findIndex(r=>r===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=Do(n).areas.findIndex(r=>r===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=Do(n).lines.findIndex(r=>r===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:fke,removeDot:hke,addArea:pke,removeArea:gke,addLine:mke,removeLine:vke}=Tee.actions,INe=Tee.reducer,FNe=F.createContext(void 0),MNe=n=>{var{children:e}=n,[t]=F.useState("".concat(Xw("recharts"),"-clip")),r=bee();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return F.createElement(FNe.Provider,{value:t},F.createElement("defs",null,F.createElement("clipPath",{id:t},F.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function Iee(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],r=0;r<n.length;r+=e)t.push(n[r]);return t}function UNe(n,e,t){var r={width:n.width+e.width,height:n.height+e.height};return _Ne(r,t)}function PNe(n,e,t){var r=t==="width",{x:i,y:s,width:a,height:o}=n;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function a1(n,e,t,r,i){if(n*e<n*r||n*e>n*i)return!1;var s=t();return n*(e-n*s/2-r)>=0&&n*(e+n*s/2-i)<=0}function RNe(n,e){return Iee(n,e+1)}function DNe(n,e,t,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,h=function(){var C=r==null?void 0:r[l];if(C===void 0)return{v:Iee(r,u)};var b=l,B,S=()=>(B===void 0&&(B=t(C,b)),B),I=C.coordinate,T=l===0||a1(n,I,S,d,o);T||(l=0,d=a,u+=1),T&&(d=I+n*(S()/2+i),l+=u)},g;u<=s.length;)if(g=h(),g)return g.v;return[]}function S$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Li(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S$(Object(t),!0).forEach(function(r){NNe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function NNe(n,e,t){return(e=LNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LNe(n){var e=QNe(n,"string");return typeof e=="symbol"?e:e+""}function QNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kNe(n,e,t,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(g){var v=s[g],C,b=()=>(C===void 0&&(C=t(v,g)),C);if(g===a-1){var B=n*(v.coordinate+n*b()/2-l);s[g]=v=Li(Li({},v),{},{tickCoord:B>0?v.coordinate-B*n:v.coordinate})}else s[g]=v=Li(Li({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var S=a1(n,v.tickCoord,b,o,l);S&&(l=v.tickCoord-n*(b()/2+i),s[g]=Li(Li({},v),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function ONe(n,e,t,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var d=r[o-1],h=t(d,o-1),g=n*(d.coordinate+n*h/2-u);if(a[o-1]=d=Li(Li({},d),{},{tickCoord:g>0?d.coordinate-g*n:d.coordinate}),d.tickCoord!=null){var v=a1(n,d.tickCoord,()=>h,l,u);v&&(u=d.tickCoord-n*(h/2+i),a[o-1]=Li(Li({},d),{},{isShow:!0}))}}for(var C=s?o-1:o,b=function(I){var T=a[I],D,U=()=>(D===void 0&&(D=t(T,I)),D);if(I===0){var R=n*(T.coordinate-n*U()/2-l);a[I]=T=Li(Li({},T),{},{tickCoord:R<0?T.coordinate-R*n:T.coordinate})}else a[I]=T=Li(Li({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var Q=a1(n,T.tickCoord,U,l,u);Q&&(l=T.tickCoord+n*(U()/2+i),a[I]=Li(Li({},T),{},{isShow:!0}))}},B=0;B<C;B++)b(B);return a}function HNe(n,e,t){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:h}=n;if(!i||!i.length||!r)return[];if(et(l)||iB.isSsr){var g;return(g=RNe(i,et(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],C=o==="top"||o==="bottom"?"width":"height",b=d&&C==="width"?Qw(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},B=(T,D)=>{var U=typeof u=="function"?u(T.value,D):T.value;return C==="width"?UNe(Qw(U,{fontSize:e,letterSpacing:t}),b,h):Qw(U,{fontSize:e,letterSpacing:t})[C]},S=i.length>=2?ua(i[1].coordinate-i[0].coordinate):1,I=PNe(s,S,C);return l==="equidistantPreserveStart"?DNe(S,I,B,i,a):(l==="preserveStart"||l==="preserveStartEnd"?v=ONe(S,I,B,i,a,l==="preserveStartEnd"):v=kNe(S,I,B,i,a),v.filter(T=>T.isShow))}var VNe=n=>{var{ticks:e,label:t,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=n,a=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=t?t.getBoundingClientRect().width:0,l=i+s,u=a+l+o+(t?r:0);return Math.round(u)}return 0},KNe=["axisLine","width","height","className","hide","ticks","axisType"];function GNe(n,e){if(n==null)return{};var t,r,i=zNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function zNe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Ep(){return Ep=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ep.apply(null,arguments)}function x$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Br(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x$(Object(t),!0).forEach(function(r){qNe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):x$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qNe(n,e,t){return(e=$Ne(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $Ne(n){var e=jNe(n,"string");return typeof e=="symbol"?e:e+""}function jNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var gp={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ts.axis};function WNe(n){var{x:e,y:t,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=n;if(!o)return null;var u=Br(Br(Br({},l),zd(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=Br(Br({},u),{},{x1:e,y1:t+d*i,x2:e+r,y2:t+d*i})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=Br(Br({},u),{},{x1:e+h*r,y1:t,x2:e+h*r,y2:t+i})}return F.createElement("line",Ep({},u,{className:Mn("recharts-cartesian-axis-line",ny(o,"className"))}))}function YNe(n,e,t,r,i,s,a,o,l){var u,d,h,g,v,C,b=o?-1:1,B=n.tickSize||a,S=et(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":u=d=n.coordinate,g=t+ +!o*i,h=g-b*B,C=h-b*l,v=S;break;case"left":h=g=n.coordinate,d=e+ +!o*r,u=d-b*B,v=u-b*l,C=S;break;case"right":h=g=n.coordinate,d=e+ +o*r,u=d+b*B,v=u+b*l,C=S;break;default:u=d=n.coordinate,g=t+ +o*i,h=g+b*B,C=h+b*l,v=S;break}return{line:{x1:u,y1:h,x2:d,y2:g},tick:{x:v,y:C}}}function XNe(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function JNe(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ZNe(n){var{option:e,tickProps:t,value:r}=n,i,s=Mn(t.className,"recharts-cartesian-axis-tick-value");if(F.isValidElement(e))i=F.cloneElement(e,Br(Br({},t),{},{className:s}));else if(typeof e=="function")i=e(Br(Br({},t),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Mn(a,e==null?void 0:e.className)),i=F.createElement(FO,Ep({},t,{className:a}),r)}return i}var eLe=F.forwardRef((n,e)=>{var{ticks:t=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:h,x:g,y:v,width:C,height:b,tickSize:B,tickMargin:S,fontSize:I,letterSpacing:T,getTicksConfig:D,events:U,axisType:R}=n,Q=HNe(Br(Br({},D),{},{ticks:t}),I,T),H=XNe(d,h),k=JNe(d,h),G=zd(D),K=ak(r),z={};typeof i=="object"&&(z=i);var Z=Br(Br({},G),{},{fill:"none"},z),Y=Q.map(j=>Br({entry:j},YNe(j,g,v,C,b,d,B,h,S))),ve=Y.map(j=>{var{entry:se,line:pe}=j;return F.createElement(wu,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},i&&F.createElement("line",Ep({},Z,pe,{className:Mn("recharts-cartesian-axis-tick-line",ny(i,"className"))})))}),V=Y.map((j,se)=>{var{entry:pe,tick:Ee}=j,q=Br(Br(Br(Br({textAnchor:H,verticalAnchor:k},G),{},{stroke:"none",fill:s},K),Ee),{},{index:se,payload:pe,visibleTicksCount:Q.length,tickFormatter:a,padding:l},u);return F.createElement(wu,Ep({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(pe.value,"-").concat(pe.coordinate,"-").concat(pe.tickCoord)},fk(U,pe,se)),r&&F.createElement(ZNe,{option:r,tickProps:q,value:"".concat(typeof a=="function"?a(pe.value,se):pe.value).concat(o||"")}))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},V.length>0&&F.createElement(ef,{zIndex:Ts.label},F.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:e},V)),ve.length>0&&F.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},ve))}),tLe=F.forwardRef((n,e)=>{var{axisLine:t,width:r,height:i,className:s,hide:a,ticks:o,axisType:l}=n,u=GNe(n,KNe),[d,h]=F.useState(""),[g,v]=F.useState(""),C=F.useRef(null);F.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var B;return VNe({ticks:C.current,label:(B=n.labelRef)===null||B===void 0?void 0:B.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var b=F.useCallback(B=>{if(B){var S=B.getElementsByClassName("recharts-cartesian-axis-tick-value");C.current=S;var I=S[0];if(I){var T=window.getComputedStyle(I),D=T.fontSize,U=T.letterSpacing;(D!==d||U!==g)&&(h(D),v(U))}}},[d,g]);return a||r!=null&&r<=0||i!=null&&i<=0?null:F.createElement(ef,{zIndex:n.zIndex},F.createElement(wu,{className:Mn("recharts-cartesian-axis",s)},F.createElement(WNe,{x:n.x,y:n.y,width:r,height:i,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:zd(n)}),F.createElement(eLe,{ref:b,axisType:l,events:u,fontSize:d,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:o,unit:n.unit,width:n.width,x:n.x,y:n.y}),F.createElement(yPe,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},F.createElement(IPe,{label:n.label,labelRef:n.labelRef}),n.children)))}),RO=F.forwardRef((n,e)=>{var t=oo(n,gp);return F.createElement(tLe,Ep({},t,{ref:e}))});RO.displayName="CartesianAxis";var nLe=["domain","range"],rLe=["domain","range"];function _$(n,e){if(n==null)return{};var t,r,i=iLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function iLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function T$(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function Fee(n,e){if(n===e)return!0;var{domain:t,range:r}=n,i=_$(n,nLe),{domain:s,range:a}=e,o=_$(e,rLe);return!T$(t,s)||!T$(r,a)?!1:UO(i,o)}var sLe=["dangerouslySetInnerHTML","ticks"],aLe=["id"];function vQ(){return vQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vQ.apply(null,arguments)}function I$(n,e){if(n==null)return{};var t,r,i=oLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function oLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function ALe(n){var e=hr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(URe(n)):t.current!==n&&e(PRe({prev:t.current,next:n})),t.current=n},[n,e]),F.useLayoutEffect(()=>()=>{t.current&&(e(RRe(t.current)),t.current=null)},[e]),null}var lLe=n=>{var{xAxisId:e,className:t}=n,r=Je(Bk),i=ga(),s="xAxis",a=Je(B=>Sy(B,s,e,i)),o=Je(B=>SZ(B,s,e,i)),l=Je(B=>bZ(B,e)),u=Je(B=>CFe(B,e)),d=Je(B=>G7(B,e));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=n,v=I$(n,sLe),{id:C}=d,b=I$(d,aLe);return F.createElement(RO,vQ({},v,b,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:Mn("recharts-".concat(s," ").concat(s),t),viewBox:r,ticks:o,axisType:s}))},uLe={allowDataOverflow:qr.allowDataOverflow,allowDecimals:qr.allowDecimals,allowDuplicatedCategory:qr.allowDuplicatedCategory,angle:qr.angle,axisLine:gp.axisLine,height:qr.height,hide:!1,includeHidden:qr.includeHidden,interval:qr.interval,minTickGap:qr.minTickGap,mirror:qr.mirror,orientation:qr.orientation,padding:qr.padding,reversed:qr.reversed,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,tickLine:gp.tickLine,tickSize:gp.tickSize,type:qr.type,xAxisId:0},cLe=n=>{var e=oo(n,uLe);return F.createElement(F.Fragment,null,F.createElement(ALe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),F.createElement(lLe,e))},Mee=F.memo(cLe,Fee);Mee.displayName="XAxis";var dLe=["dangerouslySetInnerHTML","ticks"],fLe=["id"];function yQ(){return yQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yQ.apply(null,arguments)}function F$(n,e){if(n==null)return{};var t,r,i=hLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function hLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function pLe(n){var e=hr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(DRe(n)):t.current!==n&&e(NRe({prev:t.current,next:n})),t.current=n},[n,e]),F.useLayoutEffect(()=>()=>{t.current&&(e(LRe(t.current)),t.current=null)},[e]),null}var gLe=n=>{var{yAxisId:e,className:t,width:r,label:i}=n,s=F.useRef(null),a=F.useRef(null),o=Je(Bk),l=ga(),u=hr(),d="yAxis",h=Je(U=>Sy(U,d,e,l)),g=Je(U=>CZ(U,e)),v=Je(U=>BFe(U,e)),C=Je(U=>SZ(U,d,e,l)),b=Je(U=>z7(U,e));if(F.useLayoutEffect(()=>{if(!(r!=="auto"||!g||MO(i)||F.isValidElement(i)||b==null)){var U=s.current;if(U){var R=U.getCalculatedWidth();Math.round(g.width)!==Math.round(R)&&u(QRe({id:e,width:R}))}}},[C,g,u,i,e,r,b]),g==null||v==null||b==null)return null;var{dangerouslySetInnerHTML:B,ticks:S}=n,I=F$(n,dLe),{id:T}=b,D=F$(b,fLe);return F.createElement(RO,yQ({},I,D,{ref:s,labelRef:a,scale:h,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Mn("recharts-".concat(d," ").concat(d),t),viewBox:o,ticks:C,axisType:d}))},mLe={allowDataOverflow:$r.allowDataOverflow,allowDecimals:$r.allowDecimals,allowDuplicatedCategory:$r.allowDuplicatedCategory,angle:$r.angle,axisLine:gp.axisLine,hide:!1,includeHidden:$r.includeHidden,interval:$r.interval,minTickGap:$r.minTickGap,mirror:$r.mirror,orientation:$r.orientation,padding:$r.padding,reversed:$r.reversed,scale:$r.scale,tick:$r.tick,tickCount:$r.tickCount,tickLine:gp.tickLine,tickSize:gp.tickSize,type:$r.type,width:$r.width,yAxisId:0},vLe=n=>{var e=oo(n,mLe);return F.createElement(F.Fragment,null,F.createElement(pLe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),F.createElement(gLe,e))},Uee=F.memo(vLe,Fee);Uee.displayName="YAxis";var yLe=(n,e)=>e,DO=le([yLe,Xt,V7,Hr,HZ,Ou,QMe,ii],zMe),NO=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,r=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/r)}},Pee=so("mouseClick"),Ree=tB();Ree.startListening({actionCreator:Pee,effect:(n,e)=>{var t=n.payload,r=DO(e.getState(),NO(t));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(QFe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var wQ=so("mouseMove"),Dee=tB(),Lx=null;Dee.startListening({actionCreator:wQ,effect:(n,e)=>{var t=n.payload;Lx!==null&&cancelAnimationFrame(Lx);var r=NO(t);Lx=requestAnimationFrame(()=>{var i=e.getState(),s=yO(i,i.tooltip.settings.shared);if(s==="axis"){var a=DO(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(PZ({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(UZ())}Lx=null})}});var M$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Nee=Is({name:"rootProps",initialState:M$,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:M$.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),wLe=Nee.reducer,{updateOptions:bLe}=Nee.actions,Lee=Is({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:yke}=Lee.actions,CLe=Lee.reducer,Qee=so("keyDown"),kee=so("focus"),LO=tB();LO.startListening({actionCreator:Qee,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=wO(i,_y(t),cB(t),gB(t)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=Ou(t);if(s==="Enter"){var u=e1(t,"axis","hover",String(i.index));e.dispatch(dQ({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var d=TFe(t),h=d==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=o+g*h;if(!(l==null||v>=l.length||v<0)){var C=e1(t,"axis","hover",String(v));e.dispatch(dQ({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:C}))}}}}}});LO.startListening({actionCreator:kee,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip;if(!i.active&&i.index==null){var s="0",a=e1(t,"axis","hover",String(s));e.dispatch(dQ({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Ma=so("externalEvent"),Oee=tB(),bR=new Map;Oee.startListening({actionCreator:Ma,effect:(n,e)=>{var{handler:t,reactEvent:r}=n.payload;if(t!=null){r.persist();var i=r.type,s=bR.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:EMe(o),activeDataKey:zZ(o),activeIndex:cy(o),activeLabel:GZ(o),activeTooltipIndex:cy(o),isTooltipActive:BMe(o)};t(l,r)}finally{bR.delete(i)}});bR.set(i,a)}}});var ELe=le([xy],n=>n.tooltipItemPayloads),BLe=le([ELe,hB,(n,e,t)=>e,(n,e,t)=>t],(n,e,t,r)=>{var i=n.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,t);return a}}}),Hee=so("touchMove"),Vee=tB();Vee.startListening({actionCreator:Hee,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var r=e.getState(),i=yO(r,r.tooltip.settings.shared);if(i==="axis"){var s=DO(r,NO({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(PZ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=t.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(wSe),d=(a=l.getAttribute(bSe))!==null&&a!==void 0?a:void 0,h=BLe(e.getState(),u,d);e.dispatch(MZ({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var SLe=H9({brush:CNe,cartesianAxis:kRe,chartData:EUe,errorBars:ZRe,graphicalItems:SRe,layout:tSe,legend:gxe,options:vUe,polarAxis:zPe,polarOptions:CLe,referenceElements:INe,rootProps:wLe,tooltip:kFe,zIndex:sUe}),xLe=function(e){return xBe({reducer:SLe,preloadedState:e,middleware:t=>{var r;return t({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Ree.middleware,Dee.middleware,LO.middleware,Oee.middleware,Vee.middleware])},enhancers:t=>{var r=t;return typeof t=="function"&&(r=t()),r.concat(nJ({type:"raf"}))},devTools:iB.devToolsEnabled})};function _Le(n){var{preloadedState:e,children:t,reduxStoreName:r}=n,i=ga(),s=F.useRef(null);if(i)return t;s.current==null&&(s.current=xLe(e));var a=pk;return F.createElement(EDe,{context:a,store:s.current},t)}function TLe(n){var{layout:e,margin:t}=n,r=hr(),i=ga();return F.useEffect(()=>{i||(r(JBe(e)),r(XBe(t)))},[r,i,e,t]),null}var ILe=F.memo(TLe,UO);function FLe(n){var e=hr();return F.useEffect(()=>{e(bLe(n))},[e,n]),null}function U$(n){var{zIndex:e,isPanorama:t}=n,r=t?"recharts-zindex-panorama-":"recharts-zindex-",i=vee("".concat(r).concat(e)),s=hr();return F.useLayoutEffect(()=>(s(rUe({zIndex:e,elementId:i,isPanorama:t})),()=>{s(iUe({zIndex:e,isPanorama:t}))}),[s,e,i,t]),F.createElement("g",{tabIndex:-1,id:i})}function P$(n){var{children:e,isPanorama:t}=n,r=Je($Me);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return F.createElement(F.Fragment,null,i.map(a=>F.createElement(U$,{key:a,zIndex:a,isPanorama:t})),e,s.map(a=>F.createElement(U$,{key:a,zIndex:a,isPanorama:t})))}var MLe=["children"];function ULe(n,e){if(n==null)return{};var t,r,i=PLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function PLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function o1(){return o1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},o1.apply(null,arguments)}var RLe={width:"100%",height:"100%",display:"block"},DLe=F.forwardRef((n,e)=>{var t=JSe(),r=ZSe(),i=IJ();if(!qd(t)||!qd(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=n,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),F.createElement(s9,o1({},a,{title:o,desc:l,role:d,tabIndex:u,width:t,height:r,style:RLe,ref:e}),s)}),NLe=n=>{var{children:e}=n,t=Je(gI);if(!t)return null;var{width:r,height:i,y:s,x:a}=t;return F.createElement(s9,{width:r,height:i,x:a,y:s},e)},R$=F.forwardRef((n,e)=>{var{children:t}=n,r=ULe(n,MLe),i=ga();return i?F.createElement(NLe,null,F.createElement(P$,{isPanorama:!0},t)):F.createElement(DLe,o1({ref:e},r),F.createElement(P$,{isPanorama:!1},t))});function LLe(){var n=hr(),[e,t]=F.useState(null),r=Je(ySe);return F.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;fr(s)&&s!==r&&n(eSe(s))}},[e,n,r]),t}function D$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function QLe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(t),!0).forEach(function(r){kLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function kLe(n,e,t){return(e=OLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function OLe(n){var e=HLe(n,"string");return typeof e=="symbol"?e:e+""}function HLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Bp(){return Bp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bp.apply(null,arguments)}var VLe=()=>(UUe(),null);function A1(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var KLe=F.forwardRef((n,e)=>{var t,r,i=F.useRef(null),[s,a]=F.useState({containerWidth:A1((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:A1((r=n.style)===null||r===void 0?void 0:r.height)}),o=F.useCallback((u,d)=>{a(h=>{var g=Math.round(u),v=Math.round(d);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),l=F.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var g=C=>{var{width:b,height:B}=C[0].contentRect;o(b,B)},v=new ResizeObserver(g);v.observe(u),i.current=v}},[e,o]);return F.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),F.createElement(F.Fragment,null,F.createElement(yI,{width:s.containerWidth,height:s.containerHeight}),F.createElement("div",Bp({ref:l},n)))}),GLe=F.forwardRef((n,e)=>{var{width:t,height:r}=n,[i,s]=F.useState({containerWidth:A1(t),containerHeight:A1(r)}),a=F.useCallback((l,u)=>{s(d=>{var h=Math.round(l),g=Math.round(u);return d.containerWidth===h&&d.containerHeight===g?d:{containerWidth:h,containerHeight:g}})},[]),o=F.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();a(u,d)}},[e,a]);return F.createElement(F.Fragment,null,F.createElement(yI,{width:i.containerWidth,height:i.containerHeight}),F.createElement("div",Bp({ref:o},n)))}),zLe=F.forwardRef((n,e)=>{var{width:t,height:r}=n;return F.createElement(F.Fragment,null,F.createElement(yI,{width:t,height:r}),F.createElement("div",Bp({ref:e},n)))}),qLe=F.forwardRef((n,e)=>{var{width:t,height:r}=n;return bu(t)||bu(r)?F.createElement(GLe,Bp({},n,{ref:e})):F.createElement(zLe,Bp({},n,{ref:e}))});function $Le(n){return n===!0?KLe:qLe}var jLe=F.forwardRef((n,e)=>{var{children:t,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:C,onTouchStart:b,style:B,width:S,responsive:I,dispatchTouchEvents:T=!0}=n,D=F.useRef(null),U=hr(),[R,Q]=F.useState(null),[H,k]=F.useState(null),G=LLe(),K=Sk(),z=(K==null?void 0:K.width)>0?K.width:S,Z=(K==null?void 0:K.height)>0?K.height:i,Y=F.useCallback(te=>{G(te),typeof e=="function"&&e(te),Q(te),k(te),te!=null&&(D.current=te)},[G,e,Q,k]),ve=F.useCallback(te=>{U(Pee(te)),U(Ma({handler:s,reactEvent:te}))},[U,s]),V=F.useCallback(te=>{U(wQ(te)),U(Ma({handler:u,reactEvent:te}))},[U,u]),j=F.useCallback(te=>{U(UZ()),U(Ma({handler:d,reactEvent:te}))},[U,d]),se=F.useCallback(te=>{U(wQ(te)),U(Ma({handler:h,reactEvent:te}))},[U,h]),pe=F.useCallback(()=>{U(kee())},[U]),Ee=F.useCallback(te=>{U(Qee(te.key))},[U]),q=F.useCallback(te=>{U(Ma({handler:a,reactEvent:te}))},[U,a]),ee=F.useCallback(te=>{U(Ma({handler:o,reactEvent:te}))},[U,o]),oe=F.useCallback(te=>{U(Ma({handler:l,reactEvent:te}))},[U,l]),Ce=F.useCallback(te=>{U(Ma({handler:g,reactEvent:te}))},[U,g]),ie=F.useCallback(te=>{U(Ma({handler:b,reactEvent:te}))},[U,b]),ue=F.useCallback(te=>{T&&U(Hee(te)),U(Ma({handler:C,reactEvent:te}))},[U,T,C]),ce=F.useCallback(te=>{U(Ma({handler:v,reactEvent:te}))},[U,v]),Be=$Le(I);return F.createElement(JZ.Provider,{value:R},F.createElement(sCe.Provider,{value:H},F.createElement(Be,{width:z??(B==null?void 0:B.width),height:Z??(B==null?void 0:B.height),className:Mn("recharts-wrapper",r),style:QLe({position:"relative",cursor:"default",width:z,height:Z},B),onClick:ve,onContextMenu:q,onDoubleClick:ee,onFocus:pe,onKeyDown:Ee,onMouseDown:oe,onMouseEnter:V,onMouseLeave:j,onMouseMove:se,onMouseUp:Ce,onTouchEnd:ce,onTouchMove:ue,onTouchStart:ie,ref:Y},F.createElement(VLe,null),t)))}),WLe=["width","height","responsive","children","className","style","compact","title","desc"];function YLe(n,e){if(n==null)return{};var t,r,i=XLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function XLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var JLe=F.forwardRef((n,e)=>{var{width:t,height:r,responsive:i,children:s,className:a,style:o,compact:l,title:u,desc:d}=n,h=YLe(n,WLe),g=zd(h);return l?F.createElement(F.Fragment,null,F.createElement(yI,{width:t,height:r}),F.createElement(R$,{otherAttributes:g,title:u,desc:d},s)):F.createElement(jLe,{className:a,style:o,width:t,height:r,responsive:i??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},F.createElement(R$,{otherAttributes:g,title:u,desc:d,ref:e},F.createElement(MNe,null,s)))});function bQ(){return bQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bQ.apply(null,arguments)}var ZLe={top:5,right:5,bottom:5,left:5},eQe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ZLe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},tQe=F.forwardRef(function(e,t){var r,i=oo(e.categoricalChartProps,eQe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return F.createElement(_Le,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:s},F.createElement(bNe,{chartData:u.data}),F.createElement(ILe,{layout:i.layout,margin:i.margin}),F.createElement(FLe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),F.createElement(JLe,bQ({},i,{ref:t})))}),nQe=["axis","item"],rQe=F.forwardRef((n,e)=>F.createElement(tQe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nQe,tooltipPayloadSearcher:gUe,categoricalChartProps:n,ref:e}));const iQe=()=>{const{stats:n,highlights:e}=Yd(),t=Object.entries(n.chapterVisits).map(([i,s])=>({name:i==="ch1"?"Ch 1":i==="ch2"?"Ch 2":"Ch 3",visits:s})),r=i=>`${Math.floor(i/60)}m ${i%60}s`;return L.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[L.jsx(YW,{toggleSidebar:()=>{},toggleNotes:()=>{}}),L.jsxs("main",{className:"pt-24 px-4 max-w-5xl mx-auto pb-20",children:[L.jsxs("div",{className:"mb-8",children:[L.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Learning Report"}),L.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Analysis of your reading habits and engagement."})]}),L.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[L.jsx(Qx,{icon:L.jsx(Gfe,{className:"text-blue-500"}),label:"Reading Time",value:r(n.totalReadingTime)}),L.jsx(Qx,{icon:L.jsx(Ife,{className:"text-green-500"}),label:"Chapters Read",value:Object.keys(n.chapterVisits).length.toString()}),L.jsx(Qx,{icon:L.jsx(jW,{className:"text-yellow-500"}),label:"Highlights",value:e.length.toString()}),L.jsx(Qx,{icon:L.jsx(KK,{className:"text-purple-500"}),label:"AI Interactions",value:n.aiInteractionCount.toString()})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[L.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[L.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Chapter Engagement"}),L.jsx("div",{className:"h-64 w-full",children:L.jsx(WSe,{width:"100%",height:"100%",children:L.jsxs(rQe,{data:t,children:[L.jsx(Mee,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),L.jsx(Uee,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),L.jsx(OUe,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"transparent"}}),L.jsx(See,{dataKey:"visits",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,children:t.map((i,s)=>L.jsx(IO,{fill:s%2===0?"#3b82f6":"#60a5fa"},`cell-${s}`))})]})})}),L.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Number of times each chapter was opened"})]}),L.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[L.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[L.jsx(KK,{size:20,className:"text-purple-500"}),"AI Learning Summary"]}),L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[L.jsx("h4",{className:"font-semibold text-purple-700 dark:text-purple-300 text-sm mb-2",children:"Focus Areas"}),L.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.slice(0,3).map((i,s)=>L.jsx("span",{className:"px-2 py-1 bg-white dark:bg-slate-800 text-xs rounded text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 truncate max-w-[150px]",children:i.text},s)),e.length===0&&L.jsx("span",{className:"text-xs text-slate-400",children:"No specific focus areas detected yet."})]})]}),L.jsxs("div",{children:[L.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 text-sm mb-2",children:"Reading Velocity"}),L.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2.5",children:L.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"65%"}})}),L.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"You are reading at a consistent pace."})]})]})]})]})]})]})},Qx=({icon:n,label:e,value:t})=>L.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center text-center",children:[L.jsx("div",{className:"mb-2 p-2 bg-slate-50 dark:bg-slate-800 rounded-full",children:n}),L.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white block",children:t}),L.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:e})]}),sQe=()=>{const e=Uu().pathname==="/report";return L.jsx("div",{style:{display:e?"none":"block"},"aria-hidden":e,children:L.jsx(Wbe,{})})},aQe=()=>L.jsxs(L.Fragment,{children:[L.jsx(sQe,{}),L.jsxs(nie,{children:[L.jsx(SR,{path:"/report",element:L.jsx(iQe,{})}),L.jsx(SR,{path:"*",element:null})]})]}),oQe=()=>L.jsx(Sie,{children:L.jsx(wfe,{children:L.jsx(aQe,{})})}),Kee=document.getElementById("root");if(!Kee)throw new Error("Could not find root element to mount to");const AQe=ure.createRoot(Kee);AQe.render(L.jsx(Tw.StrictMode,{children:L.jsx(oQe,{})}));
