var sre=Object.defineProperty;var TV=n=>{throw TypeError(n)};var are=(n,e,t)=>e in n?sre(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var be=(n,e,t)=>are(n,typeof e!="symbol"?e+"":e,t),WM=(n,e,t)=>e.has(n)||TV("Cannot "+t);var f=(n,e,t)=>(WM(n,e,"read from private field"),t?t.call(n):e.get(n)),M=(n,e,t)=>e.has(n)?TV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),_=(n,e,t,r)=>(WM(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),P=(n,e,t)=>(WM(n,e,"access private method"),t);var ur=(n,e,t,r)=>({set _(i){_(n,e,i,t)},get _(){return f(n,e,r)}});function ore(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function kA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var YM={exports:{}},S0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IV;function Are(){if(IV)return S0;IV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:a,ref:i!==void 0?i:null,props:s}}return S0.Fragment=e,S0.jsx=t,S0.jsxs=t,S0}var FV;function lre(){return FV||(FV=1,YM.exports=Are()),YM.exports}var Q=lre(),XM={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MV;function ure(){if(MV)return rt;MV=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,B={};function S(q,X,oe){this.props=q,this.context=X,this.refs=B,this.updater=oe||b}S.prototype.isReactComponent={},S.prototype.setState=function(q,X){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,X,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function I(){}I.prototype=S.prototype;function T(q,X,oe){this.props=q,this.context=X,this.refs=B,this.updater=oe||b}var R=T.prototype=new I;R.constructor=T,C(R,S.prototype),R.isPureReactComponent=!0;var U=Array.isArray;function D(){}var L={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function k(q,X,oe){var Ce=oe.ref;return{$$typeof:n,type:q,key:X,ref:Ce!==void 0?Ce:null,props:oe}}function G(q,X){return k(q.type,X,q.props)}function K(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function z(q){var X={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(oe){return X[oe]})}var J=/\/+/g;function Y(q,X){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):X.toString(36)}function ge(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(D,D):(q.status="pending",q.then(function(X){q.status==="pending"&&(q.status="fulfilled",q.value=X)},function(X){q.status==="pending"&&(q.status="rejected",q.reason=X)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function V(q,X,oe,Ce,se){var ce=typeof q;(ce==="undefined"||ce==="boolean")&&(q=null);var ue=!1;if(q===null)ue=!0;else switch(ce){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(q.$$typeof){case n:case e:ue=!0;break;case d:return ue=q._init,V(ue(q._payload),X,oe,Ce,se)}}if(ue)return se=se(q),ue=Ce===""?"."+Y(q,0):Ce,U(se)?(oe="",ue!=null&&(oe=ue.replace(J,"$&/")+"/"),V(se,X,oe,"",function(Ie){return Ie})):se!=null&&(K(se)&&(se=G(se,oe+(se.key==null||q&&q.key===se.key?"":(""+se.key).replace(J,"$&/")+"/")+ue)),X.push(se)),1;ue=0;var Se=Ce===""?".":Ce+":";if(U(q))for(var te=0;te<q.length;te++)Ce=q[te],ce=Se+Y(Ce,te),ue+=V(Ce,X,oe,ce,se);else if(te=v(q),typeof te=="function")for(q=te.call(q),te=0;!(Ce=q.next()).done;)Ce=Ce.value,ce=Se+Y(Ce,te++),ue+=V(Ce,X,oe,ce,se);else if(ce==="object"){if(typeof q.then=="function")return V(ge(q),X,oe,Ce,se);throw X=String(q),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ue}function j(q,X,oe){if(q==null)return q;var Ce=[],se=0;return V(q,Ce,"","",function(ce){return X.call(oe,ce,se++)}),Ce}function re(q){if(q._status===-1){var X=q._result;X=X(),X.then(function(oe){(q._status===0||q._status===-1)&&(q._status=1,q._result=oe)},function(oe){(q._status===0||q._status===-1)&&(q._status=2,q._result=oe)}),q._status===-1&&(q._status=0,q._result=X)}if(q._status===1)return q._result.default;throw q._result}var he=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Ee={map:j,forEach:function(q,X,oe){j(q,function(){X.apply(this,arguments)},oe)},count:function(q){var X=0;return j(q,function(){X++}),X},toArray:function(q){return j(q,function(X){return X})||[]},only:function(q){if(!K(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return rt.Activity=h,rt.Children=Ee,rt.Component=S,rt.Fragment=t,rt.Profiler=i,rt.PureComponent=T,rt.StrictMode=r,rt.Suspense=l,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,rt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return L.H.useMemoCache(q)}},rt.cache=function(q){return function(){return q.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(q,X,oe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Ce=C({},q.props),se=q.key;if(X!=null)for(ce in X.key!==void 0&&(se=""+X.key),X)!H.call(X,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&X.ref===void 0||(Ce[ce]=X[ce]);var ce=arguments.length-2;if(ce===1)Ce.children=oe;else if(1<ce){for(var ue=Array(ce),Se=0;Se<ce;Se++)ue[Se]=arguments[Se+2];Ce.children=ue}return k(q.type,se,Ce)},rt.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},rt.createElement=function(q,X,oe){var Ce,se={},ce=null;if(X!=null)for(Ce in X.key!==void 0&&(ce=""+X.key),X)H.call(X,Ce)&&Ce!=="key"&&Ce!=="__self"&&Ce!=="__source"&&(se[Ce]=X[Ce]);var ue=arguments.length-2;if(ue===1)se.children=oe;else if(1<ue){for(var Se=Array(ue),te=0;te<ue;te++)Se[te]=arguments[te+2];se.children=Se}if(q&&q.defaultProps)for(Ce in ue=q.defaultProps,ue)se[Ce]===void 0&&(se[Ce]=ue[Ce]);return k(q,ce,se)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(q){return{$$typeof:o,render:q}},rt.isValidElement=K,rt.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:re}},rt.memo=function(q,X){return{$$typeof:u,type:q,compare:X===void 0?null:X}},rt.startTransition=function(q){var X=L.T,oe={};L.T=oe;try{var Ce=q(),se=L.S;se!==null&&se(oe,Ce),typeof Ce=="object"&&Ce!==null&&typeof Ce.then=="function"&&Ce.then(D,he)}catch(ce){he(ce)}finally{X!==null&&oe.types!==null&&(X.types=oe.types),L.T=X}},rt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},rt.use=function(q){return L.H.use(q)},rt.useActionState=function(q,X,oe){return L.H.useActionState(q,X,oe)},rt.useCallback=function(q,X){return L.H.useCallback(q,X)},rt.useContext=function(q){return L.H.useContext(q)},rt.useDebugValue=function(){},rt.useDeferredValue=function(q,X){return L.H.useDeferredValue(q,X)},rt.useEffect=function(q,X){return L.H.useEffect(q,X)},rt.useEffectEvent=function(q){return L.H.useEffectEvent(q)},rt.useId=function(){return L.H.useId()},rt.useImperativeHandle=function(q,X,oe){return L.H.useImperativeHandle(q,X,oe)},rt.useInsertionEffect=function(q,X){return L.H.useInsertionEffect(q,X)},rt.useLayoutEffect=function(q,X){return L.H.useLayoutEffect(q,X)},rt.useMemo=function(q,X){return L.H.useMemo(q,X)},rt.useOptimistic=function(q,X){return L.H.useOptimistic(q,X)},rt.useReducer=function(q,X,oe){return L.H.useReducer(q,X,oe)},rt.useRef=function(q){return L.H.useRef(q)},rt.useState=function(q){return L.H.useState(q)},rt.useSyncExternalStore=function(q,X,oe){return L.H.useSyncExternalStore(q,X,oe)},rt.useTransition=function(){return L.H.useTransition()},rt.version="19.2.1",rt}var UV;function yy(){return UV||(UV=1,XM.exports=ure()),XM.exports}var F=yy();const Mw=kA(F),cre=ore({__proto__:null,default:Mw},[F]);var JM={exports:{}},x0={},ZM={exports:{}},eU={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PV;function dre(){return PV||(PV=1,(function(n){function e(V,j){var re=V.length;V.push(j);e:for(;0<re;){var he=re-1>>>1,Ee=V[he];if(0<i(Ee,j))V[he]=j,V[re]=Ee,re=he;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var j=V[0],re=V.pop();if(re!==j){V[0]=re;e:for(var he=0,Ee=V.length,q=Ee>>>1;he<q;){var X=2*(he+1)-1,oe=V[X],Ce=X+1,se=V[Ce];if(0>i(oe,re))Ce<Ee&&0>i(se,oe)?(V[he]=se,V[Ce]=re,he=Ce):(V[he]=oe,V[X]=re,he=X);else if(Ce<Ee&&0>i(se,re))V[he]=se,V[Ce]=re,he=Ce;else break e}}return j}function i(V,j){var re=V.sortIndex-j.sortIndex;return re!==0?re:V.id-j.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,g=3,v=!1,b=!1,C=!1,B=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(V){for(var j=t(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=V)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(u)}}function U(V){if(C=!1,R(V),!b)if(t(l)!==null)b=!0,D||(D=!0,z());else{var j=t(u);j!==null&&ge(U,j.startTime-V)}}var D=!1,L=-1,H=5,k=-1;function G(){return B?!0:!(n.unstable_now()-k<H)}function K(){if(B=!1,D){var V=n.unstable_now();k=V;var j=!0;try{e:{b=!1,C&&(C=!1,I(L),L=-1),v=!0;var re=g;try{t:{for(R(V),h=t(l);h!==null&&!(h.expirationTime>V&&G());){var he=h.callback;if(typeof he=="function"){h.callback=null,g=h.priorityLevel;var Ee=he(h.expirationTime<=V);if(V=n.unstable_now(),typeof Ee=="function"){h.callback=Ee,R(V),j=!0;break t}h===t(l)&&r(l),R(V)}else r(l);h=t(l)}if(h!==null)j=!0;else{var q=t(u);q!==null&&ge(U,q.startTime-V),j=!1}}break e}finally{h=null,g=re,v=!1}j=void 0}}finally{j?z():D=!1}}}var z;if(typeof T=="function")z=function(){T(K)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Y=J.port2;J.port1.onmessage=K,z=function(){Y.postMessage(null)}}else z=function(){S(K,0)};function ge(V,j){L=S(function(){V(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(V){switch(g){case 1:case 2:case 3:var j=3;break;default:j=g}var re=g;g=j;try{return V()}finally{g=re}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(V,j){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=g;g=V;try{return j()}finally{g=re}},n.unstable_scheduleCallback=function(V,j,re){var he=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?he+re:he):re=he,V){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=re+Ee,V={id:d++,callback:j,priorityLevel:V,startTime:re,expirationTime:Ee,sortIndex:-1},re>he?(V.sortIndex=re,e(u,V),t(l)===null&&V===t(u)&&(C?(I(L),L=-1):C=!0,ge(U,re-he))):(V.sortIndex=Ee,e(l,V),b||v||(b=!0,D||(D=!0,z()))),V},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(V){var j=g;return function(){var re=g;g=j;try{return V.apply(this,arguments)}finally{g=re}}}})(eU)),eU}var RV;function fre(){return RV||(RV=1,ZM.exports=dre()),ZM.exports}var tU={exports:{}},Ui={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DV;function hre(){if(DV)return Ui;DV=1;var n=yy();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:u,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ui.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},Ui.flushSync=function(l){var u=a.T,d=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=u,r.p=d,r.d.f()}},Ui.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Ui.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Ui.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Ui.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Ui.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Ui.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Ui.requestFormReset=function(l){r.d.r(l)},Ui.unstable_batchedUpdates=function(l,u){return l(u)},Ui.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},Ui.useFormStatus=function(){return a.H.useHostTransitionStatus()},Ui.version="19.2.1",Ui}var NV;function K8(){if(NV)return tU.exports;NV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tU.exports=hre(),tU.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LV;function pre(){if(LV)return x0;LV=1;var n=fre(),e=yy(),t=K8();function r(A){var c="https://react.dev/errors/"+A;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+A+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var c=A,p=A;if(A.alternate)for(;c.return;)c=c.return;else{A=c;do c=A,(c.flags&4098)!==0&&(p=c.return),A=c.return;while(A)}return c.tag===3?p:null}function a(A){if(A.tag===13){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function o(A){if(A.tag===31){var c=A.memoizedState;if(c===null&&(A=A.alternate,A!==null&&(c=A.memoizedState)),c!==null)return c.dehydrated}return null}function l(A){if(s(A)!==A)throw Error(r(188))}function u(A){var c=A.alternate;if(!c){if(c=s(A),c===null)throw Error(r(188));return c!==A?null:A}for(var p=A,m=c;;){var E=p.return;if(E===null)break;var x=E.alternate;if(x===null){if(m=E.return,m!==null){p=m;continue}break}if(E.child===x.child){for(x=E.child;x;){if(x===p)return l(E),A;if(x===m)return l(E),c;x=x.sibling}throw Error(r(188))}if(p.return!==m.return)p=E,m=x;else{for(var N=!1,O=E.child;O;){if(O===p){N=!0,p=E,m=x;break}if(O===m){N=!0,m=E,p=x;break}O=O.sibling}if(!N){for(O=x.child;O;){if(O===p){N=!0,p=x,m=E;break}if(O===m){N=!0,m=x,p=E;break}O=O.sibling}if(!N)throw Error(r(189))}}if(p.alternate!==m)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?A:c}function d(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A;for(A=A.child;A!==null;){if(c=d(A),c!==null)return c;A=A.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function z(A){return A===null||typeof A!="object"?null:(A=K&&A[K]||A["@@iterator"],typeof A=="function"?A:null)}var J=Symbol.for("react.client.reference");function Y(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===J?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case C:return"Fragment";case S:return"Profiler";case B:return"StrictMode";case U:return"Suspense";case D:return"SuspenseList";case k:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case b:return"Portal";case T:return A.displayName||"Context";case I:return(A._context.displayName||"Context")+".Consumer";case R:var c=A.render;return A=A.displayName,A||(A=c.displayName||c.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case L:return c=A.displayName||null,c!==null?c:Y(A.type)||"Memo";case H:c=A._payload,A=A._init;try{return Y(A(c))}catch{}}return null}var ge=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},he=[],Ee=-1;function q(A){return{current:A}}function X(A){0>Ee||(A.current=he[Ee],he[Ee]=null,Ee--)}function oe(A,c){Ee++,he[Ee]=A.current,A.current=c}var Ce=q(null),se=q(null),ce=q(null),ue=q(null);function Se(A,c){switch(oe(ce,c),oe(se,A),oe(Ce,null),c.nodeType){case 9:case 11:A=(A=c.documentElement)&&(A=A.namespaceURI)?X4(A):0;break;default:if(A=c.tagName,c=c.namespaceURI)c=X4(c),A=J4(c,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}X(Ce),oe(Ce,A)}function te(){X(Ce),X(se),X(ce)}function Ie(A){A.memoizedState!==null&&oe(ue,A);var c=Ce.current,p=J4(c,A.type);c!==p&&(oe(se,A),oe(Ce,p))}function Fe(A){se.current===A&&(X(Ce),X(se)),ue.current===A&&(X(ue),b0._currentValue=re)}var me,gt;function $e(A){if(me===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);me=c&&c[1]||"",gt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+A+gt}var Gt=!1;function It(A,c){if(!A||Gt)return"";Gt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(Ae){var ae=Ae}Reflect.construct(A,[],we)}else{try{we.call()}catch(Ae){ae=Ae}A.call(we.prototype)}}else{try{throw Error()}catch(Ae){ae=Ae}(we=A())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(Ae){if(Ae&&ae&&typeof Ae.stack=="string")return[Ae.stack,ae.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),N=x[0],O=x[1];if(N&&O){var $=N.split(`
`),ie=O.split(`
`);for(E=m=0;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;for(;E<ie.length&&!ie[E].includes("DetermineComponentFrameRoot");)E++;if(m===$.length||E===ie.length)for(m=$.length-1,E=ie.length-1;1<=m&&0<=E&&$[m]!==ie[E];)E--;for(;1<=m&&0<=E;m--,E--)if($[m]!==ie[E]){if(m!==1||E!==1)do if(m--,E--,0>E||$[m]!==ie[E]){var pe=`
`+$[m].replace(" at new "," at ");return A.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",A.displayName)),pe}while(1<=m&&0<=E);break}}}finally{Gt=!1,Error.prepareStackTrace=p}return(p=A?A.displayName||A.name:"")?$e(p):""}function Yn(A,c){switch(A.tag){case 26:case 27:case 5:return $e(A.type);case 16:return $e("Lazy");case 13:return A.child!==c&&c!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return It(A.type,!1);case 11:return It(A.type.render,!1);case 1:return It(A.type,!0);case 31:return $e("Activity");default:return""}}function nt(A){try{var c="",p=null;do c+=Yn(A,p),p=A,A=A.return;while(A);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Fn=Object.prototype.hasOwnProperty,Fi=n.unstable_scheduleCallback,tn=n.unstable_cancelCallback,ba=n.unstable_shouldYield,Ai=n.unstable_requestPaint,Gn=n.unstable_now,xe=n.unstable_getCurrentPriorityLevel,ee=n.unstable_ImmediatePriority,Be=n.unstable_UserBlockingPriority,Me=n.unstable_NormalPriority,mt=n.unstable_LowPriority,Ke=n.unstable_IdlePriority,$t=n.log,Rt=n.unstable_setDisableYieldValue,jt=null,Bt=null;function zr(A){if(typeof $t=="function"&&Rt(A),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(jt,A)}catch{}}var ve=Math.clz32?Math.clz32:Ht,Te=Math.log,et=Math.LN2;function Ht(A){return A>>>=0,A===0?32:31-(Te(A)/et|0)|0}var gn=256,nn=262144,zn=4194304;function rn(A){var c=A&42;if(c!==0)return c;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function Mt(A,c,p){var m=A.pendingLanes;if(m===0)return 0;var E=0,x=A.suspendedLanes,N=A.pingedLanes;A=A.warmLanes;var O=m&134217727;return O!==0?(m=O&~x,m!==0?E=rn(m):(N&=O,N!==0?E=rn(N):p||(p=O&~A,p!==0&&(E=rn(p))))):(O=m&~x,O!==0?E=rn(O):N!==0?E=rn(N):p||(p=m&~A,p!==0&&(E=rn(p)))),E===0?0:c!==0&&c!==E&&(c&x)===0&&(x=E&-E,p=c&-c,x>=p||x===32&&(p&4194048)!==0)?c:E}function li(A,c){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&c)===0}function As(A,c){switch(A){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var A=zn;return zn<<=1,(zn&62914560)===0&&(zn=4194304),A}function Ps(A){for(var c=[],p=0;31>p;p++)c.push(A);return c}function Rs(A,c){A.pendingLanes|=c,c!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function Dp(A,c,p,m,E,x){var N=A.pendingLanes;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=p,A.entangledLanes&=p,A.errorRecoveryDisabledLanes&=p,A.shellSuspendCounter=0;var O=A.entanglements,$=A.expirationTimes,ie=A.hiddenUpdates;for(p=N&~p;0<p;){var pe=31-ve(p),we=1<<pe;O[pe]=0,$[pe]=-1;var ae=ie[pe];if(ae!==null)for(ie[pe]=null,pe=0;pe<ae.length;pe++){var Ae=ae[pe];Ae!==null&&(Ae.lane&=-536870913)}p&=~we}m!==0&&Np(A,m,0),x!==0&&E===0&&A.tag!==0&&(A.suspendedLanes|=x&~(N&~c))}function Np(A,c,p){A.pendingLanes|=c,A.suspendedLanes&=~c;var m=31-ve(c);A.entangledLanes|=c,A.entanglements[m]=A.entanglements[m]|1073741824|p&261930}function zi(A,c){var p=A.entangledLanes|=c;for(A=A.entanglements;p;){var m=31-ve(p),E=1<<m;E&c|A[m]&c&&(A[m]|=c),p&=~E}}function CB(A,c){var p=c&-c;return p=(p&42)!==0?1:zu(p),(p&(A.suspendedLanes|c))!==0?0:p}function zu(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function Py(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function EB(){var A=j.p;return A!==0?A:(A=window.event,A===void 0?32:bV(A.type))}function Ry(A,c){var p=j.p;try{return j.p=A,c()}finally{j.p=p}}var $o=Math.random().toString(36).slice(2),yr="__reactFiber$"+$o,Mi="__reactProps$"+$o,qu="__reactContainer$"+$o,Dy="__reactEvents$"+$o,HI="__reactListeners$"+$o,BB="__reactHandles$"+$o,SB="__reactResources$"+$o,af="__reactMarker$"+$o;function Ny(A){delete A[yr],delete A[Mi],delete A[Dy],delete A[HI],delete A[BB]}function $u(A){var c=A[yr];if(c)return c;for(var p=A.parentNode;p;){if(c=p[qu]||p[yr]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(A=sV(A);A!==null;){if(p=A[yr])return p;A=sV(A)}return c}A=p,p=A.parentNode}return null}function jo(A){if(A=A[yr]||A[qu]){var c=A.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return A}return null}function of(A){var c=A.tag;if(c===5||c===26||c===27||c===6)return A.stateNode;throw Error(r(33))}function ju(A){var c=A[SB];return c||(c=A[SB]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Xn(A){A[af]=!0}var xB=new Set,_B={};function VA(A,c){fe(A,c),fe(A+"Capture",c)}function fe(A,c){for(_B[A]=c,A=0;A<c.length;A++)xB.add(c[A])}var _e=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pe={},Qe={};function St(A){return Fn.call(Qe,A)?!0:Fn.call(Pe,A)?!1:_e.test(A)?Qe[A]=!0:(Pe[A]=!0,!1)}function Ln(A,c,p){if(St(c))if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":A.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){A.removeAttribute(c);return}}A.setAttribute(c,""+p)}}function Bn(A,c,p){if(p===null)A.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(c);return}A.setAttribute(c,""+p)}}function Dt(A,c,p,m){if(m===null)A.removeAttribute(p);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(p);return}A.setAttributeNS(c,p,""+m)}}function wr(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function Ly(A){var c=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Jee(A,c,p){var m=Object.getOwnPropertyDescriptor(A.constructor.prototype,c);if(!A.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,x=m.set;return Object.defineProperty(A,c,{configurable:!0,get:function(){return E.call(this)},set:function(N){p=""+N,x.call(this,N)}}),Object.defineProperty(A,c,{enumerable:m.enumerable}),{getValue:function(){return p},setValue:function(N){p=""+N},stopTracking:function(){A._valueTracker=null,delete A[c]}}}}function VI(A){if(!A._valueTracker){var c=Ly(A)?"checked":"value";A._valueTracker=Jee(A,c,""+A[c])}}function GO(A){if(!A)return!1;var c=A._valueTracker;if(!c)return!0;var p=c.getValue(),m="";return A&&(m=Ly(A)?A.checked?"true":"false":A.value),A=m,A!==p?(c.setValue(A),!0):!1}function TB(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var Zee=/[\n"\\]/g;function Ca(A){return A.replace(Zee,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function KI(A,c,p,m,E,x,N,O){A.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?A.type=N:A.removeAttribute("type"),c!=null?N==="number"?(c===0&&A.value===""||A.value!=c)&&(A.value=""+wr(c)):A.value!==""+wr(c)&&(A.value=""+wr(c)):N!=="submit"&&N!=="reset"||A.removeAttribute("value"),c!=null?GI(A,N,wr(c)):p!=null?GI(A,N,wr(p)):m!=null&&A.removeAttribute("value"),E==null&&x!=null&&(A.defaultChecked=!!x),E!=null&&(A.checked=E&&typeof E!="function"&&typeof E!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?A.name=""+wr(O):A.removeAttribute("name")}function zO(A,c,p,m,E,x,N,O){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(A.type=x),c!=null||p!=null){if(!(x!=="submit"&&x!=="reset"||c!=null)){VI(A);return}p=p!=null?""+wr(p):"",c=c!=null?""+wr(c):p,O||c===A.value||(A.value=c),A.defaultValue=c}m=m??E,m=typeof m!="function"&&typeof m!="symbol"&&!!m,A.checked=O?A.checked:!!m,A.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(A.name=N),VI(A)}function GI(A,c,p){c==="number"&&TB(A.ownerDocument)===A||A.defaultValue===""+p||(A.defaultValue=""+p)}function Lp(A,c,p,m){if(A=A.options,c){c={};for(var E=0;E<p.length;E++)c["$"+p[E]]=!0;for(p=0;p<A.length;p++)E=c.hasOwnProperty("$"+A[p].value),A[p].selected!==E&&(A[p].selected=E),E&&m&&(A[p].defaultSelected=!0)}else{for(p=""+wr(p),c=null,E=0;E<A.length;E++){if(A[E].value===p){A[E].selected=!0,m&&(A[E].defaultSelected=!0);return}c!==null||A[E].disabled||(c=A[E])}c!==null&&(c.selected=!0)}}function qO(A,c,p){if(c!=null&&(c=""+wr(c),c!==A.value&&(A.value=c),p==null)){A.defaultValue!==c&&(A.defaultValue=c);return}A.defaultValue=p!=null?""+wr(p):""}function $O(A,c,p,m){if(c==null){if(m!=null){if(p!=null)throw Error(r(92));if(ge(m)){if(1<m.length)throw Error(r(93));m=m[0]}p=m}p==null&&(p=""),c=p}p=wr(c),A.defaultValue=p,m=A.textContent,m===p&&m!==""&&m!==null&&(A.value=m),VI(A)}function Qp(A,c){if(c){var p=A.firstChild;if(p&&p===A.lastChild&&p.nodeType===3){p.nodeValue=c;return}}A.textContent=c}var ete=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jO(A,c,p){var m=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?m?A.setProperty(c,""):c==="float"?A.cssFloat="":A[c]="":m?A.setProperty(c,p):typeof p!="number"||p===0||ete.has(c)?c==="float"?A.cssFloat=p:A[c]=(""+p).trim():A[c]=p+"px"}function WO(A,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(A=A.style,p!=null){for(var m in p)!p.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?A.setProperty(m,""):m==="float"?A.cssFloat="":A[m]="");for(var E in c)m=c[E],c.hasOwnProperty(E)&&p[E]!==m&&jO(A,E,m)}else for(var x in c)c.hasOwnProperty(x)&&jO(A,x,c[x])}function zI(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tte=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nte=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function IB(A){return nte.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function KA(){}var qI=null;function $I(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var kp=null,Op=null;function YO(A){var c=jo(A);if(c&&(A=c.stateNode)){var p=A[Mi]||null;e:switch(A=c.stateNode,c.type){case"input":if(KI(A,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=A;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Ca(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var m=p[c];if(m!==A&&m.form===A.form){var E=m[Mi]||null;if(!E)throw Error(r(90));KI(m,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(c=0;c<p.length;c++)m=p[c],m.form===A.form&&GO(m)}break e;case"textarea":qO(A,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Lp(A,!!p.multiple,c,!1)}}}var jI=!1;function XO(A,c,p){if(jI)return A(c,p);jI=!0;try{var m=A(c);return m}finally{if(jI=!1,(kp!==null||Op!==null)&&(gS(),kp&&(c=kp,A=Op,Op=kp=null,YO(c),A)))for(c=0;c<A.length;c++)YO(A[c])}}function Qy(A,c){var p=A.stateNode;if(p===null)return null;var m=p[Mi]||null;if(m===null)return null;p=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(A=A.type,m=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!m;break e;default:A=!1}if(A)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var GA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),WI=!1;if(GA)try{var ky={};Object.defineProperty(ky,"passive",{get:function(){WI=!0}}),window.addEventListener("test",ky,ky),window.removeEventListener("test",ky,ky)}catch{WI=!1}var Wu=null,YI=null,FB=null;function JO(){if(FB)return FB;var A,c=YI,p=c.length,m,E="value"in Wu?Wu.value:Wu.textContent,x=E.length;for(A=0;A<p&&c[A]===E[A];A++);var N=p-A;for(m=1;m<=N&&c[p-m]===E[x-m];m++);return FB=E.slice(A,1<m?1-m:void 0)}function MB(A){var c=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&c===13&&(A=13)):A=c,A===10&&(A=13),32<=A||A===13?A:0}function UB(){return!0}function ZO(){return!1}function ls(A){function c(p,m,E,x,N){this._reactName=p,this._targetInst=E,this.type=m,this.nativeEvent=x,this.target=N,this.currentTarget=null;for(var O in A)A.hasOwnProperty(O)&&(p=A[O],this[O]=p?p(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?UB:ZO,this.isPropagationStopped=ZO,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=UB)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=UB)},persist:function(){},isPersistent:UB}),c}var Af={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PB=ls(Af),Oy=h({},Af,{view:0,detail:0}),rte=ls(Oy),XI,JI,Hy,RB=h({},Oy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eF,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Hy&&(Hy&&A.type==="mousemove"?(XI=A.screenX-Hy.screenX,JI=A.screenY-Hy.screenY):JI=XI=0,Hy=A),XI)},movementY:function(A){return"movementY"in A?A.movementY:JI}}),e2=ls(RB),ite=h({},RB,{dataTransfer:0}),ste=ls(ite),ate=h({},Oy,{relatedTarget:0}),ZI=ls(ate),ote=h({},Af,{animationName:0,elapsedTime:0,pseudoElement:0}),Ate=ls(ote),lte=h({},Af,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),ute=ls(lte),cte=h({},Af,{data:0}),t2=ls(cte),dte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pte(A){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(A):(A=hte[A])?!!c[A]:!1}function eF(){return pte}var gte=h({},Oy,{key:function(A){if(A.key){var c=dte[A.key]||A.key;if(c!=="Unidentified")return c}return A.type==="keypress"?(A=MB(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?fte[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eF,charCode:function(A){return A.type==="keypress"?MB(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?MB(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),mte=ls(gte),vte=h({},RB,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n2=ls(vte),yte=h({},Oy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eF}),wte=ls(yte),bte=h({},Af,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cte=ls(bte),Ete=h({},RB,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),Bte=ls(Ete),Ste=h({},Af,{newState:0,oldState:0}),xte=ls(Ste),_te=[9,13,27,32],tF=GA&&"CompositionEvent"in window,Vy=null;GA&&"documentMode"in document&&(Vy=document.documentMode);var Tte=GA&&"TextEvent"in window&&!Vy,r2=GA&&(!tF||Vy&&8<Vy&&11>=Vy),i2=" ",s2=!1;function a2(A,c){switch(A){case"keyup":return _te.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o2(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Hp=!1;function Ite(A,c){switch(A){case"compositionend":return o2(c);case"keypress":return c.which!==32?null:(s2=!0,i2);case"textInput":return A=c.data,A===i2&&s2?null:A;default:return null}}function Fte(A,c){if(Hp)return A==="compositionend"||!tF&&a2(A,c)?(A=JO(),FB=YI=Wu=null,Hp=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return r2&&c.locale!=="ko"?null:c.data;default:return null}}var Mte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A2(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c==="input"?!!Mte[A.type]:c==="textarea"}function l2(A,c,p,m){kp?Op?Op.push(m):Op=[m]:kp=m,c=ES(c,"onChange"),0<c.length&&(p=new PB("onChange","change",null,p,m),A.push({event:p,listeners:c}))}var Ky=null,Gy=null;function Ute(A){z4(A,0)}function DB(A){var c=of(A);if(GO(c))return A}function u2(A,c){if(A==="change")return c}var c2=!1;if(GA){var nF;if(GA){var rF="oninput"in document;if(!rF){var d2=document.createElement("div");d2.setAttribute("oninput","return;"),rF=typeof d2.oninput=="function"}nF=rF}else nF=!1;c2=nF&&(!document.documentMode||9<document.documentMode)}function f2(){Ky&&(Ky.detachEvent("onpropertychange",h2),Gy=Ky=null)}function h2(A){if(A.propertyName==="value"&&DB(Gy)){var c=[];l2(c,Gy,A,$I(A)),XO(Ute,c)}}function Pte(A,c,p){A==="focusin"?(f2(),Ky=c,Gy=p,Ky.attachEvent("onpropertychange",h2)):A==="focusout"&&f2()}function Rte(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return DB(Gy)}function Dte(A,c){if(A==="click")return DB(c)}function Nte(A,c){if(A==="input"||A==="change")return DB(c)}function Lte(A,c){return A===c&&(A!==0||1/A===1/c)||A!==A&&c!==c}var Ds=typeof Object.is=="function"?Object.is:Lte;function zy(A,c){if(Ds(A,c))return!0;if(typeof A!="object"||A===null||typeof c!="object"||c===null)return!1;var p=Object.keys(A),m=Object.keys(c);if(p.length!==m.length)return!1;for(m=0;m<p.length;m++){var E=p[m];if(!Fn.call(c,E)||!Ds(A[E],c[E]))return!1}return!0}function p2(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function g2(A,c){var p=p2(A);A=0;for(var m;p;){if(p.nodeType===3){if(m=A+p.textContent.length,A<=c&&m>=c)return{node:p,offset:c-A};A=m}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=p2(p)}}function m2(A,c){return A&&c?A===c?!0:A&&A.nodeType===3?!1:c&&c.nodeType===3?m2(A,c.parentNode):"contains"in A?A.contains(c):A.compareDocumentPosition?!!(A.compareDocumentPosition(c)&16):!1:!1}function v2(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var c=TB(A.document);c instanceof A.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)A=c.contentWindow;else break;c=TB(A.document)}return c}function iF(A){var c=A&&A.nodeName&&A.nodeName.toLowerCase();return c&&(c==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||c==="textarea"||A.contentEditable==="true")}var Qte=GA&&"documentMode"in document&&11>=document.documentMode,Vp=null,sF=null,qy=null,aF=!1;function y2(A,c,p){var m=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;aF||Vp==null||Vp!==TB(m)||(m=Vp,"selectionStart"in m&&iF(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),qy&&zy(qy,m)||(qy=m,m=ES(sF,"onSelect"),0<m.length&&(c=new PB("onSelect","select",null,c,p),A.push({event:c,listeners:m}),c.target=Vp)))}function lf(A,c){var p={};return p[A.toLowerCase()]=c.toLowerCase(),p["Webkit"+A]="webkit"+c,p["Moz"+A]="moz"+c,p}var Kp={animationend:lf("Animation","AnimationEnd"),animationiteration:lf("Animation","AnimationIteration"),animationstart:lf("Animation","AnimationStart"),transitionrun:lf("Transition","TransitionRun"),transitionstart:lf("Transition","TransitionStart"),transitioncancel:lf("Transition","TransitionCancel"),transitionend:lf("Transition","TransitionEnd")},oF={},w2={};GA&&(w2=document.createElement("div").style,"AnimationEvent"in window||(delete Kp.animationend.animation,delete Kp.animationiteration.animation,delete Kp.animationstart.animation),"TransitionEvent"in window||delete Kp.transitionend.transition);function uf(A){if(oF[A])return oF[A];if(!Kp[A])return A;var c=Kp[A],p;for(p in c)if(c.hasOwnProperty(p)&&p in w2)return oF[A]=c[p];return A}var b2=uf("animationend"),C2=uf("animationiteration"),E2=uf("animationstart"),kte=uf("transitionrun"),Ote=uf("transitionstart"),Hte=uf("transitioncancel"),B2=uf("transitionend"),S2=new Map,AF="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");AF.push("scrollEnd");function po(A,c){S2.set(A,c),VA(c,[A])}var NB=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Ea=[],Gp=0,lF=0;function LB(){for(var A=Gp,c=lF=Gp=0;c<A;){var p=Ea[c];Ea[c++]=null;var m=Ea[c];Ea[c++]=null;var E=Ea[c];Ea[c++]=null;var x=Ea[c];if(Ea[c++]=null,m!==null&&E!==null){var N=m.pending;N===null?E.next=E:(E.next=N.next,N.next=E),m.pending=E}x!==0&&x2(p,E,x)}}function QB(A,c,p,m){Ea[Gp++]=A,Ea[Gp++]=c,Ea[Gp++]=p,Ea[Gp++]=m,lF|=m,A.lanes|=m,A=A.alternate,A!==null&&(A.lanes|=m)}function uF(A,c,p,m){return QB(A,c,p,m),kB(A)}function cf(A,c){return QB(A,null,null,c),kB(A)}function x2(A,c,p){A.lanes|=p;var m=A.alternate;m!==null&&(m.lanes|=p);for(var E=!1,x=A.return;x!==null;)x.childLanes|=p,m=x.alternate,m!==null&&(m.childLanes|=p),x.tag===22&&(A=x.stateNode,A===null||A._visibility&1||(E=!0)),A=x,x=x.return;return A.tag===3?(x=A.stateNode,E&&c!==null&&(E=31-ve(p),A=x.hiddenUpdates,m=A[E],m===null?A[E]=[c]:m.push(c),c.lane=p|536870912),x):null}function kB(A){if(50<h0)throw h0=0,yM=null,Error(r(185));for(var c=A.return;c!==null;)A=c,c=A.return;return A.tag===3?A.stateNode:null}var zp={};function Vte(A,c,p,m){this.tag=A,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ns(A,c,p,m){return new Vte(A,c,p,m)}function cF(A){return A=A.prototype,!(!A||!A.isReactComponent)}function zA(A,c){var p=A.alternate;return p===null?(p=Ns(A.tag,c,A.key,A.mode),p.elementType=A.elementType,p.type=A.type,p.stateNode=A.stateNode,p.alternate=A,A.alternate=p):(p.pendingProps=c,p.type=A.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=A.flags&65011712,p.childLanes=A.childLanes,p.lanes=A.lanes,p.child=A.child,p.memoizedProps=A.memoizedProps,p.memoizedState=A.memoizedState,p.updateQueue=A.updateQueue,c=A.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=A.sibling,p.index=A.index,p.ref=A.ref,p.refCleanup=A.refCleanup,p}function _2(A,c){A.flags&=65011714;var p=A.alternate;return p===null?(A.childLanes=0,A.lanes=c,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,A.type=p.type,c=p.dependencies,A.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),A}function OB(A,c,p,m,E,x){var N=0;if(m=A,typeof A=="function")cF(A)&&(N=1);else if(typeof A=="string")N=$ne(A,p,Ce.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case k:return A=Ns(31,p,c,E),A.elementType=k,A.lanes=x,A;case C:return df(p.children,E,x,c);case B:N=8,E|=24;break;case S:return A=Ns(12,p,c,E|2),A.elementType=S,A.lanes=x,A;case U:return A=Ns(13,p,c,E),A.elementType=U,A.lanes=x,A;case D:return A=Ns(19,p,c,E),A.elementType=D,A.lanes=x,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case T:N=10;break e;case I:N=9;break e;case R:N=11;break e;case L:N=14;break e;case H:N=16,m=null;break e}N=29,p=Error(r(130,A===null?"null":typeof A,"")),m=null}return c=Ns(N,p,c,E),c.elementType=A,c.type=m,c.lanes=x,c}function df(A,c,p,m){return A=Ns(7,A,m,c),A.lanes=p,A}function dF(A,c,p){return A=Ns(6,A,null,c),A.lanes=p,A}function T2(A){var c=Ns(18,null,null,0);return c.stateNode=A,c}function fF(A,c,p){return c=Ns(4,A.children!==null?A.children:[],A.key,c),c.lanes=p,c.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},c}var I2=new WeakMap;function Ba(A,c){if(typeof A=="object"&&A!==null){var p=I2.get(A);return p!==void 0?p:(c={value:A,source:c,stack:nt(c)},I2.set(A,c),c)}return{value:A,source:c,stack:nt(c)}}var qp=[],$p=0,HB=null,$y=0,Sa=[],xa=0,Yu=null,Wo=1,Yo="";function qA(A,c){qp[$p++]=$y,qp[$p++]=HB,HB=A,$y=c}function F2(A,c,p){Sa[xa++]=Wo,Sa[xa++]=Yo,Sa[xa++]=Yu,Yu=A;var m=Wo;A=Yo;var E=32-ve(m)-1;m&=~(1<<E),p+=1;var x=32-ve(c)+E;if(30<x){var N=E-E%5;x=(m&(1<<N)-1).toString(32),m>>=N,E-=N,Wo=1<<32-ve(c)+E|p<<E|m,Yo=x+A}else Wo=1<<x|p<<E|m,Yo=A}function hF(A){A.return!==null&&(qA(A,1),F2(A,1,0))}function pF(A){for(;A===HB;)HB=qp[--$p],qp[$p]=null,$y=qp[--$p],qp[$p]=null;for(;A===Yu;)Yu=Sa[--xa],Sa[xa]=null,Yo=Sa[--xa],Sa[xa]=null,Wo=Sa[--xa],Sa[xa]=null}function M2(A,c){Sa[xa++]=Wo,Sa[xa++]=Yo,Sa[xa++]=Yu,Wo=c.id,Yo=c.overflow,Yu=A}var ui=null,Mn=null,xt=!1,Xu=null,_a=!1,gF=Error(r(519));function Ju(A){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jy(Ba(c,A)),gF}function U2(A){var c=A.stateNode,p=A.type,m=A.memoizedProps;switch(c[yr]=A,c[Mi]=m,p){case"dialog":yt("cancel",c),yt("close",c);break;case"iframe":case"object":case"embed":yt("load",c);break;case"video":case"audio":for(p=0;p<g0.length;p++)yt(g0[p],c);break;case"source":yt("error",c);break;case"img":case"image":case"link":yt("error",c),yt("load",c);break;case"details":yt("toggle",c);break;case"input":yt("invalid",c),zO(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":yt("invalid",c);break;case"textarea":yt("invalid",c),$O(c,m.value,m.defaultValue,m.children)}p=m.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||m.suppressHydrationWarning===!0||W4(c.textContent,p)?(m.popover!=null&&(yt("beforetoggle",c),yt("toggle",c)),m.onScroll!=null&&yt("scroll",c),m.onScrollEnd!=null&&yt("scrollend",c),m.onClick!=null&&(c.onclick=KA),c=!0):c=!1,c||Ju(A,!0)}function P2(A){for(ui=A.return;ui;)switch(ui.tag){case 5:case 31:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:ui=ui.return}}function jp(A){if(A!==ui)return!1;if(!xt)return P2(A),xt=!0,!1;var c=A.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=A.type,p=!(p!=="form"&&p!=="button")||RM(A.type,A.memoizedProps)),p=!p),p&&Mn&&Ju(A),P2(A),c===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));Mn=iV(A)}else if(c===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));Mn=iV(A)}else c===27?(c=Mn,dc(A.type)?(A=kM,kM=null,Mn=A):Mn=c):Mn=ui?Ia(A.stateNode.nextSibling):null;return!0}function ff(){Mn=ui=null,xt=!1}function mF(){var A=Xu;return A!==null&&(fs===null?fs=A:fs.push.apply(fs,A),Xu=null),A}function jy(A){Xu===null?Xu=[A]:Xu.push(A)}var vF=q(null),hf=null,$A=null;function Zu(A,c,p){oe(vF,c._currentValue),c._currentValue=p}function jA(A){A._currentValue=vF.current,X(vF)}function yF(A,c,p){for(;A!==null;){var m=A.alternate;if((A.childLanes&c)!==c?(A.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),A===p)break;A=A.return}}function wF(A,c,p,m){var E=A.child;for(E!==null&&(E.return=A);E!==null;){var x=E.dependencies;if(x!==null){var N=E.child;x=x.firstContext;e:for(;x!==null;){var O=x;x=E;for(var $=0;$<c.length;$++)if(O.context===c[$]){x.lanes|=p,O=x.alternate,O!==null&&(O.lanes|=p),yF(x.return,p,A),m||(N=null);break e}x=O.next}}else if(E.tag===18){if(N=E.return,N===null)throw Error(r(341));N.lanes|=p,x=N.alternate,x!==null&&(x.lanes|=p),yF(N,p,A),N=null}else N=E.child;if(N!==null)N.return=E;else for(N=E;N!==null;){if(N===A){N=null;break}if(E=N.sibling,E!==null){E.return=N.return,N=E;break}N=N.return}E=N}}function Wp(A,c,p,m){A=null;for(var E=c,x=!1;E!==null;){if(!x){if((E.flags&524288)!==0)x=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var N=E.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var O=E.type;Ds(E.pendingProps.value,N.value)||(A!==null?A.push(O):A=[O])}}else if(E===ue.current){if(N=E.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(A!==null?A.push(b0):A=[b0])}E=E.return}A!==null&&wF(c,A,p,m),c.flags|=262144}function VB(A){for(A=A.firstContext;A!==null;){if(!Ds(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function pf(A){hf=A,$A=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function ci(A){return R2(hf,A)}function KB(A,c){return hf===null&&pf(A),R2(A,c)}function R2(A,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},$A===null){if(A===null)throw Error(r(308));$A=c,A.dependencies={lanes:0,firstContext:c},A.flags|=524288}else $A=$A.next=c;return p}var Kte=typeof AbortController<"u"?AbortController:function(){var A=[],c=this.signal={aborted:!1,addEventListener:function(p,m){A.push(m)}};this.abort=function(){c.aborted=!0,A.forEach(function(p){return p()})}},Gte=n.unstable_scheduleCallback,zte=n.unstable_NormalPriority,br={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bF(){return{controller:new Kte,data:new Map,refCount:0}}function Wy(A){A.refCount--,A.refCount===0&&Gte(zte,function(){A.controller.abort()})}var Yy=null,CF=0,Yp=0,Xp=null;function qte(A,c){if(Yy===null){var p=Yy=[];CF=0,Yp=SM(),Xp={status:"pending",value:void 0,then:function(m){p.push(m)}}}return CF++,c.then(D2,D2),c}function D2(){if(--CF===0&&Yy!==null){Xp!==null&&(Xp.status="fulfilled");var A=Yy;Yy=null,Yp=0,Xp=null;for(var c=0;c<A.length;c++)(0,A[c])()}}function $te(A,c){var p=[],m={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return A.then(function(){m.status="fulfilled",m.value=c;for(var E=0;E<p.length;E++)(0,p[E])(c)},function(E){for(m.status="rejected",m.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),m}var N2=V.S;V.S=function(A,c){y4=Gn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&qte(A,c),N2!==null&&N2(A,c)};var gf=q(null);function EF(){var A=gf.current;return A!==null?A:mn.pooledCache}function GB(A,c){c===null?oe(gf,gf.current):oe(gf,c.pool)}function L2(){var A=EF();return A===null?null:{parent:br._currentValue,pool:A}}var Jp=Error(r(460)),BF=Error(r(474)),zB=Error(r(542)),qB={then:function(){}};function Q2(A){return A=A.status,A==="fulfilled"||A==="rejected"}function k2(A,c,p){switch(p=A[p],p===void 0?A.push(c):p!==c&&(c.then(KA,KA),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,H2(A),A;default:if(typeof c.status=="string")c.then(KA,KA);else{if(A=mn,A!==null&&100<A.shellSuspendCounter)throw Error(r(482));A=c,A.status="pending",A.then(function(m){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=m}},function(m){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw A=c.reason,H2(A),A}throw vf=c,Jp}}function mf(A){try{var c=A._init;return c(A._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(vf=p,Jp):p}}var vf=null;function O2(){if(vf===null)throw Error(r(459));var A=vf;return vf=null,A}function H2(A){if(A===Jp||A===zB)throw Error(r(483))}var Zp=null,Xy=0;function $B(A){var c=Xy;return Xy+=1,Zp===null&&(Zp=[]),k2(Zp,A,c)}function Jy(A,c){c=c.props.ref,A.ref=c!==void 0?c:null}function jB(A,c){throw c.$$typeof===g?Error(r(525)):(A=Object.prototype.toString.call(c),Error(r(31,A==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":A)))}function V2(A){function c(Z,W){if(A){var ne=Z.deletions;ne===null?(Z.deletions=[W],Z.flags|=16):ne.push(W)}}function p(Z,W){if(!A)return null;for(;W!==null;)c(Z,W),W=W.sibling;return null}function m(Z){for(var W=new Map;Z!==null;)Z.key!==null?W.set(Z.key,Z):W.set(Z.index,Z),Z=Z.sibling;return W}function E(Z,W){return Z=zA(Z,W),Z.index=0,Z.sibling=null,Z}function x(Z,W,ne){return Z.index=ne,A?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<W?(Z.flags|=67108866,W):ne):(Z.flags|=67108866,W)):(Z.flags|=1048576,W)}function N(Z){return A&&Z.alternate===null&&(Z.flags|=67108866),Z}function O(Z,W,ne,ye){return W===null||W.tag!==6?(W=dF(ne,Z.mode,ye),W.return=Z,W):(W=E(W,ne),W.return=Z,W)}function $(Z,W,ne,ye){var We=ne.type;return We===C?pe(Z,W,ne.props.children,ye,ne.key):W!==null&&(W.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===H&&mf(We)===W.type)?(W=E(W,ne.props),Jy(W,ne),W.return=Z,W):(W=OB(ne.type,ne.key,ne.props,null,Z.mode,ye),Jy(W,ne),W.return=Z,W)}function ie(Z,W,ne,ye){return W===null||W.tag!==4||W.stateNode.containerInfo!==ne.containerInfo||W.stateNode.implementation!==ne.implementation?(W=fF(ne,Z.mode,ye),W.return=Z,W):(W=E(W,ne.children||[]),W.return=Z,W)}function pe(Z,W,ne,ye,We){return W===null||W.tag!==7?(W=df(ne,Z.mode,ye,We),W.return=Z,W):(W=E(W,ne),W.return=Z,W)}function we(Z,W,ne){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=dF(""+W,Z.mode,ne),W.return=Z,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return ne=OB(W.type,W.key,W.props,null,Z.mode,ne),Jy(ne,W),ne.return=Z,ne;case b:return W=fF(W,Z.mode,ne),W.return=Z,W;case H:return W=mf(W),we(Z,W,ne)}if(ge(W)||z(W))return W=df(W,Z.mode,ne,null),W.return=Z,W;if(typeof W.then=="function")return we(Z,$B(W),ne);if(W.$$typeof===T)return we(Z,KB(Z,W),ne);jB(Z,W)}return null}function ae(Z,W,ne,ye){var We=W!==null?W.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return We!==null?null:O(Z,W,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case v:return ne.key===We?$(Z,W,ne,ye):null;case b:return ne.key===We?ie(Z,W,ne,ye):null;case H:return ne=mf(ne),ae(Z,W,ne,ye)}if(ge(ne)||z(ne))return We!==null?null:pe(Z,W,ne,ye,null);if(typeof ne.then=="function")return ae(Z,W,$B(ne),ye);if(ne.$$typeof===T)return ae(Z,W,KB(Z,ne),ye);jB(Z,ne)}return null}function Ae(Z,W,ne,ye,We){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return Z=Z.get(ne)||null,O(W,Z,""+ye,We);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return Z=Z.get(ye.key===null?ne:ye.key)||null,$(W,Z,ye,We);case b:return Z=Z.get(ye.key===null?ne:ye.key)||null,ie(W,Z,ye,We);case H:return ye=mf(ye),Ae(Z,W,ne,ye,We)}if(ge(ye)||z(ye))return Z=Z.get(ne)||null,pe(W,Z,ye,We,null);if(typeof ye.then=="function")return Ae(Z,W,ne,$B(ye),We);if(ye.$$typeof===T)return Ae(Z,W,ne,KB(W,ye),We);jB(W,ye)}return null}function He(Z,W,ne,ye){for(var We=null,Nt=null,Ge=W,ct=W=0,bt=null;Ge!==null&&ct<ne.length;ct++){Ge.index>ct?(bt=Ge,Ge=null):bt=Ge.sibling;var Lt=ae(Z,Ge,ne[ct],ye);if(Lt===null){Ge===null&&(Ge=bt);break}A&&Ge&&Lt.alternate===null&&c(Z,Ge),W=x(Lt,W,ct),Nt===null?We=Lt:Nt.sibling=Lt,Nt=Lt,Ge=bt}if(ct===ne.length)return p(Z,Ge),xt&&qA(Z,ct),We;if(Ge===null){for(;ct<ne.length;ct++)Ge=we(Z,ne[ct],ye),Ge!==null&&(W=x(Ge,W,ct),Nt===null?We=Ge:Nt.sibling=Ge,Nt=Ge);return xt&&qA(Z,ct),We}for(Ge=m(Ge);ct<ne.length;ct++)bt=Ae(Ge,Z,ct,ne[ct],ye),bt!==null&&(A&&bt.alternate!==null&&Ge.delete(bt.key===null?ct:bt.key),W=x(bt,W,ct),Nt===null?We=bt:Nt.sibling=bt,Nt=bt);return A&&Ge.forEach(function(mc){return c(Z,mc)}),xt&&qA(Z,ct),We}function Xe(Z,W,ne,ye){if(ne==null)throw Error(r(151));for(var We=null,Nt=null,Ge=W,ct=W=0,bt=null,Lt=ne.next();Ge!==null&&!Lt.done;ct++,Lt=ne.next()){Ge.index>ct?(bt=Ge,Ge=null):bt=Ge.sibling;var mc=ae(Z,Ge,Lt.value,ye);if(mc===null){Ge===null&&(Ge=bt);break}A&&Ge&&mc.alternate===null&&c(Z,Ge),W=x(mc,W,ct),Nt===null?We=mc:Nt.sibling=mc,Nt=mc,Ge=bt}if(Lt.done)return p(Z,Ge),xt&&qA(Z,ct),We;if(Ge===null){for(;!Lt.done;ct++,Lt=ne.next())Lt=we(Z,Lt.value,ye),Lt!==null&&(W=x(Lt,W,ct),Nt===null?We=Lt:Nt.sibling=Lt,Nt=Lt);return xt&&qA(Z,ct),We}for(Ge=m(Ge);!Lt.done;ct++,Lt=ne.next())Lt=Ae(Ge,Z,ct,Lt.value,ye),Lt!==null&&(A&&Lt.alternate!==null&&Ge.delete(Lt.key===null?ct:Lt.key),W=x(Lt,W,ct),Nt===null?We=Lt:Nt.sibling=Lt,Nt=Lt);return A&&Ge.forEach(function(ire){return c(Z,ire)}),xt&&qA(Z,ct),We}function on(Z,W,ne,ye){if(typeof ne=="object"&&ne!==null&&ne.type===C&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case v:e:{for(var We=ne.key;W!==null;){if(W.key===We){if(We=ne.type,We===C){if(W.tag===7){p(Z,W.sibling),ye=E(W,ne.props.children),ye.return=Z,Z=ye;break e}}else if(W.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===H&&mf(We)===W.type){p(Z,W.sibling),ye=E(W,ne.props),Jy(ye,ne),ye.return=Z,Z=ye;break e}p(Z,W);break}else c(Z,W);W=W.sibling}ne.type===C?(ye=df(ne.props.children,Z.mode,ye,ne.key),ye.return=Z,Z=ye):(ye=OB(ne.type,ne.key,ne.props,null,Z.mode,ye),Jy(ye,ne),ye.return=Z,Z=ye)}return N(Z);case b:e:{for(We=ne.key;W!==null;){if(W.key===We)if(W.tag===4&&W.stateNode.containerInfo===ne.containerInfo&&W.stateNode.implementation===ne.implementation){p(Z,W.sibling),ye=E(W,ne.children||[]),ye.return=Z,Z=ye;break e}else{p(Z,W);break}else c(Z,W);W=W.sibling}ye=fF(ne,Z.mode,ye),ye.return=Z,Z=ye}return N(Z);case H:return ne=mf(ne),on(Z,W,ne,ye)}if(ge(ne))return He(Z,W,ne,ye);if(z(ne)){if(We=z(ne),typeof We!="function")throw Error(r(150));return ne=We.call(ne),Xe(Z,W,ne,ye)}if(typeof ne.then=="function")return on(Z,W,$B(ne),ye);if(ne.$$typeof===T)return on(Z,W,KB(Z,ne),ye);jB(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,W!==null&&W.tag===6?(p(Z,W.sibling),ye=E(W,ne),ye.return=Z,Z=ye):(p(Z,W),ye=dF(ne,Z.mode,ye),ye.return=Z,Z=ye),N(Z)):p(Z,W)}return function(Z,W,ne,ye){try{Xy=0;var We=on(Z,W,ne,ye);return Zp=null,We}catch(Ge){if(Ge===Jp||Ge===zB)throw Ge;var Nt=Ns(29,Ge,null,Z.mode);return Nt.lanes=ye,Nt.return=Z,Nt}finally{}}}var yf=V2(!0),K2=V2(!1),ec=!1;function SF(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xF(A,c){A=A.updateQueue,c.updateQueue===A&&(c.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function tc(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function nc(A,c,p){var m=A.updateQueue;if(m===null)return null;if(m=m.shared,(Vt&2)!==0){var E=m.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),m.pending=c,c=kB(A),x2(A,null,p),c}return QB(A,m,c,p),kB(A)}function Zy(A,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,zi(A,p)}}function _F(A,c){var p=A.updateQueue,m=A.alternate;if(m!==null&&(m=m.updateQueue,p===m)){var E=null,x=null;if(p=p.firstBaseUpdate,p!==null){do{var N={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};x===null?E=x=N:x=x.next=N,p=p.next}while(p!==null);x===null?E=x=c:x=x.next=c}else E=x=c;p={baseState:m.baseState,firstBaseUpdate:E,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},A.updateQueue=p;return}A=p.lastBaseUpdate,A===null?p.firstBaseUpdate=c:A.next=c,p.lastBaseUpdate=c}var TF=!1;function e0(){if(TF){var A=Xp;if(A!==null)throw A}}function t0(A,c,p,m){TF=!1;var E=A.updateQueue;ec=!1;var x=E.firstBaseUpdate,N=E.lastBaseUpdate,O=E.shared.pending;if(O!==null){E.shared.pending=null;var $=O,ie=$.next;$.next=null,N===null?x=ie:N.next=ie,N=$;var pe=A.alternate;pe!==null&&(pe=pe.updateQueue,O=pe.lastBaseUpdate,O!==N&&(O===null?pe.firstBaseUpdate=ie:O.next=ie,pe.lastBaseUpdate=$))}if(x!==null){var we=E.baseState;N=0,pe=ie=$=null,O=x;do{var ae=O.lane&-536870913,Ae=ae!==O.lane;if(Ae?(wt&ae)===ae:(m&ae)===ae){ae!==0&&ae===Yp&&(TF=!0),pe!==null&&(pe=pe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var He=A,Xe=O;ae=c;var on=p;switch(Xe.tag){case 1:if(He=Xe.payload,typeof He=="function"){we=He.call(on,we,ae);break e}we=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Xe.payload,ae=typeof He=="function"?He.call(on,we,ae):He,ae==null)break e;we=h({},we,ae);break e;case 2:ec=!0}}ae=O.callback,ae!==null&&(A.flags|=64,Ae&&(A.flags|=8192),Ae=E.callbacks,Ae===null?E.callbacks=[ae]:Ae.push(ae))}else Ae={lane:ae,tag:O.tag,payload:O.payload,callback:O.callback,next:null},pe===null?(ie=pe=Ae,$=we):pe=pe.next=Ae,N|=ae;if(O=O.next,O===null){if(O=E.shared.pending,O===null)break;Ae=O,O=Ae.next,Ae.next=null,E.lastBaseUpdate=Ae,E.shared.pending=null}}while(!0);pe===null&&($=we),E.baseState=$,E.firstBaseUpdate=ie,E.lastBaseUpdate=pe,x===null&&(E.shared.lanes=0),oc|=N,A.lanes=N,A.memoizedState=we}}function G2(A,c){if(typeof A!="function")throw Error(r(191,A));A.call(c)}function z2(A,c){var p=A.callbacks;if(p!==null)for(A.callbacks=null,A=0;A<p.length;A++)G2(p[A],c)}var eg=q(null),WB=q(0);function q2(A,c){A=rl,oe(WB,A),oe(eg,c),rl=A|c.baseLanes}function IF(){oe(WB,rl),oe(eg,eg.current)}function FF(){rl=WB.current,X(eg),X(WB)}var Ls=q(null),Ta=null;function rc(A){var c=A.alternate;oe(Ar,Ar.current&1),oe(Ls,A),Ta===null&&(c===null||eg.current!==null||c.memoizedState!==null)&&(Ta=A)}function MF(A){oe(Ar,Ar.current),oe(Ls,A),Ta===null&&(Ta=A)}function $2(A){A.tag===22?(oe(Ar,Ar.current),oe(Ls,A),Ta===null&&(Ta=A)):ic()}function ic(){oe(Ar,Ar.current),oe(Ls,Ls.current)}function Qs(A){X(Ls),Ta===A&&(Ta=null),X(Ar)}var Ar=q(0);function YB(A){for(var c=A;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||LM(p)||QM(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var WA=0,At=null,sn=null,Cr=null,XB=!1,tg=!1,wf=!1,JB=0,n0=0,ng=null,jte=0;function Jn(){throw Error(r(321))}function UF(A,c){if(c===null)return!1;for(var p=0;p<c.length&&p<A.length;p++)if(!Ds(A[p],c[p]))return!1;return!0}function PF(A,c,p,m,E,x){return WA=x,At=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=A===null||A.memoizedState===null?FH:jF,wf=!1,x=p(m,E),wf=!1,tg&&(x=W2(c,p,m,E)),j2(A),x}function j2(A){V.H=s0;var c=sn!==null&&sn.next!==null;if(WA=0,Cr=sn=At=null,XB=!1,n0=0,ng=null,c)throw Error(r(300));A===null||Er||(A=A.dependencies,A!==null&&VB(A)&&(Er=!0))}function W2(A,c,p,m){At=A;var E=0;do{if(tg&&(ng=null),n0=0,tg=!1,25<=E)throw Error(r(301));if(E+=1,Cr=sn=null,A.updateQueue!=null){var x=A.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}V.H=MH,x=c(p,m)}while(tg);return x}function Wte(){var A=V.H,c=A.useState()[0];return c=typeof c.then=="function"?r0(c):c,A=A.useState()[0],(sn!==null?sn.memoizedState:null)!==A&&(At.flags|=1024),c}function RF(){var A=JB!==0;return JB=0,A}function DF(A,c,p){c.updateQueue=A.updateQueue,c.flags&=-2053,A.lanes&=~p}function NF(A){if(XB){for(A=A.memoizedState;A!==null;){var c=A.queue;c!==null&&(c.pending=null),A=A.next}XB=!1}WA=0,Cr=sn=At=null,tg=!1,n0=JB=0,ng=null}function qi(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?At.memoizedState=Cr=A:Cr=Cr.next=A,Cr}function lr(){if(sn===null){var A=At.alternate;A=A!==null?A.memoizedState:null}else A=sn.next;var c=Cr===null?At.memoizedState:Cr.next;if(c!==null)Cr=c,sn=A;else{if(A===null)throw At.alternate===null?Error(r(467)):Error(r(310));sn=A,A={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},Cr===null?At.memoizedState=Cr=A:Cr=Cr.next=A}return Cr}function ZB(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function r0(A){var c=n0;return n0+=1,ng===null&&(ng=[]),A=k2(ng,A,c),c=At,(Cr===null?c.memoizedState:Cr.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?FH:jF),A}function eS(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return r0(A);if(A.$$typeof===T)return ci(A)}throw Error(r(438,String(A)))}function LF(A){var c=null,p=At.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var m=At.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=ZB(),At.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(A),m=0;m<A;m++)p[m]=G;return c.index++,p}function YA(A,c){return typeof c=="function"?c(A):c}function tS(A){var c=lr();return QF(c,sn,A)}function QF(A,c,p){var m=A.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=p;var E=A.baseQueue,x=m.pending;if(x!==null){if(E!==null){var N=E.next;E.next=x.next,x.next=N}c.baseQueue=E=x,m.pending=null}if(x=A.baseState,E===null)A.memoizedState=x;else{c=E.next;var O=N=null,$=null,ie=c,pe=!1;do{var we=ie.lane&-536870913;if(we!==ie.lane?(wt&we)===we:(WA&we)===we){var ae=ie.revertLane;if(ae===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),we===Yp&&(pe=!0);else if((WA&ae)===ae){ie=ie.next,ae===Yp&&(pe=!0);continue}else we={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},$===null?(O=$=we,N=x):$=$.next=we,At.lanes|=ae,oc|=ae;we=ie.action,wf&&p(x,we),x=ie.hasEagerState?ie.eagerState:p(x,we)}else ae={lane:we,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},$===null?(O=$=ae,N=x):$=$.next=ae,At.lanes|=we,oc|=we;ie=ie.next}while(ie!==null&&ie!==c);if($===null?N=x:$.next=O,!Ds(x,A.memoizedState)&&(Er=!0,pe&&(p=Xp,p!==null)))throw p;A.memoizedState=x,A.baseState=N,A.baseQueue=$,m.lastRenderedState=x}return E===null&&(m.lanes=0),[A.memoizedState,m.dispatch]}function kF(A){var c=lr(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=A;var m=p.dispatch,E=p.pending,x=c.memoizedState;if(E!==null){p.pending=null;var N=E=E.next;do x=A(x,N.action),N=N.next;while(N!==E);Ds(x,c.memoizedState)||(Er=!0),c.memoizedState=x,c.baseQueue===null&&(c.baseState=x),p.lastRenderedState=x}return[x,m]}function Y2(A,c,p){var m=At,E=lr(),x=xt;if(x){if(p===void 0)throw Error(r(407));p=p()}else p=c();var N=!Ds((sn||E).memoizedState,p);if(N&&(E.memoizedState=p,Er=!0),E=E.queue,VF(Z2.bind(null,m,E,A),[A]),E.getSnapshot!==c||N||Cr!==null&&Cr.memoizedState.tag&1){if(m.flags|=2048,rg(9,{destroy:void 0},J2.bind(null,m,E,p,c),null),mn===null)throw Error(r(349));x||(WA&127)!==0||X2(m,c,p)}return p}function X2(A,c,p){A.flags|=16384,A={getSnapshot:c,value:p},c=At.updateQueue,c===null?(c=ZB(),At.updateQueue=c,c.stores=[A]):(p=c.stores,p===null?c.stores=[A]:p.push(A))}function J2(A,c,p,m){c.value=p,c.getSnapshot=m,eH(c)&&tH(A)}function Z2(A,c,p){return p(function(){eH(c)&&tH(A)})}function eH(A){var c=A.getSnapshot;A=A.value;try{var p=c();return!Ds(A,p)}catch{return!0}}function tH(A){var c=cf(A,2);c!==null&&hs(c,A,2)}function OF(A){var c=qi();if(typeof A=="function"){var p=A;if(A=p(),wf){zr(!0);try{p()}finally{zr(!1)}}}return c.memoizedState=c.baseState=A,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:YA,lastRenderedState:A},c}function nH(A,c,p,m){return A.baseState=p,QF(A,sn,typeof m=="function"?m:YA)}function Yte(A,c,p,m,E){if(iS(A))throw Error(r(485));if(A=c.action,A!==null){var x={payload:E,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){x.listeners.push(N)}};V.T!==null?p(!0):x.isTransition=!1,m(x),p=c.pending,p===null?(x.next=c.pending=x,rH(c,x)):(x.next=p.next,c.pending=p.next=x)}}function rH(A,c){var p=c.action,m=c.payload,E=A.state;if(c.isTransition){var x=V.T,N={};V.T=N;try{var O=p(E,m),$=V.S;$!==null&&$(N,O),iH(A,c,O)}catch(ie){HF(A,c,ie)}finally{x!==null&&N.types!==null&&(x.types=N.types),V.T=x}}else try{x=p(E,m),iH(A,c,x)}catch(ie){HF(A,c,ie)}}function iH(A,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(m){sH(A,c,m)},function(m){return HF(A,c,m)}):sH(A,c,p)}function sH(A,c,p){c.status="fulfilled",c.value=p,aH(c),A.state=p,c=A.pending,c!==null&&(p=c.next,p===c?A.pending=null:(p=p.next,c.next=p,rH(A,p)))}function HF(A,c,p){var m=A.pending;if(A.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=p,aH(c),c=c.next;while(c!==m)}A.action=null}function aH(A){A=A.listeners;for(var c=0;c<A.length;c++)(0,A[c])()}function oH(A,c){return c}function AH(A,c){if(xt){var p=mn.formState;if(p!==null){e:{var m=At;if(xt){if(Mn){t:{for(var E=Mn,x=_a;E.nodeType!==8;){if(!x){E=null;break t}if(E=Ia(E.nextSibling),E===null){E=null;break t}}x=E.data,E=x==="F!"||x==="F"?E:null}if(E){Mn=Ia(E.nextSibling),m=E.data==="F!";break e}}Ju(m)}m=!1}m&&(c=p[0])}}return p=qi(),p.memoizedState=p.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oH,lastRenderedState:c},p.queue=m,p=_H.bind(null,At,m),m.dispatch=p,m=OF(!1),x=$F.bind(null,At,!1,m.queue),m=qi(),E={state:c,dispatch:null,action:A,pending:null},m.queue=E,p=Yte.bind(null,At,E,x,p),E.dispatch=p,m.memoizedState=A,[c,p,!1]}function lH(A){var c=lr();return uH(c,sn,A)}function uH(A,c,p){if(c=QF(A,c,oH)[0],A=tS(YA)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=r0(c)}catch(N){throw N===Jp?zB:N}else m=c;c=lr();var E=c.queue,x=E.dispatch;return p!==c.memoizedState&&(At.flags|=2048,rg(9,{destroy:void 0},Xte.bind(null,E,p),null)),[m,x,A]}function Xte(A,c){A.action=c}function cH(A){var c=lr(),p=sn;if(p!==null)return uH(c,p,A);lr(),c=c.memoizedState,p=lr();var m=p.queue.dispatch;return p.memoizedState=A,[c,m,!1]}function rg(A,c,p,m){return A={tag:A,create:p,deps:m,inst:c,next:null},c=At.updateQueue,c===null&&(c=ZB(),At.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=A.next=A:(m=p.next,p.next=A,A.next=m,c.lastEffect=A),A}function dH(){return lr().memoizedState}function nS(A,c,p,m){var E=qi();At.flags|=A,E.memoizedState=rg(1|c,{destroy:void 0},p,m===void 0?null:m)}function rS(A,c,p,m){var E=lr();m=m===void 0?null:m;var x=E.memoizedState.inst;sn!==null&&m!==null&&UF(m,sn.memoizedState.deps)?E.memoizedState=rg(c,x,p,m):(At.flags|=A,E.memoizedState=rg(1|c,x,p,m))}function fH(A,c){nS(8390656,8,A,c)}function VF(A,c){rS(2048,8,A,c)}function Jte(A){At.flags|=4;var c=At.updateQueue;if(c===null)c=ZB(),At.updateQueue=c,c.events=[A];else{var p=c.events;p===null?c.events=[A]:p.push(A)}}function hH(A){var c=lr().memoizedState;return Jte({ref:c,nextImpl:A}),function(){if((Vt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function pH(A,c){return rS(4,2,A,c)}function gH(A,c){return rS(4,4,A,c)}function mH(A,c){if(typeof c=="function"){A=A();var p=c(A);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return A=A(),c.current=A,function(){c.current=null}}function vH(A,c,p){p=p!=null?p.concat([A]):null,rS(4,4,mH.bind(null,c,A),p)}function KF(){}function yH(A,c){var p=lr();c=c===void 0?null:c;var m=p.memoizedState;return c!==null&&UF(c,m[1])?m[0]:(p.memoizedState=[A,c],A)}function wH(A,c){var p=lr();c=c===void 0?null:c;var m=p.memoizedState;if(c!==null&&UF(c,m[1]))return m[0];if(m=A(),wf){zr(!0);try{A()}finally{zr(!1)}}return p.memoizedState=[m,c],m}function GF(A,c,p){return p===void 0||(WA&1073741824)!==0&&(wt&261930)===0?A.memoizedState=c:(A.memoizedState=p,A=b4(),At.lanes|=A,oc|=A,p)}function bH(A,c,p,m){return Ds(p,c)?p:eg.current!==null?(A=GF(A,p,m),Ds(A,c)||(Er=!0),A):(WA&42)===0||(WA&1073741824)!==0&&(wt&261930)===0?(Er=!0,A.memoizedState=p):(A=b4(),At.lanes|=A,oc|=A,c)}function CH(A,c,p,m,E){var x=j.p;j.p=x!==0&&8>x?x:8;var N=V.T,O={};V.T=O,$F(A,!1,c,p);try{var $=E(),ie=V.S;if(ie!==null&&ie(O,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var pe=$te($,m);i0(A,c,pe,Hs(A))}else i0(A,c,m,Hs(A))}catch(we){i0(A,c,{then:function(){},status:"rejected",reason:we},Hs())}finally{j.p=x,N!==null&&O.types!==null&&(N.types=O.types),V.T=N}}function Zte(){}function zF(A,c,p,m){if(A.tag!==5)throw Error(r(476));var E=EH(A).queue;CH(A,E,c,re,p===null?Zte:function(){return BH(A),p(m)})}function EH(A){var c=A.memoizedState;if(c!==null)return c;c={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:YA,lastRenderedState:re},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:YA,lastRenderedState:p},next:null},A.memoizedState=c,A=A.alternate,A!==null&&(A.memoizedState=c),c}function BH(A){var c=EH(A);c.next===null&&(c=A.alternate.memoizedState),i0(A,c.next.queue,{},Hs())}function qF(){return ci(b0)}function SH(){return lr().memoizedState}function xH(){return lr().memoizedState}function ene(A){for(var c=A.return;c!==null;){switch(c.tag){case 24:case 3:var p=Hs();A=tc(p);var m=nc(c,A,p);m!==null&&(hs(m,c,p),Zy(m,c,p)),c={cache:bF()},A.payload=c;return}c=c.return}}function tne(A,c,p){var m=Hs();p={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},iS(A)?TH(c,p):(p=uF(A,c,p,m),p!==null&&(hs(p,A,m),IH(p,c,m)))}function _H(A,c,p){var m=Hs();i0(A,c,p,m)}function i0(A,c,p,m){var E={lane:m,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(iS(A))TH(c,E);else{var x=A.alternate;if(A.lanes===0&&(x===null||x.lanes===0)&&(x=c.lastRenderedReducer,x!==null))try{var N=c.lastRenderedState,O=x(N,p);if(E.hasEagerState=!0,E.eagerState=O,Ds(O,N))return QB(A,c,E,0),mn===null&&LB(),!1}catch{}finally{}if(p=uF(A,c,E,m),p!==null)return hs(p,A,m),IH(p,c,m),!0}return!1}function $F(A,c,p,m){if(m={lane:2,revertLane:SM(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},iS(A)){if(c)throw Error(r(479))}else c=uF(A,p,m,2),c!==null&&hs(c,A,2)}function iS(A){var c=A.alternate;return A===At||c!==null&&c===At}function TH(A,c){tg=XB=!0;var p=A.pending;p===null?c.next=c:(c.next=p.next,p.next=c),A.pending=c}function IH(A,c,p){if((p&4194048)!==0){var m=c.lanes;m&=A.pendingLanes,p|=m,c.lanes=p,zi(A,p)}}var s0={readContext:ci,use:eS,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useLayoutEffect:Jn,useInsertionEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useSyncExternalStore:Jn,useId:Jn,useHostTransitionStatus:Jn,useFormState:Jn,useActionState:Jn,useOptimistic:Jn,useMemoCache:Jn,useCacheRefresh:Jn};s0.useEffectEvent=Jn;var FH={readContext:ci,use:eS,useCallback:function(A,c){return qi().memoizedState=[A,c===void 0?null:c],A},useContext:ci,useEffect:fH,useImperativeHandle:function(A,c,p){p=p!=null?p.concat([A]):null,nS(4194308,4,mH.bind(null,c,A),p)},useLayoutEffect:function(A,c){return nS(4194308,4,A,c)},useInsertionEffect:function(A,c){nS(4,2,A,c)},useMemo:function(A,c){var p=qi();c=c===void 0?null:c;var m=A();if(wf){zr(!0);try{A()}finally{zr(!1)}}return p.memoizedState=[m,c],m},useReducer:function(A,c,p){var m=qi();if(p!==void 0){var E=p(c);if(wf){zr(!0);try{p(c)}finally{zr(!1)}}}else E=c;return m.memoizedState=m.baseState=E,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:E},m.queue=A,A=A.dispatch=tne.bind(null,At,A),[m.memoizedState,A]},useRef:function(A){var c=qi();return A={current:A},c.memoizedState=A},useState:function(A){A=OF(A);var c=A.queue,p=_H.bind(null,At,c);return c.dispatch=p,[A.memoizedState,p]},useDebugValue:KF,useDeferredValue:function(A,c){var p=qi();return GF(p,A,c)},useTransition:function(){var A=OF(!1);return A=CH.bind(null,At,A.queue,!0,!1),qi().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,c,p){var m=At,E=qi();if(xt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),mn===null)throw Error(r(349));(wt&127)!==0||X2(m,c,p)}E.memoizedState=p;var x={value:p,getSnapshot:c};return E.queue=x,fH(Z2.bind(null,m,x,A),[A]),m.flags|=2048,rg(9,{destroy:void 0},J2.bind(null,m,x,p,c),null),p},useId:function(){var A=qi(),c=mn.identifierPrefix;if(xt){var p=Yo,m=Wo;p=(m&~(1<<32-ve(m)-1)).toString(32)+p,c="_"+c+"R_"+p,p=JB++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=jte++,c="_"+c+"r_"+p.toString(32)+"_";return A.memoizedState=c},useHostTransitionStatus:qF,useFormState:AH,useActionState:AH,useOptimistic:function(A){var c=qi();c.memoizedState=c.baseState=A;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=$F.bind(null,At,!0,p),p.dispatch=c,[A,c]},useMemoCache:LF,useCacheRefresh:function(){return qi().memoizedState=ene.bind(null,At)},useEffectEvent:function(A){var c=qi(),p={impl:A};return c.memoizedState=p,function(){if((Vt&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},jF={readContext:ci,use:eS,useCallback:yH,useContext:ci,useEffect:VF,useImperativeHandle:vH,useInsertionEffect:pH,useLayoutEffect:gH,useMemo:wH,useReducer:tS,useRef:dH,useState:function(){return tS(YA)},useDebugValue:KF,useDeferredValue:function(A,c){var p=lr();return bH(p,sn.memoizedState,A,c)},useTransition:function(){var A=tS(YA)[0],c=lr().memoizedState;return[typeof A=="boolean"?A:r0(A),c]},useSyncExternalStore:Y2,useId:SH,useHostTransitionStatus:qF,useFormState:lH,useActionState:lH,useOptimistic:function(A,c){var p=lr();return nH(p,sn,A,c)},useMemoCache:LF,useCacheRefresh:xH};jF.useEffectEvent=hH;var MH={readContext:ci,use:eS,useCallback:yH,useContext:ci,useEffect:VF,useImperativeHandle:vH,useInsertionEffect:pH,useLayoutEffect:gH,useMemo:wH,useReducer:kF,useRef:dH,useState:function(){return kF(YA)},useDebugValue:KF,useDeferredValue:function(A,c){var p=lr();return sn===null?GF(p,A,c):bH(p,sn.memoizedState,A,c)},useTransition:function(){var A=kF(YA)[0],c=lr().memoizedState;return[typeof A=="boolean"?A:r0(A),c]},useSyncExternalStore:Y2,useId:SH,useHostTransitionStatus:qF,useFormState:cH,useActionState:cH,useOptimistic:function(A,c){var p=lr();return sn!==null?nH(p,sn,A,c):(p.baseState=A,[A,p.queue.dispatch])},useMemoCache:LF,useCacheRefresh:xH};MH.useEffectEvent=hH;function WF(A,c,p,m){c=A.memoizedState,p=p(m,c),p=p==null?c:h({},c,p),A.memoizedState=p,A.lanes===0&&(A.updateQueue.baseState=p)}var YF={enqueueSetState:function(A,c,p){A=A._reactInternals;var m=Hs(),E=tc(m);E.payload=c,p!=null&&(E.callback=p),c=nc(A,E,m),c!==null&&(hs(c,A,m),Zy(c,A,m))},enqueueReplaceState:function(A,c,p){A=A._reactInternals;var m=Hs(),E=tc(m);E.tag=1,E.payload=c,p!=null&&(E.callback=p),c=nc(A,E,m),c!==null&&(hs(c,A,m),Zy(c,A,m))},enqueueForceUpdate:function(A,c){A=A._reactInternals;var p=Hs(),m=tc(p);m.tag=2,c!=null&&(m.callback=c),c=nc(A,m,p),c!==null&&(hs(c,A,p),Zy(c,A,p))}};function UH(A,c,p,m,E,x,N){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(m,x,N):c.prototype&&c.prototype.isPureReactComponent?!zy(p,m)||!zy(E,x):!0}function PH(A,c,p,m){A=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,m),c.state!==A&&YF.enqueueReplaceState(c,c.state,null)}function bf(A,c){var p=c;if("ref"in c){p={};for(var m in c)m!=="ref"&&(p[m]=c[m])}if(A=A.defaultProps){p===c&&(p=h({},p));for(var E in A)p[E]===void 0&&(p[E]=A[E])}return p}function RH(A){NB(A)}function DH(A){console.error(A)}function NH(A){NB(A)}function sS(A,c){try{var p=A.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function LH(A,c,p){try{var m=A.onCaughtError;m(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function XF(A,c,p){return p=tc(p),p.tag=3,p.payload={element:null},p.callback=function(){sS(A,c)},p}function QH(A){return A=tc(A),A.tag=3,A}function kH(A,c,p,m){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var x=m.value;A.payload=function(){return E(x)},A.callback=function(){LH(c,p,m)}}var N=p.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(A.callback=function(){LH(c,p,m),typeof E!="function"&&(Ac===null?Ac=new Set([this]):Ac.add(this));var O=m.stack;this.componentDidCatch(m.value,{componentStack:O!==null?O:""})})}function nne(A,c,p,m,E){if(p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=p.alternate,c!==null&&Wp(c,p,E,!0),p=Ls.current,p!==null){switch(p.tag){case 31:case 13:return Ta===null?mS():p.alternate===null&&Zn===0&&(Zn=3),p.flags&=-257,p.flags|=65536,p.lanes=E,m===qB?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([m]):c.add(m),CM(A,m,E)),!1;case 22:return p.flags|=65536,m===qB?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([m]):p.add(m)),CM(A,m,E)),!1}throw Error(r(435,p.tag))}return CM(A,m,E),mS(),!1}if(xt)return c=Ls.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=E,m!==gF&&(A=Error(r(422),{cause:m}),jy(Ba(A,p)))):(m!==gF&&(c=Error(r(423),{cause:m}),jy(Ba(c,p))),A=A.current.alternate,A.flags|=65536,E&=-E,A.lanes|=E,m=Ba(m,p),E=XF(A.stateNode,m,E),_F(A,E),Zn!==4&&(Zn=2)),!1;var x=Error(r(520),{cause:m});if(x=Ba(x,p),f0===null?f0=[x]:f0.push(x),Zn!==4&&(Zn=2),c===null)return!0;m=Ba(m,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,A=E&-E,p.lanes|=A,A=XF(p.stateNode,m,A),_F(p,A),!1;case 1:if(c=p.type,x=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ac===null||!Ac.has(x))))return p.flags|=65536,E&=-E,p.lanes|=E,E=QH(E),kH(E,A,p,m),_F(p,E),!1}p=p.return}while(p!==null);return!1}var JF=Error(r(461)),Er=!1;function di(A,c,p,m){c.child=A===null?K2(c,null,p,m):yf(c,A.child,p,m)}function OH(A,c,p,m,E){p=p.render;var x=c.ref;if("ref"in m){var N={};for(var O in m)O!=="ref"&&(N[O]=m[O])}else N=m;return pf(c),m=PF(A,c,p,N,x,E),O=RF(),A!==null&&!Er?(DF(A,c,E),XA(A,c,E)):(xt&&O&&hF(c),c.flags|=1,di(A,c,m,E),c.child)}function HH(A,c,p,m,E){if(A===null){var x=p.type;return typeof x=="function"&&!cF(x)&&x.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=x,VH(A,c,x,m,E)):(A=OB(p.type,null,m,c,c.mode,E),A.ref=c.ref,A.return=c,c.child=A)}if(x=A.child,!aM(A,E)){var N=x.memoizedProps;if(p=p.compare,p=p!==null?p:zy,p(N,m)&&A.ref===c.ref)return XA(A,c,E)}return c.flags|=1,A=zA(x,m),A.ref=c.ref,A.return=c,c.child=A}function VH(A,c,p,m,E){if(A!==null){var x=A.memoizedProps;if(zy(x,m)&&A.ref===c.ref)if(Er=!1,c.pendingProps=m=x,aM(A,E))(A.flags&131072)!==0&&(Er=!0);else return c.lanes=A.lanes,XA(A,c,E)}return ZF(A,c,p,m,E)}function KH(A,c,p,m){var E=m.children,x=A!==null?A.memoizedState:null;if(A===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((c.flags&128)!==0){if(x=x!==null?x.baseLanes|p:p,A!==null){for(m=c.child=A.child,E=0;m!==null;)E=E|m.lanes|m.childLanes,m=m.sibling;m=E&~x}else m=0,c.child=null;return GH(A,c,x,p,m)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},A!==null&&GB(c,x!==null?x.cachePool:null),x!==null?q2(c,x):IF(),$2(c);else return m=c.lanes=536870912,GH(A,c,x!==null?x.baseLanes|p:p,p,m)}else x!==null?(GB(c,x.cachePool),q2(c,x),ic(),c.memoizedState=null):(A!==null&&GB(c,null),IF(),ic());return di(A,c,E,p),c.child}function a0(A,c){return A!==null&&A.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function GH(A,c,p,m,E){var x=EF();return x=x===null?null:{parent:br._currentValue,pool:x},c.memoizedState={baseLanes:p,cachePool:x},A!==null&&GB(c,null),IF(),$2(c),A!==null&&Wp(A,c,m,!0),c.childLanes=E,null}function aS(A,c){return c=AS({mode:c.mode,children:c.children},A.mode),c.ref=A.ref,A.child=c,c.return=A,c}function zH(A,c,p){return yf(c,A.child,null,p),A=aS(c,c.pendingProps),A.flags|=2,Qs(c),c.memoizedState=null,A}function rne(A,c,p){var m=c.pendingProps,E=(c.flags&128)!==0;if(c.flags&=-129,A===null){if(xt){if(m.mode==="hidden")return A=aS(c,m),c.lanes=536870912,a0(null,A);if(MF(c),(A=Mn)?(A=rV(A,_a),A=A!==null&&A.data==="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Yu!==null?{id:Wo,overflow:Yo}:null,retryLane:536870912,hydrationErrors:null},p=T2(A),p.return=c,c.child=p,ui=c,Mn=null)):A=null,A===null)throw Ju(c);return c.lanes=536870912,null}return aS(c,m)}var x=A.memoizedState;if(x!==null){var N=x.dehydrated;if(MF(c),E)if(c.flags&256)c.flags&=-257,c=zH(A,c,p);else if(c.memoizedState!==null)c.child=A.child,c.flags|=128,c=null;else throw Error(r(558));else if(Er||Wp(A,c,p,!1),E=(p&A.childLanes)!==0,Er||E){if(m=mn,m!==null&&(N=CB(m,p),N!==0&&N!==x.retryLane))throw x.retryLane=N,cf(A,N),hs(m,A,N),JF;mS(),c=zH(A,c,p)}else A=x.treeContext,Mn=Ia(N.nextSibling),ui=c,xt=!0,Xu=null,_a=!1,A!==null&&M2(c,A),c=aS(c,m),c.flags|=4096;return c}return A=zA(A.child,{mode:m.mode,children:m.children}),A.ref=c.ref,c.child=A,A.return=c,A}function oS(A,c){var p=c.ref;if(p===null)A!==null&&A.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(A===null||A.ref!==p)&&(c.flags|=4194816)}}function ZF(A,c,p,m,E){return pf(c),p=PF(A,c,p,m,void 0,E),m=RF(),A!==null&&!Er?(DF(A,c,E),XA(A,c,E)):(xt&&m&&hF(c),c.flags|=1,di(A,c,p,E),c.child)}function qH(A,c,p,m,E,x){return pf(c),c.updateQueue=null,p=W2(c,m,p,E),j2(A),m=RF(),A!==null&&!Er?(DF(A,c,x),XA(A,c,x)):(xt&&m&&hF(c),c.flags|=1,di(A,c,p,x),c.child)}function $H(A,c,p,m,E){if(pf(c),c.stateNode===null){var x=zp,N=p.contextType;typeof N=="object"&&N!==null&&(x=ci(N)),x=new p(m,x),c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=YF,c.stateNode=x,x._reactInternals=c,x=c.stateNode,x.props=m,x.state=c.memoizedState,x.refs={},SF(c),N=p.contextType,x.context=typeof N=="object"&&N!==null?ci(N):zp,x.state=c.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(WF(c,p,N,m),x.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(N=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),N!==x.state&&YF.enqueueReplaceState(x,x.state,null),t0(c,m,x,E),e0(),x.state=c.memoizedState),typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(A===null){x=c.stateNode;var O=c.memoizedProps,$=bf(p,O);x.props=$;var ie=x.context,pe=p.contextType;N=zp,typeof pe=="object"&&pe!==null&&(N=ci(pe));var we=p.getDerivedStateFromProps;pe=typeof we=="function"||typeof x.getSnapshotBeforeUpdate=="function",O=c.pendingProps!==O,pe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O||ie!==N)&&PH(c,x,m,N),ec=!1;var ae=c.memoizedState;x.state=ae,t0(c,m,x,E),e0(),ie=c.memoizedState,O||ae!==ie||ec?(typeof we=="function"&&(WF(c,p,we,m),ie=c.memoizedState),($=ec||UH(c,p,$,m,ae,ie,N))?(pe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(c.flags|=4194308)):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=ie),x.props=m,x.state=ie,x.context=N,m=$):(typeof x.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{x=c.stateNode,xF(A,c),N=c.memoizedProps,pe=bf(p,N),x.props=pe,we=c.pendingProps,ae=x.context,ie=p.contextType,$=zp,typeof ie=="object"&&ie!==null&&($=ci(ie)),O=p.getDerivedStateFromProps,(ie=typeof O=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N!==we||ae!==$)&&PH(c,x,m,$),ec=!1,ae=c.memoizedState,x.state=ae,t0(c,m,x,E),e0();var Ae=c.memoizedState;N!==we||ae!==Ae||ec||A!==null&&A.dependencies!==null&&VB(A.dependencies)?(typeof O=="function"&&(WF(c,p,O,m),Ae=c.memoizedState),(pe=ec||UH(c,p,pe,m,ae,Ae,$)||A!==null&&A.dependencies!==null&&VB(A.dependencies))?(ie||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,Ae,$),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,Ae,$)),typeof x.componentDidUpdate=="function"&&(c.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof x.componentDidUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=Ae),x.props=m,x.state=Ae,x.context=$,m=pe):(typeof x.componentDidUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||N===A.memoizedProps&&ae===A.memoizedState||(c.flags|=1024),m=!1)}return x=m,oS(A,c),m=(c.flags&128)!==0,x||m?(x=c.stateNode,p=m&&typeof p.getDerivedStateFromError!="function"?null:x.render(),c.flags|=1,A!==null&&m?(c.child=yf(c,A.child,null,E),c.child=yf(c,null,p,E)):di(A,c,p,E),c.memoizedState=x.state,A=c.child):A=XA(A,c,E),A}function jH(A,c,p,m){return ff(),c.flags|=256,di(A,c,p,m),c.child}var eM={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tM(A){return{baseLanes:A,cachePool:L2()}}function nM(A,c,p){return A=A!==null?A.childLanes&~p:0,c&&(A|=Os),A}function WH(A,c,p){var m=c.pendingProps,E=!1,x=(c.flags&128)!==0,N;if((N=x)||(N=A!==null&&A.memoizedState===null?!1:(Ar.current&2)!==0),N&&(E=!0,c.flags&=-129),N=(c.flags&32)!==0,c.flags&=-33,A===null){if(xt){if(E?rc(c):ic(),(A=Mn)?(A=rV(A,_a),A=A!==null&&A.data!=="&"?A:null,A!==null&&(c.memoizedState={dehydrated:A,treeContext:Yu!==null?{id:Wo,overflow:Yo}:null,retryLane:536870912,hydrationErrors:null},p=T2(A),p.return=c,c.child=p,ui=c,Mn=null)):A=null,A===null)throw Ju(c);return QM(A)?c.lanes=32:c.lanes=536870912,null}var O=m.children;return m=m.fallback,E?(ic(),E=c.mode,O=AS({mode:"hidden",children:O},E),m=df(m,E,p,null),O.return=c,m.return=c,O.sibling=m,c.child=O,m=c.child,m.memoizedState=tM(p),m.childLanes=nM(A,N,p),c.memoizedState=eM,a0(null,m)):(rc(c),rM(c,O))}var $=A.memoizedState;if($!==null&&(O=$.dehydrated,O!==null)){if(x)c.flags&256?(rc(c),c.flags&=-257,c=iM(A,c,p)):c.memoizedState!==null?(ic(),c.child=A.child,c.flags|=128,c=null):(ic(),O=m.fallback,E=c.mode,m=AS({mode:"visible",children:m.children},E),O=df(O,E,p,null),O.flags|=2,m.return=c,O.return=c,m.sibling=O,c.child=m,yf(c,A.child,null,p),m=c.child,m.memoizedState=tM(p),m.childLanes=nM(A,N,p),c.memoizedState=eM,c=a0(null,m));else if(rc(c),QM(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var ie=N.dgst;N=ie,m=Error(r(419)),m.stack="",m.digest=N,jy({value:m,source:null,stack:null}),c=iM(A,c,p)}else if(Er||Wp(A,c,p,!1),N=(p&A.childLanes)!==0,Er||N){if(N=mn,N!==null&&(m=CB(N,p),m!==0&&m!==$.retryLane))throw $.retryLane=m,cf(A,m),hs(N,A,m),JF;LM(O)||mS(),c=iM(A,c,p)}else LM(O)?(c.flags|=192,c.child=A.child,c=null):(A=$.treeContext,Mn=Ia(O.nextSibling),ui=c,xt=!0,Xu=null,_a=!1,A!==null&&M2(c,A),c=rM(c,m.children),c.flags|=4096);return c}return E?(ic(),O=m.fallback,E=c.mode,$=A.child,ie=$.sibling,m=zA($,{mode:"hidden",children:m.children}),m.subtreeFlags=$.subtreeFlags&65011712,ie!==null?O=zA(ie,O):(O=df(O,E,p,null),O.flags|=2),O.return=c,m.return=c,m.sibling=O,c.child=m,a0(null,m),m=c.child,O=A.child.memoizedState,O===null?O=tM(p):(E=O.cachePool,E!==null?($=br._currentValue,E=E.parent!==$?{parent:$,pool:$}:E):E=L2(),O={baseLanes:O.baseLanes|p,cachePool:E}),m.memoizedState=O,m.childLanes=nM(A,N,p),c.memoizedState=eM,a0(A.child,m)):(rc(c),p=A.child,A=p.sibling,p=zA(p,{mode:"visible",children:m.children}),p.return=c,p.sibling=null,A!==null&&(N=c.deletions,N===null?(c.deletions=[A],c.flags|=16):N.push(A)),c.child=p,c.memoizedState=null,p)}function rM(A,c){return c=AS({mode:"visible",children:c},A.mode),c.return=A,A.child=c}function AS(A,c){return A=Ns(22,A,null,c),A.lanes=0,A}function iM(A,c,p){return yf(c,A.child,null,p),A=rM(c,c.pendingProps.children),A.flags|=2,c.memoizedState=null,A}function YH(A,c,p){A.lanes|=c;var m=A.alternate;m!==null&&(m.lanes|=c),yF(A.return,c,p)}function sM(A,c,p,m,E,x){var N=A.memoizedState;N===null?A.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:p,tailMode:E,treeForkCount:x}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=p,N.tailMode=E,N.treeForkCount=x)}function XH(A,c,p){var m=c.pendingProps,E=m.revealOrder,x=m.tail;m=m.children;var N=Ar.current,O=(N&2)!==0;if(O?(N=N&1|2,c.flags|=128):N&=1,oe(Ar,N),di(A,c,m,p),m=xt?$y:0,!O&&A!==null&&(A.flags&128)!==0)e:for(A=c.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&YH(A,p,c);else if(A.tag===19)YH(A,p,c);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(E){case"forwards":for(p=c.child,E=null;p!==null;)A=p.alternate,A!==null&&YB(A)===null&&(E=p),p=p.sibling;p=E,p===null?(E=c.child,c.child=null):(E=p.sibling,p.sibling=null),sM(c,!1,E,p,x,m);break;case"backwards":case"unstable_legacy-backwards":for(p=null,E=c.child,c.child=null;E!==null;){if(A=E.alternate,A!==null&&YB(A)===null){c.child=E;break}A=E.sibling,E.sibling=p,p=E,E=A}sM(c,!0,p,null,x,m);break;case"together":sM(c,!1,null,null,void 0,m);break;default:c.memoizedState=null}return c.child}function XA(A,c,p){if(A!==null&&(c.dependencies=A.dependencies),oc|=c.lanes,(p&c.childLanes)===0)if(A!==null){if(Wp(A,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(A!==null&&c.child!==A.child)throw Error(r(153));if(c.child!==null){for(A=c.child,p=zA(A,A.pendingProps),c.child=p,p.return=c;A.sibling!==null;)A=A.sibling,p=p.sibling=zA(A,A.pendingProps),p.return=c;p.sibling=null}return c.child}function aM(A,c){return(A.lanes&c)!==0?!0:(A=A.dependencies,!!(A!==null&&VB(A)))}function ine(A,c,p){switch(c.tag){case 3:Se(c,c.stateNode.containerInfo),Zu(c,br,A.memoizedState.cache),ff();break;case 27:case 5:Ie(c);break;case 4:Se(c,c.stateNode.containerInfo);break;case 10:Zu(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,MF(c),null;break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(rc(c),c.flags|=128,null):(p&c.child.childLanes)!==0?WH(A,c,p):(rc(c),A=XA(A,c,p),A!==null?A.sibling:null);rc(c);break;case 19:var E=(A.flags&128)!==0;if(m=(p&c.childLanes)!==0,m||(Wp(A,c,p,!1),m=(p&c.childLanes)!==0),E){if(m)return XH(A,c,p);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),oe(Ar,Ar.current),m)break;return null;case 22:return c.lanes=0,KH(A,c,p,c.pendingProps);case 24:Zu(c,br,A.memoizedState.cache)}return XA(A,c,p)}function JH(A,c,p){if(A!==null)if(A.memoizedProps!==c.pendingProps)Er=!0;else{if(!aM(A,p)&&(c.flags&128)===0)return Er=!1,ine(A,c,p);Er=(A.flags&131072)!==0}else Er=!1,xt&&(c.flags&1048576)!==0&&F2(c,$y,c.index);switch(c.lanes=0,c.tag){case 16:e:{var m=c.pendingProps;if(A=mf(c.elementType),c.type=A,typeof A=="function")cF(A)?(m=bf(A,m),c.tag=1,c=$H(null,c,A,m,p)):(c.tag=0,c=ZF(null,c,A,m,p));else{if(A!=null){var E=A.$$typeof;if(E===R){c.tag=11,c=OH(null,c,A,m,p);break e}else if(E===L){c.tag=14,c=HH(null,c,A,m,p);break e}}throw c=Y(A)||A,Error(r(306,c,""))}}return c;case 0:return ZF(A,c,c.type,c.pendingProps,p);case 1:return m=c.type,E=bf(m,c.pendingProps),$H(A,c,m,E,p);case 3:e:{if(Se(c,c.stateNode.containerInfo),A===null)throw Error(r(387));m=c.pendingProps;var x=c.memoizedState;E=x.element,xF(A,c),t0(c,m,null,p);var N=c.memoizedState;if(m=N.cache,Zu(c,br,m),m!==x.cache&&wF(c,[br],p,!0),e0(),m=N.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:N.cache},c.updateQueue.baseState=x,c.memoizedState=x,c.flags&256){c=jH(A,c,m,p);break e}else if(m!==E){E=Ba(Error(r(424)),c),jy(E),c=jH(A,c,m,p);break e}else{switch(A=c.stateNode.containerInfo,A.nodeType){case 9:A=A.body;break;default:A=A.nodeName==="HTML"?A.ownerDocument.body:A}for(Mn=Ia(A.firstChild),ui=c,xt=!0,Xu=null,_a=!0,p=K2(c,null,m,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(ff(),m===E){c=XA(A,c,p);break e}di(A,c,m,p)}c=c.child}return c;case 26:return oS(A,c),A===null?(p=lV(c.type,null,c.pendingProps,null))?c.memoizedState=p:xt||(p=c.type,A=c.pendingProps,m=BS(ce.current).createElement(p),m[yr]=c,m[Mi]=A,fi(m,p,A),Xn(m),c.stateNode=m):c.memoizedState=lV(c.type,A.memoizedProps,c.pendingProps,A.memoizedState),null;case 27:return Ie(c),A===null&&xt&&(m=c.stateNode=aV(c.type,c.pendingProps,ce.current),ui=c,_a=!0,E=Mn,dc(c.type)?(kM=E,Mn=Ia(m.firstChild)):Mn=E),di(A,c,c.pendingProps.children,p),oS(A,c),A===null&&(c.flags|=4194304),c.child;case 5:return A===null&&xt&&((E=m=Mn)&&(m=Rne(m,c.type,c.pendingProps,_a),m!==null?(c.stateNode=m,ui=c,Mn=Ia(m.firstChild),_a=!1,E=!0):E=!1),E||Ju(c)),Ie(c),E=c.type,x=c.pendingProps,N=A!==null?A.memoizedProps:null,m=x.children,RM(E,x)?m=null:N!==null&&RM(E,N)&&(c.flags|=32),c.memoizedState!==null&&(E=PF(A,c,Wte,null,null,p),b0._currentValue=E),oS(A,c),di(A,c,m,p),c.child;case 6:return A===null&&xt&&((A=p=Mn)&&(p=Dne(p,c.pendingProps,_a),p!==null?(c.stateNode=p,ui=c,Mn=null,A=!0):A=!1),A||Ju(c)),null;case 13:return WH(A,c,p);case 4:return Se(c,c.stateNode.containerInfo),m=c.pendingProps,A===null?c.child=yf(c,null,m,p):di(A,c,m,p),c.child;case 11:return OH(A,c,c.type,c.pendingProps,p);case 7:return di(A,c,c.pendingProps,p),c.child;case 8:return di(A,c,c.pendingProps.children,p),c.child;case 12:return di(A,c,c.pendingProps.children,p),c.child;case 10:return m=c.pendingProps,Zu(c,c.type,m.value),di(A,c,m.children,p),c.child;case 9:return E=c.type._context,m=c.pendingProps.children,pf(c),E=ci(E),m=m(E),c.flags|=1,di(A,c,m,p),c.child;case 14:return HH(A,c,c.type,c.pendingProps,p);case 15:return VH(A,c,c.type,c.pendingProps,p);case 19:return XH(A,c,p);case 31:return rne(A,c,p);case 22:return KH(A,c,p,c.pendingProps);case 24:return pf(c),m=ci(br),A===null?(E=EF(),E===null&&(E=mn,x=bF(),E.pooledCache=x,x.refCount++,x!==null&&(E.pooledCacheLanes|=p),E=x),c.memoizedState={parent:m,cache:E},SF(c),Zu(c,br,E)):((A.lanes&p)!==0&&(xF(A,c),t0(c,null,null,p),e0()),E=A.memoizedState,x=c.memoizedState,E.parent!==m?(E={parent:m,cache:m},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),Zu(c,br,m)):(m=x.cache,Zu(c,br,m),m!==E.cache&&wF(c,[br],p,!0))),di(A,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function JA(A){A.flags|=4}function oM(A,c,p,m,E){if((c=(A.mode&32)!==0)&&(c=!1),c){if(A.flags|=16777216,(E&335544128)===E)if(A.stateNode.complete)A.flags|=8192;else if(S4())A.flags|=8192;else throw vf=qB,BF}else A.flags&=-16777217}function ZH(A,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!hV(c))if(S4())A.flags|=8192;else throw vf=qB,BF}function lS(A,c){c!==null&&(A.flags|=4),A.flags&16384&&(c=A.tag!==22?ho():536870912,A.lanes|=c,og|=c)}function o0(A,c){if(!xt)switch(A.tailMode){case"hidden":c=A.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?A.tail=null:p.sibling=null;break;case"collapsed":p=A.tail;for(var m=null;p!==null;)p.alternate!==null&&(m=p),p=p.sibling;m===null?c||A.tail===null?A.tail=null:A.tail.sibling=null:m.sibling=null}}function Un(A){var c=A.alternate!==null&&A.alternate.child===A.child,p=0,m=0;if(c)for(var E=A.child;E!==null;)p|=E.lanes|E.childLanes,m|=E.subtreeFlags&65011712,m|=E.flags&65011712,E.return=A,E=E.sibling;else for(E=A.child;E!==null;)p|=E.lanes|E.childLanes,m|=E.subtreeFlags,m|=E.flags,E.return=A,E=E.sibling;return A.subtreeFlags|=m,A.childLanes=p,c}function sne(A,c,p){var m=c.pendingProps;switch(pF(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(c),null;case 1:return Un(c),null;case 3:return p=c.stateNode,m=null,A!==null&&(m=A.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),jA(br),te(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(A===null||A.child===null)&&(jp(c)?JA(c):A===null||A.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,mF())),Un(c),null;case 26:var E=c.type,x=c.memoizedState;return A===null?(JA(c),x!==null?(Un(c),ZH(c,x)):(Un(c),oM(c,E,null,m,p))):x?x!==A.memoizedState?(JA(c),Un(c),ZH(c,x)):(Un(c),c.flags&=-16777217):(A=A.memoizedProps,A!==m&&JA(c),Un(c),oM(c,E,A,m,p)),null;case 27:if(Fe(c),p=ce.current,E=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&JA(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Un(c),null}A=Ce.current,jp(c)?U2(c):(A=aV(E,m,p),c.stateNode=A,JA(c))}return Un(c),null;case 5:if(Fe(c),E=c.type,A!==null&&c.stateNode!=null)A.memoizedProps!==m&&JA(c);else{if(!m){if(c.stateNode===null)throw Error(r(166));return Un(c),null}if(x=Ce.current,jp(c))U2(c);else{var N=BS(ce.current);switch(x){case 1:x=N.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:x=N.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":x=N.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":x=N.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":x=N.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?N.createElement(E,{is:m.is}):N.createElement(E)}}x[yr]=c,x[Mi]=m;e:for(N=c.child;N!==null;){if(N.tag===5||N.tag===6)x.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===c)break e;for(;N.sibling===null;){if(N.return===null||N.return===c)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}c.stateNode=x;e:switch(fi(x,E,m),E){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&JA(c)}}return Un(c),oM(c,c.type,A===null?null:A.memoizedProps,c.pendingProps,p),null;case 6:if(A&&c.stateNode!=null)A.memoizedProps!==m&&JA(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(r(166));if(A=ce.current,jp(c)){if(A=c.stateNode,p=c.memoizedProps,m=null,E=ui,E!==null)switch(E.tag){case 27:case 5:m=E.memoizedProps}A[yr]=c,A=!!(A.nodeValue===p||m!==null&&m.suppressHydrationWarning===!0||W4(A.nodeValue,p)),A||Ju(c,!0)}else A=BS(A).createTextNode(m),A[yr]=c,c.stateNode=A}return Un(c),null;case 31:if(p=c.memoizedState,A===null||A.memoizedState!==null){if(m=jp(c),p!==null){if(A===null){if(!m)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(557));A[yr]=c}else ff(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Un(c),A=!1}else p=mF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=p),A=!0;if(!A)return c.flags&256?(Qs(c),c):(Qs(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Un(c),null;case 13:if(m=c.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(E=jp(c),m!==null&&m.dehydrated!==null){if(A===null){if(!E)throw Error(r(318));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[yr]=c}else ff(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Un(c),E=!1}else E=mF(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=E),E=!0;if(!E)return c.flags&256?(Qs(c),c):(Qs(c),null)}return Qs(c),(c.flags&128)!==0?(c.lanes=p,c):(p=m!==null,A=A!==null&&A.memoizedState!==null,p&&(m=c.child,E=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(E=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==E&&(m.flags|=2048)),p!==A&&p&&(c.child.flags|=8192),lS(c,c.updateQueue),Un(c),null);case 4:return te(),A===null&&IM(c.stateNode.containerInfo),Un(c),null;case 10:return jA(c.type),Un(c),null;case 19:if(X(Ar),m=c.memoizedState,m===null)return Un(c),null;if(E=(c.flags&128)!==0,x=m.rendering,x===null)if(E)o0(m,!1);else{if(Zn!==0||A!==null&&(A.flags&128)!==0)for(A=c.child;A!==null;){if(x=YB(A),x!==null){for(c.flags|=128,o0(m,!1),A=x.updateQueue,c.updateQueue=A,lS(c,A),c.subtreeFlags=0,A=p,p=c.child;p!==null;)_2(p,A),p=p.sibling;return oe(Ar,Ar.current&1|2),xt&&qA(c,m.treeForkCount),c.child}A=A.sibling}m.tail!==null&&Gn()>hS&&(c.flags|=128,E=!0,o0(m,!1),c.lanes=4194304)}else{if(!E)if(A=YB(x),A!==null){if(c.flags|=128,E=!0,A=A.updateQueue,c.updateQueue=A,lS(c,A),o0(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!xt)return Un(c),null}else 2*Gn()-m.renderingStartTime>hS&&p!==536870912&&(c.flags|=128,E=!0,o0(m,!1),c.lanes=4194304);m.isBackwards?(x.sibling=c.child,c.child=x):(A=m.last,A!==null?A.sibling=x:c.child=x,m.last=x)}return m.tail!==null?(A=m.tail,m.rendering=A,m.tail=A.sibling,m.renderingStartTime=Gn(),A.sibling=null,p=Ar.current,oe(Ar,E?p&1|2:p&1),xt&&qA(c,m.treeForkCount),A):(Un(c),null);case 22:case 23:return Qs(c),FF(),m=c.memoizedState!==null,A!==null?A.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(p&536870912)!==0&&(c.flags&128)===0&&(Un(c),c.subtreeFlags&6&&(c.flags|=8192)):Un(c),p=c.updateQueue,p!==null&&lS(c,p.retryQueue),p=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048),A!==null&&X(gf),null;case 24:return p=null,A!==null&&(p=A.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),jA(br),Un(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function ane(A,c){switch(pF(c),c.tag){case 1:return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 3:return jA(br),te(),A=c.flags,(A&65536)!==0&&(A&128)===0?(c.flags=A&-65537|128,c):null;case 26:case 27:case 5:return Fe(c),null;case 31:if(c.memoizedState!==null){if(Qs(c),c.alternate===null)throw Error(r(340));ff()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 13:if(Qs(c),A=c.memoizedState,A!==null&&A.dehydrated!==null){if(c.alternate===null)throw Error(r(340));ff()}return A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 19:return X(Ar),null;case 4:return te(),null;case 10:return jA(c.type),null;case 22:case 23:return Qs(c),FF(),A!==null&&X(gf),A=c.flags,A&65536?(c.flags=A&-65537|128,c):null;case 24:return jA(br),null;case 25:return null;default:return null}}function e4(A,c){switch(pF(c),c.tag){case 3:jA(br),te();break;case 26:case 27:case 5:Fe(c);break;case 4:te();break;case 31:c.memoizedState!==null&&Qs(c);break;case 13:Qs(c);break;case 19:X(Ar);break;case 10:jA(c.type);break;case 22:case 23:Qs(c),FF(),A!==null&&X(gf);break;case 24:jA(br)}}function A0(A,c){try{var p=c.updateQueue,m=p!==null?p.lastEffect:null;if(m!==null){var E=m.next;p=E;do{if((p.tag&A)===A){m=void 0;var x=p.create,N=p.inst;m=x(),N.destroy=m}p=p.next}while(p!==E)}}catch(O){Yt(c,c.return,O)}}function sc(A,c,p){try{var m=c.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var x=E.next;m=x;do{if((m.tag&A)===A){var N=m.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,E=c;var $=p,ie=O;try{ie()}catch(pe){Yt(E,$,pe)}}}m=m.next}while(m!==x)}}catch(pe){Yt(c,c.return,pe)}}function t4(A){var c=A.updateQueue;if(c!==null){var p=A.stateNode;try{z2(c,p)}catch(m){Yt(A,A.return,m)}}}function n4(A,c,p){p.props=bf(A.type,A.memoizedProps),p.state=A.memoizedState;try{p.componentWillUnmount()}catch(m){Yt(A,c,m)}}function l0(A,c){try{var p=A.ref;if(p!==null){switch(A.tag){case 26:case 27:case 5:var m=A.stateNode;break;case 30:m=A.stateNode;break;default:m=A.stateNode}typeof p=="function"?A.refCleanup=p(m):p.current=m}}catch(E){Yt(A,c,E)}}function Xo(A,c){var p=A.ref,m=A.refCleanup;if(p!==null)if(typeof m=="function")try{m()}catch(E){Yt(A,c,E)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){Yt(A,c,E)}else p.current=null}function r4(A){var c=A.type,p=A.memoizedProps,m=A.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&m.focus();break e;case"img":p.src?m.src=p.src:p.srcSet&&(m.srcset=p.srcSet)}}catch(E){Yt(A,A.return,E)}}function AM(A,c,p){try{var m=A.stateNode;Tne(m,A.type,p,c),m[Mi]=c}catch(E){Yt(A,A.return,E)}}function i4(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&dc(A.type)||A.tag===4}function lM(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||i4(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&dc(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function uM(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(A,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(A),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=KA));else if(m!==4&&(m===27&&dc(A.type)&&(p=A.stateNode,c=null),A=A.child,A!==null))for(uM(A,c,p),A=A.sibling;A!==null;)uM(A,c,p),A=A.sibling}function uS(A,c,p){var m=A.tag;if(m===5||m===6)A=A.stateNode,c?p.insertBefore(A,c):p.appendChild(A);else if(m!==4&&(m===27&&dc(A.type)&&(p=A.stateNode),A=A.child,A!==null))for(uS(A,c,p),A=A.sibling;A!==null;)uS(A,c,p),A=A.sibling}function s4(A){var c=A.stateNode,p=A.memoizedProps;try{for(var m=A.type,E=c.attributes;E.length;)c.removeAttributeNode(E[0]);fi(c,m,p),c[yr]=A,c[Mi]=p}catch(x){Yt(A,A.return,x)}}var ZA=!1,Br=!1,cM=!1,a4=typeof WeakSet=="function"?WeakSet:Set,qr=null;function one(A,c){if(A=A.containerInfo,UM=MS,A=v2(A),iF(A)){if("selectionStart"in A)var p={start:A.selectionStart,end:A.selectionEnd};else e:{p=(p=A.ownerDocument)&&p.defaultView||window;var m=p.getSelection&&p.getSelection();if(m&&m.rangeCount!==0){p=m.anchorNode;var E=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{p.nodeType,x.nodeType}catch{p=null;break e}var N=0,O=-1,$=-1,ie=0,pe=0,we=A,ae=null;t:for(;;){for(var Ae;we!==p||E!==0&&we.nodeType!==3||(O=N+E),we!==x||m!==0&&we.nodeType!==3||($=N+m),we.nodeType===3&&(N+=we.nodeValue.length),(Ae=we.firstChild)!==null;)ae=we,we=Ae;for(;;){if(we===A)break t;if(ae===p&&++ie===E&&(O=N),ae===x&&++pe===m&&($=N),(Ae=we.nextSibling)!==null)break;we=ae,ae=we.parentNode}we=Ae}p=O===-1||$===-1?null:{start:O,end:$}}else p=null}p=p||{start:0,end:0}}else p=null;for(PM={focusedElem:A,selectionRange:p},MS=!1,qr=c;qr!==null;)if(c=qr,A=c.child,(c.subtreeFlags&1028)!==0&&A!==null)A.return=c,qr=A;else for(;qr!==null;){switch(c=qr,x=c.alternate,A=c.flags,c.tag){case 0:if((A&4)!==0&&(A=c.updateQueue,A=A!==null?A.events:null,A!==null))for(p=0;p<A.length;p++)E=A[p],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&x!==null){A=void 0,p=c,E=x.memoizedProps,x=x.memoizedState,m=p.stateNode;try{var He=bf(p.type,E);A=m.getSnapshotBeforeUpdate(He,x),m.__reactInternalSnapshotBeforeUpdate=A}catch(Xe){Yt(p,p.return,Xe)}}break;case 3:if((A&1024)!==0){if(A=c.stateNode.containerInfo,p=A.nodeType,p===9)NM(A);else if(p===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":NM(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(r(163))}if(A=c.sibling,A!==null){A.return=c.return,qr=A;break}qr=c.return}}function o4(A,c,p){var m=p.flags;switch(p.tag){case 0:case 11:case 15:tl(A,p),m&4&&A0(5,p);break;case 1:if(tl(A,p),m&4)if(A=p.stateNode,c===null)try{A.componentDidMount()}catch(N){Yt(p,p.return,N)}else{var E=bf(p.type,c.memoizedProps);c=c.memoizedState;try{A.componentDidUpdate(E,c,A.__reactInternalSnapshotBeforeUpdate)}catch(N){Yt(p,p.return,N)}}m&64&&t4(p),m&512&&l0(p,p.return);break;case 3:if(tl(A,p),m&64&&(A=p.updateQueue,A!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{z2(A,c)}catch(N){Yt(p,p.return,N)}}break;case 27:c===null&&m&4&&s4(p);case 26:case 5:tl(A,p),c===null&&m&4&&r4(p),m&512&&l0(p,p.return);break;case 12:tl(A,p);break;case 31:tl(A,p),m&4&&u4(A,p);break;case 13:tl(A,p),m&4&&c4(A,p),m&64&&(A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(p=gne.bind(null,p),Nne(A,p))));break;case 22:if(m=p.memoizedState!==null||ZA,!m){c=c!==null&&c.memoizedState!==null||Br,E=ZA;var x=Br;ZA=m,(Br=c)&&!x?nl(A,p,(p.subtreeFlags&8772)!==0):tl(A,p),ZA=E,Br=x}break;case 30:break;default:tl(A,p)}}function A4(A){var c=A.alternate;c!==null&&(A.alternate=null,A4(c)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(c=A.stateNode,c!==null&&Ny(c)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var Qn=null,us=!1;function el(A,c,p){for(p=p.child;p!==null;)l4(A,c,p),p=p.sibling}function l4(A,c,p){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(jt,p)}catch{}switch(p.tag){case 26:Br||Xo(p,c),el(A,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Br||Xo(p,c);var m=Qn,E=us;dc(p.type)&&(Qn=p.stateNode,us=!1),el(A,c,p),v0(p.stateNode),Qn=m,us=E;break;case 5:Br||Xo(p,c);case 6:if(m=Qn,E=us,Qn=null,el(A,c,p),Qn=m,us=E,Qn!==null)if(us)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(p.stateNode)}catch(x){Yt(p,c,x)}else try{Qn.removeChild(p.stateNode)}catch(x){Yt(p,c,x)}break;case 18:Qn!==null&&(us?(A=Qn,tV(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,p.stateNode),pg(A)):tV(Qn,p.stateNode));break;case 4:m=Qn,E=us,Qn=p.stateNode.containerInfo,us=!0,el(A,c,p),Qn=m,us=E;break;case 0:case 11:case 14:case 15:sc(2,p,c),Br||sc(4,p,c),el(A,c,p);break;case 1:Br||(Xo(p,c),m=p.stateNode,typeof m.componentWillUnmount=="function"&&n4(p,c,m)),el(A,c,p);break;case 21:el(A,c,p);break;case 22:Br=(m=Br)||p.memoizedState!==null,el(A,c,p),Br=m;break;default:el(A,c,p)}}function u4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{pg(A)}catch(p){Yt(c,c.return,p)}}}function c4(A,c){if(c.memoizedState===null&&(A=c.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{pg(A)}catch(p){Yt(c,c.return,p)}}function Ane(A){switch(A.tag){case 31:case 13:case 19:var c=A.stateNode;return c===null&&(c=A.stateNode=new a4),c;case 22:return A=A.stateNode,c=A._retryCache,c===null&&(c=A._retryCache=new a4),c;default:throw Error(r(435,A.tag))}}function cS(A,c){var p=Ane(A);c.forEach(function(m){if(!p.has(m)){p.add(m);var E=mne.bind(null,A,m);m.then(E,E)}})}function cs(A,c){var p=c.deletions;if(p!==null)for(var m=0;m<p.length;m++){var E=p[m],x=A,N=c,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(dc(O.type)){Qn=O.stateNode,us=!1;break e}break;case 5:Qn=O.stateNode,us=!1;break e;case 3:case 4:Qn=O.stateNode.containerInfo,us=!0;break e}O=O.return}if(Qn===null)throw Error(r(160));l4(x,N,E),Qn=null,us=!1,x=E.alternate,x!==null&&(x.return=null),E.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)d4(c,A),c=c.sibling}var go=null;function d4(A,c){var p=A.alternate,m=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:cs(c,A),ds(A),m&4&&(sc(3,A,A.return),A0(3,A),sc(5,A,A.return));break;case 1:cs(c,A),ds(A),m&512&&(Br||p===null||Xo(p,p.return)),m&64&&ZA&&(A=A.updateQueue,A!==null&&(m=A.callbacks,m!==null&&(p=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=p===null?m:p.concat(m))));break;case 26:var E=go;if(cs(c,A),ds(A),m&512&&(Br||p===null||Xo(p,p.return)),m&4){var x=p!==null?p.memoizedState:null;if(m=A.memoizedState,p===null)if(m===null)if(A.stateNode===null){e:{m=A.type,p=A.memoizedProps,E=E.ownerDocument||E;t:switch(m){case"title":x=E.getElementsByTagName("title")[0],(!x||x[af]||x[yr]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=E.createElement(m),E.head.insertBefore(x,E.querySelector("head > title"))),fi(x,m,p),x[yr]=A,Xn(x),m=x;break e;case"link":var N=dV("link","href",E).get(m+(p.href||""));if(N){for(var O=0;O<N.length;O++)if(x=N[O],x.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&x.getAttribute("rel")===(p.rel==null?null:p.rel)&&x.getAttribute("title")===(p.title==null?null:p.title)&&x.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){N.splice(O,1);break t}}x=E.createElement(m),fi(x,m,p),E.head.appendChild(x);break;case"meta":if(N=dV("meta","content",E).get(m+(p.content||""))){for(O=0;O<N.length;O++)if(x=N[O],x.getAttribute("content")===(p.content==null?null:""+p.content)&&x.getAttribute("name")===(p.name==null?null:p.name)&&x.getAttribute("property")===(p.property==null?null:p.property)&&x.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&x.getAttribute("charset")===(p.charSet==null?null:p.charSet)){N.splice(O,1);break t}}x=E.createElement(m),fi(x,m,p),E.head.appendChild(x);break;default:throw Error(r(468,m))}x[yr]=A,Xn(x),m=x}A.stateNode=m}else fV(E,A.type,A.stateNode);else A.stateNode=cV(E,m,A.memoizedProps);else x!==m?(x===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):x.count--,m===null?fV(E,A.type,A.stateNode):cV(E,m,A.memoizedProps)):m===null&&A.stateNode!==null&&AM(A,A.memoizedProps,p.memoizedProps)}break;case 27:cs(c,A),ds(A),m&512&&(Br||p===null||Xo(p,p.return)),p!==null&&m&4&&AM(A,A.memoizedProps,p.memoizedProps);break;case 5:if(cs(c,A),ds(A),m&512&&(Br||p===null||Xo(p,p.return)),A.flags&32){E=A.stateNode;try{Qp(E,"")}catch(He){Yt(A,A.return,He)}}m&4&&A.stateNode!=null&&(E=A.memoizedProps,AM(A,E,p!==null?p.memoizedProps:E)),m&1024&&(cM=!0);break;case 6:if(cs(c,A),ds(A),m&4){if(A.stateNode===null)throw Error(r(162));m=A.memoizedProps,p=A.stateNode;try{p.nodeValue=m}catch(He){Yt(A,A.return,He)}}break;case 3:if(_S=null,E=go,go=SS(c.containerInfo),cs(c,A),go=E,ds(A),m&4&&p!==null&&p.memoizedState.isDehydrated)try{pg(c.containerInfo)}catch(He){Yt(A,A.return,He)}cM&&(cM=!1,f4(A));break;case 4:m=go,go=SS(A.stateNode.containerInfo),cs(c,A),ds(A),go=m;break;case 12:cs(c,A),ds(A);break;case 31:cs(c,A),ds(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,cS(A,m)));break;case 13:cs(c,A),ds(A),A.child.flags&8192&&A.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(fS=Gn()),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,cS(A,m)));break;case 22:E=A.memoizedState!==null;var $=p!==null&&p.memoizedState!==null,ie=ZA,pe=Br;if(ZA=ie||E,Br=pe||$,cs(c,A),Br=pe,ZA=ie,ds(A),m&8192)e:for(c=A.stateNode,c._visibility=E?c._visibility&-2:c._visibility|1,E&&(p===null||$||ZA||Br||Cf(A)),p=null,c=A;;){if(c.tag===5||c.tag===26){if(p===null){$=p=c;try{if(x=$.stateNode,E)N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=$.stateNode;var we=$.memoizedProps.style,ae=we!=null&&we.hasOwnProperty("display")?we.display:null;O.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(He){Yt($,$.return,He)}}}else if(c.tag===6){if(p===null){$=c;try{$.stateNode.nodeValue=E?"":$.memoizedProps}catch(He){Yt($,$.return,He)}}}else if(c.tag===18){if(p===null){$=c;try{var Ae=$.stateNode;E?nV(Ae,!0):nV($.stateNode,!1)}catch(He){Yt($,$.return,He)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===A)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===A)break e;for(;c.sibling===null;){if(c.return===null||c.return===A)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=A.updateQueue,m!==null&&(p=m.retryQueue,p!==null&&(m.retryQueue=null,cS(A,p))));break;case 19:cs(c,A),ds(A),m&4&&(m=A.updateQueue,m!==null&&(A.updateQueue=null,cS(A,m)));break;case 30:break;case 21:break;default:cs(c,A),ds(A)}}function ds(A){var c=A.flags;if(c&2){try{for(var p,m=A.return;m!==null;){if(i4(m)){p=m;break}m=m.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var E=p.stateNode,x=lM(A);uS(A,x,E);break;case 5:var N=p.stateNode;p.flags&32&&(Qp(N,""),p.flags&=-33);var O=lM(A);uS(A,O,N);break;case 3:case 4:var $=p.stateNode.containerInfo,ie=lM(A);uM(A,ie,$);break;default:throw Error(r(161))}}catch(pe){Yt(A,A.return,pe)}A.flags&=-3}c&4096&&(A.flags&=-4097)}function f4(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var c=A;f4(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),A=A.sibling}}function tl(A,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)o4(A,c.alternate,c),c=c.sibling}function Cf(A){for(A=A.child;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 14:case 15:sc(4,c,c.return),Cf(c);break;case 1:Xo(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&n4(c,c.return,p),Cf(c);break;case 27:v0(c.stateNode);case 26:case 5:Xo(c,c.return),Cf(c);break;case 22:c.memoizedState===null&&Cf(c);break;case 30:Cf(c);break;default:Cf(c)}A=A.sibling}}function nl(A,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,E=A,x=c,N=x.flags;switch(x.tag){case 0:case 11:case 15:nl(E,x,p),A0(4,x);break;case 1:if(nl(E,x,p),m=x,E=m.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ie){Yt(m,m.return,ie)}if(m=x,E=m.updateQueue,E!==null){var O=m.stateNode;try{var $=E.shared.hiddenCallbacks;if($!==null)for(E.shared.hiddenCallbacks=null,E=0;E<$.length;E++)G2($[E],O)}catch(ie){Yt(m,m.return,ie)}}p&&N&64&&t4(x),l0(x,x.return);break;case 27:s4(x);case 26:case 5:nl(E,x,p),p&&m===null&&N&4&&r4(x),l0(x,x.return);break;case 12:nl(E,x,p);break;case 31:nl(E,x,p),p&&N&4&&u4(E,x);break;case 13:nl(E,x,p),p&&N&4&&c4(E,x);break;case 22:x.memoizedState===null&&nl(E,x,p),l0(x,x.return);break;case 30:break;default:nl(E,x,p)}c=c.sibling}}function dM(A,c){var p=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),A=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(A=c.memoizedState.cachePool.pool),A!==p&&(A!=null&&A.refCount++,p!=null&&Wy(p))}function fM(A,c){A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&Wy(A))}function mo(A,c,p,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)h4(A,c,p,m),c=c.sibling}function h4(A,c,p,m){var E=c.flags;switch(c.tag){case 0:case 11:case 15:mo(A,c,p,m),E&2048&&A0(9,c);break;case 1:mo(A,c,p,m);break;case 3:mo(A,c,p,m),E&2048&&(A=null,c.alternate!==null&&(A=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==A&&(c.refCount++,A!=null&&Wy(A)));break;case 12:if(E&2048){mo(A,c,p,m),A=c.stateNode;try{var x=c.memoizedProps,N=x.id,O=x.onPostCommit;typeof O=="function"&&O(N,c.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch($){Yt(c,c.return,$)}}else mo(A,c,p,m);break;case 31:mo(A,c,p,m);break;case 13:mo(A,c,p,m);break;case 23:break;case 22:x=c.stateNode,N=c.alternate,c.memoizedState!==null?x._visibility&2?mo(A,c,p,m):u0(A,c):x._visibility&2?mo(A,c,p,m):(x._visibility|=2,ig(A,c,p,m,(c.subtreeFlags&10256)!==0||!1)),E&2048&&dM(N,c);break;case 24:mo(A,c,p,m),E&2048&&fM(c.alternate,c);break;default:mo(A,c,p,m)}}function ig(A,c,p,m,E){for(E=E&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var x=A,N=c,O=p,$=m,ie=N.flags;switch(N.tag){case 0:case 11:case 15:ig(x,N,O,$,E),A0(8,N);break;case 23:break;case 22:var pe=N.stateNode;N.memoizedState!==null?pe._visibility&2?ig(x,N,O,$,E):u0(x,N):(pe._visibility|=2,ig(x,N,O,$,E)),E&&ie&2048&&dM(N.alternate,N);break;case 24:ig(x,N,O,$,E),E&&ie&2048&&fM(N.alternate,N);break;default:ig(x,N,O,$,E)}c=c.sibling}}function u0(A,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=A,m=c,E=m.flags;switch(m.tag){case 22:u0(p,m),E&2048&&dM(m.alternate,m);break;case 24:u0(p,m),E&2048&&fM(m.alternate,m);break;default:u0(p,m)}c=c.sibling}}var c0=8192;function sg(A,c,p){if(A.subtreeFlags&c0)for(A=A.child;A!==null;)p4(A,c,p),A=A.sibling}function p4(A,c,p){switch(A.tag){case 26:sg(A,c,p),A.flags&c0&&A.memoizedState!==null&&jne(p,go,A.memoizedState,A.memoizedProps);break;case 5:sg(A,c,p);break;case 3:case 4:var m=go;go=SS(A.stateNode.containerInfo),sg(A,c,p),go=m;break;case 22:A.memoizedState===null&&(m=A.alternate,m!==null&&m.memoizedState!==null?(m=c0,c0=16777216,sg(A,c,p),c0=m):sg(A,c,p));break;default:sg(A,c,p)}}function g4(A){var c=A.alternate;if(c!==null&&(A=c.child,A!==null)){c.child=null;do c=A.sibling,A.sibling=null,A=c;while(A!==null)}}function d0(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];qr=m,v4(m,A)}g4(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)m4(A),A=A.sibling}function m4(A){switch(A.tag){case 0:case 11:case 15:d0(A),A.flags&2048&&sc(9,A,A.return);break;case 3:d0(A);break;case 12:d0(A);break;case 22:var c=A.stateNode;A.memoizedState!==null&&c._visibility&2&&(A.return===null||A.return.tag!==13)?(c._visibility&=-3,dS(A)):d0(A);break;default:d0(A)}}function dS(A){var c=A.deletions;if((A.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];qr=m,v4(m,A)}g4(A)}for(A=A.child;A!==null;){switch(c=A,c.tag){case 0:case 11:case 15:sc(8,c,c.return),dS(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,dS(c));break;default:dS(c)}A=A.sibling}}function v4(A,c){for(;qr!==null;){var p=qr;switch(p.tag){case 0:case 11:case 15:sc(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var m=p.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Wy(p.memoizedState.cache)}if(m=p.child,m!==null)m.return=p,qr=m;else e:for(p=A;qr!==null;){m=qr;var E=m.sibling,x=m.return;if(A4(m),m===p){qr=null;break e}if(E!==null){E.return=x,qr=E;break e}qr=x}}}var lne={getCacheForType:function(A){var c=ci(br),p=c.data.get(A);return p===void 0&&(p=A(),c.data.set(A,p)),p},cacheSignal:function(){return ci(br).controller.signal}},une=typeof WeakMap=="function"?WeakMap:Map,Vt=0,mn=null,vt=null,wt=0,Wt=0,ks=null,ac=!1,ag=!1,hM=!1,rl=0,Zn=0,oc=0,Ef=0,pM=0,Os=0,og=0,f0=null,fs=null,gM=!1,fS=0,y4=0,hS=1/0,pS=null,Ac=null,Pr=0,lc=null,Ag=null,il=0,mM=0,vM=null,w4=null,h0=0,yM=null;function Hs(){return(Vt&2)!==0&&wt!==0?wt&-wt:V.T!==null?SM():EB()}function b4(){if(Os===0)if((wt&536870912)===0||xt){var A=nn;nn<<=1,(nn&3932160)===0&&(nn=262144),Os=A}else Os=536870912;return A=Ls.current,A!==null&&(A.flags|=32),Os}function hs(A,c,p){(A===mn&&(Wt===2||Wt===9)||A.cancelPendingCommit!==null)&&(lg(A,0),uc(A,wt,Os,!1)),Rs(A,p),((Vt&2)===0||A!==mn)&&(A===mn&&((Vt&2)===0&&(Ef|=p),Zn===4&&uc(A,wt,Os,!1)),Jo(A))}function C4(A,c,p){if((Vt&6)!==0)throw Error(r(327));var m=!p&&(c&127)===0&&(c&A.expiredLanes)===0||li(A,c),E=m?fne(A,c):bM(A,c,!0),x=m;do{if(E===0){ag&&!m&&uc(A,c,0,!1);break}else{if(p=A.current.alternate,x&&!cne(p)){E=bM(A,c,!1),x=!1;continue}if(E===2){if(x=c,A.errorRecoveryDisabledLanes&x)var N=0;else N=A.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){c=N;e:{var O=A;E=f0;var $=O.current.memoizedState.isDehydrated;if($&&(lg(O,N).flags|=256),N=bM(O,N,!1),N!==2){if(hM&&!$){O.errorRecoveryDisabledLanes|=x,Ef|=x,E=4;break e}x=fs,fs=E,x!==null&&(fs===null?fs=x:fs.push.apply(fs,x))}E=N}if(x=!1,E!==2)continue}}if(E===1){lg(A,0),uc(A,c,0,!0);break}e:{switch(m=A,x=E,x){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:uc(m,c,Os,!ac);break e;case 2:fs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(E=fS+300-Gn(),10<E)){if(uc(m,c,Os,!ac),Mt(m,0,!0)!==0)break e;il=c,m.timeoutHandle=Z4(E4.bind(null,m,p,fs,pS,gM,c,Os,Ef,og,ac,x,"Throttled",-0,0),E);break e}E4(m,p,fs,pS,gM,c,Os,Ef,og,ac,x,null,-0,0)}}break}while(!0);Jo(A)}function E4(A,c,p,m,E,x,N,O,$,ie,pe,we,ae,Ae){if(A.timeoutHandle=-1,we=c.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:KA},p4(c,x,we);var He=(x&62914560)===x?fS-Gn():(x&4194048)===x?y4-Gn():0;if(He=Wne(we,He),He!==null){il=x,A.cancelPendingCommit=He(M4.bind(null,A,c,x,p,m,E,N,O,$,pe,we,null,ae,Ae)),uc(A,x,N,!ie);return}}M4(A,c,x,p,m,E,N,O,$)}function cne(A){for(var c=A;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var m=0;m<p.length;m++){var E=p[m],x=E.getSnapshot;E=E.value;try{if(!Ds(x(),E))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===A)break;for(;c.sibling===null;){if(c.return===null||c.return===A)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function uc(A,c,p,m){c&=~pM,c&=~Ef,A.suspendedLanes|=c,A.pingedLanes&=~c,m&&(A.warmLanes|=c),m=A.expirationTimes;for(var E=c;0<E;){var x=31-ve(E),N=1<<x;m[x]=-1,E&=~N}p!==0&&Np(A,p,c)}function gS(){return(Vt&6)===0?(p0(0),!1):!0}function wM(){if(vt!==null){if(Wt===0)var A=vt.return;else A=vt,$A=hf=null,NF(A),Zp=null,Xy=0,A=vt;for(;A!==null;)e4(A.alternate,A),A=A.return;vt=null}}function lg(A,c){var p=A.timeoutHandle;p!==-1&&(A.timeoutHandle=-1,Mne(p)),p=A.cancelPendingCommit,p!==null&&(A.cancelPendingCommit=null,p()),il=0,wM(),mn=A,vt=p=zA(A.current,null),wt=c,Wt=0,ks=null,ac=!1,ag=li(A,c),hM=!1,og=Os=pM=Ef=oc=Zn=0,fs=f0=null,gM=!1,(c&8)!==0&&(c|=c&32);var m=A.entangledLanes;if(m!==0)for(A=A.entanglements,m&=c;0<m;){var E=31-ve(m),x=1<<E;c|=A[E],m&=~x}return rl=c,LB(),p}function B4(A,c){At=null,V.H=s0,c===Jp||c===zB?(c=O2(),Wt=3):c===BF?(c=O2(),Wt=4):Wt=c===JF?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ks=c,vt===null&&(Zn=1,sS(A,Ba(c,A.current)))}function S4(){var A=Ls.current;return A===null?!0:(wt&4194048)===wt?Ta===null:(wt&62914560)===wt||(wt&536870912)!==0?A===Ta:!1}function x4(){var A=V.H;return V.H=s0,A===null?s0:A}function _4(){var A=V.A;return V.A=lne,A}function mS(){Zn=4,ac||(wt&4194048)!==wt&&Ls.current!==null||(ag=!0),(oc&134217727)===0&&(Ef&134217727)===0||mn===null||uc(mn,wt,Os,!1)}function bM(A,c,p){var m=Vt;Vt|=2;var E=x4(),x=_4();(mn!==A||wt!==c)&&(pS=null,lg(A,c)),c=!1;var N=Zn;e:do try{if(Wt!==0&&vt!==null){var O=vt,$=ks;switch(Wt){case 8:wM(),N=6;break e;case 3:case 2:case 9:case 6:Ls.current===null&&(c=!0);var ie=Wt;if(Wt=0,ks=null,ug(A,O,$,ie),p&&ag){N=0;break e}break;default:ie=Wt,Wt=0,ks=null,ug(A,O,$,ie)}}dne(),N=Zn;break}catch(pe){B4(A,pe)}while(!0);return c&&A.shellSuspendCounter++,$A=hf=null,Vt=m,V.H=E,V.A=x,vt===null&&(mn=null,wt=0,LB()),N}function dne(){for(;vt!==null;)T4(vt)}function fne(A,c){var p=Vt;Vt|=2;var m=x4(),E=_4();mn!==A||wt!==c?(pS=null,hS=Gn()+500,lg(A,c)):ag=li(A,c);e:do try{if(Wt!==0&&vt!==null){c=vt;var x=ks;t:switch(Wt){case 1:Wt=0,ks=null,ug(A,c,x,1);break;case 2:case 9:if(Q2(x)){Wt=0,ks=null,I4(c);break}c=function(){Wt!==2&&Wt!==9||mn!==A||(Wt=7),Jo(A)},x.then(c,c);break e;case 3:Wt=7;break e;case 4:Wt=5;break e;case 7:Q2(x)?(Wt=0,ks=null,I4(c)):(Wt=0,ks=null,ug(A,c,x,7));break;case 5:var N=null;switch(vt.tag){case 26:N=vt.memoizedState;case 5:case 27:var O=vt;if(N?hV(N):O.stateNode.complete){Wt=0,ks=null;var $=O.sibling;if($!==null)vt=$;else{var ie=O.return;ie!==null?(vt=ie,vS(ie)):vt=null}break t}}Wt=0,ks=null,ug(A,c,x,5);break;case 6:Wt=0,ks=null,ug(A,c,x,6);break;case 8:wM(),Zn=6;break e;default:throw Error(r(462))}}hne();break}catch(pe){B4(A,pe)}while(!0);return $A=hf=null,V.H=m,V.A=E,Vt=p,vt!==null?0:(mn=null,wt=0,LB(),Zn)}function hne(){for(;vt!==null&&!ba();)T4(vt)}function T4(A){var c=JH(A.alternate,A,rl);A.memoizedProps=A.pendingProps,c===null?vS(A):vt=c}function I4(A){var c=A,p=c.alternate;switch(c.tag){case 15:case 0:c=qH(p,c,c.pendingProps,c.type,void 0,wt);break;case 11:c=qH(p,c,c.pendingProps,c.type.render,c.ref,wt);break;case 5:NF(c);default:e4(p,c),c=vt=_2(c,rl),c=JH(p,c,rl)}A.memoizedProps=A.pendingProps,c===null?vS(A):vt=c}function ug(A,c,p,m){$A=hf=null,NF(c),Zp=null,Xy=0;var E=c.return;try{if(nne(A,E,c,p,wt)){Zn=1,sS(A,Ba(p,A.current)),vt=null;return}}catch(x){if(E!==null)throw vt=E,x;Zn=1,sS(A,Ba(p,A.current)),vt=null;return}c.flags&32768?(xt||m===1?A=!0:ag||(wt&536870912)!==0?A=!1:(ac=A=!0,(m===2||m===9||m===3||m===6)&&(m=Ls.current,m!==null&&m.tag===13&&(m.flags|=16384))),F4(c,A)):vS(c)}function vS(A){var c=A;do{if((c.flags&32768)!==0){F4(c,ac);return}A=c.return;var p=sne(c.alternate,c,rl);if(p!==null){vt=p;return}if(c=c.sibling,c!==null){vt=c;return}vt=c=A}while(c!==null);Zn===0&&(Zn=5)}function F4(A,c){do{var p=ane(A.alternate,A);if(p!==null){p.flags&=32767,vt=p;return}if(p=A.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(A=A.sibling,A!==null)){vt=A;return}vt=A=p}while(A!==null);Zn=6,vt=null}function M4(A,c,p,m,E,x,N,O,$){A.cancelPendingCommit=null;do yS();while(Pr!==0);if((Vt&6)!==0)throw Error(r(327));if(c!==null){if(c===A.current)throw Error(r(177));if(x=c.lanes|c.childLanes,x|=lF,Dp(A,p,x,N,O,$),A===mn&&(vt=mn=null,wt=0),Ag=c,lc=A,il=p,mM=x,vM=E,w4=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,vne(Me,function(){return N4(),null})):(A.callbackNode=null,A.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=V.T,V.T=null,E=j.p,j.p=2,N=Vt,Vt|=4;try{one(A,c,p)}finally{Vt=N,j.p=E,V.T=m}}Pr=1,U4(),P4(),R4()}}function U4(){if(Pr===1){Pr=0;var A=lc,c=Ag,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=V.T,V.T=null;var m=j.p;j.p=2;var E=Vt;Vt|=4;try{d4(c,A);var x=PM,N=v2(A.containerInfo),O=x.focusedElem,$=x.selectionRange;if(N!==O&&O&&O.ownerDocument&&m2(O.ownerDocument.documentElement,O)){if($!==null&&iF(O)){var ie=$.start,pe=$.end;if(pe===void 0&&(pe=ie),"selectionStart"in O)O.selectionStart=ie,O.selectionEnd=Math.min(pe,O.value.length);else{var we=O.ownerDocument||document,ae=we&&we.defaultView||window;if(ae.getSelection){var Ae=ae.getSelection(),He=O.textContent.length,Xe=Math.min($.start,He),on=$.end===void 0?Xe:Math.min($.end,He);!Ae.extend&&Xe>on&&(N=on,on=Xe,Xe=N);var Z=g2(O,Xe),W=g2(O,on);if(Z&&W&&(Ae.rangeCount!==1||Ae.anchorNode!==Z.node||Ae.anchorOffset!==Z.offset||Ae.focusNode!==W.node||Ae.focusOffset!==W.offset)){var ne=we.createRange();ne.setStart(Z.node,Z.offset),Ae.removeAllRanges(),Xe>on?(Ae.addRange(ne),Ae.extend(W.node,W.offset)):(ne.setEnd(W.node,W.offset),Ae.addRange(ne))}}}}for(we=[],Ae=O;Ae=Ae.parentNode;)Ae.nodeType===1&&we.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<we.length;O++){var ye=we[O];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}MS=!!UM,PM=UM=null}finally{Vt=E,j.p=m,V.T=p}}A.current=c,Pr=2}}function P4(){if(Pr===2){Pr=0;var A=lc,c=Ag,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=V.T,V.T=null;var m=j.p;j.p=2;var E=Vt;Vt|=4;try{o4(A,c.alternate,c)}finally{Vt=E,j.p=m,V.T=p}}Pr=3}}function R4(){if(Pr===4||Pr===3){Pr=0,Ai();var A=lc,c=Ag,p=il,m=w4;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Pr=5:(Pr=0,Ag=lc=null,D4(A,A.pendingLanes));var E=A.pendingLanes;if(E===0&&(Ac=null),Py(p),c=c.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(jt,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=V.T,E=j.p,j.p=2,V.T=null;try{for(var x=A.onRecoverableError,N=0;N<m.length;N++){var O=m[N];x(O.value,{componentStack:O.stack})}}finally{V.T=c,j.p=E}}(il&3)!==0&&yS(),Jo(A),E=A.pendingLanes,(p&261930)!==0&&(E&42)!==0?A===yM?h0++:(h0=0,yM=A):h0=0,p0(0)}}function D4(A,c){(A.pooledCacheLanes&=c)===0&&(c=A.pooledCache,c!=null&&(A.pooledCache=null,Wy(c)))}function yS(){return U4(),P4(),R4(),N4()}function N4(){if(Pr!==5)return!1;var A=lc,c=mM;mM=0;var p=Py(il),m=V.T,E=j.p;try{j.p=32>p?32:p,V.T=null,p=vM,vM=null;var x=lc,N=il;if(Pr=0,Ag=lc=null,il=0,(Vt&6)!==0)throw Error(r(331));var O=Vt;if(Vt|=4,m4(x.current),h4(x,x.current,N,p),Vt=O,p0(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(jt,x)}catch{}return!0}finally{j.p=E,V.T=m,D4(A,c)}}function L4(A,c,p){c=Ba(p,c),c=XF(A.stateNode,c,2),A=nc(A,c,2),A!==null&&(Rs(A,2),Jo(A))}function Yt(A,c,p){if(A.tag===3)L4(A,A,p);else for(;c!==null;){if(c.tag===3){L4(c,A,p);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ac===null||!Ac.has(m))){A=Ba(p,A),p=QH(2),m=nc(c,p,2),m!==null&&(kH(p,m,c,A),Rs(m,2),Jo(m));break}}c=c.return}}function CM(A,c,p){var m=A.pingCache;if(m===null){m=A.pingCache=new une;var E=new Set;m.set(c,E)}else E=m.get(c),E===void 0&&(E=new Set,m.set(c,E));E.has(p)||(hM=!0,E.add(p),A=pne.bind(null,A,c,p),c.then(A,A))}function pne(A,c,p){var m=A.pingCache;m!==null&&m.delete(c),A.pingedLanes|=A.suspendedLanes&p,A.warmLanes&=~p,mn===A&&(wt&p)===p&&(Zn===4||Zn===3&&(wt&62914560)===wt&&300>Gn()-fS?(Vt&2)===0&&lg(A,0):pM|=p,og===wt&&(og=0)),Jo(A)}function Q4(A,c){c===0&&(c=ho()),A=cf(A,c),A!==null&&(Rs(A,c),Jo(A))}function gne(A){var c=A.memoizedState,p=0;c!==null&&(p=c.retryLane),Q4(A,p)}function mne(A,c){var p=0;switch(A.tag){case 31:case 13:var m=A.stateNode,E=A.memoizedState;E!==null&&(p=E.retryLane);break;case 19:m=A.stateNode;break;case 22:m=A.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(c),Q4(A,p)}function vne(A,c){return Fi(A,c)}var wS=null,cg=null,EM=!1,bS=!1,BM=!1,cc=0;function Jo(A){A!==cg&&A.next===null&&(cg===null?wS=cg=A:cg=cg.next=A),bS=!0,EM||(EM=!0,wne())}function p0(A,c){if(!BM&&bS){BM=!0;do for(var p=!1,m=wS;m!==null;){if(A!==0){var E=m.pendingLanes;if(E===0)var x=0;else{var N=m.suspendedLanes,O=m.pingedLanes;x=(1<<31-ve(42|A)+1)-1,x&=E&~(N&~O),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(p=!0,V4(m,x))}else x=wt,x=Mt(m,m===mn?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||li(m,x)||(p=!0,V4(m,x));m=m.next}while(p);BM=!1}}function yne(){k4()}function k4(){bS=EM=!1;var A=0;cc!==0&&Fne()&&(A=cc);for(var c=Gn(),p=null,m=wS;m!==null;){var E=m.next,x=O4(m,c);x===0?(m.next=null,p===null?wS=E:p.next=E,E===null&&(cg=p)):(p=m,(A!==0||(x&3)!==0)&&(bS=!0)),m=E}Pr!==0&&Pr!==5||p0(A),cc!==0&&(cc=0)}function O4(A,c){for(var p=A.suspendedLanes,m=A.pingedLanes,E=A.expirationTimes,x=A.pendingLanes&-62914561;0<x;){var N=31-ve(x),O=1<<N,$=E[N];$===-1?((O&p)===0||(O&m)!==0)&&(E[N]=As(O,c)):$<=c&&(A.expiredLanes|=O),x&=~O}if(c=mn,p=wt,p=Mt(A,A===c?p:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m=A.callbackNode,p===0||A===c&&(Wt===2||Wt===9)||A.cancelPendingCommit!==null)return m!==null&&m!==null&&tn(m),A.callbackNode=null,A.callbackPriority=0;if((p&3)===0||li(A,p)){if(c=p&-p,c===A.callbackPriority)return c;switch(m!==null&&tn(m),Py(p)){case 2:case 8:p=Be;break;case 32:p=Me;break;case 268435456:p=Ke;break;default:p=Me}return m=H4.bind(null,A),p=Fi(p,m),A.callbackPriority=c,A.callbackNode=p,c}return m!==null&&m!==null&&tn(m),A.callbackPriority=2,A.callbackNode=null,2}function H4(A,c){if(Pr!==0&&Pr!==5)return A.callbackNode=null,A.callbackPriority=0,null;var p=A.callbackNode;if(yS()&&A.callbackNode!==p)return null;var m=wt;return m=Mt(A,A===mn?m:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),m===0?null:(C4(A,m,c),O4(A,Gn()),A.callbackNode!=null&&A.callbackNode===p?H4.bind(null,A):null)}function V4(A,c){if(yS())return null;C4(A,c,!0)}function wne(){Une(function(){(Vt&6)!==0?Fi(ee,yne):k4()})}function SM(){if(cc===0){var A=Yp;A===0&&(A=gn,gn<<=1,(gn&261888)===0&&(gn=256)),cc=A}return cc}function K4(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:IB(""+A)}function G4(A,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,A.id&&p.setAttribute("form",A.id),c.parentNode.insertBefore(p,c),A=new FormData(A),p.parentNode.removeChild(p),A}function bne(A,c,p,m,E){if(c==="submit"&&p&&p.stateNode===E){var x=K4((E[Mi]||null).action),N=m.submitter;N&&(c=(c=N[Mi]||null)?K4(c.formAction):N.getAttribute("formAction"),c!==null&&(x=c,N=null));var O=new PB("action","action",null,m,E);A.push({event:O,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(cc!==0){var $=N?G4(E,N):new FormData(E);zF(p,{pending:!0,data:$,method:E.method,action:x},null,$)}}else typeof x=="function"&&(O.preventDefault(),$=N?G4(E,N):new FormData(E),zF(p,{pending:!0,data:$,method:E.method,action:x},x,$))},currentTarget:E}]})}}for(var xM=0;xM<AF.length;xM++){var _M=AF[xM],Cne=_M.toLowerCase(),Ene=_M[0].toUpperCase()+_M.slice(1);po(Cne,"on"+Ene)}po(b2,"onAnimationEnd"),po(C2,"onAnimationIteration"),po(E2,"onAnimationStart"),po("dblclick","onDoubleClick"),po("focusin","onFocus"),po("focusout","onBlur"),po(kte,"onTransitionRun"),po(Ote,"onTransitionStart"),po(Hte,"onTransitionCancel"),po(B2,"onTransitionEnd"),fe("onMouseEnter",["mouseout","mouseover"]),fe("onMouseLeave",["mouseout","mouseover"]),fe("onPointerEnter",["pointerout","pointerover"]),fe("onPointerLeave",["pointerout","pointerover"]),VA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),VA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),VA("onBeforeInput",["compositionend","keypress","textInput","paste"]),VA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),VA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),VA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var g0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bne=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(g0));function z4(A,c){c=(c&4)!==0;for(var p=0;p<A.length;p++){var m=A[p],E=m.event;m=m.listeners;e:{var x=void 0;if(c)for(var N=m.length-1;0<=N;N--){var O=m[N],$=O.instance,ie=O.currentTarget;if(O=O.listener,$!==x&&E.isPropagationStopped())break e;x=O,E.currentTarget=ie;try{x(E)}catch(pe){NB(pe)}E.currentTarget=null,x=$}else for(N=0;N<m.length;N++){if(O=m[N],$=O.instance,ie=O.currentTarget,O=O.listener,$!==x&&E.isPropagationStopped())break e;x=O,E.currentTarget=ie;try{x(E)}catch(pe){NB(pe)}E.currentTarget=null,x=$}}}}function yt(A,c){var p=c[Dy];p===void 0&&(p=c[Dy]=new Set);var m=A+"__bubble";p.has(m)||(q4(c,A,2,!1),p.add(m))}function TM(A,c,p){var m=0;c&&(m|=4),q4(p,A,m,c)}var CS="_reactListening"+Math.random().toString(36).slice(2);function IM(A){if(!A[CS]){A[CS]=!0,xB.forEach(function(p){p!=="selectionchange"&&(Bne.has(p)||TM(p,!1,A),TM(p,!0,A))});var c=A.nodeType===9?A:A.ownerDocument;c===null||c[CS]||(c[CS]=!0,TM("selectionchange",!1,c))}}function q4(A,c,p,m){switch(bV(c)){case 2:var E=Jne;break;case 8:E=Zne;break;default:E=GM}p=E.bind(null,c,p,A),E=void 0,!WI||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(E=!0),m?E!==void 0?A.addEventListener(c,p,{capture:!0,passive:E}):A.addEventListener(c,p,!0):E!==void 0?A.addEventListener(c,p,{passive:E}):A.addEventListener(c,p,!1)}function FM(A,c,p,m,E){var x=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var O=m.stateNode.containerInfo;if(O===E)break;if(N===4)for(N=m.return;N!==null;){var $=N.tag;if(($===3||$===4)&&N.stateNode.containerInfo===E)return;N=N.return}for(;O!==null;){if(N=$u(O),N===null)return;if($=N.tag,$===5||$===6||$===26||$===27){m=x=N;continue e}O=O.parentNode}}m=m.return}XO(function(){var ie=x,pe=$I(p),we=[];e:{var ae=S2.get(A);if(ae!==void 0){var Ae=PB,He=A;switch(A){case"keypress":if(MB(p)===0)break e;case"keydown":case"keyup":Ae=mte;break;case"focusin":He="focus",Ae=ZI;break;case"focusout":He="blur",Ae=ZI;break;case"beforeblur":case"afterblur":Ae=ZI;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=e2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=ste;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=wte;break;case b2:case C2:case E2:Ae=Ate;break;case B2:Ae=Cte;break;case"scroll":case"scrollend":Ae=rte;break;case"wheel":Ae=Bte;break;case"copy":case"cut":case"paste":Ae=ute;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=n2;break;case"toggle":case"beforetoggle":Ae=xte}var Xe=(c&4)!==0,on=!Xe&&(A==="scroll"||A==="scrollend"),Z=Xe?ae!==null?ae+"Capture":null:ae;Xe=[];for(var W=ie,ne;W!==null;){var ye=W;if(ne=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ne===null||Z===null||(ye=Qy(W,Z),ye!=null&&Xe.push(m0(W,ye,ne))),on)break;W=W.return}0<Xe.length&&(ae=new Ae(ae,He,null,p,pe),we.push({event:ae,listeners:Xe}))}}if((c&7)===0){e:{if(ae=A==="mouseover"||A==="pointerover",Ae=A==="mouseout"||A==="pointerout",ae&&p!==qI&&(He=p.relatedTarget||p.fromElement)&&($u(He)||He[qu]))break e;if((Ae||ae)&&(ae=pe.window===pe?pe:(ae=pe.ownerDocument)?ae.defaultView||ae.parentWindow:window,Ae?(He=p.relatedTarget||p.toElement,Ae=ie,He=He?$u(He):null,He!==null&&(on=s(He),Xe=He.tag,He!==on||Xe!==5&&Xe!==27&&Xe!==6)&&(He=null)):(Ae=null,He=ie),Ae!==He)){if(Xe=e2,ye="onMouseLeave",Z="onMouseEnter",W="mouse",(A==="pointerout"||A==="pointerover")&&(Xe=n2,ye="onPointerLeave",Z="onPointerEnter",W="pointer"),on=Ae==null?ae:of(Ae),ne=He==null?ae:of(He),ae=new Xe(ye,W+"leave",Ae,p,pe),ae.target=on,ae.relatedTarget=ne,ye=null,$u(pe)===ie&&(Xe=new Xe(Z,W+"enter",He,p,pe),Xe.target=ne,Xe.relatedTarget=on,ye=Xe),on=ye,Ae&&He)t:{for(Xe=Sne,Z=Ae,W=He,ne=0,ye=Z;ye;ye=Xe(ye))ne++;ye=0;for(var We=W;We;We=Xe(We))ye++;for(;0<ne-ye;)Z=Xe(Z),ne--;for(;0<ye-ne;)W=Xe(W),ye--;for(;ne--;){if(Z===W||W!==null&&Z===W.alternate){Xe=Z;break t}Z=Xe(Z),W=Xe(W)}Xe=null}else Xe=null;Ae!==null&&$4(we,ae,Ae,Xe,!1),He!==null&&on!==null&&$4(we,on,He,Xe,!0)}}e:{if(ae=ie?of(ie):window,Ae=ae.nodeName&&ae.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&ae.type==="file")var Nt=u2;else if(A2(ae))if(c2)Nt=Nte;else{Nt=Rte;var Ge=Pte}else Ae=ae.nodeName,!Ae||Ae.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ie&&zI(ie.elementType)&&(Nt=u2):Nt=Dte;if(Nt&&(Nt=Nt(A,ie))){l2(we,Nt,p,pe);break e}Ge&&Ge(A,ae,ie),A==="focusout"&&ie&&ae.type==="number"&&ie.memoizedProps.value!=null&&GI(ae,"number",ae.value)}switch(Ge=ie?of(ie):window,A){case"focusin":(A2(Ge)||Ge.contentEditable==="true")&&(Vp=Ge,sF=ie,qy=null);break;case"focusout":qy=sF=Vp=null;break;case"mousedown":aF=!0;break;case"contextmenu":case"mouseup":case"dragend":aF=!1,y2(we,p,pe);break;case"selectionchange":if(Qte)break;case"keydown":case"keyup":y2(we,p,pe)}var ct;if(tF)e:{switch(A){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else Hp?a2(A,p)&&(bt="onCompositionEnd"):A==="keydown"&&p.keyCode===229&&(bt="onCompositionStart");bt&&(r2&&p.locale!=="ko"&&(Hp||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Hp&&(ct=JO()):(Wu=pe,YI="value"in Wu?Wu.value:Wu.textContent,Hp=!0)),Ge=ES(ie,bt),0<Ge.length&&(bt=new t2(bt,A,null,p,pe),we.push({event:bt,listeners:Ge}),ct?bt.data=ct:(ct=o2(p),ct!==null&&(bt.data=ct)))),(ct=Tte?Ite(A,p):Fte(A,p))&&(bt=ES(ie,"onBeforeInput"),0<bt.length&&(Ge=new t2("onBeforeInput","beforeinput",null,p,pe),we.push({event:Ge,listeners:bt}),Ge.data=ct)),bne(we,A,ie,p,pe)}z4(we,c)})}function m0(A,c,p){return{instance:A,listener:c,currentTarget:p}}function ES(A,c){for(var p=c+"Capture",m=[];A!==null;){var E=A,x=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||x===null||(E=Qy(A,p),E!=null&&m.unshift(m0(A,E,x)),E=Qy(A,c),E!=null&&m.push(m0(A,E,x))),A.tag===3)return m;A=A.return}return[]}function Sne(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function $4(A,c,p,m,E){for(var x=c._reactName,N=[];p!==null&&p!==m;){var O=p,$=O.alternate,ie=O.stateNode;if(O=O.tag,$!==null&&$===m)break;O!==5&&O!==26&&O!==27||ie===null||($=ie,E?(ie=Qy(p,x),ie!=null&&N.unshift(m0(p,ie,$))):E||(ie=Qy(p,x),ie!=null&&N.push(m0(p,ie,$)))),p=p.return}N.length!==0&&A.push({event:c,listeners:N})}var xne=/\r\n?/g,_ne=/\u0000|\uFFFD/g;function j4(A){return(typeof A=="string"?A:""+A).replace(xne,`
`).replace(_ne,"")}function W4(A,c){return c=j4(c),j4(A)===c}function an(A,c,p,m,E,x){switch(p){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Qp(A,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Qp(A,""+m);break;case"className":Bn(A,"class",m);break;case"tabIndex":Bn(A,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(A,p,m);break;case"style":WO(A,m,x);break;case"data":if(c!=="object"){Bn(A,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||p!=="href")){A.removeAttribute(p);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=IB(""+m),A.setAttribute(p,m);break;case"action":case"formAction":if(typeof m=="function"){A.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(p==="formAction"?(c!=="input"&&an(A,c,"name",E.name,E,null),an(A,c,"formEncType",E.formEncType,E,null),an(A,c,"formMethod",E.formMethod,E,null),an(A,c,"formTarget",E.formTarget,E,null)):(an(A,c,"encType",E.encType,E,null),an(A,c,"method",E.method,E,null),an(A,c,"target",E.target,E,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){A.removeAttribute(p);break}m=IB(""+m),A.setAttribute(p,m);break;case"onClick":m!=null&&(A.onclick=KA);break;case"onScroll":m!=null&&yt("scroll",A);break;case"onScrollEnd":m!=null&&yt("scrollend",A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(p=m.__html,p!=null){if(E.children!=null)throw Error(r(60));A.innerHTML=p}}break;case"multiple":A.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":A.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){A.removeAttribute("xlink:href");break}p=IB(""+m),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""+m):A.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,""):A.removeAttribute(p);break;case"capture":case"download":m===!0?A.setAttribute(p,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?A.setAttribute(p,m):A.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?A.setAttribute(p,m):A.removeAttribute(p);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?A.removeAttribute(p):A.setAttribute(p,m);break;case"popover":yt("beforetoggle",A),yt("toggle",A),Ln(A,"popover",m);break;case"xlinkActuate":Dt(A,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Dt(A,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Dt(A,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Dt(A,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Dt(A,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Dt(A,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Dt(A,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Dt(A,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Dt(A,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ln(A,"is",m);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=tte.get(p)||p,Ln(A,p,m))}}function MM(A,c,p,m,E,x){switch(p){case"style":WO(A,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(p=m.__html,p!=null){if(E.children!=null)throw Error(r(60));A.innerHTML=p}}break;case"children":typeof m=="string"?Qp(A,m):(typeof m=="number"||typeof m=="bigint")&&Qp(A,""+m);break;case"onScroll":m!=null&&yt("scroll",A);break;case"onScrollEnd":m!=null&&yt("scrollend",A);break;case"onClick":m!=null&&(A.onclick=KA);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_B.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),c=p.slice(2,E?p.length-7:void 0),x=A[Mi]||null,x=x!=null?x[p]:null,typeof x=="function"&&A.removeEventListener(c,x,E),typeof m=="function")){typeof x!="function"&&x!==null&&(p in A?A[p]=null:A.hasAttribute(p)&&A.removeAttribute(p)),A.addEventListener(c,m,E);break e}p in A?A[p]=m:m===!0?A.setAttribute(p,""):Ln(A,p,m)}}}function fi(A,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",A),yt("load",A);var m=!1,E=!1,x;for(x in p)if(p.hasOwnProperty(x)){var N=p[x];if(N!=null)switch(x){case"src":m=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:an(A,c,x,N,p,null)}}E&&an(A,c,"srcSet",p.srcSet,p,null),m&&an(A,c,"src",p.src,p,null);return;case"input":yt("invalid",A);var O=x=N=E=null,$=null,ie=null;for(m in p)if(p.hasOwnProperty(m)){var pe=p[m];if(pe!=null)switch(m){case"name":E=pe;break;case"type":N=pe;break;case"checked":$=pe;break;case"defaultChecked":ie=pe;break;case"value":x=pe;break;case"defaultValue":O=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,c));break;default:an(A,c,m,pe,p,null)}}zO(A,x,O,$,ie,N,E,!1);return;case"select":yt("invalid",A),m=N=x=null;for(E in p)if(p.hasOwnProperty(E)&&(O=p[E],O!=null))switch(E){case"value":x=O;break;case"defaultValue":N=O;break;case"multiple":m=O;default:an(A,c,E,O,p,null)}c=x,p=N,A.multiple=!!m,c!=null?Lp(A,!!m,c,!1):p!=null&&Lp(A,!!m,p,!0);return;case"textarea":yt("invalid",A),x=E=m=null;for(N in p)if(p.hasOwnProperty(N)&&(O=p[N],O!=null))switch(N){case"value":m=O;break;case"defaultValue":E=O;break;case"children":x=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:an(A,c,N,O,p,null)}$O(A,m,E,x);return;case"option":for($ in p)if(p.hasOwnProperty($)&&(m=p[$],m!=null))switch($){case"selected":A.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:an(A,c,$,m,p,null)}return;case"dialog":yt("beforetoggle",A),yt("toggle",A),yt("cancel",A),yt("close",A);break;case"iframe":case"object":yt("load",A);break;case"video":case"audio":for(m=0;m<g0.length;m++)yt(g0[m],A);break;case"image":yt("error",A),yt("load",A);break;case"details":yt("toggle",A);break;case"embed":case"source":case"link":yt("error",A),yt("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in p)if(p.hasOwnProperty(ie)&&(m=p[ie],m!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:an(A,c,ie,m,p,null)}return;default:if(zI(c)){for(pe in p)p.hasOwnProperty(pe)&&(m=p[pe],m!==void 0&&MM(A,c,pe,m,p,void 0));return}}for(O in p)p.hasOwnProperty(O)&&(m=p[O],m!=null&&an(A,c,O,m,p,null))}function Tne(A,c,p,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,x=null,N=null,O=null,$=null,ie=null,pe=null;for(Ae in p){var we=p[Ae];if(p.hasOwnProperty(Ae)&&we!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":$=we;default:m.hasOwnProperty(Ae)||an(A,c,Ae,null,m,we)}}for(var ae in m){var Ae=m[ae];if(we=p[ae],m.hasOwnProperty(ae)&&(Ae!=null||we!=null))switch(ae){case"type":x=Ae;break;case"name":E=Ae;break;case"checked":ie=Ae;break;case"defaultChecked":pe=Ae;break;case"value":N=Ae;break;case"defaultValue":O=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,c));break;default:Ae!==we&&an(A,c,ae,Ae,m,we)}}KI(A,N,O,$,ie,pe,x,E);return;case"select":Ae=N=O=ae=null;for(x in p)if($=p[x],p.hasOwnProperty(x)&&$!=null)switch(x){case"value":break;case"multiple":Ae=$;default:m.hasOwnProperty(x)||an(A,c,x,null,m,$)}for(E in m)if(x=m[E],$=p[E],m.hasOwnProperty(E)&&(x!=null||$!=null))switch(E){case"value":ae=x;break;case"defaultValue":O=x;break;case"multiple":N=x;default:x!==$&&an(A,c,E,x,m,$)}c=O,p=N,m=Ae,ae!=null?Lp(A,!!p,ae,!1):!!m!=!!p&&(c!=null?Lp(A,!!p,c,!0):Lp(A,!!p,p?[]:"",!1));return;case"textarea":Ae=ae=null;for(O in p)if(E=p[O],p.hasOwnProperty(O)&&E!=null&&!m.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:an(A,c,O,null,m,E)}for(N in m)if(E=m[N],x=p[N],m.hasOwnProperty(N)&&(E!=null||x!=null))switch(N){case"value":ae=E;break;case"defaultValue":Ae=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==x&&an(A,c,N,E,m,x)}qO(A,ae,Ae);return;case"option":for(var He in p)if(ae=p[He],p.hasOwnProperty(He)&&ae!=null&&!m.hasOwnProperty(He))switch(He){case"selected":A.selected=!1;break;default:an(A,c,He,null,m,ae)}for($ in m)if(ae=m[$],Ae=p[$],m.hasOwnProperty($)&&ae!==Ae&&(ae!=null||Ae!=null))switch($){case"selected":A.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:an(A,c,$,ae,m,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in p)ae=p[Xe],p.hasOwnProperty(Xe)&&ae!=null&&!m.hasOwnProperty(Xe)&&an(A,c,Xe,null,m,ae);for(ie in m)if(ae=m[ie],Ae=p[ie],m.hasOwnProperty(ie)&&ae!==Ae&&(ae!=null||Ae!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,c));break;default:an(A,c,ie,ae,m,Ae)}return;default:if(zI(c)){for(var on in p)ae=p[on],p.hasOwnProperty(on)&&ae!==void 0&&!m.hasOwnProperty(on)&&MM(A,c,on,void 0,m,ae);for(pe in m)ae=m[pe],Ae=p[pe],!m.hasOwnProperty(pe)||ae===Ae||ae===void 0&&Ae===void 0||MM(A,c,pe,ae,m,Ae);return}}for(var Z in p)ae=p[Z],p.hasOwnProperty(Z)&&ae!=null&&!m.hasOwnProperty(Z)&&an(A,c,Z,null,m,ae);for(we in m)ae=m[we],Ae=p[we],!m.hasOwnProperty(we)||ae===Ae||ae==null&&Ae==null||an(A,c,we,ae,m,Ae)}function Y4(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ine(){if(typeof performance.getEntriesByType=="function"){for(var A=0,c=0,p=performance.getEntriesByType("resource"),m=0;m<p.length;m++){var E=p[m],x=E.transferSize,N=E.initiatorType,O=E.duration;if(x&&O&&Y4(N)){for(N=0,O=E.responseEnd,m+=1;m<p.length;m++){var $=p[m],ie=$.startTime;if(ie>O)break;var pe=$.transferSize,we=$.initiatorType;pe&&Y4(we)&&($=$.responseEnd,N+=pe*($<O?1:(O-ie)/($-ie)))}if(--m,c+=8*(x+N)/(E.duration/1e3),A++,10<A)break}}if(0<A)return c/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var UM=null,PM=null;function BS(A){return A.nodeType===9?A:A.ownerDocument}function X4(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J4(A,c){if(A===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&c==="foreignObject"?0:A}function RM(A,c){return A==="textarea"||A==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var DM=null;function Fne(){var A=window.event;return A&&A.type==="popstate"?A===DM?!1:(DM=A,!0):(DM=null,!1)}var Z4=typeof setTimeout=="function"?setTimeout:void 0,Mne=typeof clearTimeout=="function"?clearTimeout:void 0,eV=typeof Promise=="function"?Promise:void 0,Une=typeof queueMicrotask=="function"?queueMicrotask:typeof eV<"u"?function(A){return eV.resolve(null).then(A).catch(Pne)}:Z4;function Pne(A){setTimeout(function(){throw A})}function dc(A){return A==="head"}function tV(A,c){var p=c,m=0;do{var E=p.nextSibling;if(A.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"||p==="/&"){if(m===0){A.removeChild(E),pg(c);return}m--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")m++;else if(p==="html")v0(A.ownerDocument.documentElement);else if(p==="head"){p=A.ownerDocument.head,v0(p);for(var x=p.firstChild;x;){var N=x.nextSibling,O=x.nodeName;x[af]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&x.rel.toLowerCase()==="stylesheet"||p.removeChild(x),x=N}}else p==="body"&&v0(A.ownerDocument.body);p=E}while(p);pg(c)}function nV(A,c){var p=A;A=0;do{var m=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),m&&m.nodeType===8)if(p=m.data,p==="/$"){if(A===0)break;A--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||A++;p=m}while(p)}function NM(A){var c=A.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":NM(p),Ny(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}A.removeChild(p)}}function Rne(A,c,p,m){for(;A.nodeType===1;){var E=p;if(A.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(m){if(!A[af])switch(c){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(x=A.getAttribute("rel"),x==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(x!==E.rel||A.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||A.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||A.getAttribute("title")!==(E.title==null?null:E.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(x=A.getAttribute("src"),(x!==(E.src==null?null:E.src)||A.getAttribute("type")!==(E.type==null?null:E.type)||A.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&x&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(c==="input"&&A.type==="hidden"){var x=E.name==null?null:""+E.name;if(E.type==="hidden"&&A.getAttribute("name")===x)return A}else return A;if(A=Ia(A.nextSibling),A===null)break}return null}function Dne(A,c,p){if(c==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!p||(A=Ia(A.nextSibling),A===null))return null;return A}function rV(A,c){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!c||(A=Ia(A.nextSibling),A===null))return null;return A}function LM(A){return A.data==="$?"||A.data==="$~"}function QM(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function Nne(A,c){var p=A.ownerDocument;if(A.data==="$~")A._reactRetry=c;else if(A.data!=="$?"||p.readyState!=="loading")c();else{var m=function(){c(),p.removeEventListener("DOMContentLoaded",m)};p.addEventListener("DOMContentLoaded",m),A._reactRetry=m}}function Ia(A){for(;A!=null;A=A.nextSibling){var c=A.nodeType;if(c===1||c===3)break;if(c===8){if(c=A.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return A}var kM=null;function iV(A){A=A.nextSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="/$"||p==="/&"){if(c===0)return Ia(A.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}A=A.nextSibling}return null}function sV(A){A=A.previousSibling;for(var c=0;A;){if(A.nodeType===8){var p=A.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return A;c--}else p!=="/$"&&p!=="/&"||c++}A=A.previousSibling}return null}function aV(A,c,p){switch(c=BS(p),A){case"html":if(A=c.documentElement,!A)throw Error(r(452));return A;case"head":if(A=c.head,!A)throw Error(r(453));return A;case"body":if(A=c.body,!A)throw Error(r(454));return A;default:throw Error(r(451))}}function v0(A){for(var c=A.attributes;c.length;)A.removeAttributeNode(c[0]);Ny(A)}var Fa=new Map,oV=new Set;function SS(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var sl=j.d;j.d={f:Lne,r:Qne,D:kne,C:One,L:Hne,m:Vne,X:Gne,S:Kne,M:zne};function Lne(){var A=sl.f(),c=gS();return A||c}function Qne(A){var c=jo(A);c!==null&&c.tag===5&&c.type==="form"?BH(c):sl.r(A)}var dg=typeof document>"u"?null:document;function AV(A,c,p){var m=dg;if(m&&typeof c=="string"&&c){var E=Ca(c);E='link[rel="'+A+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),oV.has(E)||(oV.add(E),A={rel:A,crossOrigin:p,href:c},m.querySelector(E)===null&&(c=m.createElement("link"),fi(c,"link",A),Xn(c),m.head.appendChild(c)))}}function kne(A){sl.D(A),AV("dns-prefetch",A,null)}function One(A,c){sl.C(A,c),AV("preconnect",A,c)}function Hne(A,c,p){sl.L(A,c,p);var m=dg;if(m&&A&&c){var E='link[rel="preload"][as="'+Ca(c)+'"]';c==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+Ca(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+Ca(p.imageSizes)+'"]')):E+='[href="'+Ca(A)+'"]';var x=E;switch(c){case"style":x=fg(A);break;case"script":x=hg(A)}Fa.has(x)||(A=h({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:A,as:c},p),Fa.set(x,A),m.querySelector(E)!==null||c==="style"&&m.querySelector(y0(x))||c==="script"&&m.querySelector(w0(x))||(c=m.createElement("link"),fi(c,"link",A),Xn(c),m.head.appendChild(c)))}}function Vne(A,c){sl.m(A,c);var p=dg;if(p&&A){var m=c&&typeof c.as=="string"?c.as:"script",E='link[rel="modulepreload"][as="'+Ca(m)+'"][href="'+Ca(A)+'"]',x=E;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=hg(A)}if(!Fa.has(x)&&(A=h({rel:"modulepreload",href:A},c),Fa.set(x,A),p.querySelector(E)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(w0(x)))return}m=p.createElement("link"),fi(m,"link",A),Xn(m),p.head.appendChild(m)}}}function Kne(A,c,p){sl.S(A,c,p);var m=dg;if(m&&A){var E=ju(m).hoistableStyles,x=fg(A);c=c||"default";var N=E.get(x);if(!N){var O={loading:0,preload:null};if(N=m.querySelector(y0(x)))O.loading=5;else{A=h({rel:"stylesheet",href:A,"data-precedence":c},p),(p=Fa.get(x))&&OM(A,p);var $=N=m.createElement("link");Xn($),fi($,"link",A),$._p=new Promise(function(ie,pe){$.onload=ie,$.onerror=pe}),$.addEventListener("load",function(){O.loading|=1}),$.addEventListener("error",function(){O.loading|=2}),O.loading|=4,xS(N,c,m)}N={type:"stylesheet",instance:N,count:1,state:O},E.set(x,N)}}}function Gne(A,c){sl.X(A,c);var p=dg;if(p&&A){var m=ju(p).hoistableScripts,E=hg(A),x=m.get(E);x||(x=p.querySelector(w0(E)),x||(A=h({src:A,async:!0},c),(c=Fa.get(E))&&HM(A,c),x=p.createElement("script"),Xn(x),fi(x,"link",A),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(E,x))}}function zne(A,c){sl.M(A,c);var p=dg;if(p&&A){var m=ju(p).hoistableScripts,E=hg(A),x=m.get(E);x||(x=p.querySelector(w0(E)),x||(A=h({src:A,async:!0,type:"module"},c),(c=Fa.get(E))&&HM(A,c),x=p.createElement("script"),Xn(x),fi(x,"link",A),p.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(E,x))}}function lV(A,c,p,m){var E=(E=ce.current)?SS(E):null;if(!E)throw Error(r(446));switch(A){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=fg(p.href),p=ju(E).hoistableStyles,m=p.get(c),m||(m={type:"style",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){A=fg(p.href);var x=ju(E).hoistableStyles,N=x.get(A);if(N||(E=E.ownerDocument||E,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(A,N),(x=E.querySelector(y0(A)))&&!x._p&&(N.instance=x,N.state.loading=5),Fa.has(A)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Fa.set(A,p),x||qne(E,A,p,N.state))),c&&m===null)throw Error(r(528,""));return N}if(c&&m!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=hg(p),p=ju(E).hoistableScripts,m=p.get(c),m||(m={type:"script",instance:null,count:0,state:null},p.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,A))}}function fg(A){return'href="'+Ca(A)+'"'}function y0(A){return'link[rel="stylesheet"]['+A+"]"}function uV(A){return h({},A,{"data-precedence":A.precedence,precedence:null})}function qne(A,c,p,m){A.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=A.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),fi(c,"link",p),Xn(c),A.head.appendChild(c))}function hg(A){return'[src="'+Ca(A)+'"]'}function w0(A){return"script[async]"+A}function cV(A,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var m=A.querySelector('style[data-href~="'+Ca(p.href)+'"]');if(m)return c.instance=m,Xn(m),m;var E=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return m=(A.ownerDocument||A).createElement("style"),Xn(m),fi(m,"style",E),xS(m,p.precedence,A),c.instance=m;case"stylesheet":E=fg(p.href);var x=A.querySelector(y0(E));if(x)return c.state.loading|=4,c.instance=x,Xn(x),x;m=uV(p),(E=Fa.get(E))&&OM(m,E),x=(A.ownerDocument||A).createElement("link"),Xn(x);var N=x;return N._p=new Promise(function(O,$){N.onload=O,N.onerror=$}),fi(x,"link",m),c.state.loading|=4,xS(x,p.precedence,A),c.instance=x;case"script":return x=hg(p.src),(E=A.querySelector(w0(x)))?(c.instance=E,Xn(E),E):(m=p,(E=Fa.get(x))&&(m=h({},p),HM(m,E)),A=A.ownerDocument||A,E=A.createElement("script"),Xn(E),fi(E,"link",m),A.head.appendChild(E),c.instance=E);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,xS(m,p.precedence,A));return c.instance}function xS(A,c,p){for(var m=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=m.length?m[m.length-1]:null,x=E,N=0;N<m.length;N++){var O=m[N];if(O.dataset.precedence===c)x=O;else if(x!==E)break}x?x.parentNode.insertBefore(A,x.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(A,c.firstChild))}function OM(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.title==null&&(A.title=c.title)}function HM(A,c){A.crossOrigin==null&&(A.crossOrigin=c.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=c.referrerPolicy),A.integrity==null&&(A.integrity=c.integrity)}var _S=null;function dV(A,c,p){if(_S===null){var m=new Map,E=_S=new Map;E.set(p,m)}else E=_S,m=E.get(p),m||(m=new Map,E.set(p,m));if(m.has(A))return m;for(m.set(A,null),p=p.getElementsByTagName(A),E=0;E<p.length;E++){var x=p[E];if(!(x[af]||x[yr]||A==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var N=x.getAttribute(c)||"";N=A+N;var O=m.get(N);O?O.push(x):m.set(N,[x])}}return m}function fV(A,c,p){A=A.ownerDocument||A,A.head.insertBefore(p,c==="title"?A.querySelector("head > title"):null)}function $ne(A,c,p){if(p===1||c.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return A=c.disabled,typeof c.precedence=="string"&&A==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function hV(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function jne(A,c,p,m){if(p.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var E=fg(m.href),x=c.querySelector(y0(E));if(x){c=x._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(A.count++,A=TS.bind(A),c.then(A,A)),p.state.loading|=4,p.instance=x,Xn(x);return}x=c.ownerDocument||c,m=uV(m),(E=Fa.get(E))&&OM(m,E),x=x.createElement("link"),Xn(x);var N=x;N._p=new Promise(function(O,$){N.onload=O,N.onerror=$}),fi(x,"link",m),p.instance=x}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(A.count++,p=TS.bind(A),c.addEventListener("load",p),c.addEventListener("error",p))}}var VM=0;function Wne(A,c){return A.stylesheets&&A.count===0&&FS(A,A.stylesheets),0<A.count||0<A.imgCount?function(p){var m=setTimeout(function(){if(A.stylesheets&&FS(A,A.stylesheets),A.unsuspend){var x=A.unsuspend;A.unsuspend=null,x()}},6e4+c);0<A.imgBytes&&VM===0&&(VM=62500*Ine());var E=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&FS(A,A.stylesheets),A.unsuspend)){var x=A.unsuspend;A.unsuspend=null,x()}},(A.imgBytes>VM?50:800)+c);return A.unsuspend=p,function(){A.unsuspend=null,clearTimeout(m),clearTimeout(E)}}:null}function TS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)FS(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var IS=null;function FS(A,c){A.stylesheets=null,A.unsuspend!==null&&(A.count++,IS=new Map,c.forEach(Yne,A),IS=null,TS.call(A))}function Yne(A,c){if(!(c.state.loading&4)){var p=IS.get(A);if(p)var m=p.get(null);else{p=new Map,IS.set(A,p);for(var E=A.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<E.length;x++){var N=E[x];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(p.set(N.dataset.precedence,N),m=N)}m&&p.set(null,m)}E=c.instance,N=E.getAttribute("data-precedence"),x=p.get(N)||m,x===m&&p.set(null,E),p.set(N,E),this.count++,m=TS.bind(this),E.addEventListener("load",m),E.addEventListener("error",m),x?x.parentNode.insertBefore(E,x.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(E,A.firstChild)),c.state.loading|=4}}var b0={$$typeof:T,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Xne(A,c,p,m,E,x,N,O,$){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ps(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ps(0),this.hiddenUpdates=Ps(null),this.identifierPrefix=m,this.onUncaughtError=E,this.onCaughtError=x,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function pV(A,c,p,m,E,x,N,O,$,ie,pe,we){return A=new Xne(A,c,p,N,$,ie,pe,we,O),c=1,x===!0&&(c|=24),x=Ns(3,null,null,c),A.current=x,x.stateNode=A,c=bF(),c.refCount++,A.pooledCache=c,c.refCount++,x.memoizedState={element:m,isDehydrated:p,cache:c},SF(x),A}function gV(A){return A?(A=zp,A):zp}function mV(A,c,p,m,E,x){E=gV(E),m.context===null?m.context=E:m.pendingContext=E,m=tc(c),m.payload={element:p},x=x===void 0?null:x,x!==null&&(m.callback=x),p=nc(A,m,c),p!==null&&(hs(p,A,c),Zy(p,A,c))}function vV(A,c){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var p=A.retryLane;A.retryLane=p!==0&&p<c?p:c}}function KM(A,c){vV(A,c),(A=A.alternate)&&vV(A,c)}function yV(A){if(A.tag===13||A.tag===31){var c=cf(A,67108864);c!==null&&hs(c,A,67108864),KM(A,67108864)}}function wV(A){if(A.tag===13||A.tag===31){var c=Hs();c=zu(c);var p=cf(A,c);p!==null&&hs(p,A,c),KM(A,c)}}var MS=!0;function Jne(A,c,p,m){var E=V.T;V.T=null;var x=j.p;try{j.p=2,GM(A,c,p,m)}finally{j.p=x,V.T=E}}function Zne(A,c,p,m){var E=V.T;V.T=null;var x=j.p;try{j.p=8,GM(A,c,p,m)}finally{j.p=x,V.T=E}}function GM(A,c,p,m){if(MS){var E=zM(m);if(E===null)FM(A,c,m,US,p),CV(A,m);else if(tre(E,A,c,p,m))m.stopPropagation();else if(CV(A,m),c&4&&-1<ere.indexOf(A)){for(;E!==null;){var x=jo(E);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var N=rn(x.pendingLanes);if(N!==0){var O=x;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var $=1<<31-ve(N);O.entanglements[1]|=$,N&=~$}Jo(x),(Vt&6)===0&&(hS=Gn()+500,p0(0))}}break;case 31:case 13:O=cf(x,2),O!==null&&hs(O,x,2),gS(),KM(x,2)}if(x=zM(m),x===null&&FM(A,c,m,US,p),x===E)break;E=x}E!==null&&m.stopPropagation()}else FM(A,c,m,null,p)}}function zM(A){return A=$I(A),qM(A)}var US=null;function qM(A){if(US=null,A=$u(A),A!==null){var c=s(A);if(c===null)A=null;else{var p=c.tag;if(p===13){if(A=a(c),A!==null)return A;A=null}else if(p===31){if(A=o(c),A!==null)return A;A=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;A=null}else c!==A&&(A=null)}}return US=A,null}function bV(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case ee:return 2;case Be:return 8;case Me:case mt:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var $M=!1,fc=null,hc=null,pc=null,C0=new Map,E0=new Map,gc=[],ere="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CV(A,c){switch(A){case"focusin":case"focusout":fc=null;break;case"dragenter":case"dragleave":hc=null;break;case"mouseover":case"mouseout":pc=null;break;case"pointerover":case"pointerout":C0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":E0.delete(c.pointerId)}}function B0(A,c,p,m,E,x){return A===null||A.nativeEvent!==x?(A={blockedOn:c,domEventName:p,eventSystemFlags:m,nativeEvent:x,targetContainers:[E]},c!==null&&(c=jo(c),c!==null&&yV(c)),A):(A.eventSystemFlags|=m,c=A.targetContainers,E!==null&&c.indexOf(E)===-1&&c.push(E),A)}function tre(A,c,p,m,E){switch(c){case"focusin":return fc=B0(fc,A,c,p,m,E),!0;case"dragenter":return hc=B0(hc,A,c,p,m,E),!0;case"mouseover":return pc=B0(pc,A,c,p,m,E),!0;case"pointerover":var x=E.pointerId;return C0.set(x,B0(C0.get(x)||null,A,c,p,m,E)),!0;case"gotpointercapture":return x=E.pointerId,E0.set(x,B0(E0.get(x)||null,A,c,p,m,E)),!0}return!1}function EV(A){var c=$u(A.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){A.blockedOn=c,Ry(A.priority,function(){wV(p)});return}}else if(c===31){if(c=o(p),c!==null){A.blockedOn=c,Ry(A.priority,function(){wV(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){A.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}A.blockedOn=null}function PS(A){if(A.blockedOn!==null)return!1;for(var c=A.targetContainers;0<c.length;){var p=zM(A.nativeEvent);if(p===null){p=A.nativeEvent;var m=new p.constructor(p.type,p);qI=m,p.target.dispatchEvent(m),qI=null}else return c=jo(p),c!==null&&yV(c),A.blockedOn=p,!1;c.shift()}return!0}function BV(A,c,p){PS(A)&&p.delete(c)}function nre(){$M=!1,fc!==null&&PS(fc)&&(fc=null),hc!==null&&PS(hc)&&(hc=null),pc!==null&&PS(pc)&&(pc=null),C0.forEach(BV),E0.forEach(BV)}function RS(A,c){A.blockedOn===c&&(A.blockedOn=null,$M||($M=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nre)))}var DS=null;function SV(A){DS!==A&&(DS=A,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){DS===A&&(DS=null);for(var c=0;c<A.length;c+=3){var p=A[c],m=A[c+1],E=A[c+2];if(typeof m!="function"){if(qM(m||p)===null)continue;break}var x=jo(p);x!==null&&(A.splice(c,3),c-=3,zF(x,{pending:!0,data:E,method:p.method,action:m},m,E))}}))}function pg(A){function c($){return RS($,A)}fc!==null&&RS(fc,A),hc!==null&&RS(hc,A),pc!==null&&RS(pc,A),C0.forEach(c),E0.forEach(c);for(var p=0;p<gc.length;p++){var m=gc[p];m.blockedOn===A&&(m.blockedOn=null)}for(;0<gc.length&&(p=gc[0],p.blockedOn===null);)EV(p),p.blockedOn===null&&gc.shift();if(p=(A.ownerDocument||A).$$reactFormReplay,p!=null)for(m=0;m<p.length;m+=3){var E=p[m],x=p[m+1],N=E[Mi]||null;if(typeof x=="function")N||SV(p);else if(N){var O=null;if(x&&x.hasAttribute("formAction")){if(E=x,N=x[Mi]||null)O=N.formAction;else if(qM(E)!==null)continue}else O=N.action;typeof O=="function"?p[m+1]=O:(p.splice(m,3),m-=3),SV(p)}}}function xV(){function A(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(N){return E=N})},focusReset:"manual",scroll:"manual"})}function c(){E!==null&&(E(),E=null),m||setTimeout(p,20)}function p(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,E=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){m=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),E!==null&&(E(),E=null)}}}function jM(A){this._internalRoot=A}NS.prototype.render=jM.prototype.render=function(A){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,m=Hs();mV(p,m,A,c,null,null)},NS.prototype.unmount=jM.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var c=A.containerInfo;mV(A.current,2,null,A,null,null),gS(),c[qu]=null}};function NS(A){this._internalRoot=A}NS.prototype.unstable_scheduleHydration=function(A){if(A){var c=EB();A={blockedOn:null,target:A,priority:c};for(var p=0;p<gc.length&&c!==0&&c<gc[p].priority;p++);gc.splice(p,0,A),p===0&&EV(A)}};var _V=e.version;if(_V!=="19.2.1")throw Error(r(527,_V,"19.2.1"));j.findDOMNode=function(A){var c=A._reactInternals;if(c===void 0)throw typeof A.render=="function"?Error(r(188)):(A=Object.keys(A).join(","),Error(r(268,A)));return A=u(c),A=A!==null?d(A):null,A=A===null?null:A.stateNode,A};var rre={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var LS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!LS.isDisabled&&LS.supportsFiber)try{jt=LS.inject(rre),Bt=LS}catch{}}return x0.createRoot=function(A,c){if(!i(A))throw Error(r(299));var p=!1,m="",E=RH,x=DH,N=NH;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(E=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError)),c=pV(A,1,!1,null,null,p,m,null,E,x,N,xV),A[qu]=c.current,IM(A),new jM(c)},x0.hydrateRoot=function(A,c,p){if(!i(A))throw Error(r(299));var m=!1,E="",x=RH,N=DH,O=NH,$=null;return p!=null&&(p.unstable_strictMode===!0&&(m=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(x=p.onUncaughtError),p.onCaughtError!==void 0&&(N=p.onCaughtError),p.onRecoverableError!==void 0&&(O=p.onRecoverableError),p.formState!==void 0&&($=p.formState)),c=pV(A,1,!0,c,p??null,m,E,$,x,N,O,xV),c.context=gV(null),p=c.current,m=Hs(),m=zu(m),E=tc(m),E.callback=null,nc(p,E,m),p=m,c.current.lanes=p,Rs(c,p),Jo(c),A[qu]=c.current,IM(A),new NS(c)},x0.version="19.2.1",x0}var QV;function gre(){if(QV)return JM.exports;QV=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),JM.exports=pre(),JM.exports}var mre=gre();const vre=kA(mre);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kV="popstate";function yre(n={}){function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=Tp(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),xR("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:Kw(s))}function r(i,s){ao(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return bre(e,t,r,n)}function jn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ao(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wre(){return Math.random().toString(36).substring(2,10)}function OV(n,e){return{usr:n.state,key:n.key,idx:e}}function xR(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Tp(e):e,state:t,key:e&&e.key||r||wre()}}function Kw({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Tp(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function bre(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let B=d(),S=B==null?null:B-u;u=B,l&&l({action:o,location:C.location,delta:S})}function g(B,S){o="PUSH";let I=xR(C.location,B,S);t&&t(I,B),u=d()+1;let T=OV(I,u),R=C.createHref(I);try{a.pushState(T,"",R)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(R)}s&&l&&l({action:o,location:C.location,delta:1})}function v(B,S){o="REPLACE";let I=xR(C.location,B,S);t&&t(I,B),u=d();let T=OV(I,u),R=C.createHref(I);a.replaceState(T,"",R),s&&l&&l({action:o,location:C.location,delta:0})}function b(B){return Cre(B)}let C={get action(){return o},get location(){return n(i,a)},listen(B){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kV,h),l=B,()=>{i.removeEventListener(kV,h),l=null}},createHref(B){return e(i,B)},createURL:b,encodeLocation(B){let S=b(B);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(B){return a.go(B)}};return C}function Cre(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),jn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Kw(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function G8(n,e,t="/"){return Ere(n,e,t,!1)}function Ere(n,e,t,r){let i=typeof e=="string"?Tp(e):e,s=bu(i.pathname||"/",t);if(s==null)return null;let a=z8(n);Bre(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Dre(s);o=Pre(a[l],u,r)}return o}function z8(n,e=[],t=[],r="",i=!1){let s=(a,o,l=i,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;jn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=hu([r,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(jn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),z8(a.children,e,g,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:Mre(h,a.index),routesMeta:g})};return n.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of q8(a.path))s(a,o,!0,u)}),e}function q8(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=q8(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function Bre(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Ure(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Sre=/^:[\w-]+$/,xre=3,_re=2,Tre=1,Ire=10,Fre=-2,HV=n=>n==="*";function Mre(n,e){let t=n.split("/"),r=t.length;return t.some(HV)&&(r+=Fre),e&&(r+=_re),t.filter(i=>!HV(i)).reduce((i,s)=>i+(Sre.test(s)?xre:s===""?Tre:Ire),r)}function Ure(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Pre(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=$_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!h&&u&&t&&!r[r.length-1].route.index&&(h=$_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:hu([s,h.pathname]),pathnameBase:Ore(hu([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=hu([s,h.pathnameBase]))}return a}function $_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Rre(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},g)=>{if(d==="*"){let b=o[g]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=o[g];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function Rre(n,e=!1,t=!0){ao(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Dre(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ao(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function bu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var Nre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lre=n=>Nre.test(n);function Qre(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Tp(n):n,s;if(t)if(Lre(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),ao(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=VV(t.substring(1),"/"):s=VV(t,e)}else s=e;return{pathname:s,search:Hre(r),hash:Vre(i)}}function VV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function nU(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kre(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $8(n){let e=kre(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function j8(n,e,t,r=!1){let i;typeof n=="string"?i=Tp(n):(i={...n},jn(!i.pathname||!i.pathname.includes("?"),nU("?","pathname","search",i)),jn(!i.pathname||!i.pathname.includes("#"),nU("#","pathname","hash",i)),jn(!i.search||!i.search.includes("#"),nU("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=Qre(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var hu=n=>n.join("/").replace(/\/\/+/g,"/"),Ore=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Hre=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Vre=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Kre(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Gre(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var W8=["POST","PUT","PATCH","DELETE"];new Set(W8);var zre=["GET",...W8];new Set(zre);var wy=F.createContext(null);wy.displayName="DataRouter";var R1=F.createContext(null);R1.displayName="DataRouterState";F.createContext(!1);var Y8=F.createContext({isTransitioning:!1});Y8.displayName="ViewTransition";var qre=F.createContext(new Map);qre.displayName="Fetchers";var $re=F.createContext(null);$re.displayName="Await";var Ko=F.createContext(null);Ko.displayName="Navigation";var VE=F.createContext(null);VE.displayName="Location";var Du=F.createContext({outlet:null,matches:[],isDataRoute:!1});Du.displayName="Route";var BQ=F.createContext(null);BQ.displayName="RouteError";function jre(n,{relative:e}={}){jn(KE(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(Ko),{hash:i,pathname:s,search:a}=GE(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:hu([t,s])),r.createHref({pathname:o,search:a,hash:i})}function KE(){return F.useContext(VE)!=null}function Nu(){return jn(KE(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(VE).location}var X8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J8(n){F.useContext(Ko).static||F.useLayoutEffect(n)}function Z8(){let{isDataRoute:n}=F.useContext(Du);return n?oie():Wre()}function Wre(){jn(KE(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(wy),{basename:e,navigator:t}=F.useContext(Ko),{matches:r}=F.useContext(Du),{pathname:i}=Nu(),s=JSON.stringify($8(r)),a=F.useRef(!1);return J8(()=>{a.current=!0}),F.useCallback((l,u={})=>{if(ao(a.current,X8),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=j8(l,JSON.parse(s),i,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:hu([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,i,n])}F.createContext(null);function GE(n,{relative:e}={}){let{matches:t}=F.useContext(Du),{pathname:r}=Nu(),i=JSON.stringify($8(t));return F.useMemo(()=>j8(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function Yre(n,e){return e6(n,e)}function e6(n,e,t,r,i){var I;jn(KE(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=F.useContext(Ko),{matches:a}=F.useContext(Du),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let T=h&&h.path||"";t6(u,!h||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=Nu(),v;if(e){let T=typeof e=="string"?Tp(e):e;jn(d==="/"||((I=T.pathname)==null?void 0:I.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=g;let b=v.pathname||"/",C=b;if(d!=="/"){let T=d.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let B=G8(n,{pathname:C});ao(h||B!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ao(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=tie(B&&B.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:hu([d,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:hu([d,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),a,t,r,i);return e&&S?F.createElement(VE.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function Xre(){let n=aie(),e=Kre(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:s},"ErrorBoundary")," or"," ",F.createElement("code",{style:s},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:i},t):null,a)}var Jre=F.createElement(Xre,null),Zre=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?F.createElement(Du.Provider,{value:this.props.routeContext},F.createElement(BQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eie({routeContext:n,match:e,children:t}){let r=F.useContext(wy);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Du.Provider,{value:n},t)}function tie(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);jn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:g,errors:v}=t,b=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||b){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=t&&r?(d,h)=>{var g,v;r(d,{location:t.location,params:((v=(g=t.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:Gre(t.matches),errorInfo:h})}:void 0;return s.reduceRight((d,h,g)=>{let v,b=!1,C=null,B=null;t&&(v=a&&h.route.id?a[h.route.id]:void 0,C=h.route.errorElement||Jre,o&&(l<0&&g===0?(t6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,B=null):l===g&&(b=!0,B=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),I=()=>{let T;return v?T=C:b?T=B:h.route.Component?T=F.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,F.createElement(eie,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?F.createElement(Zre,{location:t.location,revalidation:t.revalidation,component:C,error:v,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:u}):I()},null)}function SQ(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nie(n){let e=F.useContext(wy);return jn(e,SQ(n)),e}function rie(n){let e=F.useContext(R1);return jn(e,SQ(n)),e}function iie(n){let e=F.useContext(Du);return jn(e,SQ(n)),e}function xQ(n){let e=iie(n),t=e.matches[e.matches.length-1];return jn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function sie(){return xQ("useRouteId")}function aie(){var r;let n=F.useContext(BQ),e=rie("useRouteError"),t=xQ("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function oie(){let{router:n}=nie("useNavigate"),e=xQ("useNavigate"),t=F.useRef(!1);return J8(()=>{t.current=!0}),F.useCallback(async(i,s={})=>{ao(t.current,X8),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var KV={};function t6(n,e,t){!e&&!KV[n]&&(KV[n]=!0,ao(!1,t))}F.memo(Aie);function Aie({routes:n,future:e,state:t,unstable_onError:r}){return e6(n,void 0,t,r,e)}function _R(n){jn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lie({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){jn(!KE(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=F.useMemo(()=>({basename:o,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[o,i,s,a]);typeof t=="string"&&(t=Tp(t));let{pathname:u="/",search:d="",hash:h="",state:g=null,key:v="default"}=t,b=F.useMemo(()=>{let C=bu(u,o);return C==null?null:{location:{pathname:C,search:d,hash:h,state:g,key:v},navigationType:r}},[o,u,d,h,g,v,r]);return ao(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:F.createElement(Ko.Provider,{value:l},F.createElement(VE.Provider,{children:e,value:b}))}function uie({children:n,location:e}){return Yre(TR(n),e)}function TR(n,e=[]){let t=[];return F.Children.forEach(n,(r,i)=>{if(!F.isValidElement(r))return;let s=[...e,i];if(r.type===F.Fragment){t.push.apply(t,TR(r.props.children,s));return}jn(r.type===_R,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=TR(r.props.children,s)),t.push(a)}),t}var Hx="get",Vx="application/x-www-form-urlencoded";function D1(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function cie(n){return D1(n)&&n.tagName.toLowerCase()==="button"}function die(n){return D1(n)&&n.tagName.toLowerCase()==="form"}function fie(n){return D1(n)&&n.tagName.toLowerCase()==="input"}function hie(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pie(n,e){return n.button===0&&(!e||e==="_self")&&!hie(n)}var QS=null;function gie(){if(QS===null)try{new FormData(document.createElement("form"),0),QS=!1}catch{QS=!0}return QS}var mie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rU(n){return n!=null&&!mie.has(n)?(ao(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vx}"`),null):n}function vie(n,e){let t,r,i,s,a;if(die(n)){let o=n.getAttribute("action");r=o?bu(o,e):null,t=n.getAttribute("method")||Hx,i=rU(n.getAttribute("enctype"))||Vx,s=new FormData(n)}else if(cie(n)||fie(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(r=l?bu(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Hx,i=rU(n.getAttribute("formenctype"))||rU(o.getAttribute("enctype"))||Vx,s=new FormData(o,n),!gie()){let{name:u,type:d,value:h}=n;if(d==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,h)}}else{if(D1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hx,r=null,i=Vx,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _Q(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function yie(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&bu(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function wie(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bie(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Cie(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await wie(s,t);return a.links?a.links():[]}return[]}));return xie(r.flat(1).filter(bie).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function GV(n,e,t,r,i,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>{var d;return t[u].pathname!==l.pathname||((d=t[u].route.path)==null?void 0:d.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let g=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Eie(n,e,{includeHydrateFallback:t}={}){return Bie(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Bie(n){return[...new Set(n)]}function Sie(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function xie(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(Sie(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function n6(){let n=F.useContext(wy);return _Q(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _ie(){let n=F.useContext(R1);return _Q(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var TQ=F.createContext(void 0);TQ.displayName="FrameworkContext";function r6(){let n=F.useContext(TQ);return _Q(n,"You must render this element inside a <HydratedRouter> element"),n}function Tie(n,e){let t=F.useContext(TQ),[r,i]=F.useState(!1),[s,a]=F.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,g=F.useRef(null);F.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let C=S=>{S.forEach(I=>{a(I.isIntersecting)})},B=new IntersectionObserver(C,{threshold:.5});return g.current&&B.observe(g.current),()=>{B.disconnect()}}},[n]),F.useEffect(()=>{if(r){let C=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(C)}}},[r]);let v=()=>{i(!0)},b=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:_0(o,v),onBlur:_0(l,b),onMouseEnter:_0(u,v),onMouseLeave:_0(d,b),onTouchStart:_0(h,v)}]:[!1,g,{}]}function _0(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Iie({page:n,...e}){let{router:t}=n6(),r=F.useMemo(()=>G8(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(Mie,{page:n,matches:r,...e}):null}function Fie(n){let{manifest:e,routeModules:t}=r6(),[r,i]=F.useState([]);return F.useEffect(()=>{let s=!1;return Cie(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function Mie({page:n,matches:e,...t}){let r=Nu(),{manifest:i,routeModules:s}=r6(),{basename:a}=n6(),{loaderData:o,matches:l}=_ie(),u=F.useMemo(()=>GV(n,e,l,i,r,"data"),[n,e,l,i,r]),d=F.useMemo(()=>GV(n,e,l,i,r,"assets"),[n,e,l,i,r]),h=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,C=!1;if(e.forEach(S=>{var T;let I=i.routes[S.route.id];!I||!I.hasLoader||(!u.some(R=>R.route.id===S.route.id)&&S.route.id in o&&((T=s[S.route.id])!=null&&T.shouldRevalidate)||I.hasClientLoader?C=!0:b.add(S.route.id))}),b.size===0)return[];let B=yie(n,a,"data");return C&&b.size>0&&B.searchParams.set("_routes",e.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[B.pathname+B.search]},[a,o,r,i,u,e,n,s]),g=F.useMemo(()=>Eie(d,i),[d,i]),v=Fie(d);return F.createElement(F.Fragment,null,h.map(b=>F.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),g.map(b=>F.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),v.map(({key:b,link:C})=>F.createElement("link",{key:b,nonce:t.nonce,...C})))}function Uie(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var i6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i6&&(window.__reactRouterVersion="7.10.1")}catch{}function Pie({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=F.useRef();i.current==null&&(i.current=yre({window:r,v5Compat:!0}));let s=i.current,[a,o]=F.useState({action:s.action,location:s.location}),l=F.useCallback(u=>{t===!1?o(u):F.startTransition(()=>o(u))},[t]);return F.useLayoutEffect(()=>s.listen(l),[s,l]),F.createElement(lie,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t===!0})}var s6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j_=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h,...g},v){let{basename:b,unstable_useTransitions:C}=F.useContext(Ko),B=typeof u=="string"&&s6.test(u),S,I=!1;if(typeof u=="string"&&B&&(S=u,i6))try{let G=new URL(window.location.href),K=u.startsWith("//")?new URL(G.protocol+u):new URL(u),z=bu(K.pathname,b);K.origin===G.origin&&z!=null?u=z+K.search+K.hash:I=!0}catch{ao(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=jre(u,{relative:i}),[R,U,D]=Tie(r,g),L=Lie(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h,unstable_useTransitions:C});function H(G){e&&e(G),G.defaultPrevented||L(G)}let k=F.createElement("a",{...g,...D,href:S||T,onClick:I||s?e:H,ref:Uie(v,U),target:l,"data-discover":!B&&t==="render"?"true":void 0});return R&&!B?F.createElement(F.Fragment,null,k,F.createElement(Iie,{page:T})):k});j_.displayName="Link";var Rie=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let h=GE(a,{relative:u.relative}),g=Nu(),v=F.useContext(R1),{navigator:b,basename:C}=F.useContext(Ko),B=v!=null&&Vie(h)&&o===!0,S=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,I=g.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(I=I.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&C&&(T=bu(T,C)||T);const R=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let U=I===S||!i&&I.startsWith(S)&&I.charAt(R)==="/",D=T!=null&&(T===S||!i&&T.startsWith(S)&&T.charAt(S.length)==="/"),L={isActive:U,isPending:D,isTransitioning:B},H=U?e:void 0,k;typeof r=="function"?k=r(L):k=[r,U?"active":null,D?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(L):s;return F.createElement(j_,{...u,"aria-current":H,className:k,ref:d,style:G,to:a,viewTransition:o},typeof l=="function"?l(L):l)});Rie.displayName="NavLink";var Die=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=Hx,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...g},v)=>{let{unstable_useTransitions:b}=F.useContext(Ko),C=Oie(),B=Hie(o,{relative:u}),S=a.toLowerCase()==="get"?"get":"post",I=typeof o=="string"&&s6.test(o),T=R=>{if(l&&l(R),R.defaultPrevented)return;R.preventDefault();let U=R.nativeEvent.submitter,D=(U==null?void 0:U.getAttribute("formmethod"))||a,L=()=>C(U||R.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h});b&&t!==!1?F.startTransition(()=>L()):L()};return F.createElement("form",{ref:v,method:S,action:B,onSubmit:r?l:T,...g,"data-discover":!I&&n==="render"?"true":void 0})});Die.displayName="Form";function Nie(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a6(n){let e=F.useContext(wy);return jn(e,Nie(n)),e}function Lie(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_useTransitions:o}={}){let l=Z8(),u=Nu(),d=GE(n,{relative:s});return F.useCallback(h=>{if(pie(h,e)){h.preventDefault();let g=t!==void 0?t:Kw(u)===Kw(d),v=()=>l(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:a});o?F.startTransition(()=>v()):v()}},[u,l,d,t,r,e,n,i,s,a,o])}var Qie=0,kie=()=>`__${String(++Qie)}__`;function Oie(){let{router:n}=a6("useSubmit"),{basename:e}=F.useContext(Ko),t=sie(),r=n.fetch,i=n.navigate;return F.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:d,body:h}=vie(s,e);if(a.navigate===!1){let g=a.fetcherKey||kie();await r(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await i(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,e,t])}function Hie(n,{relative:e}={}){let{basename:t}=F.useContext(Ko),r=F.useContext(Du);jn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...GE(n||".",{relative:e})},a=Nu();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:hu([t,s.pathname])),Kw(s)}function Vie(n,{relative:e}={}){let t=F.useContext(Y8);jn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=a6("useViewTransitionState"),i=GE(n,{relative:e});if(!t.isTransitioning)return!1;let s=bu(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=bu(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $_(i.pathname,a)!=null||$_(i.pathname,s)!=null}var o6=K8();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Kie,Gie;function zie(){return{geminiUrl:Kie,vertexUrl:Gie}}function qie(n,e,t,r){var i,s;if(!(n!=null&&n.baseUrl)){const a=zie();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:t:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lu{}function Re(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in n))if(Array.isArray(t))n[o]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[o])){const l=n[o];if(Array.isArray(t))for(let u=0;u<l.length;u++){const d=l[u];w(d,e.slice(s+1),t[u])}else for(const u of l)w(u,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in n||(n[o]=[{}]);const l=n[o];w(l[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const r=e[e.length-1],i=n[r];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[r]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return t;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in n){const a=n[s];return Array.isArray(a)?a.map(o=>y(o,e.slice(r+1),t)):t}else return t}else n=n[i]}return n}catch(r){if(r instanceof TypeError)return t;throw r}}function $ie(n,e){for(const[t,r]of Object.entries(e)){const i=t.split("."),s=r.split("."),a=new Set;let o=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){o=l;break}if(o!==-1&&s.length>o)for(let l=o;l<s.length;l++){const u=s[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}IR(n,i,s,0,a)}}function IR(n,e,t,r,i){if(r>=e.length||typeof n!="object"||n===null)return;const s=e[r];if(s.endsWith("[]")){const a=s.slice(0,-2),o=n;if(a in o&&Array.isArray(o[a]))for(const l of o[a])IR(l,e,t,r+1,i)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const a=n,o=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of o)l[u]=a[u];for(const[u,d]of Object.entries(l)){const h=[];for(const g of t.slice(r))g==="*"?h.push(u):h.push(g);w(a,h,d)}for(const u of o)delete a[u]}}else{const a=n;s in a&&IR(a[s],e,t,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IQ(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jie(n){const e={},t=y(n,["operationName"]);t!=null&&w(e,["operationName"],t);const r=y(n,["resourceName"]);return r!=null&&w(e,["_url","resourceName"],r),e}function Wie(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],Xie(a)),e}function Yie(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Jie(a)),e}function Xie(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>Zie(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function Jie(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>ese(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function Zie(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],ase(t)),e}function ese(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],ose(t)),e}function tse(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function nse(n){const e={},t=y(n,["operationName"]);return t!=null&&w(e,["_url","operationName"],t),e}function rse(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],ise(a)),e}function ise(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function A6(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],sse(a)),e}function sse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function ase(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&w(e,["videoBytes"],IQ(r));const i=y(n,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function ose(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],IQ(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zV;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zV||(zV={}));var qV;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(qV||(qV={}));var $V;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})($V||($V={}));var kd;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(kd||(kd={}));var jV;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(jV||(jV={}));var WV;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(WV||(WV={}));var YV;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(YV||(YV={}));var XV;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(XV||(XV={}));var JV;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(JV||(JV={}));var ZV;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(ZV||(ZV={}));var e3;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(e3||(e3={}));var t3;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(t3||(t3={}));var n3;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(n3||(n3={}));var r3;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(r3||(r3={}));var i3;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(i3||(i3={}));var s3;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(s3||(s3={}));var a3;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(a3||(a3={}));var o3;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(o3||(o3={}));var A3;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(A3||(A3={}));var W_;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(W_||(W_={}));var l3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(l3||(l3={}));var u3;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(u3||(u3={}));var c3;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(c3||(c3={}));var FR;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(FR||(FR={}));var d3;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(d3||(d3={}));var f3;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(f3||(f3={}));var h3;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(h3||(h3={}));var p3;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(p3||(p3={}));var g3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(g3||(g3={}));var m3;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(m3||(m3={}));var v3;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(v3||(v3={}));var y3;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(y3||(y3={}));var w3;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(w3||(w3={}));var b3;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(b3||(b3={}));var C3;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(C3||(C3={}));var E3;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(E3||(E3={}));var B3;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(B3||(B3={}));var S3;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(S3||(S3={}));var x3;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(x3||(x3={}));var _3;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(_3||(_3={}));var T3;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(T3||(T3={}));var I3;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(I3||(I3={}));var F3;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(F3||(F3={}));var M3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(M3||(M3={}));var U3;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(U3||(U3={}));var P3;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(P3||(P3={}));var R3;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(R3||(R3={}));var D3;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(D3||(D3={}));var N3;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(N3||(N3={}));var L3;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(L3||(L3={}));var Q3;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Q3||(Q3={}));var k3;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(k3||(k3={}));var O3;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(O3||(O3={}));var H3;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(H3||(H3={}));var Hg;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Hg||(Hg={}));class MR{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class T0{get text(){var e,t,r,i,s,a,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const g of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[v,b]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(b!==null||b!==void 0)&&h.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,t,r,i,s,a,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="inlineData"&&(v!==null||v!==void 0)&&d.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,t,r,i,s,a,o,l;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,t,r,i,s,a,o,l,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,t,r,i,s,a,o,l,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class V3{}class K3{}class Ase{}class lse{}class use{}class cse{}class G3{}class z3{}class q3{}class dse{}class Y_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new Y_;let i;const s=e;return t?i=Yie(s):i=Wie(s),Object.assign(r,i),r}}class $3{}class j3{}class W3{}class Y3{}class fse{}class hse{}class pse{}class FQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new FQ,s=rse(e);return Object.assign(r,s),r}}class gse{}class mse{}class vse{}class X3{}class yse{get text(){var e,t,r;let i="",s=!1;const a=[];for(const o of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(o))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,t,r;let i="";const s=[];for(const a of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(a))o!=="inlineData"&&l!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class wse{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class MQ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new MQ,s=A6(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function l6(n,e){const t=kt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function u6(n){return Array.isArray(n)?n.map(e=>X_(e)):[X_(n)]}function X_(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function c6(n){const e=X_(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function d6(n){const e=X_(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function J3(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function f6(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>J3(e)):[J3(n)]}function UR(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Z3(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function eK(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Ki(n){if(n==null)throw new Error("ContentUnion is required");return UR(n)?n:{role:"user",parts:f6(n)}}function UQ(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=Ki(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=Ki(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Ki(t)):[Ki(e)]}function io(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Z3(n)||eK(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ki(n)]}const e=[],t=[],r=UR(n[0]);for(const i of n){const s=UR(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(Z3(i)||eK(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return r||e.push({role:"user",parts:f6(t)}),e}function bse(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(kd).includes(t[0].toUpperCase())?t[0].toUpperCase():kd.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(kd).includes(r.toUpperCase())?r.toUpperCase():kd.TYPE_UNSPECIFIED})}}function Xg(n){const e={},t=["items"],r=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&bse(n.type,e);for(const[a,o]of Object.entries(n))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(kd).includes(o.toUpperCase())?o.toUpperCase():kd.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=Xg(o);else if(r.includes(a)){const l=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}l.push(Xg(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,d]of Object.entries(o))l[u]=Xg(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=o}return e}function PQ(n){return Xg(n)}function RQ(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function DQ(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function by(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Xg(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Xg(e.response));return n}function Cy(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function Cse(n,e,t,r=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Qu(n,e){if(typeof e!="string")throw new Error("name must be a string");return Cse(n,e,"cachedContents")}function h6(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Zd(n){return IQ(n)}function Ese(n){return n!=null&&typeof n=="object"&&"name"in n}function Bse(n){return n!=null&&typeof n=="object"&&"video"in n}function Sse(n){return n!=null&&typeof n=="object"&&"uri"in n}function p6(n){var e;let t;if(Ese(n)&&(t=n.name),!(Sse(n)&&(t=n.uri,t===void 0))&&!(Bse(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function g6(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function m6(n){for(const e of["models","tunedModels","publisherModels"])if(xse(n,e))return n[e];return[]}function xse(n,e){return n!==null&&typeof n=="object"&&e in n}function _se(n,e={}){const t=n,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Tse(n,e={}){const t=[],r=new Set;for(const i of n){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=_se(i,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function v6(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function Ise(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function y6(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ey(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function w6(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fse(n){const e={},t=y(n,["responsesFile"]);t!=null&&w(e,["fileName"],t);const r=y(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>uae(a))),w(e,["inlinedResponses"],s)}const i=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["inlinedEmbedContentResponses"],s)}return e}function Mse(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&w(e,["format"],t);const r=y(n,["gcsDestination","outputUriPrefix"]);r!=null&&w(e,["gcsUri"],r);const i=y(n,["bigqueryDestination","outputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function Use(n){const e={},t=y(n,["format"]);t!=null&&w(e,["predictionsFormat"],t);const r=y(n,["gcsUri"]);r!=null&&w(e,["gcsDestination","outputUriPrefix"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&w(e,["bigqueryDestination","outputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Kx(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata","displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["metadata","state"]);i!=null&&w(e,["state"],w6(i));const s=y(n,["metadata","createTime"]);s!=null&&w(e,["createTime"],s);const a=y(n,["metadata","endTime"]);a!=null&&w(e,["endTime"],a);const o=y(n,["metadata","updateTime"]);o!=null&&w(e,["updateTime"],o);const l=y(n,["metadata","model"]);l!=null&&w(e,["model"],l);const u=y(n,["metadata","output"]);return u!=null&&w(e,["dest"],Fse(y6(u))),e}function PR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["state"]);i!=null&&w(e,["state"],w6(i));const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["createTime"]);a!=null&&w(e,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(e,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(e,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(e,["updateTime"],u);const d=y(n,["model"]);d!=null&&w(e,["model"],d);const h=y(n,["inputConfig"]);h!=null&&w(e,["src"],Pse(h));const g=y(n,["outputConfig"]);g!=null&&w(e,["dest"],Mse(y6(g)));const v=y(n,["completionStats"]);return v!=null&&w(e,["completionStats"],v),e}function Pse(n){const e={},t=y(n,["instancesFormat"]);t!=null&&w(e,["format"],t);const r=y(n,["gcsSource","uris"]);r!=null&&w(e,["gcsUri"],r);const i=y(n,["bigquerySource","inputUri"]);return i!=null&&w(e,["bigqueryUri"],i),e}function Rse(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&w(t,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>lae(n,a))),w(t,["requests","requests"],s)}return t}function Dse(n){const e={},t=y(n,["format"]);t!=null&&w(e,["instancesFormat"],t);const r=y(n,["gcsUri"]);r!=null&&w(e,["gcsSource","uris"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&w(e,["bigquerySource","inputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Nse(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Lse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ey(n,r)),t}function Qse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ey(n,r)),t}function kse(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],Ose(r));const i=y(n,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Ose(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function b6(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>mae(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function Hse(n,e){const t={},r=y(n,["displayName"]);if(e!==void 0&&r!=null&&w(e,["batch","displayName"],r),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Vse(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["dest"]);return e!==void 0&&i!=null&&w(e,["outputConfig"],Use(Ise(i))),t}function tK(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["src"]);i!=null&&w(t,["batch","inputConfig"],Rse(n,v6(n,i)));const s=y(e,["config"]);return s!=null&&Hse(s,t),t}function Kse(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],kt(n,r));const i=y(e,["src"]);i!=null&&w(t,["inputConfig"],Dse(v6(n,i)));const s=y(e,["config"]);return s!=null&&Vse(s,t),t}function Gse(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&w(e,["batch","displayName"],r),t}function zse(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["src"]);i!=null&&w(t,["batch","inputConfig"],Jse(n,i));const s=y(e,["config"]);return s!=null&&Gse(s,t),t}function qse(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ey(n,r)),t}function $se(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ey(n,r)),t}function jse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Wse(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);return s!=null&&w(e,["error"],s),e}function Yse(n,e){const t={},r=y(e,["contents"]);if(r!=null){let s=UQ(n,r);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["requests[]","request","content"],s)}const i=y(e,["config"]);return i!=null&&(w(t,["_self"],Xse(i,t)),$ie(t,{"requests[].*":"requests[].request.*"})),t}function Xse(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Jse(n,e){const t={},r=y(e,["fileName"]);r!=null&&w(t,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&w(t,["requests"],Yse(n,i)),t}function Zse(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function eae(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tae(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function nae(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],b6(Ki(i)));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const o=y(e,["topK"]);o!=null&&w(r,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(r,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(r,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(r,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(r,["seed"],C);const B=y(e,["responseMimeType"]);B!=null&&w(r,["responseMimeType"],B);const S=y(e,["responseSchema"]);S!=null&&w(r,["responseSchema"],PQ(S));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(r,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let z=T;Array.isArray(z)&&(z=z.map(J=>vae(J))),w(t,["safetySettings"],z)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let z=Cy(R);Array.isArray(z)&&(z=z.map(J=>wae(by(J)))),w(t,["tools"],z)}const U=y(e,["toolConfig"]);if(t!==void 0&&U!=null&&w(t,["toolConfig"],yae(U)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Qu(n,D));const L=y(e,["responseModalities"]);L!=null&&w(r,["responseModalities"],L);const H=y(e,["mediaResolution"]);H!=null&&w(r,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(r,["speechConfig"],RQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=y(e,["thinkingConfig"]);G!=null&&w(r,["thinkingConfig"],G);const K=y(e,["imageConfig"]);return K!=null&&w(r,["imageConfig"],Aae(K)),r}function rae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>kse(u))),w(e,["candidates"],l)}const i=y(n,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function iae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ey(n,r)),t}function sae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Ey(n,r)),t}function aae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function oae(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function Aae(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function lae(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["request","model"],kt(n,r));const i=y(e,["contents"]);if(i!=null){let o=io(i);Array.isArray(o)&&(o=o.map(l=>b6(l))),w(t,["request","contents"],o)}const s=y(e,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(e,["config"]);return a!=null&&w(t,["request","generationConfig"],nae(n,a,y(t,["request"],{}))),t}function uae(n){const e={},t=y(n,["response"]);t!=null&&w(e,["response"],rae(t));const r=y(n,["error"]);return r!=null&&w(e,["error"],r),e}function cae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);if(e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function dae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);e!==void 0&&i!=null&&w(e,["_query","pageToken"],i);const s=y(n,["filter"]);return e!==void 0&&s!=null&&w(e,["_query","filter"],s),t}function fae(n){const e={},t=y(n,["config"]);return t!=null&&cae(t,e),e}function hae(n){const e={},t=y(n,["config"]);return t!=null&&dae(t,e),e}function pae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Kx(a))),w(e,["batchJobs"],s)}return e}function gae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>PR(a))),w(e,["batchJobs"],s)}return e}function mae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Zse(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],eae(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Nse(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function vae(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function yae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],tae(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function wae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],aae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],oae(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cu;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Cu||(Cu={}));class Ip{constructor(e,t,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,i)}init(e,t,r){var i,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bae extends Lu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ip(Cu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=tK(this.apiClient,e),r=t._url,i=Re("{model}:batchGenerateContent",r),o=t.batch.inputConfig.requests,l=o.requests,u=[];for(const d of l){const h=Object.assign({},d);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=g,h.request=v}u.push(h)}return o.requests=u,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const r=t?Object.assign({},t):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Kse(this.apiClient,e);return o=Re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>PR(d))}else{const u=tK(this.apiClient,e);return o=Re("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Kx(d))}}async createEmbeddingsInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=zse(this.apiClient,e);return s=Re("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Kx(l))}}async get(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=sae(this.apiClient,e);return o=Re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>PR(d))}else{const u=iae(this.apiClient,e);return o=Re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Kx(d))}}async cancel(e){var t,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const l=Qse(this.apiClient,e);a=Re("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Lse(this.apiClient,e);a=Re("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=hae(e);return o=Re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=gae(d),g=new X3;return Object.assign(g,h),g})}else{const u=fae(e);return o=Re("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=pae(d),g=new X3;return Object.assign(g,h),g})}}async delete(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=$se(this.apiClient,e);return o=Re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Wse(d))}else{const u=qse(this.apiClient,e);return o=Re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>jse(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cae(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function nK(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>zae(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function Eae(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let d=io(a);Array.isArray(d)&&(d=d.map(h=>nK(h))),w(e,["contents"],d)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],nK(Ki(o)));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>$ae(h))),w(e,["tools"],d)}const u=y(n,["toolConfig"]);if(e!==void 0&&u!=null&&w(e,["toolConfig"],qae(u)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function Bae(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&w(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&w(e,["displayName"],s);const a=y(n,["contents"]);if(e!==void 0&&a!=null){let h=io(a);Array.isArray(h)&&(h=h.map(g=>g)),w(e,["contents"],h)}const o=y(n,["systemInstruction"]);e!==void 0&&o!=null&&w(e,["systemInstruction"],Ki(o));const l=y(n,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>jae(g))),w(e,["tools"],h)}const u=y(n,["toolConfig"]);e!==void 0&&u!=null&&w(e,["toolConfig"],u);const d=y(n,["kmsKeyName"]);return e!==void 0&&d!=null&&w(e,["encryption_spec","kmsKeyName"],d),t}function Sae(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],l6(n,r));const i=y(e,["config"]);return i!=null&&Eae(i,t),t}function xae(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["model"],l6(n,r));const i=y(e,["config"]);return i!=null&&Bae(i,t),t}function _ae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Qu(n,r)),t}function Tae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Qu(n,r)),t}function Iae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Fae(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Mae(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Uae(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Pae(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Rae(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function Dae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Qu(n,r)),t}function Nae(n,e){const t={},r=y(e,["name"]);return r!=null&&w(t,["_url","name"],Qu(n,r)),t}function Lae(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function Qae(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function kae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Oae(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Hae(n){const e={},t=y(n,["config"]);return t!=null&&kae(t,e),e}function Vae(n){const e={},t=y(n,["config"]);return t!=null&&Oae(t,e),e}function Kae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function Gae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["cachedContents"],s)}return e}function zae(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],Mae(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],Uae(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Cae(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function qae(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],Pae(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function $ae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],Lae(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],Qae(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function jae(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>Rae(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Wae(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),t}function Yae(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&w(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&w(e,["expireTime"],i),t}function Xae(n,e){const t={},r=y(e,["name"]);r!=null&&w(t,["_url","name"],Qu(n,r));const i=y(e,["config"]);return i!=null&&Wae(i,t),t}function Jae(n,e){const t={},r=y(e,["name"]);r!=null&&w(t,["_url","name"],Qu(n,r));const i=y(e,["config"]);return i!=null&&Yae(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zae extends Lu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ip(Cu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=xae(this.apiClient,e);return o=Re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Sae(this.apiClient,e);return o=Re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Nae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Dae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Tae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Fae(d),g=new W3;return Object.assign(g,h),g})}else{const u=_ae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Iae(d),g=new W3;return Object.assign(g,h),g})}}async update(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Jae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Xae(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Vae(e);return o=Re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Gae(d),g=new Y3;return Object.assign(g,h),g})}else{const u=Hae(e);return o=Re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Kae(d),g=new Y3;return Object.assign(g,h),g})}}}function rK(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rn(n){return this instanceof Rn?(this.v=n,this):new Rn(n)}function Jg(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(b){return Promise.resolve(b).then(v,h)}}function o(v,b){r[v]&&(i[v]=function(C){return new Promise(function(B,S){s.push([v,C,B,S])>1||l(v,C)})},b&&(i[v]=b(i[v])))}function l(v,b){try{u(r[v](b))}catch(C){g(s[0][3],C)}}function u(v){v.value instanceof Rn?Promise.resolve(v.value.v).then(d,h):g(s[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function g(v,b){v(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Uw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof rK=="function"?rK(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(o,l){a=n[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eoe(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:C6(t)}function C6(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function toe(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function iK(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const i=[];let s=!0;for(;r<t&&n[r].role==="model";)i.push(n[r]),s&&!C6(n[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class noe{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new roe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class roe{constructor(e,t,r,i={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),toe(s)}async sendMessage(e){var t;await this.sendPromise;const r=Ki(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,o;const l=await i,u=(a=(s=l.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(h))!==null&&o!==void 0?o:[]);const v=u?[u]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const r=Ki(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const t=e?iK(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var r,i;return Jg(this,arguments,function*(){var a,o,l,u;const d=[];try{for(var h=!0,g=Uw(e),v;v=yield Rn(g.next()),a=v.done,!a;h=!0){u=v.value,h=!1;const b=u;if(eoe(b)){const C=(i=(r=b.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;C!==void 0&&d.push(C)}yield yield Rn(b)}}catch(b){o={error:b}}finally{try{!h&&!a&&(l=g.return)&&(yield Rn(l.call(g)))}finally{if(o)throw o.error}}this.recordHistory(t,d)})}recordHistory(e,t,r){let i=[];t.length>0&&t.every(s=>s.role!==void 0)?i=t:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...iK(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N1 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,N1.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ioe(n){const e={},t=y(n,["file"]);return t!=null&&w(e,["file"],t),e}function soe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function aoe(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],p6(t)),e}function ooe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Aoe(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","file"],p6(t)),e}function loe(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function uoe(n){const e={},t=y(n,["config"]);return t!=null&&loe(t,e),e}function coe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class doe extends Lu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ip(Cu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=uoe(e);return s=Re("files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=coe(l),d=new gse;return Object.assign(d,u),d})}}async createInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ioe(e);return s=Re("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=soe(l),d=new mse;return Object.assign(d,u),d})}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Aoe(e);return s=Re("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=aoe(e);return s=Re("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=ooe(l),d=new vse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gx(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function foe(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Ioe(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function hoe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function poe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function goe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function moe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const C=y(n,["responseSchema"]);C!=null&&w(e,["responseSchema"],C);const B=y(n,["routingConfig"]);B!=null&&w(e,["routingConfig"],B);const S=y(n,["seed"]);S!=null&&w(e,["seed"],S);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],E6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const U=y(n,["thinkingConfig"]);U!=null&&w(e,["thinkingConfig"],U);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const L=y(n,["topP"]);if(L!=null&&w(e,["topP"],L),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function voe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function yoe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function woe(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],DQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],foe(Ki(b)));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=Cy(C);Array.isArray(D)&&(D=D.map(L=>Moe(by(L)))),w(e,["setup","tools"],D)}const B=y(n,["sessionResumption"]);e!==void 0&&B!=null&&w(e,["setup","sessionResumption"],Foe(B));const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const U=y(n,["proactivity"]);return e!==void 0&&U!=null&&w(e,["setup","proactivity"],U),t}function boe(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],moe(r));const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],E6(DQ(h)));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],Ki(b));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=Cy(C);Array.isArray(D)&&(D=D.map(L=>Uoe(by(L)))),w(e,["setup","tools"],D)}const B=y(n,["sessionResumption"]);e!==void 0&&B!=null&&w(e,["setup","sessionResumption"],B);const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const U=y(n,["proactivity"]);return e!==void 0&&U!=null&&w(e,["setup","proactivity"],U),t}function Coe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],kt(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],woe(i,t)),t}function Eoe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],kt(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],boe(i,t)),t}function Boe(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&w(e,["musicGenerationConfig"],t),e}function Soe(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["weightedPrompts"],r)}return e}function xoe(n){const e={},t=y(n,["media"]);if(t!=null){let u=u6(t);Array.isArray(u)&&(u=u.map(d=>Gx(d))),w(e,["mediaChunks"],u)}const r=y(n,["audio"]);r!=null&&w(e,["audio"],Gx(d6(r)));const i=y(n,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&w(e,["video"],Gx(c6(s)));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function _oe(n){const e={},t=y(n,["media"]);if(t!=null){let u=u6(t);Array.isArray(u)&&(u=u.map(d=>d)),w(e,["mediaChunks"],u)}const r=y(n,["audio"]);r!=null&&w(e,["audio"],d6(r));const i=y(n,["audioStreamEnd"]);i!=null&&w(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&w(e,["video"],c6(s));const a=y(n,["text"]);a!=null&&w(e,["text"],a);const o=y(n,["activityStart"]);o!=null&&w(e,["activityStart"],o);const l=y(n,["activityEnd"]);return l!=null&&w(e,["activityEnd"],l),e}function Toe(n){const e={},t=y(n,["setupComplete"]);t!=null&&w(e,["setupComplete"],t);const r=y(n,["serverContent"]);r!=null&&w(e,["serverContent"],r);const i=y(n,["toolCall"]);i!=null&&w(e,["toolCall"],i);const s=y(n,["toolCallCancellation"]);s!=null&&w(e,["toolCallCancellation"],s);const a=y(n,["usageMetadata"]);a!=null&&w(e,["usageMetadata"],Poe(a));const o=y(n,["goAway"]);o!=null&&w(e,["goAway"],o);const l=y(n,["sessionResumptionUpdate"]);return l!=null&&w(e,["sessionResumptionUpdate"],l),e}function Ioe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],hoe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],poe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Gx(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Foe(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function E6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const r=y(n,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Moe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],voe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],yoe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function Uoe(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>goe(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function Poe(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&w(e,["promptTokenCount"],t);const r=y(n,["cachedContentTokenCount"]);r!=null&&w(e,["cachedContentTokenCount"],r);const i=y(n,["candidatesTokenCount"]);i!=null&&w(e,["responseTokenCount"],i);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&w(e,["toolUsePromptTokenCount"],s);const a=y(n,["thoughtsTokenCount"]);a!=null&&w(e,["thoughtsTokenCount"],a);const o=y(n,["totalTokenCount"]);o!=null&&w(e,["totalTokenCount"],o);const l=y(n,["promptTokensDetails"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["promptTokensDetails"],v)}const u=y(n,["cacheTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["cacheTokensDetails"],v)}const d=y(n,["candidatesTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["responseTokensDetails"],v)}const h=y(n,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(b=>b)),w(e,["toolUsePromptTokensDetails"],v)}const g=y(n,["trafficType"]);return g!=null&&w(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Roe(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Doe(n){const e={},t=y(n,["content"]);t!=null&&w(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&w(e,["citationMetadata"],Noe(r));const i=y(n,["tokenCount"]);i!=null&&w(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&w(e,["finishReason"],s);const a=y(n,["avgLogprobs"]);a!=null&&w(e,["avgLogprobs"],a);const o=y(n,["groundingMetadata"]);o!=null&&w(e,["groundingMetadata"],o);const l=y(n,["index"]);l!=null&&w(e,["index"],l);const u=y(n,["logprobsResult"]);u!=null&&w(e,["logprobsResult"],u);const d=y(n,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),w(e,["safetyRatings"],g)}const h=y(n,["urlContextMetadata"]);return h!=null&&w(e,["urlContextMetadata"],h),e}function Noe(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),w(e,["citations"],r)}return e}function Loe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["contents"]);if(i!=null){let s=io(i);Array.isArray(s)&&(s=s.map(a=>a)),w(t,["contents"],s)}return t}function Qoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(e,["tokensInfo"],i)}return e}function koe(n){const e={},t=y(n,["values"]);t!=null&&w(e,["values"],t);const r=y(n,["statistics"]);return r!=null&&w(e,["statistics"],Ooe(r)),e}function Ooe(n){const e={},t=y(n,["truncated"]);t!=null&&w(e,["truncated"],t);const r=y(n,["token_count"]);return r!=null&&w(e,["tokenCount"],r),e}function L1(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>WAe(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function Hoe(n){const e={},t=y(n,["controlType"]);t!=null&&w(e,["controlType"],t);const r=y(n,["enableControlImageComputation"]);return r!=null&&w(e,["computeControl"],r),e}function Voe(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Koe(n,e){const t={},r=y(n,["systemInstruction"]);e!==void 0&&r!=null&&w(e,["systemInstruction"],Ki(r));const i=y(n,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>T6(o))),w(e,["tools"],a)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&w(e,["generationConfig"],RAe(s)),t}function Goe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["contents"]);if(i!=null){let a=io(i);Array.isArray(a)&&(a=a.map(o=>L1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Voe(s),t}function zoe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["contents"]);if(i!=null){let a=io(i);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&Koe(s,t),t}function qoe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);r!=null&&w(e,["totalTokens"],r);const i=y(n,["cachedContentTokenCount"]);return i!=null&&w(e,["cachedContentTokenCount"],i),e}function $oe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);return r!=null&&w(e,["totalTokens"],r),e}function joe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],kt(n,r)),t}function Woe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],kt(n,r)),t}function Yoe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Xoe(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}function Joe(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const C=y(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","compressionQuality"],C);const B=y(n,["addWatermark"]);e!==void 0&&B!=null&&w(e,["parameters","addWatermark"],B);const S=y(n,["labels"]);e!==void 0&&S!=null&&w(e,["labels"],S);const I=y(n,["editMode"]);e!==void 0&&I!=null&&w(e,["parameters","editMode"],I);const T=y(n,["baseSteps"]);return e!==void 0&&T!=null&&w(e,["parameters","editConfig","baseSteps"],T),t}function Zoe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>tle(l))),w(t,["instances[0]","referenceImages"],o)}const a=y(e,["config"]);return a!=null&&Joe(a,t),t}function eAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Q1(s))),w(e,["generatedImages"],i)}return e}function tAe(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&w(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function nAe(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&w(e,["instances[]","task_type"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&w(e,["instances[]","title"],i);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&w(e,["parameters","outputDimensionality"],s);const a=y(n,["mimeType"]);e!==void 0&&a!=null&&w(e,["instances[]","mimeType"],a);const o=y(n,["autoTruncate"]);return e!==void 0&&o!=null&&w(e,["parameters","autoTruncate"],o),t}function rAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["contents"]);if(i!=null){let o=UQ(n,i);Array.isArray(o)&&(o=o.map(l=>l)),w(t,["requests[]","content"],o)}const s=y(e,["config"]);s!=null&&tAe(s,t);const a=y(e,["model"]);return a!==void 0&&w(t,["requests[]","model"],kt(n,a)),t}function iAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["contents"]);if(i!=null){let a=UQ(n,i);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["instances[]","content"],a)}const s=y(e,["config"]);return s!=null&&nAe(s,t),t}function sAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function aAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>koe(a))),w(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&w(e,["metadata"],i),e}function oAe(n){const e={},t=y(n,["endpoint"]);t!=null&&w(e,["name"],t);const r=y(n,["deployedModelId"]);return r!=null&&w(e,["deployedModelId"],r),e}function AAe(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function lAe(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uAe(n){const e={},t=y(n,["mode"]);t!=null&&w(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&w(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function cAe(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&w(e,["description"],t);const r=y(n,["name"]);r!=null&&w(e,["name"],r);const i=y(n,["parameters"]);i!=null&&w(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&w(e,["parametersJsonSchema"],s);const a=y(n,["response"]);a!=null&&w(e,["response"],a);const o=y(n,["responseJsonSchema"]);return o!=null&&w(e,["responseJsonSchema"],o),e}function dAe(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],L1(Ki(i)));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const o=y(e,["topK"]);o!=null&&w(r,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(r,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(r,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(r,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(r,["seed"],C);const B=y(e,["responseMimeType"]);B!=null&&w(r,["responseMimeType"],B);const S=y(e,["responseSchema"]);S!=null&&w(r,["responseSchema"],PQ(S));const I=y(e,["responseJsonSchema"]);if(I!=null&&w(r,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=y(e,["safetySettings"]);if(t!==void 0&&T!=null){let z=T;Array.isArray(z)&&(z=z.map(J=>nle(J))),w(t,["safetySettings"],z)}const R=y(e,["tools"]);if(t!==void 0&&R!=null){let z=Cy(R);Array.isArray(z)&&(z=z.map(J=>lle(by(J)))),w(t,["tools"],z)}const U=y(e,["toolConfig"]);if(t!==void 0&&U!=null&&w(t,["toolConfig"],Ale(U)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=y(e,["cachedContent"]);t!==void 0&&D!=null&&w(t,["cachedContent"],Qu(n,D));const L=y(e,["responseModalities"]);L!=null&&w(r,["responseModalities"],L);const H=y(e,["mediaResolution"]);H!=null&&w(r,["mediaResolution"],H);const k=y(e,["speechConfig"]);if(k!=null&&w(r,["speechConfig"],RQ(k)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=y(e,["thinkingConfig"]);G!=null&&w(r,["thinkingConfig"],G);const K=y(e,["imageConfig"]);return K!=null&&w(r,["imageConfig"],kAe(K)),r}function fAe(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],Ki(i));const s=y(e,["temperature"]);s!=null&&w(r,["temperature"],s);const a=y(e,["topP"]);a!=null&&w(r,["topP"],a);const o=y(e,["topK"]);o!=null&&w(r,["topK"],o);const l=y(e,["candidateCount"]);l!=null&&w(r,["candidateCount"],l);const u=y(e,["maxOutputTokens"]);u!=null&&w(r,["maxOutputTokens"],u);const d=y(e,["stopSequences"]);d!=null&&w(r,["stopSequences"],d);const h=y(e,["responseLogprobs"]);h!=null&&w(r,["responseLogprobs"],h);const g=y(e,["logprobs"]);g!=null&&w(r,["logprobs"],g);const v=y(e,["presencePenalty"]);v!=null&&w(r,["presencePenalty"],v);const b=y(e,["frequencyPenalty"]);b!=null&&w(r,["frequencyPenalty"],b);const C=y(e,["seed"]);C!=null&&w(r,["seed"],C);const B=y(e,["responseMimeType"]);B!=null&&w(r,["responseMimeType"],B);const S=y(e,["responseSchema"]);S!=null&&w(r,["responseSchema"],PQ(S));const I=y(e,["responseJsonSchema"]);I!=null&&w(r,["responseJsonSchema"],I);const T=y(e,["routingConfig"]);T!=null&&w(r,["routingConfig"],T);const R=y(e,["modelSelectionConfig"]);R!=null&&w(r,["modelConfig"],R);const U=y(e,["safetySettings"]);if(t!==void 0&&U!=null){let V=U;Array.isArray(V)&&(V=V.map(j=>j)),w(t,["safetySettings"],V)}const D=y(e,["tools"]);if(t!==void 0&&D!=null){let V=Cy(D);Array.isArray(V)&&(V=V.map(j=>T6(by(j)))),w(t,["tools"],V)}const L=y(e,["toolConfig"]);t!==void 0&&L!=null&&w(t,["toolConfig"],L);const H=y(e,["labels"]);t!==void 0&&H!=null&&w(t,["labels"],H);const k=y(e,["cachedContent"]);t!==void 0&&k!=null&&w(t,["cachedContent"],Qu(n,k));const G=y(e,["responseModalities"]);G!=null&&w(r,["responseModalities"],G);const K=y(e,["mediaResolution"]);K!=null&&w(r,["mediaResolution"],K);const z=y(e,["speechConfig"]);z!=null&&w(r,["speechConfig"],_6(RQ(z)));const J=y(e,["audioTimestamp"]);J!=null&&w(r,["audioTimestamp"],J);const Y=y(e,["thinkingConfig"]);Y!=null&&w(r,["thinkingConfig"],Y);const ge=y(e,["imageConfig"]);return ge!=null&&w(r,["imageConfig"],OAe(ge)),r}function sK(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["contents"]);if(i!=null){let a=io(i);Array.isArray(a)&&(a=a.map(o=>L1(o))),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],dAe(n,s,t)),t}function aK(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["contents"]);if(i!=null){let a=io(i);Array.isArray(a)&&(a=a.map(o=>o)),w(t,["contents"],a)}const s=y(e,["config"]);return s!=null&&w(t,["generationConfig"],fAe(n,s,t)),t}function oK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Doe(u))),w(e,["candidates"],l)}const i=y(n,["modelVersion"]);i!=null&&w(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&w(e,["promptFeedback"],s);const a=y(n,["responseId"]);a!=null&&w(e,["responseId"],a);const o=y(n,["usageMetadata"]);return o!=null&&w(e,["usageMetadata"],o),e}function AK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),w(e,["candidates"],u)}const i=y(n,["createTime"]);i!=null&&w(e,["createTime"],i);const s=y(n,["modelVersion"]);s!=null&&w(e,["modelVersion"],s);const a=y(n,["promptFeedback"]);a!=null&&w(e,["promptFeedback"],a);const o=y(n,["responseId"]);o!=null&&w(e,["responseId"],o);const l=y(n,["usageMetadata"]);return l!=null&&w(e,["usageMetadata"],l),e}function hAe(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["aspectRatio"]);e!==void 0&&i!=null&&w(e,["parameters","aspectRatio"],i);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&w(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&w(e,["parameters","safetySetting"],a);const o=y(n,["personGeneration"]);e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o);const l=y(n,["includeSafetyAttributes"]);e!==void 0&&l!=null&&w(e,["parameters","includeSafetyAttributes"],l);const u=y(n,["includeRaiReason"]);e!==void 0&&u!=null&&w(e,["parameters","includeRaiReason"],u);const d=y(n,["language"]);e!==void 0&&d!=null&&w(e,["parameters","language"],d);const h=y(n,["outputMimeType"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","mimeType"],h);const g=y(n,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&w(e,["parameters","outputOptions","compressionQuality"],g),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(n,["imageSize"]);if(e!==void 0&&v!=null&&w(e,["parameters","sampleImageSize"],v),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function pAe(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&w(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&w(e,["parameters","sampleCount"],s);const a=y(n,["aspectRatio"]);e!==void 0&&a!=null&&w(e,["parameters","aspectRatio"],a);const o=y(n,["guidanceScale"]);e!==void 0&&o!=null&&w(e,["parameters","guidanceScale"],o);const l=y(n,["seed"]);e!==void 0&&l!=null&&w(e,["parameters","seed"],l);const u=y(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&w(e,["parameters","safetySetting"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&w(e,["parameters","includeSafetyAttributes"],h);const g=y(n,["includeRaiReason"]);e!==void 0&&g!=null&&w(e,["parameters","includeRaiReason"],g);const v=y(n,["language"]);e!==void 0&&v!=null&&w(e,["parameters","language"],v);const b=y(n,["outputMimeType"]);e!==void 0&&b!=null&&w(e,["parameters","outputOptions","mimeType"],b);const C=y(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&w(e,["parameters","outputOptions","compressionQuality"],C);const B=y(n,["addWatermark"]);e!==void 0&&B!=null&&w(e,["parameters","addWatermark"],B);const S=y(n,["labels"]);e!==void 0&&S!=null&&w(e,["labels"],S);const I=y(n,["imageSize"]);e!==void 0&&I!=null&&w(e,["parameters","sampleImageSize"],I);const T=y(n,["enhancePrompt"]);return e!==void 0&&T!=null&&w(e,["parameters","enhancePrompt"],T),t}function gAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&hAe(s,t),t}function mAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&pAe(s,t),t}function vAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>FAe(a))),w(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],S6(i)),e}function yAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Q1(a))),w(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&w(e,["positivePromptSafetyAttributes"],x6(i)),e}function wAe(n,e){const t={},r=y(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(n,["durationSeconds"]);if(e!==void 0&&i!=null&&w(e,["parameters","durationSeconds"],i),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&w(e,["parameters","aspectRatio"],s);const a=y(n,["resolution"]);e!==void 0&&a!=null&&w(e,["parameters","resolution"],a);const o=y(n,["personGeneration"]);if(e!==void 0&&o!=null&&w(e,["parameters","personGeneration"],o),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=y(n,["negativePrompt"]);e!==void 0&&l!=null&&w(e,["parameters","negativePrompt"],l);const u=y(n,["enhancePrompt"]);if(e!==void 0&&u!=null&&w(e,["parameters","enhancePrompt"],u),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=y(n,["lastFrame"]);e!==void 0&&d!=null&&w(e,["instances[0]","lastFrame"],k1(d));const h=y(n,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>Cle(v))),w(e,["instances[0]","referenceImages"],g)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function bAe(n,e){const t={},r=y(n,["numberOfVideos"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&w(e,["parameters","storageUri"],i);const s=y(n,["fps"]);e!==void 0&&s!=null&&w(e,["parameters","fps"],s);const a=y(n,["durationSeconds"]);e!==void 0&&a!=null&&w(e,["parameters","durationSeconds"],a);const o=y(n,["seed"]);e!==void 0&&o!=null&&w(e,["parameters","seed"],o);const l=y(n,["aspectRatio"]);e!==void 0&&l!=null&&w(e,["parameters","aspectRatio"],l);const u=y(n,["resolution"]);e!==void 0&&u!=null&&w(e,["parameters","resolution"],u);const d=y(n,["personGeneration"]);e!==void 0&&d!=null&&w(e,["parameters","personGeneration"],d);const h=y(n,["pubsubTopic"]);e!==void 0&&h!=null&&w(e,["parameters","pubsubTopic"],h);const g=y(n,["negativePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","negativePrompt"],g);const v=y(n,["enhancePrompt"]);e!==void 0&&v!=null&&w(e,["parameters","enhancePrompt"],v);const b=y(n,["generateAudio"]);e!==void 0&&b!=null&&w(e,["parameters","generateAudio"],b);const C=y(n,["lastFrame"]);e!==void 0&&C!=null&&w(e,["instances[0]","lastFrame"],Go(C));const B=y(n,["referenceImages"]);if(e!==void 0&&B!=null){let T=B;Array.isArray(T)&&(T=T.map(R=>Ele(R))),w(e,["instances[0]","referenceImages"],T)}const S=y(n,["mask"]);e!==void 0&&S!=null&&w(e,["instances[0]","mask"],ble(S));const I=y(n,["compressionQuality"]);return e!==void 0&&I!=null&&w(e,["parameters","compressionQuality"],I),t}function CAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response","generateVideoResponse"]);return a!=null&&w(e,["response"],xAe(a)),e}function EAe(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],_Ae(a)),e}function BAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],k1(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],I6(a));const o=y(e,["source"]);o!=null&&TAe(o,t);const l=y(e,["config"]);return l!=null&&wAe(l,t),t}function SAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["prompt"]);i!=null&&w(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&w(t,["instances[0]","image"],Go(s));const a=y(e,["video"]);a!=null&&w(t,["instances[0]","video"],F6(a));const o=y(e,["source"]);o!=null&&IAe(o,t);const l=y(e,["config"]);return l!=null&&bAe(l,t),t}function xAe(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>UAe(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function _Ae(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>PAe(a))),w(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&w(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&w(e,["raiMediaFilteredReasons"],i),e}function TAe(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],k1(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],I6(s)),t}function IAe(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Go(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&w(e,["instances[0]","video"],F6(s)),t}function FAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],HAe(t));const r=y(n,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=y(n,["_self"]);return i!=null&&w(e,["safetyAttributes"],S6(i)),e}function Q1(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["image"],B6(t));const r=y(n,["raiFilteredReason"]);r!=null&&w(e,["raiFilteredReason"],r);const i=y(n,["_self"]);i!=null&&w(e,["safetyAttributes"],x6(i));const s=y(n,["prompt"]);return s!=null&&w(e,["enhancedPrompt"],s),e}function MAe(n){const e={},t=y(n,["_self"]);t!=null&&w(e,["mask"],B6(t));const r=y(n,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(e,["labels"],i)}return e}function UAe(n){const e={},t=y(n,["video"]);return t!=null&&w(e,["video"],yle(t)),e}function PAe(n){const e={},t=y(n,["_self"]);return t!=null&&w(e,["video"],wle(t)),e}function RAe(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&w(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&w(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&w(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&w(e,["candidateCount"],s);const a=y(n,["enableAffectiveDialog"]);a!=null&&w(e,["enableAffectiveDialog"],a);const o=y(n,["frequencyPenalty"]);o!=null&&w(e,["frequencyPenalty"],o);const l=y(n,["logprobs"]);l!=null&&w(e,["logprobs"],l);const u=y(n,["maxOutputTokens"]);u!=null&&w(e,["maxOutputTokens"],u);const d=y(n,["mediaResolution"]);d!=null&&w(e,["mediaResolution"],d);const h=y(n,["presencePenalty"]);h!=null&&w(e,["presencePenalty"],h);const g=y(n,["responseLogprobs"]);g!=null&&w(e,["responseLogprobs"],g);const v=y(n,["responseMimeType"]);v!=null&&w(e,["responseMimeType"],v);const b=y(n,["responseModalities"]);b!=null&&w(e,["responseModalities"],b);const C=y(n,["responseSchema"]);C!=null&&w(e,["responseSchema"],C);const B=y(n,["routingConfig"]);B!=null&&w(e,["routingConfig"],B);const S=y(n,["seed"]);S!=null&&w(e,["seed"],S);const I=y(n,["speechConfig"]);I!=null&&w(e,["speechConfig"],_6(I));const T=y(n,["stopSequences"]);T!=null&&w(e,["stopSequences"],T);const R=y(n,["temperature"]);R!=null&&w(e,["temperature"],R);const U=y(n,["thinkingConfig"]);U!=null&&w(e,["thinkingConfig"],U);const D=y(n,["topK"]);D!=null&&w(e,["topK"],D);const L=y(n,["topP"]);if(L!=null&&w(e,["topP"],L),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function DAe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],kt(n,r)),t}function NAe(n,e){const t={},r=y(e,["model"]);return r!=null&&w(t,["_url","name"],kt(n,r)),t}function LAe(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function QAe(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function kAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&w(e,["imageSize"],r),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function OAe(n){const e={},t=y(n,["aspectRatio"]);t!=null&&w(e,["aspectRatio"],t);const r=y(n,["imageSize"]);r!=null&&w(e,["imageSize"],r);const i=y(n,["outputMimeType"]);i!=null&&w(e,["imageOutputOptions","mimeType"],i);const s=y(n,["outputCompressionQuality"]);return s!=null&&w(e,["imageOutputOptions","compressionQuality"],s),e}function HAe(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&w(e,["imageBytes"],Zd(t));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function B6(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["imageBytes"],Zd(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function k1(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&w(e,["bytesBase64Encoded"],Zd(t));const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function Go(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["imageBytes"]);r!=null&&w(e,["bytesBase64Encoded"],Zd(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function VAe(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],g6(n,o)),r}function KAe(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&w(t,["_query","pageToken"],s);const a=y(e,["filter"]);t!==void 0&&a!=null&&w(t,["_query","filter"],a);const o=y(e,["queryBase"]);return t!==void 0&&o!=null&&w(t,["_url","models_url"],g6(n,o)),r}function GAe(n,e){const t={},r=y(e,["config"]);return r!=null&&VAe(n,r,t),t}function zAe(n,e){const t={},r=y(e,["config"]);return r!=null&&KAe(n,r,t),t}function qAe(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=m6(i);Array.isArray(s)&&(s=s.map(a=>RR(a))),w(e,["models"],s)}return e}function $Ae(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=m6(i);Array.isArray(s)&&(s=s.map(a=>DR(a))),w(e,["models"],s)}return e}function jAe(n){const e={},t=y(n,["maskMode"]);t!=null&&w(e,["maskMode"],t);const r=y(n,["segmentationClasses"]);r!=null&&w(e,["maskClasses"],r);const i=y(n,["maskDilation"]);return i!=null&&w(e,["dilation"],i),e}function RR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);i!=null&&w(e,["description"],i);const s=y(n,["version"]);s!=null&&w(e,["version"],s);const a=y(n,["_self"]);a!=null&&w(e,["tunedModelInfo"],ule(a));const o=y(n,["inputTokenLimit"]);o!=null&&w(e,["inputTokenLimit"],o);const l=y(n,["outputTokenLimit"]);l!=null&&w(e,["outputTokenLimit"],l);const u=y(n,["supportedGenerationMethods"]);u!=null&&w(e,["supportedActions"],u);const d=y(n,["temperature"]);d!=null&&w(e,["temperature"],d);const h=y(n,["maxTemperature"]);h!=null&&w(e,["maxTemperature"],h);const g=y(n,["topP"]);g!=null&&w(e,["topP"],g);const v=y(n,["topK"]);v!=null&&w(e,["topK"],v);const b=y(n,["thinking"]);return b!=null&&w(e,["thinking"],b),e}function DR(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["displayName"]);r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);i!=null&&w(e,["description"],i);const s=y(n,["versionId"]);s!=null&&w(e,["version"],s);const a=y(n,["deployedModels"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>oAe(g))),w(e,["endpoints"],h)}const o=y(n,["labels"]);o!=null&&w(e,["labels"],o);const l=y(n,["_self"]);l!=null&&w(e,["tunedModelInfo"],cle(l));const u=y(n,["defaultCheckpointId"]);u!=null&&w(e,["defaultCheckpointId"],u);const d=y(n,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),w(e,["checkpoints"],h)}return e}function WAe(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],AAe(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],lAe(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],Roe(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function YAe(n){const e={},t=y(n,["productImage"]);return t!=null&&w(e,["image"],Go(t)),e}function XAe(n,e){const t={},r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&w(e,["parameters","sampleCount"],r);const i=y(n,["baseSteps"]);e!==void 0&&i!=null&&w(e,["parameters","baseSteps"],i);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&w(e,["parameters","storageUri"],s);const a=y(n,["seed"]);e!==void 0&&a!=null&&w(e,["parameters","seed"],a);const o=y(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&w(e,["parameters","safetySetting"],o);const l=y(n,["personGeneration"]);e!==void 0&&l!=null&&w(e,["parameters","personGeneration"],l);const u=y(n,["addWatermark"]);e!==void 0&&u!=null&&w(e,["parameters","addWatermark"],u);const d=y(n,["outputMimeType"]);e!==void 0&&d!=null&&w(e,["parameters","outputOptions","mimeType"],d);const h=y(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&w(e,["parameters","outputOptions","compressionQuality"],h);const g=y(n,["enhancePrompt"]);e!==void 0&&g!=null&&w(e,["parameters","enhancePrompt"],g);const v=y(n,["labels"]);return e!==void 0&&v!=null&&w(e,["labels"],v),t}function JAe(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["source"]);i!=null&&ele(i,t);const s=y(e,["config"]);return s!=null&&XAe(s,t),t}function ZAe(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>Q1(i))),w(e,["generatedImages"],r)}return e}function ele(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["personImage"]);e!==void 0&&i!=null&&w(e,["instances[0]","personImage","image"],Go(i));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>YAe(o))),w(e,["instances[0]","productImages"],a)}return t}function tle(n){const e={},t=y(n,["referenceImage"]);t!=null&&w(e,["referenceImage"],Go(t));const r=y(n,["referenceId"]);r!=null&&w(e,["referenceId"],r);const i=y(n,["referenceType"]);i!=null&&w(e,["referenceType"],i);const s=y(n,["maskImageConfig"]);s!=null&&w(e,["maskImageConfig"],jAe(s));const a=y(n,["controlImageConfig"]);a!=null&&w(e,["controlImageConfig"],Hoe(a));const o=y(n,["styleImageConfig"]);o!=null&&w(e,["styleImageConfig"],o);const l=y(n,["subjectImageConfig"]);return l!=null&&w(e,["subjectImageConfig"],l),e}function S6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function x6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&w(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&w(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&w(e,["contentType"],i),e}function nle(n){const e={},t=y(n,["category"]);if(t!=null&&w(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&w(e,["threshold"],r),e}function rle(n){const e={},t=y(n,["image"]);return t!=null&&w(e,["image"],Go(t)),e}function ile(n,e){const t={},r=y(n,["mode"]);e!==void 0&&r!=null&&w(e,["parameters","mode"],r);const i=y(n,["maxPredictions"]);e!==void 0&&i!=null&&w(e,["parameters","maxPredictions"],i);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&w(e,["parameters","confidenceThreshold"],s);const a=y(n,["maskDilation"]);e!==void 0&&a!=null&&w(e,["parameters","maskDilation"],a);const o=y(n,["binaryColorThreshold"]);e!==void 0&&o!=null&&w(e,["parameters","binaryColorThreshold"],o);const l=y(n,["labels"]);return e!==void 0&&l!=null&&w(e,["labels"],l),t}function sle(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["source"]);i!=null&&ole(i,t);const s=y(e,["config"]);return s!=null&&ile(s,t),t}function ale(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>MAe(i))),w(e,["generatedMasks"],r)}return e}function ole(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&w(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&w(e,["instances[0]","image"],Go(i));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&w(e,["instances[0]","scribble"],rle(s)),t}function _6(n){const e={},t=y(n,["languageCode"]);t!=null&&w(e,["languageCode"],t);const r=y(n,["voiceConfig"]);if(r!=null&&w(e,["voiceConfig"],r),y(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Ale(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&w(e,["functionCallingConfig"],uAe(t));const r=y(n,["retrievalConfig"]);return r!=null&&w(e,["retrievalConfig"],r),e}function lle(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],LAe(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],QAe(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}function T6(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(g=>cAe(g))),w(e,["functionDeclarations"],h)}const r=y(n,["retrieval"]);r!=null&&w(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&w(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&w(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=y(n,["codeExecution"]);a!=null&&w(e,["codeExecution"],a);const o=y(n,["enterpriseWebSearch"]);o!=null&&w(e,["enterpriseWebSearch"],o);const l=y(n,["googleMaps"]);l!=null&&w(e,["googleMaps"],l);const u=y(n,["googleSearch"]);u!=null&&w(e,["googleSearch"],u);const d=y(n,["urlContext"]);return d!=null&&w(e,["urlContext"],d),e}function ule(n){const e={},t=y(n,["baseModel"]);t!=null&&w(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function cle(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&w(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&w(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&w(e,["updateTime"],i),e}function dle(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function fle(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&w(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&w(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&w(e,["defaultCheckpointId"],s),t}function hle(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","name"],kt(n,r));const i=y(e,["config"]);return i!=null&&dle(i,t),t}function ple(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["config"]);return i!=null&&fle(i,t),t}function gle(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&w(e,["parameters","storageUri"],r);const i=y(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&w(e,["parameters","safetySetting"],i);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&w(e,["parameters","personGeneration"],s);const a=y(n,["includeRaiReason"]);e!==void 0&&a!=null&&w(e,["parameters","includeRaiReason"],a);const o=y(n,["outputMimeType"]);e!==void 0&&o!=null&&w(e,["parameters","outputOptions","mimeType"],o);const l=y(n,["outputCompressionQuality"]);e!==void 0&&l!=null&&w(e,["parameters","outputOptions","compressionQuality"],l);const u=y(n,["enhanceInputImage"]);e!==void 0&&u!=null&&w(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=y(n,["imagePreservationFactor"]);e!==void 0&&d!=null&&w(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["numberOfImages"]);e!==void 0&&g!=null&&w(e,["parameters","sampleCount"],g);const v=y(n,["mode"]);return e!==void 0&&v!=null&&w(e,["parameters","mode"],v),t}function mle(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["_url","model"],kt(n,r));const i=y(e,["image"]);i!=null&&w(t,["instances[0]","image"],Go(i));const s=y(e,["upscaleFactor"]);s!=null&&w(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=y(e,["config"]);return a!=null&&gle(a,t),t}function vle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Q1(s))),w(e,["generatedImages"],i)}return e}function yle(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&w(e,["videoBytes"],Zd(r));const i=y(n,["encoding"]);return i!=null&&w(e,["mimeType"],i),e}function wle(n){const e={},t=y(n,["gcsUri"]);t!=null&&w(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&w(e,["videoBytes"],Zd(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}function ble(n){const e={},t=y(n,["image"]);t!=null&&w(e,["_self"],Go(t));const r=y(n,["maskMode"]);return r!=null&&w(e,["maskMode"],r),e}function Cle(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],k1(t));const r=y(n,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function Ele(n){const e={},t=y(n,["image"]);t!=null&&w(e,["image"],Go(t));const r=y(n,["referenceType"]);return r!=null&&w(e,["referenceType"],r),e}function I6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["uri"],t);const r=y(n,["videoBytes"]);r!=null&&w(e,["encodedVideo"],Zd(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["encoding"],i),e}function F6(n){const e={},t=y(n,["uri"]);t!=null&&w(e,["gcsUri"],t);const r=y(n,["videoBytes"]);r!=null&&w(e,["bytesBase64Encoded"],Zd(r));const i=y(n,["mimeType"]);return i!=null&&w(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ble(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&w(e,["displayName"],r),t}function Sle(n){const e={},t=y(n,["config"]);return t!=null&&Ble(t,e),e}function xle(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),t}function _le(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&xle(r,e),e}function Tle(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function Ile(n,e){const t={},r=y(n,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["customMetadata"],s)}const i=y(n,["chunkingConfig"]);return e!==void 0&&i!=null&&w(e,["chunkingConfig"],i),t}function Fle(n){const e={},t=y(n,["name"]);t!=null&&w(e,["name"],t);const r=y(n,["metadata"]);r!=null&&w(e,["metadata"],r);const i=y(n,["done"]);i!=null&&w(e,["done"],i);const s=y(n,["error"]);s!=null&&w(e,["error"],s);const a=y(n,["response"]);return a!=null&&w(e,["response"],Ule(a)),e}function Mle(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const r=y(n,["fileName"]);r!=null&&w(e,["fileName"],r);const i=y(n,["config"]);return i!=null&&Ile(i,e),e}function Ule(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&w(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&w(e,["documentName"],i),e}function Ple(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Rle(n){const e={},t=y(n,["config"]);return t!=null&&Ple(t,e),e}function Dle(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["fileSearchStores"],s)}return e}function M6(n,e){const t={},r=y(n,["mimeType"]);e!==void 0&&r!=null&&w(e,["mimeType"],r);const i=y(n,["displayName"]);e!==void 0&&i!=null&&w(e,["displayName"],i);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),w(e,["customMetadata"],o)}const a=y(n,["chunkingConfig"]);return e!==void 0&&a!=null&&w(e,["chunkingConfig"],a),t}function Nle(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&w(e,["_url","file_search_store_name"],t);const r=y(n,["config"]);return r!=null&&M6(r,e),e}function Lle(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&w(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qle="Content-Type",kle="X-Server-Timeout",Ole="User-Agent",NR="x-goog-api-client",Hle="1.31.0",Vle=`google-genai-sdk/${Hle}`,Kle="v1beta1",Gle="v1beta",lK=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class zle{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Kle,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Gle,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const i=[this.getRequestUrlInternal(t)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,i){if(t&&t.timeout||i){const s=new AbortController,a=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const o=setTimeout(()=>s.abort(),t.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=a}return t&&t.extraBody!==null&&qle(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await uK(i),new MR(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await uK(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return Jg(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:l}=yield Rn(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(l,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),v=g.status,b=g.code,C=`got status: ${v}. ${JSON.stringify(h)}`;if(b>=400&&b<600)throw new N1({message:C,status:b})}}catch(h){if(h.name==="ApiError")throw h}a+=u;let d=a.match(lK);for(;d;){const h=d[1];try{const g=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Rn(new MR(g)),a=a.slice(d[0].length),d=a.match(lK)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=Vle+" "+this.clientOptions.userAgentExtra;return e[Ole]=t,e[NR]=t,e[Qle]="application/json",e}async getHeadersInternal(e,t){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(kle,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(t=r.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),r}async uploadFile(e,t){var r;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l={file:i},u=this.getFileName(e),d=Re("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,l,t==null?void 0:t.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,r){var i;const s=this.clientOptions.uploader,a=await s.stat(t),o=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(t),h={};r!=null&&M6(r,h);const g=await this.fetchUploadUrl(u,o,l,d,h,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(t,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,r,i,s,a){var o;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function uK(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(r);throw t>=400&&t<600?new N1({message:i,status:t}):new Error(i)}}function qle(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=o[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[l]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[l]=u)}return o}const i=r(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $le="mcp_used/unknown";let jle=!1;function U6(n){for(const e of n)if(Wle(e)||typeof e=="object"&&"inputSchema"in e)return!0;return jle}function P6(n){var e;const t=(e=n[NR])!==null&&e!==void 0?e:"";n[NR]=(t+` ${$le}`).trimStart()}function Wle(n){return n!==null&&typeof n=="object"&&n instanceof NQ}function Yle(n,e=100){return Jg(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield Rn(n.listTools({cursor:r}));for(const a of s.tools)yield yield Rn(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class NQ{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new NQ(e,t)}async initialize(){var e,t,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const d of this.mcpClients)try{for(var o=!0,l=(t=void 0,Uw(Yle(d))),u;u=await l.next(),e=u.done,!e;o=!0){i=u.value,o=!1;const h=i;a.push(h);const g=h.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=d}}catch(h){t={error:h}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),Tse(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);t.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Xle(n,e,t){const r=new wse;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(r,i),e(r)}class Jle{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=tue(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(T=>{u=T}),h=e.callbacks,g=function(){u({})},v=this.apiClient,b={onopen:g,onmessage:T=>{Xle(v,h.onmessage,T)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(T){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(T){}},C=this.webSocketFactory.create(l,eue(a),b);C.connect(),await d;const I={setup:{model:kt(this.apiClient,e.model)}};return C.send(JSON.stringify(I)),new Zle(C,this.apiClient)}}class Zle{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=Soe(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=Boe(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Hg.PLAY)}pause(){this.sendPlaybackControl(Hg.PAUSE)}stop(){this.sendPlaybackControl(Hg.STOP)}resetContext(){this.sendPlaybackControl(Hg.RESET_CONTEXT)}close(){this.conn.close()}}function eue(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function tue(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nue="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function rue(n,e,t){const r=new yse;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const s=JSON.parse(i);if(n.isVertexAI()){const a=Toe(s);Object.assign(r,a)}else Object.assign(r,s);e(r)}class iue{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new Jle(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&U6(e.config.tools)&&P6(h);const g=Aue(h);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const k=this.apiClient.getApiKey();let G="BidiGenerateContent",K="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),G="BidiGenerateContentConstrained",K="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${G}?${K}=${k}`}let v=()=>{};const b=new Promise(k=>{v=k}),C=e.callbacks,B=function(){var k;(k=C==null?void 0:C.onopen)===null||k===void 0||k.call(C),v({})},S=this.apiClient,I={onopen:B,onmessage:k=>{rue(S,C.onmessage,k)},onerror:(t=C==null?void 0:C.onerror)!==null&&t!==void 0?t:function(k){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(k){}},T=this.webSocketFactory.create(d,oue(g),I);T.connect(),await b;let R=kt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const k=this.apiClient.getProject(),G=this.apiClient.getLocation();R=`projects/${k}/locations/${G}/`+R}let U={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[W_.AUDIO]}:e.config.responseModalities=[W_.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],L=[];for(const k of D)if(this.isCallableTool(k)){const G=k;L.push(await G.tool())}else L.push(k);L.length>0&&(e.config.tools=L);const H={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=Eoe(this.apiClient,H):U=Coe(this.apiClient,H),delete U.config,T.send(JSON.stringify(U)),new aue(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const sue={turnComplete:!0};class aue{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=io(t.turns),e.isVertexAI()||(r=r.map(i=>L1(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(nue)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},sue),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:_oe(e)}:t={realtimeInput:xoe(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function oue(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function Aue(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cK=10;function dK(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Zg(a)){i=!0;break}if(!i)return!0;const s=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Zg(n){return"callTool"in n&&typeof n.callTool=="function"}function lue(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>Zg(i)))!==null&&r!==void 0?r:!1}function fK(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,i)=>{if(Zg(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(i)}),t}function hK(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uue extends Lu{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var r,i,s,a,o;const l=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!lue(t)||dK(t.config))return await this.generateContentInternal(l);const u=fK(t);if(u.length>0){const C=u.map(B=>`tools[${B}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let d,h;const g=io(l.contents),v=(s=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:cK;let b=0;for(;b<v&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const C=d.candidates[0].content,B=[];for(const S of(o=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(Zg(S)){const T=await S.callTool(d.functionCalls);B.push(...T)}b++,h={role:"user",parts:B},l.contents=io(l.contents),l.contents.push(C),l.contents.push(h),hK(l.config)&&(g.push(C),g.push(h))}return hK(l.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async t=>{var r,i,s,a,o;if(this.maybeMoveToResponseJsonSchem(t),dK(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const l=fK(t);if(l.length>0){const h=l.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(i=(r=t==null?void 0:t.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(o=(a=t==null?void 0:t.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var i;let s;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=l==null?void 0:l.safetyAttributes:a.push(l);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async t=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Ip(Cu.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var r,i,s,a,o,l;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=t.video)===null||r===void 0)&&r.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((a=(s=t.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((l=(o=t.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,r,i;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async l=>Zg(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&U6(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),P6(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var t,r,i;const s=new Map;for(const a of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(Zg(a)){const o=a,l=await o.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,o)}}return s}async processAfcStream(e){var t,r,i;const s=(i=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:cK;let a=!1,o=0;const l=await this.initAfcToolsMap(e);return(function(u,d,h){var g,v;return Jg(this,arguments,function*(){for(var b,C,B,S;o<s;){a&&(o++,a=!1);const U=yield Rn(u.processParamsMaybeAddMcpUsage(h)),D=yield Rn(u.generateContentStreamInternal(U)),L=[],H=[];try{for(var I=!0,T=(C=void 0,Uw(D)),R;R=yield Rn(T.next()),b=R.done,!b;I=!0){S=R.value,I=!1;const k=S;if(yield yield Rn(k),k.candidates&&(!((g=k.candidates[0])===null||g===void 0)&&g.content)){H.push(k.candidates[0].content);for(const G of(v=k.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(o<s&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(G.functionCall.name)){const K=yield Rn(d.get(G.functionCall.name).callTool([G.functionCall]));L.push(...K)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch(k){C={error:k}}finally{try{!I&&!b&&(B=T.return)&&(yield Rn(B.call(T)))}finally{if(C)throw C.error}}if(L.length>0){a=!0;const k=new T0;k.candidates=[{content:{role:"user",parts:L}}],yield yield Rn(k);const G=[];G.push(...H),G.push({role:"user",parts:L});const K=io(h.contents).concat(G);h.contents=K}else break}})})(this,l,e)}async generateContentInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=aK(this.apiClient,e);return o=Re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=AK(d),g=new T0;return Object.assign(g,h),g})}else{const u=sK(this.apiClient,e);return o=Re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=oK(d),g=new T0;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=aK(this.apiClient,e);return o=Re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(h){return Jg(this,arguments,function*(){var g,v,b,C;try{for(var B=!0,S=Uw(h),I;I=yield Rn(S.next()),g=I.done,!g;B=!0){C=I.value,B=!1;const T=C,R=AK(yield Rn(T.json()));R.sdkHttpResponse={headers:T.headers};const U=new T0;Object.assign(U,R),yield yield Rn(U)}}catch(T){v={error:T}}finally{try{!B&&!g&&(b=S.return)&&(yield Rn(b.call(S)))}finally{if(v)throw v.error}}})})}else{const u=sK(this.apiClient,e);return o=Re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(h){return Jg(this,arguments,function*(){var g,v,b,C;try{for(var B=!0,S=Uw(h),I;I=yield Rn(S.next()),g=I.done,!g;B=!0){C=I.value,B=!1;const T=C,R=oK(yield Rn(T.json()));R.sdkHttpResponse={headers:T.headers};const U=new T0;Object.assign(U,R),yield yield Rn(U)}}catch(T){v={error:T}}finally{try{!B&&!g&&(b=S.return)&&(yield Rn(b.call(S)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=iAe(this.apiClient,e);return o=Re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=aAe(d),g=new V3;return Object.assign(g,h),g})}else{const u=rAe(this.apiClient,e);return o=Re("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=sAe(d),g=new V3;return Object.assign(g,h),g})}}async generateImagesInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=mAe(this.apiClient,e);return o=Re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=yAe(d),g=new K3;return Object.assign(g,h),g})}else{const u=gAe(this.apiClient,e);return o=Re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=vAe(d),g=new K3;return Object.assign(g,h),g})}}async editImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Zoe(this.apiClient,e);return s=Re("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=eAe(l),d=new Ase;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=mle(this.apiClient,e);return s=Re("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=vle(l),d=new lse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=JAe(this.apiClient,e);return s=Re("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=ZAe(l),d=new use;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=sle(this.apiClient,e);return s=Re("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=ale(l),d=new cse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=NAe(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>DR(d))}else{const u=DAe(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>RR(d))}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=zAe(this.apiClient,e);return o=Re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=$Ae(d),g=new G3;return Object.assign(g,h),g})}else{const u=GAe(this.apiClient,e);return o=Re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=qAe(d),g=new G3;return Object.assign(g,h),g})}}async update(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=ple(this.apiClient,e);return o=Re("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>DR(d))}else{const u=hle(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>RR(d))}}async delete(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Woe(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Xoe(d),g=new z3;return Object.assign(g,h),g})}else{const u=joe(this.apiClient,e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Yoe(d),g=new z3;return Object.assign(g,h),g})}}async countTokens(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=zoe(this.apiClient,e);return o=Re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=$oe(d),g=new q3;return Object.assign(g,h),g})}else{const u=Goe(this.apiClient,e);return o=Re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=qoe(d),g=new q3;return Object.assign(g,h),g})}}async computeTokens(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Loe(this.apiClient,e);return s=Re("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Qoe(l),d=new dse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=SAe(this.apiClient,e);return o=Re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const h=EAe(d),g=new Y_;return Object.assign(g,h),g})}else{const u=BAe(this.apiClient,e);return o=Re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const h=CAe(d),g=new Y_;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cue extends Lu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=nse(e);return o=Re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const u=tse(e);return o=Re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=jie(e);return s=Re("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function due(n){const e={},t=y(n,["data"]);if(t!=null&&w(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function fue(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Cue(s))),w(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&w(e,["role"],r),e}function hue(n,e,t){const r={},i=y(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&w(t,["newSessionExpireTime"],s);const a=y(e,["uses"]);t!==void 0&&a!=null&&w(t,["uses"],a);const o=y(e,["liveConnectConstraints"]);t!==void 0&&o!=null&&w(t,["bidiGenerateContentSetup"],bue(n,o));const l=y(e,["lockAdditionalFields"]);return t!==void 0&&l!=null&&w(t,["fieldMask"],l),r}function pue(n,e){const t={},r=y(e,["config"]);return r!=null&&w(t,["config"],hue(n,r,t)),t}function gue(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&w(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&w(e,["mimeType"],r),e}function mue(n){const e={},t=y(n,["id"]);t!=null&&w(e,["id"],t);const r=y(n,["args"]);r!=null&&w(e,["args"],r);const i=y(n,["name"]);if(i!=null&&w(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vue(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&w(e,["enableWidget"],t),e}function yue(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&w(e,["timeRangeFilter"],t),e}function wue(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&w(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&w(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&w(e,["setup","generationConfig","temperature"],s);const a=y(n,["topP"]);e!==void 0&&a!=null&&w(e,["setup","generationConfig","topP"],a);const o=y(n,["topK"]);e!==void 0&&o!=null&&w(e,["setup","generationConfig","topK"],o);const l=y(n,["maxOutputTokens"]);e!==void 0&&l!=null&&w(e,["setup","generationConfig","maxOutputTokens"],l);const u=y(n,["mediaResolution"]);e!==void 0&&u!=null&&w(e,["setup","generationConfig","mediaResolution"],u);const d=y(n,["seed"]);e!==void 0&&d!=null&&w(e,["setup","generationConfig","seed"],d);const h=y(n,["speechConfig"]);e!==void 0&&h!=null&&w(e,["setup","generationConfig","speechConfig"],DQ(h));const g=y(n,["thinkingConfig"]);e!==void 0&&g!=null&&w(e,["setup","generationConfig","thinkingConfig"],g);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&w(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=y(n,["systemInstruction"]);e!==void 0&&b!=null&&w(e,["setup","systemInstruction"],fue(Ki(b)));const C=y(n,["tools"]);if(e!==void 0&&C!=null){let D=Cy(C);Array.isArray(D)&&(D=D.map(L=>Bue(by(L)))),w(e,["setup","tools"],D)}const B=y(n,["sessionResumption"]);e!==void 0&&B!=null&&w(e,["setup","sessionResumption"],Eue(B));const S=y(n,["inputAudioTranscription"]);e!==void 0&&S!=null&&w(e,["setup","inputAudioTranscription"],S);const I=y(n,["outputAudioTranscription"]);e!==void 0&&I!=null&&w(e,["setup","outputAudioTranscription"],I);const T=y(n,["realtimeInputConfig"]);e!==void 0&&T!=null&&w(e,["setup","realtimeInputConfig"],T);const R=y(n,["contextWindowCompression"]);e!==void 0&&R!=null&&w(e,["setup","contextWindowCompression"],R);const U=y(n,["proactivity"]);return e!==void 0&&U!=null&&w(e,["setup","proactivity"],U),t}function bue(n,e){const t={},r=y(e,["model"]);r!=null&&w(t,["setup","model"],kt(n,r));const i=y(e,["config"]);return i!=null&&w(t,["config"],wue(i,t)),t}function Cue(n){const e={},t=y(n,["mediaResolution"]);t!=null&&w(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&w(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&w(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&w(e,["fileData"],gue(s));const a=y(n,["functionCall"]);a!=null&&w(e,["functionCall"],mue(a));const o=y(n,["functionResponse"]);o!=null&&w(e,["functionResponse"],o);const l=y(n,["inlineData"]);l!=null&&w(e,["inlineData"],due(l));const u=y(n,["text"]);u!=null&&w(e,["text"],u);const d=y(n,["thought"]);d!=null&&w(e,["thought"],d);const h=y(n,["thoughtSignature"]);h!=null&&w(e,["thoughtSignature"],h);const g=y(n,["videoMetadata"]);return g!=null&&w(e,["videoMetadata"],g),e}function Eue(n){const e={},t=y(n,["handle"]);if(t!=null&&w(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Bue(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let d=t;Array.isArray(d)&&(d=d.map(h=>h)),w(e,["functionDeclarations"],d)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&w(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&w(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&w(e,["fileSearch"],s);const a=y(n,["codeExecution"]);if(a!=null&&w(e,["codeExecution"],a),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(n,["googleMaps"]);o!=null&&w(e,["googleMaps"],vue(o));const l=y(n,["googleSearch"]);l!=null&&w(e,["googleSearch"],yue(l));const u=y(n,["urlContext"]);return u!=null&&w(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sue(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${t}.${s}`);e.push(...i)}else e.push(t)}return e.join(",")}function xue(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const s=Sue(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];s&&l.push(s),o.length>0&&l.push(...o),l.length>0?n.fieldMask=l.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class _ue extends Lu{constructor(e){super(),this.apiClient=e}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=pue(this.apiClient,e);s=Re("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const l=xue(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tue(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&w(e,["_query","force"],r),t}function Iue(n){const e={},t=y(n,["name"]);t!=null&&w(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&Tue(r,e),e}function Fue(n){const e={},t=y(n,["name"]);return t!=null&&w(e,["_url","name"],t),e}function Mue(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&w(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&w(e,["_query","pageToken"],i),t}function Uue(n){const e={},t=y(n,["parent"]);t!=null&&w(e,["_url","parent"],t);const r=y(n,["config"]);return r!=null&&Mue(r,e),e}function Pue(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&w(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&w(e,["nextPageToken"],r);const i=y(n,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),w(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rue extends Lu{constructor(e){super(),this.apiClient=e,this.list=async t=>new Ip(Cu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:t.parent,config:r.config}),await this.listInternal(t),t)}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Fue(e);return s=Re("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Iue(e);i=Re("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Uue(e);return s=Re("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Pue(l),d=new fse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Due extends Lu{constructor(e,t=new Rue(e)){super(),this.apiClient=e,this.documents=t,this.list=async(r={})=>new Ip(Cu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Sle(e);return s=Re("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Tle(e);return s=Re("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_le(e);i=Re("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Rle(e);return s=Re("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Dle(l),d=new hse;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Nle(e);return s=Re("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Lle(l),d=new pse;return Object.assign(d,u),d})}}async importFile(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Mle(e);return s=Re("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Fle(l),d=new FQ;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Lue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Que(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function kue(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function Oue(n,e,t){const r={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&w(e,["displayName"],i),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&w(e,["tuningTask","hyperparameters","epochCount"],s);const a=y(n,["learningRateMultiplier"]);if(a!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=y(n,["batchSize"]);e!==void 0&&o!=null&&w(e,["tuningTask","hyperparameters","batchSize"],o);const l=y(n,["learningRate"]);if(e!==void 0&&l!=null&&w(e,["tuningTask","hyperparameters","learningRate"],l),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Hue(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec"],pK(v))}else if(i==="PREFERENCE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec"],pK(v))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&w(e,["tunedModelDisplayName"],s);const a=y(n,["description"]);e!==void 0&&a!=null&&w(e,["description"],a);let o=y(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(o==="PREFERENCE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let l=y(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(l==="PREFERENCE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let u=y(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let d=y(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=y(n,["labels"]);e!==void 0&&h!=null&&w(e,["labels"],h);const g=y(n,["beta"]);return e!==void 0&&g!=null&&w(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function Vue(n,e){const t={},r=y(n,["baseModel"]);r!=null&&w(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&w(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&Zue(s);const a=y(n,["config"]);return a!=null&&Oue(a,t),t}function Kue(n,e){const t={},r=y(n,["baseModel"]);r!=null&&w(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&w(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&ece(s,t,e);const a=y(n,["config"]);return a!=null&&Hue(a,t,e),t}function Gue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function zue(n,e){const t={},r=y(n,["name"]);return r!=null&&w(t,["_url","name"],r),t}function que(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),r}function $ue(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&w(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&w(e,["_query","pageToken"],s);const a=y(n,["filter"]);return e!==void 0&&a!=null&&w(e,["_query","filter"],a),r}function jue(n,e){const t={},r=y(n,["config"]);return r!=null&&que(r,t),t}function Wue(n,e){const t={},r=y(n,["config"]);return r!=null&&$ue(r,t),t}function Yue(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&w(t,["nextPageToken"],i);const s=y(n,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>R6(o))),w(t,["tuningJobs"],a)}return t}function Xue(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&w(t,["nextPageToken"],i);const s=y(n,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>LR(o))),w(t,["tuningJobs"],a)}return t}function Jue(n,e){const t={},r=y(n,["name"]);r!=null&&w(t,["model"],r);const i=y(n,["name"]);return i!=null&&w(t,["endpoint"],i),t}function Zue(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(n,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),w(t,["examples","examples"],i)}return t}function ece(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=y(n,["gcsUri"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=y(n,["vertexDatasetResource"]);e!==void 0&&a!=null&&w(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function R6(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["state"]);s!=null&&w(t,["state"],h6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["tuningTask","startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["tuningTask","completeTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["description"]);d!=null&&w(t,["description"],d);const h=y(n,["baseModel"]);h!=null&&w(t,["baseModel"],h);const g=y(n,["_self"]);return g!=null&&w(t,["tunedModel"],Jue(g)),t}function LR(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["state"]);s!=null&&w(t,["state"],h6(s));const a=y(n,["createTime"]);a!=null&&w(t,["createTime"],a);const o=y(n,["startTime"]);o!=null&&w(t,["startTime"],o);const l=y(n,["endTime"]);l!=null&&w(t,["endTime"],l);const u=y(n,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=y(n,["error"]);d!=null&&w(t,["error"],d);const h=y(n,["description"]);h!=null&&w(t,["description"],h);const g=y(n,["baseModel"]);g!=null&&w(t,["baseModel"],g);const v=y(n,["tunedModel"]);v!=null&&w(t,["tunedModel"],v);const b=y(n,["preTunedModel"]);b!=null&&w(t,["preTunedModel"],b);const C=y(n,["supervisedTuningSpec"]);C!=null&&w(t,["supervisedTuningSpec"],C);const B=y(n,["preferenceOptimizationSpec"]);B!=null&&w(t,["preferenceOptimizationSpec"],B);const S=y(n,["tuningDataStats"]);S!=null&&w(t,["tuningDataStats"],S);const I=y(n,["encryptionSpec"]);I!=null&&w(t,["encryptionSpec"],I);const T=y(n,["partnerModelTuningSpec"]);T!=null&&w(t,["partnerModelTuningSpec"],T);const R=y(n,["customBaseModel"]);R!=null&&w(t,["customBaseModel"],R);const U=y(n,["experiment"]);U!=null&&w(t,["experiment"],U);const D=y(n,["labels"]);D!=null&&w(t,["labels"],D);const L=y(n,["outputUri"]);L!=null&&w(t,["outputUri"],L);const H=y(n,["pipelineJob"]);H!=null&&w(t,["pipelineJob"],H);const k=y(n,["serviceAccount"]);k!=null&&w(t,["serviceAccount"],k);const G=y(n,["tunedModelDisplayName"]);G!=null&&w(t,["tunedModelDisplayName"],G);const K=y(n,["veoTuningSpec"]);return K!=null&&w(t,["veoTuningSpec"],K),t}function tce(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&w(t,["name"],i);const s=y(n,["metadata"]);s!=null&&w(t,["metadata"],s);const a=y(n,["done"]);a!=null&&w(t,["done"],a);const o=y(n,["error"]);return o!=null&&w(t,["error"],o),t}function pK(n,e){const t={},r=y(n,["gcsUri"]);r!=null&&w(t,["validationDatasetUri"],r);const i=y(n,["vertexDatasetResource"]);return i!=null&&w(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nce extends Lu{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ip(Cu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),s=await this.tuneMldevInternal(i);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:FR.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=zue(e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>LR(d))}else{const u=Gue(e);return o=Re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>R6(d))}}async listInternal(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Wue(e);return o=Re("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Xue(d),g=new $3;return Object.assign(g,h),g})}else{const u=jue(e);return o=Re("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Yue(d),g=new $3;return Object.assign(g,h),g})}}async cancel(e){var t,r,i,s;let a,o="",l={};if(this.apiClient.isVertexAI()){const u=Lue(e);return o=Re("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=kue(d),g=new j3;return Object.assign(g,h),g})}else{const u=Nue(e);return o=Re("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const h=Que(d),g=new j3;return Object.assign(g,h),g})}}async tuneInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Kue(e,e);return s=Re("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>LR(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Vue(e);return s=Re("tunedModels",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>tce(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rce{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ice=1024*1024*8,sce=3,ace=1e3,oce=2,J_="x-goog-upload-status";async function Ace(n,e,t){var r;const i=await D6(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[J_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function lce(n,e,t){var r;const i=await D6(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[J_])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=A6(s),o=new MQ;return Object.assign(o,a),o}async function D6(n,e,t){var r,i;let s=0,a=0,o=new MR(new Response),l="upload";for(s=n.size;a<s;){const u=Math.min(ice,s-a),d=n.slice(a,a+u);a+u>=s&&(l+=", finalize");let h=0,g=ace;for(;h<sce&&(o=await t.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=o==null?void 0:o.headers)===null||r===void 0)&&r[J_]));)h++,await cce(g),g=g*oce;if(a+=u,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[J_])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function uce(n){return{size:n.size,type:n.type}}function cce(n){return new Promise(e=>setTimeout(e,n))}class dce{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ace(e,t,r)}async uploadToFileSearchStore(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lce(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uce(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fce{create(e,t,r){return new hce(e,t,r)}}class hce{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gK="x-goog-api-key";class pce{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(gK)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(gK,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gce="gl-node/";class mce{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=qie(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new pce(this.apiKey);this.apiClient=new zle({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:gce+"web",uploader:new dce,downloader:new rce}),this.models=new uue(this.apiClient),this.live=new iue(this.apiClient,i,new fce),this.batches=new bae(this.apiClient),this.chats=new noe(this.models,this.apiClient),this.caches=new Zae(this.apiClient),this.files=new doe(this.apiClient),this.operations=new cue(this.apiClient),this.authTokens=new _ue(this.apiClient),this.tunings=new nce(this.apiClient),this.fileSearchStores=new Due(this.apiClient)}}const vce="AIzaSyCsuOQli4AjSdQxo1VCTf5d_0JO5EW_ecQ",yce=new mce({apiKey:vce}),wce="gemini-2.5-flash",N6=async(n,e)=>{try{const t=`
      Context: The user is reading an educational text.
      Target Text: "${n}"
      ${e?`Surrounding Context: ${e}`:""}
      
      Task: Provide a concise, easy-to-understand explanation of the target text or concept. 
      Limit the response to 3 sentences. Tone: Academic but accessible.
      Language: Respond in Korean.
    `;return(await yce.models.generateContent({model:wce,contents:t})).text||"Could not generate explanation."}catch(t){return console.error("AI Error:",t),"Error connecting to AI service."}},es=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),QR=[.001,0,0,.001,0,0],iU=1.35,la={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},_c={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Gw="pdfjs_internal_editor_",ot={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},_t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},bce={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},kR={TRIANGLES:1,LATTICE:2},hi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},zx={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},xr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},_g={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},O1={ERRORS:0,WARNINGS:1,INFOS:5},zw={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},I0={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},Cce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let H1=O1.WARNINGS;function Ece(n){Number.isInteger(n)&&(H1=n)}function Bce(){return H1}function V1(n){H1>=O1.INFOS&&console.info(`Info: ${n}`)}function it(n){H1>=O1.WARNINGS&&console.warn(`Warning: ${n}`)}function Cn(n){throw new Error(n)}function Tt(n,e){n||Cn(e)}function Sce(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function L6(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=Fce(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return Sce(r)?r:null}function Q6(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&L6(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function st(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Fp=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class mK extends Fp{constructor(e,t){super(e,"PasswordException"),this.code=t}}class sU extends Fp{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}let OR=class extends Fp{constructor(e){super(e,"InvalidPDFException")}},Z_=class extends Fp{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}};class xce extends Fp{constructor(e){super(e,"FormatError")}}let qd=class extends Fp{constructor(e){super(e,"AbortException")}};function k6(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Cn("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function zE(n){typeof n!="string"&&Cn("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function _ce(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Tce(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Ice(){try{return new Function(""),!0}catch{return!1}}class Ii{static get isLittleEndian(){return st(this,"isLittleEndian",Tce())}static get isEvalSupported(){return st(this,"isEvalSupported",Ice())}static get isOffscreenCanvasSupported(){return st(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return st(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return st(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return st(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return st(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return st(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const aU=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var vu,BR,qx,HR;let Ve=(BR=class{static makeHexColor(e,t,r){return`#${aU[e]}${aU[t]}${aU[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[r+d],g=e[r+d+1];e[r+d]=h*i+g*a+l,e[r+d+1]=h*s+g*o+u}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],d=e[0],h=e[1],g=e[2],v=e[3];let b=i*d+l,C=b,B=i*g+l,S=B,I=o*h+u,T=I,R=o*v+u,U=R;if(s!==0||a!==0){const D=s*d,L=s*g,H=a*h,k=a*v;b+=H,S+=H,B+=k,C+=k,I+=D,U+=D,R+=L,T+=L}r[0]=Math.min(r[0],b,B,C,S),r[1]=Math.min(r[1],I,R,T,U),r[2]=Math.max(r[2],b,B,C,S),r[3]=Math.max(r[3],I,R,T,U)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,u=s**2+a**2,d=(o+u)/2,h=Math.sqrt(d**2-(o*u-l**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,r,i,s,a,o,l,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l),P(this,vu,HR).call(this,e,r,s,o,t,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),u),P(this,vu,HR).call(this,e,r,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),u)}},vu=new WeakSet,qx=function(e,t,r,i,s,a,o,l,u,d){if(u<=0||u>=1)return;const h=1-u,g=u*u,v=g*u,b=h*(h*(h*e+3*u*t)+3*g*r)+v*i,C=h*(h*(h*s+3*u*a)+3*g*o)+v*l;d[0]=Math.min(d[0],b),d[1]=Math.min(d[1],C),d[2]=Math.max(d[2],b),d[3]=Math.max(d[3],C)},HR=function(e,t,r,i,s,a,o,l,u,d,h,g){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&P(this,vu,qx).call(this,e,t,r,i,s,a,o,l,-h/d,g);return}const v=d**2-4*h*u;if(v<0)return;const b=Math.sqrt(v),C=2*u;P(this,vu,qx).call(this,e,t,r,i,s,a,o,l,(-d+b)/C,g),P(this,vu,qx).call(this,e,t,r,i,s,a,o,l,(-d-b)/C,g)},M(BR,vu),BR);function Fce(n){return decodeURIComponent(escape(n))}let oU=null,vK=null;function Mce(n){return oU||(oU=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,vK=new Map([["","t"]])),n.replaceAll(oU,(e,t,r)=>t?t.normalize("NFKC"):vK.get(r))}function O6(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),k6(n)}const Vg="pdfjs_internal_id_";function Uce(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function ts(n,e,t){return Math.min(Math.max(n,e),t)}function H6(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(k6(n))}function Pce(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):zE(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class qw{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(qw.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}let V6=class{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var h,g;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=v}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const v=document.createTextNode(i.value);a.append(v),o&&qw.shouldBuildText(i.name)&&u.push(v)}return{textDivs:u}}const d=[[i,-1,a]];for(;d.length>0;){const[v,b,C]=d.at(-1);if(b+1===v.children.length){d.pop();continue}const B=v.children[++d.at(-1)[1]];if(B===null)continue;const{name:S}=B;if(S==="#text"){const T=document.createTextNode(B.value);u.push(T),C.append(T);continue}const I=(h=B==null?void 0:B.attributes)!=null&&h.xmlns?document.createElementNS(B.attributes.xmlns,S):document.createElement(S);if(C.append(I),B.attributes&&this.setAttributes({html:I,element:B,storage:t,intent:s,linkService:r}),((g=B.children)==null?void 0:g.length)>0)d.push([B,-1,I]);else if(B.value){const T=document.createTextNode(B.value);o&&qw.shouldBuildText(S)&&u.push(T),I.append(T)}}for(const v of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}};const Al="http://www.w3.org/2000/svg";var FA;let ny=(FA=class{},be(FA,"CSS",96),be(FA,"PDF",72),be(FA,"PDF_TO_CSS_UNITS",FA.CSS/FA.PDF),FA);async function qE(n,e="text"){if(W0(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class $E{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,g,v;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,g=0,v=1;break;case 90:d=0,h=1,g=1,v=0;break;case 270:d=0,h=-1,g=-1,v=0;break;case 0:d=1,h=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,v=-v);let b,C,B,S;d===0?(b=Math.abs(u-e[1])*r+s,C=Math.abs(l-e[0])*r+a,B=(e[3]-e[1])*r,S=(e[2]-e[0])*r):(b=Math.abs(l-e[0])*r+s,C=Math.abs(u-e[1])*r+a,B=(e[2]-e[0])*r,S=(e[3]-e[1])*r),this.transform=[d*r,h*r,g*r,v*r,b-d*r*l-g*r*u,C-h*r*l-v*r*u],this.width=B,this.height=S}get rawDims(){const e=this.viewBox;return st(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new $E({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return Ve.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Ve.applyTransform(t,this.transform);const r=[e[2],e[3]];return Ve.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Ve.applyInverseTransform(r,this.transform),r}}let LQ=class extends Fp{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function K1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function QQ(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Rce(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Dce(n,e="document.pdf"){if(typeof n!="string")return e;if(K1(n))return it('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const u of o)if(s.test(u))return i(u);const l=Array.from(r.searchParams.keys()).reverse();for(const u of l)if(s.test(u))return i(u)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class yK{constructor(){be(this,"started",Object.create(null));be(this,"times",[])}time(e){e in this.started&&it(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||it(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function W0(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function oo(n){n.preventDefault()}function or(n){n.preventDefault(),n.stopPropagation()}function Nce(n){console.log("Deprecated API usage: "+n)}var SR,hb;let VR=(SR=class{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;f(this,hb)||_(this,hb,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=f(this,hb).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(r,i,s,a,o,l))}},hb=new WeakMap,M(SR,hb),SR);function Lce(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new $E({viewBox:s,userUnit:1,scale:e,rotation:t})}function jE(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(it(`Not a valid color format: "${n}"`),[0,0,0])}function Qce(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,jE(r))}e.remove()}function $n(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function Zo(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function wp(n,e,t=!1,r=!0){if(e instanceof $E){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,o=Ii.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,u=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}let bp=class KR{constructor(){const{pixelRatio:e}=KR;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=KR.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*t))),i!==-1&&(o=i/e,l=i/t);const u=Math.min(a,o,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}};const GR=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class kce{static get isDarkMode(){var e;return st(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}let Oce=class{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),st(this,"commentForegroundColor",jE(r))}};function Hce(n,e,t,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return n=Math.round(n*r+i),e=Math.round(e*r+i),t=Math.round(t*r+i),[n,e,t]}function wK(n,e){const t=n[0]/255,r=n[1]/255,i=n[2]/255,s=Math.max(t,r,i),a=Math.min(t,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-t)/l+2)*60;break;case i:e[0]=((t-r)/l+4)*60;break}}e[2]=o}function zR(n,e){const t=n[0],r=n[1],i=n[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(t/60%2-1)),o=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function bK(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function CK(n,e,t){zR(n,t),t.map(bK);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];zR(e,t),t.map(bK);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const EK=new Map;function Vce(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=EK.get(t);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);wK(n,a);const o=i.subarray(6,9);wK(e,o);const l=o[2]<.5,u=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),CK(a,o,s)<u){let d,h;l?(d=a[2],h=1):(d=0,h=a[2]);const g=.005;for(;h-d>g;){const v=a[2]=(d+h)/2;l===CK(a,o,s)<u?d=v:h=v}a[2]=l?h:d}return zR(a,s),r=Ve.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),EK.set(t,r),r}function K6({html:n,dir:e,className:t},r){const i=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const u=a[o];s.append(document.createTextNode(u)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else V6.render({xfaHtml:n,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",t),r.append(i)}function G6(n){const e=new Path2D;if(!n)return e;for(let t=0,r=n.length;t<r;)switch(n[t++]){case I0.moveTo:e.moveTo(n[t++],n[t++]);break;case I0.lineTo:e.lineTo(n[t++],n[t++]);break;case I0.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case I0.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case I0.closePath:e.closePath();break;default:it(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var Ic,Fc,La,Qa,pb,Mc,am,om,gb,c1,z6,xi,q6,$6,Tg,Y0;const dl=class dl{constructor(e){M(this,xi);M(this,Ic,null);M(this,Fc,null);M(this,La);M(this,Qa,null);M(this,pb,null);M(this,Mc,null);M(this,am,null);M(this,om,null);_(this,La,e),f(dl,gb)||_(dl,gb,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=_(this,Ic,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=f(this,La)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",oo,{signal:t}),e.addEventListener("pointerdown",P(dl,c1,z6),{signal:t}));const r=_(this,Qa,document.createElement("div"));r.className="buttons",e.append(r);const i=f(this,La).toolbarPosition;if(i){const{style:s}=e,a=f(this,La)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return f(this,Ic)}hide(){var e;f(this,Ic).classList.add("hidden"),(e=f(this,Fc))==null||e.hideDropdown()}show(){var e,t;f(this,Ic).classList.remove("hidden"),(e=f(this,pb))==null||e.shown(),(t=f(this,Mc))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=f(this,La),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",f(dl,gb)[e]),P(this,xi,Tg).call(this,r)&&r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),f(this,Qa).append(r)}async addAltText(e){const t=await e.render();P(this,xi,Tg).call(this,t),f(this,Qa).append(t,f(this,xi,Y0)),_(this,pb,e)}addComment(e,t=null){if(f(this,Mc))return;const r=e.renderForToolbar();if(!r)return;P(this,xi,Tg).call(this,r);const i=_(this,am,f(this,xi,Y0));t?(f(this,Qa).insertBefore(r,t),f(this,Qa).insertBefore(i,t)):f(this,Qa).append(r,i),_(this,Mc,e),e.toolbar=this}addColorPicker(e){if(f(this,Fc))return;_(this,Fc,e);const t=e.renderButton();P(this,xi,Tg).call(this,t),f(this,Qa).append(t,f(this,xi,Y0))}async addEditSignatureButton(e){const t=_(this,om,await e.renderEditButton(f(this,La)));P(this,xi,Tg).call(this,t),f(this,Qa).append(t,f(this,xi,Y0))}removeButton(e){var t,r;switch(e){case"comment":(t=f(this,Mc))==null||t.removeToolbarCommentButton(),_(this,Mc,null),(r=f(this,am))==null||r.remove(),_(this,am,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,r){if(!t&&e==="comment")return;const i=f(this,Qa).querySelector(r);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){f(this,om)&&(f(this,om).title=e)}remove(){var e;f(this,Ic).remove(),(e=f(this,Fc))==null||e.destroy(),_(this,Fc,null)}};Ic=new WeakMap,Fc=new WeakMap,La=new WeakMap,Qa=new WeakMap,pb=new WeakMap,Mc=new WeakMap,am=new WeakMap,om=new WeakMap,gb=new WeakMap,c1=new WeakSet,z6=function(e){e.stopPropagation()},xi=new WeakSet,q6=function(e){f(this,La)._focusEventsAllowed=!1,or(e)},$6=function(e){f(this,La)._focusEventsAllowed=!0,or(e)},Tg=function(e){const t=f(this,La)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",P(this,xi,q6).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",P(this,xi,$6).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",oo,{signal:t}),!0)},Y0=function(){const e=document.createElement("div");return e.className="divider",e},M(dl,c1),M(dl,gb,null);let qR=dl;var mb,Of,gl,Uu,j6,W6,$R;class Kce{constructor(e){M(this,Uu);M(this,mb,null);M(this,Of,null);M(this,gl);_(this,gl,e)}show(e,t,r){const[i,s]=P(this,Uu,W6).call(this,t,r),{style:a}=f(this,Of)||_(this,Of,P(this,Uu,j6).call(this));e.append(f(this,Of)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,Of).remove()}}mb=new WeakMap,Of=new WeakMap,gl=new WeakMap,Uu=new WeakSet,j6=function(){const e=_(this,Of,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=f(this,gl)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",oo,{signal:t});const r=_(this,mb,document.createElement("div"));return r.className="buttons",e.append(r),f(this,gl).hasCommentManager()&&P(this,Uu,$R).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{f(this,gl).commentSelection("floating_button")}),P(this,Uu,$R).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{f(this,gl).highlightSelection("floating_button")}),e},W6=function(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(t?s.width:0);if(a>r){i=o,r=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,r]},$R=function(e,t,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=f(this,gl)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",oo,{signal:o}),s.addEventListener("click",i,{signal:o})),f(this,mb).append(s)};function Y6(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var Hf,Vf,Am,Kf;const ln=class ln{static initializeAndAddPointerId(e){(f(ln,Vf)||_(ln,Vf,new Set)).add(e)}static setPointer(e,t){f(ln,Hf)||_(ln,Hf,t),f(ln,Kf)??_(ln,Kf,e)}static setTimeStamp(e){_(ln,Am,e)}static isSamePointerId(e){return f(ln,Hf)===e}static isSamePointerIdOrRemove(e){var t;return f(ln,Hf)===e?!0:((t=f(ln,Vf))==null||t.delete(e),!1)}static isSamePointerType(e){return f(ln,Kf)===e}static isInitializedAndDifferentPointerType(e){return f(ln,Kf)!==null&&!ln.isSamePointerType(e)}static isSameTimeStamp(e){return f(ln,Am)===e}static isUsingMultiplePointers(){var e;return((e=f(ln,Vf))==null?void 0:e.size)>=1}static clearPointerType(){_(ln,Kf,null)}static clearPointerIds(){_(ln,Hf,NaN),_(ln,Vf,null)}static clearTimeStamp(){_(ln,Am,NaN)}};Hf=new WeakMap,Vf=new WeakMap,Am=new WeakMap,Kf=new WeakMap,M(ln,Hf,NaN),M(ln,Vf,null),M(ln,Am,NaN),M(ln,Kf,null);let Ri=ln;var d1;class Gce{constructor(){M(this,d1,0)}get id(){return`${Gw}${ur(this,d1)._++}`}}d1=new WeakMap;var lm,vb,Di,um,$x;const OO=class OO{constructor(){M(this,um);M(this,lm,O6());M(this,vb,0);M(this,Di,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return st(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return P(this,um,$x).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return P(this,um,$x).call(this,e,e)}async getFromBlob(e,t){const r=await t;return P(this,um,$x).call(this,e,r)}async getFromId(e){f(this,Di)||_(this,Di,new Map);const t=f(this,Di).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){f(this,Di)||_(this,Di,new Map);let r=f(this,Di).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${f(this,lm)}_${ur(this,vb)._++}`,refCounter:1,isSvg:!1},f(this,Di).set(e,r),f(this,Di).set(r.id,r),r}getSvgUrl(e){const t=f(this,Di).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;f(this,Di)||_(this,Di,new Map);const t=f(this,Di).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${f(this,lm)}_`)}};lm=new WeakMap,vb=new WeakMap,Di=new WeakMap,um=new WeakSet,$x=async function(e,t){f(this,Di)||_(this,Di,new Map);let r=f(this,Di).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${f(this,lm)}_${ur(this,vb)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await qE(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=OO._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},a.onload=async()=>{const h=r.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){it(i),r=null}return f(this,Di).set(e,r),r&&f(this,Di).set(r.id,r),r};let jR=OO;var fr,Uc,yb,qn;class zce{constructor(e=128){M(this,fr,[]);M(this,Uc,!1);M(this,yb);M(this,qn,-1);_(this,yb,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),f(this,Uc))return;const l={cmd:e,undo:t,post:r,type:s};if(f(this,qn)===-1){f(this,fr).length>0&&(f(this,fr).length=0),_(this,qn,0),f(this,fr).push(l);return}if(a&&f(this,fr)[f(this,qn)].type===s){o&&(l.undo=f(this,fr)[f(this,qn)].undo),f(this,fr)[f(this,qn)]=l;return}const u=f(this,qn)+1;u===f(this,yb)?f(this,fr).splice(0,1):(_(this,qn,u),u<f(this,fr).length&&f(this,fr).splice(u)),f(this,fr).push(l)}undo(){if(f(this,qn)===-1)return;_(this,Uc,!0);const{undo:e,post:t}=f(this,fr)[f(this,qn)];e(),t==null||t(),_(this,Uc,!1),_(this,qn,f(this,qn)-1)}redo(){if(f(this,qn)<f(this,fr).length-1){_(this,qn,f(this,qn)+1),_(this,Uc,!0);const{cmd:e,post:t}=f(this,fr)[f(this,qn)];e(),t==null||t(),_(this,Uc,!1)}}hasSomethingToUndo(){return f(this,qn)!==-1}hasSomethingToRedo(){return f(this,qn)<f(this,fr).length-1}cleanType(e){if(f(this,qn)!==-1){for(let t=f(this,qn);t>=0;t--)if(f(this,fr)[t].type!==e){f(this,fr).splice(t+1,f(this,qn)-t),_(this,qn,t);return}f(this,fr).length=0,_(this,qn,-1)}}destroy(){_(this,fr,null)}}fr=new WeakMap,Uc=new WeakMap,yb=new WeakMap,qn=new WeakMap;var f1,X6;class WE{constructor(e){M(this,f1);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ii.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(P(this,f1,X6).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,t)||(i.bind(e,...a,t)(),s||or(t))}}f1=new WeakSet,X6=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const h1=class h1{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Qce(e),st(this,"_colors",e)}convert(e){const t=jE(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return h1._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Ve.makeHexColor(...t):e}};be(h1,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let WR=h1;var cm,Gs,dm,er,Rr,fm,ka,hm,Oa,Ni,Pc,Rc,pm,Dc,iA,Ha,Gf,wb,bb,gm,Cb,sA,Nc,mm,Lc,aA,p1,Qc,vm,Eb,kc,zf,ym,Oc,Bb,_r,Xt,ml,Hc,Vc,Sb,wm,xb,Kc,oA,vl,_b,Tb,Va,cu,Ue,jx,YR,J6,Z6,X0,ej,tj,nj,XR,rj,ij,sj,aj,$i,ll,oj,Aj,JR,lj,J0,ZR;let $w=(cu=class{constructor(e,t,r,i,s,a,o,l,u,d,h,g,v,b,C,B){M(this,Ue);M(this,cm,new AbortController);M(this,Gs,null);M(this,dm,null);M(this,er,new Map);M(this,Rr,new Map);M(this,fm,null);M(this,ka,null);M(this,hm,null);M(this,Oa,new zce);M(this,Ni,null);M(this,Pc,null);M(this,Rc,null);M(this,pm,0);M(this,Dc,new Set);M(this,iA,null);M(this,Ha,null);M(this,Gf,new Set);be(this,"_editorUndoBar",null);M(this,wb,!1);M(this,bb,!1);M(this,gm,!1);M(this,Cb,null);M(this,sA,null);M(this,Nc,null);M(this,mm,null);M(this,Lc,!1);M(this,aA,null);M(this,p1,new Gce);M(this,Qc,!1);M(this,vm,!1);M(this,Eb,!1);M(this,kc,null);M(this,zf,null);M(this,ym,null);M(this,Oc,null);M(this,Bb,null);M(this,_r,ot.NONE);M(this,Xt,new Set);M(this,ml,null);M(this,Hc,null);M(this,Vc,null);M(this,Sb,null);M(this,wm,null);M(this,xb,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});M(this,Kc,[0,0]);M(this,oA,null);M(this,vl,null);M(this,_b,null);M(this,Tb,null);M(this,Va,null);const S=this._signal=f(this,cm).signal;_(this,vl,e),_(this,_b,t),_(this,Tb,r),_(this,fm,i),_(this,Ni,s),_(this,Hc,a),_(this,wm,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:S}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),o._on("setpreference",this.onSetPreference.bind(this),{signal:S}),o._on("switchannotationeditorparams",I=>this.updateParams(I.type,I.value),{signal:S}),window.addEventListener("pointerdown",()=>{_(this,vm,!0)},{capture:!0,signal:S}),window.addEventListener("pointerup",()=>{_(this,vm,!1)},{capture:!0,signal:S}),P(this,Ue,ej).call(this),P(this,Ue,aj).call(this),P(this,Ue,XR).call(this),_(this,ka,l.annotationStorage),_(this,Cb,l.filterFactory),_(this,Vc,u),_(this,mm,d||null),_(this,wb,h),_(this,bb,g),_(this,gm,v),_(this,Bb,b||null),this.viewParameters={realScale:ny.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=C||null,this._supportsPinchToZoom=B!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=cu.prototype,t=a=>f(a,vl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return st(this,"_keyboardManager",new WE([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,vl).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&f(a,vl).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s,a,o,l,u;(e=f(this,Va))==null||e.resolve(),_(this,Va,null),(t=f(this,cm))==null||t.abort(),_(this,cm,null),this._signal=null;for(const d of f(this,Rr).values())d.destroy();f(this,Rr).clear(),f(this,er).clear(),f(this,Gf).clear(),(r=f(this,Oc))==null||r.clear(),_(this,Gs,null),f(this,Xt).clear(),f(this,Oa).destroy(),(i=f(this,fm))==null||i.destroy(),(s=f(this,Ni))==null||s.destroy(),(a=f(this,Hc))==null||a.destroy(),(o=f(this,aA))==null||o.hide(),_(this,aA,null),(l=f(this,ym))==null||l.destroy(),_(this,ym,null),_(this,dm,null),f(this,sA)&&(clearTimeout(f(this,sA)),_(this,sA,null)),f(this,oA)&&(clearTimeout(f(this,oA)),_(this,oA,null)),(u=this._editorUndoBar)==null||u.destroy(),_(this,wm,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return f(this,Bb)}get useNewAltTextFlow(){return f(this,bb)}get useNewAltTextWhenAddingImage(){return f(this,gm)}get hcmFilter(){return st(this,"hcmFilter",f(this,Vc)?f(this,Cb).addHCMFilter(f(this,Vc).foreground,f(this,Vc).background):"none")}get direction(){return st(this,"direction",getComputedStyle(f(this,vl)).direction)}get _highlightColors(){return st(this,"_highlightColors",f(this,mm)?new Map(f(this,mm).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return st(this,"highlightColors",null);const t=new Map,r=!!f(this,Vc);for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){t.set(i.replace("_HCM",""),s);continue}!r&&!a&&t.set(i,s)}return st(this,"highlightColors",t)}get highlightColorNames(){return st(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),_(this,Rc,e)}setMainHighlightColorPicker(e){_(this,ym,e)}editAltText(e,t=!1){var r;(r=f(this,fm))==null||r.editAltText(this,e,t)}hasCommentManager(){return!!f(this,Ni)}editComment(e,t,r,i){var s;(s=f(this,Ni))==null||s.showDialog(this,e,t,r,i)}selectComment(e,t){const r=f(this,Rr).get(e),i=r==null?void 0:r.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=f(this,Ni))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=f(this,Ni))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=f(this,Ni))==null||t.removeComments([e.uid])}toggleComment(e,t,r=void 0){var i;(i=f(this,Ni))==null||i.toggleCommentPopup(e,t,r)}makeCommentColor(e,t){var r;return e&&((r=f(this,Ni))==null?void 0:r.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=f(this,Ni))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(f(this,Rr).has(e-1))return;const{resolve:t,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var t;(t=f(this,Hc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return f(this,Hc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":_(this,gm,t);break}}onPageChanging({pageNumber:e}){_(this,pm,e-1)}focusMainContainer(){f(this,vl).focus()}findParent(e,t){for(const r of f(this,Rr).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return r}return null}disableUserSelect(e=!1){f(this,_b).classList.toggle("noUserSelect",e)}addShouldRescale(e){f(this,Gf).add(e)}removeShouldRescale(e){f(this,Gf).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*ny.PDF_TO_CSS_UNITS;for(const r of f(this,Gf))r.onScaleChanging();(t=f(this,Rc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),d=P(this,Ue,jx).call(this,r).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;r.empty();const g=P(this,Ue,YR).call(this,d),v=f(this,_r)===ot.NONE,b=()=>{const C=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});v&&this.showAllEditors("highlight",!0,!0),t&&(C==null||C.editComment())};if(v){this.switchToMode(ot.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!f(this,ka))return null;const t=`${Gw}${e}`,r=f(this,ka).getRawValue(t);return r&&f(this,ka).remove(t),r}addToAnnotationStorage(e){!e.isEmpty()&&f(this,ka)&&!f(this,ka).has(e.id)&&f(this,ka).setValue(e.id,e)}a11yAlert(e,t=null){const r=f(this,Tb);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,f(this,Lc)&&(_(this,Lc,!1),P(this,Ue,X0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of f(this,Xt))if(t.div.contains(e)){_(this,zf,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!f(this,zf))return;const[e,t]=f(this,zf);_(this,zf,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){P(this,Ue,XR).call(this),this.setEditingState(!0)}removeEditListeners(){P(this,Ue,rj).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of f(this,Ha))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of f(this,Ha))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=f(this,Gs))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of f(this,Xt)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of f(this,Ha))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){it(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=await i.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)P(this,Ue,JR).call(this,l);P(this,Ue,ZR).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){it(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,_r)!==ot.NONE&&!this.isEditorHandlingKeyboard&&cu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,Lc)&&(_(this,Lc,!1),P(this,Ue,X0).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(P(this,Ue,tj).call(this),P(this,Ue,ij).call(this),P(this,Ue,$i).call(this,{isEditing:f(this,_r)!==ot.NONE,isEmpty:P(this,Ue,J0).call(this),hasSomethingToUndo:f(this,Oa).hasSomethingToUndo(),hasSomethingToRedo:f(this,Oa).hasSomethingToRedo(),hasSelectedEditor:!1})):(P(this,Ue,nj).call(this),P(this,Ue,sj).call(this),P(this,Ue,$i).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!f(this,Ha)){_(this,Ha,e);for(const t of f(this,Ha))P(this,Ue,ll).call(this,t.defaultPropertiesToUpdate)}}getId(){return f(this,p1).id}get currentLayer(){return f(this,Rr).get(f(this,pm))}getLayer(e){return f(this,Rr).get(e)}get currentPageIndex(){return f(this,pm)}addLayer(e){f(this,Rr).set(e.pageIndex,e),f(this,Qc)?e.enable():e.disable()}removeLayer(e){f(this,Rr).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1,s=!1){var a,o,l,u,d,h;if(f(this,_r)!==e&&!(f(this,Va)&&(await f(this,Va).promise,!f(this,Va)))){if(_(this,Va,Promise.withResolvers()),(a=f(this,Rc))==null||a.commitOrRemove(),f(this,_r)===ot.POPUP&&((o=f(this,Ni))==null||o.hideSidebar()),(l=f(this,Ni))==null||l.destroyPopup(),_(this,_r,e),e===ot.NONE){this.setEditingState(!1),P(this,Ue,Aj).call(this);for(const g of f(this,er).values())g.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),f(this,Va).resolve();return}for(const g of f(this,er).values())g.addStandaloneCommentButton();e===ot.SIGNATURE&&await((d=f(this,Hc))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await P(this,Ue,oj).call(this),this.unselectAll();for(const g of f(this,Rr).values())g.updateMode(e);if(e===ot.POPUP){f(this,dm)||_(this,dm,await f(this,wm).getAnnotationsByType(new Set(f(this,Ha).map(b=>b._editorType))));const g=new Set,v=[];for(const b of f(this,er).values()){const{annotationElementId:C,hasComment:B,deleted:S}=b;C&&g.add(C),B&&!S&&v.push(b.getData())}for(const b of f(this,dm)){const{id:C,popupRef:B,contentsObj:S}=b;B&&(S!=null&&S.str)&&!g.has(C)&&!f(this,Dc).has(C)&&v.push(b)}(h=f(this,Ni))==null||h.showSidebar(v)}if(!t){r&&this.addNewEditorFromKeyboard(),f(this,Va).resolve();return}for(const g of f(this,er).values())g.uid===t?(this.setSelected(g),s?g.editComment():i?g.enterInEditMode():g.focus()):g.unselect();f(this,Va).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==f(this,_r)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(f(this,Ha)){switch(e){case _t.CREATE:this.currentLayer.addNewEditor(t);return;case _t.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,Sb)||_(this,Sb,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of f(this,Xt))r.updateParams(e,t);else for(const r of f(this,Ha))r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const a of f(this,er).values())a.editorType===e&&a.show(t);(((s=f(this,Sb))==null?void 0:s.get(_t.HIGHLIGHT_SHOW_ALL))??!0)!==t&&P(this,Ue,ll).call(this,[[_t.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(f(this,Eb)!==e){_(this,Eb,e);for(const t of f(this,Rr).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of f(this,er).values())t.pageIndex===e&&(yield t)}getEditor(e){return f(this,er).get(e)}addEditor(e){f(this,er).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(f(this,sA)&&clearTimeout(f(this,sA)),_(this,sA,setTimeout(()=>{this.focusMainContainer(),_(this,sA,null)},0))),f(this,er).delete(e.id),e.annotationElementId&&((t=f(this,Oc))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!f(this,Dc).has(e.annotationElementId))&&((r=f(this,ka))==null||r.remove(e.id))}addDeletedAnnotationElement(e){f(this,Dc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return f(this,Dc).has(e)}removeDeletedAnnotationElement(e){f(this,Dc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){f(this,Gs)!==e&&(_(this,Gs,e),e&&P(this,Ue,ll).call(this,e.propertiesToUpdate))}updateUI(e){f(this,Ue,lj)===e&&P(this,Ue,ll).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){P(this,Ue,ll).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(f(this,Xt).has(e)){f(this,Xt).delete(e),e.unselect(),P(this,Ue,$i).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,Xt).add(e),e.select(),P(this,Ue,ll).call(this,e.propertiesToUpdate),P(this,Ue,$i).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=f(this,Rc))==null||t.commitOrRemove();for(const r of f(this,Xt))r!==e&&r.unselect();f(this,Xt).clear(),f(this,Xt).add(e),e.select(),P(this,Ue,ll).call(this,e.propertiesToUpdate),P(this,Ue,$i).call(this,{hasSelectedEditor:!0})}isSelected(e){return f(this,Xt).has(e)}get firstSelectedEditor(){return f(this,Xt).values().next().value}unselect(e){e.unselect(),f(this,Xt).delete(e),P(this,Ue,$i).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,Xt).size!==0}get isEnterHandled(){return f(this,Xt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;f(this,Oa).undo(),P(this,Ue,$i).call(this,{hasSomethingToUndo:f(this,Oa).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:P(this,Ue,J0).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){f(this,Oa).redo(),P(this,Ue,$i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,Oa).hasSomethingToRedo(),isEmpty:P(this,Ue,J0).call(this)})}addCommands(e){f(this,Oa).add(e),P(this,Ue,$i).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:P(this,Ue,J0).call(this)})}cleanUndoStack(e){f(this,Oa).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...f(this,Xt)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)P(this,Ue,JR).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=f(this,Gs))==null||e.commitOrRemove()}hasSomethingToControl(){return f(this,Gs)||this.hasSelection}selectAll(){for(const e of f(this,Xt))e.commit();P(this,Ue,ZR).call(this,f(this,er).values())}unselectAll(){var e;if(!(f(this,Gs)&&(f(this,Gs).commitOrRemove(),f(this,_r)!==ot.NONE))&&!((e=f(this,Rc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of f(this,Xt))t.unselect();f(this,Xt).clear(),P(this,Ue,$i).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;f(this,Kc)[0]+=e,f(this,Kc)[1]+=t;const[i,s]=f(this,Kc),a=[...f(this,Xt)],o=1e3;f(this,oA)&&clearTimeout(f(this,oA)),_(this,oA,setTimeout(()=>{_(this,oA,null),f(this,Kc)[0]=f(this,Kc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)f(this,er).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)f(this,er).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,iA,new Map);for(const e of f(this,Xt))f(this,iA).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,iA))return!1;this.disableUserSelect(!1);const e=f(this,iA);_(this,iA,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const r=(i,s,a,o)=>{if(f(this,er).has(i.id)){const l=f(this,Rr).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(f(this,iA))for(const r of f(this,iA).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||f(this,Xt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return f(this,Gs)===e}getActive(){return f(this,Gs)}getMode(){return f(this,_r)}isEditingMode(){return f(this,_r)!==ot.NONE}get imageManager(){return st(this,"imageManager",new jR)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,g)=>({x:(d-i)/a,y:1-(u+h-r)/s,width:g/a,height:h/s});break;case"180":o=(u,d,h,g)=>({x:1-(u+h-r)/s,y:1-(d+g-i)/a,width:h/s,height:g/a});break;case"270":o=(u,d,h,g)=>({x:1-(d+g-i)/a,y:(u-r)/s,width:g/a,height:h/s});break;default:o=(u,d,h,g)=>({x:(u-r)/s,y:(d-i)/a,width:h/s,height:g/a});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:g,y:v,width:b,height:C}of h.getClientRects())b===0||C===0||l.push(o(g,v,b,C))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(f(this,hm)||_(this,hm,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=f(this,hm))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=f(this,hm))==null?void 0:i.get(e.data.id);if(!t)return;const r=f(this,ka).getRawValue(t);r&&(f(this,_r)===ot.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var s;const i=(s=f(this,Oc))==null?void 0:s.get(e);i&&(i.setCanvas(t,r),f(this,Oc).delete(e))}addMissingCanvas(e,t){(f(this,Oc)||_(this,Oc,new Map)).set(e,t)}},cm=new WeakMap,Gs=new WeakMap,dm=new WeakMap,er=new WeakMap,Rr=new WeakMap,fm=new WeakMap,ka=new WeakMap,hm=new WeakMap,Oa=new WeakMap,Ni=new WeakMap,Pc=new WeakMap,Rc=new WeakMap,pm=new WeakMap,Dc=new WeakMap,iA=new WeakMap,Ha=new WeakMap,Gf=new WeakMap,wb=new WeakMap,bb=new WeakMap,gm=new WeakMap,Cb=new WeakMap,sA=new WeakMap,Nc=new WeakMap,mm=new WeakMap,Lc=new WeakMap,aA=new WeakMap,p1=new WeakMap,Qc=new WeakMap,vm=new WeakMap,Eb=new WeakMap,kc=new WeakMap,zf=new WeakMap,ym=new WeakMap,Oc=new WeakMap,Bb=new WeakMap,_r=new WeakMap,Xt=new WeakMap,ml=new WeakMap,Hc=new WeakMap,Vc=new WeakMap,Sb=new WeakMap,wm=new WeakMap,xb=new WeakMap,Kc=new WeakMap,oA=new WeakMap,vl=new WeakMap,_b=new WeakMap,Tb=new WeakMap,Va=new WeakMap,Ue=new WeakSet,jx=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},YR=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of f(this,Rr).values())if(r.hasTextLayer(e))return r;return null},J6=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=P(this,Ue,jx).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(f(this,aA)||_(this,aA,new Kce(this)),f(this,aA).show(r,i,this.direction==="ltr"))},Z6=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){f(this,ml)&&((s=f(this,aA))==null||s.hide(),_(this,ml,null),P(this,Ue,$i).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===f(this,ml))return;const i=P(this,Ue,jx).call(this,e).closest(".textLayer");if(!i){f(this,ml)&&((a=f(this,aA))==null||a.hide(),_(this,ml,null),P(this,Ue,$i).call(this,{hasSelectedText:!1}));return}if((o=f(this,aA))==null||o.hide(),_(this,ml,t),P(this,Ue,$i).call(this,{hasSelectedText:!0}),!(f(this,_r)!==ot.HIGHLIGHT&&f(this,_r)!==ot.NONE)&&(f(this,_r)===ot.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,Lc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=f(this,_r)===ot.HIGHLIGHT?P(this,Ue,YR).call(this,i):null;if(l==null||l.toggleDrawing(),f(this,vm)){const u=new AbortController,d=this.combinedSignal(u),h=g=>{g.type==="pointerup"&&g.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),g.type==="pointerup"&&P(this,Ue,X0).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else l==null||l.toggleDrawing(!0),P(this,Ue,X0).call(this,"main_toolbar")}},X0=function(e=""){f(this,_r)===ot.HIGHLIGHT?this.highlightSelection(e):f(this,wb)&&P(this,Ue,J6).call(this)},ej=function(){document.addEventListener("selectionchange",P(this,Ue,Z6).bind(this),{signal:this._signal})},tj=function(){if(f(this,Nc))return;_(this,Nc,new AbortController);const e=this.combinedSignal(f(this,Nc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},nj=function(){var e;(e=f(this,Nc))==null||e.abort(),_(this,Nc,null)},XR=function(){if(f(this,kc))return;_(this,kc,new AbortController);const e=this.combinedSignal(f(this,kc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},rj=function(){var e;(e=f(this,kc))==null||e.abort(),_(this,kc,null)},ij=function(){if(f(this,Pc))return;_(this,Pc,new AbortController);const e=this.combinedSignal(f(this,Pc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},sj=function(){var e;(e=f(this,Pc))==null||e.abort(),_(this,Pc,null)},aj=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},$i=function(e){Object.entries(e).some(([r,i])=>f(this,xb)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,xb),e)}),f(this,_r)===ot.HIGHLIGHT&&e.hasSelectedEditor===!1&&P(this,Ue,ll).call(this,[[_t.HIGHLIGHT_FREE,!0]]))},ll=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},oj=async function(){if(!f(this,Qc)){_(this,Qc,!0);const e=[];for(const t of f(this,Rr).values())e.push(t.enable());await Promise.all(e);for(const t of f(this,er).values())t.enable()}},Aj=function(){if(this.unselectAll(),f(this,Qc)){_(this,Qc,!1);for(const e of f(this,Rr).values())e.disable();for(const e of f(this,er).values())e.disable()}},JR=function(e){const t=f(this,Rr).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},lj=function(){let e=null;for(e of f(this,Xt));return e},J0=function(){if(f(this,er).size===0)return!0;if(f(this,er).size===1)for(const e of f(this,er).values())return e.isEmpty();return!1},ZR=function(e){for(const t of f(this,Xt))t.unselect();f(this,Xt).clear();for(const t of e)t.isEmpty()||(f(this,Xt).add(t),t.select());P(this,Ue,$i).call(this,{hasSelectedEditor:this.hasSelection})},be(cu,"TRANSLATE_SMALL",1),be(cu,"TRANSLATE_BIG",10),cu);var Yr,AA,bo,bm,lA,zs,Cm,uA,ms,yl,qf,cA,Gc,Qo,Z0,Wx;const ji=class ji{constructor(e){M(this,Qo);M(this,Yr,null);M(this,AA,!1);M(this,bo,null);M(this,bm,null);M(this,lA,null);M(this,zs,null);M(this,Cm,!1);M(this,uA,null);M(this,ms,null);M(this,yl,null);M(this,qf,null);M(this,cA,!1);_(this,ms,e),_(this,cA,e._uiManager.useNewAltTextFlow),f(ji,Gc)||_(ji,Gc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ji._l10n??(ji._l10n=e)}async render(){const e=_(this,bo,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=_(this,bm,document.createElement("span"));e.append(t),f(this,cA)?(e.classList.add("new"),e.setAttribute("data-l10n-id",f(ji,Gc).missing),t.setAttribute("data-l10n-id",f(ji,Gc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=f(this,ms)._uiManager._signal;e.addEventListener("contextmenu",oo,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),f(this,ms)._uiManager.editAltText(f(this,ms)),f(this,cA)&&f(this,ms)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,Qo,Z0)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,Cm,!0),i(s))},{signal:r}),await P(this,Qo,Wx).call(this),e}finish(){f(this,bo)&&(f(this,bo).focus({focusVisible:f(this,Cm)}),_(this,Cm,!1))}isEmpty(){return f(this,cA)?f(this,Yr)===null:!f(this,Yr)&&!f(this,AA)}hasData(){return f(this,cA)?f(this,Yr)!==null||!!f(this,yl):this.isEmpty()}get guessedText(){return f(this,yl)}async setGuessedText(e){f(this,Yr)===null&&(_(this,yl,e),_(this,qf,await ji._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),P(this,Qo,Wx).call(this))}toggleAltTextBadge(e=!1){var t;if(!f(this,cA)||f(this,Yr)){(t=f(this,uA))==null||t.remove(),_(this,uA,null);return}if(!f(this,uA)){const r=_(this,uA,document.createElement("div"));r.className="noAltTextBadge",f(this,ms).div.append(r)}f(this,uA).classList.toggle("hidden",!e)}serialize(e){let t=f(this,Yr);return!e&&f(this,yl)===t&&(t=f(this,qf)),{altText:t,decorative:f(this,AA),guessedText:f(this,yl),textWithDisclaimer:f(this,qf)}}get data(){return{altText:f(this,Yr),decorative:f(this,AA)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(_(this,yl,r),_(this,qf,i)),!(f(this,Yr)===e&&f(this,AA)===t)&&(s||(_(this,Yr,e),_(this,AA,t)),P(this,Qo,Wx).call(this))}toggle(e=!1){f(this,bo)&&(!e&&f(this,zs)&&(clearTimeout(f(this,zs)),_(this,zs,null)),f(this,bo).disabled=!e)}shown(){f(this,ms)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,Qo,Z0)}})}destroy(){var e,t;(e=f(this,bo))==null||e.remove(),_(this,bo,null),_(this,bm,null),_(this,lA,null),(t=f(this,uA))==null||t.remove(),_(this,uA,null)}};Yr=new WeakMap,AA=new WeakMap,bo=new WeakMap,bm=new WeakMap,lA=new WeakMap,zs=new WeakMap,Cm=new WeakMap,uA=new WeakMap,ms=new WeakMap,yl=new WeakMap,qf=new WeakMap,cA=new WeakMap,Gc=new WeakMap,Qo=new WeakSet,Z0=function(){return f(this,Yr)&&"added"||f(this,Yr)===null&&this.guessedText&&"review"||"missing"},Wx=async function(){var i,s,a;const e=f(this,bo);if(!e)return;if(f(this,cA)){if(e.classList.toggle("done",!!f(this,Yr)),e.setAttribute("data-l10n-id",f(ji,Gc)[f(this,Qo,Z0)]),(i=f(this,bm))==null||i.setAttribute("data-l10n-id",f(ji,Gc)[`${f(this,Qo,Z0)}-label`]),!f(this,Yr)){(s=f(this,lA))==null||s.remove();return}}else{if(!f(this,Yr)&&!f(this,AA)){e.classList.remove("done"),(a=f(this,lA))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=f(this,lA);if(!t){_(this,lA,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${f(this,ms).id}`;const o=100,l=f(this,ms)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(f(this,zs)),_(this,zs,null)},{once:!0}),e.addEventListener("mouseenter",()=>{_(this,zs,setTimeout(()=>{_(this,zs,null),f(this,lA).classList.add("show"),f(this,ms)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;f(this,zs)&&(clearTimeout(f(this,zs)),_(this,zs,null)),(u=f(this,lA))==null||u.classList.remove("show")},{signal:l})}f(this,AA)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=f(this,Yr)),t.parentNode||e.append(t);const r=f(this,ms).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},M(ji,Gc,null),be(ji,"_l10n",null);let eT=ji;var pi,Ka,$f,xn,Ib,jf,Co,Wf,Yf,Xf,Fb,eD;class kS{constructor(e){M(this,Fb);M(this,pi,null);M(this,Ka,null);M(this,$f,!1);M(this,xn,null);M(this,Ib,null);M(this,jf,null);M(this,Co,null);M(this,Wf,null);M(this,Yf,!1);M(this,Xf,null);_(this,xn,e)}renderForToolbar(){const e=_(this,Ka,document.createElement("button"));return e.className="comment",P(this,Fb,eD).call(this,e,!1)}renderForStandalone(){const e=_(this,pi,document.createElement("button"));e.className="annotationCommentButton";const t=f(this,xn).commentButtonPosition;if(t){const{style:r}=e;r.insetInlineEnd=`calc(${100*(f(this,xn)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=f(this,xn).commentButtonColor;i&&(r.backgroundColor=i)}return P(this,Fb,eD).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=f(this,pi)??f(this,Ka))==null||e.focus()},0)}onUpdatedColor(){if(!f(this,pi))return;const e=f(this,xn).commentButtonColor;e&&(f(this,pi).style.backgroundColor=e),f(this,xn)._uiManager.updatePopupColor(f(this,xn))}get commentButtonWidth(){var e;return(((e=f(this,pi))==null?void 0:e.getBoundingClientRect().width)??0)/f(this,xn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(f(this,Xf))return f(this,Xf);if(!f(this,pi))return null;const{x:e,y:t,height:r}=f(this,pi).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=f(this,xn).parent.boundingClientRect;return[(e-i)/a,(t+r-s)/o]}set commentPopupPositionInLayer(e){_(this,Xf,e)}hasDefaultPopupPosition(){return f(this,Xf)===null}removeStandaloneCommentButton(){var e;(e=f(this,pi))==null||e.remove(),_(this,pi,null)}removeToolbarCommentButton(){var e;(e=f(this,Ka))==null||e.remove(),_(this,Ka,null)}setCommentButtonStates({selected:e,hasPopup:t}){f(this,pi)&&(f(this,pi).classList.toggle("selected",e),f(this,pi).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let r,i;if(t)[r,i]=t;else{[r,i]=f(this,xn).commentButtonPosition;const{width:d,height:h,x:g,y:v}=f(this,xn);r=g+r*d,i=v+i*h}const s=f(this,xn).parent.boundingClientRect,{x:a,y:o,width:l,height:u}=s;f(this,xn)._uiManager.editComment(f(this,xn),a+r*l,o+i*u,{...e,parentDimensions:s})}finish(){f(this,Ka)&&(f(this,Ka).focus({focusVisible:f(this,$f)}),_(this,$f,!1))}isDeleted(){return f(this,Yf)||f(this,Co)===""}isEmpty(){return f(this,Co)===null}hasBeenEdited(){return this.isDeleted()||f(this,Co)!==f(this,Ib)}serialize(){return this.data}get data(){return{text:f(this,Co),richText:f(this,jf),date:f(this,Wf),deleted:this.isDeleted()}}set data(e){if(e!==f(this,Co)&&_(this,jf,null),e===null){_(this,Co,""),_(this,Yf,!0);return}_(this,Co,e),_(this,Wf,new Date),_(this,Yf,!1)}setInitialText(e,t=null){_(this,Ib,e),this.data=e,_(this,Wf,null),_(this,jf,t)}shown(){}destroy(){var e,t;(e=f(this,Ka))==null||e.remove(),_(this,Ka,null),(t=f(this,pi))==null||t.remove(),_(this,pi,null),_(this,Co,""),_(this,jf,null),_(this,Wf,null),_(this,xn,null),_(this,$f,!1),_(this,Yf,!1)}}pi=new WeakMap,Ka=new WeakMap,$f=new WeakMap,xn=new WeakMap,Ib=new WeakMap,jf=new WeakMap,Co=new WeakMap,Wf=new WeakMap,Yf=new WeakMap,Xf=new WeakMap,Fb=new WeakSet,eD=function(e,t){if(!f(this,xn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[f(this,xn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=f(this,xn)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",oo,{signal:r}),t&&(e.addEventListener("focusin",s=>{f(this,xn)._focusEventsAllowed=!1,or(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{f(this,xn)._focusEventsAllowed=!0,or(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===f(this,Ka)?this.edit():f(this,xn).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,$f,!0),i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{f(this,xn).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{f(this,xn).toggleComment(!1,!1)},{signal:r}),e};var Em,Jf,Mb,Ub,Pb,Rb,Db,wl,Zf,bl,eh,Cl,Jd,cj,dj,fj,Bm;let uj=(Bm=class{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){M(this,Jd);M(this,Em);M(this,Jf,!1);M(this,Mb,null);M(this,Ub);M(this,Pb);M(this,Rb);M(this,Db);M(this,wl,null);M(this,Zf);M(this,bl,null);M(this,eh);M(this,Cl,null);_(this,Em,e),_(this,Mb,r),_(this,Ub,t),_(this,Pb,i),_(this,Rb,s),_(this,Db,a),_(this,eh,new AbortController),_(this,Zf,AbortSignal.any([o,f(this,eh).signal])),e.addEventListener("touchstart",P(this,Jd,cj).bind(this),{passive:!1,signal:f(this,Zf)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/bp.pixelRatio}destroy(){var e,t;(e=f(this,eh))==null||e.abort(),_(this,eh,null),(t=f(this,wl))==null||t.abort(),_(this,wl,null)}},Em=new WeakMap,Jf=new WeakMap,Mb=new WeakMap,Ub=new WeakMap,Pb=new WeakMap,Rb=new WeakMap,Db=new WeakMap,wl=new WeakMap,Zf=new WeakMap,bl=new WeakMap,eh=new WeakMap,Cl=new WeakMap,Jd=new WeakSet,cj=function(e){var i,s,a;if((i=f(this,Ub))!=null&&i.call(this))return;if(e.touches.length===1){if(f(this,wl))return;const o=_(this,wl,new AbortController),l=AbortSignal.any([f(this,Zf),o.signal]),u=f(this,Em),d={capture:!0,signal:l,passive:!1},h=g=>{var v;g.pointerType==="touch"&&((v=f(this,wl))==null||v.abort(),_(this,wl,null))};u.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(or(g),h(g))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!f(this,Cl)){_(this,Cl,new AbortController);const o=AbortSignal.any([f(this,Zf),f(this,Cl).signal]),l=f(this,Em),u={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",P(this,Jd,dj).bind(this),u);const d=P(this,Jd,fj).bind(this);l.addEventListener("touchend",d,u),l.addEventListener("touchcancel",d,u),u.capture=!0,l.addEventListener("pointerdown",or,u),l.addEventListener("pointermove",or,u),l.addEventListener("pointercancel",or,u),l.addEventListener("pointerup",or,u),(s=f(this,Pb))==null||s.call(this)}if(or(e),e.touches.length!==2||(a=f(this,Mb))!=null&&a.call(this)){_(this,bl,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),_(this,bl,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},dj=function(e){var R;if(!f(this,bl)||e.touches.length!==2)return;or(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=r,l=f(this,bl),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:g}=l,v=h-u,b=g-d,C=a-i,B=o-s,S=Math.hypot(C,B)||1,I=Math.hypot(v,b)||1;if(!f(this,Jf)&&Math.abs(I-S)<=Bm.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!f(this,Jf)){_(this,Jf,!0);return}const T=[(i+a)/2,(s+o)/2];(R=f(this,Rb))==null||R.call(this,T,I,S)},fj=function(e){var t;e.touches.length>=2||(f(this,Cl)&&(f(this,Cl).abort(),_(this,Cl,null),(t=f(this,Db))==null||t.call(this)),f(this,bl)&&(or(e),_(this,bl,null),_(this,Jf,!1)))},Bm);var th,Eo,On,vn,El,Sm,zc,Nb,gi,nh,Bl,Ga,qc,Lb,rh,qs,Qb,ih,Sl,dA,xm,_m,za,sh,kb,g1,Ze,tD,Ob,nD,Yx,hj,pj,rD,Xx,iD,gj,mj,vj,sD,yj,aD,wj,bj,Cj,oD,ew;const at=class at{constructor(e){M(this,Ze);M(this,th,null);M(this,Eo,null);M(this,On,null);M(this,vn,null);M(this,El,null);M(this,Sm,!1);M(this,zc,null);M(this,Nb,"");M(this,gi,null);M(this,nh,null);M(this,Bl,null);M(this,Ga,null);M(this,qc,null);M(this,Lb,"");M(this,rh,!1);M(this,qs,null);M(this,Qb,!1);M(this,ih,!1);M(this,Sl,!1);M(this,dA,null);M(this,xm,0);M(this,_m,0);M(this,za,null);M(this,sh,null);be(this,"isSelected",!1);be(this,"_isCopy",!1);be(this,"_editToolbar",null);be(this,"_initialOptions",Object.create(null));be(this,"_initialData",null);be(this,"_isVisible",!0);be(this,"_uiManager",null);be(this,"_focusEventsAllowed",!0);M(this,kb,!1);M(this,g1,at._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=at.prototype._resizeWithKeyboard,t=$w.TRANSLATE_SMALL,r=$w.TRANSLATE_BIG;return st(this,"_resizerKeyboardManager",new WE([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],at.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return st(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new qce({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(at._l10n??(at._l10n=e),at._l10nResizer||(at._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),at._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);at._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Cn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,kb)}set _isDraggable(e){var t;_(this,kb,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,g1)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(P(this,Ze,ew).call(this),(t=f(this,Ga))==null||t.remove(),_(this,Ga,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(f(this,rh)?_(this,rh,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}translate(e,t){P(this,Ze,tD).call(this,this.parentDimensions,e,t)}translateInPage(e,t){f(this,qs)||_(this,qs,[this.x,this.y,this.width,this.height]),P(this,Ze,tD).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){f(this,qs)||_(this,qs,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:d}=r;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!f(this,qs)&&(f(this,qs)[0]!==this.x||f(this,qs)[1]!==this.y)}get _hasBeenResized(){return!!f(this,qs)&&(f(this,qs)[2]!==this.width||f(this,qs)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=at,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=ts(s,0,r-o),a=ts(a,0,i-l);break;case 90:s=ts(s,0,r-l),a=ts(a,o,i);break;case 180:s=ts(s,o,r),a=ts(a,l,i);break;case 270:s=ts(s,l,r),a=ts(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[u,d]=this.getBaseTranslation();s+=u,a+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return P(r=at,Ob,nD).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return P(r=at,Ob,nD).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(){const{div:{style:e},width:t,height:r}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=f(this,On))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||f(this,ih))return this._editToolbar;this._editToolbar=new qR(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=f(this,On))==null||t.destroy()}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return f(this,On)||(eT.initialize(at._l10n),_(this,On,new eT(this)),f(this,th)&&(f(this,On).data=f(this,th),_(this,th,null))),f(this,On)}get altTextData(){var e;return(e=f(this,On))==null?void 0:e.data}set altTextData(e){f(this,On)&&(f(this,On).data=e)}get guessedAltText(){var e;return(e=f(this,On))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=f(this,On))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=f(this,On))==null?void 0:t.serialize(e)}hasAltText(){return!!f(this,On)&&!f(this,On).isEmpty()}hasAltTextData(){var e;return((e=f(this,On))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=f(this,vn))==null||e.focusButton()}addCommentButton(){return this.canAddComment?f(this,vn)||_(this,vn,new kS(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(f(this,El)){this._uiManager.isEditingMode()&&f(this,El).classList.remove("hidden");return}this.hasComment&&(_(this,El,f(this,vn).renderForStandalone()),this.div.append(f(this,El)))}}removeStandaloneCommentButton(){f(this,vn).removeStandaloneCommentButton(),_(this,El,null)}hideStandaloneCommentButton(){var e;(e=f(this,El))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:r,deleted:i}}=f(this,vn);return{text:t,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){f(this,vn)||_(this,vn,new kS(this)),f(this,vn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:r}){if(!t||(f(this,vn)||_(this,vn,new kS(this)),f(this,vn).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=f(this,vn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=f(this,vn))==null?void 0:e.isDeleted()}get hasComment(){return!!f(this,vn)&&!f(this,vn).isEmpty()&&!f(this,vn).isDeleted()}async editComment(e){f(this,vn)||_(this,vn,new kS(this)),f(this,vn).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){f(this,vn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,u=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,u,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){f(this,vn).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=f(this,Sm)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),P(this,Ze,aD).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),Y6(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(f(this,sh)||_(this,sh,new uj({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:P(this,Ze,gj).bind(this),onPinching:P(this,Ze,mj).bind(this),onPinchEnd:P(this,Ze,vj).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=Ii.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(_(this,rh,!0),this._isDraggable){P(this,Ze,yj).call(this,e);return}P(this,Ze,sD).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){f(this,dA)&&clearTimeout(f(this,dA)),_(this,dA,setTimeout(()=>{var e;_(this,dA,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,d=t/i,h=this.x*s,g=this.y*a,v=this.width*s,b=this.height*a;switch(r){case 0:return[h+u+o,a-g-d-b+l,h+u+v+o,a-g-d+l];case 90:return[h+d+o,a-g+u+l,h+d+b+o,a-g+u+v+l];case 180:return[h-u-v+o,a-g+d+l,h-u+o,a-g+d+b+l];case 270:return[h-d-b+o,a-g-u-v+l,h-d+o,a-g-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,t-a,o,l];case 90:return[r,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&at._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=f(this,vn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:u,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:u,modificationDate:r||d,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),_(this,ih,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),_(this,ih,!1),!0):!1}isInEditMode(){return f(this,ih)}shouldGetKeyboardEvents(){return f(this,Sl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&r>0}rebuild(){P(this,Ze,aD).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,_(i,th,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,u,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=u/s,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,r;if((e=f(this,qc))==null||e.abort(),_(this,qc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),f(this,dA)&&(clearTimeout(f(this,dA)),_(this,dA,null)),P(this,Ze,ew).call(this),this.removeEditToolbar(),f(this,za)){for(const i of f(this,za).values())clearTimeout(i);_(this,za,null)}this.parent=null,(t=f(this,sh))==null||t.destroy(),_(this,sh,null),(r=f(this,Ga))==null||r.remove(),_(this,Ga,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(P(this,Ze,hj).call(this),f(this,gi).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[r,i,s,a]=this.getPDFRect();return[at._round(r+(s-r)*e),at._round(i+(a-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return f(this,vn).commentPopupPositionInLayer}set commentPopupPosition(e){f(this,vn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return f(this,vn).hasDefaultPopupPosition()}get commentButtonWidth(){return f(this,vn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=f(this,vn))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),_(this,Bl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=f(this,gi).children;if(!f(this,Eo)){_(this,Eo,Array.from(t));const a=P(this,Ze,wj).bind(this),o=P(this,Ze,bj).bind(this),l=this._uiManager._signal;for(const u of f(this,Eo)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",P(this,Ze,Cj).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",at._l10nResizer[d])}}const r=f(this,Eo)[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(f(this,Eo).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)f(this,gi).append(f(this,gi).firstElementChild);else if(s>i)for(let o=0;o<s-i;o++)f(this,gi).firstElementChild.before(f(this,gi).lastElementChild);let a=0;for(const o of t){const u=f(this,Eo)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",at._l10nResizer[u])}}P(this,Ze,oD).call(this,0),_(this,Sl,!0),f(this,gi).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){f(this,Sl)&&P(this,Ze,iD).call(this,f(this,Lb),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){P(this,Ze,ew).call(this),this.div.focus()}select(){var e,t,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=f(this,On))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,r,i,s;this.isSelected&&(this.isSelected=!1,(e=f(this,gi))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=f(this,On))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return f(this,Qb)}set isEditing(e){_(this,Qb,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){f(this,za)||_(this,za,new Map);const{action:r}=e;let i=f(this,za).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),f(this,za).delete(r),f(this,za).size===0&&_(this,za,null)},at._telemetryTimeout),f(this,za).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),_(this,Sm,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,Sm,!0)}updateFakeAnnotationElement(e){if(!f(this,Ga)&&!this.deleted){_(this,Ga,e.addFakeAnnotation(this));return}if(this.deleted){f(this,Ga).remove(),_(this,Ga,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&f(this,Ga).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};th=new WeakMap,Eo=new WeakMap,On=new WeakMap,vn=new WeakMap,El=new WeakMap,Sm=new WeakMap,zc=new WeakMap,Nb=new WeakMap,gi=new WeakMap,nh=new WeakMap,Bl=new WeakMap,Ga=new WeakMap,qc=new WeakMap,Lb=new WeakMap,rh=new WeakMap,qs=new WeakMap,Qb=new WeakMap,ih=new WeakMap,Sl=new WeakMap,dA=new WeakMap,xm=new WeakMap,_m=new WeakMap,za=new WeakMap,sh=new WeakMap,kb=new WeakMap,g1=new WeakMap,Ze=new WeakSet,tD=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Ob=new WeakSet,nD=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Yx=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},hj=function(){if(f(this,gi))return;_(this,gi,document.createElement("div")),f(this,gi).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");f(this,gi).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",P(this,Ze,pj).bind(this,r),{signal:t}),i.addEventListener("contextmenu",oo,{signal:t}),i.tabIndex=-1}this.div.prepend(f(this,gi))},pj=function(e,t){var d;t.preventDefault();const{isMac:r}=Ii.platform;if(t.button!==0||t.ctrlKey&&r)return;(d=f(this,On))==null||d.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,_(this,nh,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",P(this,Ze,iD).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",or,{passive:!1,signal:a}),window.addEventListener("contextmenu",oo,{signal:a}),_(this,Bl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=f(this,On))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,P(this,Ze,Xx).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},rD=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Xx=function(){if(!f(this,Bl))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=f(this,Bl);_(this,Bl,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===r&&l===i||this.addCommands({cmd:P(this,Ze,rD).bind(this,s,a,o,l),undo:P(this,Ze,rD).bind(this,e,t,r,i),mustExec:!0})},iD=function(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=at.MIN_SIZE/r,d=at.MIN_SIZE/i,h=P(this,Ze,Yx).call(this,this.rotation),g=(V,j)=>[h[0]*V+h[2]*j,h[1]*V+h[3]*j],v=P(this,Ze,Yx).call(this,360-this.rotation),b=(V,j)=>[v[0]*V+v[2]*j,v[1]*V+v[3]*j];let C,B,S=!1,I=!1;switch(e){case"topLeft":S=!0,C=(V,j)=>[0,0],B=(V,j)=>[V,j];break;case"topMiddle":C=(V,j)=>[V/2,0],B=(V,j)=>[V/2,j];break;case"topRight":S=!0,C=(V,j)=>[V,0],B=(V,j)=>[0,j];break;case"middleRight":I=!0,C=(V,j)=>[V,j/2],B=(V,j)=>[0,j/2];break;case"bottomRight":S=!0,C=(V,j)=>[V,j],B=(V,j)=>[0,0];break;case"bottomMiddle":C=(V,j)=>[V/2,j],B=(V,j)=>[V/2,0];break;case"bottomLeft":S=!0,C=(V,j)=>[0,j],B=(V,j)=>[V,0];break;case"middleLeft":I=!0,C=(V,j)=>[0,j/2],B=(V,j)=>[V,j/2];break}const T=C(o,l),R=B(o,l);let U=g(...R);const D=at._round(s+U[0]),L=at._round(a+U[1]);let H=1,k=1,G,K;if(t.fromKeyboard)({deltaX:G,deltaY:K}=t);else{const{screenX:V,screenY:j}=t,[re,he]=f(this,nh);[G,K]=this.screenToPageTranslation(V-re,j-he),f(this,nh)[0]=V,f(this,nh)[1]=j}if([G,K]=b(G/r,K/i),S){const V=Math.hypot(o,l);H=k=Math.max(Math.min(Math.hypot(R[0]-T[0]-G,R[1]-T[1]-K)/V,1/o,1/l),u/o,d/l)}else I?H=ts(Math.abs(R[0]-T[0]-G),u,1)/o:k=ts(Math.abs(R[1]-T[1]-K),d,1)/l;const z=at._round(o*H),J=at._round(l*k);U=g(...B(z,J));const Y=D-U[0],ge=L-U[1];f(this,qs)||_(this,qs,[this.x,this.y,this.width,this.height]),this.width=z,this.height=J,this.x=Y,this.y=ge,this.setDims(),this.fixAndSetPosition(),this._onResizing()},gj=function(){var e;_(this,Bl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=f(this,On))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},mj=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const a=P(this,Ze,Yx).call(this,this.rotation),o=(D,L)=>[a[0]*D+a[2]*L,a[1]*D+a[3]*L],[l,u]=this.parentDimensions,d=this.x,h=this.y,g=this.width,v=this.height,b=at.MIN_SIZE/l,C=at.MIN_SIZE/u;s=Math.max(Math.min(s,1/g,1/v),b/g,C/v);const B=at._round(g*s),S=at._round(v*s);if(B===g&&S===v)return;f(this,qs)||_(this,qs,[d,h,g,v]);const I=o(g/2,v/2),T=at._round(d+I[0]),R=at._round(h+I[1]),U=o(B/2,S/2);this.x=T-U[0],this.y=R-U[1],this.width=B,this.height=S,this.setDims(),this.fixAndSetPosition(),this._onResizing()},vj=function(){var e;(e=f(this,On))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),P(this,Ze,Xx).call(this)},sD=function(e){const{isMac:t}=Ii.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},yj=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=u=>{i.abort(),_(this,zc,null),_(this,rh,!1),this._uiManager.endDragSession()||P(this,Ze,sD).call(this,u),r&&this._onStopDragging()};t&&(_(this,xm,e.clientX),_(this,_m,e.clientY),_(this,zc,e.pointerId),_(this,Nb,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:g}=u;if(g!==f(this,zc)){or(u);return}const[v,b]=this.screenToPageTranslation(d-f(this,xm),h-f(this,_m));_(this,xm,d),_(this,_m,h),this._uiManager.dragSelectedEditors(v,b)},a),window.addEventListener("touchmove",or,a),window.addEventListener("pointerdown",u=>{u.pointerType===f(this,Nb)&&(f(this,sh)||u.isPrimary)&&o(u),or(u)},a));const l=u=>{if(!f(this,zc)||f(this,zc)===u.pointerId){o(u);return}or(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},aD=function(){if(f(this,qc)||!this.div)return;_(this,qc,new AbortController);const e=this._uiManager.combinedSignal(f(this,qc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},wj=function(e){at._resizerKeyboardManager.exec(this,e)},bj=function(e){var t;f(this,Sl)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==f(this,gi)&&P(this,Ze,ew).call(this)},Cj=function(e){_(this,Lb,f(this,Sl)?e:"")},oD=function(e){if(f(this,Eo))for(const t of f(this,Eo))t.tabIndex=e},ew=function(){_(this,Sl,!1),P(this,Ze,oD).call(this,-1),P(this,Ze,Xx).call(this)},M(at,Ob),be(at,"_l10n",null),be(at,"_l10nResizer",null),be(at,"_borderLineWidth",-1),be(at,"_colorManager",new WR),be(at,"_zIndex",1),be(at,"_telemetryTimeout",1e3);let In=at;class qce extends In{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const BK=3285377520,Ma=4294901760,eA=65535;class Ej{constructor(e){this.h1=e?e&4294967295:BK,this.h2=e?e&4294967295:BK}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let C=0,B=e.length;C<B;C++){const S=e.charCodeAt(C);S<=255?t[r++]=S:(t[r++]=S>>>8,t[r++]=S&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,u=this.h1,d=this.h2;const h=3432918353,g=461845907,v=h&eA,b=g&eA;for(let C=0;C<i;C++)C&1?(o=a[C],o=o*h&Ma|o*v&eA,o=o<<15|o>>>17,o=o*g&Ma|o*b&eA,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[C],l=l*h&Ma|l*v&eA,l=l<<15|l>>>17,l=l*g&Ma|l*b&eA,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*h&Ma|o*v&eA,o=o<<15|o>>>17,o=o*g&Ma|o*b&eA,i&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ma|e*36045&eA,t=t*4283543511&Ma|((t<<16|e>>>16)*2950163797&Ma)>>>16,e^=t>>>1,e=e*444984403&Ma|e*60499&eA,t=t*3301882366&Ma|((t<<16|e>>>16)*3120437893&Ma)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const AD=Object.freeze({map:null,hash:"",transfer:void 0});var ah,oh,xl,mi,m1,Bj;class kQ{constructor(){M(this,m1);M(this,ah,!1);M(this,oh,null);M(this,xl,null);M(this,mi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=f(this,mi).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return f(this,mi).get(e)}remove(e){const t=f(this,mi).get(e);if(t!==void 0&&(t instanceof In&&f(this,xl).delete(t.annotationElementId),f(this,mi).delete(e),f(this,mi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of f(this,mi).values())if(r instanceof In)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=f(this,mi).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,f(this,mi).set(e,t);i&&P(this,m1,Bj).call(this),t instanceof In&&((f(this,xl)||_(this,xl,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return f(this,mi).has(e)}get size(){return f(this,mi).size}resetModified(){f(this,ah)&&(_(this,ah,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Sj(this)}get serializable(){if(f(this,mi).size===0)return AD;const e=new Map,t=new Ej,r=[],i=Object.create(null);let s=!1;for(const[a,o]of f(this,mi)){const l=o instanceof In?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:AD}get editorStats(){let e=null;const t=new Map;let r=0,i=0;for(const s of f(this,mi).values()){if(!(s instanceof In)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(a)){if(u==="type")continue;let h=l.get(u);h||(h=new Map,l.set(u,h));const g=h.get(d)??0;h.set(d,g+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){_(this,oh,null)}updateEditor(e,t){var i;const r=(i=f(this,xl))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=f(this,xl))==null?void 0:t.get(e))||null}get modifiedIds(){if(f(this,oh))return f(this,oh);const e=[];if(f(this,xl))for(const t of f(this,xl).values())t.serialize()&&e.push(t.annotationElementId);return _(this,oh,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return f(this,mi).entries()}}ah=new WeakMap,oh=new WeakMap,xl=new WeakMap,mi=new WeakMap,m1=new WeakSet,Bj=function(){f(this,ah)||(_(this,ah,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Hb;class Sj extends kQ{constructor(t){super();M(this,Hb);const{map:r,hash:i,transfer:s}=t.serializable,a=structuredClone(r,s?{transfer:s}:null);_(this,Hb,{map:a,hash:i,transfer:s})}get print(){Cn("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,Hb)}get modifiedIds(){return st(this,"modifiedIds",{ids:new Set,hash:""})}}Hb=new WeakMap;var Tm;class $ce{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){M(this,Tm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),f(this,Tm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||f(this,Tm).has(e.loadedName))){if(Tt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),f(this,Tm).add(i),r==null||r(e)}catch{it(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Cn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw it(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return st(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return st(this,"isSyncFontLoadingSupported",es||Ii.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Tt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return st(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(R,U){return R.charCodeAt(U)<<24|R.charCodeAt(U+1)<<16|R.charCodeAt(U+2)<<8|R.charCodeAt(U+3)&255}function i(R,U,D,L){const H=R.substring(0,U),k=R.substring(U+D);return H+L+k}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(R,U){if(++u>30){it("Load test font never loaded."),U();return}if(l.font="30px "+R,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){U();return}setTimeout(d.bind(null,R,U))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,h.length,h);const b=16,C=1482184792;let B=r(g,b);for(s=0,a=h.length-3;s<a;s+=4)B=B-C+r(h,s)|0;s<h.length&&(B=B-C+r(h+"XXX",s)|0),g=i(g,b,4,_ce(B));const S=`url(data:font/opentype;base64,${btoa(g)});`,I=`@font-face {font-family:"${h}";src:${S}}`;this.insertRule(I);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const R of[e.loadedName,h]){const U=this._document.createElement("span");U.textContent="Hi",U.style.fontFamily=R,T.append(U)}this._document.body.append(T),d(h,()=>{T.remove(),t.complete()})}}Tm=new WeakMap;var un;class jce{constructor(e,t=null,r,i){M(this,un);this.compiledGlyphs=Object.create(null),_(this,un,e),this._inspectFont=t,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${H6(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(a){it(`getPathGenerator - ignoring character: "${a}".`)}const s=G6(i);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}get black(){return f(this,un).black}get bold(){return f(this,un).bold}get disableFontFace(){return f(this,un).disableFontFace??!1}set disableFontFace(e){st(this,"disableFontFace",!!e)}get fontExtraProperties(){return f(this,un).fontExtraProperties??!1}get isInvalidPDFjsFont(){return f(this,un).isInvalidPDFjsFont}get isType3Font(){return f(this,un).isType3Font}get italic(){return f(this,un).italic}get missingFile(){return f(this,un).missingFile}get remeasure(){return f(this,un).remeasure}get vertical(){return f(this,un).vertical}get ascent(){return f(this,un).ascent}get defaultWidth(){return f(this,un).defaultWidth}get descent(){return f(this,un).descent}get bbox(){return f(this,un).bbox}set bbox(e){st(this,"bbox",e)}get fontMatrix(){return f(this,un).fontMatrix}get fallbackName(){return f(this,un).fallbackName}get loadedName(){return f(this,un).loadedName}get mimetype(){return f(this,un).mimetype}get name(){return f(this,un).name}get data(){return f(this,un).data}clearData(){f(this,un).clearData()}get cssFontInfo(){return f(this,un).cssFontInfo}get systemFontInfo(){return f(this,un).systemFontInfo}get defaultVMetrics(){return f(this,un).defaultVMetrics}}un=new WeakMap;var Im,Fm,Vb,Mm,Jx;const $g=class $g{constructor(e){M(this,Mm);M(this,Im);M(this,Fm);M(this,Vb);_(this,Im,e),_(this,Fm,new DataView(f(this,Im))),_(this,Vb,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const u of $g.strings){const d=t.encode(e[u]);r[u]=d,i+=4+d.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const u of $g.strings){const d=r[u],h=d.length;o.setUint32(l,h),a.set(d,l+4),l+=4+h}return Tt(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return P(this,Mm,Jx).call(this,0)}get fontWeight(){return P(this,Mm,Jx).call(this,1)}get italicAngle(){return P(this,Mm,Jx).call(this,2)}};Im=new WeakMap,Fm=new WeakMap,Vb=new WeakMap,Mm=new WeakSet,Jx=function(e){Tt(e<$g.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=f(this,Fm).getUint32(t)+4;const r=f(this,Fm).getUint32(t);return f(this,Vb).decode(new Uint8Array(f(this,Im),t+4,r))},be($g,"strings",["fontFamily","fontWeight","italicAngle"]);let tT=$g;var $c,fA,Ah,lh,tw;const jg=class jg{constructor(e){M(this,lh);M(this,$c);M(this,fA);M(this,Ah);_(this,$c,e),_(this,fA,new DataView(f(this,$c))),_(this,Ah,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const g of jg.strings){const v=t.encode(e[g]);r[g]=v,i+=4+v.length}i+=4;let s,a,o=1+i;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,i=0;for(const g of jg.strings){const v=r[g],b=v.length;i+=4+b,d.setUint32(h,b),u.set(v,h+4),h+=4+b}return d.setUint32(h-i-4,i),e.style&&(d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),u.set(a,h+4),h+=4+a.length),Tt(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return f(this,fA).getUint8(0)!==0}get css(){return P(this,lh,tw).call(this,0)}get loadedName(){return P(this,lh,tw).call(this,1)}get baseFontName(){return P(this,lh,tw).call(this,2)}get src(){return P(this,lh,tw).call(this,3)}get style(){let e=1;e+=4+f(this,fA).getUint32(e);const t=f(this,fA).getUint32(e),r=f(this,Ah).decode(new Uint8Array(f(this,$c),e+4,t));e+=4+t;const i=f(this,fA).getUint32(e),s=f(this,Ah).decode(new Uint8Array(f(this,$c),e+4,i));return{style:r,weight:s}}};$c=new WeakMap,fA=new WeakMap,Ah=new WeakMap,lh=new WeakSet,tw=function(e){Tt(e<jg.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=f(this,fA).getUint32(t)+4;const r=f(this,fA).getUint32(t);return f(this,Ah).decode(new Uint8Array(f(this,$c),t+4,r))},be(jg,"strings",["css","loadedName","baseFontName","src"]);let nT=jg;var Um,Pm,Rm,Dm,$s,hA,Kb,cn,ar,yo,Zx,nw;const lt=class lt{constructor({data:e,extra:t}){M(this,ar);M(this,hA);M(this,Kb);M(this,cn);_(this,hA,e),_(this,Kb,new TextDecoder),_(this,cn,new DataView(f(this,hA))),t&&Object.assign(this,t)}get black(){return P(this,ar,yo).call(this,0)}get bold(){return P(this,ar,yo).call(this,1)}get disableFontFace(){return P(this,ar,yo).call(this,2)}get fontExtraProperties(){return P(this,ar,yo).call(this,3)}get isInvalidPDFjsFont(){return P(this,ar,yo).call(this,4)}get isType3Font(){return P(this,ar,yo).call(this,5)}get italic(){return P(this,ar,yo).call(this,6)}get missingFile(){return P(this,ar,yo).call(this,7)}get remeasure(){return P(this,ar,yo).call(this,8)}get vertical(){return P(this,ar,yo).call(this,9)}get ascent(){return P(this,ar,Zx).call(this,0)}get defaultWidth(){return P(this,ar,Zx).call(this,1)}get descent(){return P(this,ar,Zx).call(this,2)}get bbox(){let e=f(lt,Pm);if(f(this,cn).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(f(this,cn).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=f(lt,Rm);if(f(this,cn).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(f(this,cn).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=f(lt,Dm);if(f(this,cn).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(f(this,cn).getInt16(e,!0)),e+=2;return r}get fallbackName(){return P(this,ar,nw).call(this,0)}get loadedName(){return P(this,ar,nw).call(this,1)}get mimetype(){return P(this,ar,nw).call(this,2)}get name(){return P(this,ar,nw).call(this,3)}get data(){let e=f(lt,$s);const t=f(this,cn).getUint32(e);e+=4+t;const r=f(this,cn).getUint32(e);e+=4+r;const i=f(this,cn).getUint32(e);e+=4+i;const s=f(this,cn).getUint32(e);if(s!==0)return new Uint8Array(f(this,hA),e+4,s)}clearData(){let e=f(lt,$s);const t=f(this,cn).getUint32(e);e+=4+t;const r=f(this,cn).getUint32(e);e+=4+r;const i=f(this,cn).getUint32(e);e+=4+i;const s=f(this,cn).getUint32(e);new Uint8Array(f(this,hA),e+4,s).fill(0),f(this,cn).setUint32(e,0)}get cssFontInfo(){let e=f(lt,$s);const t=f(this,cn).getUint32(e);e+=4+t;const r=f(this,cn).getUint32(e);e+=4+r;const i=f(this,cn).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(f(this,hA),e+4,i)),new tT(s.buffer)}get systemFontInfo(){let e=f(lt,$s);const t=f(this,cn).getUint32(e);e+=4+t;const r=f(this,cn).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(f(this,hA),e+4,r)),new nT(i.buffer)}static write(e){const t=e.systemFontInfo?nT.write(e.systemFontInfo):null,r=e.cssFontInfo?tT.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const C of lt.strings)s[C]=i.encode(e[C]),a+=4+s[C].length;const o=f(lt,$s)+4+a+4+(t?t.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),u=new Uint8Array(l),d=new DataView(l);let h=0;const g=lt.bools.length;let v=0,b=0;for(let C=0;C<g;C++){const B=e[lt.bools[C]];v|=(B===void 0?0:B?2:1)<<b,b+=2,(b===8||C===g-1)&&(d.setUint8(h++,v),v=0,b=0)}Tt(h===f(lt,Um),"FontInfo.write: Boolean properties offset mismatch");for(const C of lt.numbers)d.setFloat64(h,e[C]),h+=8;if(Tt(h===f(lt,Pm),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const C of e.bbox)d.setInt16(h,C,!0),h+=2}else d.setUint8(h++,0),h+=8;if(Tt(h===f(lt,Rm),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const C of e.fontMatrix)d.setFloat64(h,C,!0),h+=8}else d.setUint8(h++,0),h+=48;if(Tt(h===f(lt,Dm),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const C of e.defaultVMetrics)d.setInt16(h,C,!0),h+=2}else d.setUint8(h++,0),h+=6;Tt(h===f(lt,$s),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(f(lt,$s),0),h+=4;for(const C of lt.strings){const B=s[C],S=B.length;d.setUint32(h,S),u.set(B,h+4),h+=4+S}if(d.setUint32(f(lt,$s),h-f(lt,$s)-4),!t)d.setUint32(h,0),h+=4;else{const C=t.byteLength;d.setUint32(h,C),Tt(h+4+C<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+C}if(!r)d.setUint32(h,0),h+=4;else{const C=r.byteLength;d.setUint32(h,C),Tt(h+4+C<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(r),h+4),h+=4+C}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),Tt(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};Um=new WeakMap,Pm=new WeakMap,Rm=new WeakMap,Dm=new WeakMap,$s=new WeakMap,hA=new WeakMap,Kb=new WeakMap,cn=new WeakMap,ar=new WeakSet,yo=function(e){Tt(e<lt.bools.length,"Invalid boolean index");const t=Math.floor(e/4),r=e*2%8,i=f(this,cn).getUint8(t)>>r&3;return i===0?void 0:i===2},Zx=function(e){return Tt(e<lt.numbers.length,"Invalid number index"),f(this,cn).getFloat64(f(lt,Um)+e*8)},nw=function(e){Tt(e<lt.strings.length,"Invalid string index");let t=f(lt,$s)+4;for(let s=0;s<e;s++)t+=f(this,cn).getUint32(t)+4;const r=f(this,cn).getUint32(t),i=new Uint8Array(r);return i.set(new Uint8Array(f(this,hA),t+4,r)),f(this,Kb).decode(i)},be(lt,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),be(lt,"numbers",["ascent","defaultWidth","descent"]),be(lt,"strings",["fallbackName","loadedName","mimetype","name"]),M(lt,Um,Math.ceil(lt.bools.length*2/8)),M(lt,Pm,f(lt,Um)+lt.numbers.length*8),M(lt,Rm,f(lt,Pm)+1+8),M(lt,Dm,f(lt,Rm)+1+48),M(lt,$s,f(lt,Dm)+1+6);let lD=lt;var Gb,zb,qb,$b,jb,Wb,Yb,Xb;const Sn=class Sn{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,r=null,i=[],s=[],a=[],o=[],l=null,u=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,r=e[2],a=e[3],t===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],r=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(i.length/2),h=Math.floor(s.length/3),g=a.length,v=o.length;let b=0;for(const U of o)b+=1,b=Math.ceil(b/4)*4,b+=4+U.coords.length*4,b+=4+U.colors.length*4,U.verticesPerRow!==void 0&&(b+=4);const C=20+d*8+h*3+g*8+(r?16:0)+(u?3:0)+b,B=new ArrayBuffer(C),S=new DataView(B),I=new Uint8Array(B);S.setUint8(f(Sn,Gb),t),S.setUint8(f(Sn,zb),r?1:0),S.setUint8(f(Sn,qb),u?1:0),S.setUint8(f(Sn,$b),l),S.setUint32(f(Sn,jb),d,!0),S.setUint32(f(Sn,Wb),h,!0),S.setUint32(f(Sn,Yb),g,!0),S.setUint32(f(Sn,Xb),v,!0);let T=20;new Float32Array(B,T,d*2).set(i),T+=d*8,I.set(s,T),T+=h*3;for(const[U,D]of a)S.setFloat32(T,U,!0),T+=4,S.setUint32(T,parseInt(D.slice(1),16),!0),T+=4;if(r)for(const U of r)S.setFloat32(T,U,!0),T+=4;u&&(I.set(u,T),T+=3);for(let U=0;U<o.length;U++){const D=o[U];S.setUint8(T,D.type),T+=1,T=Math.ceil(T/4)*4,S.setUint32(T,D.coords.length,!0),T+=4,new Int32Array(B,T,D.coords.length).set(D.coords),T+=D.coords.length*4,S.setUint32(T,D.colors.length,!0),T+=4,new Int32Array(B,T,D.colors.length).set(D.colors),T+=D.colors.length*4,D.verticesPerRow!==void 0&&(S.setUint32(T,D.verticesPerRow,!0),T+=4)}return B}getIR(){const e=this.view,t=this.data[f(Sn,Gb)],r=!!this.data[f(Sn,zb)],i=!!this.data[f(Sn,qb)],s=e.getUint32(f(Sn,jb),!0),a=e.getUint32(f(Sn,Wb),!0),o=e.getUint32(f(Sn,Yb),!0),l=e.getUint32(f(Sn,Xb),!0);let u=20;const d=new Float32Array(this.buffer,u,s*2);u+=s*8;const h=new Uint8Array(this.buffer,u,a*3);u+=a*3;const g=[];for(let B=0;B<o;++B){const S=e.getFloat32(u,!0);u+=4;const I=e.getUint32(u,!0);u+=4,g.push([S,`#${I.toString(16).padStart(6,"0")}`])}let v=null;if(r){v=[];for(let B=0;B<4;++B)v.push(e.getFloat32(u,!0)),u+=4}let b=null;i&&(b=new Uint8Array(this.buffer,u,3),u+=3);const C=[];for(let B=0;B<l;++B){const S=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const I=e.getUint32(u,!0);u+=4;const T=new Int32Array(this.buffer,u,I);u+=I*4;const R=e.getUint32(u,!0);u+=4;const U=new Int32Array(this.buffer,u,R);u+=R*4;const D={type:S,coords:T,colors:U};S===kR.LATTICE&&(D.verticesPerRow=e.getUint32(u,!0),u+=4),C.push(D)}if(t===1)return["RadialAxial","axial",v,g,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",v,g,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(t===3){const B=this.data[f(Sn,$b)];let S=null;if(d.length>0){let I=d[0],T=d[0],R=d[1],U=d[1];for(let D=0;D<d.length;D+=2){const L=d[D],H=d[D+1];I=I>L?L:I,R=R>H?H:R,T=T<L?L:T,U=U<H?H:U}S=[I,R,T,U]}return["Mesh",B,d,h,C,S,v,b]}throw new Error(`Unsupported pattern kind: ${t}`)}};Gb=new WeakMap,zb=new WeakMap,qb=new WeakMap,$b=new WeakMap,jb=new WeakMap,Wb=new WeakMap,Yb=new WeakMap,Xb=new WeakMap,M(Sn,Gb,0),M(Sn,zb,1),M(Sn,qb,2),M(Sn,$b,3),M(Sn,jb,4),M(Sn,Wb,8),M(Sn,Yb,12),M(Sn,Xb,16);let uD=Sn;function Wce(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(es)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Yce(n){if(es&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return zE(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function OS(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const cD=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,Xce=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",Jce=Uce.bind(null,cD,Xce);var _l,v1;class Zce{constructor(){M(this,_l,new Map);M(this,v1,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};f(this,v1).then(()=>{for(const[i]of f(this,_l))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){it("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}f(this,_l).set(t,i)}removeEventListener(e,t){const r=f(this,_l).get(t);r==null||r(),f(this,_l).delete(t)}terminate(){for(const[,e]of f(this,_l))e==null||e();f(this,_l).clear()}}_l=new WeakMap,v1=new WeakMap;const HS={DATA:1,ERROR:2},Sr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function SK(){}function ps(n){if(n instanceof qd||n instanceof OR||n instanceof mK||n instanceof Z_||n instanceof sU)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Cn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new qd(n.message);case"InvalidPDFException":return new OR(n.message);case"PasswordException":return new mK(n.message,n.code);case"ResponseException":return new Z_(n.message,n.status,n.missing);case"UnknownErrorException":return new sU(n.message,n.details)}return new sU(n.message,n.toString())}var Nm,so,xj,_j,Tj,e_;class rw{constructor(e,t,r){M(this,so);M(this,Nm,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",P(this,so,xj).bind(this),{signal:f(this,Nm).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:Sr.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Tt(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Sr.CANCEL,streamId:s,reason:ps(u)}),d.promise}},r)}destroy(){var e;(e=f(this,Nm))==null||e.abort(),_(this,Nm,null)}}Nm=new WeakMap,so=new WeakSet,xj=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){P(this,so,Tj).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===HS.DATA)i.resolve(e.data);else if(e.callback===HS.ERROR)i.reject(ps(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:HS.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:HS.ERROR,callbackId:e.callbackId,reason:ps(a)})});return}if(e.streamId){P(this,so,_j).call(this,e);return}t(e.data)},_j=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=d,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Sr.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Sr.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Tt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Sr.ERROR,streamId:t,reason:ps(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Sr.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:Sr.START_COMPLETE,streamId:t,reason:ps(u)})})},Tj=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Sr.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(ps(e.reason));break;case Sr.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(ps(e.reason));break;case Sr.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:Sr.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||SK).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Sr.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:Sr.PULL_COMPLETE,streamId:t,reason:ps(u)})});break;case Sr.ENQUEUE:if(Tt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Sr.CLOSE:if(Tt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),P(this,so,e_).call(this,a,t);break;case Sr.ERROR:Tt(a,"error should have stream controller"),a.controller.error(ps(e.reason)),P(this,so,e_).call(this,a,t);break;case Sr.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(ps(e.reason)),P(this,so,e_).call(this,a,t);break;case Sr.CANCEL:if(!o)break;const l=ps(e.reason);Promise.try(o.onCancel||SK,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Sr.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:Sr.CANCEL_COMPLETE,streamId:t,reason:ps(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},e_=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Jb;class Ij{constructor({enableHWA:e=!1}){M(this,Jb,!1);_(this,Jb,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!f(this,Jb)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Cn("Abstract method `_createCanvas` called.")}}Jb=new WeakMap;class ede extends Ij{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class Fj{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Cn("Abstract method `_fetch` called.")}}class xK extends Fj{async _fetch(e){const t=await qE(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):zE(t)}}class Mj{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var uh,Lm,Tl,Il,Li,ch,dh,Le,Pi,iw,Ig,t_,Fg,Uj,dD,Mg,sw,aw,fD,ow;class tde extends Mj{constructor({docId:t,ownerDocument:r=globalThis.document}){super();M(this,Le);M(this,uh);M(this,Lm);M(this,Tl);M(this,Il);M(this,Li);M(this,ch);M(this,dh,0);_(this,Il,t),_(this,Li,r)}addFilter(t){if(!t)return"none";let r=f(this,Le,Pi).get(t);if(r)return r;const[i,s,a]=P(this,Le,t_).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(r=f(this,Le,Pi).get(o),r)return f(this,Le,Pi).set(t,r),r;const l=`g_${f(this,Il)}_transfer_map_${ur(this,dh)._++}`,u=P(this,Le,Fg).call(this,l);f(this,Le,Pi).set(t,u),f(this,Le,Pi).set(o,u);const d=P(this,Le,Mg).call(this,l);return P(this,Le,aw).call(this,i,s,a,d),u}addHCMFilter(t,r){var b;const i=`${t}-${r}`,s="base";let a=f(this,Le,iw).get(s);if((a==null?void 0:a.key)===i||(a?((b=a.filter)==null||b.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},f(this,Le,iw).set(s,a)),!t||!r))return a.url;const o=P(this,Le,ow).call(this,t);t=Ve.makeHexColor(...o);const l=P(this,Le,ow).call(this,r);if(r=Ve.makeHexColor(...l),f(this,Le,Ig).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const u=new Array(256);for(let C=0;C<=255;C++){const B=C/255;u[C]=B<=.03928?B/12.92:((B+.055)/1.055)**2.4}const d=u.join(","),h=`g_${f(this,Il)}_hcm_filter`,g=a.filter=P(this,Le,Mg).call(this,h);P(this,Le,aw).call(this,d,d,d,g),P(this,Le,dD).call(this,g);const v=(C,B)=>{const S=o[C]/255,I=l[C]/255,T=new Array(B+1);for(let R=0;R<=B;R++)T[R]=S+R/B*(I-S);return T.join(",")};return P(this,Le,aw).call(this,v(0,5),v(1,5),v(2,5),g),a.url=P(this,Le,Fg).call(this,h),a.url}addAlphaFilter(t){let r=f(this,Le,Pi).get(t);if(r)return r;const[i]=P(this,Le,t_).call(this,[t]),s=`alpha_${i}`;if(r=f(this,Le,Pi).get(s),r)return f(this,Le,Pi).set(t,r),r;const a=`g_${f(this,Il)}_alpha_map_${ur(this,dh)._++}`,o=P(this,Le,Fg).call(this,a);f(this,Le,Pi).set(t,o),f(this,Le,Pi).set(s,o);const l=P(this,Le,Mg).call(this,a);return P(this,Le,fD).call(this,i,l),o}addLuminosityFilter(t){let r=f(this,Le,Pi).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=P(this,Le,t_).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=f(this,Le,Pi).get(s),r)return f(this,Le,Pi).set(t,r),r;const a=`g_${f(this,Il)}_luminosity_map_${ur(this,dh)._++}`,o=P(this,Le,Fg).call(this,a);f(this,Le,Pi).set(t,o),f(this,Le,Pi).set(s,o);const l=P(this,Le,Mg).call(this,a);return P(this,Le,Uj).call(this,l),t&&P(this,Le,fD).call(this,i,l),o}addHighlightHCMFilter(t,r,i,s,a){var I;const o=`${r}-${i}-${s}-${a}`;let l=f(this,Le,iw).get(t);if((l==null?void 0:l.key)===o||(l?((I=l.filter)==null||I.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},f(this,Le,iw).set(t,l)),!r||!i))return l.url;const[u,d]=[r,i].map(P(this,Le,ow).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,b]=[s,a].map(P(this,Le,ow).bind(this));g<h&&([h,g,v,b]=[g,h,b,v]),f(this,Le,Ig).style.color="";const C=(T,R,U)=>{const D=new Array(256),L=(g-h)/U,H=T/255,k=(R-T)/(255*U);let G=0;for(let K=0;K<=U;K++){const z=Math.round(h+K*L),J=H+K*k;for(let Y=G;Y<=z;Y++)D[Y]=J;G=z+1}for(let K=G;K<256;K++)D[K]=D[G-1];return D.join(",")},B=`g_${f(this,Il)}_hcm_${t}_filter`,S=l.filter=P(this,Le,Mg).call(this,B);return P(this,Le,dD).call(this,S),P(this,Le,aw).call(this,C(v[0],b[0],5),C(v[1],b[1],5),C(v[2],b[2],5),S),l.url=P(this,Le,Fg).call(this,B),l.url}destroy(t=!1){var r,i,s,a;t&&((r=f(this,ch))!=null&&r.size)||((i=f(this,Tl))==null||i.parentNode.parentNode.remove(),_(this,Tl,null),(s=f(this,Lm))==null||s.clear(),_(this,Lm,null),(a=f(this,ch))==null||a.clear(),_(this,ch,null),_(this,dh,0))}}uh=new WeakMap,Lm=new WeakMap,Tl=new WeakMap,Il=new WeakMap,Li=new WeakMap,ch=new WeakMap,dh=new WeakMap,Le=new WeakSet,Pi=function(){return f(this,Lm)||_(this,Lm,new Map)},iw=function(){return f(this,ch)||_(this,ch,new Map)},Ig=function(){if(!f(this,Tl)){const t=f(this,Li).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=f(this,Li).createElementNS(Al,"svg");i.setAttribute("width",0),i.setAttribute("height",0),_(this,Tl,f(this,Li).createElementNS(Al,"defs")),t.append(i),i.append(f(this,Tl)),f(this,Li).body.append(t)}return f(this,Tl)},t_=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let g=0;g<256;g++)d[g]=u[g]/255;const h=d.join(",");return[h,h,h]}const[r,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=r[u]/255,o[u]=i[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},Fg=function(t){if(f(this,uh)===void 0){_(this,uh,"");const r=f(this,Li).URL;r!==f(this,Li).baseURI&&(K1(r)?it('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,uh,Q6(r,"")))}return`url(${f(this,uh)}#${t})`},Uj=function(t){const r=f(this,Li).createElementNS(Al,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},dD=function(t){const r=f(this,Li).createElementNS(Al,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Mg=function(t){const r=f(this,Li).createElementNS(Al,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),f(this,Le,Ig).append(r),r},sw=function(t,r,i){const s=f(this,Li).createElementNS(Al,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},aw=function(t,r,i,s){const a=f(this,Li).createElementNS(Al,"feComponentTransfer");s.append(a),P(this,Le,sw).call(this,a,"feFuncR",t),P(this,Le,sw).call(this,a,"feFuncG",r),P(this,Le,sw).call(this,a,"feFuncB",i)},fD=function(t,r){const i=f(this,Li).createElementNS(Al,"feComponentTransfer");r.append(i),P(this,Le,sw).call(this,i,"feFuncA",t)},ow=function(t){return f(this,Le,Ig).style.color=t,jE(getComputedStyle(f(this,Le,Ig)).getPropertyValue("color"))};class Pj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Cn("Abstract method `_fetch` called.")}}class _K extends Pj{async _fetch(e){const t=await qE(e,"arraybuffer");return new Uint8Array(t)}}class Rj{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Cn("Abstract method `_fetch` called.")}}class TK extends Rj{async _fetch(e){const t=await qE(e,"arraybuffer");return new Uint8Array(t)}}es&&it("Please use the `legacy` build in Node.js environments.");async function OQ(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class nde extends Mj{}class rde extends Ij{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class ide extends Fj{async _fetch(e){return OQ(e)}}class sde extends Pj{async _fetch(e){return OQ(e)}}class ade extends Rj{async _fetch(e){return OQ(e)}}const gg="__forcedDependency",{floor:IK,ceil:FK}=Math;function VS(n,e,t,r,i,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],r),n[e*4+2]=Math.max(n[e*4+2],i),n[e*4+3]=Math.max(n[e*4+3],s)}const hD=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Qm,jc;class ode{constructor(e,t){M(this,Qm);M(this,jc);_(this,Qm,e),_(this,jc,t)}get length(){return f(this,Qm).length}isEmpty(e){return f(this,Qm)[e]===hD}minX(e){return f(this,jc)[e*4+0]/256}minY(e){return f(this,jc)[e*4+1]/256}maxX(e){return(f(this,jc)[e*4+2]+1)/256}maxY(e){return(f(this,jc)[e*4+3]+1)/256}}Qm=new WeakMap,jc=new WeakMap;const KS=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var vs,ys,fh,Bo,hh,Fl,Jt,dn,Ml,ws,Zb,km,ph,gh,Ul,Qi,pA,eC,pD;class Ade{constructor(e,t,r=!1){M(this,eC);M(this,vs,{__proto__:null});M(this,ys,{__proto__:null,transform:[],moveText:[],sameLineText:[],[gg]:[]});M(this,fh,new Map);M(this,Bo,[]);M(this,hh,[]);M(this,Fl,[[1,0,0,1,0,0]]);M(this,Jt,[-1/0,-1/0,1/0,1/0]);M(this,dn,new Float64Array([1/0,1/0,-1/0,-1/0]));M(this,Ml,-1);M(this,ws,new Set);M(this,Zb,new Map);M(this,km,new Map);M(this,ph);M(this,gh);M(this,Ul);M(this,Qi);M(this,pA);_(this,ph,e.width),_(this,gh,e.height),P(this,eC,pD).call(this,t),r&&_(this,pA,new Map)}growOperationsCount(e){e>=f(this,Qi).length&&P(this,eC,pD).call(this,e,f(this,Qi))}save(e){return _(this,vs,{__proto__:f(this,vs)}),_(this,ys,{__proto__:f(this,ys),transform:{__proto__:f(this,ys).transform},moveText:{__proto__:f(this,ys).moveText},sameLineText:{__proto__:f(this,ys).sameLineText},[gg]:{__proto__:f(this,ys)[gg]}}),_(this,Jt,{__proto__:f(this,Jt)}),f(this,Bo).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(f(this,vs));if(t===null)return this;_(this,vs,t),_(this,ys,Object.getPrototypeOf(f(this,ys))),_(this,Jt,Object.getPrototypeOf(f(this,Jt)));const r=f(this,Bo).pop();return r!==void 0&&((i=KS(f(this,pA),e))==null||i.dependencies.add(r),f(this,Qi)[e]=f(this,Qi)[r]),this}recordOpenMarker(e){return f(this,Bo).push(e),this}getOpenMarker(){return f(this,Bo).length===0?null:f(this,Bo).at(-1)}recordCloseMarker(e){var r;const t=f(this,Bo).pop();return t!==void 0&&((r=KS(f(this,pA),e))==null||r.dependencies.add(t),f(this,Qi)[e]=f(this,Qi)[t]),this}beginMarkedContent(e){return f(this,hh).push(e),this}endMarkedContent(e){var r;const t=f(this,hh).pop();return t!==void 0&&((r=KS(f(this,pA),e))==null||r.dependencies.add(t),f(this,Qi)[e]=f(this,Qi)[t]),this}pushBaseTransform(e){return f(this,Fl).push(Ve.multiplyByDOMMatrix(f(this,Fl).at(-1),e.getTransform())),this}popBaseTransform(){return f(this,Fl).length>1&&f(this,Fl).pop(),this}recordSimpleData(e,t){return f(this,vs)[e]=t,this}recordIncrementalData(e,t){return f(this,ys)[e].push(t),this}resetIncrementalData(e,t){return f(this,ys)[e].length=0,this}recordNamedData(e,t){return f(this,fh).set(e,t),this}recordSimpleDataFromNamed(e,t,r){f(this,vs)[e]=f(this,fh).get(t)??r}recordFutureForcedDependency(e,t){return this.recordIncrementalData(gg,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in f(this,vs)&&this.recordFutureForcedDependency(t,f(this,vs)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of f(this,ws))this.recordFutureForcedDependency(gg,e);return this}resetBBox(e){return f(this,Ml)!==e&&(_(this,Ml,e),f(this,dn)[0]=1/0,f(this,dn)[1]=1/0,f(this,dn)[2]=-1/0,f(this,dn)[3]=-1/0),this}recordClipBox(e,t,r,i,s,a){const o=Ve.multiplyByDOMMatrix(f(this,Fl).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Ve.axialAlignedBoundingBox([r,s,i,a],o,l);const u=Ve.intersect(f(this,Jt),l);return u?(f(this,Jt)[0]=u[0],f(this,Jt)[1]=u[1],f(this,Jt)[2]=u[2],f(this,Jt)[3]=u[3]):(f(this,Jt)[0]=f(this,Jt)[1]=1/0,f(this,Jt)[2]=f(this,Jt)[3]=-1/0),this}recordBBox(e,t,r,i,s,a){const o=f(this,Jt);if(o[0]===1/0)return this;const l=Ve.multiplyByDOMMatrix(f(this,Fl).at(-1),t.getTransform());if(o[0]===-1/0)return Ve.axialAlignedBoundingBox([r,s,i,a],l,f(this,dn)),this;const u=[1/0,1/0,-1/0,-1/0];return Ve.axialAlignedBoundingBox([r,s,i,a],l,u),f(this,dn)[0]=Math.min(f(this,dn)[0],Math.max(u[0],o[0])),f(this,dn)[1]=Math.min(f(this,dn)[1],Math.max(u[1],o[1])),f(this,dn)[2]=Math.max(f(this,dn)[2],Math.min(u[2],o[2])),f(this,dn)[3]=Math.max(f(this,dn)[3],Math.min(u[3],o[3])),this}recordCharacterBBox(e,t,r,i=1,s=0,a=0,o){const l=r.bbox;let u,d;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&f(this,km).get(r),u!==!1&&(d=[0,0,0,0],Ve.axialAlignedBoundingBox(l,r.fontMatrix,d),(i!==1||s!==0||a!==0)&&Ve.scaleMinMax([i,0,0,-i,s,a],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return l&&d&&u===void 0&&(u=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=a-h.actualBoundingBoxAscent&&d[3]>=a+h.actualBoundingBoxDescent,f(this,km).set(r,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return f(this,dn)[0]=Math.max(0,f(this,Jt)[0]),f(this,dn)[1]=Math.max(0,f(this,Jt)[1]),f(this,dn)[2]=Math.min(f(this,ph),f(this,Jt)[2]),f(this,dn)[3]=Math.min(f(this,gh),f(this,Jt)[3]),this}getSimpleIndex(e){return f(this,vs)[e]}recordDependencies(e,t){const r=f(this,ws),i=f(this,vs),s=f(this,ys);for(const a of t)a in f(this,vs)?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,t){return f(this,fh).has(t)&&f(this,ws).add(f(this,fh).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[gg]),f(this,pA)){const r=KS(f(this,pA),e),{dependencies:i}=r;f(this,ws).forEach(i.add,i),f(this,Bo).forEach(i.add,i),f(this,hh).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(f(this,Ml)===e){const r=IK(f(this,dn)[0]*256/f(this,ph)),i=IK(f(this,dn)[1]*256/f(this,gh)),s=FK(f(this,dn)[2]*256/f(this,ph)),a=FK(f(this,dn)[3]*256/f(this,gh));VS(f(this,Ul),e,r,i,s,a);for(const o of f(this,ws))o!==e&&VS(f(this,Ul),o,r,i,s,a);for(const o of f(this,Bo))o!==e&&VS(f(this,Ul),o,r,i,s,a);for(const o of f(this,hh))o!==e&&VS(f(this,Ul),o,r,i,s,a);t||(f(this,ws).clear(),_(this,Ml,-1))}return this}recordShowTextOperation(e,t=!1){const r=Array.from(f(this,ws));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return f(this,Ml)===e&&(_(this,Ml,-1),f(this,Jt)[0]=Math.max(f(this,Jt)[0],f(this,dn)[0]),f(this,Jt)[1]=Math.max(f(this,Jt)[1],f(this,dn)[1]),f(this,Jt)[2]=Math.min(f(this,Jt)[2],f(this,dn)[2]),f(this,Jt)[3]=Math.min(f(this,Jt)[3],f(this,dn)[3]),t||f(this,ws).clear()),this}_takePendingDependencies(){const e=f(this,ws);return _(this,ws,new Set),e}_extractOperation(e){const t=f(this,Zb).get(e);return f(this,Zb).delete(e),t}_pushPendingDependencies(e){for(const t of e)f(this,ws).add(t)}take(){return f(this,km).clear(),new ode(f(this,Qi),f(this,Ul))}takeDebugMetadata(){return f(this,pA)}}vs=new WeakMap,ys=new WeakMap,fh=new WeakMap,Bo=new WeakMap,hh=new WeakMap,Fl=new WeakMap,Jt=new WeakMap,dn=new WeakMap,Ml=new WeakMap,ws=new WeakMap,Zb=new WeakMap,km=new WeakMap,ph=new WeakMap,gh=new WeakMap,Ul=new WeakMap,Qi=new WeakMap,pA=new WeakMap,eC=new WeakSet,pD=function(e,t){const r=new ArrayBuffer(e*4);_(this,Ul,new Uint8ClampedArray(r)),_(this,Qi,new Uint32Array(r)),t&&t.length>0?(f(this,Qi).set(t),f(this,Qi).fill(hD,t.length)):f(this,Qi).fill(hD)};var yn,tr,So,Om,Hm;const HO=class HO{constructor(e,t,r){M(this,yn);M(this,tr);M(this,So);M(this,Om,0);M(this,Hm,0);if(e instanceof HO&&f(e,So)===!!r)return e;_(this,yn,e),_(this,tr,t),_(this,So,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return ur(this,Hm)._++,f(this,yn).save(f(this,tr)),this}restore(e){return f(this,Hm)>0&&(f(this,yn).restore(f(this,tr)),ur(this,Hm)._--),this}recordOpenMarker(e){return ur(this,Om)._++,this}getOpenMarker(){return f(this,Om)>0?f(this,tr):f(this,yn).getOpenMarker()}recordCloseMarker(e){return ur(this,Om)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return f(this,yn).pushBaseTransform(e),this}popBaseTransform(){return f(this,yn).popBaseTransform(),this}recordSimpleData(e,t){return f(this,yn).recordSimpleData(e,f(this,tr)),this}recordIncrementalData(e,t){return f(this,yn).recordIncrementalData(e,f(this,tr)),this}resetIncrementalData(e,t){return f(this,yn).resetIncrementalData(e,f(this,tr)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,r){return f(this,yn).recordSimpleDataFromNamed(e,t,f(this,tr)),this}recordFutureForcedDependency(e,t){return f(this,yn).recordFutureForcedDependency(e,f(this,tr)),this}inheritSimpleDataAsFutureForcedDependencies(e){return f(this,yn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return f(this,yn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return f(this,So)||f(this,yn).resetBBox(f(this,tr)),this}recordClipBox(e,t,r,i,s,a){return f(this,So)||f(this,yn).recordClipBox(f(this,tr),t,r,i,s,a),this}recordBBox(e,t,r,i,s,a){return f(this,So)||f(this,yn).recordBBox(f(this,tr),t,r,i,s,a),this}recordCharacterBBox(e,t,r,i,s,a,o){return f(this,So)||f(this,yn).recordCharacterBBox(f(this,tr),t,r,i,s,a,o),this}recordFullPageBBox(e){return f(this,So)||f(this,yn).recordFullPageBBox(f(this,tr)),this}getSimpleIndex(e){return f(this,yn).getSimpleIndex(e)}recordDependencies(e,t){return f(this,yn).recordDependencies(f(this,tr),t),this}recordNamedDependency(e,t){return f(this,yn).recordNamedDependency(f(this,tr),t),this}recordOperation(e){return f(this,yn).recordOperation(f(this,tr),!0),this}recordShowTextOperation(e){return f(this,yn).recordShowTextOperation(f(this,tr),!0),this}bboxToClipBoxDropOperation(e){return f(this,So)||f(this,yn).bboxToClipBoxDropOperation(f(this,tr),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};yn=new WeakMap,tr=new WeakMap,So=new WeakMap,Om=new WeakMap,Hm=new WeakMap;let rT=HO;const Ua={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ei={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function gD(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class HQ{isModifyingCurrentTransform(){return!1}getPattern(){Cn("Abstract method `getPattern` called.")}}class lde extends HQ{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Ei.STROKE||i===Ei.FILL){const a=t.current.getClippedPathBoundingBox(i,$n(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),r=Ve.transform(r,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),gD(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else gD(e,this._bbox),s=this._createGradient(e);return s}}function AU(n,e,t,r,i,s,a,o){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let g;l[t+1]>l[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g),l[r+1]>l[i+1]&&(g=r,r=i,i=g,g=a,a=o,o=g),l[t+1]>l[r+1]&&(g=t,t=r,r=g,g=s,s=a,a=g);const v=(l[t]+e.offsetX)*e.scaleX,b=(l[t+1]+e.offsetY)*e.scaleY,C=(l[r]+e.offsetX)*e.scaleX,B=(l[r+1]+e.offsetY)*e.scaleY,S=(l[i]+e.offsetX)*e.scaleX,I=(l[i+1]+e.offsetY)*e.scaleY;if(b>=I)return;const T=u[s],R=u[s+1],U=u[s+2],D=u[a],L=u[a+1],H=u[a+2],k=u[o],G=u[o+1],K=u[o+2],z=Math.round(b),J=Math.round(I);let Y,ge,V,j,re,he,Ee,q;for(let X=z;X<=J;X++){if(X<B){const ue=X<b?0:(b-X)/(b-B);Y=v-(v-C)*ue,ge=T-(T-D)*ue,V=R-(R-L)*ue,j=U-(U-H)*ue}else{let ue;X>I?ue=1:B===I?ue=0:ue=(B-X)/(B-I),Y=C-(C-S)*ue,ge=D-(D-k)*ue,V=L-(L-G)*ue,j=H-(H-K)*ue}let oe;X<b?oe=0:X>I?oe=1:oe=(b-X)/(b-I),re=v-(v-S)*oe,he=T-(T-k)*oe,Ee=R-(R-G)*oe,q=U-(U-K)*oe;const Ce=Math.round(Math.min(Y,re)),se=Math.round(Math.max(Y,re));let ce=h*X+Ce*4;for(let ue=Ce;ue<=se;ue++)oe=(Y-ue)/(Y-re),oe<0?oe=0:oe>1&&(oe=1),d[ce++]=ge-(ge-he)*oe|0,d[ce++]=V-(V-Ee)*oe|0,d[ce++]=j-(j-q)*oe|0,d[ce++]=255}}function ude(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case kR.LATTICE:const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,u=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<u;h++,d++)AU(n,t,r[d],r[d+1],r[d+o],i[d],i[d+1],i[d+o]),AU(n,t,r[d+o+1],r[d+1],r[d+o],i[d+o+1],i[d+1],i[d+o])}break;case kR.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)AU(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class cde extends HQ{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),v=u/h,b=d/g,C={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/v,scaleY:1/b},B=h+4,S=g+4,I=r.getCanvas("mesh",B,S),T=I.context,R=T.createImageData(h,g);if(t){const D=R.data;for(let L=0,H=D.length;L<H;L+=4)D[L]=t[0],D[L+1]=t[1],D[L+2]=t[2],D[L+3]=255}for(const D of this._figures)ude(R,D,C);return T.putImageData(R,2,2),{canvas:I.canvas,offsetX:o-2*v,offsetY:l-2*b,scaleX:v,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){gD(e,this._bbox);const s=new Float32Array(2);if(i===Ei.SHADING)Ve.singularValueDecompose2dScale($n(e),s);else if(this.matrix){Ve.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Ve.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else Ve.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,i===Ei.SHADING?null:this._background,t.cachedCanvases);return i!==Ei.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class dde extends HQ{getPattern(){return"hotpink"}}function fde(n){switch(n[0]){case"RadialAxial":return new lde(n);case"Mesh":return new cde(n);case"Dummy":return new dde}throw new Error(`Unknown IR type: ${n[0]}`)}const MK={COLORED:1,UNCOLORED:2},y1=class y1{constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,t){var he,Ee;const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),V1("TilingType: "+a);const h=r[0],g=r[1],v=r[2],b=r[3],C=v-h,B=b-g,S=new Float32Array(2);Ve.singularValueDecompose2dScale(this.matrix,S);const[I,T]=S;Ve.singularValueDecompose2dScale(this.baseTransform,S);const R=I*S[0],U=T*S[1];let D=C,L=B,H=!1,k=!1;const G=Math.ceil(u*R),K=Math.ceil(d*U),z=Math.ceil(C*R),J=Math.ceil(B*U);G>=z?D=u:H=!0,K>=J?L=d:k=!0;const Y=this.getSizeAndScale(D,this.ctx.canvas.width,R),ge=this.getSizeAndScale(L,this.ctx.canvas.height,U),V=e.cachedCanvases.getCanvas("pattern",Y.size,ge.size),j=V.context,re=l.createCanvasGraphics(j,t);if(re.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(re,s,o),j.translate(-Y.scale*h,-ge.scale*g),re.transform(0,Y.scale,0,0,ge.scale,0,0),j.save(),(he=re.dependencyTracker)==null||he.save(),this.clipBbox(re,h,g,v,b),re.baseTransform=$n(re.ctx),re.executeOperatorList(i),re.endDrawing(),(Ee=re.dependencyTracker)==null||Ee.restore(),j.restore(),H||k){const q=V.canvas;H&&(D=u),k&&(L=d);const X=this.getSizeAndScale(D,this.ctx.canvas.width,R),oe=this.getSizeAndScale(L,this.ctx.canvas.height,U),Ce=X.size,se=oe.size,ce=e.cachedCanvases.getCanvas("pattern-workaround",Ce,se),ue=ce.context,Se=H?Math.floor(C/u):0,te=k?Math.floor(B/d):0;for(let Ie=0;Ie<=Se;Ie++)for(let Fe=0;Fe<=te;Fe++)ue.drawImage(q,Ce*Ie,se*Fe,Ce,se,0,0,Ce,se);return{canvas:ce.canvas,scaleX:X.scale,scaleY:oe.scale,offsetX:h,offsetY:g}}return{canvas:V.canvas,scaleX:Y.scale,scaleY:ge.scale,offsetX:h,offsetY:g}}getSizeAndScale(e,t,r){const i=Math.max(y1.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,o=s-r;e.ctx.rect(t,r,a,o),Ve.axialAlignedBoundingBox([t,r,i,s],$n(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case MK.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case MK.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new xce(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i,s){let a=r;i!==Ei.SHADING&&(a=Ve.transform(a,t.baseTransform),this.matrix&&(a=Ve.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};be(y1,"MAX_PATTERN_SIZE",3e3);let mD=y1;function hde({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Ii.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],d=r>>3,h=r&7,g=n.length;t=new Uint32Array(t.buffer);let v=0;for(let b=0;b<i;b++){for(const B=e+d;e<B;e++){const S=e<g?n[e]:255;t[v++]=S&128?u:l,t[v++]=S&64?u:l,t[v++]=S&32?u:l,t[v++]=S&16?u:l,t[v++]=S&8?u:l,t[v++]=S&4?u:l,t[v++]=S&2?u:l,t[v++]=S&1?u:l}if(h===0)continue;const C=e<g?n[e++]:255;for(let B=0;B<h;B++)t[v++]=C&1<<7-B?u:l}return{srcPos:e,destPos:v}}const UK=16,PK=100,pde=15,RK=10,xs=16,lU=new DOMMatrix,ua=new Float32Array(2),Kg=new Float32Array([1/0,1/0,-1/0,-1/0]);function gde(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,a,o){e.transform(t,r,i,s,a,o),this.__originalTransform(t,r,i,s,a,o)},n.setTransform=function(t,r,i,s,a,o){e.setTransform(t,r,i,s,a,o),this.__originalSetTransform(t,r,i,s,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,o){e.bezierCurveTo(t,r,i,s,a,o),this.__originalBezierCurveTo(t,r,i,s,a,o)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class mde{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function GS(n,e,t,r,i,s,a,o,l,u){const[d,h,g,v,b,C]=$n(n);if(h===0&&g===0){const I=a*d+b,T=Math.round(I),R=o*v+C,U=Math.round(R),D=(a+l)*d+b,L=Math.abs(Math.round(D)-T)||1,H=(o+u)*v+C,k=Math.abs(Math.round(H)-U)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(v),T,U),n.drawImage(e,t,r,i,s,0,0,L,k),n.setTransform(d,h,g,v,b,C),[L,k]}if(d===0&&v===0){const I=o*g+b,T=Math.round(I),R=a*h+C,U=Math.round(R),D=(o+u)*g+b,L=Math.abs(Math.round(D)-T)||1,H=(a+l)*h+C,k=Math.abs(Math.round(H)-U)||1;return n.setTransform(0,Math.sign(h),Math.sign(g),0,T,U),n.drawImage(e,t,r,i,s,0,0,k,L),n.setTransform(d,h,g,v,b,C),[k,L]}n.drawImage(e,t,r,i,s,a,o,l,u);const B=Math.hypot(d,h),S=Math.hypot(g,v);return[B*l,S*u]}class DK{constructor(e,t,r){be(this,"alphaIsShape",!1);be(this,"fontSize",0);be(this,"fontSizeScale",1);be(this,"textMatrix",null);be(this,"textMatrixScale",1);be(this,"fontMatrix",QR);be(this,"leading",0);be(this,"x",0);be(this,"y",0);be(this,"lineX",0);be(this,"lineY",0);be(this,"charSpacing",0);be(this,"wordSpacing",0);be(this,"textHScale",1);be(this,"textRenderingMode",hi.FILL);be(this,"textRise",0);be(this,"fillColor","#000000");be(this,"strokeColor","#000000");be(this,"patternFill",!1);be(this,"patternStroke",!1);be(this,"fillAlpha",1);be(this,"strokeAlpha",1);be(this,"lineWidth",1);be(this,"activeSMask",null);be(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Kg.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ei.FILL,t=null){const r=this.minMax.slice();if(e===Ei.STROKE){t||Cn("Stroke bounding box must include transform."),Ve.singularValueDecompose2dScale(t,ua);const i=ua[0]*this.lineWidth/2,s=ua[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=Ve.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Kg,0)}getClippedPathBoundingBox(e=Ei.FILL,t=null){return Ve.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function NK(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%xs,s=(t-i)/xs,a=i===0?s:s+1,o=n.createImageData(r,xs);let l=0,u;const d=e.data,h=o.data;let g,v,b,C;if(e.kind===zx.GRAYSCALE_1BPP){const B=d.byteLength,S=new Uint32Array(h.buffer,0,h.byteLength>>2),I=S.length,T=r+7>>3,R=4294967295,U=Ii.isLittleEndian?4278190080:255;for(g=0;g<a;g++){for(b=g<s?xs:i,u=0,v=0;v<b;v++){const D=B-l;let L=0;const H=D>T?r:D*8-7,k=H&-8;let G=0,K=0;for(;L<k;L+=8)K=d[l++],S[u++]=K&128?R:U,S[u++]=K&64?R:U,S[u++]=K&32?R:U,S[u++]=K&16?R:U,S[u++]=K&8?R:U,S[u++]=K&4?R:U,S[u++]=K&2?R:U,S[u++]=K&1?R:U;for(;L<H;L++)G===0&&(K=d[l++],G=128),S[u++]=K&G?R:U,G>>=1}for(;u<I;)S[u++]=0;n.putImageData(o,0,g*xs)}}else if(e.kind===zx.RGBA_32BPP){for(v=0,C=r*xs*4,g=0;g<s;g++)h.set(d.subarray(l,l+C)),l+=C,n.putImageData(o,0,v),v+=xs;g<a&&(C=r*i*4,h.set(d.subarray(l,l+C)),n.putImageData(o,0,v))}else if(e.kind===zx.RGB_24BPP)for(b=xs,C=r*b,g=0;g<a;g++){for(g>=s&&(b=i,C=r*b),u=0,v=C;v--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(o,0,g*xs)}else throw new Error(`bad image kind: ${e.kind}`)}function LK(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%xs,s=(t-i)/xs,a=i===0?s:s+1,o=n.createImageData(r,xs);let l=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const g=h<s?xs:i;({srcPos:l}=hde({src:u,srcPos:l,dest:d,width:r,height:g,nonBlackColor:0})),n.putImageData(o,0,h*xs)}}function F0(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function zS(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function QK(n,e){if(e)return!0;Ve.singularValueDecompose2dScale(n,ua);const t=Math.fround(bp.pixelRatio*ny.PDF_TO_CSS_UNITS);return ua[0]<=t&&ua[1]<=t}const vde=["butt","round","square"],yde=["miter","round","bevel"],wde={},kK={};var Vo,vD,yD,wD;const VO=class VO{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,u,d){M(this,Vo);this.ctx=e,this.current=new DK(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new mde(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,r=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):r}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...$n(this.compositeCtx))}this.ctx.save(),zS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=$n(this.ctx)}executeOperatorList(e,t,r,i,s){var S;const a=e.argsArray,o=e.fnArray;let l=t||0;const u=a.length;if(u===l)return l;const d=u-l>RK&&typeof r=="function",h=d?Date.now()+pde:0;let g=0;const v=this.commonObjs,b=this.objs;let C,B;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(C=o[l],B=a[l]??null,C!==zw.dependency)B===null?this[C](l):this[C](l,...B);else for(const I of B){(S=this.dependencyTracker)==null||S.recordNamedData(I,l);const T=I.startsWith("g_")?v:b;if(!T.has(I))return T.get(I,r),l}if(l++,l===u)return l;if(d&&++g>RK){if(Date.now()>h)return r(),l;g=0}}}endDrawing(){P(this,Vo,vD).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),P(this,Vo,yD).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=r,l=i,u="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let g=o,v=l;s>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/g),a>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/v),d=this.cachedCanvases.getCanvas(u,g,v),h=d.context,h.clearRect(0,0,g,v),h.drawImage(e,0,0,o,l,0,0,g,v),e=d.canvas,o=g,l=v,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var G,K;const r=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=$n(r);let u,d,h,g;if((t.bitmap||t.data)&&t.count>1){const z=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),u=this._cachedBitmapsMap.get(z),u||(u=new Map,this._cachedBitmapsMap.set(z,u));const J=u.get(d);if(J&&!o){const Y=Math.round(Math.min(l[0],l[2])+l[4]),ge=Math.round(Math.min(l[1],l[3])+l[5]);return(G=this.dependencyTracker)==null||G.recordDependencies(e,Ua.transformAndFill),{canvas:J,offsetX:Y,offsetY:ge}}h=J}h||(g=this.cachedCanvases.getCanvas("maskCanvas",i,s),LK(g.context,t));let v=Ve.transform(l,[1/i,0,0,-1/s,0,0]);v=Ve.transform(v,[1,0,0,1,0,-s]);const b=Kg.slice();Ve.axialAlignedBoundingBox([0,0,i,s],v,b);const[C,B,S,I]=b,T=Math.round(S-C)||1,R=Math.round(I-B)||1,U=this.cachedCanvases.getCanvas("fillCanvas",T,R),D=U.context,L=C,H=B;D.translate(-L,-H),D.transform(...v),h||(h=this._scaleImage(g.canvas,Zo(D)),h=h.img,u&&o&&u.set(d,h)),D.imageSmoothingEnabled=QK($n(D),t.interpolate),GS(D,h,0,0,h.width,h.height,0,0,i,s),D.globalCompositeOperation="source-in";const k=Ve.transform(Zo(D),[1,0,0,1,-L,-H]);return D.fillStyle=o?a.getPattern(r,this,k,Ei.FILL,e):a,D.fillRect(0,0,i,s),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,U.canvas)),(K=this.dependencyTracker)==null||K.recordDependencies(e,Ua.transformAndFill),{canvas:U.canvas,offsetX:Math.round(L),offsetY:Math.round(H)}}setLineWidth(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=vde[t]}setLineJoin(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=yde[t]}setMiterLimit(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,r){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=r)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var r,i,s,a,o;for(const[l,u]of t)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),F0(this.suspendedCtx,a),gde(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),F0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,r,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,o,l,u,d,h){let g=e.canvas,v=l-d,b=u-h;if(a)if(v<0||b<0||v+r>g.width||b+i>g.height){const B=this.cachedCanvases.getCanvas("maskExtension",r,i),S=B.context;S.drawImage(g,-v,-b),S.globalCompositeOperation="destination-atop",S.fillStyle=a,S.fillRect(0,0,r,i),S.globalCompositeOperation="source-over",g=B.canvas,v=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const B=new Path2D;B.rect(v,b,r,i),e.clip(B),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(v,b,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const C=new Path2D;C.rect(l,u,r,i),t.clip(C),t.globalCompositeOperation="destination-in",t.drawImage(g,v,b,r,i,l,u,r,i),t.restore()}save(e){var r;this.inSMaskMode&&F0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&F0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r,i){let[s]=r;if(!i){s||(s=r[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===zw.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=G6(s)),Ve.axialAlignedBoundingBox(i,$n(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,r=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,Zo(i),Ei.STROKE,e),o){const l=new Path2D;l.addPath(t,i.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,Ua.stroke),r&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Ei.STROKE,$n(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,r=!0){var u,d,h;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const g=s.isModifyingCurrentTransform()?i.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),i.save(),i.fillStyle=s.getPattern(i,this,Zo(i),Ei.FILL,e),g){const v=new Path2D;v.addPath(t,i.getTransform().invertSelf().multiplySelf(g)),t=v}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,Ua.fill),o&&(i.restore(),(h=this.dependencyTracker)==null||h.restore(e)),r&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var r;this.ctx.fill(t),(r=this.dependencyTracker)==null||r.recordDependencies(e,Ua.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=wde}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=kK}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:u,path:d}of t)d&&i.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(u,-u));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,r){var h,g;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||QR,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&it("Invalid font matrix for font "+t),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((g=i.systemFontInfo)==null?void 0:g.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const u=i.italic?"italic":"normal";let d=r;r<UK?d=UK:r>PK&&(d=PK),this.current.fontSizeScale=r/d,this.ctx.font=`${u} ${l} ${d}px ${o}`}setTextRenderingMode(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,t,r){this.setLeading(e,-r),this.moveText(e,t,r)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=t,r.textMatrixScale=Math.hypot(t[0],t[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,r,i,s,a){var S,I,T,R;const o=this.ctx,l=this.current,u=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,g=d&hi.FILL_STROKE_MASK,v=!!(d&hi.ADD_TO_PATH_FLAG),b=l.patternFill&&!u.missingFile,C=l.patternStroke&&!u.missingFile;let B;if((u.disableFontFace||v||b||C)&&!u.missingFile&&(B=u.getPathGenerator(this.commonObjs,t)),B&&(u.disableFontFace||b||C)){o.save(),o.translate(r,i),o.scale(h,-h),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,u);let U;if(g===hi.FILL||g===hi.FILL_STROKE)if(s){U=o.getTransform(),o.setTransform(...s);const D=P(this,Vo,wD).call(this,B,U,s);o.fill(D)}else o.fill(B);if(g===hi.STROKE||g===hi.FILL_STROKE)if(a){U||(U=o.getTransform()),o.setTransform(...a);const{a:D,b:L,c:H,d:k}=U,G=Ve.inverseTransform(a),K=Ve.transform([D,L,H,k,0,0],G);Ve.singularValueDecompose2dScale(K,ua),o.lineWidth*=Math.max(ua[0],ua[1])/h,o.stroke(P(this,Vo,wD).call(this,B,U,a))}else o.lineWidth/=h,o.stroke(B);o.restore()}else(g===hi.FILL||g===hi.FILL_STROKE)&&(o.fillText(t,r,i),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,o,u,h,r,i,()=>o.measureText(t))),(g===hi.STROKE||g===hi.FILL_STROKE)&&(this.dependencyTracker&&((T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,u,h,r,i,()=>o.measureText(t)).recordDependencies(e,Ua.stroke)),o.strokeText(t,r,i));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:$n(o),x:r,y:i,fontSize:h,path:B}),(R=this.dependencyTracker)==null||R.recordCharacterBBox(e,o,u,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return st(this,"isFontSubpixelAAEnabled",r)}showText(e,t){var H,k,G,K;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Ua.showText).resetBBox(e),this.current.textRenderingMode&hi.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,t),(H=this.dependencyTracker)==null||H.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){(k=this.dependencyTracker)==null||k.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,u=r.wordSpacing,d=r.fontDirection,h=r.textHScale*d,g=t.length,v=i.vertical,b=v?1:-1,C=i.defaultVMetrics,B=s*r.fontMatrix[0],S=r.textRenderingMode===hi.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),d>0?a.scale(h,-1):a.scale(h,1);let I,T;if(r.patternFill){a.save();const z=r.fillColor.getPattern(a,this,Zo(a),Ei.FILL,e);I=$n(a),a.restore(),a.fillStyle=z}if(r.patternStroke){a.save();const z=r.strokeColor.getPattern(a,this,Zo(a),Ei.STROKE,e);T=$n(a),a.restore(),a.strokeStyle=z}let R=r.lineWidth;const U=r.textMatrixScale;if(U===0||R===0){const z=r.textRenderingMode&hi.FILL_STROKE_MASK;(z===hi.STROKE||z===hi.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=U;if(o!==1&&(a.scale(o,o),R/=o),a.lineWidth=R,i.isInvalidPDFjsFont){const z=[];let J=0;for(const ge of t)z.push(ge.unicode),J+=ge.width;const Y=z.join("");if(a.fillText(Y,0,0),this.dependencyTracker!==null){const ge=a.measureText(Y);this.dependencyTracker.recordBBox(e,this.ctx,-ge.actualBoundingBoxLeft,ge.actualBoundingBoxRight,-ge.actualBoundingBoxAscent,ge.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=J*B*h,a.restore(),this.compose();return}let D=0,L;for(L=0;L<g;++L){const z=t[L];if(typeof z=="number"){D+=b*z*s/1e3;continue}let J=!1;const Y=(z.isSpace?u:0)+l,ge=z.fontChar,V=z.accent;let j,re,he=z.width;if(v){const X=z.vmetric||C,oe=-(z.vmetric?X[1]:he*.5)*B,Ce=X[2]*B;he=X?-X[0]:he,j=oe/o,re=(D+Ce)/o}else j=D/o,re=0;let Ee;if(i.remeasure&&he>0){Ee=a.measureText(ge);const X=Ee.width*1e3/s*o;if(he<X&&this.isFontSubpixelAAEnabled){const oe=he/X;J=!0,a.save(),a.scale(oe,1),j/=oe}else he!==X&&(j+=(he-X)/2e3*s/o)}if(this.contentVisible&&(z.isInFont||i.missingFile)){if(S&&!V)a.fillText(ge,j,re),(G=this.dependencyTracker)==null||G.recordCharacterBBox(e,a,Ee?{bbox:null}:i,s/o,j,re,()=>Ee??a.measureText(ge));else if(this.paintChar(e,ge,j,re,I,T),V){const X=j+s*V.offset.x/o,oe=re-s*V.offset.y/o;this.paintChar(e,V.fontChar,X,oe,I,T)}}const q=v?he*B-Y*d:he*B+Y*d;D+=q,J&&a.restore()}v?r.y-=D:r.x+=D*h,a.restore(),this.compose(),(K=this.dependencyTracker)==null||K.recordShowTextOperation(e)}showType3Text(e,t){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,u=i.charSpacing,d=i.wordSpacing,h=i.textHScale*o,g=i.fontMatrix||QR,v=t.length,b=i.textRenderingMode===hi.INVISIBLE;let C,B,S,I;if(b||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,o);const T=this.dependencyTracker;for(this.dependencyTracker=T?new rT(T,e):null,C=0;C<v;++C){if(B=t[C],typeof B=="number"){I=l*B*a/1e3,this.ctx.translate(I,0),i.x+=I*h;continue}const R=(B.isSpace?d:0)+u,U=s.charProcOperatorList[B.operatorListId];U?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...g),this.executeOperatorList(U),this.restore()):it(`Type3 character "${B.operatorListId}" is not available.`);const D=[B.width,0];Ve.applyTransform(D,g),S=D[0]*a+R,r.translate(S,0),i.x+=S*h}r.restore(),T&&(this.dependencyTracker=T)}setCharWidth(e,t,r){}setCharWidthAndBounds(e,t,r,i,s,a,o){var u;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let r;if(t[0]==="TilingPattern"){const i=this.baseTransform||$n(this.ctx),s={createCanvasGraphics:(a,o)=>new VO(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new rT(this.dependencyTracker,o,!0):null)};r=new mD(t,this.ctx,s,i)}else r=this._getPattern(e,t[1],t[2]);return r}setStrokeColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,r=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=fde(this.getObject(e,t)),this.cachedPatterns.set(t,i)),r&&(i.matrix=r),i}shadingFill(e,t){var a;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,t);r.fillStyle=i.getPattern(r,this,Zo(r),Ei.SHADING,e);const s=Zo(r);if(s){const{width:o,height:l}=r.canvas,u=Kg.slice();Ve.axialAlignedBoundingBox([0,0,o,l],s,u);const[d,h,g,v]=u;this.ctx.fillRect(d,h,g-d,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Ua.transform).recordDependencies(e,Ua.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Cn("Should not call beginInlineImage")}beginImageData(){Cn("Should not call beginImageData")}paintFormXObjectBegin(e,t,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=$n(this.ctx),r)){Ve.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,a,o,l]=r,u=new Path2D;u.rect(s,a,o-s,l-a),this.ctx.clip(u),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var T;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;t.isolated||V1("TODO: Support non-isolated groups."),t.knockout&&it("Knockout groups not supported.");const i=$n(r);if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Kg.slice();Ve.axialAlignedBoundingBox(t.bbox,$n(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=Ve.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,u,d),v=g.context;v.translate(-o,-l),v.transform(...i);let b=new Path2D;const[C,B,S,I]=t.bbox;if(b.rect(C,B,S-C,I-B),t.matrix){const R=new Path2D;R.addPath(b,new DOMMatrix(t.matrix)),b=R}v.clip(b),t.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),F0(r,v),this.ctx=v,(T=this.dependencyTracker)==null||T.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=$n(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=Kg.slice();Ve.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,r,i,s,a){if(P(this,Vo,vD).call(this),zS(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,Ve.singularValueDecompose2dScale($n(this.ctx),ua);const{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(ua[0],0,0,-ua[1],0,l*ua[1]),zS(this.ctx)}else{zS(this.ctx),this.endPath(e);const u=new Path2D;u.rect(r[0],r[1],o,l),this.ctx.clip(u)}}this.current=new DK(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),P(this,Vo,yD).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const r=t.count;t=this.getObject(e,t.data,t),t.count=r;const i=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r,i=0,s=0,a,o){var h,g,v;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const u=$n(l);l.transform(r,i,s,a,0,0);const d=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let b=0,C=o.length;b<C;b+=2){const B=Ve.transform(u,[r,i,s,a,o[b],o[b+1]]);l.drawImage(d.canvas,B[4],B[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,B[4],B[4]+d.canvas.width,B[5],B[5]+d.canvas.height)}l.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,Ua.transformAndFill);for(const u of t){const{data:d,width:h,height:g,transform:v}=u,b=this.cachedCanvases.getCanvas("maskCanvas",h,g),C=b.context;C.save();const B=this.getObject(e,d,u);LK(C,B),C.globalCompositeOperation="source-in",C.fillStyle=s?i.getPattern(C,this,Zo(r),Ei.FILL,e):i,C.fillRect(0,0,h,g),C.restore(),r.save(),r.transform(...v),r.scale(1,-1),GS(r,b.canvas,0,0,h,g,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,h,0,g),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){it("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,t,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){it("Dependent image isn't ready yet");return}const o=a.width,l=a.height,u=[];for(let d=0,h=s.length;d<h;d+=2)u.push({transform:[r,0,0,i,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const r=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;NK(h,t),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,Zo(s));s.imageSmoothingEnabled=QK($n(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,Ua.imageXObject).recordOperation(e),GS(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,r){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,d=t.height,g=this.cachedCanvases.getCanvas("inlineImage",u,d).context;NK(g,t),s=this.applyTransferMapsToCanvas(g)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const u of r)i.save(),i.transform(...u.transform),i.scale(1,-1),GS(i,s,u.x,u.y,u.w,u.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Ua.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,r){}beginMarkedContent(e,t){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,r){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===kK?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=$n(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/u;else{const d=l*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),u=Math.hypot(t,r),d=Math.hypot(i,s);if(e===0)a=d/l,o=u/l;else{const h=e*l;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();t&&r.save(),r.scale(s,a),lU.a=1/s,lU.d=1/a;const l=new Path2D;if(l.addPath(e,lU),o.length>0){const u=Math.max(s,a);r.setLineDash(o.map(d=>d/u)),r.lineDashOffset/=u}r.lineWidth=i||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Vo=new WeakSet,vD=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},yD=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},wD=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let em=VO;for(const n in zw)em.prototype[n]!==void 0&&(em.prototype[zw[n]]=em.prototype[n]);var Ox,tC,nC;let ou=(Ox=class{static get workerPort(){return f(this,tC)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");_(this,tC,e)}static get workerSrc(){return f(this,nC)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");_(this,nC,e)}},tC=new WeakMap,nC=new WeakMap,M(Ox,tC,null),M(Ox,nC,""),Ox);var Vm,rC;class bde{constructor({parsedData:e,rawData:t}){M(this,Vm);M(this,rC);_(this,Vm,e),_(this,rC,t)}getRaw(){return f(this,rC)}get(e){return f(this,Vm).get(e)??null}[Symbol.iterator](){return f(this,Vm).entries()}}Vm=new WeakMap,rC=new WeakMap;const Ug=Symbol("INTERNAL");var iC,sC,aC,Km;class Cde{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){M(this,iC,!1);M(this,sC,!1);M(this,aC,!1);M(this,Km,!0);_(this,iC,!!(e&la.DISPLAY)),_(this,sC,!!(e&la.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(f(this,aC))return f(this,Km);if(!f(this,Km))return!1;const{print:e,view:t}=this.usage;return f(this,iC)?(t==null?void 0:t.viewState)!=="OFF":f(this,sC)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Ug&&Cn("Internal method `_setVisible` called."),_(this,aC,r),_(this,Km,t)}}iC=new WeakMap,sC=new WeakMap,aC=new WeakMap,Km=new WeakMap;var Wc,fn,Gm,zm,oC,bD;class Ede{constructor(e,t=la.DISPLAY){M(this,oC);M(this,Wc,null);M(this,fn,new Map);M(this,Gm,null);M(this,zm,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,_(this,zm,e.order);for(const r of e.groups)f(this,fn).set(r.id,new Cde(t,r));if(e.baseState==="OFF")for(const r of f(this,fn).values())r._setVisible(Ug,!1);for(const r of e.on)f(this,fn).get(r)._setVisible(Ug,!0);for(const r of e.off)f(this,fn).get(r)._setVisible(Ug,!1);_(this,Gm,this.getHash())}}isVisible(e){if(f(this,fn).size===0)return!0;if(!e)return V1("Optional content group not defined."),!0;if(e.type==="OCG")return f(this,fn).has(e.id)?f(this,fn).get(e.id).visible:(it(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return P(this,oC,bD).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!f(this,fn).has(t))return it(`Optional content group not found: ${t}`),!0;if(f(this,fn).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!f(this,fn).has(t))return it(`Optional content group not found: ${t}`),!0;if(!f(this,fn).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!f(this,fn).has(t))return it(`Optional content group not found: ${t}`),!0;if(!f(this,fn).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!f(this,fn).has(t))return it(`Optional content group not found: ${t}`),!0;if(f(this,fn).get(t).visible)return!1}return!0}return it(`Unknown optional content policy ${e.policy}.`),!0}return it(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=f(this,fn).get(e);if(!i){it(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=f(this,fn).get(o))==null||s._setVisible(Ug,!1,!0));i._setVisible(Ug,!!t,!0),_(this,Wc,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=f(this,fn).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}_(this,Wc,null)}get hasInitialVisibility(){return f(this,Gm)===null||this.getHash()===f(this,Gm)}getOrder(){return f(this,fn).size?f(this,zm)?f(this,zm).slice():[...f(this,fn).keys()]:null}getGroup(e){return f(this,fn).get(e)||null}getHash(){if(f(this,Wc)!==null)return f(this,Wc);const e=new Ej;for(const[t,r]of f(this,fn))e.update(`${t}:${r.visible}`);return _(this,Wc,e.hexdigest())}[Symbol.iterator](){return f(this,fn).entries()}}Wc=new WeakMap,fn=new WeakMap,Gm=new WeakMap,zm=new WeakMap,oC=new WeakSet,bD=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=P(this,oC,bD).call(this,s);else if(f(this,fn).has(s))a=f(this,fn).get(s).visible;else return it(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class Bde{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Tt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Tt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Tt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Sde(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new xde(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class Sde{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=QQ(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class xde{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function _de(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=a(n),t){const d=u(t);return s(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const g=new TextDecoder(d,{fatal:!0}),v=zE(h);h=g.decode(v),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const h=[];let g;const v=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(d))!==null;){let[,C,B,S]=g;if(C=parseInt(C,10),C in h){if(C===0)break;continue}h[C]=[B,S]}const b=[];for(let C=0;C<h.length&&C in h;++C){let[B,S]=h[C];S=o(S),B&&(S=unescape(S),C===0&&(S=l(S))),b.push(S)}return b.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let g=0;g<h.length;++g){const v=h[g].indexOf('"');v!==-1&&(h[g]=h[g].slice(0,v),h.length=g+1),h[g]=h[g].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const g=d.slice(0,h),b=d.slice(h+1).replace(/^[^']*'/,"");return i(g,b)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,g,v,b){if(v==="q"||v==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,B){return String.fromCharCode(parseInt(B,16))}),i(g,b);try{b=atob(b)}catch{}return i(g,b)})}return""}function Dj(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function G1(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function Nj({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function Lj(n){const e=n.get("Content-Disposition");if(e){let t=_de(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(QQ(t))return t}return null}function YE(n,e){return new Z_(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Qj(n){return n===200||n===206}function kj(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Oj(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(it(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Tde{constructor(e){be(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Dj(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Tt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ide(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Fde(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Ide{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,kj(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=G1(s.url),!Qj(s.status))throw YE(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=Nj({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=Lj(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new qd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Oj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class Fde{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const a=i.url;fetch(a,kj(s,this._withCredentials,this._abortController)).then(o=>{const l=G1(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!Qj(o.status))throw YE(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:Oj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const uU=200,cU=206;function Mde(n){const e=n.response;return typeof e!="string"?e:zE(e).buffer}class Ude{constructor({url:e,httpHeaders:t,withCredentials:r}){be(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Dj(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=cU):i.expectedStatus=uU,t.responseType="arraybuffer",Tt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||uU;if(!(s===uU&&r.expectedStatus===cU)&&s!==r.expectedStatus){r.onError(i.status);return}const o=Mde(i);if(s===cU){const l=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?r.onDone({begin:parseInt(u[1],10),chunk:o}):(it('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Pde{constructor(e){this._source=e,this._manager=new Ude(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Tt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Rde(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new Dde(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Rde{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=G1(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=Nj({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Lj(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=YE(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Dde{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=G1((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=YE(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Nde=/^[a-z][a-z0-9\-+.]+:/i;function Lde(n){if(Nde.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Qde{constructor(e){this.source=e,this.url=Lde(e.url),Tt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Tt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new kde(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Ode(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class kde{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=YE(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new qd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ode{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const M0=Symbol("INITIAL_DATA");var js,AC,CD;class Hj{constructor(){M(this,AC);M(this,js,Object.create(null))}get(e,t=null){if(t){const i=P(this,AC,CD).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=f(this,js)[e];if(!r||r.data===M0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=f(this,js)[e];return!!t&&t.data!==M0}delete(e){const t=f(this,js)[e];return!t||t.data===M0?!1:(delete f(this,js)[e],!0)}resolve(e,t=null){const r=P(this,AC,CD).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in f(this,js)){const{data:r}=f(this,js)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}_(this,js,Object.create(null))}*[Symbol.iterator](){for(const e in f(this,js)){const{data:t}=f(this,js)[e];t!==M0&&(yield[e,t])}}}js=new WeakMap,AC=new WeakSet,CD=function(e){var t;return(t=f(this,js))[e]||(t[e]={...Promise.withResolvers(),data:M0})};const Hde=1e5,OK=30;var H8,Yc,bs,lC,uC,mh,Pl,cC,dC,vh,qm,$m,Xc,jm,fC,Wm,yh,hC,pC,sr,Ym,wh,gC,Jc,Xm,Pu,Vj,Kj,BD,ma,n_,SD,Gj,zj;let ED=(sr=class{constructor({textContentSource:e,container:t,viewport:r}){M(this,Pu);M(this,Yc,Promise.withResolvers());M(this,bs,null);M(this,lC,!1);M(this,uC,!!((H8=globalThis.FontInspector)!=null&&H8.enabled));M(this,mh,null);M(this,Pl,null);M(this,cC,0);M(this,dC,0);M(this,vh,null);M(this,qm,null);M(this,$m,0);M(this,Xc,0);M(this,jm,Object.create(null));M(this,fC,[]);M(this,Wm,null);M(this,yh,[]);M(this,hC,new WeakMap);M(this,pC,null);var l;if(e instanceof ReadableStream)_(this,Wm,e);else if(typeof e=="object")_(this,Wm,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,bs,_(this,qm,t)),_(this,Xc,r.scale*bp.pixelRatio),_(this,$m,r.rotation),_(this,Pl,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;_(this,pC,[1,0,0,-1,-a,o+s]),_(this,dC,i),_(this,cC,s),P(l=sr,ma,Gj).call(l),wp(t,r),f(this,Yc).promise.finally(()=>{f(sr,Xm).delete(this),_(this,Pl,null),_(this,jm,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Ii.platform;return st(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{f(this,vh).read().then(({value:t,done:r})=>{if(r){f(this,Yc).resolve();return}f(this,mh)??_(this,mh,t.lang),Object.assign(f(this,jm),t.styles),P(this,Pu,Vj).call(this,t.items),e()},f(this,Yc).reject)};return _(this,vh,f(this,Wm).getReader()),f(sr,Xm).add(this),e(),f(this,Yc).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*bp.pixelRatio,i=e.rotation;if(i!==f(this,$m)&&(t==null||t(),_(this,$m,i),wp(f(this,qm),{rotation:i})),r!==f(this,Xc)){t==null||t(),_(this,Xc,r);const a={div:null,properties:null,ctx:P(s=sr,ma,n_).call(s,f(this,mh))};for(const o of f(this,yh))a.properties=f(this,hC).get(o),a.div=o,P(this,Pu,BD).call(this,a)}}cancel(){var t;const e=new qd("TextLayer task cancelled.");(t=f(this,vh))==null||t.cancel(e).catch(()=>{}),_(this,vh,null),f(this,Yc).reject(e)}get textDivs(){return f(this,yh)}get textContentItemsStr(){return f(this,fC)}static cleanup(){if(!(f(this,Xm).size>0)){f(this,Ym).clear();for(const{canvas:e}of f(this,wh).values())e.remove();f(this,wh).clear()}}},Yc=new WeakMap,bs=new WeakMap,lC=new WeakMap,uC=new WeakMap,mh=new WeakMap,Pl=new WeakMap,cC=new WeakMap,dC=new WeakMap,vh=new WeakMap,qm=new WeakMap,$m=new WeakMap,Xc=new WeakMap,jm=new WeakMap,fC=new WeakMap,Wm=new WeakMap,yh=new WeakMap,hC=new WeakMap,pC=new WeakMap,Ym=new WeakMap,wh=new WeakMap,gC=new WeakMap,Jc=new WeakMap,Xm=new WeakMap,Pu=new WeakSet,Vj=function(e){var i,s;if(f(this,lC))return;(s=f(this,Pl)).ctx??(s.ctx=P(i=sr,ma,n_).call(i,f(this,mh)));const t=f(this,yh),r=f(this,fC);for(const a of e){if(t.length>Hde){it("Ignoring additional textDivs for performance reasons."),_(this,lC,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=f(this,bs);_(this,bs,document.createElement("span")),f(this,bs).classList.add("markedContent"),a.id&&f(this,bs).setAttribute("id",`${a.id}`),o.append(f(this,bs))}else a.type==="endMarkedContent"&&_(this,bs,f(this,bs).parentNode);continue}r.push(a.str),P(this,Pu,Kj).call(this,a)}},Kj=function(e){var C;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};f(this,yh).push(t);const i=Ve.transform(f(this,pC),e.transform);let s=Math.atan2(i[1],i[0]);const a=f(this,jm)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=f(this,uC)&&a.fontSubstitution||a.fontFamily;o=sr.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),u=l*P(C=sr,ma,zj).call(C,o,a,f(this,mh));let d,h;s===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(s),h=i[5]-u*Math.cos(s));const g="calc(var(--total-scale-factor) *",v=t.style;f(this,bs)===f(this,qm)?(v.left=`${(100*d/f(this,dC)).toFixed(2)}%`,v.top=`${(100*h/f(this,cC)).toFixed(2)}%`):(v.left=`${g}${d.toFixed(2)}px)`,v.top=`${g}${h.toFixed(2)}px)`),v.fontSize=`${g}${(f(sr,Jc)*l).toFixed(2)}px)`,v.fontFamily=o,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,f(this,uC)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const B=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);B!==S&&Math.max(B,S)/Math.min(B,S)>1.5&&(b=!0)}if(b&&(r.canvasWidth=a.vertical?e.height:e.width),f(this,hC).set(t,r),f(this,Pl).div=t,f(this,Pl).properties=r,P(this,Pu,BD).call(this,f(this,Pl)),r.hasText&&f(this,bs).append(t),r.hasEOL){const B=document.createElement("br");B.setAttribute("role","presentation"),f(this,bs).append(B)}},BD=function(e){var o;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let a="";if(f(sr,Jc)>1&&(a=`scale(${1/f(sr,Jc)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:d}=r;P(o=sr,ma,SD).call(o,i,d*f(this,Xc),l);const{width:h}=i.measureText(t.textContent);h>0&&(a=`scaleX(${u*f(this,Xc)/h}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)},ma=new WeakSet,n_=function(e=null){let t=f(this,wh).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,wh).set(e,t),f(this,gC).set(t,{size:0,family:""})}return t},SD=function(e,t,r){const i=f(this,gC).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},Gj=function(){if(f(this,Jc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),_(this,Jc,e.getBoundingClientRect().height),e.remove()},zj=function(e,t,r){const i=f(this,Ym).get(e);if(i)return i;const s=P(this,ma,n_).call(this,r);s.canvas.width=s.canvas.height=OK,P(this,ma,SD).call(this,s,OK,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return o?u=o/(o+l):(Ii.platform.isFirefox&&it("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),f(this,Ym).set(e,u),u},M(sr,ma),M(sr,Ym,new Map),M(sr,wh,new Map),M(sr,gC,new WeakMap),M(sr,Jc,null),M(sr,Xm,new Set),sr);const Vde=100;function VQ(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new xD,{docId:t}=e,r=n.url?Wce(n.url):null,i=n.data?Yce(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof qj?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof _D?n.worker:null;const h=n.verbosity,g=typeof n.docBaseUrl=="string"&&!K1(n.docBaseUrl)?n.docBaseUrl:null,v=OS(n.cMapUrl),b=n.cMapPacked!==!1,C=n.CMapReaderFactory||(es?ide:xK),B=OS(n.iccUrl),S=OS(n.standardFontDataUrl),I=n.StandardFontDataFactory||(es?sde:_K),T=OS(n.wasmUrl),R=n.WasmFactory||(es?ade:TK),U=n.stopAtErrors!==!0,D=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,L=n.isEvalSupported!==!1,H=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!es,k=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!es&&(Ii.platform.isFirefox||!globalThis.chrome),G=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,K=typeof n.disableFontFace=="boolean"?n.disableFontFace:es,z=n.fontExtraProperties===!0,J=n.enableXfa===!0,Y=n.ownerDocument||globalThis.document,ge=n.disableRange===!0,V=n.disableStream===!0,j=n.disableAutoFetch===!0,re=n.pdfBug===!0,he=n.CanvasFactory||(es?rde:ede),Ee=n.FilterFactory||(es?nde:tde),q=n.enableHWA===!0,X=n.useWasm!==!1,oe=l?l.length:n.length??NaN,Ce=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!es&&!K,se=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(C===xK&&I===_K&&R===TK&&v&&S&&T&&W0(v,document.baseURI)&&W0(S,document.baseURI)&&W0(T,document.baseURI)),ce=null;Ece(h);const ue={canvasFactory:new he({ownerDocument:Y,enableHWA:q}),filterFactory:new Ee({docId:t,ownerDocument:Y}),cMapReaderFactory:se?null:new C({baseUrl:v,isCompressed:b}),standardFontDataFactory:se?null:new I({baseUrl:S}),wasmFactory:se?null:new R({baseUrl:T})};d||(d=_D.create({verbosity:h,port:ou.workerPort}),e._worker=d);const Se={docId:t,apiVersion:"5.4.449",data:i,password:o,disableAutoFetch:j,rangeChunkSize:u,length:oe,docBaseUrl:g,enableXfa:J,evaluatorOptions:{maxImageSize:D,disableFontFace:K,ignoreErrors:U,isEvalSupported:L,isOffscreenCanvasSupported:H,isImageDecoderSupported:k,canvasMaxAreaInBytes:G,fontExtraProperties:z,useSystemFonts:Ce,useWasm:X,useWorkerFetch:se,cMapUrl:v,iccUrl:B,standardFontDataUrl:S,wasmUrl:T}},te={ownerDocument:Y,pdfBug:re,styleElement:ce,loadingParams:{disableAutoFetch:j,enableXfa:J}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Ie=d.messageHandler.sendWithPromise("GetDocRequest",Se,i?[i.buffer]:null);let Fe;if(l)Fe=new Bde(l,{disableRange:ge,disableStream:V});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const me=W0(r)?Tde:es?Qde:Pde;Fe=new me({url:r,length:oe,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:ge,disableStream:V})}return Ie.then(me=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const gt=new rw(t,me,d.port),$e=new zde(gt,e,Fe,te,ue,q);e._transport=$e,gt.send("Ready",null)})}).catch(e._capability.reject),e}var w1;const b1=class b1{constructor(){be(this,"_capability",Promise.withResolvers());be(this,"_transport",null);be(this,"_worker",null);be(this,"docId",`d${ur(b1,w1)._++}`);be(this,"destroyed",!1);be(this,"onPassword",null);be(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};w1=new WeakMap,M(b1,w1,0);let xD=b1;var bh,mC,vC,yC,wC,V8;let qj=(V8=class{constructor(e,t,r=!1,i=null){M(this,bh,Promise.withResolvers());M(this,mC,[]);M(this,vC,[]);M(this,yC,[]);M(this,wC,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){f(this,wC).push(e)}addProgressListener(e){f(this,yC).push(e)}addProgressiveReadListener(e){f(this,vC).push(e)}addProgressiveDoneListener(e){f(this,mC).push(e)}onDataRange(e,t){for(const r of f(this,wC))r(e,t)}onDataProgress(e,t){f(this,bh).promise.then(()=>{for(const r of f(this,yC))r(e,t)})}onDataProgressiveRead(e){f(this,bh).promise.then(()=>{for(const t of f(this,vC))t(e)})}onDataProgressiveDone(){f(this,bh).promise.then(()=>{for(const e of f(this,mC))e()})}transportReady(){f(this,bh).resolve()}requestDataRange(e,t){Cn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},bh=new WeakMap,mC=new WeakMap,vC=new WeakMap,yC=new WeakMap,wC=new WeakMap,V8);class Kde{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return st(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Rl,Ch,Aw;class Gde{constructor(e,t,r,i=!1){M(this,Ch);M(this,Rl,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new yK:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new Hj,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new $E({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return st(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:i="display",annotationMode:s=_c.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:b=null}){var k,G,K;(k=this._stats)==null||k.time("Overall");const C=this._transport.getRenderingIntent(i,s,h,g),{renderingIntent:B,cacheKey:S}=C;_(this,Rl,!1),l||(l=this._transport.getOptionalContentConfig(B));let I=this._intentStates.get(S);I||(I=Object.create(null),this._intentStates.set(S,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);const T=!!(B&la.PRINT);I.displayReadyCapability||(I.displayReadyCapability=Promise.withResolvers(),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(G=this._stats)==null||G.time("Page Request"),this._pumpOperatorList(C));const R=!!(this._pdfBug&&((K=globalThis.StepperManager)!=null&&K.enabled)),U=!this.recordedBBoxes&&(v||R),D=z=>{var J,Y;if(I.renderTasks.delete(L),U){const ge=(J=L.gfx)==null?void 0:J.dependencyTracker.take();ge&&(L.stepper&&L.stepper.setOperatorBBoxes(ge,L.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=ge))}T&&_(this,Rl,!0),P(this,Ch,Aw).call(this),z?(L.capability.reject(z),this._abortOperatorList({intentState:I,reason:z instanceof Error?z:new Error(z)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Y=globalThis.Stats)!=null&&Y.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new TD({callback:D,params:{canvas:t,canvasContext:e,dependencyTracker:U?new Ade(t,I.operatorList.length,R):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:b});(I.renderTasks||(I.renderTasks=new Set)).add(L);const H=L.task;return Promise.all([I.displayReadyCapability.promise,l]).then(([z,J])=>{var Y;if(this.destroyed){D();return}if((Y=this._stats)==null||Y.time("Rendering"),!(J.renderingIntent&B))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:z,optionalContentConfig:J}),L.operatorListChanged()}).catch(D),H}getOperatorList({intent:e="display",annotationMode:t=_c.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>qw.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:u}){if(u){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),_(this,Rl,!1),Promise.all(e)}cleanup(e=!1){_(this,Rl,!0);const t=P(this,Ch,Aw).call(this);return e&&t&&this._stats&&(this._stats=new yK),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&P(this,Ch,Aw).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:g})=>{if(g){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const g of u.renderTasks)g.operatorListChanged();P(this,Ch,Aw).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof LQ){let i=Vde;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new qd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Rl=new WeakMap,Ch=new WeakSet,Aw=function(){if(!f(this,Rl)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,Rl,!1),!0};var Zc,xo,Dl,Eh,wn,C1,Bh,Sh,is,r_,$j,jj,lw,Jm,i_;let _D=(wn=class{constructor({name:e=null,port:t=null,verbosity:r=Bce()}={}){M(this,is);M(this,Zc,Promise.withResolvers());M(this,xo,null);M(this,Dl,null);M(this,Eh,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(f(wn,Sh).has(t))throw new Error("Cannot use more than one PDFWorker per port.");f(wn,Sh).set(t,this),P(this,is,$j).call(this,t)}else P(this,is,jj).call(this)}get promise(){return f(this,Zc).promise}get port(){return f(this,Dl)}get messageHandler(){return f(this,xo)}destroy(){var e,t;this.destroyed=!0,(e=f(this,Eh))==null||e.terminate(),_(this,Eh,null),f(wn,Sh).delete(f(this,Dl)),_(this,Dl,null),(t=f(this,xo))==null||t.destroy(),_(this,xo,null)}static create(e){const t=f(this,Sh).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new wn(e)}static get workerSrc(){if(ou.workerSrc)return ou.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return st(this,"_setupFakeWorkerGlobal",(async()=>f(this,Jm,i_)?f(this,Jm,i_):(await import(this.workerSrc)).WorkerMessageHandler)())}},Zc=new WeakMap,xo=new WeakMap,Dl=new WeakMap,Eh=new WeakMap,C1=new WeakMap,Bh=new WeakMap,Sh=new WeakMap,is=new WeakSet,r_=function(){f(this,Zc).resolve(),f(this,xo).send("configure",{verbosity:this.verbosity})},$j=function(e){_(this,Dl,e),_(this,xo,new rw("main","worker",e)),f(this,xo).on("ready",()=>{}),P(this,is,r_).call(this)},jj=function(){if(f(wn,Bh)||f(wn,Jm,i_)){P(this,is,lw).call(this);return}let{workerSrc:e}=wn;try{wn._isSameOrigin(window.location,e)||(e=wn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new rw("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?f(this,Zc).reject(new Error("Worker was destroyed")):P(this,is,lw).call(this)},s=new AbortController;t.addEventListener("error",()=>{f(this,Eh)||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}_(this,xo,r),_(this,Dl,t),_(this,Eh,t),P(this,is,r_).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{P(this,is,lw).call(this)}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{V1("The worker has been disabled.")}P(this,is,lw).call(this)},lw=function(){f(wn,Bh)||(it("Setting up fake worker."),_(wn,Bh,!0)),wn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){f(this,Zc).reject(new Error("Worker was destroyed"));return}const t=new Zce;_(this,Dl,t);const r=`fake${ur(wn,C1)._++}`,i=new rw(r+"_worker",r,t);e.setup(i,t),_(this,xo,new rw(r,r+"_worker",t)),P(this,is,r_).call(this)}).catch(e=>{f(this,Zc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Jm=new WeakSet,i_=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},M(wn,Jm),M(wn,C1,0),M(wn,Bh,!1),M(wn,Sh,new WeakMap),es&&(_(wn,Bh,!0),ou.workerSrc||(ou.workerSrc="./pdf.worker.mjs")),wn._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},wn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},wn.fromPort=e=>{if(Nce("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return wn.create(e)},wn);var Nl,gA,Zm,ev,Ll,xh,uw;class zde{constructor(e,t,r,i,s,a){M(this,xh);M(this,Nl,new Map);M(this,gA,new Map);M(this,Zm,new Map);M(this,ev,new Map);M(this,Ll,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Hj,this.fontLoader=new $ce({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return st(this,"annotationStorage",new kQ)}getRenderingIntent(e,t=_c.ENABLE,r=null,i=!1,s=!1){let a=la.DISPLAY,o=AD;switch(e){case"any":a=la.ANY;break;case"display":break;case"print":a=la.PRINT;break;default:it(`getRenderingIntent - invalid intent: ${e}`)}const l=a&la.PRINT&&r instanceof Sj?r:this.annotationStorage;switch(t){case _c.DISABLE:a+=la.ANNOTATIONS_DISABLE;break;case _c.ENABLE:break;case _c.ENABLE_FORMS:a+=la.ANNOTATIONS_FORMS;break;case _c.ENABLE_STORAGE:a+=la.ANNOTATIONS_STORAGE,o=l.serializable;break;default:it(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=la.IS_EDITING),s&&(a+=la.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=f(this,Ll))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of f(this,gA).values())e.push(i._destroy());f(this,gA).clear(),f(this,Zm).clear(),f(this,ev).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),f(this,Nl).clear(),this.filterFactory.destroy(),ED.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new qd("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Tt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Tt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{Tt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Tt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new Kde(r,this))}),e.on("DocException",r=>{t._capability.reject(ps(r))}),e.on("PasswordRequest",r=>{_(this,Ll,Promise.withResolvers());try{if(!t.onPassword)throw ps(r);const i=s=>{s instanceof Error?f(this,Ll).reject(s):f(this,Ll).resolve({password:s})};t.onPassword(i,r.code)}catch(i){f(this,Ll).reject(i)}return f(this,Ll).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;f(this,gA).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const g=s.error;it(`Error during font loading: ${g}`),this.commonObjs.resolve(r,g);break}const o=new lD(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(g,v)=>globalThis.FontInspector.fontAdded(g,v):null,u=new jce(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(r,u)});break;case"CopyLocalImage":const{imageRef:d}=s;Tt(d,"The imageRef must be defined.");for(const g of f(this,gA).values())for(const[,v]of g.objs)if((v==null?void 0:v.ref)===d)return v.dataLen?(this.commonObjs.resolve(r,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const h=new uD(s);this.commonObjs.resolve(r,h.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const o=f(this,gA).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&it("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=f(this,Zm).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&f(this,ev).set(s.refStr,e);const a=new Gde(t,s,this,this._params.pdfBug);return f(this,gA).set(t,a),a});return f(this,Zm).set(t,i),i}getPageIndex(e){return cD(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return P(this,xh,uw).call(this,"GetFieldObjects")}hasJSActions(){return P(this,xh,uw).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return P(this,xh,uw).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return P(this,xh,uw).call(this,"GetOptionalContentConfig").then(t=>new Ede(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=f(this,Nl).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new bde(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:i[2]}});return f(this,Nl).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of f(this,gA).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),f(this,Nl).clear(),this.filterFactory.destroy(!0),ED.cleanup()}}cachedPageNumber(e){if(!cD(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return f(this,ev).get(t)??null}}Nl=new WeakMap,gA=new WeakMap,Zm=new WeakMap,ev=new WeakMap,Ll=new WeakMap,xh=new WeakSet,uw=function(e,t=null){const r=f(this,Nl).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return f(this,Nl).set(e,i),i};var ed;class qde{constructor(e){M(this,ed,null);be(this,"onContinue",null);be(this,"onError",null);_(this,ed,e)}get promise(){return f(this,ed).capability.promise}cancel(e=0){f(this,ed).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=f(this,ed).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=f(this,ed);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}ed=new WeakMap;var td,_h;const Rf=class Rf{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:b=null}){M(this,td,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new qde(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=v,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(f(Rf,_h).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(Rf,_h).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new em(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),f(this,td)&&(window.cancelAnimationFrame(f(this,td)),_(this,td,null)),f(Rf,_h).delete(this._canvas),e||(e=new LQ(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,td,window.requestAnimationFrame(()=>{_(this,td,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(Rf,_h).delete(this._canvas),this.callback())))}};td=new WeakMap,_h=new WeakMap,M(Rf,_h,new WeakSet);let TD=Rf;const Wj="5.4.449",$de="f44e5f0e6";var Ws,Th,tv,Dr,bC,nv,Ql,CC,nd,_o,bi,EC,hn,ID,FD,MD,Sf,Xj,vc;let Yj=(bi=class{constructor({editor:e=null,uiManager:t=null}){M(this,hn);M(this,Ws,null);M(this,Th,null);M(this,tv);M(this,Dr,null);M(this,bC,!1);M(this,nv,!1);M(this,Ql,null);M(this,CC);M(this,nd,null);M(this,_o,null);var r,i;e?(_(this,nv,!1),_(this,Ql,e)):_(this,nv,!0),_(this,_o,(e==null?void 0:e._uiManager)||t),_(this,CC,f(this,_o)._eventBus),_(this,tv,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=f(this,_o))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),f(bi,EC)||_(bi,EC,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return st(this,"_keyboardManager",new WE([[["Escape","mac+Escape"],bi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],bi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],bi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],bi.prototype._moveToPrevious],[["Home","mac+Home"],bi.prototype._moveToBeginning],[["End","mac+End"],bi.prototype._moveToEnd]]))}renderButton(){const e=_(this,Ws,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",f(this,Ql)&&(e.ariaControls=`${f(this,Ql).id}_colorpicker_dropdown`);const t=f(this,_o)._signal;e.addEventListener("click",P(this,hn,Sf).bind(this),{signal:t}),e.addEventListener("keydown",P(this,hn,MD).bind(this),{signal:t});const r=_(this,Th,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=f(this,tv),e.append(r),e}renderMainDropdown(){const e=_(this,Dr,P(this,hn,ID).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===f(this,Ws)){P(this,hn,Sf).call(this,e);return}const t=e.target.getAttribute("data-color");t&&P(this,hn,FD).call(this,t,e)}_moveToNext(e){var t,r;if(!f(this,hn,vc)){P(this,hn,Sf).call(this,e);return}if(e.target===f(this,Ws)){(t=f(this,Dr).firstElementChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=f(this,Dr))==null?void 0:t.firstElementChild)||e.target===f(this,Ws)){f(this,hn,vc)&&this._hideDropdownFromKeyboard();return}f(this,hn,vc)||P(this,hn,Sf).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!f(this,hn,vc)){P(this,hn,Sf).call(this,e);return}(t=f(this,Dr).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!f(this,hn,vc)){P(this,hn,Sf).call(this,e);return}(t=f(this,Dr).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=f(this,Dr))==null||e.classList.add("hidden"),f(this,Ws).ariaExpanded="false",(t=f(this,nd))==null||t.abort(),_(this,nd,null)}_hideDropdownFromKeyboard(){var e;if(!f(this,nv)){if(!f(this,hn,vc)){(e=f(this,Ql))==null||e.unselect();return}this.hideDropdown(),f(this,Ws).focus({preventScroll:!0,focusVisible:f(this,bC)})}}updateColor(e){if(f(this,Th)&&(f(this,Th).style.backgroundColor=e),!f(this,Dr))return;const t=f(this,_o).highlightColors.values();for(const r of f(this,Dr).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=f(this,Ws))==null||e.remove(),_(this,Ws,null),_(this,Th,null),(t=f(this,Dr))==null||t.remove(),_(this,Dr,null)}},Ws=new WeakMap,Th=new WeakMap,tv=new WeakMap,Dr=new WeakMap,bC=new WeakMap,nv=new WeakMap,Ql=new WeakMap,CC=new WeakMap,nd=new WeakMap,_o=new WeakMap,EC=new WeakMap,hn=new WeakSet,ID=function(){const e=document.createElement("div"),t=f(this,_o)._signal;e.addEventListener("contextmenu",oo,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),f(this,Ql)&&(e.id=`${f(this,Ql).id}_colorpicker_dropdown`);for(const[r,i]of f(this,_o).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",f(bi,EC)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===f(this,tv),s.addEventListener("click",P(this,hn,FD).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",P(this,hn,MD).bind(this),{signal:t}),e},FD=function(e,t){t.stopPropagation(),f(this,CC).dispatch("switchannotationeditorparams",{source:this,type:_t.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},MD=function(e){bi._keyboardManager.exec(this,e)},Sf=function(e){if(f(this,hn,vc)){this.hideDropdown();return}if(_(this,bC,e.detail===0),f(this,nd)||(_(this,nd,new AbortController),window.addEventListener("pointerdown",P(this,hn,Xj).bind(this),{signal:f(this,_o).combinedSignal(f(this,nd))})),f(this,Ws).ariaExpanded="true",f(this,Dr)){f(this,Dr).classList.remove("hidden");return}const t=_(this,Dr,P(this,hn,ID).call(this));f(this,Ws).append(t)},Xj=function(e){var t;(t=f(this,Dr))!=null&&t.contains(e.target)||this.hideDropdown()},vc=function(){return f(this,Dr)&&!f(this,Dr).classList.contains("hidden")},M(bi,EC,null),bi);var mA,BC,rv,SC;const Df=class Df{constructor(e){M(this,mA,null);M(this,BC,null);M(this,rv,null);_(this,BC,e),_(this,rv,e._uiManager),f(Df,SC)||_(Df,SC,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(f(this,mA))return f(this,mA);const{editorType:e,colorType:t,color:r}=f(this,BC),i=_(this,mA,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",f(Df,SC)[e]),i.addEventListener("input",()=>{f(this,rv).updateParams(t,i.value)},{signal:f(this,rv)._signal}),i}update(e){f(this,mA)&&(f(this,mA).value=e)}destroy(){var e;(e=f(this,mA))==null||e.remove(),_(this,mA,null)}hideDropdown(){}};mA=new WeakMap,BC=new WeakMap,rv=new WeakMap,SC=new WeakMap,M(Df,SC,null);let iT=Df;function HK(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function U0(n){return Math.max(0,Math.min(255,255*n))}class VK{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=U0(e),[e,e,e]}static G_HTML([e]){const t=HK(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(U0)}static RGB_HTML(e){return`#${e.map(HK).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[U0(1-Math.min(1,e+i)),U0(1-Math.min(1,r+i)),U0(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class jde{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Cn("Abstract method `_createSVG` called.")}}let sT=class extends jde{_createSVG(e){return document.createElementNS(Al,e)}};const Wde=9,Cp=new WeakSet,Yde=new Date().getTimezoneOffset()*60*1e3;class dU{static create(e){switch(e.data.annotationType){case xr.LINK:return new KQ(e);case xr.TEXT:return new Jde(e);case xr.WIDGET:switch(e.data.fieldType){case"Tx":return new Zde(e);case"Btn":return e.data.radioButton?new eW(e):e.data.checkBox?new tfe(e):new nfe(e);case"Ch":return new rfe(e);case"Sig":return new efe(e)}return new Mp(e);case xr.POPUP:return new PD(e);case xr.FREETEXT:return new sW(e);case xr.LINE:return new sfe(e);case xr.SQUARE:return new afe(e);case xr.CIRCLE:return new ofe(e);case xr.POLYLINE:return new aW(e);case xr.CARET:return new lfe(e);case xr.INK:return new GQ(e);case xr.POLYGON:return new Afe(e);case xr.HIGHLIGHT:return new oW(e);case xr.UNDERLINE:return new ufe(e);case xr.SQUIGGLY:return new cfe(e);case xr.STRIKEOUT:return new dfe(e);case xr.STAMP:return new AW(e);case xr.FILEATTACHMENT:return new ffe(e);default:return new Wn(e)}}}var Ih,iv,qa,xC,UD;const KO=class KO{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){M(this,xC);M(this,Ih,null);M(this,iv,!1);M(this,qa,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return KO._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,t=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let u=0,d=l.length;u<d;u+=2)l[u+1]>a?(a=l[u+1],s=l[u]):l[u+1]===a&&(s=Math.max(s,l[u]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){var t,r,i;const{data:e}=this;return((r=(t=this.annotationStorage.getRawValue(`${Gw}${e.id}`))==null?void 0:t.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:r})||this.annotationStorage.setValue(`${Gw}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=f(this,qa))==null?void 0:e.popup)||this.popup)==null||t.remove(),_(this,qa,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(f(this,Ih)||_(this,Ih,{rect:this.data.rect.slice(0)}));const{rect:t,popup:r}=e;t&&P(this,xC,UD).call(this,t);let i=((s=f(this,qa))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=f(this,qa).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),_(this,qa,null),this.popup=null))}resetEdited(){var e;f(this,Ih)&&(P(this,xC,UD).call(this,f(this,Ih).rect),(e=f(this,qa))==null||e.popup.resetEdited(),_(this,Ih,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Mp)&&!(this instanceof KQ)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof PD){const{rotation:C}=t;return!t.hasOwnCanvas&&C!==0&&this.setRotation(C,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const C=t.borderStyle.horizontalCornerRadius,B=t.borderStyle.verticalCornerRadius;if(C>0||B>0){const I=`calc(${C}px * var(--total-scale-factor)) / calc(${B}px * var(--total-scale-factor))`;a.borderRadius=I}else if(this instanceof eW){const I=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=I}switch(t.borderStyle.style){case _g.SOLID:a.borderStyle="solid";break;case _g.DASHED:a.borderStyle="dashed";break;case _g.BEVELED:it("Unimplemented border style: beveled");break;case _g.INSET:it("Unimplemented border style: inset");break;case _g.UNDERLINE:a.borderBottomStyle="solid";break}const S=t.borderColor||null;S?(_(this,iv,!0),a.borderColor=Ve.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):a.borderWidth=0}const u=Ve.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:g,pageY:v}=i.rawDims;a.left=`${100*(u[0]-g)/d}%`,a.top=`${100*(u[1]-v)/h}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*a/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[r]=VK[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:VK[`${a}_rgb`](o)})};return st(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(C=>Math.fround(C));if(e.length===8){const[C,B,S,I]=e.subarray(2,6);if(i===C&&s===B&&t===S&&r===I)return}const{style:a}=this.container;let o;if(f(this,iv)){const{borderColor:C,borderWidth:B}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${B}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const g=d.createElement("defs");h.append(g);const v=d.createElement("clipPath"),b=`clippath_${this.data.id}`;v.setAttribute("id",b),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let C=2,B=e.length;C<B;C+=8){const S=e[C],I=e[C+1],T=e[C+2],R=e[C+3],U=d.createElement("rect"),D=(T-t)/l,L=(s-I)/u,H=(S-T)/l,k=(I-R)/u;U.setAttribute("x",D),U.setAttribute("y",L),U.setAttribute("width",H),U.setAttribute("height",k),v.append(U),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${L}" width="${H}" height="${k}"/>`)}f(this,iv)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:t}=this;let r,i;e?(r={str:e.text},i=e.date):(r=t.contentsObj,i=t.modificationDate),_(this,qa,new PD({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(f(this,qa)||this.popup||this.data.popupRef)}get extraPopupElement(){return f(this,qa)}render(){Cn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!Cp.has(u)){it(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&Cp.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Ih=new WeakMap,iv=new WeakMap,qa=new WeakMap,xC=new WeakSet,UD=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let Wn=KO;class Xde extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var da,xf,Jj,Zj;class KQ extends Wn{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});M(this,da);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),s=!0):t.attachment?(P(this,da,Jj).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(P(this,da,Zj).call(this,i,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(t,r,i=""){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&P(this,da,xf).call(this),i&&(t.title=i)}_bindNamedAction(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(t.title=i),P(this,da,xf).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(t.title=r.overlaidText),t.onclick||(t.onclick=()=>!1),P(this,da,xf).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),P(this,da,xf).call(this),!this._fieldObjects){it('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:a,include:o}=r,l=[];if(s.length!==0||a.length!==0){const g=new Set(a);for(const v of s){const b=this._fieldObjects[v]||[];for(const{id:C}of b)g.add(C)}for(const v of Object.values(this._fieldObjects))for(const b of v)g.has(b.id)===o&&l.push(b)}else for(const g of Object.values(this._fieldObjects))l.push(...g);const u=this.annotationStorage,d=[];for(const g of l){const{id:v}=g;switch(d.push(v),g.type){case"text":{const C=g.defaultValue||"";u.setValue(v,{value:C});break}case"checkbox":case"radiobutton":{const C=g.defaultValue===g.exportValues;u.setValue(v,{value:C});break}case"combobox":case"listbox":{const C=g.defaultValue||"";u.setValue(v,{value:C});break}default:continue}const b=document.querySelector(`[data-element-id="${v}"]`);if(b){if(!Cp.has(b)){it(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}da=new WeakSet,xf=function(){this.container.setAttribute("data-internal-link","")},Jj=function(t,r,i="",s=null){t.href=this.linkService.getAnchorUrl(""),r.description?t.title=r.description:i&&(t.title=i),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,s),!1},P(this,da,xf).call(this)},Zj=function(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(t.title=i),P(this,da,xf).call(this)};class Jde extends Wn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Mp extends Wn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ii.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,r,i){var s,a,o;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ve.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Wde,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(iU*i))||1,h=u/d;a=Math.min(i,l(h/iU))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(u/iU))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Ve.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Zde extends Mp{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Cp.add(r),this.contentElement=r,r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:g,timeStep:v}=this.data,b=!!g&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",B=>{e.setValue(t,{value:B.target.value}),this.setPropertyOnSiblings(r,"value",B.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",B=>{const S=this.data.defaultFieldValue??"";r.value=d.userValue=S,d.formattedValue=null});let C=B=>{const{formattedValue:S}=d;S!=null&&(B.target.value=S),B.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",S=>{var T;if(d.focused)return;const{target:I}=S;if(b&&(I.type=g,v&&(I.step=v)),d.userValue){const R=d.userValue;if(b)if(g==="time"){const U=new Date(R),D=[U.getHours(),U.getMinutes(),U.getSeconds()];I.value=D.map(L=>L.toString().padStart(2,"0")).join(":")}else I.value=new Date(R-Yde).toISOString().split(g==="date"?"T":".",1)[0];else I.value=R}d.lastCommittedValue=I.value,d.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const I={value(T){d.userValue=T.detail.value??"",b||e.setValue(t,{value:d.userValue.toString()}),T.target.value=d.userValue},formattedValue(T){const{formattedValue:R}=T.detail;d.formattedValue=R,R!=null&&T.target!==document.activeElement&&(T.target.value=R);const U={formattedValue:R};b&&(U.value=R),e.setValue(t,U)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var L;const{charLimit:R}=T.detail,{target:U}=T;if(R===0){U.removeAttribute("maxLength");return}U.setAttribute("maxLength",R);let D=d.userValue;!D||D.length<=R||(D=D.slice(0,R),U.value=d.userValue=D,e.setValue(t,{value:D}),(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:U.selectionStart,selEnd:U.selectionEnd}}))}};this._dispatchEventFromSandbox(I,S)}),r.addEventListener("keydown",S=>{var R;d.commitKey=1;let I=-1;if(S.key==="Escape"?I=0:S.key==="Enter"&&!this.data.multiLine?I=2:S.key==="Tab"&&(d.commitKey=3),I===-1)return;const{value:T}=S.target;d.lastCommittedValue!==T&&(d.lastCommittedValue=T,d.userValue=T,(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:I,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const B=C;C=null,r.addEventListener("blur",S=>{var R,U;if(!d.focused||!S.relatedTarget)return;(R=this.data.actions)!=null&&R.Blur||(d.focused=!1);const{target:I}=S;let{value:T}=I;if(b){if(T&&g==="time"){const D=T.split(":").map(L=>parseInt(L,10));T=new Date(2e3,0,1,D[0],D[1],D[2]||0).valueOf(),I.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();I.type="text"}d.userValue=T,d.lastCommittedValue!==T&&((U=this.linkService.eventBus)==null||U.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:d.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),B(S)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",S=>{var k;d.lastCommittedValue=null;const{data:I,target:T}=S,{value:R,selectionStart:U,selectionEnd:D}=T;let L=U,H=D;switch(S.inputType){case"deleteWordBackward":{const G=R.substring(0,U).match(/\w*[^\w]*$/);G&&(L-=G[0].length);break}case"deleteWordForward":{const G=R.substring(U).match(/^[^\w]*\w*/);G&&(H+=G[0].length);break}case"deleteContentBackward":U===D&&(L-=1);break;case"deleteContentForward":U===D&&(H+=1);break}S.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:R,change:I||"",willCommit:!1,selStart:L,selEnd:H}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(C&&r.addEventListener("blur",C),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class efe extends Mp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class tfe extends Mp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Cp.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class eW extends Mp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Cp.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const g=d&&h.id===r;h.domElement&&(h.domElement.checked=g),e.setValue(h.id,{value:g})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class nfe extends KQ{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class rfe extends Mp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Cp.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:g,multiple:v}=i;return v?Array.prototype.filter.call(g,b=>b.selected).map(b=>b[h]):g.selectedIndex===-1?null:g[g.selectedIndex][h]};let l=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(g){a==null||a();const v=g.detail.value,b=new Set(Array.isArray(v)?v:[v]);for(const C of i.options)C.selected=b.has(C.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(g){i.multiple=!0},remove(g){const v=i.options,b=g.detail.remove;v[b].selected=!1,i.remove(b),v.length>0&&Array.prototype.findIndex.call(v,B=>B.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(g){const{index:v,displayValue:b,exportValue:C}=g.detail.insert,B=i.children[v],S=document.createElement("option");S.textContent=b,S.value=C,B?B.before(S):i.append(S),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},items(g){const{items:v}=g.detail;for(;i.length!==0;)i.remove(0);for(const b of v){const{displayValue:C,exportValue:B}=b,S=document.createElement("option");S.textContent=C,S.value=B,i.append(S)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(g)}),l=o(!1)},indices(g){const v=new Set(g.detail.indices);for(const b of g.target.options)b.selected=v.has(b.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var v;const h=o(!0),g=o(!1);e.setValue(t,{value:h}),d.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:g,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var _C,RD;class PD extends Wn{constructor(t){const{data:r,elements:i,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&Wn._hasPopupData(r)});M(this,_C);if(this.elements=i,a&&Wn._hasPopupData(r)){const o=this.popup=P(this,_C,RD).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const r=this.popup=P(this,_C,RD).call(this),i=[];for(const s of this.elements)s.popup=r,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${Vg}${s}`).join(",")),this.container}}_C=new WeakSet,RD=function(){return new ife({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Ys,rd,E1,B1,sv,av,nr,vA,id,Fh,ov,Av,yA,Xs,kl,Ol,rr,Hl,sd,TC,Vl,lv,Mh,ad,Xr,od,ht,s_,DD,ND,LD,a_,QD,tW,nW,rW,iW,o_,A_,kD;class ife{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:d,open:h,commentManager:g=null}){M(this,ht);M(this,Ys,null);M(this,rd,P(this,ht,rW).bind(this));M(this,E1,P(this,ht,kD).bind(this));M(this,B1,P(this,ht,A_).bind(this));M(this,sv,P(this,ht,o_).bind(this));M(this,av,null);M(this,nr,null);M(this,vA,null);M(this,id,null);M(this,Fh,null);M(this,ov,null);M(this,Av,null);M(this,yA,!1);M(this,Xs,null);M(this,kl,null);M(this,Ol,null);M(this,rr,null);M(this,Hl,null);M(this,sd,null);M(this,TC,null);M(this,Vl,null);M(this,lv,null);M(this,Mh,null);M(this,ad,!1);M(this,Xr,null);M(this,od,null);_(this,nr,e),_(this,lv,i),_(this,vA,a),_(this,Vl,o),_(this,ov,l),_(this,av,t),_(this,TC,u),_(this,Av,d),_(this,Fh,r),_(this,Ys,g),_(this,Xr,r[0]),_(this,id,VR.toDateObject(s)),this.trigger=r.flatMap(v=>v.getElementsToTriggerPopup()),g||(P(this,ht,s_).call(this),f(this,nr).hidden=!0,h&&P(this,ht,o_).call(this))}renderCommentButton(){if(f(this,rr)){f(this,rr).parentNode||f(this,Xr).container.after(f(this,rr));return}if(f(this,Hl)||P(this,ht,DD).call(this),!f(this,Hl))return;const{signal:e}=_(this,kl,new AbortController),t=f(this,Xr).hasOwnCommentButton,r=()=>{f(this,Ys).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{f(this,Ys).toggleCommentPopup(this,!1,!0,!t)},s=()=>{f(this,Ys).toggleCommentPopup(this,!1,!1)};if(t){_(this,rr,f(this,Xr).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",f(this,rd),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=_(this,rr,document.createElement("button"));a.className="annotationCommentButton";const o=f(this,Xr).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),P(this,ht,LD).call(this),P(this,ht,ND).call(this),a.addEventListener("keydown",f(this,rd),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=f(this,Xr).commentData;return e?f(this,ov)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=f(this,rr))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}=f(this,Xr).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return f(this,rr)}get comment(){return f(this,od)||_(this,od,f(this,Xr).commentText),f(this,od)}set comment(e){e!==this.comment&&(f(this,Xr).commentText=_(this,od,e))}focus(){var e;(e=f(this,Xr).container)==null||e.focus()}get parentBoundingClientRect(){return f(this,Xr).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){f(this,rr)&&(f(this,rr).classList.toggle("selected",e),f(this,rr).ariaExpanded=t)}setSelectedCommentButton(e){f(this,rr).classList.toggle("selected",e)}get commentPopupPosition(){if(f(this,sd))return f(this,sd);const{x:e,y:t,height:r}=f(this,rr).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=f(this,Xr).layer.getBoundingClientRect();return[(e-i)/a,(t+r-s)/o]}set commentPopupPosition(e){_(this,sd,e)}hasDefaultPopupPosition(){return f(this,sd)===null}get commentButtonPosition(){return f(this,Hl)}get commentButtonWidth(){return f(this,rr).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,r]=f(this,sd)||this.commentButtonPosition.map(u=>u/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;f(this,Ys).showDialog(null,this,s+t*o,a+r*l,{...e,parentDimensions:i})}render(){var r,i;if(f(this,Xs))return;const e=_(this,Xs,document.createElement("div"));if(e.className="popup",f(this,av)){const s=e.style.outlineColor=Ve.makeHexColor(...f(this,av));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(r=f(this,lv))!=null&&r.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=f(this,lv)}if(e.append(t),f(this,id)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,id).valueOf()})),s.dateTime=f(this,id).toISOString(),t.append(s)}K6({html:f(this,ht,a_)||f(this,vA).str,dir:(i=f(this,vA))==null?void 0:i.dir,className:"popupContent"},e),f(this,nr).append(e)}updateEdited({rect:e,popup:t,deleted:r}){var i;if(f(this,Ys)){r?(this.remove(),_(this,od,null)):t&&(t.deleted?this.remove():(P(this,ht,LD).call(this),_(this,od,t.text))),e&&(_(this,Hl,null),P(this,ht,DD).call(this),P(this,ht,ND).call(this));return}if(r||t!=null&&t.deleted){this.remove();return}P(this,ht,s_).call(this),f(this,Mh)||_(this,Mh,{contentsObj:f(this,vA),richText:f(this,Vl)}),e&&_(this,Ol,null),t&&t.text&&(_(this,Vl,P(this,ht,nW).call(this,t.text)),_(this,id,VR.toDateObject(t.date)),_(this,vA,null)),(i=f(this,Xs))==null||i.remove(),_(this,Xs,null)}resetEdited(){var e;f(this,Mh)&&({contentsObj:ur(this,vA)._,richText:ur(this,Vl)._}=f(this,Mh),_(this,Mh,null),(e=f(this,Xs))==null||e.remove(),_(this,Xs,null),_(this,Ol,null))}remove(){var e,t,r;if((e=f(this,kl))==null||e.abort(),_(this,kl,null),(t=f(this,Xs))==null||t.remove(),_(this,Xs,null),_(this,ad,!1),_(this,yA,!1),(r=f(this,rr))==null||r.remove(),_(this,rr,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){_(this,ad,this.isVisible),f(this,ad)&&(f(this,nr).hidden=!0)}maybeShow(){f(this,Ys)||(P(this,ht,s_).call(this),f(this,ad)&&(f(this,Xs)||P(this,ht,A_).call(this),_(this,ad,!1),f(this,nr).hidden=!1))}get isVisible(){return f(this,Ys)?!1:f(this,nr).hidden===!1}}Ys=new WeakMap,rd=new WeakMap,E1=new WeakMap,B1=new WeakMap,sv=new WeakMap,av=new WeakMap,nr=new WeakMap,vA=new WeakMap,id=new WeakMap,Fh=new WeakMap,ov=new WeakMap,Av=new WeakMap,yA=new WeakMap,Xs=new WeakMap,kl=new WeakMap,Ol=new WeakMap,rr=new WeakMap,Hl=new WeakMap,sd=new WeakMap,TC=new WeakMap,Vl=new WeakMap,lv=new WeakMap,Mh=new WeakMap,ad=new WeakMap,Xr=new WeakMap,od=new WeakMap,ht=new WeakSet,s_=function(){var t;if(f(this,kl))return;_(this,kl,new AbortController);const{signal:e}=f(this,kl);for(const r of this.trigger)r.addEventListener("click",f(this,sv),{signal:e}),r.addEventListener("pointerenter",f(this,B1),{signal:e}),r.addEventListener("pointerleave",f(this,E1),{signal:e}),r.classList.add("popupTriggerArea");for(const r of f(this,Fh))(t=r.container)==null||t.addEventListener("keydown",f(this,rd),{signal:e})},DD=function(){const e=f(this,Fh).find(t=>t.hasCommentButton);e&&_(this,Hl,e._normalizePoint(e.commentButtonPosition))},ND=function(){if(f(this,Xr).extraPopupElement&&!f(this,Xr).editor)return;f(this,rr)||this.renderCommentButton();const[e,t]=f(this,Hl),{style:r}=f(this,rr);r.left=`calc(${e}%)`,r.top=`calc(${t}% - var(--comment-button-dim))`},LD=function(){f(this,Xr).extraPopupElement||(f(this,rr)||this.renderCommentButton(),f(this,rr).style.backgroundColor=this.commentButtonColor||"")},a_=function(){const e=f(this,Vl),t=f(this,vA);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&f(this,Vl).html||null},QD=function(){var e,t,r;return((r=(t=(e=f(this,ht,a_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},tW=function(){var e,t,r;return((r=(t=(e=f(this,ht,a_))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},nW=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:f(this,ht,tW),fontSize:f(this,ht,QD)?`calc(${f(this,ht,QD)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},rW=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&f(this,yA))&&P(this,ht,o_).call(this)},iW=function(){if(f(this,Ol)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=f(this,ov);let a=!!f(this,Av),o=a?f(this,Av):f(this,TC);for(const b of f(this,Fh))if(!o||Ve.intersect(b.data.rect,o)!==null){o=b.data.rect,a=!0;break}const l=Ve.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,g=l[1];_(this,Ol,[100*(h-i)/t,100*(g-s)/r]);const{style:v}=f(this,nr);v.left=`${f(this,Ol)[0]}%`,v.top=`${f(this,Ol)[1]}%`},o_=function(){if(f(this,Ys)){f(this,Ys).toggleCommentPopup(this,!1);return}_(this,yA,!f(this,yA)),f(this,yA)?(P(this,ht,A_).call(this),f(this,nr).addEventListener("click",f(this,sv)),f(this,nr).addEventListener("keydown",f(this,rd))):(P(this,ht,kD).call(this),f(this,nr).removeEventListener("click",f(this,sv)),f(this,nr).removeEventListener("keydown",f(this,rd)))},A_=function(){f(this,Xs)||this.render(),this.isVisible?f(this,yA)&&f(this,nr).classList.add("focused"):(P(this,ht,iW).call(this),f(this,nr).hidden=!1,f(this,nr).style.zIndex=parseInt(f(this,nr).style.zIndex)+1e3)},kD=function(){f(this,nr).classList.remove("focused"),!(f(this,yA)||!this.isVisible)&&(f(this,nr).hidden=!0,f(this,nr).style.zIndex=parseInt(f(this,nr).style.zIndex)-1e3)};class sW extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ot.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var IC;class sfe extends Wn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,IC,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=_(this,IC,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,IC)}addHighlightArea(){this.container.classList.add("highlightArea")}}IC=new WeakMap;var FC;class afe extends Wn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,FC,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=_(this,FC,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,FC)}addHighlightArea(){this.container.classList.add("highlightArea")}}FC=new WeakMap;var MC;class ofe extends Wn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,MC,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=_(this,MC,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,MC)}addHighlightArea(){this.container.classList.add("highlightArea")}}MC=new WeakMap;var UC;class aW extends Wn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,UC,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!r)return this.container;const l=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,g=r.length;h<g;h+=2){const v=r[h]-t[0],b=t[3]-r[h+1];u.push(`${v},${b}`)}u=u.join(" ");const d=_(this,UC,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return f(this,UC)}addHighlightArea(){this.container.classList.add("highlightArea")}}UC=new WeakMap;class Afe extends aW{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class lfe extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var PC,Uh,RC,OD;class GQ extends Wn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});M(this,RC);M(this,PC,null);M(this,Uh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ot.HIGHLIGHT:ot.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=P(this,RC,OD).call(this,r,t),d=this.svgFactory.create(l,u,!0),h=_(this,PC,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let g=0,v=i.length;g<v;g++){const b=this.svgFactory.createElement(this.svgElementName);f(this,Uh).push(b),b.setAttribute("points",i[g].join(",")),h.append(b)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,a=f(this,PC);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let o=0,l=f(this,Uh).length;o<l;o++)f(this,Uh)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:u}=P(this,RC,OD).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return f(this,Uh)}addHighlightArea(){this.container.classList.add("highlightArea")}}PC=new WeakMap,Uh=new WeakMap,RC=new WeakSet,OD=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class oW extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ot.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class ufe extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class cfe extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class dfe extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class AW extends Wn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ot.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var DC,NC,HD;class ffe extends Wn{constructor(t){var i;super(t,{isRenderable:!0});M(this,NC);M(this,DC,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",P(this,NC,HD).bind(this)),_(this,DC,i);const{isMac:s}=Ii.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&P(this,NC,HD).call(this)}),!r.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return f(this,DC)}addHighlightArea(){this.container.classList.add("highlightArea")}}DC=new WeakMap,NC=new WeakSet,HD=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Ph,Rh,uv,Ad,LC,Dh,Js,QC,yu,l_,VD,cv;let hfe=(cv=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:u,annotationStorage:d}){M(this,yu);M(this,Ph,null);M(this,Rh,null);M(this,uv,null);M(this,Ad,new Map);M(this,LC,null);M(this,Dh,null);M(this,Js,[]);M(this,QC,!1);this.div=e,_(this,Ph,t),_(this,Rh,r),_(this,LC,o||null),_(this,Dh,u||null),_(this,uv,d||new kQ),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return f(this,Ad).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;wp(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:f(this,Dh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new sT,annotationStorage:f(this,uv),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===xr.POPUP;if(u){const g=i.get(l.id);if(!g)continue;if(!this._commentManager){s.push(l);continue}a.elements=g}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=dU.create(a);if(!d.isRenderable)continue;if(!u&&(f(this,Js).push(d),l.popupRef)){const g=i.get(l.popupRef);g?g.push(d):i.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(f(this,Ad).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}await P(this,yu,l_).call(this);for(const l of s){const u=a.elements=i.get(l.id);a.data=l;const d=dU.create(a);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${Vg}${l.id}`,l.hidden&&(h.style.visibility="hidden"),u.at(-1).container.after(h)}P(this,yu,VD).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:f(this,Dh),svgFactory:new sT,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=cv._defaultBorderStyle),t.data=r;const i=dU.create(t);i.isRenderable&&(i.render(),i.contentElement.id=`${Vg}${r.id}`,f(this,Js).push(i))}await P(this,yu,l_).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,wp(t,{rotation:e.rotation}),P(this,yu,VD).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(f(this,Ad).values())}getEditableAnnotation(e){return f(this,Ad).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:r,rotation:i}=e,s=new Xde({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:f(this,Dh),annotationStorage:f(this,uv)});return s.render(),s.contentElement.id=`${Vg}${r}`,s.createOrUpdatePopup(),f(this,Js).push(s),s}removeAnnotation(e){var i;const t=f(this,Js).findIndex(s=>s.data.id===e);if(t<0)return;const[r]=f(this,Js).splice(t,1);(i=f(this,Ph))==null||i.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);P(this,yu,l_).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return st(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:_g.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Ph=new WeakMap,Rh=new WeakMap,uv=new WeakMap,Ad=new WeakMap,LC=new WeakMap,Dh=new WeakMap,Js=new WeakMap,QC=new WeakMap,yu=new WeakSet,l_=async function(){var r,i,s;if(f(this,Js).length===0)return;this.div.replaceChildren();const e=[];if(!f(this,QC)){_(this,QC,!0);for(const{contentElement:a,data:{id:o}}of f(this,Js)){const l=a.id=`${Vg}${o}`;e.push((r=f(this,LC))==null?void 0:r.getAriaAttributes(l).then(u=>{if(u)for(const[d,h]of u)a.setAttribute(d,h)}))}}f(this,Js).sort(({data:{rect:[a,o,l,u]}},{data:{rect:[d,h,g,v]}})=>{if(a===l&&o===u)return 1;if(d===g&&h===v)return-1;const b=u,C=o,B=(o+u)/2,S=v,I=h,T=(h+v)/2;if(B>=S&&T<=C)return-1;if(T>=b&&B<=I)return 1;const R=(a+l)/2,U=(d+g)/2;return R-U});const t=document.createDocumentFragment();for(const a of f(this,Js))t.append(a.container),this._commentManager?(s=((i=a.extraPopupElement)==null?void 0:i.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&t.append(a.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),f(this,Ph))for(const a of f(this,Js))f(this,Ph).addPointerInTextLayer(a.contentElement,!1)},VD=function(){var t;if(!f(this,Rh))return;const e=this.div;for(const[r,i]of f(this,Rh)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=f(this,Ad).get(r);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}f(this,Rh).clear()},cv);const qS=/\r\n?|\n/g;var Zs,kC,Nh,ea,Ur,lW,uW,cW,u_,wu,c_,d_,dW,GD,fW;const Pn=class Pn extends In{constructor(t){super({...t,name:"freeTextEditor"});M(this,Ur);M(this,Zs,"");M(this,kC,`${this.id}-editor`);M(this,Nh,null);M(this,ea);be(this,"_colorPicker",null);this.color=t.color||Pn._defaultColor||In._defaultLineColor,_(this,ea,t.fontSize||Pn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=Pn.prototype,r=a=>a.isEmpty(),i=$w.TRANSLATE_SMALL,s=$w.TRANSLATE_BIG;return st(this,"_keyboardManager",new WE([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){In.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case _t.FREETEXT_SIZE:Pn._defaultFontSize=r;break;case _t.FREETEXT_COLOR:Pn._defaultColor=r;break}}updateParams(t,r){switch(t){case _t.FREETEXT_SIZE:P(this,Ur,lW).call(this,r);break;case _t.FREETEXT_COLOR:P(this,Ur,uW).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[_t.FREETEXT_SIZE,Pn._defaultFontSize],[_t.FREETEXT_COLOR,Pn._defaultColor||In._defaultLineColor]]}get propertiesToUpdate(){return[[_t.FREETEXT_SIZE,f(this,ea)],[_t.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new iT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return _t.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Pn._internalPadding*t,-(Pn._internalPadding+f(this,ea))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,Nh,new AbortController);const t=this._uiManager.combinedSignal(f(this,Nh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,kC)),this._isDraggable=!0,(t=f(this,Nh))==null||t.abort(),_(this,Nh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=f(this,Zs),r=_(this,Zs,P(this,Ur,cW).call(this).trimEnd());if(t===r)return;const i=s=>{if(_(this,Zs,s),!s){this.remove();return}P(this,Ur,d_).call(this),this._uiManager.rebuild(this),P(this,Ur,u_).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),P(this,Ur,u_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Pn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,kC)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${f(this,ea)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[g,v]=this.pageTranslation;let b,C;switch(this.rotation){case 0:b=t+(o[0]-g)/d,C=r+this.height-(o[1]-v)/h;break;case 90:b=t+(o[0]-g)/d,C=r-(o[1]-v)/h,[l,u]=[u,-l];break;case 180:b=t-this.width+(o[0]-g)/d,C=r-(o[1]-v)/h,[l,u]=[-l,-u];break;case 270:b=t+(o[0]-g-this.height*h)/d,C=r+(o[1]-v-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(b*s,C*a,l,u)}else this._moveAfterPaste(t,r);P(this,Ur,d_).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,C,B;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=P(b=Pn,wu,GD).call(b,r.getData("text")||"").replaceAll(qS,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const S=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(qS,"")),S!==this.editorDiv){let I=d;for(const T of this.editorDiv.childNodes){if(T===S){I=h;continue}I.push(P(C=Pn,wu,c_).call(C,T))}}d.push(l.nodeValue.slice(0,u).replaceAll(qS,""))}else if(l===this.editorDiv){let S=d,I=0;for(const T of this.editorDiv.childNodes)I++===u&&(S=h),S.push(P(B=Pn,wu,c_).call(B,T))}_(this,Zs,`${d.join(`
`)}${s}${h.join(`
`)}`),P(this,Ur,d_).call(this);const g=new Range;let v=Math.sumPrecise(d.map(S=>S.length));for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const I=S.nodeValue.length;if(v<=I){g.setStart(S,v),g.setEnd(S,v);break}v-=I}a.removeAllRanges(),a.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Pn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,r,i){var o;let s=null;if(t instanceof sW){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:g,popupRef:v,richText:b,contentsObj:C,creationDate:B,modificationDate:S},textContent:I,textPosition:T,parent:{page:{pageNumber:R}}}=t;if(!I||I.length===0)return null;s=t={annotationType:ot.FREETEXT,color:Array.from(u),fontSize:l,value:I.join(`
`),position:T,pageIndex:R-1,rect:d.slice(0),rotation:h,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(C==null?void 0:C.str)||null,richText:b,creationDate:B,modificationDate:S}}const a=await super.deserialize(t,r,i);return _(a,ea,t.fontSize),a.color=Ve.makeHexColor(...t.color),_(a,Zs,P(o=Pn,wu,GD).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=In._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:r,fontSize:f(this,ea),value:P(this,Ur,dW).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!P(this,Ur,fW).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${f(this,ea)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const s of f(this,Zs).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:f(this,Zs)}}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Zs=new WeakMap,kC=new WeakMap,Nh=new WeakMap,ea=new WeakMap,Ur=new WeakSet,lW=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-f(this,ea))*this.parentScale),_(this,ea,s),P(this,Ur,u_).call(this)},i=f(this,ea);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},uW=function(t){const r=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},cW=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(P(i=Pn,wu,c_).call(i,s)),r=s);return t.join(`
`)},u_=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},wu=new WeakSet,c_=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(qS,"")},d_=function(){if(this.editorDiv.replaceChildren(),!!f(this,Zs))for(const t of f(this,Zs).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},dW=function(){return f(this,Zs).replaceAll(""," ")},GD=function(t){return t.replaceAll(" ","")},fW=function(t){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},M(Pn,wu),be(Pn,"_freeTextDefaultContent",""),be(Pn,"_internalPadding",0),be(Pn,"_defaultColor",null),be(Pn,"_defaultFontSize",10),be(Pn,"_type","freetext"),be(Pn,"_editorType",ot.FREETEXT);let KD=Pn;class ke{toSVGPath(){Cn("Abstract method `toSVGPath` must be implemented.")}get box(){Cn("Abstract getter `box` must be implemented.")}serialize(e,t){Cn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,a){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}be(ke,"PRECISION",1e-4);var ta,To,dv,fv,wA,pt,Lh,Qh,OC,HC,hv,pv,ld,VC,S1,x1,Or,cw,hW,pW,gW,mW,vW,yW;const fl=class fl{constructor({x:e,y:t},r,i,s,a,o=0){M(this,Or);M(this,ta);M(this,To,[]);M(this,dv);M(this,fv);M(this,wA,[]);M(this,pt,new Float32Array(18));M(this,Lh);M(this,Qh);M(this,OC);M(this,HC);M(this,hv);M(this,pv);M(this,ld,[]);_(this,ta,r),_(this,pv,s*i),_(this,fv,a),f(this,pt).set([NaN,NaN,NaN,NaN,e,t],6),_(this,dv,o),_(this,HC,f(fl,VC)*i),_(this,OC,f(fl,x1)*i),_(this,hv,i),f(this,ld).push(e,t)}isEmpty(){return isNaN(f(this,pt)[8])}add({x:e,y:t}){var k;_(this,Lh,e),_(this,Qh,t);const[r,i,s,a]=f(this,ta);let[o,l,u,d]=f(this,pt).subarray(8,12);const h=e-u,g=t-d,v=Math.hypot(h,g);if(v<f(this,OC))return!1;const b=v-f(this,HC),C=b/v,B=C*h,S=C*g;let I=o,T=l;o=u,l=d,u+=B,d+=S,(k=f(this,ld))==null||k.push(e,t);const R=-S/b,U=B/b,D=R*f(this,pv),L=U*f(this,pv);return f(this,pt).set(f(this,pt).subarray(2,8),0),f(this,pt).set([u+D,d+L],4),f(this,pt).set(f(this,pt).subarray(14,18),12),f(this,pt).set([u-D,d-L],16),isNaN(f(this,pt)[6])?(f(this,wA).length===0&&(f(this,pt).set([o+D,l+L],2),f(this,wA).push(NaN,NaN,NaN,NaN,(o+D-r)/s,(l+L-i)/a),f(this,pt).set([o-D,l-L],14),f(this,To).push(NaN,NaN,NaN,NaN,(o-D-r)/s,(l-L-i)/a)),f(this,pt).set([I,T,o,l,u,d],6),!this.isEmpty()):(f(this,pt).set([I,T,o,l,u,d],6),Math.abs(Math.atan2(T-l,I-o)-Math.atan2(S,B))<Math.PI/2?([o,l,u,d]=f(this,pt).subarray(2,6),f(this,wA).push(NaN,NaN,NaN,NaN,((o+u)/2-r)/s,((l+d)/2-i)/a),[o,l,I,T]=f(this,pt).subarray(14,18),f(this,To).push(NaN,NaN,NaN,NaN,((I+o)/2-r)/s,((T+l)/2-i)/a),!0):([I,T,o,l,u,d]=f(this,pt).subarray(0,6),f(this,wA).push(((I+5*o)/6-r)/s,((T+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+d)/6-i)/a,((o+u)/2-r)/s,((l+d)/2-i)/a),[u,d,o,l,I,T]=f(this,pt).subarray(12,18),f(this,To).push(((I+5*o)/6-r)/s,((T+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+d)/6-i)/a,((o+u)/2-r)/s,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=f(this,wA),t=f(this,To);if(isNaN(f(this,pt)[6])&&!this.isEmpty())return P(this,Or,hW).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);P(this,Or,gW).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return P(this,Or,pW).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,a){return new wW(e,t,r,i,s,a)}getOutlines(){var h;const e=f(this,wA),t=f(this,To),r=f(this,pt),[i,s,a,o]=f(this,ta),l=new Float32Array((((h=f(this,ld))==null?void 0:h.length)??0)+2);for(let g=0,v=l.length-2;g<v;g+=2)l[g]=(f(this,ld)[g]-i)/a,l[g+1]=(f(this,ld)[g+1]-s)/o;if(l[l.length-2]=(f(this,Lh)-i)/a,l[l.length-1]=(f(this,Qh)-s)/o,isNaN(r[6])&&!this.isEmpty())return P(this,Or,mW).call(this,l);const u=new Float32Array(f(this,wA).length+24+f(this,To).length);let d=e.length;for(let g=0;g<d;g+=2){if(isNaN(e[g])){u[g]=u[g+1]=NaN;continue}u[g]=e[g],u[g+1]=e[g+1]}d=P(this,Or,yW).call(this,u,d);for(let g=t.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(t[g+v])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[g+v],u[d+1]=t[g+v+1],d+=2}return P(this,Or,vW).call(this,u,d),this.newFreeDrawOutline(u,l,f(this,ta),f(this,hv),f(this,dv),f(this,fv))}};ta=new WeakMap,To=new WeakMap,dv=new WeakMap,fv=new WeakMap,wA=new WeakMap,pt=new WeakMap,Lh=new WeakMap,Qh=new WeakMap,OC=new WeakMap,HC=new WeakMap,hv=new WeakMap,pv=new WeakMap,ld=new WeakMap,VC=new WeakMap,S1=new WeakMap,x1=new WeakMap,Or=new WeakSet,cw=function(){const e=f(this,pt).subarray(4,6),t=f(this,pt).subarray(16,18),[r,i,s,a]=f(this,ta);return[(f(this,Lh)+(e[0]-t[0])/2-r)/s,(f(this,Qh)+(e[1]-t[1])/2-i)/a,(f(this,Lh)+(t[0]-e[0])/2-r)/s,(f(this,Qh)+(t[1]-e[1])/2-i)/a]},hW=function(){const[e,t,r,i]=f(this,ta),[s,a,o,l]=P(this,Or,cw).call(this);return`M${(f(this,pt)[2]-e)/r} ${(f(this,pt)[3]-t)/i} L${(f(this,pt)[4]-e)/r} ${(f(this,pt)[5]-t)/i} L${s} ${a} L${o} ${l} L${(f(this,pt)[16]-e)/r} ${(f(this,pt)[17]-t)/i} L${(f(this,pt)[14]-e)/r} ${(f(this,pt)[15]-t)/i} Z`},pW=function(e){const t=f(this,To);e.push(`L${t[4]} ${t[5]} Z`)},gW=function(e){const[t,r,i,s]=f(this,ta),a=f(this,pt).subarray(4,6),o=f(this,pt).subarray(16,18),[l,u,d,h]=P(this,Or,cw).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-r)/s} L${l} ${u} L${d} ${h} L${(o[0]-t)/i} ${(o[1]-r)/s}`)},mW=function(e){const t=f(this,pt),[r,i,s,a]=f(this,ta),[o,l,u,d]=P(this,Or,cw).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(h,e,f(this,ta),f(this,hv),f(this,dv),f(this,fv))},vW=function(e,t){const r=f(this,To);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},yW=function(e,t){const r=f(this,pt).subarray(4,6),i=f(this,pt).subarray(16,18),[s,a,o,l]=f(this,ta),[u,d,h,g]=P(this,Or,cw).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,g,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],t),t+=24},M(fl,VC,8),M(fl,S1,2),M(fl,x1,f(fl,VC)+f(fl,S1));let aT=fl;var gv,kh,Kl,KC,na,GC,hr,_1,bW;class wW extends ke{constructor(t,r,i,s,a,o){super();M(this,_1);M(this,gv);M(this,kh,new Float32Array(4));M(this,Kl);M(this,KC);M(this,na);M(this,GC);M(this,hr);_(this,hr,t),_(this,na,r),_(this,gv,i),_(this,GC,s),_(this,Kl,a),_(this,KC,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],P(this,_1,bW).call(this,o);const[l,u,d,h]=f(this,kh);for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-l)/d,t[g+1]=(t[g+1]-u)/h;for(let g=0,v=r.length;g<v;g+=2)r[g]=(r[g]-l)/d,r[g+1]=(r[g+1]-u)/h}toSVGPath(){const t=[`M${f(this,hr)[4]} ${f(this,hr)[5]}`];for(let r=6,i=f(this,hr).length;r<i;r+=6){if(isNaN(f(this,hr)[r])){t.push(`L${f(this,hr)[r+4]} ${f(this,hr)[r+5]}`);continue}t.push(`C${f(this,hr)[r]} ${f(this,hr)[r+1]} ${f(this,hr)[r+2]} ${f(this,hr)[r+3]} ${f(this,hr)[r+4]} ${f(this,hr)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],a){const o=i-t,l=s-r;let u,d;switch(a){case 0:u=ke._rescale(f(this,hr),t,s,o,-l),d=ke._rescale(f(this,na),t,s,o,-l);break;case 90:u=ke._rescaleAndSwap(f(this,hr),t,r,o,l),d=ke._rescaleAndSwap(f(this,na),t,r,o,l);break;case 180:u=ke._rescale(f(this,hr),i,r,-o,l),d=ke._rescale(f(this,na),i,r,-o,l);break;case 270:u=ke._rescaleAndSwap(f(this,hr),i,s,-o,-l),d=ke._rescaleAndSwap(f(this,na),i,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return f(this,kh)}newOutliner(t,r,i,s,a,o=0){return new aT(t,r,i,s,a,o)}getNewOutline(t,r){const[i,s,a,o]=f(this,kh),[l,u,d,h]=f(this,gv),g=a*d,v=o*h,b=i*d+l,C=s*h+u,B=this.newOutliner({x:f(this,na)[0]*g+b,y:f(this,na)[1]*v+C},f(this,gv),f(this,GC),t,f(this,KC),r??f(this,Kl));for(let S=2;S<f(this,na).length;S+=2)B.add({x:f(this,na)[S]*g+b,y:f(this,na)[S+1]*v+C});return B.getOutlines()}}gv=new WeakMap,kh=new WeakMap,Kl=new WeakMap,KC=new WeakMap,na=new WeakMap,GC=new WeakMap,hr=new WeakMap,_1=new WeakSet,bW=function(t){const r=f(this,hr);let i=r[4],s=r[5];const a=[i,s,i,s];let o=i,l=s,u=i,d=s;const h=t?Math.max:Math.min,g=new Float32Array(4);for(let b=6,C=r.length;b<C;b+=6){const B=r[b+4],S=r[b+5];isNaN(r[b])?(Ve.pointBoundingBox(B,S,a),l>S?(o=B,l=S):l===S&&(o=h(o,B)),d<S?(u=B,d=S):d===S&&(u=h(u,B))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,Ve.bezierBoundingBox(i,s,...r.slice(b,b+6),g),Ve.rectBoundingBox(g[0],g[1],g[2],g[3],a),l>g[1]?(o=g[0],l=g[1]):l===g[1]&&(o=h(o,g[0])),d<g[3]?(u=g[2],d=g[3]):d===g[3]&&(u=h(u,g[2]))),i=B,s=S}const v=f(this,kh);v[0]=a[0]-f(this,Kl),v[1]=a[1]-f(this,Kl),v[2]=a[2]-a[0]+2*f(this,Kl),v[3]=a[3]-a[1]+2*f(this,Kl),this.firstPoint=[o,l],this.lastPoint=[u,d]};var zC,qC,$C,ud,Io,ss,CW,f_,EW,BW,qD;class zD{constructor(e,t=0,r=0,i=!0){M(this,ss);M(this,zC);M(this,qC);M(this,$C);M(this,ud,[]);M(this,Io,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:C,y:B,width:S,height:I}of e){const T=Math.floor((C-t)/a)*a,R=Math.ceil((C+S+t)/a)*a,U=Math.floor((B-t)/a)*a,D=Math.ceil((B+I+t)/a)*a,L=[T,U,D,!0],H=[R,U,D,!1];f(this,ud).push(L,H),Ve.rectBoundingBox(T,U,R,D,s)}const o=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,u=s[0]-r,d=s[1]-r;let h=i?-1/0:1/0,g=1/0;const v=f(this,ud).at(i?-1:-2),b=[v[0],v[2]];for(const C of f(this,ud)){const[B,S,I,T]=C;!T&&i?S<g?(g=S,h=B):S===g&&(h=Math.max(h,B)):T&&!i&&(S<g?(g=S,h=B):S===g&&(h=Math.min(h,B))),C[0]=(B-u)/o,C[1]=(S-d)/l,C[2]=(I-d)/l}_(this,zC,new Float32Array([u,d,o,l])),_(this,qC,[h,g]),_(this,$C,b)}getOutlines(){f(this,ud).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of f(this,ud))t[3]?(e.push(...P(this,ss,qD).call(this,t)),P(this,ss,EW).call(this,t)):(P(this,ss,BW).call(this,t),e.push(...P(this,ss,qD).call(this,t)));return P(this,ss,CW).call(this,e)}}zC=new WeakMap,qC=new WeakMap,$C=new WeakMap,ud=new WeakMap,Io=new WeakMap,ss=new WeakSet,CW=function(e){const t=[],r=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,u,d,h]=a;r.delete(a);let g=o,v=l;for(s=[o,u],i.push(s);;){let b;if(r.has(d))b=d;else if(r.has(h))b=h;else break;r.delete(b),[o,l,u,d,h]=b,g!==o&&(s.push(g,v,o,v===l?l:u),g=o),v=v===l?u:l}s.push(g,v)}return new pfe(i,f(this,zC),f(this,qC),f(this,$C))},f_=function(e){const t=f(this,Io);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},EW=function([,e,t]){const r=P(this,ss,f_).call(this,e);f(this,Io).splice(r,0,[e,t])},BW=function([,e,t]){const r=P(this,ss,f_).call(this,e);for(let i=r;i<f(this,Io).length;i++){const[s,a]=f(this,Io)[i];if(s!==e)break;if(s===e&&a===t){f(this,Io).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=f(this,Io)[i];if(s!==e)break;if(s===e&&a===t){f(this,Io).splice(i,1);return}}},qD=function(e){const[t,r,i]=e,s=[[t,r,i]],a=P(this,ss,f_).call(this,i);for(let o=0;o<a;o++){const[l,u]=f(this,Io)[o];for(let d=0,h=s.length;d<h;d++){const[,g,v]=s[d];if(!(u<=g||v<=l)){if(g>=l){if(v>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,v>u&&s.push([t,u,v])}}}return s};var jC,mv;class pfe extends ke{constructor(t,r,i,s){super();M(this,jC);M(this,mv);_(this,mv,t),_(this,jC,r),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const t=[];for(const r of f(this,mv)){let[i,s]=r;t.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],a){const o=[],l=i-t,u=s-r;for(const d of f(this,mv)){const h=new Array(d.length);for(let g=0;g<d.length;g+=2)h[g]=t+d[g]*l,h[g+1]=s-d[g+1]*u;o.push(h)}return o}get box(){return f(this,jC)}get classNamesForOutlining(){return["highlightOutline"]}}jC=new WeakMap,mv=new WeakMap;class $D extends aT{newFreeDrawOutline(e,t,r,i,s,a){return new gfe(e,t,r,i,s,a)}}class gfe extends wW{newOutliner(e,t,r,i,s,a=0){return new $D(e,t,r,i,s,a)}}var vv,WC,Gl,Oh,YC,Cs,XC,JC,Hh,ra,ia,vi,yv,wv,ki,bv,$a,ZC,dt,jD,h_,SW,xW,_W,WD,_f,eo,Pg,TW,p_,g_,IW,FW,MW,UW,PW;const Kt=class Kt extends In{constructor(t){super({...t,name:"highlightEditor"});M(this,dt);M(this,vv,null);M(this,WC,0);M(this,Gl);M(this,Oh,null);M(this,YC,null);M(this,Cs,null);M(this,XC,null);M(this,JC,0);M(this,Hh,null);M(this,ra,null);M(this,ia,null);M(this,vi,!1);M(this,yv,null);M(this,wv,null);M(this,ki,null);M(this,bv,"");M(this,$a);M(this,ZC,"");this.color=t.color||Kt._defaultColor,_(this,$a,t.thickness||Kt._defaultThickness),this.opacity=t.opacity||Kt._defaultOpacity,_(this,Gl,t.boxes||null),_(this,ZC,t.methodOfCreation||""),_(this,bv,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(_(this,vi,!0),P(this,dt,h_).call(this,t),P(this,dt,_f).call(this)):f(this,Gl)&&(_(this,vv,t.anchorNode),_(this,WC,t.anchorOffset),_(this,XC,t.focusNode),_(this,JC,t.focusOffset),P(this,dt,jD).call(this),P(this,dt,_f).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Kt.prototype;return st(this,"_keyboardManager",new WE([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,vi)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:f(this,$a),methodOfCreation:f(this,ZC)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;In.initialize(t,r),Kt._defaultColor||(Kt._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case _t.HIGHLIGHT_COLOR:Kt._defaultColor=r;break;case _t.HIGHLIGHT_THICKNESS:Kt._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return f(this,wv)}get commentButtonPosition(){return f(this,yv)}updateParams(t,r){switch(t){case _t.HIGHLIGHT_COLOR:P(this,dt,SW).call(this,r);break;case _t.HIGHLIGHT_THICKNESS:P(this,dt,xW).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[_t.HIGHLIGHT_COLOR,Kt._defaultColor],[_t.HIGHLIGHT_THICKNESS,Kt._defaultThickness]]}get propertiesToUpdate(){return[[_t.HIGHLIGHT_COLOR,this.color||Kt._defaultColor],[_t.HIGHLIGHT_THICKNESS,f(this,$a)||Kt._defaultThickness],[_t.HIGHLIGHT_FREE,f(this,vi)]]}onUpdatedColor(){var t,r;(t=this.parent)==null||t.drawLayer.updateProperties(f(this,ia),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=f(this,YC))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",_(this,YC,new Yj({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(P(this,dt,g_).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,P(this,dt,g_).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){P(this,dt,WD).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,dt,_f).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?P(this,dt,WD).call(this):t&&(P(this,dt,_f).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,a,o;const{drawLayer:r}=this.parent;let i;f(this,vi)?(t=(t-this.rotation+360)%360,i=P(s=Kt,eo,Pg).call(s,f(this,ra).box,t)):i=P(a=Kt,eo,Pg).call(a,[this.x,this.y,this.width,this.height],t),r.updateProperties(f(this,ia),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(f(this,ki),{bbox:P(o=Kt,eo,Pg).call(o,f(this,Cs).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();f(this,bv)&&(t.setAttribute("aria-label",f(this,bv)),t.setAttribute("role","mark")),f(this,vi)?t.classList.add("free"):this.div.addEventListener("keydown",P(this,dt,TW).bind(this),{signal:this._uiManager._signal});const r=_(this,Hh,document.createElement("div"));return t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=f(this,Oh),this.setDims(),Y6(this,f(this,Hh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,ki),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(f(this,ki),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:P(this,dt,p_).call(this,!0);break;case 1:case 3:P(this,dt,p_).call(this,!1);break}}select(){var t;super.select(),f(this,ki)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,ki),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),f(this,ki)&&((t=this.parent)==null||t.drawLayer.updateProperties(f(this,ki),{rootClass:{selected:!1}}),f(this,vi)||P(this,dt,p_).call(this,!1))}get _mustFixPosition(){return!f(this,vi)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(f(this,ia),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(f(this,ki),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:a}){const{x:o,y:l,width:u,height:d}=i.getBoundingClientRect(),h=new AbortController,g=t.combinedSignal(h),v=b=>{h.abort(),P(this,eo,UW).call(this,t,b)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",or,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",oo,{signal:g}),i.addEventListener("pointermove",P(this,eo,MW).bind(this,t),{signal:g}),this._freeHighlight=new $D({x:s,y:a},[o,l,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var C,B,S,I;let s=null;if(t instanceof oW){const{data:{quadPoints:T,rect:R,rotation:U,id:D,color:L,opacity:H,popupRef:k,richText:G,contentsObj:K,creationDate:z,modificationDate:J},parent:{page:{pageNumber:Y}}}=t;s=t={annotationType:ot.HIGHLIGHT,color:Array.from(L),opacity:H,quadPoints:T,boxes:null,pageIndex:Y-1,rect:R.slice(0),rotation:U,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:G,comment:(K==null?void 0:K.str)||null,creationDate:z,modificationDate:J}}else if(t instanceof GQ){const{data:{inkLists:T,rect:R,rotation:U,id:D,color:L,borderStyle:{rawWidth:H},popupRef:k,richText:G,contentsObj:K,creationDate:z,modificationDate:J},parent:{page:{pageNumber:Y}}}=t;s=t={annotationType:ot.HIGHLIGHT,color:Array.from(L),thickness:H,inkLists:T,boxes:null,pageIndex:Y-1,rect:R.slice(0),rotation:U,annotationElementId:D,id:D,deleted:!1,popupRef:k,richText:G,comment:(K==null?void 0:K.str)||null,creationDate:z,modificationDate:J}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=t,d=await super.deserialize(t,r,i);d.color=Ve.makeHexColor(...a),d.opacity=u||1,l&&_(d,$a,t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,g]=d.pageDimensions,[v,b]=d.pageTranslation;if(o){const T=_(d,Gl,[]);for(let R=0;R<o.length;R+=8)T.push({x:(o[R]-v)/h,y:1-(o[R+1]-b)/g,width:(o[R+2]-o[R])/h,height:(o[R+1]-o[R+5])/g});P(C=d,dt,jD).call(C),P(B=d,dt,_f).call(B),d.rotate(d.rotation)}else if(l){_(d,vi,!0);const T=l[0],R={x:T[0]-v,y:g-(T[1]-b)},U=new $D(R,[0,0,h,g],1,f(d,$a)/2,!0,.001);for(let H=0,k=T.length;H<k;H+=2)R.x=T[H]-v,R.y=g-(T[H+1]-b),U.add(R);const{id:D,clipPathId:L}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:U.toSVGPath()}},!0,!0);P(S=d,dt,h_).call(S,{highlightOutlines:U.getOutlines(),highlightId:D,clipPathId:L}),P(I=d,dt,_f).call(I),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=In._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:r,opacity:this.opacity,thickness:f(this,$a),quadPoints:P(this,dt,IW).call(this),outlines:P(this,dt,FW).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!P(this,dt,PW).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};vv=new WeakMap,WC=new WeakMap,Gl=new WeakMap,Oh=new WeakMap,YC=new WeakMap,Cs=new WeakMap,XC=new WeakMap,JC=new WeakMap,Hh=new WeakMap,ra=new WeakMap,ia=new WeakMap,vi=new WeakMap,yv=new WeakMap,wv=new WeakMap,ki=new WeakMap,bv=new WeakMap,$a=new WeakMap,ZC=new WeakMap,dt=new WeakSet,jD=function(){const t=new zD(f(this,Gl),.001);_(this,ra,t.getOutlines()),[this.x,this.y,this.width,this.height]=f(this,ra).box;const r=new zD(f(this,Gl),.0025,.001,this._uiManager.direction==="ltr");_(this,Cs,r.getOutlines());const{firstPoint:i}=f(this,ra);_(this,yv,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=f(this,Cs);_(this,wv,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},h_=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var g,v;if(_(this,ra,t),_(this,Cs,t.getNewOutline(f(this,$a)/2+1.5,.0025)),r>=0)_(this,ia,r),_(this,Oh,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),_(this,ki,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:f(this,Cs).box,path:{d:f(this,Cs).toSVGPath()}},!0));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(f(this,ia),{bbox:P(g=Kt,eo,Pg).call(g,f(this,ra).box,(b-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(f(this,ki),{bbox:P(v=Kt,eo,Pg).call(v,f(this,Cs).box,b),path:{d:f(this,Cs).toSVGPath()}})}const[a,o,l,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[b,C]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*C/b,this.height=u*b/C;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[b,C]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*C/b,this.height=u*b/C;break}}const{firstPoint:d}=t;_(this,yv,[(d[0]-a)/l,(d[1]-o)/u]);const{lastPoint:h}=f(this,Cs);_(this,wv,[(h[0]-a)/l,(h[1]-o)/u])},SW=function(t){const r=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:r.bind(this,t,Kt._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},xW=function(t){const r=f(this,$a),i=s=>{_(this,$a,s),P(this,dt,_W).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},_W=function(t){f(this,vi)&&(P(this,dt,h_).call(this,{highlightOutlines:f(this,ra).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},WD=function(){f(this,ia)===null||!this.parent||(this.parent.drawLayer.remove(f(this,ia)),_(this,ia,null),this.parent.drawLayer.remove(f(this,ki)),_(this,ki,null))},_f=function(t=this.parent){f(this,ia)===null&&({id:ur(this,ia)._,clipPathId:ur(this,Oh)._}=t.drawLayer.draw({bbox:f(this,ra).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:f(this,vi)},path:{d:f(this,ra).toSVGPath()}},!1,!0),_(this,ki,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:f(this,vi)},bbox:f(this,Cs).box,path:{d:f(this,Cs).toSVGPath()}},f(this,vi))),f(this,Hh)&&(f(this,Hh).style.clipPath=f(this,Oh)))},eo=new WeakSet,Pg=function([t,r,i,s],a){switch(a){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},TW=function(t){Kt._keyboardManager.exec(this,t)},p_=function(t){if(!f(this,vv))return;const r=window.getSelection();t?r.setPosition(f(this,vv),f(this,WC)):r.setPosition(f(this,XC),f(this,JC))},g_=function(){return f(this,vi)?this.rotation:0},IW=function(){if(f(this,vi))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=f(this,Gl),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:d,width:h,height:g}of a){const v=u*t+i,b=(1-d)*r+s;o[l]=o[l+4]=v,o[l+1]=o[l+3]=b,o[l+2]=o[l+6]=v+h*t,o[l+5]=o[l+7]=b-g*r,l+=8}return o},FW=function(t){return f(this,ra).serialize(t,P(this,dt,g_).call(this))},MW=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},UW=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},PW=function(t){const{color:r}=this._initialData;return this.hasEditedComment||t.color.some((i,s)=>i!==r[s])},M(Kt,eo),be(Kt,"_defaultColor",null),be(Kt,"_defaultOpacity",1),be(Kt,"_defaultThickness",12),be(Kt,"_type","highlight"),be(Kt,"_editorType",ot.HIGHLIGHT),be(Kt,"_freeHighlightId",-1),be(Kt,"_freeHighlight",null),be(Kt,"_freeHighlightClipId","");let oT=Kt;var Vh;class RW{constructor(){M(this,Vh,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){f(this,Vh)[e]=t}toSVGProperties(){const e=f(this,Vh);return _(this,Vh,Object.create(null)),{root:e}}reset(){_(this,Vh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Cn("Not implemented")}}Vh=new WeakMap;var sa,Cv,Jr,Kh,Gh,Ut,YD,XD,JD,dw,DW,m_,fw,Rg;const Ct=class Ct extends In{constructor(t){super(t);M(this,Ut);M(this,sa,null);M(this,Cv);be(this,"_colorPicker",null);be(this,"_drawId",null);_(this,Cv,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(P(this,Ut,YD).call(this,t),P(this,Ut,dw).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){Cn("Not implemented")}static get typesMap(){Cn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(f(Ct,Jr).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,a=s[r],o=l=>{var d;s.updateProperty(r,l);const u=f(this,sa).updateProperty(r,l);u&&P(this,Ut,fw).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ct._mergeSVGProperties(f(this,sa).getPathResizingSVGProperties(P(this,Ut,m_).call(this)),{bbox:P(this,Ut,Rg).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ct._mergeSVGProperties(f(this,sa).getPathResizedSVGProperties(P(this,Ut,m_).call(this)),{bbox:P(this,Ut,Rg).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:P(this,Ut,Rg).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Ct._mergeSVGProperties(f(this,sa).getPathTranslatedSVGProperties(P(this,Ut,m_).call(this),this.parentDimensions),{bbox:P(this,Ut,Rg).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,f(this,Cv)&&(_(this,Cv,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){P(this,Ut,JD).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,Ut,dw).call(this),P(this,Ut,fw).call(this,f(this,sa).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),P(this,Ut,JD).call(this)):t&&(this._uiManager.addShouldRescale(this),P(this,Ut,dw).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ct._mergeSVGProperties({bbox:P(this,Ut,Rg).call(this)},f(this,sa).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&P(this,Ut,fw).call(this,f(this,sa).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),i}static createDrawerInstance(t,r,i,s,a){Cn("Not implemented")}static startDrawing(t,r,i,s){var B;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:d}=s;if(Ri.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=t,{width:g,height:v}=a.getBoundingClientRect(),b=_(Ct,Kh,new AbortController),C=t.combinedSignal(b);if(Ri.setPointer(d,u),window.addEventListener("pointerup",S=>{Ri.isSamePointerIdOrRemove(S.pointerId)&&this._endDraw(S)},{signal:C}),window.addEventListener("pointercancel",S=>{Ri.isSamePointerIdOrRemove(S.pointerId)&&this._currentParent.endDrawingSession()},{signal:C}),window.addEventListener("pointerdown",S=>{Ri.isSamePointerType(S.pointerType)&&(Ri.initializeAndAddPointerId(S.pointerId),f(Ct,Jr).isCancellable()&&(f(Ct,Jr).removeLastElement(),f(Ct,Jr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:C}),window.addEventListener("contextmenu",oo,{signal:C}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:C}),a.addEventListener("touchmove",S=>{Ri.isSameTimeStamp(S.timeStamp)&&or(S)},{signal:C}),t.toggleDrawing(),(B=r._editorUndoBar)==null||B.hide(),f(Ct,Jr)){t.drawLayer.updateProperties(this._currentDrawId,f(Ct,Jr).startNew(o,l,g,v,h));return}r.updateUIForDefaultProperties(this),_(Ct,Jr,this.createDrawerInstance(o,l,g,v,h)),_(Ct,Gh,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(f(Ct,Gh).toSVGProperties(),f(Ct,Jr).defaultSVGProperties),!0,!1)}static _drawMove(t){if(Ri.isSameTimeStamp(t.timeStamp),!f(Ct,Jr))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(Ri.isSamePointerId(s)){if(Ri.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,f(Ct,Jr).add(r,i)),Ri.setTimeStamp(t.timeStamp),or(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,_(Ct,Jr,null),_(Ct,Gh,null),Ri.clearPointerType(),Ri.clearTimeStamp()),f(Ct,Kh)&&(f(Ct,Kh).abort(),_(Ct,Kh,null),Ri.clearPointerIds())}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,f(Ct,Jr).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=f(Ct,Jr),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:_t.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(_t.DRAW_STEP),!f(Ct,Jr).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:f(Ct,Jr).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:f(Ct,Gh),mustBeCommitted:!t});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,a,o){Cn("Not implemented")}static async deserialize(t,r,i){var h,g;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=r.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),d=await super.deserialize(t,r,i);return d.createDrawingOptions(t),P(h=d,Ut,YD).call(h,{drawOutlines:u}),P(g=d,Ut,dw).call(g),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return f(this,sa).serialize([r,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};sa=new WeakMap,Cv=new WeakMap,Jr=new WeakMap,Kh=new WeakMap,Gh=new WeakMap,Ut=new WeakSet,YD=function({drawOutlines:t,drawId:r,drawingOptions:i}){_(this,sa,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=P(this,Ut,XD).call(this,t,this.parent),P(this,Ut,fw).call(this,t.box)},XD=function(t,r){const{id:i}=r.drawLayer.draw(Ct._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},JD=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},dw=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=P(this,Ut,XD).call(this,f(this,sa),t)}},DW=function([t,r,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[r,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},m_=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-r,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},fw=function(t){[this.x,this.y,this.width,this.height]=P(this,Ut,DW).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Rg=function(){const{x:t,y:r,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(l/u),s*(u/l),i*(l/u)];case 5:return[1-r,t,i*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-r,s*(u/l),i*(l/u)];case 7:return[r-i*(l/u),1-t-s*(u/l),i*(l/u),s*(u/l)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(u/l),r,s*(u/l),i*(l/u)];case 13:return[1-r-i*(l/u),t-s*(u/l),i*(l/u),s*(u/l)];case 14:return[1-t,1-r-i*(l/u),s*(u/l),i*(l/u)];case 15:return[r,1-t,i*(l/u),s*(u/l)];default:return[t,r,i,s]}},be(Ct,"_currentDrawId",-1),be(Ct,"_currentParent",null),M(Ct,Jr,null),M(Ct,Kh,null),M(Ct,Gh,null),be(Ct,"_INNER_MARGIN",3);let AT=Ct;var bA,Zr,ei,zh,Ev,Wi,yi,ja,qh,$h,jh,Bv,v_;class mfe{constructor(e,t,r,i,s,a){M(this,Bv);M(this,bA,new Float64Array(6));M(this,Zr);M(this,ei);M(this,zh);M(this,Ev);M(this,Wi);M(this,yi,"");M(this,ja,0);M(this,qh,new XE);M(this,$h);M(this,jh);_(this,$h,r),_(this,jh,i),_(this,zh,s),_(this,Ev,a),[e,t]=P(this,Bv,v_).call(this,e,t);const o=_(this,Zr,[NaN,NaN,NaN,NaN,e,t]);_(this,Wi,[e,t]),_(this,ei,[{line:o,points:f(this,Wi)}]),f(this,bA).set(o,0)}updateProperty(e,t){e==="stroke-width"&&_(this,Ev,t)}isEmpty(){return!f(this,ei)||f(this,ei).length===0}isCancellable(){return f(this,Wi).length<=10}add(e,t){[e,t]=P(this,Bv,v_).call(this,e,t);const[r,i,s,a]=f(this,bA).subarray(2,6),o=e-s,l=t-a;return Math.hypot(f(this,$h)*o,f(this,jh)*l)<=2?null:(f(this,Wi).push(e,t),isNaN(r)?(f(this,bA).set([s,a,e,t],2),f(this,Zr).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(f(this,bA)[0])&&f(this,Zr).splice(6,6),f(this,bA).set([r,i,s,a,e,t],0),f(this,Zr).push(...ke.createBezierPoints(r,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(f(this,Wi).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){_(this,$h,r),_(this,jh,i),_(this,zh,s),[e,t]=P(this,Bv,v_).call(this,e,t);const a=_(this,Zr,[NaN,NaN,NaN,NaN,e,t]);_(this,Wi,[e,t]);const o=f(this,ei).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),f(this,ei).push({line:a,points:f(this,Wi)}),f(this,bA).set(a,0),_(this,ja,0),this.toSVGPath(),null}getLastElement(){return f(this,ei).at(-1)}setLastElement(e){return f(this,ei)?(f(this,ei).push(e),_(this,Zr,e.line),_(this,Wi,e.points),_(this,ja,0),{path:{d:this.toSVGPath()}}):f(this,qh).setLastElement(e)}removeLastElement(){if(!f(this,ei))return f(this,qh).removeLastElement();f(this,ei).pop(),_(this,yi,"");for(let e=0,t=f(this,ei).length;e<t;e++){const{line:r,points:i}=f(this,ei)[e];_(this,Zr,r),_(this,Wi,i),_(this,ja,0),this.toSVGPath()}return{path:{d:f(this,yi)}}}toSVGPath(){const e=ke.svgRound(f(this,Zr)[4]),t=ke.svgRound(f(this,Zr)[5]);if(f(this,Wi).length===2)return _(this,yi,`${f(this,yi)} M ${e} ${t} Z`),f(this,yi);if(f(this,Wi).length<=6){const i=f(this,yi).lastIndexOf("M");_(this,yi,`${f(this,yi).slice(0,i)} M ${e} ${t}`),_(this,ja,6)}if(f(this,Wi).length===4){const i=ke.svgRound(f(this,Zr)[10]),s=ke.svgRound(f(this,Zr)[11]);return _(this,yi,`${f(this,yi)} L ${i} ${s}`),_(this,ja,12),f(this,yi)}const r=[];f(this,ja)===0&&(r.push(`M ${e} ${t}`),_(this,ja,6));for(let i=f(this,ja),s=f(this,Zr).length;i<s;i+=6){const[a,o,l,u,d,h]=f(this,Zr).slice(i,i+6).map(ke.svgRound);r.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}return _(this,yi,f(this,yi)+r.join(" ")),_(this,ja,f(this,Zr).length),f(this,yi)}getOutlines(e,t,r,i){const s=f(this,ei).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),f(this,qh).build(f(this,ei),e,t,r,f(this,zh),f(this,Ev),i),_(this,bA,null),_(this,Zr,null),_(this,ei,null),_(this,yi,null),f(this,qh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}bA=new WeakMap,Zr=new WeakMap,ei=new WeakMap,zh=new WeakMap,Ev=new WeakMap,Wi=new WeakMap,yi=new WeakMap,ja=new WeakMap,qh=new WeakMap,$h=new WeakMap,jh=new WeakMap,Bv=new WeakSet,v_=function(e,t){return ke._normalizePoint(e,t,f(this,$h),f(this,jh),f(this,zh))};var Yi,eE,tE,aa,CA,EA,Sv,xv,Wh,Si,ul,NW,LW,QW;class XE extends ke{constructor(){super(...arguments);M(this,Si);M(this,Yi);M(this,eE,0);M(this,tE);M(this,aa);M(this,CA);M(this,EA);M(this,Sv);M(this,xv);M(this,Wh)}build(t,r,i,s,a,o,l){_(this,CA,r),_(this,EA,i),_(this,Sv,s),_(this,xv,a),_(this,Wh,o),_(this,tE,l??0),_(this,aa,t),P(this,Si,LW).call(this)}get thickness(){return f(this,Wh)}setLastElement(t){return f(this,aa).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return f(this,aa).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of f(this,aa)){if(t.push(`M${ke.svgRound(r[4])} ${ke.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${ke.svgRound(r[10])} ${ke.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,o,l,u,d,h]=r.subarray(i,i+6).map(ke.svgRound);t.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,r,i,s],a){const o=[],l=[],[u,d,h,g]=P(this,Si,NW).call(this);let v,b,C,B,S,I,T,R,U;switch(f(this,xv)){case 0:U=ke._rescale,v=t,b=r+s,C=i,B=-s,S=t+u*i,I=r+(1-d-g)*s,T=t+(u+h)*i,R=r+(1-d)*s;break;case 90:U=ke._rescaleAndSwap,v=t,b=r,C=i,B=s,S=t+d*i,I=r+u*s,T=t+(d+g)*i,R=r+(u+h)*s;break;case 180:U=ke._rescale,v=t+i,b=r,C=-i,B=s,S=t+(1-u-h)*i,I=r+d*s,T=t+(1-u)*i,R=r+(d+g)*s;break;case 270:U=ke._rescaleAndSwap,v=t+i,b=r+s,C=-i,B=-s,S=t+(1-d-g)*i,I=r+(1-u-h)*s,T=t+(1-d)*i,R=r+(1-u)*s;break}for(const{line:D,points:L}of f(this,aa))o.push(U(D,v,b,C,B,a?new Array(D.length):null)),l.push(U(L,v,b,C,B,a?new Array(L.length):null));return{lines:o,points:l,rect:[S,I,T,R]}}static deserialize(t,r,i,s,a,{paths:{lines:o,points:l},rotation:u,thickness:d}){const h=[];let g,v,b,C,B;switch(u){case 0:B=ke._rescale,g=-t/i,v=r/s+1,b=1/i,C=-1/s;break;case 90:B=ke._rescaleAndSwap,g=-r/s,v=-t/i,b=1/s,C=1/i;break;case 180:B=ke._rescale,g=t/i+1,v=-r/s,b=-1/i,C=1/s;break;case 270:B=ke._rescaleAndSwap,g=r/s+1,v=t/i+1,b=-1/s,C=-1/i;break}if(!o){o=[];for(const I of l){const T=I.length;if(T===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1]]));continue}if(T===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,I[0],I[1],NaN,NaN,NaN,NaN,I[2],I[3]]));continue}const R=new Float32Array(3*(T-2));o.push(R);let[U,D,L,H]=I.subarray(0,4);R.set([NaN,NaN,NaN,NaN,U,D],0);for(let k=4;k<T;k+=2){const G=I[k],K=I[k+1];R.set(ke.createBezierPoints(U,D,L,H,G,K),(k-2)*3),[U,D,L,H]=[L,H,G,K]}}}for(let I=0,T=o.length;I<T;I++)h.push({line:B(o[I].map(R=>R??NaN),g,v,b,C),points:B(l[I].map(R=>R??NaN),g,v,b,C)});const S=new this.prototype.constructor;return S.build(h,i,s,1,u,d,a),S}get box(){return f(this,Yi)}updateProperty(t,r){return t==="stroke-width"?P(this,Si,QW).call(this,r):null}updateParentDimensions([t,r],i){const[s,a]=P(this,Si,ul).call(this);_(this,CA,t),_(this,EA,r),_(this,Sv,i);const[o,l]=P(this,Si,ul).call(this),u=o-s,d=l-a,h=f(this,Yi);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return _(this,eE,t),{path:{transform:this.rotationTransform}}}get viewBox(){return f(this,Yi).map(ke.svgRound).join(" ")}get defaultProperties(){const[t,r]=f(this,Yi);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=f(this,Yi);let i=0,s=0,a=0,o=0,l=0,u=0;switch(f(this,eE)){case 90:s=r/t,a=-t/r,l=t;break;case 180:i=-1,o=-1,l=t,u=r;break;case 270:s=-r/t,a=t/r,u=r;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${ke.svgRound(l)} ${ke.svgRound(u)})`}getPathResizingSVGProperties([t,r,i,s]){const[a,o]=P(this,Si,ul).call(this),[l,u,d,h]=f(this,Yi);if(Math.abs(d-a)<=ke.PRECISION||Math.abs(h-o)<=ke.PRECISION){const B=t+i/2-(l+d/2),S=r+s/2-(u+h/2);return{path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`,transform:`${this.rotationTransform} translate(${B} ${S})`}}}const g=(i-2*a)/(d-2*a),v=(s-2*o)/(h-2*o),b=d/i,C=h/s;return{path:{"transform-origin":`${ke.svgRound(l)} ${ke.svgRound(u)}`,transform:`${this.rotationTransform} scale(${b} ${C}) translate(${ke.svgRound(a)} ${ke.svgRound(o)}) scale(${g} ${v}) translate(${ke.svgRound(-a)} ${ke.svgRound(-o)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[a,o]=P(this,Si,ul).call(this),l=f(this,Yi),[u,d,h,g]=l;if(l[0]=t,l[1]=r,l[2]=i,l[3]=s,Math.abs(h-a)<=ke.PRECISION||Math.abs(g-o)<=ke.PRECISION){const S=t+i/2-(u+h/2),I=r+s/2-(d+g/2);for(const{line:T,points:R}of f(this,aa))ke._translate(T,S,I,T),ke._translate(R,S,I,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*a)/(h-2*a),b=(s-2*o)/(g-2*o),C=-v*(u+a)+t+a,B=-b*(d+o)+r+o;if(v!==1||b!==1||C!==0||B!==0)for(const{line:S,points:I}of f(this,aa))ke._rescale(S,C,B,v,b,S),ke._rescale(I,C,B,v,b,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,a]=i,o=f(this,Yi),l=t-o[0],u=r-o[1];if(f(this,CA)===s&&f(this,EA)===a)for(const{line:d,points:h}of f(this,aa))ke._translate(d,l,u,d),ke._translate(h,l,u,h);else{const d=f(this,CA)/s,h=f(this,EA)/a;_(this,CA,s),_(this,EA,a);for(const{line:g,points:v}of f(this,aa))ke._rescale(g,l,u,d,h,g),ke._rescale(v,l,u,d,h,v);o[2]*=d,o[3]*=h}return o[0]=t,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`}}}get defaultSVGProperties(){const t=f(this,Yi);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ke.svgRound(t[0])} ${ke.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Yi=new WeakMap,eE=new WeakMap,tE=new WeakMap,aa=new WeakMap,CA=new WeakMap,EA=new WeakMap,Sv=new WeakMap,xv=new WeakMap,Wh=new WeakMap,Si=new WeakSet,ul=function(t=f(this,Wh)){const r=f(this,tE)+t/2*f(this,Sv);return f(this,xv)%180===0?[r/f(this,CA),r/f(this,EA)]:[r/f(this,EA),r/f(this,CA)]},NW=function(){const[t,r,i,s]=f(this,Yi),[a,o]=P(this,Si,ul).call(this,0);return[t+a,r+o,i-2*a,s-2*o]},LW=function(){const t=_(this,Yi,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of f(this,aa)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6)Ve.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[d,h,g,v,b,C]=s.subarray(l,l+6);Ve.bezierBoundingBox(a,o,d,h,g,v,b,C,t),a=b,o=C}}const[r,i]=P(this,Si,ul).call(this);t[0]=ts(t[0]-r,0,1),t[1]=ts(t[1]-i,0,1),t[2]=ts(t[2]+r,0,1),t[3]=ts(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},QW=function(t){const[r,i]=P(this,Si,ul).call(this);_(this,Wh,t);const[s,a]=P(this,Si,ul).call(this),[o,l]=[s-r,a-i],u=f(this,Yi);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};class z1 extends RW{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:In._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new z1(this._viewParameters);return e.updateAll(this),e}}var T1,kW;const Wg=class Wg extends AT{constructor(t){super({...t,name:"inkEditor"});M(this,T1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){In.initialize(t,r),this._defaultDrawingOptions=new z1(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return st(this,"typesMap",new Map([[_t.INK_THICKNESS,"stroke-width"],[_t.INK_COLOR,"stroke"],[_t.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,a){return new mfe(t,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,a,o){return XE.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){let s=null;if(t instanceof GQ){const{data:{inkLists:o,rect:l,rotation:u,id:d,color:h,opacity:g,borderStyle:{rawWidth:v},popupRef:b,richText:C,contentsObj:B,creationDate:S,modificationDate:I},parent:{page:{pageNumber:T}}}=t;s=t={annotationType:ot.INK,color:Array.from(h),thickness:v,opacity:g,paths:{points:o},boxes:null,pageIndex:T-1,rect:l.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:b,richText:C,comment:(B==null?void 0:B.str)||null,creationDate:S,modificationDate:I}}const a=await super.deserialize(t,r,i);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new iT(this)),[["colorPicker",this._colorPicker]]}get colorType(){return _t.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=Wg.getDefaultDrawingOptions({stroke:Ve.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:In._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:r,points:i}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!P(this,T1,kW).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};T1=new WeakSet,kW=function(t){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==r[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},be(Wg,"_type","ink"),be(Wg,"_editorType",ot.INK),be(Wg,"_defaultDrawingOptions",null);let ZD=Wg;class eN extends XE{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const $S=8,P0=3;var j0,Yh,qt,tN,Fo,OW,HW,nN,y_,VW,KW,GW,rN,iN,zW;let Dg=(j0=class{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,a,o,l){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,g=d.font=`${r} ${i} ${h}px ${t}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:b,actualBoundingBoxAscent:C,actualBoundingBoxDescent:B,fontBoundingBoxAscent:S,fontBoundingBoxDescent:I,width:T}=d.measureText(e),R=1.5,U=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||0,T)*R),D=Math.ceil(Math.max(Math.abs(C)+Math.abs(B)||h,Math.abs(S)+Math.abs(I)||h)*R);u=new OffscreenCanvas(U,D),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=g,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,U,D),d.fillStyle="black",d.fillText(e,U*(R-1)/2,D*(3-R)/2);const L=P(this,qt,rN).call(this,d.getImageData(0,0,U,D).data),H=P(this,qt,GW).call(this,L),k=P(this,qt,iN).call(this,H),G=P(this,qt,nN).call(this,L,U,D,k);return this.processDrawnLines({lines:{curves:G,width:U,height:D},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[a,o,l]=P(this,qt,zW).call(this,e),[u,d]=P(this,qt,KW).call(this,a,o,l,Math.hypot(o,l)*f(this,Yh).sigmaSFactor,f(this,Yh).sigmaR,f(this,Yh).kernelSize),h=P(this,qt,iN).call(this,d),g=P(this,qt,nN).call(this,u,o,l,h);return this.processDrawnLines({lines:{curves:g,width:o,height:l},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([t,r]=[r,t]);const{curves:l,width:u,height:d}=e,h=e.thickness??0,g=[],v=Math.min(t/u,r/d),b=v/t,C=v/r,B=[];for(const{points:I}of l){const T=a?P(this,qt,VW).call(this,I):I;if(!T)continue;B.push(T);const R=T.length,U=new Float32Array(R),D=new Float32Array(3*(R===2?2:R-2));if(g.push({line:D,points:U}),R===2){U[0]=T[0]*b,U[1]=T[1]*C,D.set([NaN,NaN,NaN,NaN,U[0],U[1]],0);continue}let[L,H,k,G]=T;L*=b,H*=C,k*=b,G*=C,U.set([L,H,k,G],0),D.set([NaN,NaN,NaN,NaN,L,H],0);for(let K=4;K<R;K+=2){const z=U[K]=T[K]*b,J=U[K+1]=T[K+1]*C;D.set(ke.createBezierPoints(L,H,k,G,z,J),(K-2)*3),[L,H,k,G]=[k,G,z,J]}}if(g.length===0)return null;const S=o?new eN:new XE;return S.build(g,t,r,1,i,o?0:h,s),{outline:S,newCurves:B,areContours:o,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const T of e){l+=T.length;for(let R=2,U=T.length;R<U;R++){const D=T[R]-T[R-2];a=Math.min(a,D),o=Math.max(o,D)}}let u;a>=-128&&o<=127?u=Int8Array:a>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=$S+P0*d,g=new Uint32Array(h);let v=0;g[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*u.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=i,g[v++]=s,g[v++]=t?0:1,g[v++]=Math.max(0,Math.floor(r??0)),g[v++]=d,g[v++]=u.BYTES_PER_ELEMENT;for(const T of e)g[v++]=T.length-2,g[v++]=T[0],g[v++]=T[1];const b=new CompressionStream("deflate-raw"),C=b.writable.getWriter();await C.ready,C.write(g);const B=u.prototype.constructor;for(const T of e){const R=new B(T.length-2);for(let U=2,D=T.length;U<D;U++)R[U-2]=T[U]-T[U-2];C.write(R)}C.close();const S=await new Response(b.readable).arrayBuffer(),I=new Uint8Array(S);return H6(I)}static async decompressSignature(e){try{const t=Pce(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const T of r)a||(a=new Uint8Array(new Uint32Array(T.buffer,0,4)[0])),a.set(T,o),o+=T.length;const l=new Uint32Array(a.buffer,0,a.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=l[2],h=l[3],g=l[4]===0,v=l[5],b=l[6],C=l[7],B=[],S=($S+P0*b)*Uint32Array.BYTES_PER_ELEMENT;let I;switch(C){case Int8Array.BYTES_PER_ELEMENT:I=new Int8Array(a.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:I=new Int16Array(a.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:I=new Int32Array(a.buffer,S);break}o=0;for(let T=0;T<b;T++){const R=l[P0*T+$S],U=new Float32Array(R+2);B.push(U);for(let D=0;D<P0-1;D++)U[D]=l[P0*T+$S+D+1];for(let D=0;D<R;D++)U[D+2]=U[D]+I[o++]}return{areContours:g,thickness:v,outlines:B,width:d,height:h}}catch(t){return it(`decompressSignature: ${t}`),null}}},Yh=new WeakMap,qt=new WeakSet,tN=function(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i},Fo=new WeakMap,OW=function(e,t,r,i,s,a,o){const l=P(this,qt,tN).call(this,r,i,s,a);for(let u=0;u<8;u++){const d=(-u+l-o+16)%8,h=f(this,Fo)[2*d],g=f(this,Fo)[2*d+1];if(e[(r+h)*t+(i+g)]!==0)return d}return-1},HW=function(e,t,r,i,s,a,o){const l=P(this,qt,tN).call(this,r,i,s,a);for(let u=0;u<8;u++){const d=(u+l+o+16)%8,h=f(this,Fo)[2*d],g=f(this,Fo)[2*d+1];if(e[(r+h)*t+(i+g)]!==0)return d}return-1},nN=function(e,t,r,i){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=i?1:0;for(let d=1;d<r-1;d++)a[d*t]=a[d*t+t-1]=0;for(let d=0;d<t;d++)a[d]=a[t*r-1-d]=0;let o=1,l;const u=[];for(let d=1;d<r-1;d++){l=1;for(let h=1;h<t-1;h++){const g=d*t+h,v=a[g];if(v===0)continue;let b=d,C=h;if(v===1&&a[g-1]===0)o+=1,C-=1;else if(v>=1&&a[g+1]===0)o+=1,C+=1,v>1&&(l=v);else{v!==1&&(l=Math.abs(v));continue}const B=[h,d],S=C===h+1,I={isHole:S,points:B,id:o,parent:0};u.push(I);let T;for(const K of u)if(K.id===l){T=K;break}T?T.isHole?I.parent=S?T.parent:l:I.parent=S?l:T.parent:I.parent=S?l:0;const R=P(this,qt,OW).call(this,a,t,d,h,b,C,0);if(R===-1){a[g]=-o,a[g]!==1&&(l=Math.abs(a[g]));continue}let U=f(this,Fo)[2*R],D=f(this,Fo)[2*R+1];const L=d+U,H=h+D;b=L,C=H;let k=d,G=h;for(;;){const K=P(this,qt,HW).call(this,a,t,k,G,b,C,1);U=f(this,Fo)[2*K],D=f(this,Fo)[2*K+1];const z=k+U,J=G+D;B.push(J,z);const Y=k*t+G;if(a[Y+1]===0?a[Y]=-o:a[Y]===1&&(a[Y]=o),z===d&&J===h&&k===L&&G===H){a[g]!==1&&(l=Math.abs(a[g]));break}else b=k,C=G,k=z,G=J}}}return u},y_=function(e,t,r,i){if(r-t<=4){for(let L=t;L<r-2;L+=2)i.push(e[L],e[L+1]);return}const s=e[t],a=e[t+1],o=e[r-4]-s,l=e[r-3]-a,u=Math.hypot(o,l),d=o/u,h=l/u,g=d*a-h*s,v=l/o,b=1/u,C=Math.atan(v),B=Math.cos(C),S=Math.sin(C),I=b*(Math.abs(B)+Math.abs(S)),T=b*(1-I+I**2),R=Math.max(Math.atan(Math.abs(S+B)*T),Math.atan(Math.abs(S-B)*T));let U=0,D=t;for(let L=t+2;L<r-2;L+=2){const H=Math.abs(g-d*e[L+1]+h*e[L]);H>U&&(D=L,U=H)}U>(u*R)**2?(P(this,qt,y_).call(this,e,t,D+2,i),P(this,qt,y_).call(this,e,D,r,i)):i.push(s,a)},VW=function(e){const t=[],r=e.length;return P(this,qt,y_).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},KW=function(e,t,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,u=a>>1;for(let C=0;C<a;C++){const B=(C-u)**2;for(let S=0;S<a;S++)o[C*a+S]=Math.exp((B+(S-u)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let C=0;C<256;C++)d[C]=Math.exp(C**2/h);const g=e.length,v=new Uint8Array(g),b=new Uint32Array(256);for(let C=0;C<r;C++)for(let B=0;B<t;B++){const S=C*t+B,I=e[S];let T=0,R=0;for(let D=0;D<a;D++){const L=C+D-u;if(!(L<0||L>=r))for(let H=0;H<a;H++){const k=B+H-u;if(k<0||k>=t)continue;const G=e[L*t+k],K=o[D*a+H]*d[Math.abs(G-I)];T+=G*K,R+=K}}const U=v[S]=Math.round(T/R);b[U]++}return[v,b]},GW=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},rN=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const u=r[o]=e[o<<2];i=Math.max(i,u),s=Math.min(s,u)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r},iN=function(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>r&&(t-a>i&&(i=t-a,o=t-1),r=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},zW=function(e){const t=e,{width:r,height:i}=e,{maxDim:s}=f(this,Yh);let a=r,o=i;if(r>s||i>s){let g=r,v=i,b=Math.log2(Math.max(r,i)/s);const C=Math.floor(b);b=b===C?C-1:C;for(let S=0;S<b;S++){a=Math.ceil(g/2),o=Math.ceil(v/2);const I=new OffscreenCanvas(a,o);I.getContext("2d").drawImage(e,0,0,g,v,0,0,a,o),g=a,v=o,e!==t&&e.close(),e=I.transferToImageBitmap()}const B=Math.min(s/a,s/o);a=Math.round(a*B),o=Math.round(o*B)}const u=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,a,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=u.getImageData(0,0,a,o).data;return[P(this,qt,rN).call(this,d),a,o]},M(j0,qt),M(j0,Yh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),M(j0,Fo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])),j0);class zQ extends RW{constructor(){super(),super.updateProperties({fill:In._defaultLineColor,"stroke-width":0})}clone(){const e=new zQ;return e.updateAll(this),e}}class qQ extends z1{constructor(e){super(e),super.updateProperties({stroke:In._defaultLineColor,"stroke-width":1})}clone(){const e=new qQ(this._viewParameters);return e.updateAll(this),e}}var cd,BA,dd,Xh;const Ks=class Ks extends AT{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});M(this,cd,!1);M(this,BA,null);M(this,dd,null);M(this,Xh,null);this._willKeepAspectRatio=!0,_(this,dd,t.signatureData||null),_(this,BA,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){In.initialize(t,r),this._defaultDrawingOptions=new zQ,this._defaultDrawnSignatureOptions=new qQ(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return st(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!f(this,BA)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(f(this,dd)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:u,heightInPage:d}=f(this,dd),{rawDims:{pageWidth:h,pageHeight:g},rotation:v}=this.parent.viewport,b=Dg.processDrawnLines({lines:s,pageWidth:h,pageHeight:g,rotation:v,innerMargin:Ks._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(b,d,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:f(this,BA)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){_(this,Xh,t),this.addEditToolbar()}getUuid(){return f(this,Xh)}get description(){return f(this,BA)}set description(t){_(this,BA,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:i,width:s,height:a}=f(this,dd),o=Math.max(s,a),l=Dg.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,i,s){const{x:a,y:o}=this,{outline:l}=_(this,dd,t);_(this,cd,l instanceof eN),this.description=i;let u;f(this,cd)?u=Ks.getDefaultDrawingOptions():(u=Ks._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,d]=this.pageDimensions;let h=r/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Dg.process(t,r,i,s,Ks._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return Dg.extractContoursFromText(t,r,i,s,a,Ks._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Dg.processDrawnLines({lines:t,pageWidth:r,pageHeight:i,rotation:s,innerMargin:Ks._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=Ks.getDefaultDrawingOptions():(this._drawingOptions=Ks._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:f(this,cd),color:[0,0,0],thickness:f(this,cd)?0:s});return this.addComment(a),t?(a.paths={lines:r,points:i},a.uuid=f(this,Xh),a.isCopy=!0):a.lines=r,f(this,BA)&&(a.accessibilityData={type:"Figure",alt:f(this,BA)}),a}static deserializeDraw(t,r,i,s,a,o){return o.areContours?eN.deserialize(t,r,i,s,a,o):XE.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){var a;const s=await super.deserialize(t,r,i);return _(s,cd,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",_(s,Xh,t.uuid),s}};cd=new WeakMap,BA=new WeakMap,dd=new WeakMap,Xh=new WeakMap,be(Ks,"_type","signature"),be(Ks,"_editorType",ot.SIGNATURE),be(Ks,"_defaultDrawingOptions",null);let sN=Ks;var Hn,ti,fd,zl,hd,_v,ql,Jh,SA,oa,Tv,Pt,hw,pw,w_,b_,C_,oN,E_,qW;class aN extends In{constructor(t){super({...t,name:"stampEditor"});M(this,Pt);M(this,Hn,null);M(this,ti,null);M(this,fd,null);M(this,zl,null);M(this,hd,null);M(this,_v,"");M(this,ql,null);M(this,Jh,!1);M(this,SA,null);M(this,oa,!1);M(this,Tv,!1);_(this,zl,t.bitmapUrl),_(this,hd,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){In.initialize(t,r)}static isHandlingMimeForPasting(t){return GR.includes(t)}static paste(t,r){r.pasteEditor({mode:ot.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;f(this,ti)&&(_(this,Hn,null),this._uiManager.imageManager.deleteId(f(this,ti)),(t=f(this,ql))==null||t.remove(),_(this,ql,null),f(this,SA)&&(clearTimeout(f(this,SA)),_(this,SA,null))),super.remove()}rebuild(){if(!this.parent){f(this,ti)&&P(this,Pt,w_).call(this);return}super.rebuild(),this.div!==null&&(f(this,ti)&&f(this,ql)===null&&P(this,Pt,w_).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(f(this,fd)||f(this,Hn)||f(this,zl)||f(this,hd)||f(this,ti)||f(this,Jh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),f(this,Jh)||(f(this,Hn)?P(this,Pt,b_).call(this):P(this,Pt,w_).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(_(this,ti,i),s&&_(this,Hn,s),_(this,Jh,!1),P(this,Pt,b_).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;f(this,SA)!==null&&clearTimeout(f(this,SA)),_(this,SA,setTimeout(()=>{_(this,SA,null),P(this,Pt,oN).call(this)},200))}copyCanvas(t,r,i=!1){t||(t=224);const{width:s,height:a}=f(this,Hn),o=new bp;let l=f(this,Hn),u=s,d=a,h=null;if(r){if(s>r||a>r){const L=Math.min(r/s,r/a);u=Math.floor(s*L),d=Math.floor(a*L)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*o.sx),b=h.height=Math.ceil(d*o.sy);f(this,oa)||(l=P(this,Pt,C_).call(this,v,b));const C=h.getContext("2d");C.filter=this._uiManager.hcmFilter;let B="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":kce.isDarkMode&&(B="#8f8f9d",S="#42414d");const I=15,T=I*o.sx,R=I*o.sy,U=new OffscreenCanvas(T*2,R*2),D=U.getContext("2d");D.fillStyle=B,D.fillRect(0,0,T*2,R*2),D.fillStyle=S,D.fillRect(0,0,T,R),D.fillRect(T,R,T,R),C.fillStyle=C.createPattern(U,"repeat"),C.fillRect(0,0,v,b),C.drawImage(l,0,0,l.width,l.height,0,0,v,b)}let g=null;if(i){let v,b;if(o.symmetric&&l.width<t&&l.height<t)v=l.width,b=l.height;else if(l=f(this,Hn),s>t||a>t){const S=Math.min(t/s,t/a);v=Math.floor(s*S),b=Math.floor(a*S),f(this,oa)||(l=P(this,Pt,C_).call(this,v,b))}const B=new OffscreenCanvas(v,b).getContext("2d",{willReadFrequently:!0});B.drawImage(l,0,0,l.width,l.height,0,0,v,b),g={width:v,height:b,data:B.getImageData(0,0,v,b).data}}return{canvas:h,width:u,height:d,imageData:g}}static async deserialize(t,r,i){var B;let s=null,a=!1;if(t instanceof AW){const{data:{rect:S,rotation:I,id:T,structParent:R,popupRef:U,richText:D,contentsObj:L,creationDate:H,modificationDate:k},container:G,parent:{page:{pageNumber:K}},canvas:z}=t;let J,Y;z?(delete t.canvas,{id:J,bitmap:Y}=i.imageManager.getFromCanvas(G.id,z),z.remove()):(a=!0,t._hasNoCanvas=!0);const ge=((B=await r._structTree.getAriaAttributes(`${Vg}${T}`))==null?void 0:B.get("aria-label"))||"";s=t={annotationType:ot.STAMP,bitmapId:J,bitmap:Y,pageIndex:K-1,rect:S.slice(0),rotation:I,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:ge},isSvg:!1,structParent:R,popupRef:U,richText:D,comment:(L==null?void 0:L.str)||null,creationDate:H,modificationDate:k}}const o=await super.deserialize(t,r,i),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:g,accessibilityData:v}=t;a?(i.addMissingCanvas(t.id,o),_(o,Jh,!0)):h&&i.imageManager.isValidId(h)?(_(o,ti,h),u&&_(o,Hn,u)):_(o,zl,d),_(o,oa,g);const[b,C]=o.pageDimensions;return o.width=(l[2]-l[0])/b,o.height=(l[3]-l[1])/C,v&&(o.altTextData=v),o._initialData=s,t.comment&&o.setCommentData(t),_(o,Tv,!!s),o}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:f(this,ti),isSvg:f(this,oa)});if(this.addComment(i),t)return i.bitmapUrl=P(this,Pt,E_).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=P(this,Pt,qW).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const o=f(this,oa)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(f(this,ti)))r.stamps.set(f(this,ti),{area:o,serialized:i}),i.bitmap=P(this,Pt,E_).call(this,!1);else if(f(this,oa)){const l=r.stamps.get(f(this,ti));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=P(this,Pt,E_).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Hn=new WeakMap,ti=new WeakMap,fd=new WeakMap,zl=new WeakMap,hd=new WeakMap,_v=new WeakMap,ql=new WeakMap,Jh=new WeakMap,SA=new WeakMap,oa=new WeakMap,Tv=new WeakMap,Pt=new WeakSet,hw=function(t,r=!1){if(!t){this.remove();return}_(this,Hn,t.bitmap),r||(_(this,ti,t.id),_(this,oa,t.isSvg)),t.file&&_(this,_v,t.file.name),P(this,Pt,b_).call(this)},pw=function(){if(_(this,fd,null),this._uiManager.enableWaiting(!1),!!f(this,ql)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Hn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Hn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},w_=function(){if(f(this,ti)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,ti)).then(i=>P(this,Pt,hw).call(this,i,!0)).finally(()=>P(this,Pt,pw).call(this));return}if(f(this,zl)){const i=f(this,zl);_(this,zl,null),this._uiManager.enableWaiting(!0),_(this,fd,this._uiManager.imageManager.getFromUrl(i).then(s=>P(this,Pt,hw).call(this,s)).finally(()=>P(this,Pt,pw).call(this)));return}if(f(this,hd)){const i=f(this,hd);_(this,hd,null),this._uiManager.enableWaiting(!0),_(this,fd,this._uiManager.imageManager.getFromFile(i).then(s=>P(this,Pt,hw).call(this,s)).finally(()=>P(this,Pt,pw).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=GR.join(",");const r=this._uiManager._signal;_(this,fd,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),P(this,Pt,hw).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>P(this,Pt,pw).call(this))),t.click()},b_=function(){var u;const{div:t}=this;let{width:r,height:i}=f(this,Hn);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const d=Math.min(o*s/r,o*a/i);r*=d,i*=d}this._uiManager.enableWaiting(!1);const l=_(this,ql,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/s,this.height=i/a,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),P(this,Pt,oN).call(this),f(this,Tv)||(this.parent.addUndoableEditor(this),_(this,Tv,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,_v)&&this.div.setAttribute("aria-description",f(this,_v)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},C_=function(t,r){const{width:i,height:s}=f(this,Hn);let a=i,o=s,l=f(this,Hn);for(;a>2*t||o>2*r;){const u=a,d=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,u,d,0,0,a,o),l=h.transferToImageBitmap()}return l},oN=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,a=new bp,o=Math.ceil(i*t*a.sx),l=Math.ceil(s*r*a.sy),u=f(this,ql);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const d=f(this,oa)?f(this,Hn):P(this,Pt,C_).call(this,o,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,l)},E_=function(t){if(t){if(f(this,oa)){const s=this._uiManager.imageManager.getSvgUrl(f(this,ti));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=f(this,Hn),r.getContext("2d").drawImage(f(this,Hn),0,0),r.toDataURL()}if(f(this,oa)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*ny.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*ny.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(f(this,Hn),0,0,f(this,Hn).width,f(this,Hn).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(f(this,Hn))},qW=function(t){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},be(aN,"_type","stamp"),be(aN,"_editorType",ot.STAMP);var Zh,Iv,pd,gd,$l,Es,md,Fv,Mv,Mo,jl,ni,Wl,vd,Uv,ze,Is,yd,bn,AN,$W,nA,lN,uN,B_;let vfe=(Is=class{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:d}){M(this,bn);M(this,Zh);M(this,Iv,!1);M(this,pd,null);M(this,gd,null);M(this,$l,null);M(this,Es,new Map);M(this,md,!1);M(this,Fv,!1);M(this,Mv,!1);M(this,Mo,null);M(this,jl,null);M(this,ni,null);M(this,Wl,null);M(this,vd,null);M(this,Uv,-1);M(this,ze);const h=[...f(Is,yd).values()];if(!Is._initialized){Is._initialized=!0;for(const g of h)g.initialize(d,e)}e.registerEditorTypes(h),_(this,ze,e),this.pageIndex=t,this.div=r,_(this,Zh,s),_(this,pd,a),this.viewport=u,_(this,ni,l),this.drawLayer=o,this._structTree=i,f(this,ze).addLayer(this)}get isEmpty(){return f(this,Es).size===0}get isInvisible(){return this.isEmpty&&f(this,ze).getMode()===ot.NONE}updateToolbar(e){f(this,ze).updateToolbar(e)}updateMode(e=f(this,ze).getMode()){switch(P(this,bn,B_).call(this),e){case ot.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ot.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ot.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===ot.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const r of f(Is,yd).values())t.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=f(this,ni))==null?void 0:t.div)}setEditingState(e){f(this,ze).setEditingState(e)}addCommands(e){f(this,ze).addCommands(e)}cleanUndoStack(e){f(this,ze).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=f(this,pd))==null||t.togglePointerEvents(e)}async enable(){var r;_(this,Mv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=f(this,vd))==null||r.abort(),_(this,vd,null);const e=new Set;for(const i of f(this,bn,AN))i.enableEditing(),i.show(!0),i.annotationElementId&&(f(this,ze).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=f(this,pd);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),f(this,ze).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}_(this,Mv,!1),f(this,ze)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(_(this,Fv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),f(this,ni)&&!f(this,vd)){_(this,vd,new AbortController);const s=f(this,ze).combinedSignal(f(this,vd));f(this,ni).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:u,timeStamp:d}=a,h=f(this,Uv);if(d-h>500){_(this,Uv,d);return}_(this,Uv,-1);const{classList:g}=this.div;g.toggle("getElements",!0);const v=document.elementsFromPoint(l,u);if(g.toggle("getElements",!1),!this.div.contains(v[0]))return;let b;const C=new RegExp(`^${Gw}[0-9]+$`);for(const S of v)if(C.test(S.id)){b=S.id;break}if(!b)return;const B=f(this,Es).get(b);(B==null?void 0:B.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),B.dblclick(a))},{signal:s,capture:!0})}const e=f(this,pd),t=[];if(e){const s=new Map,a=new Map;for(const l of f(this,bn,AN)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(f(this,ze).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=a.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=s.get(u),d&&(f(this,ze).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}P(this,bn,B_).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of f(Is,yd).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),_(this,Fv,!1)}getEditableAnnotation(e){var t;return((t=f(this,pd))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){f(this,ze).getActive()!==e&&f(this,ze).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=f(this,ni))!=null&&e.div&&!f(this,Wl)){_(this,Wl,new AbortController);const t=f(this,ze).combinedSignal(f(this,Wl));f(this,ni).div.addEventListener("pointerdown",P(this,bn,$W).bind(this),{signal:t}),f(this,ni).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=f(this,ni))!=null&&e.div&&f(this,Wl)&&(f(this,Wl).abort(),_(this,Wl,null),f(this,ni).div.classList.remove("highlighting"))}enableClick(){if(f(this,gd))return;_(this,gd,new AbortController);const e=f(this,ze).combinedSignal(f(this,gd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=f(this,gd))==null||e.abort(),_(this,gd,null)}attach(e){f(this,Es).set(e.id,e);const{annotationElementId:t}=e;t&&f(this,ze).isDeletedAnnotationElement(t)&&f(this,ze).removeDeletedAnnotationElement(e)}detach(e){var t;f(this,Es).delete(e.id),(t=f(this,Zh))==null||t.removePointerInTextLayer(e.contentDiv),!f(this,Fv)&&e.annotationElementId&&f(this,ze).addDeletedAnnotationElement(e)}remove(e){this.detach(e),f(this,ze).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(f(this,ze).addDeletedAnnotationElement(e),In.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),f(this,ze).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!f(this,Mv)),f(this,ze).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!f(this,$l)&&(e._focusEventsAllowed=!1,_(this,$l,setTimeout(()=>{_(this,$l,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:f(this,ze)._signal}),t.focus())},0))),e._structTreeParentId=(r=f(this,Zh))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getEditorByUID(e){for(const t of f(this,Es).values())if(t.uid===e)return t;return null}getNextId(){return f(this,ze).getId()}combinedSignal(e){return f(this,ze).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=f(this,bn,nA))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await f(this,ze).updateMode(e.mode);const{offsetX:r,offsetY:i}=P(this,bn,uN).call(this),s=this.getNextId(),a=P(this,bn,lN).call(this,{parent:this,id:s,x:r,y:i,uiManager:f(this,ze),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=f(Is,yd).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,f(this,ze)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=P(this,bn,lN).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:f(this,ze),isCentered:t,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(P(this,bn,uN).call(this),!0,e)}setSelected(e){f(this,ze).setSelected(e)}toggleSelected(e){f(this,ze).toggleSelected(e)}unselect(e){f(this,ze).unselect(e)}pointerup(e){var i;const{isMac:t}=Ii.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!f(this,md)||(_(this,md,!1),(i=f(this,bn,nA))!=null&&i.isDrawer&&f(this,bn,nA).supportMultipleDrawings))return;if(!f(this,Iv)){_(this,Iv,!0);return}const r=f(this,ze).getMode();if(r===ot.STAMP||r===ot.SIGNATURE){f(this,ze).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(f(this,ze).getMode()===ot.HIGHLIGHT&&this.enableTextSelection(),f(this,md)){_(this,md,!1);return}const{isMac:t}=Ii.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(_(this,md,!0),(i=f(this,bn,nA))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=f(this,ze).getActive();_(this,Iv,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),f(this,Mo)){f(this,bn,nA).startDrawing(this,f(this,ze),!1,e);return}f(this,ze).setCurrentDrawingSession(this),_(this,Mo,new AbortController);const t=f(this,ze).combinedSignal(f(this,Mo));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(_(this,jl,null),this.commitOrRemove())},{signal:t}),f(this,bn,nA).startDrawing(this,f(this,ze),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&_(this,jl,t);return}f(this,jl)&&setTimeout(()=>{var t;(t=f(this,jl))==null||t.focus(),_(this,jl,null)},0)}endDrawingSession(e=!1){return f(this,Mo)?(f(this,ze).setCurrentDrawingSession(null),f(this,Mo).abort(),_(this,Mo,null),_(this,jl,null),f(this,bn,nA).endDrawing(e)):null}findNewParent(e,t,r){const i=f(this,ze).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return f(this,Mo)?(this.endDrawingSession(),!0):!1}onScaleChanging(){f(this,Mo)&&f(this,bn,nA).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=f(this,ze).getActive())==null?void 0:e.parent)===this&&(f(this,ze).commitOrRemove(),f(this,ze).setActiveEditor(null)),f(this,$l)&&(clearTimeout(f(this,$l)),_(this,$l,null));for(const r of f(this,Es).values())(t=f(this,Zh))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,f(this,Es).clear(),f(this,ze).removeLayer(this)}render({viewport:e}){this.viewport=e,wp(this.div,e);for(const t of f(this,ze).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){f(this,ze).commitOrRemove(),P(this,bn,B_).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,wp(this.div,{rotation:r}),t!==r)for(const i of f(this,Es).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return f(this,ze).viewParameters.realScale}},Zh=new WeakMap,Iv=new WeakMap,pd=new WeakMap,gd=new WeakMap,$l=new WeakMap,Es=new WeakMap,md=new WeakMap,Fv=new WeakMap,Mv=new WeakMap,Mo=new WeakMap,jl=new WeakMap,ni=new WeakMap,Wl=new WeakMap,vd=new WeakMap,Uv=new WeakMap,ze=new WeakMap,yd=new WeakMap,bn=new WeakSet,AN=function(){return f(this,Es).size!==0?f(this,Es).values():f(this,ze).getEditors(this.pageIndex)},$W=function(e){f(this,ze).unselectAll();const{target:t}=e;if(t===f(this,ni).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&f(this,ni).div.contains(t)){const{isMac:r}=Ii.platform;if(e.button!==0||e.ctrlKey&&r)return;f(this,ze).showAllEditors("highlight",!0,!0),f(this,ni).div.classList.add("free"),this.toggleDrawing(),oT.startHighlighting(this,f(this,ze).direction==="ltr",{target:f(this,ni).div,x:e.x,y:e.y}),f(this,ni).div.addEventListener("pointerup",()=>{f(this,ni).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,ze)._signal}),e.preventDefault()}},nA=function(){return f(Is,yd).get(f(this,ze).getMode())},lN=function(e){const t=f(this,bn,nA);return t?new t.prototype.constructor(e):null},uN=function(){const{x:e,y:t,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),u=(s+o)/2-e,d=(a+l)/2-t,[h,g]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:g}},B_=function(){for(const e of f(this,Es).values())e.isEmpty()&&e.remove()},be(Is,"_initialized",!1),M(Is,yd,new Map([KD,ZD,aN,oT,sN].map(e=>[e._editorType,e]))),Is);var Uo,Xi,ep,ir,nE,I1,jW,LA,cN,WW,dN;let yfe=(ir=class{constructor({pageIndex:e}){M(this,LA);M(this,Uo,null);M(this,Xi,new Map);M(this,ep,new Map);this.pageIndex=e}setParent(e){if(!f(this,Uo)){_(this,Uo,e);return}if(f(this,Uo)!==e){if(f(this,Xi).size>0)for(const t of f(this,Xi).values())t.remove(),e.append(t);_(this,Uo,e)}}static get _svgFactory(){return st(this,"_svgFactory",new sT)}draw(e,t=!1,r=!1){const i=ur(ir,nE)._++,s=P(this,LA,cN).call(this),a=ir._svgFactory.createElement("defs");s.append(a);const o=ir._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&f(this,ep).set(i,o);const u=r?P(this,LA,WW).call(this,a,l):null,d=ir._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),f(this,Xi).set(i,s),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const r=ur(ir,nE)._++,i=P(this,LA,cN).call(this),s=ir._svgFactory.createElement("defs");i.append(s);const a=ir._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const h=ir._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const g=ir._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=ir._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${o}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const u=ir._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return i.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),f(this,Xi).set(r,i),r}finalizeDraw(e,t){f(this,ep).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?f(this,Xi).get(e):e;if(o){if(r&&P(this,LA,dN).call(this,o,r),i&&P(l=ir,I1,jW).call(l,o,i),s){const{classList:u}=o;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(a){const d=o.firstElementChild.firstElementChild;P(this,LA,dN).call(this,d,a)}}}updateParent(e,t){if(t===this)return;const r=f(this,Xi).get(e);r&&(f(t,Uo).append(r),f(this,Xi).delete(e),f(t,Xi).set(e,r))}remove(e){f(this,ep).delete(e),f(this,Uo)!==null&&(f(this,Xi).get(e).remove(),f(this,Xi).delete(e))}destroy(){_(this,Uo,null);for(const e of f(this,Xi).values())e.remove();f(this,Xi).clear(),f(this,ep).clear()}},Uo=new WeakMap,Xi=new WeakMap,ep=new WeakMap,nE=new WeakMap,I1=new WeakSet,jW=function(e,[t,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},LA=new WeakSet,cN=function(){const e=ir._svgFactory.create(1,1,!0);return f(this,Uo).append(e),e.setAttribute("aria-hidden",!0),e},WW=function(e,t){const r=ir._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=ir._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},dN=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},M(ir,I1),M(ir,nE,0),ir);globalThis._pdfjsTestingUtils={HighlightOutliner:zD};globalThis.pdfjsLib={AbortException:qd,AnnotationEditorLayer:vfe,AnnotationEditorParamsType:_t,AnnotationEditorType:ot,AnnotationEditorUIManager:$w,AnnotationLayer:hfe,AnnotationMode:_c,AnnotationType:xr,applyOpacity:Hce,build:$de,ColorPicker:Yj,createValidAbsoluteUrl:L6,CSSConstants:Oce,DOMSVGFactory:sT,DrawLayer:yfe,FeatureTest:Ii,fetchData:qE,findContrastColor:Vce,getDocument:VQ,getFilenameFromUrl:Rce,getPdfFilenameFromUrl:Dce,getRGB:jE,getUuid:O6,getXfaPageViewport:Lce,GlobalWorkerOptions:ou,ImageKind:zx,InvalidPDFException:OR,isDataScheme:K1,isPdfFile:QQ,isValidExplicitDest:Jce,MathClamp:ts,noContextMenu:oo,normalizeUnicode:Mce,OPS:zw,OutputScale:bp,PasswordResponses:Cce,PDFDataRangeTransport:qj,PDFDateString:VR,PDFWorker:_D,PermissionFlag:bce,PixelsPerInch:ny,RenderingCancelledException:LQ,renderRichText:K6,ResponseException:Z_,setLayerDimensions:wp,shadow:st,SignatureExtractor:Dg,stopEvent:or,SupportedImageMimeTypes:GR,TextLayer:ED,TouchManager:uj,updateUrlHash:Q6,Util:Ve,VerbosityLevel:O1,version:Wj,XfaLayer:V6};ou.workerSrc="https://aistudiocdn.com/pdfjs-dist@4.4.168/build/pdf.worker.mjs";const wfe=async n=>{try{const e=await n.arrayBuffer(),t=await VQ({data:e}).promise;let r="",i=[],s="";const a=t.numPages;if(a===0)throw new Error("PDF has zero pages.");for(let l=1;l<=a;l++){const h=(await(await t.getPage(l)).getTextContent()).items.map(v=>v.str).join(" ");r+=h+" ",h.trim().length>0&&i.push({id:`chunk-page-${l}`,text:h,pageNumber:l});const g=h.split("  ");s+=`<div class="pdf-page" id="page-${l}" style="margin-bottom: 2rem; border-bottom: 1px dashed #e2e8f0; padding-bottom: 1rem;">`,s+=`<span class="text-xs text-slate-400 block mb-2 font-mono">Page ${l}</span>`,h.trim().length===0?s+=`<div class="p-4 bg-slate-100 dark:bg-slate-800 rounded text-slate-500 text-sm italic text-center">[Page ${l}: No text content detected. This might be a scanned image.]</div>`:g.forEach(v=>{v.trim().length>0&&(v.length<50&&!v.endsWith(".")?s+=`<h3 class="font-bold text-lg mt-4 mb-2 text-slate-800 dark:text-slate-200">${v}</h3>`:s+=`<p class="mb-2 leading-relaxed text-slate-700 dark:text-slate-300">${v}</p>`)}),s+="</div>"}return s.trim()||(s="<div class='p-8 text-center text-slate-500'>Could not extract text from this PDF. It might contain only images or be protected.</div>"),{chapters:[{id:"pdf-upload",title:n.name.replace(".pdf",""),content:s}],chunks:i}}catch(e){throw console.error("PDF Processing Error:",e),e}},bfe=(n,e)=>{const t=n.toLowerCase().split(" ").filter(s=>s.length>3);return t.length===0?"":e.map(s=>{let a=0;const o=s.text.toLowerCase();return t.forEach(l=>{o.includes(l)&&a++}),{...s,score:a}}).sort((s,a)=>a.score-s.score).filter(s=>s.score>0).slice(0,3).map(s=>s.text).join(`

`)},Pw=n=>{var r,i,s;const e=typeof import.meta<"u"&&((i=(r=import.meta)==null?void 0:r.env)==null?void 0:i[n]),t=typeof process<"u"&&((s=process==null?void 0:process.env)==null?void 0:s[n]);return(e||t||"").toString().trim()},Cfe=()=>{const n=Pw("GEMINI_API_KEY")||Pw("VITE_API_KEY"),e=Pw("API_KEY");return n||e},KK=n=>n?n.startsWith("models/")?n:`models/${n}`:"",YW=KK(Pw("GEMINI_TTS_MODEL"))||KK(Pw("VITE_GEMINI_TTS_MODEL"))||"models/gemini-2.0-flash",Efe=`https://generativelanguage.googleapis.com/v1beta/${YW}:generateContent`,Bfe=async(n,e)=>{var C,B,S,I,T,R;const t=YW,r=/-tts\b/.test(t),i=Cfe();if(!i)throw new Error("API key is missing. Set GEMINI_API_KEY (or VITE_API_KEY/API_KEY).");const s=r?{responseMimeType:"audio/pcm"}:{responseModalities:["AUDIO"]};e!=null&&e.voiceName&&(s.speechConfig={voiceConfig:{prebuiltVoiceConfig:{voiceName:e.voiceName}}});const a={contents:[{role:"user",parts:[{text:n}]}],generationConfig:s},o=await fetch(`${Efe}?key=${encodeURIComponent(i)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok){const U=await o.text();throw new Error(`Gemini TTS request failed: ${o.status} ${U}`)}const l=await o.json(),u=((I=(S=(B=(C=l==null?void 0:l.candidates)==null?void 0:C[0])==null?void 0:B.content)==null?void 0:S.parts)==null?void 0:I.find(U=>{var D;return(D=U.inlineData)==null?void 0:D.data}))||null,d=(T=u==null?void 0:u.inlineData)==null?void 0:T.data,h=((R=u==null?void 0:u.inlineData)==null?void 0:R.mimeType)||"audio/mp3";if(!d)throw new Error("Gemini TTS response missing audio data.");const g=Uint8Array.from(atob(d),U=>U.charCodeAt(0)),v=new Blob([g],{type:h});return{audioUrl:URL.createObjectURL(v),mimeType:h}},fN={RMS_BM:!1,RMS_DR:!1,RMS_LK:!1,RMS_PR:!1,RMS_MM:!1},GK=[{rmsTp:"RMS_BM",rmsTs:0},{rmsTp:"RMS_DR",rmsTs:0},{rmsTp:"RMS_LK",rmsTs:0},{rmsTp:"RMS_PR",rmsTs:0},{rmsTp:"RMS_MM",rmsTs:0}],$Q=(n,e)=>{if(!n)return e;try{return JSON.parse(n)}catch{return e}},zK=n=>n.toString().padStart(2,"0"),Sfe=n=>`${zK(n.getMonth()+1)}/${zK(n.getDate())}`,xfe=n=>{const e=n.trim();return e?e.replace(/\/+$/,"").replace(/\/v2$/i,""):""},_fe=()=>{if(typeof window>"u")return"";const n=window.location.pathname.match(/(?:^|\/)((?:BO|CT)(?:-[A-Za-z0-9]+)+)(?:\/|$)/);return(n==null?void 0:n[1])||""},Tfe=()=>{if(typeof window>"u")return null;const n=["progress_","rmsStatus_","rmsVerList_","bookmark_","drawing_","weblink_","memo_"],e=Object.keys(localStorage).find(s=>n.some(a=>s.startsWith(a)));if(!e)return null;const t=n.reduce((s,a)=>s.startsWith(a)?s.slice(a.length):s,e),[r,...i]=t.split("_");return!r||i.length===0?null:{memberCd:r,bookCd:i.join("_")}},Ife=(n,e)=>`${e}_${n}`,lT=n=>`rmsStatus_${n}`,hN=n=>`rmsVerList_${n}`,Ffe=n=>`progress_${n}`,Mfe=n=>(localStorage.setItem(lT(n),JSON.stringify(fN)),{...fN}),XW=n=>{const e=$Q(localStorage.getItem(lT(n)),null),t={...fN,...e&&typeof e=="object"?e:{}};return localStorage.setItem(lT(n),JSON.stringify(t)),t},JW=n=>{const e=$Q(localStorage.getItem(hN(n)),null);return Array.isArray(e)&&e.length>0?e:(localStorage.setItem(hN(n),JSON.stringify(GK)),[...GK])},Ufe=(n,e,t)=>{const r=JW(n),i=r.find(s=>s.rmsTp===e);i?i.rmsTs=t:r.push({rmsTp:e,rmsTs:t}),localStorage.setItem(hN(n),JSON.stringify(r))},Pfe=({localStoragePath:n,pageIndex:e,viewMode:t,level:r})=>{const i=Ffe(n),s=$Q(localStorage.getItem(i),[]),a=new Date,o={idx:e,level:typeof r=="number"?r:e,regdate:Sfe(a),timestamp:a.getTime(),mode:t},l=[...s,o];localStorage.setItem(i,JSON.stringify(l));const u=XW(n);return u.RMS_PR=!0,localStorage.setItem(lT(n),JSON.stringify(u)),l},Rfe=()=>{if(typeof window>"u")return null;const n=new URLSearchParams(window.location.search),e=Tfe(),t=_fe(),r=n.get("rmsApiBase")||"https://o2o-gwapi-devqa.campusbook.co.kr",i=xfe(r),s=n.get("bookCd")||void 0||t||(e==null?void 0:e.bookCd)||"",a=n.get("memberCd")||void 0||(e==null?void 0:e.memberCd)||"guest",l=(n.get("orderIgnore")||void 0||"").toUpperCase()==="Y",u=n.get("rmsPageOffset")||void 0||"0",d=Number(u)||0;return!i||!s?null:{apiBase:i,bookCd:s,memberCd:a,orderIgnore:l,pageOffset:d}},Dfe=async({apiBase:n,bookCd:e,memberCd:t,orderIgnore:r,pageOffset:i,pageIndex:s,viewMode:a})=>{var C;if(typeof window>"u")throw new Error("RMS is only available in the browser.");if(!n||!e)throw new Error("Missing RMS configuration (apiBase/bookCd).");const o=Ife(e,t);XW(o),JW(o);const l=Number.isFinite(s)?s:0,u=Math.max(0,Math.round(l+i)),d=Pfe({localStoragePath:o,pageIndex:u,viewMode:a}),h={bookCd:e,rmsList:[{rmsTp:"RMS_PR",rmsData:JSON.stringify(d)}]},v=await fetch(`${n}/v2/rms/rmsData${r?"?orderIgnore=Y":""}`,{method:"PUT",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(h)});let b=null;try{b=await v.json()}catch{b=null}if(!v.ok){const B=(b==null?void 0:b.message)||(b==null?void 0:b.error)||`RMS save failed (${v.status})`;throw new Error(B)}return(C=b==null?void 0:b.result)!=null&&C.rmsTs&&Ufe(o,"RMS_PR",b.result.rmsTs),Mfe(o),b},Nfe=`<?xml version="1.0" encoding="utf-8"?>\r
<!DOCTYPE html>\r
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" lang="ko" xml:lang="ko">\r
<head>\r
  <title>QT-25031709039769561</title>\r
  <meta charset="utf-8"/>\r
</head>\r
\r
<body>\r
  <h1>QT-25031709039769561</h1>\r
  <nav epub:type="toc" id="toc">\r
    <h2></h2>\r
    <ol>\r
    <li><a href="p0007_s.xhtml"></a></li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0019_s.xhtml">UNIT 1 </a>\r
      <ol>\r
      <li><a href="p0021_s.xhtml">CHAPTER 01   </a></li>\r
      <li><a href="p0035_s.xhtml">CHAPTER 02   </a></li>\r
      <li><a href="p0065_s.xhtml">CHAPTER 03   ,  -   </a></li>\r
      <li><a href="p0119_s.xhtml">CHAPTER 04   </a></li>\r
      <li><a href="p0149_s.xhtml">CHAPTER 05   </a></li>\r
      <li><a href="p0173_s.xhtml">CHAPTER 06   </a></li>\r
      <li><a href="p0221_s.xhtml">CHAPTER 07   </a></li>\r
      <li><a href="p0245_s.xhtml">CHAPTER 08   </a></li>\r
      <li><a href="p0287_s.xhtml">CHAPTER 09 </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0301_s.xhtml">UNIT 2  </a>\r
      <ol>\r
      <li><a href="p0303_s.xhtml">CHAPTER 10  </a></li>\r
      <li><a href="p0325_s.xhtml">CHAPTER 11    </a></li>\r
      <li><a href="p0391_s.xhtml">CHAPTER 12  </a></li>\r
      <li><a href="p0401_s.xhtml">CHAPTER 13   </a></li>\r
      <li><a href="p0449_s.xhtml">CHAPTER 14   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0475_s.xhtml">UNIT 3  </a>\r
      <ol>\r
      <li><a href="p0477_s.xhtml">CHAPTER 15  </a></li>\r
      <li><a href="p0503_s.xhtml">CHAPTER 16   </a></li>\r
      <li><a href="p0519_s.xhtml">CHAPTER 17   </a></li>\r
      <li><a href="p0531_s.xhtml">CHAPTER 18    </a></li>\r
      <li><a href="p0543_s.xhtml">CHAPTER 19    </a></li>\r
      <li><a href="p0553_s.xhtml">CHAPTER 20   </a></li>\r
      <li><a href="p0567_s.xhtml">CHAPTER 21  </a></li>\r
      <li><a href="p0577_s.xhtml">CHAPTER 22   </a></li>\r
      <li><a href="p0587_s.xhtml">CHAPTER 23   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0601_s.xhtml">UNIT 4  </a>\r
      <ol>\r
      <li><a href="p0603_s.xhtml">CHAPTER 24  </a></li>\r
      <li><a href="p0627_s.xhtml">CHAPTER 25   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0663_s.xhtml">UNIT 5  </a>\r
      <ol>\r
      <li><a href="p0665_s.xhtml">CHAPTER 26  </a></li>\r
      <li><a href="p0685_s.xhtml">CHAPTER 27    </a></li>\r
      <li><a href="p0697_s.xhtml">CHAPTER 28   </a></li>\r
      <li><a href="p0709_s.xhtml">CHAPTER 29   </a></li>\r
      <li><a href="p0725_s.xhtml">CHAPTER 30   </a></li>\r
      <li><a href="p0747_s.xhtml">CHAPTER 31   </a></li>\r
      </ol>\r
    </li>\r
    </ol>\r
    <ol>\r
    <li><a href="p0757_s.xhtml"></a></li>\r
    </ol>\r
\r
  </nav>\r
</body>\r
</html>\r
`,Lfe=[{id:"ch1",title:"Chapter 1: The Dawn of AI",content:`
      <h2>1.1 Introduction to Artificial Intelligence</h2>
      <p>Artificial Intelligence (AI) is intelligence demonstrated by machines, as opposed to the natural intelligence displayed by humans or animals. Leading AI textbooks define the field as the study of "intelligent agents": any system that perceives its environment and takes actions that maximize its chances of achieving its goals.</p>
      <p>The history of AI began in antiquity, with myths, stories, and rumors of artificial beings endowed with intelligence or consciousness by master craftsmen. The seeds of modern AI were planted by philosophers who attempted to describe the process of human thinking as the mechanical manipulation of symbols.</p>
      <h3>1.2 The Turing Test</h3>
      <p>The Turing test, developed by Alan Turing in 1950, is a test of a machine's ability to exhibit intelligent behavior equivalent to, or indistinguishable from, that of a human. Turing proposed that a human evaluator would judge natural language conversations between a human and a machine designed to generate human-like responses.</p>
    `},{id:"ch2",title:"Chapter 2: Machine Learning Basics",content:`
      <h2>2.1 What is Machine Learning?</h2>
      <p>Machine Learning (ML) is a subset of artificial intelligence that focuses on building systems that learn, or improve performance, based on the data they consume. Artificial Intelligence is a broad term that refers to systems or machines that mimic human intelligence. Machine Learning is how they achieve that intelligence.</p>
      <p>There are three main types of machine learning: supervised learning, unsupervised learning, and reinforcement learning. In supervised learning, the algorithm is trained on labeled data.</p>
      <h3>2.2 Neural Networks</h3>
      <p>Neural networks, also known as artificial neural networks (ANNs) or simulated neural networks (SNNs), are a subset of machine learning and are at the heart of deep learning algorithms. Their name and structure are inspired by the human brain, mimicking the way that biological neurons signal to one another.</p>
    `},{id:"ch3",title:"Chapter 3: Ethics in Technology",content:`
      <h2>3.1 The Importance of Ethics</h2>
      <p>As technology becomes more integrated into our daily lives, the ethical implications of its use become increasingly important. Issues such as privacy, bias in algorithms, and the displacement of jobs are central discussions in the tech world today.</p>
      <p>Algorithmic bias describes systematic and repeatable errors in a computer system that create unfair outcomes, such as privileging one arbitrary group of users over others.</p>
    `}],Qfe=n=>{if(typeof window>"u")return{chapters:[],pageMap:{}};try{const t=new DOMParser().parseFromString(n,"application/xhtml+xml"),r=t.querySelector("nav#toc")||t.querySelector('nav[epub\\:type="toc"]');if(!r)return{chapters:[],pageMap:{}};const i=new Set,s=Array.from(r.querySelectorAll("a")),a={};return{chapters:s.map((l,u)=>{const d=(l.textContent||"").replace(/\s+/g," ").trim();if(!d)return null;const h=l.getAttribute("href")||`toc-${u+1}`,v=h.replace(/[^a-zA-Z0-9_-]+/g,"-").replace(/^-+|-+$/g,"")||`toc-${u+1}`;let b=v,C=1;for(;i.has(b);)b=`${v}-${C++}`;i.add(b);const B=h.match(/p0*([0-9]+)_/i)||h.match(/p0*([0-9]+)/i);if(B&&B[1]){const S=parseInt(B[1],10);Number.isFinite(S)&&(a[b]=S)}return{id:b,title:d,content:""}}).filter(Boolean),pageMap:a}}catch(e){return console.error("Failed to parse nav.xhtml",e),{chapters:[],pageMap:{}}}},ZW=F.createContext(void 0),kfe=({children:n})=>{const[e,t]=F.useState(Lfe),[r,i]=F.useState(null),[s,a]=F.useState([]),[o,l]=F.useState(!1),[u,d]=F.useState(0),[h,g]=F.useState("medium"),[v,b]=F.useState("light"),[C,B]=F.useState("single"),[S,I]=F.useState(!0),[T,R]=F.useState(()=>{if(typeof window>"u")return[];try{const fe=localStorage.getItem("pdfBookmarks");if(!fe)return[];const _e=JSON.parse(fe);if(Array.isArray(_e))return _e.map(Pe=>Pe&&typeof Pe=="object"&&"page"in Pe?Pe:typeof Pe=="number"?{id:`migrated-${Pe}`,page:Pe,label:`Page ${Pe}`,createdAt:Date.now()}:null).filter(Boolean)}catch(fe){console.error("Failed to parse stored pdfBookmarks",fe)}return[]}),[U,D]=F.useState([]),[L,H]=F.useState(null),[k,G]=F.useState("idle"),[K,z]=F.useState("#ef4444"),[J,Y]=F.useState(3),[ge,V]=F.useState(1),[j,re]=F.useState({}),[he,Ee]=F.useState([]),[q,X]=F.useState(!1),[oe,Ce]=F.useState(null),[se,ce]=F.useState([]),[ue,Se]=F.useState(!0),[te,Ie]=F.useState("ai"),[Fe,me]=F.useState(""),[gt,$e]=F.useState(!1),[Gt,It]=F.useState(null),[Yn,nt]=F.useState({voice:"Kore",speed:1,continuous:!0}),[Fn,Fi]=F.useState({}),tn=F.useRef(null),ba=F.useRef(null),Ai=F.useRef(!1),Gn=fe=>{nt(_e=>({..._e,...fe}))},xe=fe=>{const _e=fe.trim();if(!_e)return[];const Pe=_e.match(/[^.!?]+[.!?]?/g);return Pe&&Pe.length>0?Pe.map(Qe=>Qe.trim()).filter(Boolean):[_e]},ee=fe=>fe.replace(/<script[^>]*>.*?<\/script>/gi,"").replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim(),Be=()=>{var Pe;if(Bt.length>0){const Qe=[...Bt].sort((Dt,wr)=>Dt.page-wr.page),St=ve||((Pe=Qe[0])==null?void 0:Pe.page)||1,Ln=[];let Bn=0;return Qe.forEach(Dt=>{const wr=ee(Dt.text||""),Ly=xe(wr);Dt.page<St&&(Bn+=Ly.length),Ln.push(...Ly)}),{sentences:Ln,defaultStartIndex:Bn}}const fe=ee(Mt.content);return{sentences:xe(fe),defaultStartIndex:0}},Me=()=>{tn.current&&(tn.current.pause(),tn.current.src="",tn.current=null),ba.current&&(URL.revokeObjectURL(ba.current),ba.current=null)},mt=async fe=>{if(Ai.current)return;if(tn.current&&tn.current.paused&&!tn.current.ended){await tn.current.play().catch(()=>{}),$e(!0);return}Me();const{sentences:_e,defaultStartIndex:Pe}=Be();if(_e.length===0){alert("  .");return}const Qe=typeof fe=="number"&&fe>=0&&fe<_e.length?fe:Math.min(Pe,_e.length-1),Ln=_e.slice(Qe).join(" ").slice(0,8e3);if(!Ln){alert("  .");return}try{Ai.current=!0,$e(!0),It(Qe);const{audioUrl:Bn}=await Bfe(Ln,{voiceName:Yn.voice}),Dt=new Audio(Bn);Dt.playbackRate=Yn.speed,ba.current=Bn,tn.current=Dt,Dt.onended=()=>{$e(!1),It(null),Me()},Dt.onerror=()=>{$e(!1),It(null),Me()},await Dt.play().catch(wr=>{console.error("Audio playback failed",wr),$e(!1)})}catch(Bn){console.error("Gemini TTS failed",Bn),alert("TTS    ."),$e(!1),It(null)}finally{Ai.current=!1}},Ke=()=>{tn.current&&tn.current.pause(),$e(!1)},$t=()=>{Me(),$e(!1),It(null)},[Rt,jt]=F.useState({totalReadingTime:0,sessions:1,chapterVisits:{},aiInteractionCount:0,highlightCount:0}),[Bt,zr]=F.useState([]),[ve,Te]=F.useState(1),[et,Ht]=F.useState(null),[gn,nn]=F.useState(null),[zn,rn]=F.useState(null),Mt=e[u];F.useEffect(()=>{window.innerWidth<1024&&Se(!1)},[]),F.useEffect(()=>{const fe=setInterval(()=>{document.visibilityState==="visible"&&li()},5e3);return()=>clearInterval(fe)},[]),F.useEffect(()=>{jt(fe=>({...fe,chapterVisits:{...fe.chapterVisits,[Mt.id]:(fe.chapterVisits[Mt.id]||0)+1}}))},[Mt.id]),F.useEffect(()=>{try{localStorage.setItem("pdfBookmarks",JSON.stringify(T))}catch(fe){console.error("Failed to persist pdfBookmarks",fe)}},[T]),F.useEffect(()=>{const{chapters:fe,pageMap:_e}=Qfe(Nfe);fe.length>0&&(t(fe),Fi(_e),d(0))},[]);const li=()=>{jt(fe=>({...fe,totalReadingTime:fe.totalReadingTime+5}))},As=()=>{jt(fe=>({...fe,aiInteractionCount:fe.aiInteractionCount+1}))},ho=Mw.useCallback(fe=>{if(e.length===0||Object.keys(Fn).length===0)return-1;let _e=-1,Pe=Number.NEGATIVE_INFINITY,Qe=-1,St=Number.POSITIVE_INFINITY;return e.forEach((Ln,Bn)=>{const Dt=Fn[Ln.id];Dt&&(Dt<=fe&&Dt>Pe&&(Pe=Dt,_e=Bn),Dt<St&&(St=Dt,Qe=Bn))}),_e!==-1?_e:Qe},[e,Fn]);F.useEffect(()=>{const fe=ho(ve);fe!==-1&&fe!==u&&d(fe)},[ve,ho,u]);const Ps=()=>{b(fe=>fe==="light"?"dark":"light"),v==="light"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},Rs=()=>I(fe=>!fe),Dp=(fe,_e)=>{!fe||fe<1||R(Pe=>Pe.some(St=>St.page===fe)?Pe:[{id:Date.now().toString(),page:fe,label:_e||`Page ${fe}`,createdAt:Date.now()},...Pe])},Np=fe=>{R(_e=>_e.filter(Pe=>Pe.id!==fe))},zi=()=>{u<e.length-1&&zu(u+1)},CB=()=>{u>0&&zu(u-1)},zu=fe=>{if(fe>=0&&fe<e.length){d(fe);const _e=e[fe],Pe=Fn[_e.id];Pe&&Xn(Pe)}},Py=async fe=>{l(!0);try{const _e=await wfe(fe);_e.chapters.length>0?(t(_e.chapters),d(0),a(_e.chunks),i(null),Se(!0),Ie("ai"),alert(`"${fe.name}"()   .`)):alert("Processed PDF but found no readable content.")}catch(_e){console.error("PDF Load Failed",_e),alert("Failed to load PDF. Please ensure it is a valid PDF file.")}finally{l(!1)}},EB=(fe,_e,Pe,Qe)=>{const St=Pe||Mt.id,Ln={id:Date.now().toString(),chapterId:St,text:fe,color:"yellow",pageNumber:Qe,note:_e,createdAt:Date.now()};return D(Bn=>[Ln,...Bn]),jt(Bn=>({...Bn,highlightCount:Bn.highlightCount+1})),Ln.id},Ry=(fe,_e)=>{D(Pe=>Pe.map(Qe=>Qe.id===fe?{...Qe,..._e}:Qe))},$o=fe=>{D(_e=>_e.filter(Pe=>Pe.id!==fe))},yr=fe=>{I(!0),H(fe),setTimeout(()=>H(null),2e3)},Mi=fe=>{const _e=typeof fe=="string"?U.find(Pe=>Pe.id===fe):fe;if(_e){if(_e.chapterId==="reference-doc"&&!_e.pageNumber&&ve&&Ry(_e.id,{pageNumber:ve}),_e.chapterId==="reference-doc"&&_e.pageNumber)Xn(_e.pageNumber);else{const Pe=e.findIndex(Qe=>Qe.id===_e.chapterId);Pe>=0&&zu(Pe)}yr(_e.id)}},qu=(fe,_e)=>{re(Pe=>({...Pe,[fe]:[...Pe[fe]||[],_e]}))},Dy=(fe,_e)=>{re(Pe=>({...Pe,[fe]:(Pe[fe]||[]).filter(Qe=>Qe.id!==_e)}))},HI=fe=>(j[fe]||[]).length>0,BB=(fe,_e)=>{const Pe={id:Date.now().toString(),title:fe||"Untitled Note",content:_e,chapterId:Mt.id,chapterTitle:Mt.title,createdAt:Date.now(),updatedAt:Date.now()};Ee(Qe=>[Pe,...Qe])},SB=(fe,_e,Pe)=>{Ee(Qe=>Qe.map(St=>St.id===fe?{...St,title:_e,content:Pe,updatedAt:Date.now()}:St))},af=fe=>{Ee(_e=>_e.filter(Pe=>Pe.id!==fe))},Ny=fe=>{let _e=fe.content.replace(/<[^>]+>/g,"");const Pe=new Blob([`# ${fe.title}

${_e}`],{type:"text/markdown"}),Qe=URL.createObjectURL(Pe),St=document.createElement("a");St.href=Qe,St.download=`${fe.title.replace(/\s+/g,"_")}.md`,St.click(),URL.revokeObjectURL(Qe)},$u=async fe=>{const _e=await fe.text();let Pe=fe.name.replace(".md","").replace(".json",""),Qe=_e.replace(/\n/g,"<br>");BB(Pe,Qe)},jo=(fe,_e)=>{const Pe={id:Date.now().toString(),role:fe,text:_e,timestamp:Date.now()};ce(Qe=>[...Qe,Pe])},of=async fe=>{Se(!0),Ie("ai");const _e=`Explain: "${fe}"`;jo("user",_e),As();let Pe=Mt.content.substring(0,2e3);if(s.length>0){const St=bfe(fe,s);St&&(Pe=St)}const Qe=await N6(fe,Pe);jo("model",Qe)},ju=fe=>{if(!fe||fe.length<2)return[];const _e=[],Pe=fe.toLowerCase();return e.forEach(Qe=>{const St=Qe.content.replace(/<[^>]+>/g," "),Ln=St.toLowerCase().indexOf(Pe);if(Ln!==-1){const Bn=Math.max(0,Ln-40),Dt=Math.min(St.length,Ln+40+fe.length),wr=(Bn>0?"...":"")+St.substring(Bn,Dt)+(Dt<St.length?"...":"");_e.push({id:`ch-${Qe.id}-${Ln}`,type:"chapter",title:Qe.title,contentSnippet:wr,chapterId:Qe.id,matchIndex:Ln})}}),U.forEach(Qe=>{(Qe.text.toLowerCase().includes(Pe)||Qe.note&&Qe.note.toLowerCase().includes(Pe))&&_e.push({id:`hl-${Qe.id}`,type:"highlight",title:"Highlight",contentSnippet:Qe.note?`${Qe.text} - ${Qe.note}`:Qe.text,chapterId:Qe.chapterId,pageNumber:Qe.pageNumber})}),he.forEach(Qe=>{const St=Qe.content.replace(/<[^>]+>/g," ");(Qe.title.toLowerCase().includes(Pe)||St.toLowerCase().includes(Pe))&&_e.push({id:`note-${Qe.id}`,type:"note",title:Qe.title,contentSnippet:St.substring(0,80)+"...",chapterId:Qe.chapterId})}),Bt.forEach(Qe=>{const St=Qe.text.toLowerCase().indexOf(Pe);if(St!==-1){const Ln=Math.max(0,St-40),Bn=Math.min(Qe.text.length,St+40+fe.length),Dt=(Ln>0?"...":"")+Qe.text.substring(Ln,Bn)+(Bn<Qe.text.length?"...":"");_e.push({id:`pdf-${Qe.page}-${St}`,type:"pdf",title:`p.${Qe.page}`,contentSnippet:Dt,pageNumber:Qe.page})}}),_e},Xn=fe=>{const _e=Number.isFinite(fe)?Math.max(1,Math.round(fe)):1;Te(_e),et?et(_e):nn(_e)},xB=Mw.useCallback(fe=>{Ht(()=>fe),gn!==null&&(fe(gn),nn(null))},[gn]),_B=Mw.useCallback(fe=>{zr(fe)},[]),VA=async()=>{const fe=Rfe();if(!fe){alert("RMS  . (VITE_RMS_API_BASE, VITE_RMS_BOOK_CD)");return}try{await Dfe({apiBase:fe.apiBase,bookCd:fe.bookCd,memberCd:fe.memberCd,orderIgnore:fe.orderIgnore,pageOffset:fe.pageOffset,pageIndex:ve,viewMode:C}),alert("Progress Saved!")}catch(_e){const Pe=_e instanceof Error?_e.message:String(_e);console.error("Failed to save progress",_e),alert(`Progress Save Failed: ${Pe}`)}};return Q.jsx(ZW.Provider,{value:{chapters:e,referenceDocument:r,currentChapterIndex:u,currentChapter:Mt,goToNextChapter:zi,goToPrevChapter:CB,goToChapter:zu,uploadBook:Py,isProcessing:o,fontSize:h,setFontSize:g,viewMode:C,setViewMode:B,theme:v,toggleTheme:Ps,showAnnotations:S,toggleAnnotations:Rs,bookmarks:T,addPdfBookmark:Dp,removePdfBookmark:Np,highlights:U,addHighlight:EB,updateHighlight:Ry,removeHighlight:$o,activeHighlightId:L,focusHighlight:yr,drawingMode:k,setDrawingMode:G,penColor:K,setPenColor:z,penWidth:J,setPenWidth:Y,penOpacity:ge,setPenOpacity:V,chapterStrokes:j,addStroke:qu,removeStroke:Dy,hasStrokes:HI,generalNotes:he,addGeneralNote:BB,updateGeneralNote:SB,removeGeneralNote:af,importNotes:$u,exportNoteAsMarkdown:Ny,isCaptureMode:q,setCaptureMode:X,capturedImage:oe,setCapturedImage:Ce,aiChatHistory:se,addChatMessage:jo,triggerSmartExplain:of,isToolsOpen:ue,setToolsOpen:Se,activeToolTab:te,setActiveToolTab:Ie,searchQuery:Fe,setSearchQuery:me,performSearch:ju,isTtsPlaying:gt,currentTtsSegmentIndex:Gt,ttsConfig:Yn,setTtsConfig:Gn,startTts:mt,stopTts:$t,pauseTts:Ke,stats:Rt,incrementAiCount:As,updateReadingTime:li,saveProgress:VA,pdfTextPages:Bt,setPdfTextPages:_B,goToPdfPage:Xn,goToHighlight:Mi,registerPdfNavigator:xB,pdfSearchHighlight:zn,setPdfSearchHighlight:rn,currentPdfPage:ve,setCurrentPdfPage:Te},children:n})},ef=()=>{const n=F.useContext(ZW);if(n===void 0)throw new Error("useBook must be used within a BookProvider");return n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hfe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),qK=n=>{const e=Hfe(n);return e.charAt(0).toUpperCase()+e.slice(1)},eY=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Vfe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>F.createElement("svg",{ref:l,...Kfe,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:eY("lucide",i),...!s&&!Vfe(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>F.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(n,e)=>{const t=F.forwardRef(({className:r,...i},s)=>F.createElement(Gfe,{ref:s,iconNode:e,className:eY(`lucide-${Ofe(qK(n))}`,`lucide-${n}`,r),...i}));return t.displayName=qK(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],qfe=tt("bold",zfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],jfe=tt("book-open",$fe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],pN=tt("book",Wfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],Xfe=tt("bookmark-check",Yfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],Zfe=tt("bookmark-plus",Jfe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],$K=tt("bookmark",ehe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],jK=tt("bot",the);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],rhe=tt("camera",nhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],she=tt("chevron-left",ihe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ohe=tt("chevron-right",ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lhe=tt("clock",Ahe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],che=tt("columns-2",uhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],fhe=tt("ellipsis-vertical",dhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],phe=tt("eraser",hhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ghe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mhe=tt("eye",ghe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vhe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],WK=tt("file-text",vhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],tY=tt("file-up",yhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],YK=tt("funnel",whe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],S_=tt("highlighter",bhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ehe=tt("list",Che);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],She=tt("loader-circle",Bhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_he=tt("log-out",xhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const The=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ihe=tt("message-circle-question-mark",The);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fhe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],fU=tt("message-square",Fhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=[["path",{d:"M5 12h14",key:"1ays0h"}]],Uhe=tt("minus",Mhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Rhe=tt("panel-left",Phe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Nhe=tt("panel-right",Dhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lhe=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Qhe=tt("pause",Lhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const khe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ohe=tt("pen-line",khe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hhe=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],nY=tt("pen-tool",Hhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vhe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Khe=tt("pen",Vhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],zhe=tt("play",Ghe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gN=tt("plus",qhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $he=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],jhe=tt("printer",$he);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Whe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],rY=tt("save",Whe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yhe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hU=tt("search",Yhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Jhe=tt("settings-2",Xhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],epe=tt("square",Zhe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],npe=tt("sticky-note",tpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],ipe=tt("table",rpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mN=tt("trash-2",spe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],ope=tt("type",ape);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lpe=tt("upload",Ape);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],cpe=tt("volume-2",upe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],XK=tt("x",dpe),iY=({toggleSidebar:n,isSidebarOpen:e})=>{const{fontSize:t,setFontSize:r,viewMode:i,setViewMode:s,drawingMode:a,setDrawingMode:o,penColor:l,setPenColor:u,penWidth:d,setPenWidth:h,penOpacity:g,setPenOpacity:v,saveProgress:b,showAnnotations:C,toggleAnnotations:B,isToolsOpen:S,setToolsOpen:I,bookmarks:T,addPdfBookmark:R,removePdfBookmark:U,currentPdfPage:D,uploadBook:L,isProcessing:H,isTtsPlaying:k,startTts:G,stopTts:K,pauseTts:z,ttsConfig:J,setTtsConfig:Y,setActiveToolTab:ge}=ef(),V=Nu(),j=Z8(),re=V.pathname==="/",[he,Ee]=F.useState(!1),[q,X]=F.useState(!1),[oe,Ce]=F.useState(!1),[se,ce]=F.useState(!1),ue=F.useRef(null),Se=T.find(nt=>nt.page===D),te=!!Se,Ie=()=>{confirm("Are you sure you want to close the viewer?")&&j("/report")},Fe=()=>{var nt;(nt=ue.current)==null||nt.click()},me=nt=>{nt.target.files&&nt.target.files[0]&&L(nt.target.files[0])},gt=()=>{D&&(Se?U(Se.id):R(D,`p.${D}`))},$e=nt=>{const Fn=["small","medium","large","xlarge"],Fi=Fn.indexOf(t);let tn=nt==="up"?Fi+1:Fi-1;tn<0&&(tn=0),tn>=Fn.length&&(tn=Fn.length-1),r(Fn[tn])},Gt=["Kore","Puck","Charon","Fenrir","Zephyr"],It=[.75,1,1.2,1.5,2],Yn=["#000000","#ef4444","#3b82f6","#22c55e","#eab308"];return Q.jsx("header",{className:"header",children:Q.jsxs("div",{className:"header_inner",children:[Q.jsxs("div",{className:"header_main",children:[re&&Q.jsx("button",{onClick:n,className:`left_toggle ${e?"open":"off"}`,title:"Table of Contents",children:Q.jsx(Rhe,{size:20})}),Q.jsxs("div",{className:"logo_wrap",children:[Q.jsx("div",{className:"icon",children:Q.jsx(pN,{})}),Q.jsx("span",{className:"logo_text",children:"CampusBook"})]})]}),Q.jsx("div",{className:"header_nav",children:Q.jsxs("div",{className:"mode_select",children:[Q.jsx(j_,{to:"/",className:`reader ${re?"on":"off"}`,children:"Reader"}),Q.jsx(j_,{to:"/report",className:`report ${re?"off":"on"}`,children:"Report"})]})}),Q.jsxs("div",{className:"header_tools",children:[re&&Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:"relative",children:[Q.jsx("button",{onClick:()=>Ce(!oe),className:`p-2 rounded-lg transition-all ${k?"text-blue-600 bg-blue-50":"text-slate-500 hover:bg-slate-100"}`,title:"AI Voice",children:Q.jsx(cpe,{size:20})}),oe&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-72 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border p-5 z-[70]",children:[Q.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Q.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:"AI Reading Assistant"}),Q.jsx("button",{onClick:()=>Ce(!1),className:"text-slate-400",children:Q.jsx(XK,{size:14})})]}),Q.jsxs("div",{className:"flex justify-center gap-4 mb-5 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[Q.jsx("button",{onClick:K,className:"p-2.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full text-slate-500",children:Q.jsx(epe,{size:16,fill:"currentColor"})}),Q.jsx("button",{onClick:()=>k?z():G(),className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-lg hover:scale-105 active:scale-95 transition-transform",children:k?Q.jsx(Qhe,{size:24,fill:"white"}):Q.jsx(zhe,{size:24,className:"ml-1",fill:"white"})})]}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Voice Tone"}),Q.jsx("div",{className:"grid grid-cols-3 gap-1",children:Gt.map(nt=>Q.jsx("button",{onClick:()=>Y({voice:nt}),className:`px-2 py-1 rounded text-[10px] border transition-all ${J.voice===nt?"bg-blue-600 border-blue-600 text-white":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:nt},nt))})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"text-[10px] font-bold block mb-2 text-slate-400 uppercase",children:"Speed"}),Q.jsx("div",{className:"flex justify-between gap-1",children:It.map(nt=>Q.jsxs("button",{onClick:()=>Y({speed:nt}),className:`flex-1 py-1 rounded text-[10px] border transition-all ${J.speed===nt?"bg-blue-600 border-blue-600 text-white font-bold":"bg-slate-100 dark:bg-slate-800 text-slate-500 border-transparent hover:bg-slate-200"}`,children:[nt,"x"]},nt))})]})]})]})]}),Q.jsx("button",{onClick:gt,className:`bookmark_icon_btn ${te?"on":"off"}`,title:te?"Remove bookmark for this page":"Bookmark this page",children:te?Q.jsx(Xfe,{size:20}):Q.jsx(Zfe,{size:20})}),Q.jsxs("div",{className:"draw_icon_wrap",children:[Q.jsxs("div",{className:"draw_icon_inner",children:[Q.jsx("button",{onClick:()=>o(a==="pen"?"idle":"pen"),className:`pen_tool ${a==="pen"?"on":"off"}`,title:"Pen Tool",children:Q.jsx(Khe,{size:18})}),a==="pen"&&Q.jsx("button",{onClick:()=>Ee(!he),className:"detail_select",title:"Pen Settings",children:Q.jsx(Jhe,{size:12})}),Q.jsx("button",{onClick:()=>{o(a==="eraser"?"idle":"eraser"),Ee(!1)},className:`eraser_tool ${a==="eraser"?"on":"off"}`,title:"Eraser",children:Q.jsx(phe,{size:18})})]}),he&&a==="pen"&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[Q.jsxs("div",{className:"flex justify-between items-center mb-3",children:[Q.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Pen Settings"}),Q.jsx("button",{onClick:()=>Ee(!1),className:"text-slate-400 hover:text-slate-600",children:Q.jsx(XK,{size:14})})]}),Q.jsx("div",{className:"flex justify-between mb-4",children:Yn.map(nt=>Q.jsx("button",{onClick:()=>u(nt),className:`w-6 h-6 rounded-full transition-transform hover:scale-110 border border-slate-200 dark:border-slate-700 ${l===nt?"ring-2 ring-offset-2 ring-blue-500 scale-110":""}`,style:{backgroundColor:nt}},nt))}),Q.jsxs("div",{className:"mb-3",children:[Q.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[Q.jsx("span",{children:"Thickness"}),Q.jsxs("span",{children:[d,"px"]})]}),Q.jsx("input",{type:"range",min:"1",max:"15",step:"1",value:d,onChange:nt=>h(parseInt(nt.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),Q.jsxs("div",{children:[Q.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[Q.jsx("span",{children:"Opacity"}),Q.jsxs("span",{children:[Math.round(g*100),"%"]})]}),Q.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:g,onChange:nt=>v(parseFloat(nt.target.value)),className:"w-full h-1 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]})]}),Q.jsxs("div",{className:"relative",children:[Q.jsx("button",{onClick:()=>X(!q),className:"appearance",title:"Appearance",children:Q.jsx(ope,{size:20})}),q&&Q.jsxs("div",{className:"absolute top-full right-0 mt-2 w-60 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 p-4 animate-fade-in z-[70]",children:[Q.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"View Settings"}),Q.jsxs("div",{className:"flex items-center justify-between mb-4 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[Q.jsx("button",{onClick:()=>$e("down"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:Q.jsx(Uhe,{size:14})}),Q.jsx("span",{className:"text-sm font-medium",children:t==="medium"?"100%":t==="small"?"85%":t==="large"?"115%":"130%"}),Q.jsx("button",{onClick:()=>$e("up"),className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded shadow-sm",children:Q.jsx(gN,{size:14})})]}),Q.jsxs("div",{className:"space-y-2",children:[Q.jsxs("button",{onClick:()=>s(i==="single"?"double":"single"),className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(che,{size:16})," Two-Page View"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${i==="double"?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${i==="double"?"translate-x-4":""}`})})]}),Q.jsxs("button",{onClick:B,className:"w-full flex items-center justify-between p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg text-sm text-slate-700 dark:text-slate-300",children:[Q.jsxs("span",{className:"flex items-center gap-2",children:[Q.jsx(mhe,{size:16})," Annotations"]}),Q.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${C?"bg-blue-500":"bg-slate-300"}`,children:Q.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full transition-transform ${C?"translate-x-4":""}`})})]})]})]})]}),Q.jsx("button",{onClick:()=>I(!S),className:`toggle_ai_notes ${S?"on":"off"}`,title:"Toggle AI & Notes",children:Q.jsx(Nhe,{size:20})})]}),Q.jsxs("div",{className:"relative ml-1",children:[Q.jsx("button",{onClick:()=>ce(!se),className:"more",children:Q.jsx(fhe,{size:20})}),se&&Q.jsxs("div",{className:"more_list",children:[Q.jsxs("button",{onClick:Fe,className:"",children:[H?Q.jsx(She,{size:14,className:"animate-spin"}):Q.jsx(tY,{size:14})," ","Add Reference PDF"]}),Q.jsx("input",{type:"file",ref:ue,className:"hidden",accept:"application/pdf",onChange:me}),Q.jsxs("button",{onClick:b,className:"",children:[Q.jsx(rY,{size:14})," Save Progress"]}),Q.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-800 my-1"}),Q.jsxs("button",{onClick:Ie,className:"exit_viewer",children:[Q.jsx(_he,{size:14})," Exit Viewer"]})]})]})]})]})})},fpe=(n,e,t)=>n.trim()?(e(n),t(),!0):(t(),!1);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vN=function(n,e){return vN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},vN(n,e)};function zo(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vN(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var yN=function(){return yN=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},yN.apply(this,arguments)};function Zi(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function l(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(n,[])).next())})}function Oi(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function jS(n,e,t){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||e)}var Eu=(function(){function n(e,t,r,i){this.left=e,this.top=t,this.width=r,this.height=i}return n.prototype.add=function(e,t,r,i){return new n(this.left+e,this.top+t,this.width+r,this.height+i)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var r=Array.from(t).find(function(i){return i.width!==0});return r?new n(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),q1=function(n,e){return Eu.fromClientRect(n,e.getBoundingClientRect())},hpe=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new Eu(0,0,r,i)},$1=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},pr=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var a=n[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},JK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ppe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var WS=0;WS<JK.length;WS++)ppe[JK.charCodeAt(WS)]=WS;var ZK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var YS=0;YS<ZK.length;YS++)gw[ZK.charCodeAt(YS)]=YS;var gpe=function(n){var e=n.length*.75,t=n.length,r,i=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<t;r+=4)s=gw[n.charCodeAt(r)],a=gw[n.charCodeAt(r+1)],o=gw[n.charCodeAt(r+2)],l=gw[n.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|l&63;return u},mpe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},vpe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},hp=5,jQ=11,pU=2,ype=jQ-hp,sY=65536>>hp,wpe=1<<hp,gU=wpe-1,bpe=1024>>hp,Cpe=sY+bpe,Epe=Cpe,Bpe=32,Spe=Epe+Bpe,xpe=65536>>jQ,_pe=1<<ype,Tpe=_pe-1,eG=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},Ipe=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},Fpe=function(n,e){var t=gpe(n),r=Array.isArray(t)?vpe(t):new Uint32Array(t),i=Array.isArray(t)?mpe(t):new Uint16Array(t),s=24,a=eG(i,s/2,r[4]/2),o=r[5]===2?eG(i,(s+r[4])/2):Ipe(r,Math.ceil((s+r[4])/4));return new Mpe(r[0],r[1],r[2],r[3],a,o)},Mpe=(function(){function n(e,t,r,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>hp],t=(t<<pU)+(e&gU),this.data[t];if(e<=65535)return t=this.index[sY+(e-55296>>hp)],t=(t<<pU)+(e&gU),this.data[t];if(e<this.highStart)return t=Spe-xpe+(e>>jQ),t=this.index[t],t+=e>>hp&Tpe,t=this.index[t],t=(t<<pU)+(e&gU),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),tG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Upe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var XS=0;XS<tG.length;XS++)Upe[tG.charCodeAt(XS)]=XS;var Ppe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",nG=50,Rpe=1,aY=2,oY=3,Dpe=4,Npe=5,rG=7,AY=8,iG=9,Od=10,wN=11,sG=12,bN=13,Lpe=14,mw=15,CN=16,JS=17,R0=18,Qpe=19,aG=20,EN=21,D0=22,mU=23,mg=24,Vs=25,vw=26,yw=27,vg=28,kpe=29,Pf=30,Ope=31,ZS=32,ex=33,BN=34,SN=35,xN=36,jw=37,_N=38,x_=39,__=40,vU=41,lY=42,Hpe=43,Vpe=[9001,65288],uY="!",Et="",tx="",TN=Fpe(Ppe),al=[Pf,xN],IN=[Rpe,aY,oY,Npe],cY=[Od,AY],oG=[yw,vw],Kpe=IN.concat(cY),AG=[_N,x_,__,BN,SN],Gpe=[mw,bN],zpe=function(n,e){e===void 0&&(e="strict");var t=[],r=[],i=[];return n.forEach(function(s,a){var o=TN.get(s);if(o>nG?(i.push(!0),o-=nG):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(a),t.push(CN);if(o===Dpe||o===wN){if(a===0)return r.push(a),t.push(Pf);var l=t[a-1];return Kpe.indexOf(l)===-1?(r.push(r[a-1]),t.push(l)):(r.push(a),t.push(Pf))}if(r.push(a),o===Ope)return t.push(e==="strict"?EN:jw);if(o===lY||o===kpe)return t.push(Pf);if(o===Hpe)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(jw):t.push(Pf);t.push(o)}),[r,t,i]},yU=function(n,e,t,r){var i=r[t];if(Array.isArray(n)?n.indexOf(i)!==-1:n===i)for(var s=t;s<=r.length;){s++;var a=r[s];if(a===e)return!0;if(a!==Od)break}if(i===Od)for(var s=t;s>0;){s--;var o=r[s];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var l=t;l<=r.length;){l++;var a=r[l];if(a===e)return!0;if(a!==Od)break}if(o!==Od)break}return!1},lG=function(n,e){for(var t=n;t>=0;){var r=e[t];if(r===Od)t--;else return r}return 0},qpe=function(n,e,t,r,i){if(t[r]===0)return Et;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return Et;var a=s-1,o=s+1,l=e[s],u=a>=0?e[a]:0,d=e[o];if(l===aY&&d===oY)return Et;if(IN.indexOf(l)!==-1)return uY;if(IN.indexOf(d)!==-1||cY.indexOf(d)!==-1)return Et;if(lG(s,e)===AY)return tx;if(TN.get(n[s])===wN||(l===ZS||l===ex)&&TN.get(n[o])===wN||l===rG||d===rG||l===iG||[Od,bN,mw].indexOf(l)===-1&&d===iG||[JS,R0,Qpe,mg,vg].indexOf(d)!==-1||lG(s,e)===D0||yU(mU,D0,s,e)||yU([JS,R0],EN,s,e)||yU(sG,sG,s,e))return Et;if(l===Od)return tx;if(l===mU||d===mU)return Et;if(d===CN||l===CN)return tx;if([bN,mw,EN].indexOf(d)!==-1||l===Lpe||u===xN&&Gpe.indexOf(l)!==-1||l===vg&&d===xN||d===aG||al.indexOf(d)!==-1&&l===Vs||al.indexOf(l)!==-1&&d===Vs||l===yw&&[jw,ZS,ex].indexOf(d)!==-1||[jw,ZS,ex].indexOf(l)!==-1&&d===vw||al.indexOf(l)!==-1&&oG.indexOf(d)!==-1||oG.indexOf(l)!==-1&&al.indexOf(d)!==-1||[yw,vw].indexOf(l)!==-1&&(d===Vs||[D0,mw].indexOf(d)!==-1&&e[o+1]===Vs)||[D0,mw].indexOf(l)!==-1&&d===Vs||l===Vs&&[Vs,vg,mg].indexOf(d)!==-1)return Et;if([Vs,vg,mg,JS,R0].indexOf(d)!==-1)for(var h=s;h>=0;){var g=e[h];if(g===Vs)return Et;if([vg,mg].indexOf(g)!==-1)h--;else break}if([yw,vw].indexOf(d)!==-1)for(var h=[JS,R0].indexOf(l)!==-1?a:s;h>=0;){var g=e[h];if(g===Vs)return Et;if([vg,mg].indexOf(g)!==-1)h--;else break}if(_N===l&&[_N,x_,BN,SN].indexOf(d)!==-1||[x_,BN].indexOf(l)!==-1&&[x_,__].indexOf(d)!==-1||[__,SN].indexOf(l)!==-1&&d===__||AG.indexOf(l)!==-1&&[aG,vw].indexOf(d)!==-1||AG.indexOf(d)!==-1&&l===yw||al.indexOf(l)!==-1&&al.indexOf(d)!==-1||l===mg&&al.indexOf(d)!==-1||al.concat(Vs).indexOf(l)!==-1&&d===D0&&Vpe.indexOf(n[o])===-1||al.concat(Vs).indexOf(d)!==-1&&l===R0)return Et;if(l===vU&&d===vU){for(var v=t[s],b=1;v>0&&(v--,e[v]===vU);)b++;if(b%2!==0)return Et}return l===ZS&&d===ex?Et:tx},$pe=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=zpe(n,e.lineBreak),r=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[Vs,Pf,lY].indexOf(o)!==-1?jw:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&n[l]>=19968&&n[l]<=40959}):void 0;return[r,i,a]},jpe=(function(){function n(e,t,r,i){this.codePoints=e,this.required=t===uY,this.start=r,this.end=i}return n.prototype.slice=function(){return pr.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),Wpe=function(n,e){var t=$1(n),r=$pe(t,e),i=r[0],s=r[1],a=r[2],o=t.length,l=0,u=0;return{next:function(){if(u>=o)return{done:!0,value:null};for(var d=Et;u<o&&(d=qpe(t,s,i,++u,a))===Et;);if(d!==Et||u===o){var h=new jpe(t,d,l,u);return l=u,{value:h,done:!1}}return{done:!0,value:null}}}},Ype=1,Xpe=2,JE=4,uG=8,uT=10,cG=47,Rw=92,Jpe=9,Zpe=32,nx=34,N0=61,ege=35,tge=36,nge=37,rx=39,ix=40,L0=41,rge=95,Ts=45,ige=33,sge=60,age=62,oge=64,Age=91,lge=93,uge=61,cge=123,sx=63,dge=125,dG=124,fge=126,hge=128,fG=65533,wU=42,Lf=43,pge=44,gge=58,mge=59,Ww=46,vge=0,yge=8,wge=11,bge=14,Cge=31,Ege=127,tA=-1,dY=48,fY=97,hY=101,Bge=102,Sge=117,xge=122,pY=65,gY=69,mY=70,_ge=85,Tge=90,Vi=function(n){return n>=dY&&n<=57},Ige=function(n){return n>=55296&&n<=57343},yg=function(n){return Vi(n)||n>=pY&&n<=mY||n>=fY&&n<=Bge},Fge=function(n){return n>=fY&&n<=xge},Mge=function(n){return n>=pY&&n<=Tge},Uge=function(n){return Fge(n)||Mge(n)},Pge=function(n){return n>=hge},ax=function(n){return n===uT||n===Jpe||n===Zpe},cT=function(n){return Uge(n)||Pge(n)||n===rge},hG=function(n){return cT(n)||Vi(n)||n===Ts},Rge=function(n){return n>=vge&&n<=yge||n===wge||n>=bge&&n<=Cge||n===Ege},Ec=function(n,e){return n!==Rw?!1:e!==uT},ox=function(n,e,t){return n===Ts?cT(e)||Ec(e,t):cT(n)?!0:!!(n===Rw&&Ec(n,e))},bU=function(n,e,t){return n===Lf||n===Ts?Vi(e)?!0:e===Ww&&Vi(t):Vi(n===Ww?e:n)},Dge=function(n){var e=0,t=1;(n[e]===Lf||n[e]===Ts)&&(n[e]===Ts&&(t=-1),e++);for(var r=[];Vi(n[e]);)r.push(n[e++]);var i=r.length?parseInt(pr.apply(void 0,r),10):0;n[e]===Ww&&e++;for(var s=[];Vi(n[e]);)s.push(n[e++]);var a=s.length,o=a?parseInt(pr.apply(void 0,s),10):0;(n[e]===gY||n[e]===hY)&&e++;var l=1;(n[e]===Lf||n[e]===Ts)&&(n[e]===Ts&&(l=-1),e++);for(var u=[];Vi(n[e]);)u.push(n[e++]);var d=u.length?parseInt(pr.apply(void 0,u),10):0;return t*(i+o*Math.pow(10,-a))*Math.pow(10,l*d)},Nge={type:2},Lge={type:3},Qge={type:4},kge={type:13},Oge={type:8},Hge={type:21},Vge={type:9},Kge={type:10},Gge={type:11},zge={type:12},qge={type:14},Ax={type:23},$ge={type:1},jge={type:25},Wge={type:24},Yge={type:26},Xge={type:27},Jge={type:28},Zge={type:29},eme={type:31},FN={type:32},vY=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat($1(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==FN;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case nx:return this.consumeStringToken(nx);case ege:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(hG(t)||Ec(r,i)){var s=ox(t,r,i)?Xpe:Ype,a=this.consumeName();return{type:5,value:a,flags:s}}break;case tge:if(this.peekCodePoint(0)===N0)return this.consumeCodePoint(),kge;break;case rx:return this.consumeStringToken(rx);case ix:return Nge;case L0:return Lge;case wU:if(this.peekCodePoint(0)===N0)return this.consumeCodePoint(),qge;break;case Lf:if(bU(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case pge:return Qge;case Ts:var o=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(bU(o,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(ox(o,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Ts&&u===age)return this.consumeCodePoint(),this.consumeCodePoint(),Wge;break;case Ww:if(bU(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case cG:if(this.peekCodePoint(0)===wU)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===wU&&(d=this.consumeCodePoint(),d===cG))return this.consumeToken();if(d===tA)return this.consumeToken()}break;case gge:return Yge;case mge:return Xge;case sge:if(this.peekCodePoint(0)===ige&&this.peekCodePoint(1)===Ts&&this.peekCodePoint(2)===Ts)return this.consumeCodePoint(),this.consumeCodePoint(),jge;break;case oge:var h=this.peekCodePoint(0),g=this.peekCodePoint(1),v=this.peekCodePoint(2);if(ox(h,g,v)){var a=this.consumeName();return{type:7,value:a}}break;case Age:return Jge;case Rw:if(Ec(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case lge:return Zge;case uge:if(this.peekCodePoint(0)===N0)return this.consumeCodePoint(),Oge;break;case cge:return Gge;case dge:return zge;case Sge:case _ge:var b=this.peekCodePoint(0),C=this.peekCodePoint(1);return b===Lf&&(yg(C)||C===sx)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case dG:if(this.peekCodePoint(0)===N0)return this.consumeCodePoint(),Vge;if(this.peekCodePoint(0)===dG)return this.consumeCodePoint(),Hge;break;case fge:if(this.peekCodePoint(0)===N0)return this.consumeCodePoint(),Kge;break;case tA:return FN}return ax(e)?(this.consumeWhiteSpace(),eme):Vi(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):cT(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:pr(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();yg(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===sx&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(pr.apply(void 0,e.map(function(l){return l===sx?dY:l})),16),s=parseInt(pr.apply(void 0,e.map(function(l){return l===sx?mY:l})),16);return{type:30,start:i,end:s}}var a=parseInt(pr.apply(void 0,e),16);if(this.peekCodePoint(0)===Ts&&yg(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];yg(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(pr.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===ix?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ix?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===tA)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rx||t===nx){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===tA||this.peekCodePoint(0)===L0)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Ax)}for(;;){var i=this.consumeCodePoint();if(i===tA||i===L0)return{type:22,value:pr.apply(void 0,e)};if(ax(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===tA||this.peekCodePoint(0)===L0?(this.consumeCodePoint(),{type:22,value:pr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Ax);if(i===nx||i===rx||i===ix||Rge(i))return this.consumeBadUrlRemnants(),Ax;if(i===Rw)if(Ec(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ax;else e.push(i)}},n.prototype.consumeWhiteSpace=function(){for(;ax(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===L0||e===tA)return;Ec(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var i=Math.min(t,e);r+=pr.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},n.prototype.consumeStringToken=function(e){var t="",r=0;do{var i=this._value[r];if(i===tA||i===void 0||i===e)return t+=this.consumeStringSlice(r),{type:0,value:t};if(i===uT)return this._value.splice(0,r),$ge;if(i===Rw){var s=this._value[r+1];s!==tA&&s!==void 0&&(s===uT?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):Ec(i,s)&&(t+=this.consumeStringSlice(r),t+=pr(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=JE,r=this.peekCodePoint(0);for((r===Lf||r===Ts)&&e.push(this.consumeCodePoint());Vi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Ww&&Vi(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=uG;Vi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===gY||r===hY)&&((i===Lf||i===Ts)&&Vi(s)||Vi(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=uG;Vi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Dge(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(ox(i,s,a)){var o=this.consumeName();return{type:15,number:t,flags:r,unit:o}}return i===nge?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(yg(e)){for(var t=pr(e);yg(this.peekCodePoint(0))&&t.length<6;)t+=pr(this.consumeCodePoint());ax(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||Ige(r)||r>1114111?fG:r}return e===tA?fG:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(hG(t))e+=pr(t);else if(Ec(t,this.peekCodePoint(0)))e+=pr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),yY=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new vY;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||nme(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?FN:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),ZE=function(n){return n.type===15},By=function(n){return n.type===17},pn=function(n){return n.type===20},tme=function(n){return n.type===0},MN=function(n,e){return pn(n)&&n.value===e},wY=function(n){return n.type!==31},ry=function(n){return n.type!==31&&n.type!==4},OA=function(n){var e=[],t=[];return n.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&e.push(t),e},nme=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},$d=function(n){return n.type===17||n.type===15},Ir=function(n){return n.type===16||$d(n)},bY=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},_i={type:17,number:0,flags:JE},WQ={type:16,number:50,flags:JE},Hd={type:16,number:100,flags:JE},ww=function(n,e,t){var r=n[0],i=n[1];return[Tn(r,e),Tn(typeof i<"u"?i:r,t)]},Tn=function(n,e){if(n.type===16)return n.number/100*e;if(ZE(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},CY="deg",EY="grad",BY="rad",SY="turn",j1={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case CY:return Math.PI*e.number/180;case EY:return Math.PI/200*e.number;case BY:return e.number;case SY:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},xY=function(n){return n.type===15&&(n.unit===CY||n.unit===EY||n.unit===BY||n.unit===SY)},_Y=function(n){var e=n.filter(pn).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[_i,_i];case"to top":case"bottom":return to(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[_i,Hd];case"to right":case"left":return to(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Hd,Hd];case"to bottom":case"top":return to(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Hd,_i];case"to left":case"right":return to(270)}return 0},to=function(n){return Math.PI*n/180},Kd={name:"color",parse:function(n,e){if(e.type===18){var t=rme[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Vd(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return Vd(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Vd(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return Vd(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=pu[e.value.toUpperCase()];if(typeof o<"u")return o}return pu.TRANSPARENT}},Gd=function(n){return(255&n)===0},$r=function(n){var e=255&n,t=255&n>>8,r=255&n>>16,i=255&n>>24;return e<255?"rgba("+i+","+r+","+t+","+e/255+")":"rgb("+i+","+r+","+t+")"},Vd=function(n,e,t,r){return(n<<24|e<<16|t<<8|Math.round(r*255)<<0)>>>0},pG=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},gG=function(n,e){var t=e.filter(ry);if(t.length===3){var r=t.map(pG),i=r[0],s=r[1],a=r[2];return Vd(i,s,a,1)}if(t.length===4){var o=t.map(pG),i=o[0],s=o[1],a=o[2],l=o[3];return Vd(i,s,a,l)}return 0};function CU(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var mG=function(n,e){var t=e.filter(ry),r=t[0],i=t[1],s=t[2],a=t[3],o=(r.type===17?to(r.number):j1.parse(n,r))/(Math.PI*2),l=Ir(i)?i.number/100:0,u=Ir(s)?s.number/100:0,d=typeof a<"u"&&Ir(a)?Tn(a,1):1;if(l===0)return Vd(u*255,u*255,u*255,1);var h=u<=.5?u*(l+1):u+l-u*l,g=u*2-h,v=CU(g,h,o+1/3),b=CU(g,h,o),C=CU(g,h,o-1/3);return Vd(v*255,b*255,C*255,d)},rme={hsl:mG,hsla:mG,rgb:gG,rgba:gG},Dw=function(n,e){return Kd.parse(n,yY.create(e).parseComponentValue())},pu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ime={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(pn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},sme={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},W1=function(n,e){var t=Kd.parse(n,e[0]),r=e[1];return r&&Ir(r)?{color:t,stop:r}:{color:t,stop:null}},vG=function(n,e){var t=n[0],r=n[n.length-1];t.stop===null&&(t.stop=_i),r.stop===null&&(r.stop=Hd);for(var i=[],s=0,a=0;a<n.length;a++){var o=n[a].stop;if(o!==null){var l=Tn(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var u=null,a=0;a<i.length;a++){var d=i[a];if(d===null)u===null&&(u=a);else if(u!==null){for(var h=a-u,g=i[u-1],v=(d-g)/(h+1),b=1;b<=h;b++)i[u+b-1]=v*b;u=null}}return n.map(function(C,B){var S=C.color;return{color:S,stop:Math.max(Math.min(1,i[B]/e),0)}})},ame=function(n,e,t){var r=e/2,i=t/2,s=Tn(n[0],e)-r,a=i-Tn(n[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},ome=function(n,e,t){var r=typeof n=="number"?n:ame(n,e,t),i=Math.abs(e*Math.sin(r))+Math.abs(t*Math.cos(r)),s=e/2,a=t/2,o=i/2,l=Math.sin(r-Math.PI/2)*o,u=Math.cos(r-Math.PI/2)*o;return[i,s-u,s+u,a-l,a+l]},wo=function(n,e){return Math.sqrt(n*n+e*e)},yG=function(n,e,t,r,i){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(a,o){var l=o[0],u=o[1],d=wo(t-l,r-u);return(i?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:o,optimumDistance:d}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Ame=function(n,e,t,r,i){var s=0,a=0;switch(n.size){case 0:n.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(n.shape===0)s=a=Math.min(wo(e,t),wo(e,t-i),wo(e-r,t),wo(e-r,t-i));else if(n.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=yG(r,i,e,t,!0),u=l[0],d=l[1];s=wo(u-e,(d-t)/o),a=o*s}break;case 1:n.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(n.shape===0)s=a=Math.max(wo(e,t),wo(e,t-i),wo(e-r,t),wo(e-r,t-i));else if(n.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-r)),h=yG(r,i,e,t,!1),u=h[0],d=h[1];s=wo(u-e,(d-t)/o),a=o*s}break}return Array.isArray(n.size)&&(s=Tn(n.size[0],r),a=n.size.length===2?Tn(n.size[1],i):s),[s,a]},lme=function(n,e){var t=to(180),r=[];return OA(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){t=_Y(i);return}else if(xY(a)){t=j1.parse(n,a);return}}var o=W1(n,i);r.push(o)}),{angle:t,stops:r,type:1}},lx=function(n,e){var t=to(180),r=[];return OA(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=_Y(i);return}else if(xY(a)){t=(j1.parse(n,a)+to(270))%to(360);return}}var o=W1(n,i);r.push(o)}),{angle:t,stops:r,type:1}},ume=function(n,e){var t=to(180),r=[],i=1,s=0,a=3,o=[];return OA(e).forEach(function(l,u){var d=l[0];if(u===0){if(pn(d)&&d.value==="linear"){i=1;return}else if(pn(d)&&d.value==="radial"){i=2;return}}if(d.type===18){if(d.name==="from"){var h=Kd.parse(n,d.values[0]);r.push({stop:_i,color:h})}else if(d.name==="to"){var h=Kd.parse(n,d.values[0]);r.push({stop:Hd,color:h})}else if(d.name==="color-stop"){var g=d.values.filter(ry);if(g.length===2){var h=Kd.parse(n,g[1]),v=g[0];By(v)&&r.push({stop:{type:16,number:v.number*100,flags:v.flags},color:h})}}}}),i===1?{angle:(t+to(180))%to(360),stops:r,type:i}:{size:a,shape:s,stops:r,position:o,type:i}},TY="closest-side",IY="farthest-side",FY="closest-corner",MY="farthest-corner",UY="circle",PY="ellipse",RY="cover",DY="contain",cme=function(n,e){var t=0,r=3,i=[],s=[];return OA(e).forEach(function(a,o){var l=!0;if(o===0){var u=!1;l=a.reduce(function(h,g){if(u)if(pn(g))switch(g.value){case"center":return s.push(WQ),h;case"top":case"left":return s.push(_i),h;case"right":case"bottom":return s.push(Hd),h}else(Ir(g)||$d(g))&&s.push(g);else if(pn(g))switch(g.value){case UY:return t=0,!1;case PY:return t=1,!1;case"at":return u=!0,!1;case TY:return r=0,!1;case RY:case IY:return r=1,!1;case DY:case FY:return r=2,!1;case MY:return r=3,!1}else if($d(g)||Ir(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return h},l)}if(l){var d=W1(n,a);i.push(d)}}),{size:r,shape:t,stops:i,position:s,type:2}},ux=function(n,e){var t=0,r=3,i=[],s=[];return OA(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(d,h){if(pn(h))switch(h.value){case"center":return s.push(WQ),!1;case"top":case"left":return s.push(_i),!1;case"right":case"bottom":return s.push(Hd),!1}else if(Ir(h)||$d(h))return s.push(h),!1;return d},l):o===1&&(l=a.reduce(function(d,h){if(pn(h))switch(h.value){case UY:return t=0,!1;case PY:return t=1,!1;case DY:case TY:return r=0,!1;case IY:return r=1,!1;case FY:return r=2,!1;case RY:case MY:return r=3,!1}else if($d(h)||Ir(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return d},l)),l){var u=W1(n,a);i.push(u)}}),{size:r,shape:t,stops:i,position:s,type:2}},dme=function(n){return n.type===1},fme=function(n){return n.type===2},YQ={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var r=NY[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function hme(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!NY[n.name])}var NY={"linear-gradient":lme,"-moz-linear-gradient":lx,"-ms-linear-gradient":lx,"-o-linear-gradient":lx,"-webkit-linear-gradient":lx,"radial-gradient":cme,"-moz-radial-gradient":ux,"-ms-radial-gradient":ux,"-o-radial-gradient":ux,"-webkit-radial-gradient":ux,"-webkit-gradient":ume},pme={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(r){return ry(r)&&hme(r)}).map(function(r){return YQ.parse(n,r)})}},gme={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(pn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},mme={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return OA(e).map(function(t){return t.filter(Ir)}).map(bY)}},vme={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return OA(e).map(function(t){return t.filter(pn).map(function(r){return r.value}).join(" ")}).map(yme)}},yme=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},tm;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(tm||(tm={}));var wme={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return OA(e).map(function(t){return t.filter(bme)})}},bme=function(n){return pn(n)||Ir(n)},Y1=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Cme=Y1("top"),Eme=Y1("right"),Bme=Y1("bottom"),Sme=Y1("left"),X1=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return bY(t.filter(Ir))}}},xme=X1("top-left"),_me=X1("top-right"),Tme=X1("bottom-right"),Ime=X1("bottom-left"),J1=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Fme=J1("top"),Mme=J1("right"),Ume=J1("bottom"),Pme=J1("left"),Z1=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return ZE(t)?t.number:0}}},Rme=Z1("top"),Dme=Z1("right"),Nme=Z1("bottom"),Lme=Z1("left"),Qme={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},kme={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Ome={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(pn).reduce(function(t,r){return t|Hme(r.value)},0)}},Hme=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Vme={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Kme={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},dT;(function(n){n.NORMAL="normal",n.STRICT="strict"})(dT||(dT={}));var Gme={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return dT.STRICT;case"normal":default:return dT.NORMAL}}},zme={name:"line-height",initialValue:"normal",prefix:!1,type:4},wG=function(n,e){return pn(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:Ir(n)?Tn(n,e):e},qme={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:YQ.parse(n,e)}},$me={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},UN={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},eI=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},jme=eI("top"),Wme=eI("right"),Yme=eI("bottom"),Xme=eI("left"),Jme={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(pn).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Zme={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},tI=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},eve=tI("top"),tve=tI("right"),nve=tI("bottom"),rve=tI("left"),ive={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},sve={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ave={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&MN(e[0],"none")?[]:OA(e).map(function(t){for(var r={color:pu.TRANSPARENT,offsetX:_i,offsetY:_i,blur:_i},i=0,s=0;s<t.length;s++){var a=t[s];$d(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:r.blur=a,i++):r.color=Kd.parse(n,a)}return r})}},ove={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ave={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=cve[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},lve=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},uve=function(n){var e=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,r,i,s,a,o]:null},cve={matrix:lve,matrix3d:uve},bG={type:16,number:50,flags:JE},dve=[bG,bG],fve={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(Ir);return t.length!==2?dve:[t[0],t[1]]}},hve={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Nw;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(Nw||(Nw={}));var pve={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return Nw.BREAK_ALL;case"keep-all":return Nw.KEEP_ALL;case"normal":default:return Nw.NORMAL}}},gve={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(By(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},LY={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},mve={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return By(e)?e.number:1}},vve={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yve={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(pn).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},wve={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},bve={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Cve={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(By(e))return e.number;if(pn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Eve={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(pn).map(function(t){return t.value})}},Bve={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},kr=function(n,e){return(n&e)!==0},Sve={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},xve={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var r=[],i=e.filter(wY),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&By(o)?o.number:1;r.push({counter:a.value,increment:l})}}return r}},_ve={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],r=e.filter(wY),i=0;i<r.length;i++){var s=r[i],a=r[i+1];if(pn(s)&&s.value!=="none"){var o=a&&By(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},Tve={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(ZE).map(function(t){return LY.parse(n,t)})}},Ive={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var r=[],i=e.filter(tme);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;r.push({open:a,close:o})}return r}},CG=function(n,e,t){if(!n)return"";var r=n[Math.min(e,n.length-1)];return r?t?r.open:r.close:""},Fve={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&MN(e[0],"none")?[]:OA(e).map(function(t){for(var r={color:255,offsetX:_i,offsetY:_i,blur:_i,spread:_i,inset:!1},i=0,s=0;s<t.length;s++){var a=t[s];MN(a,"inset")?r.inset=!0:$d(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:i===2?r.blur=a:r.spread=a,i++):r.color=Kd.parse(n,a)}return r})}},Mve={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],r=[];return e.filter(pn).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},Uve={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Pve={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return ZE(e)?e.number:0}},Rve=(function(){function n(e,t){var r,i;this.animationDuration=Ne(e,Tve,t.animationDuration),this.backgroundClip=Ne(e,ime,t.backgroundClip),this.backgroundColor=Ne(e,sme,t.backgroundColor),this.backgroundImage=Ne(e,pme,t.backgroundImage),this.backgroundOrigin=Ne(e,gme,t.backgroundOrigin),this.backgroundPosition=Ne(e,mme,t.backgroundPosition),this.backgroundRepeat=Ne(e,vme,t.backgroundRepeat),this.backgroundSize=Ne(e,wme,t.backgroundSize),this.borderTopColor=Ne(e,Cme,t.borderTopColor),this.borderRightColor=Ne(e,Eme,t.borderRightColor),this.borderBottomColor=Ne(e,Bme,t.borderBottomColor),this.borderLeftColor=Ne(e,Sme,t.borderLeftColor),this.borderTopLeftRadius=Ne(e,xme,t.borderTopLeftRadius),this.borderTopRightRadius=Ne(e,_me,t.borderTopRightRadius),this.borderBottomRightRadius=Ne(e,Tme,t.borderBottomRightRadius),this.borderBottomLeftRadius=Ne(e,Ime,t.borderBottomLeftRadius),this.borderTopStyle=Ne(e,Fme,t.borderTopStyle),this.borderRightStyle=Ne(e,Mme,t.borderRightStyle),this.borderBottomStyle=Ne(e,Ume,t.borderBottomStyle),this.borderLeftStyle=Ne(e,Pme,t.borderLeftStyle),this.borderTopWidth=Ne(e,Rme,t.borderTopWidth),this.borderRightWidth=Ne(e,Dme,t.borderRightWidth),this.borderBottomWidth=Ne(e,Nme,t.borderBottomWidth),this.borderLeftWidth=Ne(e,Lme,t.borderLeftWidth),this.boxShadow=Ne(e,Fve,t.boxShadow),this.color=Ne(e,Qme,t.color),this.direction=Ne(e,kme,t.direction),this.display=Ne(e,Ome,t.display),this.float=Ne(e,Vme,t.cssFloat),this.fontFamily=Ne(e,wve,t.fontFamily),this.fontSize=Ne(e,bve,t.fontSize),this.fontStyle=Ne(e,Bve,t.fontStyle),this.fontVariant=Ne(e,Eve,t.fontVariant),this.fontWeight=Ne(e,Cve,t.fontWeight),this.letterSpacing=Ne(e,Kme,t.letterSpacing),this.lineBreak=Ne(e,Gme,t.lineBreak),this.lineHeight=Ne(e,zme,t.lineHeight),this.listStyleImage=Ne(e,qme,t.listStyleImage),this.listStylePosition=Ne(e,$me,t.listStylePosition),this.listStyleType=Ne(e,UN,t.listStyleType),this.marginTop=Ne(e,jme,t.marginTop),this.marginRight=Ne(e,Wme,t.marginRight),this.marginBottom=Ne(e,Yme,t.marginBottom),this.marginLeft=Ne(e,Xme,t.marginLeft),this.opacity=Ne(e,mve,t.opacity);var s=Ne(e,Jme,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Ne(e,Zme,t.overflowWrap),this.paddingTop=Ne(e,eve,t.paddingTop),this.paddingRight=Ne(e,tve,t.paddingRight),this.paddingBottom=Ne(e,nve,t.paddingBottom),this.paddingLeft=Ne(e,rve,t.paddingLeft),this.paintOrder=Ne(e,Mve,t.paintOrder),this.position=Ne(e,sve,t.position),this.textAlign=Ne(e,ive,t.textAlign),this.textDecorationColor=Ne(e,vve,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=Ne(e,yve,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=Ne(e,ave,t.textShadow),this.textTransform=Ne(e,ove,t.textTransform),this.transform=Ne(e,Ave,t.transform),this.transformOrigin=Ne(e,fve,t.transformOrigin),this.visibility=Ne(e,hve,t.visibility),this.webkitTextStrokeColor=Ne(e,Uve,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ne(e,Pve,t.webkitTextStrokeWidth),this.wordBreak=Ne(e,pve,t.wordBreak),this.zIndex=Ne(e,gve,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Gd(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return kr(this.display,4)||kr(this.display,33554432)||kr(this.display,268435456)||kr(this.display,536870912)||kr(this.display,67108864)||kr(this.display,134217728)},n})(),Dve=(function(){function n(e,t){this.content=Ne(e,Sve,t.content),this.quotes=Ne(e,Ive,t.quotes)}return n})(),EG=(function(){function n(e,t){this.counterIncrement=Ne(e,xve,t.counterIncrement),this.counterReset=Ne(e,_ve,t.counterReset)}return n})(),Ne=function(n,e,t){var r=new vY,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;r.write(i);var s=new yY(r.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(n,pn(a)?a.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return j1.parse(n,s.parseComponentValue());case"color":return Kd.parse(n,s.parseComponentValue());case"image":return YQ.parse(n,s.parseComponentValue());case"length":var o=s.parseComponentValue();return $d(o)?o:_i;case"length-percentage":var l=s.parseComponentValue();return Ir(l)?l:_i;case"time":return LY.parse(n,s.parseComponentValue())}break}},Nve="data-html2canvas-debug",Lve=function(n){var e=n.getAttribute(Nve);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},PN=function(n,e){var t=Lve(n);return t===1||e===t},HA=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,PN(t,3))debugger;this.styles=new Rve(e,window.getComputedStyle(t,null)),NN(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=q1(this.context,t),PN(t,4)&&(this.flags|=16)}return n})(),Qve="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",BG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var cx=0;cx<BG.length;cx++)bw[BG.charCodeAt(cx)]=cx;var kve=function(n){var e=n.length*.75,t=n.length,r,i=0,s,a,o,l;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<t;r+=4)s=bw[n.charCodeAt(r)],a=bw[n.charCodeAt(r+1)],o=bw[n.charCodeAt(r+2)],l=bw[n.charCodeAt(r+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|l&63;return u},Ove=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},Hve=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},pp=5,XQ=11,EU=2,Vve=XQ-pp,QY=65536>>pp,Kve=1<<pp,BU=Kve-1,Gve=1024>>pp,zve=QY+Gve,qve=zve,$ve=32,jve=qve+$ve,Wve=65536>>XQ,Yve=1<<Vve,Xve=Yve-1,SG=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},Jve=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},Zve=function(n,e){var t=kve(n),r=Array.isArray(t)?Hve(t):new Uint32Array(t),i=Array.isArray(t)?Ove(t):new Uint16Array(t),s=24,a=SG(i,s/2,r[4]/2),o=r[5]===2?SG(i,(s+r[4])/2):Jve(r,Math.ceil((s+r[4])/4));return new eye(r[0],r[1],r[2],r[3],a,o)},eye=(function(){function n(e,t,r,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>pp],t=(t<<EU)+(e&BU),this.data[t];if(e<=65535)return t=this.index[QY+(e-55296>>pp)],t=(t<<EU)+(e&BU),this.data[t];if(e<this.highStart)return t=jve-Wve+(e>>XQ),t=this.index[t],t+=e>>pp&Xve,t=this.index[t],t=(t<<EU)+(e&BU),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),xG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tye=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dx=0;dx<xG.length;dx++)tye[xG.charCodeAt(dx)]=dx;var nye=1,SU=2,xU=3,_G=4,TG=5,rye=7,IG=8,_U=9,TU=10,FG=11,MG=12,UG=13,PG=14,IU=15,iye=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},sye=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var a=n[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},aye=Zve(Qve),Na="",FU="",oye=function(n){return aye.get(n)},Aye=function(n,e,t){var r=t-2,i=e[r],s=e[t-1],a=e[t];if(s===SU&&a===xU)return Na;if(s===SU||s===xU||s===_G||a===SU||a===xU||a===_G)return FU;if(s===IG&&[IG,_U,FG,MG].indexOf(a)!==-1||(s===FG||s===_U)&&(a===_U||a===TU)||(s===MG||s===TU)&&a===TU||a===UG||a===TG||a===rye||s===nye)return Na;if(s===UG&&a===PG){for(;i===TG;)i=e[--r];if(i===PG)return Na}if(s===IU&&a===IU){for(var o=0;i===IU;)o++,i=e[--r];if(o%2===0)return Na}return FU},lye=function(n){var e=iye(n),t=e.length,r=0,i=0,s=e.map(oye);return{next:function(){if(r>=t)return{done:!0,value:null};for(var a=Na;r<t&&(a=Aye(e,s,++r))===Na;);if(a!==Na||r===t){var o=sye.apply(null,e.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},uye=function(n){for(var e=lye(n),t=[],r;!(r=e.next()).done;)r.value&&t.push(r.value.slice());return t},cye=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var r=n.createElement("boundtest");r.style.height=e+"px",r.style.display="block",n.body.appendChild(r),t.selectNode(r);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(n.body.removeChild(r),s===e)return!0}}return!1},dye=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=$1(r.data).map(function(l){return pr(l)}),s=0,a={},o=i.every(function(l,u){t.setStart(r,s),t.setEnd(r,s+l.length);var d=t.getBoundingClientRect();s+=l.length;var h=d.x>a.x||d.y>a.y;return a=d,u===0?!0:h});return n.body.removeChild(e),o},fye=function(){return typeof new Image().crossOrigin<"u"},hye=function(){return typeof new XMLHttpRequest().responseType=="string"},pye=function(n){var e=new Image,t=n.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},RG=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},gye=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var a=RN(t,t,0,0,i);return r.fillStyle="red",r.fillRect(0,0,t,t),DG(a).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var u=n.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=t+"px",RG(l)?DG(RN(t,t,0,0,u)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),RG(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},RN=function(n,e,t,r,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},DG=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Ci={get SUPPORT_RANGE_BOUNDS(){var n=cye(document);return Object.defineProperty(Ci,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=Ci.SUPPORT_RANGE_BOUNDS&&dye(document);return Object.defineProperty(Ci,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=pye(document);return Object.defineProperty(Ci,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?gye(document):Promise.resolve(!1);return Object.defineProperty(Ci,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=fye();return Object.defineProperty(Ci,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=hye();return Object.defineProperty(Ci,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ci,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ci,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},Lw=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),mye=function(n,e,t,r){var i=wye(e,t),s=[],a=0;return i.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(Ci.SUPPORT_RANGE_BOUNDS){var l=NG(r,a,o.length).getClientRects();if(l.length>1){var u=JQ(o),d=0;u.forEach(function(g){s.push(new Lw(g,Eu.fromDOMRectList(n,NG(r,d+a,g.length).getClientRects()))),d+=g.length})}else s.push(new Lw(o,Eu.fromDOMRectList(n,l)))}else{var h=r.splitText(o.length);s.push(new Lw(o,vye(n,r))),r=h}else Ci.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));a+=o.length}),s},vye=function(n,e){var t=e.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=q1(n,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return Eu.EMPTY},NG=function(n,e,t){var r=n.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(n,e),i.setEnd(n,e+t),i},JQ=function(n){if(Ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return uye(n)},yye=function(n,e){if(Ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(r){return r.segment})}return Cye(n,e)},wye=function(n,e){return e.letterSpacing!==0?JQ(n):yye(n,e)},bye=[32,160,4961,65792,65793,4153,4241],Cye=function(n,e){for(var t=Wpe(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var a=i.value.slice(),o=$1(a),l="";o.forEach(function(u){bye.indexOf(u)===-1?l+=pr(u):(l.length&&r.push(l),r.push(pr(u)),l="")}),l.length&&r.push(l)}};!(i=t.next()).done;)s();return r},Eye=(function(){function n(e,t,r){this.text=Bye(t.data,r.textTransform),this.textBounds=mye(e,this.text,r,t)}return n})(),Bye=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(Sye,xye);case 2:return n.toUpperCase();default:return n}},Sye=/(^|\s|:|-|\(|\))([a-z])/g,xye=function(n,e,t){return n.length>0?e+t.toUpperCase():n},kY=(function(n){zo(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e})(HA),OY=(function(n){zo(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e})(HA),HY=(function(n){zo(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=new XMLSerializer,a=q1(t,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(HA),VY=(function(n){zo(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e})(HA),DN=(function(n){zo(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e})(HA),_ye=[{type:15,flags:0,unit:"px",number:3}],Tye=[{type:16,flags:0,number:50}],Iye=function(n){return n.width>n.height?new Eu(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new Eu(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},Fye=function(n){var e=n.type===Mye?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},fT="checkbox",hT="radio",Mye="password",LG=707406591,ZQ=(function(n){zo(e,n);function e(t,r){var i=n.call(this,t,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=Fye(r),(i.type===fT||i.type===hT)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Iye(i.bounds)),i.type){case fT:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=_ye;break;case hT:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Tye;break}return i}return e})(HA),KY=(function(n){zo(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(HA),GY=(function(n){zo(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e})(HA),zY=(function(n){zo(e,n);function e(t,r){var i=n.call(this,t,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=$Y(t,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?Dw(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):pu.TRANSPARENT,a=r.contentWindow.document.body?Dw(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):pu.TRANSPARENT;i.backgroundColor=Gd(s)?Gd(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e})(HA),Uye=["OL","UL","MENU"],T_=function(n,e,t,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,jY(i)&&i.data.trim().length>0)t.textNodes.push(new Eye(n,i,t.styles));else if(Gg(i))if(JY(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return T_(n,o,t,r)});else{var a=qY(n,i);a.styles.isVisible()&&(Pye(i,a,r)?a.flags|=4:Rye(a.styles)&&(a.flags|=2),Uye.indexOf(i.tagName)!==-1&&(a.flags|=8),t.elements.push(a),i.slot,i.shadowRoot?T_(n,i.shadowRoot,a,r):!pT(i)&&!WY(i)&&!gT(i)&&T_(n,i,a,r))}},qY=function(n,e){return LN(e)?new kY(n,e):YY(e)?new OY(n,e):WY(e)?new HY(n,e):Dye(e)?new VY(n,e):Nye(e)?new DN(n,e):Lye(e)?new ZQ(n,e):gT(e)?new KY(n,e):pT(e)?new GY(n,e):XY(e)?new zY(n,e):new HA(n,e)},$Y=function(n,e){var t=qY(n,e);return t.flags|=4,T_(n,e,t,t),t},Pye=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||ek(n)&&t.styles.isTransparent()},Rye=function(n){return n.isPositioned()||n.isFloating()},jY=function(n){return n.nodeType===Node.TEXT_NODE},Gg=function(n){return n.nodeType===Node.ELEMENT_NODE},NN=function(n){return Gg(n)&&typeof n.style<"u"&&!I_(n)},I_=function(n){return typeof n.className=="object"},Dye=function(n){return n.tagName==="LI"},Nye=function(n){return n.tagName==="OL"},Lye=function(n){return n.tagName==="INPUT"},Qye=function(n){return n.tagName==="HTML"},WY=function(n){return n.tagName==="svg"},ek=function(n){return n.tagName==="BODY"},YY=function(n){return n.tagName==="CANVAS"},QG=function(n){return n.tagName==="VIDEO"},LN=function(n){return n.tagName==="IMG"},XY=function(n){return n.tagName==="IFRAME"},kG=function(n){return n.tagName==="STYLE"},kye=function(n){return n.tagName==="SCRIPT"},pT=function(n){return n.tagName==="TEXTAREA"},gT=function(n){return n.tagName==="SELECT"},JY=function(n){return n.tagName==="SLOT"},OG=function(n){return n.tagName.indexOf("-")>0},Oye=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(r){return t.counters[r].pop()})},n.prototype.parse=function(e){var t=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},n})(),HG={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},VG={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Hye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Vye={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},wg=function(n,e,t,r,i,s){return n<e||n>t?Yw(n,i,s.length>0):r.integers.reduce(function(a,o,l){for(;n>=o;)n-=o,a+=r.values[l];return a},"")+s},ZY=function(n,e,t,r){var i="";do t||n--,i=r(n)+i,n/=e;while(n*e>=e);return i},cr=function(n,e,t,r,i){var s=t-e+1;return(n<0?"-":"")+(ZY(Math.abs(n),s,r,function(a){return pr(Math.floor(a%s)+e)})+i)},Bf=function(n,e,t){t===void 0&&(t=". ");var r=e.length;return ZY(Math.abs(n),r,!1,function(i){return e[Math.floor(i%r)]})+t},Ng=1,yc=2,wc=4,Cw=8,ol=function(n,e,t,r,i,s){if(n<-9999||n>9999)return Yw(n,4,i.length>0);var a=Math.abs(n),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var u=a%10;u===0&&kr(s,Ng)&&o!==""?o=e[u]+o:u>1||u===1&&l===0||u===1&&l===1&&kr(s,yc)||u===1&&l===1&&kr(s,wc)&&n>100||u===1&&l>1&&kr(s,Cw)?o=e[u]+(l>0?t[l-1]:"")+o:u===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(n<0?r:"")+o},KG="",GG="",zG="",MU="",Yw=function(n,e,t){var r=t?". ":"",i=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=cr(n,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Bf(n,"",i);case 6:return wg(n,1,3999,HG,3,r).toLowerCase();case 7:return wg(n,1,3999,HG,3,r);case 8:return cr(n,945,969,!1,r);case 9:return cr(n,97,122,!1,r);case 10:return cr(n,65,90,!1,r);case 11:return cr(n,1632,1641,!0,r);case 12:case 49:return wg(n,1,9999,VG,3,r);case 35:return wg(n,1,9999,VG,3,r).toLowerCase();case 13:return cr(n,2534,2543,!0,r);case 14:case 30:return cr(n,6112,6121,!0,r);case 15:return Bf(n,"",i);case 16:return Bf(n,"",i);case 17:case 48:return ol(n,"",KG,"",i,yc|wc|Cw);case 47:return ol(n,"",GG,"",i,Ng|yc|wc|Cw);case 42:return ol(n,"",KG,"",i,yc|wc|Cw);case 41:return ol(n,"",GG,"",i,Ng|yc|wc|Cw);case 26:return ol(n,"","",zG,i,0);case 25:return ol(n,"","",zG,i,Ng|yc|wc);case 31:return ol(n,"","",MU,s,Ng|yc|wc);case 33:return ol(n,"","",MU,s,0);case 32:return ol(n,"","",MU,s,Ng|yc|wc);case 18:return cr(n,2406,2415,!0,r);case 20:return wg(n,1,19999,Vye,3,r);case 21:return cr(n,2790,2799,!0,r);case 22:return cr(n,2662,2671,!0,r);case 22:return wg(n,1,10999,Hye,3,r);case 23:return Bf(n,"");case 24:return Bf(n,"");case 27:return cr(n,3302,3311,!0,r);case 28:return Bf(n,"",i);case 29:return Bf(n,"",i);case 34:return cr(n,3792,3801,!0,r);case 37:return cr(n,6160,6169,!0,r);case 38:return cr(n,4160,4169,!0,r);case 39:return cr(n,2918,2927,!0,r);case 40:return cr(n,1776,1785,!0,r);case 43:return cr(n,3046,3055,!0,r);case 44:return cr(n,3174,3183,!0,r);case 45:return cr(n,3664,3673,!0,r);case 46:return cr(n,3872,3881,!0,r);case 3:default:return cr(n,48,57,!0,r)}},eX="data-html2canvas-ignore",qG=(function(){function n(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new Oye,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var r=this,i=Kye(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,u=qye(i).then(function(){return Zi(r,void 0,void 0,function(){var d,h;return Oi(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(Yye),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,zye(l)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(jye(document.doctype)+"<html></html>"),Wye(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},n.prototype.createElementClone=function(e){if(PN(e,2))debugger;if(YY(e))return this.createCanvasClone(e);if(QG(e))return this.createVideoClone(e);if(kG(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return LN(t)&&(LN(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),OG(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return UU(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},n.prototype.appendChildNode=function(e,t,r){(!Gg(t)||!kye(t)&&!t.hasAttribute(eX)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Gg(t)||!kG(t))&&e.appendChild(this.cloneNode(t,r))},n.prototype.cloneChildNodes=function(e,t,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Gg(s)&&JY(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(t,o,r)})}else this.appendChildNode(t,s,r)},n.prototype.cloneNode=function(e,t){if(jY(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&Gg(e)&&(NN(e)||I_(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),a=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&NN(i)&&(this.clonedReferenceElement=i),ek(i)&&Zye(i);var l=this.counters.parse(new EG(this.context,s)),u=this.resolvePseudoContent(e,i,a,Qw.BEFORE);OG(e)&&(t=!0),QG(e)||this.cloneChildNodes(e,i,t),u&&i.insertBefore(u,i.firstChild);var d=this.resolvePseudoContent(e,i,o,Qw.AFTER);return d&&i.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||I_(e))&&!XY(e)||t)&&UU(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(pT(e)||gT(e))&&(pT(i)||gT(i))&&(i.value=e.value),i}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,r,i){var s=this;if(r){var a=r.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new EG(this.context,r));var l=new Dve(this.context,r),u=o.createElement("html2canvaspseudoelement");UU(r,u),l.content.forEach(function(h){if(h.type===0)u.appendChild(o.createTextNode(h.value));else if(h.type===22){var g=o.createElement("img");g.src=h.value,g.style.opacity="1",u.appendChild(g)}else if(h.type===18){if(h.name==="attr"){var v=h.values.filter(pn);v.length&&u.appendChild(o.createTextNode(e.getAttribute(v[0].value)||""))}else if(h.name==="counter"){var b=h.values.filter(ry),C=b[0],B=b[1];if(C&&pn(C)){var S=s.counters.getCounterValue(C.value),I=B&&pn(B)?UN.parse(s.context,B.value):3;u.appendChild(o.createTextNode(Yw(S,I,!1)))}}else if(h.name==="counters"){var T=h.values.filter(ry),C=T[0],R=T[1],B=T[2];if(C&&pn(C)){var U=s.counters.getCounterValues(C.value),D=B&&pn(B)?UN.parse(s.context,B.value):3,L=R&&R.type===0?R.value:"",H=U.map(function(K){return Yw(K,D,!1)}).join(L);u.appendChild(o.createTextNode(H))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(o.createTextNode(CG(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(CG(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(h.value))}}),u.className=QN+" "+kN;var d=i===Qw.BEFORE?" "+QN:" "+kN;return I_(t)?t.className.baseValue+=d:t.className+=d,u}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),Qw;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(Qw||(Qw={}));var Kye=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(eX,"true"),n.body.appendChild(t),t},Gye=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},zye=function(n){return Promise.all([].slice.call(n.images,0).map(Gye))},qye=function(n){return new Promise(function(e,t){var r=n.contentWindow;if(!r)return t("No window assigned for iframe");var i=r.document;r.onload=n.onload=function(){r.onload=n.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},$ye=["all","d","content"],UU=function(n,e){for(var t=n.length-1;t>=0;t--){var r=n.item(t);$ye.indexOf(r)===-1&&e.style.setProperty(r,n.getPropertyValue(r))}return e},jye=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},Wye=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},Yye=function(n){var e=n[0],t=n[1],r=n[2];e.scrollLeft=t,e.scrollTop=r},Xye=":before",Jye=":after",QN="___html2canvas___pseudoelement_before",kN="___html2canvas___pseudoelement_after",$G=`{
    content: "" !important;
    display: none !important;
}`,Zye=function(n){e0e(n,"."+QN+Xye+$G+`
         .`+kN+Jye+$G)},e0e=function(n,e){var t=n.ownerDocument;if(t){var r=t.createElement("style");r.textContent=e,n.appendChild(r)}},tX=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),t0e=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(RU(e)||s0e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return Zi(this,void 0,void 0,function(){var t,r,i,s,a=this;return Oi(this,function(o){switch(o.label){case 0:return t=tX.isSameOrigin(e),r=!PU(e)&&this._options.useCORS===!0&&Ci.SUPPORT_CORS_IMAGES&&!t,i=!PU(e)&&!t&&!RU(e)&&typeof this._options.proxy=="string"&&Ci.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!PU(e)&&!RU(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,(a0e(s)||r)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=Ci.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(g){return a(g)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var u=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var d=t._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+i)}}l.send()})},n})(),n0e=/^data:image\/svg\+xml/i,r0e=/^data:image\/.*;base64,/i,i0e=/^data:image\/.*/i,s0e=function(n){return Ci.SUPPORT_SVG_DRAWING||!o0e(n)},PU=function(n){return i0e.test(n)},a0e=function(n){return r0e.test(n)},RU=function(n){return n.substr(0,4)==="blob"},o0e=function(n){return n.substr(-3).toLowerCase()==="svg"||n0e.test(n)},De=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),bg=function(n,e,t){return new De(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},fx=(function(){function n(e,t,r,i){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=i}return n.prototype.subdivide=function(e,t){var r=bg(this.start,this.startControl,e),i=bg(this.startControl,this.endControl,e),s=bg(this.endControl,this.end,e),a=bg(r,i,e),o=bg(i,s,e),l=bg(a,o,e);return t?new n(this.start,r,a,l):new n(l,o,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),Za=function(n){return n.type===1},A0e=(function(){function n(e){var t=e.styles,r=e.bounds,i=ww(t.borderTopLeftRadius,r.width,r.height),s=i[0],a=i[1],o=ww(t.borderTopRightRadius,r.width,r.height),l=o[0],u=o[1],d=ww(t.borderBottomRightRadius,r.width,r.height),h=d[0],g=d[1],v=ww(t.borderBottomLeftRadius,r.width,r.height),b=v[0],C=v[1],B=[];B.push((s+l)/r.width),B.push((b+h)/r.width),B.push((a+C)/r.height),B.push((u+g)/r.height);var S=Math.max.apply(Math,B);S>1&&(s/=S,a/=S,l/=S,u/=S,h/=S,g/=S,b/=S,C/=S);var I=r.width-l,T=r.height-g,R=r.width-h,U=r.height-C,D=t.borderTopWidth,L=t.borderRightWidth,H=t.borderBottomWidth,k=t.borderLeftWidth,G=Tn(t.paddingTop,e.bounds.width),K=Tn(t.paddingRight,e.bounds.width),z=Tn(t.paddingBottom,e.bounds.width),J=Tn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?kn(r.left+k/3,r.top+D/3,s-k/3,a-D/3,zt.TOP_LEFT):new De(r.left+k/3,r.top+D/3),this.topRightBorderDoubleOuterBox=s>0||a>0?kn(r.left+I,r.top+D/3,l-L/3,u-D/3,zt.TOP_RIGHT):new De(r.left+r.width-L/3,r.top+D/3),this.bottomRightBorderDoubleOuterBox=h>0||g>0?kn(r.left+R,r.top+T,h-L/3,g-H/3,zt.BOTTOM_RIGHT):new De(r.left+r.width-L/3,r.top+r.height-H/3),this.bottomLeftBorderDoubleOuterBox=b>0||C>0?kn(r.left+k/3,r.top+U,b-k/3,C-H/3,zt.BOTTOM_LEFT):new De(r.left+k/3,r.top+r.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?kn(r.left+k*2/3,r.top+D*2/3,s-k*2/3,a-D*2/3,zt.TOP_LEFT):new De(r.left+k*2/3,r.top+D*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?kn(r.left+I,r.top+D*2/3,l-L*2/3,u-D*2/3,zt.TOP_RIGHT):new De(r.left+r.width-L*2/3,r.top+D*2/3),this.bottomRightBorderDoubleInnerBox=h>0||g>0?kn(r.left+R,r.top+T,h-L*2/3,g-H*2/3,zt.BOTTOM_RIGHT):new De(r.left+r.width-L*2/3,r.top+r.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||C>0?kn(r.left+k*2/3,r.top+U,b-k*2/3,C-H*2/3,zt.BOTTOM_LEFT):new De(r.left+k*2/3,r.top+r.height-H*2/3),this.topLeftBorderStroke=s>0||a>0?kn(r.left+k/2,r.top+D/2,s-k/2,a-D/2,zt.TOP_LEFT):new De(r.left+k/2,r.top+D/2),this.topRightBorderStroke=s>0||a>0?kn(r.left+I,r.top+D/2,l-L/2,u-D/2,zt.TOP_RIGHT):new De(r.left+r.width-L/2,r.top+D/2),this.bottomRightBorderStroke=h>0||g>0?kn(r.left+R,r.top+T,h-L/2,g-H/2,zt.BOTTOM_RIGHT):new De(r.left+r.width-L/2,r.top+r.height-H/2),this.bottomLeftBorderStroke=b>0||C>0?kn(r.left+k/2,r.top+U,b-k/2,C-H/2,zt.BOTTOM_LEFT):new De(r.left+k/2,r.top+r.height-H/2),this.topLeftBorderBox=s>0||a>0?kn(r.left,r.top,s,a,zt.TOP_LEFT):new De(r.left,r.top),this.topRightBorderBox=l>0||u>0?kn(r.left+I,r.top,l,u,zt.TOP_RIGHT):new De(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||g>0?kn(r.left+R,r.top+T,h,g,zt.BOTTOM_RIGHT):new De(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=b>0||C>0?kn(r.left,r.top+U,b,C,zt.BOTTOM_LEFT):new De(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||a>0?kn(r.left+k,r.top+D,Math.max(0,s-k),Math.max(0,a-D),zt.TOP_LEFT):new De(r.left+k,r.top+D),this.topRightPaddingBox=l>0||u>0?kn(r.left+Math.min(I,r.width-L),r.top+D,I>r.width+L?0:Math.max(0,l-L),Math.max(0,u-D),zt.TOP_RIGHT):new De(r.left+r.width-L,r.top+D),this.bottomRightPaddingBox=h>0||g>0?kn(r.left+Math.min(R,r.width-k),r.top+Math.min(T,r.height-H),Math.max(0,h-L),Math.max(0,g-H),zt.BOTTOM_RIGHT):new De(r.left+r.width-L,r.top+r.height-H),this.bottomLeftPaddingBox=b>0||C>0?kn(r.left+k,r.top+Math.min(U,r.height-H),Math.max(0,b-k),Math.max(0,C-H),zt.BOTTOM_LEFT):new De(r.left+k,r.top+r.height-H),this.topLeftContentBox=s>0||a>0?kn(r.left+k+J,r.top+D+G,Math.max(0,s-(k+J)),Math.max(0,a-(D+G)),zt.TOP_LEFT):new De(r.left+k+J,r.top+D+G),this.topRightContentBox=l>0||u>0?kn(r.left+Math.min(I,r.width+k+J),r.top+D+G,I>r.width+k+J?0:l-k+J,u-(D+G),zt.TOP_RIGHT):new De(r.left+r.width-(L+K),r.top+D+G),this.bottomRightContentBox=h>0||g>0?kn(r.left+Math.min(R,r.width-(k+J)),r.top+Math.min(T,r.height+D+G),Math.max(0,h-(L+K)),g-(H+z),zt.BOTTOM_RIGHT):new De(r.left+r.width-(L+K),r.top+r.height-(H+z)),this.bottomLeftContentBox=b>0||C>0?kn(r.left+k+J,r.top+U,Math.max(0,b-(k+J)),C-(H+z),zt.BOTTOM_LEFT):new De(r.left+k+J,r.top+r.height-(H+z))}return n})(),zt;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(zt||(zt={}));var kn=function(n,e,t,r,i){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=r*s,l=n+t,u=e+r;switch(i){case zt.TOP_LEFT:return new fx(new De(n,u),new De(n,u-o),new De(l-a,e),new De(l,e));case zt.TOP_RIGHT:return new fx(new De(n,e),new De(n+a,e),new De(l,u-o),new De(l,u));case zt.BOTTOM_RIGHT:return new fx(new De(l,e),new De(l,e+o),new De(n+a,u),new De(n,u));case zt.BOTTOM_LEFT:default:return new fx(new De(l,u),new De(l-a,u),new De(n,e+o),new De(n,e))}},mT=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},l0e=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},vT=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},u0e=(function(){function n(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return n})(),hx=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),c0e=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),d0e=function(n){return n.type===0},nX=function(n){return n.type===1},f0e=function(n){return n.type===2},jG=function(n,e){return n.length===e.length?n.some(function(t,r){return t===e[r]}):!1},h0e=function(n,e,t,r,i){return n.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+r,t);case 2:return s.add(e+r,t+i);case 3:return s.add(e,t+i)}return s})},rX=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),iX=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new A0e(this.container),this.container.styles.opacity<1&&this.effects.push(new c0e(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new u0e(r,i,s))}if(this.container.styles.overflowX!==0){var a=mT(this.curves),o=vT(this.curves);jG(a,o)?this.effects.push(new hx(a,6)):(this.effects.push(new hx(a,2)),this.effects.push(new hx(o,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!nX(l)});if(t||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=mT(r.curves),o=vT(r.curves);jG(a,o)||i.unshift(new hx(o,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(l){return kr(l.target,e)})},n})(),ON=function(n,e,t,r){n.container.elements.forEach(function(i){var s=kr(i.flags,4),a=kr(i.flags,2),o=new iX(i,n);kr(i.styles.display,2048)&&r.push(o);var l=kr(i.flags,8)?[]:r;if(s||a){var u=s||i.styles.isPositioned()?t:e,d=new rX(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var h=i.styles.zIndex.order;if(h<0){var g=0;u.negativeZIndex.some(function(b,C){return h>b.element.container.styles.zIndex.order?(g=C,!1):g>0}),u.negativeZIndex.splice(g,0,d)}else if(h>0){var v=0;u.positiveZIndex.some(function(b,C){return h>=b.element.container.styles.zIndex.order?(v=C+1,!1):v>0}),u.positiveZIndex.splice(v,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else i.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);ON(o,d,s?d:t,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),ON(o,e,t,l);kr(i.flags,8)&&sX(i,l)})},sX=function(n,e){for(var t=n instanceof DN?n.start:1,r=n instanceof DN?n.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof VY&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=Yw(t,s.container.styles.listStyleType,!0),t+=r?-1:1}},p0e=function(n){var e=new iX(n,null),t=new rX(e),r=[];return ON(e,t,t,r),sX(e.container,r),t},WG=function(n,e){switch(e){case 0:return no(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return no(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return no(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return no(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},g0e=function(n,e){switch(e){case 0:return no(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return no(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return no(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return no(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},m0e=function(n,e){switch(e){case 0:return no(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return no(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return no(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return no(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},v0e=function(n,e){switch(e){case 0:return px(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return px(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return px(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return px(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},px=function(n,e){var t=[];return Za(n)?t.push(n.subdivide(.5,!1)):t.push(n),Za(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},no=function(n,e,t,r){var i=[];return Za(n)?i.push(n.subdivide(.5,!1)):i.push(n),Za(t)?i.push(t.subdivide(.5,!0)):i.push(t),Za(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Za(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},aX=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},yT=function(n){var e=n.styles,t=n.bounds,r=Tn(e.paddingLeft,t.width),i=Tn(e.paddingRight,t.width),s=Tn(e.paddingTop,t.width),a=Tn(e.paddingBottom,t.width);return t.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},y0e=function(n,e){return n===0?e.bounds:n===2?yT(e):aX(e)},w0e=function(n,e){return n===0?e.bounds:n===2?yT(e):aX(e)},DU=function(n,e,t){var r=y0e(Lg(n.styles.backgroundOrigin,e),n),i=w0e(Lg(n.styles.backgroundClip,e),n),s=b0e(Lg(n.styles.backgroundSize,e),t,r),a=s[0],o=s[1],l=ww(Lg(n.styles.backgroundPosition,e),r.width-a,r.height-o),u=C0e(Lg(n.styles.backgroundRepeat,e),l,s,r,i),d=Math.round(r.left+l[0]),h=Math.round(r.top+l[1]);return[u,d,h,a,o]},Cg=function(n){return pn(n)&&n.value===tm.AUTO},gx=function(n){return typeof n=="number"},b0e=function(n,e,t){var r=e[0],i=e[1],s=e[2],a=n[0],o=n[1];if(!a)return[0,0];if(Ir(a)&&o&&Ir(o))return[Tn(a,t.width),Tn(o,t.height)];var l=gx(s);if(pn(a)&&(a.value===tm.CONTAIN||a.value===tm.COVER)){if(gx(s)){var u=t.width/t.height;return u<s!=(a.value===tm.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var d=gx(r),h=gx(i),g=d||h;if(Cg(a)&&(!o||Cg(o))){if(d&&h)return[r,i];if(!l&&!g)return[t.width,t.height];if(g&&l){var v=d?r:i*s,b=h?i:r/s;return[v,b]}var C=d?r:t.width,B=h?i:t.height;return[C,B]}if(l){var S=0,I=0;return Ir(a)?S=Tn(a,t.width):Ir(o)&&(I=Tn(o,t.height)),Cg(a)?S=I*s:(!o||Cg(o))&&(I=S/s),[S,I]}var T=null,R=null;if(Ir(a)?T=Tn(a,t.width):o&&Ir(o)&&(R=Tn(o,t.height)),T!==null&&(!o||Cg(o))&&(R=d&&h?T/r*i:t.height),R!==null&&Cg(a)&&(T=d&&h?R/i*r:t.width),T!==null&&R!==null)return[T,R];throw new Error("Unable to calculate background-size for element")},Lg=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},C0e=function(n,e,t,r,i){var s=e[0],a=e[1],o=t[0],l=t[1];switch(n){case 2:return[new De(Math.round(r.left),Math.round(r.top+a)),new De(Math.round(r.left+r.width),Math.round(r.top+a)),new De(Math.round(r.left+r.width),Math.round(l+r.top+a)),new De(Math.round(r.left),Math.round(l+r.top+a))];case 3:return[new De(Math.round(r.left+s),Math.round(r.top)),new De(Math.round(r.left+s+o),Math.round(r.top)),new De(Math.round(r.left+s+o),Math.round(r.height+r.top)),new De(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new De(Math.round(r.left+s),Math.round(r.top+a)),new De(Math.round(r.left+s+o),Math.round(r.top+a)),new De(Math.round(r.left+s+o),Math.round(r.top+a+l)),new De(Math.round(r.left+s),Math.round(r.top+a+l))];default:return[new De(Math.round(i.left),Math.round(i.top)),new De(Math.round(i.left+i.width),Math.round(i.top)),new De(Math.round(i.left+i.width),Math.round(i.height+i.top)),new De(Math.round(i.left),Math.round(i.height+i.top))]}},E0e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",YG="Hidden Text",B0e=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),i.src=E0e,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(YG)),r.appendChild(s),r.appendChild(i);var o=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(YG)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:o,middle:l}},n.prototype.getMetrics=function(e,t){var r=e+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},n})(),oX=(function(){function n(e,t){this.context=e,this.options=t}return n})(),S0e=1e4,x0e=(function(n){zo(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new B0e(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),f0e(t)&&(this.ctx.globalAlpha=t.opacity),d0e(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),nX(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Zi(this,void 0,void 0,function(){var r;return Oi(this,function(i){switch(i.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Zi(this,void 0,void 0,function(){return Oi(this,function(r){switch(r.label){case 0:if(kr(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,r,i){var s=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var a=JQ(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+i),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=M0e(t.fontFamily).join(", "),s=ZE(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,r){return Zi(this,void 0,void 0,function(){var i,s,a,o,l,u,d,h,g=this;return Oi(this,function(v){return i=this.createFontStyle(r),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),u=l.baseline,d=l.middle,h=r.paintOrder,t.textBounds.forEach(function(b){h.forEach(function(C){switch(C){case 0:g.ctx.fillStyle=$r(r.color),g.renderTextWithLetterSpacing(b,r.letterSpacing,u);var B=r.textShadow;B.length&&b.text.trim().length&&(B.slice(0).reverse().forEach(function(S){g.ctx.shadowColor=$r(S.color),g.ctx.shadowOffsetX=S.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=S.offsetY.number*g.options.scale,g.ctx.shadowBlur=S.blur.number,g.renderTextWithLetterSpacing(b,r.letterSpacing,u)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),r.textDecorationLine.length&&(g.ctx.fillStyle=$r(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(S){switch(S){case 1:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+u),b.bounds.width,1);break;case 2:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:g.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+d),b.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&b.text.trim().length&&(g.ctx.strokeStyle=$r(r.webkitTextStrokeColor),g.ctx.lineWidth=r.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+u)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,r,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=yT(t),a=vT(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Zi(this,void 0,void 0,function(){var r,i,s,a,o,l,I,I,u,d,h,g,R,v,b,U,C,B,S,I,T,R,U;return Oi(this,function(D){switch(D.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,i=t.curves,s=r.styles,a=0,o=r.textNodes,D.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:D.sent(),D.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof kY))return[3,8];D.label=5;case 5:return D.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return I=D.sent(),this.renderReplacedElement(r,i,I),[3,8];case 7:return D.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof OY&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof HY))return[3,12];D.label=9;case 9:return D.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return I=D.sent(),this.renderReplacedElement(r,i,I),[3,12];case 11:return D.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof zY&&r.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:d=D.sent(),r.width&&r.height&&this.ctx.drawImage(d,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),D.label=14;case 14:if(r instanceof ZQ&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===fT?r.checked&&(this.ctx.save(),this.path([new De(r.bounds.left+h*.39363,r.bounds.top+h*.79),new De(r.bounds.left+h*.16,r.bounds.top+h*.5549),new De(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new De(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new De(r.bounds.left+h*.72983,r.bounds.top+h*.23),new De(r.bounds.left+h*.84,r.bounds.top+h*.34085),new De(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=$r(LG),this.ctx.fill(),this.ctx.restore()):r.type===hT&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=$r(LG),this.ctx.fill(),this.ctx.restore())),_0e(r)&&r.value.length){switch(g=this.createFontStyle(s),R=g[0],v=g[1],b=this.fontMetrics.getMetrics(R,v).baseline,this.ctx.font=R,this.ctx.fillStyle=$r(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=I0e(r.styles.textAlign),U=yT(r),C=0,r.styles.textAlign){case 1:C+=U.width/2;break;case 2:C+=U.width;break}B=U.add(C,0,0,-U.height/2+1),this.ctx.save(),this.path([new De(U.left,U.top),new De(U.left+U.width,U.top),new De(U.left+U.width,U.top+U.height),new De(U.left,U.top+U.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Lw(r.value,B),s.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!kr(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(S=r.styles.listStyleImage,S.type!==0)return[3,18];I=void 0,T=S.url,D.label=15;case 15:return D.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return I=D.sent(),this.ctx.drawImage(I,r.bounds.left-(I.width+10),r.bounds.top),[3,18];case 17:return D.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(R=this.createFontStyle(s)[0],this.ctx.font=R,this.ctx.fillStyle=$r(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",U=new Eu(r.bounds.left,r.bounds.top+Tn(r.styles.paddingTop,r.bounds.width),r.bounds.width,wG(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Lw(t.listValue,U),s.letterSpacing,wG(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),D.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Zi(this,void 0,void 0,function(){var r,i,S,s,a,S,o,l,S,u,d,S,h,g,S,v,b,S,C,B,S;return Oi(this,function(I){switch(I.label){case 0:if(kr(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:I.sent(),r=0,i=t.negativeZIndex,I.label=2;case 2:return r<i.length?(S=i[r],[4,this.renderStack(S)]):[3,5];case 3:I.sent(),I.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:I.sent(),s=0,a=t.nonInlineLevel,I.label=7;case 7:return s<a.length?(S=a[s],[4,this.renderNode(S)]):[3,10];case 8:I.sent(),I.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,I.label=11;case 11:return o<l.length?(S=l[o],[4,this.renderStack(S)]):[3,14];case 12:I.sent(),I.label=13;case 13:return o++,[3,11];case 14:u=0,d=t.nonPositionedInlineLevel,I.label=15;case 15:return u<d.length?(S=d[u],[4,this.renderStack(S)]):[3,18];case 16:I.sent(),I.label=17;case 17:return u++,[3,15];case 18:h=0,g=t.inlineLevel,I.label=19;case 19:return h<g.length?(S=g[h],[4,this.renderNode(S)]):[3,22];case 20:I.sent(),I.label=21;case 21:return h++,[3,19];case 22:v=0,b=t.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return v<b.length?(S=b[v],[4,this.renderStack(S)]):[3,26];case 24:I.sent(),I.label=25;case 25:return v++,[3,23];case 26:C=0,B=t.positiveZIndex,I.label=27;case 27:return C<B.length?(S=B[C],[4,this.renderStack(S)]):[3,30];case 28:I.sent(),I.label=29;case 29:return C++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var r=this;t.forEach(function(i,s){var a=Za(i)?i.start:i;s===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),Za(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,r,i,s){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,r,i){var s;if(t.width===r&&t.height===i)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,r,i),o},e.prototype.renderBackgroundImage=function(t){return Zi(this,void 0,void 0,function(){var r,i,s,a,o,l;return Oi(this,function(u){switch(u.label){case 0:r=t.styles.backgroundImage.length-1,i=function(d){var h,g,v,G,V,j,J,Y,H,b,G,V,j,J,Y,C,B,S,I,T,R,U,D,L,H,k,G,K,z,J,Y,ge,V,j,re,he,Ee,q,X,oe,Ce,se;return Oi(this,function(ce){switch(ce.label){case 0:if(d.type!==0)return[3,5];h=void 0,g=d.url,ce.label=1;case 1:return ce.trys.push([1,3,,4]),[4,s.context.cache.match(g)];case 2:return h=ce.sent(),[3,4];case 3:return ce.sent(),s.context.logger.error("Error loading background-image "+g),[3,4];case 4:return h&&(v=DU(t,r,[h.width,h.height,h.width/h.height]),G=v[0],V=v[1],j=v[2],J=v[3],Y=v[4],H=s.ctx.createPattern(s.resizeImage(h,J,Y),"repeat"),s.renderRepeat(G,H,V,j)),[3,6];case 5:dme(d)?(b=DU(t,r,[null,null,null]),G=b[0],V=b[1],j=b[2],J=b[3],Y=b[4],C=ome(d.angle,J,Y),B=C[0],S=C[1],I=C[2],T=C[3],R=C[4],U=document.createElement("canvas"),U.width=J,U.height=Y,D=U.getContext("2d"),L=D.createLinearGradient(S,T,I,R),vG(d.stops,B).forEach(function(ue){return L.addColorStop(ue.stop,$r(ue.color))}),D.fillStyle=L,D.fillRect(0,0,J,Y),J>0&&Y>0&&(H=s.ctx.createPattern(U,"repeat"),s.renderRepeat(G,H,V,j))):fme(d)&&(k=DU(t,r,[null,null,null]),G=k[0],K=k[1],z=k[2],J=k[3],Y=k[4],ge=d.position.length===0?[WQ]:d.position,V=Tn(ge[0],J),j=Tn(ge[ge.length-1],Y),re=Ame(d,V,j,J,Y),he=re[0],Ee=re[1],he>0&&Ee>0&&(q=s.ctx.createRadialGradient(K+V,z+j,0,K+V,z+j,he),vG(d.stops,he*2).forEach(function(ue){return q.addColorStop(ue.stop,$r(ue.color))}),s.path(G),s.ctx.fillStyle=q,he!==Ee?(X=t.bounds.left+.5*t.bounds.width,oe=t.bounds.top+.5*t.bounds.height,Ce=Ee/he,se=1/Ce,s.ctx.save(),s.ctx.translate(X,oe),s.ctx.transform(1,0,0,Ce,0,0),s.ctx.translate(-X,-oe),s.ctx.fillRect(K,se*(z-oe)+oe,J,Y*se),s.ctx.restore()):s.ctx.fill())),ce.label=6;case 6:return r--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,r,i){return Zi(this,void 0,void 0,function(){return Oi(this,function(s){return this.path(WG(i,r)),this.ctx.fillStyle=$r(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,r,i,s){return Zi(this,void 0,void 0,function(){var a,o;return Oi(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=g0e(s,i),this.path(a),this.ctx.fillStyle=$r(t),this.ctx.fill(),o=m0e(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Zi(this,void 0,void 0,function(){var r,i,s,a,o,l,u,d,h=this;return Oi(this,function(g){switch(g.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,i=!Gd(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=T0e(Lg(r.backgroundClip,0),t.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Gd(r.backgroundColor)||(this.ctx.fillStyle=$r(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(v){h.ctx.save();var b=mT(t.curves),C=v.inset?0:S0e,B=h0e(b,-C+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(h.path(b),h.ctx.clip(),h.mask(B)):(h.mask(b),h.ctx.clip(),h.path(B)),h.ctx.shadowOffsetX=v.offsetX.number+C,h.ctx.shadowOffsetY=v.offsetY.number,h.ctx.shadowColor=$r(v.color),h.ctx.shadowBlur=v.blur.number,h.ctx.fillStyle=v.inset?$r(v.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),g.label=2;case 2:o=0,l=0,u=s,g.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!Gd(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,t.curves,3)];case 6:return g.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,t.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,t.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,r,i,s,a){return Zi(this,void 0,void 0,function(){var o,l,u,d,h,g,v,b,C,B,S,I,T,R,U,D,U,D;return Oi(this,function(L){return this.ctx.save(),o=v0e(s,i),l=WG(s,i),a===2&&(this.path(l),this.ctx.clip()),Za(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),Za(l[1])?(h=l[1].end.x,g=l[1].end.y):(h=l[1].x,g=l[1].y),i===0||i===2?v=Math.abs(u-h):v=Math.abs(d-g),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),b=r<3?r*3:r*2,C=r<3?r*2:r,a===3&&(b=r,C=r),B=!0,v<=b*2?B=!1:v<=b*2+C?(S=v/(2*b+C),b*=S,C*=S):(I=Math.floor((v+C)/(b+C)),T=(v-I*b)/(I-1),R=(v-(I+1)*b)/I,C=R<=0||Math.abs(C-T)<Math.abs(C-R)?T:R),B&&(a===3?this.ctx.setLineDash([0,b+C]):this.ctx.setLineDash([b,C])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=$r(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Za(l[0])&&(U=l[3],D=l[0],this.ctx.beginPath(),this.formatPath([new De(U.end.x,U.end.y),new De(D.start.x,D.start.y)]),this.ctx.stroke()),Za(l[1])&&(U=l[1],D=l[2],this.ctx.beginPath(),this.formatPath([new De(U.end.x,U.end.y),new De(D.start.x,D.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Zi(this,void 0,void 0,function(){var r;return Oi(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=$r(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=p0e(t),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(oX),_0e=function(n){return n instanceof GY||n instanceof KY?!0:n instanceof ZQ&&n.type!==hT&&n.type!==fT},T0e=function(n,e){switch(n){case 0:return mT(e);case 2:return l0e(e);case 1:default:return vT(e)}},I0e=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},F0e=["-apple-system","system-ui"],M0e=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return F0e.indexOf(e)===-1}):n},U0e=(function(n){zo(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(t){return Zi(this,void 0,void 0,function(){var r,i;return Oi(this,function(s){switch(s.label){case 0:return r=RN(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,P0e(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=$r(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(oX),P0e=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},R0e=(function(){function n(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,jS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,jS([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,jS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,jS([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),D0e=(function(){function n(e,t){var r;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new R0e({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new t0e(this,e)}return n.instanceCount=1,n})(),N0e=function(n,e){return e===void 0&&(e={}),L0e(n,e)};typeof window<"u"&&tX.setContext(window);var L0e=function(n,e){return Zi(void 0,void 0,void 0,function(){var t,r,i,s,a,o,l,u,d,h,g,v,b,C,B,S,I,T,R,U,L,D,L,H,k,G,K,z,J,Y,ge,V,j,re,he,Ee,q,X,oe,Ce;return Oi(this,function(se){switch(se.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(G=e.useCORS)!==null&&G!==void 0?G:!1},s=yN({logging:(K=e.logging)!==null&&K!==void 0?K:!0,cache:e.cache},i),a={windowWidth:(z=e.windowWidth)!==null&&z!==void 0?z:r.innerWidth,windowHeight:(J=e.windowHeight)!==null&&J!==void 0?J:r.innerHeight,scrollX:(Y=e.scrollX)!==null&&Y!==void 0?Y:r.pageXOffset,scrollY:(ge=e.scrollY)!==null&&ge!==void 0?ge:r.pageYOffset},o=new Eu(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new D0e(s,o),u=(V=e.foreignObjectRendering)!==null&&V!==void 0?V:!1,d={allowTaint:(j=e.allowTaint)!==null&&j!==void 0?j:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new qG(l,n,d),g=h.clonedReferenceElement,g?[4,h.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=se.sent(),b=ek(g)||Qye(g)?hpe(g.ownerDocument):q1(l,g),C=b.width,B=b.height,S=b.left,I=b.top,T=Q0e(l,g,e.backgroundColor),R={canvas:e.canvas,backgroundColor:T,scale:(he=(re=e.scale)!==null&&re!==void 0?re:r.devicePixelRatio)!==null&&he!==void 0?he:1,x:((Ee=e.x)!==null&&Ee!==void 0?Ee:0)+S,y:((q=e.y)!==null&&q!==void 0?q:0)+I,width:(X=e.width)!==null&&X!==void 0?X:Math.ceil(C),height:(oe=e.height)!==null&&oe!==void 0?oe:Math.ceil(B)},u?(l.logger.debug("Document cloned, using foreign object rendering"),L=new U0e(l,R),[4,L.render(g)]):[3,3];case 2:return U=se.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+S+","+I+" with size "+C+"x"+B+" using computed rendering"),l.logger.debug("Starting DOM parsing"),D=$Y(l,g),T===D.styles.backgroundColor&&(D.styles.backgroundColor=pu.TRANSPARENT),l.logger.debug("Starting renderer for element at "+R.x+","+R.y+" with size "+R.width+"x"+R.height),L=new x0e(l,R),[4,L.render(D)];case 4:U=se.sent(),se.label=5;case 5:return(!((Ce=e.removeContainer)!==null&&Ce!==void 0)||Ce)&&(qG.destroy(v)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,U]}})})},Q0e=function(n,e,t){var r=e.ownerDocument,i=r.documentElement?Dw(n,getComputedStyle(r.documentElement).backgroundColor):pu.TRANSPARENT,s=r.body?Dw(n,getComputedStyle(r.body).backgroundColor):pu.TRANSPARENT,a=typeof t=="string"?Dw(n,t):t===null?pu.TRANSPARENT:4294967295;return e===r.documentElement?Gd(i)?Gd(s)?a:s:i:a};const k0e=({customChapter:n,variant:e="main"})=>{const{currentChapter:t,fontSize:r,viewMode:i,addHighlight:s,drawingMode:a,penColor:o,penWidth:l,penOpacity:u,chapterStrokes:d,addStroke:h,removeStroke:g,highlights:v,activeHighlightId:b,showAnnotations:C,triggerSmartExplain:B,isCaptureMode:S,setCaptureMode:I,setCapturedImage:T}=ef(),R=n||t,U=e==="main",D=F.useRef(null),L=F.useRef(null),H=F.useRef(0),[k,G]=F.useState({text:"",top:0,left:0,show:!1}),[K,z]=F.useState({show:!1,text:""}),[J]=F.useState(()=>"ontouchstart"in window||navigator.maxTouchPoints>0),[Y,ge]=F.useState(!1),[V,j]=F.useState([]),[re,he]=F.useState(null),[Ee,q]=F.useState(null);F.useEffect(()=>{if(!U)return;const xe=ee=>{ee.key==="Escape"&&S&&(I(!1),he(null),q(null))};return window.addEventListener("keydown",xe),()=>window.removeEventListener("keydown",xe)},[S,I,U]);const X=F.useMemo(()=>{let xe=R.content;return C&&[...v.filter(Me=>Me.chapterId===R.id)].sort((Me,mt)=>mt.text.length-Me.text.length).forEach(Me=>{const mt=Me.text.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Ke=new RegExp(mt,"g"),$t=`<mark id="hl-${Me.id}" style="background-color: #fef08a !important; color: #0f172a !important;" class="rounded-sm cursor-pointer hover:brightness-95 transition-colors border-b-2 border-yellow-400" title="${Me.note||"Highlight"}">${Me.text}</mark>`;xe=xe.replace(Ke,$t)}),xe},[R.content,R.id,v,C]);F.useEffect(()=>{if(b&&C){const xe=document.getElementById(`hl-${b}`);xe&&document.body.contains(xe)&&(xe.scrollIntoView({behavior:"smooth",block:"center"}),xe.classList.add("ring-4","ring-blue-500","ring-offset-2"),setTimeout(()=>{xe.classList.remove("ring-4","ring-blue-500","ring-offset-2")},2e3))}},[b,X,C]),F.useEffect(()=>{const xe=ee=>{const Be=ee.target;!Be.closest(`#selection-menu-${e}`)&&!Be.closest(`#memo-dialog-${e}`)&&G(Me=>({...Me,show:!1}))};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[e]);const oe=()=>{var zr,ve;if(a!=="idle"||S){G(Te=>({...Te,show:!1}));return}const xe=window.getSelection();if(!xe||xe.isCollapsed||xe.rangeCount===0){G(Te=>({...Te,show:!1}));return}if(!(((zr=D.current)==null?void 0:zr.contains(xe.anchorNode))||((ve=D.current)==null?void 0:ve.contains(xe.focusNode)))||!D.current){G(Te=>({...Te,show:!1}));return}const Be=xe.getRangeAt(0),Me=Be.getBoundingClientRect(),mt=Array.from(Be.getClientRects()),Ke=Me.width>0&&Me.height>0&&Me||mt.find(Te=>Te.width>0&&Te.height>0);if(!Ke||Ke.width===0){G(Te=>({...Te,show:!1}));return}const $t=240,Rt=12;let jt=J?Ke.bottom+Rt:Ke.top-56,Bt=Ke.left+Ke.width/2-$t/2;jt<Rt&&(jt=Ke.bottom+Rt),Bt<Rt&&(Bt=Rt),Bt+$t>window.innerWidth-Rt&&(Bt=window.innerWidth-$t-Rt),G({text:xe.toString().trim(),top:jt,left:Bt,show:!0})},Ce=()=>{[0,40,120].forEach(ee=>setTimeout(oe,ee))},se=()=>{U&&S||a==="idle"&&Ce()},ce=()=>{var xe;s(k.text,void 0,R.id),G(ee=>({...ee,show:!1})),(xe=window.getSelection())==null||xe.removeAllRanges()},ue=()=>{G(xe=>({...xe,show:!1})),z({show:!0,text:""})},Se=()=>{var xe;K.text.trim()&&s(k.text,K.text,R.id),z({show:!1,text:""}),(xe=window.getSelection())==null||xe.removeAllRanges()},te=()=>{var xe;B(k.text),G(ee=>({...ee,show:!1})),(xe=window.getSelection())==null||xe.removeAllRanges()},Ie=xe=>{if(!L.current)return null;const ee=L.current.getBoundingClientRect();if(ee.width===0||ee.height===0)return null;const Be=L.current.width/ee.width,Me=L.current.height/ee.height;return{x:(xe.clientX-ee.left)*Be,y:(xe.clientY-ee.top)*Me}},Fe=xe=>{var Be;if(U&&S||a==="idle")return;xe.target.setPointerCapture(xe.pointerId);const ee=Ie(xe);if(ee&&(ge(!0),j([ee]),D.current&&a==="pen")){const Me=Array.from(D.current.children);let mt=0;const Ke=(Be=L.current)==null?void 0:Be.getBoundingClientRect(),$t=xe.clientY-((Ke==null?void 0:Ke.top)||0);for(let Rt=0;Rt<Me.length;Rt++){const jt=Me[Rt];if($t>=jt.offsetTop&&$t<=jt.offsetTop+jt.offsetHeight){mt=Rt;break}if($t<jt.offsetTop){mt=Math.max(0,Rt-1);break}mt=Rt}H.current=mt}},me=xe=>{if(U&&S||!Y||a==="idle")return;xe.preventDefault();const ee=Ie(xe);if(ee){if(a==="pen")j(Be=>[...Be,ee]);else if(a==="eraser"){const Be=d[R.id]||[],Me=D.current?Array.from(D.current.children):[];Be.forEach(mt=>{let Ke=mt.points;if(mt.anchorIndex!==void 0&&Me[mt.anchorIndex]){const Rt=Me[mt.anchorIndex].offsetTop;Ke=mt.points.map(jt=>({x:jt.x,y:jt.y+Rt}))}Ke.some(Rt=>Math.hypot(Rt.x-ee.x,Rt.y-ee.y)<20)&&g(R.id,mt.id)})}}},gt=xe=>{if(!(U&&S)&&Y){if(xe.target.releasePointerCapture(xe.pointerId),ge(!1),a==="pen"&&V.length>1){let ee=V,Be;if(D.current){Be=H.current;const mt=D.current.children;if(mt[Be]){const Ke=mt[Be].offsetTop;ee=V.map($t=>({x:$t.x,y:$t.y-Ke}))}}const Me={id:Date.now().toString(),points:ee,color:o,width:l,opacity:u,anchorIndex:Be};h(R.id,Me)}j([])}},$e=xe=>{if(!U||!S)return;const ee={x:xe.clientX,y:xe.clientY};he(ee),q(ee)},Gt=xe=>{!U||!S||!re||q({x:xe.clientX,y:xe.clientY})},It=async xe=>{if(!U||!S||!re||!Ee){he(null),q(null);return}const ee=re,Be={x:xe.clientX,y:xe.clientY},Me={x:Math.min(ee.x,Be.x),y:Math.min(ee.y,Be.y),width:Math.abs(Be.x-ee.x),height:Math.abs(Be.y-ee.y)};if(he(null),q(null),!(Me.width<10||Me.height<10))try{const mt=await N0e(document.body,{x:Me.x+window.scrollX,y:Me.y+window.scrollY,width:Me.width,height:Me.height,useCORS:!0,scale:window.devicePixelRatio,ignoreElements:Ke=>Ke.classList.contains("capture-overlay-ui")});T(mt.toDataURL())}catch(mt){console.error(mt)}finally{I(!1)}};F.useEffect(()=>{const xe=L.current;if(!xe||!D.current)return;const ee=()=>{if(!xe||!D.current)return;const Me=window.devicePixelRatio||1;xe.width=D.current.offsetWidth*Me,xe.height=D.current.offsetHeight*Me;const mt=xe.getContext("2d");mt&&mt.scale(Me,Me)};ee();const Be=new ResizeObserver(ee);return Be.observe(D.current),()=>Be.disconnect()},[R.id,i]),F.useEffect(()=>{const xe=()=>Ce(),ee=()=>Ce();return document.addEventListener("selectionchange",xe),document.addEventListener("touchend",ee),()=>{document.removeEventListener("selectionchange",xe),document.removeEventListener("touchend",ee)}},[S,a,J]),F.useEffect(()=>{const xe=L.current;if(!xe||!D.current)return;const ee=xe.getContext("2d");if(!ee||(ee.save(),ee.setTransform(1,0,0,1,0,0),ee.clearRect(0,0,xe.width,xe.height),ee.restore(),!C&&!Y))return;const Be=(Ke,$t,Rt,jt)=>{if(!(Ke.length<2)){ee.beginPath(),ee.lineWidth=Rt,ee.strokeStyle=$t,ee.lineCap="round",ee.lineJoin="round",ee.globalAlpha=jt,ee.moveTo(Ke[0].x,Ke[0].y);for(let Bt=1;Bt<Ke.length-1;Bt++){const zr={x:(Ke[Bt].x+Ke[Bt+1].x)/2,y:(Ke[Bt].y+Ke[Bt+1].y)/2};ee.quadraticCurveTo(Ke[Bt].x,Ke[Bt].y,zr.x,zr.y)}ee.lineTo(Ke[Ke.length-1].x,Ke[Ke.length-1].y),ee.stroke(),ee.globalAlpha=1}},Me=Array.from(D.current.children);(d[R.id]||[]).forEach(Ke=>{let $t=Ke.points;if(Ke.anchorIndex!==void 0&&Me[Ke.anchorIndex]){const Rt=Me[Ke.anchorIndex].offsetTop;$t=Ke.points.map(jt=>({x:jt.x,y:jt.y+Rt}))}Be($t,Ke.color,Ke.width||3,Ke.opacity!==void 0?Ke.opacity:1)}),Y&&V.length>1&&a==="pen"&&Be(V,o,l,u)},[d,R.id,Y,V,o,l,u,a,C]);const Yn=()=>{switch(r){case"small":return"text-sm leading-6";case"large":return"text-xl leading-9";case"xlarge":return"text-2xl leading-10";default:return"text-lg leading-8"}},nt=U&&S&&re&&Ee?{position:"fixed",left:Math.min(re.x,Ee.x),top:Math.min(re.y,Ee.y),width:Math.abs(Ee.x-re.x),height:Math.abs(Ee.y-re.y),border:"2px solid #3b82f6",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(59, 130, 246, 0.1)",zIndex:1e4,pointerEvents:"none"}:{},Fn={width:"100%",height:"100%",touchAction:a!=="idle"?"none":"auto"},Fi=`absolute inset-0 z-20 ${a!=="idle"?"cursor-crosshair pointer-events-auto":"pointer-events-none"}`,tn=e==="main"&&i==="double",ba=e==="main"?`relative w-full bg-white dark:bg-slate-950 shadow-lg min-h-[80vh] p-8 md:p-12 transition-all ${tn?"max-w-full":"max-w-3xl"}`:"relative w-full bg-white dark:bg-slate-900 p-4 min-h-[500px]",Ai=`prose prose-slate dark:prose-invert max-w-none select-text cursor-text transition-all duration-200 relative z-10 selection:bg-yellow-200 selection:text-black dark:selection:bg-yellow-700 dark:selection:text-white ${Yn()} ${tn?"columns-1 md:columns-2 gap-12 [column-fill:auto]":""}`,Gn=e==="main"?"relative min-h-[50vh] pb-32 flex justify-center bg-slate-100 dark:bg-slate-900 pt-8":"relative w-full bg-slate-50 dark:bg-slate-950";return Q.jsxs("div",{className:Gn,onPointerUp:se,onTouchEnd:se,children:[U&&S&&Q.jsx("div",{className:"fixed inset-0 z-[9999] cursor-crosshair capture-overlay-ui",onMouseDown:$e,onMouseMove:Gt,onMouseUp:It,children:!re&&Q.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg pointer-events-none",children:"Drag to capture (Esc to cancel)"})}),U&&S&&re&&Ee&&Q.jsx("div",{style:nt,className:"capture-overlay-ui"}),Q.jsxs("div",{className:ba,children:[Q.jsx("div",{ref:D,className:Ai,dangerouslySetInnerHTML:{__html:X},onContextMenu:xe=>xe.preventDefault()}),Q.jsx("canvas",{ref:L,className:Fi,style:Fn,onPointerDown:Fe,onPointerMove:me,onPointerUp:gt,onPointerLeave:gt})]}),k.show&&!S&&Q.jsxs("div",{id:`selection-menu-${e}`,className:"fixed z-50 flex items-center gap-2 bg-slate-800 text-white rounded-lg shadow-xl p-2 animate-fade-in",style:{top:k.top,left:k.left},children:[Q.jsxs("button",{onClick:ce,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(S_,{size:14,className:"text-yellow-400"})," High"]}),Q.jsx("div",{className:"w-px h-4 bg-slate-600"}),Q.jsxs("button",{onClick:ue,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(npe,{size:14,className:"text-green-400"})," Memo"]}),Q.jsx("div",{className:"w-px h-4 bg-slate-600"}),Q.jsxs("button",{onClick:te,className:"flex items-center gap-1 px-2 py-1 hover:bg-slate-700 rounded text-xs font-medium",children:[Q.jsx(Ihe,{size:14,className:"text-blue-400"})," AI"]})]}),K.show&&Q.jsx("div",{id:`memo-dialog-${e}`,className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/20 backdrop-blur-sm",children:Q.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 w-80 animate-slide-up border border-slate-200 dark:border-slate-700",children:[Q.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 mb-2",children:"Add Note"}),Q.jsx("textarea",{autoFocus:!0,value:K.text,onChange:xe=>z(ee=>({...ee,text:xe.target.value})),className:"w-full h-24 p-2 text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none dark:text-white",placeholder:"Type your thoughts..."}),Q.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[Q.jsx("button",{onClick:()=>z({show:!1,text:""}),className:"px-3 py-1.5 text-xs font-medium text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),Q.jsx("button",{onClick:Se,className:"px-3 py-1.5 text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 rounded-lg shadow-sm transition-colors",children:"Save"})]})]})})]})},O0e=({pdfPageCount:n,pdfCurrentPage:e,onPdfGoToPage:t})=>{var S;const{chapters:r,currentChapterIndex:i,goToNextChapter:s,goToPrevChapter:a,goToChapter:o}=ef(),l=!!t&&(n||0)>0,u=l?n||1:r.length,d=l?e||1:i+1,h=d-1,g=((S=r[i])==null?void 0:S.title)||(l?"PDF":"Chapter"),[v,b]=F.useState(d.toString());F.useEffect(()=>{b(d.toString())},[d]);const C=I=>{I.preventDefault();const T=parseInt(v);if(isNaN(T)||T<1||T>u){b(d.toString());return}l?t==null||t(T):o(T-1)},B=I=>{const T=parseInt(I.target.value);l?t==null||t(T+1):o(T)};return Q.jsxs("div",{className:"navigation_inner",children:[Q.jsxs("div",{className:"prograss_bar_wrap",children:[Q.jsx("input",{type:"range",min:"0",max:Math.max(u-1,0),value:h,onChange:B,className:"prograss_max"}),Q.jsx("div",{className:"prograss_range",style:{width:`${d/u*100}%`},children:Q.jsx("div",{className:"prograss_pointer"})})]}),Q.jsxs("div",{className:"navigation_bottom_box",children:[Q.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.max(1,d-1)):a(),disabled:l?d<=1:i===0,className:`
            ${l?d<=1?"off":"on":i===0?"off":"on"}
          `,children:[Q.jsx(she,{size:18}),Q.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),Q.jsxs("div",{className:"chapter_page",children:[Q.jsxs("form",{onSubmit:C,className:"",children:[Q.jsx("span",{className:"text_xs",children:"Page"}),Q.jsx("input",{type:"text",value:v,onChange:I=>b(I.target.value),className:""}),Q.jsxs("span",{className:"slash",children:["/ ",u]})]}),Q.jsx("span",{className:"chapter_name",children:g})]}),Q.jsxs("button",{onClick:()=>l?t==null?void 0:t(Math.min(u,d+1)):s(),disabled:l?d>=u:i===r.length-1,className:`
            ${l?d>=u?"off":"on":i===r.length-1?"off":"on"}
          `,children:[Q.jsx("span",{className:"hidden sm:inline",children:"Next"}),Q.jsx(ohe,{size:18})]})]})]})},H0e=({visible:n,top:e,left:t,copyStatus:r,onHighlight:i,onCopy:s,onAskAi:a,onCancel:o})=>n?Q.jsxs("div",{className:"pdf_selection_menu",style:{top:e,left:t},children:[(r==="ok"||r==="fail")&&Q.jsx("span",{className:`pdf_selection_menu_copy_status ${r==="ok"?"pdf_viewer_copy_status_ok":"pdf_viewer_copy_status_fail"}`,children:r==="ok"?"":" "}),Q.jsx("button",{onClick:i,children:"Highlight"}),Q.jsx("div",{className:"pdf_selection_menu_copy_block",children:Q.jsx("button",{onClick:s,children:"Copy"})}),Q.jsx("button",{onClick:a,children:"AI"}),Q.jsx("button",{onClick:o,children:"Cancel"})]}):null,V0e=({loading:n,errorMsg:e,progress:t})=>{if(!n&&!e)return null;const r=Math.min(100,Math.max(1,Math.round(t||0)));return Q.jsxs(Q.Fragment,{children:[n&&Q.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_loading",children:Q.jsxs("div",{className:"pdf_viewer_progress",children:[Q.jsx("div",{className:"pdf_viewer_progress_title",children:"PDF  ..."}),Q.jsx("div",{className:"pdf_viewer_progress_bar",children:Q.jsx("div",{className:"pdf_viewer_progress_bar_fill",style:{width:`${r}%`}})}),Q.jsxs("div",{className:"pdf_viewer_progress_percent",children:[r,"%"]})]})}),e&&Q.jsx("div",{className:"pdf_viewer_overlay pdf_viewer_overlay_error",children:Q.jsxs("div",{className:"pdf_viewer_error",children:[Q.jsx("div",{className:"pdf_viewer_error_title",children:"PDF  "}),Q.jsx("div",{children:e})]})})]})},{AbortException:K0e,AnnotationEditorLayer:G0e,AnnotationEditorParamsType:VQe,AnnotationEditorType:gs,AnnotationEditorUIManager:z0e,AnnotationLayer:q0e,AnnotationMode:MA,AnnotationType:AX,applyOpacity:KQe,build:GQe,ColorPicker:zQe,createValidAbsoluteUrl:lX,CSSConstants:qQe,DOMSVGFactory:$Qe,DrawLayer:$0e,FeatureTest:uX,fetchData:XG,findContrastColor:jQe,getDocument:WQe,getFilenameFromUrl:YQe,getPdfFilenameFromUrl:j0e,getRGB:XQe,getUuid:JQe,getXfaPageViewport:ZQe,GlobalWorkerOptions:eke,ImageKind:tke,InvalidPDFException:nke,isDataScheme:rke,isPdfFile:W0e,isValidExplicitDest:Y0e,MathClamp:tk,noContextMenu:ike,normalizeUnicode:X0e,OPS:ske,OutputScale:F_,PasswordResponses:ake,PDFDataRangeTransport:oke,PDFDateString:Ake,PDFWorker:lke,PermissionFlag:Eg,PixelsPerInch:hl,RenderingCancelledException:HN,renderRichText:uke,ResponseException:cke,setLayerDimensions:cX,shadow:Xw,SignatureExtractor:dke,stopEvent:VN,SupportedImageMimeTypes:fke,TextLayer:J0e,TouchManager:hke,updateUrlHash:Z0e,Util:nk,VerbosityLevel:pke,version:JG,XfaLayer:NU}=globalThis.pdfjsLib,ewe="auto",dX=1,ZG=1.1,twe=.1,nwe=10,LU=0,rwe=1.25,ez=40,tz=5,Qt={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},nm={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},IA={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},Ft={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},gr={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function fX(n,e,t=!1){let r=n.offsetParent;if(!r){console.error("offsetParent is not set -- cannot scroll");return}let i=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||t&&(r.classList.contains("markedContent")||getComputedStyle(r).overflow==="hidden");)if(i+=r.offsetTop,s+=r.offsetLeft,r=r.offsetParent,!r)return;if(e&&(e.top!==void 0&&(i+=e.top),e.left!==void 0)){if(t){const a=n.getBoundingClientRect().width,o=tk((r.clientWidth-a)/2,20,400);s+=e.left-o}else s+=e.left;r.scrollLeft=s}r.scrollTop=i}function iwe(n,e,t=void 0){const r=function(a){s||(s=window.requestAnimationFrame(function(){s=null;const l=n.scrollLeft,u=i.lastX;l!==u&&(i.right=l>u),i.lastX=l;const d=n.scrollTop,h=i.lastY;d!==h&&(i.down=d>h),i.lastY=d,e(i)}))},i={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:r};let s=null;return n.addEventListener("scroll",r,{useCapture:!0,signal:t}),t==null||t.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),i}function nI(n){const e=new Map;for(const[t,r]of new URLSearchParams(n))e.set(t.toLowerCase(),r);return e}const nz=/[\x00-\x1F]/g;function kw(n,e=!1){return nz.test(n)?e?n.replaceAll(nz,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function Jw(n,e,t=0){let r=t,i=n.length-1;if(i<0||!e(n[i]))return n.length;if(e(n[r]))return r;for(;r<i;){const s=r+i>>1,a=n[s];e(a)?i=s:r=s+1}return r}function rz(n){if(Math.floor(n)===n)return[n,1];const e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const r=n>1?e:n;let i=0,s=1,a=1,o=1;for(;;){const u=i+a,d=s+o;if(d>t)break;r<=u/d?(a=u,o=d):(i=u,s=d)}let l;return r-i/s<a/o-r?l=r===n?[i,s]:[s,i]:l=r===n?[a,o]:[o,a],l}function mx(n,e){return n-n%e}function swe(n,e,t){if(n<2)return n;let r=e[n].div,i=r.offsetTop+r.clientTop;i>=t&&(r=e[n-1].div,i=r.offsetTop+r.clientTop);for(let s=n-2;s>=0&&(r=e[s].div,!(r.offsetTop+r.clientTop+r.clientHeight<=i));--s)n=s;return n}function awe({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:r=!1,rtl:i=!1}){const s=n.scrollTop,a=s+n.clientHeight,o=n.scrollLeft,l=o+n.clientWidth;function u(I){const T=I.div;return T.offsetTop+T.clientTop+T.clientHeight>s}function d(I){const T=I.div,R=T.offsetLeft+T.clientLeft,U=R+T.clientWidth;return i?R<l:U>o}const h=[],g=new Set,v=e.length;let b=Jw(e,r?d:u);b>0&&b<v&&!r&&(b=swe(b,e,s));let C=r?l:-1;for(let I=b;I<v;I++){const T=e[I],R=T.div,U=R.offsetLeft+R.clientLeft,D=R.offsetTop+R.clientTop,L=R.clientWidth,H=R.clientHeight,k=U+L,G=D+H;if(C===-1)G>=a&&(C=G);else if((r?U:D)>C)break;if(G<=s||D>=a||k<=o||U>=l)continue;const K=Math.max(0,s-D),z=Math.max(0,o-U),J=K+Math.max(0,G-a),Y=z+Math.max(0,k-l),ge=(H-J)/H,V=(L-Y)/L,j=ge*V*100|0;h.push({id:T.id,x:U,y:D,visibleArea:j===100?null:{minX:z,minY:K,maxX:Math.min(k,l)-U,maxY:Math.min(G,a)-D},view:T,percent:j,widthPercent:V*100|0}),g.add(T.id)}const B=h[0],S=h.at(-1);return t&&h.sort(function(I,T){const R=I.percent-T.percent;return Math.abs(R)>.001?-R:I.id-T.id}),{first:B,last:S,views:h,ids:g}}function hX(n){return Number.isInteger(n)&&n%90===0}function owe(n){return Number.isInteger(n)&&Object.values(Ft).includes(n)&&n!==Ft.UNKNOWN}function Awe(n){return Number.isInteger(n)&&Object.values(gr).includes(n)&&n!==gr.UNKNOWN}function iz(n){return n.width<=n.height}new Promise(function(n){window.requestAnimationFrame(n)});const lwe=document.documentElement.style;var wd,tp,bd,Pv,np;class uwe{constructor(e){M(this,wd,null);M(this,tp,null);M(this,bd,0);M(this,Pv,null);M(this,np,!0);_(this,wd,e.classList),_(this,Pv,e.style)}get percent(){return f(this,bd)}set percent(e){if(_(this,bd,tk(e,0,100)),isNaN(e)){f(this,wd).add("indeterminate");return}f(this,wd).remove("indeterminate"),f(this,Pv).setProperty("--progressBar-percent",`${f(this,bd)}%`)}setWidth(e){if(!e)return;const r=e.parentNode.offsetWidth-e.offsetWidth;r>0&&f(this,Pv).setProperty("--progressBar-end-offset",`${r}px`)}setDisableAutoFetch(e=5e3){f(this,bd)===100||isNaN(f(this,bd))||(f(this,tp)&&clearTimeout(f(this,tp)),this.show(),_(this,tp,setTimeout(()=>{_(this,tp,null),this.hide()},e)))}hide(){f(this,np)&&(_(this,np,!1),f(this,wd).add("hidden"))}show(){f(this,np)||(_(this,np,!0),f(this,wd).remove("hidden"))}}wd=new WeakMap,tp=new WeakMap,bd=new WeakMap,Pv=new WeakMap,np=new WeakMap;function cwe(n){let e=Ft.VERTICAL,t=gr.NONE;switch(n){case"SinglePage":e=Ft.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=Ft.PAGE;case"TwoColumnLeft":t=gr.ODD;break;case"TwoPageRight":e=Ft.PAGE;case"TwoColumnRight":t=gr.EVEN;break}return{scrollMode:e,spreadMode:t}}const vx=(function(){const n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e})(),vo={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function dwe(n){return n<11904}function fwe(n){return(n&65408)===0}function hwe(n){return n>=97&&n<=122||n>=65&&n<=90}function pwe(n){return n>=48&&n<=57}function gwe(n){return n===32||n===9||n===13||n===10}function mwe(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function vwe(n){return n>=12448&&n<=12543}function ywe(n){return n>=12352&&n<=12447}function wwe(n){return n>=65376&&n<=65439}function bwe(n){return(n&65408)===3584}function yx(n){return dwe(n)?fwe(n)?gwe(n)?vo.SPACE:hwe(n)||pwe(n)||n===95?vo.ALPHA_LETTER:vo.PUNCT:bwe(n)?vo.THAI_LETTER:n===160?vo.SPACE:vo.ALPHA_LETTER:mwe(n)?vo.HAN_LETTER:vwe(n)?vo.KATAKANA_LETTER:ywe(n)?vo.HIRAGANA_LETTER:wwe(n)?vo.HALFWIDTH_KATAKANA_LETTER:vo.ALPHA_LETTER}let Cwe;function Ewe(){return Cwe}const bc={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},Bwe=250,Swe=-50,sz={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},az=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let oz;const xwe=new RegExp("\\p{M}+","gu"),_we=new RegExp("([*+^${}()|[\\]\\\\])|(\\p{P}+)|(\\s+)|(\\p{M})|(\\p{L})","gu"),Twe=new RegExp("([^\\p{M}])\\p{M}*$","u"),Iwe=new RegExp("^\\p{M}*([^\\p{M}])","u"),Fwe=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,Az=new Map,Mwe="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",lz=new Map;let QU=null,kU=null;function M_(n,e={}){const t=[];let r;for(;(r=Fwe.exec(n))!==null;){let{index:I}=r;for(const T of r[0]){let R=Az.get(T);R||(R=T.normalize("NFD").length,Az.set(T,R)),t.push([R,I++])}}const i=t.length>0,s=e.ignoreDashEOL??!1;let a;if(!i&&QU)a=QU;else if(i&&kU)a=kU;else{const I=Object.keys(sz).join(""),T=Ewe(),L=[`[${I}]`,`[${T}]`,"(?:|)\\n","\\p{M}+(?:-\\n)?","\\p{Ll}-\\n(?=\\p{Ll})|\\p{Lu}-\\n(?=\\p{L})","\\S-\\n","(?:\\p{Ideographic}|[-])\\n","\\n",i?Mwe:"\\u0000"];a=new RegExp(L.map(H=>`(${H})`).join("|"),"gum"),i?kU=a:QU=a}const o=[];for(;(r=xwe.exec(n))!==null;)o.push([r[0].length,r.index]);let l=n.normalize("NFD");const u=[0,0];let d=0,h=0,g=0,v=0,b=0,C=!1;l=l.replace(a,(I,T,R,U,D,L,H,k,G,K,z)=>{var J,Y,ge;if(z-=v,T){const V=sz[T],j=V.length;for(let re=1;re<j;re++)u.push(z-g+re,g-re);return g-=j-1,V}if(R){let V=lz.get(R);V||(V=R.normalize("NFKC"),lz.set(R,V));const j=V.length;for(let re=1;re<j;re++)u.push(z-g+re,g-re);return g-=j-1,V}if(U)return C=!0,z+b===((J=o[d])==null?void 0:J[1])?++d:(u.push(z-1-g+1,g-1),g-=1,v+=1),u.push(z-g+1,g),v+=1,b+=1,U.charAt(0);if(D){const V=D.endsWith(`
`),j=V?D.length-2:D.length;C=!0;let re=j;z+b===((Y=o[d])==null?void 0:Y[1])&&(re-=o[d][0],++d);for(let he=1;he<=re;he++)u.push(z-1-g+he,g-he);return g-=re,v+=re,V?(z+=j-1,u.push(z-g+1,1+g),g+=1,v+=1,b+=1,D.slice(0,j)):D}if(L){if(s)return v+=1,b+=1,L.slice(0,-1);const V=L.length-2;return u.push(z-g+V,1+g),g+=1,v+=1,b+=1,L.slice(0,-2)}if(H)return v+=1,b+=1,H.slice(0,-1);if(k){const V=k.length-1;return u.push(z-g+V,g),v+=1,b+=1,k.slice(0,-1)}if(G)return u.push(z-g+1,g-1),g-=1,v+=1,b+=1," ";if(z+b===((ge=t[h])==null?void 0:ge[1])){const V=t[h][0]-1;++h;for(let j=1;j<=V;j++)u.push(z-(g-j),g-j);g-=V,v+=V}return K}),u.push(l.length,g);const B=new Uint32Array(u.length>>1),S=new Int32Array(u.length>>1);for(let I=0,T=u.length;I<T;I+=2)B[I>>1]=u[I],S[I>>1]=u[I+1];return[l,[B,S],C]}function pX(n,e,t){if(!n)return[e,t];const[r,i]=n,s=e,a=e+t-1;let o=Jw(r,g=>g>=s);r[o]>s&&--o;let l=Jw(r,g=>g>=a,o);r[l]>a&&--l;const u=s+i[o],h=a+i[l]+1-u;return[u,h]}var Nr,Rv,rp,qe,gX,KN,GN,mX,vX,zN,yX,wX,U_,Ew,Qg,bX,qN,$N,P_,CX,jN,WN,Bw;class Uwe{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:r=!0}){M(this,qe);M(this,Nr,null);M(this,Rv,!0);M(this,rp,0);this._linkService=e,this._eventBus=t,_(this,Rv,r),this.onIsPageVisible=null,P(this,qe,KN).call(this),t._on("find",P(this,qe,gX).bind(this)),t._on("findbarclose",P(this,qe,CX).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return f(this,Nr)}setDocument(e){this._pdfDocument&&P(this,qe,KN).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:r=-1,matchIndex:i=-1}){if(!this._scrollMatches||!e)return;if(i===-1||i!==this._selected.matchIdx)return;if(r===-1||r!==this._selected.pageIdx)return;this._scrollMatches=!1,fX(e,{top:Swe,left:t},!0)}match(e,t,r){const i=this._hasDiacritics[r];let s=!1;if(typeof e=="string"?[s,e]=P(this,qe,zN).call(this,e,i):e=e.sort().reverse().map(h=>{const[g,v]=P(this,qe,zN).call(this,h,i);return s||(s=g),`(${v})`}).join("|"),!e)return;const{caseSensitive:a,entireWord:o}=f(this,Nr),l=`g${s?"u":""}${a?"":"i"}`;e=new RegExp(e,l);const u=[];let d;for(;(d=e.exec(t))!==null;)o&&!P(this,qe,vX).call(this,t,d.index,d[0].length)||u.push({index:d.index,length:d[0].length});return u}}Nr=new WeakMap,Rv=new WeakMap,rp=new WeakMap,qe=new WeakSet,gX=function(e){if(!e)return;const t=this._pdfDocument,{type:r}=e;(f(this,Nr)===null||P(this,qe,mX).call(this,e))&&(this._dirtyMatch=!0),_(this,Nr,e),r!=="highlightallchange"&&P(this,qe,Bw).call(this,bc.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;P(this,qe,wX).call(this);const i=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),r?this._dirtyMatch?P(this,qe,Qg).call(this):r==="again"?(P(this,qe,Qg).call(this),i&&f(this,Nr).highlightAll&&P(this,qe,Ew).call(this)):r==="highlightallchange"?(s?P(this,qe,Qg).call(this):this._highlightMatches=!0,P(this,qe,Ew).call(this)):P(this,qe,Qg).call(this):this._findTimeout=setTimeout(()=>{P(this,qe,Qg).call(this),this._findTimeout=null},Bwe)})},KN=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],_(this,rp,0),_(this,Nr,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},GN=function(){const{query:e}=f(this,Nr);return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=M_(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>M_(t)[0])},mX=function(e){var a;const t=e.query,r=f(this,Nr).query,i=typeof t;if(i!==typeof r)return!0;if(i==="string"){if(t!==r)return!0}else if(JSON.stringify(t)!==JSON.stringify(r))return!0;switch(e.type){case"again":const o=this._selected.pageIdx+1,l=this._linkService;return o>=1&&o<=l.pagesCount&&o!==l.page&&!(((a=this.onIsPageVisible)==null?void 0:a.call(this,o))??!0);case"highlightallchange":return!1}return!0},vX=function(e,t,r){let i=e.slice(0,t).match(Twe);if(i){const s=e.charCodeAt(t),a=i[1].charCodeAt(0);if(yx(s)===yx(a))return!1}if(i=e.slice(t+r).match(Iwe),i){const s=e.charCodeAt(t+r-1),a=i[1].charCodeAt(0);if(yx(s)===yx(a))return!1}return!0},zN=function(e,t){const{matchDiacritics:r}=f(this,Nr);let i=!1;const s=(o,l)=>o===e?l:e.startsWith(o)?`${l}[ ]*`:e.endsWith(o)?`[ ]*${l}`:`[ ]*${l}[ ]*`;e=e.replaceAll(_we,(o,l,u,d,h,g)=>l?s(l,`\\${l}`):u?s(u,u.replaceAll(/[.?]/g,"\\$&")):d?"[ ]+":r?h||g:h?az.has(h.charCodeAt(0))?h:"":t?(i=!0,`${g}\\p{M}*`):g);const a="[ ]*";return e.endsWith(a)&&(e=e.slice(0,e.length-a.length)),r&&t&&(oz||(oz=String.fromCharCode(...az)),i=!0,e=`${e}(?=[${oz}]|[^\\p{M}]|$)`),[i,e]},yX=function(e){if(!f(this,Nr))return;const t=f(this,qe,GN);if(t.length===0)return;const r=this._pageContents[e],i=this.match(t,r,e),s=this._pageMatches[e]=[],a=this._pageMatchesLength[e]=[],o=this._pageDiffs[e];i==null||i.forEach(({index:u,length:d})=>{const[h,g]=pX(o,u,d);g&&(s.push(h),a.push(g))}),f(this,Nr).highlightAll&&P(this,qe,U_).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,P(this,qe,qN).call(this));const l=s.length;this._matchesCountTotal+=l,f(this,Rv)?l>0&&P(this,qe,WN).call(this):++ur(this,rp)._===this._linkService.pagesCount&&P(this,qe,WN).call(this)},wX=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0},r=this._pdfDocument;for(let i=0,s=this._linkService.pagesCount;i<s;i++){const{promise:a,resolve:o}=Promise.withResolvers();this._extractTextPromises[i]=a,e=e.then(async()=>{if(r!==this._pdfDocument){o();return}await r.getPage(i+1).then(l=>l.getTextContent(t)).then(l=>{const u=[];for(const d of l.items)u.push(d.str),d.hasEOL&&u.push(`
`);[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=M_(u.join("")),o()},l=>{console.error(`Unable to get text content for page ${i+1}`,l),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,o()})})}},U_=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},Ew=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Qg=function(){const e=f(this,Nr).findPrevious,t=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,_(this,rp,0),this._matchesCountTotal=0,P(this,qe,Ew).call(this);for(let a=0;a<r;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),P(this,qe,yX).call(this,a)}))}if(f(this,qe,GN).length===0){P(this,qe,Bw).call(this,bc.FOUND);return}if(this._resumePageIdx)return;const s=this._offset;if(this._pagesToSearch=r,s.matchIdx!==null){const a=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<a||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,P(this,qe,P_).call(this,!0);return}P(this,qe,$N).call(this,e)}P(this,qe,qN).call(this)},bX=function(e){const t=this._offset,r=e.length,i=f(this,Nr).findPrevious;return r?(t.matchIdx=i?r-1:0,P(this,qe,P_).call(this,!0),!0):(P(this,qe,$N).call(this,i),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(P(this,qe,P_).call(this,!1),!0):!1)},qN=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!P(this,qe,bX).call(this,e))},$N=function(e){const t=this._offset,r=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=r||t.pageIdx<0)&&(t.pageIdx=e?r-1:0,t.wrapped=!0)},P_=function(e=!1){let t=bc.NOT_FOUND;const r=this._offset.wrapped;if(this._offset.wrapped=!1,e){const i=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=r?bc.WRAPPED:bc.FOUND,i!==-1&&i!==this._selected.pageIdx&&P(this,qe,U_).call(this,i)}P(this,qe,Bw).call(this,t,f(this,Nr).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,P(this,qe,U_).call(this,this._selected.pageIdx))},CX=function(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),P(this,qe,Bw).call(this,bc.FOUND),this._highlightMatches=!1,P(this,qe,Ew).call(this))})},jN=function(){var s;const{pageIdx:e,matchIdx:t}=this._selected;let r=0,i=this._matchesCountTotal;if(t!==-1){for(let a=0;a<e;a++)r+=((s=this._pageMatches[a])==null?void 0:s.length)||0;r+=t+1}return(r<1||r>i)&&(r=i=0),{current:r,total:i}},WN=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:P(this,qe,jN).call(this)})},Bw=function(e,t=!1){var r,i;!f(this,Rv)&&(f(this,rp)!==this._linkService.pagesCount||e===bc.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:((r=f(this,Nr))==null?void 0:r.entireWord)??null,matchesCount:P(this,qe,jN).call(this),rawQuery:((i=f(this,Nr))==null?void 0:i.query)??null})};const Pwe="noopener noreferrer nofollow",Tf={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};class rk{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:r=null,ignoreDestinationZoom:i=!1}={}){be(this,"externalLinkEnabled",!0);this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=r,this._ignoreDestinationZoom=i,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}async goToDestination(e){if(!this.pdfDocument)return;let t,r,i;if(typeof e=="string"?(t=e,r=await this.pdfDocument.getDestination(e)):(t=null,r=await e),!Array.isArray(r)){console.error(`goToDestination: "${r}" is not a valid destination array, for dest="${e}".`);return}const[s]=r;if(s&&typeof s=="object"){if(i=this.pdfDocument.cachedPageNumber(s),!i)try{i=await this.pdfDocument.getPageIndex(s)+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(i=s+1);if(!i||i<1||i>this.pagesCount){console.error(`goToDestination: "${i}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:r,pageNumber:i})),this.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:r,ignoreDestinationZoom:this._ignoreDestinationZoom});const a=new AbortController;this.eventBus._on("textlayerrendered",o=>{o.pageNumber===i&&(o.source.textLayer.div.focus(),a.abort())},{signal:a.signal})}goToPage(e){if(!this.pdfDocument)return;const t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}goToXY(e,t,r,i={}){this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:[null,{name:"XYZ"},t,r],ignoreDestinationZoom:!0,...i})}addLinkAttributes(e,t,r=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');const i=r?Tf.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let a="";switch(i){case Tf.NONE:break;case Tf.SELF:a="_self";break;case Tf.BLANK:a="_blank";break;case Tf.PARENT:a="_parent";break;case Tf.TOP:a="_top";break}e.target=a,e.rel=typeof s=="string"?s:Pwe}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,r;if(e.includes("=")){const i=nI(e);if(i.has("search")){const s=i.get("search").replaceAll('"',""),a=i.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:a?s:s.match(/\S+/g)})}if(i.has("page")&&(t=i.get("page")|0||1),i.has("zoom")){const s=i.get("zoom").split(","),a=s[0],o=parseFloat(a);a.includes("Fit")?a==="Fit"||a==="FitB"?r=[null,{name:a}]:a==="FitH"||a==="FitBH"||a==="FitV"||a==="FitBV"?r=[null,{name:a},s.length>1?s[1]|0:null]:a==="FitR"?s.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):r=[null,{name:a},s[1]|0,s[2]|0,s[3]|0,s[4]|0]:console.error(`PDFLinkService.setHash: "${a}" is not a valid zoom value.`):r=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,o?o/100:a]}r?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:r,allowNegativeOffset:!0}):t&&(this.page=t),i.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:i.get("pagemode")}),i.has("nameddest")&&this.goToDestination(i.get("nameddest"));return}r=unescape(e);try{r=JSON.parse(r),Array.isArray(r)||(r=r.toString())}catch{}if(typeof r=="string"||Y0e(r)){this.goToDestination(r);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){var t,r;if(this.pdfDocument){switch(e){case"GoBack":(t=this.pdfHistory)==null||t.back();break;case"GoForward":(r=this.pdfHistory)==null||r.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;const t=this.pdfDocument,r=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(r.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(r))}}class ik extends rk{setDocument(e,t=null){}}var Cd,rE,iE,sE,Ed,aE,Ru,BX,YN,SX;class EX{constructor({pdfPage:e,linkService:t,downloadManager:r,annotationStorage:i=null,imageResourcesPath:s="",renderForms:a=!0,enableComment:o=!1,commentManager:l=null,enableScripting:u=!1,hasJSActionsPromise:d=null,fieldObjectsPromise:h=null,annotationCanvasMap:g=null,accessibilityManager:v=null,annotationEditorUIManager:b=null,onAppend:C=null}){M(this,Ru);M(this,Cd,null);M(this,rE,null);M(this,iE,!1);M(this,sE,null);M(this,Ed,null);M(this,aE,!1);this.pdfPage=e,this.linkService=t,this.downloadManager=r,this.imageResourcesPath=s,this.renderForms=a,this.annotationStorage=i,this.enableComment=o,_(this,rE,l),this.enableScripting=u,this._hasJSActionsPromise=d||Promise.resolve(!1),this._fieldObjectsPromise=h||Promise.resolve(null),this._annotationCanvasMap=g,this._accessibilityManager=v,this._annotationEditorUIManager=b,_(this,sE,C),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render({viewport:e,intent:t="display",structTreeLayer:r=null}){var l,u;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[i,s,a]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const o=this.div=document.createElement("div");if(o.className="annotationLayer",(l=f(this,sE))==null||l.call(this,o),P(this,Ru,BX).call(this,e,r),i.length===0){_(this,Cd,i),cX(this.div,e);return}await this.annotationLayer.render({annotations:i,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,downloadManager:this.downloadManager,enableComment:this.enableComment,enableScripting:this.enableScripting,hasJSActions:s,fieldObjects:a}),_(this,Cd,i),this.linkService.isInPresentationMode&&P(this,Ru,YN).call(this,nm.FULLSCREEN),f(this,Ed)||(_(this,Ed,new AbortController),(u=this._eventBus)==null||u._on("presentationmodechanged",d=>{P(this,Ru,YN).call(this,d.state)},{signal:f(this,Ed).signal}))}cancel(){var e;this._cancelled=!0,(e=f(this,Ed))==null||e.abort(),_(this,Ed,null)}hide(e=!1){_(this,iE,!e),this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){var e;return!!((e=this.annotationLayer)!=null&&e.hasEditableAnnotations())}async injectLinkAnnotations(e){if(f(this,Cd)===null)throw new Error("`render` method must be called before `injectLinkAnnotations`.");if(this._cancelled||f(this,aE))return;_(this,aE,!0);const t=f(this,Cd).length?P(this,Ru,SX).call(this,e):e;t.length&&(await this.annotationLayer.addLinkAnnotations(t),f(this,iE)||(this.div.hidden=!1))}}Cd=new WeakMap,rE=new WeakMap,iE=new WeakMap,sE=new WeakMap,Ed=new WeakMap,aE=new WeakMap,Ru=new WeakSet,BX=function(e,t){this.annotationLayer=new q0e({div:this.div,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,annotationStorage:this.annotationStorage,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t,commentManager:f(this,rE),linkService:this.linkService})},YN=function(e){if(!this.div)return;let t=!1;switch(e){case nm.FULLSCREEN:t=!0;break;case nm.NORMAL:break;default:return}for(const r of this.div.childNodes)r.hasAttribute("data-internal-link")||(r.inert=t)},SX=function(e){function t(s){if(!s.quadPoints)return[s.rect];const a=[];for(let o=2,l=s.quadPoints.length;o<l;o+=8){const u=s.quadPoints[o],d=s.quadPoints[o+1],h=s.quadPoints[o+2],g=s.quadPoints[o+3];a.push([h,g,u,d])}return a}function r(s,a){const o=[],l=t(s),u=t(a);for(const d of l)for(const h of u){const g=nk.intersect(d,h);g&&o.push(g)}return o}function i(s){let a=0;for(const o of s)a+=Math.abs((o[2]-o[0])*(o[3]-o[1]));return a}return e.filter(s=>{let a;for(const o of f(this,Cd)){if(o.annotationType!==AX.LINK||!o.url)continue;const l=r(o,s);if(l.length!==0&&(a??(a=i(t(s))),i(l)/a>.5))return!1}return!0})};function uz(n,e){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var EQ;class Rwe{constructor(){M(this,EQ,new WeakMap)}downloadData(e,t,r){const i=URL.createObjectURL(new Blob([e],{type:r}));uz(i,t)}openOrDownloadData(e,t,r=null){const s=W0e(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,r){let i;if(e)i=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!lX(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}i=t+"#pdfjs.action=download"}uz(i,r)}}EQ=new WeakMap;const cz={EVENT:"event",TIMEOUT:"timeout"};async function Dwe({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");const{promise:r,resolve:i}=Promise.withResolvers(),s=new AbortController;function a(u){s.abort(),clearTimeout(l),i(u)}const o=n instanceof sk?"_on":"addEventListener";n[o](e,a.bind(null,cz.EVENT),{signal:s.signal});const l=setTimeout(a.bind(null,cz.TIMEOUT),t);return r}var Dv;class sk{constructor(){M(this,Dv,Object.create(null))}on(e,t,r=null){this._on(e,t,{external:!0,once:r==null?void 0:r.once,signal:r==null?void 0:r.signal})}off(e,t,r=null){this._off(e,t)}dispatch(e,t){const r=f(this,Dv)[e];if(!r||r.length===0)return;let i;for(const{listener:s,external:a,once:o}of r.slice(0)){if(o&&this._off(e,s),a){(i||(i=[])).push(s);continue}s(t)}if(i){for(const s of i)s(t);i=null}}_on(e,t,r=null){var a;let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:o}=r;if(o.aborted){console.error("Cannot use an `aborted` signal.");return}const l=()=>this._off(e,t);i=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}((a=f(this,Dv))[e]||(a[e]=[])).push({listener:t,external:(r==null?void 0:r.external)===!0,once:(r==null?void 0:r.once)===!0,rmAbort:i})}_off(e,t,r=null){var s;const i=f(this,Dv)[e];if(i)for(let a=0,o=i.length;a<o;a++){const l=i[a];if(l.listener===t){(s=l.rmAbort)==null||s.call(l),i.splice(a,1);return}}}}Dv=new WeakMap;class rm{constructor(e){this.value=e}valueOf(){return this.value}}class Fr extends rm{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class gu extends rm{constructor(e,t={}){super(e),this.opts=t}toString(e){if(e)try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return this.value.toString(10)}}class jd extends rm{static supportsValue(e){if(typeof e=="number"||e instanceof Date)return!0;if(e instanceof rm)return jd.supportsValue(e.valueOf());if("Temporal"in globalThis){const t=globalThis.Temporal;if(e instanceof t.Instant||e instanceof t.PlainDateTime||e instanceof t.PlainDate||e instanceof t.PlainMonthDay||e instanceof t.PlainTime||e instanceof t.PlainYearMonth)return!0}return!1}constructor(e,t={}){e instanceof jd?(t={...e.opts,...t},e=e.value):e instanceof rm&&(e=e.valueOf()),typeof e=="object"&&"calendarId"in e&&t.calendar===void 0&&(t={...t,calendar:e.calendarId}),super(e),this.opts=t}[Symbol.toPrimitive](e){return e==="string"?this.toString():this.toNumber()}toNumber(){const e=this.value;if(typeof e=="number")return e;if(e instanceof Date)return e.getTime();if("epochMilliseconds"in e)return e.epochMilliseconds;if("toZonedDateTime"in e)return e.toZonedDateTime("UTC").epochMilliseconds;throw new TypeError("Unwrapping a non-number value as a number")}toString(e){if(e)try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){e.reportError(t)}return typeof this.value=="number"||this.value instanceof Date?new Date(this.value).toISOString():this.value.toString()}}const dz=100,Nwe="",Lwe="";function Qwe(n,e,t){if(t===e||t instanceof gu&&e instanceof gu&&t.value===e.value)return!0;if(e instanceof gu&&typeof t=="string"){let r=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===r)return!0}return!1}function fz(n,e,t){return e[t]?iy(n,e[t].value):(n.reportError(new RangeError("No default")),new Fr)}function XN(n,e){const t=[],r=Object.create(null);for(const i of e)i.type==="narg"?r[i.name]=Zw(n,i.value):t.push(Zw(n,i));return{positional:t,named:r}}function Zw(n,e){switch(e.type){case"str":return e.value;case"num":return new gu(e.value,{minimumFractionDigits:e.precision});case"var":return kwe(n,e);case"mesg":return Owe(n,e);case"term":return Hwe(n,e);case"func":return Vwe(n,e);case"select":return Kwe(n,e);default:return new Fr}}function kwe(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new Fr(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new Fr(`$${e}`);if(t instanceof rm)return t;switch(typeof t){case"string":return t;case"number":return new gu(t);case"object":if(jd.supportsValue(t))return new jd(t);default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new Fr(`$${e}`)}}function Owe(n,{name:e,attr:t}){const r=n.bundle._messages.get(e);if(!r)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new Fr(e);if(t){const i=r.attributes[t];return i?iy(n,i):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Fr(`${e}.${t}`))}return r.value?iy(n,r.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new Fr(e))}function Hwe(n,{name:e,attr:t,args:r}){const i=`-${e}`,s=n.bundle._terms.get(i);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${i}`)),new Fr(i);if(t){const o=s.attributes[t];if(o){n.params=XN(n,r).named;const l=iy(n,o);return n.params=null,l}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new Fr(`${i}.${t}`)}n.params=XN(n,r).named;const a=iy(n,s.value);return n.params=null,a}function Vwe(n,{name:e,args:t}){let r=n.bundle._functions[e];if(!r)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new Fr(`${e}()`);if(typeof r!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new Fr(`${e}()`);try{let i=XN(n,t);return r(i.positional,i.named)}catch(i){return n.reportError(i),new Fr(`${e}()`)}}function Kwe(n,{selector:e,variants:t,star:r}){let i=Zw(n,e);if(i instanceof Fr)return fz(n,t,r);for(const s of t){const a=Zw(n,s.key);if(Qwe(n,i,a))return iy(n,s.value)}return fz(n,t,r)}function xX(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new Fr;n.dirty.add(e);const t=[],r=n.bundle._useIsolating&&e.length>1;for(const i of e){if(typeof i=="string"){t.push(n.bundle._transform(i));continue}if(n.placeables++,n.placeables>dz)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${dz}`);r&&t.push(Nwe),t.push(Zw(n,i).toString(n)),r&&t.push(Lwe)}return n.dirty.delete(e),t.join("")}function iy(n,e){return typeof e=="string"?n.bundle._transform(e):xX(n,e)}class Gwe{constructor(e,t,r){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=r}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let r=this.bundle._intls.get(e);r||(r={},this.bundle._intls.set(e,r));let i=JSON.stringify(t);return r[i]||(r[i]=new e(this.bundle.locales,t)),r[i]}}function JN(n,e){const t=Object.create(null);for(const[r,i]of Object.entries(n))e.includes(r)&&(t[r]=i.valueOf());return t}const hz=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function zwe(n,e){let t=n[0];if(t instanceof Fr)return new Fr(`NUMBER(${t.valueOf()})`);if(t instanceof gu)return new gu(t.valueOf(),{...t.opts,...JN(e,hz)});if(t instanceof jd)return new gu(t.toNumber(),{...JN(e,hz)});throw new TypeError("Invalid argument to NUMBER")}const qwe=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function $we(n,e){let t=n[0];if(t instanceof Fr)return new Fr(`DATETIME(${t.valueOf()})`);if(t instanceof jd||t instanceof gu)return new jd(t,JN(e,qwe));throw new TypeError("Invalid argument to DATETIME")}const pz=new Map;function jwe(n){const e=Array.isArray(n)?n.join(" "):n;let t=pz.get(e);return t===void 0&&(t=new Map,pz.set(e,t)),t}class Wwe{constructor(e,{functions:t,useIsolating:r=!0,transform:i=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:zwe,DATETIME:$we,...t},this._useIsolating=r,this._transform=i,this._intls=jwe(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const r=[];for(let i=0;i<e.body.length;i++){let s=e.body[i];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){r.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){r.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return r}formatPattern(e,t=null,r=null){if(typeof e=="string")return this._transform(e);let i=new Gwe(this,r,t);try{return xX(i,e).toString(i)}catch(s){if(i.errors&&s instanceof Error)return i.errors.push(s),new Fr().toString(i);throw s}}}const OU=/^(-?[a-zA-Z][\w-]*) *= */gm,gz=/\.([a-zA-Z][\w-]*) *= */y,Ywe=/\*?\[/y,HU=/(-?[0-9]+(?:\.([0-9]+))?)/y,Xwe=/([a-zA-Z][\w-]*)/y,mz=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,Jwe=/^[A-Z][A-Z0-9_-]*$/,wx=/([^{}\n\r]+)/y,Zwe=/([^\\"\n\r]*)/y,vz=/\\([\\"])/y,yz=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,ebe=/^\n+/,wz=/ +$/,tbe=/ *\r?\n/g,nbe=/( *)$/,rbe=/{\s*/y,bz=/\s*}/y,ibe=/\[\s*/y,sbe=/\s*] */y,abe=/\s*\(\s*/y,obe=/\s*->\s*/y,Abe=/\s*:\s*/y,lbe=/\s*,?\s*/y,ube=/\s+/y;class cbe{constructor(e){this.body=[],OU.lastIndex=0;let t=0;for(;;){let k=OU.exec(e);if(k===null)break;t=OU.lastIndex;try{this.body.push(l(k[1]))}catch(G){if(G instanceof SyntaxError)continue;throw G}}function r(k){return k.lastIndex=t,k.test(e)}function i(k,G){if(e[t]===k)return t++,!0;if(G)throw new G(`Expected ${k}`);return!1}function s(k,G){if(r(k))return t=k.lastIndex,!0;if(G)throw new G(`Expected ${k.toString()}`);return!1}function a(k){k.lastIndex=t;let G=k.exec(e);if(G===null)throw new SyntaxError(`Expected ${k.toString()}`);return t=k.lastIndex,G}function o(k){return a(k)[1]}function l(k){let G=d(),K=u();if(G===null&&Object.keys(K).length===0)throw new SyntaxError("Expected message value or attributes");return{id:k,value:G,attributes:K}}function u(){let k=Object.create(null);for(;r(gz);){let G=o(gz),K=d();if(K===null)throw new SyntaxError("Expected attribute value");k[G]=K}return k}function d(){let k;if(r(wx)&&(k=o(wx)),e[t]==="{"||e[t]==="}")return h(k?[k]:[],1/0);let G=D();return G?k?h([k,G],G.length):(G.value=L(G.value,ebe),h([G],G.length)):k?L(k,wz):null}function h(k=[],G){for(;;){if(r(wx)){k.push(o(wx));continue}if(e[t]==="{"){k.push(g());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let Y=D();if(Y){k.push(Y),G=Math.min(G,Y.length);continue}break}let K=k.length-1,z=k[K];typeof z=="string"&&(k[K]=L(z,wz));let J=[];for(let Y of k)Y instanceof Cz&&(Y=Y.value.slice(0,Y.value.length-G)),Y&&J.push(Y);return J}function g(){s(rbe,SyntaxError);let k=v();if(s(bz))return k;if(s(obe)){let G=B();return s(bz,SyntaxError),{type:"select",selector:k,...G}}throw new SyntaxError("Unclosed placeable")}function v(){if(e[t]==="{")return g();if(r(mz)){let[,k,G,K=null]=a(mz);if(k==="$")return{type:"var",name:G};if(s(abe)){let z=b();if(k==="-")return{type:"term",name:G,attr:K,args:z};if(Jwe.test(G))return{type:"func",name:G,args:z};throw new SyntaxError("Function names must be all upper-case")}return k==="-"?{type:"term",name:G,attr:K,args:[]}:{type:"mesg",name:G,attr:K}}return I()}function b(){let k=[];for(;;){switch(e[t]){case")":return t++,k;case void 0:throw new SyntaxError("Unclosed argument list")}k.push(C()),s(lbe)}}function C(){let k=v();return k.type!=="mesg"?k:s(Abe)?{type:"narg",name:k.name,value:I()}:k}function B(){let k=[],G=0,K;for(;r(Ywe);){i("*")&&(K=G);let z=S(),J=d();if(J===null)throw new SyntaxError("Expected variant value");k[G++]={key:z,value:J}}if(G===0)return null;if(K===void 0)throw new SyntaxError("Expected default variant");return{variants:k,star:K}}function S(){s(ibe,SyntaxError);let k;return r(HU)?k=T():k={type:"str",value:o(Xwe)},s(sbe,SyntaxError),k}function I(){if(r(HU))return T();if(e[t]==='"')return R();throw new SyntaxError("Invalid expression")}function T(){let[,k,G=""]=a(HU),K=G.length;return{type:"num",value:parseFloat(k),precision:K}}function R(){i('"',SyntaxError);let k="";for(;;){if(k+=o(Zwe),e[t]==="\\"){k+=U();continue}if(i('"'))return{type:"str",value:k};throw new SyntaxError("Unclosed string literal")}}function U(){if(r(vz))return o(vz);if(r(yz)){let[,k,G]=a(yz),K=parseInt(k||G,16);return K<=55295||57344<=K?String.fromCodePoint(K):""}throw new SyntaxError("Unknown escape sequence")}function D(){let k=t;switch(s(ube),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return H(e.slice(k,t))}return e[t-1]===" "?H(e.slice(k,t)):!1}function L(k,G){return k.replace(G,"")}function H(k){let G=k.replace(tbe,`
`),K=nbe.exec(k)[1].length;return new Cz(G,K)}}}class Cz{constructor(e,t){this.value=e,this.length=t}}const dbe=/<|&#?\w+;/,fbe={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},hbe={"http://www.w3.org/1999/xhtml":{global:["title","aria-description","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function pbe(n,e){const{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!dbe.test(t))n.textContent=t;else{const r=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");r.innerHTML=t,gbe(r.content,n)}_X(e,n)}function gbe(n,e){for(const t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){const r=vbe(e,t);n.replaceChild(r,t);continue}if(wbe(t)){const r=ybe(t);n.replaceChild(r,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(ZN(t),t)}e.textContent="",e.appendChild(n)}function mbe(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function _X(n,e){const t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(r=>r.trim()):null;for(const r of Array.from(e.attributes))Ez(r.name,e,t)&&!mbe(n.attributes,r.name)&&e.removeAttribute(r.name);if(n.attributes)for(const r of Array.from(n.attributes))Ez(r.name,e,t)&&e.getAttribute(r.name)!==r.value&&e.setAttribute(r.name,r.value)}function vbe(n,e){const t=e.getAttribute("data-l10n-name"),r=n.querySelector(`[data-l10n-name="${t}"]`);if(!r)return console.warn(`An element named "${t}" wasn't found in the source.`),ZN(e);if(r.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${r.localName}).`),ZN(e);n.removeChild(r);const i=r.cloneNode(!1);return TX(e,i)}function ybe(n){const e=n.ownerDocument.createElement(n.localName);return TX(n,e)}function ZN(n){return n.ownerDocument.createTextNode(n.textContent)}function wbe(n){const e=fbe[n.namespaceURI];return e&&e.includes(n.localName)}function Ez(n,e,t=null){if(t&&t.includes(n))return!0;const r=hbe[e.namespaceURI];if(!r)return!1;const i=n.toLowerCase(),s=e.localName;if(r.global.includes(i))return!0;if(!r[s])return!1;if(r[s].includes(i))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&i==="value"){const a=e.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function TX(n,e){return e.textContent=n.textContent,_X(n,e),e}class bbe extends Array{static from(e){return e instanceof this?e:new this(e)}}class Cbe extends bbe{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){const e=this;let t=0;return{async next(){return e.length<=t&&e.push(e.iterator.next()),e[t++]}}}async touchNext(e=1){let t=0;for(;t++<e;){const r=this[this.length-1];if(r&&(await r).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class Ebe{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){const r=[];let i=!1;for await(const s of this.bundles){i=!0;const a=xbe(t,s,e,r);if(a.size===0)break;if(typeof console<"u"){const o=s.locales[0],l=Array.from(a).join(", ");console.warn(`[fluent] Missing translations in ${o}: ${l}`)}}return!i&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),r}formatMessages(e){return this.formatWithFallback(e,Sbe)}formatValues(e){return this.formatWithFallback(e,Bbe)}async formatValue(e,t){const[r]=await this.formatValues([{id:e,args:t}]);return r}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=Cbe.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function Bbe(n,e,t,r){return t.value?n.formatPattern(t.value,r,e):null}function Sbe(n,e,t,r){const i={value:null,attributes:null};t.value&&(i.value=n.formatPattern(t.value,r,e));let s=Object.keys(t.attributes);if(s.length>0){i.attributes=new Array(s.length);for(let[a,o]of s.entries()){let l=n.formatPattern(t.attributes[o],r,e);i.attributes[a]={name:o,value:l}}}return i}function xbe(n,e,t,r){const i=[],s=new Set;return t.forEach(({id:a,args:o},l)=>{if(r[l]!==void 0)return;let u=e.getMessage(a);if(u){if(i.length=0,r[l]=n(e,i,u,o),i.length>0&&typeof console<"u"){const d=e.locales[0],h=i.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${h}.`)}}else s.add(a)}),s}const If="data-l10n-id",Q0="data-l10n-args",_be=`[${If}]`;class Tbe extends Ebe{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[If,Q0]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,r){return e.setAttribute(If,t),r?e.setAttribute(Q0,JSON.stringify(r)):e.removeAttribute(Q0),e}getAttributes(e){return{id:e.getAttribute(If),args:JSON.parse(e.getAttribute(Q0)||null)}}connectRoot(e){for(const t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(const t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(const r of t.addedNodes)if(r.nodeType===r.ELEMENT_NODE)if(r.childElementCount)for(const i of this.getTranslatables(r))this.pendingElements.add(i);else r.hasAttribute(If)&&this.pendingElements.add(r);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;const t=e.map(this.getKeysForElement),r=await this.formatMessages(t);return this.applyTranslations(e,r)}applyTranslations(e,t){this.pauseObserving();for(let r=0;r<e.length;r++)t[r]!==void 0&&pbe(e[r],t[r]);this.resumeObserving()}getTranslatables(e){const t=Array.from(e.querySelectorAll(_be));return typeof e.hasAttribute=="function"&&e.hasAttribute(If)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(If),args:JSON.parse(e.getAttribute(Q0)||null)}}}var oE,Bd,Nv,Bs,my,IX,FX;const Vw=class Vw{constructor({lang:e,isRTL:t},r=null){M(this,oE);M(this,Bd);M(this,Nv);M(this,Bs);var i,s;_(this,Nv,P(i=Vw,my,IX).call(i,e)),_(this,Bs,r),_(this,oE,t??P(s=Vw,my,FX).call(s,f(this,Nv))?"rtl":"ltr")}_setL10n(e){_(this,Bs,e)}getLanguage(){return f(this,Nv)}getDirection(){return f(this,oE)}async get(e,t=null,r){var s;return Array.isArray(e)?(e=e.map(o=>({id:o})),(await f(this,Bs).formatMessages(e)).map(o=>o.value)):((s=(await f(this,Bs).formatMessages([{id:e,args:t}]))[0])==null?void 0:s.value)||r}async translate(e){(f(this,Bd)||_(this,Bd,new Set)).add(e);try{f(this,Bs).connectRoot(e),await f(this,Bs).translateRoots()}catch{}}async translateOnce(e){try{await f(this,Bs).translateElements([e])}catch(t){console.error("translateOnce:",t)}}async destroy(){if(f(this,Bd)){for(const e of f(this,Bd))f(this,Bs).disconnectRoot(e);f(this,Bd).clear(),_(this,Bd,null)}f(this,Bs).pauseObserving()}pause(){f(this,Bs).pauseObserving()}resume(){f(this,Bs).resumeObserving()}};oE=new WeakMap,Bd=new WeakMap,Nv=new WeakMap,Bs=new WeakMap,my=new WeakSet,IX=function(e){return e=(e==null?void 0:e.toLowerCase())||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e},FX=function(e){const t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)},M(Vw,my);let eL=Vw;function Ibe(){const{isAndroid:n,isLinux:e,isMac:t,isWindows:r}=uX.platform;return e?"linux":r?"windows":t?"macos":n?"android":"other"}function Bz(n,e){const t=new cbe(e),r=new Wwe(n,{functions:{PLATFORM:Ibe}}),i=r.addResource(t);return i.length&&console.error("L10n errors",i),r}var ya,MX,UX,PX,RX,tL;const Nf=class Nf extends eL{constructor(e){super({lang:e});const t=e?P(Nf,ya,MX).bind(Nf,"en-us",this.getLanguage()):P(Nf,ya,RX).bind(Nf,this.getLanguage());this._setL10n(new Tbe([],t))}};ya=new WeakSet,MX=async function*(e,t){const{baseURL:r,paths:i}=await P(this,ya,PX).call(this),s=[t];if(e!==t){const o=t.split("-",1)[0];o!==t&&s.push(o),s.push(e)}const a=s.map(o=>[o,P(this,ya,UX).call(this,o,r,i)]);for(const[o,l]of a){const u=await l;u?yield u:o==="en-us"&&(yield P(this,ya,tL).call(this,o))}},UX=async function(e,t,r){const i=r[e];if(!i)return null;const s=new URL(i,t),a=await XG(s,"text");return Bz(e,a)},PX=async function(){try{const{href:e}=document.querySelector('link[type="application/l10n"]'),t=await XG(e,"json");return{baseURL:e.substring(0,e.lastIndexOf("/")+1)||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},RX=async function*(e){yield P(this,ya,tL).call(this,e)},tL=async function(e){return Bz(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties
pdfjs-document-properties-button-label = Document Properties
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width }  { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width }  { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-color-picker-free-text-input =
    .title = Change text color
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-color-picker-ink-input =
    .title = Change drawing color
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-comment-floating-button =
    .title = Comment
    .aria-label = Comment
pdfjs-comment-floating-button-label = Comment
pdfjs-editor-comment-button =
    .title = Comment
    .aria-label = Comment
pdfjs-editor-comment-button-label = Comment
pdfjs-editor-signature-button =
    .title = Add signature
pdfjs-editor-signature-button-label = Add signature
pdfjs-editor-highlight-editor =
    .aria-label = Highlight editor
pdfjs-editor-ink-editor =
    .aria-label = Drawing editor
pdfjs-editor-signature-editor1 =
    .aria-description = Signature editor: { $description }
pdfjs-editor-stamp-editor =
    .aria-label = Image editor
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-remove-signature-button =
    .title = Remove signature
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-editor-add-signature-container =
    .aria-label = Signature controls and saved signatures
pdfjs-editor-signature-add-signature-button =
    .title = Add new signature
pdfjs-editor-signature-add-signature-button-label = Add new signature
pdfjs-editor-add-saved-signature-button =
    .title = Saved signature: { $description }
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing
pdfjs-editor-comments-sidebar-title =
    { $count ->
        [one] Comment
       *[other] Comments
    }
pdfjs-editor-comments-sidebar-close-button =
    .title = Close the sidebar
    .aria-label = Close the sidebar
pdfjs-editor-comments-sidebar-close-button-label = Close the sidebar
pdfjs-editor-comments-sidebar-no-comments1 = See something noteworthy? Highlight it and leave a comment.
pdfjs-editor-comments-sidebar-no-comments-link = Learn more
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people cant see the image or when it doesnt load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, A young man sits down at a table to eat a meal
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner  resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle  resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner  resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right  resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner  resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle  resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner  resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left  resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here
pdfjs-editor-new-alt-text-description = Short description for people who cant see the image or when the image doesnt load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldnt create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who cant see the image or when the image doesnt load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close
pdfjs-editor-highlight-added-alert = Highlight added
pdfjs-editor-freetext-added-alert = Text added
pdfjs-editor-ink-added-alert = Drawing added
pdfjs-editor-stamp-added-alert = Image added
pdfjs-editor-signature-added-alert = Signature added
pdfjs-editor-undo-bar-message-highlight = Highlight removed
pdfjs-editor-undo-bar-message-freetext = Text removed
pdfjs-editor-undo-bar-message-ink = Drawing removed
pdfjs-editor-undo-bar-message-stamp = Image removed
pdfjs-editor-undo-bar-message-signature = Signature removed
pdfjs-editor-undo-bar-message-multiple =
    { $count ->
        [one] { $count } annotation removed
       *[other] { $count } annotations removed
    }
pdfjs-editor-undo-bar-undo-button =
    .title = Undo
pdfjs-editor-undo-bar-undo-button-label = Undo
pdfjs-editor-undo-bar-close-button =
    .title = Close
pdfjs-editor-undo-bar-close-button-label = Close
pdfjs-editor-add-signature-dialog-label = This modal allows the user to create a signature to add to a PDF document. The user can edit the name (which also serves as the alt text), and optionally save the signature for repeated use.
pdfjs-editor-add-signature-dialog-title = Add a signature
pdfjs-editor-add-signature-type-button = Type
    .title = Type
pdfjs-editor-add-signature-draw-button = Draw
    .title = Draw
pdfjs-editor-add-signature-image-button = Image
    .title = Image
pdfjs-editor-add-signature-type-input =
    .aria-label = Type your signature
    .placeholder = Type your signature
pdfjs-editor-add-signature-draw-placeholder = Draw your signature
pdfjs-editor-add-signature-draw-thickness-range-label = Thickness
pdfjs-editor-add-signature-draw-thickness-range =
    .title = Drawing thickness: { $thickness }
pdfjs-editor-add-signature-image-placeholder = Drag a file here to upload
pdfjs-editor-add-signature-image-browse-link =
    { PLATFORM() ->
        [macos] Or choose image files
       *[other] Or browse image files
    }
pdfjs-editor-add-signature-description-label = Description (alt text)
pdfjs-editor-add-signature-description-input =
    .title = Description (alt text)
pdfjs-editor-add-signature-description-default-when-drawing = Signature
pdfjs-editor-add-signature-clear-button-label = Clear signature
pdfjs-editor-add-signature-clear-button =
    .title = Clear signature
pdfjs-editor-add-signature-save-checkbox = Save signature
pdfjs-editor-add-signature-save-warning-message = Youve reached the limit of 5 saved signatures. Remove one to save more.
pdfjs-editor-add-signature-image-upload-error-title = Couldnt upload image
pdfjs-editor-add-signature-image-upload-error-description = Check your network connection or try another image.
pdfjs-editor-add-signature-image-no-data-error-title = Cant convert this image into a signature
pdfjs-editor-add-signature-image-no-data-error-description = Please try uploading a different image.
pdfjs-editor-add-signature-error-close-button = Close
pdfjs-editor-add-signature-cancel-button = Cancel
pdfjs-editor-add-signature-add-button = Add
pdfjs-editor-delete-signature-button1 =
    .title = Remove saved signature
pdfjs-editor-delete-signature-button-label1 = Remove saved signature
pdfjs-editor-add-signature-edit-button-label = Edit description
pdfjs-editor-edit-signature-dialog-title = Edit description
pdfjs-editor-edit-signature-update-button = Update
pdfjs-show-comment-button =
    .title = Show comment
pdfjs-editor-edit-comment-popup-button-label = Edit comment
pdfjs-editor-edit-comment-popup-button =
    .title = Edit comment
pdfjs-editor-delete-comment-popup-button-label = Remove comment
pdfjs-editor-delete-comment-popup-button =
    .title = Remove comment
pdfjs-editor-edit-comment-dialog-title-when-editing = Edit comment
pdfjs-editor-edit-comment-dialog-save-button-when-editing = Update
pdfjs-editor-edit-comment-dialog-title-when-adding = Add comment
pdfjs-editor-edit-comment-dialog-save-button-when-adding = Add
pdfjs-editor-edit-comment-dialog-text-input =
    .placeholder = Start typing
pdfjs-editor-edit-comment-dialog-cancel-button = Cancel
pdfjs-editor-add-comment-button =
    .title = Add comment`)},M(Nf,ya);let sy=Nf;const Fbe=1e3,Mbe=50,Ube=1e3;function VU(){return document.location.hash}var Sd,ut,cl,R_,D_,Sw,N_,nL,DX,NX,rL,LX,QX;class Pbe{constructor({linkService:e,eventBus:t}){M(this,ut);M(this,Sd,null);this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",r=>{this._isPagesLoaded=!!r.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:r=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const i=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=r===!0,this._initialized=!0,P(this,ut,LX).call(this);const s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=VU(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!P(this,ut,Sw).call(this,s,!0)||t){const{hash:o,page:l,rotation:u}=P(this,ut,nL).call(this,!0);if(!o||i||t){P(this,ut,cl).call(this,null,!0);return}P(this,ut,cl).call(this,{hash:o,page:l,rotation:u},!0);return}const a=s.destination;P(this,ut,N_).call(this,a,s.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(P(this,ut,rL).call(this),this._initialized=!1,P(this,ut,QX).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:r}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!P(this,ut,D_).call(this,r)&&(r!==null||this._destination)){console.error(`PDFHistory.push: "${r}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}const i=e||JSON.stringify(t);if(!i)return;let s=!1;if(this._destination&&(Rbe(this._destination.hash,i)||Dbe(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(P(this,ut,cl).call(this,{dest:t,hash:i,page:r,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;if(this._initialized){if(!P(this,ut,D_).call(this,e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}((t=this._destination)==null?void 0:t.page)!==e&&(this._popStateInProgress||(P(this,ut,cl).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||P(this,ut,R_).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;P(this,ut,Sw).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;P(this,ut,Sw).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}Sd=new WeakMap,ut=new WeakSet,cl=function(e,t=!1){const r=t||!this._destination,i={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:e};P(this,ut,N_).call(this,e,i.uid);let s;if(this._updateUrl&&(e!=null&&e.hash)){const{href:a,protocol:o}=document.location;o!=="file:"&&(s=Z0e(a,e.hash))}r?window.history.replaceState(i,"",s):window.history.pushState(i,"",s)},R_=function(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){P(this,ut,cl).call(this,t);return}if(this._destination.temporary){P(this,ut,cl).call(this,t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=Mbe)return;let r=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;r=!0}P(this,ut,cl).call(this,t,r)},D_=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},Sw=function(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;const[r]=performance.getEntriesByType("navigation");if((r==null?void 0:r.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")},N_=function(e,t,r=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),r&&(e!=null&&e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},nL=function(e=!1){const t=unescape(VU()).substring(1),r=nI(t),i=r.get("nameddest")||"";let s=r.get("page")|0;return(!P(this,ut,D_).call(this,s)||e&&i.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}},DX=function({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||P(this,ut,R_).call(this,!0),this._updateViewareaTimeout=null},Ube))},NX=function({state:e}){const t=VU(),r=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;const{hash:s,page:a,rotation:o}=P(this,ut,nL).call(this);P(this,ut,cl).call(this,{hash:s,page:a,rotation:o},!0);return}if(!P(this,ut,Sw).call(this,e))return;this._popStateInProgress=!0,r&&(this._blockHashChange++,Dwe({target:window,name:"hashchange",delay:Fbe}).then(()=>{this._blockHashChange--}));const i=e.destination;P(this,ut,N_).call(this,i,e.uid,!0),hX(i.rotation)&&(this.linkService.rotation=i.rotation),i.dest?this.linkService.goToDestination(i.dest):i.hash?this.linkService.setHash(i.hash):i.page&&(this.linkService.page=i.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},rL=function(){(!this._destination||this._destination.temporary)&&P(this,ut,R_).call(this)},LX=function(){if(f(this,Sd))return;_(this,Sd,new AbortController);const{signal:e}=f(this,Sd);this.eventBus._on("updateviewarea",P(this,ut,DX).bind(this),{signal:e}),window.addEventListener("popstate",P(this,ut,NX).bind(this),{signal:e}),window.addEventListener("pagehide",P(this,ut,rL).bind(this),{signal:e})},QX=function(){var e;(e=f(this,Sd))==null||e.abort(),_(this,Sd,null)};function Rbe(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||nI(n).get("nameddest")===e}function Dbe(n,e){function t(r,i){if(typeof r!=typeof i||Array.isArray(r)||Array.isArray(i))return!1;if(r!==null&&typeof r=="object"&&i!==null){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const s in r)if(!t(r[s],i[s]))return!1;return!0}return r===i||Number.isNaN(r)&&Number.isNaN(i)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let r=0,i=n.length;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}var AE,lE,uE,cE,dE,Lv;class Nbe{constructor(e){M(this,AE,null);M(this,lE,null);M(this,uE,null);M(this,cE,null);M(this,dE,null);M(this,Lv);this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new sy),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,_(this,Lv,e.uiManager),_(this,AE,e.annotationLayer||null),_(this,dE,e.textLayer||null),_(this,lE,e.drawLayer||null),_(this,uE,e.onAppend||null),_(this,cE,e.structTreeLayer||null)}async render({viewport:e,intent:t="display"}){var a;if(t!=="display"||this._cancelled)return;const r=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:r}),this.show();return}const i=this.div=document.createElement("div");i.className="annotationEditorLayer",i.hidden=!0,i.dir=f(this,Lv).direction,(a=f(this,uE))==null||a.call(this,i),this.annotationEditorLayer=new G0e({uiManager:f(this,Lv),div:i,structTreeLayer:f(this,cE),accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:r,annotationLayer:f(this,AE),textLayer:f(this,dE),drawLayer:f(this,lE)});const s={viewport:r,div:i,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.annotationEditorLayer.pause(!0),this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1,this.annotationEditorLayer.pause(!1))}}AE=new WeakMap,lE=new WeakMap,uE=new WeakMap,cE=new WeakMap,dE=new WeakMap,Lv=new WeakMap;{var iL=new Map;const{maxTouchPoints:n,platform:e,userAgent:t}=navigator,r=/Android/.test(t),i=/\b(iPad|iPhone|iPod)(?=;)/.test(t)||e==="MacIntel"&&n>1;(function(){(i||r)&&iL.set("maxCanvasPixels",5242880)})(),(function(){r&&iL.set("useSystemFonts",!1)})()}const de={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},sL={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},Au={allowedGlobalEvents:{value:null,kind:de.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:de.BROWSER+de.API},isInAutomation:{value:!1,kind:de.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:de.BROWSER},maxCanvasDim:{value:32767,kind:de.BROWSER+de.VIEWER},nimbusDataStr:{value:"",kind:de.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:de.BROWSER},supportsDocumentFonts:{value:!0,kind:de.BROWSER},supportsIntegratedFind:{value:!1,kind:de.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:de.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:de.BROWSER},supportsPinchToZoom:{value:!0,kind:de.BROWSER},supportsPrinting:{value:!0,kind:de.BROWSER},toolbarDensity:{value:0,kind:de.BROWSER+de.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:de.VIEWER+de.PREFERENCE},annotationEditorMode:{value:0,kind:de.VIEWER+de.PREFERENCE},annotationMode:{value:2,kind:de.VIEWER+de.PREFERENCE},capCanvasAreaFactor:{value:200,kind:de.VIEWER+de.PREFERENCE},commentLearnMoreUrl:{value:"",kind:de.VIEWER+de.PREFERENCE},cursorToolOnLoad:{value:0,kind:de.VIEWER+de.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:de.VIEWER},defaultZoomDelay:{value:400,kind:de.VIEWER+de.PREFERENCE},defaultZoomValue:{value:"",kind:de.VIEWER+de.PREFERENCE},disableHistory:{value:!1,kind:de.VIEWER},disablePageLabels:{value:!1,kind:de.VIEWER+de.PREFERENCE},enableAltText:{value:!1,kind:de.VIEWER+de.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:de.VIEWER+de.PREFERENCE+de.EVENT_DISPATCH},enableAutoLinking:{value:!0,kind:de.VIEWER+de.PREFERENCE},enableComment:{value:!1,kind:de.VIEWER+de.PREFERENCE},enableDetailCanvas:{value:!0,kind:de.VIEWER},enableGuessAltText:{value:!0,kind:de.VIEWER+de.PREFERENCE+de.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:de.VIEWER+de.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:de.VIEWER+de.PREFERENCE},enableOptimizedPartialRendering:{value:!1,kind:de.VIEWER+de.PREFERENCE},enablePermissions:{value:!1,kind:de.VIEWER+de.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:de.VIEWER+de.PREFERENCE},enableScripting:{value:!0,kind:de.VIEWER+de.PREFERENCE},enableSignatureEditor:{value:!1,kind:de.VIEWER+de.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:de.VIEWER+de.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:de.VIEWER},externalLinkTarget:{value:0,kind:de.VIEWER+de.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F,yellow_HCM=#FFFFCC,green_HCM=#53FFBC,blue_HCM=#80EBFF,pink_HCM=#F6B8FF,red_HCM=#C50043",kind:de.VIEWER+de.PREFERENCE},historyUpdateUrl:{value:!1,kind:de.VIEWER+de.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:de.VIEWER+de.PREFERENCE},imageResourcesPath:{value:"./images/",kind:de.VIEWER},maxCanvasPixels:{value:2**25,kind:de.VIEWER},minDurationToUpdateCanvas:{value:500,kind:de.VIEWER},forcePageColors:{value:!1,kind:de.VIEWER+de.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:de.VIEWER+de.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:de.VIEWER+de.PREFERENCE},pdfBugEnabled:{value:!1,kind:de.VIEWER+de.PREFERENCE},printResolution:{value:150,kind:de.VIEWER},sidebarViewOnLoad:{value:-1,kind:de.VIEWER+de.PREFERENCE},scrollModeOnLoad:{value:-1,kind:de.VIEWER+de.PREFERENCE},spreadModeOnLoad:{value:-1,kind:de.VIEWER+de.PREFERENCE},textLayerMode:{value:1,kind:de.VIEWER+de.PREFERENCE},viewerCssTheme:{value:0,kind:de.VIEWER+de.PREFERENCE},viewOnLoad:{value:0,kind:de.VIEWER+de.PREFERENCE},cMapPacked:{value:!0,kind:de.API},cMapUrl:{value:"../web/cmaps/",kind:de.API},disableAutoFetch:{value:!1,kind:de.API+de.PREFERENCE},disableFontFace:{value:!1,kind:de.API+de.PREFERENCE},disableRange:{value:!1,kind:de.API+de.PREFERENCE},disableStream:{value:!1,kind:de.API+de.PREFERENCE},docBaseUrl:{value:"",kind:de.API},enableHWA:{value:!0,kind:de.API+de.VIEWER+de.PREFERENCE},enableXfa:{value:!0,kind:de.API+de.PREFERENCE},fontExtraProperties:{value:!1,kind:de.API},iccUrl:{value:"../web/iccs/",kind:de.API},isEvalSupported:{value:!0,kind:de.API},isOffscreenCanvasSupported:{value:!0,kind:de.API},maxImageSize:{value:-1,kind:de.API},pdfBug:{value:!1,kind:de.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:de.API},useSystemFonts:{value:void 0,kind:de.API,type:sL.BOOLEAN+sL.UNDEFINED},verbosity:{value:1,kind:de.API},wasmUrl:{value:"../web/wasm/",kind:de.API},workerPort:{value:null,kind:de.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:de.WORKER}};Au.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:de.VIEWER},Au.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:de.VIEWER},Au.enableFakeMLManager={value:!0,kind:de.VIEWER};Au.disablePreferences={value:!1,kind:de.VIEWER};var xd;const rA=class rA{static get(e){return f(this,xd).get(e)}static getAll(e=null,t=!1){const r=Object.create(null);for(const i in Au){const s=Au[i];e&&!(e&s.kind)||(r[i]=t?s.value:f(this,xd).get(i))}return r}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||(this._hasInvokedSet=!0);let r;for(const i in e){const s=Au[i],a=e[i];if(!s||!(typeof a==typeof s.value||sL[(typeof a).toUpperCase()]&s.type))continue;const{kind:o}=s;t&&!(o&de.BROWSER||o&de.PREFERENCE)||(this.eventBus&&o&de.EVENT_DISPATCH&&(r||(r=new Map)).set(i,a),f(this,xd).set(i,a))}if(r)for(const[i,s]of r)this.eventBus.dispatch(i.toLowerCase(),{source:this,value:s})}};xd=new WeakMap,be(rA,"eventBus"),M(rA,xd,new Map),(()=>{for(const e in Au)f(rA,xd).set(e,Au[e].value);for(const[e,t]of iL)f(rA,xd).set(e,t);rA._hasInvokedSet=!1,rA._checkDisablePreferences=()=>rA.get("disablePreferences")?!0:(rA._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();let Ow=rA;function Sz({width:n,height:e,left:t,top:r},i){if(n===0||e===0)return null;const s=i.textLayer.div.getBoundingClientRect(),a=i.getPagePoint(t-s.left,r-s.top),o=i.getPagePoint(t-s.left+n,r-s.top+e);return nk.normalizeRect([a[0],a[1],o[0],o[1]])}function Lbe(n,e){const t=n.getClientRects();if(t.length===1)return{rect:Sz(t[0],e)};const r=[1/0,1/0,-1/0,-1/0],i=[];let s=0;for(const a of t){const o=Sz(a,e);o!==null&&(i[s]=i[s+4]=o[0],i[s+1]=i[s+3]=o[3],i[s+2]=i[s+6]=o[2],i[s+5]=i[s+7]=o[1],nk.rectBoundingBox(...o,r),s+=8)}return{quadPoints:i,rect:r}}function xz(n,e){let t=n;do{if(t.nodeType===Node.TEXT_NODE){const r=t.textContent.length;if(e<=r)return[t,e];e-=r}else if(t.firstChild){t=t.firstChild;continue}for(;!t.nextSibling&&t!==n;)t=t.parentNode;t!==n&&(t=t.nextSibling)}while(t!==n);throw new Error("Offset is bigger than container's contents length.")}function Qbe({url:n,index:e,length:t},r,i){const s=r._textHighlighter,[{begin:a,end:o}]=s._convertMatches([e],[t]),l=new Range;return l.setStart(...xz(s.textDivs[a.divIdx],a.offset)),l.setEnd(...xz(s.textDivs[o.divIdx],o.offset)),{id:`inferred_link_${i}`,unsafeUrl:n,url:n,annotationType:AX.LINK,rotation:0,...Lbe(l,r),borderStyle:null}}var F1,fE;class aL{static findLinks(e){f(this,fE)??_(this,fE,new RegExp("\\b(?:https?:\\/\\/|mailto:|www\\.)(?:[\\S--[\\p{P}<>]]|\\/|[\\S--[\\[\\]]]+[\\S--[\\p{P}<>]])+|\\b[\\S--[@\\p{Ps}\\p{Pe}<>]]+@([\\S--[\\p{P}<>]]+(?:\\.[\\S--[\\p{P}<>]]+)+)","gmv"));const[t,r]=M_(e,{ignoreDashEOL:!0}),i=t.matchAll(f(this,fE)),s=[];for(const a of i){const[o,l]=a;let u;if(o.startsWith("www.")||o.startsWith("http://")||o.startsWith("https://"))u=o;else if(URL.canParse(`http://${l}`))u=o.startsWith("mailto:")?o:`mailto:${o}`;else continue;const d=lX(u,null,{addDefaultProtocol:!0});if(d){const[h,g]=pX(r,a.index,o.length);s.push({url:d.href,index:h,length:g})}}return s}static processLinks(e){return this.findLinks(e._textHighlighter.textContentItemsStr.join(`
`)).map(t=>Qbe(t,e,ur(this,F1)._++))}}F1=new WeakMap,fE=new WeakMap,M(aL,F1,0),M(aL,fE);var _d,Qv,kv,Ov,Yl,Td,Xl,M1,hE,oL;class kX{constructor(e){M(this,hE);M(this,_d,null);M(this,Qv,0);M(this,kv,null);M(this,Ov,Qt.INITIAL);M(this,Yl,null);M(this,Td,0);M(this,Xl,null);be(this,"canvas",null);be(this,"div",null);be(this,"enableOptimizedPartialRendering",!1);be(this,"eventBus",null);be(this,"id",null);be(this,"pageColors",null);be(this,"recordedBBoxes",null);be(this,"renderingQueue",null);be(this,"renderTask",null);be(this,"resume",null);M(this,M1,e=>{var t;if((t=f(this,Yl))==null||t.call(this,!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=Qt.PAUSED,this.resume=()=>{this.renderingState=Qt.RUNNING,e()};return}e()});this.eventBus=e.eventBus,this.id=e.id,this.pageColors=e.pageColors||null,this.renderingQueue=e.renderingQueue,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,_(this,Qv,e.minDurationToUpdateCanvas??500)}get renderingState(){return f(this,Ov)}set renderingState(e){var t;if(e!==f(this,Ov))switch(_(this,Ov,e),f(this,_d)&&(clearTimeout(f(this,_d)),_(this,_d,null)),e){case Qt.PAUSED:this.div.classList.remove("loading"),_(this,Td,0),(t=f(this,Yl))==null||t.call(this,!1);break;case Qt.RUNNING:this.div.classList.add("loadingIcon"),_(this,_d,setTimeout(()=>{this.div.classList.add("loading"),_(this,_d,null)},0)),_(this,Td,Date.now());break;case Qt.INITIAL:case Qt.FINISHED:this.div.classList.remove("loadingIcon","loading"),_(this,Td,0);break}}_createCanvas(e,t=!1){const{pageColors:r}=this,i=!!(r!=null&&r.background&&(r!=null&&r.foreground)),s=this.canvas,a=!s&&!i&&!t;let o=this.canvas=document.createElement("canvas");return _(this,Yl,l=>{if(a){let u=f(this,Xl);if(!l&&f(this,Qv)>0){if(Date.now()-f(this,Td)<f(this,Qv))return;u||(u=_(this,Xl,o),o=this.canvas=o.cloneNode(!1),e(o))}if(u){o.getContext("2d",{alpha:!1}).drawImage(u,0,0),l?P(this,hE,oL).call(this):_(this,Td,Date.now());return}e(o),_(this,Yl,null);return}l&&(s?(s.replaceWith(o),s.width=s.height=0):e(o))}),{canvas:o,prevCanvas:s}}_resetCanvas(){const{canvas:e}=this;e&&(e.remove(),e.width=e.height=0,this.canvas=null,P(this,hE,oL).call(this))}async _drawCanvas(e,t,r){var a,o;const i=this.renderTask=this.pdfPage.render(e);i.onContinue=f(this,M1),i.onError=l=>{l instanceof HN&&(t(),_(this,kv,null))};let s=null;try{await i.promise,(a=f(this,Yl))==null||a.call(this,!0)}catch(l){if(l instanceof HN)return;s=l,(o=f(this,Yl))==null||o.call(this,!0)}finally{_(this,kv,s),i===this.renderTask&&(this.renderTask=null,this.enableOptimizedPartialRendering&&(this.recordedBBoxes??(this.recordedBBoxes=i.recordedBBoxes)))}if(this.renderingState=Qt.FINISHED,r(i),s)throw s}cancelRendering({cancelExtraDelay:e=0}={}){this.renderTask&&(this.renderTask.cancel(e),this.renderTask=null),this.resume=null}dispatchPageRender(){this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id})}dispatchPageRendered(e,t){this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:e,isDetailView:t,timestamp:performance.now(),error:f(this,kv)})}}_d=new WeakMap,Qv=new WeakMap,kv=new WeakMap,Ov=new WeakMap,Yl=new WeakMap,Td=new WeakMap,Xl=new WeakMap,M1=new WeakMap,hE=new WeakSet,oL=function(){f(this,Xl)&&(f(this,Xl).width=f(this,Xl).height=0,_(this,Xl,null))};var xA;class kbe{constructor(e){M(this,xA,null);this.pageIndex=e.pageIndex}async render({intent:e="display"}){e!=="display"||f(this,xA)||this._cancelled||_(this,xA,new $0e({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,f(this,xA)&&(f(this,xA).destroy(),_(this,xA,null))}setParent(e){var t;(t=f(this,xA))==null||t.setParent(e)}getDrawLayer(){return f(this,xA)}}xA=new WeakMap;var Wa,U1,OX;class Obe extends kX{constructor({pageView:t}){super(t);M(this,U1);M(this,Wa,null);be(this,"renderingCancelled",!1);this.pageView=t,this.renderingId="detail"+this.id,this.div=t.div}setPdfPage(t){this.pageView.setPdfPage(t)}get pdfPage(){return this.pageView.pdfPage}get renderingState(){return super.renderingState}set renderingState(t){this.renderingCancelled=!1,super.renderingState=t}reset({keepCanvas:t=!1}={}){const r=this.renderingCancelled||this.renderingState===Qt.RUNNING||this.renderingState===Qt.PAUSED;this.cancelRendering(),this.renderingState=Qt.INITIAL,this.renderingCancelled=r,t||this._resetCanvas()}update({visibleArea:t=null,underlyingViewUpdated:r=!1}={}){if(r){this.cancelRendering(),this.renderingState=Qt.INITIAL;return}if(!P(this,U1,OX).call(this,t))return;const{viewport:i,maxCanvasPixels:s,capCanvasAreaFactor:a}=this.pageView,o=t.maxX-t.minX,l=t.maxY-t.minY,u=o*l*F_.pixelRatio**2,h=(Math.sqrt(F_.capPixels(s,a)/u)-1)/2;let g=Math.min(1,h);g<0&&(g=0);const v=o*g,b=l*g,C=Math.max(0,t.minX-v),B=Math.min(i.width,t.maxX+v),S=Math.max(0,t.minY-b),I=Math.min(i.height,t.maxY+b),T=B-C,R=I-S;_(this,Wa,{minX:C,minY:S,width:T,height:R,scale:i.scale}),this.reset({keepCanvas:!0})}_getRenderingContext(t,r){const i=this.pageView._getRenderingContext(t,r,!1),s=this.pdfPage.recordedBBoxes;if(!s||!this.enableOptimizedPartialRendering)return i;const{viewport:{width:a,height:o}}=this.pageView,{width:l,height:u,minX:d,minY:h}=f(this,Wa),g=d/a,v=h/o,b=(d+l)/a,C=(h+u)/o;return{...i,operationsFilter(B){return s.isEmpty(B)?!1:s.minX(B)<=b&&s.maxX(B)>=g&&s.minY(B)<=C&&s.maxY(B)>=v}}}async draw(){if(this.pageView.detailView!==this)return;const t=this.pageView.renderingState===Qt.FINISHED||this.renderingState===Qt.FINISHED;this.renderingState!==Qt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:r,pdfPage:i,viewport:s}=this.pageView;if(!i)throw this.renderingState=Qt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Qt.RUNNING;const a=this.pageView._ensureCanvasWrapper(),{canvas:o,prevCanvas:l}=this._createCanvas(B=>{var S;((S=a.firstElementChild)==null?void 0:S.tagName)==="CANVAS"?a.firstElementChild.after(B):a.prepend(B)},t);o.ariaHidden=!0,this.enableOptimizedPartialRendering&&(o.className="detailView");const{width:u,height:d}=s,h=f(this,Wa),{pixelRatio:g}=F_,v=[g,0,0,g,-h.minX*g,-h.minY*g];o.width=h.width*g,o.height=h.height*g;const{style:b}=o;b.width=`${h.width*100/u}%`,b.height=`${h.height*100/d}%`,b.top=`${h.minY*100/d}%`,b.left=`${h.minX*100/u}%`;const C=this._drawCanvas(this._getRenderingContext(o,v),()=>{var B;(B=this.canvas)==null||B.remove(),this.canvas=l},()=>{this.dispatchPageRendered(!1,!0)});return r.setAttribute("data-loaded",!0),this.dispatchPageRender(),C}}Wa=new WeakMap,U1=new WeakSet,OX=function(t){if(!f(this,Wa))return!0;const r=f(this,Wa).minX,i=f(this,Wa).minY,s=f(this,Wa).width+r,a=f(this,Wa).height+i;if(t.minX<r||t.minY<i||t.maxX>s||t.maxY>a)return!0;const{width:o,height:l,scale:u}=this.pageView.viewport;if(f(this,Wa).scale!==u)return!0;const d=t.minX-r,h=s-t.maxX,g=t.minY-i,v=a-t.maxY,b=.5,C=(1+b)/b;return r>0&&h/d>C||s<o&&d/h>C||i>0&&v/g>C||a<l&&g/v>C};const _z={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HX=new Set(["math","merror","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mprescripts","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics"]),wT="http://www.w3.org/1998/Math/MathML";class Tz{static get sanitizer(){return Xw(this,"sanitizer",uX.isSanitizerSupported?new Sanitizer({elements:[...HX].map(e=>({name:e,namespace:wT})),replaceWithChildrenElements:[{name:"maction",namespace:wT}],attributes:["dir","displaystyle","mathbackground","mathcolor","mathsize","scriptlevel","encoding","display","linethickness","intent","arg","form","fence","separator","lspace","rspace","stretchy","symmetric","maxsize","minsize","largeop","movablelimits","width","height","depth","voffset","accent","accentunder","columnspan","rowspan"],comments:!1}):null)}}const Hbe=/^H(\d+)$/;var Hv,Po,Vv,Kv,Gv,Id,QA,AL,KX,lL;class VX{constructor(e,t){M(this,QA);M(this,Hv);M(this,Po,null);M(this,Vv);M(this,Kv,new Map);M(this,Gv);M(this,Id,null);_(this,Hv,e.getStructTree()),_(this,Gv,t)}async render(){var i;if(f(this,Vv))return f(this,Vv);const{promise:e,resolve:t,reject:r}=Promise.withResolvers();_(this,Vv,e);try{_(this,Po,P(this,QA,lL).call(this,await f(this,Hv)))}catch(s){r(s)}return _(this,Hv,null),(i=f(this,Po))==null||i.classList.add("structTree"),t(f(this,Po)),e}async getAriaAttributes(e){try{return await this.render(),f(this,Kv).get(e)}catch{}return null}hide(){f(this,Po)&&!f(this,Po).hidden&&(f(this,Po).hidden=!0)}show(){var e;(e=f(this,Po))!=null&&e.hidden&&(f(this,Po).hidden=!1)}addElementsToTextLayer(){var e;if(f(this,Id)){for(const[t,r]of f(this,Id))(e=document.getElementById(t))==null||e.append(r);f(this,Id).clear(),_(this,Id,null)}}}Hv=new WeakMap,Po=new WeakMap,Vv=new WeakMap,Kv=new WeakMap,Gv=new WeakMap,Id=new WeakMap,QA=new WeakSet,AL=function(e,t){const{alt:r,id:i,lang:s}=e;if(r!==void 0){let a=!1;const o=kw(r);for(const l of e.children)if(l.type==="annotation"){let u=f(this,Kv).get(l.id);u||(u=new Map,f(this,Kv).set(l.id,u)),u.set("aria-label",o),a=!0}a||t.setAttribute("aria-label",o)}i!==void 0&&t.setAttribute("aria-owns",i),s!==void 0&&t.setAttribute("lang",kw(s,!0))},KX=function(e,t){const{alt:r,bbox:i,children:s}=e,a=s==null?void 0:s[0];if(!f(this,Gv)||!r||!i||(a==null?void 0:a.type)!=="content")return!1;const{id:o}=a;if(!o)return!1;t.setAttribute("aria-owns",o);const l=document.createElement("span");(f(this,Id)||_(this,Id,new Map)).set(o,l),l.setAttribute("role","img"),l.setAttribute("aria-label",kw(r));const{pageHeight:u,pageX:d,pageY:h}=f(this,Gv),g="calc(var(--total-scale-factor) *",{style:v}=l;return v.width=`${g}${i[2]-i[0]}px)`,v.height=`${g}${i[3]-i[1]}px)`,v.left=`${g}${i[0]-d}px)`,v.top=`${g}${u-i[3]+h}px)`,!0},lL=function(e){if(!e)return null;let t;if("role"in e){const{role:r}=e;t=HX.has(r)?document.createElementNS(wT,r):document.createElement("span");const i=r.match(Hbe);if(i?(t.setAttribute("role","heading"),t.setAttribute("aria-level",i[1])):_z[r]&&t.setAttribute("role",_z[r]),r==="Figure"&&P(this,QA,KX).call(this,e,t))return t;r==="Formula"&&(e.mathML&&Tz.sanitizer&&t.setHTML(e.mathML,{sanitizer:Tz.sanitizer}),!e.mathML&&e.children.length===1&&e.children[0].role!=="math"&&(t=document.createElementNS(wT,"math")))}if(t||(t=document.createElement("span")),P(this,QA,AL).call(this,e,t),e.children)if(e.children.length===1&&"id"in e.children[0])P(this,QA,AL).call(this,e.children[0],t);else for(const r of e.children)t.append(P(this,QA,lL).call(this,r));return t};var Jl,Ya,Zl,Fd,zv,L_,pE,cL;const Yg=class Yg{constructor(){M(this,pE);M(this,Jl,!1);M(this,Ya,null);M(this,Zl,new Map);M(this,Fd,new Map)}setTextMapping(e){_(this,Ya,e)}enable(){if(f(this,Jl))throw new Error("TextAccessibilityManager is already enabled.");if(!f(this,Ya))throw new Error("Text divs and strings have not been set.");if(_(this,Jl,!0),_(this,Ya,f(this,Ya).slice()),f(this,Ya).sort(P(Yg,zv,L_)),f(this,Zl).size>0){const e=f(this,Ya);for(const[t,r]of f(this,Zl)){if(!document.getElementById(t)){f(this,Zl).delete(t);continue}P(this,pE,cL).call(this,t,e[r])}}for(const[e,t]of f(this,Fd))this.addPointerInTextLayer(e,t);f(this,Fd).clear()}disable(){f(this,Jl)&&(f(this,Fd).clear(),_(this,Ya,null),_(this,Jl,!1))}removePointerInTextLayer(e){if(!f(this,Jl)){f(this,Fd).delete(e);return}const t=f(this,Ya);if(!t||t.length===0)return;const{id:r}=e,i=f(this,Zl).get(r);if(i===void 0)return;const s=t[i];f(this,Zl).delete(r);let a=s.getAttribute("aria-owns");a!=null&&a.includes(r)&&(a=a.split(" ").filter(o=>o!==r).join(" "),a?s.setAttribute("aria-owns",a):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:r}=e;if(!r)return null;if(!f(this,Jl))return f(this,Fd).set(e,t),null;t&&this.removePointerInTextLayer(e);const i=f(this,Ya);if(!i||i.length===0)return null;const s=Jw(i,u=>{var d;return P(d=Yg,zv,L_).call(d,e,u)<0}),a=Math.max(0,s-1),o=i[a];P(this,pE,cL).call(this,r,o),f(this,Zl).set(r,a);const l=o.parentNode;return l!=null&&l.classList.contains("markedContent")?l.id:null}moveElementInDOM(e,t,r,i){const s=this.addPointerInTextLayer(r,i);if(!e.hasChildNodes())return e.append(t),s;const a=Array.from(e.childNodes).filter(l=>l!==t);if(a.length===0)return s;const o=Jw(a,l=>{var u;return P(u=Yg,zv,L_).call(u,t,l)<0});return o===0?a[0].before(t):a[o-1].after(t),s}};Jl=new WeakMap,Ya=new WeakMap,Zl=new WeakMap,Fd=new WeakMap,zv=new WeakSet,L_=function(e,t){const r=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(r.width===0&&r.height===0)return 1;if(i.width===0&&i.height===0)return-1;const s=r.y,a=r.y+r.height,o=r.y+r.height/2,l=i.y,u=i.y+i.height,d=i.y+i.height/2;if(o<=l&&d>=a)return-1;if(d<=s&&o>=u)return 1;const h=r.x+r.width/2,g=i.x+i.width/2;return h-g},pE=new WeakSet,cL=function(e,t){const r=t.getAttribute("aria-owns");r!=null&&r.includes(e)||t.setAttribute("aria-owns",r?`${r} ${e}`:e),t.removeAttribute("role")},M(Yg,zv);let uL=Yg;var Md;class Vbe{constructor({findController:e,eventBus:t,pageIndex:r}){M(this,Md,null);this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=r,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,f(this,Md)||(_(this,Md,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:f(this,Md).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,(e=f(this,Md))==null||e.abort(),_(this,Md,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:r}=this;let i=0,s=0;const a=r.length-1,o=[];for(let l=0,u=e.length;l<u;l++){let d=e[l];for(;i!==a&&d>=s+r[i].length;)s+=r[i].length,i++;i===r.length&&console.error("Could not find a matching mapping");const h={begin:{divIdx:i,offset:d-s}};for(d+=t[l];i!==a&&d>s+r[i].length;)s+=r[i].length,i++;h.end={divIdx:i,offset:d-s},o.push(h)}return o}_renderMatches(e){if(e.length===0)return;const{findController:t,pageIdx:r}=this,{textContentItemsStr:i,textDivs:s}=this,a=r===t.selected.pageIdx,o=t.selected.matchIdx,l=t.state.highlightAll;let u=null;const d={offset:void 0};function h(S,I){const T=S.divIdx;return s[T].textContent="",g(T,0,S.offset,I)}function g(S,I,T,R){let U=s[S];if(U.nodeType===Node.TEXT_NODE){const H=document.createElement("span");U.before(H),H.append(U),s[S]=H,U=H}const D=i[S].substring(I,T),L=document.createTextNode(D);if(R){const H=document.createElement("span");if(H.className=`${R} appended`,H.append(L),U.append(H),R.includes("selected")){const{left:k}=H.getClientRects()[0],G=U.getBoundingClientRect().left;return k-G}return 0}return U.append(L),0}let v=o,b=v+1;if(l)v=0,b=e.length;else if(!a)return;let C=-1,B=-1;for(let S=v;S<b;S++){const I=e[S],T=I.begin;if(T.divIdx===C&&T.offset===B)continue;C=T.divIdx,B=T.offset;const R=I.end,U=a&&S===o,D=U?" selected":"";let L=0;if(!u||T.divIdx!==u.divIdx?(u!==null&&g(u.divIdx,u.offset,d.offset),h(T)):g(u.divIdx,u.offset,T.offset),T.divIdx===R.divIdx)L=g(T.divIdx,T.offset,R.offset,"highlight"+D);else{L=g(T.divIdx,T.offset,d.offset,"highlight begin"+D);for(let H=T.divIdx+1,k=R.divIdx;H<k;H++)s[H].className="highlight middle"+D;h(R,"highlight end"+D)}u=R,U&&t.scrollMatchIntoView({element:s[T.divIdx],selectedLeft:L,pageIndex:r,matchIndex:o})}u&&g(u.divIdx,u.offset,d.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;const{findController:t,matches:r,pageIdx:i}=this,{textContentItemsStr:s,textDivs:a}=this;let o=-1;for(const d of r){const h=Math.max(o,d.begin.divIdx);for(let g=h,v=d.end.divIdx;g<=v;g++){const b=a[g];b.textContent=s[g],b.className=""}o=d.end.divIdx+1}if(!(t!=null&&t.highlightMatches)||e)return;const l=t.pageMatches[i]||null,u=t.pageMatchesLength[i]||null;this.matches=this._convertMatches(l,u),this._renderMatches(this.matches)}}Md=new WeakMap;var gE,mE,ip,_A,Ss,Ud,P1,GX,vy,zX,qX;const xc=class xc{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:r=null,enablePermissions:i=!1,onAppend:s=null}){M(this,P1);M(this,gE,!1);M(this,mE,null);M(this,ip,!1);M(this,_A,null);this.pdfPage=e,this.highlighter=t,this.accessibilityManager=r,_(this,gE,i===!0),_(this,mE,s),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render({viewport:e,textContentParams:t=null}){var a,o,l,u,d;if(f(this,ip)&&f(this,_A)){f(this,_A).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),_(this,_A,new J0e({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));const{textDivs:r,textContentItemsStr:i}=f(this,_A);(a=this.highlighter)==null||a.setTextMapping(r,i),(o=this.accessibilityManager)==null||o.setTextMapping(r),await f(this,_A).render(),_(this,ip,!0);const s=document.createElement("div");s.className="endOfContent",this.div.append(s),P(this,P1,GX).call(this,s),(l=f(this,mE))==null||l.call(this,this.div),(u=this.highlighter)==null||u.enable(),(d=this.accessibilityManager)==null||d.enable()}hide(){var e;!this.div.hidden&&f(this,ip)&&((e=this.highlighter)==null||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&f(this,ip)&&(this.div.hidden=!1,(e=this.highlighter)==null||e.enable())}cancel(){var e,t,r,i;(e=f(this,_A))==null||e.cancel(),_(this,_A,null),(t=this.highlighter)==null||t.disable(),(r=this.accessibilityManager)==null||r.disable(),P(i=xc,vy,zX).call(i,this.div)}};gE=new WeakMap,mE=new WeakMap,ip=new WeakMap,_A=new WeakMap,Ss=new WeakMap,Ud=new WeakMap,P1=new WeakSet,GX=function(e){var r;const{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",i=>{if(!f(this,gE)){const s=document.getSelection();i.clipboardData.setData("text/plain",kw(X0e(s.toString())))}VN(i)}),f(xc,Ss).set(t,e),P(r=xc,vy,qX).call(r)},vy=new WeakSet,zX=function(e){var t;f(this,Ss).delete(e),f(this,Ss).size===0&&((t=f(this,Ud))==null||t.abort(),_(this,Ud,null))},qX=function(){if(f(this,Ud))return;_(this,Ud,new AbortController);const{signal:e}=f(this,Ud),t=(a,o)=>{o.append(a),a.style.width="",a.style.height="",o.classList.remove("selecting")};let r=!1;document.addEventListener("pointerdown",()=>{r=!0},{signal:e}),document.addEventListener("pointerup",()=>{r=!1,f(this,Ss).forEach(t)},{signal:e}),window.addEventListener("blur",()=>{r=!1,f(this,Ss).forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{r||f(this,Ss).forEach(t)},{signal:e});var i,s;document.addEventListener("selectionchange",()=>{var v;const a=document.getSelection();if(a.rangeCount===0){f(this,Ss).forEach(t);return}const o=new Set;for(let b=0;b<a.rangeCount;b++){const C=a.getRangeAt(b);for(const B of f(this,Ss).keys())!o.has(B)&&C.intersectsNode(B)&&o.add(B)}for(const[b,C]of f(this,Ss))o.has(b)?b.classList.add("selecting"):t(C,b);if(i??(i=getComputedStyle(f(this,Ss).values().next().value).getPropertyValue("-moz-user-select")==="none"),i)return;const l=a.getRangeAt(0),u=s&&(l.compareBoundaryPoints(Range.END_TO_END,s)===0||l.compareBoundaryPoints(Range.START_TO_END,s)===0);let d=u?l.startContainer:l.endContainer;if(d.nodeType===Node.TEXT_NODE&&(d=d.parentNode),!u&&l.endOffset===0)do{for(;!d.previousSibling;)d=d.parentNode;d=d.previousSibling}while(!d.childNodes.length);const h=(v=d.parentElement)==null?void 0:v.closest(".textLayer"),g=f(this,Ss).get(h);g&&(g.style.width=h.style.width,g.style.height=h.style.height,d.parentElement.insertBefore(g,u?d:d.nextSibling)),s=l.cloneRange()},{signal:e})},M(xc,vy),M(xc,Ss,new Map),M(xc,Ud,null);let bT=xc;class $X{constructor({pdfPage:e,annotationStorage:t=null,linkService:r,xfaHtml:i=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=r,this.xfaHtml=i,this.div=null,this._cancelled=!1}async render({viewport:e,intent:t="display"}){if(t==="print"){const s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,NU.render(s)}const r=await this.pdfPage.getXfa();if(this._cancelled||!r)return{textDivs:[]};const i={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:r,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?NU.update(i):(this.div=document.createElement("div"),i.div=this.div,NU.render(i))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}const Kbe={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new ik}},Gbe=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);var Pd,Rd,vE,yE,qv,wE,Dd,eu,$v,bE,CE,EE,jv,BE,tu,Nd,ft,kg,Q_,xw,dL,fL,hL,pL,gL,WX,YX,XX,mL;class jX extends kX{constructor(t){var a,o;super(t);M(this,ft);M(this,Pd,MA.ENABLE_FORMS);M(this,Rd,null);M(this,vE,null);M(this,yE,!0);M(this,qv,!1);M(this,wE,!1);M(this,Dd,null);M(this,eu,!1);M(this,$v,null);M(this,bE,null);M(this,CE,1);M(this,EE,1);M(this,jv,IA.ENABLE);M(this,BE,1);M(this,tu,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});M(this,Nd,[null,null,null,null]);const r=t.container,i=t.defaultViewport;this.renderingId="page"+this.id,_(this,Dd,t.layerProperties||Kbe),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||dX,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,_(this,jv,t.textLayerMode??IA.ENABLE),_(this,Pd,t.annotationMode??MA.ENABLE_FORMS),this.imageResourcesPath=t.imageResourcesPath||"",this.enableDetailCanvas=t.enableDetailCanvas??!0,this.maxCanvasPixels=t.maxCanvasPixels??Ow.get("maxCanvasPixels"),this.maxCanvasDim=t.maxCanvasDim||Ow.get("maxCanvasDim"),this.capCanvasAreaFactor=t.capCanvasAreaFactor??Ow.get("capCanvasAreaFactor"),_(this,yE,t.enableAutoLinking!==!1),_(this,vE,t.commentManager||null),this.l10n=t.l10n,this.l10n||(this.l10n=new sy),this._isStandalone=!((a=this.renderingQueue)!=null&&a.hasViewer()),this._container=r,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null,this.detailView=null;const s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,P(this,ft,Q_).call(this),r==null||r.append(s),this._isStandalone){r==null||r.style.setProperty("--scale-factor",this.scale*hl.PDF_TO_CSS_UNITS),(o=this.pageColors)!=null&&o.background&&(r==null||r.style.setProperty("--page-bg-color",this.pageColors.background));const{optionalContentConfigPromise:l}=t;l&&l.then(u=>{l===this._optionalContentConfigPromise&&(f(this,tu).initialOptionalContent=u.hasInitialVisibility)}),t.l10n||this.l10n.translate(this.div)}}setPdfPage(t){var i,s,a,o;this._isStandalone&&(((i=this.pageColors)==null?void 0:i.foreground)==="CanvasText"||((s=this.pageColors)==null?void 0:s.background)==="Canvas")&&((a=this._container)==null||a.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),(o=this._container)==null||o.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=t,this.pdfPageRotate=t.rotate;const r=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*hl.PDF_TO_CSS_UNITS,rotation:r}),P(this,ft,Q_).call(this),this.reset()}destroy(){var t;this.reset(),(t=this.pdfPage)==null||t.cleanup()}hasEditableAnnotations(){var t;return!!((t=this.annotationLayer)!=null&&t.hasEditableAnnotations())}get _textHighlighter(){return Xw(this,"_textHighlighter",new Vbe({pageIndex:this.id-1,eventBus:this.eventBus,findController:f(this,Dd).findController}))}_resetCanvas(){super._resetCanvas(),_(this,$v,null)}reset({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:r=!1,keepXfaLayer:i=!1,keepTextLayer:s=!1,keepCanvasWrapper:a=!1,preserveDetailViewState:o=!1}={}){var B,S,I,T,R,U,D;const l=((B=this.pdfPage)==null?void 0:B._pdfBug)??!1;this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:r,keepXfaLayer:i,keepTextLayer:s}),this.renderingState=Qt.INITIAL;const u=this.div,d=u.childNodes,h=t&&((S=this.annotationLayer)==null?void 0:S.div)||null,g=r&&((I=this.annotationEditorLayer)==null?void 0:I.div)||null,v=i&&((T=this.xfaLayer)==null?void 0:T.div)||null,b=s&&((R=this.textLayer)==null?void 0:R.div)||null,C=a&&f(this,Rd)||null;for(let L=d.length-1;L>=0;L--){const H=d[L];switch(H){case h:case g:case v:case b:case C:continue}if(l&&H.classList.contains("pdfBugGroupsLayer"))continue;H.remove();const k=f(this,Nd).indexOf(H);k>=0&&(f(this,Nd)[k]=null)}u.removeAttribute("data-loaded"),h&&this.annotationLayer.hide(),g&&this.annotationEditorLayer.hide(),v&&this.xfaLayer.hide(),b&&this.textLayer.hide(),(U=this.structTreeLayer)==null||U.hide(),!a&&f(this,Rd)&&(_(this,Rd,null),this._resetCanvas()),o||((D=this.detailView)==null||D.reset({keepCanvas:a}),a||(this.detailView=null))}toggleEditingMode(t){_(this,wE,t),this.hasEditableAnnotations()&&this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0})}updateVisibleArea(t){this.enableDetailCanvas&&(f(this,eu)&&this.maxCanvasPixels>0&&t?(this.detailView??(this.detailView=new Obe({pageView:this,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering})),this.detailView.update({visibleArea:t})):this.detailView&&(this.detailView.reset(),this.detailView=null))}update({scale:t=0,rotation:r=null,optionalContentConfigPromise:i=null,drawingDelay:s=-1}){var o,l,u;this.scale=t||this.scale,typeof r=="number"&&(this.rotation=r),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(d=>{i===this._optionalContentConfigPromise&&(f(this,tu).initialOptionalContent=d.hasInitialVisibility)})),f(this,tu).directDrawing=!0;const a=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*hl.PDF_TO_CSS_UNITS,rotation:a}),P(this,ft,Q_).call(this),this._isStandalone&&((o=this._container)==null||o.style.setProperty("--scale-factor",this.viewport.scale)),P(this,ft,mL).call(this),this.canvas){const d=f(this,qv)&&f(this,eu),h=s>=0&&s<1e3;if(h||d){h&&!d&&this.renderingState!==Qt.FINISHED&&(this.cancelRendering({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=Qt.FINISHED,f(this,tu).directDrawing=!1),this.cssTransform({redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h}),h||((l=this.detailView)==null||l.update({underlyingViewUpdated:!0}),this.dispatchPageRendered(!0,!1));return}}this.cssTransform({}),this.reset({keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,keepCanvasWrapper:!0,preserveDetailViewState:!0}),(u=this.detailView)==null||u.update({underlyingViewUpdated:!0})}cancelRendering({keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:r=!1,keepXfaLayer:i=!1,keepTextLayer:s=!1,cancelExtraDelay:a=0}={}){var o;super.cancelRendering({cancelExtraDelay:a}),this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!t||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!r||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(o=this._textHighlighter)==null||o.disable())}cssTransform({redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:r=!1,redrawXfaLayer:i=!1,redrawTextLayer:s=!1,hideTextLayer:a=!1}){var u;const{canvas:o}=this;if(!o)return;const l=f(this,$v);if(this.viewport!==l){const d=(360+this.viewport.rotation-l.rotation)%360;if(d===90||d===270){const{width:h,height:g}=this.viewport,v=g/h,b=h/g;o.style.transform=`rotate(${d}deg) scale(${v},${b})`}else o.style.transform=d===0?"":`rotate(${d}deg)`}t&&this.annotationLayer&&P(this,ft,dL).call(this),r&&this.annotationEditorLayer&&(this.drawLayer&&P(this,ft,hL).call(this),P(this,ft,fL).call(this)),i&&this.xfaLayer&&P(this,ft,pL).call(this),this.textLayer&&(a?(this.textLayer.hide(),(u=this.structTreeLayer)==null||u.hide()):s&&P(this,ft,gL).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(t,r){return this.viewport.convertToPdfPoint(t,r)}_ensureCanvasWrapper(){let t=f(this,Rd);return t||(t=_(this,Rd,document.createElement("div")),t.classList.add("canvasWrapper"),P(this,ft,kg).call(this,t,"canvasWrapper")),t}_getRenderingContext(t,r,i){return{canvas:t,transform:r,viewport:this.viewport,annotationMode:f(this,Pd),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors,isEditing:f(this,wE),recordOperations:i}}async draw(){this.renderingState!==Qt.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:t,l10n:r,pdfPage:i,viewport:s}=this;if(!i)throw this.renderingState=Qt.FINISHED,new Error("pdfPage is not loaded");this.renderingState=Qt.RUNNING;const a=this._ensureCanvasWrapper();if(!this.textLayer&&f(this,jv)!==IA.DISABLE&&!i.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new uL),this.textLayer=new bT({pdfPage:i,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:f(this,jv)===IA.ENABLE_PERMISSIONS,onAppend:U=>{this.l10n.pause(),P(this,ft,kg).call(this,U,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&f(this,Pd)!==MA.DISABLE){const{annotationStorage:U,annotationEditorUIManager:D,downloadManager:L,enableComment:H,enableScripting:k,fieldObjectsPromise:G,hasJSActionsPromise:K,linkService:z}=f(this,Dd);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new EX({pdfPage:i,annotationStorage:U,imageResourcesPath:this.imageResourcesPath,renderForms:f(this,Pd)===MA.ENABLE_FORMS,linkService:z,downloadManager:L,enableComment:H,enableScripting:k,hasJSActionsPromise:K,fieldObjectsPromise:G,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:D,commentManager:f(this,vE),onAppend:J=>{P(this,ft,kg).call(this,J,"annotationLayer")}})}const{width:o,height:l}=s;_(this,$v,s);const{canvas:u,prevCanvas:d}=this._createCanvas(U=>{a.prepend(U)});u.setAttribute("role","presentation"),this.outputScale||P(this,ft,mL).call(this);const{outputScale:h}=this;_(this,qv,f(this,eu));const g=rz(h.sx),v=rz(h.sy),b=u.width=mx(vx(o*h.sx),g[0]),C=u.height=mx(vx(l*h.sy),v[0]),B=mx(vx(o),g[1]),S=mx(vx(l),v[1]);h.sx=b/B,h.sy=C/S,f(this,CE)!==g[1]&&(t.style.setProperty("--scale-round-x",`${g[1]}px`),_(this,CE,g[1])),f(this,EE)!==v[1]&&(t.style.setProperty("--scale-round-y",`${v[1]}px`),_(this,EE,v[1]));const I=this.enableOptimizedPartialRendering&&f(this,qv)&&!this.recordedBBoxes,T=h.scaled?[h.sx,0,0,h.sy,0,0]:null,R=this._drawCanvas(this._getRenderingContext(u,T,I),()=>{d==null||d.remove(),this._resetCanvas()},U=>{f(this,tu).regularAnnotations=!U.separateAnnots,this.dispatchPageRendered(!1,!1)}).then(async()=>{var L;if(this.renderingState!==Qt.FINISHED)return;this.structTreeLayer||(this.structTreeLayer=new VX(i,s.rawDims));const U=P(this,ft,gL).call(this);this.annotationLayer&&(await P(this,ft,dL).call(this),f(this,yE)&&this.annotationLayer&&this.textLayer&&await P(this,ft,XX).call(this,U));const{annotationEditorUIManager:D}=f(this,Dd);D&&(this.drawLayer||(this.drawLayer=new kbe({pageIndex:this.id})),await P(this,ft,hL).call(this),this.drawLayer.setParent(a),(this.annotationLayer||f(this,Pd)===MA.DISABLE)&&(this.annotationEditorLayer||(this.annotationEditorLayer=new Nbe({uiManager:D,pdfPage:i,l10n:r,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:(L=this.annotationLayer)==null?void 0:L.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:H=>{P(this,ft,kg).call(this,H,"annotationEditorLayer")}})),P(this,ft,fL).call(this)))});if(i.isPureXfa){if(!this.xfaLayer){const{annotationStorage:U,linkService:D}=f(this,Dd);this.xfaLayer=new $X({pdfPage:i,annotationStorage:U,linkService:D})}P(this,ft,pL).call(this)}return t.setAttribute("data-loaded",!0),this.dispatchPageRender(),R}setPageLabel(t){this.pageLabel=typeof t=="string"?t:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:t,initialOptionalContent:r,regularAnnotations:i}=f(this,tu);return t&&r&&i?this.canvas:null}}Pd=new WeakMap,Rd=new WeakMap,vE=new WeakMap,yE=new WeakMap,qv=new WeakMap,wE=new WeakMap,Dd=new WeakMap,eu=new WeakMap,$v=new WeakMap,bE=new WeakMap,CE=new WeakMap,EE=new WeakMap,jv=new WeakMap,BE=new WeakMap,tu=new WeakMap,Nd=new WeakMap,ft=new WeakSet,kg=function(t,r){const i=Gbe.get(r),s=f(this,Nd)[i];if(f(this,Nd)[i]=t,s){s.replaceWith(t);return}for(let a=i-1;a>=0;a--){const o=f(this,Nd)[a];if(o){o.after(t);return}}this.div.prepend(t)},Q_=function(){const{div:t,viewport:r}=this;if(r.userUnit!==f(this,BE)&&(r.userUnit!==1?t.style.setProperty("--user-unit",r.userUnit):t.style.removeProperty("--user-unit"),_(this,BE,r.userUnit)),this.pdfPage){if(f(this,bE)===r.rotation)return;_(this,bE,r.rotation)}cX(t,r,!0,!1)},xw=function(t,r){this.eventBus.dispatch(t,{source:this,pageNumber:this.id,error:r})},dL=async function(){let t=null;try{await this.annotationLayer.render({viewport:this.viewport,intent:"display",structTreeLayer:this.structTreeLayer})}catch(r){console.error("#renderAnnotationLayer:",r),t=r}finally{P(this,ft,xw).call(this,"annotationlayerrendered",t)}},fL=async function(){let t=null;try{await this.annotationEditorLayer.render({viewport:this.viewport,intent:"display"})}catch(r){console.error("#renderAnnotationEditorLayer:",r),t=r}finally{P(this,ft,xw).call(this,"annotationeditorlayerrendered",t)}},hL=async function(){try{await this.drawLayer.render({intent:"display"})}catch(t){console.error("#renderDrawLayer:",t)}},pL=async function(){var r;let t=null;try{const i=await this.xfaLayer.render({viewport:this.viewport,intent:"display"});i!=null&&i.textDivs&&this._textHighlighter&&P(this,ft,YX).call(this,i.textDivs)}catch(i){console.error("#renderXfaLayer:",i),t=i}finally{(r=this.xfaLayer)!=null&&r.div&&(this.l10n.pause(),P(this,ft,kg).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),P(this,ft,xw).call(this,"xfalayerrendered",t)}},gL=async function(){if(!this.textLayer)return;let t=null;try{await this.textLayer.render({viewport:this.viewport})}catch(r){if(r instanceof K0e)return;console.error("#renderTextLayer:",r),t=r}P(this,ft,xw).call(this,"textlayerrendered",t),P(this,ft,WX).call(this)},WX=async function(){var r,i,s;if(!this.textLayer)return;const t=await((r=this.structTreeLayer)==null?void 0:r.render());t&&(this.l10n.pause(),(i=this.structTreeLayer)==null||i.addElementsToTextLayer(),this.canvas&&t.parentNode!==this.canvas&&this.canvas.append(t),this.l10n.resume()),(s=this.structTreeLayer)==null||s.show()},YX=async function(t){const r=await this.pdfPage.getTextContent(),i=[];for(const s of r.items)i.push(s.str);this._textHighlighter.setTextMapping(t,i),this._textHighlighter.enable()},XX=async function(t){try{if(await t,!this.annotationLayer)return;await this.annotationLayer.injectLinkAnnotations(aL.processLinks(this))}catch(r){console.error("#injectLinkAnnotations:",r)}},mL=function(){const{width:t,height:r}=this.viewport,i=this.outputScale=new F_;if(this.maxCanvasPixels===0){const s=1/this.scale;i.sx*=s,i.sy*=s,_(this,eu,!0)}else if(_(this,eu,i.limitCanvas(t,r,this.maxCanvasPixels,this.maxCanvasDim,this.capCanvasAreaFactor)),f(this,eu)&&this.enableDetailCanvas){const s=this.enableOptimizedPartialRendering?4:2;i.sx/=s,i.sy/=s}};async function zbe(n){const{info:r,metadata:i,contentDispositionFilename:s,contentLength:a}=await n.getMetadata();return{...r,baseURL:"",filesize:a||(await n.getDownloadInfo()).length,filename:s||j0e(""),metadata:i==null?void 0:i.getRaw(),authors:i==null?void 0:i.get("dc:creator"),numPages:n.numPages,URL:""}}class qbe{constructor(e){this._ready=new Promise((t,r)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(r)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}var TA,sp,SE,ap,op,xE,Ji,nu,Wv,Lr,Xa,ii,JX,k_,vL,ZX,_w;class $be{constructor({eventBus:e,externalServices:t=null,docProperties:r=null}){M(this,ii);M(this,TA,null);M(this,sp,null);M(this,SE,null);M(this,ap,null);M(this,op,null);M(this,xE,null);M(this,Ji,null);M(this,nu,null);M(this,Wv,!1);M(this,Lr,null);M(this,Xa,null);_(this,op,e),_(this,xE,t),_(this,SE,r)}setViewer(e){_(this,nu,e)}async setDocument(e){var o;if(f(this,Ji)&&await P(this,ii,_w).call(this),_(this,Ji,e),!e)return;const[t,r,i]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!i){await P(this,ii,_w).call(this);return}if(e!==f(this,Ji))return;try{_(this,Lr,P(this,ii,ZX).call(this))}catch(l){console.error("setDocument:",l),await P(this,ii,_w).call(this);return}const s=f(this,op);_(this,ap,new AbortController);const{signal:a}=f(this,ap);s._on("updatefromsandbox",l=>{(l==null?void 0:l.source)===window&&P(this,ii,JX).call(this,l.detail)},{signal:a}),s._on("dispatcheventinsandbox",l=>{var u;(u=f(this,Lr))==null||u.dispatchEventInSandbox(l.detail)},{signal:a}),s._on("pagechanging",({pageNumber:l,previous:u})=>{l!==u&&(P(this,ii,vL).call(this,u),P(this,ii,k_).call(this,l))},{signal:a}),s._on("pagerendered",({pageNumber:l})=>{this._pageOpenPending.has(l)&&l===f(this,nu).currentPageNumber&&P(this,ii,k_).call(this,l)},{signal:a}),s._on("pagesdestroy",async()=>{var l,u;await P(this,ii,vL).call(this,f(this,nu).currentPageNumber),await((l=f(this,Lr))==null?void 0:l.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(u=f(this,TA))==null||u.resolve()},{signal:a});try{const l=await f(this,SE).call(this,e);if(e!==f(this,Ji))return;await f(this,Lr).createSandbox({objects:t,calculationOrder:r,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...l,actions:i}}),s.dispatch("sandboxcreated",{source:this})}catch(l){console.error("setDocument:",l),await P(this,ii,_w).call(this);return}await((o=f(this,Lr))==null?void 0:o.dispatchEventInSandbox({id:"doc",name:"Open"})),await P(this,ii,k_).call(this,f(this,nu).currentPageNumber,!0),Promise.resolve().then(()=>{e===f(this,Ji)&&_(this,Wv,!0)})}async dispatchWillSave(){var e;return(e=f(this,Lr))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return(e=f(this,Lr))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(f(this,Lr)){await((e=f(this,Xa))==null?void 0:e.promise),_(this,Xa,Promise.withResolvers());try{await f(this,Lr).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(t){throw f(this,Xa).resolve(),_(this,Xa,null),t}await f(this,Xa).promise}}async dispatchDidPrint(){var e;return(e=f(this,Lr))==null?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return((e=f(this,sp))==null?void 0:e.promise)||null}get ready(){return f(this,Wv)}get _pageOpenPending(){return Xw(this,"_pageOpenPending",new Set)}get _visitedPages(){return Xw(this,"_visitedPages",new Map)}}TA=new WeakMap,sp=new WeakMap,SE=new WeakMap,ap=new WeakMap,op=new WeakMap,xE=new WeakMap,Ji=new WeakMap,nu=new WeakMap,Wv=new WeakMap,Lr=new WeakMap,Xa=new WeakMap,ii=new WeakSet,JX=async function(e){var u,d;const t=f(this,nu),r=t.isInPresentationMode||t.isChangingPresentationMode,{id:i,siblings:s,command:a,value:o}=e;if(!i){switch(a){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(!r){const h=cwe(o);t.spreadMode=h.spreadMode}break;case"page-num":t.currentPageNumber=o+1;break;case"print":await t.pagesPromise,f(this,op).dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":r||(t.currentScaleValue=o);break;case"SaveAs":f(this,op).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":r||t.increaseScale();break;case"ZoomViewOut":r||t.decreaseScale();break;case"WillPrintFinished":(u=f(this,Xa))==null||u.resolve(),_(this,Xa,null);break}return}if(r&&e.focus)return;delete e.id,delete e.siblings;const l=s?[i,...s]:[i];for(const h of l){const g=document.querySelector(`[data-element-id="${h}"]`);g?g.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):(d=f(this,Ji))==null||d.annotationStorage.setValue(h,e)}},k_=async function(e,t=!1){const r=f(this,Ji),i=this._visitedPages;if(t&&_(this,TA,Promise.withResolvers()),!f(this,TA))return;const s=f(this,nu).getPageView(e-1);if((s==null?void 0:s.renderingState)!==Qt.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const a=(async()=>{var l,u;const o=await(i.has(e)?null:(l=s.pdfPage)==null?void 0:l.getJSActions());r===f(this,Ji)&&await((u=f(this,Lr))==null?void 0:u.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:o}))})();i.set(e,a)},vL=async function(e){var s;const t=f(this,Ji),r=this._visitedPages;if(!f(this,TA)||this._pageOpenPending.has(e))return;const i=r.get(e);i&&(r.set(e,null),await i,t===f(this,Ji)&&await((s=f(this,Lr))==null?void 0:s.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},ZX=function(){if(_(this,sp,Promise.withResolvers()),f(this,Lr))throw new Error("#initScripting: Scripting already exists.");return f(this,xE).createScripting()},_w=async function(){var e,t,r,i;if(!f(this,Lr)){_(this,Ji,null),(e=f(this,sp))==null||e.resolve();return}f(this,TA)&&(await Promise.race([f(this,TA).promise,new Promise(s=>{setTimeout(s,1e3)})]).catch(()=>{}),_(this,TA,null)),_(this,Ji,null);try{await f(this,Lr).destroySandbox()}catch{}(t=f(this,Xa))==null||t.reject(new Error("Scripting destroyed.")),_(this,Xa,null),(r=f(this,ap))==null||r.abort(),_(this,ap,null),this._pageOpenPending.clear(),this._visitedPages.clear(),_(this,Lr,null),_(this,Wv,!1),(i=f(this,sp))==null||i.resolve()};class jbe extends $be{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new qbe(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=t=>zbe(t)),super(e)}}const Wbe=3e4;class Ybe{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&((t=this.pdfThumbnailViewer)!=null&&t.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),Wbe)))}getHighestPriority(e,t,r,i=!1,s=!1){const a=e.views,o=a.length;if(o===0)return null;for(let g=0;g<o;g++){const v=a[g].view;if(!this.isViewFinished(v))return v}if(!s)for(let g=0;g<o;g++){const{detailView:v}=a[g].view;if(v&&!this.isViewFinished(v))return v}const l=e.first.id,u=e.last.id;if(u-l+1>o){const g=e.ids;for(let v=1,b=u-l;v<b;v++){const C=r?l+v:u-v;if(g.has(C))continue;const B=t[C-1];if(!this.isViewFinished(B))return B}}let d=r?u:l-2,h=t[d];return h&&!this.isViewFinished(h)||i&&(d+=r?1:-1,h=t[d],h&&!this.isViewFinished(h))?h:null}isViewFinished(e){return e.renderingState===Qt.FINISHED}renderView(e){switch(e.renderingState){case Qt.FINISHED:return!1;case Qt.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case Qt.RUNNING:this.highestPriorityPage=e.renderingId;break;case Qt.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof HN||console.error("renderView:",t)});break}return!0}}const Iz=10,bx={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function Fz(n){return Object.values(gs).includes(n)&&n!==gs.DISABLE}var ru,Ap,_E,yL;class Xbe{constructor(e){M(this,_E);M(this,ru,new Set);M(this,Ap,0);_(this,Ap,e)}push(e){const t=f(this,ru);t.has(e)&&t.delete(e),t.add(e),t.size>f(this,Ap)&&P(this,_E,yL).call(this)}resize(e,t=null){_(this,Ap,e);const r=f(this,ru);if(t){const i=r.size;let s=1;for(const a of r)if(t.has(a.id)&&(r.delete(a),r.add(a)),++s>i)break}for(;r.size>f(this,Ap);)P(this,_E,yL).call(this)}has(e){return f(this,ru).has(e)}[Symbol.iterator](){return f(this,ru).keys()}}ru=new WeakMap,Ap=new WeakMap,_E=new WeakSet,yL=function(){const e=f(this,ru).keys().next().value;e==null||e.destroy(),f(this,ru).delete(e)};var iu,TE,IE,Ja,Aa,lp,up,FE,ME,UE,PE,RE,DE,NE,LE,Ld,QE,Yv,su,Ro,cp,dp,Xv,Qd,Jv,kE,Zv,fp,au,ey,OE,ty,HE,je,e9,t9,n9,Tw,O_,r9,wL,i9,Cc,bL,s9,a9,o9,CL,A9,EL,H_,BL;class ak{constructor(e){M(this,je);M(this,iu,null);M(this,TE,null);M(this,IE,null);M(this,Ja,gs.NONE);M(this,Aa,null);M(this,lp,MA.ENABLE_FORMS);M(this,up,null);M(this,FE,null);M(this,ME,null);M(this,UE,!1);M(this,PE,!1);M(this,RE,!1);M(this,DE,!1);M(this,NE,!1);M(this,LE,!0);M(this,Ld,null);M(this,QE,0);M(this,Yv,null);M(this,su,!0);M(this,Ro,null);M(this,cp,null);M(this,dp,null);M(this,Xv,!1);M(this,Qd,null);M(this,Jv,!1);M(this,kE,0);M(this,Zv,new ResizeObserver(P(this,je,A9).bind(this)));M(this,fp,null);M(this,au,null);M(this,ey,null);M(this,OE,!0);M(this,ty,IA.ENABLE);M(this,HE,null);var i,s;const t="5.4.449";if(JG!==t)throw new Error(`The API version "${JG}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,_(this,HE,e.viewerAlert||null),((i=this.container)==null?void 0:i.tagName)!=="DIV"||((s=this.viewer)==null?void 0:s.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");f(this,Zv).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new ik,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,_(this,TE,e.altTextManager||null),_(this,up,e.commentManager||null),_(this,ey,e.signatureManager||null),_(this,ME,e.editorUndoBar||null),this.findController&&(this.findController.onIsPageVisible=a=>this._getVisiblePages().ids.has(a)),this._scriptingManager=e.scriptingManager||null,_(this,ty,e.textLayerMode??IA.ENABLE),_(this,lp,e.annotationMode??MA.ENABLE_FORMS),_(this,Ja,e.annotationEditorMode??gs.NONE),_(this,IE,e.annotationEditorHighlightColors||null),_(this,PE,e.enableHighlightFloatingButton===!0),_(this,DE,e.enableUpdatedAddImage===!0),_(this,NE,e.enableNewAltTextWhenAddingImage===!0),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.maxCanvasDim=e.maxCanvasDim,this.capCanvasAreaFactor=e.capCanvasAreaFactor,this.enableDetailCanvas=e.enableDetailCanvas??!0,this.enableOptimizedPartialRendering=e.enableOptimizedPartialRendering??!1,this.l10n=e.l10n,this.l10n||(this.l10n=new sy),_(this,RE,e.enablePermissions||!1),this.pageColors=e.pageColors||null,_(this,Yv,e.mlManager||null),_(this,UE,e.enableHWA||!1),_(this,OE,e.supportsPinchToZoom!==!1),_(this,LE,e.enableAutoLinking!==!1),_(this,QE,e.minDurationToUpdateCanvas??500),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new Ybe,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:r}=e;r==null||r.addEventListener("abort",()=>{f(this,Zv).disconnect(),_(this,Zv,null)},{once:!0}),this.scroll=iwe(this.container,this._scrollUpdate.bind(this),r),this.presentationModeState=nm.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),P(this,je,CL).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:a,pdfPage:o})=>{const l=this._pages[a-1];f(this,iu).has(l)||o==null||o.cleanup()}),e.l10n||this.l10n.translate(this.container)}get printingAllowed(){return f(this,su)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(f(this,iu))}get pageViewsReady(){return this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return f(this,lp)===MA.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var i;if(this._currentPageNumber===e)return t&&P(this,je,bL).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const r=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:((i=this._pageLabels)==null?void 0:i[e-1])??null,previous:r}),t&&P(this,je,bL).call(this),!0}get currentPageLabel(){var e;return((e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const r=this._pageLabels.indexOf(e);r>=0&&(t=r+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==LU?this._currentScale:dX}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&P(this,je,Cc).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&P(this,je,Cc).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!hX(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&P(this,je,Cc).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){const e=this;return Xw(this,"_layerProperties",{get annotationEditorUIManager(){return f(e,Aa)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableComment(){return!!f(e,up)},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){const e=[],t=[];for(let r=1,i=this.pdfDocument.numPages;r<=i;++r){if(f(this,Jv))return null;t.length=0;const s=await this.pdfDocument.getPage(r),{items:a}=await s.getTextContent();for(const o of a)o.str&&t.push(o.str),o.hasEOL&&t.push(`
`);e.push(kw(t.join("")))}return e.join(`
`)}setDocument(e){var g,v,b;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(g=this.findController)==null||g.setDocument(null),(v=this._scriptingManager)==null||v.setDocument(null),(b=f(this,Aa))==null||b.destroy(),_(this,Aa,null),_(this,Ja,gs.NONE),_(this,su,!0)),this.pdfDocument=e,!e)return;const t=e.numPages,r=e.getPage(1),i=e.getOptionalContentConfig({intent:"display"}),s=f(this,RE)?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:o,viewer:l}=this;_(this,Ld,new AbortController);const{signal:u}=f(this,Ld);if(t>bx.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const C=this._scrollMode=Ft.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:C})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});const d=C=>{const B=this._pages[C.pageNumber-1];B&&f(this,iu).push(B)};a._on("pagerender",d,{signal:u});const h=C=>{C.cssTransform||C.isDetailView||(this._onePageRenderedCapability.resolve({timestamp:C.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:u}),Promise.all([r,s]).then(([C,B])=>{var L;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(C),this._optionalContentConfigPromise=i;const{annotationEditorMode:S,annotationMode:I,textLayerMode:T}=P(this,je,e9).call(this,B);if(T!==IA.DISABLE){const H=_(this,Qd,document.createElement("div"));H.id="hiddenCopyElement",l.before(H)}if(S!==gs.DISABLE){const H=S;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):Fz(H)?(_(this,Aa,new z0e(this.container,l,f(this,HE),f(this,TE),f(this,up),f(this,ey),a,e,o,f(this,IE),f(this,PE),f(this,DE),f(this,NE),f(this,Yv),f(this,ME),f(this,OE))),a.dispatch("annotationeditoruimanager",{source:this,uiManager:f(this,Aa)}),H!==gs.NONE&&(P(this,je,BL).call(this,H),f(this,Aa).updateMode(H))):console.error(`Invalid AnnotationEditor mode: ${H}`)}const R=this._scrollMode===Ft.PAGE?null:l,U=this.currentScale,D=C.getViewport({scale:U*hl.PDF_TO_CSS_UNITS});l.style.setProperty("--scale-factor",D.scale),o!=null&&o.background&&l.style.setProperty("--page-bg-color",o.background),((o==null?void 0:o.foreground)==="CanvasText"||(o==null?void 0:o.background)==="Canvas")&&(l.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),l.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let H=1;H<=t;++H){const k=new jX({container:R,eventBus:a,id:H,scale:U,defaultViewport:D.clone(),optionalContentConfigPromise:i,renderingQueue:this.renderingQueue,textLayerMode:T,annotationMode:I,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,maxCanvasDim:this.maxCanvasDim,capCanvasAreaFactor:this.capCanvasAreaFactor,enableDetailCanvas:this.enableDetailCanvas,enableOptimizedPartialRendering:this.enableOptimizedPartialRendering,pageColors:o,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:f(this,UE),enableAutoLinking:f(this,LE),minDurationToUpdateCanvas:f(this,QE),commentManager:f(this,up)});this._pages.push(k)}(L=this._pages[0])==null||L.setPdfPage(C),this._scrollMode===Ft.PAGE?P(this,je,Tw).call(this):this._spreadMode!==gr.NONE&&this._updateSpreadMode(),a._on("annotationeditorlayerrendered",H=>{f(this,Aa)&&a.dispatch("annotationeditormodechanged",{source:this,mode:f(this,Ja)})},{once:!0,signal:u}),P(this,je,t9).call(this,u).then(async()=>{var k,G;if(e!==this.pdfDocument)return;if((k=this.findController)==null||k.setDocument(e),(G=this._scriptingManager)==null||G.setDocument(e),f(this,Qd)&&document.addEventListener("copy",P(this,je,n9).bind(this,T),{signal:u}),e.loadingParams.disableAutoFetch||t>bx.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let H=t-1;if(H<=0){this._pagesCapability.resolve();return}for(let K=2;K<=t;++K){const z=e.getPage(K).then(J=>{const Y=this._pages[K-1];Y.pdfPage||Y.setPdfPage(J),--H===0&&this._pagesCapability.resolve()},J=>{console.error(`Unable to get page ${K} to initialize viewer`,J),--H===0&&this._pagesCapability.resolve()});K%bx.PAUSE_EAGER_PAGE_INIT===0&&await z}}),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:H})=>{e===this.pdfDocument&&H.Language&&(l.lang=H.Language)}),this.defaultRenderingQueue&&this.update()}).catch(C=>{console.error("Unable to initialize viewer",C),this._pagesCapability.reject(C)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let r=0,i=this._pages.length;r<i;r++)this._pages[r].setPageLabel(((t=this._pageLabels)==null?void 0:t[r])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=LU,this._currentScaleValue=null,this._pageLabels=null,_(this,iu,new Xbe(Iz)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=Ft.VERTICAL,this._previousScrollMode=Ft.UNKNOWN,this._spreadMode=gr.NONE,_(this,fp,{previousPageNumber:1,scrollDown:!0,pages:[]}),(e=f(this,Ld))==null||e.abort(),_(this,Ld,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),(t=f(this,Qd))==null||t.remove(),_(this,Qd,null),P(this,je,EL).call(this),P(this,je,H_).call(this)}_scrollUpdate(){this.pagesCount!==0&&(f(this,Ro)&&clearTimeout(f(this,Ro)),_(this,Ro,setTimeout(()=>{_(this,Ro,null),this.update()},100)),this.update())}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:r=!1,ignoreDestinationZoom:i=!1,center:s=null}){if(!this.pdfDocument)return;const a=Number.isInteger(e)&&this._pages[e-1];if(!a){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let o=0,l=0,u=0,d=0,h,g;const v=a.rotation%180!==0,b=(v?a.height:a.width)/a.scale/hl.PDF_TO_CSS_UNITS,C=(v?a.width:a.height)/a.scale/hl.PDF_TO_CSS_UNITS;let B=0;switch(t[1].name){case"XYZ":o=t[2],l=t[3],B=t[4],o=o!==null?o:0,l=l!==null?l:C;break;case"Fit":case"FitB":B="page-fit";break;case"FitH":case"FitBH":l=t[2],B="page-width",l===null&&this._location?(o=this._location.left,l=this._location.top):(typeof l!="number"||l<0)&&(l=C);break;case"FitV":case"FitBV":o=t[2],u=b,d=C,B="page-height";break;case"FitR":o=t[2],l=t[3],u=t[4]-o,d=t[5]-l;let R=ez,U=tz;this.removePageBorders&&(R=U=0),h=(this.container.clientWidth-R)/u/hl.PDF_TO_CSS_UNITS,g=(this.container.clientHeight-U)/d/hl.PDF_TO_CSS_UNITS,B=Math.min(Math.abs(h),Math.abs(g));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(i||(B&&B!==this._currentScale?this.currentScaleValue=B:this._currentScale===LU&&(this.currentScaleValue=ewe)),B==="page-fit"&&!t[4]){P(this,je,O_).call(this,a);return}const S=[a.viewport.convertToViewportPoint(o,l),a.viewport.convertToViewportPoint(o+u,l+d)];let I=Math.min(S[0][0],S[1][0]),T=Math.min(S[0][1],S[1][1]);s?((s==="both"||s==="vertical")&&(T-=(this.container.clientHeight-Math.abs(S[1][1]-S[0][1]))/2),(s==="both"||s==="horizontal")&&(I-=(this.container.clientWidth-Math.abs(S[1][0]-S[0][0]))/2)):r||(I=Math.max(I,0),T=Math.max(T,0)),P(this,je,O_).call(this,a,{left:I,top:T})}_updateLocation(e){const t=this._currentScale,r=this._currentScaleValue,i=parseFloat(r)===t?Math.round(t*1e4)/100:r,s=e.id,a=this._pages[s-1],o=this.container,l=a.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),u=Math.round(l[0]),d=Math.round(l[1]);let h=`#page=${s}`;this.isInPresentationMode||(h+=`&zoom=${i},${u},${d}`),this._location={pageNumber:s,scale:i,top:d,left:u,rotation:this._pagesRotation,pdfOpenParams:h}}update(){const e=this._getVisiblePages(),t=e.views,r=t.length;if(r===0)return;const i=Math.max(Iz,2*r+1);f(this,iu).resize(i,e.ids);for(const{view:l,visibleArea:u}of t)l.updateVisibleArea(u);for(const l of f(this,iu))e.ids.has(l.id)||l.updateVisibleArea(null);this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===gr.NONE&&(this._scrollMode===Ft.PAGE||this._scrollMode===Ft.VERTICAL),a=this._currentPageNumber;let o=!1;for(const l of t){if(l.percent<100)break;if(l.id===a&&s){o=!0;break}}this._setCurrentPageNumber(o?a:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===nm.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===nm.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===Ft.PAGE?f(this,fp).pages:this._pages,t=this._scrollMode===Ft.HORIZONTAL,r=t&&this._isContainerRtl;return awe({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:r})}cleanup(){for(const e of this._pages)e.renderingState!==Qt.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),r=P(this,je,o9).call(this,t),i=this._spreadMode!==gr.NONE&&this._scrollMode!==Ft.HORIZONTAL,s=f(this,au)!==null||f(this,Ro)!==null&&t.views.some(o=>{var l;return(l=o.detailView)==null?void 0:l.renderingCancelled}),a=this.renderingQueue.getHighestPriority(t,this._pages,r,i,s);return a?(P(this,je,a9).call(this,a).then(()=>{this.renderingQueue.renderView(a)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,r=this._pages.length;t<r;++t){const i=this._pages[t];if(i.width!==e.width||i.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const r=t.pdfPage.getViewport({scale:1}),i=iz(r);if(e===void 0)e=i;else if(this.enablePrintAutoRotate&&i!==e)return{width:r.height,height:r.width,rotation:(r.rotation-90)%360};return{width:r.width,height:r.height,rotation:r.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!owe(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>bx.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,r=this.viewer;r.classList.toggle("scrollHorizontal",t===Ft.HORIZONTAL),r.classList.toggle("scrollWrapped",t===Ft.WRAPPED),!(!this.pdfDocument||!e)&&(t===Ft.PAGE?P(this,je,Tw).call(this):this._previousScrollMode===Ft.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&P(this,je,Cc).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!Awe(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,r=this._pages;if(this._scrollMode===Ft.PAGE)P(this,je,Tw).call(this);else if(t.textContent="",this._spreadMode===gr.NONE)for(const i of this._pages)t.append(i.div);else{const i=this._spreadMode-1;let s=null;for(let a=0,o=r.length;a<o;++a)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):a%2===i&&(s=s.cloneNode(!1),t.append(s)),s.append(r[a].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&P(this,je,Cc).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case Ft.WRAPPED:{const{views:r}=this._getVisiblePages(),i=new Map;for(const{id:s,y:a,percent:o,widthPercent:l}of r){if(o===0||l<100)continue;let u=i.get(a);u||i.set(a,u||(u=[])),u.push(s)}for(const s of i.values()){const a=s.indexOf(e);if(a===-1)continue;const o=s.length;if(o===1)break;if(t)for(let l=a-1,u=0;l>=u;l--){const d=s[l],h=s[l+1]-1;if(d<h)return e-h}else for(let l=a+1,u=o;l<u;l++){const d=s[l],h=s[l-1]+1;if(d>h)return h-e}if(t){const l=s[0];if(l<e)return e-l+1}else{const l=s[o-1];if(l>e)return l-e+1}break}break}case Ft.HORIZONTAL:break;case Ft.PAGE:case Ft.VERTICAL:{if(this._spreadMode===gr.NONE)break;const r=this._spreadMode-1;if(t&&e%2!==r)break;if(!t&&e%2===r)break;const{views:i}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:a,percent:o,widthPercent:l}of i)if(a===s){if(o>0&&l===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const r=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+r,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:r=null,origin:i}){if(r===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(r){const a=r>0?ZG:1/ZG,o=r>0?Math.ceil:Math.floor;r=Math.abs(r);do s=o((s*a).toFixed(2)*10)/10;while(--r>0)}s=tk(s,twe,nwe),P(this,je,Cc).call(this,s,{noScroll:!1,drawingDelay:e,origin:i})}increaseScale(e={}){this.updateScale({...e,steps:e.steps??1})}decreaseScale(e={}){this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return f(this,FE)||_(this,FE,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return f(this,Aa)?f(this,Ja):gs.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:r=!1,mustEnterInEditMode:i=!1,editComment:s=!1}){if(!f(this,Aa))throw new Error("The AnnotationEditor is not enabled.");if(f(this,Ja)===e)return;if(!Fz(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;P(this,je,BL).call(this,e);const{eventBus:a,pdfDocument:o}=this,l=async()=>{P(this,je,H_).call(this),_(this,Ja,e),await f(this,Aa).updateMode(e,t,r,i,s),!(e!==f(this,Ja)||o!==this.pdfDocument)&&a.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===gs.NONE||f(this,Ja)===gs.NONE){const u=e!==gs.NONE;u||this.pdfDocument.annotationStorage.resetModifiedIds(),this.cleanup();for(const h of this._pages)h.toggleEditingMode(u);const d=P(this,je,s9).call(this);if(u&&d){P(this,je,H_).call(this),_(this,cp,new AbortController);const h=AbortSignal.any([f(this,Ld).signal,f(this,cp).signal]);a._on("pagerendered",({pageNumber:g})=>{d.delete(g),d.size===0&&_(this,dp,setTimeout(l,0))},{signal:h});return}}l()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const r of this._pages)r.update(t);P(this,je,EL).call(this),e||this.update()}}}iu=new WeakMap,TE=new WeakMap,IE=new WeakMap,Ja=new WeakMap,Aa=new WeakMap,lp=new WeakMap,up=new WeakMap,FE=new WeakMap,ME=new WeakMap,UE=new WeakMap,PE=new WeakMap,RE=new WeakMap,DE=new WeakMap,NE=new WeakMap,LE=new WeakMap,Ld=new WeakMap,QE=new WeakMap,Yv=new WeakMap,su=new WeakMap,Ro=new WeakMap,cp=new WeakMap,dp=new WeakMap,Xv=new WeakMap,Qd=new WeakMap,Jv=new WeakMap,kE=new WeakMap,Zv=new WeakMap,fp=new WeakMap,au=new WeakMap,ey=new WeakMap,OE=new WeakMap,ty=new WeakMap,HE=new WeakMap,je=new WeakSet,e9=function(e){const t={annotationEditorMode:f(this,Ja),annotationMode:f(this,lp),textLayerMode:f(this,ty)};return e?(_(this,su,e.includes(Eg.PRINT_HIGH_QUALITY)||e.includes(Eg.PRINT)),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,su)}),!e.includes(Eg.COPY)&&f(this,ty)===IA.ENABLE&&(t.textLayerMode=IA.ENABLE_PERMISSIONS),e.includes(Eg.MODIFY_CONTENTS)||(t.annotationEditorMode=gs.DISABLE),!e.includes(Eg.MODIFY_ANNOTATIONS)&&!e.includes(Eg.FILL_INTERACTIVE_FORMS)&&f(this,lp)===MA.ENABLE_FORMS&&(t.annotationMode=MA.ENABLE),t):(_(this,su,!0),this.eventBus.dispatch("printingallowed",{source:this,isAllowed:f(this,su)}),t)},t9=async function(e){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;const t=Promise.withResolvers(),r=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:AbortSignal.any([e,r.signal])}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),r.abort()},n9=function(e,t){const r=document.getSelection(),{focusNode:i,anchorNode:s}=r;if(s&&i&&r.containsNode(f(this,Qd))){if(f(this,Xv)||e===IA.ENABLE_PERMISSIONS){VN(t);return}_(this,Xv,!0);const{classList:a}=this.viewer;a.add("copyAll");const o=new AbortController;window.addEventListener("keydown",l=>_(this,Jv,l.key==="Escape"),{signal:o.signal}),this.getAllText().then(async l=>{l!==null&&await navigator.clipboard.writeText(l)}).catch(l=>{console.warn(`Something goes wrong when extracting the text: ${l.message}`)}).finally(()=>{_(this,Xv,!1),_(this,Jv,!1),o.abort(),a.remove("copyAll")}),VN(t)}},Tw=function(){if(this._scrollMode!==Ft.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=f(this,fp),r=this.viewer;if(r.textContent="",t.pages.length=0,this._spreadMode===gr.NONE&&!this.isInPresentationMode){const i=this._pages[e-1];r.append(i.div),t.pages.push(i)}else{const i=new Set,s=this._spreadMode-1;s===-1?i.add(e-1):e%2!==s?(i.add(e-1),i.add(e)):(i.add(e-2),i.add(e-1));const a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){const o=document.createElement("div");o.className="dummyPage",a.append(o)}for(const o of i){const l=this._pages[o];l&&(a.append(l.div),t.pages.push(l))}r.append(a)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},O_=function(e,t=null){const{div:r,id:i}=e;if(this._currentPageNumber!==i&&this._setCurrentPageNumber(i),this._scrollMode===Ft.PAGE&&(P(this,je,Tw).call(this),this.update()),!t&&!this.isInPresentationMode){const s=r.offsetLeft+r.clientLeft,a=s+r.clientWidth,{scrollLeft:o,clientWidth:l}=this.container;(this._scrollMode===Ft.HORIZONTAL||s<o||a>o+l)&&(t={left:0,top:0})}fX(r,t),!this._currentScaleValue&&this._location&&(this._location=null)},r9=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},wL=function(e,t,{noScroll:r=!1,preset:i=!1,drawingDelay:s=-1,origin:a=null}){if(this._currentScaleValue=t.toString(),P(this,je,r9).call(this,e)){i&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*hl.PDF_TO_CSS_UNITS);const o=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:o?s:-1}),o&&_(this,au,setTimeout(()=>{_(this,au,null),this.refresh()},s));const l=this._currentScale;if(this._currentScale=e,!r){let u=this._currentPageNumber,d;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(u=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:d,allowNegativeOffset:!0}),Array.isArray(a)){const h=e/l-1,[g,v]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-v)*h,this.container.scrollTop+=(a[1]-g)*h}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:i?t:void 0}),this.defaultRenderingQueue&&this.update()},i9=function(){return this._spreadMode!==gr.NONE&&this._scrollMode!==Ft.HORIZONTAL?2:1},Cc=function(e,t){let r=parseFloat(e);if(r>0)t.preset=!1,P(this,je,wL).call(this,r,e,t);else{const i=this._pages[this._currentPageNumber-1];if(!i)return;let s=ez,a=tz;this.isInPresentationMode?(s=a=4,this._spreadMode!==gr.NONE&&(s*=2)):this.removePageBorders?s=a=0:this._scrollMode===Ft.HORIZONTAL&&([s,a]=[a,s]);const o=(this.container.clientWidth-s)/i.width*i.scale/f(this,je,i9),l=(this.container.clientHeight-a)/i.height*i.scale;switch(e){case"page-actual":r=1;break;case"page-width":r=o;break;case"page-height":r=l;break;case"page-fit":r=Math.min(o,l);break;case"auto":const u=iz(i)?o:Math.min(l,o);r=Math.min(rwe,u);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,P(this,je,wL).call(this,r,e,t)}},bL=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&P(this,je,Cc).call(this,this._currentScaleValue,{noScroll:!0}),P(this,je,O_).call(this,e)},s9=function(){const e=this._getVisiblePages(),t=[],{ids:r,views:i}=e;for(const s of i){const{view:a}=s;if(!a.hasEditableAnnotations()){r.delete(a.id);continue}t.push(s)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:r}),r)},a9=async function(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}},o9=function(e){var t,r;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((r=e.last)==null?void 0:r.id)===this.pagesCount)return!1;switch(this._scrollMode){case Ft.PAGE:return f(this,fp).scrollDown;case Ft.HORIZONTAL:return this.scroll.right}return this.scroll.down},CL=function(e=this.container.clientHeight){e!==f(this,kE)&&(_(this,kE,e),lwe.setProperty("--viewer-container-height",`${e}px`))},A9=function(e){for(const t of e)if(t.target===this.container){P(this,je,CL).call(this,Math.floor(t.borderBoxSize[0].blockSize)),_(this,FE,null);break}},EL=function(){f(this,au)!==null&&(clearTimeout(f(this,au)),_(this,au,null)),f(this,Ro)!==null&&(clearTimeout(f(this,Ro)),_(this,Ro,null))},H_=function(){var e;(e=f(this,cp))==null||e.abort(),_(this,cp,null),f(this,dp)!==null&&(clearTimeout(f(this,dp)),_(this,dp,null))},BL=function(e){var t,r;switch(e){case gs.STAMP:(t=f(this,Yv))==null||t.loadModel("altText");break;case gs.SIGNATURE:(r=f(this,ey))==null||r.loadSignatures();break}};class Jbe extends ak{_resetView(){super._resetView(),this._scrollMode=Ft.PAGE,this._spreadMode=gr.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}globalThis.pdfjsViewer={AnnotationLayerBuilder:EX,DownloadManager:Rwe,EventBus:sk,FindState:bc,GenericL10n:sy,LinkTarget:Tf,parseQueryString:nI,PDFFindController:Uwe,PDFHistory:Pbe,PDFLinkService:rk,PDFPageView:jX,PDFScriptingManager:jbe,PDFSinglePageViewer:Jbe,PDFViewer:ak,ProgressBar:uwe,RenderingStates:Qt,ScrollMode:Ft,SimpleLinkService:ik,SpreadMode:gr,StructTreeLayerBuilder:VX,TextLayerBuilder:bT,XfaLayerBuilder:$X};const Zbe=(n,e)=>{const t=n.getBoundingClientRect(),r=window.devicePixelRatio||1,i=e(),s=t.width/i,a=t.height/i;return{rect:t,dpr:r,visualScale:i,width:s,height:a}},Mz=(n,e,t,r)=>{const i=n.getBoundingClientRect(),s=e.getBoundingClientRect(),a=s.left-i.left+n.scrollLeft,o=s.top-i.top+n.scrollTop,l=t>0?s.width/t:1,u=r>0?s.height/r:1;return{pageOffsetLeft:a,pageOffsetTop:o,scaleX:l,scaleY:u}},eCe=(n,e,t)=>{const r=e.getBoundingClientRect(),i=t(),s=(n.clientX-r.left)/i,a=(n.clientY-r.top)/i;return{x:s,y:a}},tCe=1,nCe=(n,e,t,r,i)=>{if(!(e.length<2)){n.beginPath(),n.lineWidth=r,n.strokeStyle=t,n.lineCap="round",n.lineJoin="round",n.globalAlpha=i,n.moveTo(e[0].x,e[0].y);for(let s=1;s<e.length-1;s++){const a={x:(e[s].x+e[s+1].x)/2,y:(e[s].y+e[s+1].y)/2};n.quadraticCurveTo(e[s].x,e[s].y,a.x,a.y)}n.lineTo(e[e.length-1].x,e[e.length-1].y),n.stroke(),n.globalAlpha=1}};ou.workerSrc=`https://unpkg.com/pdfjs-dist@${Wj}/build/pdf.worker.mjs`;const rCe=({file:n,onPageChange:e,onPagesCount:t,registerGoToPage:r,forceSinglePage:i=!1})=>{const s=F.useRef(null),a=F.useRef(null),o=F.useRef(null),l=F.useRef(new Map),u=F.useRef(null),{addHighlight:d,highlights:h,activeHighlightId:g,triggerSmartExplain:v,setPdfTextPages:b,pdfSearchHighlight:C,drawingMode:B,penColor:S,penWidth:I,penOpacity:T,chapterStrokes:R,addStroke:U,removeStroke:D,showAnnotations:L}=ef(),H=typeof navigator<"u"&&navigator.userAgent||"",k=/iP(hone|od|ad)/.test(H)&&/Safari/i.test(H)&&!/Chrome/i.test(H)&&!/CriOS/i.test(H),G=F.useMemo(()=>typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0),[]),K=F.useMemo(()=>typeof window>"u"?!1:/Mobi|Android|iP(hone|od|ad)/i.test(H)||window.innerWidth<=1300,[H]),z=void 0,J=F.useRef(null),{loading:Y,setLoading:ge,loadProgress:V,setLoadProgress:j,errorMsg:re,setErrorMsg:he,copyStatus:Ee,setCopyStatus:q,selection:X,setSelection:oe,layoutTick:Ce,setLayoutTick:se}=ACe(),ce=F.useRef(null),ue=F.useRef(null),[Se,te]=F.useState([]),Ie=F.useRef(null),Fe=F.useRef(B),me=F.useRef(S),gt=F.useRef(I),$e=F.useRef(T),Gt=F.useRef(R),It=F.useRef(L),Yn=F.useRef([]),nt=F.useRef(!1);F.useEffect(()=>{Fe.current=B,me.current=S,gt.current=I,$e.current=T,Gt.current=R,It.current=L},[B,S,I,T,R,L]),F.useEffect(()=>{te(ve=>ve.filter(Te=>h.some(et=>et.id===Te.id)))},[h]),F.useEffect(()=>!a.current||!s.current?void 0:cCe({viewerRoot:a.current,pdfSearchHighlight:C,getVisualScale:Fn,onScrollToFirstHit:Te=>{const et=Te.querySelector(".pdf_search_hit");if(!et||!s.current)return;const Ht=s.current,gn=Ht.getBoundingClientRect(),nn=et.getBoundingClientRect(),zn=Fn(),rn=(nn.top-gn.top)/zn+Ht.scrollTop-40,Mt=(nn.left-gn.left)/zn+Ht.scrollLeft-20;Ht.scrollTo({top:Math.max(0,rn),left:Math.max(0,Mt),behavior:"smooth"})}}),[C]),F.useEffect(()=>{var As;if(!g||!s.current)return;const ve=Se.find(ho=>ho.id===g);if(!ve||ve.rects.length===0)return;const Te=ve.rects[0],et=s.current,Ht=(As=a.current)==null?void 0:As.querySelector(`.page[data-page-number="${Te.pageNumber}"]`);if(!et||!Ht)return;const{pageOffsetLeft:gn,pageOffsetTop:nn,scaleX:zn,scaleY:rn}=Mz(et,Ht,Te.pageWidth,Te.pageHeight),Mt=Math.max(0,nn+Te.top*rn-40),li=Math.max(0,gn+Te.left*zn-20);et.scrollTo({top:Mt,left:li,behavior:"smooth"})},[g,Se]),F.useEffect(()=>()=>{ce.current&&clearTimeout(ce.current)},[]);const Fn=()=>{if(!o.current)return 1;const ve=getComputedStyle(o.current).getPropertyValue("--visual-scale"),Te=parseFloat(ve);return Number.isFinite(Te)?Te:1},Fi=ve=>{const et=ve.target.closest(".page");if(!et)return null;const Ht=Number(et.dataset.pageNumber);return Ht?{pageEl:et,pageNumber:Ht}:null},tn=ve=>a.current?a.current.querySelector(`.page[data-page-number="${ve}"]`):null,ba=ve=>Zbe(ve,Fn),Ai=F.useMemo(()=>dCe({viewerRef:a,viewerContainerRef:s,pageCanvasMapRef:l,currentPageRef:u,rafRefreshId:Ie,drawingModeRef:Fe,penColorRef:me,penWidthRef:gt,penOpacityRef:$e,chapterStrokesRef:Gt,showAnnotationsRef:It,livePointsRef:Yn,isDrawingRef:nt,getVisualScale:Fn,getPagePoint:eCe,getPageElementFromEvent:Fi,getPageElementByNumber:tn,getCanvasMetrics:ba,drawStrokePath:nCe,addStroke:U,removeStroke:D}),[a,s,l,u,Ie,Fe,me,gt,$e,Gt,It,Yn,nt]),Gn=()=>{Ie.current===null&&(Ie.current=requestAnimationFrame(()=>{Ie.current=null,Ai.syncPageCanvases(),Ai.syncCanvasPointers(),Ai.renderStaticCanvases(),Ai.renderLiveCanvas()}))};aCe({file:n,viewerContainerRef:s,viewerRef:a,pdfViewerRef:J,pageCanvasMapRef:l,currentPageRef:u,rafRefreshId:Ie,MAX_CANVAS_PIXELS:z,isMobileLike:K,isMobileSafari:k,onPageChange:e,onPagesCount:t,registerGoToPage:r,setPdfTextPages:b,setLoading:ge,setLoadProgress:j,setErrorMsg:he,scheduleRenderRefresh:Gn,disposePageEntry:Ai.disposePageEntry,preferSpreadView:!K&&!i}),oCe({penRuntime:Ai,viewerRef:a,viewerContainerRef:s,pageCanvasMapRef:l,drawingMode:B,showAnnotations:L,chapterStrokes:R,penColor:S,penWidth:I,penOpacity:T,scheduleRenderRefresh:Gn,setLayoutTick:se}),F.useEffect(()=>{if(Y)return;const ve=J.current,Te=s.current,et=a.current;if(!ve||!Te||!et)return;const Ht=requestAnimationFrame(()=>{if(!K){ve.currentScale<1&&(ve.currentScale=1);return}const gn=et.querySelector(".page");if(!gn)return;const{paddingLeft:nn,paddingRight:zn}=getComputedStyle(et),rn=Math.max(0,Te.clientWidth-(parseFloat(nn)||0)-(parseFloat(zn)||0));if(!rn)return;const Mt=ve.currentScale||1,li=gn.getBoundingClientRect().width;if(!li)return;const As=Math.min(1,Mt*rn/li);Math.abs(As-Mt)>=.01&&(ve.currentScale=As)});return()=>cancelAnimationFrame(Ht)},[Y,Ce,K]),F.useEffect(()=>{const ve=J.current;if(!ve)return;const et=i?gr.NONE:!K?gr.ODD:gr.NONE;ve.spreadMode!==et&&(ve.spreadMode=et,Gn())},[i,K]);const xe=ve=>{var Ht;if(!ve)return null;const Te=ve instanceof Element?ve:ve.parentElement,et=(Ht=Te==null?void 0:Te.closest)==null?void 0:Ht.call(Te,".page");return et instanceof HTMLElement?et:null},ee=ve=>xe(ve.startContainer)||xe(ve.endContainer),Be=()=>{if(ue.current)return ue.current;const ve=window.getSelection();if(!ve||ve.isCollapsed||ve.rangeCount===0||!ve.toString().trim())return null;const Te=ve.getRangeAt(0),et=ee(Te);if(!et)return null;const Ht=Number(et.dataset.pageNumber)||null;if(!Ht)return null;const gn=Fn(),nn=KU(Te,et,gn),zn={range:Te.cloneRange(),pageEl:et,pageNumber:Ht,rects:nn,text:ve.toString().trim(),visualScale:gn};return ue.current=zn,zn},Me=()=>{var ve,Te;return(((ve=ue.current)==null?void 0:ve.text)||X.text||((Te=window.getSelection())==null?void 0:Te.toString())||"").trim()},mt=async()=>{ce.current&&clearTimeout(ce.current);const ve=Me();if(!ve.trim()){q("fail"),ce.current=window.setTimeout(()=>q(""),1e3);return}try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(ve);else{const Te=document.createElement("textarea");Te.value=ve,Te.setAttribute("readonly","true"),Te.style.position="fixed",Te.style.left="-9999px",Te.style.opacity="0",document.body.appendChild(Te),Te.select();const et=document.execCommand("copy");if(document.body.removeChild(Te),!et)throw new Error("execCommand copy returned false")}q("ok")}catch(Te){console.error("copy failed",Te),q("fail")}finally{ce.current=window.setTimeout(()=>q(""),1e3)}},Ke=()=>{if(B!=="idle"){oe(zi=>({...zi,show:!1}));return}const ve=window.getSelection();if(!ve||ve.isCollapsed||!ve.toString().trim()||!s.current||ve.rangeCount===0){oe(zi=>({...zi,show:!1}));return}if(!(s.current.contains(ve.anchorNode)&&s.current.contains(ve.focusNode))){oe(zi=>({...zi,show:!1}));return}const et=ve.getRangeAt(0),Ht=et.getBoundingClientRect(),gn=Array.from(et.getClientRects()),nn=Ht.width>0&&Ht.height>0&&Ht||gn.find(zi=>zi.width>0&&zi.height>0);if(!nn||nn.width===0){oe(zi=>({...zi,show:!1}));return}const zn=210,rn=10,Mt=G?nn.bottom+rn:nn.top-56,li=nn.left+nn.width/2-zn/2,As=Mt<rn?nn.bottom+rn:Mt,ho=Math.min(Math.max(li,rn),window.innerWidth-zn-rn),Ps=ee(et),Rs=Ps&&Number(Ps.dataset.pageNumber)||null,Dp=Fn(),Np=Ps&&Rs?KU(et,Ps,Dp):[];ue.current={range:et.cloneRange(),pageEl:Ps,pageNumber:Rs,text:ve.toString().trim(),visualScale:Dp,rects:Np},oe({text:ve.toString().trim(),top:As,left:ho,show:!0})},$t=()=>{[0,40,120].forEach(Te=>setTimeout(Ke,Te))},Rt=()=>{B==="idle"&&$t()};F.useEffect(()=>{const ve=()=>$t(),Te=()=>$t();return document.addEventListener("selectionchange",ve),document.addEventListener("touchend",Te),()=>{document.removeEventListener("selectionchange",ve),document.removeEventListener("touchend",Te)}},[]);const jt=()=>{var rn;const ve=Be(),Te=(ve==null?void 0:ve.text)||X.text,et=(ve==null?void 0:ve.pageNumber)??null,Ht=(ve==null?void 0:ve.visualScale)??Fn();let gn=ve!=null&&ve.rects&&ve.rects.length>0?ve.rects:ve!=null&&ve.range&&ve.pageEl&&ve.pageNumber!==null&&ve.pageNumber!==void 0?KU(ve.range,ve.pageEl,Ht):[];if(!Te||!et||gn.length===0){oe(Mt=>({...Mt,show:!1}));return}const nn=d(Te,void 0,"reference-doc",et),zn=lCe(gn);te(Mt=>[...Mt,{id:nn,rects:zn}]),oe(Mt=>({...Mt,show:!1})),ue.current=null,(rn=window.getSelection())==null||rn.removeAllRanges()},Bt=()=>{var ve;(ve=window.getSelection())==null||ve.removeAllRanges(),oe(Te=>({...Te,show:!1}))},zr=()=>{var Te;fpe(X.text,v,()=>oe(et=>({...et,show:!1})))&&((Te=window.getSelection())==null||Te.removeAllRanges())};return Q.jsxs("div",{className:"pdf_viewer",children:[Q.jsx(V0e,{loading:Y,errorMsg:re,progress:V}),Q.jsx("div",{className:"pdf_viewer_scale_wrapper",ref:o,style:{"--visual-scale":tCe},children:Q.jsxs("div",{ref:s,className:"pdf_viewer_container",onPointerUp:Rt,onContextMenu:ve=>ve.preventDefault(),children:[Q.jsx("div",{ref:a,className:"pdfViewer pdf_viewer_content"}),Q.jsx("div",{className:"pdf_highlight_layer","data-layout-tick":Ce,children:Se.flatMap(ve=>ve.rects.map((Te,et)=>{var Rs;const Ht=s.current,gn=(Rs=a.current)==null?void 0:Rs.querySelector(`.page[data-page-number="${Te.pageNumber}"]`);if(!Ht||!gn)return null;const{pageOffsetLeft:nn,pageOffsetTop:zn,scaleX:rn,scaleY:Mt}=Mz(Ht,gn,Te.pageWidth,Te.pageHeight),li=nn+Te.left*rn,As=zn+Te.top*Mt,ho=Te.width*rn,Ps=Te.height*Mt;return Q.jsx("div",{className:"pdf_highlight","data-highlight-id":ve.id,style:{left:li,top:As,width:ho,height:Ps}},`${ve.id}-${et}`)}))})]})}),Q.jsx(H0e,{visible:X.show,top:X.top,left:X.left,copyStatus:Ee,onHighlight:jt,onCopy:mt,onAskAi:zr,onCancel:Bt})]})},iCe=async(n,{isMobileSafari:e,setPdfTextPages:t,isCancelled:r})=>{if(e)return;const i=[];try{for(let s=1;s<=n.numPages;s++){const l=(await(await n.getPage(s)).getTextContent()).items.map(u=>"str"in u?u.str:"").join(" ");i.push({page:s,text:l})}r()||t(i)}catch(s){console.error("PDF text extraction failed",s)}},sCe=n=>{const{file:e,viewerContainer:t,viewer:r,pdfViewerRef:i,pageCanvasMapRef:s,currentPageRef:a,rafRefreshId:o,MAX_CANVAS_PIXELS:l,isMobileLike:u,isMobileSafari:d,onPageChange:h,onPagesCount:g,registerGoToPage:v,setPdfTextPages:b,setLoading:C,setLoadProgress:B,setErrorMsg:S,scheduleRenderRefresh:I,disposePageEntry:T,preferSpreadView:R}=n,U=new sk,D=new rk({eventBus:U}),L={container:t,viewer:r,eventBus:U,linkService:D,textLayerMode:2,annotationMode:2,removePageBorders:!0,enableScripting:!1,disableAutoFetch:!1,useOnlyCssZoom:!1};l!==void 0&&(L.maxCanvasPixels=l);const H=new ak(L);i.current=H;const k=R??!u,G=1,K=()=>{I()};U.on("pagesinit",()=>{H.currentScale=G,H.spreadMode=k?gr.ODD:gr.NONE,I()}),U.on("pagechanging",Y=>{Y!=null&&Y.pageNumber&&(h==null||h(Y.pageNumber))}),U.on("pagesloaded",Y=>{Y!=null&&Y.pagesCount&&(g==null||g(Y.pagesCount)),K()}),U.on("pagerendered",K),U.on("pagedestroy",Y=>{Y!=null&&Y.pageNumber&&T(Y.pageNumber)}),v==null||v(Y=>{if(!i.current||!i.current.pdfDocument||!i.current.pagesCount)return;const ge=i.current.pdfDocument.numPages,V=Math.min(Math.max(Y,1),ge);i.current.currentPageNumber=V,i.current.scrollPageIntoView({pageNumber:V})}),D.setViewer(H);let z=!1,J=VQ(e);return J.onProgress=({loaded:Y=0,total:ge=0})=>{if(z)return;if(!ge){B(j=>Math.min(95,Math.max(1,j+1)));return}const V=Math.min(99,Math.max(1,Math.round(Y/ge*100)));B(V)},J.promise.then(Y=>{z||(B(100),S(null),H.setDocument(Y),D.setDocument(Y,null),g==null||g(Y.numPages),C(!1),iCe(Y,{isMobileSafari:d,setPdfTextPages:b,isCancelled:()=>z}))}).catch(Y=>{if(!z){if((Y==null?void 0:Y.message)==="Worker was destroyed"){console.debug("[PdfViewer] worker destroyed (cleanup)");return}console.error("[PdfViewer] load error:",Y),S((Y==null?void 0:Y.message)||"PDF  "),B(0),C(!1)}}),()=>{var Y;z=!0,J.destroy(),i.current=null,(Y=U.off)==null||Y.call(U,"pagerendered",K),s.current.forEach(({layer:ge})=>ge.remove()),s.current.clear(),a.current=null,o.current!==null&&(cancelAnimationFrame(o.current),o.current=null)}},aCe=({file:n,viewerContainerRef:e,viewerRef:t,pdfViewerRef:r,pageCanvasMapRef:i,currentPageRef:s,rafRefreshId:a,MAX_CANVAS_PIXELS:o,isMobileLike:l,isMobileSafari:u,onPageChange:d,onPagesCount:h,registerGoToPage:g,setPdfTextPages:v,setLoading:b,setLoadProgress:C,setErrorMsg:B,scheduleRenderRefresh:S,disposePageEntry:I,preferSpreadView:T})=>{F.useEffect(()=>!e.current||!t.current?void 0:(v([]),h==null||h(0),d==null||d(1),b(!0),C(1),B(null),sCe({file:n,viewerContainer:e.current,viewer:t.current,pdfViewerRef:r,pageCanvasMapRef:i,currentPageRef:s,rafRefreshId:a,MAX_CANVAS_PIXELS:o,isMobileLike:l,isMobileSafari:u,onPageChange:d,onPagesCount:h,registerGoToPage:g,setPdfTextPages:v,setLoading:b,setLoadProgress:C,setErrorMsg:B,scheduleRenderRefresh:S,disposePageEntry:I,preferSpreadView:T})),[n,d,h,g,v,u,l])},oCe=({penRuntime:n,viewerRef:e,viewerContainerRef:t,pageCanvasMapRef:r,drawingMode:i,showAnnotations:s,chapterStrokes:a,penColor:o,penWidth:l,penOpacity:u,scheduleRenderRefresh:d,setLayoutTick:h})=>{F.useEffect(()=>{n.refreshCanvases()},[n,i,s]),F.useEffect(()=>{n.renderStaticCanvases()},[n,a]),F.useEffect(()=>{n.renderLiveCanvas()},[n,i,o,l,u]),F.useEffect(()=>{const g=new ResizeObserver(()=>{d(),h(b=>b+1)});e.current&&g.observe(e.current),t.current&&g.observe(t.current);const v=()=>h(b=>b+1);return window.addEventListener("resize",v),()=>{g.disconnect(),window.removeEventListener("resize",v)}},[e,t,d,h]),F.useEffect(()=>{const g=t.current;if(!g)return;const v=()=>d();return g.addEventListener("scroll",v,{passive:!0}),()=>g.removeEventListener("scroll",v)},[t,d]),F.useEffect(()=>()=>{r.current.forEach(g=>{var v;(v=g.layer)==null||v.remove()}),r.current.clear()},[r])},ACe=()=>{const[n,e]=F.useState(!0),[t,r]=F.useState(0),[i,s]=F.useState(null),[a,o]=F.useState(""),[l,u]=F.useState({text:"",top:0,left:0,show:!1}),[d,h]=F.useState(0);return{loading:n,setLoading:e,loadProgress:t,setLoadProgress:r,errorMsg:i,setErrorMsg:s,copyStatus:a,setCopyStatus:o,selection:l,setSelection:u,layoutTick:d,setLayoutTick:h}},lCe=n=>{const e=new Map;n.forEach(i=>{const s=e.get(i.pageNumber)??[];s.push({...i}),e.set(i.pageNumber,s)});const t=1.5,r=[];return e.forEach(i=>{const s=i;let a=!0;for(;a;){a=!1;for(let o=0;o<s.length;o++){for(let l=o+1;l<s.length;l++){const u=s[o],d=s[l],h=u.left<=d.left+d.width+t&&u.left+u.width>=d.left-t,g=u.top<=d.top+d.height+t&&u.top+u.height>=d.top-t;if(h&&g){const v=Math.min(u.left,d.left),b=Math.min(u.top,d.top),C=Math.max(u.left+u.width,d.left+d.width),B=Math.max(u.top+u.height,d.top+d.height);s[o]={...u,left:v,top:b,width:C-v,height:B-b},s.splice(l,1),a=!0;break}}if(a)break}}r.push(...s)}),r},KU=(n,e,t)=>{const s=e.getBoundingClientRect();return Array.from(n.getClientRects()).map(a=>({left:(a.left-s.left)/t,top:(a.top-s.top)/t-.5/Math.max(t,1e-4),width:a.width/t,height:Math.max(a.height/t-1,1),pageNumber:Number(e.dataset.pageNumber),pageWidth:s.width/t,pageHeight:s.height/t}))},uCe=n=>{const e=Array.from(n.querySelectorAll("span"));return e.length===0?!1:e.some(t=>{const r=t;return r.style.left!==""||r.style.top!==""||r.style.transform!==""})},Uz=n=>{n==null||n.querySelectorAll('.textLayer span[role="presentation"]').forEach(e=>{const t=e;t.dataset.origText!==void 0&&(t.textContent=t.dataset.origText,delete t.dataset.origText)})},cCe=({viewerRoot:n,pdfSearchHighlight:e,getVisualScale:t,onScrollToFirstHit:r})=>{if(!n)return()=>{};if(Uz(n),!e)return()=>{};let i=!1,s=null,a=0;const o=10,l=()=>{const d=n.querySelector(`.page[data-page-number="${e.page}"]`),h=d==null?void 0:d.querySelector(".textLayer");if(!h||!uCe(h))return!1;const g=e.term.trim();if(!g)return!1;const v=new RegExp(g.replace(/[.*+?^${}()|[\\]\\]/g,"\\$&"),"gi");return h.querySelectorAll('span[role="presentation"]').forEach(b=>{const C=b,B=C.textContent||"",S=B.replace(v,I=>`<span class="pdf_search_hit">${I}</span>`);S!==B&&(C.dataset.origText===void 0&&(C.dataset.origText=B),C.innerHTML=S)}),d&&requestAnimationFrame(()=>r(d)),!0},u=()=>{i||l()||a<o&&(a+=1,s=window.setTimeout(u,150))};return u(),()=>{i=!0,s!==null&&clearTimeout(s),Uz(n)}},dCe=n=>{const{viewerRef:e,viewerContainerRef:t,pageCanvasMapRef:r,currentPageRef:i,rafRefreshId:s,drawingModeRef:a,penColorRef:o,penWidthRef:l,penOpacityRef:u,chapterStrokesRef:d,showAnnotationsRef:h,livePointsRef:g,isDrawingRef:v,getVisualScale:b,getPagePoint:C,getPageElementFromEvent:B,getPageElementByNumber:S,getCanvasMetrics:I,drawStrokePath:T,addStroke:R,removeStroke:U}=n;let D=null;const L=se=>a.current==="pen"&&se.pointerType==="touch",H=(se,ce)=>{const ue=document.createElement("canvas");return ue.className=se,ce&&ue.setAttribute("aria-hidden",ce),ue},k=(se,ce,ue)=>{const{width:Se,height:te,dpr:Ie}=I(se);!Se||!te||[ce,ue].forEach(Fe=>{Fe.width=Se*Ie,Fe.height=te*Ie,Fe.style.width="100%",Fe.style.height="100%";const me=Fe.getContext("2d");me&&(me.setTransform(1,0,0,1,0,0),me.scale(Ie,Ie))})},G=se=>{if(L(se)){se.preventDefault();return}if(a.current==="idle")return;D=se.pointerId;const ce=B(se);if(!ce)return;const{pageEl:ue,pageNumber:Se}=ce;se.target.setPointerCapture(se.pointerId);const te=C(se,ue,b);te&&(i.current=Se,v.current=!0,g.current=[te],oe())},K=se=>{var te;if(L(se)){se.preventDefault();return}if(D!==null&&se.pointerId!==D||a.current==="idle"||se.buttons===0&&!v.current)return;const ce=i.current||((te=B(se))==null?void 0:te.pageNumber)||null;if(!ce)return;const ue=S(ce);if(!ue)return;se.preventDefault();const Se=C(se,ue,b);Se&&(a.current==="pen"?(v.current=!0,i.current=ce,g.current.length===0?g.current=[Se]:g.current.push(Se),oe()):a.current==="eraser"&&q(ce).forEach(Fe=>{Fe.points.some(gt=>Math.hypot(gt.x-Se.x,gt.y-Se.y)<16)&&U("pdf-main",Fe.id)}))},z=se=>{var Se;if(L(se)){se.preventDefault();return}if(D!==null&&se.pointerId!==D||!v.current&&a.current!=="eraser")return;const ce=se.target;(Se=ce.hasPointerCapture)!=null&&Se.call(ce,se.pointerId)&&ce.releasePointerCapture(se.pointerId);const ue=i.current;if(a.current==="pen"&&ue&&g.current.length>1){const te={id:Date.now().toString(),points:g.current,color:o.current,width:l.current,opacity:u.current,pageNumber:ue};R("pdf-main",te)}v.current=!1,g.current=[],i.current=null,D=null,oe()},J=se=>{se.dataset.penBound||(se.addEventListener("pointerdown",G),se.addEventListener("pointermove",K),se.addEventListener("pointerup",z),se.addEventListener("pointerleave",z),se.addEventListener("pointercancel",z),se.dataset.penBound="1")},Y=se=>{se.dataset.penBound&&(se.removeEventListener("pointerdown",G),se.removeEventListener("pointermove",K),se.removeEventListener("pointerup",z),se.removeEventListener("pointerleave",z),se.removeEventListener("pointercancel",z),delete se.dataset.penBound)},ge=se=>{let ce=se.querySelector(".pdf_pen_page_layer"),ue=null,Se=null;return ce?(ue=ce.querySelector(".pdf_pen_page_canvas:not(.pdf_pen_page_canvas_live)"),Se=ce.querySelector(".pdf_pen_page_canvas_live"),Se&&J(Se)):(ce=document.createElement("div"),ce.className="pdf_pen_page_layer",ue=H("pdf_pen_page_canvas","true"),Se=H("pdf_pen_page_canvas pdf_pen_page_canvas_live"),J(Se),ce.appendChild(ue),ce.appendChild(Se),se.appendChild(ce)),!ce||!ue||!Se?null:{layer:ce,staticCanvas:ue,liveCanvas:Se}},V=se=>{var ue;const ce=r.current.get(se);ce&&(Y(ce.liveCanvas),(ue=ce.layer)==null||ue.remove(),r.current.delete(se))},j=(se,ce,ue)=>{const Se=se.getBoundingClientRect();return Se.bottom>=ce.top-ue&&Se.top<=ce.bottom+ue},re=()=>{if(!e.current||!t.current)return;const se=t.current.getBoundingClientRect(),ce=800,ue=Array.from(e.current.querySelectorAll(".page")).filter(te=>j(te,se,ce)),Se=new Set;ue.forEach(te=>{const Ie=Number(te.dataset.pageNumber);if(!Ie)return;Se.add(Ie);const Fe=ge(te);Fe&&(r.current.set(Ie,Fe),k(te,Fe.staticCanvas,Fe.liveCanvas))});for(const[te,Ie]of r.current.entries())Se.has(te)||V(te)},he=()=>{const se=a.current||"idle",ce=se==="pen"||se==="eraser";r.current.forEach(({liveCanvas:ue})=>{ue.style.pointerEvents=ce?"auto":"none",ue.style.touchAction=ce?"none":"auto",ue.style.cursor=ce?"crosshair":"default"})},Ee=(se,ce)=>se.pageNumber===void 0?ce===1:se.pageNumber===ce,q=se=>(d.current["pdf-main"]||[]).filter(ce=>Ee(ce,se)),X=()=>{r.current.forEach(({staticCanvas:se},ce)=>{const ue=se.getContext("2d");if(!ue||(ue.save(),ue.setTransform(1,0,0,1,0,0),ue.clearRect(0,0,se.width,se.height),ue.restore(),!h.current))return;q(ce).forEach(te=>T(ue,te.points,te.color,te.width||3,te.opacity??1))})},oe=()=>{if(r.current.forEach(({liveCanvas:Se})=>{const te=Se.getContext("2d");te&&(te.save(),te.setTransform(1,0,0,1,0,0),te.clearRect(0,0,Se.width,Se.height),te.restore())}),a.current!=="pen"||g.current.length===0)return;const se=i.current;if(!se)return;const ce=r.current.get(se);if(!ce)return;const ue=ce.liveCanvas.getContext("2d");if(ue){if(g.current.length===1){const Se=g.current[0];ue.beginPath(),ue.fillStyle=o.current,ue.globalAlpha=u.current,ue.arc(Se.x,Se.y,l.current/2,0,Math.PI*2),ue.fill(),ue.globalAlpha=1;return}T(ue,g.current,o.current,l.current,u.current)}};return{handlePenStart:G,handlePenMove:K,handlePenEnd:z,syncPageCanvases:re,syncCanvasPointers:he,renderStaticCanvases:X,renderLiveCanvas:oe,refreshCanvases:()=>{re(),he(),X(),oe()},disposePageEntry:V,getPageStrokes:q}},k0=({text:n,query:e})=>{if(!e||!e.trim())return Q.jsx(Q.Fragment,{children:n});const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=new RegExp(`(${t})`,"gi"),i=n.split(r);return Q.jsx("span",{children:i.map((s,a)=>r.test(s)?Q.jsx("mark",{className:"bg-yellow-300 dark:bg-yellow-600/50 text-slate-900 dark:text-white rounded-[2px] px-0.5 font-medium",children:s},a):s)})},l9=({isOpen:n,onClose:e,side:t,title:r,children:i})=>Q.jsx(Q.Fragment,{children:i}),fCe=({isOpen:n,onClose:e})=>{const{chapters:t,currentChapterIndex:r,goToChapter:i,hasStrokes:s,bookmarks:a,goToPdfPage:o,removePdfBookmark:l,currentPdfPage:u,goToHighlight:d}=ef(),[h,g]=F.useState("contents"),v=F.useRef(null),b=F.useRef([]);return F.useEffect(()=>{if(h!=="contents")return;const C=b.current[r];if(!C)return;const B=v.current;if(!B){C.scrollIntoView({block:"center",behavior:"smooth"});return}const S=B.getBoundingClientRect(),I=C.getBoundingClientRect();I.top>=S.top&&I.bottom<=S.bottom||C.scrollIntoView({block:"center",behavior:"smooth"})},[r,h]),Q.jsxs(l9,{isOpen:n,onClose:e,side:"left",title:"Contents",children:[Q.jsxs("div",{className:"chapter_favor_wrap",children:[Q.jsxs("button",{onClick:()=>g("contents"),className:`chapter ${h==="contents"?"on":"off"}`,children:[Q.jsx(Ehe,{size:14})," Chapters"]}),Q.jsxs("button",{onClick:()=>g("bookmarks"),className:`favor ${h==="bookmarks"?"on":"off"}`,children:[Q.jsx($K,{size:14})," Favorites"]})]}),Q.jsxs("div",{className:"chapter_list",ref:v,children:[h==="contents"&&t.map((C,B)=>Q.jsx("button",{ref:S=>{b.current[B]=S},onClick:()=>{i(B),window.innerWidth<768&&e()},className:` ${B===r?"on":"off"}`,children:Q.jsxs("div",{className:"chapter_list_inner",children:[Q.jsxs("div",{className:"",children:[Q.jsx("span",{className:`text_xs ${B===r?"on":"off"}`,children:String(B+1).padStart(2,"0")}),Q.jsx("span",{className:"line_clamp_1",children:C.title})]}),s(C.id)&&Q.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 p-1 rounded-full",children:Q.jsx(nY,{size:10})})]})},C.id)),h==="bookmarks"&&a.map(C=>Q.jsxs("div",{className:`bookmark_item_row ${C.page===u?"active":""}`,children:[Q.jsxs("button",{onClick:()=>{o(C.page),window.innerWidth<768&&e()},className:"bookmark_item_button",children:[Q.jsx("div",{className:"bookmark_page_badge",children:Q.jsx("span",{className:"bookmark_label line_clamp_1",children:`P. ${C.page}`})}),Q.jsx("div",{className:"bookmark_item_text",children:Q.jsxs("span",{className:"bookmark_meta",children:["Saved ",new Date(C.createdAt).toLocaleDateString()]})})]}),Q.jsx("button",{onClick:B=>{B.stopPropagation(),l(C.id)},className:"bookmark_remove_btn",title:"Delete bookmark",children:Q.jsx(mN,{size:14})})]},C.id)),h==="bookmarks"&&a.length===0&&Q.jsxs("div",{className:"non_book_mark",children:[Q.jsx($K,{size:24,className:"mx-auto mb-2 text-slate-400"}),Q.jsx("p",{className:"text_sm",children:"No bookmarks yet"}),Q.jsx("p",{className:"text_sm",children:"Use the bookmark icon near Search to save a page."})]})]})]})},hCe=({isOpen:n,onClose:e})=>{const{highlights:t,removeHighlight:r,updateHighlight:i,currentChapter:s,incrementAiCount:a,generalNotes:o,addGeneralNote:l,updateGeneralNote:u,removeGeneralNote:d,importNotes:h,exportNoteAsMarkdown:g,focusHighlight:v,goToChapter:b,chapters:C,aiChatHistory:B,addChatMessage:S,activeToolTab:I,setActiveToolTab:T,setCaptureMode:R,capturedImage:U,setCapturedImage:D,referenceDocument:L,uploadBook:H,searchQuery:k,setSearchQuery:G,performSearch:K,goToPdfPage:z,pdfSearchHighlight:J,setPdfSearchHighlight:Y,goToHighlight:ge}=ef(),[V,j]=F.useState(""),[re,he]=F.useState(!1),[Ee,q]=F.useState(null),[X,oe]=F.useState(null),[Ce,se]=F.useState(""),[ce,ue]=F.useState(""),Se=F.useRef(null),te=F.useRef(null),Ie=F.useRef(null);F.useEffect(()=>{Ee&&Se.current&&Se.current.innerHTML!==(Ee.content||"")&&(Se.current.innerHTML=Ee.content||"")},[Ee==null?void 0:Ee.id]),F.useEffect(()=>{I==="ai"&&requestAnimationFrame(()=>{var ee;(ee=Ie.current)==null||ee.scrollIntoView({behavior:"smooth",block:"end"})})},[I,B.length,re]);const Fe=()=>Se.current?Se.current.innerHTML:"",me=ee=>{if(I==="notebook"&&Ee){const Be=Fe();q(Me=>Me?{...Me,content:Be}:null)}T(ee),ue("")},gt=ee=>{oe(ee.id),se(ee.note||"")},$e=ee=>{i(ee,{note:Ce}),oe(null),se("")},Gt=t.filter(ee=>ee.text.toLowerCase().includes(ce.toLowerCase())||ee.note&&ee.note.toLowerCase().includes(ce.toLowerCase())),It=o.filter(ee=>ee.title.toLowerCase().includes(ce.toLowerCase())||ee.content.toLowerCase().includes(ce.toLowerCase()));F.useEffect(()=>{if(U&&Ee){const ee=`<div class="capture-img-container"><img src="${U}" style="max-width:100%; border:1px solid #ccc; border-radius:4px; margin: 10px 0; display: block;" /></div><p><br/></p>`,Be=(Ee.content||"")+ee;q(Me=>Me?{...Me,content:Be}:null),Se.current&&(Se.current.innerHTML=Be),D(null)}},[U,D]);const Yn=async ee=>{if(ee.preventDefault(),!V.trim())return;const Be=V;S("user",Be),j(""),he(!0),a();const Me=await N6(Be,s.content.substring(0,1e3));S("model",Me),he(!1)},nt=()=>{if(Ee){const ee=Fe();Ee.title&&(Ee.id?u(Ee.id,Ee.title,ee):l(Ee.title,ee),q(null))}},Fn=(ee,Be=void 0)=>{document.execCommand(ee,!1,Be),Se.current&&Se.current.focus()},Fi=(ee,Be,Me)=>{ee.preventDefault(),Fn(Be,Me)},tn=ee=>{ee.preventDefault();const Be=Fe();q(Me=>Me?{...Me,content:Be}:null),setTimeout(()=>R(!0),50)},ba=ee=>{ee.preventDefault();const Be=window.getSelection();if(Be&&Be.rangeCount>0){const Ke=Be.getRangeAt(0);Se.current&&Se.current.contains(Ke.commonAncestorContainer)?te.current=Ke.cloneRange():te.current=null}const Me=parseInt(prompt("Rows:","2")||"0"),mt=parseInt(prompt("Columns:","2")||"0");if(Se.current&&(Se.current.focus(),te.current&&(Be==null||Be.removeAllRanges(),Be==null||Be.addRange(te.current)),Me>0&&mt>0)){let Ke='<table style="width:100%; border-collapse: collapse; margin: 10px 0; border: 1px solid #ccc;"><tbody>';for(let $t=0;$t<Me;$t++){Ke+="<tr>";for(let Rt=0;Rt<mt;Rt++)Ke+='<td style="border:1px solid #ccc; padding:8px; min-width: 50px;">Cell</td>';Ke+="</tr>"}Ke+="</tbody></table><p><br></p>",document.execCommand("insertHTML",!1,Ke)}},Ai=ee=>{ee.target.files&&ee.target.files[0]&&H(ee.target.files[0])},Gn=()=>{const ee=Fe();q(Be=>Be?{...Be,content:ee}:null)},xe=()=>{if(!Ee)return;const ee=Fe(),Be=window.open("","","height=600,width=800");Be&&(Be.document.write(`<html><head><title>${Ee.title}</title><style>body{font-family:sans-serif;padding:20px;}table{border-collapse:collapse;width:100%;}td,th{border:1px solid #ccc;padding:8px;}img{max-width:100%;}</style></head><body><h1>${Ee.title}</h1>${ee}</body></html>`),Be.document.close(),Be.print())};return I==="search"&&K(k),Q.jsxs(l9,{isOpen:n,onClose:e,side:"right",children:[Q.jsxs("div",{className:"right_panel_menu",children:[Q.jsx("button",{onClick:()=>me("ai"),className:`ai ${I==="ai"?"on":"off"}`,title:"AI",children:Q.jsx(fU,{size:14})}),Q.jsx("button",{onClick:()=>me("notes"),className:`notes ${I==="notes"?"on":"off"}`,title:"Highlights",children:Q.jsx(S_,{size:14})}),Q.jsx("button",{onClick:()=>me("notebook"),className:`notebook ${I==="notebook"?"on":"off"}`,title:"Notebook",children:Q.jsx(pN,{size:14})}),Q.jsx("button",{onClick:()=>me("reference"),className:`reference ${I==="reference"?"on":"off"}`,title:"Reference PDF",children:Q.jsx(WK,{size:14})}),Q.jsx("button",{onClick:()=>me("search"),className:`search ${I==="search"?"on":"off"}`,title:"Search",children:Q.jsx(hU,{size:14})})]}),Q.jsxs("div",{className:"text_area",children:[I==="ai"&&Q.jsxs("div",{className:"ai",children:[Q.jsxs("div",{className:"ai_talk",children:[B.length===0&&Q.jsxs("div",{className:"ai_talk_inner",children:[Q.jsx("div",{className:"icon",children:Q.jsx(fU,{className:"text-blue-500",size:24})}),Q.jsx("p",{className:"text_sm",children:"AI Study Companion"})]}),B.map((ee,Be)=>Q.jsx("div",{className:`txt ${ee.role==="user"?"ai_user_txt":"ai_txt"}`,children:Q.jsx("div",{className:` ${ee.role==="user"?"on":"off"}`,children:ee.text})},Be)),re&&Q.jsx("div",{className:"flex flex-col items-start",children:Q.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl rounded-bl-none px-4 py-3 border border-slate-100 dark:border-slate-700",children:Q.jsxs("div",{className:"flex space-x-1",children:[Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-75"}),Q.jsx("div",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce delay-150"})]})})}),Q.jsx("div",{ref:Ie})]}),Q.jsx("div",{className:"ai_user",children:Q.jsxs("form",{onSubmit:Yn,className:"user_form",children:[Q.jsx("input",{type:"text",value:V,onChange:ee=>j(ee.target.value),placeholder:"Ask AI...",className:""}),Q.jsx("button",{type:"submit",disabled:!V.trim()||re,className:"enter",children:Q.jsx(fU,{size:16})})]})})]}),I==="notes"&&Q.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[Q.jsx("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Filter highlights...",value:ce,onChange:ee=>ue(ee.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),Q.jsx(YK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})}),Q.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[Gt.length===0&&Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(S_,{size:24,className:"mx-auto mb-2"}),Q.jsx("p",{className:"text-sm",children:"No highlights"})]}),Gt.map(ee=>Q.jsxs("div",{onClick:()=>ge(ee),className:"p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 cursor-pointer hover:border-blue-300 transition-all",children:[Q.jsxs("div",{className:"flex justify-between mb-2 text-xs text-slate-400",children:[Q.jsx("span",{children:ee.chapterId==="reference-doc"?"Reference PDF":`Chapter ${C.findIndex(Be=>Be.id===ee.chapterId)+1}`}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsx("button",{onClick:Be=>{Be.stopPropagation(),gt(ee)},title:"Edit Note",children:Q.jsx(Ohe,{size:12})}),Q.jsx("button",{onClick:Be=>{Be.stopPropagation(),r(ee.id)},title:"Delete",children:Q.jsx(mN,{size:12})})]})]}),Q.jsxs("p",{className:"text-sm italic border-l-2 border-amber-400 pl-2 text-slate-600 dark:text-slate-300",children:['"',Q.jsx(k0,{text:ee.text,query:ce}),'"']}),X===ee.id?Q.jsxs("div",{onClick:Be=>Be.stopPropagation(),className:"mt-2 animate-fade-in",children:[Q.jsx("textarea",{className:"w-full p-2 text-xs border rounded bg-slate-50 dark:bg-slate-900 dark:text-white outline-none focus:border-blue-500",value:Ce,onChange:Be=>se(Be.target.value),autoFocus:!0,rows:3}),Q.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[Q.jsx("button",{onClick:()=>oe(null),className:"text-xs text-slate-500 hover:text-slate-700",children:"Cancel"}),Q.jsx("button",{onClick:()=>$e(ee.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):ee.note?Q.jsx("div",{className:"mt-2 text-xs bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded text-slate-700 dark:text-slate-300 border border-yellow-100 dark:border-yellow-800",children:Q.jsx(k0,{text:ee.note,query:ce})}):Q.jsxs("button",{onClick:Be=>{Be.stopPropagation(),gt(ee)},className:"mt-2 text-xs text-blue-500 flex items-center gap-1 hover:underline opacity-50 hover:opacity-100",children:[Q.jsx(gN,{size:10})," Add Note"]})]},ee.id))]})]}),I==="notebook"&&Q.jsx("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:Ee?Q.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white dark:bg-slate-900 animate-fade-in",children:[Q.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-900",children:[Q.jsx("button",{onClick:()=>q(null),className:"text-xs font-medium text-slate-500",children:"Cancel"}),Q.jsxs("button",{onClick:nt,className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[Q.jsx(rY,{size:14})," Save"]})]}),Q.jsx("div",{className:"px-4 pt-4 pb-2",children:Q.jsx("input",{type:"text",className:"w-full text-lg font-bold bg-transparent outline-none",value:Ee.title||"",onChange:ee=>{const Be=Fe();q(Me=>Me?{...Me,title:ee.target.value,content:Be}:null)}})}),Q.jsxs("div",{className:"px-2 py-1.5 flex flex-wrap gap-1 border-y bg-slate-50 dark:bg-slate-900/50",children:[Q.jsx("button",{onMouseDown:ee=>Fi(ee,"bold"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(qfe,{size:14})}),Q.jsx("button",{onMouseDown:ee=>Fi(ee,"italic"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx("span",{className:"italic",children:"I"})}),Q.jsx("button",{onMouseDown:ee=>Fi(ee,"hiliteColor","yellow"),className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(S_,{size:14})}),Q.jsx("button",{onMouseDown:ba,className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(ipe,{size:14})}),Q.jsx("button",{onMouseDown:tn,className:"p-1.5 rounded hover:bg-slate-200 text-blue-600",children:Q.jsx(rhe,{size:14})}),Q.jsx("button",{onClick:xe,className:"p-1.5 rounded hover:bg-slate-200",children:Q.jsx(jhe,{size:14})})]}),Q.jsx("div",{ref:Se,className:"flex-1 p-4 overflow-y-auto outline-none text-sm note-editor",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:Gn},Ee.id)]}):Q.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[Q.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-800 flex flex-col gap-3 bg-slate-50 dark:bg-slate-900",children:[Q.jsxs("div",{className:"flex justify-between items-center",children:[Q.jsxs("h3",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider",children:["My Notes (",o.length,")"]}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsxs("label",{className:"cursor-pointer p-1.5 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",title:"Import Note",children:[Q.jsx(lpe,{size:14}),Q.jsx("input",{type:"file",className:"hidden",accept:".md,.json,.txt",onChange:Ai})]}),Q.jsxs("button",{onClick:()=>q({title:"",content:"",chapterId:s.id,chapterTitle:s.title}),className:"flex items-center gap-1 px-2 py-1 bg-green-600 text-white rounded-md text-xs font-medium hover:bg-green-700 shadow-sm transition-all",children:[Q.jsx(gN,{size:14})," New"]})]})]}),Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Search notes...",value:ce,onChange:ee=>ue(ee.target.value),className:"w-full pl-8 pr-3 py-1.5 bg-white dark:bg-slate-800 rounded-md text-xs border border-slate-200 dark:border-slate-700 focus:outline-none"}),Q.jsx(YK,{size:12,className:"absolute left-2.5 top-2 text-slate-400"})]})]}),Q.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3",children:[It.length===0&&Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(pN,{size:32,className:"mx-auto text-slate-300 mb-2"}),Q.jsx("p",{className:"text-sm text-slate-400",children:"No notes found"})]}),It.map(ee=>Q.jsxs("div",{onClick:()=>q(ee),className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border cursor-pointer hover:border-green-300 transition-all",children:[Q.jsxs("div",{className:"flex justify-between mb-1",children:[Q.jsx("h4",{className:"font-semibold text-sm",children:Q.jsx(k0,{text:ee.title,query:ce})}),Q.jsx("button",{onClick:Be=>{Be.stopPropagation(),d(ee.id)},children:Q.jsx(mN,{size:12,"text-slate-300":!0})})]}),Q.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:Q.jsx(k0,{text:ee.content.replace(/<[^>]+>/g," "),query:ce})})]},ee.id))]})]})}),I==="reference"&&Q.jsx("div",{className:"absolute inset-0 flex flex-col bg-white dark:bg-slate-900",children:L?Q.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 dark:bg-slate-950",children:Q.jsx(k0e,{customChapter:L,variant:"side"})}):Q.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center opacity-60",children:[Q.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:Q.jsx(WK,{size:32,className:"text-slate-400"})}),Q.jsx("h3",{className:"font-medium text-slate-800 dark:text-white mb-2",children:"No Reference Document"}),Q.jsxs("p",{className:"text-sm text-slate-500 mb-6 max-w-[240px]",children:["Upload a ",Q.jsx("strong",{children:"text-based PDF"})," (e.g., papers, e-books). ",Q.jsx("br",{}),"Scanned image PDFs may not display correctly."]}),Q.jsxs("label",{className:"cursor-pointer flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Q.jsx(tY,{size:16}),Q.jsx("span",{children:"Upload PDF"}),Q.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:Ai})]})]})}),I==="search"&&Q.jsxs("div",{className:"absolute inset-0 flex flex-col bg-slate-50 dark:bg-slate-950",children:[Q.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800",children:Q.jsxs("div",{className:"relative",children:[Q.jsx("input",{type:"text",placeholder:"Search entire book & notes...",value:k,onChange:ee=>{G(ee.target.value),Y(null)},className:"w-full pl-9 pr-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-white",autoFocus:!0}),Q.jsx(hU,{size:16,className:"absolute left-3 top-2.5 text-slate-400"})]})}),Q.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:k.length>1?I==="search"&&K(k).length>0?K(k).map(ee=>Q.jsxs("div",{onClick:()=>{if(ee.type==="note"){const Be=o.find(Me=>`note-${Me.id}`===ee.id);Be&&(q(Be),T("notebook"))}else if(ee.type==="pdf")ee.pageNumber&&(z(ee.pageNumber),Y({page:ee.pageNumber,term:k}));else if(ee.type==="highlight"){if(ee.chapterId==="reference-doc"){const Be=Number(ee.pageNumber);Number.isFinite(Be)&&Be>0?z(Be):console.warn("[highlight] pageNumber missing for search result",ee.id)}else{const Be=C.findIndex(Me=>Me.id===ee.chapterId);Be!==-1&&b(Be)}v(ee.id.replace("hl-",""))}else{const Be=C.findIndex(Me=>Me.id===ee.chapterId);Be!==-1&&b(Be)}},className:"bg-white dark:bg-slate-900 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-800 cursor-pointer hover:border-blue-300 transition-all",children:[Q.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Q.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded uppercase font-bold ${ee.type==="chapter"?"bg-blue-100 text-blue-600":ee.type==="highlight"?"bg-yellow-100 text-yellow-600":ee.type==="pdf"?"bg-indigo-100 text-indigo-600":"bg-green-100 text-green-600"}`,children:ee.type}),Q.jsx("span",{className:"text-xs text-slate-500 font-medium truncate flex-1",children:ee.title})]}),Q.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 line-clamp-2",children:Q.jsx(k0,{text:ee.contentSnippet,query:k})})]},ee.id)):Q.jsx("div",{className:"text-center py-10 opacity-50",children:Q.jsxs("p",{className:"text-sm text-slate-500",children:['No results found for "',k,'"']})}):Q.jsxs("div",{className:"text-center py-10 opacity-50",children:[Q.jsx(hU,{size:24,className:"mx-auto mb-2 text-slate-300"}),Q.jsx("p",{className:"text-sm text-slate-400",children:"Type at least 2 characters to search"})]})})]})]})]})},pCe=()=>{const[n,e]=F.useState(!0),[t,r]=F.useState(!1),{isToolsOpen:i,setToolsOpen:s,registerPdfNavigator:a,setCurrentPdfPage:o}=ef(),[l,u]=F.useState(0),[d,h]=F.useState(1),g=F.useRef(),v=n||i,b=F.useCallback(z=>{h(z),o(z)},[o]),C=F.useCallback(z=>{u(z)},[]),B=F.useCallback(z=>{g.current=z,a(z)},[a]),[S,I]=F.useState(300),[T,R]=F.useState(350),[U,D]=F.useState(!1),[L,H]=F.useState(!1),k=F.useRef(null);F.useEffect(()=>{const z=()=>{const J=window.innerWidth<=1300;r(J),J?(e(!1),s(!0)):(e(!0),s(!0))};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[s]),F.useEffect(()=>{t&&i&&e(!1)},[i,t]),F.useEffect(()=>{const z=Y=>{if(!k.current)return;(U||L)&&Y.preventDefault();const ge=k.current.getBoundingClientRect();if(U){const V=Y.clientX-ge.left;V>200&&V<500&&I(V)}if(L){const V=ge.right-Y.clientX;V>280&&V<600&&R(V)}},J=()=>{D(!1),H(!1),document.body.style.cursor="default",document.body.style.userSelect="auto"};return(U||L)&&(document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",z),window.addEventListener("mouseup",J)),()=>{window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",J),document.body.style.cursor="default",document.body.style.userSelect="auto"}},[U,L]);const G=()=>{if(t){const z=!n;e(z),z&&s(!1);return}e(!n)},K=(()=>{const z="https://e-alice-campusbook.s3.ap-northeast-2.amazonaws.com/resources/contents/prod/cms/book/20240923/CT-20240923150969799/source/CT-20240923150969799_source_1727071793874.pdf",J=z,Y="/campusbook-viewer-ai/";if(/^https?:\/\//i.test(z))return z;const ge=Y.endsWith("/")?Y:`${Y}/`,V=J.replace(/^\/+/,""),j=`${ge}${V}`;if(typeof window<"u"){const re=window.location.hostname||"",he=re.toLowerCase().endsWith("github.io"),Ee=he?re.split(".")[0]:"",q=ge.replace(/^\/+|\/+$/g,"");if(he&&Ee&&q){const X="main",oe=V.startsWith("public/")?V:`public/${V}`;return`https://media.githubusercontent.com/media/${Ee}/${q}/${X}/${oe}`}}return j})();return Q.jsxs("div",{className:"layout_container",children:[Q.jsx(iY,{toggleSidebar:G,isSidebarOpen:n}),Q.jsxs("div",{ref:k,className:"split_container",children:[Q.jsx("aside",{className:`left_side_wrap ${n?"on":"off"}`,style:{width:n?window.innerWidth<768?"0px":`${S}px`:"0px"},children:Q.jsx(fCe,{isOpen:n,onClose:()=>e(!1)})}),Q.jsxs("main",{className:"content_container",children:[Q.jsx("div",{className:"cc_top",children:Q.jsx(rCe,{file:K,onPageChange:b,onPagesCount:C,registerGoToPage:B,forceSinglePage:v})}),Q.jsx("div",{className:"cc_bottom",children:Q.jsx(O0e,{pdfPageCount:l,pdfCurrentPage:d,onPdfGoToPage:z=>{var J;return(J=g.current)==null?void 0:J.call(g,z)}})})]}),Q.jsx("aside",{className:`right_panel_wrap ${i?"on":"off"}`,style:{width:i?window.innerWidth<768?"0px":`${T}px`:"0px"},children:Q.jsx(hCe,{isOpen:i,onClose:()=>s(!1)})})]})]})};function u9(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=u9(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Nn(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=u9(n))&&(r&&(r+=" "),r+=e);return r}var gCe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ok(n){if(typeof n!="string")return!1;var e=gCe;return e.includes(n)}var mCe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vCe=new Set(mCe);function c9(n){return typeof n!="string"?!1:vCe.has(n)}function d9(n){return typeof n=="string"&&n.startsWith("data-")}function Wd(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(c9(t)||d9(t))&&(e[t]=n[t]);return e}function Ak(n){if(n==null)return null;if(F.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return Wd(e)}return typeof n=="object"&&!Array.isArray(n)?Wd(n):null}function Ao(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(c9(t)||d9(t)||ok(t))&&(e[t]=n[t]);return e}var yCe=["children","width","height","viewBox","className","style","title","desc"];function SL(){return SL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},SL.apply(null,arguments)}function wCe(n,e){if(n==null)return{};var t,r,i=bCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function bCe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var f9=F.forwardRef((n,e)=>{var{children:t,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:u}=n,d=wCe(n,yCe),h=s||{width:r,height:i,x:0,y:0},g=Nn("recharts-surface",a);return F.createElement("svg",SL({},Ao(d),{className:g,width:r,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),F.createElement("title",null,l),F.createElement("desc",null,u),t)}),CCe=["children","className"];function xL(){return xL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xL.apply(null,arguments)}function ECe(n,e){if(n==null)return{};var t,r,i=BCe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function BCe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var Bu=F.forwardRef((n,e)=>{var{children:t,className:r}=n,i=ECe(n,CCe),s=Nn("recharts-layer",r);return F.createElement("g",xL({className:s},Ao(i),{ref:e}),t)}),SCe=F.createContext(null);function _n(n){return function(){return n}}const h9=Math.cos,CT=Math.sin,qo=Math.sqrt,ET=Math.PI,rI=2*ET,_L=Math.PI,TL=2*_L,Ff=1e-6,xCe=TL-Ff;function p9(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function _Ce(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return p9;const t=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}class TCe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?p9:_Ce(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,s,a){this._append`C${+e},${+t},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,r,i,s){if(e=+e,t=+t,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,u=i-t,d=a-e,h=o-t,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>Ff)if(!(Math.abs(h*l-u*d)>Ff)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let v=r-a,b=i-o,C=l*l+u*u,B=v*v+b*b,S=Math.sqrt(C),I=Math.sqrt(g),T=s*Math.tan((_L-Math.acos((C+g-B)/(2*S*I)))/2),R=T/I,U=T/S;Math.abs(R-1)>Ff&&this._append`L${e+R*d},${t+R*h}`,this._append`A${s},${s},0,0,${+(h*v>d*b)},${this._x1=e+U*l},${this._y1=t+U*u}`}}arc(e,t,r,i,s,a){if(e=+e,t=+t,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,d=t+l,h=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ff||Math.abs(this._y1-d)>Ff)&&this._append`L${u},${d}`,r&&(g<0&&(g=g%TL+TL),g>xCe?this._append`A${r},${r},0,1,${h},${e-o},${t-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:g>Ff&&this._append`A${r},${r},0,${+(g>=_L)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function lk(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new TCe(e)}function uk(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function g9(n){this._context=n}g9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function iI(n){return new g9(n)}function m9(n){return n[0]}function v9(n){return n[1]}function y9(n,e){var t=_n(!0),r=null,i=iI,s=null,a=lk(o);n=typeof n=="function"?n:n===void 0?m9:_n(n),e=typeof e=="function"?e:e===void 0?v9:_n(e);function o(l){var u,d=(l=uk(l)).length,h,g=!1,v;for(r==null&&(s=i(v=a())),u=0;u<=d;++u)!(u<d&&t(h=l[u],u,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(h,u,l),+e(h,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:_n(+l),o):n},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:_n(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:_n(!!l),o):t},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function Cx(n,e,t){var r=null,i=_n(!0),s=null,a=iI,o=null,l=lk(u);n=typeof n=="function"?n:n===void 0?m9:_n(+n),e=typeof e=="function"?e:_n(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?v9:_n(+t);function u(h){var g,v,b,C=(h=uk(h)).length,B,S=!1,I,T=new Array(C),R=new Array(C);for(s==null&&(o=a(I=l())),g=0;g<=C;++g){if(!(g<C&&i(B=h[g],g,h))===S)if(S=!S)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=g-1;b>=v;--b)o.point(T[b],R[b]);o.lineEnd(),o.areaEnd()}S&&(T[g]=+n(B,g,h),R[g]=+e(B,g,h),o.point(r?+r(B,g,h):T[g],t?+t(B,g,h):R[g]))}if(I)return o=null,I+""||null}function d(){return y9().defined(i).curve(a).context(s)}return u.x=function(h){return arguments.length?(n=typeof h=="function"?h:_n(+h),r=null,u):n},u.x0=function(h){return arguments.length?(n=typeof h=="function"?h:_n(+h),u):n},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:_n(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:_n(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:_n(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:_n(+h),u):t},u.lineX0=u.lineY0=function(){return d().x(n).y(e)},u.lineY1=function(){return d().x(n).y(t)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:_n(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class w9{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function ICe(n){return new w9(n,!0)}function FCe(n){return new w9(n,!1)}const ck={draw(n,e){const t=qo(e/ET);n.moveTo(t,0),n.arc(0,0,t,0,rI)}},MCe={draw(n,e){const t=qo(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},b9=qo(1/3),UCe=b9*2,PCe={draw(n,e){const t=qo(e/UCe),r=t*b9;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},RCe={draw(n,e){const t=qo(e),r=-t/2;n.rect(r,r,t,t)}},DCe=.8908130915292852,C9=CT(ET/10)/CT(7*ET/10),NCe=CT(rI/10)*C9,LCe=-h9(rI/10)*C9,QCe={draw(n,e){const t=qo(e*DCe),r=NCe*t,i=LCe*t;n.moveTo(0,-t),n.lineTo(r,i);for(let s=1;s<5;++s){const a=rI*s/5,o=h9(a),l=CT(a);n.lineTo(l*t,-o*t),n.lineTo(o*r-l*i,l*r+o*i)}n.closePath()}},GU=qo(3),kCe={draw(n,e){const t=-qo(e/(GU*3));n.moveTo(0,t*2),n.lineTo(-GU*t,-t),n.lineTo(GU*t,-t),n.closePath()}},Pa=-.5,Ra=qo(3)/2,IL=1/qo(12),OCe=(IL/2+1)*3,HCe={draw(n,e){const t=qo(e/OCe),r=t/2,i=t*IL,s=r,a=t*IL+t,o=-s,l=a;n.moveTo(r,i),n.lineTo(s,a),n.lineTo(o,l),n.lineTo(Pa*r-Ra*i,Ra*r+Pa*i),n.lineTo(Pa*s-Ra*a,Ra*s+Pa*a),n.lineTo(Pa*o-Ra*l,Ra*o+Pa*l),n.lineTo(Pa*r+Ra*i,Pa*i-Ra*r),n.lineTo(Pa*s+Ra*a,Pa*a-Ra*s),n.lineTo(Pa*o+Ra*l,Pa*l-Ra*o),n.closePath()}};function VCe(n,e){let t=null,r=lk(i);n=typeof n=="function"?n:_n(n||ck),e=typeof e=="function"?e:_n(e===void 0?64:+e);function i(){let s;if(t||(t=s=r()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return i.type=function(s){return arguments.length?(n=typeof s=="function"?s:_n(s),i):n},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:_n(+s),i):e},i.context=function(s){return arguments.length?(t=s??null,i):t},i}function BT(){}function ST(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function E9(n){this._context=n}E9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ST(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ST(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function KCe(n){return new E9(n)}function B9(n){this._context=n}B9.prototype={areaStart:BT,areaEnd:BT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:ST(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function GCe(n){return new B9(n)}function S9(n){this._context=n}S9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:ST(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function zCe(n){return new S9(n)}function x9(n){this._context=n}x9.prototype={areaStart:BT,areaEnd:BT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function qCe(n){return new x9(n)}function Pz(n){return n<0?-1:1}function Rz(n,e,t){var r=n._x1-n._x0,i=e-n._x1,s=(n._y1-n._y0)/(r||i<0&&-0),a=(t-n._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(Pz(s)+Pz(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Dz(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function zU(n,e,t){var r=n._x0,i=n._y0,s=n._x1,a=n._y1,o=(s-r)/3;n._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*t,s,a)}function xT(n){this._context=n}xT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zU(this,this._t0,Dz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,zU(this,Dz(this,t=Rz(this,n,e)),t);break;default:zU(this,this._t0,t=Rz(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function _9(n){this._context=new T9(n)}(_9.prototype=Object.create(xT.prototype)).point=function(n,e){xT.prototype.point.call(this,e,n)};function T9(n){this._context=n}T9.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,s){this._context.bezierCurveTo(e,n,r,t,s,i)}};function $Ce(n){return new xT(n)}function jCe(n){return new _9(n)}function I9(n){this._context=n}I9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var r=Nz(n),i=Nz(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],n[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function Nz(n){var e,t=n.length-1,r,i=new Array(t),s=new Array(t),a=new Array(t);for(i[0]=0,s[0]=2,a[0]=n[0]+2*n[1],e=1;e<t-1;++e)i[e]=1,s[e]=4,a[e]=4*n[e]+2*n[e+1];for(i[t-1]=2,s[t-1]=7,a[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[t-1]=(n[t]+i[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-i[e+1];return[i,s]}function WCe(n){return new I9(n)}function sI(n,e){this._context=n,this._t=e}sI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function YCe(n){return new sI(n,.5)}function XCe(n){return new sI(n,0)}function JCe(n){return new sI(n,1)}function ay(n,e){if((a=n.length)>1)for(var t=1,r,i,s=n[e[0]],a,o=s.length;t<a;++t)for(i=s,s=n[e[t]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function FL(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function ZCe(n,e){return n[e]}function eEe(n){const e=[];return e.key=n,e}function tEe(){var n=_n([]),e=FL,t=ay,r=ZCe;function i(s){var a=Array.from(n.apply(this,arguments),eEe),o,l=a.length,u=-1,d;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+r(h,a[o].key,u,s)]).data=h;for(o=0,d=uk(e(a));o<l;++o)a[d[o]].index=o;return t(a,d),a}return i.keys=function(s){return arguments.length?(n=typeof s=="function"?s:_n(Array.from(s)),i):n},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:_n(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?FL:typeof s=="function"?s:_n(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(t=s??ay,i):t},i}function nEe(n,e){if((r=n.length)>0){for(var t,r,i=0,s=n[0].length,a;i<s;++i){for(a=t=0;t<r;++t)a+=n[t][i][1]||0;if(a)for(t=0;t<r;++t)n[t][i][1]/=a}ay(n,e)}}function rEe(n,e){if((i=n.length)>0){for(var t=0,r=n[e[0]],i,s=r.length;t<s;++t){for(var a=0,o=0;a<i;++a)o+=n[a][t][1]||0;r[t][1]+=r[t][0]=-o/2}ay(n,e)}}function iEe(n,e){if(!(!((a=n.length)>0)||!((s=(i=n[e[0]]).length)>0))){for(var t=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,u=0;o<a;++o){for(var d=n[e[o]],h=d[r][1]||0,g=d[r-1][1]||0,v=(h-g)/2,b=0;b<o;++b){var C=n[e[b]],B=C[r][1]||0,S=C[r-1][1]||0;v+=B-S}l+=h,u+=v*h}i[r-1][1]+=i[r-1][0]=t,l&&(t-=u/l)}i[r-1][1]+=i[r-1][0]=t,ay(n,e)}}var qU={},$U={},Lz;function sEe(){return Lz||(Lz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})($U)),$U}var jU={},Qz;function F9(){return Qz||(Qz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(jU)),jU}var WU={},kz;function dk(){return kz||(kz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var r;return typeof t=="string"||typeof t=="symbol"?t:Object.is((r=t==null?void 0:t.valueOf)==null?void 0:r.call(t),-0)?"-0":String(t)}n.toKey=e})(WU)),WU}var YU={},XU={},Oz;function aEe(){return Oz||(Oz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return r==="0"&&Object.is(Number(t),-0)?"-0":r}n.toString=e})(XU)),XU}var Hz;function fk(){return Hz||(Hz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=aEe(),t=dk();function r(i){if(Array.isArray(i))return i.map(t.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const h=i[o];u?h==="\\"&&o+1<a?(o++,l+=i[o]):h===u?u="":l+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,s.push(l),l=""):l+=h:h==="["?(d=!0,l&&(s.push(l),l="")):h==="."?l&&(s.push(l),l=""):l+=h,o++}return l&&s.push(l),s}n.toPath=r})(YU)),YU}var Vz;function hk(){return Vz||(Vz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=sEe(),t=F9(),r=dk(),i=fk();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?t.isDeepKey(l)?s(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return u;d=d[l[h]]}return d===void 0?u:d}n.get=s})(qU)),qU}var JU,Kz;function oEe(){return Kz||(Kz=1,JU=hk().get),JU}var AEe=oEe();const oy=kA(AEe);var ha=n=>n===0?0:n>0?1:-1,RA=n=>typeof n=="number"&&n!=+n,Su=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,Je=n=>(typeof n=="number"||n instanceof Number)&&!RA(n),DA=n=>Je(n)||typeof n=="string",lEe=0,eb=n=>{var e=++lEe;return"".concat(n||"").concat(e)},Oo=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(e)&&typeof e!="string")return r;var s;if(Su(e)){if(t==null)return r;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return RA(s)&&(s=r),i&&t!=null&&s>t&&(s=t),s},M9=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},r=0;r<e;r++)if(!t[n[r]])t[n[r]]=!0;else return!0;return!1};function Bi(n,e,t){return Je(n)&&Je(e)?n+t*(e-n):e}function uEe(n,e,t){if(!(!n||!n.length))return n.find(r=>r&&(typeof e=="function"?e(r):oy(r,e))===t)}var si=n=>n===null||typeof n>"u",eB=n=>si(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function cEe(n){return n!=null}function tB(){}var dEe=["type","size","sizeType"];function ML(){return ML=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ML.apply(null,arguments)}function Gz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function zz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gz(Object(t),!0).forEach(function(r){fEe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Gz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function fEe(n,e,t){return(e=hEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hEe(n){var e=pEe(n,"string");return typeof e=="symbol"?e:e+""}function pEe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gEe(n,e){if(n==null)return{};var t,r,i=mEe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function mEe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var U9={symbolCircle:ck,symbolCross:MCe,symbolDiamond:PCe,symbolSquare:RCe,symbolStar:QCe,symbolTriangle:kCe,symbolWye:HCe},vEe=Math.PI/180,yEe=n=>{var e="symbol".concat(eB(n));return U9[e]||ck},wEe=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var r=18*vEe;return 1.25*n*n*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},bEe=(n,e)=>{U9["symbol".concat(eB(n))]=e},P9=n=>{var{type:e="circle",size:t=64,sizeType:r="area"}=n,i=gEe(n,dEe),s=zz(zz({},i),{},{type:e,size:t,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=yEe(a),v=VCe().type(g).size(wEe(t,r,a)),b=v();if(b!==null)return b},{className:l,cx:u,cy:d}=s,h=Ao(s);return Je(u)&&Je(d)&&Je(t)?F.createElement("path",ML({},h,{className:Nn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};P9.registerSymbol=bEe;var R9=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,CEe=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(F.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var r={};return Object.keys(t).forEach(i=>{ok(i)&&(r[i]=(s=>t[i](t,s)))}),r},EEe=(n,e,t)=>r=>(n(e,t,r),null),pk=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var r=null;return Object.keys(n).forEach(i=>{var s=n[i];ok(i)&&typeof s=="function"&&(r||(r={}),r[i]=EEe(s,e,t))}),r};function qz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function BEe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qz(Object(t),!0).forEach(function(r){SEe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function SEe(n,e,t){return(e=xEe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xEe(n){var e=_Ee(n,"string");return typeof e=="symbol"?e:e+""}function _Ee(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function co(n,e){var t=BEe({},n),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),t);return s}var ZU={},eP={},$z;function TEe(){return $z||($z=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){const i=new Map;for(let s=0;s<t.length;s++){const a=t[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}n.uniqBy=e})(eP)),eP}var tP={},jz;function D9(){return jz||(jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(tP)),tP}var nP={},rP={},iP={},Wz;function IEe(){return Wz||(Wz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(iP)),iP}var Yz;function gk(){return Yz||(Yz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=IEe();function t(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}n.isArrayLike=t})(rP)),rP}var sP={},Xz;function FEe(){return Xz||(Xz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(sP)),sP}var Jz;function MEe(){return Jz||(Jz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=gk(),t=FEe();function r(i){return t.isObjectLike(i)&&e.isArrayLike(i)}n.isArrayLikeObject=r})(nP)),nP}var aP={},oP={},Zz;function UEe(){return Zz||(Zz=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=hk();function t(r){return function(i){return e.get(i,r)}}n.property=t})(oP)),oP}var AP={},lP={},uP={},cP={},e5;function N9(){return e5||(e5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(cP)),cP}var dP={},t5;function L9(){return t5||(t5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(dP)),dP}var fP={},n5;function Q9(){return n5||(n5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){return t===r||Number.isNaN(t)&&Number.isNaN(r)}n.eq=e})(fP)),fP}var r5;function PEe(){return r5||(r5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=N9(),t=L9(),r=Q9();function i(d,h,g){return typeof g!="function"?i(d,h,()=>{}):s(d,h,function v(b,C,B,S,I,T){const R=g(b,C,B,S,I,T);return R!==void 0?!!R:s(b,C,v,T)},new Map)}function s(d,h,g,v){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,g,v);case"function":return Object.keys(h).length>0?s(d,{...h},g,v):r.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:r.eq(d,h)}}function a(d,h,g,v){if(h==null)return!0;if(Array.isArray(h))return l(d,h,g,v);if(h instanceof Map)return o(d,h,g,v);if(h instanceof Set)return u(d,h,g,v);const b=Object.keys(h);if(d==null)return b.length===0;if(b.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===d;v==null||v.set(h,d);try{for(let C=0;C<b.length;C++){const B=b[C];if(!t.isPrimitive(d)&&!(B in d)||h[B]===void 0&&d[B]!==void 0||h[B]===null&&d[B]!==null||!g(d[B],h[B],B,d,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function o(d,h,g,v){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[b,C]of h.entries()){const B=d.get(b);if(g(B,C,b,d,h,v)===!1)return!1}return!0}function l(d,h,g,v){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const b=new Set;for(let C=0;C<h.length;C++){const B=h[C];let S=!1;for(let I=0;I<d.length;I++){if(b.has(I))continue;const T=d[I];let R=!1;if(g(T,B,C,d,h,v)&&(R=!0),R){b.add(I),S=!0;break}}if(!S)return!1}return!0}function u(d,h,g,v){return h.size===0?!0:d instanceof Set?l([...d],[...h],g,v):!1}n.isMatchWith=i,n.isSetMatch=u})(uP)),uP}var i5;function k9(){return i5||(i5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=PEe();function t(r,i){return e.isMatchWith(r,i,()=>{})}n.isMatch=t})(lP)),lP}var hP={},pP={},gP={},s5;function REe(){return s5||(s5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(r=>Object.prototype.propertyIsEnumerable.call(t,r))}n.getSymbols=e})(gP)),gP}var mP={},a5;function O9(){return a5||(a5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(mP)),mP}var vP={},o5;function H9(){return o5||(o5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",b="[object Error]",C="[object DataView]",B="[object Uint8Array]",S="[object Uint8ClampedArray]",I="[object Uint16Array]",T="[object Uint32Array]",R="[object BigUint64Array]",U="[object Int8Array]",D="[object Int16Array]",L="[object Int32Array]",H="[object BigInt64Array]",k="[object Float32Array]",G="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=d,n.bigInt64ArrayTag=H,n.bigUint64ArrayTag=R,n.booleanTag=i,n.dataViewTag=C,n.dateTag=o,n.errorTag=b,n.float32ArrayTag=k,n.float64ArrayTag=G,n.functionTag=h,n.int16ArrayTag=D,n.int32ArrayTag=L,n.int8ArrayTag=U,n.mapTag=l,n.numberTag=r,n.objectTag=v,n.regexpTag=e,n.setTag=u,n.stringTag=t,n.symbolTag=a,n.uint16ArrayTag=I,n.uint32ArrayTag=T,n.uint8ArrayTag=B,n.uint8ClampedArrayTag=S})(vP)),vP}var yP={},A5;function DEe(){return A5||(A5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(yP)),yP}var l5;function V9(){return l5||(l5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=REe(),t=O9(),r=H9(),i=L9(),s=DEe();function a(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,g,v=new Map,b=void 0){const C=b==null?void 0:b(d,h,g,v);if(C!==void 0)return C;if(i.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const B=new Array(d.length);v.set(d,B);for(let S=0;S<d.length;S++)B[S]=o(d[S],S,g,v,b);return Object.hasOwn(d,"index")&&(B.index=d.index),Object.hasOwn(d,"input")&&(B.input=d.input),B}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const B=new RegExp(d.source,d.flags);return B.lastIndex=d.lastIndex,B}if(d instanceof Map){const B=new Map;v.set(d,B);for(const[S,I]of d)B.set(S,o(I,S,g,v,b));return B}if(d instanceof Set){const B=new Set;v.set(d,B);for(const S of d)B.add(o(S,void 0,g,v,b));return B}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const B=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,B);for(let S=0;S<d.length;S++)B[S]=o(d[S],S,g,v,b);return B}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const B=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,B),l(B,d,g,v,b),B}if(typeof File<"u"&&d instanceof File){const B=new File([d],d.name,{type:d.type});return v.set(d,B),l(B,d,g,v,b),B}if(typeof Blob<"u"&&d instanceof Blob){const B=new Blob([d],{type:d.type});return v.set(d,B),l(B,d,g,v,b),B}if(d instanceof Error){const B=new d.constructor;return v.set(d,B),B.message=d.message,B.name=d.name,B.stack=d.stack,B.cause=d.cause,l(B,d,g,v,b),B}if(d instanceof Boolean){const B=new Boolean(d.valueOf());return v.set(d,B),l(B,d,g,v,b),B}if(d instanceof Number){const B=new Number(d.valueOf());return v.set(d,B),l(B,d,g,v,b),B}if(d instanceof String){const B=new String(d.valueOf());return v.set(d,B),l(B,d,g,v,b),B}if(typeof d=="object"&&u(d)){const B=Object.create(Object.getPrototypeOf(d));return v.set(d,B),l(B,d,g,v,b),B}return d}function l(d,h,g=d,v,b){const C=[...Object.keys(h),...e.getSymbols(h)];for(let B=0;B<C.length;B++){const S=C[B],I=Object.getOwnPropertyDescriptor(d,S);(I==null||I.writable)&&(d[S]=o(h[S],S,g,v,b))}}function u(d){switch(t.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=a,n.cloneDeepWithImpl=o,n.copyProperties=l})(pP)),pP}var u5;function NEe(){return u5||(u5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=V9();function t(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}n.cloneDeep=t})(hP)),hP}var c5;function LEe(){return c5||(c5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=k9(),t=NEe();function r(i){return i=t.cloneDeep(i),s=>e.isMatch(s,i)}n.matches=r})(AP)),AP}var wP={},bP={},CP={},d5;function QEe(){return d5||(d5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=V9(),t=H9();function r(i,s){return e.cloneDeepWith(i,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case t.numberTag:case t.stringTag:case t.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case t.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}n.cloneDeepWith=r})(CP)),CP}var f5;function kEe(){return f5||(f5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=QEe();function t(r){return e.cloneDeepWith(r)}n.cloneDeep=t})(bP)),bP}var EP={},BP={},h5;function K9(){return h5||(h5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}n.isIndex=t})(BP)),BP}var SP={},p5;function OEe(){return p5||(p5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=O9();function t(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}n.isArguments=t})(SP)),SP}var g5;function HEe(){return g5||(g5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=F9(),t=K9(),r=OEe(),i=fk();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const h=l[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||r.isArguments(u))&&t.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}n.has=s})(EP)),EP}var m5;function VEe(){return m5||(m5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=k9(),t=dk(),r=kEe(),i=hk(),s=HEe();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return l=r.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}n.matchesProperty=a})(wP)),wP}var v5;function KEe(){return v5||(v5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=D9(),t=UEe(),r=LEe(),i=VEe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return t.property(a)}}n.iteratee=s})(aP)),aP}var y5;function GEe(){return y5||(y5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=TEe(),t=D9(),r=MEe(),i=KEe();function s(a,o=t.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}n.uniqBy=s})(ZU)),ZU}var xP,w5;function zEe(){return w5||(w5=1,xP=GEe().uniqBy),xP}var qEe=zEe();const b5=kA(qEe);function $Ee(n,e,t){return e===!0?b5(n,t):typeof e=="function"?b5(n,e):n}var _P={exports:{}},TP={},IP={exports:{}},FP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C5;function jEe(){if(C5)return FP;C5=1;var n=yy();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(h,g){var v=g(),b=r({inst:{value:v,getSnapshot:g}}),C=b[0].inst,B=b[1];return s(function(){C.value=v,C.getSnapshot=g,l(C)&&B({inst:C})},[h,v,g]),i(function(){return l(C)&&B({inst:C}),h(function(){l(C)&&B({inst:C})})},[h]),a(v),v}function l(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!t(h,v)}catch{return!0}}function u(h,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return FP.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,FP}var E5;function WEe(){return E5||(E5=1,IP.exports=jEe()),IP.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B5;function YEe(){if(B5)return TP;B5=1;var n=yy(),e=WEe();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return TP.useSyncExternalStoreWithSelector=function(u,d,h,g,v){var b=s(null);if(b.current===null){var C={hasValue:!1,value:null};b.current=C}else C=b.current;b=o(function(){function S(D){if(!I){if(I=!0,T=D,D=g(D),v!==void 0&&C.hasValue){var L=C.value;if(v(L,D))return R=L}return R=D}if(L=R,r(T,D))return L;var H=g(D);return v!==void 0&&v(L,H)?(T=D,L):(T=D,R=H)}var I=!1,T,R,U=h===void 0?null:h;return[function(){return S(d())},U===null?void 0:function(){return S(U())}]},[d,h,g,v]);var B=i(u,b[0],b[1]);return a(function(){C.hasValue=!0,C.value=B},[B]),l(B),B},TP}var S5;function XEe(){return S5||(S5=1,_P.exports=YEe()),_P.exports}var JEe=XEe(),mk=F.createContext(null),ZEe=n=>n,vr=()=>{var n=F.useContext(mk);return n?n.store.dispatch:ZEe},V_=()=>{},eBe=()=>V_,tBe=(n,e)=>n===e;function Ye(n){var e=F.useContext(mk);return JEe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:eBe,e?e.store.getState:V_,e?e.store.getState:V_,e?n:V_,tBe)}function nBe(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function rBe(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function iBe(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${t}]`)}}var x5=n=>Array.isArray(n)?n:[n];function sBe(n){const e=Array.isArray(n[0])?n[0]:n;return iBe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function aBe(n,e){const t=[],{length:r}=n;for(let i=0;i<r;i++)t.push(n[i].apply(null,e));return t}var oBe=class{constructor(n){this.value=n}deref(){return this.value}},ABe=typeof WeakRef<"u"?WeakRef:oBe,lBe=0,_5=1;function Ex(){return{s:lBe,v:void 0,o:null,p:null}}function G9(n,e={}){let t=Ex();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var h;let o=t;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let C=o.o;C===null&&(o.o=C=new WeakMap);const B=C.get(b);B===void 0?(o=Ex(),C.set(b,o)):o=B}else{let C=o.p;C===null&&(o.p=C=new Map);const B=C.get(b);B===void 0?(o=Ex(),C.set(b,o)):o=B}}const u=o;let d;if(o.s===_5)d=o.v;else if(d=n.apply(null,arguments),s++,r){const g=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;g!=null&&r(g,d)&&(d=g,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new ABe(d):d}return u.s=_5,u.v=d,d}return a.clearCache=()=>{t=Ex(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function uBe(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,r=(...i)=>{let s=0,a=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),nBe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...t,...l},{memoize:h,memoizeOptions:g=[],argsMemoize:v=G9,argsMemoizeOptions:b=[]}=d,C=x5(g),B=x5(b),S=sBe(i),I=h(function(){return s++,u.apply(null,arguments)},...C),T=v(function(){a++;const U=aBe(S,arguments);return o=I.apply(null,U),o},...B);return Object.assign(T,{resultFunc:u,memoizedResultFunc:I,dependencies:S,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var le=uBe(G9),cBe=Object.assign((n,e=le)=>{rBe(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),r=t.map(s=>n[s]);return e(r,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>cBe}),MP={},UP={},PP={},T5;function dBe(){return T5||(T5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const t=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};n.compareValues=t})(PP)),PP}var RP={},DP={},I5;function z9(){return I5||(I5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(DP)),DP}var F5;function fBe(){return F5||(F5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=z9(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!t.test(s))||a!=null&&Object.hasOwn(a,s)}n.isKey=i})(RP)),RP}var M5;function hBe(){return M5||(M5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=dBe(),t=fBe(),r=fk();function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const u=(v,b)=>{let C=v;for(let B=0;B<b.length&&C!=null;++B)C=C[b[B]];return C},d=(v,b)=>b==null||v==null?b:typeof v=="object"&&"key"in v?Object.hasOwn(b,v.key)?b[v.key]:u(b,v.path):typeof v=="function"?v(b):Array.isArray(v)?u(b,v):typeof b=="object"?b[v]:b,h=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||t.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:h.map(b=>d(b,v))})).slice().sort((v,b)=>{for(let C=0;C<h.length;C++){const B=e.compareValues(v.criteria[C],b.criteria[C],o[C]);if(B!==0)return B}return 0}).map(v=>v.original)}n.orderBy=i})(UP)),UP}var NP={},U5;function pBe(){return U5||(U5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):i.push(d)}};return a(t,0),i}n.flatten=e})(NP)),NP}var LP={},P5;function q9(){return P5||(P5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=K9(),t=gk(),r=N9(),i=Q9();function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&t.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}n.isIterateeCall=s})(LP)),LP}var R5;function gBe(){return R5||(R5=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=hBe(),t=pBe(),r=q9();function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,t.flatten(a),["asc"])}n.sortBy=i})(MP)),MP}var QP,D5;function mBe(){return D5||(D5=1,QP=gBe().sortBy),QP}var vBe=mBe();const aI=kA(vBe);var $9=n=>n.legend.settings,yBe=n=>n.legend.size,wBe=n=>n.legend.payload;le([wBe,$9],(n,e)=>{var{itemSorter:t}=e,r=n.flat(1);return t?aI(r,t):r});var Bx=1;function bBe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=F.useState({height:0,left:0,top:0,width:0}),r=F.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Bx||Math.abs(a.left-e.left)>Bx||Math.abs(a.top-e.top)>Bx||Math.abs(a.width-e.width)>Bx)&&t({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,r]}function wi(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var CBe=typeof Symbol=="function"&&Symbol.observable||"@@observable",N5=CBe,kP=()=>Math.random().toString(36).substring(7).split("").join("."),EBe={INIT:`@@redux/INIT${kP()}`,REPLACE:`@@redux/REPLACE${kP()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kP()}`},_T=EBe;function vk(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function j9(n,e,t){if(typeof n!="function")throw new Error(wi(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(wi(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(wi(1));return t(j9)(n,e)}let r=n,i=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((B,S)=>{a.set(S,B)}))}function d(){if(l)throw new Error(wi(3));return i}function h(B){if(typeof B!="function")throw new Error(wi(4));if(l)throw new Error(wi(5));let S=!0;u();const I=o++;return a.set(I,B),function(){if(S){if(l)throw new Error(wi(6));S=!1,u(),a.delete(I),s=null}}}function g(B){if(!vk(B))throw new Error(wi(7));if(typeof B.type>"u")throw new Error(wi(8));if(typeof B.type!="string")throw new Error(wi(17));if(l)throw new Error(wi(9));try{l=!0,i=r(i,B)}finally{l=!1}return(s=a).forEach(I=>{I()}),B}function v(B){if(typeof B!="function")throw new Error(wi(10));r=B,g({type:_T.REPLACE})}function b(){const B=h;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(wi(11));function I(){const R=S;R.next&&R.next(d())}return I(),{unsubscribe:B(I)}},[N5](){return this}}}return g({type:_T.INIT}),{dispatch:g,subscribe:h,getState:d,replaceReducer:v,[N5]:b}}function BBe(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:_T.INIT})>"u")throw new Error(wi(12));if(typeof t(void 0,{type:_T.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wi(13))})}function W9(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof n[a]=="function"&&(t[a]=n[a])}const r=Object.keys(t);let i;try{BBe(t)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],g=t[h],v=a[h],b=g(v,o);if(typeof b>"u")throw o&&o.type,new Error(wi(14));u[h]=b,l=l||b!==v}return l=l||r.length!==Object.keys(a).length,l?u:a}}function TT(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function SBe(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(wi(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=n.map(l=>l(a));return s=TT(...o)(i.dispatch),{...i,dispatch:s}}}function Y9(n){return vk(n)&&"type"in n&&typeof n.type=="string"}var X9=Symbol.for("immer-nothing"),L5=Symbol.for("immer-draftable"),as=Symbol.for("immer-state");function Do(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var pa=Object,Ay=pa.getPrototypeOf,IT="constructor",oI="prototype",UL="configurable",FT="enumerable",K_="writable",tb="value",xu=n=>!!n&&!!n[as];function Ho(n){var e;return n?J9(n)||AI(n)||!!n[L5]||!!((e=n[IT])!=null&&e[L5])||lI(n)||uI(n):!1}var xBe=pa[oI][IT].toString(),Q5=new WeakMap;function J9(n){if(!n||!yk(n))return!1;const e=Ay(n);if(e===null||e===pa[oI])return!0;const t=pa.hasOwnProperty.call(e,IT)&&e[IT];if(t===Object)return!0;if(!Og(t))return!1;let r=Q5.get(t);return r===void 0&&(r=Function.toString.call(t),Q5.set(t,r)),r===xBe}function nB(n,e,t=!0){rB(n)===0?(t?Reflect.ownKeys(n):pa.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function rB(n){const e=n[as];return e?e.type_:AI(n)?1:lI(n)?2:uI(n)?3:0}var k5=(n,e,t=rB(n))=>t===2?n.has(e):pa[oI].hasOwnProperty.call(n,e),PL=(n,e,t=rB(n))=>t===2?n.get(e):n[e],MT=(n,e,t,r=rB(n))=>{r===2?n.set(e,t):r===3?n.add(t):n[e]=t};function _Be(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var AI=Array.isArray,lI=n=>n instanceof Map,uI=n=>n instanceof Set,yk=n=>typeof n=="object",Og=n=>typeof n=="function",OP=n=>typeof n=="boolean",pl=n=>n.copy_||n.base_,wk=n=>n.modified_?n.copy_:n.base_;function RL(n,e){if(lI(n))return new Map(n);if(uI(n))return new Set(n);if(AI(n))return Array[oI].slice.call(n);const t=J9(n);if(e===!0||e==="class_only"&&!t){const r=pa.getOwnPropertyDescriptors(n);delete r[as];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o[K_]===!1&&(o[K_]=!0,o[UL]=!0),(o.get||o.set)&&(r[a]={[UL]:!0,[K_]:!0,[FT]:o[FT],[tb]:n[a]})}return pa.create(Ay(n),r)}else{const r=Ay(n);if(r!==null&&t)return{...n};const i=pa.create(r);return pa.assign(i,n)}}function bk(n,e=!1){return cI(n)||xu(n)||!Ho(n)||(rB(n)>1&&pa.defineProperties(n,{set:Sx,add:Sx,clear:Sx,delete:Sx}),pa.freeze(n),e&&nB(n,(t,r)=>{bk(r,!0)},!1)),n}function TBe(){Do(2)}var Sx={[tb]:TBe};function cI(n){return n===null||!yk(n)?!0:pa.isFrozen(n)}var UT="MapSet",DL="Patches",Z9={};function ly(n){const e=Z9[n];return e||Do(0,n),e}var IBe=n=>!!Z9[n],nb,eJ=()=>nb,FBe=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:IBe(UT)?ly(UT):void 0});function O5(n,e){e&&(n.patchPlugin_=ly(DL),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function NL(n){LL(n),n.drafts_.forEach(MBe),n.drafts_=null}function LL(n){n===nb&&(nb=n.parent_)}var H5=n=>nb=FBe(nb,n);function MBe(n){const e=n[as];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function V5(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[as].modified_&&(NL(e),Do(4)),Ho(n)&&(n=K5(e,n));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(t[as].base_,n,e)}else n=K5(e,t);return UBe(e,n,!0),NL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==X9?n:void 0}function K5(n,e){if(cI(e))return e;const t=e[as];if(!t)return Ck(e,n.handledSet_,n);if(!dI(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:r}=t;if(r)for(;r.length>0;)r.pop()(n);rJ(t,n)}return t.copy_}function UBe(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&bk(e,t)}function tJ(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var dI=(n,e)=>n.scope_===e,PBe=[];function nJ(n,e,t,r){const i=pl(n),s=n.type_;if(r!==void 0&&PL(i,r,s)===e){MT(i,r,t,s);return}if(!n.draftLocations_){const o=n.draftLocations_=new Map;nB(i,(l,u)=>{if(xu(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const a=n.draftLocations_.get(e)??PBe;for(const o of a)MT(i,o,t,s)}function RBe(n,e,t){n.callbacks_.push(function(i){var o;const s=e;if(!s||!dI(s,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(s);const a=wk(s);nJ(n,s.draft_??s,a,t),rJ(s,i)})}function rJ(n,e){var r;if(n.modified_&&!n.finalized_&&(n.type_===3||(((r=n.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(n);s&&i.generatePatches_(n,s,e)}tJ(n)}}function DBe(n,e,t){const{scope_:r}=n;if(xu(t)){const i=t[as];dI(i,r)&&i.callbacks_.push(function(){G_(n);const a=wk(i);nJ(n,t,a,e)})}else Ho(t)&&n.callbacks_.push(function(){const s=pl(n);PL(s,e,n.type_)===t&&r.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&Ck(PL(n.copy_,e,n.type_),r.handledSet_,r)})}function Ck(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||xu(n)||e.has(n)||!Ho(n)||cI(n)||(e.add(n),nB(n,(r,i)=>{if(xu(i)){const s=i[as];if(dI(s,t)){const a=wk(s);MT(n,r,a,n.type_),tJ(s)}}else Ho(i)&&Ck(i,e,t)})),n}function NBe(n,e){const t=AI(n),r={type_:t?1:0,scope_:e?e.scope_:eJ(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=Ek;t&&(i=[r],s=rb);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,[o,r]}var Ek={get(n,e){if(e===as)return n;const t=pl(n);if(!k5(t,e,n.type_))return LBe(n,t,e);const r=t[e];if(n.finalized_||!Ho(r))return r;if(r===HP(n.base_,e)){G_(n);const i=n.type_===1?+e:e,s=kL(n.scope_,r,n,i);return n.copy_[i]=s}return r},has(n,e){return e in pl(n)},ownKeys(n){return Reflect.ownKeys(pl(n))},set(n,e,t){const r=iJ(pl(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=HP(pl(n),e),s=i==null?void 0:i[as];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(_Be(t,i)&&(t!==void 0||k5(n.base_,e,n.type_)))return!0;G_(n),QL(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),DBe(n,e,t)),!0},deleteProperty(n,e){return G_(n),HP(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),QL(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=pl(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{[K_]:!0,[UL]:n.type_!==1||e!=="length",[FT]:r[FT],[tb]:t[e]}},defineProperty(){Do(11)},getPrototypeOf(n){return Ay(n.base_)},setPrototypeOf(){Do(12)}},rb={};nB(Ek,(n,e)=>{rb[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});rb.deleteProperty=function(n,e){return rb.set.call(this,n,e,void 0)};rb.set=function(n,e,t){return Ek.set.call(this,n[0],e,t,n[0])};function HP(n,e){const t=n[as];return(t?pl(t):n)[e]}function LBe(n,e,t){var i;const r=iJ(e,t);return r?tb in r?r[tb]:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function iJ(n,e){if(!(e in n))return;let t=Ay(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Ay(t)}}function QL(n){n.modified_||(n.modified_=!0,n.parent_&&QL(n.parent_))}function G_(n){n.copy_||(n.assigned_=new Map,n.copy_=RL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var QBe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,i)=>{if(Og(t)&&!Og(r)){const a=r;r=t;const o=this;return function(u=a,...d){return o.produce(u,h=>r.call(this,h,...d))}}Og(r)||Do(6),i!==void 0&&!Og(i)&&Do(7);let s;if(Ho(t)){const a=H5(this),o=kL(a,t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?NL(a):LL(a)}return O5(a,i),V5(s,a)}else if(!t||!yk(t)){if(s=r(t),s===void 0&&(s=t),s===X9&&(s=void 0),this.autoFreeze_&&bk(s,!0),i){const a=[],o=[];ly(DL).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else Do(1,t)},this.produceWithPatches=(t,r)=>{if(Og(t))return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let i,s;return[this.produce(t,r,(o,l)=>{i=o,s=l}),i,s]},OP(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),OP(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),OP(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ho(e)||Do(8),xu(e)&&(e=ko(e));const t=H5(this),r=kL(t,e,void 0);return r[as].isManual_=!0,LL(t),r}finishDraft(e,t){const r=e&&e[as];(!r||!r.isManual_)&&Do(9);const{scope_:i}=r;return O5(i,t),V5(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const i=ly(DL).applyPatches_;return xu(e)?i(e,t):this.produce(e,s=>i(s,t))}};function kL(n,e,t,r){const[i,s]=lI(e)?ly(UT).proxyMap_(e,t):uI(e)?ly(UT).proxySet_(e,t):NBe(e,t);return((t==null?void 0:t.scope_)??eJ()).drafts_.push(i),s.callbacks_=(t==null?void 0:t.callbacks_)??[],s.key_=r,t&&r!==void 0?RBe(t,s,r):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),i}function ko(n){return xu(n)||Do(10,n),sJ(n)}function sJ(n){if(!Ho(n)||cI(n))return n;const e=n[as];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=RL(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=RL(n,!0);return nB(t,(i,s)=>{MT(t,i,sJ(s))},r),e&&(e.finalized_=!1),t}var kBe=new QBe,aJ=kBe.produce;function oJ(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var OBe=oJ(),HBe=oJ,VBe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?TT:TT.apply(null,arguments)};function lo(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(ga(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>Y9(r)&&r.type===n,t}var AJ=class Iw extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Iw.prototype)}static get[Symbol.species](){return Iw}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Iw(...e[0].concat(this)):new Iw(...e.concat(this))}};function G5(n){return Ho(n)?aJ(n,()=>{}):n}function xx(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function KBe(n){return typeof n=="boolean"}var GBe=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new AJ;return t&&(KBe(t)?a.push(OBe):a.push(HBe(t.extraArgument))),a},lJ="RTK_autoBatch",Vn=()=>n=>({payload:n,meta:{[lJ]:!0}}),z5=n=>e=>{setTimeout(e,n)},uJ=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,a=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:z5(10):n.type==="callback"?n.queueNotification:z5(n.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),g=r.subscribe(h);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[lJ]),s=!i,s&&(a||(a=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},zBe=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new AJ(n);return r&&i.push(uJ(typeof r=="object"?r:void 0)),i};function qBe(n){const e=GBe(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(vk(t))o=W9(t);else throw new Error(ga(1));let l;typeof r=="function"?l=r(e):l=e();let u=TT;i&&(u=VBe({trace:!1,...typeof i=="object"&&i}));const d=SBe(...l),h=zBe(d);let g=typeof a=="function"?a(h):h();const v=u(...g);return j9(o,s,v)}function cJ(n){const e={},t=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(ga(28));if(o in e)throw new Error(ga(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return t.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function $Be(n){return typeof n=="function"}function jBe(n,e){let[t,r,i]=cJ(e),s;if($Be(n))s=()=>G5(n());else{const o=G5(n);s=()=>o}function a(o=s(),l){let u=[t[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(xu(d)){const v=h(d,l);return v===void 0?d:v}else{if(Ho(d))return aJ(d,g=>h(g,l));{const g=h(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return a.getInitialState=s,a}var WBe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",YBe=(n=21)=>{let e="",t=n;for(;t--;)e+=WBe[Math.random()*64|0];return e},XBe=Symbol.for("rtk-slice-createasyncthunk");function JBe(n,e){return`${n}/${e}`}function ZBe({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[XBe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(ga(11));const o=(typeof i.reducers=="function"?i.reducers(tSe()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,U){const D=typeof R=="string"?R:R.type;if(!D)throw new Error(ga(12));if(D in u.sliceCaseReducersByType)throw new Error(ga(13));return u.sliceCaseReducersByType[D]=U,d},addMatcher(R,U){return u.sliceMatchers.push({matcher:R,reducer:U}),d},exposeAction(R,U){return u.actionCreators[R]=U,d},exposeCaseReducer(R,U){return u.sliceCaseReducersByName[R]=U,d}};l.forEach(R=>{const U=o[R],D={reducerName:R,type:JBe(s,R),createNotation:typeof i.reducers=="function"};rSe(U)?sSe(D,U,d,e):nSe(D,U,d)});function h(){const[R={},U=[],D=void 0]=typeof i.extraReducers=="function"?cJ(i.extraReducers):[i.extraReducers],L={...R,...u.sliceCaseReducersByType};return jBe(i.initialState,H=>{for(let k in L)H.addCase(k,L[k]);for(let k of u.sliceMatchers)H.addMatcher(k.matcher,k.reducer);for(let k of U)H.addMatcher(k.matcher,k.reducer);D&&H.addDefaultCase(D)})}const g=R=>R,v=new Map,b=new WeakMap;let C;function B(R,U){return C||(C=h()),C(R,U)}function S(){return C||(C=h()),C.getInitialState()}function I(R,U=!1){function D(H){let k=H[R];return typeof k>"u"&&U&&(k=xx(b,D,S)),k}function L(H=g){const k=xx(v,U,()=>new WeakMap);return xx(k,H,()=>{const G={};for(const[K,z]of Object.entries(i.selectors??{}))G[K]=eSe(z,H,()=>xx(b,H,S),U);return G})}return{reducerPath:R,getSelectors:L,get selectors(){return L(D)},selectSlice:D}}const T={name:s,reducer:B,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...I(a),injectInto(R,{reducerPath:U,...D}={}){const L=U??a;return R.inject({reducerPath:L,reducer:B},D),{...T,...I(L,!0)}}};return T}}function eSe(n,e,t,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=t()),n(o,...a)}return i.unwrapped=n,i}var Us=ZBe();function tSe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function nSe({type:n,reducerName:e,createNotation:t},r,i){let s,a;if("reducer"in r){if(t&&!iSe(r))throw new Error(ga(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,a?lo(n,a):lo(n))}function rSe(n){return n._reducerDefinitionType==="asyncThunk"}function iSe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function sSe({type:n,reducerName:e},t,r,i){if(!i)throw new Error(ga(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=t,h=i(n,s,d);r.exposeAction(e,h),a&&r.addCase(h.fulfilled,a),o&&r.addCase(h.pending,o),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:a||_x,pending:o||_x,rejected:l||_x,settled:u||_x})}function _x(){}var aSe="task",dJ="listener",fJ="completed",Bk="cancelled",oSe=`task-${Bk}`,ASe=`task-${fJ}`,OL=`${dJ}-${Bk}`,lSe=`${dJ}-${fJ}`,fI=class{constructor(n){be(this,"name","TaskAbortError");be(this,"message");this.code=n,this.message=`${aSe} ${Bk} (reason: ${n})`}},Sk=(n,e)=>{if(typeof n!="function")throw new TypeError(ga(32))},PT=()=>{},hJ=(n,e=PT)=>(n.catch(e),n),pJ=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),gp=n=>{if(n.aborted)throw new fI(n.reason)};function gJ(n,e){let t=PT;return new Promise((r,i)=>{const s=()=>i(new fI(n.reason));if(n.aborted){s();return}t=pJ(n,s),e.finally(()=>t()).then(r,i)}).finally(()=>{t=PT})}var uSe=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof fI?"cancelled":"rejected",error:t}}finally{e==null||e()}},RT=n=>e=>hJ(gJ(n,e).then(t=>(gp(n),t))),mJ=n=>{const e=RT(n);return t=>e(new Promise(r=>setTimeout(r,t)))},{assign:im}=Object,q5={},hI="listenerMiddleware",cSe=(n,e)=>{const t=r=>pJ(n,()=>r.abort(n.reason));return(r,i)=>{Sk(r);const s=new AbortController;t(s);const a=uSe(async()=>{gp(n),gp(s.signal);const o=await r({pause:RT(s.signal),delay:mJ(s.signal),signal:s.signal});return gp(s.signal),o},()=>s.abort(ASe));return i!=null&&i.autoJoin&&e.push(a.catch(PT)),{result:RT(n)(a),cancel(){s.abort(oSe)}}}},dSe=(n,e)=>{const t=async(r,i)=>{gp(e);let s=()=>{};const o=[new Promise((l,u)=>{let d=n({predicate:r,effect:(h,g)=>{g.unsubscribe(),l([h,g.getState(),g.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await gJ(e,Promise.race(o));return gp(e),l}finally{s()}};return(r,i)=>hJ(t(r,i))},vJ=n=>{let{type:e,actionCreator:t,matcher:r,predicate:i,effect:s}=n;if(e)i=lo(e).match;else if(t)e=t.type,i=t.match;else if(r)i=r;else if(!i)throw new Error(ga(21));return Sk(s),{predicate:i,type:e,effect:s}},yJ=im(n=>{const{type:e,predicate:t,effect:r}=vJ(n);return{id:YBe(),effect:r,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(ga(22))}}},{withTypes:()=>yJ}),$5=(n,e)=>{const{type:t,effect:r,predicate:i}=vJ(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===i)&&s.effect===r)},HL=n=>{n.pending.forEach(e=>{e.abort(OL)})},fSe=(n,e)=>()=>{for(const t of e.keys())HL(t);n.clear()},j5=(n,e,t)=>{try{n(e,t)}catch(r){setTimeout(()=>{throw r},0)}},wJ=im(lo(`${hI}/add`),{withTypes:()=>wJ}),hSe=lo(`${hI}/removeAll`),bJ=im(lo(`${hI}/remove`),{withTypes:()=>bJ}),pSe=(...n)=>{console.error(`${hI}/error`,...n)},iB=(n={})=>{const e=new Map,t=new Map,r=v=>{const b=t.get(v)??0;t.set(v,b+1)},i=v=>{const b=t.get(v)??1;b===1?t.delete(v):t.set(v,b-1)},{extra:s,onError:a=pSe}=n;Sk(a);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),b=>{v.unsubscribe(),b!=null&&b.cancelActive&&HL(v)}),l=v=>{const b=$5(e,v)??yJ(v);return o(b)};im(l,{withTypes:()=>l});const u=v=>{const b=$5(e,v);return b&&(b.unsubscribe(),v.cancelActive&&HL(b)),!!b};im(u,{withTypes:()=>u});const d=async(v,b,C,B)=>{const S=new AbortController,I=dSe(l,S.signal),T=[];try{v.pending.add(S),r(v),await Promise.resolve(v.effect(b,im({},C,{getOriginalState:B,condition:(R,U)=>I(R,U).then(Boolean),take:I,delay:mJ(S.signal),pause:RT(S.signal),extra:s,signal:S.signal,fork:cSe(S.signal,T),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((R,U,D)=>{R!==S&&(R.abort(OL),D.delete(R))})},cancel:()=>{S.abort(OL),v.pending.delete(S)},throwIfCancelled:()=>{gp(S.signal)}})))}catch(R){R instanceof fI||j5(a,R,{raisedBy:"effect"})}finally{await Promise.all(T),S.abort(lSe),i(v),v.pending.delete(S)}},h=fSe(e,t);return{middleware:v=>b=>C=>{if(!Y9(C))return b(C);if(wJ.match(C))return l(C.payload);if(hSe.match(C)){h();return}if(bJ.match(C))return u(C.payload);let B=v.getState();const S=()=>{if(B===q5)throw new Error(ga(23));return B};let I;try{if(I=b(C),e.size>0){const T=v.getState(),R=Array.from(e.values());for(const U of R){let D=!1;try{D=U.predicate(C,T,B)}catch(L){D=!1,j5(a,L,{raisedBy:"predicate"})}D&&d(U,C,v,S)}}}finally{B=q5}return I},startListening:l,stopListening:u,clearListeners:h}};function ga(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var gSe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},CJ=Us({name:"chartLayout",initialState:gSe,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,r,i,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,n.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:mSe,setLayout:vSe,setChartSize:ySe,setScale:wSe}=CJ.actions,bSe=CJ.reducer;function EJ(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function W5(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function zg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(t),!0).forEach(function(r){CSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):W5(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function CSe(n,e,t){return(e=ESe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ESe(n){var e=BSe(n,"string");return typeof e=="symbol"?e:e+""}function BSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Gi(n,e,t){return si(n)||si(e)?t:DA(e)?oy(n,e,t):typeof e=="function"?e(n):t}var SSe=(n,e,t)=>{if(e&&t){var{width:r,height:i}=t,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&Je(n[s]))return zg(zg({},n),{},{[s]:n[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&Je(n[a]))return zg(zg({},n),{},{[a]:n[a]+(i||0)})}return n},Up=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",Y5=1e-4,xSe=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,r=n.range(),i=Math.min(r[0],r[1])-Y5,s=Math.max(r[0],r[1])+Y5,a=n(e[0]),o=n(e[t-1]);(a<i||a>s||o<i||o>s)&&n.domain([e[0],e[t-1]])}},_Se=(n,e)=>{if(!e||e.length!==2||!Je(e[0])||!Je(e[1]))return n;var t=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[n[0],n[1]];return(!Je(n[0])||n[0]<t)&&(i[0]=t),(!Je(n[1])||n[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<t&&(i[1]=t),i},TSe=n=>{var e=n.length;if(!(e<=0))for(var t=0,r=n[0].length;t<r;++t)for(var i=0,s=0,a=0;a<e;++a){var o=RA(n[a][t][1])?n[a][t][0]:n[a][t][1];o>=0?(n[a][t][0]=i,n[a][t][1]=i+o,i=n[a][t][1]):(n[a][t][0]=s,n[a][t][1]=s+o,s=n[a][t][1])}},ISe=n=>{var e=n.length;if(!(e<=0))for(var t=0,r=n[0].length;t<r;++t)for(var i=0,s=0;s<e;++s){var a=RA(n[s][t][1])?n[s][t][0]:n[s][t][1];a>=0?(n[s][t][0]=i,n[s][t][1]=i+a,i=n[s][t][1]):(n[s][t][0]=0,n[s][t][1]=0)}},FSe={sign:TSe,expand:nEe,none:ay,silhouette:rEe,wiggle:iEe,positive:ISe},MSe=(n,e,t)=>{var r=FSe[t],i=tEe().keys(e).value((s,a)=>Number(Gi(s,a,0))).order(FL).offset(r);return i(n)};function USe(n){return n==null?void 0:String(n)}var X5=n=>{var{axis:e,ticks:t,offset:r,bandSize:i,entry:s,index:a}=n;if(e.type==="category")return t[a]?t[a].coordinate+r:null;var o=Gi(s,e.dataKey,e.scale.domain()[a]);return si(o)?null:e.scale(o)-i/2+r},PSe=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return r<=0&&i>=0?0:i<0?i:r}return t[0]},RSe=n=>{var e=n.flat(2).filter(Je);return[Math.min(...e),Math.max(...e)]},DSe=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],NSe=(n,e,t)=>{if(n!=null)return DSe(Object.keys(n).reduce((r,i)=>{var s=n[i],{stackedData:a}=s,o=a.reduce((l,u)=>{var d=EJ(u,e,t),h=RSe(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},J5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DT=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var r=n.scale.bandwidth();if(!t||r>0)return r}if(n&&e&&e.length>=2){for(var i=aI(e,d=>d.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],u=i[a-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function eq(n){var{tooltipEntrySettings:e,dataKey:t,payload:r,value:i,name:s}=n;return zg(zg({},e),{},{dataKey:t,payload:r,value:i,name:s})}function BJ(n,e){if(n)return String(n);if(typeof e=="string")return e}var LSe=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},QSe=(n,e)=>e==="centric"?n.angle:n.radius,ku=n=>n.layout.width,Ou=n=>n.layout.height,kSe=n=>n.layout.scale,SJ=n=>n.layout.margin,pI=le(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),gI=le(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),OSe="data-recharts-item-index",HSe="data-recharts-item-data-key",sB=60;function tq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Tx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tq(Object(t),!0).forEach(function(r){VSe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function VSe(n,e,t){return(e=KSe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KSe(n){var e=GSe(n,"string");return typeof e=="symbol"?e:e+""}function GSe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var zSe=n=>n.brush.height;function qSe(n){var e=gI(n);return e.reduce((t,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sB;return t+i}return t},0)}function $Se(n){var e=gI(n);return e.reduce((t,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sB;return t+i}return t},0)}function jSe(n){var e=pI(n);return e.reduce((t,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?t+r.height:t,0)}function WSe(n){var e=pI(n);return e.reduce((t,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?t+r.height:t,0)}var ai=le([ku,Ou,SJ,zSe,qSe,$Se,jSe,WSe,$9,yBe],(n,e,t,r,i,s,a,o,l,u)=>{var d={left:(t.left||0)+i,right:(t.right||0)+s},h={top:(t.top||0)+a,bottom:(t.bottom||0)+o},g=Tx(Tx({},h),d),v=g.bottom;g.bottom+=r,g=SSe(g,l,u);var b=n-g.left-g.right,C=e-g.top-g.bottom;return Tx(Tx({brushBottom:v},g),{},{width:Math.max(b,0),height:Math.max(C,0)})}),YSe=le(ai,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),xk=le(ku,Ou,(n,e)=>({x:0,y:0,width:n,height:e})),XSe=F.createContext(null),wa=()=>F.useContext(XSe)!=null,mI=n=>n.brush,vI=le([mI,ai,SJ],(n,e,t)=>({height:n.height,x:Je(n.x)?n.x:e.left,y:Je(n.y)?n.y:e.top+e.height+e.brushBottom-((t==null?void 0:t.bottom)||0),width:Je(n.width)?n.width:e.width})),VP={},KP={},GP={},nq;function JSe(){return nq||(nq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(t.apply(a,o),a=void 0,o=null)},h=()=>{u&&d(),C()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},r)},b=()=>{g!==null&&(clearTimeout(g),g=null)},C=()=>{b(),a=void 0,o=null},B=()=>{d()},S=function(...I){if(i!=null&&i.aborted)return;a=this,o=I;const T=g==null;v(),l&&T&&d()};return S.schedule=v,S.cancel=C,S.flush=B,i==null||i.addEventListener("abort",C,{once:!0}),S}n.debounce=e})(GP)),GP}var rq;function ZSe(){return rq||(rq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=JSe();function t(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const g=e.debounce(function(...C){d=r.apply(this,C),h=null},i,{edges:u}),v=function(...C){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=r.apply(this,C),h=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,C),d)},b=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=b,v}n.debounce=t})(KP)),KP}var iq;function exe(){return iq||(iq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ZSe();function t(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:o})}n.throttle=t})(VP)),VP}var zP,sq;function txe(){return sq||(sq=1,zP=exe().throttle),zP}var nxe=txe();const rxe=kA(nxe);var aq=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>i[a++]))}},xJ=(n,e,t)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=t,o=Su(r)?n:Number(r),l=Su(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},ixe={width:0,height:0,overflow:"visible"},sxe={width:0,overflowX:"visible"},axe={height:0,overflowY:"visible"},oxe={},Axe=n=>{var{width:e,height:t}=n,r=Su(e),i=Su(t);return r&&i?ixe:r?sxe:i?axe:oxe};function lxe(n){var{width:e,height:t,aspect:r}=n,i=e,s=t;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function mr(n){return Number.isFinite(n)}function Yd(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function VL(){return VL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},VL.apply(null,arguments)}function oq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Aq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oq(Object(t),!0).forEach(function(r){uxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uxe(n,e,t){return(e=cxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cxe(n){var e=dxe(n,"string");return typeof e=="symbol"?e:e+""}function dxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var _J=F.createContext({width:-1,height:-1});function fxe(n){return Yd(n.width)&&Yd(n.height)}function TJ(n){var{children:e,width:t,height:r}=n,i=F.useMemo(()=>({width:t,height:r}),[t,r]);return fxe(i)?F.createElement(_J.Provider,{value:i},e):null}var _k=()=>F.useContext(_J),hxe=F.forwardRef((n,e)=>{var{aspect:t,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:h,className:g,onResize:v,style:b={}}=n,C=F.useRef(null),B=F.useRef();B.current=v,F.useImperativeHandle(e,()=>C.current);var[S,I]=F.useState({containerWidth:r.width,containerHeight:r.height}),T=F.useCallback((H,k)=>{I(G=>{var K=Math.round(H),z=Math.round(k);return G.containerWidth===K&&G.containerHeight===z?G:{containerWidth:K,containerHeight:z}})},[]);F.useEffect(()=>{if(C.current==null||typeof ResizeObserver>"u")return tB;var H=z=>{var J,{width:Y,height:ge}=z[0].contentRect;T(Y,ge),(J=B.current)===null||J===void 0||J.call(B,Y,ge)};d>0&&(H=rxe(H,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(H),{width:G,height:K}=C.current.getBoundingClientRect();return T(G,K),k.observe(C.current),()=>{k.disconnect()}},[T,d]);var{containerWidth:R,containerHeight:U}=S;aq(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:D,calculatedHeight:L}=xJ(R,U,{width:i,height:s,aspect:t,maxHeight:l});return aq(D!=null&&D>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,L,i,s,a,o,t),F.createElement("div",{id:h?"".concat(h):void 0,className:Nn("recharts-responsive-container",g),style:Aq(Aq({},b),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:C},F.createElement("div",{style:Axe({width:i,height:s})},F.createElement(TJ,{width:D,height:L},u)))}),pxe=F.forwardRef((n,e)=>{var t=_k();if(Yd(t.width)&&Yd(t.height))return n.children;var{width:r,height:i}=lxe({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:a}=xJ(void 0,void 0,{width:r,height:i,aspect:n.aspect,maxHeight:n.maxHeight});return Je(s)&&Je(a)?F.createElement(TJ,{width:s,height:a},n.children):F.createElement(hxe,VL({},n,{width:r,height:i,ref:e}))});function IJ(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var yI=()=>{var n,e=wa(),t=Ye(YSe),r=Ye(vI),i=(n=Ye(mI))===null||n===void 0?void 0:n.padding;return!e||!r||!i?t:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},gxe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},mxe=()=>{var n;return(n=Ye(ai))!==null&&n!==void 0?n:gxe},vxe=()=>Ye(ku),yxe=()=>Ye(Ou),en=n=>n.layout.layoutType,wI=()=>Ye(en),wxe=()=>{var n=wI();return n!==void 0},bI=n=>{var e=vr(),t=wa(),{width:r,height:i}=n,s=_k(),a=r,o=i;return s&&(a=s.width>0?s.width:r,o=s.height>0?s.height:i),F.useEffect(()=>{!t&&Yd(a)&&Yd(o)&&e(ySe({width:a,height:o}))},[e,t,a,o]),null},FJ=Symbol.for("immer-nothing"),lq=Symbol.for("immer-draftable"),va=Symbol.for("immer-state");function No(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ib=Object.getPrototypeOf;function uy(n){return!!n&&!!n[va]}function Ep(n){var e;return n?MJ(n)||Array.isArray(n)||!!n[lq]||!!((e=n.constructor)!=null&&e[lq])||aB(n)||EI(n):!1}var bxe=Object.prototype.constructor.toString(),uq=new WeakMap;function MJ(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let r=uq.get(t);return r===void 0&&(r=Function.toString.call(t),uq.set(t,r)),r===bxe}function NT(n,e,t=!0){CI(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function CI(n){const e=n[va];return e?e.type_:Array.isArray(n)?1:aB(n)?2:EI(n)?3:0}function KL(n,e){return CI(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function UJ(n,e,t){const r=CI(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function Cxe(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function aB(n){return n instanceof Map}function EI(n){return n instanceof Set}function Mf(n){return n.copy_||n.base_}function GL(n,e){if(aB(n))return new Map(n);if(EI(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=MJ(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[va];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[a]})}return Object.create(ib(n),r)}else{const r=ib(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function Tk(n,e=!1){return BI(n)||uy(n)||!Ep(n)||(CI(n)>1&&Object.defineProperties(n,{set:Ix,add:Ix,clear:Ix,delete:Ix}),Object.freeze(n),e&&Object.values(n).forEach(t=>Tk(t,!0))),n}function Exe(){No(2)}var Ix={value:Exe};function BI(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var Bxe={};function Bp(n){const e=Bxe[n];return e||No(0,n),e}var sb;function PJ(){return sb}function Sxe(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cq(n,e){e&&(Bp("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function zL(n){qL(n),n.drafts_.forEach(xxe),n.drafts_=null}function qL(n){n===sb&&(sb=n.parent_)}function dq(n){return sb=Sxe(sb,n)}function xxe(n){const e=n[va];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function fq(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[va].modified_&&(zL(e),No(4)),Ep(n)&&(n=LT(e,n),e.parent_||QT(e,n)),e.patches_&&Bp("Patches").generateReplacementPatches_(t[va].base_,n,e.patches_,e.inversePatches_)):n=LT(e,t,[]),zL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==FJ?n:void 0}function LT(n,e,t){if(BI(e))return e;const r=n.immer_.shouldUseStrictIteration(),i=e[va];if(!i)return NT(e,(s,a)=>hq(n,i,e,s,a,t),r),e;if(i.scope_!==n)return e;if(!i.modified_)return QT(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),NT(a,(l,u)=>hq(n,i,s,l,u,t,o),r),QT(n,s,!1),t&&n.patches_&&Bp("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function hq(n,e,t,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=BI(i);if(!(o&&!a)){if(uy(i)){const l=s&&e&&e.type_!==3&&!KL(e.assigned_,r)?s.concat(r):void 0,u=LT(n,i,l);if(UJ(t,r,u),uy(u))n.canAutoFreeze_=!1;else return}else a&&t.add(i);if(Ep(i)&&!o){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;LT(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(aB(t)?t.has(r):Object.prototype.propertyIsEnumerable.call(t,r))&&QT(n,i)}}}function QT(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Tk(e,t)}function _xe(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:PJ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Ik;t&&(i=[r],s=ab);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var Ik={get(n,e){if(e===va)return n;const t=Mf(n);if(!KL(t,e))return Txe(n,t,e);const r=t[e];return n.finalized_||!Ep(r)?r:r===qP(n.base_,e)?($P(n),n.copy_[e]=jL(r,n)):r},has(n,e){return e in Mf(n)},ownKeys(n){return Reflect.ownKeys(Mf(n))},set(n,e,t){const r=RJ(Mf(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=qP(Mf(n),e),s=i==null?void 0:i[va];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(Cxe(t,i)&&(t!==void 0||KL(n.base_,e)))return!0;$P(n),$L(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return qP(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,$P(n),$L(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Mf(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){No(11)},getPrototypeOf(n){return ib(n.base_)},setPrototypeOf(){No(12)}},ab={};NT(Ik,(n,e)=>{ab[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ab.deleteProperty=function(n,e){return ab.set.call(this,n,e,void 0)};ab.set=function(n,e,t){return Ik.set.call(this,n[0],e,t,n[0])};function qP(n,e){const t=n[va];return(t?Mf(t):n)[e]}function Txe(n,e,t){var i;const r=RJ(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function RJ(n,e){if(!(e in n))return;let t=ib(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=ib(t)}}function $L(n){n.modified_||(n.modified_=!0,n.parent_&&$L(n.parent_))}function $P(n){n.copy_||(n.copy_=GL(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Ixe=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...u){return a.produce(l,d=>t.call(this,d,...u))}}typeof t!="function"&&No(6),r!==void 0&&typeof r!="function"&&No(7);let i;if(Ep(e)){const s=dq(this),a=jL(e,void 0);let o=!0;try{i=t(a),o=!1}finally{o?zL(s):qL(s)}return cq(s,r),fq(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===FJ&&(i=void 0),this.autoFreeze_&&Tk(i,!0),r){const s=[],a=[];Bp("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else No(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,t,(a,o)=>{r=a,i=o}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof(n==null?void 0:n.useStrictIteration)=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Ep(n)||No(8),uy(n)&&(n=Fxe(n));const e=dq(this),t=jL(n,void 0);return t[va].isManual_=!0,qL(e),t}finishDraft(n,e){const t=n&&n[va];(!t||!t.isManual_)&&No(9);const{scope_:r}=t;return cq(r,e),fq(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=Bp("Patches").applyPatches_;return uy(n)?r(n,e):this.produce(n,i=>r(i,e))}};function jL(n,e){const t=aB(n)?Bp("MapSet").proxyMap_(n,e):EI(n)?Bp("MapSet").proxySet_(n,e):_xe(n,e);return(e?e.scope_:PJ()).drafts_.push(t),t}function Fxe(n){return uy(n)||No(10,n),DJ(n)}function DJ(n){if(!Ep(n)||BI(n))return n;const e=n[va];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=GL(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=GL(n,!0);return NT(t,(i,s)=>{UJ(t,i,DJ(s))},r),e&&(e.finalized_=!1),t}var Mxe=new Ixe;Mxe.produce;var Uxe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},NJ=Us({name:"legend",initialState:Uxe,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:Vn()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:r}=e.payload,i=ko(n).payload.indexOf(t);i>-1&&(n.payload[i]=r)},prepare:Vn()},removeLegendPayload:{reducer(n,e){var t=ko(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:Vn()}}}),{setLegendSize:mke,setLegendSettings:vke,addLegendPayload:Pxe,replaceLegendPayload:Rxe,removeLegendPayload:Dxe}=NJ.actions,Nxe=NJ.reducer;function WL(){return WL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},WL.apply(null,arguments)}function pq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function jP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pq(Object(t),!0).forEach(function(r){Lxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Lxe(n,e,t){return(e=Qxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Qxe(n){var e=kxe(n,"string");return typeof e=="symbol"?e:e+""}function kxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Oxe(n){return Array.isArray(n)&&DA(n[0])&&DA(n[1])?n.join(" ~ "):n}var Hxe=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:g=!1}=n,v=()=>{if(s&&s.length){var U={padding:0,margin:0},D=(o?aI(s,o):s).map((L,H)=>{if(L.type==="none")return null;var k=L.formatter||a||Oxe,{value:G,name:K}=L,z=G,J=K;if(k){var Y=k(G,K,L,H,s);if(Array.isArray(Y))[z,J]=Y;else if(Y!=null)z=Y;else return null}var ge=jP({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},r);return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:ge},DA(J)?F.createElement("span",{className:"recharts-tooltip-item-name"},J):null,DA(J)?F.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,F.createElement("span",{className:"recharts-tooltip-item-value"},z),F.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:U},D)}return null},b=jP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),C=jP({margin:0},i),B=!si(d),S=B?d:"",I=Nn("recharts-default-tooltip",l),T=Nn("recharts-tooltip-label",u);B&&h&&s!==void 0&&s!==null&&(S=h(d,s));var R=g?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",WL({className:I,style:b},R),F.createElement("p",{className:T,style:C},F.isValidElement(S)?S:"".concat(S)),v())},O0="recharts-tooltip-wrapper",Vxe={visibility:"hidden"};function Kxe(n){var{coordinate:e,translateX:t,translateY:r}=n;return Nn(O0,{["".concat(O0,"-right")]:Je(t)&&e&&Je(e.x)&&t>=e.x,["".concat(O0,"-left")]:Je(t)&&e&&Je(e.x)&&t<e.x,["".concat(O0,"-bottom")]:Je(r)&&e&&Je(e.y)&&r>=e.y,["".concat(O0,"-top")]:Je(r)&&e&&Je(e.y)&&r<e.y})}function gq(n){var{allowEscapeViewBox:e,coordinate:t,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=n;if(s&&Je(s[r]))return s[r];var d=t[r]-o-(i>0?i:0),h=t[r]+i;if(e[r])return a[r]?d:h;var g=l[r];if(g==null)return 0;if(a[r]){var v=d,b=g;return v<b?Math.max(h,g):Math.max(d,g)}if(u==null)return 0;var C=h+o,B=g+u;return C>B?Math.max(d,g):Math.max(h,g)}function Gxe(n){var{translateX:e,translateY:t,useTranslate3d:r}=n;return{transform:r?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function zxe(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=n,u,d,h;return a.height>0&&a.width>0&&t?(d=gq({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=gq({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Gxe({translateX:d,translateY:h,useTranslate3d:o})):u=Vxe,{cssProperties:u,cssClasses:Kxe({translateX:d,translateY:h,coordinate:t})}}function mq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Fx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(t),!0).forEach(function(r){YL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function YL(n,e,t){return(e=qxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qxe(n){var e=$xe(n,"string");return typeof e=="symbol"?e:e+""}function $xe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class jxe extends F.PureComponent{constructor(){super(...arguments),YL(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),YL(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&t!==void 0?t:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:b,lastBoundingBox:C,innerRef:B,hasPortalFromProps:S}=this.props,{cssClasses:I,cssProperties:T}=zxe({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:C.height,width:C.width},useTranslate3d:g,viewBox:v}),R=S?{}:Fx(Fx({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),U=Fx(Fx({},R),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return F.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:U,ref:B},s)}}var LJ=()=>{var n;return(n=Ye(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function XL(){return XL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},XL.apply(null,arguments)}function vq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(t),!0).forEach(function(r){Wxe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Wxe(n,e,t){return(e=Yxe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yxe(n){var e=Xxe(n,"string");return typeof e=="symbol"?e:e+""}function Xxe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var wq={curveBasisClosed:GCe,curveBasisOpen:zCe,curveBasis:KCe,curveBumpX:ICe,curveBumpY:FCe,curveLinearClosed:qCe,curveLinear:iI,curveMonotoneX:$Ce,curveMonotoneY:jCe,curveNatural:WCe,curveStep:YCe,curveStepAfter:JCe,curveStepBefore:XCe},kT=n=>mr(n.x)&&mr(n.y),bq=n=>n.base!=null&&kT(n.base)&&kT(n),H0=n=>n.x,V0=n=>n.y,Jxe=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(eB(n));return(t==="curveMonotone"||t==="curveBump")&&e?wq["".concat(t).concat(e==="vertical"?"Y":"X")]:wq[t]||iI},Zxe=n=>{var{type:e="linear",points:t=[],baseLine:r,layout:i,connectNulls:s=!1}=n,a=Jxe(e,i),o=s?t.filter(kT):t,l;if(Array.isArray(r)){var u=t.map((v,b)=>yq(yq({},v),{},{base:r[b]}));i==="vertical"?l=Cx().y(V0).x1(H0).x0(v=>v.base.x):l=Cx().x(H0).y1(V0).y0(v=>v.base.y);var d=l.defined(bq).curve(a),h=s?u.filter(bq):u;return d(h)}i==="vertical"&&Je(r)?l=Cx().y(V0).x1(H0).x0(r):Je(r)?l=Cx().x(H0).y1(V0).y0(r):l=y9().x(H0).y(V0);var g=l.defined(kT).curve(a);return g(o)},QJ=n=>{var{className:e,points:t,path:r,pathRef:i}=n;if((!t||!t.length)&&!r)return null;var s=t&&t.length?Zxe(n):r;return F.createElement("path",XL({},Wd(n),CEe(n),{className:Nn("recharts-curve",e),d:s===null?void 0:s,ref:i}))},e_e=["x","y","top","left","width","height","className"];function JL(){return JL=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JL.apply(null,arguments)}function Cq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function t_e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cq(Object(t),!0).forEach(function(r){n_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Cq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function n_e(n,e,t){return(e=r_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r_e(n){var e=i_e(n,"string");return typeof e=="symbol"?e:e+""}function i_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function s_e(n,e){if(n==null)return{};var t,r,i=a_e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function a_e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var o_e=(n,e,t,r,i,s)=>"M".concat(n,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(t),A_e=n=>{var{x:e=0,y:t=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=n,l=s_e(n,e_e),u=t_e({x:e,y:t,top:r,left:i,width:s,height:a},l);return!Je(e)||!Je(t)||!Je(s)||!Je(a)||!Je(r)||!Je(i)?null:F.createElement("path",JL({},Ao(u),{className:Nn("recharts-cross",o),d:o_e(e,t,s,a,r,i)}))};function l_e(n,e,t,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-i:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-i,width:n==="horizontal"?r:t.width-1,height:n==="horizontal"?t.height-1:r}}function Eq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Bq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Eq(Object(t),!0).forEach(function(r){u_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Eq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function u_e(n,e,t){return(e=c_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function c_e(n){var e=d_e(n,"string");return typeof e=="symbol"?e:e+""}function d_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var f_e=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),kJ=(n,e,t)=>n.map(r=>"".concat(f_e(r)," ").concat(e,"ms ").concat(t)).join(","),h_e=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,r)=>t.filter(i=>r.includes(i))),ob=(n,e)=>Object.keys(e).reduce((t,r)=>Bq(Bq({},t),{},{[r]:n(r,e[r])}),{});function Sq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Qr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sq(Object(t),!0).forEach(function(r){p_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function p_e(n,e,t){return(e=g_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g_e(n){var e=m_e(n,"string");return typeof e=="symbol"?e:e+""}function m_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var OT=(n,e,t)=>n+(e-n)*t,ZL=n=>{var{from:e,to:t}=n;return e!==t},OJ=(n,e,t)=>{var r=ob((i,s)=>{if(ZL(s)){var[a,o]=n(s.from,s.to,s.velocity);return Qr(Qr({},s),{},{from:a,velocity:o})}return s},e);return t<1?ob((i,s)=>ZL(s)?Qr(Qr({},s),{},{velocity:OT(s.velocity,r[i].velocity,t),from:OT(s.from,r[i].from,t)}):s,e):OJ(n,r,t-1)};function v_e(n,e,t,r,i,s){var a,o=r.reduce((g,v)=>Qr(Qr({},g),{},{[v]:{from:n[v],velocity:0,to:e[v]}}),{}),l=()=>ob((g,v)=>v.from,o),u=()=>!Object.values(o).filter(ZL).length,d=null,h=g=>{a||(a=g);var v=g-a,b=v/t.dt;o=OJ(t,o,b),i(Qr(Qr(Qr({},n),e),l())),a=g,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}function y_e(n,e,t,r,i,s,a){var o=null,l=i.reduce((h,g)=>Qr(Qr({},h),{},{[g]:[n[g],e[g]]}),{}),u,d=h=>{u||(u=h);var g=(h-u)/r,v=ob((C,B)=>OT(...B,t(g)),l);if(s(Qr(Qr(Qr({},n),e),v)),g<1)o=a.setTimeout(d);else{var b=ob((C,B)=>OT(...B,t(1)),l);s(Qr(Qr(Qr({},n),e),b))}};return()=>(o=a.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const w_e=(n,e,t,r,i,s)=>{var a=h_e(n,e);return t==null?()=>(i(Qr(Qr({},n),e)),()=>{}):t.isStepper===!0?v_e(n,e,t,a,i,s):y_e(n,e,t,r,a,i,s)};var HT=1e-4,HJ=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],VJ=(n,e)=>n.map((t,r)=>t*e**r).reduce((t,r)=>t+r),xq=(n,e)=>t=>{var r=HJ(n,e);return VJ(r,t)},b_e=(n,e)=>t=>{var r=HJ(n,e),i=[...r.map((s,a)=>s*a).slice(1),0];return VJ(i,t)},C_e=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=t[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]}}}return t.length===4?t:[0,0,1,1]},E_e=(n,e,t,r)=>{var i=xq(n,t),s=xq(e,r),a=b_e(n,t),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,h=d,g=0;g<8;++g){var v=i(h)-d,b=a(h);if(Math.abs(v-d)<HT||b<HT)return s(h);h=o(h-v/b)}return s(h)};return l.isStepper=!1,l},_q=function(){return E_e(...C_e(...arguments))},B_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:r=8,dt:i=17}=e,s=(a,o,l)=>{var u=-(a-o)*t,d=l*r,h=l+(u-d)*i/1e3,g=l*i/1e3+a;return Math.abs(g-o)<HT&&Math.abs(h)<HT?[o,0]:[g,h]};return s.isStepper=!0,s.dt=i,s},S_e=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _q(n);case"spring":return B_e();default:if(n.split("(")[0]==="cubic-bezier")return _q(n)}return typeof n=="function"?n:null};function x_e(n){var e,t=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){i=n.setTimeout(s.bind(null,u),l);return}s(l),i=n.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,t(e)),typeof a=="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(t=a,()=>{t=()=>null}),getTimeoutController:()=>n}}class __e{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=t?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function T_e(){return x_e(new __e)}var I_e=F.createContext(T_e);function F_e(n,e){var t=F.useContext(I_e);return F.useMemo(()=>e??t(n),[n,e,t])}var M_e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),oB={devToolsEnabled:!1,isSsr:M_e()},U_e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Tq={t:0},WP={t:1};function Fk(n){var e=co(n,U_e),{isActive:t,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=t==="auto"?!oB.isSsr:t,h=F_e(e.animationId,e.animationManager),[g,v]=F.useState(d?Tq:WP),b=F.useRef(null);return F.useEffect(()=>{d||v(WP)},[d]),F.useEffect(()=>{if(!d||!r)return tB;var C=w_e(Tq,WP,S_e(s),i,v,h.getTimeoutController()),B=()=>{b.current=C()};return h.start([l,a,B,i,o]),()=>{h.stop(),b.current&&b.current(),o()}},[d,r,i,s,a,l,o,h]),u(g.t)}function Mk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=F.useRef(eb(e)),r=F.useRef(n);return r.current!==n&&(t.current=eb(e),r.current=n),t.current}var P_e=["radius"],R_e=["radius"];function Iq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Fq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Iq(Object(t),!0).forEach(function(r){D_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Iq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function D_e(n,e,t){return(e=N_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function N_e(n){var e=L_e(n,"string");return typeof e=="symbol"?e:e+""}function L_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function VT(){return VT=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},VT.apply(null,arguments)}function Mq(n,e){if(n==null)return{};var t,r,i=Q_e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Q_e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var Uq=(n,e,t,r,i)=>{var s=Math.min(Math.abs(t)/2,Math.abs(r)/2),a=r>=0?1:-1,o=t>=0?1:-1,l=r>=0&&t>=0||r<0&&t<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=i[h]>s?s:i[h];u="M".concat(n,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(n+o*d[0],",").concat(e)),u+="L ".concat(n+t-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(n+t,",").concat(e+a*d[1])),u+="L ".concat(n+t,",").concat(e+r-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(n+t-o*d[2],",").concat(e+r)),u+="L ".concat(n+o*d[3],",").concat(e+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(n,",").concat(e+r-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);u="M ".concat(n,",").concat(e+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+o*v,",").concat(e,`
            L `).concat(n+t-o*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t,",").concat(e+a*v,`
            L `).concat(n+t,",").concat(e+r-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n+t-o*v,",").concat(e+r,`
            L `).concat(n+o*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(n,",").concat(e+r-a*v," Z")}else u="M ".concat(n,",").concat(e," h ").concat(t," v ").concat(r," h ").concat(-t," Z");return u},Pq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KJ=n=>{var e=co(n,Pq),t=F.useRef(null),[r,i]=F.useState(-1);F.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var j=t.current.getTotalLength();j&&i(j)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:b,isUpdateAnimationActive:C}=e,B=F.useRef(o),S=F.useRef(l),I=F.useRef(s),T=F.useRef(a),R=F.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),U=Mk(R,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var D=Nn("recharts-rectangle",d);if(!C){var L=Ao(e),{radius:H}=L,k=Mq(L,P_e);return F.createElement("path",VT({},k,{radius:typeof u=="number"?u:void 0,className:D,d:Uq(s,a,o,l,u)}))}var G=B.current,K=S.current,z=I.current,J=T.current,Y="0px ".concat(r===-1?1:r,"px"),ge="".concat(r,"px 0px"),V=kJ(["strokeDasharray"],g,typeof h=="string"?h:Pq.animationEasing);return F.createElement(Fk,{animationId:U,key:U,canBegin:r>0,duration:g,easing:h,isActive:C,begin:v},j=>{var re=Bi(G,o,j),he=Bi(K,l,j),Ee=Bi(z,s,j),q=Bi(J,a,j);t.current&&(B.current=re,S.current=he,I.current=Ee,T.current=q);var X;b?j>0?X={transition:V,strokeDasharray:ge}:X={strokeDasharray:Y}:X={strokeDasharray:ge};var oe=Ao(e),{radius:Ce}=oe,se=Mq(oe,R_e);return F.createElement("path",VT({},se,{radius:typeof u=="number"?u:void 0,className:D,d:Uq(Ee,q,re,he,u),ref:t,style:Fq(Fq({},X),e.style)}))})};function Rq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Dq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rq(Object(t),!0).forEach(function(r){k_e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function k_e(n,e,t){return(e=O_e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function O_e(n){var e=H_e(n,"string");return typeof e=="symbol"?e:e+""}function H_e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var KT=Math.PI/180,V_e=n=>n*180/Math.PI,Ti=(n,e,t,r)=>({x:n+Math.cos(-KT*r)*t,y:e+Math.sin(-KT*r)*t}),K_e=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},G_e=(n,e)=>{var{x:t,y:r}=n,{x:i,y:s}=e;return Math.sqrt((t-i)**2+(r-s)**2)},z_e=(n,e)=>{var{x:t,y:r}=n,{cx:i,cy:s}=e,a=G_e({x:t,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(t-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:V_e(l),angleInRadian:l}},q_e=n=>{var{startAngle:e,endAngle:t}=n,r=Math.floor(e/360),i=Math.floor(t/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:t-s*360}},$_e=(n,e)=>{var{startAngle:t,endAngle:r}=e,i=Math.floor(t/360),s=Math.floor(r/360),a=Math.min(i,s);return n+a*360},j_e=(n,e)=>{var{chartX:t,chartY:r}=n,{radius:i,angle:s}=z_e({x:t,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:u}=q_e(e),d=s,h;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=l}return h?Dq(Dq({},e),{},{radius:i,angle:$_e(d,e)}):null};function GJ(n){var{cx:e,cy:t,radius:r,startAngle:i,endAngle:s}=n,a=Ti(e,t,r,i),o=Ti(e,t,r,s);return{points:[a,o],cx:e,cy:t,radius:r,startAngle:i,endAngle:s}}function eQ(){return eQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eQ.apply(null,arguments)}var W_e=(n,e)=>{var t=ha(e-n),r=Math.min(Math.abs(e-n),359.999);return t*r},Mx=n=>{var{cx:e,cy:t,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=n,u=o*(a?1:-1)+r,d=Math.asin(o/u)/KT,h=l?i:i+s*d,g=Ti(e,t,u,h),v=Ti(e,t,r,h),b=l?i-s*d:i,C=Ti(e,t,u*Math.cos(d*KT),b);return{center:g,circleTangency:v,lineTangency:C,theta:d}},zJ=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=n,o=W_e(s,a),l=s+o,u=Ti(e,t,i,s),d=Ti(e,t,i,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var g=Ti(e,t,r,s),v=Ti(e,t,r,l);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(e,",").concat(t," Z");return h},Y_e=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=n,d=ha(u-l),{circleTangency:h,lineTangency:g,theta:v}=Mx({cx:e,cy:t,radius:i,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:b,lineTangency:C,theta:B}=Mx({cx:e,cy:t,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(l-u):Math.abs(l-u)-v-B;if(S<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):zJ({cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var I="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:R,theta:U}=Mx({cx:e,cy:t,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:D,lineTangency:L,theta:H}=Mx({cx:e,cy:t,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-u):Math.abs(l-u)-U-H;if(k<0&&s===0)return"".concat(I,"L").concat(e,",").concat(t,"Z");I+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,"Z")}else I+="L".concat(e,",").concat(t,"Z");return I},X_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qJ=n=>{var e=co(n,X_e),{cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:h}=e;if(s<i||u===d)return null;var g=Nn("recharts-sector",h),v=s-i,b=Oo(a,v,0,!0),C;return b>0&&Math.abs(u-d)<360?C=Y_e({cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):C=zJ({cx:t,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),F.createElement("path",eQ({},Ao(e),{className:g,d:C}))};function J_e(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(R9(e)){if(n==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,l=Ti(r,i,s,o),u=Ti(r,i,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return GJ(e)}}var YP={},XP={},JP={},Nq;function Z_e(){return Nq||(Nq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=z9();function t(r){return e.isSymbol(r)?NaN:Number(r)}n.toNumber=t})(JP)),JP}var Lq;function eTe(){return Lq||(Lq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Z_e();function t(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}n.toFinite=t})(XP)),XP}var Qq;function tTe(){return Qq||(Qq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=q9(),t=eTe();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=t.toFinite(i),s===void 0?(s=i,i=0):s=t.toFinite(s),a=a===void 0?i<s?1:-1:t.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=a;return l}n.range=r})(YP)),YP}var ZP,kq;function nTe(){return kq||(kq=1,ZP=tTe().range),ZP}var rTe=nTe();const $J=kA(rTe);function zd(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function iTe(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Uk(n){let e,t,r;n.length!==2?(e=zd,t=(o,l)=>zd(n(o),l),r=(o,l)=>n(o)-l):(e=n===zd||n===iTe?n:sTe,t=n,r=n);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;t(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){const h=i(o,l,u,d-1);return h>u&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function sTe(){return 0}function jJ(n){return n===null?NaN:+n}function*aTe(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const oTe=Uk(zd),AB=oTe.right;Uk(jJ).center;class Oq extends Map{constructor(e,t=uTe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Hq(this,e))}has(e){return super.has(Hq(this,e))}set(e,t){return super.set(ATe(this,e),t)}delete(e){return super.delete(lTe(this,e))}}function Hq({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function ATe({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function lTe({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function uTe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function cTe(n=zd){if(n===zd)return WJ;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function WJ(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const dTe=Math.sqrt(50),fTe=Math.sqrt(10),hTe=Math.sqrt(2);function GT(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=dTe?10:s>=fTe?5:s>=hTe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(n*u),l=Math.round(e*u),o/u<n&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(n/u),l=Math.round(e/u),o*u<n&&++o,l*u>e&&--l),l<o&&.5<=t&&t<2?GT(n,e,t*2):[o,l,u]}function tQ(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,s,a]=r?GT(e,n,t):GT(n,e,t);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function nQ(n,e,t){return e=+e,n=+n,t=+t,GT(n,e,t)[2]}function rQ(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?nQ(e,n,t):nQ(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function Vq(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function Kq(n,e){let t;for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);return t}function YJ(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?WJ:cTe(i);r>t;){if(r-t>600){const l=r-t+1,u=e-t+1,d=Math.log(l),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),v=Math.max(t,Math.floor(e-u*h/l+g)),b=Math.min(r,Math.floor(e+(l-u)*h/l+g));YJ(n,e,v,b,i)}const s=n[e];let a=t,o=r;for(K0(n,t,e),i(n[r],s)>0&&K0(n,t,r);a<o;){for(K0(n,a,o),++a,--o;i(n[a],s)<0;)++a;for(;i(n[o],s)>0;)--o}i(n[t],s)===0?K0(n,t,o):(++o,K0(n,o,r)),o<=e&&(t=o+1),e<=o&&(r=o-1)}return n}function K0(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function pTe(n,e,t){if(n=Float64Array.from(aTe(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return Kq(n);if(e>=1)return Vq(n);var r,i=(r-1)*e,s=Math.floor(i),a=Vq(YJ(n,s).subarray(0,s+1)),o=Kq(n.subarray(s+1));return a+(o-a)*(i-s)}}function gTe(n,e,t=jJ){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,s=Math.floor(i),a=+t(n[s],s,n),o=+t(n[s+1],s+1,n);return a+(o-a)*(i-s)}}function mTe(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(i);++r<i;)s[r]=n+r*t;return s}function fo(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Hu(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const iQ=Symbol("implicit");function Pk(){var n=new Oq,e=[],t=[],r=iQ;function i(s){let a=n.get(s);if(a===void 0){if(r!==iQ)return r;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new Oq;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(t=Array.from(s),i):t.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Pk(e,t).unknown(r)},fo.apply(i,arguments),i}function Rk(){var n=Pk().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,s,a,o=!1,l=0,u=0,d=.5;delete n.unknown;function h(){var g=e().length,v=i<r,b=v?i:r,C=v?r:i;s=(C-b)/Math.max(1,g-l+u*2),o&&(s=Math.floor(s)),b+=(C-b-s*(g-l))*d,a=s*(1-l),o&&(b=Math.round(b),a=Math.round(a));var B=mTe(g).map(function(S){return b+s*S});return t(v?B.reverse():B)}return n.domain=function(g){return arguments.length?(e(g),h()):e()},n.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,h()):[r,i]},n.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,o=!0,h()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(g){return arguments.length?(o=!!g,h()):o},n.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},n.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},n.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},n.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},n.copy=function(){return Rk(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},fo.apply(h(),arguments)}function XJ(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return XJ(e())},n}function vTe(){return XJ(Rk.apply(null,arguments).paddingInner(1))}function Dk(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function JJ(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function lB(){}var Ab=.7,zT=1/Ab,sm="\\s*([+-]?\\d+)\\s*",lb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",PA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yTe=/^#([0-9a-f]{3,8})$/,wTe=new RegExp(`^rgb\\(${sm},${sm},${sm}\\)$`),bTe=new RegExp(`^rgb\\(${PA},${PA},${PA}\\)$`),CTe=new RegExp(`^rgba\\(${sm},${sm},${sm},${lb}\\)$`),ETe=new RegExp(`^rgba\\(${PA},${PA},${PA},${lb}\\)$`),BTe=new RegExp(`^hsl\\(${lb},${PA},${PA}\\)$`),STe=new RegExp(`^hsla\\(${lb},${PA},${PA},${lb}\\)$`),Gq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dk(lB,ub,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:zq,formatHex:zq,formatHex8:xTe,formatHsl:_Te,formatRgb:qq,toString:qq});function zq(){return this.rgb().formatHex()}function xTe(){return this.rgb().formatHex8()}function _Te(){return ZJ(this).formatHsl()}function qq(){return this.rgb().formatRgb()}function ub(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=yTe.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?$q(e):t===3?new Fs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Ux(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Ux(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wTe.exec(n))?new Fs(e[1],e[2],e[3],1):(e=bTe.exec(n))?new Fs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=CTe.exec(n))?Ux(e[1],e[2],e[3],e[4]):(e=ETe.exec(n))?Ux(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=BTe.exec(n))?Yq(e[1],e[2]/100,e[3]/100,1):(e=STe.exec(n))?Yq(e[1],e[2]/100,e[3]/100,e[4]):Gq.hasOwnProperty(n)?$q(Gq[n]):n==="transparent"?new Fs(NaN,NaN,NaN,0):null}function $q(n){return new Fs(n>>16&255,n>>8&255,n&255,1)}function Ux(n,e,t,r){return r<=0&&(n=e=t=NaN),new Fs(n,e,t,r)}function TTe(n){return n instanceof lB||(n=ub(n)),n?(n=n.rgb(),new Fs(n.r,n.g,n.b,n.opacity)):new Fs}function sQ(n,e,t,r){return arguments.length===1?TTe(n):new Fs(n,e,t,r??1)}function Fs(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}Dk(Fs,sQ,JJ(lB,{brighter(n){return n=n==null?zT:Math.pow(zT,n),new Fs(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Ab:Math.pow(Ab,n),new Fs(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Fs(mp(this.r),mp(this.g),mp(this.b),qT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jq,formatHex:jq,formatHex8:ITe,formatRgb:Wq,toString:Wq}));function jq(){return`#${Qf(this.r)}${Qf(this.g)}${Qf(this.b)}`}function ITe(){return`#${Qf(this.r)}${Qf(this.g)}${Qf(this.b)}${Qf((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wq(){const n=qT(this.opacity);return`${n===1?"rgb(":"rgba("}${mp(this.r)}, ${mp(this.g)}, ${mp(this.b)}${n===1?")":`, ${n})`}`}function qT(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function mp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Qf(n){return n=mp(n),(n<16?"0":"")+n.toString(16)}function Yq(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Lo(n,e,t,r)}function ZJ(n){if(n instanceof Lo)return new Lo(n.h,n.s,n.l,n.opacity);if(n instanceof lB||(n=ub(n)),!n)return new Lo;if(n instanceof Lo)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(t-r)/o+(t<r)*6:t===s?a=(r-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Lo(a,o,l,n.opacity)}function FTe(n,e,t,r){return arguments.length===1?ZJ(n):new Lo(n,e,t,r??1)}function Lo(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}Dk(Lo,FTe,JJ(lB,{brighter(n){return n=n==null?zT:Math.pow(zT,n),new Lo(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Ab:Math.pow(Ab,n),new Lo(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new Fs(eR(n>=240?n-240:n+120,i,r),eR(n,i,r),eR(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Lo(Xq(this.h),Px(this.s),Px(this.l),qT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=qT(this.opacity);return`${n===1?"hsl(":"hsla("}${Xq(this.h)}, ${Px(this.s)*100}%, ${Px(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Xq(n){return n=(n||0)%360,n<0?n+360:n}function Px(n){return Math.max(0,Math.min(1,n||0))}function eR(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const Nk=n=>()=>n;function MTe(n,e){return function(t){return n+t*e}}function UTe(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function PTe(n){return(n=+n)==1?e7:function(e,t){return t-e?UTe(e,t,n):Nk(isNaN(e)?t:e)}}function e7(n,e){var t=e-n;return t?MTe(n,t):Nk(isNaN(n)?e:n)}const Jq=(function n(e){var t=PTe(e);function r(i,s){var a=t((i=sQ(i)).r,(s=sQ(s)).r),o=t(i.g,s.g),l=t(i.b,s.b),u=e7(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=n,r})(1);function RTe(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(s){for(i=0;i<t;++i)r[i]=n[i]*(1-s)+e[i]*s;return r}}function DTe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function NTe(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),s=new Array(t),a;for(a=0;a<r;++a)i[a]=Sy(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function LTe(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function $T(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function QTe(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=Sy(n[i],e[i]):r[i]=e[i];return function(s){for(i in t)r[i]=t[i](s);return r}}var aQ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tR=new RegExp(aQ.source,"g");function kTe(n){return function(){return n}}function OTe(n){return function(e){return n(e)+""}}function HTe(n,e){var t=aQ.lastIndex=tR.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(r=aQ.exec(n))&&(i=tR.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:$T(r,i)})),t=tR.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?OTe(l[0].x):kTe(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function Sy(n,e){var t=typeof e,r;return e==null||t==="boolean"?Nk(e):(t==="number"?$T:t==="string"?(r=ub(e))?(e=r,Jq):HTe:e instanceof ub?Jq:e instanceof Date?LTe:DTe(e)?RTe:Array.isArray(e)?NTe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?QTe:$T)(n,e)}function Lk(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function VTe(n,e){e===void 0&&(e=n,n=Sy);for(var t=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);t<r;)s[t]=n(i,i=e[++t]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function KTe(n){return function(){return n}}function jT(n){return+n}var Zq=[0,1];function rs(n){return n}function oQ(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:KTe(isNaN(e)?NaN:.5)}function GTe(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function zTe(n,e,t){var r=n[0],i=n[1],s=e[0],a=e[1];return i<r?(r=oQ(i,r),s=t(a,s)):(r=oQ(r,i),s=t(s,a)),function(o){return s(r(o))}}function qTe(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=oQ(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=AB(n,o,1,r)-1;return s[l](i[l](o))}}function uB(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function SI(){var n=Zq,e=Zq,t=Sy,r,i,s,a=rs,o,l,u;function d(){var g=Math.min(n.length,e.length);return a!==rs&&(a=GTe(n[0],n[g-1])),o=g>2?qTe:zTe,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?s:(l||(l=o(n.map(r),e,t)))(r(a(g)))}return h.invert=function(g){return a(i((u||(u=o(e,n.map(r),$T)))(g)))},h.domain=function(g){return arguments.length?(n=Array.from(g,jT),d()):n.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),t=Lk,d()},h.clamp=function(g){return arguments.length?(a=g?!0:rs,d()):a!==rs},h.interpolate=function(g){return arguments.length?(t=g,d()):t},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return r=g,i=v,d()}}function Qk(){return SI()(rs,rs)}function $Te(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function WT(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function cy(n){return n=WT(Math.abs(n)),n?n[1]:NaN}function jTe(n,e){return function(t,r){for(var i=t.length,s=[],a=0,o=n[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(t.substring(i-=o,i+o)),!((l+=o+1)>r));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function WTe(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var YTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cb(n){if(!(e=YTe.exec(n)))throw new Error("invalid format: "+n);var e;return new kk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}cb.prototype=kk.prototype;function kk(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}kk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XTe(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var t7;function JTe(n,e){var t=WT(n,e);if(!t)return n+"";var r=t[0],i=t[1],s=i-(t7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+WT(n,Math.max(0,e+s-1))[0]}function e$(n,e){var t=WT(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const t$={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:$Te,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>e$(n*100,e),r:e$,s:JTe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function n$(n){return n}var r$=Array.prototype.map,i$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZTe(n){var e=n.grouping===void 0||n.thousands===void 0?n$:jTe(r$.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?n$:WTe(r$.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(h){h=cb(h);var g=h.fill,v=h.align,b=h.sign,C=h.symbol,B=h.zero,S=h.width,I=h.comma,T=h.precision,R=h.trim,U=h.type;U==="n"?(I=!0,U="g"):t$[U]||(T===void 0&&(T=12),R=!0,U="g"),(B||g==="0"&&v==="=")&&(B=!0,g="0",v="=");var D=C==="$"?t:C==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",L=C==="$"?r:/[%p]/.test(U)?a:"",H=t$[U],k=/[defgprs%]/.test(U);T=T===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function G(K){var z=D,J=L,Y,ge,V;if(U==="c")J=H(K)+J,K="";else{K=+K;var j=K<0||1/K<0;if(K=isNaN(K)?l:H(Math.abs(K),T),R&&(K=XTe(K)),j&&+K==0&&b!=="+"&&(j=!1),z=(j?b==="("?b:o:b==="-"||b==="("?"":b)+z,J=(U==="s"?i$[8+t7/3]:"")+J+(j&&b==="("?")":""),k){for(Y=-1,ge=K.length;++Y<ge;)if(V=K.charCodeAt(Y),48>V||V>57){J=(V===46?i+K.slice(Y+1):K.slice(Y))+J,K=K.slice(0,Y);break}}}I&&!B&&(K=e(K,1/0));var re=z.length+K.length+J.length,he=re<S?new Array(S-re+1).join(g):"";switch(I&&B&&(K=e(he+K,he.length?S-J.length:1/0),he=""),v){case"<":K=z+K+J+he;break;case"=":K=z+he+K+J;break;case"^":K=he.slice(0,re=he.length>>1)+z+K+J+he.slice(re);break;default:K=he+z+K+J;break}return s(K)}return G.toString=function(){return h+""},G}function d(h,g){var v=u((h=cb(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(cy(g)/3)))*3,C=Math.pow(10,-b),B=i$[8+b/3];return function(S){return v(C*S)+B}}return{format:u,formatPrefix:d}}var Rx,Ok,n7;e1e({thousands:",",grouping:[3],currency:["$",""]});function e1e(n){return Rx=ZTe(n),Ok=Rx.format,n7=Rx.formatPrefix,Rx}function t1e(n){return Math.max(0,-cy(Math.abs(n)))}function n1e(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cy(e)/3)))*3-cy(Math.abs(n)))}function r1e(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,cy(e)-cy(n))+1}function r7(n,e,t,r){var i=rQ(n,e,t),s;switch(r=cb(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(s=n1e(i,a))&&(r.precision=s),n7(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=r1e(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=t1e(i))&&(r.precision=s-(r.type==="%")*2);break}}return Ok(r)}function tf(n){var e=n.domain;return n.ticks=function(t){var r=e();return tQ(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return r7(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=nQ(a,o,t),u===l)return r[i]=a,r[s]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return n},n}function i7(){var n=Qk();return n.copy=function(){return uB(n,i7())},fo.apply(n,arguments),tf(n)}function s7(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,jT),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return s7(n).unknown(e)},n=arguments.length?Array.from(n,jT):[0,1],tf(t)}function a7(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],s=n[r],a;return s<i&&(a=t,t=r,r=a,a=i,i=s,s=a),n[t]=e.floor(i),n[r]=e.ceil(s),n}function s$(n){return Math.log(n)}function a$(n){return Math.exp(n)}function i1e(n){return-Math.log(-n)}function s1e(n){return-Math.exp(-n)}function a1e(n){return isFinite(n)?+("1e"+n):n<0?0:n}function o1e(n){return n===10?a1e:n===Math.E?Math.exp:e=>Math.pow(n,e)}function A1e(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function o$(n){return(e,t)=>-n(-e,t)}function Hk(n){const e=n(s$,a$),t=e.domain;let r=10,i,s;function a(){return i=A1e(r),s=o1e(r),t()[0]<0?(i=o$(i),s=o$(s),n(i1e,s1e)):n(s$,a$),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=i(u),v=i(d),b,C;const B=o==null?10:+o;let S=[];if(!(r%1)&&v-g<B){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(b=1;b<r;++b)if(C=g<0?b/s(-g):b*s(g),!(C<u)){if(C>d)break;S.push(C)}}else for(;g<=v;++g)for(b=r-1;b>=1;--b)if(C=g>0?b/s(-g):b*s(g),!(C<u)){if(C>d)break;S.push(C)}S.length*2<B&&(S=tQ(u,d,B))}else S=tQ(g,v,Math.min(v-g,B)).map(s);return h?S.reverse():S},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=cb(l)).precision==null&&(l.trim=!0),l=Ok(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=u?l(d):""}},e.nice=()=>t(a7(t(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function o7(){const n=Hk(SI()).domain([1,10]);return n.copy=()=>uB(n,o7()).base(n.base()),fo.apply(n,arguments),n}function A$(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function l$(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function Vk(n){var e=1,t=n(A$(e),l$(e));return t.constant=function(r){return arguments.length?n(A$(e=+r),l$(e)):e},tf(t)}function A7(){var n=Vk(SI());return n.copy=function(){return uB(n,A7()).constant(n.constant())},fo.apply(n,arguments)}function u$(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function l1e(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function u1e(n){return n<0?-n*n:n*n}function Kk(n){var e=n(rs,rs),t=1;function r(){return t===1?n(rs,rs):t===.5?n(l1e,u1e):n(u$(t),u$(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},tf(e)}function Gk(){var n=Kk(SI());return n.copy=function(){return uB(n,Gk()).exponent(n.exponent())},fo.apply(n,arguments),n}function c1e(){return Gk.apply(null,arguments).exponent(.5)}function c$(n){return Math.sign(n)*n*n}function d1e(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function l7(){var n=Qk(),e=[0,1],t=!1,r;function i(s){var a=d1e(n(s));return isNaN(a)?r:t?Math.round(a):a}return i.invert=function(s){return n.invert(c$(s))},i.domain=function(s){return arguments.length?(n.domain(s),i):n.domain()},i.range=function(s){return arguments.length?(n.range((e=Array.from(s,jT)).map(c$)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(t=!!s,i):t},i.clamp=function(s){return arguments.length?(n.clamp(s),i):n.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return l7(n.domain(),e).round(t).clamp(n.clamp()).unknown(r)},fo.apply(i,arguments),tf(i)}function u7(){var n=[],e=[],t=[],r;function i(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=gTe(n,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[AB(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},s.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let o of a)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(zd),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return t.slice()},s.copy=function(){return u7().domain(n).range(e).unknown(r)},fo.apply(s,arguments)}function c7(){var n=0,e=1,t=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[AB(r,l,0,t)]:s}function o(){var l=-1;for(r=new Array(t);++l<t;)r[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,o()):[n,e]},a.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[n,r[0]]:u>=t?[r[t-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return c7().domain([n,e]).range(i).unknown(s)},fo.apply(tf(a),arguments)}function d7(){var n=[.5],e=[0,1],t,r=1;function i(s){return s!=null&&s<=s?e[AB(n,s,0,r)]:t}return i.domain=function(s){return arguments.length?(n=Array.from(s),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},i.unknown=function(s){return arguments.length?(t=s,i):t},i.copy=function(){return d7().domain(n).range(e).unknown(t)},fo.apply(i,arguments)}const nR=new Date,rR=new Date;function Hr(n,e,t,r){function i(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(n(s=new Date(+s)),s),i.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),n(s);while(u<s&&s<a);return l},i.filter=s=>Hr(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(i.count=(s,a)=>(nR.setTime(+s),rR.setTime(+a),n(nR),n(rR),Math.floor(t(nR,rR))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const YT=Hr(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);YT.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Hr(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):YT);YT.range;const du=1e3,ro=du*60,fu=ro*60,_u=fu*24,zk=_u*7,d$=_u*30,iR=_u*365,kf=Hr(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*du)},(n,e)=>(e-n)/du,n=>n.getUTCSeconds());kf.range;const qk=Hr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*du)},(n,e)=>{n.setTime(+n+e*ro)},(n,e)=>(e-n)/ro,n=>n.getMinutes());qk.range;const $k=Hr(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*ro)},(n,e)=>(e-n)/ro,n=>n.getUTCMinutes());$k.range;const jk=Hr(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*du-n.getMinutes()*ro)},(n,e)=>{n.setTime(+n+e*fu)},(n,e)=>(e-n)/fu,n=>n.getHours());jk.range;const Wk=Hr(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*fu)},(n,e)=>(e-n)/fu,n=>n.getUTCHours());Wk.range;const cB=Hr(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*ro)/_u,n=>n.getDate()-1);cB.range;const xI=Hr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/_u,n=>n.getUTCDate()-1);xI.range;const f7=Hr(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/_u,n=>Math.floor(n/_u));f7.range;function Pp(n){return Hr(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ro)/zk)}const _I=Pp(0),XT=Pp(1),f1e=Pp(2),h1e=Pp(3),dy=Pp(4),p1e=Pp(5),g1e=Pp(6);_I.range;XT.range;f1e.range;h1e.range;dy.range;p1e.range;g1e.range;function Rp(n){return Hr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/zk)}const TI=Rp(0),JT=Rp(1),m1e=Rp(2),v1e=Rp(3),fy=Rp(4),y1e=Rp(5),w1e=Rp(6);TI.range;JT.range;m1e.range;v1e.range;fy.range;y1e.range;w1e.range;const Yk=Hr(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());Yk.range;const Xk=Hr(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());Xk.range;const Tu=Hr(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());Tu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Hr(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});Tu.range;const Iu=Hr(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Iu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Hr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});Iu.range;function h7(n,e,t,r,i,s){const a=[[kf,1,du],[kf,5,5*du],[kf,15,15*du],[kf,30,30*du],[s,1,ro],[s,5,5*ro],[s,15,15*ro],[s,30,30*ro],[i,1,fu],[i,3,3*fu],[i,6,6*fu],[i,12,12*fu],[r,1,_u],[r,2,2*_u],[t,1,zk],[e,1,d$],[e,3,3*d$],[n,1,iR]];function o(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const v=h&&typeof h.range=="function"?h:l(u,d,h),b=v?v.range(u,+d+1):[];return g?b.reverse():b}function l(u,d,h){const g=Math.abs(d-u)/h,v=Uk(([,,B])=>B).right(a,g);if(v===a.length)return n.every(rQ(u/iR,d/iR,h));if(v===0)return YT.every(Math.max(rQ(u,d,h),1));const[b,C]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return b.every(C)}return[o,l]}const[b1e,C1e]=h7(Iu,Xk,TI,f7,Wk,$k),[E1e,B1e]=h7(Tu,Yk,_I,cB,jk,qk);function sR(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function aR(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function G0(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function S1e(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,s=n.days,a=n.shortDays,o=n.months,l=n.shortMonths,u=z0(i),d=q0(i),h=z0(s),g=q0(s),v=z0(a),b=q0(a),C=z0(o),B=q0(o),S=z0(l),I=q0(l),T={a:j,A:re,b:he,B:Ee,c:null,d:v$,e:v$,f:j1e,g:iIe,G:aIe,H:z1e,I:q1e,j:$1e,L:p7,m:W1e,M:Y1e,p:q,q:X,Q:b$,s:C$,S:X1e,u:J1e,U:Z1e,V:eIe,w:tIe,W:nIe,x:null,X:null,y:rIe,Y:sIe,Z:oIe,"%":w$},R={a:oe,A:Ce,b:se,B:ce,c:null,d:y$,e:y$,f:cIe,g:bIe,G:EIe,H:AIe,I:lIe,j:uIe,L:m7,m:dIe,M:fIe,p:ue,q:Se,Q:b$,s:C$,S:hIe,u:pIe,U:gIe,V:mIe,w:vIe,W:yIe,x:null,X:null,y:wIe,Y:CIe,Z:BIe,"%":w$},U={a:G,A:K,b:z,B:J,c:Y,d:g$,e:g$,f:H1e,g:p$,G:h$,H:m$,I:m$,j:L1e,L:O1e,m:N1e,M:Q1e,p:k,q:D1e,Q:K1e,s:G1e,S:k1e,u:F1e,U:M1e,V:U1e,w:I1e,W:P1e,x:ge,X:V,y:p$,Y:h$,Z:R1e,"%":V1e};T.x=D(t,T),T.X=D(r,T),T.c=D(e,T),R.x=D(t,R),R.X=D(r,R),R.c=D(e,R);function D(te,Ie){return function(Fe){var me=[],gt=-1,$e=0,Gt=te.length,It,Yn,nt;for(Fe instanceof Date||(Fe=new Date(+Fe));++gt<Gt;)te.charCodeAt(gt)===37&&(me.push(te.slice($e,gt)),(Yn=f$[It=te.charAt(++gt)])!=null?It=te.charAt(++gt):Yn=It==="e"?" ":"0",(nt=Ie[It])&&(It=nt(Fe,Yn)),me.push(It),$e=gt+1);return me.push(te.slice($e,gt)),me.join("")}}function L(te,Ie){return function(Fe){var me=G0(1900,void 0,1),gt=H(me,te,Fe+="",0),$e,Gt;if(gt!=Fe.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Ie&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?($e=aR(G0(me.y,0,1)),Gt=$e.getUTCDay(),$e=Gt>4||Gt===0?JT.ceil($e):JT($e),$e=xI.offset($e,(me.V-1)*7),me.y=$e.getUTCFullYear(),me.m=$e.getUTCMonth(),me.d=$e.getUTCDate()+(me.w+6)%7):($e=sR(G0(me.y,0,1)),Gt=$e.getDay(),$e=Gt>4||Gt===0?XT.ceil($e):XT($e),$e=cB.offset($e,(me.V-1)*7),me.y=$e.getFullYear(),me.m=$e.getMonth(),me.d=$e.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Gt="Z"in me?aR(G0(me.y,0,1)).getUTCDay():sR(G0(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Gt+5)%7:me.w+me.U*7-(Gt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,aR(me)):sR(me)}}function H(te,Ie,Fe,me){for(var gt=0,$e=Ie.length,Gt=Fe.length,It,Yn;gt<$e;){if(me>=Gt)return-1;if(It=Ie.charCodeAt(gt++),It===37){if(It=Ie.charAt(gt++),Yn=U[It in f$?Ie.charAt(gt++):It],!Yn||(me=Yn(te,Fe,me))<0)return-1}else if(It!=Fe.charCodeAt(me++))return-1}return me}function k(te,Ie,Fe){var me=u.exec(Ie.slice(Fe));return me?(te.p=d.get(me[0].toLowerCase()),Fe+me[0].length):-1}function G(te,Ie,Fe){var me=v.exec(Ie.slice(Fe));return me?(te.w=b.get(me[0].toLowerCase()),Fe+me[0].length):-1}function K(te,Ie,Fe){var me=h.exec(Ie.slice(Fe));return me?(te.w=g.get(me[0].toLowerCase()),Fe+me[0].length):-1}function z(te,Ie,Fe){var me=S.exec(Ie.slice(Fe));return me?(te.m=I.get(me[0].toLowerCase()),Fe+me[0].length):-1}function J(te,Ie,Fe){var me=C.exec(Ie.slice(Fe));return me?(te.m=B.get(me[0].toLowerCase()),Fe+me[0].length):-1}function Y(te,Ie,Fe){return H(te,e,Ie,Fe)}function ge(te,Ie,Fe){return H(te,t,Ie,Fe)}function V(te,Ie,Fe){return H(te,r,Ie,Fe)}function j(te){return a[te.getDay()]}function re(te){return s[te.getDay()]}function he(te){return l[te.getMonth()]}function Ee(te){return o[te.getMonth()]}function q(te){return i[+(te.getHours()>=12)]}function X(te){return 1+~~(te.getMonth()/3)}function oe(te){return a[te.getUTCDay()]}function Ce(te){return s[te.getUTCDay()]}function se(te){return l[te.getUTCMonth()]}function ce(te){return o[te.getUTCMonth()]}function ue(te){return i[+(te.getUTCHours()>=12)]}function Se(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var Ie=D(te+="",T);return Ie.toString=function(){return te},Ie},parse:function(te){var Ie=L(te+="",!1);return Ie.toString=function(){return te},Ie},utcFormat:function(te){var Ie=D(te+="",R);return Ie.toString=function(){return te},Ie},utcParse:function(te){var Ie=L(te+="",!0);return Ie.toString=function(){return te},Ie}}}var f$={"-":"",_:" ",0:"0"},oi=/^\s*\d+/,x1e=/^%/,_1e=/[\\^$*+?|[\]().{}]/g;function Ot(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",s=i.length;return r+(s<t?new Array(t-s+1).join(e)+i:i)}function T1e(n){return n.replace(_1e,"\\$&")}function z0(n){return new RegExp("^(?:"+n.map(T1e).join("|")+")","i")}function q0(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function I1e(n,e,t){var r=oi.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function F1e(n,e,t){var r=oi.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function M1e(n,e,t){var r=oi.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function U1e(n,e,t){var r=oi.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function P1e(n,e,t){var r=oi.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function h$(n,e,t){var r=oi.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function p$(n,e,t){var r=oi.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function R1e(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function D1e(n,e,t){var r=oi.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function N1e(n,e,t){var r=oi.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function g$(n,e,t){var r=oi.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function L1e(n,e,t){var r=oi.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function m$(n,e,t){var r=oi.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function Q1e(n,e,t){var r=oi.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function k1e(n,e,t){var r=oi.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function O1e(n,e,t){var r=oi.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function H1e(n,e,t){var r=oi.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function V1e(n,e,t){var r=x1e.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function K1e(n,e,t){var r=oi.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function G1e(n,e,t){var r=oi.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function v$(n,e){return Ot(n.getDate(),e,2)}function z1e(n,e){return Ot(n.getHours(),e,2)}function q1e(n,e){return Ot(n.getHours()%12||12,e,2)}function $1e(n,e){return Ot(1+cB.count(Tu(n),n),e,3)}function p7(n,e){return Ot(n.getMilliseconds(),e,3)}function j1e(n,e){return p7(n,e)+"000"}function W1e(n,e){return Ot(n.getMonth()+1,e,2)}function Y1e(n,e){return Ot(n.getMinutes(),e,2)}function X1e(n,e){return Ot(n.getSeconds(),e,2)}function J1e(n){var e=n.getDay();return e===0?7:e}function Z1e(n,e){return Ot(_I.count(Tu(n)-1,n),e,2)}function g7(n){var e=n.getDay();return e>=4||e===0?dy(n):dy.ceil(n)}function eIe(n,e){return n=g7(n),Ot(dy.count(Tu(n),n)+(Tu(n).getDay()===4),e,2)}function tIe(n){return n.getDay()}function nIe(n,e){return Ot(XT.count(Tu(n)-1,n),e,2)}function rIe(n,e){return Ot(n.getFullYear()%100,e,2)}function iIe(n,e){return n=g7(n),Ot(n.getFullYear()%100,e,2)}function sIe(n,e){return Ot(n.getFullYear()%1e4,e,4)}function aIe(n,e){var t=n.getDay();return n=t>=4||t===0?dy(n):dy.ceil(n),Ot(n.getFullYear()%1e4,e,4)}function oIe(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ot(e/60|0,"0",2)+Ot(e%60,"0",2)}function y$(n,e){return Ot(n.getUTCDate(),e,2)}function AIe(n,e){return Ot(n.getUTCHours(),e,2)}function lIe(n,e){return Ot(n.getUTCHours()%12||12,e,2)}function uIe(n,e){return Ot(1+xI.count(Iu(n),n),e,3)}function m7(n,e){return Ot(n.getUTCMilliseconds(),e,3)}function cIe(n,e){return m7(n,e)+"000"}function dIe(n,e){return Ot(n.getUTCMonth()+1,e,2)}function fIe(n,e){return Ot(n.getUTCMinutes(),e,2)}function hIe(n,e){return Ot(n.getUTCSeconds(),e,2)}function pIe(n){var e=n.getUTCDay();return e===0?7:e}function gIe(n,e){return Ot(TI.count(Iu(n)-1,n),e,2)}function v7(n){var e=n.getUTCDay();return e>=4||e===0?fy(n):fy.ceil(n)}function mIe(n,e){return n=v7(n),Ot(fy.count(Iu(n),n)+(Iu(n).getUTCDay()===4),e,2)}function vIe(n){return n.getUTCDay()}function yIe(n,e){return Ot(JT.count(Iu(n)-1,n),e,2)}function wIe(n,e){return Ot(n.getUTCFullYear()%100,e,2)}function bIe(n,e){return n=v7(n),Ot(n.getUTCFullYear()%100,e,2)}function CIe(n,e){return Ot(n.getUTCFullYear()%1e4,e,4)}function EIe(n,e){var t=n.getUTCDay();return n=t>=4||t===0?fy(n):fy.ceil(n),Ot(n.getUTCFullYear()%1e4,e,4)}function BIe(){return"+0000"}function w$(){return"%"}function b$(n){return+n}function C$(n){return Math.floor(+n/1e3)}var Bg,y7,w7;SIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SIe(n){return Bg=S1e(n),y7=Bg.format,Bg.parse,w7=Bg.utcFormat,Bg.utcParse,Bg}function xIe(n){return new Date(n)}function _Ie(n){return n instanceof Date?+n:+new Date(+n)}function Jk(n,e,t,r,i,s,a,o,l,u){var d=Qk(),h=d.invert,g=d.domain,v=u(".%L"),b=u(":%S"),C=u("%I:%M"),B=u("%I %p"),S=u("%a %d"),I=u("%b %d"),T=u("%B"),R=u("%Y");function U(D){return(l(D)<D?v:o(D)<D?b:a(D)<D?C:s(D)<D?B:r(D)<D?i(D)<D?S:I:t(D)<D?T:R)(D)}return d.invert=function(D){return new Date(h(D))},d.domain=function(D){return arguments.length?g(Array.from(D,_Ie)):g().map(xIe)},d.ticks=function(D){var L=g();return n(L[0],L[L.length-1],D??10)},d.tickFormat=function(D,L){return L==null?U:u(L)},d.nice=function(D){var L=g();return(!D||typeof D.range!="function")&&(D=e(L[0],L[L.length-1],D??10)),D?g(a7(L,D)):d},d.copy=function(){return uB(d,Jk(n,e,t,r,i,s,a,o,l,u))},d}function TIe(){return fo.apply(Jk(E1e,B1e,Tu,Yk,_I,cB,jk,qk,kf,y7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IIe(){return fo.apply(Jk(b1e,C1e,Iu,Xk,TI,xI,Wk,$k,kf,w7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function II(){var n=0,e=1,t,r,i,s,a=rs,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-t)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([n,e]=h,t=s(n=+n),r=s(e=+e),i=t===r?0:1/(r-t),u):[n,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(g){var v,b;return arguments.length?([v,b]=g,a=h(v,b),u):[a(0),a(1)]}}return u.range=d(Sy),u.rangeRound=d(Lk),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,t=h(n),r=h(e),i=t===r?0:1/(r-t),u}}function nf(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function b7(){var n=tf(II()(rs));return n.copy=function(){return nf(n,b7())},Hu.apply(n,arguments)}function C7(){var n=Hk(II()).domain([1,10]);return n.copy=function(){return nf(n,C7()).base(n.base())},Hu.apply(n,arguments)}function E7(){var n=Vk(II());return n.copy=function(){return nf(n,E7()).constant(n.constant())},Hu.apply(n,arguments)}function Zk(){var n=Kk(II());return n.copy=function(){return nf(n,Zk()).exponent(n.exponent())},Hu.apply(n,arguments)}function FIe(){return Zk.apply(null,arguments).exponent(.5)}function B7(){var n=[],e=rs;function t(r){if(r!=null&&!isNaN(r=+r))return e((AB(n,r,1)-1)/(n.length-1))}return t.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(zd),t},t.interpolator=function(r){return arguments.length?(e=r,t):e},t.range=function(){return n.map((r,i)=>e(i/(n.length-1)))},t.quantiles=function(r){return Array.from({length:r+1},(i,s)=>pTe(n,s/r))},t.copy=function(){return B7(e).domain(n)},Hu.apply(t,arguments)}function FI(){var n=0,e=.5,t=1,r=1,i,s,a,o,l,u=rs,d,h=!1,g;function v(C){return isNaN(C=+C)?g:(C=.5+((C=+d(C))-s)*(r*C<r*s?o:l),u(h?Math.max(0,Math.min(1,C)):C))}v.domain=function(C){return arguments.length?([n,e,t]=C,i=d(n=+n),s=d(e=+e),a=d(t=+t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,v):[n,e,t]},v.clamp=function(C){return arguments.length?(h=!!C,v):h},v.interpolator=function(C){return arguments.length?(u=C,v):u};function b(C){return function(B){var S,I,T;return arguments.length?([S,I,T]=B,u=VTe(C,[S,I,T]),v):[u(0),u(.5),u(1)]}}return v.range=b(Sy),v.rangeRound=b(Lk),v.unknown=function(C){return arguments.length?(g=C,v):g},function(C){return d=C,i=C(n),s=C(e),a=C(t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,v}}function S7(){var n=tf(FI()(rs));return n.copy=function(){return nf(n,S7())},Hu.apply(n,arguments)}function x7(){var n=Hk(FI()).domain([.1,1,10]);return n.copy=function(){return nf(n,x7()).base(n.base())},Hu.apply(n,arguments)}function _7(){var n=Vk(FI());return n.copy=function(){return nf(n,_7()).constant(n.constant())},Hu.apply(n,arguments)}function eO(){var n=Kk(FI());return n.copy=function(){return nf(n,eO()).exponent(n.exponent())},Hu.apply(n,arguments)}function MIe(){return eO.apply(null,arguments).exponent(.5)}const Fw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rk,scaleDiverging:S7,scaleDivergingLog:x7,scaleDivergingPow:eO,scaleDivergingSqrt:MIe,scaleDivergingSymlog:_7,scaleIdentity:s7,scaleImplicit:iQ,scaleLinear:i7,scaleLog:o7,scaleOrdinal:Pk,scalePoint:vTe,scalePow:Gk,scaleQuantile:u7,scaleQuantize:c7,scaleRadial:l7,scaleSequential:b7,scaleSequentialLog:C7,scaleSequentialPow:Zk,scaleSequentialQuantile:B7,scaleSequentialSqrt:FIe,scaleSequentialSymlog:E7,scaleSqrt:c1e,scaleSymlog:A7,scaleThreshold:d7,scaleTime:TIe,scaleUtc:IIe,tickFormat:r7},Symbol.toStringTag,{value:"Module"}));var rf=n=>n.chartData,UIe=le([rf],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),tO=(n,e,t,r)=>r?UIe(n):rf(n);function Xd(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(mr(e)&&mr(t))return!0}return!1}function E$(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function T7(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,r]=n,i,s;if(mr(t))i=t;else if(typeof t=="function")return;if(mr(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Xd(a))return a}}function PIe(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var r=n(e,t);if(Xd(r))return E$(r,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[i,s]=n,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Je(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&J5.test(i)){var l=J5.exec(i);if(l==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(Je(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&Z5.test(s)){var d=Z5.exec(s);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var g=[a,o];if(Xd(g))return e==null?g:E$(g,e,t)}}}var xy=1e9,RIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rO,Kn=!0,uo="[DecimalError] ",vp=uo+"Invalid argument: ",nO=uo+"Exponent out of range: ",_y=Math.floor,Uf=Math.pow,DIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fa,ri=1e7,Dn=7,I7=9007199254740991,ZT=_y(I7/Dn),Oe={};Oe.absoluteValue=Oe.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Oe.comparedTo=Oe.cmp=function(n){var e,t,r,i,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(r=s.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*Dn;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Oe.dividedBy=Oe.div=function(n){return mu(this,new this.constructor(n))};Oe.dividedToIntegerBy=Oe.idiv=function(n){var e=this,t=e.constructor;return En(mu(e,new t(n),0,1),t.precision)};Oe.equals=Oe.eq=function(n){return!this.cmp(n)};Oe.exponent=function(){return Mr(this)};Oe.greaterThan=Oe.gt=function(n){return this.cmp(n)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(n){return this.cmp(n)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(n){return this.cmp(n)<0};Oe.lessThanOrEqualTo=Oe.lte=function(n){return this.cmp(n)<1};Oe.logarithm=Oe.log=function(n){var e,t=this,r=t.constructor,i=r.precision,s=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(fa))throw Error(uo+"NaN");if(t.s<1)throw Error(uo+(t.s?"NaN":"-Infinity"));return t.eq(fa)?new r(0):(Kn=!1,e=mu(db(t,s),db(n,s),s),Kn=!0,En(e,i))};Oe.minus=Oe.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?U7(e,n):F7(e,(n.s=-n.s,n))};Oe.modulo=Oe.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(uo+"NaN");return t.s?(Kn=!1,e=mu(t,n,0,1).times(n),Kn=!0,t.minus(e)):En(new r(t),i)};Oe.naturalExponential=Oe.exp=function(){return M7(this)};Oe.naturalLogarithm=Oe.ln=function(){return db(this)};Oe.negated=Oe.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Oe.plus=Oe.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?F7(e,n):U7(e,(n.s=-n.s,n))};Oe.precision=Oe.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(vp+n);if(e=Mr(i)+1,r=i.d.length-1,t=r*Dn+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};Oe.squareRoot=Oe.sqrt=function(){var n,e,t,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(uo+"NaN")}for(n=Mr(o),Kn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=UA(o.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=_y((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new l(e)):r=new l(i.toString()),t=l.precision,i=a=t+3;;)if(s=r,r=s.plus(mu(o,s,a+2)).times(.5),UA(s.d).slice(0,a)===(e=UA(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(En(s,t+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return Kn=!0,En(r,t)};Oe.times=Oe.mul=function(n){var e,t,r,i,s,a,o,l,u,d=this,h=d.constructor,g=d.d,v=(n=new h(n)).d;if(!d.s||!n.s)return new h(0);for(n.s*=d.s,t=d.e+n.e,l=g.length,u=v.length,l<u&&(s=g,g=v,v=s,a=l,l=u,u=a),s=[],a=l+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+v[r]*g[i-r-1]+e,s[i--]=o%ri|0,e=o/ri|0;s[i]=(s[i]+e)%ri|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,Kn?En(n,h.precision):n};Oe.toDecimalPlaces=Oe.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(NA(n,0,xy),e===void 0?e=r.rounding:NA(e,0,8),En(t,n+Mr(t)+1,e))};Oe.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=Sp(r,!0):(NA(n,0,xy),e===void 0?e=i.rounding:NA(e,0,8),r=En(new i(r),n+1,e),t=Sp(r,!0,n+1)),t};Oe.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?Sp(i):(NA(n,0,xy),e===void 0?e=s.rounding:NA(e,0,8),r=En(new s(i),n+Mr(i)+1,e),t=Sp(r.abs(),!1,n+Mr(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};Oe.toInteger=Oe.toint=function(){var n=this,e=n.constructor;return En(new e(n),Mr(n)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(n){var e,t,r,i,s,a,o=this,l=o.constructor,u=12,d=+(n=new l(n));if(!n.s)return new l(fa);if(o=new l(o),!o.s){if(n.s<1)throw Error(uo+"Infinity");return o}if(o.eq(fa))return o;if(r=l.precision,n.eq(fa))return En(o,r);if(e=n.e,t=n.d.length-1,a=e>=t,s=o.s,a){if((t=d<0?-d:d)<=I7){for(i=new l(fa),e=Math.ceil(r/Dn+4),Kn=!1;t%2&&(i=i.times(o),S$(i.d,e)),t=_y(t/2),t!==0;)o=o.times(o),S$(o.d,e);return Kn=!0,n.s<0?new l(fa).div(i):En(i,r)}}else if(s<0)throw Error(uo+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,Kn=!1,i=n.times(db(o,r+u)),Kn=!0,i=M7(i),i.s=s,i};Oe.toPrecision=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?(t=Mr(i),r=Sp(i,t<=s.toExpNeg||t>=s.toExpPos)):(NA(n,1,xy),e===void 0?e=s.rounding:NA(e,0,8),i=En(new s(i),n,e),t=Mr(i),r=Sp(i,n<=t||t<=s.toExpNeg,n)),r};Oe.toSignificantDigits=Oe.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(NA(n,1,xy),e===void 0?e=r.rounding:NA(e,0,8)),En(new r(t),n,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Mr(n),t=n.constructor;return Sp(n,e<=t.toExpNeg||e>=t.toExpPos)};function F7(n,e){var t,r,i,s,a,o,l,u,d=n.constructor,h=d.precision;if(!n.s||!e.s)return e.s||(e=new d(n)),Kn?En(e,h):e;if(l=n.d,u=e.d,a=n.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=u.length):(r=u,i=a,o=l.length),a=Math.ceil(h/Dn),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,r=u,u=l,l=r),t=0;s;)t=(l[--s]=l[s]+u[s]+t)/ri|0,l[s]%=ri;for(t&&(l.unshift(t),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Kn?En(e,h):e}function NA(n,e,t){if(n!==~~n||n<e||n>t)throw Error(vp+n)}function UA(n){var e,t,r,i=n.length-1,s="",a=n[0];if(i>0){for(s+=a,e=1;e<i;e++)r=n[e]+"",t=Dn-r.length,t&&(s+=Bc(t)),s+=r;a=n[e],r=a+"",t=Dn-r.length,t&&(s+=Bc(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var mu=(function(){function n(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%ri|0,a=s/ri|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function t(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*ri+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,u,d,h,g,v,b,C,B,S,I,T,R,U,D,L,H,k=r.constructor,G=r.s==i.s?1:-1,K=r.d,z=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(uo+"Division by zero");for(l=r.e-i.e,L=z.length,U=K.length,v=new k(G),b=v.d=[],u=0;z[u]==(K[u]||0);)++u;if(z[u]>(K[u]||0)&&--l,s==null?I=s=k.precision:a?I=s+(Mr(r)-Mr(i))+1:I=s,I<0)return new k(0);if(I=I/Dn+2|0,u=0,L==1)for(d=0,z=z[0],I++;(u<U||d)&&I--;u++)T=d*ri+(K[u]||0),b[u]=T/z|0,d=T%z|0;else{for(d=ri/(z[0]+1)|0,d>1&&(z=n(z,d),K=n(K,d),L=z.length,U=K.length),R=L,C=K.slice(0,L),B=C.length;B<L;)C[B++]=0;H=z.slice(),H.unshift(0),D=z[0],z[1]>=ri/2&&++D;do d=0,o=e(z,C,L,B),o<0?(S=C[0],L!=B&&(S=S*ri+(C[1]||0)),d=S/D|0,d>1?(d>=ri&&(d=ri-1),h=n(z,d),g=h.length,B=C.length,o=e(h,C,g,B),o==1&&(d--,t(h,L<g?H:z,g))):(d==0&&(o=d=1),h=z.slice()),g=h.length,g<B&&h.unshift(0),t(C,h,B),o==-1&&(B=C.length,o=e(z,C,L,B),o<1&&(d++,t(C,L<B?H:z,B))),B=C.length):o===0&&(d++,C=[0]),b[u++]=d,o&&C[0]?C[B++]=K[R]||0:(C=[K[R]],B=1);while((R++<U||C[0]!==void 0)&&I--)}return b[0]||b.shift(),v.e=l,En(v,a?s+Mr(v)+1:s)}})();function M7(n,e){var t,r,i,s,a,o,l=0,u=0,d=n.constructor,h=d.precision;if(Mr(n)>16)throw Error(nO+Mr(n));if(!n.s)return new d(fa);for(Kn=!1,o=h,a=new d(.03125);n.abs().gte(.1);)n=n.times(a),u+=5;for(r=Math.log(Uf(2,u))/Math.LN10*2+5|0,o+=r,t=i=s=new d(fa),d.precision=o;;){if(i=En(i.times(n),o),t=t.times(++l),a=s.plus(mu(i,t,o)),UA(a.d).slice(0,o)===UA(s.d).slice(0,o)){for(;u--;)s=En(s.times(s),o);return d.precision=h,e==null?(Kn=!0,En(s,h)):s}s=a}}function Mr(n){for(var e=n.e*Dn,t=n.d[0];t>=10;t/=10)e++;return e}function oR(n,e,t){if(e>n.LN10.sd())throw Kn=!0,t&&(n.precision=t),Error(uo+"LN10 precision limit exceeded");return En(new n(n.LN10),e)}function Bc(n){for(var e="";n--;)e+="0";return e}function db(n,e){var t,r,i,s,a,o,l,u,d,h=1,g=10,v=n,b=v.d,C=v.constructor,B=C.precision;if(v.s<1)throw Error(uo+(v.s?"NaN":"-Infinity"));if(v.eq(fa))return new C(0);if(e==null?(Kn=!1,u=B):u=e,v.eq(10))return e==null&&(Kn=!0),oR(C,u);if(u+=g,C.precision=u,t=UA(b),r=t.charAt(0),s=Mr(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)v=v.times(n),t=UA(v.d),r=t.charAt(0),h++;s=Mr(v),r>1?(v=new C("0."+t),s++):v=new C(r+"."+t.slice(1))}else return l=oR(C,u+2,B).times(s+""),v=db(new C(r+"."+t.slice(1)),u-g).plus(l),C.precision=B,e==null?(Kn=!0,En(v,B)):v;for(o=a=v=mu(v.minus(fa),v.plus(fa),u),d=En(v.times(v),u),i=3;;){if(a=En(a.times(d),u),l=o.plus(mu(a,new C(i),u)),UA(l.d).slice(0,u)===UA(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(oR(C,u+2,B).times(s+""))),o=mu(o,new C(h),u),C.precision=B,e==null?(Kn=!0,En(o,B)):o;o=l,i+=2}}function B$(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=_y(t/Dn),n.d=[],r=(t+1)%Dn,t<0&&(r+=Dn),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=Dn;r<i;)n.d.push(+e.slice(r,r+=Dn));e=e.slice(r),r=Dn-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),Kn&&(n.e>ZT||n.e<-ZT))throw Error(nO+t)}else n.s=0,n.e=0,n.d=[0];return n}function En(n,e,t){var r,i,s,a,o,l,u,d,h=n.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Dn,i=e,u=h[d=0];else{if(d=Math.ceil((r+1)/Dn),s=h.length,d>=s)return n;for(u=s=h[d],a=1;s>=10;s/=10)a++;r%=Dn,i=r-Dn+a}if(t!==void 0&&(s=Uf(10,a-i-1),o=u/s%10|0,l=e<0||h[d+1]!==void 0||u%s,l=t<4?(o||l)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(r>0?i>0?u/Uf(10,a-i):0:h[d-1])%10&1||t==(n.s<0?8:7))),e<1||!h[0])return l?(s=Mr(n),h.length=1,e=e-s-1,h[0]=Uf(10,(Dn-e%Dn)%Dn),n.e=_y(-e/Dn)||0):(h.length=1,h[0]=n.e=n.s=0),n;if(r==0?(h.length=d,s=1,d--):(h.length=d+1,s=Uf(10,Dn-r),h[d]=i>0?(u/Uf(10,a-i)%Uf(10,i)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==ri&&(h[0]=1,++n.e);break}else{if(h[d]+=s,h[d]!=ri)break;h[d--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(Kn&&(n.e>ZT||n.e<-ZT))throw Error(nO+Mr(n));return n}function U7(n,e){var t,r,i,s,a,o,l,u,d,h,g=n.constructor,v=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),Kn?En(e,v):e;if(l=n.d,h=e.d,r=e.e,u=n.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(t=l,a=-a,o=h.length):(t=h,r=u,o=l.length),i=Math.max(Math.ceil(v/Dn),o)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}a=0}for(d&&(t=l,l=h,h=t,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=ri-1;--l[s],l[i]+=ri}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Kn?En(e,v):e):new g(0)}function Sp(n,e,t){var r,i=Mr(n),s=UA(n.d),a=s.length;return e?(t&&(r=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+Bc(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Bc(-i-1)+s,t&&(r=t-a)>0&&(s+=Bc(r))):i>=a?(s+=Bc(i+1-a),t&&(r=t-i-1)>0&&(s=s+"."+Bc(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-a)>0&&(i+1===a&&(s+="."),s+=Bc(r))),n.s<0?"-"+s:s}function S$(n,e){if(n.length>e)return n.length=e,!0}function P7(n){var e,t,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(vp+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return B$(a,s.toString())}else if(typeof s!="string")throw Error(vp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,DIe.test(s))B$(a,s);else throw Error(vp+s)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=P7,i.config=i.set=NIe,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function NIe(n){if(!n||typeof n!="object")throw Error(uo+"Object expected");var e,t,r,i=["precision",1,xy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(_y(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(vp+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(vp+t+": "+r);return this}var rO=P7(RIe);fa=new rO(1);const Zt=rO;var LIe=n=>n,R7={},D7=n=>n===R7,x$=n=>function e(){return arguments.length===0||arguments.length===1&&D7(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},N7=(n,e)=>n===1?e:x$(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var s=r.filter(a=>a!==R7).length;return s>=n?e(...r):N7(n-s,x$(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=r.map(d=>D7(d)?o.shift():d);return e(...u,...o)}))}),QIe=n=>N7(n.length,n),AQ=(n,e)=>{for(var t=[],r=n;r<e;++r)t[r-n]=r;return t},kIe=QIe((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),OIe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return LIe;var i=t.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},lQ=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function L7(n){var e;return n===0?e=1:e=Math.floor(new Zt(n).abs().log(10).toNumber())+1,e}function Q7(n,e,t){for(var r=new Zt(n),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(t),i++;return s}var k7=n=>{var[e,t]=n,[r,i]=[e,t];return e>t&&([r,i]=[t,e]),[r,i]},O7=(n,e,t)=>{if(n.lte(0))return new Zt(0);var r=L7(n.toNumber()),i=new Zt(10).pow(r),s=n.div(i),a=r!==1?.05:.1,o=new Zt(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(i);return e?new Zt(l.toNumber()):new Zt(Math.ceil(l.toNumber()))},HIe=(n,e,t)=>{var r=new Zt(1),i=new Zt(n);if(!i.isint()&&t){var s=Math.abs(n);s<1?(r=new Zt(10).pow(L7(n)-1),i=new Zt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Zt(Math.floor(n)))}else n===0?i=new Zt(Math.floor((e-1)/2)):t||(i=new Zt(Math.floor(n)));var a=Math.floor((e-1)/2),o=OIe(kIe(l=>i.add(new Zt(l-a).mul(r)).toNumber()),AQ);return o(0,e)},H7=function(e,t,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Zt(0),tickMin:new Zt(0),tickMax:new Zt(0)};var a=O7(new Zt(t).sub(e).div(r-1),i,s),o;e<=0&&t>=0?o=new Zt(0):(o=new Zt(e).add(t).div(2),o=o.sub(new Zt(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new Zt(t).sub(o).div(a).toNumber()),d=l+u+1;return d>r?H7(e,t,r,i,s+1):(d<r&&(u=t>0?u+(r-d):u,l=t>0?l:l+(r-d)),{step:a,tickMin:o.sub(new Zt(l).mul(a)),tickMax:o.add(new Zt(u).mul(a))})},VIe=function(e){var[t,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=k7([t,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...AQ(0,i-1).map(()=>1/0)]:[...AQ(0,i-1).map(()=>-1/0),l];return t>r?lQ(u):u}if(o===l)return HIe(o,i,s);var{step:d,tickMin:h,tickMax:g}=H7(o,l,a,s,0),v=Q7(h,g.add(new Zt(.1).mul(d)),d);return t>r?lQ(v):v},KIe=function(e,t){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=k7([r,i]);if(a===-1/0||o===1/0)return[r,i];if(a===o)return[a];var l=Math.max(t,2),u=O7(new Zt(o).sub(a).div(l-1),s,0),d=[...Q7(new Zt(a),new Zt(o),u),o];return s===!1&&(d=d.map(h=>Math.round(h))),r>i?lQ(d):d},V7=n=>n.rootProps.maxBarSize,GIe=n=>n.rootProps.barGap,K7=n=>n.rootProps.barCategoryGap,zIe=n=>n.rootProps.barSize,MI=n=>n.rootProps.stackOffset,G7=n=>n.rootProps.reverseStackOrder,iO=n=>n.options.chartName,sO=n=>n.rootProps.syncId,z7=n=>n.rootProps.syncMethod,aO=n=>n.options.eventEmitter,Ms={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},lu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ca={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},UI=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},qIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:lu.angleAxisId,includeHidden:!1,name:void 0,reversed:lu.reversed,scale:lu.scale,tick:lu.tick,tickCount:void 0,ticks:void 0,type:lu.type,unit:void 0},$Ie={allowDataOverflow:ca.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ca.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ca.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ca.scale,tick:ca.tick,tickCount:ca.tickCount,ticks:void 0,type:ca.type,unit:void 0},jIe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:lu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:lu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:lu.scale,tick:lu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},WIe={allowDataOverflow:ca.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ca.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ca.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ca.scale,tick:ca.tick,tickCount:ca.tickCount,ticks:void 0,type:"category",unit:void 0},oO=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?jIe:qIe,AO=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?WIe:$Ie,PI=n=>n.polarOptions,lO=le([ku,Ou,ai],K_e),q7=le([PI,lO],(n,e)=>{if(n!=null)return Oo(n.innerRadius,e,0)}),$7=le([PI,lO],(n,e)=>{if(n!=null)return Oo(n.outerRadius,e,e*.8)}),YIe=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},j7=le([PI],YIe);le([oO,j7],UI);var W7=le([lO,q7,$7],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});le([AO,W7],UI);var Y7=le([en,PI,q7,$7,ku,Ou],(n,e,t,r,i,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:Oo(a,i,i/2),cy:Oo(o,s,s/2),innerRadius:t,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),Vr=(n,e)=>e,RI=(n,e,t)=>t;function uO(n){return n==null?void 0:n.id}function X7(n,e,t){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=t,a=new Map;return n.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=uO(o);u.forEach((h,g)=>{var v=s==null||i?g:String(Gi(h,s,null)),b=Gi(h,o.dataKey,0),C;a.has(v)?C=a.get(v):C={},Object.assign(C,{[d]:b}),a.set(v,C)})}}),Array.from(a.values())}function DI(n){return n.stackId!=null&&n.dataKey!=null}var NI=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function LI(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function XIe(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var Kr=n=>{var e=en(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ty=n=>n.tooltip.settings.axisId;function _$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function e1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_$(Object(t),!0).forEach(function(r){JIe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function JIe(n,e,t){return(e=ZIe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZIe(n){var e=eFe(n,"string");return typeof e=="symbol"?e:e+""}function eFe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var uQ=[0,"auto"],jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},J7=(n,e)=>n.cartesianAxis.xAxis[e],Vu=(n,e)=>{var t=J7(n,e);return t??jr},Wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:uQ,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sB},Z7=(n,e)=>n.cartesianAxis.yAxis[e],Ku=(n,e)=>{var t=Z7(n,e);return t??Wr},tFe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},cO=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??tFe},os=(n,e,t)=>{switch(e){case"xAxis":return Vu(n,t);case"yAxis":return Ku(n,t);case"zAxis":return cO(n,t);case"angleAxis":return oO(n,t);case"radiusAxis":return AO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},nFe=(n,e,t)=>{switch(e){case"xAxis":return Vu(n,t);case"yAxis":return Ku(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},dB=(n,e,t)=>{switch(e){case"xAxis":return Vu(n,t);case"yAxis":return Ku(n,t);case"angleAxis":return oO(n,t);case"radiusAxis":return AO(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},eZ=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function tZ(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var dO=n=>n.graphicalItems.cartesianItems,rFe=le([Vr,RI],tZ),nZ=(n,e,t)=>n.filter(t).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),fB=le([dO,os,rFe],nZ,{memoizeOptions:{resultEqualityCheck:LI}}),rZ=le([fB],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(DI)),iZ=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),iFe=le([fB],iZ),sZ=n=>n.map(e=>e.data).filter(Boolean).flat(1),sFe=le([fB],sZ,{memoizeOptions:{resultEqualityCheck:LI}}),aZ=(n,e)=>{var{chartData:t=[],dataStartIndex:r,dataEndIndex:i}=e;return n.length>0?n:t.slice(r,i+1)},fO=le([sFe,tO],aZ),oZ=(n,e,t)=>(e==null?void 0:e.dataKey)!=null?n.map(r=>({value:Gi(r,e.dataKey)})):t.length>0?t.map(r=>r.dataKey).flatMap(r=>n.map(i=>({value:Gi(i,r)}))):n.map(r=>({value:r})),QI=le([fO,os,fB],oZ);function AZ(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function z_(n){if(DA(n)||n instanceof Date){var e=Number(n);if(mr(e))return e}}function T$(n){if(Array.isArray(n)){var e=[z_(n[0]),z_(n[1])];return Xd(e)?e:void 0}var t=z_(n);if(t!=null)return[t,t]}function Fu(n){return n.map(z_).filter(cEe)}function aFe(n,e,t){return!t||typeof e!="number"||RA(e)?[]:t.length?Fu(t.flatMap(r=>{var i=Gi(n,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!mr(s)||!mr(a)))return[e-s,e+a]})):[]}var Gr=n=>{var e=Kr(n),t=Ty(n);return dB(n,e,t)},hB=le([Gr],n=>n==null?void 0:n.dataKey),oFe=le([rZ,tO,Gr],X7),lZ=(n,e,t,r)=>{var i={},s=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=r?[...l].reverse():l,d=u.map(uO);return[o,{stackedData:MSe(n,d,t),graphicalItems:u}]}))},cQ=le([oFe,rZ,MI,G7],lZ),uZ=(n,e,t,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&t!=="zAxis"){var a=NSe(n,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},AFe=le([os],n=>n.allowDataOverflow),hO=n=>{var e;if(n==null||!("domain"in n))return uQ;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var t=Fu(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:uQ},cZ=le([os],hO),dZ=le([cZ,AFe],T7),lFe=le([cQ,rf,Vr,dZ],uZ,{memoizeOptions:{resultEqualityCheck:NI}}),pO=n=>n.errorBars,uFe=(n,e,t)=>n.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>AZ(t,r)),t1=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},fZ=(n,e,t,r,i)=>{var s,a;if(t.length>0&&n.forEach(o=>{t.forEach(l=>{var u,d,h=(u=r[l.id])===null||u===void 0?void 0:u.filter(S=>AZ(i,S)),g=Gi(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),v=aFe(o,g,h);if(v.length>=2){var b=Math.min(...v),C=Math.max(...v);(s==null||b<s)&&(s=b),(a==null||C>a)&&(a=C)}var B=T$(g);B!=null&&(s=s==null?B[0]:Math.min(s,B[0]),a=a==null?B[1]:Math.max(a,B[1]))})}),(e==null?void 0:e.dataKey)!=null&&n.forEach(o=>{var l=T$(Gi(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),mr(s)&&mr(a))return[s,a]},cFe=le([fO,os,iFe,pO,Vr],fZ,{memoizeOptions:{resultEqualityCheck:NI}});function dFe(n){var{value:e}=n;if(DA(e)||e instanceof Date)return e}var fFe=(n,e,t)=>{var r=n.map(dFe).filter(i=>i!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&M9(r))?$J(0,n.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},hZ=n=>n.referenceElements.dots,Iy=(n,e,t)=>n.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===t:r.yAxisId===t),hFe=le([hZ,Vr,RI],Iy),pZ=n=>n.referenceElements.areas,pFe=le([pZ,Vr,RI],Iy),gZ=n=>n.referenceElements.lines,gFe=le([gZ,Vr,RI],Iy),mZ=(n,e)=>{var t=Fu(n.map(r=>e==="xAxis"?r.x:r.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},mFe=le(hFe,Vr,mZ),vZ=(n,e)=>{var t=Fu(n.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},vFe=le([pFe,Vr],vZ);function yFe(n){var e;if(n.x!=null)return Fu([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.x);return t==null||t.length===0?[]:Fu(t)}function wFe(n){var e;if(n.y!=null)return Fu([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.y);return t==null||t.length===0?[]:Fu(t)}var yZ=(n,e)=>{var t=n.flatMap(r=>e==="xAxis"?yFe(r):wFe(r));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},bFe=le([gFe,Vr],yZ),CFe=le(mFe,bFe,vFe,(n,e,t)=>t1(n,t,e)),wZ=(n,e,t,r,i,s,a,o)=>{if(t!=null)return t;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?t1(r,s,i):t1(s,i);return PIe(e,u,n.allowDataOverflow)},EFe=le([os,cZ,dZ,lFe,cFe,CFe,en,Vr],wZ,{memoizeOptions:{resultEqualityCheck:NI}}),BFe=[0,1],bZ=(n,e,t,r,i,s,a)=>{if(!((n==null||t==null||t.length===0)&&a===void 0)){var{dataKey:o,type:l}=n,u=Up(e,s);if(u&&o==null){var d;return $J(0,(d=t==null?void 0:t.length)!==null&&d!==void 0?d:0)}return l==="category"?fFe(r,n,u):i==="expand"?BFe:a}},gO=le([os,en,fO,QI,MI,Vr,EFe],bZ),CZ=(n,e,t,r,i)=>{if(n!=null){var{scale:s,type:a}=n;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(eB(s));return o in Fw?o:"point"}}},pB=le([os,en,eZ,iO,Vr],CZ);function SFe(n){if(n!=null){if(n in Fw)return Fw[n]();var e="scale".concat(eB(n));if(e in Fw)return Fw[e]()}}function mO(n,e,t,r){if(!(t==null||r==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(r);var i=SFe(e);if(i!=null){var s=i.domain(t).range(r);return xSe(s),s}}}var EZ=(n,e,t)=>{var r=hO(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Xd(n))return VIe(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Xd(n))return KIe(n,e.tickCount,e.allowDecimals)}},vO=le([gO,dB,pB],EZ),BZ=(n,e,t,r)=>{if(r!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&Xd(e)&&Array.isArray(t)&&t.length>0){var i=e[0],s=t[0],a=e[1],o=t[t.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},xFe=le([os,gO,vO,Vr],BZ),_Fe=le(QI,os,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,r=Array.from(Fu(n.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];t=Math.min(t,a)}return t/i}}),SZ=le(_Fe,en,K7,ai,(n,e,t,r)=>r,(n,e,t,r,i)=>{if(!mr(n))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return n*s/2;if(i==="no-gap"){var a=Oo(t,n*s),o=n*s/2;return o-a-(o-a)/s*a}return 0}),TFe=(n,e)=>{var t=Vu(n,e);return t==null||typeof t.padding!="string"?0:SZ(n,"xAxis",e,t.padding)},IFe=(n,e)=>{var t=Ku(n,e);return t==null||typeof t.padding!="string"?0:SZ(n,"yAxis",e,t.padding)},FFe=le(Vu,TFe,(n,e)=>{var t,r;if(n==null)return{left:0,right:0};var{padding:i}=n;return typeof i=="string"?{left:e,right:e}:{left:((t=i.left)!==null&&t!==void 0?t:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),MFe=le(Ku,IFe,(n,e)=>{var t,r;if(n==null)return{top:0,bottom:0};var{padding:i}=n;return typeof i=="string"?{top:e,bottom:e}:{top:((t=i.top)!==null&&t!==void 0?t:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),UFe=le([ai,FFe,vI,mI,(n,e,t)=>t],(n,e,t,r,i)=>{var{padding:s}=r;return i?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),PFe=le([ai,en,MFe,vI,mI,(n,e,t)=>t],(n,e,t,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),gB=(n,e,t,r)=>{var i;switch(e){case"xAxis":return UFe(n,t,r);case"yAxis":return PFe(n,t,r);case"zAxis":return(i=cO(n,t))===null||i===void 0?void 0:i.range;case"angleAxis":return j7(n);case"radiusAxis":return W7(n,t);default:return}},xZ=le([os,gB],UI),Fy=le([os,pB,xFe,xZ],mO);le([fB,pO,Vr],uFe);function _Z(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var kI=(n,e)=>e,OI=(n,e,t)=>t,RFe=le(pI,kI,OI,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(_Z)),DFe=le(gI,kI,OI,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(_Z)),TZ=(n,e)=>({width:n.width,height:e.height}),NFe=(n,e)=>{var t=typeof e.width=="number"?e.width:sB;return{width:t,height:n.height}},IZ=le(ai,Vu,TZ),LFe=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},QFe=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},kFe=le(Ou,ai,RFe,kI,OI,(n,e,t,r,i)=>{var s={},a;return t.forEach(o=>{var l=TZ(e,o);a==null&&(a=LFe(e,r,n));var u=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),OFe=le(ku,ai,DFe,kI,OI,(n,e,t,r,i)=>{var s={},a;return t.forEach(o=>{var l=NFe(e,o);a==null&&(a=QFe(e,r,n));var u=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),HFe=(n,e)=>{var t=Vu(n,e);if(t!=null)return kFe(n,t.orientation,t.mirror)},VFe=le([ai,Vu,HFe,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:n.left,y:0}:{x:n.left,y:i}}}),KFe=(n,e)=>{var t=Ku(n,e);if(t!=null)return OFe(n,t.orientation,t.mirror)},GFe=le([ai,Ku,KFe,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:0,y:n.top}:{x:i,y:n.top}}}),FZ=le(ai,Ku,(n,e)=>{var t=typeof e.width=="number"?e.width:sB;return{width:t,height:n.height}}),I$=(n,e,t)=>{switch(e){case"xAxis":return IZ(n,t).width;case"yAxis":return FZ(n,t).height;default:return}},MZ=(n,e,t,r)=>{if(t!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=t,o=Up(n,r),l=e.map(u=>u.value);if(a&&o&&s==="category"&&i&&M9(l))return l}},yO=le([en,QI,os,Vr],MZ),UZ=(n,e,t,r)=>{if(!(t==null||t.dataKey==null)){var{type:i,scale:s}=t,a=Up(n,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},wO=le([en,QI,dB,Vr],UZ);le([en,nFe,pB,Fy,yO,wO,gB,vO,Vr],(n,e,t,r,i,s,a,o,l)=>{if(e!=null){var u=Up(n,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:o,range:a,realScaleType:t,scale:r}}});var zFe=(n,e,t,r,i,s,a,o,l)=>{if(!(e==null||r==null)){var u=Up(n,l),{type:d,ticks:h,tickCount:g}=e,v=t==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=d==="category"&&r.bandwidth?r.bandwidth()/v:0;b=l==="angleAxis"&&s!=null&&s.length>=2?ha(s[0]-s[1])*2*b:b;var C=h||i;if(C){var B=C.map((S,I)=>{var T=a?a.indexOf(S):S;return{index:I,coordinate:r(T)+b,value:S,offset:b}});return B.filter(S=>mr(S.coordinate))}return u&&o?o.map((S,I)=>({coordinate:r(S)+b,value:S,index:I,offset:b})).filter(S=>mr(S.coordinate)):r.ticks?r.ticks(g).map(S=>({coordinate:r(S)+b,value:S,offset:b})):r.domain().map((S,I)=>({coordinate:r(S)+b,value:a?a[S]:S,index:I,offset:b}))}},PZ=le([en,dB,pB,Fy,vO,gB,yO,wO,Vr],zFe),qFe=(n,e,t,r,i,s,a)=>{if(!(e==null||t==null||r==null||r[0]===r[1])){var o=Up(n,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?ha(r[0]-r[1])*2*u:u,o&&s?s.map((d,h)=>({coordinate:t(d)+u,value:d,index:h,offset:u})):t.ticks?t.ticks(l).map(d=>({coordinate:t(d)+u,value:d,offset:u})):t.domain().map((d,h)=>({coordinate:t(d)+u,value:i?i[d]:d,index:h,offset:u}))}},hy=le([en,dB,Fy,gB,yO,wO,Vr],qFe),py=le(os,Fy,(n,e)=>{if(!(n==null||e==null))return e1(e1({},n),{},{scale:e})}),$Fe=le([os,pB,gO,xZ],mO);le((n,e,t)=>cO(n,t),$Fe,(n,e)=>{if(!(n==null||e==null))return e1(e1({},n),{},{scale:e})});var jFe=le([en,pI,gI],(n,e,t)=>{switch(n){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),RZ=n=>n.options.defaultTooltipEventType,DZ=n=>n.options.validateTooltipEventTypes;function NZ(n,e,t){if(n==null)return e;var r=n?"axis":"item";return t==null?e:t.includes(r)?r:e}function bO(n,e){var t=RZ(n),r=DZ(n);return NZ(e,t,r)}function WFe(n){return Ye(e=>bO(e,n))}var LZ=(n,e)=>{var t,r=Number(e);if(!(RA(r)||e==null))return r>=0?n==null||(t=n[r])===null||t===void 0?void 0:t.value:void 0},YFe=n=>n.tooltip.settings,Tc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},XFe={itemInteraction:{click:Tc,hover:Tc},axisInteraction:{click:Tc,hover:Tc},keyboardInteraction:Tc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},QZ=Us({name:"tooltip",initialState:XFe,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:Vn()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:r}=e.payload,i=ko(n).tooltipItemPayloads.indexOf(t);i>-1&&(n.tooltipItemPayloads[i]=r)},prepare:Vn()},removeTooltipEntrySettings:{reducer(n,e){var t=ko(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:Vn()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:JFe,replaceTooltipEntrySettings:ZFe,removeTooltipEntrySettings:eMe,setTooltipSettingsState:tMe,setActiveMouseOverItemIndex:kZ,mouseLeaveItem:nMe,mouseLeaveChart:OZ,setActiveClickItemIndex:rMe,setMouseOverAxisIndex:HZ,setMouseClickAxisIndex:iMe,setSyncInteraction:dQ,setKeyboardInteraction:fQ}=QZ.actions,sMe=QZ.reducer;function F$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Dx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F$(Object(t),!0).forEach(function(r){aMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function aMe(n,e,t){return(e=oMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oMe(n){var e=AMe(n,"string");return typeof e=="symbol"?e:e+""}function AMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function lMe(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function uMe(n){return n.index!=null}var VZ=(n,e,t,r)=>{if(e==null)return Tc;var i=lMe(n,e,t);if(i==null)return Tc;if(i.active)return i;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(uMe(i)){if(s)return Dx(Dx({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Dx(Dx({},Tc),{},{coordinate:i.coordinate})};function cMe(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function dMe(n,e){var t=cMe(n),r=e[0],i=e[1];if(t===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return t>=s&&t<=a}function fMe(n,e,t){if(t==null||e==null)return!0;var r=Gi(n,e);return r==null||!Xd(t)?!0:dMe(r,t)}var CO=(n,e,t,r)=>{var i=n==null?void 0:n.index;if(i==null)return null;var s=Number(i);if(!mr(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||fMe(u,t,r)?String(l):null},KZ=(n,e,t,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(t){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+n)/2,y:d.coordinate}}}},GZ=(n,e,t,r)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var i;return t==="hover"?i=n.itemInteraction.hover.dataKey:i=n.itemInteraction.click.dataKey,i==null&&r!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},mB=n=>n.options.tooltipPayloadSearcher,My=n=>n.tooltip;function M$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function U$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M$(Object(t),!0).forEach(function(r){hMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hMe(n,e,t){return(e=pMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pMe(n){var e=gMe(n,"string");return typeof e=="symbol"?e:e+""}function gMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mMe(n,e){return n??e}var zZ=(n,e,t,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=t,h=[];return n.reduce((g,v)=>{var b,{dataDefinedOnItem:C,settings:B}=v,S=mMe(C,o),I=Array.isArray(S)?EJ(S,u,d):S,T=(b=B==null?void 0:B.dataKey)!==null&&b!==void 0?b:r,R=B==null?void 0:B.nameKey,U;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&a==="axis"?U=uEe(I,r,i):U=s(I,e,l,R),Array.isArray(U))U.forEach(L=>{var H=U$(U$({},B),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});g.push(eq({tooltipEntrySettings:H,dataKey:L.dataKey,payload:L.payload,value:Gi(L.payload,L.dataKey),name:L.name}))});else{var D;g.push(eq({tooltipEntrySettings:B,dataKey:T,payload:U,value:Gi(U,T),name:(D=Gi(U,R))!==null&&D!==void 0?D:B==null?void 0:B.name}))}return g},h)}},EO=le([Gr,en,eZ,iO,Kr],CZ),vMe=le([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),yMe=le([Kr,Ty],tZ),vB=le([vMe,Gr,yMe],nZ,{memoizeOptions:{resultEqualityCheck:LI}}),wMe=le([vB],n=>n.filter(DI)),bMe=le([vB],sZ,{memoizeOptions:{resultEqualityCheck:LI}}),Uy=le([bMe,rf],aZ),CMe=le([wMe,rf,Gr],X7),BO=le([Uy,Gr,vB],oZ),qZ=le([Gr],hO),EMe=le([Gr],n=>n.allowDataOverflow),$Z=le([qZ,EMe],T7),BMe=le([vB],n=>n.filter(DI)),SMe=le([CMe,BMe,MI,G7],lZ),xMe=le([SMe,rf,Kr,$Z],uZ),_Me=le([vB],iZ),TMe=le([Uy,Gr,_Me,pO,Kr],fZ,{memoizeOptions:{resultEqualityCheck:NI}}),IMe=le([hZ,Kr,Ty],Iy),FMe=le([IMe,Kr],mZ),MMe=le([pZ,Kr,Ty],Iy),UMe=le([MMe,Kr],vZ),PMe=le([gZ,Kr,Ty],Iy),RMe=le([PMe,Kr],yZ),DMe=le([FMe,RMe,UMe],t1),NMe=le([Gr,qZ,$Z,xMe,TMe,DMe,en,Kr],wZ),yB=le([Gr,en,Uy,BO,MI,Kr,NMe],bZ),LMe=le([yB,Gr,EO],EZ),QMe=le([Gr,yB,LMe,Kr],BZ),jZ=n=>{var e=Kr(n),t=Ty(n),r=!1;return gB(n,e,t,r)},WZ=le([Gr,jZ],UI),YZ=le([Gr,EO,QMe,WZ],mO),kMe=le([en,BO,Gr,Kr],MZ),OMe=le([en,BO,Gr,Kr],UZ),HMe=(n,e,t,r,i,s,a,o)=>{if(e){var{type:l}=e,u=Up(n,o);if(r){var d=t==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ha(i[0]-i[1])*2*h:h,u&&a?a.map((g,v)=>({coordinate:r(g)+h,value:g,index:v,offset:h})):r.domain().map((g,v)=>({coordinate:r(g)+h,value:s?s[g]:g,index:v,offset:h}))}}},Gu=le([en,Gr,EO,YZ,jZ,kMe,OMe,Kr],HMe),SO=le([RZ,DZ,YFe],(n,e,t)=>NZ(t.shared,n,e)),XZ=n=>n.tooltip.settings.trigger,xO=n=>n.tooltip.settings.defaultIndex,wB=le([My,SO,XZ,xO],VZ),gy=le([wB,Uy,hB,yB],CO),JZ=le([Gu,gy],LZ),ZZ=le([wB],n=>{if(n)return n.dataKey});le([wB],n=>{if(n)return n.graphicalItemId});var eee=le([My,SO,XZ,xO],GZ),VMe=le([ku,Ou,en,ai,Gu,xO,eee,mB],KZ),KMe=le([wB,VMe],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),GMe=le([wB],n=>n.active),zMe=le([eee,gy,rf,hB,JZ,mB,SO],zZ);le([zMe],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function P$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function R$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P$(Object(t),!0).forEach(function(r){qMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qMe(n,e,t){return(e=$Me(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $Me(n){var e=jMe(n,"string");return typeof e=="symbol"?e:e+""}function jMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var WMe=()=>Ye(Gr),YMe=()=>{var n=WMe(),e=Ye(Gu),t=Ye(YZ);return DT(!n||!t?void 0:R$(R$({},n),{},{scale:t}),e)};function D$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Sg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(t),!0).forEach(function(r){XMe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function XMe(n,e,t){return(e=JMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JMe(n){var e=ZMe(n,"string");return typeof e=="symbol"?e:e+""}function ZMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var eUe=(n,e,t,r)=>{var i=e.find(s=>s&&s.index===t);if(i){if(n==="horizontal")return{x:i.coordinate,y:r.chartY};if(n==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},tUe=(n,e,t,r)=>{var i=e.find(u=>u&&u.index===t);if(i){if(n==="centric"){var s=i.coordinate,{radius:a}=r;return Sg(Sg(Sg({},r),Ti(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return Sg(Sg(Sg({},r),Ti(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function nUe(n,e){var{chartX:t,chartY:r}=n;return t>=e.left&&t<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var tee=(n,e,t,r,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||n==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?t[l-1].coordinate:t[o-1].coordinate,d=t[l].coordinate,h=l>=o-1?t[0].coordinate:t[l+1].coordinate,g=void 0;if(ha(d-u)!==ha(h-d)){var v=[];if(ha(h-d)===ha(i[1]-i[0])){g=h;var b=d+i[1]-i[0];v[0]=Math.min(b,(b+u)/2),v[1]=Math.max(b,(b+u)/2)}else{g=u;var C=h+i[1]-i[0];v[0]=Math.min(d,(C+d)/2),v[1]=Math.max(d,(C+d)/2)}var B=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(n>B[0]&&n<=B[1]||n>=v[0]&&n<=v[1]){({index:a}=t[l]);break}}else{var S=Math.min(u,h),I=Math.max(u,h);if(n>(S+d)/2&&n<=(I+d)/2){({index:a}=t[l]);break}}}else if(e){for(var T=0;T<o;T++)if(T===0&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2&&n<=(e[T].coordinate+e[T+1].coordinate)/2||T===o-1&&n>(e[T].coordinate+e[T-1].coordinate)/2){({index:a}=e[T]);break}}return a},rUe=()=>Ye(iO),_O=(n,e)=>e,nee=(n,e,t)=>t,TO=(n,e,t,r)=>r,iUe=le(Gu,n=>aI(n,e=>e.coordinate)),IO=le([My,_O,nee,TO],VZ),FO=le([IO,Uy,hB,yB],CO),sUe=(n,e,t)=>{if(e!=null){var r=My(n);return e==="axis"?t==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:t==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},ree=le([My,_O,nee,TO],GZ),n1=le([ku,Ou,en,ai,Gu,TO,ree,mB],KZ),aUe=le([IO,n1],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),iee=le([Gu,FO],LZ),oUe=le([ree,FO,rf,hB,iee,mB,_O],zZ),AUe=le([IO,FO],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),lUe=(n,e,t,r,i,s,a)=>{if(!(!n||!t||!r||!i)&&nUe(n,a)){var o=LSe(n,e),l=tee(o,s,i,t,r),u=eUe(e,i,l,n);return{activeIndex:String(l),activeCoordinate:u}}},uUe=(n,e,t,r,i,s,a)=>{if(!(!n||!r||!i||!s||!t)){var o=j_e(n,t);if(o){var l=QSe(o,e),u=tee(l,a,s,r,i),d=tUe(e,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},cUe=(n,e,t,r,i,s,a,o)=>{if(!(!n||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?lUe(n,e,r,i,s,a,o):uUe(n,e,t,r,i,s,a)},dUe=le(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var r=n[e];if(r!=null)return t?r.panoramaElementId:r.elementId}}),fUe=le(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(r=>parseInt(r,10)).concat(Object.values(Ms)),t=Array.from(new Set(e));return t.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:XIe}});function N$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function L$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(t),!0).forEach(function(r){hUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hUe(n,e,t){return(e=pUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pUe(n){var e=gUe(n,"string");return typeof e=="symbol"?e:e+""}function gUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var mUe={},vUe={zIndexMap:Object.values(Ms).reduce((n,e)=>L$(L$({},n),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),mUe)},yUe=new Set(Object.values(Ms));function wUe(n){return yUe.has(n)}var see=Us({name:"zIndex",initialState:vUe,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Vn()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!wUe(t)&&delete n.zIndexMap[t])},prepare:Vn()},registerZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t,elementId:r,isPanorama:i}=e.payload;n.zIndexMap[t]?i?n.zIndexMap[t].panoramaElementId=r:n.zIndexMap[t].elementId=r:n.zIndexMap[t]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Vn()},unregisterZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElementId=void 0:n.zIndexMap[t].elementId=void 0)},prepare:Vn()}}}),{registerZIndexPortal:bUe,unregisterZIndexPortal:CUe,registerZIndexPortalId:EUe,unregisterZIndexPortalId:BUe}=see.actions,SUe=see.reducer;function sf(n){var{zIndex:e,children:t}=n,r=wxe(),i=r&&e!==void 0&&e!==0,s=wa(),a=vr();F.useLayoutEffect(()=>i?(a(bUe({zIndex:e})),()=>{a(CUe({zIndex:e}))}):tB,[a,e,i]);var o=Ye(u=>dUe(u,e,s));if(!i)return t;if(!o)return null;var l=document.getElementById(o);return l?o6.createPortal(t,l):null}function hQ(){return hQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hQ.apply(null,arguments)}function Q$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Nx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Q$(Object(t),!0).forEach(function(r){xUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Q$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xUe(n,e,t){return(e=_Ue(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _Ue(n){var e=TUe(n,"string");return typeof e=="symbol"?e:e+""}function TUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function IUe(n){var{cursor:e,cursorComp:t,cursorProps:r}=n;return F.isValidElement(e)?F.cloneElement(e,r):F.createElement(t,r)}function FUe(n){var e,{coordinate:t,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:d}=n,h=t,g=r,v=i;if(!l||!h||d!=="ScatterChart"&&u!=="axis")return null;var b,C,B;if(d==="ScatterChart")b=h,C=A_e,B=Ms.cursorLine;else if(d==="BarChart")b=l_e(o,h,s,a),C=KJ,B=Ms.cursorRectangle;else if(o==="radial"&&R9(h)){var{cx:S,cy:I,radius:T,startAngle:R,endAngle:U}=GJ(h);b={cx:S,cy:I,startAngle:R,endAngle:U,innerRadius:T,outerRadius:T},C=qJ,B=Ms.cursorLine}else b={points:J_e(o,h,s)},C=QJ,B=Ms.cursorLine;var D=typeof l=="object"&&"className"in l?l.className:void 0,L=Nx(Nx(Nx(Nx({stroke:"#ccc",pointerEvents:"none"},s),b),Ak(l)),{},{payload:g,payloadIndex:v,className:Nn("recharts-tooltip-cursor",D)});return F.createElement(sf,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:B},F.createElement(IUe,{cursor:l,cursorComp:C,cursorProps:L}))}function MUe(n){var e=YMe(),t=mxe(),r=wI(),i=rUe();return e==null||t==null||r==null||i==null?null:F.createElement(FUe,hQ({},n,{offset:t,layout:r,tooltipAxisBandSize:e,chartName:i}))}var aee=F.createContext(null),UUe=()=>F.useContext(aee),AR={exports:{}},k$;function PUe(){return k$||(k$=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,h||l,g),b=t?t+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],v]:l._events[b].push(v):(l._events[b]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=t?t+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,b=new Array(v);g<v;g++)b[g]=h[g].fn;return b},o.prototype.listenerCount=function(u){var d=t?t+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,g,v,b){var C=t?t+u:u;if(!this._events[C])return!1;var B=this._events[C],S=arguments.length,I,T;if(B.fn){switch(B.once&&this.removeListener(u,B.fn,void 0,!0),S){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,d),!0;case 3:return B.fn.call(B.context,d,h),!0;case 4:return B.fn.call(B.context,d,h,g),!0;case 5:return B.fn.call(B.context,d,h,g,v),!0;case 6:return B.fn.call(B.context,d,h,g,v,b),!0}for(T=1,I=new Array(S-1);T<S;T++)I[T-1]=arguments[T];B.fn.apply(B.context,I)}else{var R=B.length,U;for(T=0;T<R;T++)switch(B[T].once&&this.removeListener(u,B[T].fn,void 0,!0),S){case 1:B[T].fn.call(B[T].context);break;case 2:B[T].fn.call(B[T].context,d);break;case 3:B[T].fn.call(B[T].context,d,h);break;case 4:B[T].fn.call(B[T].context,d,h,g);break;default:if(!I)for(U=1,I=new Array(S-1);U<S;U++)I[U-1]=arguments[U];B[T].fn.apply(B[T].context,I)}}return!0},o.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,g){var v=t?t+u:u;if(!this._events[v])return this;if(!d)return a(this,v),this;var b=this._events[v];if(b.fn)b.fn===d&&(!g||b.once)&&(!h||b.context===h)&&a(this,v);else{for(var C=0,B=[],S=b.length;C<S;C++)(b[C].fn!==d||g&&!b[C].once||h&&b[C].context!==h)&&B.push(b[C]);B.length?this._events[v]=B.length===1?B[0]:B:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=t?t+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(AR)),AR.exports}var RUe=PUe();const DUe=kA(RUe);var fb=new DUe,pQ="recharts.syncEvent.tooltip",O$="recharts.syncEvent.brush";function NUe(n,e){if(e){var t=Number.parseInt(e,10);if(!RA(t))return n==null?void 0:n[t]}}var LUe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},oee=Us({name:"options",initialState:LUe,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),QUe=oee.reducer,{createEventEmitter:kUe}=oee.actions;function OUe(n){return n.tooltip.syncInteraction}var HUe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Aee=Us({name:"chartData",initialState:HUe,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:r}=e.payload;t!=null&&(n.dataStartIndex=t),r!=null&&(n.dataEndIndex=r)}}}),{setChartData:H$,setDataStartEndIndexes:VUe,setComputedData:yke}=Aee.actions,KUe=Aee.reducer,GUe=["x","y"];function V$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V$(Object(t),!0).forEach(function(r){zUe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):V$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zUe(n,e,t){return(e=qUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qUe(n){var e=$Ue(n,"string");return typeof e=="symbol"?e:e+""}function $Ue(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jUe(n,e){if(n==null)return{};var t,r,i=WUe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function WUe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function YUe(){var n=Ye(sO),e=Ye(aO),t=vr(),r=Ye(z7),i=Ye(Gu),s=wI(),a=yI(),o=Ye(l=>l.rootProps.className);F.useEffect(()=>{if(n==null)return tB;var l=(u,d,h)=>{if(e!==h&&n===u){if(r==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x:b,y:C}=v,B=jUe(v,GUe),{x:S,y:I,width:T,height:R}=d.payload.sourceViewBox,U=xg(xg({},B),{},{x:a.x+(T?(b-S)/T:0)*a.width,y:a.y+(R?(C-I)/R:0)*a.height});t(xg(xg({},d),{},{payload:xg(xg({},d.payload),{},{coordinate:U})}))}else t(d);return}if(i!=null){var D;if(typeof r=="function"){var L={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},H=r(i,L);D=i[H]}else r==="value"&&(D=i.find(V=>String(V.value)===d.payload.label));var{coordinate:k}=d.payload;if(D==null||d.payload.active===!1||k==null||a==null){t(dQ({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:K}=k,z=Math.min(G,a.x+a.width),J=Math.min(K,a.y+a.height),Y={x:s==="horizontal"?D.coordinate:z,y:s==="horizontal"?J:D.coordinate},ge=dQ({active:d.payload.active,coordinate:Y,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});t(ge)}}};return fb.on(pQ,l),()=>{fb.off(pQ,l)}},[o,t,e,n,r,i,s,a])}function XUe(){var n=Ye(sO),e=Ye(aO),t=vr();F.useEffect(()=>{if(n==null)return tB;var r=(i,s,a)=>{e!==a&&n===i&&t(VUe(s))};return fb.on(O$,r),()=>{fb.off(O$,r)}},[t,e,n])}function JUe(){var n=vr();F.useEffect(()=>{n(kUe())},[n]),YUe(),XUe()}function ZUe(n,e,t,r,i,s){var a=Ye(v=>sUe(v,n,e)),o=Ye(aO),l=Ye(sO),u=Ye(z7),d=Ye(OUe),h=d==null?void 0:d.active,g=yI();F.useEffect(()=>{if(!h&&l!=null&&o!=null){var v=dQ({active:s,coordinate:t,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});fb.emit(pQ,l,v,o)}},[h,t,a,i,r,o,l,u,s,g])}function K$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function G$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?K$(Object(t),!0).forEach(function(r){ePe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):K$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ePe(n,e,t){return(e=tPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tPe(n){var e=nPe(n,"string");return typeof e=="symbol"?e:e+""}function nPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rPe(n){return n.dataKey}function iPe(n,e){return F.isValidElement(n)?F.cloneElement(n,e):typeof n=="function"?F.createElement(n,e):F.createElement(Hxe,e)}var z$=[],sPe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function aPe(n){var e,t,r=co(n,sPe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:g,position:v,reverseDirection:b,useTranslate3d:C,wrapperStyle:B,cursor:S,shared:I,trigger:T,defaultIndex:R,portal:U,axisId:D}=r,L=vr(),H=typeof R=="number"?String(R):R;F.useEffect(()=>{L(tMe({shared:I,trigger:T,axisId:D,active:i,defaultIndex:H}))},[L,I,T,D,i,H]);var k=yI(),G=LJ(),K=WFe(I),{activeIndex:z,isActive:J}=(e=Ye(ue=>AUe(ue,K,T,H)))!==null&&e!==void 0?e:{},Y=Ye(ue=>oUe(ue,K,T,H)),ge=Ye(ue=>iee(ue,K,T,H)),V=Ye(ue=>aUe(ue,K,T,H)),j=Y,re=UUe(),he=(t=i??J)!==null&&t!==void 0?t:!1,[Ee,q]=bBe([j,he]),X=K==="axis"?ge:void 0;ZUe(K,T,V,X,z,he);var oe=U??re;if(oe==null||k==null||K==null)return null;var Ce=j??z$;he||(Ce=z$),u&&Ce.length&&(Ce=$Ee(Ce.filter(ue=>ue.value!=null&&(ue.hide!==!0||r.includeHidden)),g,rPe));var se=Ce.length>0,ce=F.createElement(jxe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:he,coordinate:V,hasPayload:se,offset:h,position:v,reverseDirection:b,useTranslate3d:C,viewBox:k,wrapperStyle:B,lastBoundingBox:Ee,innerRef:q,hasPortalFromProps:!!U},iPe(l,G$(G$({},r),{},{payload:Ce,label:X,active:he,activeIndex:z,coordinate:V,accessibilityLayer:G})));return F.createElement(F.Fragment,null,o6.createPortal(ce,oe),he&&F.createElement(MUe,{cursor:S,tooltipEventType:K,coordinate:V,payload:Ce,index:z}))}var MO=n=>null;MO.displayName="Cell";function oPe(n,e,t){return(e=APe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function APe(n){var e=lPe(n,"string");return typeof e=="symbol"?e:e+""}function lPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class uPe{constructor(e){oPe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function q$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function cPe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?q$(Object(t),!0).forEach(function(r){dPe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):q$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dPe(n,e,t){return(e=fPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fPe(n){var e=hPe(n,"string");return typeof e=="symbol"?e:e+""}function hPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var pPe={cacheSize:2e3,enableCache:!0},lee=cPe({},pPe),$$=new uPe(lee.cacheSize),gPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},j$="recharts_measurement_span";function mPe(n,e){var t=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var W$=(n,e)=>{try{var t=document.getElementById(j$);t||(t=document.createElement("span"),t.setAttribute("id",j$),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,gPe,e),t.textContent="".concat(n);var r=t.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Hw=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||oB.isSsr)return{width:0,height:0};if(!lee.enableCache)return W$(e,t);var r=mPe(e,t),i=$$.get(r);if(i)return i;var s=W$(e,t);return $$.set(r,s),s},Y$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wPe=Object.keys(uee),qg="NaN";function bPe(n,e){return n*uee[e]}class _s{static parse(e){var t,[,r,i]=(t=yPe.exec(e))!==null&&t!==void 0?t:[];return new _s(parseFloat(r),i??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,RA(e)&&(this.unit=""),t!==""&&!vPe.test(t)&&(this.num=NaN,this.unit=""),wPe.includes(t)&&(this.num=bPe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new _s(NaN,""):new _s(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new _s(NaN,""):new _s(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _s(NaN,""):new _s(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _s(NaN,""):new _s(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return RA(this.num)}}function cee(n){if(n.includes(qg))return qg;for(var e=n;e.includes("*")||e.includes("/");){var t,[,r,i,s]=(t=Y$.exec(e))!==null&&t!==void 0?t:[],a=_s.parse(r??""),o=_s.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return qg;e=e.replace(Y$,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,g]=(u=X$.exec(e))!==null&&u!==void 0?u:[],v=_s.parse(d??""),b=_s.parse(g??""),C=h==="+"?v.add(b):v.subtract(b);if(C.isNaN())return qg;e=e.replace(X$,C.toString())}return e}var J$=/\(([^()]*)\)/;function CPe(n){for(var e=n,t;(t=J$.exec(e))!=null;){var[,r]=t;e=e.replace(J$,cee(r))}return e}function EPe(n){var e=n.replace(/\s+/g,"");return e=CPe(e),e=cee(e),e}function BPe(n){try{return EPe(n)}catch{return qg}}function lR(n){var e=BPe(n.slice(5,-1));return e===qg?"":e}var SPe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],xPe=["dx","dy","angle","className","breakAll"];function gQ(){return gQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gQ.apply(null,arguments)}function Z$(n,e){if(n==null)return{};var t,r,i=_Pe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function _Pe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var dee=/[ \f\n\r\t\v\u2028\u2029]+/,fee=n=>{var{children:e,breakAll:t,style:r}=n;try{var i=[];si(e)||(t?i=e.toString().split(""):i=e.toString().split(dee));var s=i.map(o=>({word:o,width:Hw(o,r).width})),a=t?0:Hw("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function TPe(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var hee=(n,e,t,r)=>n.reduce((i,s)=>{var{word:a,width:o}=s,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+t<Number(e)))l.words.push(a),l.width+=o+t;else{var u={words:[a],width:o};i.push(u)}return i},[]),pee=n=>n.reduce((e,t)=>e.width>t.width?e:t),IPe="",e8=(n,e,t,r,i,s,a,o)=>{var l=n.slice(0,e),u=fee({breakAll:t,style:r,children:l+IPe});if(!u)return[!1,[]];var d=hee(u.wordsWithComputedWidth,s,a,o),h=d.length>i||pee(d).width>Number(s);return[h,d]},FPe=(n,e,t,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=n,u=Je(s),d=String(a),h=hee(e,r,t,i);if(!u||i)return h;var g=h.length>s||pee(h).width>Number(r);if(!g)return h;for(var v=0,b=d.length-1,C=0,B;v<=b&&C<=d.length-1;){var S=Math.floor((v+b)/2),I=S-1,[T,R]=e8(d,I,l,o,s,r,t,i),[U]=e8(d,S,l,o,s,r,t,i);if(!T&&!U&&(v=S+1),T&&U&&(b=S-1),!T&&U){B=R;break}C++}return B||h},t8=n=>{var e=si(n)?[]:n.toString().split(dee);return[{words:e,width:void 0}]},MPe=n=>{var{width:e,scaleToFit:t,children:r,style:i,breakAll:s,maxLines:a}=n;if((e||t)&&!oB.isSsr){var o,l,u=fee({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,l=h}else return t8(r);return FPe({breakAll:s,children:r,maxLines:a,style:i},o,l,e,!!t)}return t8(r)},gee="#808080",UPe={angle:0,breakAll:!1,capHeight:"0.71em",fill:gee,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},UO=F.forwardRef((n,e)=>{var t=co(n,UPe),{x:r,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=t,h=Z$(t,SPe),g=F.useMemo(()=>MPe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:b,angle:C,className:B,breakAll:S}=h,I=Z$(h,xPe);if(!DA(r)||!DA(i)||g.length===0)return null;var T=Number(r)+(Je(v)?v:0),R=Number(i)+(Je(b)?b:0);if(!mr(T)||!mr(R))return null;var U;switch(d){case"start":U=lR("calc(".concat(a,")"));break;case"middle":U=lR("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:U=lR("calc(".concat(g.length-1," * -").concat(s,")"));break}var D=[];if(l){var L=g[0].width,{width:H}=h;D.push("scale(".concat(Je(H)&&Je(L)?H/L:1,")"))}return C&&D.push("rotate(".concat(C,", ").concat(T,", ").concat(R,")")),D.length&&(I.transform=D.join(" ")),F.createElement("text",gQ({},Ao(I),{ref:e,x:T,y:R,className:Nn("recharts-text",B),textAnchor:u,fill:o.includes("url")?gee:o}),g.map((k,G)=>{var K=k.words.join(S?"":" ");return F.createElement("tspan",{x:T,dy:G===0?U:s,key:"".concat(K,"-").concat(G)},K)}))});UO.displayName="Text";var PPe=["labelRef"];function RPe(n,e){if(n==null)return{};var t,r,i=DPe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function DPe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function n8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function dr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(t),!0).forEach(function(r){NPe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function NPe(n,e,t){return(e=LPe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LPe(n){var e=QPe(n,"string");return typeof e=="symbol"?e:e+""}function QPe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uu(){return uu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uu.apply(null,arguments)}var mee=F.createContext(null),kPe=n=>{var{x:e,y:t,upperWidth:r,lowerWidth:i,width:s,height:a,children:o}=n,l=F.useMemo(()=>({x:e,y:t,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,t,r,i,s,a]);return F.createElement(mee.Provider,{value:l},o)},vee=()=>{var n=F.useContext(mee),e=yI();return n||IJ(e)},OPe=F.createContext(null),HPe=()=>{var n=F.useContext(OPe),e=Ye(Y7);return n||e},VPe=n=>{var{value:e,formatter:t}=n,r=si(n.children)?e:n.children;return typeof t=="function"?t(r):r},PO=n=>n!=null&&typeof n=="function",KPe=(n,e)=>{var t=ha(e-n),r=Math.min(Math.abs(e-n),360);return t*r},GPe=(n,e,t,r,i)=>{var{offset:s,className:a}=n,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:h,endAngle:g,clockWise:v}=i,b=(u+d)/2,C=KPe(h,g),B=C>=0?1:-1,S,I;switch(e){case"insideStart":S=h+B*s,I=v;break;case"insideEnd":S=g-B*s,I=!v;break;case"end":S=g+B*s,I=v;break;default:throw new Error("Unsupported position ".concat(e))}I=C<=0?I:!I;var T=Ti(o,l,b,S),R=Ti(o,l,b,S+(I?1:-1)*359),U="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(I?0:1,`,
    `).concat(R.x,",").concat(R.y),D=si(n.id)?eb("recharts-radial-line-"):n.id;return F.createElement("text",uu({},r,{dominantBaseline:"central",className:Nn("recharts-radial-bar-label",a)}),F.createElement("defs",null,F.createElement("path",{id:D,d:U})),F.createElement("textPath",{xlinkHref:"#".concat(D)},t))},zPe=(n,e,t)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=n,u=(o+l)/2;if(t==="outside"){var{x:d,y:h}=Ti(r,i,a+e,u);return{x:d,y:h,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:b}=Ti(r,i,g,u);return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},mQ=n=>"cx"in n&&Je(n.cx),qPe=(n,e)=>{var{parentViewBox:t,offset:r,position:i}=n,s;t!=null&&!mQ(t)&&(s=t);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:d}=e,h=a,g=a+(l-u)/2,v=(h+g)/2,b=(l+u)/2,C=h+l/2,B=d>=0?1:-1,S=B*r,I=B>0?"end":"start",T=B>0?"start":"end",R=l>=0?1:-1,U=R*r,D=R>0?"end":"start",L=R>0?"start":"end";if(i==="top"){var H={x:h+l/2,y:o-S,textAnchor:"middle",verticalAnchor:I};return dr(dr({},H),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var k={x:g+u/2,y:o+d+S,textAnchor:"middle",verticalAnchor:T};return dr(dr({},k),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(i==="left"){var G={x:v-U,y:o+d/2,textAnchor:D,verticalAnchor:"middle"};return dr(dr({},G),s?{width:Math.max(G.x-s.x,0),height:d}:{})}if(i==="right"){var K={x:v+b+U,y:o+d/2,textAnchor:L,verticalAnchor:"middle"};return dr(dr({},K),s?{width:Math.max(s.x+s.width-K.x,0),height:d}:{})}var z=s?{width:b,height:d}:{};return i==="insideLeft"?dr({x:v+U,y:o+d/2,textAnchor:L,verticalAnchor:"middle"},z):i==="insideRight"?dr({x:v+b-U,y:o+d/2,textAnchor:D,verticalAnchor:"middle"},z):i==="insideTop"?dr({x:h+l/2,y:o+S,textAnchor:"middle",verticalAnchor:T},z):i==="insideBottom"?dr({x:g+u/2,y:o+d-S,textAnchor:"middle",verticalAnchor:I},z):i==="insideTopLeft"?dr({x:h+U,y:o+S,textAnchor:L,verticalAnchor:T},z):i==="insideTopRight"?dr({x:h+l-U,y:o+S,textAnchor:D,verticalAnchor:T},z):i==="insideBottomLeft"?dr({x:g+U,y:o+d-S,textAnchor:L,verticalAnchor:I},z):i==="insideBottomRight"?dr({x:g+u-U,y:o+d-S,textAnchor:D,verticalAnchor:I},z):i&&typeof i=="object"&&(Je(i.x)||Su(i.x))&&(Je(i.y)||Su(i.y))?dr({x:a+Oo(i.x,b),y:o+Oo(i.y,d),textAnchor:"end",verticalAnchor:"end"},z):dr({x:C,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},z)},$Pe={angle:0,offset:5,zIndex:Ms.label,position:"middle",textBreakAll:!1};function Sc(n){var e=co(n,$Pe),{viewBox:t,position:r,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=HPe(),h=vee(),g=r==="center"?h:d??h,v,b,C;if(t==null?v=g:mQ(t)?v=t:v=IJ(t),!v||si(i)&&si(s)&&!F.isValidElement(a)&&typeof a!="function")return null;var B=dr(dr({},e),{},{viewBox:v});if(F.isValidElement(a)){var{labelRef:S}=B,I=RPe(B,PPe);return F.cloneElement(a,I)}if(typeof a=="function"){if(b=F.createElement(a,B),F.isValidElement(b))return b}else b=VPe(e);var T=Ao(e);if(mQ(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return GPe(e,r,b,T,v);C=zPe(v,e.offset,e.position)}else C=qPe(e,v);return F.createElement(sf,{zIndex:e.zIndex},F.createElement(UO,uu({ref:u,className:Nn("recharts-label",o)},T,C,{textAnchor:TPe(T.textAnchor)?T.textAnchor:C.textAnchor,breakAll:l}),b))}Sc.displayName="Label";var jPe=(n,e,t)=>{if(!n)return null;var r={viewBox:e,labelRef:t};return n===!0?F.createElement(Sc,uu({key:"label-implicit"},r)):DA(n)?F.createElement(Sc,uu({key:"label-implicit",value:n},r)):F.isValidElement(n)?n.type===Sc?F.cloneElement(n,dr({key:"label-implicit"},r)):F.createElement(Sc,uu({key:"label-implicit",content:n},r)):PO(n)?F.createElement(Sc,uu({key:"label-implicit",content:n},r)):n&&typeof n=="object"?F.createElement(Sc,uu({},n,{key:"label-implicit"},r)):null};function WPe(n){var{label:e,labelRef:t}=n,r=vee();return jPe(e,r,t)||null}var uR={},cR={},r8;function YPe(){return r8||(r8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(cR)),cR}var dR={},i8;function XPe(){return i8||(i8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(dR)),dR}var s8;function JPe(){return s8||(s8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=YPe(),t=XPe(),r=gk();function i(s){if(r.isArrayLike(s))return e.last(t.toArray(s))}n.last=i})(uR)),uR}var fR,a8;function ZPe(){return a8||(a8=1,fR=JPe().last),fR}var eRe=ZPe();const tRe=kA(eRe);var nRe=["valueAccessor"],rRe=["dataKey","clockWise","id","textBreakAll","zIndex"];function r1(){return r1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},r1.apply(null,arguments)}function o8(n,e){if(n==null)return{};var t,r,i=iRe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function iRe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var sRe=n=>Array.isArray(n.value)?tRe(n.value):n.value,yee=F.createContext(void 0),aRe=yee.Provider,wee=F.createContext(void 0);wee.Provider;function oRe(){return F.useContext(yee)}function ARe(){return F.useContext(wee)}function q_(n){var{valueAccessor:e=sRe}=n,t=o8(n,nRe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:o}=t,l=o8(t,rRe),u=oRe(),d=ARe(),h=u||d;return!h||!h.length?null:F.createElement(sf,{zIndex:o??Ms.label},F.createElement(Bu,{className:"recharts-label-list"},h.map((g,v)=>{var b,C=si(r)?e(g,v):Gi(g&&g.payload,r),B=si(s)?{}:{id:"".concat(s,"-").concat(v)};return F.createElement(Sc,r1({key:"label-".concat(v)},Ao(g),l,B,{fill:(b=t.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:C,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}q_.displayName="LabelList";function lRe(n){var{label:e}=n;return e?e===!0?F.createElement(q_,{key:"labelList-implicit"}):F.isValidElement(e)||PO(e)?F.createElement(q_,{key:"labelList-implicit",content:e}):typeof e=="object"?F.createElement(q_,r1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var uRe={radiusAxis:{},angleAxis:{}},bee=Us({name:"polarAxis",initialState:uRe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:wke,removeRadiusAxis:bke,addAngleAxis:Cke,removeAngleAxis:Eke}=bee.actions,cRe=bee.reducer,hR={exports:{}},An={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A8;function dRe(){if(A8)return An;A8=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function b(C){if(typeof C=="object"&&C!==null){var B=C.$$typeof;switch(B){case n:switch(C=C.type,C){case t:case i:case r:case l:case u:case g:return C;default:switch(C=C&&C.$$typeof,C){case a:case o:case h:case d:return C;case s:return C;default:return B}}case e:return B}}}return An.ContextConsumer=s,An.ContextProvider=a,An.Element=n,An.ForwardRef=o,An.Fragment=t,An.Lazy=h,An.Memo=d,An.Portal=e,An.Profiler=i,An.StrictMode=r,An.Suspense=l,An.SuspenseList=u,An.isContextConsumer=function(C){return b(C)===s},An.isContextProvider=function(C){return b(C)===a},An.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===n},An.isForwardRef=function(C){return b(C)===o},An.isFragment=function(C){return b(C)===t},An.isLazy=function(C){return b(C)===h},An.isMemo=function(C){return b(C)===d},An.isPortal=function(C){return b(C)===e},An.isProfiler=function(C){return b(C)===i},An.isStrictMode=function(C){return b(C)===r},An.isSuspense=function(C){return b(C)===l},An.isSuspenseList=function(C){return b(C)===u},An.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===t||C===i||C===r||C===l||C===u||typeof C=="object"&&C!==null&&(C.$$typeof===h||C.$$typeof===d||C.$$typeof===a||C.$$typeof===s||C.$$typeof===o||C.$$typeof===v||C.getModuleId!==void 0)},An.typeOf=b,An}var l8;function fRe(){return l8||(l8=1,hR.exports=dRe()),hR.exports}var hRe=fRe(),u8=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",c8=null,pR=null,Cee=n=>{if(n===c8&&Array.isArray(pR))return pR;var e=[];return F.Children.forEach(n,t=>{si(t)||(hRe.isFragment(t)?e=e.concat(Cee(t.props.children)):e.push(t))}),pR=e,c8=n,e};function pRe(n,e){var t=[],r=[];return Array.isArray(e)?r=e.map(i=>u8(i)):r=[u8(e)],Cee(n).forEach(i=>{var s=oy(i,"type.displayName")||oy(i,"type.name");s&&r.indexOf(s)!==-1&&t.push(i)}),t}var gR={},d8;function gRe(){return d8||(d8=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var i;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const s=t[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&i.writable)?!1:t.toString()===`[object ${s}]`}let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}n.isPlainObject=e})(gR)),gR}var mR,f8;function mRe(){return f8||(f8=1,mR=gRe().isPlainObject),mR}var vRe=mRe();const yRe=kA(vRe);function h8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function p8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(t),!0).forEach(function(r){wRe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wRe(n,e,t){return(e=bRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bRe(n){var e=CRe(n,"string");return typeof e=="symbol"?e:e+""}function CRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function i1(){return i1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},i1.apply(null,arguments)}var g8=(n,e,t,r,i)=>{var s=t-r,a;return a="M ".concat(n,",").concat(e),a+="L ".concat(n+t,",").concat(e),a+="L ".concat(n+t-s/2,",").concat(e+i),a+="L ".concat(n+t-s/2-r,",").concat(e+i),a+="L ".concat(n,",").concat(e," Z"),a},ERe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BRe=n=>{var e=co(n,ERe),{x:t,y:r,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,g=F.useRef(null),[v,b]=F.useState(-1),C=F.useRef(i),B=F.useRef(s),S=F.useRef(a),I=F.useRef(t),T=F.useRef(r),R=Mk(n,"trapezoid-");if(F.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var Y=g.current.getTotalLength();Y&&b(Y)}catch{}},[]),t!==+t||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var U=Nn("recharts-trapezoid",o);if(!h)return F.createElement("g",null,F.createElement("path",i1({},Ao(e),{className:U,d:g8(t,r,i,s,a)})));var D=C.current,L=B.current,H=S.current,k=I.current,G=T.current,K="0px ".concat(v===-1?1:v,"px"),z="".concat(v,"px 0px"),J=kJ(["strokeDasharray"],u,l);return F.createElement(Fk,{animationId:R,key:R,canBegin:v>0,duration:u,easing:l,isActive:h,begin:d},Y=>{var ge=Bi(D,i,Y),V=Bi(L,s,Y),j=Bi(H,a,Y),re=Bi(k,t,Y),he=Bi(G,r,Y);g.current&&(C.current=ge,B.current=V,S.current=j,I.current=re,T.current=he);var Ee=Y>0?{transition:J,strokeDasharray:z}:{strokeDasharray:K};return F.createElement("path",i1({},Ao(e),{className:U,d:g8(re,he,ge,V,j),ref:g,style:p8(p8({},Ee),e.style)}))})},SRe=["option","shapeType","propTransformer","activeClassName"];function xRe(n,e){if(n==null)return{};var t,r,i=_Re(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function _Re(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function m8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function s1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(t),!0).forEach(function(r){TRe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function TRe(n,e,t){return(e=IRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IRe(n){var e=FRe(n,"string");return typeof e=="symbol"?e:e+""}function FRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function MRe(n,e){return s1(s1({},e),n)}function URe(n,e){return n==="symbols"}function v8(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return F.createElement(KJ,t);case"trapezoid":return F.createElement(BRe,t);case"sector":return F.createElement(qJ,t);case"symbols":if(URe(e))return F.createElement(P9,t);break;case"curve":return F.createElement(QJ,t);default:return null}}function PRe(n){return F.isValidElement(n)?n.props:n}function RRe(n){var{option:e,shapeType:t,propTransformer:r=MRe,activeClassName:i="recharts-active-shape"}=n,s=xRe(n,SRe),a;if(F.isValidElement(e))a=F.cloneElement(e,s1(s1({},s),PRe(e)));else if(typeof e=="function")a=e(s,s.index);else if(yRe(e)&&typeof e!="boolean"){var o=r(e,s);a=F.createElement(v8,{shapeType:t,elementProps:o})}else{var l=s;a=F.createElement(v8,{shapeType:t,elementProps:l})}return s.isActive?F.createElement(Bu,{className:i},a):a}var Eee=(n,e,t)=>{var r=vr();return(i,s)=>a=>{n==null||n(i,s,a),r(kZ({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}},Bee=n=>{var e=vr();return(t,r)=>i=>{n==null||n(t,r,i),e(nMe())}},See=(n,e,t)=>{var r=vr();return(i,s)=>a=>{n==null||n(i,s,a),r(rMe({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}};function DRe(n){var{tooltipEntrySettings:e}=n,t=vr(),r=wa(),i=F.useRef(null);return F.useLayoutEffect(()=>{r||(i.current===null?t(JFe(e)):i.current!==e&&t(ZFe({prev:i.current,next:e})),i.current=e)},[e,t,r]),F.useLayoutEffect(()=>()=>{i.current&&(t(eMe(i.current)),i.current=null)},[t]),null}function NRe(n){var{legendPayload:e}=n,t=vr(),r=wa(),i=F.useRef(null);return F.useLayoutEffect(()=>{r||(i.current===null?t(Pxe(e)):i.current!==e&&t(Rxe({prev:i.current,next:e})),i.current=e)},[t,r,e]),F.useLayoutEffect(()=>()=>{i.current&&(t(Dxe(i.current)),i.current=null)},[t]),null}var vR,LRe=()=>{var[n]=F.useState(()=>eb("uid-"));return n},QRe=(vR=cre.useId)!==null&&vR!==void 0?vR:LRe;function xee(n,e){var t=QRe();return e||(n?"".concat(n,"-").concat(t):t)}var kRe=F.createContext(void 0),ORe=n=>{var{id:e,type:t,children:r}=n,i=xee("recharts-".concat(t),e);return F.createElement(kRe.Provider,{value:i},r(i))},HRe={cartesianItems:[],polarItems:[]},_ee=Us({name:"graphicalItems",initialState:HRe,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:Vn()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:r}=e.payload,i=ko(n).cartesianItems.indexOf(t);i>-1&&(n.cartesianItems[i]=r)},prepare:Vn()},removeCartesianGraphicalItem:{reducer(n,e){var t=ko(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:Vn()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:Vn()},removePolarGraphicalItem:{reducer(n,e){var t=ko(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:Vn()}}}),{addCartesianGraphicalItem:VRe,replaceCartesianGraphicalItem:KRe,removeCartesianGraphicalItem:GRe,addPolarGraphicalItem:Bke,removePolarGraphicalItem:Ske}=_ee.actions,zRe=_ee.reducer,qRe=n=>{var e=vr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(VRe(n)):t.current!==n&&e(KRe({prev:t.current,next:n})),t.current=n},[e,n]),F.useLayoutEffect(()=>()=>{t.current&&(e(GRe(t.current)),t.current=null)},[e]),null},$Re=F.memo(qRe);function y8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function w8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(t),!0).forEach(function(r){jRe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):y8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jRe(n,e,t){return(e=WRe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WRe(n){var e=YRe(n,"string");return typeof e=="symbol"?e:e+""}function YRe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var XRe={xAxis:{},yAxis:{},zAxis:{}},Tee=Us({name:"cartesianAxis",initialState:XRe,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:Vn()},replaceXAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.xAxis[t.id],n.xAxis[r.id]=r)},prepare:Vn()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:Vn()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:Vn()},replaceYAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.yAxis[t.id],n.yAxis[r.id]=r)},prepare:Vn()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:Vn()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:Vn()},replaceZAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.zAxis[t.id],n.zAxis[r.id]=r)},prepare:Vn()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:Vn()},updateYAxisWidth(n,e){var{id:t,width:r}=e.payload,i=n.yAxis[t];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);n.yAxis[t]=w8(w8({},n.yAxis[t]),{},{width:r,widthHistory:a})}}}}),{addXAxis:JRe,replaceXAxis:ZRe,removeXAxis:eDe,addYAxis:tDe,replaceYAxis:nDe,removeYAxis:rDe,addZAxis:xke,replaceZAxis:_ke,removeZAxis:Tke,updateYAxisWidth:iDe}=Tee.actions,sDe=Tee.reducer,aDe=le([ai],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),oDe=le([aDe,ku,Ou],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),Iee=()=>Ye(oDe),ADe="Invariant failed";function lDe(n,e){throw new Error(ADe)}var uDe=["x","y"];function vQ(){return vQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vQ.apply(null,arguments)}function b8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(t),!0).forEach(function(r){cDe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cDe(n,e,t){return(e=dDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dDe(n){var e=fDe(n,"string");return typeof e=="symbol"?e:e+""}function fDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hDe(n,e){if(n==null)return{};var t,r,i=pDe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function pDe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function gDe(n,e){var{x:t,y:r}=n,i=hDe(n,uDe),s="".concat(t),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),g=parseInt(h,10);return $0($0($0($0($0({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function a1(n){return F.createElement(RRe,vQ({shapeType:"rectangle",propTransformer:gDe,activeClassName:"recharts-active-bar"},n))}var mDe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Je(e))return e;var s=Je(r)||si(r);return s?e(r,i):(s||lDe(),t)}},vDe={},Fee=Us({name:"errorBars",initialState:vDe,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]||(n[t]=[]),n[t].push(r)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:r,next:i}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]&&(n[t]=n[t].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Ike,replaceErrorBar:Fke,removeErrorBar:Mke}=Fee.actions,yDe=Fee.reducer,wDe=["children"];function bDe(n,e){if(n==null)return{};var t,r,i=CDe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function CDe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var EDe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},BDe=F.createContext(EDe);function SDe(n){var{children:e}=n,t=bDe(n,wDe);return F.createElement(BDe.Provider,{value:t},e)}function Mee(n,e){var t,r,i=Ye(u=>Vu(u,n)),s=Ye(u=>Ku(u,e)),a=(t=i==null?void 0:i.allowDataOverflow)!==null&&t!==void 0?t:jr.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Wr.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function xDe(n){var{xAxisId:e,yAxisId:t,clipPathId:r}=n,i=Iee(),{needClipX:s,needClipY:a,needClip:o}=Mee(e,t);if(!o||!i)return null;var{x:l,y:u,width:d,height:h}=i;return F.createElement("clipPath",{id:"clipPath-".concat(r)},F.createElement("rect",{x:s?l:l-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}function _De(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&mr(n.zIndex)?n.zIndex:e}var yR={exports:{}},wR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C8;function TDe(){if(C8)return wR;C8=1;var n=yy();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,s=n.useEffect,a=n.useMemo,o=n.useDebugValue;return wR.useSyncExternalStoreWithSelector=function(l,u,d,h,g){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=a(function(){function B(U){if(!S){if(S=!0,I=U,U=h(U),g!==void 0&&b.hasValue){var D=b.value;if(g(D,U))return T=D}return T=U}if(D=T,t(I,U))return D;var L=h(U);return g!==void 0&&g(D,L)?(I=U,D):(I=U,T=L)}var S=!1,I,T,R=d===void 0?null:d;return[function(){return B(u())},R===null?void 0:function(){return B(R())}]},[u,d,h,g]);var C=r(l,v[0],v[1]);return s(function(){b.hasValue=!0,b.value=C},[C]),o(C),C},wR}var E8;function IDe(){return E8||(E8=1,yR.exports=TDe()),yR.exports}IDe();function FDe(n){n()}function MDe(){let n=null,e=null;return{clear(){n=null,e=null},notify(){FDe(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var B8={notify(){},get:()=>[]};function UDe(n,e){let t,r=B8,i=0,s=!1;function a(C){d();const B=r.subscribe(C);let S=!1;return()=>{S||(S=!0,B(),h())}}function o(){r.notify()}function l(){b.onStateChange&&b.onStateChange()}function u(){return s}function d(){i++,t||(t=n.subscribe(l),r=MDe())}function h(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=B8)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,h())}const b={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return b}var PDe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RDe=PDe(),DDe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",NDe=DDe(),LDe=()=>RDe||NDe?F.useLayoutEffect:F.useEffect,QDe=LDe();function S8(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function kDe(n,e){if(S8(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!S8(n[t[i]],e[t[i]]))return!1;return!0}var bR=Symbol.for("react-redux-context"),CR=typeof globalThis<"u"?globalThis:{};function ODe(){if(!F.createContext)return{};const n=CR[bR]??(CR[bR]=new Map);let e=n.get(F.createContext);return e||(e=F.createContext(null),n.set(F.createContext,e)),e}var HDe=ODe();function VDe(n){const{children:e,context:t,serverState:r,store:i}=n,s=F.useMemo(()=>{const l=UDe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=F.useMemo(()=>i.getState(),[i]);QDe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=t||HDe;return F.createElement(o.Provider,{value:s},e)}var KDe=VDe,GDe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function zDe(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function RO(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var r of t)if(GDe.has(r)){if(n[r]==null&&e[r]==null)continue;if(!kDe(n[r],e[r]))return!1}else if(!zDe(n[r],e[r]))return!1;return!0}var qDe=["onMouseEnter","onMouseLeave","onClick"],$De=["value","background","tooltipPosition"],jDe=["id"],WDe=["onMouseEnter","onClick","onMouseLeave"];function Mu(){return Mu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mu.apply(null,arguments)}function x8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ns(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(t),!0).forEach(function(r){YDe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):x8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function YDe(n,e,t){return(e=XDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XDe(n){var e=JDe(n,"string");return typeof e=="symbol"?e:e+""}function JDe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function o1(n,e){if(n==null)return{};var t,r,i=ZDe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function ZDe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var eNe=n=>{var{dataKey:e,name:t,fill:r,legendType:i,hide:s}=n;return[{inactive:s,dataKey:e,type:i,color:r,value:BJ(t,e),payload:n}]},tNe=F.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:r,fill:i,name:s,hide:a,unit:o,tooltipType:l}=n,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:BJ(s,e),hide:a,type:l,color:i,unit:o}};return F.createElement(DRe,{tooltipEntrySettings:u})});function nNe(n){var e=Ye(gy),{data:t,dataKey:r,background:i,allOtherBarProps:s}=n,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,u=o1(s,qDe),d=Eee(a,r),h=Bee(o),g=See(l,r);if(!i||t==null)return null;var v=Ak(i);return F.createElement(sf,{zIndex:_De(i,Ms.barBackground)},t.map((b,C)=>{var{value:B,background:S,tooltipPosition:I}=b,T=o1(b,$De);if(!S)return null;var R=d(b,C),U=h(b,C),D=g(b,C),L=ns(ns(ns(ns(ns({option:i,isActive:String(C)===e},T),{},{fill:"#eee"},S),v),pk(u,b,C)),{},{onMouseEnter:R,onMouseLeave:U,onClick:D,dataKey:r,index:C,className:"recharts-bar-background-rectangle"});return F.createElement(a1,Mu({key:"background-bar-".concat(C)},L))}))}function rNe(n){var{showLabels:e,children:t,rects:r}=n,i=r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return ns(ns({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return F.createElement(aRe,{value:e?i:void 0},t)}function iNe(n){var{shape:e,activeBar:t,baseProps:r,entry:i,index:s,dataKey:a}=n,o=Ye(gy),l=Ye(ZZ),u=t&&String(s)===o&&(l==null||a===l),d=u?t:e;return u?F.createElement(sf,{zIndex:Ms.activeBar},F.createElement(a1,Mu({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))):F.createElement(a1,Mu({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))}function sNe(n){var{shape:e,baseProps:t,entry:r,index:i,dataKey:s}=n;return F.createElement(a1,Mu({},t,{name:String(t.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function aNe(n){var e,{data:t,props:r}=n,i=(e=Wd(r))!==null&&e!==void 0?e:{},{id:s}=i,a=o1(i,jDe),{shape:o,dataKey:l,activeBar:u}=r,{onMouseEnter:d,onClick:h,onMouseLeave:g}=r,v=o1(r,WDe),b=Eee(d,l),C=Bee(g),B=See(h,l);return t?F.createElement(F.Fragment,null,t.map((S,I)=>F.createElement(Bu,Mu({key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(I),className:"recharts-bar-rectangle"},pk(v,S,I),{onMouseEnter:b(S,I),onMouseLeave:C(S,I),onClick:B(S,I)}),u?F.createElement(iNe,{shape:o,activeBar:u,baseProps:a,entry:S,index:I,dataKey:l}):F.createElement(sNe,{shape:o,baseProps:a,entry:S,index:I,dataKey:l})))):null}function oNe(n){var{props:e,previousRectanglesRef:t}=n,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=e,h=t.current,g=Mk(e,"recharts-bar-"),[v,b]=F.useState(!1),C=!v,B=F.useCallback(()=>{typeof u=="function"&&u(),b(!1)},[u]),S=F.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return F.createElement(rNe,{showLabels:C,rects:r},F.createElement(Fk,{animationId:g,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:B,onAnimationStart:S,key:g},I=>{var T=I===1?r:r==null?void 0:r.map((R,U)=>{var D=h&&h[U];if(D)return ns(ns({},R),{},{x:Bi(D.x,R.x,I),y:Bi(D.y,R.y,I),width:Bi(D.width,R.width,I),height:Bi(D.height,R.height,I)});if(i==="horizontal"){var L=Bi(0,R.height,I),H=Bi(R.stackedBarStart,R.y,I);return ns(ns({},R),{},{y:H,height:L})}var k=Bi(0,R.width,I),G=Bi(R.stackedBarStart,R.x,I);return ns(ns({},R),{},{width:k,x:G})});return I>0&&(t.current=T??null),T==null?null:F.createElement(Bu,null,F.createElement(aNe,{props:e,data:T}))}),F.createElement(lRe,{label:e.label}),e.children)}function ANe(n){var e=F.useRef(null);return F.createElement(oNe,{previousRectanglesRef:e,props:n})}var Uee=0,lNe=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:Gi(n,e)}};class uNe extends F.PureComponent{render(){var{hide:e,data:t,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:o,background:l,id:u}=this.props;if(e||t==null)return null;var d=Nn("recharts-bar",i),h=u;return F.createElement(Bu,{className:d,id:u},o&&F.createElement("defs",null,F.createElement(xDe,{clipPathId:h,xAxisId:s,yAxisId:a})),F.createElement(Bu,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},F.createElement(nNe,{data:t,dataKey:r,background:l,allOtherBarProps:this.props}),F.createElement(ANe,this.props)))}}var cNe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Uee,xAxisId:0,yAxisId:0,zIndex:Ms.bar};function dNe(n){var{xAxisId:e,yAxisId:t,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=n,{needClip:h}=Mee(e,t),g=wI(),v=wa(),b=pRe(n.children,MO),C=Ye(I=>ONe(I,e,t,v,n.id,b));if(g!=="vertical"&&g!=="horizontal")return null;var B,S=C==null?void 0:C[0];return S==null||S.height==null||S.width==null?B=0:B=g==="vertical"?S.height/2:S.width/2,F.createElement(SDe,{xAxisId:e,yAxisId:t,data:C,dataPointFormatter:lNe,errorBarOffset:B},F.createElement(uNe,Mu({},n,{layout:g,needClip:h,data:C,xAxisId:e,yAxisId:t,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function fNe(n){var{layout:e,barSettings:{dataKey:t,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:h,offset:g,cells:v,parentViewBox:b,dataStartIndex:C}=n,B=e==="horizontal"?o:a,S=d?B.scale.domain():null,I=PSe({numericAxis:B}),T=B.scale(I);return h.map((R,U)=>{var D,L,H,k,G,K;d?D=_Se(d[U+C],S):(D=Gi(R,t),Array.isArray(D)||(D=[I,D]));var z=mDe(r,Uee)(D[1],U);if(e==="horizontal"){var J,[Y,ge]=[o.scale(D[0]),o.scale(D[1])];L=X5({axis:a,ticks:l,bandSize:s,offset:i.offset,entry:R,index:U}),H=(J=ge??Y)!==null&&J!==void 0?J:void 0,k=i.size;var V=Y-ge;if(G=RA(V)?0:V,K={x:L,y:g.top,width:k,height:g.height},Math.abs(z)>0&&Math.abs(G)<Math.abs(z)){var j=ha(G||z)*(Math.abs(z)-Math.abs(G));H-=j,G+=j}}else{var[re,he]=[a.scale(D[0]),a.scale(D[1])];if(L=re,H=X5({axis:o,ticks:u,bandSize:s,offset:i.offset,entry:R,index:U}),k=he-re,G=i.size,K={x:g.left,y:H,width:g.width,height:G},Math.abs(z)>0&&Math.abs(k)<Math.abs(z)){var Ee=ha(k||z)*(Math.abs(z)-Math.abs(k));k+=Ee}}if(L==null||H==null||k==null||G==null)return null;var q=ns(ns({},R),{},{stackedBarStart:T,x:L,y:H,width:k,height:G,value:d?D:D[1],payload:R,background:K,tooltipPosition:{x:L+k/2,y:H+G/2},parentViewBox:b},v&&v[U]&&v[U].props);return q}).filter(Boolean)}function hNe(n){var e=co(n,cNe),t=wa();return F.createElement(ORe,{id:e.id,type:"bar"},r=>F.createElement(F.Fragment,null,F.createElement(NRe,{legendPayload:eNe(e)}),F.createElement(tNe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),F.createElement($Re,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:USe(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),F.createElement(sf,{zIndex:e.zIndex},F.createElement(dNe,Mu({},e,{id:r})))))}var Pee=F.memo(hNe,RO);Pee.displayName="Bar";function _8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Lx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_8(Object(t),!0).forEach(function(r){pNe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pNe(n,e,t){return(e=gNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gNe(n){var e=mNe(n,"string");return typeof e=="symbol"?e:e+""}function mNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var vNe=(n,e)=>e,yNe=(n,e,t)=>t,wNe=(n,e,t,r)=>r,bNe=(n,e,t,r,i)=>i,bB=le([dO,bNe],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),CNe=le([bB],n=>n==null?void 0:n.maxBarSize),ENe=(n,e,t,r,i,s)=>s,T8=(n,e,t)=>{var r=t??n;if(!si(r))return Oo(r,e,0)},BNe=le([en,dO,vNe,yNe,wNe],(n,e,t,r,i)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),SNe=(n,e,t,r)=>{var i=en(n);return i==="horizontal"?cQ(n,"yAxis",t,r):cQ(n,"xAxis",e,r)},xNe=(n,e,t)=>{var r=en(n);return r==="horizontal"?I$(n,"xAxis",e):I$(n,"yAxis",t)},_Ne=(n,e,t)=>{var r={},i=n.filter(DI),s=n.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),o=Object.entries(a).map(u=>{var[d,h]=u,g=h.map(b=>b.dataKey),v=T8(e,t,h[0].barSize);return{stackId:d,dataKeys:g,barSize:v}}),l=s.map(u=>{var d=[u.dataKey].filter(g=>g!=null),h=T8(e,t,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...l]},TNe=le([BNe,zIe,xNe],_Ne),INe=(n,e,t,r,i)=>{var s,a,o=bB(n,e,t,r,i);if(o!=null){var l=en(n),u=V7(n),{maxBarSize:d}=o,h=si(d)?u:d,g,v;return l==="horizontal"?(g=py(n,"xAxis",e,r),v=hy(n,"xAxis",e,r)):(g=py(n,"yAxis",t,r),v=hy(n,"yAxis",t,r)),(s=(a=DT(g,v,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0}},Ree=(n,e,t,r)=>{var i=en(n),s,a;return i==="horizontal"?(s=py(n,"xAxis",e,r),a=hy(n,"xAxis",e,r)):(s=py(n,"yAxis",t,r),a=hy(n,"yAxis",t,r)),DT(s,a)};function FNe(n,e,t,r,i){var s=r.length;if(!(s<1)){var a=Oo(n,t,0,!0),o,l=[];if(mr(r[0].barSize)){var u=!1,d=t/s,h=r.reduce((S,I)=>S+(I.barSize||0),0);h+=(s-1)*a,h>=t&&(h-=(s-1)*a,a=0),h>=t&&d>0&&(u=!0,d*=.9,h=s*d);var g=(t-h)/2>>0,v={offset:g-a,size:0};o=r.reduce((S,I)=>{var T,R={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:v.offset+v.size+a,size:u?d:(T=I.barSize)!==null&&T!==void 0?T:0}},U=[...S,R];return v=U[U.length-1].position,U},l)}else{var b=Oo(e,t,0,!0);t-2*b-(s-1)*a<=0&&(a=0);var C=(t-2*b-(s-1)*a)/s;C>1&&(C>>=0);var B=mr(i)?Math.min(C,i):C;o=r.reduce((S,I,T)=>[...S,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:b+(C+a)*T+(C-B)/2,size:B}}],l)}return o}}var MNe=(n,e,t,r,i,s,a)=>{var o=si(a)?e:a,l=FNe(t,r,i!==s?i:s,n,o);return i!==s&&l!=null&&(l=l.map(u=>Lx(Lx({},u),{},{position:Lx(Lx({},u.position),{},{offset:u.position.offset-i/2})}))),l},UNe=le([TNe,V7,GIe,K7,INe,Ree,CNe],MNe),PNe=(n,e,t,r)=>py(n,"xAxis",e,r),RNe=(n,e,t,r)=>py(n,"yAxis",t,r),DNe=(n,e,t,r)=>hy(n,"xAxis",e,r),NNe=(n,e,t,r)=>hy(n,"yAxis",t,r),LNe=le([UNe,bB],(n,e)=>{if(!(n==null||e==null)){var t=n.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),QNe=(n,e)=>{var t=uO(e);if(!(!n||t==null||e==null)){var{stackId:r}=e;if(r!=null){var i=n[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===t)}}}},kNe=le([SNe,bB],QNe),ONe=le([ai,xk,PNe,RNe,DNe,NNe,LNe,en,tO,Ree,kNe,bB,ENe],(n,e,t,r,i,s,a,o,l,u,d,h,g)=>{var{chartData:v,dataStartIndex:b,dataEndIndex:C}=l;if(!(h==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||t==null||r==null||i==null||s==null||u==null)){var{data:B}=h,S;if(B!=null&&B.length>0?S=B:S=v==null?void 0:v.slice(b,C+1),S!=null)return fNe({layout:o,barSettings:h,pos:a,parentViewBox:e,bandSize:u,xAxis:t,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:S,offset:n,cells:g,dataStartIndex:b})}}),HNe=n=>{var{chartData:e}=n,t=vr(),r=wa();return F.useEffect(()=>r?()=>{}:(t(H$(e)),()=>{t(H$(void 0))}),[e,t,r]),null},I8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Dee=Us({name:"brush",initialState:I8,reducers:{setBrushSettings(n,e){return e.payload==null?I8:e.payload}}}),{setBrushSettings:Uke}=Dee.actions,VNe=Dee.reducer;function KNe(n,e,t){return(e=GNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GNe(n){var e=zNe(n,"string");return typeof e=="symbol"?e:e+""}function zNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class DO{static create(e){return new DO(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],i=t[t.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}KNe(DO,"EPS",1e-4);function qNe(n){return(n%180+180)%180}var $Ne=function(e){var{width:t,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=qNe(i),a=s*Math.PI/180,o=Math.atan(r/t),l=a>o&&a<Math.PI-o?r/Math.sin(a):t/Math.cos(a);return Math.abs(l)},jNe={dots:[],areas:[],lines:[]},Nee=Us({name:"referenceElements",initialState:jNe,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=ko(n).dots.findIndex(r=>r===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=ko(n).areas.findIndex(r=>r===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=ko(n).lines.findIndex(r=>r===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:Pke,removeDot:Rke,addArea:Dke,removeArea:Nke,addLine:Lke,removeLine:Qke}=Nee.actions,WNe=Nee.reducer,YNe=F.createContext(void 0),XNe=n=>{var{children:e}=n,[t]=F.useState("".concat(eb("recharts"),"-clip")),r=Iee();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return F.createElement(YNe.Provider,{value:t},F.createElement("defs",null,F.createElement("clipPath",{id:t},F.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function Lee(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],r=0;r<n.length;r+=e)t.push(n[r]);return t}function JNe(n,e,t){var r={width:n.width+e.width,height:n.height+e.height};return $Ne(r,t)}function ZNe(n,e,t){var r=t==="width",{x:i,y:s,width:a,height:o}=n;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function A1(n,e,t,r,i){if(n*e<n*r||n*e>n*i)return!1;var s=t();return n*(e-n*s/2-r)>=0&&n*(e+n*s/2-i)<=0}function eLe(n,e){return Lee(n,e+1)}function tLe(n,e,t,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,h=function(){var b=r==null?void 0:r[l];if(b===void 0)return{v:Lee(r,u)};var C=l,B,S=()=>(B===void 0&&(B=t(b,C)),B),I=b.coordinate,T=l===0||A1(n,I,S,d,o);T||(l=0,d=a,u+=1),T&&(d=I+n*(S()/2+i),l+=u)},g;u<=s.length;)if(g=h(),g)return g.v;return[]}function F8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Hi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(t),!0).forEach(function(r){nLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nLe(n,e,t){return(e=rLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rLe(n){var e=iLe(n,"string");return typeof e=="symbol"?e:e+""}function iLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sLe(n,e,t,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(g){var v=s[g],b,C=()=>(b===void 0&&(b=t(v,g)),b);if(g===a-1){var B=n*(v.coordinate+n*C()/2-l);s[g]=v=Hi(Hi({},v),{},{tickCoord:B>0?v.coordinate-B*n:v.coordinate})}else s[g]=v=Hi(Hi({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var S=A1(n,v.tickCoord,C,o,l);S&&(l=v.tickCoord-n*(C()/2+i),s[g]=Hi(Hi({},v),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function aLe(n,e,t,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var d=r[o-1],h=t(d,o-1),g=n*(d.coordinate+n*h/2-u);if(a[o-1]=d=Hi(Hi({},d),{},{tickCoord:g>0?d.coordinate-g*n:d.coordinate}),d.tickCoord!=null){var v=A1(n,d.tickCoord,()=>h,l,u);v&&(u=d.tickCoord-n*(h/2+i),a[o-1]=Hi(Hi({},d),{},{isShow:!0}))}}for(var b=s?o-1:o,C=function(I){var T=a[I],R,U=()=>(R===void 0&&(R=t(T,I)),R);if(I===0){var D=n*(T.coordinate-n*U()/2-l);a[I]=T=Hi(Hi({},T),{},{tickCoord:D<0?T.coordinate-D*n:T.coordinate})}else a[I]=T=Hi(Hi({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var L=A1(n,T.tickCoord,U,l,u);L&&(l=T.tickCoord+n*(U()/2+i),a[I]=Hi(Hi({},T),{},{isShow:!0}))}},B=0;B<b;B++)C(B);return a}function oLe(n,e,t){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:h}=n;if(!i||!i.length||!r)return[];if(Je(l)||oB.isSsr){var g;return(g=eLe(i,Je(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],b=o==="top"||o==="bottom"?"width":"height",C=d&&b==="width"?Hw(d,{fontSize:e,letterSpacing:t}):{width:0,height:0},B=(T,R)=>{var U=typeof u=="function"?u(T.value,R):T.value;return b==="width"?JNe(Hw(U,{fontSize:e,letterSpacing:t}),C,h):Hw(U,{fontSize:e,letterSpacing:t})[b]},S=i.length>=2?ha(i[1].coordinate-i[0].coordinate):1,I=ZNe(s,S,b);return l==="equidistantPreserveStart"?tLe(S,I,B,i,a):(l==="preserveStart"||l==="preserveStartEnd"?v=aLe(S,I,B,i,a,l==="preserveStartEnd"):v=sLe(S,I,B,i,a),v.filter(T=>T.isShow))}var ALe=n=>{var{ticks:e,label:t,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=n,a=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=t?t.getBoundingClientRect().width:0,l=i+s,u=a+l+o+(t?r:0);return Math.round(u)}return 0},lLe=["axisLine","width","height","className","hide","ticks","axisType"];function uLe(n,e){if(n==null)return{};var t,r,i=cLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function cLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function xp(){return xp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},xp.apply(null,arguments)}function M8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Tr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(t),!0).forEach(function(r){dLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dLe(n,e,t){return(e=fLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fLe(n){var e=hLe(n,"string");return typeof e=="symbol"?e:e+""}function hLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var yp={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ms.axis};function pLe(n){var{x:e,y:t,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=n;if(!o)return null;var u=Tr(Tr(Tr({},l),Wd(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=Tr(Tr({},u),{},{x1:e,y1:t+d*i,x2:e+r,y2:t+d*i})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=Tr(Tr({},u),{},{x1:e+h*r,y1:t,x2:e+h*r,y2:t+i})}return F.createElement("line",xp({},u,{className:Nn("recharts-cartesian-axis-line",oy(o,"className"))}))}function gLe(n,e,t,r,i,s,a,o,l){var u,d,h,g,v,b,C=o?-1:1,B=n.tickSize||a,S=Je(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":u=d=n.coordinate,g=t+ +!o*i,h=g-C*B,b=h-C*l,v=S;break;case"left":h=g=n.coordinate,d=e+ +!o*r,u=d-C*B,v=u-C*l,b=S;break;case"right":h=g=n.coordinate,d=e+ +o*r,u=d+C*B,v=u+C*l,b=S;break;default:u=d=n.coordinate,g=t+ +o*i,h=g+C*B,b=h+C*l,v=S;break}return{line:{x1:u,y1:h,x2:d,y2:g},tick:{x:v,y:b}}}function mLe(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function vLe(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function yLe(n){var{option:e,tickProps:t,value:r}=n,i,s=Nn(t.className,"recharts-cartesian-axis-tick-value");if(F.isValidElement(e))i=F.cloneElement(e,Tr(Tr({},t),{},{className:s}));else if(typeof e=="function")i=e(Tr(Tr({},t),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Nn(a,e==null?void 0:e.className)),i=F.createElement(UO,xp({},t,{className:a}),r)}return i}var wLe=F.forwardRef((n,e)=>{var{ticks:t=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:h,x:g,y:v,width:b,height:C,tickSize:B,tickMargin:S,fontSize:I,letterSpacing:T,getTicksConfig:R,events:U,axisType:D}=n,L=oLe(Tr(Tr({},R),{},{ticks:t}),I,T),H=mLe(d,h),k=vLe(d,h),G=Wd(R),K=Ak(r),z={};typeof i=="object"&&(z=i);var J=Tr(Tr({},G),{},{fill:"none"},z),Y=L.map(j=>Tr({entry:j},gLe(j,g,v,b,C,d,B,h,S))),ge=Y.map(j=>{var{entry:re,line:he}=j;return F.createElement(Bu,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},i&&F.createElement("line",xp({},J,he,{className:Nn("recharts-cartesian-axis-tick-line",oy(i,"className"))})))}),V=Y.map((j,re)=>{var{entry:he,tick:Ee}=j,q=Tr(Tr(Tr(Tr({textAnchor:H,verticalAnchor:k},G),{},{stroke:"none",fill:s},K),Ee),{},{index:re,payload:he,visibleTicksCount:L.length,tickFormatter:a,padding:l},u);return F.createElement(Bu,xp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},pk(U,he,re)),r&&F.createElement(yLe,{option:r,tickProps:q,value:"".concat(typeof a=="function"?a(he.value,re):he.value).concat(o||"")}))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},V.length>0&&F.createElement(sf,{zIndex:Ms.label},F.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},V)),ge.length>0&&F.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},ge))}),bLe=F.forwardRef((n,e)=>{var{axisLine:t,width:r,height:i,className:s,hide:a,ticks:o,axisType:l}=n,u=uLe(n,lLe),[d,h]=F.useState(""),[g,v]=F.useState(""),b=F.useRef(null);F.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var B;return ALe({ticks:b.current,label:(B=n.labelRef)===null||B===void 0?void 0:B.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var C=F.useCallback(B=>{if(B){var S=B.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=S;var I=S[0];if(I){var T=window.getComputedStyle(I),R=T.fontSize,U=T.letterSpacing;(R!==d||U!==g)&&(h(R),v(U))}}},[d,g]);return a||r!=null&&r<=0||i!=null&&i<=0?null:F.createElement(sf,{zIndex:n.zIndex},F.createElement(Bu,{className:Nn("recharts-cartesian-axis",s)},F.createElement(pLe,{x:n.x,y:n.y,width:r,height:i,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:Wd(n)}),F.createElement(wLe,{ref:C,axisType:l,events:u,fontSize:d,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:o,unit:n.unit,width:n.width,x:n.x,y:n.y}),F.createElement(kPe,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},F.createElement(WPe,{label:n.label,labelRef:n.labelRef}),n.children)))}),NO=F.forwardRef((n,e)=>{var t=co(n,yp);return F.createElement(bLe,xp({},t,{ref:e}))});NO.displayName="CartesianAxis";var CLe=["domain","range"],ELe=["domain","range"];function U8(n,e){if(n==null)return{};var t,r,i=BLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function BLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function P8(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function Qee(n,e){if(n===e)return!0;var{domain:t,range:r}=n,i=U8(n,CLe),{domain:s,range:a}=e,o=U8(e,ELe);return!P8(t,s)||!P8(r,a)?!1:RO(i,o)}var SLe=["dangerouslySetInnerHTML","ticks"],xLe=["id"];function yQ(){return yQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yQ.apply(null,arguments)}function R8(n,e){if(n==null)return{};var t,r,i=_Le(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function _Le(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function TLe(n){var e=vr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(JRe(n)):t.current!==n&&e(ZRe({prev:t.current,next:n})),t.current=n},[n,e]),F.useLayoutEffect(()=>()=>{t.current&&(e(eDe(t.current)),t.current=null)},[e]),null}var ILe=n=>{var{xAxisId:e,className:t}=n,r=Ye(xk),i=wa(),s="xAxis",a=Ye(B=>Fy(B,s,e,i)),o=Ye(B=>PZ(B,s,e,i)),l=Ye(B=>IZ(B,e)),u=Ye(B=>VFe(B,e)),d=Ye(B=>J7(B,e));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=n,v=R8(n,SLe),{id:b}=d,C=R8(d,xLe);return F.createElement(NO,yQ({},v,C,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:Nn("recharts-".concat(s," ").concat(s),t),viewBox:r,ticks:o,axisType:s}))},FLe={allowDataOverflow:jr.allowDataOverflow,allowDecimals:jr.allowDecimals,allowDuplicatedCategory:jr.allowDuplicatedCategory,angle:jr.angle,axisLine:yp.axisLine,height:jr.height,hide:!1,includeHidden:jr.includeHidden,interval:jr.interval,minTickGap:jr.minTickGap,mirror:jr.mirror,orientation:jr.orientation,padding:jr.padding,reversed:jr.reversed,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,tickLine:yp.tickLine,tickSize:yp.tickSize,type:jr.type,xAxisId:0},MLe=n=>{var e=co(n,FLe);return F.createElement(F.Fragment,null,F.createElement(TLe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),F.createElement(ILe,e))},kee=F.memo(MLe,Qee);kee.displayName="XAxis";var ULe=["dangerouslySetInnerHTML","ticks"],PLe=["id"];function wQ(){return wQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wQ.apply(null,arguments)}function D8(n,e){if(n==null)return{};var t,r,i=RLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function RLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function DLe(n){var e=vr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?e(tDe(n)):t.current!==n&&e(nDe({prev:t.current,next:n})),t.current=n},[n,e]),F.useLayoutEffect(()=>()=>{t.current&&(e(rDe(t.current)),t.current=null)},[e]),null}var NLe=n=>{var{yAxisId:e,className:t,width:r,label:i}=n,s=F.useRef(null),a=F.useRef(null),o=Ye(xk),l=wa(),u=vr(),d="yAxis",h=Ye(U=>Fy(U,d,e,l)),g=Ye(U=>FZ(U,e)),v=Ye(U=>GFe(U,e)),b=Ye(U=>PZ(U,d,e,l)),C=Ye(U=>Z7(U,e));if(F.useLayoutEffect(()=>{if(!(r!=="auto"||!g||PO(i)||F.isValidElement(i)||C==null)){var U=s.current;if(U){var D=U.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&u(iDe({id:e,width:D}))}}},[b,g,u,i,e,r,C]),g==null||v==null||C==null)return null;var{dangerouslySetInnerHTML:B,ticks:S}=n,I=D8(n,ULe),{id:T}=C,R=D8(C,PLe);return F.createElement(NO,wQ({},I,R,{ref:s,labelRef:a,scale:h,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Nn("recharts-".concat(d," ").concat(d),t),viewBox:o,ticks:b,axisType:d}))},LLe={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:Wr.allowDecimals,allowDuplicatedCategory:Wr.allowDuplicatedCategory,angle:Wr.angle,axisLine:yp.axisLine,hide:!1,includeHidden:Wr.includeHidden,interval:Wr.interval,minTickGap:Wr.minTickGap,mirror:Wr.mirror,orientation:Wr.orientation,padding:Wr.padding,reversed:Wr.reversed,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,tickLine:yp.tickLine,tickSize:yp.tickSize,type:Wr.type,width:Wr.width,yAxisId:0},QLe=n=>{var e=co(n,LLe);return F.createElement(F.Fragment,null,F.createElement(DLe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),F.createElement(NLe,e))},Oee=F.memo(QLe,Qee);Oee.displayName="YAxis";var kLe=(n,e)=>e,LO=le([kLe,en,Y7,Kr,WZ,Gu,iUe,ai],cUe),QO=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,r=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/r)}},Hee=lo("mouseClick"),Vee=iB();Vee.startListening({actionCreator:Hee,effect:(n,e)=>{var t=n.payload,r=LO(e.getState(),QO(t));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(iMe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var bQ=lo("mouseMove"),Kee=iB(),Qx=null;Kee.startListening({actionCreator:bQ,effect:(n,e)=>{var t=n.payload;Qx!==null&&cancelAnimationFrame(Qx);var r=QO(t);Qx=requestAnimationFrame(()=>{var i=e.getState(),s=bO(i,i.tooltip.settings.shared);if(s==="axis"){var a=LO(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(HZ({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(OZ())}Qx=null})}});var N8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Gee=Us({name:"rootProps",initialState:N8,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:N8.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),OLe=Gee.reducer,{updateOptions:HLe}=Gee.actions,zee=Us({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:kke}=zee.actions,VLe=zee.reducer,qee=lo("keyDown"),$ee=lo("focus"),kO=iB();kO.startListening({actionCreator:qee,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=CO(i,Uy(t),hB(t),yB(t)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=Gu(t);if(s==="Enter"){var u=n1(t,"axis","hover",String(i.index));e.dispatch(fQ({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var d=jFe(t),h=d==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=o+g*h;if(!(l==null||v>=l.length||v<0)){var b=n1(t,"axis","hover",String(v));e.dispatch(fQ({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}}});kO.startListening({actionCreator:$ee,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip;if(!i.active&&i.index==null){var s="0",a=n1(t,"axis","hover",String(s));e.dispatch(fQ({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Da=lo("externalEvent"),jee=iB(),ER=new Map;jee.startListening({actionCreator:Da,effect:(n,e)=>{var{handler:t,reactEvent:r}=n.payload;if(t!=null){r.persist();var i=r.type,s=ER.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:KMe(o),activeDataKey:ZZ(o),activeIndex:gy(o),activeLabel:JZ(o),activeTooltipIndex:gy(o),isTooltipActive:GMe(o)};t(l,r)}finally{ER.delete(i)}});ER.set(i,a)}}});var KLe=le([My],n=>n.tooltipItemPayloads),GLe=le([KLe,mB,(n,e,t)=>e,(n,e,t)=>t],(n,e,t,r)=>{var i=n.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,t);return a}}}),Wee=lo("touchMove"),Yee=iB();Yee.startListening({actionCreator:Wee,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var r=e.getState(),i=bO(r,r.tooltip.settings.shared);if(i==="axis"){var s=LO(r,QO({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(HZ({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=t.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(OSe),d=(a=l.getAttribute(HSe))!==null&&a!==void 0?a:void 0,h=GLe(e.getState(),u,d);e.dispatch(kZ({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var zLe=W9({brush:VNe,cartesianAxis:sDe,chartData:KUe,errorBars:yDe,graphicalItems:zRe,layout:bSe,legend:Nxe,options:QUe,polarAxis:cRe,polarOptions:VLe,referenceElements:WNe,rootProps:OLe,tooltip:sMe,zIndex:SUe}),qLe=function(e){return qBe({reducer:zLe,preloadedState:e,middleware:t=>{var r;return t({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Vee.middleware,Kee.middleware,kO.middleware,jee.middleware,Yee.middleware])},enhancers:t=>{var r=t;return typeof t=="function"&&(r=t()),r.concat(uJ({type:"raf"}))},devTools:oB.devToolsEnabled})};function $Le(n){var{preloadedState:e,children:t,reduxStoreName:r}=n,i=wa(),s=F.useRef(null);if(i)return t;s.current==null&&(s.current=qLe(e));var a=mk;return F.createElement(KDe,{context:a,store:s.current},t)}function jLe(n){var{layout:e,margin:t}=n,r=vr(),i=wa();return F.useEffect(()=>{i||(r(vSe(e)),r(mSe(t)))},[r,i,e,t]),null}var WLe=F.memo(jLe,RO);function YLe(n){var e=vr();return F.useEffect(()=>{e(HLe(n))},[e,n]),null}function L8(n){var{zIndex:e,isPanorama:t}=n,r=t?"recharts-zindex-panorama-":"recharts-zindex-",i=xee("".concat(r).concat(e)),s=vr();return F.useLayoutEffect(()=>(s(EUe({zIndex:e,elementId:i,isPanorama:t})),()=>{s(BUe({zIndex:e,isPanorama:t}))}),[s,e,i,t]),F.createElement("g",{tabIndex:-1,id:i})}function Q8(n){var{children:e,isPanorama:t}=n,r=Ye(fUe);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return F.createElement(F.Fragment,null,i.map(a=>F.createElement(L8,{key:a,zIndex:a,isPanorama:t})),e,s.map(a=>F.createElement(L8,{key:a,zIndex:a,isPanorama:t})))}var XLe=["children"];function JLe(n,e){if(n==null)return{};var t,r,i=ZLe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function ZLe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function l1(){return l1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},l1.apply(null,arguments)}var eQe={width:"100%",height:"100%",display:"block"},tQe=F.forwardRef((n,e)=>{var t=vxe(),r=yxe(),i=LJ();if(!Yd(t)||!Yd(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=n,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),F.createElement(f9,l1({},a,{title:o,desc:l,role:d,tabIndex:u,width:t,height:r,style:eQe,ref:e}),s)}),nQe=n=>{var{children:e}=n,t=Ye(vI);if(!t)return null;var{width:r,height:i,y:s,x:a}=t;return F.createElement(f9,{width:r,height:i,x:a,y:s},e)},k8=F.forwardRef((n,e)=>{var{children:t}=n,r=JLe(n,XLe),i=wa();return i?F.createElement(nQe,null,F.createElement(Q8,{isPanorama:!0},t)):F.createElement(tQe,l1({ref:e},r),F.createElement(Q8,{isPanorama:!1},t))});function rQe(){var n=vr(),[e,t]=F.useState(null),r=Ye(kSe);return F.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;mr(s)&&s!==r&&n(wSe(s))}},[e,n,r]),t}function O8(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function iQe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(t),!0).forEach(function(r){sQe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):O8(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sQe(n,e,t){return(e=aQe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function aQe(n){var e=oQe(n,"string");return typeof e=="symbol"?e:e+""}function oQe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _p(){return _p=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_p.apply(null,arguments)}var AQe=()=>(JUe(),null);function u1(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var lQe=F.forwardRef((n,e)=>{var t,r,i=F.useRef(null),[s,a]=F.useState({containerWidth:u1((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:u1((r=n.style)===null||r===void 0?void 0:r.height)}),o=F.useCallback((u,d)=>{a(h=>{var g=Math.round(u),v=Math.round(d);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),l=F.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var g=b=>{var{width:C,height:B}=b[0].contentRect;o(C,B)},v=new ResizeObserver(g);v.observe(u),i.current=v}},[e,o]);return F.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),F.createElement(F.Fragment,null,F.createElement(bI,{width:s.containerWidth,height:s.containerHeight}),F.createElement("div",_p({ref:l},n)))}),uQe=F.forwardRef((n,e)=>{var{width:t,height:r}=n,[i,s]=F.useState({containerWidth:u1(t),containerHeight:u1(r)}),a=F.useCallback((l,u)=>{s(d=>{var h=Math.round(l),g=Math.round(u);return d.containerWidth===h&&d.containerHeight===g?d:{containerWidth:h,containerHeight:g}})},[]),o=F.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();a(u,d)}},[e,a]);return F.createElement(F.Fragment,null,F.createElement(bI,{width:i.containerWidth,height:i.containerHeight}),F.createElement("div",_p({ref:o},n)))}),cQe=F.forwardRef((n,e)=>{var{width:t,height:r}=n;return F.createElement(F.Fragment,null,F.createElement(bI,{width:t,height:r}),F.createElement("div",_p({ref:e},n)))}),dQe=F.forwardRef((n,e)=>{var{width:t,height:r}=n;return Su(t)||Su(r)?F.createElement(uQe,_p({},n,{ref:e})):F.createElement(cQe,_p({},n,{ref:e}))});function fQe(n){return n===!0?lQe:dQe}var hQe=F.forwardRef((n,e)=>{var{children:t,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:b,onTouchStart:C,style:B,width:S,responsive:I,dispatchTouchEvents:T=!0}=n,R=F.useRef(null),U=vr(),[D,L]=F.useState(null),[H,k]=F.useState(null),G=rQe(),K=_k(),z=(K==null?void 0:K.width)>0?K.width:S,J=(K==null?void 0:K.height)>0?K.height:i,Y=F.useCallback(te=>{G(te),typeof e=="function"&&e(te),L(te),k(te),te!=null&&(R.current=te)},[G,e,L,k]),ge=F.useCallback(te=>{U(Hee(te)),U(Da({handler:s,reactEvent:te}))},[U,s]),V=F.useCallback(te=>{U(bQ(te)),U(Da({handler:u,reactEvent:te}))},[U,u]),j=F.useCallback(te=>{U(OZ()),U(Da({handler:d,reactEvent:te}))},[U,d]),re=F.useCallback(te=>{U(bQ(te)),U(Da({handler:h,reactEvent:te}))},[U,h]),he=F.useCallback(()=>{U($ee())},[U]),Ee=F.useCallback(te=>{U(qee(te.key))},[U]),q=F.useCallback(te=>{U(Da({handler:a,reactEvent:te}))},[U,a]),X=F.useCallback(te=>{U(Da({handler:o,reactEvent:te}))},[U,o]),oe=F.useCallback(te=>{U(Da({handler:l,reactEvent:te}))},[U,l]),Ce=F.useCallback(te=>{U(Da({handler:g,reactEvent:te}))},[U,g]),se=F.useCallback(te=>{U(Da({handler:C,reactEvent:te}))},[U,C]),ce=F.useCallback(te=>{T&&U(Wee(te)),U(Da({handler:b,reactEvent:te}))},[U,T,b]),ue=F.useCallback(te=>{U(Da({handler:v,reactEvent:te}))},[U,v]),Se=fQe(I);return F.createElement(aee.Provider,{value:D},F.createElement(SCe.Provider,{value:H},F.createElement(Se,{width:z??(B==null?void 0:B.width),height:J??(B==null?void 0:B.height),className:Nn("recharts-wrapper",r),style:iQe({position:"relative",cursor:"default",width:z,height:J},B),onClick:ge,onContextMenu:q,onDoubleClick:X,onFocus:he,onKeyDown:Ee,onMouseDown:oe,onMouseEnter:V,onMouseLeave:j,onMouseMove:re,onMouseUp:Ce,onTouchEnd:ue,onTouchMove:ce,onTouchStart:se,ref:Y},F.createElement(AQe,null),t)))}),pQe=["width","height","responsive","children","className","style","compact","title","desc"];function gQe(n,e){if(n==null)return{};var t,r,i=mQe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function mQe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var vQe=F.forwardRef((n,e)=>{var{width:t,height:r,responsive:i,children:s,className:a,style:o,compact:l,title:u,desc:d}=n,h=gQe(n,pQe),g=Wd(h);return l?F.createElement(F.Fragment,null,F.createElement(bI,{width:t,height:r}),F.createElement(k8,{otherAttributes:g,title:u,desc:d},s)):F.createElement(hQe,{className:a,style:o,width:t,height:r,responsive:i??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},F.createElement(k8,{otherAttributes:g,title:u,desc:d,ref:e},F.createElement(XNe,null,s)))});function CQ(){return CQ=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CQ.apply(null,arguments)}var yQe={top:5,right:5,bottom:5,left:5},wQe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:yQe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},bQe=F.forwardRef(function(e,t){var r,i=co(e.categoricalChartProps,wQe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return F.createElement($Le,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:s},F.createElement(HNe,{chartData:u.data}),F.createElement(WLe,{layout:i.layout,margin:i.margin}),F.createElement(YLe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),F.createElement(vQe,CQ({},i,{ref:t})))}),CQe=["axis","item"],EQe=F.forwardRef((n,e)=>F.createElement(bQe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:CQe,tooltipPayloadSearcher:NUe,categoricalChartProps:n,ref:e}));const BQe=()=>{const{stats:n,highlights:e}=ef(),t=Object.entries(n.chapterVisits).map(([i,s])=>({name:i==="ch1"?"Ch 1":i==="ch2"?"Ch 2":"Ch 3",visits:s})),r=i=>`${Math.floor(i/60)}m ${i%60}s`;return Q.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[Q.jsx(iY,{toggleSidebar:()=>{},toggleNotes:()=>{}}),Q.jsxs("main",{className:"pt-24 px-4 max-w-5xl mx-auto pb-20",children:[Q.jsxs("div",{className:"mb-8",children:[Q.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Learning Report"}),Q.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Analysis of your reading habits and engagement."})]}),Q.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[Q.jsx(kx,{icon:Q.jsx(lhe,{className:"text-blue-500"}),label:"Reading Time",value:r(n.totalReadingTime)}),Q.jsx(kx,{icon:Q.jsx(jfe,{className:"text-green-500"}),label:"Chapters Read",value:Object.keys(n.chapterVisits).length.toString()}),Q.jsx(kx,{icon:Q.jsx(nY,{className:"text-yellow-500"}),label:"Highlights",value:e.length.toString()}),Q.jsx(kx,{icon:Q.jsx(jK,{className:"text-purple-500"}),label:"AI Interactions",value:n.aiInteractionCount.toString()})]}),Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[Q.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white",children:"Chapter Engagement"}),Q.jsx("div",{className:"h-64 w-full",children:Q.jsx(pxe,{width:"100%",height:"100%",children:Q.jsxs(EQe,{data:t,children:[Q.jsx(kee,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),Q.jsx(Oee,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,allowDecimals:!1}),Q.jsx(aPe,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"transparent"}}),Q.jsx(Pee,{dataKey:"visits",fill:"#3b82f6",radius:[4,4,0,0],barSize:40,children:t.map((i,s)=>Q.jsx(MO,{fill:s%2===0?"#3b82f6":"#60a5fa"},`cell-${s}`))})]})})}),Q.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Number of times each chapter was opened"})]}),Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[Q.jsxs("h3",{className:"text-lg font-bold mb-4 text-slate-800 dark:text-white flex items-center gap-2",children:[Q.jsx(jK,{size:20,className:"text-purple-500"}),"AI Learning Summary"]}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[Q.jsx("h4",{className:"font-semibold text-purple-700 dark:text-purple-300 text-sm mb-2",children:"Focus Areas"}),Q.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.slice(0,3).map((i,s)=>Q.jsx("span",{className:"px-2 py-1 bg-white dark:bg-slate-800 text-xs rounded text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 truncate max-w-[150px]",children:i.text},s)),e.length===0&&Q.jsx("span",{className:"text-xs text-slate-400",children:"No specific focus areas detected yet."})]})]}),Q.jsxs("div",{children:[Q.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 text-sm mb-2",children:"Reading Velocity"}),Q.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-full h-2.5",children:Q.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:"65%"}})}),Q.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"You are reading at a consistent pace."})]})]})]})]})]})]})},kx=({icon:n,label:e,value:t})=>Q.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 flex flex-col items-center justify-center text-center",children:[Q.jsx("div",{className:"mb-2 p-2 bg-slate-50 dark:bg-slate-800 rounded-full",children:n}),Q.jsx("span",{className:"text-2xl font-bold text-slate-800 dark:text-white block",children:t}),Q.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:e})]}),SQe=()=>(Nu().pathname,Q.jsx(pCe,{})),xQe=()=>Q.jsxs(Q.Fragment,{children:[Q.jsx(SQe,{}),Q.jsxs(uie,{children:[Q.jsx(_R,{path:"/report",element:Q.jsx(BQe,{})}),Q.jsx(_R,{path:"*",element:null})]})]}),_Qe=()=>Q.jsx(Pie,{children:Q.jsx(kfe,{children:Q.jsx(xQe,{})})}),Xee=document.getElementById("root");if(!Xee)throw new Error("Could not find root element to mount to");const TQe=vre.createRoot(Xee);TQe.render(Q.jsx(Mw.StrictMode,{children:Q.jsx(_Qe,{})}));
